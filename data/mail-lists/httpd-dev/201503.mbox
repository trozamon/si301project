From dev-return-82164-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar  1 07:15:14 2015
Return-Path: <dev-return-82164-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5F36F17734
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  1 Mar 2015 07:15:14 +0000 (UTC)
Received: (qmail 16026 invoked by uid 500); 1 Mar 2015 07:15:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15953 invoked by uid 500); 1 Mar 2015 07:15:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15944 invoked by uid 99); 1 Mar 2015 07:15:13 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 01 Mar 2015 07:15:13 +0000
Received: from asf-bz1-us-mid.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id 6EF491A031F
	for <dev@httpd.apache.org>; Sun,  1 Mar 2015 07:15:13 +0000 (UTC)
Received: by asf-bz1-us-mid.apache.org (ASF Mail Server at asf-bz1-us-mid.apache.org, from userid 0)
	id CDAE661835; Sun,  1 Mar 2015 07:15:12 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2015/03/01]
Message-Id: <20150301071512.CDAE661835@asf-bz1-us-mid.apache.org>
Date: Sun,  1 Mar 2015 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 7483|Ass|Enh|2002-03-26|Add FileAction directive to assign a cgi interpret|
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|12680|New|Enh|2002-09-16|Digest authentication with integrity protection   |
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|18497|New|Min|2003-03-30|configure --help gives wrong default for sysconfdi|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21253|New|Nor|2003-07-01|Mime magic doesn't continue if type is specifed fo|
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22005|Ver|Nor|2003-07-30|Win32: "Help I'm Stuck!" menu item leads to dead e|
|22138|Inf|Cri|2003-08-05|Webdav is not preccessing special chars right.    |
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Nor|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42001|New|Cri|2007-03-30|LINUX : Could not set LDAP_OPT_X_TLS to LDAP_OPT_X|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Opn|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|httpd fails to start if log directory does not exi|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43532|Inf|Cri|2007-10-02|Error while compiling Apache 2.2.3 on HPUX        |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44736|New|Cri|2008-04-01|mod_proxy_balancer looses it's mind on reloads.   |
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|New|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45926|Inf|Nor|2008-10-01|Unable to start apache 2.2.9                      |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46054|New|Nor|2008-10-21|Running httpd returns the error "bad user name nob|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46421|New|Maj|2008-12-19|module mod_authz_dbd - doesn't work when multiple |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Nor|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46724|Inf|Cri|2009-02-17|WinXP SP3 - Apache crashes on startup in libapr-1.|
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47241|New|Min|2009-05-22|Error in rewriting with character ':'             |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47289|New|Nor|2009-05-30|Can't build with dynamic libraries on Mac OS 10.4 |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|Inf|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48309|New|Maj|2009-11-30|libapreq2-2.12: "make test" fails at request.t and|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50740|New|Enh|2011-02-09|Enable OCSP Stapling by default                   |
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|New|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51336|New|Enh|2011-06-07|need a topic for serving pre-compressed content   |
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51412|New|Nor|2011-06-21|Nasty warning in ftp_cmd_pbsz() -- dangerous, wher|
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels|
|51747|New|Nor|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51842|New|Enh|2011-09-18|Suggesting a new action for the Header directive: |
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51959|Ver|Nor|2011-10-05|Broken link to "Mastering Regular Expressions, by |
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52210|Opn|Enh|2011-11-18|Add TLS Next Protocol Negotiation (NPN) support to|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Enh|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52523|New|Nor|2012-01-25|Headers from mod_expires are wrongly set for redir|
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52756|Inf|Trv|2012-02-24|proxy_html_module LoadModule line not created in h|
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52820|New|Min|2012-03-04|SSLProtocol/SSLProxyProtocol doesn't iterate prope|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52831|New|Nor|2012-03-05|mod_rewrite redirect broken with IPv6 literal addr|
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52845|New|Nor|2012-03-07|"DirectoryIndex disabled" cannot disable index fil|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52855|Opn|Maj|2012-03-08|mod_ftp does not build against 2.4.x              |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53121|New|Nor|2012-04-22|Confusing documentation, gzip and deflate         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53153|New|Nor|2012-04-26|Rewrite documentation unclear or wrong about what |
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53349|New|Nor|2012-06-01|CONTENT_TYPE erroneously seen as empty string for |
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53530|New|Nor|2012-07-10|<Directory> docs don't explain when to use quotes |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54364|New|Nor|2012-12-31|Add ref to mod_fcgid docs                         |
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54587|Opn|Nor|2013-02-19|LDAPConnectionPoolTimeout does not work in all cas|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54611|New|Nor|2013-02-26|Location header for dav_created not URI encoded   |
|54613|New|Nor|2013-02-27|httpd assumes apr with APR_HAS_THREADS true       |
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|54998|New|Nor|2013-05-21|Apache 2.4 terminates all SSL connections using an|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55089|New|Nor|2013-06-10|Caching of LDAP credentials is not clearly documen|
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55100|New|Nor|2013-06-13|--with-perl referenced but not explained          |
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55123|New|Nor|2013-06-20|Formatting issue in ABOUT_APACHE                  |
|55147|New|Nor|2013-06-26|"Header always" w/ cache different in 2.4         |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55350|New|Maj|2013-08-03|mpm-itk and mod_fcgid do not work together        |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55420|New|Nor|2013-08-14|Integer underflow in lock timeout computation     |
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55449|New|Maj|2013-08-19|AH01185: worker slotmem_create failed --> slotmem |
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55466|New|Min|2013-08-21|HTML fixes for balancer-manager                   |
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55741|New|Min|2013-11-04|Documentation is served with incorrect character e|
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55808|New|Nor|2013-11-21|File integrity verification using MD5 and SHA1    |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|New|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55841|New|Nor|2013-12-04|Misleading news items on bugfix releases ("This ve|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55892|New|Nor|2013-12-16|ProxyRemote with HTTPS backend sends requests with|
|55897|New|Nor|2013-12-17|[PATCH]patch with SO_REUSEPORT support            |
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|Inf|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55990|Inf|Nor|2014-01-12|SetEnv vs. =! inconsistentcy not documented       |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56035|Inf|Nor|2014-01-20|Issue with LimitRequestBody                       |
|56040|Inf|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56214|New|Nor|2014-03-03|Spanish translation of Apache's error pages       |
|56226|New|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56241|New|Min|2014-03-10|SNI sends warning upon name not found, RFC 6066 di|
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56346|New|Nor|2014-04-03|self-signed cert documentation creates a certifica|
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56414|Inf|Nor|2014-04-15|SNI & HTTP hostname different because of user@    |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56687|New|Nor|2014-07-01|ProxySourceAddress failed to bind socket to local |
|56695|New|Nor|2014-07-03|Doc error on option %O for mod_logio              |
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56729|New|Reg|2014-07-16|Can't use HTTP 1.1 Keep-Alive with mod_reqtimeout |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56767|New|Nor|2014-07-24|ap_update_child_status breaks with segmentation fa|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|New|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56823|New|Nor|2014-08-07|returning 200 status when ap_get_brigade failed   |
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56855|New|Enh|2014-08-14|mod_proxy_fcgi: add PassHeader directive          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56872|New|Nor|2014-08-19|Small request bodies bypass DeflateInflateLimitReq|
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56898|New|Nor|2014-08-28|Headers in err_headers_out are not returned when a|
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56922|New|Nor|2014-09-07|FallbackResource doesn't fall back with %2F in URL|
|56925|New|Maj|2014-09-08|ProxyErrorOverride=On causes workers in error stat|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56985|New|Nor|2014-09-16|Clarify which IndexOptions require FancyIndexing  |
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57077|Opn|Nor|2014-10-11|flood svn link does not work                      |
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57100|New|Nor|2014-10-16|"SSLProtocol ALL" is ignored for virtual hosts    |
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57109|New|Nor|2014-10-17|GPG verification examples are wrong               |
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57120|New|Nor|2014-10-21|Disable SSLv3 by default (POODLE)                 |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57139|New|Nor|2014-10-24|mod_proxy uses wrong Host header when using an HTT|
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57177|New|Nor|2014-11-03|terminated by signal ILL in server/scoreboard.c li|
|57189|New|Enh|2014-11-05|Norwegian translation of Apache's error pages     |
|57207|New|Nor|2014-11-13|[mod_ssl] Add a way to retrieve email in alternati|
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|New|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57358|New|Nor|2014-12-17|Incorrect If-Match handling                       |
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57374|New|Nor|2014-12-19|Event MPM: Wrong KeepAliveTimeout when system cloc|
|57375|New|Enh|2014-12-19|Support LibreSSL as an alternative toolkit for mod|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Nor|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57524|New|Nor|2015-02-02|Opcode and other fields calculated wrong in mod_lu|
|57525|New|Maj|2015-02-02|mod_macro use-after-clear bug                     |
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57531|New|Nor|2015-02-03|2.4.12 segmentation fault when accessing host on L|
|57584|New|Nor|2015-02-13|AddHandler etc. documentation "extension" unintuit|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57600|New|Nor|2015-02-18|Presence of SSLCACertificateFile/Path causes root |
|57614|New|Nor|2015-02-20|AB csv export not contain 100%                    |
|57615|Inf|Nor|2015-02-21|HTTPS CONNECT target hostname incorrectly validate|
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
+-----+---+---+----------+--------------------------------------------------+
| Total 1494 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-82165-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar  2 07:23:11 2015
Return-Path: <dev-return-82165-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 61404102D4
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  2 Mar 2015 07:23:11 +0000 (UTC)
Received: (qmail 91873 invoked by uid 500); 2 Mar 2015 07:22:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91725 invoked by uid 500); 2 Mar 2015 07:22:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91705 invoked by uid 99); 2 Mar 2015 07:22:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Mar 2015 07:22:36 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jkaluza@redhat.com designates 209.132.183.28 as permitted sender)
Received: from [209.132.183.28] (HELO mx1.redhat.com) (209.132.183.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Mar 2015 07:22:10 +0000
Received: from int-mx10.intmail.prod.int.phx2.redhat.com (int-mx10.intmail.prod.int.phx2.redhat.com [10.5.11.23])
	by mx1.redhat.com (8.14.4/8.14.4) with ESMTP id t227M5JX004109
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL);
	Mon, 2 Mar 2015 02:22:05 -0500
Received: from dhcp-24-191.brq.redhat.com ([10.40.204.20])
	by int-mx10.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t227M4lI026890;
	Mon, 2 Mar 2015 02:22:04 -0500
Message-ID: <54F40F9B.6080909@redhat.com>
Date: Mon, 02 Mar 2015 08:22:03 +0100
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.4.0
MIME-Version: 1.0
To: dev@apr.apache.org
CC: httpd <dev@httpd.apache.org>
Subject: Re: What is the lifetime of apr_dbd_get_entry(...); result?
References: <54D2246A.2010709@redhat.com>
In-Reply-To: <54D2246A.2010709@redhat.com>
Content-Type: multipart/mixed;
 boundary="------------080908040109070403020209"
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.23
X-Virus-Checked: Checked by ClamAV on apache.org

This is a multi-part message in MIME format.
--------------080908040109070403020209
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit

On 02/04/2015 02:53 PM, Jan Kalua wrote:
> Hi,

I'm CCing httpd-dev list too, because this question has not been 
answered on APR list yet and since it causes mod_authn_dbd to stop 
working randomly with pgsql, I think it could be interesting even for 
httpd developers.

I'm also attaching example patch which fixes this issue on httpd side, 
but I think we should consider fixing it in the APR-util.

> httpd's mod_authn_dbd module currently seems to expect that lifetime of
> apr_dbd_get_entry(...) result is the same as of the pool used in
> apr_dbd_get_row(...) function.
>
> But this is not a true for at least pgsql backend. Its get_entry
> function returns "return PQgetvalue(row->res->res, row->n, n);".
> Documentation for PQgetvalue says following:
>
> "One must explicitly copy the data into other storage if it is to be
> used past the lifetime of the PGresult structure itself."
>
> res->res is also freed in dbd_pgsql_get_row(...).
>
> Is that correct behaviour and httpd's mod_authn_dbd module should strdup
> the result, or is it apr_dbd, which should return result with expected
> lifetime?
>
> Regards,
> Jan Kaluza

Regards,
Jan Kaluza


--------------080908040109070403020209
Content-Type: text/x-patch;
 name="httpd-trunk-dbd-dup.patch"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="httpd-trunk-dbd-dup.patch"

Index: modules/aaa/mod_authn_dbd.c
===================================================================
--- modules/aaa/mod_authn_dbd.c	(revision 1644346)
+++ modules/aaa/mod_authn_dbd.c	(working copy)
@@ -169,7 +169,8 @@
                 i++;
             }
 #endif
-            dbd_password = apr_dbd_get_entry(dbd->driver, row, 0);
+            dbd_password = apr_pstrdup(r->pool,
+                                       apr_dbd_get_entry(dbd->driver, row, 0));
         }
         /* we can't break out here or row won't get cleaned up */
     }
@@ -263,7 +264,8 @@
                 i++;
             }
 #endif
-            dbd_hash = apr_dbd_get_entry(dbd->driver, row, 0);
+            dbd_hash = apr_pstrdup(r->pool,
+                                   apr_dbd_get_entry(dbd->driver, row, 0));
         }
         /* we can't break out here or row won't get cleaned up */
     }

--------------080908040109070403020209--

From dev-return-82166-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar  2 10:32:18 2015
Return-Path: <dev-return-82166-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8C8FE10977
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  2 Mar 2015 10:32:18 +0000 (UTC)
Received: (qmail 50715 invoked by uid 500); 2 Mar 2015 10:25:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50653 invoked by uid 500); 2 Mar 2015 10:25:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50643 invoked by uid 99); 2 Mar 2015 10:25:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Mar 2015 10:25:02 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.174 as permitted sender)
Received: from [209.85.213.174] (HELO mail-ig0-f174.google.com) (209.85.213.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Mar 2015 10:24:35 +0000
Received: by igdh15 with SMTP id h15so15893903igd.3
        for <dev@httpd.apache.org>; Mon, 02 Mar 2015 02:24:34 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=fKylsRZt2ekViNenyunE2wW3ccoTWPB/hGhGIOc9mXM=;
        b=eOuvpnEDNkI6h/BpqCjQFKsUfy8Es9lMs3JJfornrQcNuut0+StPDnBSB5M9TJEpC1
         LynrM5gy+ZpWEMI4X4pZb2qGH9q6jBSvM4zir+GxApQQv9XXawqB8i/iH3T4MyoqWzB5
         CQ/tayiq5m+UKswJ7OlpdC4vR+gFPjhLtwMnkwRXBJdp/LVEM4L0+07ur/MyofSxPeM4
         kMtL92sFmj5P7hb5/Gz9yR3uPTaWGHRPV2G+KyjluLxXnvCzQ/GKhtNMuW1VCBeWWJag
         snDlZA7af1QD+U3vQNG/NrLh3AmLP3Qa/8e3qBhinHfvukUvAMff8g7skbWHC3f/iG6I
         wDkw==
MIME-Version: 1.0
X-Received: by 10.43.0.138 with SMTP id nm10mr19772326icb.56.1425291874025;
 Mon, 02 Mar 2015 02:24:34 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Mon, 2 Mar 2015 02:24:33 -0800 (PST)
In-Reply-To: <CAKQ1sVP+N8_9icPXgfuEFtzkfa5NCwHy-=U=x9jqVzwJ0+ch7Q@mail.gmail.com>
References: <54D2246A.2010709@redhat.com>
	<54F40F9B.6080909@redhat.com>
	<CAKQ1sVP+N8_9icPXgfuEFtzkfa5NCwHy-=U=x9jqVzwJ0+ch7Q@mail.gmail.com>
Date: Mon, 2 Mar 2015 11:24:33 +0100
Message-ID: <CAKQ1sVOOURoN=LbY+RgMFnGip=jhyMb8pXXgOKodEM1q+cCTnA@mail.gmail.com>
Subject: Re: What is the lifetime of apr_dbd_get_entry(...); result?
From: Yann Ylavic <ylavic.dev@gmail.com>
To: apr <dev@apr.apache.org>, httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

I meant to reply to all...

On Mon, Mar 2, 2015 at 11:23 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Mon, Mar 2, 2015 at 8:22 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrot=
e:
>> On 02/04/2015 02:53 PM, Jan Kalu=C5=BEa wrote:
>>
>>> httpd's mod_authn_dbd module currently seems to expect that lifetime of
>>> apr_dbd_get_entry(...) result is the same as of the pool used in
>>> apr_dbd_get_row(...) function.
>
> It seems that the result's lifetime is really the one of the row, but
> mod_authn_dbd keep reading rows (sequentially) to cleanup the results
> (before exiting the loop, probably for connection keepalive purpose).
>
>>>
>>> But this is not a true for at least pgsql backend. Its get_entry
>>> function returns "return PQgetvalue(row->res->res, row->n, n);".
>>> Documentation for PQgetvalue says following:
>>>
>>> "One must explicitly copy the data into other storage if it is to be
>>> used past the lifetime of the PGresult structure itself."
>>>
>>> res->res is also freed in dbd_pgsql_get_row(...).
>
> Only the results out-of-range are freed (wrt asked rownum), but not
> the current one(s).
>
>>>
>>> Is that correct behaviour and httpd's mod_authn_dbd module should strdu=
p
>>> the result, or is it apr_dbd, which should return result with expected
>>> lifetime?
>
> I think the fix is to be mod_authn_dbd only, APR looks correct here,
> and so is your patch.
>
> Regards,
> Yann.

From dev-return-82167-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar  2 14:30:05 2015
Return-Path: <dev-return-82167-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 524731739A
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  2 Mar 2015 14:30:05 +0000 (UTC)
Received: (qmail 86652 invoked by uid 500); 2 Mar 2015 14:30:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86589 invoked by uid 500); 2 Mar 2015 14:30:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86578 invoked by uid 99); 2 Mar 2015 14:30:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Mar 2015 14:30:04 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of minfrin@sharp.fm designates 80.168.143.5 as permitted sender)
Received: from [80.168.143.5] (HELO monica.sharp.fm) (80.168.143.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Mar 2015 14:29:59 +0000
Received: from [192.168.88.159] (unknown [192.168.88.159])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 700A080784
	for <dev@httpd.apache.org>; Mon,  2 Mar 2015 14:29:37 +0000 (GMT)
From: Graham Leggett <minfrin@sharp.fm>
Content-Type: multipart/mixed; boundary="Apple-Mail=_45D0CC1C-F3FE-48EC-AA5C-62586ED908E8"
Subject: [Patch] DirectoryMatch/LocationMatch and configuration paths
Message-Id: <05B811A5-1B6E-4417-BC3B-172673A78817@sharp.fm>
Date: Mon, 2 Mar 2015 16:29:36 +0200
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org


--Apple-Mail=_45D0CC1C-F3FE-48EC-AA5C-62586ED908E8
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=utf-8

Hi all,

A long standing problem in httpd has been the behaviour of the =
LocationMatch/DirectoryMatch with respect to the path passed to the per =
directory configuration. The problem is summed up by the following =
comment in http_config.h:

    /** If configuring for a directory, pathname of that directory.
     *  NOPE!  That's what it meant previous to the existence of =
&lt;Files&gt;,
     * &lt;Location&gt; and regex matching.  Now the only usefulness =
that can be
     * derived from this field is whether a command is being called in a
     * server context (path =3D=3D NULL) or being called in a dir =
context
     * (path !=3D NULL).  */
    char *path;

In the case of LocationMatch and DirectoryMatch, the value of path is =
simply the raw regular expression.

The problem is that some modules - mod_dav and mod_dav_svn in =
particular, *do* use this path, and right now it means that if =E2=80=9CDA=
V on=E2=80=9D or =E2=80=9CDAV svn=E2=80=9D finds itself in a =
LocationMatch container, the regex is used as the base path, and the =
request fails.

I have created a patch that adds an optional path in front of the =
regular expression in LocationMatch/DirectoryMatch/FileMatch, so you can =
do this:

    <DirectoryMatch /path/to/dav/ ^/path/to/dav/(?<CUSTOMERNAME>[^/]+)/>
       DAV on
    </Directory>

This gives mod_dav the option to receive a valid path, and so work =
inside DirectoryMatch (and mod_dav_svn has the option to receive a valid =
path, and so work inside LocationMatch, more on that in follow =
messages).

The above config does have a limitation though, in that all possible =
matches on CUSTOMERNAME all end up sharing the same dav filesystem. What =
if you want one dedicated dav filesystem per customer? Next patch =
addresses that.

Regards,
Graham
=E2=80=94

--Apple-Mail=_45D0CC1C-F3FE-48EC-AA5C-62586ED908E8
Content-Disposition: attachment;
	filename=httpd-core-regex3.patch
Content-Type: application/octet-stream;
	name="httpd-core-regex3.patch"
Content-Transfer-Encoding: 7bit

Index: server/core.c
===================================================================
--- server/core.c	(revision 1663123)
+++ server/core.c	(working copy)
@@ -2200,6 +2200,7 @@
     char *old_path = cmd->path;
     core_dir_config *conf;
     ap_conf_vector_t *new_dir_conf = ap_create_per_dir_config(cmd->pool);
+    const char *regex;
     ap_regex_t *r = NULL;
     const command_rec *thiscmd = cmd->cmd;
 
@@ -2223,15 +2224,20 @@
 
     if (!strcmp(cmd->path, "~")) {
         cmd->path = ap_getword_conf(cmd->pool, &arg);
-        if (!cmd->path)
-            return "<Directory ~ > block must specify a path";
-        r = ap_pregcomp(cmd->pool, cmd->path, AP_REG_EXTENDED|USE_ICASE);
+        if (!*cmd->path) {
+            return "<Directory ~ > block must specify a regex";
+        }
+        regex = ap_getword_conf(cmd->pool, &arg);
+        r = ap_pregcomp(cmd->pool, *regex ? regex : cmd->path,
+                AP_REG_EXTENDED | USE_ICASE);
         if (!r) {
             return "Regex could not be compiled";
         }
     }
     else if (thiscmd->cmd_data) { /* <DirectoryMatch> */
-        r = ap_pregcomp(cmd->pool, cmd->path, AP_REG_EXTENDED|USE_ICASE);
+        regex = ap_getword_conf(cmd->pool, &arg);
+        r = ap_pregcomp(cmd->pool, *regex ? regex : cmd->path,
+                AP_REG_EXTENDED | USE_ICASE);
         if (!r) {
             return "Regex could not be compiled";
         }
@@ -2284,8 +2290,8 @@
     ap_add_per_dir_conf(cmd->server, new_dir_conf);
 
     if (*arg != '\0') {
-        return apr_pstrcat(cmd->pool, "Multiple ", thiscmd->name,
-                           "> arguments not (yet) supported.", NULL);
+        return apr_pstrcat(cmd->pool, "Additional ", thiscmd->name,
+                           "> arguments not (yet) supported: ", arg, NULL);
     }
 
     cmd->path = old_path;
@@ -2301,6 +2307,7 @@
     int old_overrides = cmd->override;
     char *old_path = cmd->path;
     core_dir_config *conf;
+    const char *regex;
     ap_regex_t *r = NULL;
     const command_rec *thiscmd = cmd->cmd;
     ap_conf_vector_t *new_url_conf = ap_create_per_dir_config(cmd->pool);
@@ -2323,14 +2330,21 @@
     cmd->override = OR_ALL|ACCESS_CONF;
 
     if (thiscmd->cmd_data) { /* <LocationMatch> */
-        r = ap_pregcomp(cmd->pool, cmd->path, AP_REG_EXTENDED);
+        regex = ap_getword_conf(cmd->pool, &arg);
+        r = ap_pregcomp(cmd->pool, *regex ? regex : cmd->path,
+                AP_REG_EXTENDED);
         if (!r) {
             return "Regex could not be compiled";
         }
     }
     else if (!strcmp(cmd->path, "~")) {
         cmd->path = ap_getword_conf(cmd->pool, &arg);
-        r = ap_pregcomp(cmd->pool, cmd->path, AP_REG_EXTENDED);
+        if (!*cmd->path) {
+            return "<Location ~ > block must specify a regex";
+        }
+        regex = ap_getword_conf(cmd->pool, &arg);
+        r = ap_pregcomp(cmd->pool, *regex ? regex : cmd->path,
+                AP_REG_EXTENDED);
         if (!r) {
             return "Regex could not be compiled";
         }
@@ -2356,8 +2370,8 @@
     ap_add_per_url_conf(cmd->server, new_url_conf);
 
     if (*arg != '\0') {
-        return apr_pstrcat(cmd->pool, "Multiple ", thiscmd->name,
-                           "> arguments not (yet) supported.", NULL);
+        return apr_pstrcat(cmd->pool, "Additional ", thiscmd->name,
+                           "> arguments not (yet) supported: ", arg, NULL);
     }
 
     cmd->path = old_path;
@@ -2373,6 +2387,7 @@
     int old_overrides = cmd->override;
     char *old_path = cmd->path;
     core_dir_config *conf;
+    const char *regex;
     ap_regex_t *r = NULL;
     const command_rec *thiscmd = cmd->cmd;
     ap_conf_vector_t *new_file_conf = ap_create_per_dir_config(cmd->pool);
@@ -2400,14 +2415,18 @@
     }
 
     if (thiscmd->cmd_data) { /* <FilesMatch> */
-        r = ap_pregcomp(cmd->pool, cmd->path, AP_REG_EXTENDED|USE_ICASE);
+        regex = ap_getword_conf(cmd->pool, &arg);
+        r = ap_pregcomp(cmd->pool, *regex ? regex : cmd->path,
+                AP_REG_EXTENDED | USE_ICASE);
         if (!r) {
             return "Regex could not be compiled";
         }
     }
     else if (!strcmp(cmd->path, "~")) {
         cmd->path = ap_getword_conf(cmd->pool, &arg);
-        r = ap_pregcomp(cmd->pool, cmd->path, AP_REG_EXTENDED|USE_ICASE);
+        regex = ap_getword_conf(cmd->pool, &arg);
+        r = ap_pregcomp(cmd->pool, *regex ? regex : cmd->path,
+                AP_REG_EXTENDED | USE_ICASE);
         if (!r) {
             return "Regex could not be compiled";
         }
@@ -2443,8 +2462,8 @@
     ap_add_file_conf(cmd->pool, (core_dir_config *)mconfig, new_file_conf);
 
     if (*arg != '\0') {
-        return apr_pstrcat(cmd->pool, "Multiple ", thiscmd->name,
-                           "> arguments not (yet) supported.", NULL);
+        return apr_pstrcat(cmd->pool, "Additional ", thiscmd->name,
+                           "> arguments not (yet) supported: ", arg, NULL);
     }
 
     cmd->path = old_path;
@@ -2530,8 +2549,8 @@
         return errmsg;
 
     if (*arg != '\0') {
-        return apr_pstrcat(cmd->pool, "Multiple ", thiscmd->name,
-                           "> arguments not supported.", NULL);
+        return apr_pstrcat(cmd->pool, "Additional ", thiscmd->name,
+                           "> arguments not supported: ", arg, NULL);
     }
 
     cmd->path = old_path;

--Apple-Mail=_45D0CC1C-F3FE-48EC-AA5C-62586ED908E8--

From dev-return-82168-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar  2 14:34:08 2015
Return-Path: <dev-return-82168-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C850E173AD
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  2 Mar 2015 14:34:08 +0000 (UTC)
Received: (qmail 92396 invoked by uid 500); 2 Mar 2015 14:34:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92339 invoked by uid 500); 2 Mar 2015 14:34:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92329 invoked by uid 99); 2 Mar 2015 14:34:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Mar 2015 14:34:08 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of minfrin@sharp.fm designates 80.168.143.5 as permitted sender)
Received: from [80.168.143.5] (HELO monica.sharp.fm) (80.168.143.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 02 Mar 2015 14:33:42 +0000
Received: from [192.168.88.159] (unknown [192.168.88.159])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 9B73580784
	for <dev@httpd.apache.org>; Mon,  2 Mar 2015 14:33:10 +0000 (GMT)
From: Graham Leggett <minfrin@sharp.fm>
Content-Type: multipart/mixed; boundary="Apple-Mail=_BB6C68E3-C175-4BB5-BA04-5B0689E13DB7"
Subject: [Patch] mod_dav and templating
Message-Id: <03FFF05A-6002-4B71-90FC-6C82B6BCFB6F@sharp.fm>
Date: Mon, 2 Mar 2015 16:33:10 +0200
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org


--Apple-Mail=_BB6C68E3-C175-4BB5-BA04-5B0689E13DB7
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=utf-8

Hi all,

A more common scenario for deploying mod_dav in a mass hosting =
environment is following some kind of templating scenario, where =
elements of the URL are inserted into the directory path to make up the =
actual effective path being used for mod_dav.

The previous DirectoryMatch/LocationMatch patch gives mod_dav a fighting =
chance of working, but there is one major limitation - elements matched =
in the URL path regex cannot be inserted into the effective path, until =
now.

The attached patch allows mod_dav to treat the incoming path as an =
expression. This allows us to do flexible mapping from the URL directly =
to the filesystem, like this:

<DirectoryMatch /path/to/dav/%{env:MATCH_CUSTOMERNAME} =
^/path/to/dav/(?<CUSTOMERNAME>[^/]+)/>
  DAV on
  require ldap-group stuff=3D%{env:MATCH_CUSTOMERNAME}, more=3Dstuff
</DirectoryMatch>

Obviously with an expression being used mod_dav must check if the path =
is canonical after the expression is applied (think a customer called =
=E2=80=9C..=E2=80=9D). This patch includes such a check, and non =
canonical paths are rejected, the same way mod_dav_svn does.

The patch that follows this one is for mod_dav_svn, and will be sent to =
the dev@subversion.apache.org list. The mod_dav_svn patch to follow =
depends on this patch, and the previous core.c patch.

Regards,
Graham
=E2=80=94

--Apple-Mail=_BB6C68E3-C175-4BB5-BA04-5B0689E13DB7
Content-Disposition: attachment;
	filename=httpd-mod_dav-expression2.patch
Content-Type: application/octet-stream;
	name="httpd-mod_dav-expression2.patch"
Content-Transfer-Encoding: 7bit

Index: modules/dav/main/mod_dav.c
===================================================================
--- modules/dav/main/mod_dav.c	(revision 1663123)
+++ modules/dav/main/mod_dav.c	(working copy)
@@ -83,6 +83,7 @@
     const char *dir;
     int locktimeout;
     int allow_depthinfinity;
+    const ap_expr_info_t *dir_expr;
 
 } dav_dir_conf;
 
@@ -197,6 +198,7 @@
     newconf->dir = DAV_INHERIT_VALUE(parent, child, dir);
     newconf->allow_depthinfinity = DAV_INHERIT_VALUE(parent, child,
                                                      allow_depthinfinity);
+    newconf->dir_expr = DAV_INHERIT_VALUE(parent, child, dir_expr);
 
     return newconf;
 }
@@ -270,6 +272,18 @@
         }
     }
 
+    if (!conf->dir_expr) {
+        const char *expr_err = NULL;
+
+        conf->dir_expr = ap_expr_parse_cmd(cmd, conf->dir, AP_EXPR_FLAG_STRING_RESULT,
+                &expr_err, NULL);
+        if (expr_err) {
+            return apr_pstrcat(cmd->temp_pool,
+                    "Cannot parse Location expression '", conf->dir, "': ",
+                    expr_err, NULL);
+        }
+    }
+
     return NULL;
 }
 
@@ -686,6 +700,57 @@
     return -1;
 }
 
+static int uripath_is_canonical(const char *uripath)
+{
+    const char *dot_pos, *ptr = uripath;
+    apr_size_t i, len;
+    unsigned pattern = 0;
+
+    /* URIPATH is canonical if it has:
+     *  - no '.' segments
+     *  - no closing '/'
+     *  - no '//'
+     */
+
+    if (ptr[0] == '.'
+            && (ptr[1] == '/' || ptr[1] == '\0'
+                    || (ptr[1] == '.' && (ptr[2] == '/' || ptr[2] == '\0')))) {
+        return 0;
+    }
+
+    /* valid special cases */
+    len = strlen(ptr);
+    if (len < 2) {
+        return 1;
+    }
+
+    /* invalid endings */
+    if (ptr[len - 1] == '/' || (ptr[len - 1] == '.' && ptr[len - 2] == '/')) {
+        return 0;
+    }
+
+    /* '.' are rare. So, search for them globally. There will often be no
+     * more than one hit.  Also note that we already checked for invalid
+     * starts and endings, i.e. we only need to check for "/./"
+     */
+    for (dot_pos = memchr(ptr, '.', len); dot_pos;
+            dot_pos = strchr(dot_pos + 1, '.')) {
+        if (dot_pos > ptr && dot_pos[-1] == '/' && dot_pos[1] == '/') {
+            return 0;
+        }
+    }
+
+    /* Now validate the rest of the path. */
+    for (i = 0; i < len - 1; ++i) {
+        pattern = ((pattern & 0xff) << 8) + (unsigned char) ptr[i];
+        if (pattern == 0x101 * (unsigned char) ('/')) {
+            return 0;
+        }
+    }
+
+    return 1;
+}
+
 /* resolve a request URI to a resource descriptor.
  *
  * If label_allowed != 0, then allow the request target to be altered by
@@ -700,6 +765,7 @@
 {
     dav_dir_conf *conf;
     const char *label = NULL;
+    const char *dir;
     dav_error *err;
 
     /* if the request target can be overridden, get any target selector */
@@ -716,9 +782,34 @@
                              ap_escape_html(r->pool, r->uri)));
     }
 
+    if (conf->dir_expr) {
+        const char *err = NULL;
+
+        dir = ap_expr_str_exec(r, conf->dir_expr, &err);
+        if (err) {
+            ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO()
+                    "Location expression '%s' could not be parsed: %s", conf->dir, err);
+            return dav_new_error(r->pool, HTTP_INTERNAL_SERVER_ERROR, 0, 0,
+                                 apr_psprintf(r->pool,
+                                 "Location expression could not be parsed: %s", err));
+        }
+
+        /* safety check - is our path canonical? */
+        if (!uripath_is_canonical(dir)) {
+            ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO()
+                    "Location is not canonical ('.', '..' and '//' not allowed): %s", dir);
+            return dav_new_error(r->pool, HTTP_BAD_REQUEST, 0, 0,
+                    apr_psprintf(r->pool, "Location is not canonical for: %s",
+                            ap_escape_html(r->pool, r->uri)));
+        }
+
+    }
+    else {
+        dir = conf->dir;
+    }
+
     /* resolve the resource */
-    err = (*conf->provider->repos->get_resource)(r, conf->dir,
-                                                 label, use_checked_in,
+    err = (*conf->provider->repos->get_resource)(r, dir, label, use_checked_in,
                                                  res_p);
     if (err != NULL) {
         err = dav_push_error(r->pool, err->status, 0,

--Apple-Mail=_BB6C68E3-C175-4BB5-BA04-5B0689E13DB7--

From dev-return-82169-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  3 11:16:37 2015
Return-Path: <dev-return-82169-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D51AB10FCF
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  3 Mar 2015 11:16:37 +0000 (UTC)
Received: (qmail 59132 invoked by uid 500); 3 Mar 2015 11:16:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59061 invoked by uid 500); 3 Mar 2015 11:16:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59043 invoked by uid 99); 3 Mar 2015 11:16:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Mar 2015 11:16:31 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jkaluza@redhat.com designates 209.132.183.28 as permitted sender)
Received: from [209.132.183.28] (HELO mx1.redhat.com) (209.132.183.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Mar 2015 11:16:05 +0000
Received: from int-mx09.intmail.prod.int.phx2.redhat.com (int-mx09.intmail.prod.int.phx2.redhat.com [10.5.11.22])
	by mx1.redhat.com (8.14.4/8.14.4) with ESMTP id t23BD2tP031495
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Tue, 3 Mar 2015 06:13:02 -0500
Received: from dhcp-24-191.brq.redhat.com ([10.40.204.27])
	by int-mx09.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t23BD0SL018925
	for <dev@httpd.apache.org>; Tue, 3 Mar 2015 06:13:01 -0500
Message-ID: <54F5973C.6010800@redhat.com>
Date: Tue, 03 Mar 2015 12:13:00 +0100
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.4.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: What is the lifetime of apr_dbd_get_entry(...); result?
References: <54D2246A.2010709@redhat.com>	<54F40F9B.6080909@redhat.com>	<CAKQ1sVP+N8_9icPXgfuEFtzkfa5NCwHy-=U=x9jqVzwJ0+ch7Q@mail.gmail.com> <CAKQ1sVOOURoN=LbY+RgMFnGip=jhyMb8pXXgOKodEM1q+cCTnA@mail.gmail.com>
In-Reply-To: <CAKQ1sVOOURoN=LbY+RgMFnGip=jhyMb8pXXgOKodEM1q+cCTnA@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.22
X-Virus-Checked: Checked by ClamAV on apache.org

On 03/02/2015 11:24 AM, Yann Ylavic wrote:
> I meant to reply to all...
 >
> On Mon, Mar 2, 2015 at 11:23 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> On Mon, Mar 2, 2015 at 8:22 AM, Jan Kalua <jkaluza@redhat.com> wrote:
>>> On 02/04/2015 02:53 PM, Jan Kalua wrote:
>>>
>>>> httpd's mod_authn_dbd module currently seems to expect that lifetime of
>>>> apr_dbd_get_entry(...) result is the same as of the pool used in
>>>> apr_dbd_get_row(...) function.
>>
>> It seems that the result's lifetime is really the one of the row, but
>> mod_authn_dbd keep reading rows (sequentially) to cleanup the results
>> (before exiting the loop, probably for connection keepalive purpose).
>>
>>>>
>>>> But this is not a true for at least pgsql backend. Its get_entry
>>>> function returns "return PQgetvalue(row->res->res, row->n, n);".
>>>> Documentation for PQgetvalue says following:
>>>>
>>>> "One must explicitly copy the data into other storage if it is to be
>>>> used past the lifetime of the PGresult structure itself."
>>>>
>>>> res->res is also freed in dbd_pgsql_get_row(...).
>>
>> Only the results out-of-range are freed (wrt asked rownum), but not
>> the current one(s).
>>
>>>>
>>>> Is that correct behaviour and httpd's mod_authn_dbd module should strdup
>>>> the result, or is it apr_dbd, which should return result with expected
>>>> lifetime?
>>
>> I think the fix is to be mod_authn_dbd only, APR looks correct here,
>> and so is your patch.

Thanks for answer, I've committed it in r1663647.

>> Regards,
>> Yann.

Regards,
Jan Kaluza


From dev-return-82170-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  3 11:33:10 2015
Return-Path: <dev-return-82170-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C8C3A1728A
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  3 Mar 2015 11:33:10 +0000 (UTC)
Received: (qmail 99648 invoked by uid 500); 3 Mar 2015 11:32:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 99569 invoked by uid 500); 3 Mar 2015 11:32:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 99558 invoked by uid 99); 3 Mar 2015 11:32:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Mar 2015 11:32:59 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jkaluza@redhat.com designates 209.132.183.28 as permitted sender)
Received: from [209.132.183.28] (HELO mx1.redhat.com) (209.132.183.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Mar 2015 11:32:53 +0000
Received: from int-mx09.intmail.prod.int.phx2.redhat.com (int-mx09.intmail.prod.int.phx2.redhat.com [10.5.11.22])
	by mx1.redhat.com (8.14.4/8.14.4) with ESMTP id t23BTUkm030218
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Tue, 3 Mar 2015 06:29:31 -0500
Received: from dhcp-24-191.brq.redhat.com ([10.40.204.27])
	by int-mx09.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t23BTTEs027840
	for <dev@httpd.apache.org>; Tue, 3 Mar 2015 06:29:30 -0500
Message-ID: <54F59B19.2040409@redhat.com>
Date: Tue, 03 Mar 2015 12:29:29 +0100
From: =?windows-1252?Q?Jan_Kalu=9Ea?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.4.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: mod_proxy's aside connections proposal
References: <CAKQ1sVO5if8hoWAES2o5fM-pWcYhRiLG1FOC-=7vKSEDj-5zAA@mail.gmail.com>
In-Reply-To: <CAKQ1sVO5if8hoWAES2o5fM-pWcYhRiLG1FOC-=7vKSEDj-5zAA@mail.gmail.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.22
X-Virus-Checked: Checked by ClamAV on apache.org

On 09/30/2014 04:47 PM, Yann Ylavic wrote:
> Hello,
>
> I have proposed a patch for PR39673 but I'm not sure it would be
> accepted for mainline httpd, so here I am.

Hi,

I would like to get more opinions on the patch Yann proposed in this 
email. I fully understand that NTLM is not HTTP/1.1 compatible, because 
it's not stateless. The question here is if we want to use the approach 
Yann showed in this patch or we would say that we won't support 
protocols like that.

Regards,
Jan Kaluza

> The patch adds the possibility (for a module) to acquire a connection
> aside from the worker's reslist, so that it won't be acquired from the
> reslist nor put back to it once released (nor reused for another
> client connection, unless the module does it on its own).
>
> The connection is still "bound" to a worker, hence it will be
> established/closed according to the worker's configuration (hostname,
> port, SSL, is_address_reusable, TTL...), and the module can still (and
> should) call ap_proxy_determine_connection(),
> ap_proxy_connect_backend() and ap_proxy_release_connection() to do
> that work.
>
> The new function to acquire an aside connection is :
>
> PROXY_DECLARE(int) ap_proxy_acquire_connection_ex(const char *proxy_function,
>                                                    proxy_conn_rec **conn,
>                                                    proxy_worker *worker,
>                                                    server_rec *s, void *baton,
>                                                    ap_proxy_acquire_fn acquire,
>                                                    ap_proxy_release_fn release);
>
> When called with both baton and acquire set to NULL,
> ap_proxy_acquire_connection_ex() is the same as
> ap_proxy_acquire_connection(), and will acquire connections from the
> reslist.
>
> When acquire is not NULL, it is used as the constructor for *conn
> (given the baton), so it's up to the caller to create a new (aside)
> connection (with the new function ap_proxy_aside_connection() also
> provided) or reuse an existing one according to its criteria (and the
> baton). If release is not NULL, it will be called upon
> ap_proxy_release_connection() with the same baton.
>
> When acquire is NULL but baton isn't, a built-in acquire function is
> used to select an existing or create a new connection associated to a
> conn_rec (and still the worker). The baton is assumed to be a conn_rec
> (eg. the one of the client's connection), and this mode is hence a
> return back to the days of httpd <= 2.0.
> This is the trick to respond to PR39673 (NTLM forwarding), or any
> issue due to a session associated to a TCP connection (some
> load-balancers configured to do so expect that), which mod_proxy can't
> forward currently.
>
> The patch then uses the new ap_proxy_acquire_connection_ex() function
> (latter mode) in mod_proxy_http and mod_proxy_ajp (which both have the
> ability to reuse connections), but only when the environment var
> "proxy-aside-c" is defined. This allows for the administrator to use
> SetEnv[If] or a RewriteRule to enable the functionality, according to
> specific conditions, like (PR39673) :
>
>      RewriteCond %{HTTP:Authorization} ^NTLM
>      RewriteRule ^ - [E=proxy-aside-c]
>
> The patch is attached, and I tried to make it as generic as I could so
> that it is not PR39673 (NTLM) specific, aside connections looks like a
> nice to have for modules.
>
> This version is slightly different from the one proposed in the PR, in
> that it will always close aside connections associated with a
> non-reusable worker upon release (the PR's one failed to do that), and
> the default release callback (when none is given) for aside
> connections is now to apply the worker's configured TTL (if any).
>
> Do you think this can/should (not) be applied to httpd?
>
> Regards,
> Yann.
>


From dev-return-82171-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  3 14:23:25 2015
Return-Path: <dev-return-82171-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 949A6177F9
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  3 Mar 2015 14:23:25 +0000 (UTC)
Received: (qmail 15627 invoked by uid 500); 3 Mar 2015 14:22:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15572 invoked by uid 500); 3 Mar 2015 14:22:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15562 invoked by uid 99); 3 Mar 2015 14:22:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Mar 2015 14:22:50 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.35] (HELO resqmta-ch2-03v.sys.comcast.net) (69.252.207.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Mar 2015 14:22:22 +0000
Received: from resomta-ch2-17v.sys.comcast.net ([69.252.207.113])
	by resqmta-ch2-03v.sys.comcast.net with comcast
	id z2Kr1p00B2TL4Rh012M0at; Tue, 03 Mar 2015 14:21:00 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-17v.sys.comcast.net with comcast
	id z2Lz1p0091cCKD9012LzNY; Tue, 03 Mar 2015 14:21:00 +0000
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: mod_proxy's aside connections proposal
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <54F59B19.2040409@redhat.com>
Date: Tue, 3 Mar 2015 09:20:59 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <6CC15279-1A67-4155-AC3C-57DF7D329C4E@jaguNET.com>
References: <CAKQ1sVO5if8hoWAES2o5fM-pWcYhRiLG1FOC-=7vKSEDj-5zAA@mail.gmail.com> <54F59B19.2040409@redhat.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1425392460;
	bh=GCnNGjQEWuXTC3Kg6Nvw2PIy3rsG26/GAhesJNRvmcw=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=RFsVC1EyDAAe7M1MtsdNbtA0jtgw9LsyhkzFYFJqhd82aOOKDrftNBv2UDXNM7PmX
	 TXh89PlJZOK59PUdrwix0lUGAQfknCPcO9OU5jQ5Pqx0WY4z5yP4n7tm9AXut+iFAS
	 eZxNAk5G7cuuUQ81zMHfCB3UdkgQkd5iavJr7UBfnfgNtuBhP5IqDuROrVLwIqoCCB
	 t0JNPyaN5ZMDVGOBNy89oQR/fHqc1dZPH0jkS0rqQStKTVuT6gfXbh9/F44OshfIxF
	 NfF7SZTj06FrxrB5jMdn7ZMWpuCuCm+7IagLR20SIatvWrgYRKEEp2SukXIseOFxqJ
	 IuNHUNowMkghw==
X-Virus-Checked: Checked by ClamAV on apache.org

I guess the main question is what are the actual use-cases?

> On Mar 3, 2015, at 6:29 AM, Jan Kalu=9Ea <jkaluza@redhat.com> wrote:
>=20
> On 09/30/2014 04:47 PM, Yann Ylavic wrote:
>> Hello,
>>=20
>> I have proposed a patch for PR39673 but I'm not sure it would be
>> accepted for mainline httpd, so here I am.
>=20
> Hi,
>=20
> I would like to get more opinions on the patch Yann proposed in this =
email. I fully understand that NTLM is not HTTP/1.1 compatible, because =
it's not stateless. The question here is if we want to use the approach =
Yann showed in this patch or we would say that we won't support =
protocols like that.
>=20
> Regards,
> Jan Kaluza
>=20
>> The patch adds the possibility (for a module) to acquire a connection
>> aside from the worker's reslist, so that it won't be acquired from =
the
>> reslist nor put back to it once released (nor reused for another
>> client connection, unless the module does it on its own).
>>=20
>> The connection is still "bound" to a worker, hence it will be
>> established/closed according to the worker's configuration (hostname,
>> port, SSL, is_address_reusable, TTL...), and the module can still =
(and
>> should) call ap_proxy_determine_connection(),
>> ap_proxy_connect_backend() and ap_proxy_release_connection() to do
>> that work.
>>=20
>> The new function to acquire an aside connection is :
>>=20
>> PROXY_DECLARE(int) ap_proxy_acquire_connection_ex(const char =
*proxy_function,
>>                                                   proxy_conn_rec =
**conn,
>>                                                   proxy_worker =
*worker,
>>                                                   server_rec *s, void =
*baton,
>>                                                   ap_proxy_acquire_fn =
acquire,
>>                                                   ap_proxy_release_fn =
release);
>>=20
>> When called with both baton and acquire set to NULL,
>> ap_proxy_acquire_connection_ex() is the same as
>> ap_proxy_acquire_connection(), and will acquire connections from the
>> reslist.
>>=20
>> When acquire is not NULL, it is used as the constructor for *conn
>> (given the baton), so it's up to the caller to create a new (aside)
>> connection (with the new function ap_proxy_aside_connection() also
>> provided) or reuse an existing one according to its criteria (and the
>> baton). If release is not NULL, it will be called upon
>> ap_proxy_release_connection() with the same baton.
>>=20
>> When acquire is NULL but baton isn't, a built-in acquire function is
>> used to select an existing or create a new connection associated to a
>> conn_rec (and still the worker). The baton is assumed to be a =
conn_rec
>> (eg. the one of the client's connection), and this mode is hence a
>> return back to the days of httpd <=3D 2.0.
>> This is the trick to respond to PR39673 (NTLM forwarding), or any
>> issue due to a session associated to a TCP connection (some
>> load-balancers configured to do so expect that), which mod_proxy =
can't
>> forward currently.
>>=20
>> The patch then uses the new ap_proxy_acquire_connection_ex() function
>> (latter mode) in mod_proxy_http and mod_proxy_ajp (which both have =
the
>> ability to reuse connections), but only when the environment var
>> "proxy-aside-c" is defined. This allows for the administrator to use
>> SetEnv[If] or a RewriteRule to enable the functionality, according to
>> specific conditions, like (PR39673) :
>>=20
>>     RewriteCond %{HTTP:Authorization} ^NTLM
>>     RewriteRule ^ - [E=3Dproxy-aside-c]
>>=20
>> The patch is attached, and I tried to make it as generic as I could =
so
>> that it is not PR39673 (NTLM) specific, aside connections looks like =
a
>> nice to have for modules.
>>=20
>> This version is slightly different from the one proposed in the PR, =
in
>> that it will always close aside connections associated with a
>> non-reusable worker upon release (the PR's one failed to do that), =
and
>> the default release callback (when none is given) for aside
>> connections is now to apply the worker's configured TTL (if any).
>>=20
>> Do you think this can/should (not) be applied to httpd?
>>=20
>> Regards,
>> Yann.
>>=20
>=20


From dev-return-82172-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  3 16:37:09 2015
Return-Path: <dev-return-82172-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D283D17D0C
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  3 Mar 2015 16:37:09 +0000 (UTC)
Received: (qmail 10545 invoked by uid 500); 3 Mar 2015 16:37:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10481 invoked by uid 500); 3 Mar 2015 16:37:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10471 invoked by uid 99); 3 Mar 2015 16:37:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Mar 2015 16:37:08 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.179 as permitted sender)
Received: from [209.85.223.179] (HELO mail-ie0-f179.google.com) (209.85.223.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Mar 2015 16:37:02 +0000
Received: by iecrd18 with SMTP id rd18so59826645iec.5
        for <dev@httpd.apache.org>; Tue, 03 Mar 2015 08:36:42 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=2ihRO+7ojt7bR4bUOhDyRAjqckG0F0+94GIK7aiHj80=;
        b=Q1x4wUbbgHJUAWJBx3qFa5V99PFWc5DBKDPwFXg1sCdGZaN7BsDeAFFJiTCKH8F0Bw
         q/DyU7bBldG3+yOipcp/Grrbl7yfJbzXzqCOA+mFFZDIDe3U16EeTR9JEl9+vfRVzuSM
         KCtbr9etd9n9W+q0jFb7Z2LsemUcVwLnL5gv+JfhtiYVh+UxTEFgt6+sunlYqIAi5HKG
         VVU0j0AMHGaU7dyz8ciO1LrFyvJZMatudESlnjWxFSeQTXUguFaiXewYVUuLly4qRXPC
         MY8odx0nWLKeJf0j5tsbkoavK66acNqqDSX8TkPD8XkKcx8Mzgnsj7xBwb+D9dUXxLh1
         adCQ==
MIME-Version: 1.0
X-Received: by 10.107.132.16 with SMTP id g16mr3106674iod.62.1425400601367;
 Tue, 03 Mar 2015 08:36:41 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Tue, 3 Mar 2015 08:36:41 -0800 (PST)
Date: Tue, 3 Mar 2015 17:36:41 +0100
Message-ID: <CAKQ1sVOH7C9sSNdWvqA66sOUvR54mGothhhDinHP_JR5zAca9w@mail.gmail.com>
Subject: KeepAliveTimeout per vhost for non-async MPMs
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

the keep-alive timeout applied for sync MPMs (worker, prefork, 2.2.x)
is currently c->base_server->keep_alive_timeout, which implies this
"oddity" in the manual :

- docs/2.2/mod/core.html#keepalivetimeout: "In a name-based virtual
host context, the value of the first defined virtual host (the default
host) in a set of NameVirtualHost will be used. The other values will
be ignored."

- docs/2.4/mod/core.html#keepalivetimeout: "In a name-based virtual
host context, the value of the first defined virtual host best
matching the local IP and port will be used."

This makes it quite unusable in a named based virtual host context
(but for the first vhost).

I propose to simply :

Index: modules/http/http_core.c
===================================================================
--- modules/http/http_core.c    (revision 1663701)
+++ modules/http/http_core.c    (working copy)
@@ -179,6 +179,8 @@ static int ap_process_http_sync_connection(conn_re

     ap_update_child_status_from_conn(c->sbh, SERVER_BUSY_READ, c);
     while ((r = ap_read_request(c)) != NULL) {
+        apr_interval_time_t keep_alive_timeout =
+                                r->server->keep_alive_timeout;

         c->keepalive = AP_CONN_UNKNOWN;
         /* process the request if it was read without error */
@@ -215,7 +217,7 @@ static int ap_process_http_sync_connection(conn_re
             csd = ap_get_conn_socket(c);
         }
         apr_socket_opt_set(csd, APR_INCOMPLETE_READ, 1);
-        apr_socket_timeout_set(csd, c->base_server->keep_alive_timeout);
+        apr_socket_timeout_set(csd, keep_alive_timeout);
         /* Go straight to select() to wait for the next request */
     }
--
so that it works in any vhost.

I addressed this in mpm_event (async) with a different/event specific
patch in PR56226.
So the patch above would make things consistent with all MPMs.

Thoughts, objections?

Regards,
Yann.

From dev-return-82173-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  3 16:53:12 2015
Return-Path: <dev-return-82173-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 580EB17D98
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  3 Mar 2015 16:53:12 +0000 (UTC)
Received: (qmail 71401 invoked by uid 500); 3 Mar 2015 16:52:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 71334 invoked by uid 500); 3 Mar 2015 16:52:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 71324 invoked by uid 99); 3 Mar 2015 16:52:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Mar 2015 16:52:44 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.172 as permitted sender)
Received: from [209.85.223.172] (HELO mail-ie0-f172.google.com) (209.85.223.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Mar 2015 16:52:39 +0000
Received: by iecrd18 with SMTP id rd18so59961662iec.5
        for <dev@httpd.apache.org>; Tue, 03 Mar 2015 08:51:34 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=CfgOuE2hX9lSMp78nRogwktvjNMIBOmI6YFqg6Ed1DI=;
        b=dc/CamRelVcLFl+tEEUSQUqvEuZFw91N7mbUbfBD7ibTUWKrs/lk0i+J00EXIwqUK3
         EbFNlVCJgzdNdOcHrNukgihUCcYpCSLJ0/Whlnlyh/bX9kIPcJ7Y2ZzVa4yc+HFsoDp5
         HEeGx4a/tPOWtbRsQBFGBNCtBbml2qdUv4uxuTHJvpBIRlZ0EL1KCfOginVBcPm1A0U7
         Zwm4KaBgSjBO3uIMvNb3+q2x+vZ2ALm9OklhmX6ku0LZ7jnwaicdHHE50PXf2kdMKgp1
         NEXiSlCuNg0enIYPUGl0G623Q9O/y5BEjQDeWAQ7ybI3ZEXup48j/RizzQ/oLOw7ZEzU
         Y3tA==
MIME-Version: 1.0
X-Received: by 10.50.78.131 with SMTP id b3mr29682322igx.0.1425401494024; Tue,
 03 Mar 2015 08:51:34 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Tue, 3 Mar 2015 08:51:33 -0800 (PST)
In-Reply-To: <CAKQ1sVOH7C9sSNdWvqA66sOUvR54mGothhhDinHP_JR5zAca9w@mail.gmail.com>
References: <CAKQ1sVOH7C9sSNdWvqA66sOUvR54mGothhhDinHP_JR5zAca9w@mail.gmail.com>
Date: Tue, 3 Mar 2015 17:51:33 +0100
Message-ID: <CAKQ1sVNErsiBTX5CfWM9=zY0QuFBSXgFOLZ6xdzm+sFm9fTuhQ@mail.gmail.com>
Subject: Re: KeepAliveTimeout per vhost for non-async MPMs
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Mar 3, 2015 at 5:36 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
> I propose to simply :
>
> Index: modules/http/http_core.c
> ===================================================================
> --- modules/http/http_core.c    (revision 1663701)
> +++ modules/http/http_core.c    (working copy)
> @@ -179,6 +179,8 @@ static int ap_process_http_sync_connection(conn_re
>
>      ap_update_child_status_from_conn(c->sbh, SERVER_BUSY_READ, c);
>      while ((r = ap_read_request(c)) != NULL) {
> +        apr_interval_time_t keep_alive_timeout =
> +                                r->server->keep_alive_timeout;

Maybe would could even :
+        c->base_server = r->server;
here...

>
>          c->keepalive = AP_CONN_UNKNOWN;
>          /* process the request if it was read without error */
> @@ -215,7 +217,7 @@ static int ap_process_http_sync_connection(conn_re
>              csd = ap_get_conn_socket(c);
>          }
>          apr_socket_opt_set(csd, APR_INCOMPLETE_READ, 1);
> -        apr_socket_timeout_set(csd, c->base_server->keep_alive_timeout);
> +        apr_socket_timeout_set(csd, keep_alive_timeout);

and don't need this.

>          /* Go straight to select() to wait for the next request */
>      }
> --

Hence we could figure out the exact server from a given c everywhere
even with named based vhosts.
(this may not be expected though).

From dev-return-82174-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  3 17:00:54 2015
Return-Path: <dev-return-82174-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4994317E05
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  3 Mar 2015 17:00:54 +0000 (UTC)
Received: (qmail 3471 invoked by uid 500); 3 Mar 2015 17:00:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3406 invoked by uid 500); 3 Mar 2015 17:00:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3396 invoked by uid 99); 3 Mar 2015 17:00:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Mar 2015 17:00:53 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.180 as permitted sender)
Received: from [209.85.223.180] (HELO mail-ie0-f180.google.com) (209.85.223.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Mar 2015 17:00:27 +0000
Received: by iery20 with SMTP id y20so6557581ier.13
        for <dev@httpd.apache.org>; Tue, 03 Mar 2015 08:59:41 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=T3ud7Phw/n6kyPJ3DR0HEsUTy3zEiGE9AGF3tzgzr4g=;
        b=DOvTzJ4a+Q7sDqVAtmrRhi88qlwDRrDGK6xemkpjxQZdeZ1kXWkrqhOXrJluAAKyUp
         UYK9zA8dFYd5ZhGXb2oOzvEz5Fu2ekkNoSJQ89ImcUXwecsZ9kIAanJQD65LbRcAE8D3
         JhpDbRIjUq5WpNjsgvlr5j8AKleRO2BOWfcFw/Y4kQ4eHEE6XwmZp+WBrZTQ3uRM+DD7
         0aMXuGkQNVlZaT9XPNM7FR/W34/H8AhjB5o+DRHIHQbs9Jv10/c8vap126E/R4WBJqUC
         Omp8vxbHMqXiNPL8icFz320R5SjrVEA+q5/+2p6RWNUxWUur1GyHVhxH+YrfeNNZQF38
         g3Lg==
MIME-Version: 1.0
X-Received: by 10.50.114.4 with SMTP id jc4mr29679391igb.14.1425401981208;
 Tue, 03 Mar 2015 08:59:41 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Tue, 3 Mar 2015 08:59:41 -0800 (PST)
In-Reply-To: <CAKQ1sVNErsiBTX5CfWM9=zY0QuFBSXgFOLZ6xdzm+sFm9fTuhQ@mail.gmail.com>
References: <CAKQ1sVOH7C9sSNdWvqA66sOUvR54mGothhhDinHP_JR5zAca9w@mail.gmail.com>
	<CAKQ1sVNErsiBTX5CfWM9=zY0QuFBSXgFOLZ6xdzm+sFm9fTuhQ@mail.gmail.com>
Date: Tue, 3 Mar 2015 17:59:41 +0100
Message-ID: <CAKQ1sVO6cjoA4_sHwXycf=tsyuYsypQkgGvqByq-=5W1Ui3Y9g@mail.gmail.com>
Subject: Re: KeepAliveTimeout per vhost for non-async MPMs
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Mar 3, 2015 at 5:51 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> (this may not be expected though).

Indeed, some (many) modules seem to depend on c->base_server not
changing before and after ap_read_request().
c->base_server = r->server is probably a bad idea...

From dev-return-82175-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  3 17:46:16 2015
Return-Path: <dev-return-82175-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2F07610098
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  3 Mar 2015 17:46:16 +0000 (UTC)
Received: (qmail 61077 invoked by uid 500); 3 Mar 2015 17:46:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 61017 invoked by uid 500); 3 Mar 2015 17:46:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 61007 invoked by uid 99); 3 Mar 2015 17:46:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Mar 2015 17:46:14 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.169 as permitted sender)
Received: from [209.85.213.169] (HELO mail-ig0-f169.google.com) (209.85.213.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Mar 2015 17:45:49 +0000
Received: by igdh15 with SMTP id h15so30022502igd.3
        for <dev@httpd.apache.org>; Tue, 03 Mar 2015 09:45:47 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=gCjNlbE1W6fCWlyXqVSRyDJT1RbSlhYiRnL7W86VydU=;
        b=gXjDA3jIrhQ5bxXKIsCfBAw5qJDO0t1vo2LwoYmEqur6gy0jUAmIwfqE8BUAxBkbXW
         edcHRGJr9b40yRyeVS89rU+8rQbgKOtYLiQxECsgDzEtBk6lhHkzpUaYG9uwxs7R5Uyg
         7e/LanWMk37pJ6tkOC4sdMT7OHOwnYLTLkVJunJbyfDnnP6Gt1eQ7VW5nsIvINbcNIkh
         hWp5sZbi7fV7W5Yh7ZZyxWKsnZzScZDfKq5wv3WzFQbl45Tau2uR8I5LiDb7pwnLV2bD
         4gFKU0EeUleDboMgg4m5jQ2ZWNqgyPqft08wO1Phw8y2NenE4XovoycH03k54Wlzgs/4
         UBqw==
MIME-Version: 1.0
X-Received: by 10.107.132.16 with SMTP id g16mr3596389iod.62.1425404747345;
 Tue, 03 Mar 2015 09:45:47 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Tue, 3 Mar 2015 09:45:47 -0800 (PST)
In-Reply-To: <CAKQ1sVOH7C9sSNdWvqA66sOUvR54mGothhhDinHP_JR5zAca9w@mail.gmail.com>
References: <CAKQ1sVOH7C9sSNdWvqA66sOUvR54mGothhhDinHP_JR5zAca9w@mail.gmail.com>
Date: Tue, 3 Mar 2015 18:45:47 +0100
Message-ID: <CAKQ1sVO-dvsaiwmwYNn14ibFd_x3MSScoygXEu-njB=PJ1Hxwg@mail.gmail.com>
Subject: Re: KeepAliveTimeout per vhost for non-async MPMs
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Mar 3, 2015 at 5:36 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> This makes it quite unusable in a named based virtual host context
> (but for the first vhost).

OTOH it makes it clear that the keepalive timeout belongs to the
IP:port the request was received on, and not to the server for which
the latest request was handled on that IP:port.
If this is intended (probably since it is implemented like this), I'll
modify the patch for mpm_event in PR56226 to use the server's Timeout
for the write completion queue only, and use
c->base_server->keep_alive_timeout for the keepalive queue (instead of
the main server's KeepAliveTimeout).

From dev-return-82176-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  3 18:00:35 2015
Return-Path: <dev-return-82176-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6E8041013D
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  3 Mar 2015 18:00:35 +0000 (UTC)
Received: (qmail 17387 invoked by uid 500); 3 Mar 2015 18:00:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 17325 invoked by uid 500); 3 Mar 2015 18:00:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 17315 invoked by uid 99); 3 Mar 2015 18:00:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Mar 2015 18:00:24 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of covener@gmail.com designates 74.125.82.46 as permitted sender)
Received: from [74.125.82.46] (HELO mail-wg0-f46.google.com) (74.125.82.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Mar 2015 17:59:59 +0000
Received: by wggx13 with SMTP id x13so1481548wgg.4
        for <dev@httpd.apache.org>; Tue, 03 Mar 2015 09:59:58 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=j3qeTkdR7hz2ZRgR3llb1u10cb2qZXewUqh8YQf8c8s=;
        b=0/wKjz8/UrDNF0sYPaZ2vB5SXRQ724TXziLVEzeP0LfEIq5Bvy7txwBp+T0hoiny2D
         X/K5+naZkWWosyUlW49z9HXk8bJcQXil5mF0KVaz8Fg10rRQSOk5Su99LUOIzbIp8kT2
         ACNvI7QkGksBH0pxCouK0QnxScDRzafr7XEONd7TTmI5OW+Nah21LKkCXyJviYMt5du7
         tkm4eaXTs/xXFdS76Vs/jSnqxetIIVhkcIUX40d0yRF+kiMMZA59v/RDPyDcmiXvqGZx
         h1PEVQoj5zxLLfhsu+iFWZMJnPkR+7wnHq990ZGswropv6IRtc7orzsY5fNPhQuaKReX
         DbFQ==
MIME-Version: 1.0
X-Received: by 10.194.191.228 with SMTP id hb4mr120137wjc.116.1425405598081;
 Tue, 03 Mar 2015 09:59:58 -0800 (PST)
Received: by 10.27.16.2 with HTTP; Tue, 3 Mar 2015 09:59:58 -0800 (PST)
In-Reply-To: <CAKQ1sVO-dvsaiwmwYNn14ibFd_x3MSScoygXEu-njB=PJ1Hxwg@mail.gmail.com>
References: <CAKQ1sVOH7C9sSNdWvqA66sOUvR54mGothhhDinHP_JR5zAca9w@mail.gmail.com>
	<CAKQ1sVO-dvsaiwmwYNn14ibFd_x3MSScoygXEu-njB=PJ1Hxwg@mail.gmail.com>
Date: Tue, 3 Mar 2015 12:59:58 -0500
Message-ID: <CALK=YjN4+Qtouqv4f7PELbTdJpL2S56Zq=mAKWu+7oxwU-CS2w@mail.gmail.com>
Subject: Re: KeepAliveTimeout per vhost for non-async MPMs
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Mar 3, 2015 at 12:45 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> OTOH it makes it clear that the keepalive timeout belongs to the
> IP:port the request was received on, and not to the server for which
> the latest request was handled on that IP:port.


I think I documented the behavior, but just to get it on the books.
What you say above is definitely the rationalization, but I think if
we can remember the last servers keepalivetimeout (migration problems
aside) I think it is better to use it.

From dev-return-82177-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  3 18:31:11 2015
Return-Path: <dev-return-82177-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CB7F3102C9
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  3 Mar 2015 18:31:11 +0000 (UTC)
Received: (qmail 5677 invoked by uid 500); 3 Mar 2015 18:31:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 5610 invoked by uid 500); 3 Mar 2015 18:31:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 5600 invoked by uid 99); 3 Mar 2015 18:31:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Mar 2015 18:31:00 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.35] (HELO resqmta-ch2-03v.sys.comcast.net) (69.252.207.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Mar 2015 18:30:32 +0000
Received: from resomta-ch2-12v.sys.comcast.net ([69.252.207.108])
	by resqmta-ch2-03v.sys.comcast.net with comcast
	id z6Ux1p0062LrikM016VA36; Tue, 03 Mar 2015 18:29:10 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-12v.sys.comcast.net with comcast
	id z6V91p00f1cCKD9016VAof; Tue, 03 Mar 2015 18:29:10 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: KeepAliveTimeout per vhost for non-async MPMs
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CALK=YjN4+Qtouqv4f7PELbTdJpL2S56Zq=mAKWu+7oxwU-CS2w@mail.gmail.com>
Date: Tue, 3 Mar 2015 13:29:09 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <B16AD610-8B87-4CC3-9658-C04431F2434D@jaguNET.com>
References: <CAKQ1sVOH7C9sSNdWvqA66sOUvR54mGothhhDinHP_JR5zAca9w@mail.gmail.com> <CAKQ1sVO-dvsaiwmwYNn14ibFd_x3MSScoygXEu-njB=PJ1Hxwg@mail.gmail.com> <CALK=YjN4+Qtouqv4f7PELbTdJpL2S56Zq=mAKWu+7oxwU-CS2w@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1425407350;
	bh=fflbTdeGy9OeQsey1bmdGk8MeQPmTpp67u+Yc0t5ahU=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=kKKsjoysNV95FAz8jF8uavcCQpx2llcxou7twwkT07Tt/wVyl5m8hGjGpV6ayxOXU
	 zSLMFbimpD43s1q1SBpDUyzn57yRZlYN5NGQOAeXyz04vXyLtcVDQU5y+DO/tMhkoq
	 oEHjqrOVk4zHBCrwGqz8QBWJ10zOOJtq6YqT64DgCEhbEku/H4cUeiDup8cZ+0GJwy
	 X1KeDANw7bMuE0TSAIPViiOm+QMlJ9xR2L/WI4m8fxidPckE5H5GAVmkEPQctV1gMY
	 8eYWAK5dB2JBFGbnzzt6za9dqVDN0D/HeUkTwTNBP9/+2nXrzJNStEkg9pY7iF9aSb
	 ZIAggcLBOvTdw==
X-Virus-Checked: Checked by ClamAV on apache.org

:)
> On Mar 3, 2015, at 12:59 PM, Eric Covener <covener@gmail.com> wrote:
> 
> On Tue, Mar 3, 2015 at 12:45 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> OTOH it makes it clear that the keepalive timeout belongs to the
>> IP:port the request was received on, and not to the server for which
>> the latest request was handled on that IP:port.
> 
> 
> I think I documented the behavior, but just to get it on the books.
> What you say above is definitely the rationalization, but I think if
> we can remember the last servers keepalivetimeout (migration problems
> aside) I think it is better to use it.


From dev-return-82178-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar  3 20:57:12 2015
Return-Path: <dev-return-82178-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9C64010BFC
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  3 Mar 2015 20:57:12 +0000 (UTC)
Received: (qmail 93754 invoked by uid 500); 3 Mar 2015 20:57:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 93672 invoked by uid 500); 3 Mar 2015 20:57:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 93661 invoked by uid 99); 3 Mar 2015 20:57:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Mar 2015 20:57:02 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.169 as permitted sender)
Received: from [209.85.213.169] (HELO mail-ig0-f169.google.com) (209.85.213.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 03 Mar 2015 20:56:36 +0000
Received: by igbhn18 with SMTP id hn18so31656091igb.2
        for <dev@httpd.apache.org>; Tue, 03 Mar 2015 12:55:50 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=WX2wbX3KBqemPLq8boJVokXHf+zFNDDpqo0CzjRC4+g=;
        b=RSRlq1NiZJLe+Azns//8Otb8Y7EeBtaz7nlWviJJ+fF0CXt90y0VLb7lyVNH8uBzxe
         jUKjTa/SC47bFfRJ8xXOV9q/vPui1JGWmSfRgdDhQNzm7YLTeGNNuQvEoYYGrEMk4HBB
         aIpdjGwYBKNb4A56/zaoIUoomIJrMRDpj462tmzwHJaQaxbmn+Doy9rmwPWaNTzGAegC
         lST5dD7tC18PMEYkPGxZIE/hwcZsdPtFEh84MtnL/3TbZIl4yrOu7/4aqDZpQiDZF+ZE
         QqS5A5kN223OOJ+zaSfQoRPBc0oT2uFJVZrdaO4l1Q9k/4zjr3ZYWSl4l43aGDa4e3Zd
         sU1Q==
MIME-Version: 1.0
X-Received: by 10.50.39.112 with SMTP id o16mr4989879igk.0.1425416149872; Tue,
 03 Mar 2015 12:55:49 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Tue, 3 Mar 2015 12:55:49 -0800 (PST)
In-Reply-To: <CALK=YjN4+Qtouqv4f7PELbTdJpL2S56Zq=mAKWu+7oxwU-CS2w@mail.gmail.com>
References: <CAKQ1sVOH7C9sSNdWvqA66sOUvR54mGothhhDinHP_JR5zAca9w@mail.gmail.com>
	<CAKQ1sVO-dvsaiwmwYNn14ibFd_x3MSScoygXEu-njB=PJ1Hxwg@mail.gmail.com>
	<CALK=YjN4+Qtouqv4f7PELbTdJpL2S56Zq=mAKWu+7oxwU-CS2w@mail.gmail.com>
Date: Tue, 3 Mar 2015 21:55:49 +0100
Message-ID: <CAKQ1sVPSjECm9qQ8v9qMXwb2QNSsDx-9GyJaGz8RTkRe-rjWEA@mail.gmail.com>
Subject: Re: KeepAliveTimeout per vhost for non-async MPMs
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Mar 3, 2015 at 6:59 PM, Eric Covener <covener@gmail.com> wrote:
> On Tue, Mar 3, 2015 at 12:45 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> OTOH it makes it clear that the keepalive timeout belongs to the
>> IP:port the request was received on, and not to the server for which
>> the latest request was handled on that IP:port.
>
>
> I think I documented the behavior, but just to get it on the books.
> What you say above is definitely the rationalization, but I think if
> we can remember the last servers keepalivetimeout (migration problems
> aside) I think it is better to use it.

OK, will commit the patches.

Regarding migration, we could apply the timeout only when it is
explicitely defined in the server (the ones ignored currently, per the
doc), and use base_server for others.
The easy thing to do that is to add a new keep_alive_timeout_set flag
to the conn_rec, but I guess this is not an easy struct to change to
help migration...
The other possibility is to create a server_config for http_module
(which does not exist, yet), and store the flag there.

From dev-return-82179-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  4 00:11:38 2015
Return-Path: <dev-return-82179-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 505F517742
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  4 Mar 2015 00:11:38 +0000 (UTC)
Received: (qmail 74305 invoked by uid 500); 4 Mar 2015 00:11:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 74239 invoked by uid 500); 4 Mar 2015 00:11:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 74228 invoked by uid 99); 4 Mar 2015 00:11:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Mar 2015 00:11:37 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.181 as permitted sender)
Received: from [209.85.213.181] (HELO mail-ig0-f181.google.com) (209.85.213.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Mar 2015 00:11:31 +0000
Received: by igkb16 with SMTP id b16so32799487igk.1
        for <dev@httpd.apache.org>; Tue, 03 Mar 2015 16:10:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=s/fAXxKbHjRZF1VyEfSSIB5d8nv4ee+a2Cxa+xwoiHQ=;
        b=fQvLig/HjAFvSZPbVAz/U+OFbJ7ghyb9EJG/i1uKsBoC9rgEh0kq6KpkAIUc/gzG/6
         Vxm4luvb1a7cDy0WgwugOiyVUWfz3Z9rbkSJdYRPA7b/lRznPGm2+Op4tvDjfUHt9hfU
         tupr6VQdU3ZiVtnG/ye1KMxpeNFxhv3WXfWnCwaOxUvrn/Dfmy/uhsZ5HKnJQcjorE4f
         ZfncM9LfUvTWgLx6dM9NZbFJ/iw4MNxv8R8i94KWvVIoraIRM4xrk3qF0wax733btPqZ
         BtzU+mCqZ65OXVvbHtyQ0C5VTSnofIpYP8xzh4KYuM7SdfnK1rEWv0IOITXUKcecDST1
         nzLA==
MIME-Version: 1.0
X-Received: by 10.107.30.135 with SMTP id e129mr6420613ioe.26.1425427826398;
 Tue, 03 Mar 2015 16:10:26 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Tue, 3 Mar 2015 16:10:26 -0800 (PST)
In-Reply-To: <CAKQ1sVPSjECm9qQ8v9qMXwb2QNSsDx-9GyJaGz8RTkRe-rjWEA@mail.gmail.com>
References: <CAKQ1sVOH7C9sSNdWvqA66sOUvR54mGothhhDinHP_JR5zAca9w@mail.gmail.com>
	<CAKQ1sVO-dvsaiwmwYNn14ibFd_x3MSScoygXEu-njB=PJ1Hxwg@mail.gmail.com>
	<CALK=YjN4+Qtouqv4f7PELbTdJpL2S56Zq=mAKWu+7oxwU-CS2w@mail.gmail.com>
	<CAKQ1sVPSjECm9qQ8v9qMXwb2QNSsDx-9GyJaGz8RTkRe-rjWEA@mail.gmail.com>
Date: Wed, 4 Mar 2015 01:10:26 +0100
Message-ID: <CAKQ1sVNN_Y+Vp=GH_0i51_ukbHiUas0q8NC7d-6Cz5PprBq8gA@mail.gmail.com>
Subject: Re: KeepAliveTimeout per vhost for non-async MPMs
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/mixed; boundary=001a1140f5d23ef6f905106b4708
X-Virus-Checked: Checked by ClamAV on apache.org

--001a1140f5d23ef6f905106b4708
Content-Type: text/plain; charset=UTF-8

On Tue, Mar 3, 2015 at 9:55 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> The other possibility is to create a server_config for http_module
> (which does not exist, yet), and store the flag there.

I have tested the attached patch which works and (I think) preverves
backward compatibility.
If KeepAliveTimeout is defined in a server it is used, otherwise it's
the one from c->base_server.

The only compatibility breakage I can think of is for KeepAliveTimeout
defined in non-first server which were previously ignored and now
taken into account, but it means that the admin either didn't know
about its setting being ignored, or had better remove it...

If that's fine I'll commit this version for sync MPMs and the one from
PR56226 for mpm_event.
I'm not sure event should use the same heuristic since the current
behaviour is to use the global timeout only, but probably for
consistency I could use an optional_fn to make keep_alive_timeout_set
visible from others.

--001a1140f5d23ef6f905106b4708
Content-Type: application/x-download; 
	name="httpd-trunk-keep_alive_timeout_per_vhost-sync.patch"
Content-Disposition: attachment; 
	filename="httpd-trunk-keep_alive_timeout_per_vhost-sync.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_i6tygqrl0

SW5kZXg6IG1vZHVsZXMvaHR0cC9odHRwX2NvcmUuYwo9PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL2h0
dHAvaHR0cF9jb3JlLmMJKHJldmlzaW9uIDE2NjM3MDEpCisrKyBtb2R1bGVzL2h0dHAvaHR0cF9j
b3JlLmMJKHdvcmtpbmcgY29weSkKQEAgLTQ4LDYgKzQ4LDIwIEBAIEFQX0RFQ0xBUkVfREFUQSBj
b25zdCBjaGFyICphcF9tdWx0aXBhcnRfYm91bmRhcnk7CiAgKi8KIHN0YXRpYyBpbnQgYXN5bmNf
bXBtID0gMDsKIAorbW9kdWxlIEFQX01PRFVMRV9ERUNMQVJFX0RBVEEgaHR0cF9tb2R1bGU7CisK
K3R5cGVkZWYgc3RydWN0IHsKKyAgICBpbnQga2VlcF9hbGl2ZV90aW1lb3V0X3NldDsKK30gaHR0
cF9zcnZfY2ZnOworCitzdGF0aWMgdm9pZCAqY3JlYXRlX3Nydl9jZmcoYXByX3Bvb2xfdCAqcCwg
c2VydmVyX3JlYyAqcykKK3sKKyAgICBodHRwX3Nydl9jZmcgKnNjZmcgPSBhcHJfcGFsbG9jKHAs
IHNpemVvZiAqc2NmZyk7CisKKyAgICBzY2ZnLT5rZWVwX2FsaXZlX3RpbWVvdXRfc2V0ID0gMDsK
KyAgICByZXR1cm4gc2NmZzsKK30KKwogc3RhdGljIGNvbnN0IGNoYXIgKnNldF9rZWVwX2FsaXZl
X3RpbWVvdXQoY21kX3Bhcm1zICpjbWQsIHZvaWQgKmR1bW15LAogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhciAqYXJnKQogewpAQCAtNjEsNiArNzUs
MTkgQEAgc3RhdGljIGNvbnN0IGNoYXIgKnNldF9rZWVwX2FsaXZlX3RpbWVvdXQoY21kX3Bhcm0K
ICAgICBpZiAoYXBfdGltZW91dF9wYXJhbWV0ZXJfcGFyc2UoYXJnLCAmdGltZW91dCwgInMiKSAh
PSBBUFJfU1VDQ0VTUykKICAgICAgICAgcmV0dXJuICJLZWVwQWxpdmVUaW1lb3V0IGhhcyB3cm9u
ZyBmb3JtYXQiOwogICAgIGNtZC0+c2VydmVyLT5rZWVwX2FsaXZlX3RpbWVvdXQgPSB0aW1lb3V0
OworCisgICAgLyogV2UgZG9uJ3Qgd2FudCB0byB0YWtlIGludG8gYWNjb3VudCB3aGV0aGVyIG9y
IG5vdCBLZWVwQWxpdmVUaW1lb3V0IGlzCisgICAgICogc2V0IGZvciB0aGUgbWFpbiBzZXJ2ZXIs
IGJlY2F1c2UgaWYgbm8gaHR0cF9tb2R1bGUgZGlyZWN0aXZlIGlzIHVzZWQKKyAgICAgKiBmb3Ig
YSB2aG9zdCwgaXQgd2lsbCBpbmhlcml0IHRoZSBodHRwX3Nydl9jZmcgZnJvbSB0aGUgbWFpbiBz
ZXJ2ZXIuCisgICAgICogSG93ZXZlciBrZWVwX2FsaXZlX3RpbWVvdXRfc2V0IGhlbHBzIGRldGVy
bWluZSB3aGV0aGVyIHRoZSB2aG9zdCBzaG91bGQKKyAgICAgKiB1c2UgaXRzIG93biBjb25maWd1
cmVkIHRpbWVvdXQgb3IgdGhlIG9uZSBmcm9tIHRoZSB2aG9zdCBkZWxhcmVkIGZpcnN0CisgICAg
ICogb24gdGhlIHNhbWUgSVA6cG9ydCAoaWUuIGMtPmJhc2Vfc2VydmVyLCBhbmQgdGhlIGxlZ2Fj
eSBiZWhhdmlvdXIpLgorICAgICAqLworICAgIGlmIChjbWQtPnNlcnZlci0+aXNfdmlydHVhbCkg
eworICAgICAgICBodHRwX3Nydl9jZmcgKnNjZmcgPSBhcF9nZXRfbW9kdWxlX2NvbmZpZyhjbWQt
PnNlcnZlci0+bW9kdWxlX2NvbmZpZywKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgJmh0dHBfbW9kdWxlKTsKKyAgICAgICAgc2NmZy0+a2VlcF9hbGl2
ZV90aW1lb3V0X3NldCA9IDE7CisgICAgfQogICAgIHJldHVybiBOVUxMOwogfQogCkBAIC0xNzks
NiArMjA2LDEyIEBAIHN0YXRpYyBpbnQgYXBfcHJvY2Vzc19odHRwX3N5bmNfY29ubmVjdGlvbihj
b25uX3JlCiAKICAgICBhcF91cGRhdGVfY2hpbGRfc3RhdHVzX2Zyb21fY29ubihjLT5zYmgsIFNF
UlZFUl9CVVNZX1JFQUQsIGMpOwogICAgIHdoaWxlICgociA9IGFwX3JlYWRfcmVxdWVzdChjKSkg
IT0gTlVMTCkgeworICAgICAgICBzZXJ2ZXJfcmVjICpzID0gci0+c2VydmVyOworICAgICAgICBo
dHRwX3Nydl9jZmcgKnNjZmcgPSBhcF9nZXRfbW9kdWxlX2NvbmZpZyhzLT5tb2R1bGVfY29uZmln
LAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmaHR0
cF9tb2R1bGUpOworICAgICAgICBpZiAoIXNjZmctPmtlZXBfYWxpdmVfdGltZW91dF9zZXQpIHsK
KyAgICAgICAgICAgIHMgPSBjLT5iYXNlX3NlcnZlcjsKKyAgICAgICAgfQogCiAgICAgICAgIGMt
PmtlZXBhbGl2ZSA9IEFQX0NPTk5fVU5LTk9XTjsKICAgICAgICAgLyogcHJvY2VzcyB0aGUgcmVx
dWVzdCBpZiBpdCB3YXMgcmVhZCB3aXRob3V0IGVycm9yICovCkBAIC0yMTUsNyArMjQ4LDcgQEAg
c3RhdGljIGludCBhcF9wcm9jZXNzX2h0dHBfc3luY19jb25uZWN0aW9uKGNvbm5fcmUKICAgICAg
ICAgICAgIGNzZCA9IGFwX2dldF9jb25uX3NvY2tldChjKTsKICAgICAgICAgfQogICAgICAgICBh
cHJfc29ja2V0X29wdF9zZXQoY3NkLCBBUFJfSU5DT01QTEVURV9SRUFELCAxKTsKLSAgICAgICAg
YXByX3NvY2tldF90aW1lb3V0X3NldChjc2QsIGMtPmJhc2Vfc2VydmVyLT5rZWVwX2FsaXZlX3Rp
bWVvdXQpOworICAgICAgICBhcHJfc29ja2V0X3RpbWVvdXRfc2V0KGNzZCwgcy0+a2VlcF9hbGl2
ZV90aW1lb3V0KTsKICAgICAgICAgLyogR28gc3RyYWlnaHQgdG8gc2VsZWN0KCkgdG8gd2FpdCBm
b3IgdGhlIG5leHQgcmVxdWVzdCAqLwogICAgIH0KIApAQCAtMzAxLDcgKzMzNCw3IEBAIEFQX0RF
Q0xBUkVfTU9EVUxFKGh0dHApID0gewogICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAg
IE5VTEwsICAgICAgICAgICAgICAvKiBjcmVhdGUgcGVyLWRpcmVjdG9yeSBjb25maWcgc3RydWN0
dXJlICovCiAgICAgTlVMTCwgICAgICAgICAgICAgIC8qIG1lcmdlIHBlci1kaXJlY3RvcnkgY29u
ZmlnIHN0cnVjdHVyZXMgKi8KLSAgICBOVUxMLCAgICAgICAgICAgICAgLyogY3JlYXRlIHBlci1z
ZXJ2ZXIgY29uZmlnIHN0cnVjdHVyZSAqLworICAgIGNyZWF0ZV9zcnZfY2ZnLCAgICAvKiBjcmVh
dGUgcGVyLXNlcnZlciBjb25maWcgc3RydWN0dXJlICovCiAgICAgTlVMTCwgICAgICAgICAgICAg
IC8qIG1lcmdlIHBlci1zZXJ2ZXIgY29uZmlnIHN0cnVjdHVyZXMgKi8KICAgICBodHRwX2NtZHMs
ICAgICAgICAgLyogY29tbWFuZCBhcHJfdGFibGVfdCAqLwogICAgIHJlZ2lzdGVyX2hvb2tzICAg
ICAvKiByZWdpc3RlciBob29rcyAqLwo=
--001a1140f5d23ef6f905106b4708--

From dev-return-82180-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  4 15:23:01 2015
Return-Path: <dev-return-82180-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 45B3D17697
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  4 Mar 2015 15:23:01 +0000 (UTC)
Received: (qmail 19494 invoked by uid 500); 4 Mar 2015 15:22:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 19427 invoked by uid 500); 4 Mar 2015 15:22:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 19417 invoked by uid 99); 4 Mar 2015 15:22:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Mar 2015 15:22:38 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-ig0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Mar 2015 15:22:10 +0000
Received: by igbhn18 with SMTP id hn18so37522397igb.2
        for <dev@httpd.apache.org>; Wed, 04 Mar 2015 07:21:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=AhRFtGVdkQV63YTIea/CtvOWD5JFFgZ0ux1ad2WO9oU=;
        b=O17zfkflD4zZM2oV53l5HzQ67roah7i2TKskDKXZsvgTLyE23JTQ92RM9scCyQyNen
         Z71EDrTpxRYq1f11a29rEi6psCojL0akjeYmTg7Yaqwihs44VVQIXh/XzdxGBOFfz+Ul
         RgU4YpbbtG59XwPfMIcu13HD5L09wRG6ZpECWgmhvEG12C0iIr98FIdgIF6SXxNnY0AR
         timikLa7AHfq+DGhpJfU4yN8ncrQVO1Z+dXl3HzWtlbeGAO844x5ingvVki9/yyUSupW
         oxKKa/rl691AO49YTwbAqw9s9tRXVFTUhmG4flEXKw1xLHFrrTVwGDhG4z1HcXmn3FCw
         iVPA==
MIME-Version: 1.0
X-Received: by 10.107.30.135 with SMTP id e129mr12260595ioe.26.1425482483490;
 Wed, 04 Mar 2015 07:21:23 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Wed, 4 Mar 2015 07:21:23 -0800 (PST)
Date: Wed, 4 Mar 2015 16:21:23 +0100
Message-ID: <CAKQ1sVPQHikv6Cv+vfpMM4wSDr2oYVPwaLfJEMG9S6AZdAZHUA@mail.gmail.com>
Subject: Enforce rewriting of Host header when an absolue URI is given
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/mixed; boundary=001a1140f5d21008d00510780137
X-Virus-Checked: Checked by ClamAV on apache.org

--001a1140f5d21008d00510780137
Content-Type: text/plain; charset=UTF-8

(by default, not only with "HttpProtocol strict", which is trunk only btw).

Per RFC7230#section-5.4 :
   When a proxy receives a request with an absolute-form of
   request-target, the proxy MUST ignore the received Host header field
   (if any) and instead replace it with the host information of the
   request-target.  A proxy that forwards such a request MUST generate a
   new Host field-value based on the received request-target rather than
   forward the received Host field-value.

The first part is already honored, but not the forwarding part: the
Host header is not rewritten with the one extracted from the absolute
URI, neither at the protocol (core) level nor at proxy level.

There are PR56718 (and duplicate PR57563) about this.
Still the same question about whether providing the headers to some
CGI or module is a forward or not, I think personally it would be sane
to do this at the protocol level (beginning of the request).
I proposed a patch there and refined it a bit (attached), so that
section 5.4 is applied in vhost.c::fix_hostname().

It also implements this part of section 5.4 (second point, _underlined_) :
   A server MUST respond with a 400 (Bad Request) status code to any
   HTTP/1.1 request message that lacks a Host header field and _to any
   request message that contains more than one Host header field_ or a
   Host header field with an invalid field-value.

The first point is already handled, and the third is "HttpProtocol
strict" dependent (which is enough I think, but maybe deserve a
backport too).


Thoughts?

Regards,
Yann.

--001a1140f5d21008d00510780137
Content-Type: application/x-download; name="httpd-trunk-fix_hostname.patch"
Content-Disposition: attachment; filename="httpd-trunk-fix_hostname.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_i6uv91q30

SW5kZXg6IHNlcnZlci92aG9zdC5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIHNlcnZlci92aG9zdC5jCShyZXZp
c2lvbiAxNjYzNzAxKQorKysgc2VydmVyL3Zob3N0LmMJKHdvcmtpbmcgY29weSkKQEAgLTY4NSw2
ICs2ODUsNDAgQEAgc3RhdGljIGludCB2aG9zdF9jaGVja19jb25maWcoYXByX3Bvb2xfdCAqcCwg
YXByX3AKICAqIHJ1bi10aW1lIHZob3N0IG1hdGNoaW5nIGZ1bmN0aW9ucwogICovCiAKK3N0YXRp
YyBjaGFyICpjb25zdHJ1Y3RfaG9zdF9oZWFkZXIocmVxdWVzdF9yZWMgKnIsIGludCBpc192Nmxp
dGVyYWwpCit7CisgICAgc3RydWN0IGlvdmVjIGlvdls1XTsKKyAgICBhcHJfc2l6ZV90IG52ZWMg
PSAwOworCisgICAgLyoKKyAgICAgKiBXZSBjYW5ub3QgdXNlIGFwX2dldF9zZXJ2ZXJfbmFtZS9w
b3J0IGhlcmUsIGJlY2F1c2Ugd2UgbXVzdAorICAgICAqIGlnbm9yZSBVc2VDYW5vbmljYWxOYW1l
L1BvcnQuCisgICAgICovCisgICAgaWYgKGlzX3Y2bGl0ZXJhbCkgeworICAgICAgICBpb3ZbbnZl
Y10uaW92X2Jhc2UgPSAiWyI7CisgICAgICAgIGlvdltudmVjXS5pb3ZfbGVuID0gMTsKKyAgICAg
ICAgbnZlYysrOworICAgIH0KKyAgICBpb3ZbbnZlY10uaW92X2Jhc2UgPSAodm9pZCAqKXItPmhv
c3RuYW1lOworICAgIGlvdltudmVjXS5pb3ZfbGVuID0gc3RybGVuKHItPmhvc3RuYW1lKTsKKyAg
ICBudmVjKys7CisgICAgaWYgKGlzX3Y2bGl0ZXJhbCkgeworICAgICAgICBpb3ZbbnZlY10uaW92
X2Jhc2UgPSAiXSI7CisgICAgICAgIGlvdltudmVjXS5pb3ZfbGVuID0gMTsKKyAgICAgICAgbnZl
YysrOworICAgIH0KKyAgICBpZiAoci0+cGFyc2VkX3VyaS5wb3J0X3N0cgorICAgICAgICAgICAg
JiYgIWFwX2lzX2RlZmF1bHRfcG9ydChyLT5wYXJzZWRfdXJpLnBvcnQsIHIpKSB7CisgICAgICAg
IGlvdltudmVjXS5pb3ZfYmFzZSA9ICI6IjsKKyAgICAgICAgaW92W252ZWNdLmlvdl9sZW4gPSAx
OworICAgICAgICBudmVjKys7CisgICAgICAgIGlvdltudmVjXS5pb3ZfYmFzZSA9IHItPnBhcnNl
ZF91cmkucG9ydF9zdHI7CisgICAgICAgIGlvdltudmVjXS5pb3ZfbGVuID0gc3RybGVuKHItPnBh
cnNlZF91cmkucG9ydF9zdHIpOworICAgICAgICBudmVjKys7CisgICAgfQorICAgIHJldHVybiBh
cHJfcHN0cmNhdHYoci0+cG9vbCwgaW92LCBudmVjLCBOVUxMKTsKK30KKwogc3RhdGljIGFwcl9z
dGF0dXNfdCBmaXhfaG9zdG5hbWVfdjZfbGl0ZXJhbChyZXF1ZXN0X3JlYyAqciwgY2hhciAqaG9z
dCkKIHsKICAgICBjaGFyICpkc3Q7CkBAIC04MTEsMjMgKzg0NSw0NyBAQCBiYWQ6CiAgKiBJbnN0
ZWFkIHdlIGp1c3QgY2hlY2sgZm9yIGZpbGVzeXN0ZW0gbWV0YWNoYXJhY3RlcnM6IGRpcmVjdG9y
eQogICogc2VwYXJhdG9ycyAvIGFuZCBcIGFuZCBzZXF1ZW5jZXMgb2YgbW9yZSB0aGFuIG9uZSBk
b3QuCiAgKi8KLXN0YXRpYyBpbnQgZml4X2hvc3RuYW1lKHJlcXVlc3RfcmVjICpyLCBjb25zdCBj
aGFyICpob3N0X2hlYWRlciwKLSAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGh0dHBf
Y29uZm9ybWFuY2UpCitzdGF0aWMgaW50IGZpeF9ob3N0bmFtZShyZXF1ZXN0X3JlYyAqcikKIHsK
ICAgICBjb25zdCBjaGFyICpzcmM7Ci0gICAgY2hhciAqaG9zdCwgKnNjb3BlX2lkOworICAgIGNo
YXIgKmhvc3QgPSBOVUxMLCAqc2NvcGVfaWQ7CiAgICAgYXByX3BvcnRfdCBwb3J0OwogICAgIGFw
cl9zdGF0dXNfdCBydjsKICAgICBjb25zdCBjaGFyICpjOwotICAgIGludCBpc192NmxpdGVyYWwg
PSAwOwotICAgIGludCBzdHJpY3QgPSBodHRwX2NvbmZvcm1hbmNlICYgQVBfSFRUUF9DT05GT1JN
QU5DRV9TVFJJQ1Q7Ci0gICAgaW50IHN0cmljdF9sb2dvbmx5ID0gaHR0cF9jb25mb3JtYW5jZSAm
IEFQX0hUVFBfQ09ORk9STUFOQ0VfTE9HT05MWTsKKyAgICBpbnQgaXNfdjZsaXRlcmFsOworICAg
IGNvcmVfc2VydmVyX2NvbmZpZyAqY29uZiA9CisgICAgICAgIGFwX2dldF9jb3JlX21vZHVsZV9j
b25maWcoci0+c2VydmVyLT5tb2R1bGVfY29uZmlnKTsKKyAgICBpbnQgc3RyaWN0ID0gY29uZi0+
aHR0cF9jb25mb3JtYW5jZSAmIEFQX0hUVFBfQ09ORk9STUFOQ0VfU1RSSUNUOworICAgIGludCBz
dHJpY3RfbG9nb25seSA9IGNvbmYtPmh0dHBfY29uZm9ybWFuY2UgJiBBUF9IVFRQX0NPTkZPUk1B
TkNFX0xPR09OTFk7CiAKLSAgICBzcmMgPSBob3N0X2hlYWRlciA/IGhvc3RfaGVhZGVyIDogci0+
aG9zdG5hbWU7CisgICAgc3JjID0gYXByX3RhYmxlX2dldChyLT5oZWFkZXJzX2luLCAiSG9zdCIp
OwogCisgICAgLyogUkZDIDcyMzAgKDUuNCksIG9uZSBzaW5nbGUgSG9zdCBoZWFkZXIuCisgICAg
ICogU2luY2Ugci0+aGVhZGVycyBpcyBhcHJfdGFibGVfY29tcHJlc3MoKWVkLCBtdWx0aXBsZSBI
b3N0IGhlYWRlcnMKKyAgICAgKiBpcyBub3cgYSBzaW5nbGUgb25lIHdpdGggdmFsdWVzIHNlcGFy
YXRlZCBieSBhIGNvbW1hLgorICAgICAqLworICAgIGlmIChzcmMgJiYgYXBfc3RyY2hyX2Moc3Jj
LCAnLCcpKSB7CisgICAgICAgIGdvdG8gYmFkOworICAgIH0KKyAgICAvKiBSRkMgNzIzMCAoNS40
KSBzdGlsbCwgaWYgd2UgaGF2ZSBib3RoIGhvc3RuYW1lIGZyb20gYW4gYWJzb2x1dGVVUkkKKyAg
ICAgKiBhbmQgYSBIb3N0IGhlYWRlciwgd2UgbXVzdCBpZ25vcmUgdGhlIEhvc3QgaGVhZGVyLgor
ICAgICAqLworICAgIGlmIChyLT5ob3N0bmFtZSkgeworICAgICAgICBzcmMgPSByLT5ob3N0bmFt
ZTsKKyAgICAgICAgaWYgKGFwX3N0cmNocl9jKHNyYywgJywnKSkgeworICAgICAgICAgICAgZ290
byBiYWQ7CisgICAgICAgIH0KKyAgICB9CisKICAgICAvKiBBY2NvcmRpbmcgdG8gUkZDIDI2MTYs
IEhvc3QgaGVhZGVyIGZpZWxkIENBTiBiZSBibGFuayAqLwotICAgIGlmICghKnNyYykgewotICAg
ICAgICByZXR1cm4gaXNfdjZsaXRlcmFsOworICAgIGlmICghc3JjIHx8ICEqc3JjKSB7CisgICAg
ICAgIC8qIFhYWDogc2hvdWxkbid0IHItPmhvc3RuYW1lIGJlIGVtcHR5IHRvbz8KKyAgICAgICAg
aWYgKHNyYyAmJiAhci0+aG9zdG5hbWUpIHsKKyAgICAgICAgICAgIHItPmhvc3RuYW1lID0gc3Jj
OworICAgICAgICAgICAgcmV0dXJuIDA7CisgICAgICAgIH0KKyAgICAgICAgKi8KKyAgICAgICAg
Z290byBnb29kOwogICAgIH0KIAogICAgIC8qIGFwcl9wYXJzZV9hZGRyX3BvcnQgd2lsbCBpbnRl
cnByZXQgYSBiYXJlIGludGVnZXIgYXMgYSBwb3J0CkBAIC04NDQsMTEgKzkwMiwxNCBAQCBiYWQ6
CiAgICAgICAgICAgICBpZiAoIXN0cmljdF9sb2dvbmx5KQogICAgICAgICAgICAgICAgIGdvdG8g
YmFkX25vbG9nOwogICAgICAgICB9Ci0gICAgICAgIHItPmhvc3RuYW1lID0gc3JjOwotICAgICAg
ICByZXR1cm4gaXNfdjZsaXRlcmFsOworICAgICAgICBpZiAoIXItPmhvc3RuYW1lKSB7CisgICAg
ICAgICAgICByLT5ob3N0bmFtZSA9IHNyYzsKKyAgICAgICAgICAgIHJldHVybiAwOworICAgICAg
ICB9CisgICAgICAgIGdvdG8gZ29vZDsKICAgICB9CiAKLSAgICBpZiAoaG9zdF9oZWFkZXIpIHsK
KyAgICBpZiAoIXItPmhvc3RuYW1lKSB7CiAgICAgICAgIHJ2ID0gYXByX3BhcnNlX2FkZHJfcG9y
dCgmaG9zdCwgJnNjb3BlX2lkLCAmcG9ydCwgc3JjLCByLT5wb29sKTsKICAgICAgICAgaWYgKHJ2
ICE9IEFQUl9TVUNDRVNTIHx8IHNjb3BlX2lkKQogICAgICAgICAgICAgZ290byBiYWQ7CkBAIC04
NjEsOCArOTIyLDcgQEAgYmFkOgogICAgICAgICAgICAgci0+cGFyc2VkX3VyaS5wb3J0ID0gcG9y
dDsKICAgICAgICAgICAgIHItPnBhcnNlZF91cmkucG9ydF9zdHIgPSBhcHJfaXRvYShyLT5wb29s
LCAoaW50KXBvcnQpOwogICAgICAgICB9Ci0gICAgICAgIGlmIChob3N0X2hlYWRlclswXSA9PSAn
WycpCi0gICAgICAgICAgICBpc192NmxpdGVyYWwgPSAxOworICAgICAgICBpc192NmxpdGVyYWwg
PSAoc3JjWzBdID09ICdbJyk7CiAgICAgfQogICAgIGVsc2UgewogICAgICAgICAvKgpAQCAtODcw
LDggKzkzMCw3IEBAIGJhZDoKICAgICAgICAgICogYWxyZWFkeSBiZWVuIHJlbW92ZWQuCiAgICAg
ICAgICAqLwogICAgICAgICBob3N0ID0gYXByX3BzdHJkdXAoci0+cG9vbCwgci0+aG9zdG5hbWUp
OwotICAgICAgICBpZiAoYXBfc3RyY2hyKGhvc3QsICc6JykgIT0gTlVMTCkKLSAgICAgICAgICAg
IGlzX3Y2bGl0ZXJhbCA9IDE7CisgICAgICAgIGlzX3Y2bGl0ZXJhbCA9IChhcF9zdHJjaHJfYyho
b3N0LCAnOicpICE9IE5VTEwpOwogICAgIH0KIAogICAgIGlmIChpc192NmxpdGVyYWwpIHsKQEAg
LTg4NSw3ICs5NDQsMjUgQEAgYmFkOgogICAgIGlmIChydiAhPSBBUFJfU1VDQ0VTUykKICAgICAg
ICAgZ290byBiYWQ7CiAKLSAgICByLT5ob3N0bmFtZSA9IGhvc3Q7Citnb29kOgorICAgIC8qIEVu
Zm9yY2UgUkZDIDcyMzAgKDUuNCkgYnkgcmV3cml0aW5nIHRoZSBIb3N0IGhlYWRlciB0byB0aGUg
dmFsdWUKKyAgICAgKiBmcm9tIHRoZSByZXF1ZXN0IGxpbmUgKGlmIGFueSkuCisgICAgICovCisg
ICAgaWYgKHItPmhvc3RuYW1lKSB7CisgICAgICAgIGNoYXIgKmRzdCA9IGNvbnN0cnVjdF9ob3N0
X2hlYWRlcihyLCBpc192NmxpdGVyYWwpOworICAgICAgICBpZiAoIXNyYyB8fCBzcmMgPT0gci0+
aG9zdG5hbWUgfHwgc3RyY2FzZWNtcChzcmMsIGRzdCkgIT0gMCkgeworICAgICAgICAgICAgYXBf
bG9nX3JlcnJvcihBUExPR19NQVJLLCBBUExPR19ERUJVRywgMCwgciwgQVBMT0dOTygwMjQxNykK
KyAgICAgICAgICAgICAgICAgICAgICAgICAgIlJlcGxhY2luZyBIb3N0IGhlYWRlciAnJXMnIHdp
dGggaG9zdCBmcm9tICIKKyAgICAgICAgICAgICAgICAgICAgICAgICAgInJlcXVlc3QgdXJpOiAn
JXMnIiwgc3JjID8gc3JjIDogIjxub25lPiIsIGRzdCk7CisgICAgICAgICAgICBpZiAoc3JjKSB7
CisgICAgICAgICAgICAgICAgYXByX3RhYmxlX3NldG4oci0+bm90ZXMsICJvcmlnaW5hbC1ob3N0
Iiwgc3JjKTsKKyAgICAgICAgICAgIH0KKyAgICAgICAgICAgIGFwcl90YWJsZV9zZXRuKHItPmhl
YWRlcnNfaW4sICJIb3N0IiwgZHN0KTsKKyAgICAgICAgfQorICAgIH0KKyAgICBpZiAoaG9zdCkg
eworICAgICAgICByLT5ob3N0bmFtZSA9IGhvc3Q7CisgICAgfQogICAgIHJldHVybiBpc192Nmxp
dGVyYWw7CiAKIGJhZDoKQEAgLTExMDYsODAgKzExODMsMTIgQEAgc3RhdGljIHZvaWQgY2hlY2tf
c2VydmVycGF0aChyZXF1ZXN0X3JlYyAqcikKICAgICB9CiB9CiAKLXN0YXRpYyBBUFJfSU5MSU5F
IGNvbnN0IGNoYXIgKmNvbnN0cnVjdF9ob3N0X2hlYWRlcihyZXF1ZXN0X3JlYyAqciwKLSAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgaXNfdjZs
aXRlcmFsKQotewotICAgIHN0cnVjdCBpb3ZlYyBpb3ZbNV07Ci0gICAgYXByX3NpemVfdCBudmVj
ID0gMDsKLSAgICAvKgotICAgICAqIFdlIGNhbm5vdCB1c2UgYXBfZ2V0X3NlcnZlcl9uYW1lL3Bv
cnQgaGVyZSwgYmVjYXVzZSB3ZSBtdXN0Ci0gICAgICogaWdub3JlIFVzZUNhbm9uaWNhbE5hbWUv
UG9ydC4KLSAgICAgKi8KLSAgICBpZiAoaXNfdjZsaXRlcmFsKSB7Ci0gICAgICAgIGlvdltudmVj
XS5pb3ZfYmFzZSA9ICJbIjsKLSAgICAgICAgaW92W252ZWNdLmlvdl9sZW4gPSAxOwotICAgICAg
ICBudmVjKys7Ci0gICAgfQotICAgIGlvdltudmVjXS5pb3ZfYmFzZSA9ICh2b2lkICopci0+aG9z
dG5hbWU7Ci0gICAgaW92W252ZWNdLmlvdl9sZW4gPSBzdHJsZW4oci0+aG9zdG5hbWUpOwotICAg
IG52ZWMrKzsKLSAgICBpZiAoaXNfdjZsaXRlcmFsKSB7Ci0gICAgICAgIGlvdltudmVjXS5pb3Zf
YmFzZSA9ICJdIjsKLSAgICAgICAgaW92W252ZWNdLmlvdl9sZW4gPSAxOwotICAgICAgICBudmVj
Kys7Ci0gICAgfQotICAgIGlmIChyLT5wYXJzZWRfdXJpLnBvcnRfc3RyKSB7Ci0gICAgICAgIGlv
dltudmVjXS5pb3ZfYmFzZSA9ICI6IjsKLSAgICAgICAgaW92W252ZWNdLmlvdl9sZW4gPSAxOwot
ICAgICAgICBudmVjKys7Ci0gICAgICAgIGlvdltudmVjXS5pb3ZfYmFzZSA9IHItPnBhcnNlZF91
cmkucG9ydF9zdHI7Ci0gICAgICAgIGlvdltudmVjXS5pb3ZfbGVuID0gc3RybGVuKHItPnBhcnNl
ZF91cmkucG9ydF9zdHIpOwotICAgICAgICBudmVjKys7Ci0gICAgfQotICAgIHJldHVybiBhcHJf
cHN0cmNhdHYoci0+cG9vbCwgaW92LCBudmVjLCBOVUxMKTsKLX0KLQogQVBfREVDTEFSRSh2b2lk
KSBhcF91cGRhdGVfdmhvc3RfZnJvbV9oZWFkZXJzKHJlcXVlc3RfcmVjICpyKQogewotICAgIGNv
cmVfc2VydmVyX2NvbmZpZyAqY29uZiA9IGFwX2dldF9jb3JlX21vZHVsZV9jb25maWcoci0+c2Vy
dmVyLT5tb2R1bGVfY29uZmlnKTsKLSAgICBjb25zdCBjaGFyICpob3N0X2hlYWRlciA9IGFwcl90
YWJsZV9nZXQoci0+aGVhZGVyc19pbiwgIkhvc3QiKTsKLSAgICBpbnQgaXNfdjZsaXRlcmFsID0g
MDsKLSAgICBpbnQgaGF2ZV9ob3N0bmFtZV9mcm9tX3VybCA9IDA7Ci0KLSAgICBpZiAoci0+aG9z
dG5hbWUpIHsKLSAgICAgICAgLyoKLSAgICAgICAgICogSWYgdGhlcmUgd2FzIGEgaG9zdCBwYXJ0
IGluIHRoZSBSZXF1ZXN0LVVSSSwgaWdub3JlIHRoZSAnSG9zdCcKLSAgICAgICAgICogaGVhZGVy
LgotICAgICAgICAgKi8KLSAgICAgICAgaGF2ZV9ob3N0bmFtZV9mcm9tX3VybCA9IDE7Ci0gICAg
ICAgIGlzX3Y2bGl0ZXJhbCA9IGZpeF9ob3N0bmFtZShyLCBOVUxMLCBjb25mLT5odHRwX2NvbmZv
cm1hbmNlKTsKLSAgICB9Ci0gICAgZWxzZSBpZiAoaG9zdF9oZWFkZXIgIT0gTlVMTCkgewotICAg
ICAgICBpc192NmxpdGVyYWwgPSBmaXhfaG9zdG5hbWUociwgaG9zdF9oZWFkZXIsIGNvbmYtPmh0
dHBfY29uZm9ybWFuY2UpOwotICAgIH0KKyAgICBmaXhfaG9zdG5hbWUocik7CiAgICAgaWYgKHIt
PnN0YXR1cyAhPSBIVFRQX09LKQogICAgICAgICByZXR1cm47CiAKLSAgICBpZiAoY29uZi0+aHR0
cF9jb25mb3JtYW5jZSAmIEFQX0hUVFBfQ09ORk9STUFOQ0VfU1RSSUNUKSB7Ci0gICAgICAgIC8q
Ci0gICAgICAgICAqIElmIHdlIGhhdmUgYm90aCBob3N0bmFtZSBmcm9tIGFuIGFic29sdXRlVVJJ
IGFuZCBhIEhvc3QgaGVhZGVyLAotICAgICAgICAgKiB3ZSBtdXN0IGlnbm9yZSB0aGUgSG9zdCBo
ZWFkZXIgKFJGQyAyNjE2IDUuMikuCi0gICAgICAgICAqIFRvIGVuZm9yY2UgdGhpcywgd2UgcmVz
ZXQgdGhlIEhvc3QgaGVhZGVyIHRvIHRoZSB2YWx1ZSBmcm9tIHRoZQotICAgICAgICAgKiByZXF1
ZXN0IGxpbmUuCi0gICAgICAgICAqLwotICAgICAgICBpZiAoaGF2ZV9ob3N0bmFtZV9mcm9tX3Vy
bCAmJiBob3N0X2hlYWRlciAhPSBOVUxMKSB7Ci0gICAgICAgICAgICBjb25zdCBjaGFyICppbmZv
ID0gIldvdWxkIHJlcGxhY2UiOwotICAgICAgICAgICAgY29uc3QgY2hhciAqbmV3ID0gY29uc3Ry
dWN0X2hvc3RfaGVhZGVyKHIsIGlzX3Y2bGl0ZXJhbCk7Ci0gICAgICAgICAgICBpZiAoIShjb25m
LT5odHRwX2NvbmZvcm1hbmNlICYgQVBfSFRUUF9DT05GT1JNQU5DRV9MT0dPTkxZKSkgewotICAg
ICAgICAgICAgICAgIGFwcl90YWJsZV9zZXQoci0+aGVhZGVyc19pbiwgIkhvc3QiLCByLT5ob3N0
bmFtZSk7Ci0gICAgICAgICAgICAgICAgaW5mbyA9ICJSZXBsYWNpbmciOwotICAgICAgICAgICAg
fQotICAgICAgICAgICAgYXBfbG9nX3JlcnJvcihBUExPR19NQVJLLCBBUExPR19ERUJVRywgMCwg
ciwgQVBMT0dOTygwMjQxNykKLSAgICAgICAgICAgICAgICAgICAgICAgICAgIiVzIEhvc3QgaGVh
ZGVyICclcycgd2l0aCBob3N0IGZyb20gcmVxdWVzdCB1cmk6ICIKLSAgICAgICAgICAgICAgICAg
ICAgICAgICAgIiclcyciLCBpbmZvLCBob3N0X2hlYWRlciwgbmV3KTsKLSAgICAgICAgfQotICAg
IH0KLQogICAgIC8qIGNoZWNrIGlmIHdlIHR1Y2tlZCBhd2F5IGEgbmFtZV9jaGFpbiAqLwogICAg
IGlmIChyLT5jb25uZWN0aW9uLT52aG9zdF9sb29rdXBfZGF0YSkgewogICAgICAgICBpZiAoci0+
aG9zdG5hbWUpCg==
--001a1140f5d21008d00510780137--

From dev-return-82181-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  4 17:26:12 2015
Return-Path: <dev-return-82181-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5959D17CB1
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  4 Mar 2015 17:26:12 +0000 (UTC)
Received: (qmail 53512 invoked by uid 500); 4 Mar 2015 17:25:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53437 invoked by uid 500); 4 Mar 2015 17:25:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53427 invoked by uid 99); 4 Mar 2015 17:25:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Mar 2015 17:25:37 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.36] (HELO resqmta-ch2-04v.sys.comcast.net) (69.252.207.36)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Mar 2015 17:25:10 +0000
Received: from resomta-ch2-09v.sys.comcast.net ([69.252.207.105])
	by resqmta-ch2-04v.sys.comcast.net with comcast
	id zVPm1p0032GyhjZ01VQouJ; Wed, 04 Mar 2015 17:24:48 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-09v.sys.comcast.net with comcast
	id zVQn1p00G1cCKD901VQn3a; Wed, 04 Mar 2015 17:24:48 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: EventOpt and MotorZ
Message-Id: <3A238BBE-7923-4597-A864-D4FF0E0D9ECB@jaguNET.com>
Date: Wed, 4 Mar 2015 12:24:47 -0500
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1425489888;
	bh=sXl5XoHJd3yoM2zi5eGBMI1GZ2yFAkHu9EM9TxX9dCw=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=sDm4MABeJXMU9zcjN21jezzytCHpIh0DVFiwcYLgVYJFcflb9NxKXDFTIXewZuQYM
	 nQzPvzuHqfQFoDvy+engxG60456sopTBW9rTDh3WOUXOh1rFc4orTyf+3cByeCijGK
	 uTkU9Gcght78qct8A1fhcfKI3/mQKsAg/UQYXjI0qoBXdUCagwwCJeW4tP0shZO5Cl
	 we0aOBZLy135hVIWa+hgJHszPextGdPwtl7mRoeUZ0OtbxPg0nT2wG8QGkF5od60J2
	 tHONA2XWw3UNgbcu7djhgJdwVEHJPovuu9HPglDf8HHyJuQd/XsKNgt0yqvs3saKfS
	 /mIG7jym+6+GQ==
X-Virus-Checked: Checked by ClamAV on apache.org

In r1664077 I made 2 changes to trunk.

First of all, since all the coolness of EventOpt has
been pulled into Event, there's no need to keep EventOpt
around, so it's been trashed.

Also... I went ahead and added MotorZ which is a mashup
of Prefork and Simple, in hopes that more eyes will allow
for better dev. Currently, MotorZ runs and even passes
most of the Perl test framework checks (having some
weird kqueue() errors on the ones where it bails).
It also needs to get better SUSPEND compatibility,
ala Event.

As in keeping w/ Paul's original idea, MotorZ is
designed to leverage APR as much as possible, and
to abstract out as much "core" as possible to callbacks
and timers, leaving a really simple logic flow.
It is currently a Work In Progress.

From dev-return-82182-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  4 19:01:16 2015
Return-Path: <dev-return-82182-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9C44A1018C
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  4 Mar 2015 19:01:16 +0000 (UTC)
Received: (qmail 83870 invoked by uid 500); 4 Mar 2015 19:01:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83798 invoked by uid 500); 4 Mar 2015 19:01:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 83787 invoked by uid 99); 4 Mar 2015 19:01:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Mar 2015 19:01:13 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.33] (HELO resqmta-ch2-01v.sys.comcast.net) (69.252.207.33)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Mar 2015 19:00:45 +0000
Received: from resomta-ch2-06v.sys.comcast.net ([69.252.207.102])
	by resqmta-ch2-01v.sys.comcast.net with comcast
	id zWyz1p0042D5gil01WzPee; Wed, 04 Mar 2015 18:59:23 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-06v.sys.comcast.net with comcast
	id zWzN1p00Q1cCKD901WzPLA; Wed, 04 Mar 2015 18:59:23 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: Event and RINGs
Message-Id: <790D2F28-E370-4727-B5E8-CD852999585A@jaguNET.com>
Date: Wed, 4 Mar 2015 13:59:22 -0500
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1425495563;
	bh=pJ5dAQNahoUdnBYVp5TPw9urUrJhQPMQYD6qXqTo47k=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=hm6RnhKHxz7KAlTq1HKOx+tjGnGq6u7FbImP92+x+wlOgwGgcgg/WDHOEBGGn712z
	 cmKEEq7TwLQx34wrZ0huHJtqDGw6O4M7ZWtOWkYX9tqTqd1QxWWoofBIRPorffUuzg
	 pgX7Efl1Lb0fzy9rhC22DuV/VDrx7KAbL2PpQDp5xh5lrbuXQU54zHUeKZ+ajHJORM
	 P95uvX4V4r4QkiJ6iza/uLTDY3bAjc7W7EYWheSwnJTtDDdA3qs+qqEAG6dz8sKTnY
	 x0+aqNRlUL62IjUR5E6Qd5vMyadz1p/hhoS6sYRyL/qXTd9bd7jdxR/Iiy5G1wCfR+
	 a8sPG/Gs9ythQ==
X-Virus-Checked: Checked by ClamAV on apache.org

I am wondering if we are continuing to use RINGs in places
where we should really migrate to using skiplists. afaict, we
used RINGs initially because it was the only valid and available
data structure we could use, but it was not idea. Even
now, we aren't really using it as a FIFO queue and whenever
we access it, we appear to be trying to do so in a sorted
way (as related to time stamps)... I may end up doing
some tests to see what the performance diffs would be if
we instead just used skiplists.

Besides, I think all that RING macro junk is ugly :) :)

Thoughts? Comments?

From dev-return-82183-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  4 19:43:42 2015
Return-Path: <dev-return-82183-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 32A8F1046C
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  4 Mar 2015 19:43:42 +0000 (UTC)
Received: (qmail 12406 invoked by uid 500); 4 Mar 2015 19:43:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12210 invoked by uid 500); 4 Mar 2015 19:43:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12030 invoked by uid 99); 4 Mar 2015 19:43:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Mar 2015 19:43:34 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of minfrin@sharp.fm designates 80.168.143.5 as permitted sender)
Received: from [80.168.143.5] (HELO monica.sharp.fm) (80.168.143.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Mar 2015 19:43:30 +0000
Received: from [192.168.88.159] (unknown [192.168.88.159])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 4BABA80792
	for <dev@httpd.apache.org>; Wed,  4 Mar 2015 19:43:09 +0000 (GMT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: Event and RINGs
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <790D2F28-E370-4727-B5E8-CD852999585A@jaguNET.com>
Date: Wed, 4 Mar 2015 21:43:08 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <0B8755FA-61C4-4AF3-9105-C2431DE91331@sharp.fm>
References: <790D2F28-E370-4727-B5E8-CD852999585A@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org

On 04 Mar 2015, at 8:59 PM, Jim Jagielski <jim@jaguNET.com> wrote:

> I am wondering if we are continuing to use RINGs in places
> where we should really migrate to using skiplists. afaict, we
> used RINGs initially because it was the only valid and available
> data structure we could use, but it was not idea. Even
> now, we aren't really using it as a FIFO queue and whenever
> we access it, we appear to be trying to do so in a sorted
> way (as related to time stamps)... I may end up doing
> some tests to see what the performance diffs would be if
> we instead just used skiplists.

In my digging into how to get the request output filters to support =
asynchronous behaviour, what I needed was a list of filters that had =
setaside data, and that in turn needed to be kicked with empty brigades =
to keep writing until they were empty. I take it a skiplist would be a =
better idea for this than an APR_RING?

Another place where it has become apparent that a list is required is =
the chain of input and output filters. Right now, they=E2=80=99re just =
linked together with next pointers, and a really ugly hack to insert or =
remove the first filter into the conn_rec or request_rec. Ideally these =
should be a linked list like an APR_RING (or a skiplist?), so they can =
be cleanly referenced and modified without messing about.

Regards,
Graham
=E2=80=94


From dev-return-82184-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar  4 20:07:20 2015
Return-Path: <dev-return-82184-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 21DCF1060A
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  4 Mar 2015 20:07:20 +0000 (UTC)
Received: (qmail 86909 invoked by uid 500); 4 Mar 2015 20:07:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86840 invoked by uid 500); 4 Mar 2015 20:07:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86830 invoked by uid 99); 4 Mar 2015 20:07:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Mar 2015 20:07:16 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.35] (HELO resqmta-ch2-03v.sys.comcast.net) (69.252.207.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 04 Mar 2015 20:07:11 +0000
Received: from resomta-ch2-19v.sys.comcast.net ([69.252.207.115])
	by resqmta-ch2-03v.sys.comcast.net with comcast
	id zY4t1p0072VvR6D01Y6XsD; Wed, 04 Mar 2015 20:06:31 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-19v.sys.comcast.net with comcast
	id zY6W1p0071cCKD901Y6WkN; Wed, 04 Mar 2015 20:06:30 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: Event and RINGs
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <0B8755FA-61C4-4AF3-9105-C2431DE91331@sharp.fm>
Date: Wed, 4 Mar 2015 15:06:30 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <B0101DE0-0E57-4465-A862-EF3B504E14AB@jaguNET.com>
References: <790D2F28-E370-4727-B5E8-CD852999585A@jaguNET.com> <0B8755FA-61C4-4AF3-9105-C2431DE91331@sharp.fm>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1425499591;
	bh=O7kqMPv+3N/P64GaKxC0NpvkV6xyi+mRaXAbpTl/kXY=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=rJHfMsESFmvPTom538vb8fqewMKneKsUH/UZKzd06NGKSkUUo7jVjDc8BoFTPUz2D
	 NkLZWhVO0DPA3jfPh5xc4SdgyfhagbfRCTYmOYC8/vREsbV6nKNKJQgyh/O2xj46fX
	 xoRN+KEaCUTbK8YSScuueJyjzhwebJy5tX5tfYoRW10guqvhrhm2bt0dSVagWDNbmF
	 HUiM9/Z18A/e8f4e7jot35V2CHdt+cvwgLRW8BSIkD/Yb3kuPjQFB6Kw4gPjabfL40
	 P6Qv3iHDl/b6mbuHuHO7eGJLyaG3AM69yAFu70WDp+wl/1nExnaGj1HDKerxmWTap5
	 rWUXXXZwjQBrg==
X-Virus-Checked: Checked by ClamAV on apache.org


> On Mar 4, 2015, at 2:43 PM, Graham Leggett <minfrin@sharp.fm> wrote:
>=20
> On 04 Mar 2015, at 8:59 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
>> I am wondering if we are continuing to use RINGs in places
>> where we should really migrate to using skiplists. afaict, we
>> used RINGs initially because it was the only valid and available
>> data structure we could use, but it was not idea. Even
>> now, we aren't really using it as a FIFO queue and whenever
>> we access it, we appear to be trying to do so in a sorted
>> way (as related to time stamps)... I may end up doing
>> some tests to see what the performance diffs would be if
>> we instead just used skiplists.
>=20
> In my digging into how to get the request output filters to support =
asynchronous behaviour, what I needed was a list of filters that had =
setaside data, and that in turn needed to be kicked with empty brigades =
to keep writing until they were empty. I take it a skiplist would be a =
better idea for this than an APR_RING?
>=20
> Another place where it has become apparent that a list is required is =
the chain of input and output filters. Right now, they=E2=80=99re just =
linked together with next pointers, and a really ugly hack to insert or =
remove the first filter into the conn_rec or request_rec. Ideally these =
should be a linked list like an APR_RING (or a skiplist?), so they can =
be cleanly referenced and modified without messing about.
>=20

I was thinking mostly about the way the Event MPM uses RINGs,
but yeah, I can see places where skiplists could "take over"
other areas. Since filters have a sort order, they seem like
candidates for skiplists.


From dev-return-82185-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  5 06:59:44 2015
Return-Path: <dev-return-82185-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2EB0317F37
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  5 Mar 2015 06:59:44 +0000 (UTC)
Received: (qmail 79853 invoked by uid 500); 5 Mar 2015 06:59:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 79789 invoked by uid 500); 5 Mar 2015 06:59:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 79779 invoked by uid 99); 5 Mar 2015 06:59:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 06:59:21 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jkaluza@redhat.com designates 209.132.183.28 as permitted sender)
Received: from [209.132.183.28] (HELO mx1.redhat.com) (209.132.183.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 06:58:55 +0000
Received: from int-mx11.intmail.prod.int.phx2.redhat.com (int-mx11.intmail.prod.int.phx2.redhat.com [10.5.11.24])
	by mx1.redhat.com (8.14.4/8.14.4) with ESMTP id t256tpes005417
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Thu, 5 Mar 2015 01:55:51 -0500
Received: from dhcp-24-191.brq.redhat.com ([10.40.204.23])
	by int-mx11.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t256toFT032553
	for <dev@httpd.apache.org>; Thu, 5 Mar 2015 01:55:50 -0500
Message-ID: <54F7FDF5.4050403@redhat.com>
Date: Thu, 05 Mar 2015 07:55:49 +0100
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.4.0
MIME-Version: 1.0
To: httpd <dev@httpd.apache.org>
Subject: Run external RewriteMap program as non-root
Content-Type: multipart/mixed;
 boundary="------------040708080708060103090202"
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.24
X-Virus-Checked: Checked by ClamAV on apache.org

This is a multi-part message in MIME format.
--------------040708080708060103090202
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi,

currently, the External Rewriting Program (RewriteMap "prg:") is run as 
root. I would like to change it but I see three ways how to do it:

1. Execute it right after drop_privileges hook. This looks like best 
way, but I haven't found any hook which could be used for that (except 
drop_privileges with APR_HOOK_REALLY_LAST, which does not seem as proper 
place to me).

2. Execute it in child_init. This is done after drop_privileges, so the 
user/group is good. The "problem" here is that it would execute one 
rewrite program per child. Right now I'm not sure if it's really 
problem. It could be useful to have more instances of rewriting program 
to make its bottleneck lower.

3. Execute it where it is now (post_config), but set user/group using 
apr_procattr_t. So far I think this would duplicate the code of 
mod_unixd and would probably have to also handle the windows equivalent 
of that module (if there's any).

What way do you think is the best, or would you do it differently?

I'm attaching patch for number 2.

Regards,
Jan Kaluza

--------------040708080708060103090202
Content-Type: text/x-patch;
 name="httpd-trunk-rewritemap.patch"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="httpd-trunk-rewritemap.patch"

Index: modules/mappers/mod_rewrite.c
===================================================================
--- modules/mappers/mod_rewrite.c	(revision 1663642)
+++ modules/mappers/mod_rewrite.c	(working copy)
@@ -4449,17 +4449,6 @@
     apr_pool_cleanup_register(p, (void *)s, rewritelock_remove,
                               apr_pool_cleanup_null);
 
-    /* if we are not doing the initial config, step through the servers and
-     * open the RewriteMap prg:xxx programs,
-     */
-    if (ap_state_query(AP_SQ_MAIN_STATE) == AP_SQ_MS_CREATE_CONFIG) {
-        for (; s; s = s->next) {
-            if (run_rewritemap_programs(s, p) != APR_SUCCESS) {
-                return HTTP_INTERNAL_SERVER_ERROR;
-            }
-        }
-    }
-
     rewrite_ssl_lookup = APR_RETRIEVE_OPTIONAL_FN(ssl_var_lookup);
     rewrite_is_https = APR_RETRIEVE_OPTIONAL_FN(ssl_is_https);
 
@@ -4485,6 +4474,11 @@
         ap_log_error(APLOG_MARK, APLOG_CRIT, rv, s, APLOGNO(00667)
                      "mod_rewrite: could not init map cache in child");
     }
+
+    /* step through the servers and open the RewriteMap prg:xxx programs */
+    for (; s; s = s->next) {
+        run_rewritemap_programs(s, p);
+    }
 }
 
 

--------------040708080708060103090202--

From dev-return-82186-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  5 08:03:59 2015
Return-Path: <dev-return-82186-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 447521022F
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  5 Mar 2015 08:03:59 +0000 (UTC)
Received: (qmail 35348 invoked by uid 500); 5 Mar 2015 08:03:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35273 invoked by uid 500); 5 Mar 2015 08:03:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35264 invoked by uid 99); 5 Mar 2015 08:03:58 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 08:03:58 +0000
Received: from gauss.localdomain (v4-861347e2.pool.vitroconnect.de [134.19.71.226])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 8D8EF1A01E0
	for <dev@httpd.apache.org>; Thu,  5 Mar 2015 08:03:58 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id BC1EF7E9
	for <dev@httpd.apache.org>; Thu,  5 Mar 2015 09:03:57 +0100 (CET)
Message-ID: <54F80DED.3020305@apache.org>
Date: Thu, 05 Mar 2015 09:03:57 +0100
From: Ruediger Pluem <rpluem@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:35.0) Gecko/20100101 Firefox/35.0 SeaMonkey/2.32.1
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: Run external RewriteMap program as non-root
References: <54F7FDF5.4050403@redhat.com>
In-Reply-To: <54F7FDF5.4050403@redhat.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 03/05/2015 07:55 AM, Jan Kalua wrote:
> Hi,
> 
> currently, the External Rewriting Program (RewriteMap "prg:") is run as root. I would like to change it but I see three
> ways how to do it:
> 
> 1. Execute it right after drop_privileges hook. This looks like best way, but I haven't found any hook which could be
> used for that (except drop_privileges with APR_HOOK_REALLY_LAST, which does not seem as proper place to me).
> 
> 2. Execute it in child_init. This is done after drop_privileges, so the user/group is good. The "problem" here is that
> it would execute one rewrite program per child. Right now I'm not sure if it's really problem. It could be useful to
> have more instances of rewriting program to make its bottleneck lower.
> 
> 3. Execute it where it is now (post_config), but set user/group using apr_procattr_t. So far I think this would
> duplicate the code of mod_unixd and would probably have to also handle the windows equivalent of that module (if there's
> any).
> 
> What way do you think is the best, or would you do it differently?
> 
> I'm attaching patch for number 2.

I would tend to 2. as well, but as far as I remember using the rewritemap program is synchronized across all processes.
This raises two questions:

1. Does rewriting still work with the current patch?
2. If it does can stuff be optimized to move from a server wide lock to a process wide lock (or even no lock for
prefork) to remove the contention here? OTOH looking at the topic of backwards compatibility existing rewrite programs
might rely on not working in parallel. Some may even have an issue if more then one copy of them is running in parallel,
albeit not processing stuff in parallel which of course would cause an issue with the proposed patch. Furthermore
existing setups might expect to be run as root. But this stuff only needs to be considered when we think about
backporting and is moot for trunk.

Regards

Rdiger


From dev-return-82187-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  5 08:13:08 2015
Return-Path: <dev-return-82187-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 216181029F
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  5 Mar 2015 08:13:08 +0000 (UTC)
Received: (qmail 57908 invoked by uid 500); 5 Mar 2015 08:13:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57845 invoked by uid 500); 5 Mar 2015 08:13:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57836 invoked by uid 99); 5 Mar 2015 08:13:07 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 08:13:07 +0000
Received: from gauss.localdomain (v4-861347e2.pool.vitroconnect.de [134.19.71.226])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 5B0311A01E0
	for <dev@httpd.apache.org>; Thu,  5 Mar 2015 08:13:07 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id E00337E9
	for <dev@httpd.apache.org>; Thu,  5 Mar 2015 09:13:06 +0100 (CET)
Message-ID: <54F81012.7030208@apache.org>
Date: Thu, 05 Mar 2015 09:13:06 +0100
From: Ruediger Pluem <rpluem@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:35.0) Gecko/20100101 Firefox/35.0 SeaMonkey/2.32.1
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1664118 - in /httpd/httpd/branches/2.4.x: ./
 CHANGES STATUS modules/lua/lua_request.c
References: <20150304191827.D1EDFAC00A8@hades.apache.org>
In-Reply-To: <20150304191827.D1EDFAC00A8@hades.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 03/04/2015 08:18 PM, covener@apache.org wrote:
> Author: covener
> Date: Wed Mar  4 19:18:27 2015
> New Revision: 1664118
> 
> URL: http://svn.apache.org/r1664118
> Log:
> Merge r1657261 from trunk:
> 
>   *) SECURITY: CVE-2015-0228 (cve.mitre.org)
>      mod_lua: A maliciously crafted websockets PING after a script
>      calls r:wsupgrade() can cause a child process crash.
>      [Edward Lu <Chaosed0 gmail.com>]
> 
> Discovered by Guido Vranken <guidovranken gmail.com>
> 
> Submitted by: Edward Lu
> Committed by: covener
> 
> 
> 
> Modified:
>     httpd/httpd/branches/2.4.x/   (props changed)
>     httpd/httpd/branches/2.4.x/CHANGES
>     httpd/httpd/branches/2.4.x/STATUS
>     httpd/httpd/branches/2.4.x/modules/lua/lua_request.c
> 

> Modified: httpd/httpd/branches/2.4.x/modules/lua/lua_request.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/modules/lua/lua_request.c?rev=1664118&r1=1664117&r2=1664118&view=diff
> ==============================================================================
> --- httpd/httpd/branches/2.4.x/modules/lua/lua_request.c (original)
> +++ httpd/httpd/branches/2.4.x/modules/lua/lua_request.c Wed Mar  4 19:18:27 2015
> @@ -2229,6 +2229,7 @@ static int lua_websocket_read(lua_State
>  {
>      apr_socket_t *sock;
>      apr_status_t rv;
> +    int do_read = 1;
>      int n = 0;
>      apr_size_t len = 1;
>      apr_size_t plen = 0;
> @@ -2246,6 +2247,8 @@ static int lua_websocket_read(lua_State
>      mask_bytes = apr_pcalloc(r->pool, 4);
>      sock = ap_get_conn_socket(r->connection);
>  
> +    while (do_read) { 
> +    do_read = 0;
>      /* Get opcode and FIN bit */
>      if (plaintext) {
>          rv = apr_socket_recv(sock, &byte, &len);
> @@ -2379,10 +2382,11 @@ static int lua_websocket_read(lua_State
>                  frame[0] = 0x8A;
>                  frame[1] = 0;
>                  apr_socket_send(sock, frame, &plen); /* Pong! */
> -                lua_websocket_read(L); /* read the next frame instead */
> +                do_read = 1;
>              }
>          }
>      }
> +    }
>      return 0;
>  }
>  

In order to stay in sync with trunk shouldn't we apply the needed whitespace changes as well?
The applied patch was the one without whitespace changes to keep it more readable.

Regards

Rdiger


From dev-return-82188-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  5 08:38:17 2015
Return-Path: <dev-return-82188-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CB5421044C
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  5 Mar 2015 08:38:17 +0000 (UTC)
Received: (qmail 45722 invoked by uid 500); 5 Mar 2015 08:38:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 45651 invoked by uid 500); 5 Mar 2015 08:38:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 45641 invoked by uid 99); 5 Mar 2015 08:38:17 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 08:38:17 +0000
Received: from gauss.localdomain (v4-861347e2.pool.vitroconnect.de [134.19.71.226])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 0DAE41A01E0
	for <dev@httpd.apache.org>; Thu,  5 Mar 2015 08:38:16 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 9F27D7E9
	for <dev@httpd.apache.org>; Thu,  5 Mar 2015 09:38:16 +0100 (CET)
Message-ID: <54F815F8.4000404@apache.org>
Date: Thu, 05 Mar 2015 09:38:16 +0100
From: Ruediger Pluem <rpluem@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:35.0) Gecko/20100101 Firefox/35.0 SeaMonkey/2.32.1
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1664205 - in /httpd/httpd/trunk: CHANGES
 server/protocol.c
References: <20150305023317.1CE53AC0044@hades.apache.org>
In-Reply-To: <20150305023317.1CE53AC0044@hades.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 03/05/2015 03:33 AM, covener@apache.org wrote:
> Author: covener
> Date: Thu Mar  5 02:33:16 2015
> New Revision: 1664205
> 
> URL: http://svn.apache.org/r1664205
> Log:
>   *) SECURITY: CVE-2015-0253 (cve.mitre.org)
>      core: Fix a crash introduced in with ErrorDocument 400 pointing
>      to a local URL-path with the INCLUDES filter active, introduced
>      in 2.4.11. PR 57531. [Yann Ylavic]
> 
> 
> Submitted By: ylavic
> Committed By: covener
> 
> 
> 
> 
> Modified:
>     httpd/httpd/trunk/CHANGES
>     httpd/httpd/trunk/server/protocol.c
> 

> Modified: httpd/httpd/trunk/server/protocol.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/server/protocol.c?rev=1664205&r1=1664204&r2=1664205&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/server/protocol.c (original)
> +++ httpd/httpd/trunk/server/protocol.c Thu Mar  5 02:33:16 2015
> @@ -606,8 +606,6 @@ static int read_request_line(request_rec
>               */
>              if (APR_STATUS_IS_ENOSPC(rv)) {
>                  r->status    = HTTP_REQUEST_URI_TOO_LARGE;
> -                r->proto_num = HTTP_VERSION(1,0);
> -                r->protocol  = apr_pstrdup(r->pool, "HTTP/1.0");
>              }
>              else if (APR_STATUS_IS_TIMEUP(rv)) {
>                  r->status = HTTP_REQUEST_TIME_OUT;
> @@ -615,6 +613,8 @@ static int read_request_line(request_rec
>              else if (APR_STATUS_IS_EINVAL(rv)) {
>                  r->status = HTTP_BAD_REQUEST;
>              }
> +            r->proto_num = HTTP_VERSION(1,0);
> +            r->protocol  = apr_pstrdup(r->pool, "HTTP/1.0");
>              return 0;
>          }
>      } while ((len <= 0) && (++num_blank_lines < max_blank_lines));
> 
> 
> 

Don't we need to have the following in addition to avoid a crash in another path?


Index: protocol.c
===================================================================
--- protocol.c  (revision 1664261)
+++ protocol.c  (working copy)
@@ -674,6 +674,8 @@
             ap_log_rerror(APLOG_MARK, APLOG_DEBUG, 0, r, APLOGNO(02418)
                           "Invalid protocol '%s'", r->protocol);
             if (enforce_strict) {
+                r->protocol  = apr_pstrdup(r->pool, "HTTP/1.0");
+                r->proto_num = HTTP_VERSION(1,0);
                 r->status = HTTP_BAD_REQUEST;
                 return 0;
             }



Regards

Rdiger

From dev-return-82189-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  5 08:55:24 2015
Return-Path: <dev-return-82189-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9AE9910550
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  5 Mar 2015 08:55:24 +0000 (UTC)
Received: (qmail 8243 invoked by uid 500); 5 Mar 2015 08:55:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 8176 invoked by uid 500); 5 Mar 2015 08:55:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 8166 invoked by uid 99); 5 Mar 2015 08:55:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 08:55:24 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jkaluza@redhat.com designates 209.132.183.28 as permitted sender)
Received: from [209.132.183.28] (HELO mx1.redhat.com) (209.132.183.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 08:55:18 +0000
Received: from int-mx10.intmail.prod.int.phx2.redhat.com (int-mx10.intmail.prod.int.phx2.redhat.com [10.5.11.23])
	by mx1.redhat.com (8.14.4/8.14.4) with ESMTP id t258suHn027941
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Thu, 5 Mar 2015 03:54:56 -0500
Received: from dhcp-24-191.brq.redhat.com ([10.40.204.23])
	by int-mx10.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t258stwI013535
	for <dev@httpd.apache.org>; Thu, 5 Mar 2015 03:54:56 -0500
Message-ID: <54F819DF.6090108@redhat.com>
Date: Thu, 05 Mar 2015 09:54:55 +0100
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.4.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: Run external RewriteMap program as non-root
References: <54F7FDF5.4050403@redhat.com> <54F80DED.3020305@apache.org>
In-Reply-To: <54F80DED.3020305@apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.23
X-Virus-Checked: Checked by ClamAV on apache.org

On 03/05/2015 09:03 AM, Ruediger Pluem wrote:
>
>
> On 03/05/2015 07:55 AM, Jan Kalua wrote:
>> Hi,
>>
>> currently, the External Rewriting Program (RewriteMap "prg:") is run as root. I would like to change it but I see three
>> ways how to do it:
>>
>> 1. Execute it right after drop_privileges hook. This looks like best way, but I haven't found any hook which could be
>> used for that (except drop_privileges with APR_HOOK_REALLY_LAST, which does not seem as proper place to me).
>>
>> 2. Execute it in child_init. This is done after drop_privileges, so the user/group is good. The "problem" here is that
>> it would execute one rewrite program per child. Right now I'm not sure if it's really problem. It could be useful to
>> have more instances of rewriting program to make its bottleneck lower.
>>
>> 3. Execute it where it is now (post_config), but set user/group using apr_procattr_t. So far I think this would
>> duplicate the code of mod_unixd and would probably have to also handle the windows equivalent of that module (if there's
>> any).
>>
>> What way do you think is the best, or would you do it differently?
>>
>> I'm attaching patch for number 2.
>
> I would tend to 2. as well, but as far as I remember using the rewritemap program is synchronized across all processes.
> This raises two questions:
>
> 1. Does rewriting still work with the current patch?

It does work for me. I've done some tests with curl and ab with 
prefork/event/worker MPMs.

> 2. If it does can stuff be optimized to move from a server wide lock to a process wide lock (or even no lock for
> prefork) to remove the contention here?

This could be possible, I will look at it.

> OTOH looking at the topic of backwards compatibility existing rewrite programs
> might rely on not working in parallel. Some may even have an issue if more then one copy of them is running in parallel,
> albeit not processing stuff in parallel which of course would cause an issue with the proposed patch. Furthermore
> existing setups might expect to be run as root. But this stuff only needs to be considered when we think about
> backporting and is moot for trunk.

Right, I'm currently thinking only about trunk. For the 2.4.x, we would 
have to do it differently with backward compatibility in mind. I think 
something like option 1 with configuration directive to enable new 
behaviour would be more acceptable for 2.4.x. We would have single 
rewritemap program in this case running as an apache user only if admin 
wants it.

> Regards
>
> Rdiger
>

Regards,
Jan Kaluza


From dev-return-82190-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  5 09:02:23 2015
Return-Path: <dev-return-82190-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2A16C105C8
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  5 Mar 2015 09:02:23 +0000 (UTC)
Received: (qmail 33829 invoked by uid 500); 5 Mar 2015 09:02:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 33768 invoked by uid 500); 5 Mar 2015 09:02:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 33750 invoked by uid 99); 5 Mar 2015 09:02:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 09:02:22 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.182 as permitted sender)
Received: from [209.85.213.182] (HELO mail-ig0-f182.google.com) (209.85.213.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 09:02:16 +0000
Received: by igqa13 with SMTP id a13so44002263igq.0
        for <dev@httpd.apache.org>; Thu, 05 Mar 2015 01:01:56 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=vvgFAitylQqNDg9+1U1aRb9EDHobnA+eIbTADIrClw0=;
        b=L4KVEptCU9QretusHs0HUtEIorqyHBgOmRSuogDoymQf6kaoqNwzCNbIfwbYtZwDmA
         7l/VkE/GZ1YOIVgeVqYwdxFpK5ciJwnb8tTCrb6/EhbRhcTqs6CKeEGnOx+1tW8iLMr6
         ZqMCqJKzV4KQAnPoLUMg2BBxOMQ4GOJ/BA3qkLFANnW9WVxZtivDq7SuvRcDmtva7987
         Bs7r8edig86xc935Ej84TIEJFUVESsf1u6uqTL/6uipjj1JiWfx+O6ZOfox4uUgBb1ez
         BWQa8n3Xp+HiRuLOi8XMi7QZCxt6OtXqpklCrlN+kqfC1x3NjIocbMdbY51KDQbsbxWC
         FYDA==
MIME-Version: 1.0
X-Received: by 10.43.90.199 with SMTP id bj7mr2382002icc.35.1425546116281;
 Thu, 05 Mar 2015 01:01:56 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Thu, 5 Mar 2015 01:01:56 -0800 (PST)
In-Reply-To: <54F815F8.4000404@apache.org>
References: <20150305023317.1CE53AC0044@hades.apache.org>
	<54F815F8.4000404@apache.org>
Date: Thu, 5 Mar 2015 10:01:56 +0100
Message-ID: <CAKQ1sVP--F1pF88nQ97xwEKD_L7GLxMO73Z_2Kv9pgDN40sCMg@mail.gmail.com>
Subject: Re: svn commit: r1664205 - in /httpd/httpd/trunk: CHANGES server/protocol.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Mar 5, 2015 at 9:38 AM, Ruediger Pluem <rpluem@apache.org> wrote:
>
> Don't we need to have the following in addition to avoid a crash in another path?
>
>
> Index: protocol.c
> ===================================================================
> --- protocol.c  (revision 1664261)
> +++ protocol.c  (working copy)
> @@ -674,6 +674,8 @@
>              ap_log_rerror(APLOG_MARK, APLOG_DEBUG, 0, r, APLOGNO(02418)
>                            "Invalid protocol '%s'", r->protocol);
>              if (enforce_strict) {
> +                r->protocol  = apr_pstrdup(r->pool, "HTTP/1.0");
> +                r->proto_num = HTTP_VERSION(1,0);
>                  r->status = HTTP_BAD_REQUEST;
>                  return 0;
>              }
>

r->protocol is initialized above in any case (with an invalid value
but it is), so it won't crash.
But r->proto_num is still 0 (which, if I read output filter chain
correctly, will lead to a HTTP/1.1 response), though.
So we probably should keep the original value in r->protocol (for
logging), but force proto_num = HTTP_VERSION(1,0).

Regards,
Yann.

From dev-return-82191-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  5 09:09:30 2015
Return-Path: <dev-return-82191-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A2E47106DE
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  5 Mar 2015 09:09:30 +0000 (UTC)
Received: (qmail 59633 invoked by uid 500); 5 Mar 2015 09:09:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59574 invoked by uid 500); 5 Mar 2015 09:09:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59565 invoked by uid 99); 5 Mar 2015 09:09:23 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 09:09:23 +0000
Received: from gauss.localdomain (v4-861347e2.pool.vitroconnect.de [134.19.71.226])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 960541A048C
	for <dev@httpd.apache.org>; Thu,  5 Mar 2015 09:09:23 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id B39FD7E9
	for <dev@httpd.apache.org>; Thu,  5 Mar 2015 10:09:22 +0100 (CET)
Message-ID: <54F81D42.7080309@apache.org>
Date: Thu, 05 Mar 2015 10:09:22 +0100
From: Ruediger Pluem <rpluem@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:35.0) Gecko/20100101 Firefox/35.0 SeaMonkey/2.32.1
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1664205 - in /httpd/httpd/trunk: CHANGES
 server/protocol.c
References: <20150305023317.1CE53AC0044@hades.apache.org>	<54F815F8.4000404@apache.org> <CAKQ1sVP--F1pF88nQ97xwEKD_L7GLxMO73Z_2Kv9pgDN40sCMg@mail.gmail.com>
In-Reply-To: <CAKQ1sVP--F1pF88nQ97xwEKD_L7GLxMO73Z_2Kv9pgDN40sCMg@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 03/05/2015 10:01 AM, Yann Ylavic wrote:
> On Thu, Mar 5, 2015 at 9:38 AM, Ruediger Pluem <rpluem@apache.org> wrote:
>>
>> Don't we need to have the following in addition to avoid a crash in another path?
>>
>>
>> Index: protocol.c
>> ===================================================================
>> --- protocol.c  (revision 1664261)
>> +++ protocol.c  (working copy)
>> @@ -674,6 +674,8 @@
>>              ap_log_rerror(APLOG_MARK, APLOG_DEBUG, 0, r, APLOGNO(02418)
>>                            "Invalid protocol '%s'", r->protocol);
>>              if (enforce_strict) {
>> +                r->protocol  = apr_pstrdup(r->pool, "HTTP/1.0");
>> +                r->proto_num = HTTP_VERSION(1,0);
>>                  r->status = HTTP_BAD_REQUEST;
>>                  return 0;
>>              }
>>
> 
> r->protocol is initialized above in any case (with an invalid value
> but it is), so it won't crash.
> But r->proto_num is still 0 (which, if I read output filter chain
> correctly, will lead to a HTTP/1.1 response), though.
> So we probably should keep the original value in r->protocol (for
> logging), but force proto_num = HTTP_VERSION(1,0).

I saw that r->protocol is initialized in this case, but I wanted to keep it consistent with r->proto_num in this case.
Hence the reset to "HTTP/1.0". If we are interested in logging we might should increase the severity of the error
message above from DEBUG to something more visible e.g. INFO at least in the enforce_strict case.

Regards

Rdiger


From dev-return-82192-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  5 09:19:21 2015
Return-Path: <dev-return-82192-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 43C8C1075A
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  5 Mar 2015 09:19:21 +0000 (UTC)
Received: (qmail 92165 invoked by uid 500); 5 Mar 2015 09:19:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92081 invoked by uid 500); 5 Mar 2015 09:19:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91885 invoked by uid 99); 5 Mar 2015 09:19:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 09:19:20 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.171 as permitted sender)
Received: from [209.85.223.171] (HELO mail-ie0-f171.google.com) (209.85.223.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 09:18:55 +0000
Received: by iery20 with SMTP id y20so21414057ier.12
        for <dev@httpd.apache.org>; Thu, 05 Mar 2015 01:17:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Jy2j2PUqM7opW1QBWxVFcg9jvMRkqaJHCWyRdCosAuM=;
        b=WN85Mu95Li+9MG3t7SBOg20zEBMOL8rYjdfzqZGauZrK5P7PIrVHBtUIDJ3EDy0HfE
         ulP/ic/U+htTcjHUNQCjb/XLiq3I3yKxN85R0+TqBuLtsx7kSBU7eF4Mwl+7ZakA+MuI
         ALrNh2RfT8rExkYddMLwB+6lGJnFciEyiBLUT8vsNZaJulvHOEY7SpZGVp8T3Amf1o+t
         nHSMaoRck2MwnekSmrZQhUFL0gcl3YEU8uXfXZr3fNnkRQdfUMuycibHIFdWDHRCkjkO
         Eezlip1NelcKBIt5gvXIQMrxHvfRYT2va3fU8urx9mm09RHkMWWSyUi5X5IFOzz/wJNq
         oIjA==
MIME-Version: 1.0
X-Received: by 10.107.132.16 with SMTP id g16mr18201055iod.62.1425547043361;
 Thu, 05 Mar 2015 01:17:23 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Thu, 5 Mar 2015 01:17:23 -0800 (PST)
In-Reply-To: <54F81D42.7080309@apache.org>
References: <20150305023317.1CE53AC0044@hades.apache.org>
	<54F815F8.4000404@apache.org>
	<CAKQ1sVP--F1pF88nQ97xwEKD_L7GLxMO73Z_2Kv9pgDN40sCMg@mail.gmail.com>
	<54F81D42.7080309@apache.org>
Date: Thu, 5 Mar 2015 10:17:23 +0100
Message-ID: <CAKQ1sVNvDGRPBGDHUYtjLB1imt0FvUFHQVq57D-QFkYTptyPSA@mail.gmail.com>
Subject: Re: svn commit: r1664205 - in /httpd/httpd/trunk: CHANGES server/protocol.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Mar 5, 2015 at 10:09 AM, Ruediger Pluem <rpluem@apache.org> wrote:
>
>
> On 03/05/2015 10:01 AM, Yann Ylavic wrote:
>> On Thu, Mar 5, 2015 at 9:38 AM, Ruediger Pluem <rpluem@apache.org> wrote:
>>>
>>> Don't we need to have the following in addition to avoid a crash in another path?
>>>
>>>
>>> Index: protocol.c
>>> ===================================================================
>>> --- protocol.c  (revision 1664261)
>>> +++ protocol.c  (working copy)
>>> @@ -674,6 +674,8 @@
>>>              ap_log_rerror(APLOG_MARK, APLOG_DEBUG, 0, r, APLOGNO(02418)
>>>                            "Invalid protocol '%s'", r->protocol);
>>>              if (enforce_strict) {
>>> +                r->protocol  = apr_pstrdup(r->pool, "HTTP/1.0");
>>> +                r->proto_num = HTTP_VERSION(1,0);
>>>                  r->status = HTTP_BAD_REQUEST;
>>>                  return 0;
>>>              }
>>>
>>
>> r->protocol is initialized above in any case (with an invalid value
>> but it is), so it won't crash.
>> But r->proto_num is still 0 (which, if I read output filter chain
>> correctly, will lead to a HTTP/1.1 response), though.
>> So we probably should keep the original value in r->protocol (for
>> logging), but force proto_num = HTTP_VERSION(1,0).
>
> I saw that r->protocol is initialized in this case, but I wanted to keep it consistent with r->proto_num in this case.
> Hence the reset to "HTTP/1.0". If we are interested in logging we might should increase the severity of the error
> message above from DEBUG to something more visible e.g. INFO at least in the enforce_strict case.

I meant *custom* logging of the original request fields, but
r->the_request will do the job in this case.
So it's indeed probably better to keep things consistent internally.

From dev-return-82193-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  5 09:21:39 2015
Return-Path: <dev-return-82193-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A97EC10788
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  5 Mar 2015 09:21:39 +0000 (UTC)
Received: (qmail 96155 invoked by uid 500); 5 Mar 2015 09:21:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 96088 invoked by uid 500); 5 Mar 2015 09:21:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 96078 invoked by uid 99); 5 Mar 2015 09:21:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 09:21:26 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.175 as permitted sender)
Received: from [209.85.213.175] (HELO mail-ig0-f175.google.com) (209.85.213.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 09:21:01 +0000
Received: by igkb16 with SMTP id b16so44212480igk.1
        for <dev@httpd.apache.org>; Thu, 05 Mar 2015 01:20:15 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=lMD/eydHV41g6c23ncocfZCPH5DZD8rp6WBzTIuc880=;
        b=I9nrbS5QfUN5cesiYK8QEiBhX4Tr4vbR97qghiuCU+XEcPEa6n5t2o0a7HfDBDVUdv
         IFgJHoYCCipRgxLDZQh8eB+gXd3TE9ueod1lli9WdnMqlr2UfaqnHolIC98vrSbvUSEP
         GplJbeqCPeX/E1oylNe4NIePOA4tC6fgVNMCinO916zTlI1+jqZdiJ/2JvfZAy2VvoS3
         uXUbaUoPs+bJnaMYEOiuyr1ln0aCNCgL5H4b1C3ab8zDQ1xgvpwokBQJRTmdurJ8KP7W
         BbLnyPuKcdDF9eWlb1weYHjrADhIpd9Txmc8Mx6Huoh/UadsSqOEZlbDjBohf0OkGVsj
         WfKQ==
MIME-Version: 1.0
X-Received: by 10.50.79.161 with SMTP id k1mr18671942igx.14.1425547215069;
 Thu, 05 Mar 2015 01:20:15 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Thu, 5 Mar 2015 01:20:15 -0800 (PST)
In-Reply-To: <790D2F28-E370-4727-B5E8-CD852999585A@jaguNET.com>
References: <790D2F28-E370-4727-B5E8-CD852999585A@jaguNET.com>
Date: Thu, 5 Mar 2015 10:20:15 +0100
Message-ID: <CAKQ1sVPpxacfv3=AgXp1jsfbEN+7mkVKQJ5UJ66uuv5Gb+vNjg@mail.gmail.com>
Subject: Re: Event and RINGs
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Mar 4, 2015 at 7:59 PM, Jim Jagielski <jim@jagunet.com> wrote:
> I am wondering if we are continuing to use RINGs in places
> where we should really migrate to using skiplists. afaict, we
> used RINGs initially because it was the only valid and available
> data structure we could use, but it was not idea.

Using a single skiplist for all timers in event would indeed make the
code cleaner and ease insertion and maintenance (to cleanup *all*
expired timers in a single loop), but would probably complexify
removal of individual timers (here some keepalive timer beacuse the
connection becomes active, there a write completion timer because the
filter chain is flushed, ...).
Currently with RINGs all these operations are O(1), skiplist would
make insertions and removals O(log n) (and still maintenance O(1)).

Btw, short term (which is not what you are talking about I guess),
skiplists in APR-1.5 are missing apr_skiplist_add(), so timers may
collide and apr_skiplist_insert() won't add them (which does not help
moving to them in several cases).
(That reminds me that things need to be backported to APR-1.6 before
it gets released ...)

> Even
> now, we aren't really using it as a FIFO queue and whenever
> we access it, we appear to be trying to do so in a sorted
> way (as related to time stamps)...

This is indeed not ideal, and it won't work as soon as we need to
handle dynamic timeouts (unknown at init time, so that we can't create
a RING per timeout)...

> I may end up doing
> some tests to see what the performance diffs would be if
> we instead just used skiplists.

+1

> Besides, I think all that RING macro junk is ugly :) :)

I personnaly love RINGs (despite pointer-type puning and terrific
code!), that's an excellent intrusive container :)
Not applicable everywhere though...

Regards,
Yann.

From dev-return-82194-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  5 09:39:41 2015
Return-Path: <dev-return-82194-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4CB491089C
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  5 Mar 2015 09:39:41 +0000 (UTC)
Received: (qmail 40256 invoked by uid 500); 5 Mar 2015 09:39:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 40188 invoked by uid 500); 5 Mar 2015 09:39:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 40178 invoked by uid 99); 5 Mar 2015 09:39:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 09:39:34 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jkaluza@redhat.com designates 209.132.183.28 as permitted sender)
Received: from [209.132.183.28] (HELO mx1.redhat.com) (209.132.183.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 09:39:08 +0000
Received: from int-mx11.intmail.prod.int.phx2.redhat.com (int-mx11.intmail.prod.int.phx2.redhat.com [10.5.11.24])
	by mx1.redhat.com (8.14.4/8.14.4) with ESMTP id t259d5IB030595
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Thu, 5 Mar 2015 04:39:05 -0500
Received: from dhcp-24-191.brq.redhat.com ([10.40.204.23])
	by int-mx11.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t259d3im021332
	for <dev@httpd.apache.org>; Thu, 5 Mar 2015 04:39:04 -0500
Message-ID: <54F82437.5070308@redhat.com>
Date: Thu, 05 Mar 2015 10:39:03 +0100
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.4.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: Run external RewriteMap program as non-root
References: <54F7FDF5.4050403@redhat.com> <54F80DED.3020305@apache.org> <54F819DF.6090108@redhat.com>
In-Reply-To: <54F819DF.6090108@redhat.com>
Content-Type: multipart/mixed;
 boundary="------------070809020606000406050602"
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.24
X-Virus-Checked: Checked by ClamAV on apache.org

This is a multi-part message in MIME format.
--------------070809020606000406050602
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit

On 03/05/2015 09:54 AM, Jan Kalua wrote:
> On 03/05/2015 09:03 AM, Ruediger Pluem wrote:
>>
>>
>> On 03/05/2015 07:55 AM, Jan Kalua wrote:
>>> Hi,
>>>
>>> currently, the External Rewriting Program (RewriteMap "prg:") is run
>>> as root. I would like to change it but I see three
>>> ways how to do it:
>>>
>>> 1. Execute it right after drop_privileges hook. This looks like best
>>> way, but I haven't found any hook which could be
>>> used for that (except drop_privileges with APR_HOOK_REALLY_LAST,
>>> which does not seem as proper place to me).
>>>
>>> 2. Execute it in child_init. This is done after drop_privileges, so
>>> the user/group is good. The "problem" here is that
>>> it would execute one rewrite program per child. Right now I'm not
>>> sure if it's really problem. It could be useful to
>>> have more instances of rewriting program to make its bottleneck lower.
>>>
>>> 3. Execute it where it is now (post_config), but set user/group using
>>> apr_procattr_t. So far I think this would
>>> duplicate the code of mod_unixd and would probably have to also
>>> handle the windows equivalent of that module (if there's
>>> any).
>>>
>>> What way do you think is the best, or would you do it differently?
>>>
>>> I'm attaching patch for number 2.
>>
>> I would tend to 2. as well, but as far as I remember using the
>> rewritemap program is synchronized across all processes.
>> This raises two questions:
>>
>> 1. Does rewriting still work with the current patch?
>
> It does work for me. I've done some tests with curl and ab with
> prefork/event/worker MPMs.
>
>> 2. If it does can stuff be optimized to move from a server wide lock
>> to a process wide lock (or even no lock for
>> prefork) to remove the contention here?
>
> This could be possible, I will look at it.

Attached patch does it and works for me. RewriteMap with external 
program is also 24% faster with prefork with this patch.

Jan Kaluza

>> OTOH looking at the topic of backwards compatibility existing rewrite
>> programs
>> might rely on not working in parallel. Some may even have an issue if
>> more then one copy of them is running in parallel,
>> albeit not processing stuff in parallel which of course would cause an
>> issue with the proposed patch. Furthermore
>> existing setups might expect to be run as root. But this stuff only
>> needs to be considered when we think about
>> backporting and is moot for trunk.
>
> Right, I'm currently thinking only about trunk. For the 2.4.x, we would
> have to do it differently with backward compatibility in mind. I think
> something like option 1 with configuration directive to enable new
> behaviour would be more acceptable for 2.4.x. We would have single
> rewritemap program in this case running as an apache user only if admin
> wants it.
>
>> Regards
>>
>> Rdiger
>>
>
> Regards,
> Jan Kaluza
>


--------------070809020606000406050602
Content-Type: text/x-patch;
 name="httpd-trunk-rewritemap_v2.patch"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="httpd-trunk-rewritemap_v2.patch"

Index: modules/mappers/mod_rewrite.c
===================================================================
--- modules/mappers/mod_rewrite.c	(revision 1663642)
+++ modules/mappers/mod_rewrite.c	(working copy)
@@ -52,7 +52,7 @@
 #include "apr_user.h"
 #include "apr_lib.h"
 #include "apr_signal.h"
-#include "apr_global_mutex.h"
+#include "apr_thread_mutex.h"
 #include "apr_dbm.h"
 #include "apr_dbd.h"
 #include "mod_dbd.h"
@@ -100,6 +100,7 @@
 
 #include "mod_rewrite.h"
 #include "ap_expr.h"
+#include "ap_mpm.h"
 
 #if APR_CHARSET_EBCDIC
 #include "util_charset.h"
@@ -416,8 +417,7 @@
 static int proxy_available;
 
 /* Locks/Mutexes */
-static apr_global_mutex_t *rewrite_mapr_lock_acquire = NULL;
-static const char *rewritemap_mutex_type = "rewrite-map";
+static apr_thread_mutex_t *rewrite_mapr_lock_acquire = NULL;
 
 /* Optional functions imported from mod_ssl when loaded: */
 static APR_OPTIONAL_FN_TYPE(ssl_var_lookup) *rewrite_ssl_lookup = NULL;
@@ -1437,10 +1437,10 @@
 
     /* take the lock */
     if (rewrite_mapr_lock_acquire) {
-        rv = apr_global_mutex_lock(rewrite_mapr_lock_acquire);
+        rv = apr_thread_mutex_lock(rewrite_mapr_lock_acquire);
         if (rv != APR_SUCCESS) {
             ap_log_rerror(APLOG_MARK, APLOG_ERR, rv, r, APLOGNO(00659)
-                          "apr_global_mutex_lock(rewrite_mapr_lock_acquire) "
+                          "apr_thread_mutex_lock(rewrite_mapr_lock_acquire) "
                           "failed");
             return NULL; /* Maybe this should be fatal? */
         }
@@ -1551,10 +1551,10 @@
 
     /* give the lock back */
     if (rewrite_mapr_lock_acquire) {
-        rv = apr_global_mutex_unlock(rewrite_mapr_lock_acquire);
+        rv = apr_thread_mutex_unlock(rewrite_mapr_lock_acquire);
         if (rv != APR_SUCCESS) {
             ap_log_rerror(APLOG_MARK, APLOG_ERR, rv, r, APLOGNO(00660)
-                          "apr_global_mutex_unlock(rewrite_mapr_lock_acquire) "
+                          "apr_thread_mutex_unlock(rewrite_mapr_lock_acquire) "
                           "failed");
             return NULL; /* Maybe this should be fatal? */
         }
@@ -2639,13 +2639,21 @@
 static apr_status_t rewritelock_create(server_rec *s, apr_pool_t *p)
 {
     apr_status_t rc;
+    int threaded;
 
+    /* RewriteMap program is spawned per child, so for non-threaded MPMs,
+     * we do not need the locking.*/
+    int rv = ap_mpm_query(AP_MPMQ_IS_THREADED, &threaded);
+    if (rv == APR_SUCCESS && threaded == 0) {
+        return APR_SUCCESS;
+    }
+
     /* create the lockfile */
     /* XXX See if there are any rewrite map programs before creating
      * the mutex.
      */
-    rc = ap_global_mutex_create(&rewrite_mapr_lock_acquire, NULL,
-                                rewritemap_mutex_type, NULL, s, p, 0);
+    rc = apr_thread_mutex_create(&rewrite_mapr_lock_acquire,
+                                 APR_THREAD_MUTEX_DEFAULT, p);
     if (rc != APR_SUCCESS) {
         return rc;
     }
@@ -2657,7 +2665,7 @@
 {
     /* destroy the rewritelock */
     if (rewrite_mapr_lock_acquire) {
-        apr_global_mutex_destroy(rewrite_mapr_lock_acquire);
+        apr_thread_mutex_destroy(rewrite_mapr_lock_acquire);
         rewrite_mapr_lock_acquire = NULL;
     }
     return APR_SUCCESS;
@@ -4416,8 +4424,6 @@
 {
     APR_OPTIONAL_FN_TYPE(ap_register_rewrite_mapfunc) *map_pfn_register;
 
-    ap_mutex_register(pconf, rewritemap_mutex_type, NULL, APR_LOCK_DEFAULT, 0);
-
     /* register int: rewritemap handlers */
     map_pfn_register = APR_RETRIEVE_OPTIONAL_FN(ap_register_rewrite_mapfunc);
     if (map_pfn_register) {
@@ -4441,25 +4447,6 @@
     /* check if proxy module is available */
     proxy_available = (ap_find_linked_module("mod_proxy.c") != NULL);
 
-    rv = rewritelock_create(s, p);
-    if (rv != APR_SUCCESS) {
-        return HTTP_INTERNAL_SERVER_ERROR;
-    }
-
-    apr_pool_cleanup_register(p, (void *)s, rewritelock_remove,
-                              apr_pool_cleanup_null);
-
-    /* if we are not doing the initial config, step through the servers and
-     * open the RewriteMap prg:xxx programs,
-     */
-    if (ap_state_query(AP_SQ_MAIN_STATE) == AP_SQ_MS_CREATE_CONFIG) {
-        for (; s; s = s->next) {
-            if (run_rewritemap_programs(s, p) != APR_SUCCESS) {
-                return HTTP_INTERNAL_SERVER_ERROR;
-            }
-        }
-    }
-
     rewrite_ssl_lookup = APR_RETRIEVE_OPTIONAL_FN(ssl_var_lookup);
     rewrite_is_https = APR_RETRIEVE_OPTIONAL_FN(ssl_is_https);
 
@@ -4470,21 +4457,26 @@
 {
     apr_status_t rv = 0; /* get a rid of gcc warning (REWRITELOG_DISABLED) */
 
-    if (rewrite_mapr_lock_acquire) {
-        rv = apr_global_mutex_child_init(&rewrite_mapr_lock_acquire,
-                 apr_global_mutex_lockfile(rewrite_mapr_lock_acquire), p);
-        if (rv != APR_SUCCESS) {
-            ap_log_error(APLOG_MARK, APLOG_CRIT, rv, s, APLOGNO(00666)
-                         "mod_rewrite: could not init rewrite_mapr_lock_acquire"
-                         " in child");
-        }
+    rv = rewritelock_create(s, p);
+    if (rv != APR_SUCCESS) {
+        ap_log_error(APLOG_MARK, APLOG_CRIT, rv, s, APLOGNO(00666)
+                     "mod_rewrite: could not init rewrite_mapr_lock_acquire"
+                     " in child");
     }
 
+    apr_pool_cleanup_register(p, (void *)s, rewritelock_remove,
+                              apr_pool_cleanup_null);
+
     /* create the lookup cache */
     if (!init_cache(p)) {
         ap_log_error(APLOG_MARK, APLOG_CRIT, rv, s, APLOGNO(00667)
                      "mod_rewrite: could not init map cache in child");
     }
+
+    /* step through the servers and open the RewriteMap prg:xxx programs */
+    for (; s; s = s->next) {
+        run_rewritemap_programs(s, p);
+    }
 }
 
 

--------------070809020606000406050602--

From dev-return-82195-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  5 09:51:01 2015
Return-Path: <dev-return-82195-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 739711091A
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  5 Mar 2015 09:51:01 +0000 (UTC)
Received: (qmail 67331 invoked by uid 500); 5 Mar 2015 09:50:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67260 invoked by uid 500); 5 Mar 2015 09:50:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67250 invoked by uid 99); 5 Mar 2015 09:50:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 09:50:45 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [212.227.252.63] (HELO jupiter.hal-nine-zero-zero-zero.net) (212.227.252.63)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 05 Mar 2015 09:50:20 +0000
Received: (qmail 9949 invoked from network); 5 Mar 2015 09:47:35 -0000
Received: from unknown (HELO localhost) (212.227.252.63)
  by jupiter.hal-nine-zero-zero-zero.net with SMTP; 5 Mar 2015 09:47:35 -0000
From: =?utf-8?q?Andr=C3=A9_Malo?= <nd@perlig.de>
Organization: TIMTOWTDI
To: dev@httpd.apache.org
Subject: Re: Run external RewriteMap program as non-root
Date: Thu, 5 Mar 2015 10:48:18 +0100
User-Agent: KMail/1.9.10
References: <54F7FDF5.4050403@redhat.com>
In-Reply-To: <54F7FDF5.4050403@redhat.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <201503051048.18523@news.perlig.de>
X-Virus-Checked: Checked by ClamAV on apache.org

* Jan Kalu=C5=BEa wrote:

> Hi,
>
> currently, the External Rewriting Program (RewriteMap "prg:") is run as
> root. I would like to change it but I see three ways how to do it:
>
> 1. Execute it right after drop_privileges hook. This looks like best
> way, but I haven't found any hook which could be used for that (except
> drop_privileges with APR_HOOK_REALLY_LAST, which does not seem as proper
> place to me).
>
> 2. Execute it in child_init. This is done after drop_privileges, so the
> user/group is good. The "problem" here is that it would execute one
> rewrite program per child. Right now I'm not sure if it's really
> problem. It could be useful to have more instances of rewriting program
> to make its bottleneck lower.
>
> 3. Execute it where it is now (post_config), but set user/group using
> apr_procattr_t. So far I think this would duplicate the code of
> mod_unixd and would probably have to also handle the windows equivalent
> of that module (if there's any).

May be

4) Invoke suexec somehow

and

5) Let it drop the privileges by itself.

I actually tend to 5 :-)

nd
=2D-=20
Winnetous Erbe: <http://pub.perlig.de/books.html#apache2>

From dev-return-82196-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  5 10:26:31 2015
Return-Path: <dev-return-82196-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 992D110A1A
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  5 Mar 2015 10:26:31 +0000 (UTC)
Received: (qmail 30303 invoked by uid 500); 5 Mar 2015 10:26:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 30220 invoked by uid 500); 5 Mar 2015 10:26:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 30209 invoked by uid 99); 5 Mar 2015 10:26:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 10:26:15 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.169 as permitted sender)
Received: from [209.85.223.169] (HELO mail-ie0-f169.google.com) (209.85.223.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 10:25:50 +0000
Received: by iebtr6 with SMTP id tr6so2002220ieb.2
        for <dev@httpd.apache.org>; Thu, 05 Mar 2015 02:25:49 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=EKqush8P2xfeFkyiw6K0BxkVzm0BU1Gv3g3Dglk3mTM=;
        b=zOVIXE19e+VSNoAyQiNKmIIm87WrA+9jTKRdYnRDU32s5Jvyyo56VqlSSyMBbZBByk
         2BMU0cktHbiigf6zNGGKRkCIKJNkJCZTtfOXHZ72hhwJyWOkGhQyZ/HZdXKKebs1mny1
         pXVDpRLWdnsfh8mHbaFNLSU8YqSW9e38wW5CGF8OGGF6DbrOOh4Q5RH5yxP5UsCs4l73
         SYs7bVWoS/lsHbOTdbgsNw9iFVHDxY/cH4JN6UVSAiosAvVPbHZqPE+WSWyRrjhY4XTy
         im9GTnfahiIx6jz45M8IcjrJ/fKEHm4oY88Jd5wiEd7OjRL8Gur7q96mEhrc+xZJThXP
         e4IQ==
MIME-Version: 1.0
X-Received: by 10.107.132.16 with SMTP id g16mr18506154iod.62.1425551148979;
 Thu, 05 Mar 2015 02:25:48 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Thu, 5 Mar 2015 02:25:48 -0800 (PST)
In-Reply-To: <201503051048.18523@news.perlig.de>
References: <54F7FDF5.4050403@redhat.com>
	<201503051048.18523@news.perlig.de>
Date: Thu, 5 Mar 2015 11:25:48 +0100
Message-ID: <CAKQ1sVPAcDXdOjzFU9qtrKqoeKHVVaGd=J-c4KhRWi4NH7xZmQ@mail.gmail.com>
Subject: Re: Run external RewriteMap program as non-root
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Mar 5, 2015 at 10:48 AM, Andr=C3=A9 Malo <nd@perlig.de> wrote:
>
> 5) Let it drop the privileges by itself.
>
> I actually tend to 5 :-)

+1

From dev-return-82197-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  5 11:10:45 2015
Return-Path: <dev-return-82197-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 44C1210C0C
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  5 Mar 2015 11:10:45 +0000 (UTC)
Received: (qmail 20792 invoked by uid 500); 5 Mar 2015 11:10:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 20719 invoked by uid 500); 5 Mar 2015 11:10:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 20709 invoked by uid 99); 5 Mar 2015 11:10:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 11:10:41 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jkaluza@redhat.com designates 209.132.183.28 as permitted sender)
Received: from [209.132.183.28] (HELO mx1.redhat.com) (209.132.183.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 11:10:36 +0000
Received: from int-mx11.intmail.prod.int.phx2.redhat.com (int-mx11.intmail.prod.int.phx2.redhat.com [10.5.11.24])
	by mx1.redhat.com (8.14.4/8.14.4) with ESMTP id t25B8D2o004228
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Thu, 5 Mar 2015 06:08:13 -0500
Received: from dhcp-24-191.brq.redhat.com ([10.40.204.23])
	by int-mx11.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t25B8Caa023112
	for <dev@httpd.apache.org>; Thu, 5 Mar 2015 06:08:12 -0500
Message-ID: <54F8391B.2080506@redhat.com>
Date: Thu, 05 Mar 2015 12:08:11 +0100
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.4.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: Run external RewriteMap program as non-root
References: <54F7FDF5.4050403@redhat.com>
In-Reply-To: <54F7FDF5.4050403@redhat.com>
Content-Type: multipart/mixed;
 boundary="------------020404050307090201070904"
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.24
X-Virus-Checked: Checked by ClamAV on apache.org

This is a multi-part message in MIME format.
--------------020404050307090201070904
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit

On 03/05/2015 07:55 AM, Jan Kalua wrote:
> Hi,
>
> currently, the External Rewriting Program (RewriteMap "prg:") is run as
> root. I would like to change it but I see three ways how to do it:
>
> 1. Execute it right after drop_privileges hook. This looks like best
> way, but I haven't found any hook which could be used for that (except
> drop_privileges with APR_HOOK_REALLY_LAST, which does not seem as proper
> place to me).
>
> 2. Execute it in child_init. This is done after drop_privileges, so the
> user/group is good. The "problem" here is that it would execute one
> rewrite program per child. Right now I'm not sure if it's really
> problem. It could be useful to have more instances of rewriting program
> to make its bottleneck lower.
>
> 3. Execute it where it is now (post_config), but set user/group using
> apr_procattr_t. So far I think this would duplicate the code of
> mod_unixd and would probably have to also handle the windows equivalent
> of that module (if there's any).

I've been thinking about this one more and with introduction of third 
argument to RewriteMap, it could be possible with patch similar to 
attached one.

You can do "RewriteMap MapName prg:/path user:group" with the patch.

This could be even backported to 2.4.x.

Jan Kaluza

> What way do you think is the best, or would you do it differently?
>
> I'm attaching patch for number 2.
>
> Regards,
> Jan Kaluza


--------------020404050307090201070904
Content-Type: text/x-patch;
 name="httpd-trunk-rewritemap_v3.patch"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="httpd-trunk-rewritemap_v3.patch"

Index: modules/mappers/mod_rewrite.c
===================================================================
--- modules/mappers/mod_rewrite.c	(revision 1663642)
+++ modules/mappers/mod_rewrite.c	(working copy)
@@ -267,6 +267,8 @@
     const char *dbdq;              /* SQL SELECT statement for rewritemap */
     const char *checkfile2;        /* filename to check for map existence
                                       NULL if only one file               */
+    const char *user;
+    const char *group;
 } rewritemap_entry;
 
 /* special pattern types for RewriteCond */
@@ -1171,6 +1173,7 @@
 
 static apr_status_t rewritemap_program_child(apr_pool_t *p,
                                              const char *progname, char **argv,
+                                             const char *user, const char *group,
                                              apr_file_t **fpout,
                                              apr_file_t **fpin)
 {
@@ -1183,6 +1186,8 @@
                                                   APR_FULL_BLOCK, APR_NO_PIPE))
         && APR_SUCCESS == (rc=apr_procattr_dir_set(procattr,
                                              ap_make_dirstr_parent(p, argv[0])))
+        && (!user || APR_SUCCESS == (rc=apr_procattr_user_set(procattr, user, "")))
+        && (!group || APR_SUCCESS == (rc=apr_procattr_group_set(procattr, group)))
         && APR_SUCCESS == (rc=apr_procattr_cmdtype_set(procattr, APR_PROGRAM))
         && APR_SUCCESS == (rc=apr_procattr_child_errfn_set(procattr,
                                                            rewrite_child_errfn))
@@ -1240,6 +1245,7 @@
         }
 
         rc = rewritemap_program_child(p, map->argv[0], map->argv,
+                                      map->user, map->group,
                                       &fpout, &fpin);
         if (rc != APR_SUCCESS || fpin == NULL || fpout == NULL) {
             ap_log_error(APLOG_MARK, APLOG_ERR, rc, s, APLOGNO(00654)
@@ -3018,7 +3024,7 @@
 }
 
 static const char *cmd_rewritemap(cmd_parms *cmd, void *dconf, const char *a1,
-                                  const char *a2)
+                                  const char *a2, const char *a3)
 {
     rewrite_server_conf *sconf;
     rewritemap_entry *newmap;
@@ -3124,6 +3130,11 @@
 
         newmap->type      = MAPTYPE_PRG;
         newmap->checkfile = newmap->argv[0];
+        if (a3) {
+            char *tok_cntx;
+            newmap->user = apr_strtok(apr_pstrdup(cmd->pool, a3), ":", &tok_cntx);
+            newmap->group = apr_strtok(NULL, ":", &tok_cntx);
+        }
     }
     else if (strncasecmp(a2, "int:", 4) == 0) {
         newmap->type      = MAPTYPE_INT;
@@ -5205,8 +5216,8 @@
                      "an input string and a to be applied regexp-pattern"),
     AP_INIT_RAW_ARGS("RewriteRule",     cmd_rewriterule,     NULL, OR_FILEINFO,
                      "an URL-applied regexp-pattern and a substitution URL"),
-    AP_INIT_TAKE2(   "RewriteMap",      cmd_rewritemap,      NULL, RSRC_CONF,
-                     "a mapname and a filename"),
+    AP_INIT_TAKE23(   "RewriteMap",      cmd_rewritemap,      NULL, RSRC_CONF,
+                     "a mapname and a filename and options"),
     { NULL }
 };
 

--------------020404050307090201070904--

From dev-return-82198-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  5 11:54:36 2015
Return-Path: <dev-return-82198-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4ACF010D66
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  5 Mar 2015 11:54:36 +0000 (UTC)
Received: (qmail 94496 invoked by uid 500); 5 Mar 2015 11:54:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94438 invoked by uid 500); 5 Mar 2015 11:54:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94428 invoked by uid 99); 5 Mar 2015 11:54:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 11:54:35 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.174 as permitted sender)
Received: from [209.85.223.174] (HELO mail-ie0-f174.google.com) (209.85.223.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 11:54:30 +0000
Received: by iecat20 with SMTP id at20so22219311iec.6
        for <dev@httpd.apache.org>; Thu, 05 Mar 2015 03:53:24 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=CnkI4kAuEOl2m5lsu2tLQNsXgoyUAVAxkT7iBnkbKCU=;
        b=Pi+4bFaFtBX30gBffjV6ebjLEVcc48XxaNU9V4rwix9aRYMG0qhfF97On8loBqMTTD
         PWdQJb3tluWHUUPZB/YalnZZODQponSHp6Lq0wrV0+M9KfPXSLFMAUjg4/OROiLgCy0t
         P98AQpiCZzHYqAWscX9WGUrwZyKHrkgKM5/c3aEkD/UG4dMFhI5mAgrH4IbWZhd1/tRm
         3VLxvxdHq9jPiAp+N4dRw71V1BPJyNmQyHwrbu9+f7GpXD/HaPFZ/9ASyRql9PZB1uDT
         qgyrHnpP5YkHGQ2u8Ea7Nsm01nomfnisYOOZeGCDiK19IdZyGI94tde3W70LmSl6GSfb
         BXkQ==
MIME-Version: 1.0
X-Received: by 10.42.103.199 with SMTP id n7mr3054424ico.56.1425556404737;
 Thu, 05 Mar 2015 03:53:24 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Thu, 5 Mar 2015 03:53:24 -0800 (PST)
In-Reply-To: <54F8391B.2080506@redhat.com>
References: <54F7FDF5.4050403@redhat.com>
	<54F8391B.2080506@redhat.com>
Date: Thu, 5 Mar 2015 12:53:24 +0100
Message-ID: <CAKQ1sVNftrYzAn-Jm0-V85cR5tu02MtatSpYB97Rorq5=+dDZQ@mail.gmail.com>
Subject: Re: Run external RewriteMap program as non-root
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Mar 5, 2015 at 12:08 PM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrote=
:
> On 03/05/2015 07:55 AM, Jan Kalu=C5=BEa wrote:
>>
>> 3. Execute it where it is now (post_config), but set user/group using
>> apr_procattr_t. So far I think this would duplicate the code of
>> mod_unixd and would probably have to also handle the windows equivalent
>> of that module (if there's any).
>
>
> I've been thinking about this one more and with introduction of third
> argument to RewriteMap, it could be possible with patch similar to attach=
ed
> one.
>
> You can do "RewriteMap MapName prg:/path user:group" with the patch.
>
> This could be even backported to 2.4.x.

I'm fine with this one too (unix only?).

From dev-return-82199-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  5 12:14:51 2015
Return-Path: <dev-return-82199-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B53F010E85
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  5 Mar 2015 12:14:51 +0000 (UTC)
Received: (qmail 33600 invoked by uid 500); 5 Mar 2015 12:14:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 33543 invoked by uid 500); 5 Mar 2015 12:14:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 33533 invoked by uid 99); 5 Mar 2015 12:14:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 12:14:44 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of covener@gmail.com designates 209.85.212.178 as permitted sender)
Received: from [209.85.212.178] (HELO mail-wi0-f178.google.com) (209.85.212.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 12:14:20 +0000
Received: by wiwl15 with SMTP id l15so2412131wiw.1
        for <dev@httpd.apache.org>; Thu, 05 Mar 2015 04:14:19 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=ApKY6NHUqhfY0d1L8EKbJ16cETPtlqE9F+eyiZdUAkw=;
        b=Poj+AZK80xxvQj+ot38AuK8Yv0gxy0kXqbGUdRDVYUHSknD2J2H2Vg8e/KBHth0qp8
         mDnCywfC3zWu5sSlN+dkHDNWgYBZNhBBlBoaNsBj+Q/oRHKttcPzHlrz4cUQ5s3tf625
         hZEEsGoLbWnLpL6o0fMpkZKuEDlGkhEMQt3vaImldAVNfNdOFxtQhg13jPty7zgWTYNB
         JIQjt8BHCpvDp96dlkjsxjr9xS0Yl6lbgsdhgR59uVmqv0fKQkzt51PiOafxTqoQSkOx
         nfnxFYw/7pqfSWwNLLGkPVH6Cs6x5xWr+RT+CvWAJlQZPcVgOEkNEBcNk0iPz+EhfEdm
         euIQ==
MIME-Version: 1.0
X-Received: by 10.180.21.162 with SMTP id w2mr5955641wie.66.1425557658894;
 Thu, 05 Mar 2015 04:14:18 -0800 (PST)
Received: by 10.27.16.2 with HTTP; Thu, 5 Mar 2015 04:14:18 -0800 (PST)
In-Reply-To: <201503051048.18523@news.perlig.de>
References: <54F7FDF5.4050403@redhat.com>
	<201503051048.18523@news.perlig.de>
Date: Thu, 5 Mar 2015 07:14:18 -0500
Message-ID: <CALK=YjOhMF=ZWA=Ytirnddt7EyCZ4NTb48ucZY6LYgzREEmtwQ@mail.gmail.com>
Subject: Re: Run external RewriteMap program as non-root
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Mar 5, 2015 at 4:48 AM, Andr=C3=A9 Malo <nd@perlig.de> wrote:
> 5) Let it drop the privileges by itself.
>
> I actually tend to 5 :-)


+1 (as a new option as described in a followup)

--=20
Eric Covener
covener@gmail.com

From dev-return-82200-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  5 13:11:59 2015
Return-Path: <dev-return-82200-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DF308172F2
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  5 Mar 2015 13:11:58 +0000 (UTC)
Received: (qmail 35456 invoked by uid 500); 5 Mar 2015 13:11:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35371 invoked by uid 500); 5 Mar 2015 13:11:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35356 invoked by uid 99); 5 Mar 2015 13:11:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 13:11:50 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jkaluza@redhat.com designates 209.132.183.28 as permitted sender)
Received: from [209.132.183.28] (HELO mx1.redhat.com) (209.132.183.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 13:11:24 +0000
Received: from int-mx13.intmail.prod.int.phx2.redhat.com (int-mx13.intmail.prod.int.phx2.redhat.com [10.5.11.26])
	by mx1.redhat.com (8.14.4/8.14.4) with ESMTP id t25D8K1h021948
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Thu, 5 Mar 2015 08:08:20 -0500
Received: from dhcp-24-191.brq.redhat.com ([10.40.204.23])
	by int-mx13.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t25D8JnU016659
	for <dev@httpd.apache.org>; Thu, 5 Mar 2015 08:08:19 -0500
Message-ID: <54F85542.7070601@redhat.com>
Date: Thu, 05 Mar 2015 14:08:18 +0100
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.4.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: Run external RewriteMap program as non-root
References: <54F7FDF5.4050403@redhat.com>	<54F8391B.2080506@redhat.com> <CAKQ1sVNftrYzAn-Jm0-V85cR5tu02MtatSpYB97Rorq5=+dDZQ@mail.gmail.com>
In-Reply-To: <CAKQ1sVNftrYzAn-Jm0-V85cR5tu02MtatSpYB97Rorq5=+dDZQ@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.26
X-Virus-Checked: Checked by ClamAV on apache.org

On 03/05/2015 12:53 PM, Yann Ylavic wrote:
> On Thu, Mar 5, 2015 at 12:08 PM, Jan Kalua <jkaluza@redhat.com> wrote:
>> On 03/05/2015 07:55 AM, Jan Kalua wrote:
>>>
>>> 3. Execute it where it is now (post_config), but set user/group using
>>> apr_procattr_t. So far I think this would duplicate the code of
>>> mod_unixd and would probably have to also handle the windows equivalent
>>> of that module (if there's any).
>>
>>
>> I've been thinking about this one more and with introduction of third
>> argument to RewriteMap, it could be possible with patch similar to attached
>> one.
>>
>> You can do "RewriteMap MapName prg:/path user:group" with the patch.
>>
>> This could be even backported to 2.4.x.
>
> I'm fine with this one too (unix only?).

Still thinking about good RewriteMap syntax to pass "password" for 
Windows. But If people don't mind, having this unix only is also 
solution :).



From dev-return-82201-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  5 13:54:45 2015
Return-Path: <dev-return-82201-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8184E17425
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  5 Mar 2015 13:54:45 +0000 (UTC)
Received: (qmail 15401 invoked by uid 500); 5 Mar 2015 13:54:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15331 invoked by uid 500); 5 Mar 2015 13:54:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15320 invoked by uid 99); 5 Mar 2015 13:54:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 13:54:45 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [193.109.254.113] (HELO mail1.bemta14.messagelabs.com) (193.109.254.113)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 13:54:36 +0000
Received: from [193.109.254.3] by server-9.bemta-14.messagelabs.com id 25/6E-02777-05F58F45; Thu, 05 Mar 2015 13:51:12 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-6.tower-184.messagelabs.com!1425563470!7808866!3
X-Originating-IP: [195.232.224.81]
X-StarScan-Received:
X-StarScan-Version: 6.13.4; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 13809 invoked from network); 5 Mar 2015 13:51:12 -0000
Received: from mailout12.vodafone.com (HELO mailout12.vodafone.com) (195.232.224.81)
  by server-6.tower-184.messagelabs.com with SMTP; 5 Mar 2015 13:51:12 -0000
Received: from mailint12.vodafone.com (localhost [127.0.0.1])
	by mailout12.vodafone.com (Postfix) with ESMTP id AD8A3394935
	for <dev@httpd.apache.org>; Thu,  5 Mar 2015 14:51:11 +0100 (CET)
Received: from VOEXC03W.internal.vodafone.com (voexc03w.dc-ratingen.de [145.230.101.23])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint12.vodafone.com (Postfix) with ESMTPS id 9EF01394928
	for <dev@httpd.apache.org>; Thu,  5 Mar 2015 14:51:11 +0100 (CET)
Received: from VOEXC26W.internal.vodafone.com (145.230.103.198) by
 VOEXC03W.internal.vodafone.com (145.230.101.23) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Thu, 5 Mar 2015 14:51:11 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.55]) by voexc26w
 ([145.230.103.198]) with mapi id 14.03.0224.002; Thu, 5 Mar 2015 14:51:10
 +0100
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: AW: Run external RewriteMap program as non-root
Thread-Topic: Run external RewriteMap program as non-root
Thread-Index: AQHQVxLUidVH08zTdk+xDBqQvmFiaJ0NqmyAgAAMogCAABTtAIAAHFpg
Date: Thu, 5 Mar 2015 13:51:10 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC5E57307@VOEXM10W.internal.vodafone.com>
References: <54F7FDF5.4050403@redhat.com>	<54F8391B.2080506@redhat.com>
 <CAKQ1sVNftrYzAn-Jm0-V85cR5tu02MtatSpYB97Rorq5=+dDZQ@mail.gmail.com>
 <54F85542.7070601@redhat.com>
In-Reply-To: <54F85542.7070601@redhat.com>
Accept-Language: en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

DQoNCj4gLS0tLS1VcnNwcsO8bmdsaWNoZSBOYWNocmljaHQtLS0tLQ0KPiBWb246IEphbiBLYWx1
xb5hIFttYWlsdG86amthbHV6YUByZWRoYXQuY29tXQ0KPiBHZXNlbmRldDogRG9ubmVyc3RhZywg
NS4gTcOkcnogMjAxNSAxNDowOA0KPiBBbjogZGV2QGh0dHBkLmFwYWNoZS5vcmcNCj4gQmV0cmVm
ZjogUmU6IFJ1biBleHRlcm5hbCBSZXdyaXRlTWFwIHByb2dyYW0gYXMgbm9uLXJvb3QNCj4gDQo+
IE9uIDAzLzA1LzIwMTUgMTI6NTMgUE0sIFlhbm4gWWxhdmljIHdyb3RlOg0KPiA+IE9uIFRodSwg
TWFyIDUsIDIwMTUgYXQgMTI6MDggUE0sIEphbiBLYWx1xb5hIDxqa2FsdXphQHJlZGhhdC5jb20+
DQo+IHdyb3RlOg0KPiA+PiBPbiAwMy8wNS8yMDE1IDA3OjU1IEFNLCBKYW4gS2FsdcW+YSB3cm90
ZToNCj4gPj4+DQo+ID4+PiAzLiBFeGVjdXRlIGl0IHdoZXJlIGl0IGlzIG5vdyAocG9zdF9jb25m
aWcpLCBidXQgc2V0IHVzZXIvZ3JvdXANCj4gdXNpbmcNCj4gPj4+IGFwcl9wcm9jYXR0cl90LiBT
byBmYXIgSSB0aGluayB0aGlzIHdvdWxkIGR1cGxpY2F0ZSB0aGUgY29kZSBvZg0KPiA+Pj4gbW9k
X3VuaXhkIGFuZCB3b3VsZCBwcm9iYWJseSBoYXZlIHRvIGFsc28gaGFuZGxlIHRoZSB3aW5kb3dz
DQo+IGVxdWl2YWxlbnQNCj4gPj4+IG9mIHRoYXQgbW9kdWxlIChpZiB0aGVyZSdzIGFueSkuDQo+
ID4+DQo+ID4+DQo+ID4+IEkndmUgYmVlbiB0aGlua2luZyBhYm91dCB0aGlzIG9uZSBtb3JlIGFu
ZCB3aXRoIGludHJvZHVjdGlvbiBvZiB0aGlyZA0KPiA+PiBhcmd1bWVudCB0byBSZXdyaXRlTWFw
LCBpdCBjb3VsZCBiZSBwb3NzaWJsZSB3aXRoIHBhdGNoIHNpbWlsYXIgdG8NCj4gYXR0YWNoZWQN
Cj4gPj4gb25lLg0KPiA+Pg0KPiA+PiBZb3UgY2FuIGRvICJSZXdyaXRlTWFwIE1hcE5hbWUgcHJn
Oi9wYXRoIHVzZXI6Z3JvdXAiIHdpdGggdGhlIHBhdGNoLg0KPiA+Pg0KPiA+PiBUaGlzIGNvdWxk
IGJlIGV2ZW4gYmFja3BvcnRlZCB0byAyLjQueC4NCj4gPg0KPiA+IEknbSBmaW5lIHdpdGggdGhp
cyBvbmUgdG9vICh1bml4IG9ubHk/KS4NCj4gDQo+IFN0aWxsIHRoaW5raW5nIGFib3V0IGdvb2Qg
UmV3cml0ZU1hcCBzeW50YXggdG8gcGFzcyAicGFzc3dvcmQiIGZvcg0KPiBXaW5kb3dzLiBCdXQg
SWYgcGVvcGxlIGRvbid0IG1pbmQsIGhhdmluZyB0aGlzIHVuaXggb25seSBpcyBhbHNvDQo+IHNv
bHV0aW9uIDopLg0KPiANCg0KVGhlIHBhc3N3b3JkIGlzc3VlIGZvciBXaW5kb3dzIHdhcyBhbHNv
IG9uIG15IG1pbmQgOi0pLiBIYXZpbmcgaXQgaW4gY2xlYXJ0ZXh0IGluIHRoZSBjb25maWcgc2Vl
bXMgdWdseS4NClNvIFVuaXggb25seSBzaG91bGQgYmUgZmluZSBhdCBsZWFzdCBmb3IgdGhlIHN0
YXJ0Lg0KDQpSZWdhcmRzDQoNClLDvGRpZ2VyDQo=

From dev-return-82202-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  5 16:14:44 2015
Return-Path: <dev-return-82202-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 06E1B17B23
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  5 Mar 2015 16:14:44 +0000 (UTC)
Received: (qmail 52966 invoked by uid 500); 5 Mar 2015 16:14:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 52896 invoked by uid 500); 5 Mar 2015 16:14:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 52887 invoked by uid 99); 5 Mar 2015 16:14:43 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 16:14:43 +0000
Received: from gauss.localdomain (v4-861347e2.pool.vitroconnect.de [134.19.71.226])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 379661A048C
	for <dev@httpd.apache.org>; Thu,  5 Mar 2015 16:14:43 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 976237E9
	for <dev@httpd.apache.org>; Thu,  5 Mar 2015 17:14:42 +0100 (CET)
Message-ID: <54F880F2.9060504@apache.org>
Date: Thu, 05 Mar 2015 17:14:42 +0100
From: Ruediger Pluem <rpluem@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:35.0) Gecko/20100101 Firefox/35.0 SeaMonkey/2.32.1
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: error_time reset in proxy_util.c
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

I am currently hunting down an issue where a balancer member that is set to error is reused before the retry time runs out.
I think the reason is some race condition around line 2900 in proxy_util.c

    /*
     * Put the entire worker to error state if
     * the PROXY_WORKER_IGNORE_ERRORS flag is not set.
     * Altrough some connections may be alive
     * no further connections to the worker could be made
     */
    if (!connected && PROXY_WORKER_IS_USABLE(worker) &&
        !(worker->s->status & PROXY_WORKER_IGNORE_ERRORS)) {
        worker->s->error_time = apr_time_now();
        worker->s->status |= PROXY_WORKER_IN_ERROR;
        ap_log_error(APLOG_MARK, APLOG_ERR, 0, s, APLOGNO(00959)
            "ap_proxy_connect_backend disabling worker for (%s) for %"
            APR_TIME_T_FMT "s",
            worker->s->hostname, apr_time_sec(worker->s->retry));
    }
    else {
        if (worker->s->retries) {
            /*
             * A worker came back. So here is where we need to
             * either reset all params to initial conditions or
             * apply some sort of aging
             */
        }
        worker->s->error_time = 0;
        worker->s->retries = 0;
    }

I suspect that the worker was already set to error by a parallel thread / process and hence
PROXY_WORKER_IS_USABLE(worker) is false and causes worker->s->error_time to be reset which causes the worker to be open
for retry immediately. This has been the case since r104624
(http://svn.apache.org/viewvc?view=revision&revision=r104624) 10,5 years ago and the commit messages offers no hint at
least to be why we reset these values.
Can anybody think of a good reason why we do this?
Another question is if we shouldn't do

worker->s->error_time = apr_time_now();

also in case the worker is already in error state to restart the retry clock as we just faced an error with connecting
to the backend.


Regards

Rdiger

From dev-return-82203-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  5 16:30:25 2015
Return-Path: <dev-return-82203-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C289E17C09
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  5 Mar 2015 16:30:25 +0000 (UTC)
Received: (qmail 863 invoked by uid 500); 5 Mar 2015 16:30:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 781 invoked by uid 500); 5 Mar 2015 16:30:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 771 invoked by uid 99); 5 Mar 2015 16:30:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 16:30:25 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of covener@gmail.com designates 74.125.82.41 as permitted sender)
Received: from [74.125.82.41] (HELO mail-wg0-f41.google.com) (74.125.82.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 16:29:59 +0000
Received: by wghl18 with SMTP id l18so7266779wgh.5
        for <dev@httpd.apache.org>; Thu, 05 Mar 2015 08:29:58 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=kHS+ljXT9TFK+dzJWklgqRGurka/9ZUjLXBtZ+8rSlo=;
        b=jAh8+bNcsuXMxoKY9ARXilc6FR/nEdjfq63le380NGJH2pPwmxRh5JnE4vZ2TUramE
         vxBKWTFlv/fS65FuTKiSO41c2lzy36/i/PiSJCjp4SMfp9gVQhCNpVcYHVWQr/y6aapc
         Ilc9BO3szHuo/UYF0Rcr3qHR7lpIPs+pTBvcDFsuQfsrd/Q2ZrICepjuRgqr8wY5sXq6
         do4HQ0TpdWV8DOMC7iUTkPipCsAZI0q1MEWOtYswRcPQsEn9quN51ytLicDOr8X1tCib
         Q4sZZnpLduCYp8d6H6PC0JYuIfruvtMp2CLLEvyCZkvoZUffQp1Qgy703F2RN7K0jUCx
         hJmg==
MIME-Version: 1.0
X-Received: by 10.194.48.74 with SMTP id j10mr20793744wjn.38.1425572998314;
 Thu, 05 Mar 2015 08:29:58 -0800 (PST)
Received: by 10.27.16.2 with HTTP; Thu, 5 Mar 2015 08:29:58 -0800 (PST)
In-Reply-To: <54F880F2.9060504@apache.org>
References: <54F880F2.9060504@apache.org>
Date: Thu, 5 Mar 2015 11:29:58 -0500
Message-ID: <CALK=YjPWJAD8SNxrFTEuY75WDHwkWOzcJaU2S20_RLwwaqeM2w@mail.gmail.com>
Subject: Re: error_time reset in proxy_util.c
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Mar 5, 2015 at 11:14 AM, Ruediger Pluem <rpluem@apache.org> wrote:
> I suspect that the worker was already set to error by a parallel thread / process and hence
> PROXY_WORKER_IS_USABLE(worker) is false and causes worker->s->error_time to be reset which causes the worker to be open
> for retry immediately. This has been the case since r104624
> (http://svn.apache.org/viewvc?view=revision&revision=r104624) 10,5 years ago and the commit messages offers no hint at
> least to be why we reset these values.
> Can anybody think of a good reason why we do this?

that sequence sounds plausible

> Another question is if we shouldn't do
>
> worker->s->error_time = apr_time_now();
>
> also in case the worker is already in error state to restart the retry clock as we just faced an error with connecting
> to the backend.

Isn't this already handled by the thread that put the worker in error
during the race? If there's no race, we already have this line of code
for the main path.

From dev-return-82204-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar  5 17:01:03 2015
Return-Path: <dev-return-82204-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6455117D46
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  5 Mar 2015 17:01:03 +0000 (UTC)
Received: (qmail 80149 invoked by uid 500); 5 Mar 2015 17:00:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 79969 invoked by uid 500); 5 Mar 2015 17:00:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 79739 invoked by uid 99); 5 Mar 2015 17:00:03 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 05 Mar 2015 17:00:03 +0000
Received: from gauss.localdomain (v4-861347e2.pool.vitroconnect.de [134.19.71.226])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id A60671A048C
	for <dev@httpd.apache.org>; Thu,  5 Mar 2015 17:00:02 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 90AAF7E9
	for <dev@httpd.apache.org>; Thu,  5 Mar 2015 18:00:02 +0100 (CET)
Message-ID: <54F88B92.1010708@apache.org>
Date: Thu, 05 Mar 2015 18:00:02 +0100
From: Ruediger Pluem <rpluem@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:35.0) Gecko/20100101 Firefox/35.0 SeaMonkey/2.32.1
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: error_time reset in proxy_util.c
References: <54F880F2.9060504@apache.org> <CALK=YjPWJAD8SNxrFTEuY75WDHwkWOzcJaU2S20_RLwwaqeM2w@mail.gmail.com>
In-Reply-To: <CALK=YjPWJAD8SNxrFTEuY75WDHwkWOzcJaU2S20_RLwwaqeM2w@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 03/05/2015 05:29 PM, Eric Covener wrote:
> On Thu, Mar 5, 2015 at 11:14 AM, Ruediger Pluem <rpluem@apache.org> wrote:
>> I suspect that the worker was already set to error by a parallel thread / process and hence
>> PROXY_WORKER_IS_USABLE(worker) is false and causes worker->s->error_time to be reset which causes the worker to be open
>> for retry immediately. This has been the case since r104624
>> (http://svn.apache.org/viewvc?view=revision&revision=r104624) 10,5 years ago and the commit messages offers no hint at
>> least to be why we reset these values.
>> Can anybody think of a good reason why we do this?
> 
> that sequence sounds plausible

So do you see any reason why we do this, or should we just stop doing so?

Another thing:

    else {
        if (worker->s->retries) {
            /*
             * A worker came back. So here is where we need to
             * either reset all params to initial conditions or
             * apply some sort of aging
             */
        }

The comment makes a wrong assumption as we might be here despite the connection failed because the worker was already in
error. So we might need to split into two ifs above and separate the conditions where the connection failed and where we
need to do something with the worker because it wasn't in error yet. How about:

Index: proxy_util.c
===================================================================
--- proxy_util.c        (revision 1664261)
+++ proxy_util.c        (working copy)
@@ -2887,33 +2887,48 @@

         connected    = 1;
     }
-    /*
-     * Put the entire worker to error state if
-     * the PROXY_WORKER_IGNORE_ERRORS flag is not set.
-     * Altrough some connections may be alive
-     * no further connections to the worker could be made
-     */
-    if (!connected && PROXY_WORKER_IS_USABLE(worker) &&
-        !(worker->s->status & PROXY_WORKER_IGNORE_ERRORS)) {
-        worker->s->error_time = apr_time_now();
-        worker->s->status |= PROXY_WORKER_IN_ERROR;
-        ap_log_error(APLOG_MARK, APLOG_ERR, 0, s, APLOGNO(00959)
-            "ap_proxy_connect_backend disabling worker for (%s) for %"
-            APR_TIME_T_FMT "s",
-            worker->s->hostname, apr_time_sec(worker->s->retry));
+    if (PROXY_WORKER_IS_USABLE(worker)) {
+        /*
+         * Put the entire worker to error state if
+         * the PROXY_WORKER_IGNORE_ERRORS flag is not set.
+         * Altrough some connections may be alive
+         * no further connections to the worker could be made
+         */
+        if (!connected) {
+            if (!(worker->s->status & PROXY_WORKER_IGNORE_ERRORS)) {
+                worker->s->error_time = apr_time_now();
+                worker->s->status |= PROXY_WORKER_IN_ERROR;
+                ap_log_error(APLOG_MARK, APLOG_ERR, 0, s, APLOGNO(00959)
+                    "ap_proxy_connect_backend disabling worker for (%s) for %"
+                    APR_TIME_T_FMT "s",
+                    worker->s->hostname, apr_time_sec(worker->s->retry));
+            }
+        }
+        else {
+            if (worker->s->retries) {
+                /*
+                 * A worker came back. So here is where we need to
+                 * either reset all params to initial conditions or
+                 * apply some sort of aging
+                 */
+            }
+            worker->s->error_time = 0;
+            worker->s->retries = 0;
+        }
+        return connected ? OK : DECLINED;
     }
     else {
-        if (worker->s->retries) {
-            /*
-             * A worker came back. So here is where we need to
-             * either reset all params to initial conditions or
-             * apply some sort of aging
-             */
+        /*
+         * The worker is in error likely done by a different thread / processi
+         * e.g. for a timeout or bad status. We should respect this and should
+         * not continue with a connection via this worker even if we got one.
+         */
+        if (connected) {
+            apr_socket_close(conn->sock );
+            conn->sock = NULL;
         }
-        worker->s->error_time = 0;
-        worker->s->retries = 0;
+        return DECLINED;
     }
-    return connected ? OK : DECLINED;
 }

 static apr_status_t connection_shutdown(void *theconn)


> 
>> Another question is if we shouldn't do
>>
>> worker->s->error_time = apr_time_now();
>>
>> also in case the worker is already in error state to restart the retry clock as we just faced an error with connecting
>> to the backend.
> 
> Isn't this already handled by the thread that put the worker in error
> during the race? If there's no race, we already have this line of code
> for the main path.
> 

Valid point, but we might have an error situation here that is more recent then the one by the thread that put it into
error. OTOH as I suspect a race the difference is likely to be rather slim, so it might not be worth the effort.

Regards

Rdiger

From dev-return-82205-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar  6 09:15:45 2015
Return-Path: <dev-return-82205-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 368DF10869
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  6 Mar 2015 09:15:45 +0000 (UTC)
Received: (qmail 6618 invoked by uid 500); 6 Mar 2015 09:15:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6542 invoked by uid 500); 6 Mar 2015 09:15:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6532 invoked by uid 99); 6 Mar 2015 09:15:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 09:15:44 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jkaluza@redhat.com designates 209.132.183.28 as permitted sender)
Received: from [209.132.183.28] (HELO mx1.redhat.com) (209.132.183.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 09:15:39 +0000
Received: from int-mx13.intmail.prod.int.phx2.redhat.com (int-mx13.intmail.prod.int.phx2.redhat.com [10.5.11.26])
	by mx1.redhat.com (8.14.4/8.14.4) with ESMTP id t269FF2a027054
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Fri, 6 Mar 2015 04:15:16 -0500
Received: from dhcp-24-191.brq.redhat.com ([10.40.204.37])
	by int-mx13.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t269FEj7013735
	for <dev@httpd.apache.org>; Fri, 6 Mar 2015 04:15:15 -0500
Message-ID: <54F97022.1080404@redhat.com>
Date: Fri, 06 Mar 2015 10:15:14 +0100
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.4.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: AW: Run external RewriteMap program as non-root
References: <54F7FDF5.4050403@redhat.com>	<54F8391B.2080506@redhat.com> <CAKQ1sVNftrYzAn-Jm0-V85cR5tu02MtatSpYB97Rorq5=+dDZQ@mail.gmail.com> <54F85542.7070601@redhat.com> <AB1691BE05AE7F4992697F2A0835627AC5E57307@VOEXM10W.internal.vodafone.com>
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC5E57307@VOEXM10W.internal.vodafone.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.26
X-Virus-Checked: Checked by ClamAV on apache.org

On 03/05/2015 02:51 PM, Plm, Rdiger, Vodafone Group wrote:
>
>
>> -----Ursprngliche Nachricht-----
>> Von: Jan Kalua [mailto:jkaluza@redhat.com]
>> Gesendet: Donnerstag, 5. Mrz 2015 14:08
>> An: dev@httpd.apache.org
>> Betreff: Re: Run external RewriteMap program as non-root
>>
>> On 03/05/2015 12:53 PM, Yann Ylavic wrote:
>>> On Thu, Mar 5, 2015 at 12:08 PM, Jan Kalua <jkaluza@redhat.com>
>> wrote:
>>>> On 03/05/2015 07:55 AM, Jan Kalua wrote:
>>>>>
>>>>> 3. Execute it where it is now (post_config), but set user/group
>> using
>>>>> apr_procattr_t. So far I think this would duplicate the code of
>>>>> mod_unixd and would probably have to also handle the windows
>> equivalent
>>>>> of that module (if there's any).
>>>>
>>>>
>>>> I've been thinking about this one more and with introduction of third
>>>> argument to RewriteMap, it could be possible with patch similar to
>> attached
>>>> one.
>>>>
>>>> You can do "RewriteMap MapName prg:/path user:group" with the patch.
>>>>
>>>> This could be even backported to 2.4.x.
>>>
>>> I'm fine with this one too (unix only?).
>>
>> Still thinking about good RewriteMap syntax to pass "password" for
>> Windows. But If people don't mind, having this unix only is also
>> solution :).
>>
>
> The password issue for Windows was also on my mind :-). Having it in cleartext in the config seems ugly.
> So Unix only should be fine at least for the start.

Committed in r1664565. Thanks all for discussion.

> Regards
>
> Rdiger
>

Regards,
Jan Kaluza



From dev-return-82206-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar  6 09:32:15 2015
Return-Path: <dev-return-82206-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A685910905
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  6 Mar 2015 09:32:15 +0000 (UTC)
Received: (qmail 37260 invoked by uid 500); 6 Mar 2015 09:32:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 37195 invoked by uid 500); 6 Mar 2015 09:32:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 37185 invoked by uid 99); 6 Mar 2015 09:32:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 09:32:14 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.174 as permitted sender)
Received: from [209.85.223.174] (HELO mail-ie0-f174.google.com) (209.85.223.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 09:32:10 +0000
Received: by iecar1 with SMTP id ar1so84021377iec.0
        for <dev@httpd.apache.org>; Fri, 06 Mar 2015 01:29:34 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=fiViCO6/ZVhVppwak0wkc4CbFIK7uoG/a+BuesU+h2w=;
        b=AX2BdcWrI9vn6P8t4d3OOJ6aRenxOUprBv4LWg1jNo5v0AYTLCdeUtf+C+MGhzKnZV
         7FdHnUnwtv7S2ZWFnn275aigDk65SJUAp2rYhsrWgEW7bTMKtKEkgMKnLZUcV7nIEgYG
         8jGNZpHgZ0UT4wzXkNIufyKKBHcf54dHCSeRWfjIeNmIOIuXmIZvz32QAUpvSu7mL0Zm
         QeMVAchKCaNL4hXWWMCcUQIJMhkEjKMhJjDHS1kZB+1aG9EPqpgz3IKL2Y366xmsk3ba
         1GJz8B4qOiBXTG7rFsFvMbLxFZwns0lZIlXjGK8xkxp/QGJK6/lFT7SLBSf6cbq0uiHP
         zW1A==
MIME-Version: 1.0
X-Received: by 10.43.90.199 with SMTP id bj7mr8966398icc.35.1425634174815;
 Fri, 06 Mar 2015 01:29:34 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Fri, 6 Mar 2015 01:29:34 -0800 (PST)
In-Reply-To: <20150306091408.2E6DFAC006E@hades.apache.org>
References: <20150306091408.2E6DFAC006E@hades.apache.org>
Date: Fri, 6 Mar 2015 10:29:34 +0100
Message-ID: <CAKQ1sVPjyUzcKWJb4-5vHnAHHL+vZXYirLjEh8VL5Lh4tZjsaQ@mail.gmail.com>
Subject: Re: svn commit: r1664565 - in /httpd/httpd/trunk: CHANGES
 docs/manual/rewrite/rewritemap.xml modules/mappers/mod_rewrite.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Jan,

On Fri, Mar 6, 2015 at 10:14 AM,  <jkaluza@apache.org> wrote:
> Author: jkaluza
> Date: Fri Mar  6 09:14:07 2015
> New Revision: 1664565
>
> URL: http://svn.apache.org/r1664565
> Log:
> *) mod_rewrite: Add support for starting External Rewriting Programs
>    as non-root user on UNIX systems by specifying username and group name
>    as third argument of RewriteMap directive.
>
> Modified:
>     httpd/httpd/trunk/CHANGES
>     httpd/httpd/trunk/docs/manual/rewrite/rewritemap.xml
>     httpd/httpd/trunk/modules/mappers/mod_rewrite.c
>
[]
> Modified: httpd/httpd/trunk/docs/manual/rewrite/rewritemap.xml
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/rewrite/rewritemap.xml?rev=1664565&r1=1664564&r2=1664565&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/docs/manual/rewrite/rewritemap.xml (original)
> +++ httpd/httpd/trunk/docs/manual/rewrite/rewritemap.xml Fri Mar  6 09:14:07 2015
> @@ -349,6 +349,11 @@ by many requests.
>      module="mod_rewrite">RewriteEngine</directive> set to
>      <code>on</code>.</p>
>
> +    <p>By default, external rewriting programs are started as root.

s/started as root/run as the user:group who started httpd/ ?

> +    This can be changed on UNIX systems by passing user name and
> +    group name as third argument to <directive module="mod_rewrite">
> +    RewriteMap</directive> in the <code>username:groupname</code> format.</p>
> +
>      <p>This feature utilizes the <code>rewrite-map</code> mutex,
>      which is required for reliable communication with the program.
>      The mutex mechanism and lock file can be configured with the
> @@ -360,7 +365,7 @@ by many requests.
>  <p><strong>Rewrite configuration</strong></p>
>      <highlight language="config">
>
> -RewriteMap d2u prg:/www/bin/dash2under.pl<br />
> +RewriteMap d2u prg:/www/bin/dash2under.pl apache:apache<br />
>  RewriteRule - ${d2u:%{REQUEST_URI}}
>      </highlight>
>
>

Could you please also modify Syntax (and describe a bit) in
mod_rewrite.html#rewritemap (docs/manual/mod/mod_rewrite.xml) too?

Regards,
Yann.

From dev-return-82207-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar  6 09:35:08 2015
Return-Path: <dev-return-82207-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1F56610921
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  6 Mar 2015 09:35:08 +0000 (UTC)
Received: (qmail 42050 invoked by uid 500); 6 Mar 2015 09:34:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 41983 invoked by uid 500); 6 Mar 2015 09:34:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 41972 invoked by uid 99); 6 Mar 2015 09:34:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 09:34:32 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.174 as permitted sender)
Received: from [209.85.213.174] (HELO mail-ig0-f174.google.com) (209.85.213.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 09:34:07 +0000
Received: by igbhl2 with SMTP id hl2so2367736igb.5
        for <dev@httpd.apache.org>; Fri, 06 Mar 2015 01:34:05 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=d5XZjDLKog1eSGk52zSHlsXfb1blQObX1gh5nJ9O/zg=;
        b=Kt5Cu/OBVWdMjZY1nMNrT4R6LTDIQp8h6J6KrsTrILyAAh970O63oq3ou9fWYZD84D
         Jriaf3/Hhtp4NaHcLtmMIBncPha10a5vmk8ARyrCxvBRVqqsAqZyBx+E1+IRlzj6TklY
         rpXck8/NzX+KvunkE8YuZOqOyOl7Obj3Wv2+QyKxqzaLGpIAoHysb7LwFGj9CY2A4zTd
         WI/+DuYijsuzWwHdVsV3oftzqX/Ua4YbNRQAbI+yaJ36K8maRamn3+2MuzFHVZGMXJHY
         kzIicp52iwf1y7Ol7yaE1gzpir1NKLm+jmGqeXou9bntLdSOPfZ5FTZpgz0YRCHpzJy/
         zYRA==
MIME-Version: 1.0
X-Received: by 10.107.132.39 with SMTP id g39mr6655473iod.62.1425634445518;
 Fri, 06 Mar 2015 01:34:05 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Fri, 6 Mar 2015 01:34:05 -0800 (PST)
In-Reply-To: <CAKQ1sVPpxacfv3=AgXp1jsfbEN+7mkVKQJ5UJ66uuv5Gb+vNjg@mail.gmail.com>
References: <790D2F28-E370-4727-B5E8-CD852999585A@jaguNET.com>
	<CAKQ1sVPpxacfv3=AgXp1jsfbEN+7mkVKQJ5UJ66uuv5Gb+vNjg@mail.gmail.com>
Date: Fri, 6 Mar 2015 10:34:05 +0100
Message-ID: <CAKQ1sVO7+BgeKsp5TA+-3CzgU59NOWX3+sXnM65dUk81AsOhmA@mail.gmail.com>
Subject: Re: Event and RINGs
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Mar 5, 2015 at 10:20 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
> Btw, short term (which is not what you are talking about I guess),
> skiplists in APR-1.5 are missing apr_skiplist_add(), so timers may
> collide and apr_skiplist_insert() won't add them (which does not help
> moving to them in several cases).

Great this have been resolved, thanks Jim :)

The only missing function (really usefull) in APR-1.5.x is
apr_skiplist_size(), but not a big issue since we can create our own
ap_skiplist_insert() and ap_skiplist_pop() which do the counting (if
we use a single skiplist, we probably have to count different timers'
types separately anyhow).

From dev-return-82208-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar  6 12:12:06 2015
Return-Path: <dev-return-82208-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8A47810F12
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  6 Mar 2015 12:12:06 +0000 (UTC)
Received: (qmail 4339 invoked by uid 500); 6 Mar 2015 12:12:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 4264 invoked by uid 500); 6 Mar 2015 12:12:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 4254 invoked by uid 99); 6 Mar 2015 12:12:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 12:12:06 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.182 as permitted sender)
Received: from [209.85.223.182] (HELO mail-ie0-f182.google.com) (209.85.223.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 12:12:00 +0000
Received: by iecrp18 with SMTP id rp18so16962398iec.10
        for <dev@httpd.apache.org>; Fri, 06 Mar 2015 04:10:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=dRd/hZhRzaEZ7EXlEd2SIdv6ojL0rNQ2xqZ79luuqPY=;
        b=lJkJBGOF1E1BnFGiqqPTZaYCV6YcA9psh76nF9pnH6X/ogbmTeiMuKCYdCL1w0x1DX
         6PPCaotkRtplmqmAjs11zdbvIbOu42bvDjulZ3Ub3syJH4nB6zJ9TVIEONUR33ojhj22
         Xcovd1r4BgaTTYprZ8L6By5DS9zPqce/nS9fPJKS8yI8R8l3YDJouaEtv6rD7UD+O+3Z
         sTMUFl90SehX0o7lI3vbExsCUrZYS9XlZbqUaiKLkX6gkRSE+4f7+VlYQ8dMGboXOK8A
         7ipdYfHMLYoDvWn7R8uechfcPw5Ah7Kj/8qgN9GCB2ZMvPml04fivVWDIe/5/gD5xklp
         nBww==
MIME-Version: 1.0
X-Received: by 10.42.103.199 with SMTP id n7mr9618227ico.56.1425643809763;
 Fri, 06 Mar 2015 04:10:09 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Fri, 6 Mar 2015 04:10:09 -0800 (PST)
Date: Fri, 6 Mar 2015 13:10:09 +0100
Message-ID: <CAKQ1sVP4JTyEOTyHgcrBCS0ug+4h7h_jLnNgsL5rzQFwPUKvLw@mail.gmail.com>
Subject: Compatibility of existing directives switched to support expressions
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

I wonder if, for (too?)strict compatibiliy, we shouldn't add an
argument/suffix the name for directives modified to now support
expressions, in the quite (too?)unlikely case where the original value
contained a plain "%{whatever}" text or path (probably not concerning
URLs since "%{" is illegal there).
Just to disambiguate...

This has probably already been done in the past without (noticeable)
issue, so I may be paranoid here.

Just in case, regarding 2.4.13 this concerns (AFAICT):
- http://svn.apache.org/r1663259 (already backported to 2.4.13)
- http://svn.apache.org/r1663124
- http://svn.apache.org/r1661448
- ...?
( nothing against Graham of course which did all this good and very
valuable job ;)

Am I too paranoid and the leading "%{" is enough?

Regards,
Yann.

From dev-return-82209-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar  6 12:22:56 2015
Return-Path: <dev-return-82209-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4CB0810F87
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  6 Mar 2015 12:22:56 +0000 (UTC)
Received: (qmail 25742 invoked by uid 500); 6 Mar 2015 12:22:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 25661 invoked by uid 500); 6 Mar 2015 12:22:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 25649 invoked by uid 99); 6 Mar 2015 12:22:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 12:22:52 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of minfrin@sharp.fm designates 80.168.143.5 as permitted sender)
Received: from [80.168.143.5] (HELO monica.sharp.fm) (80.168.143.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 12:22:45 +0000
Received: from [192.168.88.159] (unknown [192.168.88.159])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id C853980B71
	for <dev@httpd.apache.org>; Fri,  6 Mar 2015 12:20:53 +0000 (GMT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: Compatibility of existing directives switched to support expressions
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <CAKQ1sVP4JTyEOTyHgcrBCS0ug+4h7h_jLnNgsL5rzQFwPUKvLw@mail.gmail.com>
Date: Fri, 6 Mar 2015 14:20:52 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <756470D2-6B50-4979-A76E-D98B5FB64759@sharp.fm>
References: <CAKQ1sVP4JTyEOTyHgcrBCS0ug+4h7h_jLnNgsL5rzQFwPUKvLw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org

On 06 Mar 2015, at 2:10 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> I wonder if, for (too?)strict compatibiliy, we shouldn't add an
> argument/suffix the name for directives modified to now support
> expressions, in the quite (too?)unlikely case where the original value
> contained a plain "%{whatever}" text or path (probably not concerning
> URLs since "%{" is illegal there).
> Just to disambiguate...
>=20
> This has probably already been done in the past without (noticeable)
> issue, so I may be paranoid here.

If we did that I believe we=E2=80=99d just have an explosion of =
directives and confusion.

Regards,
Graham
=E2=80=94


From dev-return-82210-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar  6 13:33:22 2015
Return-Path: <dev-return-82210-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1224F173B7
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  6 Mar 2015 13:33:22 +0000 (UTC)
Received: (qmail 29604 invoked by uid 500); 6 Mar 2015 13:26:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29530 invoked by uid 500); 6 Mar 2015 13:26:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29520 invoked by uid 99); 6 Mar 2015 13:26:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 13:26:41 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.181 as permitted sender)
Received: from [209.85.223.181] (HELO mail-ie0-f181.google.com) (209.85.223.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 13:26:37 +0000
Received: by iecar1 with SMTP id ar1so85263488iec.11
        for <dev@httpd.apache.org>; Fri, 06 Mar 2015 05:25:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=fO1zAtzUIgfs/LaSQSdnIlgqV/8Rjg/C1g6SHTO+EFU=;
        b=EONPzOnxrTdMLQNY9ISLqC/GbTTvRuf5t4qM7px+zMmLsCz4pxDsUsoPvx5cLXcBmP
         bPrMU6z2ZQUGi9B0QhHvdAbHS3Pnld7xPuKxSfVBIHkbLHLim6eMEhrMpCfD+17b7A+t
         88W7B//exm8ystt0rVrSYdu+ZXWNPneUecit+wIyP8VSjT9brZUnoY7JcfqYaDS276kO
         QvMsEjrxFA4vNtggN/1UYlzUOw/beZFSI6Rn+rwI+6S+6naKF8s8ADB7lRJTbuwK75Ul
         9TwGN0nUdv349k+1Qz2M42C11OJOHIjuk/3HXP1g2MkZgNWZvuy3gyu/FjvqFTqdhKyd
         1zmA==
MIME-Version: 1.0
X-Received: by 10.107.3.161 with SMTP id e33mr28546316ioi.65.1425648332149;
 Fri, 06 Mar 2015 05:25:32 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Fri, 6 Mar 2015 05:25:32 -0800 (PST)
In-Reply-To: <756470D2-6B50-4979-A76E-D98B5FB64759@sharp.fm>
References: <CAKQ1sVP4JTyEOTyHgcrBCS0ug+4h7h_jLnNgsL5rzQFwPUKvLw@mail.gmail.com>
	<756470D2-6B50-4979-A76E-D98B5FB64759@sharp.fm>
Date: Fri, 6 Mar 2015 14:25:32 +0100
Message-ID: <CAKQ1sVPtH5ZW1Bj_AmowfrQV0deG1VXQWbJtpNtextxuCh-OGg@mail.gmail.com>
Subject: Re: Compatibility of existing directives switched to support expressions
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Mar 6, 2015 at 1:20 PM, Graham Leggett <minfrin@sharp.fm> wrote:
>
> If we did that I believe we=E2=80=99d just have an explosion of directive=
s and confusion.

Yes of course, I see the interest of reusing as is.

But maybe introduce a new type of quote, with a prefix (let's say %),
like %"an %{expression} string" vs. "a plain text where %{expression}
is not expanded".
We would now have an issue with existing tokens (not quoted) starting
with %" (and some inconsistency with existing directives that accept
expressions without it)...
But that maybe could be(come) a general rule in the configuration some
day (handled generically at config time?), which any directive would
take advantage of (those which don't use/need/have a request_rec to
exec() the expression could use the original pattern/plaintext).
That's probably quite some work, but in the meantime any individual
directive could handle this itself (and disambiguate from now).

Maybe I'm diverging (and overlooking/engineering this), but it sounds
pleasant to have native expression support from the configuration, and
ease of use in modules (without the need to do it yourself).

From dev-return-82211-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar  6 13:45:42 2015
Return-Path: <dev-return-82211-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D49BE17414
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  6 Mar 2015 13:45:42 +0000 (UTC)
Received: (qmail 63362 invoked by uid 500); 6 Mar 2015 13:45:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63279 invoked by uid 500); 6 Mar 2015 13:45:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63269 invoked by uid 99); 6 Mar 2015 13:45:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 13:45:42 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of covener@gmail.com designates 74.125.82.177 as permitted sender)
Received: from [74.125.82.177] (HELO mail-we0-f177.google.com) (74.125.82.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 13:45:36 +0000
Received: by wesw55 with SMTP id w55so6167636wes.3
        for <dev@httpd.apache.org>; Fri, 06 Mar 2015 05:44:30 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=UaYIohQrwJpZg6aqIZALpYEBXUtz/085Z9FJh2WP42A=;
        b=EEOTYxRQgLInyPXhGJVxx2pz4lnFaE37fpN97M2Pb88ArNY4KIWM268ndBsmQpxZd8
         VhEaKTXRl5iWkc0KsGzEmp7xcr+7DM7xppHeXmS7RsOwdpPjp9PYXWvsh3J4A/+i2IaX
         VSqxwouikJ0rhbFMn/Fd7a/hQ3xNGJ8THAtissNnZCX65kD7tj7i7yLbPp6Ptjo7kyUw
         MB1qWaPfhrQolWOZ6VgrqIBSrgZ81pAL0nmY21uSBldVcEBgDw0McZlBWC8mpf71Hpqz
         0TEXNfhXF4Tn5QVAZuU3RitybzpPHRyigRa6LBxoqa4WrkL6oOPwwlqtUsycG8En7xE9
         tOOw==
MIME-Version: 1.0
X-Received: by 10.180.21.162 with SMTP id w2mr16716665wie.66.1425649470804;
 Fri, 06 Mar 2015 05:44:30 -0800 (PST)
Received: by 10.27.16.2 with HTTP; Fri, 6 Mar 2015 05:44:30 -0800 (PST)
In-Reply-To: <CAKQ1sVPtH5ZW1Bj_AmowfrQV0deG1VXQWbJtpNtextxuCh-OGg@mail.gmail.com>
References: <CAKQ1sVP4JTyEOTyHgcrBCS0ug+4h7h_jLnNgsL5rzQFwPUKvLw@mail.gmail.com>
	<756470D2-6B50-4979-A76E-D98B5FB64759@sharp.fm>
	<CAKQ1sVPtH5ZW1Bj_AmowfrQV0deG1VXQWbJtpNtextxuCh-OGg@mail.gmail.com>
Date: Fri, 6 Mar 2015 08:44:30 -0500
Message-ID: <CALK=YjOT6g91a=X6BokPh-+O7++O91H9-uZ6WZaTQTCjD6rLZQ@mail.gmail.com>
Subject: Re: Compatibility of existing directives switched to support expressions
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Mar 6, 2015 at 8:25 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> But maybe introduce a new type of quote, with a prefix (let's say %),
> like %"an %{expression} string" vs. "a plain text where %{expression}
> is not expanded".


Or the other way around if breakage is expected to be rare.  Maybe the
expression parser itself could handle this with some special symbol
that puts it into plaintext mode.

-- 
Eric Covener
covener@gmail.com

From dev-return-82212-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar  6 13:52:31 2015
Return-Path: <dev-return-82212-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E17F217442
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  6 Mar 2015 13:52:30 +0000 (UTC)
Received: (qmail 71310 invoked by uid 500); 6 Mar 2015 13:52:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 71247 invoked by uid 500); 6 Mar 2015 13:52:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 71237 invoked by uid 99); 6 Mar 2015 13:52:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 13:52:30 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=FREEMAIL_REPLY,RCVD_IN_DNSWL_NONE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: local policy)
Received: from [195.245.231.143] (HELO mail1.bemta5.messagelabs.com) (195.245.231.143)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 13:52:21 +0000
Received: from [85.158.139.163] by server-7.bemta-5.messagelabs.com id BF/2B-03736-630B9F45; Fri, 06 Mar 2015 13:48:38 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-7.tower-188.messagelabs.com!1425649718!3642018!1
X-Originating-IP: [195.232.224.75]
X-StarScan-Received:
X-StarScan-Version: 6.13.4; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 21069 invoked from network); 6 Mar 2015 13:48:38 -0000
Received: from mailout06.vodafone.com (HELO mailout06.vodafone.com) (195.232.224.75)
  by server-7.tower-188.messagelabs.com with SMTP; 6 Mar 2015 13:48:38 -0000
Received: from mailint06.vodafone.com (localhost [127.0.0.1])
	by mailout06.vodafone.com (Postfix) with ESMTP id 52531140149
	for <dev@httpd.apache.org>; Fri,  6 Mar 2015 14:48:38 +0100 (CET)
Received: from VOEXC02W.internal.vodafone.com (voexc02w.dc-ratingen.de [145.230.101.22])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint06.vodafone.com (Postfix) with ESMTPS id 45E6C140161
	for <dev@httpd.apache.org>; Fri,  6 Mar 2015 14:48:38 +0100 (CET)
Received: from VOEXC09W.internal.vodafone.com (145.230.101.29) by
 VOEXC02W.internal.vodafone.com (145.230.101.22) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Fri, 6 Mar 2015 14:48:38 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.55]) by
 VOEXC09W.internal.vodafone.com ([145.230.101.29]) with mapi id
 14.03.0224.002; Fri, 6 Mar 2015 14:48:37 +0100
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: AW: Compatibility of existing directives switched to support
 expressions
Thread-Topic: Compatibility of existing directives switched to support
 expressions
Thread-Index: AQHQWAbFRLUImUwGFUWGnahfTmo0AJ0PTygAgAASEQCAAAVNAIAAEdYw
Date: Fri, 6 Mar 2015 13:48:37 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC5E58AA8@VOEXM10W.internal.vodafone.com>
References: <CAKQ1sVP4JTyEOTyHgcrBCS0ug+4h7h_jLnNgsL5rzQFwPUKvLw@mail.gmail.com>
	<756470D2-6B50-4979-A76E-D98B5FB64759@sharp.fm>
	<CAKQ1sVPtH5ZW1Bj_AmowfrQV0deG1VXQWbJtpNtextxuCh-OGg@mail.gmail.com>
 <CALK=YjOT6g91a=X6BokPh-+O7++O91H9-uZ6WZaTQTCjD6rLZQ@mail.gmail.com>
In-Reply-To: <CALK=YjOT6g91a=X6BokPh-+O7++O91H9-uZ6WZaTQTCjD6rLZQ@mail.gmail.com>
Accept-Language: en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

DQoNCj4gLS0tLS1VcnNwcsO8bmdsaWNoZSBOYWNocmljaHQtLS0tLQ0KPiBWb246IEVyaWMgQ292
ZW5lciBbbWFpbHRvOmNvdmVuZXJAZ21haWwuY29tXQ0KPiBHZXNlbmRldDogRnJlaXRhZywgNi4g
TcOkcnogMjAxNSAxNDo0NQ0KPiBBbjogQXBhY2hlIEhUVFAgU2VydmVyIERldmVsb3BtZW50IExp
c3QNCj4gQmV0cmVmZjogUmU6IENvbXBhdGliaWxpdHkgb2YgZXhpc3RpbmcgZGlyZWN0aXZlcyBz
d2l0Y2hlZCB0byBzdXBwb3J0DQo+IGV4cHJlc3Npb25zDQo+IA0KPiBPbiBGcmksIE1hciA2LCAy
MDE1IGF0IDg6MjUgQU0sIFlhbm4gWWxhdmljIDx5bGF2aWMuZGV2QGdtYWlsLmNvbT4NCj4gd3Jv
dGU6DQo+ID4gQnV0IG1heWJlIGludHJvZHVjZSBhIG5ldyB0eXBlIG9mIHF1b3RlLCB3aXRoIGEg
cHJlZml4IChsZXQncyBzYXkgJSksDQo+ID4gbGlrZSAlImFuICV7ZXhwcmVzc2lvbn0gc3RyaW5n
IiB2cy4gImEgcGxhaW4gdGV4dCB3aGVyZSAle2V4cHJlc3Npb259DQo+ID4gaXMgbm90IGV4cGFu
ZGVkIi4NCj4gDQo+IA0KPiBPciB0aGUgb3RoZXIgd2F5IGFyb3VuZCBpZiBicmVha2FnZSBpcyBl
eHBlY3RlZCB0byBiZSByYXJlLiAgTWF5YmUgdGhlDQo+IGV4cHJlc3Npb24gcGFyc2VyIGl0c2Vs
ZiBjb3VsZCBoYW5kbGUgdGhpcyB3aXRoIHNvbWUgc3BlY2lhbCBzeW1ib2wNCj4gdGhhdCBwdXRz
IGl0IGludG8gcGxhaW50ZXh0IG1vZGUuDQoNCisxDQoNClJlZ2FyZHMNCg0KUsO8ZGlnZXINCg0K

From dev-return-82213-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar  6 14:31:04 2015
Return-Path: <dev-return-82213-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A7AC817586
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  6 Mar 2015 14:31:04 +0000 (UTC)
Received: (qmail 65767 invoked by uid 500); 6 Mar 2015 14:30:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65669 invoked by uid 500); 6 Mar 2015 14:30:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65659 invoked by uid 99); 6 Mar 2015 14:30:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 14:30:48 +0000
X-ASF-Spam-Status: No, hits=0.3 required=5.0
	tests=FREEMAIL_REPLY,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.171 as permitted sender)
Received: from [209.85.223.171] (HELO mail-ie0-f171.google.com) (209.85.223.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 14:30:44 +0000
Received: by iecrl12 with SMTP id rl12so3070173iec.8
        for <dev@httpd.apache.org>; Fri, 06 Mar 2015 06:30:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=jUdc2kbaULkFjW4zRFZM0svCkZUTkKnEm/anNpupiWE=;
        b=VS88nAuJTWli5otpycgtJAPjAHNY8ZK99V20apouqQ1XQyGf3u/nVe27fuJUgqJdRR
         OvmQQBcUmrdjNt84qgQkNUhYviQ764XEQip7ah9D0BpjCUV8shdGCnaQj+zATZh/5Cx+
         yZi1m1AyVeXNrstya9gl1qLtBba0icDs76M+uFDk9VR6uL9iPlQ0joyxwYd2HKhO0+L1
         QymljB4CobWD0aMIcKReM/ZnVtKMstOWPzNjeaXswhPOt3fkcS/wRPfbvK6v8HRQttJz
         W+4UYKq/CDU6i0g9y/oNGFFrXAa/2mu6L2nN/ldrg7CBiOyZeBlysEn1FLRTopA97CVg
         lUNg==
MIME-Version: 1.0
X-Received: by 10.50.62.83 with SMTP id w19mr27986583igr.26.1425652223695;
 Fri, 06 Mar 2015 06:30:23 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Fri, 6 Mar 2015 06:30:23 -0800 (PST)
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC5E58AA8@VOEXM10W.internal.vodafone.com>
References: <CAKQ1sVP4JTyEOTyHgcrBCS0ug+4h7h_jLnNgsL5rzQFwPUKvLw@mail.gmail.com>
	<756470D2-6B50-4979-A76E-D98B5FB64759@sharp.fm>
	<CAKQ1sVPtH5ZW1Bj_AmowfrQV0deG1VXQWbJtpNtextxuCh-OGg@mail.gmail.com>
	<CALK=YjOT6g91a=X6BokPh-+O7++O91H9-uZ6WZaTQTCjD6rLZQ@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC5E58AA8@VOEXM10W.internal.vodafone.com>
Date: Fri, 6 Mar 2015 15:30:23 +0100
Message-ID: <CAKQ1sVNy4yn60cc4y3yd6dCYU0Cff5smEc2eFLW0TQwnVY6JEA@mail.gmail.com>
Subject: Re: Compatibility of existing directives switched to support expressions
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Mar 6, 2015 at 2:48 PM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
<ruediger.pluem@vodafone.com> wrote:
>
>
>> -----Urspr=C3=BCngliche Nachricht-----
>> Von: Eric Covener [mailto:covener@gmail.com]
>> Gesendet: Freitag, 6. M=C3=A4rz 2015 14:45
>> An: Apache HTTP Server Development List
>> Betreff: Re: Compatibility of existing directives switched to support
>> expressions
>>
>> On Fri, Mar 6, 2015 at 8:25 AM, Yann Ylavic <ylavic.dev@gmail.com>
>> wrote:
>> > But maybe introduce a new type of quote, with a prefix (let's say %),
>> > like %"an %{expression} string" vs. "a plain text where %{expression}
>> > is not expanded".
>>
>>
>> Or the other way around if breakage is expected to be rare.  Maybe the
>> expression parser itself could handle this with some special symbol
>> that puts it into plaintext mode.
>
> +1

Ok, btw if that's acceptable there is already a solution: "\%".
The special prefix is nicer though, and could be scoped in the general
approach (and/or mod_macro'ed).

From dev-return-82214-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar  6 15:25:48 2015
Return-Path: <dev-return-82214-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EA71C1783D
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  6 Mar 2015 15:25:48 +0000 (UTC)
Received: (qmail 14099 invoked by uid 500); 6 Mar 2015 15:25:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14040 invoked by uid 500); 6 Mar 2015 15:25:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14031 invoked by uid 99); 6 Mar 2015 15:25:35 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 15:25:35 +0000
Received: from gauss.localdomain (v4-861347e2.pool.vitroconnect.de [134.19.71.226])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 58BB91A0490
	for <dev@httpd.apache.org>; Fri,  6 Mar 2015 15:25:35 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 598207E9
	for <dev@httpd.apache.org>; Fri,  6 Mar 2015 16:25:35 +0100 (CET)
Message-ID: <54F9C6EF.9000702@apache.org>
Date: Fri, 06 Mar 2015 16:25:35 +0100
From: Ruediger Pluem <rpluem@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:35.0) Gecko/20100101 Firefox/35.0 SeaMonkey/2.32.1
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: error_time reset in proxy_util.c
References: <54F880F2.9060504@apache.org> <CALK=YjPWJAD8SNxrFTEuY75WDHwkWOzcJaU2S20_RLwwaqeM2w@mail.gmail.com> <54F88B92.1010708@apache.org>
In-Reply-To: <54F88B92.1010708@apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 03/05/2015 06:00 PM, Ruediger Pluem wrote:
> 
> 
> On 03/05/2015 05:29 PM, Eric Covener wrote:
>> On Thu, Mar 5, 2015 at 11:14 AM, Ruediger Pluem <rpluem@apache.org> wrote:
>>> I suspect that the worker was already set to error by a parallel thread / process and hence
>>> PROXY_WORKER_IS_USABLE(worker) is false and causes worker->s->error_time to be reset which causes the worker to be open
>>> for retry immediately. This has been the case since r104624
>>> (http://svn.apache.org/viewvc?view=revision&revision=r104624) 10,5 years ago and the commit messages offers no hint at
>>> least to be why we reset these values.
>>> Can anybody think of a good reason why we do this?
>>
>> that sequence sounds plausible
> 
> So do you see any reason why we do this, or should we just stop doing so?
> 
> Another thing:
> 
>     else {
>         if (worker->s->retries) {
>             /*
>              * A worker came back. So here is where we need to
>              * either reset all params to initial conditions or
>              * apply some sort of aging
>              */
>         }
> 
> The comment makes a wrong assumption as we might be here despite the connection failed because the worker was already in
> error. So we might need to split into two ifs above and separate the conditions where the connection failed and where we
> need to do something with the worker because it wasn't in error yet. How about:
> 

Index: proxy_util.c
===================================================================
--- proxy_util.c        (revision 1664261)
+++ proxy_util.c        (working copy)
@@ -2887,14 +2887,15 @@

         connected    = 1;
     }
+    if (PROXY_WORKER_IS_USABLE(worker)) {
     /*
      * Put the entire worker to error state if
      * the PROXY_WORKER_IGNORE_ERRORS flag is not set.
      * Altrough some connections may be alive
      * no further connections to the worker could be made
      */
-    if (!connected && PROXY_WORKER_IS_USABLE(worker) &&
-        !(worker->s->status & PROXY_WORKER_IGNORE_ERRORS)) {
+        if (!connected) {
+            if (!(worker->s->status & PROXY_WORKER_IGNORE_ERRORS)) {
         worker->s->error_time = apr_time_now();
         worker->s->status |= PROXY_WORKER_IN_ERROR;
         ap_log_error(APLOG_MARK, APLOG_ERR, 0, s, APLOGNO(00959)
@@ -2902,6 +2903,7 @@
             APR_TIME_T_FMT "s",
             worker->s->hostname, apr_time_sec(worker->s->retry));
     }
+        }
     else {
         if (worker->s->retries) {
             /*
@@ -2915,6 +2917,19 @@
     }
     return connected ? OK : DECLINED;
 }
+    else {
+        /*
+         * The worker is in error likely done by a different thread / process
+         * e.g. for a timeout or bad status. We should respect this and should
+         * not continue with a connection via this worker even if we got one.
+         */
+        if (connected) {
+            apr_socket_close(conn->sock );
+            conn->sock = NULL;
+        }
+        return DECLINED;
+    }
+}

 static apr_status_t connection_shutdown(void *theconn)
 {


The above patch fixes my issue (same one as in previous post but without whitespace changes for easier reading).
Objections? Otherwise I would commit.

Regards

Rdiger

From dev-return-82215-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar  6 15:43:33 2015
Return-Path: <dev-return-82215-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F1AF317903
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  6 Mar 2015 15:43:32 +0000 (UTC)
Received: (qmail 48787 invoked by uid 500); 6 Mar 2015 15:43:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48706 invoked by uid 500); 6 Mar 2015 15:43:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48697 invoked by uid 99); 6 Mar 2015 15:43:21 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 15:43:21 +0000
Received: from gauss.localdomain (v4-861347e2.pool.vitroconnect.de [134.19.71.226])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 0664B1A0490
	for <dev@httpd.apache.org>; Fri,  6 Mar 2015 15:43:20 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id A53E77E9
	for <dev@httpd.apache.org>; Fri,  6 Mar 2015 16:43:20 +0100 (CET)
Message-ID: <54F9CB18.9040808@apache.org>
Date: Fri, 06 Mar 2015 16:43:20 +0100
From: Ruediger Pluem <rpluem@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:35.0) Gecko/20100101 Firefox/35.0 SeaMonkey/2.32.1
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1663123 - in /httpd/httpd/trunk: CHANGES
 docs/manual/expr.xml docs/manual/mod/mod_authn_core.xml
 modules/aaa/mod_authn_core.c
References: <20150301143712.14745AC0041@hades.apache.org>
In-Reply-To: <20150301143712.14745AC0041@hades.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 03/01/2015 03:37 PM, minfrin@apache.org wrote:
> Author: minfrin
> Date: Sun Mar  1 14:37:11 2015
> New Revision: 1663123
> 
> URL: http://svn.apache.org/r1663123
> Log:
> mod_authn_core: Add expression support to AuthName and AuthType.
> 
> Modified:
>     httpd/httpd/trunk/CHANGES
>     httpd/httpd/trunk/docs/manual/expr.xml
>     httpd/httpd/trunk/docs/manual/mod/mod_authn_core.xml
>     httpd/httpd/trunk/modules/aaa/mod_authn_core.c


This causes a test case in the framework to fail. I guess just the test case is wrong, but it should be fixed:

# Running under perl version 5.010001 for linux
# Current time local: Fri Mar  6 16:32:45 2015
# Current time GMT:   Fri Mar  6 15:32:45 2015
# Using Test.pm version 1.25_02
# Using Apache/Test.pm version 1.38
# testing : CAN-2004-0747 ap_resolve_env test case
# expected: 200
# received: '500'
not ok 1
# Failed test 1 in t/security/CVE-2004-0747.t at line 14
Failed 1/1 subtests

Test Summary Report
-------------------
t/security/CVE-2004-0747.t (Wstat: 0 Tests: 1 Failed: 1)
  Failed test:  1
Files=1, Tests=1,  0 wallclock secs ( 0.01 usr  0.01 sys +  0.36 cusr  0.07 csys =  0.45 CPU)
Result: FAIL
Failed 1/1 test programs. 1/1 subtests failed.


error_log:

[Fri Mar 06 15:32:45.428836 2015] [core:alert] [pid 10177:tid 140546563634944] [client 127.0.0.1:40823]
/usr/src/apache/perl-framework-trunk/t/htdocs/security/CAN-2004-0747/.htaccess: Cannot parse expression '

This is also reminds me that this could slow down .htaccess processing considerably since we need to parse the
expression for each request where we have a .htaccess with this directive in place. Furthermore do we open up any stuff
that malicious users with access to .htaccess could do with expressions that they are not expected to do?
If so is it possible to limit expression support just to the case the directive is not in .htaccess?

Regards

Rdiger

From dev-return-82216-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar  6 16:10:50 2015
Return-Path: <dev-return-82216-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2441E17A43
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  6 Mar 2015 16:10:50 +0000 (UTC)
Received: (qmail 92515 invoked by uid 500); 6 Mar 2015 16:02:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92462 invoked by uid 500); 6 Mar 2015 16:02:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92435 invoked by uid 99); 6 Mar 2015 16:02:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 16:02:01 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.181 as permitted sender)
Received: from [209.85.213.181] (HELO mail-ig0-f181.google.com) (209.85.213.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 16:01:55 +0000
Received: by igbhl2 with SMTP id hl2so4864447igb.5
        for <dev@httpd.apache.org>; Fri, 06 Mar 2015 08:01:35 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=iTnqaLw2PbBffOcIIW20HCz+tNpzXblp5zx437seGRc=;
        b=MSATmE7T4b7jj0Xi8yHITZWOxNbV9BU13k0gZAv29uM+IfP1/e5RcaKEdHbxlfomUQ
         PJu+SvWJ8DVBHPksqUeM9mMkRV9exEkvk5hRm7TMfza17P+H4Bu2gT+cabiw1gz2r5ug
         /Pt9fVvknjAHuDt9lanlr953y2qMEKJgbt3bBBv4x/tEdZBW0aBJS+Dqaz0yziveFmNq
         KVIn9rAANnAurO1BFakFjXc1by5cSj5hlyGgObOF7LP88krEixYNnORii8vOFuYs0w+6
         ZQXn0rfkIgmyoJul7XpbNHOneXXxzaYarpJWoaC2HeD/DpQE7JWFhP4OR5omW+NNHt9F
         MVkA==
MIME-Version: 1.0
X-Received: by 10.50.79.161 with SMTP id k1mr28714116igx.14.1425657695404;
 Fri, 06 Mar 2015 08:01:35 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Fri, 6 Mar 2015 08:01:35 -0800 (PST)
In-Reply-To: <54F9C6EF.9000702@apache.org>
References: <54F880F2.9060504@apache.org>
	<CALK=YjPWJAD8SNxrFTEuY75WDHwkWOzcJaU2S20_RLwwaqeM2w@mail.gmail.com>
	<54F88B92.1010708@apache.org>
	<54F9C6EF.9000702@apache.org>
Date: Fri, 6 Mar 2015 17:01:35 +0100
Message-ID: <CAKQ1sVMU_2HftyvVNSQgwwWwPAicuBqp5222V5LVP07CsJyoNA@mail.gmail.com>
Subject: Re: error_time reset in proxy_util.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Mar 6, 2015 at 4:25 PM, Ruediger Pluem <rpluem@apache.org> wrote:
>
> Index: proxy_util.c
> ===================================================================
> --- proxy_util.c        (revision 1664261)
> +++ proxy_util.c        (working copy)
> @@ -2887,14 +2887,15 @@
>
>          connected    = 1;
>      }
> +    if (PROXY_WORKER_IS_USABLE(worker)) {
>      /*
>       * Put the entire worker to error state if
>       * the PROXY_WORKER_IGNORE_ERRORS flag is not set.
>       * Altrough some connections may be alive
>       * no further connections to the worker could be made
>       */
> -    if (!connected && PROXY_WORKER_IS_USABLE(worker) &&
> -        !(worker->s->status & PROXY_WORKER_IGNORE_ERRORS)) {
> +        if (!connected) {
> +            if (!(worker->s->status & PROXY_WORKER_IGNORE_ERRORS)) {
>          worker->s->error_time = apr_time_now();
>          worker->s->status |= PROXY_WORKER_IN_ERROR;
>          ap_log_error(APLOG_MARK, APLOG_ERR, 0, s, APLOGNO(00959)
> @@ -2902,6 +2903,7 @@
>              APR_TIME_T_FMT "s",
>              worker->s->hostname, apr_time_sec(worker->s->retry));
>      }
> +        }
>      else {
>          if (worker->s->retries) {
>              /*
> @@ -2915,6 +2917,19 @@
>      }
>      return connected ? OK : DECLINED;
>  }
> +    else {
> +        /*
> +         * The worker is in error likely done by a different thread / process
> +         * e.g. for a timeout or bad status. We should respect this and should
> +         * not continue with a connection via this worker even if we got one.
> +         */
> +        if (connected) {
> +            apr_socket_close(conn->sock );
> +            conn->sock = NULL;
> +        }
> +        return DECLINED;

If the worker is *not a BalancerMember*, couldn't we simply mark the
connection as close = 1 here, and continue with it until the end of
this request?
This is to avoid responding 503 whereas it succeed for this particular
request (since this is a race, the worker was put in error state a
very little time ago, not at ap_proxy_acquire_connection() time for
this request at least).

Otherwise, I agree with the move of :
+            worker->s->error_time = 0;
+            worker->s->retries = 0;
in the correct block.

Regards,
Yann.

From dev-return-82217-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar  6 16:28:29 2015
Return-Path: <dev-return-82217-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C26EF17B24
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  6 Mar 2015 16:28:29 +0000 (UTC)
Received: (qmail 65275 invoked by uid 500); 6 Mar 2015 16:28:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65187 invoked by uid 500); 6 Mar 2015 16:28:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65177 invoked by uid 99); 6 Mar 2015 16:28:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 16:28:28 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=FREEMAIL_REPLY,RCVD_IN_DNSWL_NONE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [195.245.230.175] (HELO mail1.bemta3.messagelabs.com) (195.245.230.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 16:28:20 +0000
Received: from [195.245.230.51] by server-15.bemta-3.messagelabs.com id 18/AF-02884-AD4D9F45; Fri, 06 Mar 2015 16:24:58 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-5.tower-33.messagelabs.com!1425659098!11636940!1
X-Originating-IP: [195.232.244.134]
X-StarScan-Received:
X-StarScan-Version: 6.13.4; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 8673 invoked from network); 6 Mar 2015 16:24:58 -0000
Received: from mailout02.vodafone.com (HELO mailout02.vodafone.com) (195.232.244.134)
  by server-5.tower-33.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 6 Mar 2015 16:24:58 -0000
Received: from mailint03.vodafone.com (mailint03.vodafone.com [195.232.244.200])
	by mailout02.vodafone.com (Postfix) with ESMTP id 3kzDn62K7WzbdWl
	for <dev@httpd.apache.org>; Fri,  6 Mar 2015 17:24:58 +0100 (CET)
Received: from mailint03.vodafone.com (localhost [127.0.0.1])
	by mailint03.vodafone.com (Postfix) with ESMTP id 3kzDn61KLnz16HxX
	for <dev@httpd.apache.org>; Fri,  6 Mar 2015 17:24:58 +0100 (CET)
Received: from VOEXC06W.internal.vodafone.com (voexc06w.dc-ratingen.de [145.230.101.26])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint03.vodafone.com (Postfix) with ESMTPS id 3kzDn60zSzz16HxQ
	for <dev@httpd.apache.org>; Fri,  6 Mar 2015 17:24:58 +0100 (CET)
Received: from VOEXC16W.internal.vodafone.com (145.230.101.18) by
 VOEXC06W.internal.vodafone.com (145.230.101.26) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Fri, 6 Mar 2015 17:24:57 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.55]) by
 voexc16w.internal.vodafone.com ([145.230.101.18]) with mapi id
 14.03.0224.002; Fri, 6 Mar 2015 17:24:57 +0100
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: AW: error_time reset in proxy_util.c
Thread-Topic: error_time reset in proxy_util.c
Thread-Index: AQHQV1+Ef/eZitssy0uTEUNziHOLG50OA7oAgAAIZwCAAXfxgIAACg+AgAAUBWA=
Date: Fri, 6 Mar 2015 16:24:57 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC5E58D77@VOEXM10W.internal.vodafone.com>
References: <54F880F2.9060504@apache.org>
	<CALK=YjPWJAD8SNxrFTEuY75WDHwkWOzcJaU2S20_RLwwaqeM2w@mail.gmail.com>
	<54F88B92.1010708@apache.org>	<54F9C6EF.9000702@apache.org>
 <CAKQ1sVMU_2HftyvVNSQgwwWwPAicuBqp5222V5LVP07CsJyoNA@mail.gmail.com>
In-Reply-To: <CAKQ1sVMU_2HftyvVNSQgwwWwPAicuBqp5222V5LVP07CsJyoNA@mail.gmail.com>
Accept-Language: en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

DQoNCj4gLS0tLS1VcnNwcsO8bmdsaWNoZSBOYWNocmljaHQtLS0tLQ0KPiBWb246IFlhbm4gWWxh
dmljIFttYWlsdG86eWxhdmljLmRldkBnbWFpbC5jb21dDQo+IEdlc2VuZGV0OiBGcmVpdGFnLCA2
LiBNw6RyeiAyMDE1IDE3OjAyDQo+IEFuOiBodHRwZA0KPiBCZXRyZWZmOiBSZTogZXJyb3JfdGlt
ZSByZXNldCBpbiBwcm94eV91dGlsLmMNCj4gDQo+IE9uIEZyaSwgTWFyIDYsIDIwMTUgYXQgNDoy
NSBQTSwgUnVlZGlnZXIgUGx1ZW0gPHJwbHVlbUBhcGFjaGUub3JnPg0KPiB3cm90ZToNCj4gPg0K
PiA+IEluZGV4OiBwcm94eV91dGlsLmMNCj4gPiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQo+ID4gLS0tIHByb3h5X3V0
aWwuYyAgICAgICAgKHJldmlzaW9uIDE2NjQyNjEpDQo+ID4gKysrIHByb3h5X3V0aWwuYyAgICAg
ICAgKHdvcmtpbmcgY29weSkNCj4gPiBAQCAtMjg4NywxNCArMjg4NywxNSBAQA0KPiA+DQo+ID4g
ICAgICAgICAgY29ubmVjdGVkICAgID0gMTsNCj4gPiAgICAgIH0NCj4gPiArICAgIGlmIChQUk9Y
WV9XT1JLRVJfSVNfVVNBQkxFKHdvcmtlcikpIHsNCj4gPiAgICAgIC8qDQo+ID4gICAgICAgKiBQ
dXQgdGhlIGVudGlyZSB3b3JrZXIgdG8gZXJyb3Igc3RhdGUgaWYNCj4gPiAgICAgICAqIHRoZSBQ
Uk9YWV9XT1JLRVJfSUdOT1JFX0VSUk9SUyBmbGFnIGlzIG5vdCBzZXQuDQo+ID4gICAgICAgKiBB
bHRyb3VnaCBzb21lIGNvbm5lY3Rpb25zIG1heSBiZSBhbGl2ZQ0KPiA+ICAgICAgICogbm8gZnVy
dGhlciBjb25uZWN0aW9ucyB0byB0aGUgd29ya2VyIGNvdWxkIGJlIG1hZGUNCj4gPiAgICAgICAq
Lw0KPiA+IC0gICAgaWYgKCFjb25uZWN0ZWQgJiYgUFJPWFlfV09SS0VSX0lTX1VTQUJMRSh3b3Jr
ZXIpICYmDQo+ID4gLSAgICAgICAgISh3b3JrZXItPnMtPnN0YXR1cyAmIFBST1hZX1dPUktFUl9J
R05PUkVfRVJST1JTKSkgew0KPiA+ICsgICAgICAgIGlmICghY29ubmVjdGVkKSB7DQo+ID4gKyAg
ICAgICAgICAgIGlmICghKHdvcmtlci0+cy0+c3RhdHVzICYgUFJPWFlfV09SS0VSX0lHTk9SRV9F
UlJPUlMpKSB7DQo+ID4gICAgICAgICAgd29ya2VyLT5zLT5lcnJvcl90aW1lID0gYXByX3RpbWVf
bm93KCk7DQo+ID4gICAgICAgICAgd29ya2VyLT5zLT5zdGF0dXMgfD0gUFJPWFlfV09SS0VSX0lO
X0VSUk9SOw0KPiA+ICAgICAgICAgIGFwX2xvZ19lcnJvcihBUExPR19NQVJLLCBBUExPR19FUlIs
IDAsIHMsIEFQTE9HTk8oMDA5NTkpDQo+ID4gQEAgLTI5MDIsNiArMjkwMyw3IEBADQo+ID4gICAg
ICAgICAgICAgIEFQUl9USU1FX1RfRk1UICJzIiwNCj4gPiAgICAgICAgICAgICAgd29ya2VyLT5z
LT5ob3N0bmFtZSwgYXByX3RpbWVfc2VjKHdvcmtlci0+cy0+cmV0cnkpKTsNCj4gPiAgICAgIH0N
Cj4gPiArICAgICAgICB9DQo+ID4gICAgICBlbHNlIHsNCj4gPiAgICAgICAgICBpZiAod29ya2Vy
LT5zLT5yZXRyaWVzKSB7DQo+ID4gICAgICAgICAgICAgIC8qDQo+ID4gQEAgLTI5MTUsNiArMjkx
NywxOSBAQA0KPiA+ICAgICAgfQ0KPiA+ICAgICAgcmV0dXJuIGNvbm5lY3RlZCA/IE9LIDogREVD
TElORUQ7DQo+ID4gIH0NCj4gPiArICAgIGVsc2Ugew0KPiA+ICsgICAgICAgIC8qDQo+ID4gKyAg
ICAgICAgICogVGhlIHdvcmtlciBpcyBpbiBlcnJvciBsaWtlbHkgZG9uZSBieSBhIGRpZmZlcmVu
dCB0aHJlYWQgLw0KPiBwcm9jZXNzDQo+ID4gKyAgICAgICAgICogZS5nLiBmb3IgYSB0aW1lb3V0
IG9yIGJhZCBzdGF0dXMuIFdlIHNob3VsZCByZXNwZWN0IHRoaXMNCj4gYW5kIHNob3VsZA0KPiA+
ICsgICAgICAgICAqIG5vdCBjb250aW51ZSB3aXRoIGEgY29ubmVjdGlvbiB2aWEgdGhpcyB3b3Jr
ZXIgZXZlbiBpZiB3ZQ0KPiBnb3Qgb25lLg0KPiA+ICsgICAgICAgICAqLw0KPiA+ICsgICAgICAg
IGlmIChjb25uZWN0ZWQpIHsNCj4gPiArICAgICAgICAgICAgYXByX3NvY2tldF9jbG9zZShjb25u
LT5zb2NrICk7DQo+ID4gKyAgICAgICAgICAgIGNvbm4tPnNvY2sgPSBOVUxMOw0KPiA+ICsgICAg
ICAgIH0NCj4gPiArICAgICAgICByZXR1cm4gREVDTElORUQ7DQo+IA0KPiBJZiB0aGUgd29ya2Vy
IGlzICpub3QgYSBCYWxhbmNlck1lbWJlciosIGNvdWxkbid0IHdlIHNpbXBseSBtYXJrIHRoZQ0K
PiBjb25uZWN0aW9uIGFzIGNsb3NlID0gMSBoZXJlLCBhbmQgY29udGludWUgd2l0aCBpdCB1bnRp
bCB0aGUgZW5kIG9mDQo+IHRoaXMgcmVxdWVzdD8NCj4gVGhpcyBpcyB0byBhdm9pZCByZXNwb25k
aW5nIDUwMyB3aGVyZWFzIGl0IHN1Y2NlZWQgZm9yIHRoaXMgcGFydGljdWxhcg0KPiByZXF1ZXN0
IChzaW5jZSB0aGlzIGlzIGEgcmFjZSwgdGhlIHdvcmtlciB3YXMgcHV0IGluIGVycm9yIHN0YXRl
IGENCj4gdmVyeSBsaXR0bGUgdGltZSBhZ28sIG5vdCBhdCBhcF9wcm94eV9hY3F1aXJlX2Nvbm5l
Y3Rpb24oKSB0aW1lIGZvcg0KPiB0aGlzIHJlcXVlc3QgYXQgbGVhc3QpLg0KDQpJTUhPIHRoZSBz
aXR1YXRpb24gZG9lcyBub3QgcmVhbGx5IGRpZmZlciBiZXR3ZWVuIEJhbGFuY2VyTWVtYmVyIGFu
ZCBub24gQmFsYW5jZXJNZW1iZXJzLg0KQW5vdGhlciBwcm9jZXNzIC8gdGhyZWFkIGRldGVjdGVk
IGFuIGVycm9yIGNvbmRpdGlvbiB0aGF0IG1pZ2h0IG5vdCBiZSBjYXVzZWQgYnkNCmEgZmFpbGVk
IGNvbm5lY3Qgb24gVENQIGxheWVyLCBidXQgYnkgYSBmYWlsb25zdGF0dXMgLyBmYWlsb250aW1l
b3V0IGJ5IGEgcHJldmlvdXMNCnJlcXVlc3QuIFdlIHNob3VsZCByZXNwZWN0IHRoaXMgaGVyZSBh
cyB3ZSB3b3VsZCB3aGVuIHRoaXMgd29ya2VyIHdhcyBtYXJrZWQgYXMgZG93bg0KYSBmZXcgbW9t
ZW50cyBlYXJsaWVyIHdoaWNoIHdvdWxkIGhhdmUgcHJldmVudGVkIHVzIHRvIHRoZSBjb25uZWN0
aW9uIGF0IGFsbC4gDQoNClJlZ2FyZHMNCg0KUsO8ZGlnZXINCg==

From dev-return-82218-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar  6 16:47:18 2015
Return-Path: <dev-return-82218-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5F4BF17BF7
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  6 Mar 2015 16:47:18 +0000 (UTC)
Received: (qmail 14598 invoked by uid 500); 6 Mar 2015 16:47:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14525 invoked by uid 500); 6 Mar 2015 16:47:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14515 invoked by uid 99); 6 Mar 2015 16:47:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 16:47:17 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.169 as permitted sender)
Received: from [209.85.213.169] (HELO mail-ig0-f169.google.com) (209.85.213.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 16:47:13 +0000
Received: by igbhn18 with SMTP id hn18so5254139igb.2
        for <dev@httpd.apache.org>; Fri, 06 Mar 2015 08:46:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=Iox2eGjAU2qgfh/r95Xs8z1OPo7vTMJtPog4GNuclvA=;
        b=z+XUkZUZrUW43n5SmsUlTnojMLTJ7Pv+gtHnSoN1PEb9awKi+6DyDCuQu71U41qSfe
         8dn3YhK0V3rfP4a+vsk7Xngbaz8M6kCp2VpSFaz49MRYsc1xJerFHvzSxSf5xpvXLjy8
         nVqAPsHCKmmd/Sc403UUTZS0g/b/qEMxhXUx/C5qJBf+sY3VZnVUt9/3YxWJisKE5D3G
         EbYrN3E5alrZVfPGlZKQkE6+eMzLbwJnuv8wizgnHszb9i4caJyLL/HKB0nHyjniMtmx
         5Ma/aCCANJm4L7iuoJJvgmg/e0f60U4M8KP6H93Z//ZTOon9iHvxgSJFlhYqqGPq4bne
         06Cw==
MIME-Version: 1.0
X-Received: by 10.42.103.199 with SMTP id n7mr11171533ico.56.1425660413190;
 Fri, 06 Mar 2015 08:46:53 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Fri, 6 Mar 2015 08:46:53 -0800 (PST)
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC5E58D77@VOEXM10W.internal.vodafone.com>
References: <54F880F2.9060504@apache.org>
	<CALK=YjPWJAD8SNxrFTEuY75WDHwkWOzcJaU2S20_RLwwaqeM2w@mail.gmail.com>
	<54F88B92.1010708@apache.org>
	<54F9C6EF.9000702@apache.org>
	<CAKQ1sVMU_2HftyvVNSQgwwWwPAicuBqp5222V5LVP07CsJyoNA@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC5E58D77@VOEXM10W.internal.vodafone.com>
Date: Fri, 6 Mar 2015 17:46:53 +0100
Message-ID: <CAKQ1sVOMfGkU73CNWYcs__LSUiZrWL4dBhThVOJQm7qiutY5Mg@mail.gmail.com>
Subject: Re: error_time reset in proxy_util.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Mar 6, 2015 at 5:24 PM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
<ruediger.pluem@vodafone.com> wrote:
>
>
>> -----Urspr=C3=BCngliche Nachricht-----
>> Von: Yann Ylavic [mailto:ylavic.dev@gmail.com]
>> Gesendet: Freitag, 6. M=C3=A4rz 2015 17:02
>> An: httpd
>> Betreff: Re: error_time reset in proxy_util.c
>>
>>
>> If the worker is *not a BalancerMember*, couldn't we simply mark the
>> connection as close =3D 1 here, and continue with it until the end of
>> this request?
>> This is to avoid responding 503 whereas it succeed for this particular
>> request (since this is a race, the worker was put in error state a
>> very little time ago, not at ap_proxy_acquire_connection() time for
>> this request at least).
>
> IMHO the situation does not really differ between BalancerMember and non =
BalancerMembers.
> Another process / thread detected an error condition that might not be ca=
used by
> a failed connect on TCP layer, but by a failonstatus / failontimeout by a=
 previous
> request. We should respect this here as we would when this worker was mar=
ked as down
> a few moments earlier which would have prevented us to the connection at =
all.

Actually since r1650028 (in trunk), non balancer-member workers are
not put in error state by default (PROXY_WORKER_IGNORE_ERRORS).
This has not been backported (reviewed?) yet, but comes from PR 48388.

So this should not affect them (by default), +1.

Regards,
Yann.

From dev-return-82219-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar  6 16:54:27 2015
Return-Path: <dev-return-82219-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 72FC817C6C
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  6 Mar 2015 16:54:27 +0000 (UTC)
Received: (qmail 46620 invoked by uid 500); 6 Mar 2015 16:54:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46548 invoked by uid 500); 6 Mar 2015 16:54:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46538 invoked by uid 99); 6 Mar 2015 16:54:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 16:54:26 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.172 as permitted sender)
Received: from [209.85.213.172] (HELO mail-ig0-f172.google.com) (209.85.213.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 06 Mar 2015 16:54:21 +0000
Received: by igbhn18 with SMTP id hn18so5308926igb.2
        for <dev@httpd.apache.org>; Fri, 06 Mar 2015 08:53:16 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=aUZ+ZuaNZ1Jt2xS7KF7OlqyBQfb8dMcsSjdnUGTE87I=;
        b=X1i5lNeJ2kv06eVVO5npQmyCURtEOln+3IrtViSHFED7lEpiY5w86BW+nB+YrIumuR
         gItjMhU0AlvjXhAp3qRwFCI8vJljpoisZTX4TRFLLr4108NT04G0skiX63yE9lmTenFG
         aobkPriMfWGuPb0V9NzKY6VR6yBXX9u2frQOiCQASFiUPeU0WpnYgJpLe8yQWt4xZmOo
         j7KiVrq8i0RfnVG/3cQ2JwUdQPthjxLpNioQAHCh8Y9YgGwMEvNk6dBoIiRqWMNBirIp
         0w8lGoZ9nlw1hqyJsK2EP8S6FfgmTRPb4MwUa+AxfzH5FHMyGDN1FHEQtsMjO6kcoUew
         wjqg==
MIME-Version: 1.0
X-Received: by 10.50.79.161 with SMTP id k1mr29085412igx.14.1425660796263;
 Fri, 06 Mar 2015 08:53:16 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Fri, 6 Mar 2015 08:53:16 -0800 (PST)
In-Reply-To: <CAKQ1sVOMfGkU73CNWYcs__LSUiZrWL4dBhThVOJQm7qiutY5Mg@mail.gmail.com>
References: <54F880F2.9060504@apache.org>
	<CALK=YjPWJAD8SNxrFTEuY75WDHwkWOzcJaU2S20_RLwwaqeM2w@mail.gmail.com>
	<54F88B92.1010708@apache.org>
	<54F9C6EF.9000702@apache.org>
	<CAKQ1sVMU_2HftyvVNSQgwwWwPAicuBqp5222V5LVP07CsJyoNA@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC5E58D77@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVOMfGkU73CNWYcs__LSUiZrWL4dBhThVOJQm7qiutY5Mg@mail.gmail.com>
Date: Fri, 6 Mar 2015 17:53:16 +0100
Message-ID: <CAKQ1sVMSRUiq5n+GJurFQn3h4=8uSVhPc7_0S22sX6=XOcRxOA@mail.gmail.com>
Subject: Re: error_time reset in proxy_util.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Mar 6, 2015 at 5:46 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
> Actually since r1650028 (in trunk), non balancer-member workers are
> not put in error state by default (PROXY_WORKER_IGNORE_ERRORS).
> This has not been backported (reviewed?) yet, but comes from PR 48388.
>
> So this should not affect them (by default), +1.

Let's say that if r1650028 should not be backported (as per PR 48388
discussion), you're patch is correct ;)

>
> Regards,
> Yann.

From dev-return-82220-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar  7 12:41:03 2015
Return-Path: <dev-return-82220-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 88F1F101A8
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  7 Mar 2015 12:41:03 +0000 (UTC)
Received: (qmail 94628 invoked by uid 500); 7 Mar 2015 12:41:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94541 invoked by uid 500); 7 Mar 2015 12:41:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94531 invoked by uid 99); 7 Mar 2015 12:41:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Mar 2015 12:41:03 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of trawick@gmail.com designates 209.85.217.175 as permitted sender)
Received: from [209.85.217.175] (HELO mail-lb0-f175.google.com) (209.85.217.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Mar 2015 12:40:58 +0000
Received: by lbiz11 with SMTP id z11so36708231lbi.3
        for <dev@httpd.apache.org>; Sat, 07 Mar 2015 04:40:37 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=72FjZZ+H11TOZzW/qRp+FAUQTpT062qR9l5nHkfZJRM=;
        b=PaWkWk1jwKOI3tbUcL3t2TdgHO9s5xoVboeERGr9v7QbfegRFr2ZXCw9QsjqqVwbqe
         uNENl6gz/dn7mxpaYXKswUWeK9oeqehHGSS/nKBZu7Gnn9fZTBdnNx9aGd9TLscyHGWs
         OSH5VbpYGSFMLNPEwJ1J+644qTXzQ9LsMyIaipYTh1kBrY+Ar5YsuRJYRPgEd5Dij6HO
         T2P2BusxJYjzJZoFfq83TUyMAnD0VzUT/2w/lfKRfOaxNJT8pMOkmi2GJuoVPDaEvrpq
         oabwwvnGNZgqUxF/4x2rNP4h1Nsl9aC1Jqiiuzf4t+c5P55tlbNYW9mjnE4SM1JmMn1i
         yEjA==
MIME-Version: 1.0
X-Received: by 10.152.115.169 with SMTP id jp9mr17201308lab.121.1425732037711;
 Sat, 07 Mar 2015 04:40:37 -0800 (PST)
Received: by 10.114.5.167 with HTTP; Sat, 7 Mar 2015 04:40:37 -0800 (PST)
Date: Sat, 7 Mar 2015 07:40:37 -0500
Message-ID: <CAKUrXK7YhQ0updDJxrNQVxFGwzRGdvPPCb3raOkZSc1oyxsU9Q@mail.gmail.com>
Subject: apr_skiplist dependency
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11c25972a71aca0510b21b4e
X-Virus-Checked: Checked by ClamAV on apache.org

--001a11c25972a71aca0510b21b4e
Content-Type: text/plain; charset=UTF-8

Looking back, I think that apr_skiplist wasn't ready for general use (both
doc and code) when it was put in APR and released, and at the same time it
was unfortunate that it placed a prereq on a new APR release in order to
use Event, introducing another speedbump to using httpd's latest and
greatest.

Looking forward, I see the same thing; apr_skiplist needs design changes to
supply what httpd needs, and doing so means extra work in APR to preserve
compatibility, as well as dependence of Event on a new APR release stream.
That's another speedbump that httpd 2.4 users don't need.

The best thing for httpd (Event) w.r.t. skiplist is the best thing for
apr_skiplist itself: for the codebase to evolve naturally to support this
important (primary, only???) consumer, without the constraints of APR
versioning rules and APR release cycles (and perhaps without the
constraints of any versioning rules).

Pull this small amount of code into httpd, perhaps as a private interface
for 1-2 modules that need it.  Let it improve with fewer constraints.
Future APR 2.0 will improve from the relatively unfettered changes, and
httpd 2.4 users won't have speedbumps introduced by dependence on an
evolving skiplist implementation.

(Keep the skiplist code in APR trunk up to date with changes needed for
httpd.  The APR stable releases can pick up compatible code fixes, but that
probably won't be a priority for anyone but non-httpd consumers, and I'm
not aware of any such people working on skiplist thus far.)

Thoughts?

-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a11c25972a71aca0510b21b4e
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Looking back, I think that apr_skiplist wasn&#39;t ready f=
or general use (both doc and code) when it was put in APR and released, and=
 at the same time it was unfortunate that it placed a prereq on a new APR r=
elease in order to use Event, introducing another speedbump to using httpd&=
#39;s latest and greatest.<div><br></div><div>Looking forward, I see the sa=
me thing; apr_skiplist needs design changes to supply what httpd needs, and=
 doing so means extra work in APR to preserve compatibility, as well as dep=
endence of Event on a new APR release stream.=C2=A0 That&#39;s another spee=
dbump that httpd 2.4 users don&#39;t need.</div><div><br></div><div>The bes=
t thing for httpd (Event) w.r.t. skiplist is the best thing for apr_skiplis=
t itself: for the codebase to evolve naturally to support this important (p=
rimary, only???) consumer, without the constraints of APR versioning rules =
and APR release cycles (and perhaps without the constraints of any versioni=
ng rules).</div><div><br></div><div>Pull this small amount of code into htt=
pd, perhaps as a private interface for 1-2 modules that need it.=C2=A0 Let =
it improve with fewer constraints.=C2=A0 Future APR 2.0 will improve from t=
he relatively unfettered changes, and httpd 2.4 users won&#39;t have speedb=
umps introduced by dependence on an evolving skiplist implementation.</div>=
<div><br></div><div>(Keep the skiplist code in APR trunk up to date with ch=
anges needed for httpd.=C2=A0 The APR stable releases can pick up compatibl=
e code fixes, but that probably won&#39;t be a priority for anyone but non-=
httpd consumers, and I&#39;m not aware of any such people working on skipli=
st thus far.)<br clear=3D"all"><div><br></div><div>Thoughts?</div><div><br>=
</div>-- <br><div class=3D"gmail_signature"><div dir=3D"ltr">Born in Roswel=
l... married an alien...<br><a href=3D"http://emptyhammock.com/" target=3D"=
_blank">http://emptyhammock.com/</a><div><br></div></div></div>
</div></div>

--001a11c25972a71aca0510b21b4e--

From dev-return-82221-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar  7 16:11:36 2015
Return-Path: <dev-return-82221-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 85895107AC
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  7 Mar 2015 16:11:36 +0000 (UTC)
Received: (qmail 36458 invoked by uid 500); 7 Mar 2015 16:11:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36383 invoked by uid 500); 7 Mar 2015 16:11:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36373 invoked by uid 99); 7 Mar 2015 16:11:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Mar 2015 16:11:36 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.36] (HELO resqmta-ch2-04v.sys.comcast.net) (69.252.207.36)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Mar 2015 16:11:10 +0000
Received: from resomta-ch2-17v.sys.comcast.net ([69.252.207.113])
	by resqmta-ch2-04v.sys.comcast.net with comcast
	id 0g9z1q00K2TL4Rh01gAmG7; Sat, 07 Mar 2015 16:10:46 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-17v.sys.comcast.net with comcast
	id 0gAl1q00k1cCKD901gAm4V; Sat, 07 Mar 2015 16:10:46 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: apr_skiplist dependency
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKUrXK7YhQ0updDJxrNQVxFGwzRGdvPPCb3raOkZSc1oyxsU9Q@mail.gmail.com>
Date: Sat, 7 Mar 2015 11:10:45 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <A7A4D1D5-BCA0-4BB4-8A1B-25F8EE4A5404@jaguNET.com>
References: <CAKUrXK7YhQ0updDJxrNQVxFGwzRGdvPPCb3raOkZSc1oyxsU9Q@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1425744646;
	bh=P2beJUvwGRvPJYecjP3oQA5FhFVmUD6V2SuRkWfMDt0=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=Kjmvauo2H9JMGDGAknYtzjUNW4s+y2X4BQUJp6QIoRqJqHBNCHyTtbO2Ctm0EdAwA
	 Z3EV8AuJPy6EKJLkaDfVHnSaaux+7dwqfz5URNbFkTnlSeiIjQ6gcHpo/LmsbkJNhY
	 E6h24joIuPFs20t67GHnQNVxb+c6LiyWYRInKFN5xPhPVZgaCY+XiyrdFlkHUMoter
	 8AlUudnSXgTpaxtgXTeINRypuyit7BoHgi8gW5btlkoAe9Powbq3BG5rITij8JMLMW
	 2UvYhr8u2lDCH6aoBHwLvNc6idsFwaKZr3FSYfEtdzeS7rMGWR2AC9+wKN5p4LJXJr
	 EM2DevK8cJ9dA==
X-Virus-Checked: Checked by ClamAV on apache.org

I'm +1 on that.

<rant>
I'll be honest, I think that in several ways the "lag"
between httpd and APR is putting httpd at risk. Every
possible change to APR is being held-up by, imo, irrational
concepts of what "breaks" the API. Now this wouldn't be
so bad if we saw releases of APR more often than every
year or so. As it is, we end up with things that should
be in APR, but aren't, because we want to be able to keep
development and release of httpd at a rationale level,
OR things get "pushed" into APR quickly because, well,
with such infrequent releases, people (myself very included)
rush stuff in because we know it'll be months (several!)
before the idea of an APR release is even envisioned. ("Hurry
up and commit! God knows when the next release will be!!")

Personally, I think any "new" features that httpd requires
than would historically go into APR, STAY in httpd. Call
it aprx_ or whatever. APR can decide to pick those up when/if
it chooses. It can even live in ./srclib.
</rant>

As far as what to do w/ skiplist itself: httpd (event and motorz
and likely others, when its available) requires a *compliant*
skiplist implementation. If APR can't provide it, then we
provide our own.

> On Mar 7, 2015, at 7:40 AM, Jeff Trawick <trawick@gmail.com> wrote:
>=20
> Looking back, I think that apr_skiplist wasn't ready for general use =
(both doc and code) when it was put in APR and released, and at the same =
time it was unfortunate that it placed a prereq on a new APR release in =
order to use Event, introducing another speedbump to using httpd's =
latest and greatest.
>=20
> Looking forward, I see the same thing; apr_skiplist needs design =
changes to supply what httpd needs, and doing so means extra work in APR =
to preserve compatibility, as well as dependence of Event on a new APR =
release stream.  That's another speedbump that httpd 2.4 users don't =
need.
>=20
> The best thing for httpd (Event) w.r.t. skiplist is the best thing for =
apr_skiplist itself: for the codebase to evolve naturally to support =
this important (primary, only???) consumer, without the constraints of =
APR versioning rules and APR release cycles (and perhaps without the =
constraints of any versioning rules).
>=20
> Pull this small amount of code into httpd, perhaps as a private =
interface for 1-2 modules that need it.  Let it improve with fewer =
constraints.  Future APR 2.0 will improve from the relatively unfettered =
changes, and httpd 2.4 users won't have speedbumps introduced by =
dependence on an evolving skiplist implementation.
>=20
> (Keep the skiplist code in APR trunk up to date with changes needed =
for httpd.  The APR stable releases can pick up compatible code fixes, =
but that probably won't be a priority for anyone but non-httpd =
consumers, and I'm not aware of any such people working on skiplist thus =
far.)
>=20
> Thoughts?
>=20
> --=20
> Born in Roswell... married an alien...
> http://emptyhammock.com/
>=20


From dev-return-82222-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar  7 16:38:41 2015
Return-Path: <dev-return-82222-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7B4D1108B9
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  7 Mar 2015 16:38:41 +0000 (UTC)
Received: (qmail 1258 invoked by uid 500); 7 Mar 2015 16:38:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1188 invoked by uid 500); 7 Mar 2015 16:38:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1178 invoked by uid 99); 7 Mar 2015 16:38:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Mar 2015 16:38:40 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.175 as permitted sender)
Received: from [209.85.223.175] (HELO mail-ie0-f175.google.com) (209.85.223.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Mar 2015 16:38:36 +0000
Received: by iecvy18 with SMTP id vy18so29054229iec.9
        for <dev@httpd.apache.org>; Sat, 07 Mar 2015 08:38:16 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=Zq2Bf32UVJnsF0UV3PENfeFqdHkSU8Seo/nUfW6PVWY=;
        b=Hux8Eg3/w8Fw/QY4b9d6gAG1UHmVbKarhsQMuphMDdLTacir0uZXRhEPGvpZ5e1XaD
         cqtEEE692PUEey3XFjO5rjAQfEPrO1hQZwpVk4q095dKeLxEaSzJY0YdtoOTCsI4WZVu
         VESiQUvgrykUqXFmLnY9CXfoKxU6ZLwKHSNyXH+IO9X6JEN/4hE8Iy+aDmTAkp17AIHZ
         njeNehGocPZB79XBABcW11VZmzwCkb/SFL+u3n5RLru0Ud++iP73oelW52Ex3YC01kqZ
         QErjclNDvYYZbNF5ZqGBTAOSmafprU4PFXT0L97FQEXOGW5U2w5JpJVsyP6lEA22XHS7
         FZLw==
MIME-Version: 1.0
X-Received: by 10.43.81.20 with SMTP id zw20mr16521947icb.84.1425746296435;
 Sat, 07 Mar 2015 08:38:16 -0800 (PST)
Received: by 10.42.255.7 with HTTP; Sat, 7 Mar 2015 08:38:16 -0800 (PST)
In-Reply-To: <A7A4D1D5-BCA0-4BB4-8A1B-25F8EE4A5404@jaguNET.com>
References: <CAKUrXK7YhQ0updDJxrNQVxFGwzRGdvPPCb3raOkZSc1oyxsU9Q@mail.gmail.com>
	<A7A4D1D5-BCA0-4BB4-8A1B-25F8EE4A5404@jaguNET.com>
Date: Sat, 7 Mar 2015 17:38:16 +0100
Message-ID: <CAKQ1sVMg_59xzthPLEwwEUO3eearoTWR0dNDcHU3_=69xV7Z6w@mail.gmail.com>
Subject: Re: apr_skiplist dependency
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

+1

If/before we do this, maybe we can at least agree on
skiplist_insert/add() vs skiplist_insert/addne().
I known it depends on whether or not names will finally be rollbacked
in APR, but we'd better not copy skiplist's code from there before
this is decided.
Just to avoid having different semantics in APR and httpd, and ease
keeping the code in sync when necessary...


On Sat, Mar 7, 2015 at 5:10 PM, Jim Jagielski <jim@jagunet.com> wrote:
> I'm +1 on that.
>
> <rant>
> I'll be honest, I think that in several ways the "lag"
> between httpd and APR is putting httpd at risk. Every
> possible change to APR is being held-up by, imo, irrational
> concepts of what "breaks" the API. Now this wouldn't be
> so bad if we saw releases of APR more often than every
> year or so. As it is, we end up with things that should
> be in APR, but aren't, because we want to be able to keep
> development and release of httpd at a rationale level,
> OR things get "pushed" into APR quickly because, well,
> with such infrequent releases, people (myself very included)
> rush stuff in because we know it'll be months (several!)
> before the idea of an APR release is even envisioned. ("Hurry
> up and commit! God knows when the next release will be!!")
>
> Personally, I think any "new" features that httpd requires
> than would historically go into APR, STAY in httpd. Call
> it aprx_ or whatever. APR can decide to pick those up when/if
> it chooses. It can even live in ./srclib.
> </rant>
>
> As far as what to do w/ skiplist itself: httpd (event and motorz
> and likely others, when its available) requires a *compliant*
> skiplist implementation. If APR can't provide it, then we
> provide our own.
>
>> On Mar 7, 2015, at 7:40 AM, Jeff Trawick <trawick@gmail.com> wrote:
>>
>> Looking back, I think that apr_skiplist wasn't ready for general use (bo=
th doc and code) when it was put in APR and released, and at the same time =
it was unfortunate that it placed a prereq on a new APR release in order to=
 use Event, introducing another speedbump to using httpd's latest and great=
est.
>>
>> Looking forward, I see the same thing; apr_skiplist needs design changes=
 to supply what httpd needs, and doing so means extra work in APR to preser=
ve compatibility, as well as dependence of Event on a new APR release strea=
m.  That's another speedbump that httpd 2.4 users don't need.
>>
>> The best thing for httpd (Event) w.r.t. skiplist is the best thing for a=
pr_skiplist itself: for the codebase to evolve naturally to support this im=
portant (primary, only???) consumer, without the constraints of APR version=
ing rules and APR release cycles (and perhaps without the constraints of an=
y versioning rules).
>>
>> Pull this small amount of code into httpd, perhaps as a private interfac=
e for 1-2 modules that need it.  Let it improve with fewer constraints.  Fu=
ture APR 2.0 will improve from the relatively unfettered changes, and httpd=
 2.4 users won't have speedbumps introduced by dependence on an evolving sk=
iplist implementation.
>>
>> (Keep the skiplist code in APR trunk up to date with changes needed for =
httpd.  The APR stable releases can pick up compatible code fixes, but that=
 probably won't be a priority for anyone but non-httpd consumers, and I'm n=
ot aware of any such people working on skiplist thus far.)
>>
>> Thoughts?
>>
>> --
>> Born in Roswell... married an alien...
>> http://emptyhammock.com/
>>
>

From dev-return-82223-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar  7 19:03:50 2015
Return-Path: <dev-return-82223-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0E9D010B23
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  7 Mar 2015 19:03:50 +0000 (UTC)
Received: (qmail 28863 invoked by uid 500); 7 Mar 2015 19:03:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28797 invoked by uid 500); 7 Mar 2015 19:03:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28787 invoked by uid 99); 7 Mar 2015 19:03:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Mar 2015 19:03:49 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.34] (HELO resqmta-ch2-02v.sys.comcast.net) (69.252.207.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 07 Mar 2015 19:03:44 +0000
Received: from resomta-ch2-09v.sys.comcast.net ([69.252.207.105])
	by resqmta-ch2-02v.sys.comcast.net with comcast
	id 0j1t1q0062GyhjZ01j23U8; Sat, 07 Mar 2015 19:02:03 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-09v.sys.comcast.net with comcast
	id 0j221q00S1cCKD901j234P; Sat, 07 Mar 2015 19:02:03 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: apr_skiplist dependency
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVMg_59xzthPLEwwEUO3eearoTWR0dNDcHU3_=69xV7Z6w@mail.gmail.com>
Date: Sat, 7 Mar 2015 14:02:02 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <D0936CE6-39CF-494E-8FA7-BD637ED8FAA2@jaguNET.com>
References: <CAKUrXK7YhQ0updDJxrNQVxFGwzRGdvPPCb3raOkZSc1oyxsU9Q@mail.gmail.com> <A7A4D1D5-BCA0-4BB4-8A1B-25F8EE4A5404@jaguNET.com> <CAKQ1sVMg_59xzthPLEwwEUO3eearoTWR0dNDcHU3_=69xV7Z6w@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1425754923;
	bh=CVoF5QNYwIOrg4nDpKQSlKBGKIUDUcN7AxjkdowxD6c=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=odEaKXSeofbv0sXabfTRUJkXZBw9D9OCmfg6y4fjPgEit856g5mM7FcYDo8cR9q2/
	 H7BGtr5EFMAv1nTcebQnQtwIl0L7v/bPlHsCwef1KjpRU6gjSI0DhCnEmS56CYmgpj
	 iwkaIx7JvSzXXIcJgdS1LanZeby1/6kjc7+k4D2hWjdgy99fWjo1j13a2DNPKarkSu
	 4jjoiF5B/GYSvY6HSmEhVriZAsE4/jDssNJNk8xET/zVSNM6B7BqXqMtWblx2+jDo+
	 gjmMg0Ai++500/rVGYHxOmJ7efuJFnUZPF3+tX5ZKwBJ4E8mTXpdDyyb2JrEjKjR3L
	 9rVHfcGibFbCQ==
X-Virus-Checked: Checked by ClamAV on apache.org

My 2c is that I don't like the idea that "add" and "insert"
means 2 different things with 2 different behaviors. I
know we were kinda forced into that due to me, mistakenly,
not realizing that dups were the *compliant* impl.

The real rub is what do we call "place into skiplist
unless it would overwrite a previously placed element".
My choice of "addne" was shorthand for "ADD if element
does Not Exist".

> On Mar 7, 2015, at 11:38 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>=20
> +1
>=20
> If/before we do this, maybe we can at least agree on
> skiplist_insert/add() vs skiplist_insert/addne().
> I known it depends on whether or not names will finally be rollbacked
> in APR, but we'd better not copy skiplist's code from there before
> this is decided.
> Just to avoid having different semantics in APR and httpd, and ease
> keeping the code in sync when necessary...
>=20
>=20
> On Sat, Mar 7, 2015 at 5:10 PM, Jim Jagielski <jim@jagunet.com> wrote:
>> I'm +1 on that.
>>=20
>> <rant>
>> I'll be honest, I think that in several ways the "lag"
>> between httpd and APR is putting httpd at risk. Every
>> possible change to APR is being held-up by, imo, irrational
>> concepts of what "breaks" the API. Now this wouldn't be
>> so bad if we saw releases of APR more often than every
>> year or so. As it is, we end up with things that should
>> be in APR, but aren't, because we want to be able to keep
>> development and release of httpd at a rationale level,
>> OR things get "pushed" into APR quickly because, well,
>> with such infrequent releases, people (myself very included)
>> rush stuff in because we know it'll be months (several!)
>> before the idea of an APR release is even envisioned. ("Hurry
>> up and commit! God knows when the next release will be!!")
>>=20
>> Personally, I think any "new" features that httpd requires
>> than would historically go into APR, STAY in httpd. Call
>> it aprx_ or whatever. APR can decide to pick those up when/if
>> it chooses. It can even live in ./srclib.
>> </rant>
>>=20
>> As far as what to do w/ skiplist itself: httpd (event and motorz
>> and likely others, when its available) requires a *compliant*
>> skiplist implementation. If APR can't provide it, then we
>> provide our own.
>>=20
>>> On Mar 7, 2015, at 7:40 AM, Jeff Trawick <trawick@gmail.com> wrote:
>>>=20
>>> Looking back, I think that apr_skiplist wasn't ready for general use =
(both doc and code) when it was put in APR and released, and at the same =
time it was unfortunate that it placed a prereq on a new APR release in =
order to use Event, introducing another speedbump to using httpd's =
latest and greatest.
>>>=20
>>> Looking forward, I see the same thing; apr_skiplist needs design =
changes to supply what httpd needs, and doing so means extra work in APR =
to preserve compatibility, as well as dependence of Event on a new APR =
release stream.  That's another speedbump that httpd 2.4 users don't =
need.
>>>=20
>>> The best thing for httpd (Event) w.r.t. skiplist is the best thing =
for apr_skiplist itself: for the codebase to evolve naturally to support =
this important (primary, only???) consumer, without the constraints of =
APR versioning rules and APR release cycles (and perhaps without the =
constraints of any versioning rules).
>>>=20
>>> Pull this small amount of code into httpd, perhaps as a private =
interface for 1-2 modules that need it.  Let it improve with fewer =
constraints.  Future APR 2.0 will improve from the relatively unfettered =
changes, and httpd 2.4 users won't have speedbumps introduced by =
dependence on an evolving skiplist implementation.
>>>=20
>>> (Keep the skiplist code in APR trunk up to date with changes needed =
for httpd.  The APR stable releases can pick up compatible code fixes, =
but that probably won't be a priority for anyone but non-httpd =
consumers, and I'm not aware of any such people working on skiplist thus =
far.)
>>>=20
>>> Thoughts?
>>>=20
>>> --
>>> Born in Roswell... married an alien...
>>> http://emptyhammock.com/
>>>=20
>>=20


From dev-return-82224-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar  8 07:14:05 2015
Return-Path: <dev-return-82224-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0B3B7177DB
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  8 Mar 2015 07:14:05 +0000 (UTC)
Received: (qmail 14479 invoked by uid 500); 8 Mar 2015 07:14:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14414 invoked by uid 500); 8 Mar 2015 07:14:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14404 invoked by uid 99); 8 Mar 2015 07:14:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Mar 2015 07:14:04 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=FORGED_YAHOO_RCVD,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of joe_schaefer@yahoo.com designates 98.138.91.245 as permitted sender)
Received: from [98.138.91.245] (HELO nm23-vm5.bullet.mail.ne1.yahoo.com) (98.138.91.245)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Mar 2015 07:13:59 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s2048; t=1425798667; bh=UZGf7CE84gpf5I7Rau+dFkEiD8ieVkB3o0vBFm6vIuM=; h=Subject:From:In-Reply-To:Date:Cc:References:To:From:Subject; b=NKXjao132iEDRpG+qIpdn4seV/u84vG2+vBja4RMTI+vEGl6IHRl8sc6q93/1njLshlLFyMdBhEALbJ72AC7HtXRX3VQGFEVZjT8+oBx0ulMAGmcwgqoWs8NXUGF+VRKC1rPtmlxOTisopylTgPjYfdqC4P+sPT+vV+IC1X5aokyQCDwsYunzhoCt+Twifzp3XvhDFiINJcBJKjB9Fkwy6TEWXO5JKxTBbdRH4LsaC8mMDZh7Uxu5qTNpnBHHLjZO05OLbxSro7hH3WPUst5jWKpbuJtM60aqr8udA5RoiBEVPf6O4/ws/+IUsbVGSIuH5pPd4JM2lFiIK3Cm5QKEg==
Received: from [98.138.226.180] by nm23.bullet.mail.ne1.yahoo.com with NNFMP; 08 Mar 2015 07:11:07 -0000
Received: from [98.138.226.56] by tm15.bullet.mail.ne1.yahoo.com with NNFMP; 08 Mar 2015 07:11:07 -0000
Received: from [127.0.0.1] by smtp207.mail.ne1.yahoo.com with NNFMP; 08 Mar 2015 07:11:07 -0000
X-Yahoo-Newman-Id: 670200.91564.bm@smtp207.mail.ne1.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: XF1uiUYVM1ljzyT1GpeAvnI890bRRHatj2Ca3RCVTuY.Vty
 gkydVwB.1qXdS7sXShR4c5v8TYd.uc7q0IisWxBcqsb4aCIkliYVIdOxVYne
 cP4VQCE.5RtVnEg4PCe2aN6fkiCSO55llA0iIu2AbQp3sYhMrvuz9S1bHAMJ
 q6_5t8_s.NjhdOlk6oDwgiF2.OGGVWMbxGCmZX8piQRoAYnQA9V0ZA6EsNno
 4aesJaz18RcetwjDbYTnPZaUV2RTXk7RIvGo4m0X8k77m9owh4YsjERDat0S
 RmBc7f6pZ3YOFaR5686RIFVyaaeXuqviiGGDQbfsX1HVAbcgQLipL6QOArL2
 R8wRQzo0kvGydjqYxTu3KuVq6A5W7g2IvdPakAUPNtOfzzCHH67bxpQqLtPh
 AAjOJgezosnRovvYQp1.NIbzr.W5UuzG6tRJHq6zn2kIRNjt.INDY868UcaC
 vU59DzumZpeiT4OQlJpzSytNWAzNr9Sarg.LY1cCTtLeDM60rVh7Mg4..re_
 esDNYAcXtam2srFKCDYBnsdBptV_h2QNC
X-Yahoo-SMTP: QDlDAnmswBC.bNldBIBkpZHKbHoL830igw--
Content-Type: text/plain;
	charset=us-ascii
Mime-Version: 1.0 (1.0)
Subject: Re: Was there any concrete decision on apreq?
From: Joseph Schaefer <joe_schaefer@yahoo.com>
X-Mailer: iPhone Mail (12B466)
In-Reply-To: <CADED=K6Z8LcEAF7d0sREgyLDKRki+mfa73atPizG8b2eVpzRzw@mail.gmail.com>
Date: Sun, 8 Mar 2015 03:11:07 -0400
Cc: "apreq-dev@httpd.apache.org" <apreq-dev@httpd.apache.org>
Content-Transfer-Encoding: quoted-printable
Message-Id: <B5562A99-249F-4593-9CF6-90A4FD573393@yahoo.com>
References: <54EB9183.3040008@gknw.net> <CALK=YjMck2QGL46L1wmByzEUCFycuA364HvZNBrDQhKYSKT8Sg@mail.gmail.com> <49DE903D-B66C-4417-8067-01C29DD5B89B@yahoo.com> <CADED=K4jZFb8AdCaN-c+TOD+Cu71yWD_i_dkFcEGMvWRHmiHvA@mail.gmail.com> <54EC5A2B.2030206@beamartyr.net> <CADED=K6Z8LcEAF7d0sREgyLDKRki+mfa73atPizG8b2eVpzRzw@mail.gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

In a nutshell the long term goal has always been to get the c parts of apreq=
 incorporated into httpd distributions so the perl parts can ship with modpe=
rl.  This is still along those lines.  In order to continue to expose the co=
ol cgi code that Issac added to libapreq we need to ensure there is an actua=
l external library still when we ship with httpd otherwise we lose the modul=
ar features we spent so much time designing as apreq would then be limited t=
o httpd modules only.  I'd like to see it serve the entire gamut of web apps=
 including fast cgi.  That's what my ongoing plans are for the httpd project=
.

Sent from my iPhone

> On Feb 24, 2015, at 8:53 AM, Steve Hay <steve.m.hay@googlemail.com> wrote:=

>=20
> I'm not sure exactly what the proposal here is, but as long as the
> perl glue (Apache2::Request et al) still exists on CPAN and can be
> built in the usual manner then that sounds fine.
>=20
> At the moment it contains a number of XS modules (APR::Request::*)
> which variously link against libapreq2.lib (.dll) and mod_apreq2.lib
> (.so), which are also built as part of the same build process. If
> those XS modules will in the future link against httpd (libhttpd.lib?)
> instead then I can't think of any problem with that.
>=20
>=20
>> On 24 February 2015 at 11:02, Issac Goldstand <margol@beamartyr.net> wrot=
e:
>> I think nothing.
>>=20
>> Most mod_perl users (I think) install apreq via Apache2::Request.  That
>> can continue to be maintained on CPAN, as is, linking against httpd
>> instead of mod_apreq
>>=20
>> Or do you forsee a problem here?
>>=20
>>> On 2/24/2015 9:56 AM, Steve Hay wrote:
>>> What would this mean for mod_perl users? I, and I assume many
>>> others(?), still use the perl glue part of libapreq in mod_perl
>>> software.
>>>=20
>>> I only just spotted this thread, and just wondered how such mod_perl
>>> users will be affected, if at all.
>>>=20
>>>> On 24 February 2015 at 03:24, Joseph Schaefer <joe_schaefer@yahoo.com> w=
rote:
>>>> I still want to do that just lacking tuits
>>>>=20
>>>> Sent from my iPhone
>>>>=20
>>>>>> On Feb 23, 2015, at 3:56 PM, Eric Covener <covener@gmail.com> wrote:
>>>>>>=20
>>>>>> On Mon, Feb 23, 2015 at 3:45 PM, Gregg Smith <gls@gknw.net> wrote:
>>>>>> Am I missing something? Did I miss a boatload of email where any firm=

>>>>>> decision was made?
>>>>>=20
>>>>>=20
>>>>> I don't think you have missed anything. I assume very few people have
>>>>> any clue how it's integrated/used today.  The last thing I have in my
>>>>> mail archive is joes proposal to pull the library part back out and
>>>>> make it available in a way similar to mod_ldap.
>>=20

From dev-return-82225-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar  8 07:15:26 2015
Return-Path: <dev-return-82225-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6A6E0177EF
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  8 Mar 2015 07:15:26 +0000 (UTC)
Received: (qmail 17773 invoked by uid 500); 8 Mar 2015 07:15:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 17708 invoked by uid 500); 8 Mar 2015 07:15:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 17699 invoked by uid 99); 8 Mar 2015 07:15:16 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Mar 2015 07:15:16 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id DEB8B1A038C
	for <dev@httpd.apache.org>; Sun,  8 Mar 2015 07:15:15 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id 440876073D; Sun,  8 Mar 2015 07:15:15 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2015/03/08]
Message-Id: <20150308071515.440876073D@asf-bz1-us-mid.priv.apache.org>
Date: Sun,  8 Mar 2015 07:15:06 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 7483|Ass|Enh|2002-03-26|Add FileAction directive to assign a cgi interpret|
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|12680|New|Enh|2002-09-16|Digest authentication with integrity protection   |
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|18497|New|Min|2003-03-30|configure --help gives wrong default for sysconfdi|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21253|New|Nor|2003-07-01|Mime magic doesn't continue if type is specifed fo|
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22005|Ver|Nor|2003-07-30|Win32: "Help I'm Stuck!" menu item leads to dead e|
|22138|Inf|Cri|2003-08-05|Webdav is not preccessing special chars right.    |
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Nor|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42001|New|Cri|2007-03-30|LINUX : Could not set LDAP_OPT_X_TLS to LDAP_OPT_X|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Opn|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|httpd fails to start if log directory does not exi|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43532|Inf|Cri|2007-10-02|Error while compiling Apache 2.2.3 on HPUX        |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44736|New|Cri|2008-04-01|mod_proxy_balancer looses it's mind on reloads.   |
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|New|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45926|Inf|Nor|2008-10-01|Unable to start apache 2.2.9                      |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46054|New|Nor|2008-10-21|Running httpd returns the error "bad user name nob|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46421|New|Maj|2008-12-19|module mod_authz_dbd - doesn't work when multiple |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Nor|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46724|Inf|Cri|2009-02-17|WinXP SP3 - Apache crashes on startup in libapr-1.|
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47241|New|Min|2009-05-22|Error in rewriting with character ':'             |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47289|New|Nor|2009-05-30|Can't build with dynamic libraries on Mac OS 10.4 |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|Inf|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48309|New|Maj|2009-11-30|libapreq2-2.12: "make test" fails at request.t and|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50740|New|Enh|2011-02-09|Enable OCSP Stapling by default                   |
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|New|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51336|New|Enh|2011-06-07|need a topic for serving pre-compressed content   |
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51412|New|Nor|2011-06-21|Nasty warning in ftp_cmd_pbsz() -- dangerous, wher|
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels|
|51747|New|Nor|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51842|New|Enh|2011-09-18|Suggesting a new action for the Header directive: |
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51959|Ver|Nor|2011-10-05|Broken link to "Mastering Regular Expressions, by |
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52210|Opn|Enh|2011-11-18|Add TLS Next Protocol Negotiation (NPN) support to|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Enh|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52523|New|Nor|2012-01-25|Headers from mod_expires are wrongly set for redir|
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52756|Inf|Trv|2012-02-24|proxy_html_module LoadModule line not created in h|
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52820|New|Min|2012-03-04|SSLProtocol/SSLProxyProtocol doesn't iterate prope|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52831|New|Nor|2012-03-05|mod_rewrite redirect broken with IPv6 literal addr|
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52845|New|Nor|2012-03-07|"DirectoryIndex disabled" cannot disable index fil|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52855|Opn|Maj|2012-03-08|mod_ftp does not build against 2.4.x              |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53121|New|Nor|2012-04-22|Confusing documentation, gzip and deflate         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53153|New|Nor|2012-04-26|Rewrite documentation unclear or wrong about what |
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53349|New|Nor|2012-06-01|CONTENT_TYPE erroneously seen as empty string for |
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53530|New|Nor|2012-07-10|<Directory> docs don't explain when to use quotes |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54364|New|Nor|2012-12-31|Add ref to mod_fcgid docs                         |
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54587|Opn|Nor|2013-02-19|LDAPConnectionPoolTimeout does not work in all cas|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54611|New|Nor|2013-02-26|Location header for dav_created not URI encoded   |
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55089|New|Nor|2013-06-10|Caching of LDAP credentials is not clearly documen|
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55100|New|Nor|2013-06-13|--with-perl referenced but not explained          |
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55123|New|Nor|2013-06-20|Formatting issue in ABOUT_APACHE                  |
|55147|New|Nor|2013-06-26|"Header always" w/ cache different in 2.4         |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55350|New|Maj|2013-08-03|mpm-itk and mod_fcgid do not work together        |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55420|New|Nor|2013-08-14|Integer underflow in lock timeout computation     |
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55449|New|Maj|2013-08-19|AH01185: worker slotmem_create failed --> slotmem |
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55741|New|Min|2013-11-04|Documentation is served with incorrect character e|
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55808|New|Nor|2013-11-21|File integrity verification using MD5 and SHA1    |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|New|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55841|New|Nor|2013-12-04|Misleading news items on bugfix releases ("This ve|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55892|New|Nor|2013-12-16|ProxyRemote with HTTPS backend sends requests with|
|55897|New|Nor|2013-12-17|[PATCH]patch with SO_REUSEPORT support            |
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|Inf|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55990|Inf|Nor|2014-01-12|SetEnv vs. =! inconsistentcy not documented       |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56035|Inf|Nor|2014-01-20|Issue with LimitRequestBody                       |
|56040|Inf|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56214|New|Nor|2014-03-03|Spanish translation of Apache's error pages       |
|56226|New|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56241|New|Min|2014-03-10|SNI sends warning upon name not found, RFC 6066 di|
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56346|New|Nor|2014-04-03|self-signed cert documentation creates a certifica|
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56414|Inf|Nor|2014-04-15|SNI & HTTP hostname different because of user@    |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56687|New|Nor|2014-07-01|ProxySourceAddress failed to bind socket to local |
|56695|New|Nor|2014-07-03|Doc error on option %O for mod_logio              |
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56729|New|Reg|2014-07-16|Can't use HTTP 1.1 Keep-Alive with mod_reqtimeout |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56767|New|Nor|2014-07-24|ap_update_child_status breaks with segmentation fa|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|New|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56823|New|Nor|2014-08-07|returning 200 status when ap_get_brigade failed   |
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56855|New|Enh|2014-08-14|mod_proxy_fcgi: add PassHeader directive          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56872|New|Nor|2014-08-19|Small request bodies bypass DeflateInflateLimitReq|
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56898|New|Nor|2014-08-28|Headers in err_headers_out are not returned when a|
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56922|New|Nor|2014-09-07|FallbackResource doesn't fall back with %2F in URL|
|56925|New|Maj|2014-09-08|ProxyErrorOverride=On causes workers in error stat|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56985|New|Nor|2014-09-16|Clarify which IndexOptions require FancyIndexing  |
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57077|Opn|Nor|2014-10-11|flood svn link does not work                      |
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57109|New|Nor|2014-10-17|GPG verification examples are wrong               |
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57120|New|Nor|2014-10-21|Disable SSLv3 by default (POODLE)                 |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57139|New|Nor|2014-10-24|mod_proxy uses wrong Host header when using an HTT|
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57177|New|Nor|2014-11-03|terminated by signal ILL in server/scoreboard.c li|
|57189|New|Enh|2014-11-05|Norwegian translation of Apache's error pages     |
|57207|New|Nor|2014-11-13|[mod_ssl] Add a way to retrieve email in alternati|
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|New|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57358|New|Nor|2014-12-17|Incorrect If-Match handling                       |
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57375|New|Enh|2014-12-19|Support LibreSSL as an alternative toolkit for mod|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Nor|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57524|New|Nor|2015-02-02|Opcode and other fields calculated wrong in mod_lu|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57531|New|Nor|2015-02-03|2.4.12 segmentation fault when accessing host on L|
|57584|New|Nor|2015-02-13|AddHandler etc. documentation "extension" unintuit|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57600|New|Nor|2015-02-18|Presence of SSLCACertificateFile/Path causes root |
|57615|Inf|Nor|2015-02-21|HTTPS CONNECT target hostname incorrectly validate|
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
+-----+---+---+----------+--------------------------------------------------+
| Total 1488 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-82226-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar  8 15:48:22 2015
Return-Path: <dev-return-82226-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3AB0517FA7
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  8 Mar 2015 15:48:22 +0000 (UTC)
Received: (qmail 85267 invoked by uid 500); 8 Mar 2015 15:48:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 85207 invoked by uid 500); 8 Mar 2015 15:48:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 85189 invoked by uid 99); 8 Mar 2015 15:48:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Mar 2015 15:48:21 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of minfrin@sharp.fm designates 80.168.143.5 as permitted sender)
Received: from [80.168.143.5] (HELO monica.sharp.fm) (80.168.143.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Mar 2015 15:47:56 +0000
Received: from [192.168.88.159] (unknown [192.168.88.159])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 27F3A80B6F;
	Sun,  8 Mar 2015 15:46:54 +0000 (GMT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: Was there any concrete decision on apreq?
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <B5562A99-249F-4593-9CF6-90A4FD573393@yahoo.com>
Date: Sun, 8 Mar 2015 17:46:53 +0200
Cc: "apreq-dev@httpd.apache.org" <apreq-dev@httpd.apache.org>
Content-Transfer-Encoding: quoted-printable
Message-Id: <29730F54-75C9-4E19-B740-0085998D5075@sharp.fm>
References: <54EB9183.3040008@gknw.net> <CALK=YjMck2QGL46L1wmByzEUCFycuA364HvZNBrDQhKYSKT8Sg@mail.gmail.com> <49DE903D-B66C-4417-8067-01C29DD5B89B@yahoo.com> <CADED=K4jZFb8AdCaN-c+TOD+Cu71yWD_i_dkFcEGMvWRHmiHvA@mail.gmail.com> <54EC5A2B.2030206@beamartyr.net> <CADED=K6Z8LcEAF7d0sREgyLDKRki+mfa73atPizG8b2eVpzRzw@mail.gmail.com> <B5562A99-249F-4593-9CF6-90A4FD573393@yahoo.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org

On 08 Mar 2015, at 9:11 AM, Joseph Schaefer <joe_schaefer@yahoo.com> =
wrote:

> In a nutshell the long term goal has always been to get the c parts of =
apreq incorporated into httpd distributions so the perl parts can ship =
with modperl.  This is still along those lines.  In order to continue to =
expose the cool cgi code that Issac added to libapreq we need to ensure =
there is an actual external library still when we ship with httpd =
otherwise we lose the modular features we spent so much time designing =
as apreq would then be limited to httpd modules only.  I'd like to see =
it serve the entire gamut of web apps including fast cgi.  That's what =
my ongoing plans are for the httpd project.

+1.

For ages library functions for httpd have ended up in APR, but this =
isn=E2=80=99t ideal - APR is a portability layer, and even though code =
is being accepted that =E2=80=9Cworks with APR=E2=80=9D, in reality we =
really need a libhttpd library that can provide =E2=80=9Cweb server like =
stuff=E2=80=9D in a proper true library form. Will certainly make tools =
in the =E2=80=9Csupport=E2=80=9D area of the httpd tree easier to =
develop for, as none of the tools have access to httpd proper, and code =
must be cut and pasted.

I don=E2=80=99t like that apreq as a loadable module, but I would love =
it as a proper shared library.

Same with the expressions code.

Regards,
Graham
=E2=80=94


From dev-return-82227-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar  8 16:44:30 2015
Return-Path: <dev-return-82227-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 907B41016F
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  8 Mar 2015 16:44:30 +0000 (UTC)
Received: (qmail 61122 invoked by uid 500); 8 Mar 2015 16:44:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 61038 invoked by uid 500); 8 Mar 2015 16:44:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 60978 invoked by uid 99); 8 Mar 2015 16:44:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Mar 2015 16:44:27 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: local policy)
Received: from [64.68.201.169] (HELO mailout.easymail.ca) (64.68.201.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 08 Mar 2015 16:44:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by mailout.easymail.ca (Postfix) with ESMTP id 93D10E425;
	Sun,  8 Mar 2015 12:43:38 -0400 (EDT)
X-Virus-Scanned: Debian amavisd-new at mailout.easymail.ca
X-Spam-Score: -3.75
X-Spam-Level: 
Received: from mailout.easymail.ca ([127.0.0.1])
	by localhost (easymail-mailout.easydns.vpn [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 1fhYrtodJ3-L; Sun,  8 Mar 2015 12:43:38 -0400 (EDT)
Received: from critterling.garfield.home (unknown [50.111.28.229])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailout.easymail.ca (Postfix) with ESMTPSA id 57A41E416;
	Sun,  8 Mar 2015 12:43:38 -0400 (EDT)
Received: from betty.garfield.home (netgear.garfield.home [192.168.8.254])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by critterling.garfield.home (Postfix) with ESMTPSA id 7E67C13C;
	Sun,  8 Mar 2015 12:43:37 -0400 (EDT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: Was there any concrete decision on apreq?
From: "Victor J. Orlikowski" <victor.j.orlikowski@alumni.duke.edu>
In-Reply-To: <29730F54-75C9-4E19-B740-0085998D5075@sharp.fm>
Date: Sun, 8 Mar 2015 12:43:36 -0400
Cc: "apreq-dev@httpd.apache.org" <apreq-dev@httpd.apache.org>
Content-Transfer-Encoding: quoted-printable
Message-Id: <E95B2BD6-2DFB-4D7B-90C3-42241B24E093@alumni.duke.edu>
References: <54EB9183.3040008@gknw.net> <CALK=YjMck2QGL46L1wmByzEUCFycuA364HvZNBrDQhKYSKT8Sg@mail.gmail.com> <49DE903D-B66C-4417-8067-01C29DD5B89B@yahoo.com> <CADED=K4jZFb8AdCaN-c+TOD+Cu71yWD_i_dkFcEGMvWRHmiHvA@mail.gmail.com> <54EC5A2B.2030206@beamartyr.net> <CADED=K6Z8LcEAF7d0sREgyLDKRki+mfa73atPizG8b2eVpzRzw@mail.gmail.com> <B5562A99-249F-4593-9CF6-90A4FD573393@yahoo.com> <29730F54-75C9-4E19-B740-0085998D5075@sharp.fm>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Old-Spam-Status: No, score=-3.75 required=5 tests=[ALL_TRUSTED=-1.8, AWL=-0.043,
	BAYES_00=-2.599, DNS_FROM_AHBL_RHSBL=0.692]

On Mar 8, 2015, at 11:46 AM, Graham Leggett <minfrin@sharp.fm> wrote:
>=20
> For ages library functions for httpd have ended up in APR, but this =
isn=E2=80=99t ideal - APR is a portability layer, and even though code =
is being accepted that =E2=80=9Cworks with APR=E2=80=9D, in reality we =
really need a libhttpd library that can provide =E2=80=9Cweb server like =
stuff=E2=80=9D in a proper true library form. Will certainly make tools =
in the =E2=80=9Csupport=E2=80=9D area of the httpd tree easier to =
develop for, as none of the tools have access to httpd proper, and code =
must be cut and pasted.
>=20
> I don=E2=80=99t like that apreq as a loadable module, but I would love =
it as a proper shared library.
>=20
> Same with the expressions code.

+1

Best,
Victor
--
Victor J. Orlikowski <> victor.j.orlikowski@alumni.duke.edu


From dev-return-82228-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar  9 00:47:34 2015
Return-Path: <dev-return-82228-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 75A7410E99
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  9 Mar 2015 00:47:34 +0000 (UTC)
Received: (qmail 67721 invoked by uid 500); 9 Mar 2015 00:47:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67650 invoked by uid 500); 9 Mar 2015 00:47:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67640 invoked by uid 99); 9 Mar 2015 00:47:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Mar 2015 00:47:30 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of sebbaz@gmail.com designates 209.85.220.175 as permitted sender)
Received: from [209.85.220.175] (HELO mail-vc0-f175.google.com) (209.85.220.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Mar 2015 00:47:05 +0000
Received: by mail-vc0-f175.google.com with SMTP id hq11so6326109vcb.6
        for <DEV@HTTPD.APACHE.ORG>; Sun, 08 Mar 2015 17:44:48 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=h78Hgla2GRAnIIGV+q8yEFR3TKP/hC3BWTy35WPIX2k=;
        b=wdoiV2DQSOyrSmmdKXGcC7G5JJ0socJWeVT5IK1Sr5lZ7WbNXdIliz9Zfp99MDg1dh
         JArTgfFXsT2GZnDMCDQE0oAwACQ0RQQBCAGtttdbG0okehd9GP75WVtlS5NmqIYA2vYG
         rplaayLcGXlb7W7H0ataWvvrGuHekufZldqVJcEyygRJui1FTS+0Ok82trZ99cFaGM7T
         srQpAKuo/cgDDf9q1XqTqitGOZ+kUYbo6/OpIxSbKsNRXySN3FEJ4C1qCukHiygtoUkv
         XlUC6BayBzX2bXjD77yZPaROXsbnusL+h8oZoGbPRP9WJPUWriOTqMAxr/AAbsSWNRLn
         e7GQ==
MIME-Version: 1.0
X-Received: by 10.52.99.230 with SMTP id et6mr31063631vdb.65.1425861888062;
 Sun, 08 Mar 2015 17:44:48 -0700 (PDT)
Received: by 10.52.186.199 with HTTP; Sun, 8 Mar 2015 17:44:47 -0700 (PDT)
Date: Mon, 9 Mar 2015 00:44:47 +0000
Message-ID: <CAOGo0VZTrL8NWPBDpNw31eYz1+QFSJWJA9+s-01Wxh4ia99DfQ@mail.gmail.com>
Subject: Homepage URLs in http://httpd.apache.org/contributors/ and on people.apache.org
From: sebb <sebbaz@gmail.com>
To: DEV@HTTPD.APACHE.ORG
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

The script that creates the committers list [1] and project list [2]
currently tries to extract URLs from the HTTPD contributors page [3].

This function relies on parsing the HTML, and the parsing currently
does not extract all of the URLs.

Also, some of the URLs no longer work.

Rather than fixing the code, I think it would make more sense to drop
the feature, which was designed well before LDAP existed.

Any committers who wish to have their homepage URLs displayed at [1] and [2]
just need to ensure that the URLs are added to LDAP.

The self-service app at https://id.apache.org/ has a "Homepage URL:" field.
[This populates the 'asf-personalURL' LDAP attribute]
You can add multiple entries.

Remember to provide your password (near the bottom of the page) before
pressing submit.

Note: I am not suggesting dropping the httpd contributors page [3].
However I don't think it makes sense to continue to maintain the code
to extract URLs from it now that URLs can be stored in LDAP.

[1] http://people.apache.org/committer-index.html
[2] http://people.apache.org/committers-by-project.html
[3] http://httpd.apache.org/contributors/

From dev-return-82229-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar  9 01:59:49 2015
Return-Path: <dev-return-82229-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B1DC010FFF
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  9 Mar 2015 01:59:49 +0000 (UTC)
Received: (qmail 38953 invoked by uid 500); 9 Mar 2015 01:59:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38880 invoked by uid 500); 9 Mar 2015 01:59:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38870 invoked by uid 99); 9 Mar 2015 01:59:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Mar 2015 01:59:49 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=FORGED_YAHOO_RCVD,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of joe_schaefer@yahoo.com designates 98.138.91.252 as permitted sender)
Received: from [98.138.91.252] (HELO nm30-vm5.bullet.mail.ne1.yahoo.com) (98.138.91.252)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Mar 2015 01:59:42 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s2048; t=1425866299; bh=cHvrzKRp2KPJ355Gv0XBElrn9B3/VPzFKU1NgiDiEsA=; h=Date:From:Reply-To:To:Cc:In-Reply-To:References:Subject:From:Subject; b=RLp6UPhh5JF/yN/1yvF9CwJIsruau+jcYH78VsVEDDFo7yzaa7halIRCNjAg6qLYXksmdXdcWMlZ6CFkCPLcyWF79WojkjW6ajLyojXkCLylAgfPYHktzeGtjxAdoYOxqUvd2Q2nosd1fWmkKl+wdvLe7Gb3ISlQxDv/J/M2sMzVMli4Ep1NThRpWNk9pGwj3c/ox6QoUF0eHfCimaRg60y3FeJP00luTl3w5ulmbNvhszoV4TYj4Ff6yKBjBw2K2xKCP771i/WSCC86FOjGXOuyjVfoz9gsI0u3rU8cCRnGNljMevxbHWJqtnLBBc1VL+z7LWwOZHOP1tlfUltEiw==
Received: from [98.138.101.129] by nm30.bullet.mail.ne1.yahoo.com with NNFMP; 09 Mar 2015 01:58:19 -0000
Received: from [98.138.89.165] by tm17.bullet.mail.ne1.yahoo.com with NNFMP; 09 Mar 2015 01:58:19 -0000
Received: from [127.0.0.1] by omp1021.mail.ne1.yahoo.com with NNFMP; 09 Mar 2015 01:58:19 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 153481.86995.bm@omp1021.mail.ne1.yahoo.com
X-YMail-OSG: qndxzIkVM1nEeIeWMFWhg0yxuWiPaL4tIp.AuvlOpzxbwl.lhzDHGx26AwFA5Ok
 KE.MuilBJ8A5gDlk5JWjA5CSfErEu9CAzYUY6Y733VnKn1.B4dfCcQTmlVRwGmTKF3aq8uSHtrTs
 IQvACfzRQ82_gSstYhKZ7H00QoGJT8qfoKelICoF9Bl5yRYoIKYEG1gSJpq9ChSb.BMqY5d3v7rZ
 O9TI3fEczZUspiJFaU0Kg.1rDGg.2Mq6YO4xsPN7Eh1S1NeuNsoPTOp5.uAEr0gQid5PwY3rtJdS
 uCsra2o6IwIpz0wDjATCOfh2.G5KZTDg7uF.S8HpU2KfvarzcC3VY3z6dJDLUNMfUTbqIeWCaTW8
 OrRO4B6oEzi2wt615NBMu92JHykUOgALvb.j3NV20w8Cjj2m60HNMlHw.mtDkjwB8LGblPru7Bio
 UdEEIzGc4VRrklCFN3EhBJ.icDsBAv3WiNLnv9aYag6H7m6bz0NWlzXQQU1PBQsCtXmCptpy.U9T
 nQ9k9ruJxH21zjyglGkezuy8bXrzKP_g-
Received: by 98.138.105.198; Mon, 09 Mar 2015 01:58:18 +0000 
Date: Mon, 9 Mar 2015 01:58:18 +0000 (UTC)
From: Joe Schaefer <joe_schaefer@yahoo.com>
Reply-To: Joe Schaefer <joe_schaefer@yahoo.com>
To: Graham Leggett <minfrin@sharp.fm>, 
	"dev@httpd.apache.org" <dev@httpd.apache.org>
Cc: "apreq-dev@httpd.apache.org" <apreq-dev@httpd.apache.org>
Message-ID: <1448891429.693539.1425866298202.JavaMail.yahoo@mail.yahoo.com>
In-Reply-To: <29730F54-75C9-4E19-B740-0085998D5075@sharp.fm>
References: <54EB9183.3040008@gknw.net> <CALK=YjMck2QGL46L1wmByzEUCFycuA364HvZNBrDQhKYSKT8Sg@mail.gmail.com> <49DE903D-B66C-4417-8067-01C29DD5B89B@yahoo.com> <CADED=K4jZFb8AdCaN-c+TOD+Cu71yWD_i_dkFcEGMvWRHmiHvA@mail.gmail.com> <54EC5A2B.2030206@beamartyr.net> <CADED=K6Z8LcEAF7d0sREgyLDKRki+mfa73atPizG8b2eVpzRzw@mail.gmail.com> <B5562A99-249F-4593-9CF6-90A4FD573393@yahoo.com> <29730F54-75C9-4E19-B740-0085998D5075@sharp.fm>
Subject: Re: Was there any concrete decision on apreq?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_693538_152471293.1425866298198"
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_693538_152471293.1425866298198
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

apreq is really both Graham, a httpd module and a library.But what I'd like=
 to see is the apreq stuff in the server'score put into a separate library =
and have either httpd orthe apreq module link to it.
Unfortunately the existing build system for=C2=A0apreq is=C2=A0automakebase=
d, and I don't have much knowledge right now about howto build a dll from h=
ttpd's build system. =C2=A0Other people do obviously,I mean apr does it, it=
's just not something I immediately grok.
=20

     On Sunday, March 8, 2015 11:48 AM, Graham Leggett <minfrin@sharp.fm> w=
rote:
  =20

 On 08 Mar 2015, at 9:11 AM, Joseph Schaefer <joe_schaefer@yahoo.com> wrote=
:

> In a nutshell the long term goal has always been to get the c parts of ap=
req incorporated into httpd distributions so the perl parts can ship with m=
odperl.=C2=A0 This is still along those lines.=C2=A0 In order to continue t=
o expose the cool cgi code that Issac added to libapreq we need to ensure t=
here is an actual external library still when we ship with httpd otherwise =
we lose the modular features we spent so much time designing as apreq would=
 then be limited to httpd modules only.=C2=A0 I'd like to see it serve the =
entire gamut of web apps including fast cgi.=C2=A0 That's what my ongoing p=
lans are for the httpd project.

+1.

For ages library functions for httpd have ended up in APR, but this isn=E2=
=80=99t ideal - APR is a portability layer, and even though code is being a=
ccepted that =E2=80=9Cworks with APR=E2=80=9D, in reality we really need a =
libhttpd library that can provide =E2=80=9Cweb server like stuff=E2=80=9D i=
n a proper true library form. Will certainly make tools in the =E2=80=9Csup=
port=E2=80=9D area of the httpd tree easier to develop for, as none of the =
tools have access to httpd proper, and code must be cut and pasted.

I don=E2=80=99t like that apreq as a loadable module, but I would love it a=
s a proper shared library.

Same with the expressions code.

Regards,
Graham
=E2=80=94


   
------=_Part_693538_152471293.1425866298198
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<html><body><div style=3D"color:#000; background-color:#fff; font-family:He=
lveticaNeue, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;fo=
nt-size:16px"><div id=3D"yui_3_16_0_1_1425864712433_53929" dir=3D"ltr"><spa=
n>apreq is really both Graham, a httpd module and a library.</span></div><d=
iv id=3D"yui_3_16_0_1_1425864712433_53929" dir=3D"ltr"><span id=3D"yui_3_16=
_0_1_1425864712433_53965">But what I'd like to see is the apreq stuff in th=
e server's</span></div><div id=3D"yui_3_16_0_1_1425864712433_53929" dir=3D"=
ltr"><span>core put into a separate library and have either httpd or</span>=
</div><div id=3D"yui_3_16_0_1_1425864712433_53929" dir=3D"ltr"><span id=3D"=
yui_3_16_0_1_1425864712433_54374">the apreq module link to it.</span></div>=
<div id=3D"yui_3_16_0_1_1425864712433_53929" dir=3D"ltr"><span><br></span><=
/div><div id=3D"yui_3_16_0_1_1425864712433_53929" dir=3D"ltr"><span id=3D"y=
ui_3_16_0_1_1425864712433_54614">Unfortunately the existing build system fo=
r&nbsp;apreq is&nbsp;</span>automake</div><div id=3D"yui_3_16_0_1_142586471=
2433_53929" dir=3D"ltr">based, and I don't have much knowledge right now ab=
out how</div><div id=3D"yui_3_16_0_1_1425864712433_53929" dir=3D"ltr">to bu=
ild a dll from httpd's build system. &nbsp;Other people do obviously,</div>=
<div id=3D"yui_3_16_0_1_1425864712433_53929" dir=3D"ltr">I mean apr does it=
, it's just not something I immediately grok.</div><div id=3D"yui_3_16_0_1_=
1425864712433_53929" dir=3D"ltr"><br></div> <div class=3D"qtdSeparateBR"><b=
r><br></div><div class=3D"yahoo_quoted" style=3D"display: block;"> <div sty=
le=3D"font-family: HelveticaNeue, Helvetica Neue, Helvetica, Arial, Lucida =
Grande, sans-serif; font-size: 16px;"> <div style=3D"font-family: Helvetica=
Neue, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif; font-siz=
e: 16px;"> <div dir=3D"ltr"> <font size=3D"2" face=3D"Arial"> On Sunday, Ma=
rch 8, 2015 11:48 AM, Graham Leggett &lt;minfrin@sharp.fm&gt; wrote:<br> </=
font> </div>  <br><br> <div class=3D"y_msg_container">On 08 Mar 2015, at 9:=
11 AM, Joseph Schaefer &lt;<a shape=3D"rect" ymailto=3D"mailto:joe_schaefer=
@yahoo.com" class=3D"removed-link" href=3D"">joe_schaefer@yahoo.com</a>&gt;=
 wrote:<div class=3D"yqt8205223761" id=3D"yqtfd80836"><br clear=3D"none"><b=
r clear=3D"none">&gt; In a nutshell the long term goal has always been to g=
et the c parts of apreq incorporated into httpd distributions so the perl p=
arts can ship with modperl.&nbsp; This is still along those lines.&nbsp; In=
 order to continue to expose the cool cgi code that Issac added to libapreq=
 we need to ensure there is an actual external library still when we ship w=
ith httpd otherwise we lose the modular features we spent so much time desi=
gning as apreq would then be limited to httpd modules only.&nbsp; I'd like =
to see it serve the entire gamut of web apps including fast cgi.&nbsp; That=
's what my ongoing plans are for the httpd project.<br clear=3D"none"><br c=
lear=3D"none">+1.</div><br clear=3D"none"><br clear=3D"none">For ages libra=
ry functions for httpd have ended up in APR, but this isn=E2=80=99t ideal -=
 APR is a portability layer, and even though code is being accepted that =
=E2=80=9Cworks with APR=E2=80=9D, in reality we really need a libhttpd libr=
ary that can provide =E2=80=9Cweb server like stuff=E2=80=9D in a proper tr=
ue library form. Will certainly make tools in the =E2=80=9Csupport=E2=80=9D=
 area of the httpd tree easier to develop for, as none of the tools have ac=
cess to httpd proper, and code must be cut and pasted.<br clear=3D"none"><b=
r clear=3D"none">I don=E2=80=99t like that apreq as a loadable module, but =
I would love it as a proper shared library.<br clear=3D"none"><br clear=3D"=
none">Same with the expressions code.<br clear=3D"none"><br clear=3D"none">=
Regards,<br clear=3D"none">Graham<div class=3D"yqt8205223761" id=3D"yqtfd90=
707"><br clear=3D"none">=E2=80=94<br clear=3D"none"></div><br><br></div>  <=
/div> </div>  </div> </div></body></html>
------=_Part_693538_152471293.1425866298198--

From dev-return-82230-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar  9 09:42:34 2015
Return-Path: <dev-return-82230-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3262517C2D
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  9 Mar 2015 09:42:34 +0000 (UTC)
Received: (qmail 82928 invoked by uid 500); 9 Mar 2015 09:42:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 82853 invoked by uid 500); 9 Mar 2015 09:42:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 82843 invoked by uid 99); 9 Mar 2015 09:42:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Mar 2015 09:42:33 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [193.109.254.119] (HELO mail1.bemta14.messagelabs.com) (193.109.254.119)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Mar 2015 09:42:26 +0000
Received: from [193.109.255.99] by server-15.bemta-14.messagelabs.com id 9E/22-02770-83A6DF45; Mon, 09 Mar 2015 09:39:04 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-2.tower-48.messagelabs.com!1425893943!9537058!1
X-Originating-IP: [195.232.244.134]
X-StarScan-Received:
X-StarScan-Version: 6.13.4; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 9706 invoked from network); 9 Mar 2015 09:39:03 -0000
Received: from mailout02.vodafone.com (HELO mailout02.vodafone.com) (195.232.244.134)
  by server-2.tower-48.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 9 Mar 2015 09:39:03 -0000
Received: from mailint04.vodafone.com (mailint04.vodafone.com [195.232.244.201])
	by mailout02.vodafone.com (Postfix) with ESMTP id 3l0vdM3f1QzbdWl
	for <dev@httpd.apache.org>; Mon,  9 Mar 2015 10:39:03 +0100 (CET)
Received: from mailint04.vodafone.com (localhost [127.0.0.1])
	by mailint04.vodafone.com (Postfix) with ESMTP id 3l0vdM2gR2zffLQ
	for <dev@httpd.apache.org>; Mon,  9 Mar 2015 10:39:03 +0100 (CET)
Received: from VOEXC01W.internal.vodafone.com (voexc01w.dc-ratingen.de [145.230.101.21])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint04.vodafone.com (Postfix) with ESMTPS id 3l0vdM2HdHzffGs
	for <dev@httpd.apache.org>; Mon,  9 Mar 2015 10:39:03 +0100 (CET)
Received: from VOEXC08W.internal.vodafone.com (145.230.101.28) by
 VOEXC01W.internal.vodafone.com (145.230.101.21) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Mon, 9 Mar 2015 10:39:03 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.55]) by
 voexc08w.internal.vodafone.com ([145.230.101.28]) with mapi id
 14.03.0224.002; Mon, 9 Mar 2015 10:39:02 +0100
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: apr_skiplist dependency
Thread-Topic: apr_skiplist dependency
Thread-Index: AQHQWNP6PC735BIk5U6EWRjcV6664Z0T5+uA
Date: Mon, 9 Mar 2015 09:39:01 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC5E59BDF@VOEXM10W.internal.vodafone.com>
References: <CAKUrXK7YhQ0updDJxrNQVxFGwzRGdvPPCb3raOkZSc1oyxsU9Q@mail.gmail.com>
In-Reply-To: <CAKUrXK7YhQ0updDJxrNQVxFGwzRGdvPPCb3raOkZSc1oyxsU9Q@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

KzENCg0KUmVnYXJkcw0KDQpSw7xkaWdlcg0KDQpGcm9tOiBKZWZmIFRyYXdpY2sNClNlbnQ6IFNh
bXN0YWcsIDcuIE3DpHJ6IDIwMTUgMTM6NDENClRvOiBBcGFjaGUgSFRUUCBTZXJ2ZXIgRGV2ZWxv
cG1lbnQgTGlzdA0KU3ViamVjdDogYXByX3NraXBsaXN0IGRlcGVuZGVuY3kNCg0KTG9va2luZyBi
YWNrLCBJIHRoaW5rIHRoYXQgYXByX3NraXBsaXN0IHdhc24ndCByZWFkeSBmb3IgZ2VuZXJhbCB1
c2UgKGJvdGggZG9jIGFuZCBjb2RlKSB3aGVuIGl0IHdhcyBwdXQgaW4gQVBSIGFuZCByZWxlYXNl
ZCwgYW5kIGF0IHRoZSBzYW1lIHRpbWUgaXQgd2FzIHVuZm9ydHVuYXRlIHRoYXQgaXQgcGxhY2Vk
IGEgcHJlcmVxIG9uIGEgbmV3IEFQUiByZWxlYXNlIGluIG9yZGVyIHRvIHVzZSBFdmVudCwgaW50
cm9kdWNpbmcgYW5vdGhlciBzcGVlZGJ1bXAgdG8gdXNpbmcgaHR0cGQncyBsYXRlc3QgYW5kIGdy
ZWF0ZXN0Lg0KDQpMb29raW5nIGZvcndhcmQsIEkgc2VlIHRoZSBzYW1lIHRoaW5nOyBhcHJfc2tp
cGxpc3QgbmVlZHMgZGVzaWduIGNoYW5nZXMgdG8gc3VwcGx5IHdoYXQgaHR0cGQgbmVlZHMsIGFu
ZCBkb2luZyBzbyBtZWFucyBleHRyYSB3b3JrIGluIEFQUiB0byBwcmVzZXJ2ZSBjb21wYXRpYmls
aXR5LCBhcyB3ZWxsIGFzIGRlcGVuZGVuY2Ugb2YgRXZlbnQgb24gYSBuZXcgQVBSIHJlbGVhc2Ug
c3RyZWFtLsKgIFRoYXQncyBhbm90aGVyIHNwZWVkYnVtcCB0aGF0IGh0dHBkIDIuNCB1c2VycyBk
b24ndCBuZWVkLg0KDQpUaGUgYmVzdCB0aGluZyBmb3IgaHR0cGQgKEV2ZW50KSB3LnIudC4gc2tp
cGxpc3QgaXMgdGhlIGJlc3QgdGhpbmcgZm9yIGFwcl9za2lwbGlzdCBpdHNlbGY6IGZvciB0aGUg
Y29kZWJhc2UgdG8gZXZvbHZlIG5hdHVyYWxseSB0byBzdXBwb3J0IHRoaXMgaW1wb3J0YW50IChw
cmltYXJ5LCBvbmx5Pz8/KSBjb25zdW1lciwgd2l0aG91dCB0aGUgY29uc3RyYWludHMgb2YgQVBS
IHZlcnNpb25pbmcgcnVsZXMgYW5kIEFQUiByZWxlYXNlIGN5Y2xlcyAoYW5kIHBlcmhhcHMgd2l0
aG91dCB0aGUgY29uc3RyYWludHMgb2YgYW55IHZlcnNpb25pbmcgcnVsZXMpLg0KDQpQdWxsIHRo
aXMgc21hbGwgYW1vdW50IG9mIGNvZGUgaW50byBodHRwZCwgcGVyaGFwcyBhcyBhIHByaXZhdGUg
aW50ZXJmYWNlIGZvciAxLTIgbW9kdWxlcyB0aGF0IG5lZWQgaXQuwqAgTGV0IGl0IGltcHJvdmUg
d2l0aCBmZXdlciBjb25zdHJhaW50cy7CoCBGdXR1cmUgQVBSIDIuMCB3aWxsIGltcHJvdmUgZnJv
bSB0aGUgcmVsYXRpdmVseSB1bmZldHRlcmVkIGNoYW5nZXMsIGFuZCBodHRwZCAyLjQgdXNlcnMg
d29uJ3QgaGF2ZSBzcGVlZGJ1bXBzIGludHJvZHVjZWQgYnkgZGVwZW5kZW5jZSBvbiBhbiBldm9s
dmluZyBza2lwbGlzdCBpbXBsZW1lbnRhdGlvbi4NCg0KKEtlZXAgdGhlIHNraXBsaXN0IGNvZGUg
aW4gQVBSIHRydW5rIHVwIHRvIGRhdGUgd2l0aCBjaGFuZ2VzIG5lZWRlZCBmb3IgaHR0cGQuwqAg
VGhlIEFQUiBzdGFibGUgcmVsZWFzZXMgY2FuIHBpY2sgdXAgY29tcGF0aWJsZSBjb2RlIGZpeGVz
LCBidXQgdGhhdCBwcm9iYWJseSB3b24ndCBiZSBhIHByaW9yaXR5IGZvciBhbnlvbmUgYnV0IG5v
bi1odHRwZCBjb25zdW1lcnMsIGFuZCBJJ20gbm90IGF3YXJlIG9mIGFueSBzdWNoIHBlb3BsZSB3
b3JraW5nIG9uIHNraXBsaXN0IHRodXMgZmFyLikNCg0KDQpUaG91Z2h0cz8NCg0KLS0gDQpCb3Ju
IGluIFJvc3dlbGwuLi4gbWFycmllZCBhbiBhbGllbi4uLg0KaHR0cDovL2VtcHR5aGFtbW9jay5j
b20vDQoNCg==

From dev-return-82231-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar  9 09:47:23 2015
Return-Path: <dev-return-82231-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C436017C49
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  9 Mar 2015 09:47:23 +0000 (UTC)
Received: (qmail 92491 invoked by uid 500); 9 Mar 2015 09:47:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92417 invoked by uid 500); 9 Mar 2015 09:47:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92399 invoked by uid 99); 9 Mar 2015 09:47:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Mar 2015 09:47:13 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [195.245.230.177] (HELO mail1.bemta3.messagelabs.com) (195.245.230.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Mar 2015 09:46:44 +0000
Received: from [195.245.230.51] by server-17.bemta-3.messagelabs.com id B0/09-02896-F4B6DF45; Mon, 09 Mar 2015 09:43:43 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-4.tower-33.messagelabs.com!1425894219!11876868!1
X-Originating-IP: [195.232.244.134]
X-StarScan-Received:
X-StarScan-Version: 6.13.4; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 27012 invoked from network); 9 Mar 2015 09:43:39 -0000
Received: from mailout02.vodafone.com (HELO mailout02.vodafone.com) (195.232.244.134)
  by server-4.tower-33.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 9 Mar 2015 09:43:39 -0000
Received: from mailint02.vodafone.com (mailint02.vodafone.com [195.232.244.199])
	by mailout02.vodafone.com (Postfix) with ESMTP id 3l0vkg39MYzbdWg;
	Mon,  9 Mar 2015 10:43:39 +0100 (CET)
Received: from mailint02.vodafone.com (localhost [127.0.0.1])
	by mailint02.vodafone.com (Postfix) with ESMTP id 3l0vkg2DdQzQkdS;
	Mon,  9 Mar 2015 10:43:39 +0100 (CET)
Received: from VOEXC05W.internal.vodafone.com (mail5.nl.mx.vodafone.com [145.230.101.25])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint02.vodafone.com (Postfix) with ESMTPS id 3l0vkg27cMzQkdJ;
	Mon,  9 Mar 2015 10:43:39 +0100 (CET)
Received: from VOEXC28W.internal.vodafone.com (145.230.103.200) by
 VOEXC05W.internal.vodafone.com (145.230.101.25) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Mon, 9 Mar 2015 10:43:39 +0100
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.55]) by voexc28w
 ([145.230.103.200]) with mapi id 14.03.0224.002; Mon, 9 Mar 2015 10:43:38
 +0100
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
CC: "apreq-dev@httpd.apache.org" <apreq-dev@httpd.apache.org>
Subject: RE: Was there any concrete decision on apreq?
Thread-Topic: Was there any concrete decision on apreq?
Thread-Index: AQHQT6ny65S8pi9oqEmeKljYzya605z+pnCAgABsVYCAAEwPgIAAM7iAgAAv1YCAEmufgIAAkBqAgAE9f0A=
Date: Mon, 9 Mar 2015 09:43:37 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC5E59BFB@VOEXM10W.internal.vodafone.com>
References: <54EB9183.3040008@gknw.net>
 <CALK=YjMck2QGL46L1wmByzEUCFycuA364HvZNBrDQhKYSKT8Sg@mail.gmail.com>
 <49DE903D-B66C-4417-8067-01C29DD5B89B@yahoo.com>
 <CADED=K4jZFb8AdCaN-c+TOD+Cu71yWD_i_dkFcEGMvWRHmiHvA@mail.gmail.com>
 <54EC5A2B.2030206@beamartyr.net>
 <CADED=K6Z8LcEAF7d0sREgyLDKRki+mfa73atPizG8b2eVpzRzw@mail.gmail.com>
 <B5562A99-249F-4593-9CF6-90A4FD573393@yahoo.com>
 <29730F54-75C9-4E19-B740-0085998D5075@sharp.fm>
In-Reply-To: <29730F54-75C9-4E19-B740-0085998D5075@sharp.fm>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

DQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogR3JhaGFtIExlZ2dldHQg
W21haWx0bzptaW5mcmluQHNoYXJwLmZtXQ0KPiBTZW50OiBTb25udGFnLCA4LiBNw6RyeiAyMDE1
IDE2OjQ3DQo+IFRvOiBkZXZAaHR0cGQuYXBhY2hlLm9yZw0KPiBDYzogYXByZXEtZGV2QGh0dHBk
LmFwYWNoZS5vcmcNCj4gU3ViamVjdDogUmU6IFdhcyB0aGVyZSBhbnkgY29uY3JldGUgZGVjaXNp
b24gb24gYXByZXE/DQo+IA0KPiBPbiAwOCBNYXIgMjAxNSwgYXQgOToxMSBBTSwgSm9zZXBoIFNj
aGFlZmVyIDxqb2Vfc2NoYWVmZXJAeWFob28uY29tPg0KPiB3cm90ZToNCj4gDQo+ID4gSW4gYSBu
dXRzaGVsbCB0aGUgbG9uZyB0ZXJtIGdvYWwgaGFzIGFsd2F5cyBiZWVuIHRvIGdldCB0aGUgYyBw
YXJ0cyBvZg0KPiBhcHJlcSBpbmNvcnBvcmF0ZWQgaW50byBodHRwZCBkaXN0cmlidXRpb25zIHNv
IHRoZSBwZXJsIHBhcnRzIGNhbiBzaGlwDQo+IHdpdGggbW9kcGVybC4gIFRoaXMgaXMgc3RpbGwg
YWxvbmcgdGhvc2UgbGluZXMuICBJbiBvcmRlciB0byBjb250aW51ZSB0bw0KPiBleHBvc2UgdGhl
IGNvb2wgY2dpIGNvZGUgdGhhdCBJc3NhYyBhZGRlZCB0byBsaWJhcHJlcSB3ZSBuZWVkIHRvIGVu
c3VyZQ0KPiB0aGVyZSBpcyBhbiBhY3R1YWwgZXh0ZXJuYWwgbGlicmFyeSBzdGlsbCB3aGVuIHdl
IHNoaXAgd2l0aCBodHRwZA0KPiBvdGhlcndpc2Ugd2UgbG9zZSB0aGUgbW9kdWxhciBmZWF0dXJl
cyB3ZSBzcGVudCBzbyBtdWNoIHRpbWUgZGVzaWduaW5nIGFzDQo+IGFwcmVxIHdvdWxkIHRoZW4g
YmUgbGltaXRlZCB0byBodHRwZCBtb2R1bGVzIG9ubHkuICBJJ2QgbGlrZSB0byBzZWUgaXQNCj4g
c2VydmUgdGhlIGVudGlyZSBnYW11dCBvZiB3ZWIgYXBwcyBpbmNsdWRpbmcgZmFzdCBjZ2kuICBU
aGF0J3Mgd2hhdCBteQ0KPiBvbmdvaW5nIHBsYW5zIGFyZSBmb3IgdGhlIGh0dHBkIHByb2plY3Qu
DQo+IA0KPiArMS4NCj4gDQo+IEZvciBhZ2VzIGxpYnJhcnkgZnVuY3Rpb25zIGZvciBodHRwZCBo
YXZlIGVuZGVkIHVwIGluIEFQUiwgYnV0IHRoaXMgaXNu4oCZdA0KPiBpZGVhbCAtIEFQUiBpcyBh
IHBvcnRhYmlsaXR5IGxheWVyLCBhbmQgZXZlbiB0aG91Z2ggY29kZSBpcyBiZWluZyBhY2NlcHRl
ZA0KPiB0aGF0IOKAnHdvcmtzIHdpdGggQVBS4oCdLCBpbiByZWFsaXR5IHdlIHJlYWxseSBuZWVk
IGEgbGliaHR0cGQgbGlicmFyeSB0aGF0DQo+IGNhbiBwcm92aWRlIOKAnHdlYiBzZXJ2ZXIgbGlr
ZSBzdHVmZuKAnSBpbiBhIHByb3BlciB0cnVlIGxpYnJhcnkgZm9ybS4gV2lsbA0KPiBjZXJ0YWlu
bHkgbWFrZSB0b29scyBpbiB0aGUg4oCcc3VwcG9ydOKAnSBhcmVhIG9mIHRoZSBodHRwZCB0cmVl
IGVhc2llciB0bw0KPiBkZXZlbG9wIGZvciwgYXMgbm9uZSBvZiB0aGUgdG9vbHMgaGF2ZSBhY2Nl
c3MgdG8gaHR0cGQgcHJvcGVyLCBhbmQgY29kZQ0KPiBtdXN0IGJlIGN1dCBhbmQgcGFzdGVkLg0K
PiANCj4gSSBkb27igJl0IGxpa2UgdGhhdCBhcHJlcSBhcyBhIGxvYWRhYmxlIG1vZHVsZSwgYnV0
IEkgd291bGQgbG92ZSBpdCBhcyBhDQo+IHByb3BlciBzaGFyZWQgbGlicmFyeS4NCj4gDQo+IFNh
bWUgd2l0aCB0aGUgZXhwcmVzc2lvbnMgY29kZS4NCg0KKzENCg0KU291bmRzIHNlbnNpYmxlLg0K
DQpSZWdhcmRzDQoNClLDvGRpZ2VyDQoNCg==

From dev-return-82232-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar  9 12:47:05 2015
Return-Path: <dev-return-82232-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 10ED217509
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  9 Mar 2015 12:47:05 +0000 (UTC)
Received: (qmail 68568 invoked by uid 500); 9 Mar 2015 12:47:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68482 invoked by uid 500); 9 Mar 2015 12:47:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68472 invoked by uid 99); 9 Mar 2015 12:47:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Mar 2015 12:47:04 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of minfrin@sharp.fm designates 80.168.143.5 as permitted sender)
Received: from [80.168.143.5] (HELO monica.sharp.fm) (80.168.143.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Mar 2015 12:46:59 +0000
Received: from [192.168.88.159] (unknown [192.168.88.159])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 0259E80B6B
	for <dev@httpd.apache.org>; Mon,  9 Mar 2015 12:45:37 +0000 (GMT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: apr_skiplist dependency
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <CAKUrXK7YhQ0updDJxrNQVxFGwzRGdvPPCb3raOkZSc1oyxsU9Q@mail.gmail.com>
Date: Mon, 9 Mar 2015 14:45:37 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <5377F2F2-AEE2-491F-B0BD-5987BE7417FA@sharp.fm>
References: <CAKUrXK7YhQ0updDJxrNQVxFGwzRGdvPPCb3raOkZSc1oyxsU9Q@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org

On 07 Mar 2015, at 2:40 PM, Jeff Trawick <trawick@gmail.com> wrote:

> Pull this small amount of code into httpd, perhaps as a private =
interface for 1-2 modules that need it.  Let it improve with fewer =
constraints.  Future APR 2.0 will improve from the relatively unfettered =
changes, and httpd 2.4 users won't have speedbumps introduced by =
dependence on an evolving skiplist implementation.
>=20
> (Keep the skiplist code in APR trunk up to date with changes needed =
for httpd.  The APR stable releases can pick up compatible code fixes, =
but that probably won't be a priority for anyone but non-httpd =
consumers, and I'm not aware of any such people working on skiplist thus =
far.)
>=20
> Thoughts?

We need to address the fact that a non compliant skiplist implementation =
exists in v1.x of APR. Skiplists are formally defined, and we are not =
doing APR users any favours by providing an API to end users that we =
know is broken.

I think we must fix what we have in v1.x, following our versioning =
rules, and deprecate any broken behaviour.

While I agree that making skiplist stable in httpd would have been =
helpful, we didn=E2=80=99t, and we can=E2=80=99t go back and change that =
now.

Regards,
Graham
=E2=80=94


From dev-return-82233-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar  9 13:49:28 2015
Return-Path: <dev-return-82233-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B1798177AE
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  9 Mar 2015 13:49:28 +0000 (UTC)
Received: (qmail 86661 invoked by uid 500); 9 Mar 2015 13:49:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86577 invoked by uid 500); 9 Mar 2015 13:49:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86567 invoked by uid 99); 9 Mar 2015 13:49:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Mar 2015 13:49:15 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of trawick@gmail.com designates 209.85.217.176 as permitted sender)
Received: from [209.85.217.176] (HELO mail-lb0-f176.google.com) (209.85.217.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Mar 2015 13:49:10 +0000
Received: by lbvn10 with SMTP id n10so17223628lbv.11
        for <dev@httpd.apache.org>; Mon, 09 Mar 2015 06:46:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=FSwUwWX2VsCUfwtSLdgMRhrX939ataJe3jMW4cttxCY=;
        b=tf/CJnQ7QVlMWW9KQ6TZrjsk/jwoF1IP66y9u+kllLfiTGur7q+VGtUBeTnhwniwSt
         U9//8gQviGafXNQFtfXtlkZM1Bbe3yQpLi8NjOx0LRcGYvBzPQCKqZXgNPSCk+CoJgrr
         kWsyXrZ0uxjCSgBqfItWo7tnY8zI89IjTxDeBDRu1+poLE3MLoP3DqyyZubtkXGA4Kyd
         sO9OWBGNiT3m82RRPx4KsOY6GzpKBir0doHhoV7SZaFvI6/fv3t/NGpwfkfTwgaCMzTC
         vkRfNTSY7FCc9TnlYIA5o2LrJYQuWafypVSx6z9wWiroXMMkXST+JOaQMqK3Rc720AxH
         /kbQ==
MIME-Version: 1.0
X-Received: by 10.112.163.229 with SMTP id yl5mr25704659lbb.60.1425908794588;
 Mon, 09 Mar 2015 06:46:34 -0700 (PDT)
Received: by 10.114.5.167 with HTTP; Mon, 9 Mar 2015 06:46:34 -0700 (PDT)
In-Reply-To: <5377F2F2-AEE2-491F-B0BD-5987BE7417FA@sharp.fm>
References: <CAKUrXK7YhQ0updDJxrNQVxFGwzRGdvPPCb3raOkZSc1oyxsU9Q@mail.gmail.com>
	<5377F2F2-AEE2-491F-B0BD-5987BE7417FA@sharp.fm>
Date: Mon, 9 Mar 2015 09:46:34 -0400
Message-ID: <CAKUrXK5WGWr6_-qiMqra2Fm=bcpU_AYtLEOnMyGTneMima=Bgg@mail.gmail.com>
Subject: Re: apr_skiplist dependency
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e0115fe422f032f0510db4396
X-Virus-Checked: Checked by ClamAV on apache.org

--089e0115fe422f032f0510db4396
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Mon, Mar 9, 2015 at 8:45 AM, Graham Leggett <minfrin@sharp.fm> wrote:

> On 07 Mar 2015, at 2:40 PM, Jeff Trawick <trawick@gmail.com> wrote:
>
> > Pull this small amount of code into httpd, perhaps as a private
> interface for 1-2 modules that need it.  Let it improve with fewer
> constraints.  Future APR 2.0 will improve from the relatively unfettered
> changes, and httpd 2.4 users won't have speedbumps introduced by dependen=
ce
> on an evolving skiplist implementation.
> >
> > (Keep the skiplist code in APR trunk up to date with changes needed for
> httpd.  The APR stable releases can pick up compatible code fixes, but th=
at
> probably won't be a priority for anyone but non-httpd consumers, and I'm
> not aware of any such people working on skiplist thus far.)
> >
> > Thoughts?
>
> We need to address the fact that a non compliant skiplist implementation
> exists in v1.x of APR. Skiplists are formally defined, and we are not doi=
ng
> APR users any favours by providing an API to end users that we know is
> broken.
>
> I think we must fix what we have in v1.x, following our versioning rules,
> and deprecate any broken behaviour.
>
> While I agree that making skiplist stable in httpd would have been
> helpful, we didn=E2=80=99t, and we can=E2=80=99t go back and change that =
now.
>

Why not?

However one positions the changes needed to APR 1.x to make its skiplist
implementation viable, they will still be constrained to some extent by APR
versioning rules, and the dependency on skiplist fixes/features and thus
new APR releases for Event will still introduce speedbumps for httpd users,
all in return for a small amount of code.  It isn't worth it IMO.  And it
is not helpful overall to APR in the long run IMO.



> Regards,
> Graham
> =E2=80=94
>
>


--=20
Born in Roswell... married an alien...
http://emptyhammock.com/

--089e0115fe422f032f0510db4396
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Mar 9, 2015 at 8:45 AM, Graham Leggett <span dir=3D"ltr">&lt;<a href=3D=
"mailto:minfrin@sharp.fm" target=3D"_blank">minfrin@sharp.fm</a>&gt;</span>=
 wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;bor=
der-left:1px #ccc solid;padding-left:1ex"><span class=3D"">On 07 Mar 2015, =
at 2:40 PM, Jeff Trawick &lt;<a href=3D"mailto:trawick@gmail.com">trawick@g=
mail.com</a>&gt; wrote:<br>
<br>
&gt; Pull this small amount of code into httpd, perhaps as a private interf=
ace for 1-2 modules that need it.=C2=A0 Let it improve with fewer constrain=
ts.=C2=A0 Future APR 2.0 will improve from the relatively unfettered change=
s, and httpd 2.4 users won&#39;t have speedbumps introduced by dependence o=
n an evolving skiplist implementation.<br>
&gt;<br>
&gt; (Keep the skiplist code in APR trunk up to date with changes needed fo=
r httpd.=C2=A0 The APR stable releases can pick up compatible code fixes, b=
ut that probably won&#39;t be a priority for anyone but non-httpd consumers=
, and I&#39;m not aware of any such people working on skiplist thus far.)<b=
r>
&gt;<br>
&gt; Thoughts?<br>
<br>
</span>We need to address the fact that a non compliant skiplist implementa=
tion exists in v1.x of APR. Skiplists are formally defined, and we are not =
doing APR users any favours by providing an API to end users that we know i=
s broken.<br>
<br>
I think we must fix what we have in v1.x, following our versioning rules, a=
nd deprecate any broken behaviour.<br>
<br>
While I agree that making skiplist stable in httpd would have been helpful,=
 we didn=E2=80=99t, and we can=E2=80=99t go back and change that now.<br></=
blockquote><div><br></div><div>Why not?</div><div><br></div><div>However on=
e positions the changes needed to APR 1.x to make its skiplist implementati=
on viable, they will still be constrained to some extent by APR versioning =
rules, and the dependency on skiplist fixes/features and thus new APR relea=
ses for Event will still introduce speedbumps for httpd users, all in retur=
n for a small amount of code.=C2=A0 It isn&#39;t worth it IMO.=C2=A0 And it=
 is not helpful overall to APR in the long run IMO.</div><div><br></div><di=
v><br></div><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;bo=
rder-left:1px #ccc solid;padding-left:1ex">
<br>
Regards,<br>
Graham<br>
=E2=80=94<br>
<br>
</blockquote></div><br><br clear=3D"all"><div><br></div>-- <br><div class=
=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien..=
.<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyham=
mock.com/</a><div><br></div></div></div>
</div></div>

--089e0115fe422f032f0510db4396--

From dev-return-82234-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar  9 17:07:03 2015
Return-Path: <dev-return-82234-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A50BB17216
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  9 Mar 2015 17:07:03 +0000 (UTC)
Received: (qmail 39082 invoked by uid 500); 9 Mar 2015 17:07:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39005 invoked by uid 500); 9 Mar 2015 17:07:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38995 invoked by uid 99); 9 Mar 2015 17:07:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Mar 2015 17:07:03 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.34] (HELO resqmta-ch2-02v.sys.comcast.net) (69.252.207.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Mar 2015 17:06:35 +0000
Received: from resomta-ch2-19v.sys.comcast.net ([69.252.207.115])
	by resqmta-ch2-02v.sys.comcast.net with comcast
	id 1V3Z1q00G2VvR6D01V4Cun; Mon, 09 Mar 2015 17:04:12 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-19v.sys.comcast.net with comcast
	id 1V4B1q0081cCKD901V4BtG; Mon, 09 Mar 2015 17:04:12 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: apr_pollcb
Message-Id: <3366F6BC-C356-450B-BEC7-0248BC540D80@jaguNET.com>
Date: Mon, 9 Mar 2015 13:04:11 -0400
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1425920652;
	bh=TagwLaMuReobuFtv9l+oey4buYVvM+75+JOn6ia633A=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=ks0K9Eo1csDeAEe6ktWUtxPICj0CK1O3ITXjbewyS1fG8s9X9Y/syMfIyMH+sUahK
	 lZzGW3Mb5Vmys4zT+PqjfQIWBv9bxTVFWPZcVD6rqHm8CfC8PGD4PxvMXrNtJif88A
	 dQ9h9tDgcOUkU3LRZJr836TIXXoiZkg2XzbETwP70KjhgC6KRHmadzkWV7dyGCEjXk
	 7h4lWEG/agmgPKrh/J62KIMGHJRvso/qE/2Xq64vlKPEokAPuYMX7wVB9NFHi0rO17
	 5YT6D2HaIzmy5s/KwPIzPfMFO87gxYnmk5OD9PJ1LHBRCQVjmmgt4xiRilU9otzgAD
	 SgqBiEKoSRWFQ==
X-Virus-Checked: Checked by ClamAV on apache.org

As far as I can tell, there are no real consumers of apr_pollcb_*()
other than Motorz (and Simple)... Not sure, but it looks like the
pollcb stuff may be lagging, since I'm getting some weird behavior
when using that impl. So I'll likely be moving Motorz off of
pollcb and use the "traditional" impl which has been proven in
Event.


From dev-return-82235-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar  9 21:40:40 2015
Return-Path: <dev-return-82235-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5CC4D17FA4
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  9 Mar 2015 21:40:40 +0000 (UTC)
Received: (qmail 56932 invoked by uid 500); 9 Mar 2015 21:40:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56853 invoked by uid 500); 9 Mar 2015 21:40:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56843 invoked by uid 99); 9 Mar 2015 21:40:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Mar 2015 21:40:30 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [80.12.242.125] (HELO smtp.smtpout.orange.fr) (80.12.242.125)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 09 Mar 2015 21:40:23 +0000
Received: from [127.0.0.1] ([92.140.252.34])
	by mwinf5d57 with ME
	id 1ZfU1q00M0lHUz803ZfUD7; Mon, 09 Mar 2015 22:39:29 +0100
X-ME-Helo: [127.0.0.1]
X-ME-Date: Mon, 09 Mar 2015 22:39:29 +0100
X-ME-IP: 92.140.252.34
Message-ID: <54FE1310.2020401@wanadoo.fr>
Date: Mon, 09 Mar 2015 22:39:28 +0100
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.5.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1664356 - /httpd/httpd/trunk/modules/proxy/mod_proxy_balancer.c
References: <20150305143534.50D80AC039A@hades.apache.org>
In-Reply-To: <20150305143534.50D80AC039A@hades.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 150309-0, 09/03/2015), Outbound message
X-Antivirus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org

Le 05/03/2015 15:35, jim@apache.org a crit :
> Author: jim
> Date: Thu Mar  5 14:35:34 2015
> New Revision: 1664356
>
> URL: http://svn.apache.org/r1664356
> Log:
> Fresheh html
> BUGZ:55466
>
> Modified:
>      httpd/httpd/trunk/modules/proxy/mod_proxy_balancer.c
>
> Modified: httpd/httpd/trunk/modules/proxy/mod_proxy_balancer.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/proxy/mod_proxy_balancer.c?rev=1664356&r1=1664355&r2=1664356&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/proxy/mod_proxy_balancer.c (original)
> +++ httpd/httpd/trunk/modules/proxy/mod_proxy_balancer.c Thu Mar  5 14:35:34 2015
> @@ -922,10 +922,10 @@ static int balancer_post_config(apr_pool
>   
>   static void create_radio(const char *name, unsigned int flag, request_rec *r)
>   {
> -    ap_rvputs(r, "<td>On <input name='", name, "' id='", name, "' value='1' type=radio", NULL);
> +    ap_rvputs(r, "<td><label for='", name, "1'>On</label> <input name='", name, "' id='", name, "1' value='1' type=radio", NULL);
>       if (flag)
>           ap_rputs(" checked", r);
> -    ap_rvputs(r, "> <br/> Off <input name='", name, "' id='", name, "' value='0' type=radio", NULL);
> +    ap_rvputs(r, "> <br/> <label for='", name, "0'>Off</label> <input name='", name, "' id='", name, "0' value='0' type=radio", NULL);
Spaces around the <br/> could be removed.
Apparently <br /> (space before the /) seems to be preferred within httpd.
>       if (!flag)
>           ap_rputs(" checked", r);
>       ap_rputs("></td>\n", r);
> @@ -1481,7 +1481,7 @@ static int balancer_handler(request_rec
>               ap_rputs("<hr />\n<h3>LoadBalancer Status for ", r);
>               ap_rvputs(r, "<a href=\"", ap_escape_uri(r->pool, r->uri), "?b=",
>                         balancer->s->name + sizeof(BALANCER_PREFIX) - 1,
> -                      "&nonce=", balancer->s->nonce,
> +                      "&amp;nonce=", balancer->s->nonce,
>                         "\">", NULL);
>               ap_rvputs(r, balancer->s->name, "</a> [",balancer->s->sname, "]</h3>\n", NULL);
>               ap_rputs("\n\n<table><tr>"
> @@ -1503,9 +1503,9 @@ static int balancer_handler(request_rec
>               else {
>                   ap_rputs("<td> (None) ", r);
>               }
> -            ap_rprintf(r, "<td>%s</td>\n",
> +            ap_rprintf(r, "</td><td>%s</td>\n",
>                          balancer->s->sticky_force ? "On" : "Off");
> -            ap_rprintf(r, "</td><td>%" APR_TIME_T_FMT "</td>",
> +            ap_rprintf(r, "<td>%" APR_TIME_T_FMT "</td>",
>                   apr_time_sec(balancer->s->timeout));
This could be aligned as in the other ap_rprintf.
'\n' could be more consistent in this section (IMO, should be removed as 
for the <th> before it --> everything on the same line
The ending <tr> in "<th>Path</th><th>Active</th></tr>\n<tr>", a few 
lines above, seems to be unclosed.
>               ap_rprintf(r, "<td>%d</td>\n", balancer->s->max_attempts);
>               ap_rprintf(r, "<td>%s</td>\n",
> @@ -1531,9 +1531,9 @@ static int balancer_handler(request_rec
>                   worker = *workers;
>                   ap_rvputs(r, "<tr>\n<td><a href=\"",
>                             ap_escape_uri(r->pool, r->uri), "?b=",
> -                          balancer->s->name + sizeof(BALANCER_PREFIX) - 1, "&w=",
> +                          balancer->s->name + sizeof(BALANCER_PREFIX) - 1, "&amp;w=",
>                             ap_escape_uri(r->pool, worker->s->name),
> -                          "&nonce=", balancer->s->nonce,
> +                          "&amp;nonce=", balancer->s->nonce,
>                             "\">", NULL);
>                   ap_rvputs(r, (*worker->s->uds_path ? "<i>" : ""), ap_proxy_worker_name(r->pool, worker),
>                             (*worker->s->uds_path ? "</i>" : ""), "</a></td>", NULL);
> @@ -1564,7 +1564,7 @@ static int balancer_handler(request_rec
>               ap_rvputs(r, (*wsel->s->uds_path?"<i>":""), ap_proxy_worker_name(r->pool, wsel), (*wsel->s->uds_path?"</i>":""), "</h3>\n", NULL);
>               ap_rputs("<form method=\"POST\" enctype=\"application/x-www-form-urlencoded\" action=\"", r);
>               ap_rvputs(r, ap_escape_uri(r->pool, action), "\">\n", NULL);
> -            ap_rputs("<dl>\n<table><tr><td>Load factor:</td><td><input name='w_lf' id='w_lf' type=text ", r);
> +            ap_rputs("<table><tr><td>Load factor:</td><td><input name='w_lf' id='w_lf' type=text ", r);
>               ap_rprintf(r, "value='%d'></td></tr>\n", wsel->s->lbfactor);
>               ap_rputs("<tr><td>LB Set:</td><td><input name='w_ls' id='w_ls' type=text ", r);
>               ap_rprintf(r, "value='%d'></td></tr>\n", wsel->s->lbset);
A few lines below, <tr> in ap_rputs("<tr><td>Status:</td>", r); seems 
unclosed.
> @@ -1605,7 +1605,7 @@ static int balancer_handler(request_rec
>               ap_rvputs(r, bsel->s->name, "</h3>\n", NULL);
>               ap_rputs("<form method='POST' enctype='application/x-www-form-urlencoded' action='", r);
>               ap_rvputs(r, ap_escape_uri(r->pool, action), "'>\n", NULL);
> -            ap_rputs("<dl>\n<table>\n", r);
> +            ap_rputs("<table>\n", r);
>               provs = ap_list_provider_names(r->pool, PROXY_LBMETHOD, "0");
>               if (provs) {
>                   ap_rputs("<tr><td>LBmethod:</td>", r);


From dev-return-82236-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 10 09:09:48 2015
Return-Path: <dev-return-82236-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0767117E65
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 10 Mar 2015 09:09:48 +0000 (UTC)
Received: (qmail 76541 invoked by uid 500); 10 Mar 2015 09:09:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76477 invoked by uid 500); 10 Mar 2015 09:09:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76467 invoked by uid 99); 10 Mar 2015 09:09:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Mar 2015 09:09:47 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-ig0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Mar 2015 09:09:21 +0000
Received: by igal13 with SMTP id l13so26694652iga.1
        for <dev@httpd.apache.org>; Tue, 10 Mar 2015 02:08:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:sender:in-reply-to:references:date:message-id:subject
         :from:to:content-type;
        bh=IJBVbKvY77Xhsc4m8H/u28Fl1G26ElYLN+I8MfuhJ+Y=;
        b=IhrTzNDajRp4nC9VwCE+CmkZoFBrURXzZ/KuSbHC3bdzJtPkS+FRcadawQSTJNn/Yz
         THnbYHbFum6Y4mjZMrxSMhVN/Y4atOS/Sg4qrrKOqRVWMEd6xHgVcrRM600ouw280Mwm
         RJ66T8dE71jnavY+qt4Rlrm/0uCd4Fu5jsQQL8S508dGiLT8f6BJHgG4EVvS2XBypHaZ
         KLCGAqEb5Sq2Ax2VJ4E6bTmQAyaWlM+xFWn2GBnX03sFONQdGNb5C/gcvCX1AVtz+MJD
         yC+YQFEtmVXo+EA/2DYYJOwUKud+ntsaq4Fs3PeltKRaGRu/rjrK1gFIbWc8D2Dtlagl
         NXgg==
MIME-Version: 1.0
X-Received: by 10.107.30.135 with SMTP id e129mr55411933ioe.26.1425978514347;
 Tue, 10 Mar 2015 02:08:34 -0700 (PDT)
Sender: ylavic.dev@gmail.com
Received: by 10.42.255.7 with HTTP; Tue, 10 Mar 2015 02:08:34 -0700 (PDT)
In-Reply-To: <20150309233905.603CFAC02F6@hades.apache.org>
References: <20150309233905.603CFAC02F6@hades.apache.org>
Date: Tue, 10 Mar 2015 10:08:34 +0100
X-Google-Sender-Auth: oDPb-LU_GbMQadG7OohLfPTXjWk
Message-ID: <CAKQ1sVPk9doHg0EMeXLmb-aFUzcYoAQuuUJDTG+dueGZdUv_PA@mail.gmail.com>
Subject: Re: svn commit: r1665385 - in /httpd/httpd/trunk/server/mpm/motorz:
 motorz.c motorz.h
From: Yann Ylavic <ylavic@apache.org>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Mar 10, 2015 at 12:39 AM,  <ylavic@apache.org> wrote:
> Author: ylavic
> Date: Mon Mar  9 23:39:05 2015
> New Revision: 1665385
>
> URL: http://svn.apache.org/r1665385
> Log:
> motorz: revert bogus r1665381.

How about using a timer per connection, eg :

Index: server/mpm/motorz/motorz.c
===================================================================
--- server/mpm/motorz/motorz.c    (revision 1665385)
+++ server/mpm/motorz/motorz.c    (working copy)
@@ -81,15 +81,18 @@ static int indexing_compk(void *ac, void *b)
     return ((*t1 < t2) ? -1 : ((*t1 > t2) ? 1 : 0));
 }

-static apr_status_t motorz_timer_pool_cleanup(void *baton)
+static apr_status_t motorz_conn_pool_cleanup(void *baton)
 {
-    motorz_timer_t *elem = (motorz_timer_t *)baton;
-    motorz_core_t *mz = elem->mz;
+    motorz_conn_t *scon = (motorz_conn_t *)baton;

-    apr_thread_mutex_lock(mz->mtx);
-    apr_skiplist_remove(mz->timer_ring, elem, NULL);
-    apr_thread_mutex_unlock(mz->mtx);
+    if (scon->timer.expires) {
+        motorz_core_t *mz = scon->mz;

+        apr_thread_mutex_lock(mz->mtx);
+        apr_skiplist_remove(mz->timer_ring, &scon->timer, NULL);
+        apr_thread_mutex_unlock(mz->mtx);
+    }
+
     return APR_SUCCESS;
 }

@@ -188,6 +191,9 @@ static apr_status_t motorz_io_accept(motorz_core_t
         scon->sock = socket;
         scon->mz = mz;

+        apr_pool_cleanup_register(scon->pool, scon, motorz_conn_pool_cleanup,
+                                  apr_pool_cleanup_null);
+
         return apr_thread_pool_push(mz->workers,
                                     motorz_io_setup_conn,
                                     scon,
@@ -197,19 +203,26 @@ static apr_status_t motorz_io_accept(motorz_core_t
     return APR_SUCCESS;
 }

-static void motorz_timer_run(motorz_timer_t *ep)
+static void *motorz_timer_invoke(apr_thread_t *thread, void *baton)
 {
-    apr_pool_cleanup_kill(ep->pool, ep, motorz_timer_pool_cleanup);
+    motorz_timer_t *ep = (motorz_timer_t *)baton;
+    motorz_conn_t *scon = (motorz_conn_t *)ep->baton;

+    scon->c->current_thread = thread;
+
     ep->cb(ep->mz, ep->baton);
+
+    return NULL;
 }

-static void *motorz_timer_invoke(apr_thread_t *thread, void *baton)
+static apr_status_t motorz_timer_event_process(motorz_core_t *mz,
motorz_timer_t *te)
 {
-    motorz_timer_t *ep = (motorz_timer_t *)baton;
+    motorz_conn_t *scon = (motorz_conn_t *)te->baton;
+    scon->timer.expires = 0;

-    motorz_timer_run(ep);
-    return NULL;
+    return apr_thread_pool_push(mz->workers,
+                                motorz_timer_invoke,
+                                te, APR_THREAD_TASK_PRIORITY_NORMAL, NULL);
 }

 static void *motorz_io_invoke(apr_thread_t * thread, void *baton)
@@ -255,24 +268,22 @@ static apr_status_t motorz_io_callback(void *baton
     return status;
 }

-static void motorz_register_timer(motorz_core_t *mz,
-                      motorz_timer_cb cb,
-                      void *baton, apr_time_t relative_time,
-                      apr_pool_t *shutdown_pool)
+static void motorz_register_timer(motorz_conn_t *scon,
+                                  motorz_timer_cb cb,
+                                  apr_time_t relative_time)
 {
-    motorz_timer_t *elem = NULL;
+    motorz_timer_t *elem;
     apr_time_t t = apr_time_now() + relative_time;
+    motorz_core_t *mz = scon->mz;

-    apr_thread_mutex_lock(mz->mtx);
-
-    elem = (motorz_timer_t *) apr_pcalloc(shutdown_pool,
sizeof(motorz_timer_t));
-
+    elem = &scon->timer;
     elem->expires = t;
     elem->cb = cb;
-    elem->baton = baton;
-    elem->pool = shutdown_pool;
+    elem->baton = scon;
+    elem->pool = scon->pool;
     elem->mz = mz;
-    apr_pool_cleanup_register(elem->pool, elem,
motorz_timer_pool_cleanup, apr_pool_cleanup_null);
+
+    apr_thread_mutex_lock(mz->mtx);
     apr_skiplist_insert(mz->timer_ring, (void *)elem);
     apr_thread_mutex_unlock(mz->mtx);
 }
@@ -351,13 +362,11 @@ static apr_status_t motorz_io_process(motorz_conn_
                  * event thread poll for writeability.
                  */

-                motorz_register_timer(scon->mz,
+                motorz_register_timer(scon,
                                       motorz_io_timeout_cb,
-                                      scon,
-                                      scon->c->base_server !=
-                                      NULL ? scon->c->base_server->
-                                      timeout : ap_server_conf->timeout,
-                                      scon->pool);
+                                      scon->c->base_server != NULL
+                                      ? scon->c->base_server->timeout
+                                      : ap_server_conf->timeout);

                 scon->pfd.reqevents = (
                                        scon->cs.sense ==
CONN_SENSE_WANT_READ ? APR_POLLIN :
@@ -391,13 +400,11 @@ static apr_status_t motorz_io_process(motorz_conn_
         }

         if (scon->cs.state == CONN_STATE_CHECK_REQUEST_LINE_READABLE) {
-            motorz_register_timer(scon->mz,
+            motorz_register_timer(scon,
                                   motorz_io_timeout_cb,
-                                  scon,
-                                  scon->c->base_server !=
-                                  NULL ? scon->c->base_server->
-                                  timeout : ap_server_conf->timeout,
-                                  scon->pool);
+                                  scon->c->base_server != NULL
+                                  ? scon->c->base_server->keep_alive_timeout
+                                  : ap_server_conf->keep_alive_timeout);

             scon->pfd.reqevents = (
                                    scon->cs.sense ==
CONN_SENSE_WANT_WRITE ? APR_POLLOUT :
@@ -538,6 +545,7 @@ static void clean_child_exit(int code)
     exit(code);
 }

+#if 0 /* unused for now */
 static apr_status_t accept_mutex_on(void)
 {
     motorz_core_t *mz = motorz_core_get();
@@ -580,6 +588,7 @@ static apr_status_t accept_mutex_off(void)
     }
     return APR_SUCCESS;
 }
+#endif

 /* On some architectures it's safe to do unserialized accept()s in the single
  * Listen case.  But it's never safe to do it in the case where there's
@@ -985,16 +994,10 @@ static void child_main(motorz_core_t *mz, int chil
             apr_thread_mutex_lock(mz->mtx);

             /* now iterate any timers and push to worker pool */
-            while (te) {
-                if (te->expires < tnow) {
-                    apr_skiplist_pop(mz->timer_ring, NULL);
-                    apr_thread_pool_push(mz->workers,
-                                         motorz_timer_invoke,
-                                         te,
-
APR_THREAD_TASK_PRIORITY_NORMAL, NULL);
-                } else {
-                    break;
-                }
+            while (te && te->expires < tnow) {
+                apr_skiplist_pop(mz->timer_ring, NULL);
+                motorz_timer_event_process(mz, te);
+
                 te = apr_skiplist_peek(mz->timer_ring);
             }

Index: server/mpm/motorz/motorz.h
===================================================================
--- server/mpm/motorz/motorz.h    (revision 1665385)
+++ server/mpm/motorz/motorz.h    (working copy)
@@ -189,4 +189,6 @@ struct motorz_conn_t
     apr_pollfd_t pfd;
     /** public parts of the connection state */
     conn_state_t cs;
+    /** timer associated with the connection */
+    motorz_timer_t timer;
 };
?

This also avoids allocating the timers on scon->pool and saves the
pool_cleanup_register()/kill() whenever a timer is registered/killed
(motorz_conn_pool_cleanup() is now registered once at creation time
and will determine itself whether or not it needs to deregister its
timer, based on expires [=!]= 0).

From dev-return-82237-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 10 11:09:52 2015
Return-Path: <dev-return-82237-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 28B5317611
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 10 Mar 2015 11:09:52 +0000 (UTC)
Received: (qmail 57299 invoked by uid 500); 10 Mar 2015 11:09:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57234 invoked by uid 500); 10 Mar 2015 11:09:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57222 invoked by uid 99); 10 Mar 2015 11:09:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Mar 2015 11:09:39 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.42] (HELO resqmta-ch2-10v.sys.comcast.net) (69.252.207.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Mar 2015 11:09:11 +0000
Received: from resomta-ch2-02v.sys.comcast.net ([69.252.207.98])
	by resqmta-ch2-10v.sys.comcast.net with comcast
	id 1n6f1q00527uzMh01n6of6; Tue, 10 Mar 2015 11:06:48 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-02v.sys.comcast.net with comcast
	id 1n6D1q00K1cCKD901n6oCj; Tue, 10 Mar 2015 11:06:48 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: svn commit: r1665385 - in /httpd/httpd/trunk/server/mpm/motorz: motorz.c motorz.h
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVPk9doHg0EMeXLmb-aFUzcYoAQuuUJDTG+dueGZdUv_PA@mail.gmail.com>
Date: Tue, 10 Mar 2015 07:06:48 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <C8195489-6D3F-4D39-9CF1-355478B7AD8F@jaguNET.com>
References: <20150309233905.603CFAC02F6@hades.apache.org> <CAKQ1sVPk9doHg0EMeXLmb-aFUzcYoAQuuUJDTG+dueGZdUv_PA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1425985608;
	bh=KzaXpVh7SdAM1zCjcELsuCpsha1I6guSI0rPaBW7s84=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=sKKvpVJIbV8+R89Itt3E0r37JFVmhwqth/Wry5+a1h4h3fXqlmm+SBwCTJJRa4Dvd
	 4gs61WgPpilcFdCs9F3+7IWLSbj9wL15pWDTekEV190MjyDXVScVRxIcoJlh2Qe1Q4
	 GAGba5zzcoTkC3S8CDsxhvuGUcH+1WconyeLro7R8vdqVtlGG5nD5HE396Kp8oev3S
	 Ou6o0o6Rswtf6Y1k6Qp1kPby5BR3OYnGuodR/RhV0FNSDOcJ4BwPTibaoWirf6e+6r
	 C1DFYXdtot0iQ1f4KUjwhmBGGZNRD4aCkwlaKlg+7XGfSPnrAziey6ubIPMwecQQU3
	 YDr57dkMrDc5w==
X-Virus-Checked: Checked by ClamAV on apache.org


> On Mar 10, 2015, at 5:08 AM, Yann Ylavic <ylavic@apache.org> wrote:
> 
> On Tue, Mar 10, 2015 at 12:39 AM,  <ylavic@apache.org> wrote:
>> Author: ylavic
>> Date: Mon Mar  9 23:39:05 2015
>> New Revision: 1665385
>> 
>> URL: http://svn.apache.org/r1665385
>> Log:
>> motorz: revert bogus r1665381.
> 
> How about using a timer per connection, eg :
> This also avoids allocating the timers on scon->pool and saves the
> pool_cleanup_register()/kill() whenever a timer is registered/killed
> (motorz_conn_pool_cleanup() is now registered once at creation time
> and will determine itself whether or not it needs to deregister its
> timer, based on expires [=!]= 0).

Sounds good... 

From dev-return-82238-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 10 12:11:51 2015
Return-Path: <dev-return-82238-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4EEBF17813
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 10 Mar 2015 12:11:51 +0000 (UTC)
Received: (qmail 6026 invoked by uid 500); 10 Mar 2015 12:11:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 5937 invoked by uid 500); 10 Mar 2015 12:11:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 5907 invoked by uid 99); 10 Mar 2015 12:11:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Mar 2015 12:11:48 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.175 as permitted sender)
Received: from [209.85.213.175] (HELO mail-ig0-f175.google.com) (209.85.213.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 10 Mar 2015 12:11:44 +0000
Received: by igdh15 with SMTP id h15so1856557igd.3
        for <dev@httpd.apache.org>; Tue, 10 Mar 2015 05:11:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Z/u9QG88TxOQXgj2jTbcTZPcfi25Z1QUNrVwr1CFhS4=;
        b=zTZL0+FC4gmJ7YiaTnfTW0Lm/i6JmRDX0Z//Ugd062bZ97yvXgZCcF5bk2xajSXg3M
         0smbv0hq6a3CGYNEuIVIQvP5RJRCG1yWqc1zgywV/L/xCpp7lZqhrIygaXVF1jHyQhvx
         SICqakPriNUZweYaXtWvzwxIax0f8ZTplqxzInB7BKjStrYHqrmMODw5RzTvtrR2ObET
         SNzpkBhHqIa89baAUT7L8mnZ8//wY3UvTkrWWNNKsog7xYrPFL/7M9hd9KALlRTBTw8Y
         yF8nxsBrw7GmqxVgRFXnSQucrdPPg1meSudmoOnZT9rz+fTz07RmlRRKA0ICuT+Yo9X4
         KACQ==
MIME-Version: 1.0
X-Received: by 10.107.30.135 with SMTP id e129mr56591395ioe.26.1425989483210;
 Tue, 10 Mar 2015 05:11:23 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Tue, 10 Mar 2015 05:11:23 -0700 (PDT)
In-Reply-To: <C8195489-6D3F-4D39-9CF1-355478B7AD8F@jaguNET.com>
References: <20150309233905.603CFAC02F6@hades.apache.org>
	<CAKQ1sVPk9doHg0EMeXLmb-aFUzcYoAQuuUJDTG+dueGZdUv_PA@mail.gmail.com>
	<C8195489-6D3F-4D39-9CF1-355478B7AD8F@jaguNET.com>
Date: Tue, 10 Mar 2015 13:11:23 +0100
Message-ID: <CAKQ1sVPWqkKx_55XCTYkhS=3c6=ukMGbaAe7DONjQE4pxx9n1A@mail.gmail.com>
Subject: Re: svn commit: r1665385 - in /httpd/httpd/trunk/server/mpm/motorz:
 motorz.c motorz.h
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Mar 10, 2015 at 12:06 PM, Jim Jagielski <jim@jagunet.com> wrote:
>
>> On Mar 10, 2015, at 5:08 AM, Yann Ylavic <ylavic@apache.org> wrote:
>>
>> On Tue, Mar 10, 2015 at 12:39 AM,  <ylavic@apache.org> wrote:
>>> Author: ylavic
>>> Date: Mon Mar  9 23:39:05 2015
>>> New Revision: 1665385
>>>
>>> URL: http://svn.apache.org/r1665385
>>> Log:
>>> motorz: revert bogus r1665381.
>>
>> How about using a timer per connection, eg :
>> This also avoids allocating the timers on scon->pool and saves the
>> pool_cleanup_register()/kill() whenever a timer is registered/killed
>> (motorz_conn_pool_cleanup() is now registered once at creation time
>> and will determine itself whether or not it needs to deregister its
>> timer, based on expires [=!]= 0).
>
> Sounds good...

Thanks, done in r1665495.

From dev-return-82239-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 11 01:31:13 2015
Return-Path: <dev-return-82239-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8CAF817575
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 11 Mar 2015 01:31:13 +0000 (UTC)
Received: (qmail 36668 invoked by uid 500); 11 Mar 2015 01:31:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36606 invoked by uid 500); 11 Mar 2015 01:31:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36596 invoked by uid 99); 11 Mar 2015 01:31:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Mar 2015 01:31:13 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.173 as permitted sender)
Received: from [209.85.223.173] (HELO mail-ie0-f173.google.com) (209.85.223.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Mar 2015 01:31:08 +0000
Received: by iecsl2 with SMTP id sl2so4543764iec.1
        for <dev@httpd.apache.org>; Tue, 10 Mar 2015 18:29:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=fotZ+K3FZFu86V120C28oqruZbFj/PZ5RYFpCISGcb8=;
        b=hVTyIRjzhgSHzxPYamDKQP2o39tXTwmVbWLGVEoy5rElz9nYjdGDkYLsTgQR/jDKg8
         bRUvpJGefrOlbtcd/876AFhOJGIGC7PFnLP21A5VO+iepTY58x6jUK1ukGMWvD8Jjlse
         BRGb8s+Uiw2DL5UgbNmLAgkan1WZ+14aKMiaB2P8Uc3qgJF0KsiJ9miqdmnp+yeOf0WF
         RkIRbDyrO3xRkeQpHNJ3biTiXrCzQRZSXCs3DdfWNSwXM+gSP9UL2FeaEYm4XAW+nUoJ
         tLwbqFQUSo4O+RYDHtihljUMdQ+LFuGfYahRgVvhNJy28DTsFvFXBaiAY7/XPSUC0+Lk
         wmwQ==
MIME-Version: 1.0
X-Received: by 10.50.79.161 with SMTP id k1mr60993310igx.14.1426035861489;
 Tue, 10 Mar 2015 18:04:21 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Tue, 10 Mar 2015 18:04:21 -0700 (PDT)
In-Reply-To: <A1390120-29ED-4488-9DF3-5935FF7A08E4@jaguNET.com>
References: <54AE5030.6030406@mailbox.org>
	<CALK=YjPf_z90=bzKXEn4aBdp3PKp_oQoatPYiicGoKNnHfpjcg@mail.gmail.com>
	<54AE989C.7050901@mailbox.org>
	<CAKQ1sVPfYOaRQ2FEFb0n1jEiaviJdFDPcjMx8cQAvW9hUZBvnQ@mail.gmail.com>
	<CAKQ1sVMoidQ5o_WqgKNSP=hyRtQfT6rpAY9iskmj-hTiOEuTYw@mail.gmail.com>
	<54AEB066.5080107@mailbox.org>
	<CAKQ1sVNq2ELqz=KXrNH0PnogWkQdiKUm_MRJe7+wn4K_5c7kQA@mail.gmail.com>
	<CALK=YjPGvq8pq=JPSBU7gr_fsEKMZJKdYU7EtuEM8S66EXR-ng@mail.gmail.com>
	<A1390120-29ED-4488-9DF3-5935FF7A08E4@jaguNET.com>
Date: Wed, 11 Mar 2015 02:04:21 +0100
Message-ID: <CAKQ1sVOAGiF=f8ue4C=4PZEdaqJhfXqkvaJtrBp=kwY=GnYqSQ@mail.gmail.com>
Subject: Re: Reverse proxy: invalid Content-Length leads to 413 + 400 errors
 mixed up
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Backport proposed in r1665737 (+ r1665743).

On Sun, Jan 11, 2015 at 10:37 PM, Jim Jagielski <jim@jagunet.com> wrote:
> +1
>> On Jan 8, 2015, at 12:12 PM, Eric Covener <covener@gmail.com> wrote:
>>
>> On Thu, Jan 8, 2015 at 12:08 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>> Eric, all proxy modules concerned in trunk could be fixed with
>>> "(status == AP_FILTER_ERROR) ? DONE :
>>> ap_map_http_request_error(status, HTTP_BAD_REQUEST)", but not 2.4.x
>>> where "(status == AP_FILTER_ERROR) ? DONE : HTTP_BAD_REQUEST)" is a
>>> simple fix.
>>> Should we also (propose to )backport to 2.4.x the whole
>>> ap_map_http_request_error() stuff (r1482522 + r1529991 + r1482918,
>>> quite huge...) so that we don't lose specific errors returned by
>>> ap_http_filter (ie. turned to 400), or is the simple fix OK?
>>
>> my own 2 cents -- would prefer to maintain the commonality.
>

From dev-return-82240-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 11 09:34:17 2015
Return-Path: <dev-return-82240-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4D6D6103FB
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 11 Mar 2015 09:34:17 +0000 (UTC)
Received: (qmail 99040 invoked by uid 500); 11 Mar 2015 09:34:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 98981 invoked by uid 500); 11 Mar 2015 09:34:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 98971 invoked by uid 99); 11 Mar 2015 09:34:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Mar 2015 09:34:13 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.175 as permitted sender)
Received: from [209.85.213.175] (HELO mail-ig0-f175.google.com) (209.85.213.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Mar 2015 09:33:47 +0000
Received: by igbhn18 with SMTP id hn18so10129512igb.2
        for <dev@httpd.apache.org>; Wed, 11 Mar 2015 02:32:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=Uv2VbxGRRpQ5QZV9u80bcyCUARFaqTFvjUFvlbB/WXk=;
        b=xNp2sE069aKKH8V7Y2SHUvePY1j/ygcNpmssj9qsV6dsDaNSuh/NF15fmk8FYKjOR0
         Cl6hXPPVB29mWetHuOdpXiHqkzbelP1Uw4eCDZ6oNk+S8WNX+XiKijT96yWYj7Gx9fJH
         3fSmRyY4AiG3j3KMGOOu4cI5E93yRPQokTzynmQDbAGwF9Kw7eBkwiMm/rTTOyT5duLL
         vwXxUvLlw9vYP05Zr53tmLywMXwelG88JtwFrIryV2euwULaP0RyVTCHq0yctW+TQ36Z
         uFy8j1Ezfwh1F8vPVx+Ro5i3D8DoBgkW1ElBM6v7EJq18cJ9zgSUN8U47LeMLmGWnT7m
         9cdg==
MIME-Version: 1.0
X-Received: by 10.107.10.82 with SMTP id u79mr23233525ioi.65.1426066335806;
 Wed, 11 Mar 2015 02:32:15 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Wed, 11 Mar 2015 02:32:15 -0700 (PDT)
Date: Wed, 11 Mar 2015 10:32:15 +0100
Message-ID: <CAKQ1sVMaR2gi3YLcq2YHfXP-cB2frfvjSfrYgci6722L_oX3KQ@mail.gmail.com>
Subject: Shouldn't ap_die() do nothing -inconditionally- when a response was
 already generated?
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

That is, not only when a hook/handler returns AP_FILTER_ERROR.

Graham (initially) and I made some changes to trunk (backport proposed
in r1665737) so that no internal module should return anything but
AP_FILTER_ERROR in this case, but we can't do much for third-party
modules.

That way ap_die() could become a safe gard against unintentional
double responses (hence HRS) for the same request, in any case since
it is always called at the end.

Something like:

Index: modules/http/http_request.c
===================================================================
--- modules/http/http_request.c    (revision 1665647)
+++ modules/http/http_request.c    (working copy)
@@ -75,6 +75,7 @@ static void update_r_in_filters(ap_filter_t *f,

 static void ap_die_r(int type, request_rec *r, int recursive_error)
 {
+    ap_filter_t *next;
     char *custom_response;
     request_rec *r_1st_err = r;

@@ -83,38 +84,34 @@ static void ap_die_r(int type, request_rec *r, int
         return;
     }

+    /*
+     * Check if we still have the ap_http_header_filter in place. If
+     * this is the case we should not ignore the error here because
+     * it means that we have not sent any response at all. Otherwise,
+     * don't send two responses for the same request.
+     */
+    next = r->output_filters;
+    while (next && (next->frec != ap_http_header_filter_handle)) {
+        next = next->next;
+    }
+    if (!next) {
+        return;
+    }
+
+    /*
+     * AP_FILTER_ERROR or any invalid status, send an internal server
+     * error instead.
+     */
     if (!ap_is_HTTP_VALID_RESPONSE(type)) {
-        ap_filter_t *next;
-
-        /*
-         * Check if we still have the ap_http_header_filter in place. If
-         * this is the case we should not ignore the error here because
-         * it means that we have not sent any response at all and never
-         * will. This is bad. Sent an internal server error instead.
-         */
-        next = r->output_filters;
-        while (next && (next->frec != ap_http_header_filter_handle)) {
-               next = next->next;
-        }
-
-        /*
-         * If next != NULL then we left the while above because of
-         * next->frec == ap_http_header_filter
-         */
-        if (next) {
-            if (type != AP_FILTER_ERROR) {
-                ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO(01579)
-                              "Invalid response status %i", type);
-            }
-            else {
-                ap_log_rerror(APLOG_MARK, APLOG_DEBUG, 0, r, APLOGNO(02831)
-                              "Response from AP_FILTER_ERROR");
-            }
-            type = HTTP_INTERNAL_SERVER_ERROR;
-        }
-        else {
-            return;
-        }
+        if (type != AP_FILTER_ERROR) {
+            ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO(01579)
+                          "Invalid response status %i", type);
+        }
+        else {
+            ap_log_rerror(APLOG_MARK, APLOG_DEBUG, 0, r, APLOGNO(02831)
+                          "Response from AP_FILTER_ERROR");
+        }
+        type = HTTP_INTERNAL_SERVER_ERROR;
     }

     /*
--

This is not a great cycles loss since this path is not a fast one
already (!OK && !DONE => ap_send_error_response() or
ap_internal_redirect()), and the inconditional loop is not really
heavy...

Thoughts?

Regards,
Yann.

From dev-return-82241-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 11 13:56:16 2015
Return-Path: <dev-return-82241-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EB68717349
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 11 Mar 2015 13:56:15 +0000 (UTC)
Received: (qmail 59649 invoked by uid 500); 11 Mar 2015 13:56:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59569 invoked by uid 500); 11 Mar 2015 13:56:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59559 invoked by uid 99); 11 Mar 2015 13:56:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Mar 2015 13:56:14 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jkaluza@redhat.com designates 209.132.183.28 as permitted sender)
Received: from [209.132.183.28] (HELO mx1.redhat.com) (209.132.183.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Mar 2015 13:56:09 +0000
Received: from int-mx10.intmail.prod.int.phx2.redhat.com (int-mx10.intmail.prod.int.phx2.redhat.com [10.5.11.23])
	by mx1.redhat.com (8.14.4/8.14.4) with ESMTP id t2BDtl61002269
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Wed, 11 Mar 2015 09:55:47 -0400
Received: from dhcp-24-191.brq.redhat.com (dhcp-24-122.brq.redhat.com [10.34.24.122])
	by int-mx10.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t2BDtihJ006580
	for <dev@httpd.apache.org>; Wed, 11 Mar 2015 09:55:46 -0400
Message-ID: <55004960.5030507@redhat.com>
Date: Wed, 11 Mar 2015 14:55:44 +0100
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.4.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: PR 53435, r101624, mod_ssl: error strings can't be loaded again
 once?
References: <54620FE4.2090408@redhat.com>
In-Reply-To: <54620FE4.2090408@redhat.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.23
X-Virus-Checked: Checked by ClamAV on apache.org

On 11/11/2014 02:32 PM, Jan Kalua wrote:
> Hi,
>
> latest comment in PR 53435 shows that memory leak in mod_ssl which
> happens during graceful restarts can be caused by r101624. Since this
> commit is 11 years old, I wanted to ask people here, if following is
> still true with current OpenSSL:

Hi,

little follow-up here, we have memory leak on reload in 
ENGINE_load_builtin_engines which is caused by 
<http://svn.apache.org/r654119>. Again, this is 6 years old commit which 
may or may not be true. Does anyone know if it's still valid?

> +    /* Also don't call CRYPTO_cleanup_all_ex_data here; any registered
> +     * ex_data indices may have been cached in static variables in
> +     * OpenSSL; removing them may cause havoc.  Notably, with OpenSSL
> +     * versions >= 0.9.8f, COMP_CTX cleanups would not be run, which
> +     * could result in a per-connection memory leak (!). */
> +

Regards,
Jan Kaluza

>> @@ -255,7 +255,11 @@ static apr_status_t ssl_cleanup_pre_config(void
>> *data)
>> #endif
>> #endif
>> ERR_remove_state(0);
>> - ERR_free_strings();
>> +
>> + /* Don't call ERR_free_strings here; ERR_load_*_strings only
>> + * actually load the error strings once per process due to static
>> + * variable abuse in OpenSSL. */
>> +
>> /*
>> * TODO: determine somewhere we can safely shove out diagnostics
>> * (when enabled) at this late stage in the game:
>
> Last comment in PR 53435 showed that leaks disappeared after reverting
> this patch and it does not seem to break anything here.
>
> Regards,
> Jan Kaluza


From dev-return-82242-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 11 15:11:46 2015
Return-Path: <dev-return-82242-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AE9EC1763A
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 11 Mar 2015 15:11:46 +0000 (UTC)
Received: (qmail 65133 invoked by uid 500); 11 Mar 2015 15:11:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65068 invoked by uid 500); 11 Mar 2015 15:11:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65058 invoked by uid 99); 11 Mar 2015 15:11:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Mar 2015 15:11:46 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of paul@querna.org designates 209.85.214.169 as permitted sender)
Received: from [209.85.214.169] (HELO mail-ob0-f169.google.com) (209.85.214.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 11 Mar 2015 15:11:42 +0000
Received: by obbnt9 with SMTP id nt9so9413470obb.12
        for <dev@httpd.apache.org>; Wed, 11 Mar 2015 08:11:21 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=Ykk9/YTUmpAHAYF7KF4wwBhBbTxXoLsubpAZDOWjxjk=;
        b=aTF7UmtQsafTQAhIXISJdFQeHuKTi7x87y70T/HCv5lvBI+kOBcGR/cb8ssBQIspo9
         qacKzoEDf0zlrkZlkM7TrY7RUXk9/FNDFqd7296JOJLxbDjp3a76TXGFv12oA/PaQEZ+
         +RWPR2QEvc/fbjzsxqgaCuFrWf5ZGU5IkiXzxxxYR0m2/pUXYs5D/L0YWyOrgTV6H3rd
         nJq21KtaFmd9if5zLVbW8sh/X8Tbziq/OGQ1/sL3ae14ebaVBg1O0fCFF/CjNspTtdxQ
         bKZJPRJn+4lT3cqmyXj2RWx+UW/LDS1DKReP0TT8/tqwS8Vm4lSu6SnmUvgz71yZIXqQ
         SMJA==
X-Gm-Message-State: ALoCoQk9ylcVct7z1wQRNOm54cyRf0MMCmBFN8uIOst7D7KZzCdDSzd6kTp32KthkLj7aM4sfDie
MIME-Version: 1.0
X-Received: by 10.60.134.17 with SMTP id pg17mr22121278oeb.12.1426086681136;
 Wed, 11 Mar 2015 08:11:21 -0700 (PDT)
Received: by 10.76.90.74 with HTTP; Wed, 11 Mar 2015 08:11:21 -0700 (PDT)
In-Reply-To: <3366F6BC-C356-450B-BEC7-0248BC540D80@jaguNET.com>
References: <3366F6BC-C356-450B-BEC7-0248BC540D80@jaguNET.com>
Date: Wed, 11 Mar 2015 09:11:21 -0600
Message-ID: <CAMDeyhw9t=-DwUj-byCC=dmDrdhWCuuodAhMDB=5AGq3HCKkZw@mail.gmail.com>
Subject: Re: apr_pollcb
From: Paul Querna <paul@querna.org>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7b4728640c64d6051104aef1
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b4728640c64d6051104aef1
Content-Type: text/plain; charset=UTF-8

Can you describe "lagging" in more detail?

None of the poll related code has a high rate of change (except for the
relatively new z/OS backend):

https://github.com/apache/apr/tree/trunk/poll/unix

Also are you looking specifically on Linux? (epoll backend?) or others

On Mon, Mar 9, 2015 at 11:04 AM, Jim Jagielski <jim@jagunet.com> wrote:

> As far as I can tell, there are no real consumers of apr_pollcb_*()
> other than Motorz (and Simple)... Not sure, but it looks like the
> pollcb stuff may be lagging, since I'm getting some weird behavior
> when using that impl. So I'll likely be moving Motorz off of
> pollcb and use the "traditional" impl which has been proven in
> Event.
>
>

--047d7b4728640c64d6051104aef1
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Can you describe &quot;lagging&quot; in more detail?<div><=
br></div><div>None of the poll related code has a high rate of change (exce=
pt for the relatively new z/OS backend):</div><div><br></div><div><a href=
=3D"https://github.com/apache/apr/tree/trunk/poll/unix">https://github.com/=
apache/apr/tree/trunk/poll/unix</a><br></div><div><br></div><div class=3D"g=
mail_extra">Also are you looking specifically on Linux? (epoll backend?) or=
 others</div><div class=3D"gmail_extra"><br><div class=3D"gmail_quote">On M=
on, Mar 9, 2015 at 11:04 AM, Jim Jagielski <span dir=3D"ltr">&lt;<a href=3D=
"mailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt;</span> w=
rote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;borde=
r-left:1px #ccc solid;padding-left:1ex">As far as I can tell, there are no =
real consumers of apr_pollcb_*()<br>
other than Motorz (and Simple)... Not sure, but it looks like the<br>
pollcb stuff may be lagging, since I&#39;m getting some weird behavior<br>
when using that impl. So I&#39;ll likely be moving Motorz off of<br>
pollcb and use the &quot;traditional&quot; impl which has been proven in<br=
>
Event.<br>
<br>
</blockquote></div><br></div></div>

--047d7b4728640c64d6051104aef1--

From dev-return-82243-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 12 13:27:00 2015
Return-Path: <dev-return-82243-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D364117771
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 12 Mar 2015 13:27:00 +0000 (UTC)
Received: (qmail 60995 invoked by uid 500); 12 Mar 2015 13:26:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 60922 invoked by uid 500); 12 Mar 2015 13:26:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 60909 invoked by uid 99); 12 Mar 2015 13:26:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Mar 2015 13:26:38 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.42] (HELO resqmta-ch2-10v.sys.comcast.net) (69.252.207.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Mar 2015 13:26:33 +0000
Received: from resomta-ch2-08v.sys.comcast.net ([69.252.207.104])
	by resqmta-ch2-10v.sys.comcast.net with comcast
	id 2dQB1q00E2Fh1PH01dQsyR; Thu, 12 Mar 2015 13:24:52 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-08v.sys.comcast.net with comcast
	id 2dQr1q00G1cCKD901dQrrW; Thu, 12 Mar 2015 13:24:52 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: apr_pollcb
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAMDeyhw9t=-DwUj-byCC=dmDrdhWCuuodAhMDB=5AGq3HCKkZw@mail.gmail.com>
Date: Thu, 12 Mar 2015 09:24:51 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <C828E7C8-5CED-4396-B8A4-42F5E15BCFFD@jaguNET.com>
References: <3366F6BC-C356-450B-BEC7-0248BC540D80@jaguNET.com> <CAMDeyhw9t=-DwUj-byCC=dmDrdhWCuuodAhMDB=5AGq3HCKkZw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1426166692;
	bh=Psqa9rRZidZ4GRm1/Aqpe06q9sPfxVNlcmKu3V3dvN8=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=Hxp0e+VHpG/SU5Xx3uOaZ0ct2DbYCpyh7nDaRoG6icoyQ7OeHWdBu+bMfdzWmIULp
	 9EPvTUtW26dZWSLbdFG/KkKwl+abyu6nNEQfueyPWp6UGbHZiLiDVLZx88RhknxDsO
	 UHDWFhHOjb6CuDCZumS0wGfGX8cLfXtTOeW0R/KyhY8QOUOx5JpcPwe3xywddVxbVl
	 dSB1s5q6wnAYnXLxbdkTbbFUle7Yb0PH5U2L5DwsYwNQnq7yadKuRtvbcvcF6EpS7N
	 Tqaxit4xkvXWmFk/SxawVrJ8R5oxJQmaz+9QVp4S71kRIZVVBAQRbH0oD7ztw5A7Y+
	 QJB8nEG446+kg==
X-Virus-Checked: Checked by ClamAV on apache.org

=46rom what I can see, pollcb lacks the asio provider
and I think there were some other parts of pollcb that
seemed to not follow pollset
> On Mar 11, 2015, at 11:11 AM, Paul Querna <paul@querna.org> wrote:
>=20
> Can you describe "lagging" in more detail?
>=20
> None of the poll related code has a high rate of change (except for =
the relatively new z/OS backend):
>=20
> https://github.com/apache/apr/tree/trunk/poll/unix
>=20
> Also are you looking specifically on Linux? (epoll backend?) or others
>=20
> On Mon, Mar 9, 2015 at 11:04 AM, Jim Jagielski <jim@jagunet.com> =
wrote:
> As far as I can tell, there are no real consumers of apr_pollcb_*()
> other than Motorz (and Simple)... Not sure, but it looks like the
> pollcb stuff may be lagging, since I'm getting some weird behavior
> when using that impl. So I'll likely be moving Motorz off of
> pollcb and use the "traditional" impl which has been proven in
> Event.
>=20
>=20


From dev-return-82244-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 12 16:55:45 2015
Return-Path: <dev-return-82244-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 238E9176A3
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 12 Mar 2015 16:55:45 +0000 (UTC)
Received: (qmail 91693 invoked by uid 500); 12 Mar 2015 16:55:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91621 invoked by uid 500); 12 Mar 2015 16:55:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91611 invoked by uid 99); 12 Mar 2015 16:55:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Mar 2015 16:55:26 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of covener@gmail.com designates 74.125.82.175 as permitted sender)
Received: from [74.125.82.175] (HELO mail-we0-f175.google.com) (74.125.82.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Mar 2015 16:55:02 +0000
Received: by wevk48 with SMTP id k48so17736467wev.5
        for <dev@httpd.apache.org>; Thu, 12 Mar 2015 09:54:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=YjHX2nsETOos/SHNfxrWOP6A/b39kmzhzGHSvAYSjHE=;
        b=lwPWQgy/SIumBPEavqQsSP+0IwgGBRTE4Jilu1xmYoq369vmTXQEqNGnquqSdYx73L
         xFShuTx6OI1qrMFBgPckpshOMuECjRDbPYZqIOZekemCy1nJkquzdIrBgIqKhWOTk3Cv
         bByflXbFIFkcXjhBqn/Ke8kXVmPe40sOHVqaPOVfsWHpo0IasthJUNBHpc7iAbj9iZ2b
         mp305QB7/ikyqTtp8l8S68klzLGHukUPdJBCrMosdGkf37WYmhgN/1wdM7gApNslDxjm
         lYHZBTo1sI5bcOByUpIl5Sq8m+61GVltjM6G3SZcIZfPqTXv6GssZnGV7zWXhUEQQrzx
         fDpg==
MIME-Version: 1.0
X-Received: by 10.194.90.7 with SMTP id bs7mr53140178wjb.7.1426179256273; Thu,
 12 Mar 2015 09:54:16 -0700 (PDT)
Received: by 10.27.86.165 with HTTP; Thu, 12 Mar 2015 09:54:16 -0700 (PDT)
Date: Thu, 12 Mar 2015 12:54:16 -0400
Message-ID: <CALK=YjO-epYxuoG9paTMhL6BdbMU_JtJwPFFPEkw93F_mBwj2A@mail.gmail.com>
Subject: Apache 2.4 adoption revisited -- now 16.4% of Apache sites
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

I stumbled on this link that Bill had shared previously and went back
to look at previous snapshots:

March 2014: 2.0: 4.1%, 2.4: 4.3%

http://web.archive.org/web/20140327151641/http://w3techs.com/technologies/details/ws-apache/2/all

Today (March 2015) : 2.0: 2.8%, 2.4: 16.4%

http://w3techs.com/technologies/details/ws-apache/2/all



-- 
Eric Covener
covener@gmail.com

From dev-return-82245-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 12 17:22:09 2015
Return-Path: <dev-return-82245-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8273E178A3
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 12 Mar 2015 17:22:09 +0000 (UTC)
Received: (qmail 85294 invoked by uid 500); 12 Mar 2015 17:22:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 85224 invoked by uid 500); 12 Mar 2015 17:22:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 85210 invoked by uid 99); 12 Mar 2015 17:22:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Mar 2015 17:22:09 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of sebbaz@gmail.com designates 209.85.220.171 as permitted sender)
Received: from [209.85.220.171] (HELO mail-vc0-f171.google.com) (209.85.220.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Mar 2015 17:21:43 +0000
Received: by mail-vc0-f171.google.com with SMTP id hy10so5969381vcb.2
        for <DEV@httpd.apache.org>; Thu, 12 Mar 2015 10:20:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=1vlinP8IOKcJZk8B7FMoIFuee52ERaL5SCYeiR2Sseo=;
        b=VYwjaWGkRMCJ7DNsf4+NVbnTCbBEI5L/QwkXMpxJZYU1W70H0v2bXY0zubETTV9Nk/
         uWggVn2ccvOs/w6v373duKLXfPz8V0R6yUnUGoTMaz4gcm377O98X5Ouh8kCMDVmL4l/
         huXvM3Y962pHbZKFZqjN8q806TqzDh9rrg9L4KoevFW8ZSqYn53XmCwELVjD4gINTdKT
         r0FhC8dtYA0xOA5wwW/ysisxVcTM+OXj7Jwdr1/Svhr92ToaeF+J7WSqRWFUE6UeTV6/
         pb0OtgW1/j4O3Tw0Os13PcWLi243ewKTYxKNw4WnMqHwRX7mMRG8/5A0XH8qYH1ZqQ2W
         q2vg==
MIME-Version: 1.0
X-Received: by 10.52.151.227 with SMTP id ut3mr45462783vdb.85.1426180856479;
 Thu, 12 Mar 2015 10:20:56 -0700 (PDT)
Received: by 10.52.186.199 with HTTP; Thu, 12 Mar 2015 10:20:56 -0700 (PDT)
In-Reply-To: <CAOGo0VZTrL8NWPBDpNw31eYz1+QFSJWJA9+s-01Wxh4ia99DfQ@mail.gmail.com>
References: <CAOGo0VZTrL8NWPBDpNw31eYz1+QFSJWJA9+s-01Wxh4ia99DfQ@mail.gmail.com>
Date: Thu, 12 Mar 2015 17:20:56 +0000
Message-ID: <CAOGo0Vbv5R_SK9e9Qc=WTYVSDNg2X+rab7bBy0jrZ_OzMbGKvQ@mail.gmail.com>
Subject: Re: Homepage URLs in http://httpd.apache.org/contributors/ and on people.apache.org
From: sebb <sebbaz@gmail.com>
To: DEV@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

The code has now been removed from the build scripts.

If you are an ASF committer, and want your URL to be linked from (e.g.)

http://people.apache.org/committers-by-project.html#httpd-pmc

then please visit https://id.apache.org/

Thanks!

Note: the URLs are shown as hyperlinks in the Name column.


On 9 March 2015 at 00:44, sebb <sebbaz@gmail.com> wrote:
> The script that creates the committers list [1] and project list [2]
> currently tries to extract URLs from the HTTPD contributors page [3].
>
> This function relies on parsing the HTML, and the parsing currently
> does not extract all of the URLs.
>
> Also, some of the URLs no longer work.
>
> Rather than fixing the code, I think it would make more sense to drop
> the feature, which was designed well before LDAP existed.
>
> Any committers who wish to have their homepage URLs displayed at [1] and [2]
> just need to ensure that the URLs are added to LDAP.
>
> The self-service app at https://id.apache.org/ has a "Homepage URL:" field.
> [This populates the 'asf-personalURL' LDAP attribute]
> You can add multiple entries.
>
> Remember to provide your password (near the bottom of the page) before
> pressing submit.
>
> Note: I am not suggesting dropping the httpd contributors page [3].
> However I don't think it makes sense to continue to maintain the code
> to extract URLs from it now that URLs can be stored in LDAP.
>
> [1] http://people.apache.org/committer-index.html
> [2] http://people.apache.org/committers-by-project.html
> [3] http://httpd.apache.org/contributors/

From dev-return-82246-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 12 18:07:18 2015
Return-Path: <dev-return-82246-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6A78617B50
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 12 Mar 2015 18:07:18 +0000 (UTC)
Received: (qmail 49852 invoked by uid 500); 12 Mar 2015 18:07:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49775 invoked by uid 500); 12 Mar 2015 18:07:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49764 invoked by uid 99); 12 Mar 2015 18:07:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Mar 2015 18:07:14 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of h.reindl@thelounge.net designates 91.118.73.15 as permitted sender)
Received: from [91.118.73.15] (HELO mail.thelounge.net) (91.118.73.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Mar 2015 18:07:09 +0000
Message-ID: <5501D599.9060002@thelounge.net>
Date: Thu, 12 Mar 2015 19:06:17 +0100
From: Reindl Harald <h.reindl@thelounge.net>
Organization: the lounge interactive design
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.5.0
MIME-Version: 1.0
To: Mailing-List httpd-dev <dev@httpd.apache.org>
Subject: [core:warn] [pid 1120] (101)Network is unreachable: AH00056: connect
 to listener on [::]:80
OpenPGP: id=7F780279;
	url=http://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="1wAcCdAbOUi81WUwCpVETvCIXWNnU1qv4"
X-Spam-Report: ALL_TRUSTED,BAYES_00,T_RP_MATCHES_RCVD
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.5, tag-level=7.8, block-level=8.0

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--1wAcCdAbOUi81WUwCpVETvCIXWNnU1qv4
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable

what's the purpose of these warnings and listening on tcp6 in a=20
environment with a completly dsiabled ipv6 stack?

net.ipv6.conf.all.disable_ipv6=3D1
net.ipv6.conf.default.disable_ipv6=3D1


tcp6       0      0 :::80                   :::*=20
LISTEN      1120/httpd

ifconfig
eth0: flags=3D67<UP,BROADCAST,RUNNING>  mtu 1500
         inet **.**.**.**  netmask 255.255.255.0  broadcast 255.255.255.2=
55
         ether 00:0c:29:76:12:e9  txqueuelen 50  (Ethernet)
         RX packets 54981  bytes 4347586 (4.1 MiB)
         RX errors 0  dropped 0  overruns 0  frame 0
         TX packets 36638  bytes 6514141 (6.2 MiB)
         TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

eth1: flags=3D67<UP,BROADCAST,RUNNING>  mtu 1500
         inet 192.168.196.12  netmask 255.255.255.0  broadcast=20
192.168.196.255
         ether 00:0c:29:ac:d9:d0  txqueuelen 50  (Ethernet)
         RX packets 2270  bytes 295266 (288.3 KiB)
         RX errors 0  dropped 0  overruns 0  frame 0
         TX packets 2304  bytes 456306 (445.6 KiB)
         TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

[Thu Mar 12 19:00:59.046866 2015] [core:warn] [pid 1120] (101)Network is =

unreachable: AH00056: connect to listener on [::]:80
[Thu Mar 12 19:01:00.048360 2015] [core:warn] [pid 1120] (101)Network is =

unreachable: AH00056: connect to listener on [::]:80
[Thu Mar 12 19:01:01.049818 2015] [core:warn] [pid 1120] (101)Network is =

unreachable: AH00056: connect to listener on [::]:80
[Thu Mar 12 19:01:02.050255 2015] [core:warn] [pid 1120] (101)Network is =

unreachable: AH00056: connect to listener on [::]:80
[Thu Mar 12 19:01:03.051662 2015] [core:warn] [pid 1120] (101)Network is =

unreachable: AH00056: connect to listener on [::]:80
[Thu Mar 12 19:01:04.053172 2015] [core:warn] [pid 1120] (101)Network is =

unreachable: AH00056: connect to listener on [::]:80
[Thu Mar 12 19:01:05.054569 2015] [core:warn] [pid 1120] (101)Network is =

unreachable: AH00056: connect to listener on [::]:80
[Thu Mar 12 19:01:10.060782 2015] [core:warn] [pid 1120] (101)Network is =

unreachable: AH00056: connect to listener on [::]:80
[Thu Mar 12 19:01:11.062143 2015] [core:warn] [pid 1120] (101)Network is =

unreachable: AH00056: connect to listener on [::]:80
[Thu Mar 12 19:01:12.063372 2015] [core:warn] [pid 1120] (101)Network is =

unreachable: AH00056: connect to listener on [::]:80
[Thu Mar 12 19:02:56.193359 2015] [core:warn] [pid 1120] (101)Network is =

unreachable: AH00056: connect to listener on [::]:80
[Thu Mar 12 19:03:23.230106 2015] [core:warn] [pid 1120] (101)Network is =

unreachable: AH00056: connect to listener on [::]:80
[Thu Mar 12 19:03:33.241534 2015] [core:warn] [pid 1120] (101)Network is =

unreachable: AH00056: connect to listener on [::]:80


--1wAcCdAbOUi81WUwCpVETvCIXWNnU1qv4
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iEYEARECAAYFAlUB1ZkACgkQhmBjz394AnmsJwCglCWrltoN0aOhRPVLA5aBVzrB
JeEAn2353NjTRRuKYi2jQiedQeDwSzFv
=oF15
-----END PGP SIGNATURE-----

--1wAcCdAbOUi81WUwCpVETvCIXWNnU1qv4--

From dev-return-82247-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 12 18:24:39 2015
Return-Path: <dev-return-82247-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1567917C2C
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 12 Mar 2015 18:24:39 +0000 (UTC)
Received: (qmail 19727 invoked by uid 500); 12 Mar 2015 18:24:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 19658 invoked by uid 500); 12 Mar 2015 18:24:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 19648 invoked by uid 99); 12 Mar 2015 18:24:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Mar 2015 18:24:29 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of covener@gmail.com designates 74.125.82.43 as permitted sender)
Received: from [74.125.82.43] (HELO mail-wg0-f43.google.com) (74.125.82.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Mar 2015 18:24:24 +0000
Received: by wggz12 with SMTP id z12so18341735wgg.0
        for <dev@httpd.apache.org>; Thu, 12 Mar 2015 11:22:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=tz6+Xbrky4Hsjfu9gQovy2m2znyXn3mwB7tJ7ISSc2s=;
        b=PBu29z6uB30CAwKxDbX+iZGCcKHfCTACDHxGYX4kSUYVXU47F4uNxQr1CIUDHLNmy/
         iTKQ7Crrzy0NnlkQpI6FEsOysMgxAvnjw9RDOqKvOeH8xlLtfjyg3SQR23JKFUVA/SjB
         e/QclruKVL6ZR8Bz22NswYrdR6ZxPOVUGvFuSLBuqEjEDyfS1XIlaVW/2eqekLaq7CP8
         aigpY2RNTndwSeilYvHFrFaChQ30GYtvbsVHTbyH9g8AzWnwwmeQT/063VG3LetS0Pyh
         lozaUNEkZ5t5qXxJ+d4EO/MEYhoDWAVQlMfp7bnppXdqyuKhaRS4JHORf2YuDW88urIc
         eOjg==
MIME-Version: 1.0
X-Received: by 10.194.90.7 with SMTP id bs7mr53805288wjb.7.1426184553653; Thu,
 12 Mar 2015 11:22:33 -0700 (PDT)
Received: by 10.27.86.165 with HTTP; Thu, 12 Mar 2015 11:22:33 -0700 (PDT)
In-Reply-To: <5501D599.9060002@thelounge.net>
References: <5501D599.9060002@thelounge.net>
Date: Thu, 12 Mar 2015 14:22:33 -0400
Message-ID: <CALK=YjPMP==qbTWSwkFvD_gD9e9TrdzUj47Q0cxuDY5dL_DwQg@mail.gmail.com>
Subject: Re: [core:warn] [pid 1120] (101)Network is unreachable: AH00056:
 connect to listener on [::]:80
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Mar 12, 2015 at 2:06 PM, Reindl Harald <h.reindl@thelounge.net> wrote:
> what's the purpose of these warnings and listening on tcp6 in a environment
> with a completly dsiabled ipv6 stack?

I'd suggest apachectl -V, configuration info, and OS info in a
bugzilla entry.  The dev@httpd.apache.org mailing list is used for
discussions about the actual development of the server.

From dev-return-82248-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 12 22:29:01 2015
Return-Path: <dev-return-82248-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9C3641782B
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 12 Mar 2015 22:29:01 +0000 (UTC)
Received: (qmail 48522 invoked by uid 500); 12 Mar 2015 22:29:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48457 invoked by uid 500); 12 Mar 2015 22:29:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48447 invoked by uid 99); 12 Mar 2015 22:29:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Mar 2015 22:29:01 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of noel.butler@ausics.net designates 27.33.160.23 as permitted sender)
Received: from [27.33.160.23] (HELO mail.ausics.net) (27.33.160.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Mar 2015 22:28:57 +0000
Received: from mail.ausics.net (valhalla.ausics.net [10.10.0.10])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.ausics.net (Postfix) with ESMTPSA id 51A09C0EF6F
	for <dev@httpd.apache.org>; Fri, 13 Mar 2015 08:28:35 +1000 (AEST)
Received: from /9etcIEb72zgZMhzheXggQHWnyt2yEHMWlDZwsV9vDk=
 (A+GR1jBYtBdmlGFTV0fLMKNEwpZYJvSR)
 by mail.ausics.net
 with HTTP (HTTP/1.1 POST); Fri, 13 Mar 2015 08:28:35 +1000
MIME-Version: 1.0
Content-Type: multipart/alternative;
 boundary="=_b76272582e06b9b181b45b7a9121e555"
Date: Fri, 13 Mar 2015 08:28:35 +1000
From: Noel Butler <noel.butler@ausics.net>
To: dev@httpd.apache.org
Subject: Re: Apache 2.4 adoption revisited -- now 16.4% of Apache sites
In-Reply-To: <CALK=YjO-epYxuoG9paTMhL6BdbMU_JtJwPFFPEkw93F_mBwj2A@mail.gmail.com>
References: <CALK=YjO-epYxuoG9paTMhL6BdbMU_JtJwPFFPEkw93F_mBwj2A@mail.gmail.com>
Message-ID: <014f870dffe2f1eee2109b1475d423de@ausics.net>
X-Sender: noel.butler@ausics.net
User-Agent: Roundcube Webmail
X-Virus-Checked: Checked by ClamAV on apache.org

--=_b76272582e06b9b181b45b7a9121e555
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII

 

On 13/03/2015 02:54, Eric Covener wrote: 

> I stumbled on this link that Bill had shared previously and went back
> to look at previous snapshots:
> 
> March 2014: 2.0: 4.1%, 2.4: 4.3%
> 
> http://web.archive.org/web/20140327151641/http://w3techs.com/technologies/details/ws-apache/2/all [1]
> 
> Today (March 2015) : 2.0: 2.8%, 2.4: 16.4%
> 
> http://w3techs.com/technologies/details/ws-apache/2/all [2]

Time to think about EOL'ing 2.2 maybe since its 10 years old and 2.4 has
been current stable best production recommendation for what, about 3.5
years or so now, that would see adoption rates grow ;) 

 

Links:
------
[1]
http://web.archive.org/web/20140327151641/http://w3techs.com/technologies/details/ws-apache/2/all
[2] http://w3techs.com/technologies/details/ws-apache/2/all

--=_b76272582e06b9b181b45b7a9121e555
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html; charset=UTF-8

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN">
<html><body style=3D'font-size: 10pt'>
<p>On 13/03/2015 02:54, Eric Covener wrote:</p>
<blockquote type=3D"cite" style=3D"padding-left:5px; border-left:#1010ff 2p=
x solid; margin-left:5px"><!-- html ignored --><!-- head ignored --><!-- me=
ta ignored -->
<pre>I stumbled on this link that Bill had shared previously and went back
to look at previous snapshots:

March 2014: 2.0: 4.1%, 2.4: 4.3%

<a href=3D"http://web.archive.org/web/20140327151641/http://w3techs.com/tec=
hnologies/details/ws-apache/2/all">http://web.archive.org/web/2014032715164=
1/http://w3techs.com/technologies/details/ws-apache/2/all</a>

Today (March 2015) : 2.0: 2.8%, 2.4: 16.4%

<a href=3D"http://w3techs.com/technologies/details/ws-apache/2/all">http://=
w3techs.com/technologies/details/ws-apache/2/all</a>


</pre>
</blockquote>
<p>Time to think about EOL'ing 2.2 maybe since its 10 years old and 2.4 has=
 been current stable best production recommendation for what, about 3.5 yea=
rs or so now, that would see adoption rates grow ;)</p>
<p>&nbsp;</p>
</body></html>

--=_b76272582e06b9b181b45b7a9121e555--


From dev-return-82249-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 12 22:42:21 2015
Return-Path: <dev-return-82249-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2DFFC178CC
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 12 Mar 2015 22:42:21 +0000 (UTC)
Received: (qmail 82767 invoked by uid 500); 12 Mar 2015 22:42:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 82709 invoked by uid 500); 12 Mar 2015 22:42:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 82699 invoked by uid 99); 12 Mar 2015 22:42:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Mar 2015 22:42:08 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ivan@visualsvn.com designates 209.85.192.53 as permitted sender)
Received: from [209.85.192.53] (HELO mail-qg0-f53.google.com) (209.85.192.53)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Mar 2015 22:42:04 +0000
Received: by qgdz60 with SMTP id z60so21986683qgd.5
        for <dev@httpd.apache.org>; Thu, 12 Mar 2015 15:40:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=visualsvn.com; s=google;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=fm0qza034SQtUOUtce4o29xBDuIiezfzJ49LBTLJNZ8=;
        b=CUwhfLO0yAcjiy4coAs+yWO17iCLVb9cvR9kUPr43tNDgqkGf2R5fgcwJ+TRIp+Rjt
         xp0irWyxv46EdwXHywxPVcGZnTZq3tx6r5QWl13We03OYdqJFJlsdhTFLDrNchb6JHPT
         5sk76IadW00YAU1LcEHNK2W4jNjJOdipWDEE8=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=fm0qza034SQtUOUtce4o29xBDuIiezfzJ49LBTLJNZ8=;
        b=Ugaqg/8ctwmCXTE2q/3yC4OW2K9Q+NEjiLfzkCIBqaGtpq3s5J/CycPsjHYPeh2Oni
         W5czikMtoHkS+8Gfvh3LeNb94eoeCBAI3PfROy6EQDhl0lvSFC0zdJBpbrqfLJhm0WsE
         M61b/E83kttQlQMTpDs0zdrzuHBy0kbCqS/xlk8wqrkG+QM+372FiAXKEZl2i40gxuTp
         bkBA1msIYejeeHsAMD/c/iurzYduk43BRiIRUPSad5lQ9af+foUxm6+Qb+rGyVVqdASH
         THbrmYic3jIQ5OL4B3kUpLtv4bKaUfaF3IVztn6vgJ5/fE7EwDpfZg2/Vuh5wcy5O1Ps
         4HBw==
X-Gm-Message-State: ALoCoQnquxw00B1s8H3V3XVRsuhSr/sLEpjLXr9g8U2B6c9wYJX1QbA3SHt0QPQDbefWfXPcgXnl
X-Received: by 10.55.42.160 with SMTP id q32mr72749247qkq.68.1426200058642;
 Thu, 12 Mar 2015 15:40:58 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.141.7.197 with HTTP; Thu, 12 Mar 2015 15:40:38 -0700 (PDT)
In-Reply-To: <3366F6BC-C356-450B-BEC7-0248BC540D80@jaguNET.com>
References: <3366F6BC-C356-450B-BEC7-0248BC540D80@jaguNET.com>
From: Ivan Zhakov <ivan@visualsvn.com>
Date: Fri, 13 Mar 2015 01:40:38 +0300
Message-ID: <CABw-3YdLfVUXy5-YKgCbkO2bjEX1OqEKpEeo_AySNiVYHa=67g@mail.gmail.com>
Subject: Re: apr_pollcb
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On 9 March 2015 at 20:04, Jim Jagielski <jim@jagunet.com> wrote:
> As far as I can tell, there are no real consumers of apr_pollcb_*()
> other than Motorz (and Simple)... Not sure, but it looks like the
> pollcb stuff may be lagging, since I'm getting some weird behavior
> when using that impl. So I'll likely be moving Motorz off of
> pollcb and use the "traditional" impl which has been proven in
> Event.
>

I'd like to share some thoughts about pollcb as Windows developer.
Most efficient way to handle a lot of connections on Windows is I/O
completion ports  (IOCP). They are like epoll, but different. Here is
good writeup about difference [1]. In short: IOCP provides
notification when I/O completes, while epoll provides notifications
when socket is ready to perform I/O operation. It would require
additional buffer to implement pollcb using IOCP on Windows. Or
APR/HTTPD should have different abstraction that is responsible for
I/O and waiting for completion.

[1] http://www.ulduzsoft.com/2014/01/practical-difference-between-epoll-and-windows-io-completion-ports-iocp/

-- 
Ivan Zhakov

From dev-return-82250-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 12 22:49:52 2015
Return-Path: <dev-return-82250-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1FEE2178FA
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 12 Mar 2015 22:49:52 +0000 (UTC)
Received: (qmail 1178 invoked by uid 500); 12 Mar 2015 22:49:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1111 invoked by uid 500); 12 Mar 2015 22:49:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1101 invoked by uid 99); 12 Mar 2015 22:49:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Mar 2015 22:49:51 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of paul@querna.org designates 209.85.223.177 as permitted sender)
Received: from [209.85.223.177] (HELO mail-ie0-f177.google.com) (209.85.223.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 12 Mar 2015 22:49:27 +0000
Received: by ieclw3 with SMTP id lw3so65956640iec.2
        for <dev@httpd.apache.org>; Thu, 12 Mar 2015 15:49:25 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=5uOF8HX+Ha6Ks3q/laQLRx6BWBUShUt+CUGsN69NdtE=;
        b=WCdtdoUQm3yNO3jTg8sk6sEFmoui334wXL8xWLctIaW9nsdOUh21kDuSraOUiils+X
         VPUvYTo1Qkb1IMt6wt/MmlArOLg6eNsWEtsBIzBtEnosec3Uidsu9ERRtz4SeJVXoKac
         lyseUNXy8nbZJgX6Gh4dryecqTXecyt+potxdAvBEIRMp4otnVQglQ+WZ9XCeLRrHGli
         OS2Vvto1NU6hycCKIoYLH9fiwFFd7k0NGVNABK8PZJkuULiSn/A4n5cjfuoma6PyK6jU
         Axd4URYdcHhRzgbgOKKdxifoROskkzccIK/by2X9nXr067YGXSa1UEMXm1TzMUnQnKoC
         jhPQ==
X-Gm-Message-State: ALoCoQmO6xlVJwDF1Ssya/oc5DIeZxja5ZHSjilYd3WCBID5tcxF/2gJyZpph07ob41HLrjRsUYl
MIME-Version: 1.0
X-Received: by 10.107.158.194 with SMTP id h185mr62591032ioe.30.1426200563996;
 Thu, 12 Mar 2015 15:49:23 -0700 (PDT)
Received: by 10.50.178.69 with HTTP; Thu, 12 Mar 2015 15:49:23 -0700 (PDT)
In-Reply-To: <CABw-3YdLfVUXy5-YKgCbkO2bjEX1OqEKpEeo_AySNiVYHa=67g@mail.gmail.com>
References: <3366F6BC-C356-450B-BEC7-0248BC540D80@jaguNET.com>
	<CABw-3YdLfVUXy5-YKgCbkO2bjEX1OqEKpEeo_AySNiVYHa=67g@mail.gmail.com>
Date: Thu, 12 Mar 2015 15:49:23 -0700
Message-ID: <CAMDeyhxnQaeict-nr+Bw2K3D7_tCng+G=PEmLpQPOL2MGPZt1A@mail.gmail.com>
Subject: Re: apr_pollcb
From: Paul Querna <paul@querna.org>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1141bb38fef43205111f3155
X-Virus-Checked: Checked by ClamAV on apache.org

--001a1141bb38fef43205111f3155
Content-Type: text/plain; charset=UTF-8

right, libuv[1] is a good example of an IO completion API[2] that works
across both epoll/kqueue and IOCP.  There have been a couple offhand
discussions about libuv on httpd-dev, but no one is clamoring for adoption.

APR currently has no such abstraction.

pollcb was added to provide a polling API that was lock free, allowed
cross-thread addition and didn't keep extra data structures around for N
sockets under management.  (this contrasts to APR's pollset which has
locks, uses a couple RINGs of structures to keep track of things, etc)


[1] - https://github.com/libuv/libuv
[2] - http://nikhilm.github.io/uvbook/filesystem.html#buffers-and-streams


On Thu, Mar 12, 2015 at 3:40 PM, Ivan Zhakov <ivan@visualsvn.com> wrote:

> On 9 March 2015 at 20:04, Jim Jagielski <jim@jagunet.com> wrote:
> > As far as I can tell, there are no real consumers of apr_pollcb_*()
> > other than Motorz (and Simple)... Not sure, but it looks like the
> > pollcb stuff may be lagging, since I'm getting some weird behavior
> > when using that impl. So I'll likely be moving Motorz off of
> > pollcb and use the "traditional" impl which has been proven in
> > Event.
> >
>
> I'd like to share some thoughts about pollcb as Windows developer.
> Most efficient way to handle a lot of connections on Windows is I/O
> completion ports  (IOCP). They are like epoll, but different. Here is
> good writeup about difference [1]. In short: IOCP provides
> notification when I/O completes, while epoll provides notifications
> when socket is ready to perform I/O operation. It would require
> additional buffer to implement pollcb using IOCP on Windows. Or
> APR/HTTPD should have different abstraction that is responsible for
> I/O and waiting for completion.
>
> [1]
> http://www.ulduzsoft.com/2014/01/practical-difference-between-epoll-and-windows-io-completion-ports-iocp/
>
> --
> Ivan Zhakov
>

--001a1141bb38fef43205111f3155
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div>right, libuv[1] is a good example of an IO completion=
 API[2] that works across both epoll/kqueue and IOCP.=C2=A0 There have been=
 a couple offhand discussions about libuv on httpd-dev, but no one is clamo=
ring for adoption.<br></div><div class=3D"gmail_extra"><br></div><div class=
=3D"gmail_extra">APR currently has no such abstraction.</div><div class=3D"=
gmail_extra"><br></div><div class=3D"gmail_extra">pollcb was added to provi=
de a polling API that was lock free, allowed cross-thread addition and didn=
&#39;t keep extra data structures around for N sockets under management. =
=C2=A0(this contrasts to APR&#39;s pollset which has locks, uses a couple R=
INGs of structures to keep track of things, etc)</div><div class=3D"gmail_e=
xtra"><br></div><div class=3D"gmail_extra"><br></div><div class=3D"gmail_ex=
tra">[1] -=C2=A0<a href=3D"https://github.com/libuv/libuv">https://github.c=
om/libuv/libuv</a></div><div class=3D"gmail_extra">[2] -=C2=A0<a href=3D"ht=
tp://nikhilm.github.io/uvbook/filesystem.html#buffers-and-streams">http://n=
ikhilm.github.io/uvbook/filesystem.html#buffers-and-streams</a></div><div c=
lass=3D"gmail_extra"><div class=3D"gmail_quote"><br></div><div class=3D"gma=
il_quote"><br></div><div class=3D"gmail_quote">On Thu, Mar 12, 2015 at 3:40=
 PM, Ivan Zhakov <span dir=3D"ltr">&lt;<a href=3D"mailto:ivan@visualsvn.com=
" target=3D"_blank">ivan@visualsvn.com</a>&gt;</span> wrote:<br><blockquote=
 class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:=
1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left=
:1ex"><div class=3D""><div class=3D"h5">On 9 March 2015 at 20:04, Jim Jagie=
lski &lt;<a href=3D"mailto:jim@jagunet.com">jim@jagunet.com</a>&gt; wrote:<=
br>
&gt; As far as I can tell, there are no real consumers of apr_pollcb_*()<br=
>
&gt; other than Motorz (and Simple)... Not sure, but it looks like the<br>
&gt; pollcb stuff may be lagging, since I&#39;m getting some weird behavior=
<br>
&gt; when using that impl. So I&#39;ll likely be moving Motorz off of<br>
&gt; pollcb and use the &quot;traditional&quot; impl which has been proven =
in<br>
&gt; Event.<br>
&gt;<br>
<br>
</div></div>I&#39;d like to share some thoughts about pollcb as Windows dev=
eloper.<br>
Most efficient way to handle a lot of connections on Windows is I/O<br>
completion ports=C2=A0 (IOCP). They are like epoll, but different. Here is<=
br>
good writeup about difference [1]. In short: IOCP provides<br>
notification when I/O completes, while epoll provides notifications<br>
when socket is ready to perform I/O operation. It would require<br>
additional buffer to implement pollcb using IOCP on Windows. Or<br>
APR/HTTPD should have different abstraction that is responsible for<br>
I/O and waiting for completion.<br>
<br>
[1] <a href=3D"http://www.ulduzsoft.com/2014/01/practical-difference-betwee=
n-epoll-and-windows-io-completion-ports-iocp/" target=3D"_blank">http://www=
.ulduzsoft.com/2014/01/practical-difference-between-epoll-and-windows-io-co=
mpletion-ports-iocp/</a><br>
<span class=3D""><font color=3D"#888888"><br>
--<br>
Ivan Zhakov<br>
</font></span></blockquote></div><br></div></div>

--001a1141bb38fef43205111f3155--

From dev-return-82251-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 13 09:07:03 2015
Return-Path: <dev-return-82251-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B00CD17B6F
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 13 Mar 2015 09:07:03 +0000 (UTC)
Received: (qmail 63319 invoked by uid 500); 13 Mar 2015 09:07:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63248 invoked by uid 500); 13 Mar 2015 09:07:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63238 invoked by uid 99); 13 Mar 2015 09:07:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Mar 2015 09:07:02 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.169 as permitted sender)
Received: from [209.85.223.169] (HELO mail-ie0-f169.google.com) (209.85.223.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Mar 2015 09:06:37 +0000
Received: by ieclw3 with SMTP id lw3so93708839iec.2
        for <dev@httpd.apache.org>; Fri, 13 Mar 2015 02:05:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=KhjCu58GQ95rnzJ+8hRWbPv5dUFKxKQdRgn6VHHQ3jg=;
        b=Jkk+gNs5yomiqE8aDppUvX8V7/MuJbOVlPe5m2J17maatFWAXqJ2lVmkueN1Zu2maT
         E0hfrzOcf3ZKx4DjQ12nO/DcTG6aanjuK0E04U5vFaVR81UdIfv9ot75foP9+XCvKNyG
         wzmWFyrl9Bcr6Lmi07dLo9AyQqkdzW3NAUBoA1MyKrHZb5q60e7wSeKLehpvBuCbH6v0
         KQIBR4sw8Ml4+VH42woykvWOEnhU+47CZoTrjOmQddb5OHXDkNgvlCqLcVAWmZQKyoOv
         Nb3DCIkUfpQ3QapEbFf8ops6PNglj9nlt1kc2M8MuaW7xoLvsYyBaKNPYHl6URC57EZg
         6vMg==
MIME-Version: 1.0
X-Received: by 10.43.90.199 with SMTP id bj7mr55286123icc.35.1426237504401;
 Fri, 13 Mar 2015 02:05:04 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Fri, 13 Mar 2015 02:05:04 -0700 (PDT)
In-Reply-To: <D0936CE6-39CF-494E-8FA7-BD637ED8FAA2@jaguNET.com>
References: <CAKUrXK7YhQ0updDJxrNQVxFGwzRGdvPPCb3raOkZSc1oyxsU9Q@mail.gmail.com>
	<A7A4D1D5-BCA0-4BB4-8A1B-25F8EE4A5404@jaguNET.com>
	<CAKQ1sVMg_59xzthPLEwwEUO3eearoTWR0dNDcHU3_=69xV7Z6w@mail.gmail.com>
	<D0936CE6-39CF-494E-8FA7-BD637ED8FAA2@jaguNET.com>
Date: Fri, 13 Mar 2015 10:05:04 +0100
Message-ID: <CAKQ1sVNXKwb+PjtMLErmNvRrKCnLuwQ5bmiNYXHFjP0wmkrxsw@mail.gmail.com>
Subject: Re: apr_skiplist dependency
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

I think I have an acceptable solution for still APR-1.5's skiplists
(having insert() with addne semantic) in httpd.

For add semantic, simply use the following compare function and
insert_compare():
static int indexing_add_comp(void *a, void *b)
{
    apr_time_t t1 =3D (apr_time_t) (((timer_event_t *) a)->when);
    apr_time_t t2 =3D (apr_time_t) (((timer_event_t *) b)->when);
    return (t1 < t2) ? -1 : +1;
}
It never returns 0, hence the entry never exists, and duplicates are added =
next!

That's all is needed for mpm_event, which only uses skiplist_insert()
and skiplist_pop(), so it could even become the default compare
function (ie. set with apr_skiplist_set_compare()).

For mpm_motorz, we also need skiplist_remove(), so we can keep the
existing indexing_comp() function as the default (we still need the
exact match to find or remove an entry :), while the new
indexing_add_comp() would only be used for insertions (with
insert_compare()).

Any issue with this?

On Sat, Mar 7, 2015 at 8:02 PM, Jim Jagielski <jim@jagunet.com> wrote:
> My 2c is that I don't like the idea that "add" and "insert"
> means 2 different things with 2 different behaviors. I
> know we were kinda forced into that due to me, mistakenly,
> not realizing that dups were the *compliant* impl.
>
> The real rub is what do we call "place into skiplist
> unless it would overwrite a previously placed element".
> My choice of "addne" was shorthand for "ADD if element
> does Not Exist".
>
>> On Mar 7, 2015, at 11:38 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>> +1
>>
>> If/before we do this, maybe we can at least agree on
>> skiplist_insert/add() vs skiplist_insert/addne().
>> I known it depends on whether or not names will finally be rollbacked
>> in APR, but we'd better not copy skiplist's code from there before
>> this is decided.
>> Just to avoid having different semantics in APR and httpd, and ease
>> keeping the code in sync when necessary...
>>
>>
>> On Sat, Mar 7, 2015 at 5:10 PM, Jim Jagielski <jim@jagunet.com> wrote:
>>> I'm +1 on that.
>>>
>>> <rant>
>>> I'll be honest, I think that in several ways the "lag"
>>> between httpd and APR is putting httpd at risk. Every
>>> possible change to APR is being held-up by, imo, irrational
>>> concepts of what "breaks" the API. Now this wouldn't be
>>> so bad if we saw releases of APR more often than every
>>> year or so. As it is, we end up with things that should
>>> be in APR, but aren't, because we want to be able to keep
>>> development and release of httpd at a rationale level,
>>> OR things get "pushed" into APR quickly because, well,
>>> with such infrequent releases, people (myself very included)
>>> rush stuff in because we know it'll be months (several!)
>>> before the idea of an APR release is even envisioned. ("Hurry
>>> up and commit! God knows when the next release will be!!")
>>>
>>> Personally, I think any "new" features that httpd requires
>>> than would historically go into APR, STAY in httpd. Call
>>> it aprx_ or whatever. APR can decide to pick those up when/if
>>> it chooses. It can even live in ./srclib.
>>> </rant>
>>>
>>> As far as what to do w/ skiplist itself: httpd (event and motorz
>>> and likely others, when its available) requires a *compliant*
>>> skiplist implementation. If APR can't provide it, then we
>>> provide our own.
>>>
>>>> On Mar 7, 2015, at 7:40 AM, Jeff Trawick <trawick@gmail.com> wrote:
>>>>
>>>> Looking back, I think that apr_skiplist wasn't ready for general use (=
both doc and code) when it was put in APR and released, and at the same tim=
e it was unfortunate that it placed a prereq on a new APR release in order =
to use Event, introducing another speedbump to using httpd's latest and gre=
atest.
>>>>
>>>> Looking forward, I see the same thing; apr_skiplist needs design chang=
es to supply what httpd needs, and doing so means extra work in APR to pres=
erve compatibility, as well as dependence of Event on a new APR release str=
eam.  That's another speedbump that httpd 2.4 users don't need.
>>>>
>>>> The best thing for httpd (Event) w.r.t. skiplist is the best thing for=
 apr_skiplist itself: for the codebase to evolve naturally to support this =
important (primary, only???) consumer, without the constraints of APR versi=
oning rules and APR release cycles (and perhaps without the constraints of =
any versioning rules).
>>>>
>>>> Pull this small amount of code into httpd, perhaps as a private interf=
ace for 1-2 modules that need it.  Let it improve with fewer constraints.  =
Future APR 2.0 will improve from the relatively unfettered changes, and htt=
pd 2.4 users won't have speedbumps introduced by dependence on an evolving =
skiplist implementation.
>>>>
>>>> (Keep the skiplist code in APR trunk up to date with changes needed fo=
r httpd.  The APR stable releases can pick up compatible code fixes, but th=
at probably won't be a priority for anyone but non-httpd consumers, and I'm=
 not aware of any such people working on skiplist thus far.)
>>>>
>>>> Thoughts?
>>>>
>>>> --
>>>> Born in Roswell... married an alien...
>>>> http://emptyhammock.com/
>>>>
>>>
>

From dev-return-82252-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 13 09:26:06 2015
Return-Path: <dev-return-82252-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8BB7B17BEE
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 13 Mar 2015 09:26:06 +0000 (UTC)
Received: (qmail 88648 invoked by uid 500); 13 Mar 2015 09:26:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 88581 invoked by uid 500); 13 Mar 2015 09:26:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 88571 invoked by uid 99); 13 Mar 2015 09:26:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Mar 2015 09:26:06 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.176 as permitted sender)
Received: from [209.85.223.176] (HELO mail-ie0-f176.google.com) (209.85.223.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Mar 2015 09:26:02 +0000
Received: by iegc3 with SMTP id c3so96381641ieg.3
        for <dev@httpd.apache.org>; Fri, 13 Mar 2015 02:24:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=hai8x+udjEhWMfgLkVLoQDvtEQFVriXfsXRma9/6/qE=;
        b=LBjCgBmLKb0wbqEW44WEl5nUaCZkSzhE/YIStnQZEPeIJVXukxabHdE9BNald+ODot
         SVgV6ZIewcttTs/YSrHRqXGEd2+ITPeSxDMnKpXJQ6MBgOB6b+WanUsfyM+FmkVUKR/0
         4I66CNxyOqsf7VV2XPQEd9meCaGbcdRBkpDWbd8g+1ut8lv29oMZwIZHe2DgY5pguV73
         qVwMznBMam3ADgJk+76j5I4It96x7TnRHxojQMn3xyuTzI3EAC1QBhZN4mWSKrTnFkXi
         +yzlgZ9RMPetEhwB+vSJE973r4jjgnPoEM5nuyjGGuQdrkV4KwlFmF87I2NqeRfhQHtA
         oavQ==
MIME-Version: 1.0
X-Received: by 10.50.82.68 with SMTP id g4mr107877583igy.26.1426238696661;
 Fri, 13 Mar 2015 02:24:56 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Fri, 13 Mar 2015 02:24:56 -0700 (PDT)
In-Reply-To: <CAKQ1sVNXKwb+PjtMLErmNvRrKCnLuwQ5bmiNYXHFjP0wmkrxsw@mail.gmail.com>
References: <CAKUrXK7YhQ0updDJxrNQVxFGwzRGdvPPCb3raOkZSc1oyxsU9Q@mail.gmail.com>
	<A7A4D1D5-BCA0-4BB4-8A1B-25F8EE4A5404@jaguNET.com>
	<CAKQ1sVMg_59xzthPLEwwEUO3eearoTWR0dNDcHU3_=69xV7Z6w@mail.gmail.com>
	<D0936CE6-39CF-494E-8FA7-BD637ED8FAA2@jaguNET.com>
	<CAKQ1sVNXKwb+PjtMLErmNvRrKCnLuwQ5bmiNYXHFjP0wmkrxsw@mail.gmail.com>
Date: Fri, 13 Mar 2015 10:24:56 +0100
Message-ID: <CAKQ1sVMC3jhFZ4tMvU9Uy_A9ZeeNtfqy9UHBkPT9kVr48OzBWA@mail.gmail.com>
Subject: Re: apr_skiplist dependency
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

That is:

Index: server/mpm/event/event.c
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
--- server/mpm/event/event.c    (revision 1666294)
+++ server/mpm/event/event.c    (working copy)
@@ -1471,6 +1471,15 @@ static int indexing_compk(void *ac, void *b)
     return ((*t1 < t2) ? -1 : ((*t1 > t2) ? 1 : 0));
 }

+static int indexing_add_comp(void *a, void *b)
+{
+    apr_time_t t1 =3D (apr_time_t) (((timer_event_t *) a)->when);
+    apr_time_t t2 =3D (apr_time_t) (((timer_event_t *) b)->when);
+    AP_DEBUG_ASSERT(t1);
+    AP_DEBUG_ASSERT(t2);
+    return ((t1 < t2) ? -1 : 1);
+}
+
 static apr_thread_mutex_t *g_timer_skiplist_mtx;

 static timer_event_t * event_get_timer_event(apr_time_t t,
@@ -1500,8 +1509,8 @@ static timer_event_t * event_get_timer_event(apr_t
     te->remove =3D remove;

     if (insert) {
-        /* Okay, insert sorted by when.. */
-        apr_skiplist_insert(timer_skiplist, (void *)te);
+        /* Okay, add sorted by when.. */
+        apr_skiplist_insert_compare(timer_skiplist, te, indexing_add_comp)=
;
     }
     apr_thread_mutex_unlock(g_timer_skiplist_mtx);

Index: server/mpm/motorz/motorz.c
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
--- server/mpm/motorz/motorz.c    (revision 1666294)
+++ server/mpm/motorz/motorz.c    (working copy)
@@ -81,6 +81,15 @@ static int indexing_compk(void *ac, void *b)
     return ((*t1 < t2) ? -1 : ((*t1 > t2) ? 1 : 0));
 }

+static int indexing_add_comp(void *a, void *b)
+{
+    apr_time_t t1 =3D (apr_time_t) (((motorz_timer_t *) a)->expires);
+    apr_time_t t2 =3D (apr_time_t) (((motorz_timer_t *) b)->expires);
+    AP_DEBUG_ASSERT(t1);
+    AP_DEBUG_ASSERT(t2);
+    return ((t1 < t2) ? -1 : 1);
+}
+
 static apr_status_t motorz_conn_pool_cleanup(void *baton)
 {
     motorz_conn_t *scon =3D (motorz_conn_t *)baton;
@@ -305,7 +314,7 @@ static void motorz_register_timer(motorz_conn_t *s
     elem->mz =3D mz;

     apr_thread_mutex_lock(mz->mtx);
-    apr_skiplist_insert(mz->timer_ring, (void *)elem);
+    apr_skiplist_insert_compare(mz->timer_ring, elem, indexing_add_comp);
     apr_thread_mutex_unlock(mz->mtx);
 }
--


On Fri, Mar 13, 2015 at 10:05 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> I think I have an acceptable solution for still APR-1.5's skiplists
> (having insert() with addne semantic) in httpd.
>
> For add semantic, simply use the following compare function and
> insert_compare():
> static int indexing_add_comp(void *a, void *b)
> {
>     apr_time_t t1 =3D (apr_time_t) (((timer_event_t *) a)->when);
>     apr_time_t t2 =3D (apr_time_t) (((timer_event_t *) b)->when);
>     return (t1 < t2) ? -1 : +1;
> }
> It never returns 0, hence the entry never exists, and duplicates are adde=
d next!
>
> That's all is needed for mpm_event, which only uses skiplist_insert()
> and skiplist_pop(), so it could even become the default compare
> function (ie. set with apr_skiplist_set_compare()).
>
> For mpm_motorz, we also need skiplist_remove(), so we can keep the
> existing indexing_comp() function as the default (we still need the
> exact match to find or remove an entry :), while the new
> indexing_add_comp() would only be used for insertions (with
> insert_compare()).
>
> Any issue with this?
>
> On Sat, Mar 7, 2015 at 8:02 PM, Jim Jagielski <jim@jagunet.com> wrote:
>> My 2c is that I don't like the idea that "add" and "insert"
>> means 2 different things with 2 different behaviors. I
>> know we were kinda forced into that due to me, mistakenly,
>> not realizing that dups were the *compliant* impl.
>>
>> The real rub is what do we call "place into skiplist
>> unless it would overwrite a previously placed element".
>> My choice of "addne" was shorthand for "ADD if element
>> does Not Exist".
>>
>>> On Mar 7, 2015, at 11:38 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>>
>>> +1
>>>
>>> If/before we do this, maybe we can at least agree on
>>> skiplist_insert/add() vs skiplist_insert/addne().
>>> I known it depends on whether or not names will finally be rollbacked
>>> in APR, but we'd better not copy skiplist's code from there before
>>> this is decided.
>>> Just to avoid having different semantics in APR and httpd, and ease
>>> keeping the code in sync when necessary...
>>>
>>>
>>> On Sat, Mar 7, 2015 at 5:10 PM, Jim Jagielski <jim@jagunet.com> wrote:
>>>> I'm +1 on that.
>>>>
>>>> <rant>
>>>> I'll be honest, I think that in several ways the "lag"
>>>> between httpd and APR is putting httpd at risk. Every
>>>> possible change to APR is being held-up by, imo, irrational
>>>> concepts of what "breaks" the API. Now this wouldn't be
>>>> so bad if we saw releases of APR more often than every
>>>> year or so. As it is, we end up with things that should
>>>> be in APR, but aren't, because we want to be able to keep
>>>> development and release of httpd at a rationale level,
>>>> OR things get "pushed" into APR quickly because, well,
>>>> with such infrequent releases, people (myself very included)
>>>> rush stuff in because we know it'll be months (several!)
>>>> before the idea of an APR release is even envisioned. ("Hurry
>>>> up and commit! God knows when the next release will be!!")
>>>>
>>>> Personally, I think any "new" features that httpd requires
>>>> than would historically go into APR, STAY in httpd. Call
>>>> it aprx_ or whatever. APR can decide to pick those up when/if
>>>> it chooses. It can even live in ./srclib.
>>>> </rant>
>>>>
>>>> As far as what to do w/ skiplist itself: httpd (event and motorz
>>>> and likely others, when its available) requires a *compliant*
>>>> skiplist implementation. If APR can't provide it, then we
>>>> provide our own.
>>>>
>>>>> On Mar 7, 2015, at 7:40 AM, Jeff Trawick <trawick@gmail.com> wrote:
>>>>>
>>>>> Looking back, I think that apr_skiplist wasn't ready for general use =
(both doc and code) when it was put in APR and released, and at the same ti=
me it was unfortunate that it placed a prereq on a new APR release in order=
 to use Event, introducing another speedbump to using httpd's latest and gr=
eatest.
>>>>>
>>>>> Looking forward, I see the same thing; apr_skiplist needs design chan=
ges to supply what httpd needs, and doing so means extra work in APR to pre=
serve compatibility, as well as dependence of Event on a new APR release st=
ream.  That's another speedbump that httpd 2.4 users don't need.
>>>>>
>>>>> The best thing for httpd (Event) w.r.t. skiplist is the best thing fo=
r apr_skiplist itself: for the codebase to evolve naturally to support this=
 important (primary, only???) consumer, without the constraints of APR vers=
ioning rules and APR release cycles (and perhaps without the constraints of=
 any versioning rules).
>>>>>
>>>>> Pull this small amount of code into httpd, perhaps as a private inter=
face for 1-2 modules that need it.  Let it improve with fewer constraints. =
 Future APR 2.0 will improve from the relatively unfettered changes, and ht=
tpd 2.4 users won't have speedbumps introduced by dependence on an evolving=
 skiplist implementation.
>>>>>
>>>>> (Keep the skiplist code in APR trunk up to date with changes needed f=
or httpd.  The APR stable releases can pick up compatible code fixes, but t=
hat probably won't be a priority for anyone but non-httpd consumers, and I'=
m not aware of any such people working on skiplist thus far.)
>>>>>
>>>>> Thoughts?
>>>>>
>>>>> --
>>>>> Born in Roswell... married an alien...
>>>>> http://emptyhammock.com/
>>>>>
>>>>
>>

From dev-return-82253-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 13 11:03:18 2015
Return-Path: <dev-return-82253-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A495D17EAD
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 13 Mar 2015 11:03:18 +0000 (UTC)
Received: (qmail 50811 invoked by uid 500); 13 Mar 2015 11:03:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50751 invoked by uid 500); 13 Mar 2015 11:03:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50739 invoked by uid 99); 13 Mar 2015 11:03:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Mar 2015 11:03:18 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.38] (HELO resqmta-ch2-06v.sys.comcast.net) (69.252.207.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Mar 2015 11:03:07 +0000
Received: from resomta-ch2-10v.sys.comcast.net ([69.252.207.106])
	by resqmta-ch2-06v.sys.comcast.net with comcast
	id 2z1N1q00D2JGN3p01z1Sid; Fri, 13 Mar 2015 11:01:26 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-10v.sys.comcast.net with comcast
	id 2z1S1q0031cCKD901z1SXP; Fri, 13 Mar 2015 11:01:26 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: apr_pollcb
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAMDeyhxnQaeict-nr+Bw2K3D7_tCng+G=PEmLpQPOL2MGPZt1A@mail.gmail.com>
Date: Fri, 13 Mar 2015 07:01:25 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <35C1C342-7F94-4C11-A69D-B024D0D008AA@jaguNET.com>
References: <3366F6BC-C356-450B-BEC7-0248BC540D80@jaguNET.com> <CABw-3YdLfVUXy5-YKgCbkO2bjEX1OqEKpEeo_AySNiVYHa=67g@mail.gmail.com> <CAMDeyhxnQaeict-nr+Bw2K3D7_tCng+G=PEmLpQPOL2MGPZt1A@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1426244486;
	bh=e3yyj703Keya8eHBY6YRl+3963Q7sO/rPPlmaM74EmM=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=S9nE3QbeukUe5JoUCCOni7a25sfGUOtW3rKMRNuIl72rnupTG4nt84bxkJnd7hsU/
	 xo58AQKtqIae74XR6l+e+yQ5tCZS5F4grzoMBC8lMVKxmnOlfd04iNA3j4r+T6IlMM
	 m44wxXdMq4DMA9cbyT1Vn8EYKTS/lYb0Ysz4lSR3K9czaSCTsC2IfUXj7NL/fPbTsI
	 DDPvK9mPG5h6MNNWz3k3W9CFSJUQEQ8mCCLVGJ71KJMjVIBWkC0NPkuo/bT/H/5i3C
	 qrB+EpUBu55ySOkYVt1H495IW75Zjw+CGR3e+jL4r7gWEcQ7y+ZsTXn92uW087TVvX
	 QjS5j7darwDrQ==
X-Virus-Checked: Checked by ClamAV on apache.org

No doubt pollcb is a MUCH nicer interface.

> On Mar 12, 2015, at 6:49 PM, Paul Querna <paul@querna.org> wrote:
>=20
> right, libuv[1] is a good example of an IO completion API[2] that =
works across both epoll/kqueue and IOCP.  There have been a couple =
offhand discussions about libuv on httpd-dev, but no one is clamoring =
for adoption.
>=20
> APR currently has no such abstraction.
>=20
> pollcb was added to provide a polling API that was lock free, allowed =
cross-thread addition and didn't keep extra data structures around for N =
sockets under management.  (this contrasts to APR's pollset which has =
locks, uses a couple RINGs of structures to keep track of things, etc)
>=20
>=20
> [1] - https://github.com/libuv/libuv
> [2] - =
http://nikhilm.github.io/uvbook/filesystem.html#buffers-and-streams
>=20
>=20
> On Thu, Mar 12, 2015 at 3:40 PM, Ivan Zhakov <ivan@visualsvn.com> =
wrote:
> On 9 March 2015 at 20:04, Jim Jagielski <jim@jagunet.com> wrote:
> > As far as I can tell, there are no real consumers of apr_pollcb_*()
> > other than Motorz (and Simple)... Not sure, but it looks like the
> > pollcb stuff may be lagging, since I'm getting some weird behavior
> > when using that impl. So I'll likely be moving Motorz off of
> > pollcb and use the "traditional" impl which has been proven in
> > Event.
> >
>=20
> I'd like to share some thoughts about pollcb as Windows developer.
> Most efficient way to handle a lot of connections on Windows is I/O
> completion ports  (IOCP). They are like epoll, but different. Here is
> good writeup about difference [1]. In short: IOCP provides
> notification when I/O completes, while epoll provides notifications
> when socket is ready to perform I/O operation. It would require
> additional buffer to implement pollcb using IOCP on Windows. Or
> APR/HTTPD should have different abstraction that is responsible for
> I/O and waiting for completion.
>=20
> [1] =
http://www.ulduzsoft.com/2014/01/practical-difference-between-epoll-and-wi=
ndows-io-completion-ports-iocp/
>=20
> --
> Ivan Zhakov
>=20


From dev-return-82254-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 13 11:04:04 2015
Return-Path: <dev-return-82254-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D02D917EB4
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 13 Mar 2015 11:04:04 +0000 (UTC)
Received: (qmail 54831 invoked by uid 500); 13 Mar 2015 11:03:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54761 invoked by uid 500); 13 Mar 2015 11:03:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54750 invoked by uid 99); 13 Mar 2015 11:03:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Mar 2015 11:03:58 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.34] (HELO resqmta-ch2-02v.sys.comcast.net) (69.252.207.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Mar 2015 11:03:30 +0000
Received: from resomta-ch2-09v.sys.comcast.net ([69.252.207.105])
	by resqmta-ch2-02v.sys.comcast.net with comcast
	id 2z061q0052GyhjZ01z06Gd; Fri, 13 Mar 2015 11:00:06 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-09v.sys.comcast.net with comcast
	id 2z051q00H1cCKD901z06C8; Fri, 13 Mar 2015 11:00:06 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: apr_skiplist dependency
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVMC3jhFZ4tMvU9Uy_A9ZeeNtfqy9UHBkPT9kVr48OzBWA@mail.gmail.com>
Date: Fri, 13 Mar 2015 07:00:05 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <BB0DBCE1-A52B-405F-93B1-8AD99614AE9D@jaguNET.com>
References: <CAKUrXK7YhQ0updDJxrNQVxFGwzRGdvPPCb3raOkZSc1oyxsU9Q@mail.gmail.com> <A7A4D1D5-BCA0-4BB4-8A1B-25F8EE4A5404@jaguNET.com> <CAKQ1sVMg_59xzthPLEwwEUO3eearoTWR0dNDcHU3_=69xV7Z6w@mail.gmail.com> <D0936CE6-39CF-494E-8FA7-BD637ED8FAA2@jaguNET.com> <CAKQ1sVNXKwb+PjtMLErmNvRrKCnLuwQ5bmiNYXHFjP0wmkrxsw@mail.gmail.com> <CAKQ1sVMC3jhFZ4tMvU9Uy_A9ZeeNtfqy9UHBkPT9kVr48OzBWA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1426244406;
	bh=OGrKqSJTf78bFBiFJvd8GhwGBvd7Gv9vuNxeyF4WR20=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=Pr0A/ZN4v+tYh1uZn7k9LI/1fGl6wPUMgb9fgUT+pkP16OjF4CDkwoSPdjf1JTxea
	 wf+QFCE5nh1Fo3dU+T1vonv0HtelbJUGFElTKzhLTq7Oc0EXCoccD33i0PnjtOfc17
	 MwLA1kNhT856IMnVFf1RKMfSFkVxaQezuUInbE24PNQABii45KhU0tEkXK+Lyd7WF1
	 GYH5LTs+iM9rIxhEpzc2t6xWB4MILq4BAayfFfU1OEMHTeI4GZnCsUPFx3aU/dGhSg
	 SxxlPzRIfZNvapSxwbrg4R+AS198GIjkMFrHSJVcWyTo33dO4/f0ZigrDcjXCoDbeJ
	 Lbr7kM1ANMTSg==
X-Virus-Checked: Checked by ClamAV on apache.org

That is a nice hack... How about if instead of that, we
simply pull into httpd skiplist, and then when APR's version
achieves parity, we use that.

If that sounds OK, I'll do it on Monday.

From dev-return-82255-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 13 11:28:27 2015
Return-Path: <dev-return-82255-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CCB8517FD2
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 13 Mar 2015 11:28:27 +0000 (UTC)
Received: (qmail 16944 invoked by uid 500); 13 Mar 2015 11:28:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16885 invoked by uid 500); 13 Mar 2015 11:28:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16873 invoked by uid 99); 13 Mar 2015 11:28:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Mar 2015 11:28:17 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.169 as permitted sender)
Received: from [209.85.223.169] (HELO mail-ie0-f169.google.com) (209.85.223.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Mar 2015 11:27:53 +0000
Received: by iegc3 with SMTP id c3so101727720ieg.3
        for <dev@httpd.apache.org>; Fri, 13 Mar 2015 04:27:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=RZUJRxe2aCQForKNPxJk6WUJARoOW+8moALp2YlGnpQ=;
        b=l9RcRxFtHgzDVvdHsbus6Om3MbYTJhrgFAi8B9LRC8WMwMd6tfNS6dd5z3uuIR7h2p
         bNclBdYvjOvIM5tB7POuYe4GV+HVVZCLzGvhqxnL0OPljhzJ4T5Mpdzm3OBn+tEW2jp7
         EGmqXZlQfSDA1Z5P2MEy8Flq1LVOPkimBXAMwnoVprF+MC6PBbfqKJMTR4iPhv0I3OY2
         0t5JqngyoyRWJlKnSWCPDIadEFEND+rFHkP7WwQZY43PKe38NqSox+KKbaMpZS0YeKAu
         Pus5cpXhbycnMzOdP+OqOa/HEYDAPJPdGOWNO3Qi1u5m9GD+/rh0W7XghXKTN+5sKLyh
         079g==
MIME-Version: 1.0
X-Received: by 10.107.132.39 with SMTP id g39mr61454892iod.62.1426246023201;
 Fri, 13 Mar 2015 04:27:03 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Fri, 13 Mar 2015 04:27:03 -0700 (PDT)
In-Reply-To: <BB0DBCE1-A52B-405F-93B1-8AD99614AE9D@jaguNET.com>
References: <CAKUrXK7YhQ0updDJxrNQVxFGwzRGdvPPCb3raOkZSc1oyxsU9Q@mail.gmail.com>
	<A7A4D1D5-BCA0-4BB4-8A1B-25F8EE4A5404@jaguNET.com>
	<CAKQ1sVMg_59xzthPLEwwEUO3eearoTWR0dNDcHU3_=69xV7Z6w@mail.gmail.com>
	<D0936CE6-39CF-494E-8FA7-BD637ED8FAA2@jaguNET.com>
	<CAKQ1sVNXKwb+PjtMLErmNvRrKCnLuwQ5bmiNYXHFjP0wmkrxsw@mail.gmail.com>
	<CAKQ1sVMC3jhFZ4tMvU9Uy_A9ZeeNtfqy9UHBkPT9kVr48OzBWA@mail.gmail.com>
	<BB0DBCE1-A52B-405F-93B1-8AD99614AE9D@jaguNET.com>
Date: Fri, 13 Mar 2015 12:27:03 +0100
Message-ID: <CAKQ1sVOZCtMuQTqrHc+gh=mtOuK_AKGpJDWB+tmqWpq71JA8sA@mail.gmail.com>
Subject: Re: apr_skiplist dependency
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Mar 13, 2015 at 12:00 PM, Jim Jagielski <jim@jagunet.com> wrote:
> That is a nice hack... How about if instead of that, we
> simply pull into httpd skiplist, and then when APR's version
> achieves parity, we use that.

Is it still needed?

Once/if we require an upper APR version (but even now with an
APR_VERSION_AT_LEAST(1,6,0) check), we can simply
apr_skiplist_insert_compare(..., indexing_add_comp) =>
apr_skiplist_add(...).

But for now, I'd prefer to keep common code in APR (and hence avoid
maintaining both), since we can still use APR-1.5 without any issue
(including performances!).
If nice improvements or bugs appear in APR skiplist ("incompatible"
with APR-1.5 or httpd releasing cycle), then we could do the pull.

> If that sounds OK, I'll do it on Monday.

I'm not opposed to that either, just -0 now (for skiplist, not talking
about other possible httpd "integrations")...

From dev-return-82256-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 13 13:02:39 2015
Return-Path: <dev-return-82256-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2B4B717505
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 13 Mar 2015 13:02:39 +0000 (UTC)
Received: (qmail 25926 invoked by uid 500); 13 Mar 2015 13:02:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 25864 invoked by uid 500); 13 Mar 2015 13:02:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 25844 invoked by uid 99); 13 Mar 2015 13:02:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Mar 2015 13:02:38 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ivan@visualsvn.com designates 209.85.216.178 as permitted sender)
Received: from [209.85.216.178] (HELO mail-qc0-f178.google.com) (209.85.216.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Mar 2015 13:02:33 +0000
Received: by qcwr17 with SMTP id r17so26128677qcw.11
        for <dev@httpd.apache.org>; Fri, 13 Mar 2015 06:01:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=visualsvn.com; s=google;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=D8I9anynJ0ABoDyp2lDQvFiJo+kiWyRgv2UghX4Hyq8=;
        b=RRXnuen7X2QSDsjis3ZzB/+9EfGjryi2rsknAiCR3YA04Ym4AH5u8evZyYW9P0pQns
         S+cIoenrc506jMR/s0WtB4/jYby7JYaJLwq7koqtN1LBtkARoeAXm+XmqDIDsM4bkuSl
         URGwoiGW+mviMpjvfgu9jh6U3LC4N/OG9RfBo=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:from:date
         :message-id:subject:to:content-type;
        bh=D8I9anynJ0ABoDyp2lDQvFiJo+kiWyRgv2UghX4Hyq8=;
        b=K1AN8GdqS4HXWDsH1BlqYR/YxM7iAHVDY6AfF9uTWw+mNJRaJ+OIlx62G6X0EG8Xja
         2owpiWc8/XK0xZNNmY0s0PXS/OlNuGRosVCQZzmgmsPhmVIx6kUZiqREBhjXgablNHki
         vJTVyqPZMmvpVqnIlMNsLvIp2VvktwUSLOPt+o8+y5Q+wj47In3Z0g5L8hQnLTviFslo
         RocqOc0PG+qGLHJEtfLDRKzFTrmwRxR/rm7RaUFMLaJUhsrCGKOPaBCW+GB7FcbjNR2v
         70EMpr5dMaFcHP5vT9irRpHP8mE6pMaf2jpAjEdpNyc0xcE+9Z0/lRz9oKcLaY7P1zWV
         0KTQ==
X-Gm-Message-State: ALoCoQn/ZNI3SyWuV25G9eaS3rLTESaCNgqUqQRQWe1X3qBD6w+utOGFsbuSthE49Wofyuzcd3hJ
X-Received: by 10.140.165.209 with SMTP id l200mr61813976qhl.84.1426251688618;
 Fri, 13 Mar 2015 06:01:28 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.141.7.197 with HTTP; Fri, 13 Mar 2015 06:01:08 -0700 (PDT)
In-Reply-To: <35C1C342-7F94-4C11-A69D-B024D0D008AA@jaguNET.com>
References: <3366F6BC-C356-450B-BEC7-0248BC540D80@jaguNET.com>
 <CABw-3YdLfVUXy5-YKgCbkO2bjEX1OqEKpEeo_AySNiVYHa=67g@mail.gmail.com>
 <CAMDeyhxnQaeict-nr+Bw2K3D7_tCng+G=PEmLpQPOL2MGPZt1A@mail.gmail.com> <35C1C342-7F94-4C11-A69D-B024D0D008AA@jaguNET.com>
From: Ivan Zhakov <ivan@visualsvn.com>
Date: Fri, 13 Mar 2015 16:01:08 +0300
Message-ID: <CABw-3Yd=jMpqVWgo46tsGiPmRuiwtW9C+UD7vnqDim-NCMWbyw@mail.gmail.com>
Subject: Re: apr_pollcb
To: dev@httpd.apache.org, jim@jagunet.com
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On 13 March 2015 at 14:01, Jim Jagielski <jim@jagunet.com> wrote:
> No doubt pollcb is a MUCH nicer interface.
>
Probably. I just wanted to noted the pollcb interface is hard to
implement using IOCP on Windows: it require additional buffering.
While IOCP is most performant API for sockets on Windows.


-- 
Ivan Zhakov

From dev-return-82257-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 13 13:10:36 2015
Return-Path: <dev-return-82257-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 16225175A8
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 13 Mar 2015 13:10:36 +0000 (UTC)
Received: (qmail 43810 invoked by uid 500); 13 Mar 2015 13:10:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 43733 invoked by uid 500); 13 Mar 2015 13:10:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 43723 invoked by uid 99); 13 Mar 2015 13:10:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Mar 2015 13:10:35 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jacob.perkins@cpanel.net designates 208.74.121.68 as permitted sender)
Received: from [208.74.121.68] (HELO mx1.cpanel.net) (208.74.121.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 13 Mar 2015 13:10:31 +0000
Received: from [208.74.121.102] (port=27974 helo=[10.1.4.91])
	by mx1.cpanel.net with esmtpsa (TLSv1:DHE-RSA-AES256-SHA:256)
	(Exim 4.85)
	(envelope-from <jacob.perkins@cpanel.net>)
	id 1YWPKt-00047O-Oe
	for dev@httpd.apache.org; Fri, 13 Mar 2015 08:09:07 -0500
Content-Type: multipart/signed; boundary="Apple-Mail=_201138C3-F630-402F-811E-BF405EF79F5F"; protocol="application/pgp-signature"; micalg=pgp-sha512
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: Apache 2.4 adoption revisited -- now 16.4% of Apache sites
X-Pgp-Agent: GPGMail 2.5b5
From: Jacob Perkins <jacob.perkins@cpanel.net>
In-Reply-To: <014f870dffe2f1eee2109b1475d423de@ausics.net>
Date: Fri, 13 Mar 2015 08:09:07 -0500
Message-Id: <203A5784-6D4D-47A7-9DB3-DA13BA93B79E@cpanel.net>
References: <CALK=YjO-epYxuoG9paTMhL6BdbMU_JtJwPFFPEkw93F_mBwj2A@mail.gmail.com> <014f870dffe2f1eee2109b1475d423de@ausics.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - mx1.cpanel.net
X-AntiAbuse: Original Domain - httpd.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - cpanel.net
X-Get-Message-Sender-Via: mx1.cpanel.net: authenticated_id: jacob.perkins@cpanel.net
X-Virus-Checked: Checked by ClamAV on apache.org


--Apple-Mail=_201138C3-F630-402F-811E-BF405EF79F5F
Content-Type: multipart/alternative;
	boundary="Apple-Mail=_A95DFE6E-DBAE-4140-B1C7-7224728DF3FB"


--Apple-Mail=_A95DFE6E-DBAE-4140-B1C7-7224728DF3FB
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=utf-8

I can tell you at cPanel, we=E2=80=99ve had our default Apache version =
as 2.2 for a long time.  We=E2=80=99ll be making a change to make 2.4 =
the default on new installations soon.  Currently, we have around 90% of =
our clients on 2.2.  By the end of next year, I=E2=80=99m looking to =
have 90% of our customers on 2.4.

This should help adoption rates :)
=E2=80=94
Jacob Perkins
Product Owner
cPanel Inc.

jacob.perkins@cpanel.net <mailto:jacob.perkins@cpanel.net>
Office:  713-529-0800 x 4046
Cell:  713-560-8655

> On Mar 12, 2015, at 5:28 PM, Noel Butler <noel.butler@ausics.net> =
wrote:
>=20
> On 13/03/2015 02:54, Eric Covener wrote:
>=20
>> I stumbled on this link that Bill had shared previously and went back
>> to look at previous snapshots:
>>=20
>> March 2014: 2.0: 4.1%, 2.4: 4.3%
>>=20
>> =
http://web.archive.org/web/20140327151641/http://w3techs.com/technologies/=
details/ws-apache/2/all =
<http://web.archive.org/web/20140327151641/http://w3techs.com/technologies=
/details/ws-apache/2/all>
>>=20
>> Today (March 2015) : 2.0: 2.8%, 2.4: 16.4%
>>=20
>> http://w3techs.com/technologies/details/ws-apache/2/all =
<http://w3techs.com/technologies/details/ws-apache/2/all>
>>=20
>>=20
> Time to think about EOL'ing 2.2 maybe since its 10 years old and 2.4 =
has been current stable best production recommendation for what, about =
3.5 years or so now, that would see adoption rates grow ;)
>=20
>=20


--Apple-Mail=_A95DFE6E-DBAE-4140-B1C7-7224728DF3FB
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html;
	charset=utf-8

<html><head><meta http-equiv=3D"Content-Type" content=3D"text/html =
charset=3Dutf-8"></head><body style=3D"word-wrap: break-word; =
-webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" =
class=3D"">I can tell you at cPanel, we=E2=80=99ve had our default =
Apache version as 2.2 for a long time. &nbsp;We=E2=80=99ll be making a =
change to make 2.4 the default on new installations soon. =
&nbsp;Currently, we have around 90% of our clients on 2.2. &nbsp;By the =
end of next year, I=E2=80=99m looking to have 90% of our customers on =
2.4. &nbsp;<div class=3D""><br class=3D""></div><div class=3D"">This =
should help adoption rates :)<div apple-content-edited=3D"true" =
class=3D""><div style=3D"color: rgb(0, 0, 0); font-family: Helvetica; =
font-size: 12px; font-style: normal; font-variant: normal; font-weight: =
normal; letter-spacing: normal; line-height: normal; text-align: =
-webkit-auto; text-indent: 0px; text-transform: none; white-space: =
normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; orphans: 2; =
widows: 2; word-wrap: break-word; -webkit-nbsp-mode: space; =
-webkit-line-break: after-white-space;" class=3D"">=E2=80=94</div><div =
style=3D"color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; =
font-style: normal; font-variant: normal; font-weight: normal; =
letter-spacing: normal; line-height: normal; text-align: -webkit-auto; =
text-indent: 0px; text-transform: none; white-space: normal; =
word-spacing: 0px; -webkit-text-stroke-width: 0px; orphans: 2; widows: =
2; word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D"">Jacob Perkins<br class=3D""></div><div =
style=3D"color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; =
font-style: normal; font-variant: normal; font-weight: normal; =
letter-spacing: normal; line-height: normal; text-align: -webkit-auto; =
text-indent: 0px; text-transform: none; white-space: normal; =
word-spacing: 0px; -webkit-text-stroke-width: 0px; orphans: 2; widows: =
2; word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D"">Product Owner</div><div style=3D"color: =
rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: =
normal; font-variant: normal; font-weight: normal; letter-spacing: =
normal; line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D""><b class=3D""><font color=3D"#ff7c00" =
class=3D"">cPanel Inc.</font></b></div><div style=3D"color: rgb(0, 0, =
0); font-family: Helvetica; font-size: 12px; font-style: normal; =
font-variant: normal; font-weight: normal; letter-spacing: normal; =
line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D""><br class=3D""></div><div style=3D"color: =
rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: =
normal; font-variant: normal; font-weight: normal; letter-spacing: =
normal; line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D""><a href=3D"mailto:jacob.perkins@cpanel.net"=
 class=3D"">jacob.perkins@cpanel.net</a></div><div style=3D"color: =
rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: =
normal; font-variant: normal; font-weight: normal; letter-spacing: =
normal; line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D"">Office: &nbsp;713-529-0800 =
x&nbsp;4046</div><div style=3D"color: rgb(0, 0, 0); font-family: =
Helvetica; font-size: 12px; font-style: normal; font-variant: normal; =
font-weight: normal; letter-spacing: normal; line-height: normal; =
text-align: -webkit-auto; text-indent: 0px; text-transform: none; =
white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; =
orphans: 2; widows: 2; word-wrap: break-word; -webkit-nbsp-mode: space; =
-webkit-line-break: after-white-space;" class=3D"">Cell: =
&nbsp;713-560-8655</div>
</div>
<br class=3D""><div><blockquote type=3D"cite" class=3D""><div =
class=3D"">On Mar 12, 2015, at 5:28 PM, Noel Butler &lt;<a =
href=3D"mailto:noel.butler@ausics.net" =
class=3D"">noel.butler@ausics.net</a>&gt; wrote:</div><br =
class=3D"Apple-interchange-newline"><div class=3D"">
<div style=3D"font-size: 10pt" class=3D""><p class=3D"">On 13/03/2015 =
02:54, Eric Covener wrote:</p>
<blockquote type=3D"cite" style=3D"padding-left:5px; border-left:#1010ff =
2px solid; margin-left:5px" class=3D""><!-- html ignored --><!-- head =
ignored --><!-- meta ignored -->
<pre class=3D"">I stumbled on this link that Bill had shared previously =
and went back
to look at previous snapshots:

March 2014: 2.0: 4.1%, 2.4: 4.3%

<a =
href=3D"http://web.archive.org/web/20140327151641/http://w3techs.com/techn=
ologies/details/ws-apache/2/all" =
class=3D"">http://web.archive.org/web/20140327151641/http://w3techs.com/te=
chnologies/details/ws-apache/2/all</a>

Today (March 2015) : 2.0: 2.8%, 2.4: 16.4%

<a href=3D"http://w3techs.com/technologies/details/ws-apache/2/all" =
class=3D"">http://w3techs.com/technologies/details/ws-apache/2/all</a>


</pre>
</blockquote><p class=3D"">Time to think about EOL'ing 2.2 maybe since =
its 10 years old and 2.4 has been current stable best production =
recommendation for what, about 3.5 years or so now, that would see =
adoption rates grow ;)</p><div class=3D"">&nbsp;<br =
class=3D"webkit-block-placeholder"></div>
</div>
</div></blockquote></div><br class=3D""></div></body></html>=

--Apple-Mail=_A95DFE6E-DBAE-4140-B1C7-7224728DF3FB--

--Apple-Mail=_201138C3-F630-402F-811E-BF405EF79F5F
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
	filename=signature.asc
Content-Type: application/pgp-signature;
	name=signature.asc
Content-Description: Message signed with OpenPGP using GPGMail

-----BEGIN PGP SIGNATURE-----
Comment: GPGTools - https://gpgtools.org

iQEcBAEBCgAGBQJVAuFzAAoJEIo8JcFLoqwqG9kIAI6E8Udko5LsxmKOMDZRittI
DcnHagCmGo36pOhfwpilde+xfZoPx4rJgkHGIvf2pqvORhfbQHXYsdZ8lcaj1IuH
AEC5xcI1OsRZq0WCunW47UUBbeDabruvK0nHn91DTa40s/7F+t8ekzZ0ZLn2XGRB
4YwTh05QFwuEGPawPLuuHxxE42a9mvXnZ542TsP39YojPuX5ysQSX623BONrrjhZ
zCxuS0WZLTh4vimN1RIBTgWK+gRzEopo6s2O4mnpCFG5zR+UfykB3vYbkPTbu5z+
CvE7b3DNsfRCDkYRG+6D2/S9/+svcBJmpRiNUspinmWC5DuUcEmqLtWRP1bXRNI=
=/kjG
-----END PGP SIGNATURE-----

--Apple-Mail=_201138C3-F630-402F-811E-BF405EF79F5F--

From dev-return-82258-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar 15 07:15:15 2015
Return-Path: <dev-return-82258-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A759D10119
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 15 Mar 2015 07:15:15 +0000 (UTC)
Received: (qmail 26871 invoked by uid 500); 15 Mar 2015 07:15:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 26811 invoked by uid 500); 15 Mar 2015 07:15:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 26802 invoked by uid 99); 15 Mar 2015 07:15:15 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 15 Mar 2015 07:15:15 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id B401E1A00A0
	for <dev@httpd.apache.org>; Sun, 15 Mar 2015 07:15:14 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id F19C26079E; Sun, 15 Mar 2015 07:15:13 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2015/03/15]
Message-Id: <20150315071513.F19C26079E@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 15 Mar 2015 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 7483|Ass|Enh|2002-03-26|Add FileAction directive to assign a cgi interpret|
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|12680|New|Enh|2002-09-16|Digest authentication with integrity protection   |
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|18497|New|Min|2003-03-30|configure --help gives wrong default for sysconfdi|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21253|New|Nor|2003-07-01|Mime magic doesn't continue if type is specifed fo|
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22005|Ver|Nor|2003-07-30|Win32: "Help I'm Stuck!" menu item leads to dead e|
|22138|Inf|Cri|2003-08-05|Webdav is not preccessing special chars right.    |
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Nor|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42001|New|Cri|2007-03-30|LINUX : Could not set LDAP_OPT_X_TLS to LDAP_OPT_X|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Opn|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|httpd fails to start if log directory does not exi|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43532|Inf|Cri|2007-10-02|Error while compiling Apache 2.2.3 on HPUX        |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44736|New|Cri|2008-04-01|mod_proxy_balancer looses it's mind on reloads.   |
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|New|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45926|Inf|Nor|2008-10-01|Unable to start apache 2.2.9                      |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46054|New|Nor|2008-10-21|Running httpd returns the error "bad user name nob|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46421|New|Maj|2008-12-19|module mod_authz_dbd - doesn't work when multiple |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Nor|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46724|Inf|Cri|2009-02-17|WinXP SP3 - Apache crashes on startup in libapr-1.|
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47241|New|Min|2009-05-22|Error in rewriting with character ':'             |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47289|New|Nor|2009-05-30|Can't build with dynamic libraries on Mac OS 10.4 |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|Inf|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48309|New|Maj|2009-11-30|libapreq2-2.12: "make test" fails at request.t and|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50740|New|Enh|2011-02-09|Enable OCSP Stapling by default                   |
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|New|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51336|New|Enh|2011-06-07|need a topic for serving pre-compressed content   |
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51412|New|Nor|2011-06-21|Nasty warning in ftp_cmd_pbsz() -- dangerous, wher|
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels|
|51747|New|Nor|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51842|New|Enh|2011-09-18|Suggesting a new action for the Header directive: |
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51959|Ver|Nor|2011-10-05|Broken link to "Mastering Regular Expressions, by |
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52210|Opn|Enh|2011-11-18|Add TLS Next Protocol Negotiation (NPN) support to|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Enh|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52523|New|Nor|2012-01-25|Headers from mod_expires are wrongly set for redir|
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52756|Inf|Trv|2012-02-24|proxy_html_module LoadModule line not created in h|
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52820|New|Min|2012-03-04|SSLProtocol/SSLProxyProtocol doesn't iterate prope|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52831|New|Nor|2012-03-05|mod_rewrite redirect broken with IPv6 literal addr|
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52845|New|Nor|2012-03-07|"DirectoryIndex disabled" cannot disable index fil|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52855|Opn|Maj|2012-03-08|mod_ftp does not build against 2.4.x              |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53121|New|Nor|2012-04-22|Confusing documentation, gzip and deflate         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53153|New|Nor|2012-04-26|Rewrite documentation unclear or wrong about what |
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53349|New|Nor|2012-06-01|CONTENT_TYPE erroneously seen as empty string for |
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53530|New|Nor|2012-07-10|<Directory> docs don't explain when to use quotes |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54364|New|Nor|2012-12-31|Add ref to mod_fcgid docs                         |
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54587|Opn|Nor|2013-02-19|LDAPConnectionPoolTimeout does not work in all cas|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55089|New|Nor|2013-06-10|Caching of LDAP credentials is not clearly documen|
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55100|New|Nor|2013-06-13|--with-perl referenced but not explained          |
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55123|New|Nor|2013-06-20|Formatting issue in ABOUT_APACHE                  |
|55147|New|Nor|2013-06-26|"Header always" w/ cache different in 2.4         |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55350|New|Maj|2013-08-03|mpm-itk and mod_fcgid do not work together        |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55420|New|Nor|2013-08-14|Integer underflow in lock timeout computation     |
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55449|New|Maj|2013-08-19|AH01185: worker slotmem_create failed --> slotmem |
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55741|New|Min|2013-11-04|Documentation is served with incorrect character e|
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55808|New|Nor|2013-11-21|File integrity verification using MD5 and SHA1    |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|New|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55841|New|Nor|2013-12-04|Misleading news items on bugfix releases ("This ve|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55892|New|Nor|2013-12-16|ProxyRemote with HTTPS backend sends requests with|
|55897|New|Nor|2013-12-17|[PATCH]patch with SO_REUSEPORT support            |
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|Inf|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55990|Inf|Nor|2014-01-12|SetEnv vs. =! inconsistentcy not documented       |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56035|Inf|Nor|2014-01-20|Issue with LimitRequestBody                       |
|56040|Inf|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56214|New|Nor|2014-03-03|Spanish translation of Apache's error pages       |
|56226|New|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56241|New|Min|2014-03-10|SNI sends warning upon name not found, RFC 6066 di|
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56346|New|Nor|2014-04-03|self-signed cert documentation creates a certifica|
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56414|Inf|Nor|2014-04-15|SNI & HTTP hostname different because of user@    |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56687|New|Nor|2014-07-01|ProxySourceAddress failed to bind socket to local |
|56695|New|Nor|2014-07-03|Doc error on option %O for mod_logio              |
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56729|New|Reg|2014-07-16|Can't use HTTP 1.1 Keep-Alive with mod_reqtimeout |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56767|New|Nor|2014-07-24|ap_update_child_status breaks with segmentation fa|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|New|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56823|New|Nor|2014-08-07|returning 200 status when ap_get_brigade failed   |
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56855|New|Enh|2014-08-14|mod_proxy_fcgi: add PassHeader directive          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56872|New|Nor|2014-08-19|Small request bodies bypass DeflateInflateLimitReq|
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56898|New|Nor|2014-08-28|Headers in err_headers_out are not returned when a|
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56922|New|Nor|2014-09-07|FallbackResource doesn't fall back with %2F in URL|
|56925|New|Maj|2014-09-08|ProxyErrorOverride=On causes workers in error stat|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56984|Opn|Cri|2014-09-15|Random and frequent Segmentation fault (11)       |
|56985|New|Nor|2014-09-16|Clarify which IndexOptions require FancyIndexing  |
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57077|Opn|Nor|2014-10-11|flood svn link does not work                      |
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57109|New|Nor|2014-10-17|GPG verification examples are wrong               |
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57120|New|Nor|2014-10-21|Disable SSLv3 by default (POODLE)                 |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57139|New|Nor|2014-10-24|mod_proxy uses wrong Host header when using an HTT|
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57177|New|Nor|2014-11-03|terminated by signal ILL in server/scoreboard.c li|
|57189|New|Enh|2014-11-05|Norwegian translation of Apache's error pages     |
|57207|New|Nor|2014-11-13|[mod_ssl] Add a way to retrieve email in alternati|
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|New|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57358|New|Nor|2014-12-17|Incorrect If-Match handling                       |
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57375|New|Enh|2014-12-19|Support LibreSSL as an alternative toolkit for mod|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Nor|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57524|New|Nor|2015-02-02|Opcode and other fields calculated wrong in mod_lu|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57531|New|Nor|2015-02-03|2.4.12 segmentation fault when accessing host on L|
|57584|New|Nor|2015-02-13|AddHandler etc. documentation "extension" unintuit|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57600|New|Nor|2015-02-18|Presence of SSLCACertificateFile/Path causes root |
|57615|Inf|Nor|2015-02-21|HTTPS CONNECT target hostname incorrectly validate|
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57694|New|Nor|2015-03-12|Crash using SSL certificate with pathlen constrain|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
+-----+---+---+----------+--------------------------------------------------+
| Total 1493 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-82259-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 17 11:40:08 2015
Return-Path: <dev-return-82259-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2E75210EA6
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 17 Mar 2015 11:40:08 +0000 (UTC)
Received: (qmail 70361 invoked by uid 500); 17 Mar 2015 11:40:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70298 invoked by uid 500); 17 Mar 2015 11:40:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 70288 invoked by uid 99); 17 Mar 2015 11:40:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Mar 2015 11:40:07 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jkaluza@redhat.com designates 209.132.183.28 as permitted sender)
Received: from [209.132.183.28] (HELO mx1.redhat.com) (209.132.183.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Mar 2015 11:40:02 +0000
Received: from int-mx14.intmail.prod.int.phx2.redhat.com (int-mx14.intmail.prod.int.phx2.redhat.com [10.5.11.27])
	by mx1.redhat.com (8.14.4/8.14.4) with ESMTP id t2HBceN6030092
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Tue, 17 Mar 2015 07:38:40 -0400
Received: from dhcp-24-191.brq.redhat.com ([10.40.204.65])
	by int-mx14.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t2HBcdAO027246
	for <dev@httpd.apache.org>; Tue, 17 Mar 2015 07:38:39 -0400
Message-ID: <5508123E.8090509@redhat.com>
Date: Tue, 17 Mar 2015 12:38:38 +0100
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.4.0
MIME-Version: 1.0
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Subject: mod_proxy_wstunnel ignores proxy_wstunnel_transfer errors
Content-Type: multipart/mixed;
 boundary="------------040601030906010609030000"
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.27
X-Virus-Checked: Checked by ClamAV on apache.org

This is a multi-part message in MIME format.
--------------040601030906010609030000
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi,

I have found out that when WSS is used and SSL handshake fails, httpd 
closes client connection without any response to the client.

In the log, one can see following:

mod_proxy_wstunnel.c(131): (103)Software caused connection abort: 
[client 127.0.0.1:49915] AH02442: error on sock - ap_get_brigade

Attached patch against 2.4.x fixes it. I'm not committing it, because 
this problem has been introduced in r1493741 and seems like intentional 
thing. This commit has been reverted in r1605946, so my theory is that 
this particular part of mod_proxy_wstunnel has not been reverted 
completely, but I want to be sure before I commit/propose.

Regards,
Jan Kaluza

--------------040601030906010609030000
Content-Type: text/x-patch;
 name="httpd-2.4.x-wss-error.patch"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
 filename="httpd-2.4.x-wss-error.patch"

Index: modules/proxy/mod_proxy_wstunnel.c
===================================================================
--- modules/proxy/mod_proxy_wstunnel.c	(revision 1665797)
+++ modules/proxy/mod_proxy_wstunnel.c	(working copy)
@@ -160,6 +160,7 @@
     conn_rec *c = r->connection;
     apr_socket_t *sock = conn->sock;
     conn_rec *backconn = conn->connection;
+    int client_error = 0;
     char *buf;
     apr_bucket_brigade *header_brigade;
     apr_bucket *e;
@@ -257,6 +258,9 @@
                     ap_log_rerror(APLOG_MARK, APLOG_NOTICE, 0, r, APLOGNO(02605)
                             "unknown event on backconn %d", pollevent);
                 }
+                if (rv != APR_SUCCESS) {
+                    client_error = 1;
+                }
             }
             else if (cur->desc.s == client_socket) {
                 pollevent = cur->rtnevents;
@@ -292,6 +296,10 @@
     ap_log_rerror(APLOG_MARK, APLOG_TRACE2, 0, r,
                   "finished with poll() - cleaning up");
 
+    if (client_error) {
+        return HTTP_INTERNAL_SERVER_ERROR;
+    }
+
     return OK;
 }
 

--------------040601030906010609030000--

From dev-return-82260-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 17 12:24:17 2015
Return-Path: <dev-return-82260-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C9D4E172C6
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 17 Mar 2015 12:24:17 +0000 (UTC)
Received: (qmail 45515 invoked by uid 500); 17 Mar 2015 12:24:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 45453 invoked by uid 500); 17 Mar 2015 12:24:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 45442 invoked by uid 99); 17 Mar 2015 12:24:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Mar 2015 12:24:11 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.182 as permitted sender)
Received: from [209.85.213.182] (HELO mail-ig0-f182.google.com) (209.85.213.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Mar 2015 12:24:05 +0000
Received: by igbue6 with SMTP id ue6so68971577igb.1
        for <dev@httpd.apache.org>; Tue, 17 Mar 2015 05:23:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=APvVVuVzy2ZP2sfuQn6SBYl3g+4Ur8BKikW9EqrrmHo=;
        b=lN4FRuovQ5ESmo1EvI/6jOsLLQ4roJT1+qSfDSiL+HSUF2JHo9uCR98UHnOxxVbdXH
         1NOLDXg8Va92mu/2961OFqni3qqXVsobfXdr/N06NPCCueCBp3V5R2zgD6fPz5tpnqnz
         uVmCHFg40dxBwLivFEnxPAd/dYaFFZBYDuko8zkpdHYTk7kJF/+r1xq+6QSm+W2+t9ui
         TMkX3D8dQEG6twWt9DdUIxN99cuxXCb6hEQO3EEGTBu4TOX3mCePX2UnI54NYe8lRuJt
         jOyu1z0v6SA8inlEHxnOZX4862xCSzXdK/dbg+7E5VKgdkR4X7TjBaqyt6gpVXHiHoKI
         pm2w==
MIME-Version: 1.0
X-Received: by 10.50.82.68 with SMTP id g4mr144431470igy.26.1426595024935;
 Tue, 17 Mar 2015 05:23:44 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Tue, 17 Mar 2015 05:23:44 -0700 (PDT)
In-Reply-To: <5508123E.8090509@redhat.com>
References: <5508123E.8090509@redhat.com>
Date: Tue, 17 Mar 2015 13:23:44 +0100
Message-ID: <CAKQ1sVMGCaXZBZUs3ObSRQjrR2GZtemejph56Xxkvvb0Drj=bQ@mail.gmail.com>
Subject: Re: mod_proxy_wstunnel ignores proxy_wstunnel_transfer errors
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Mar 17, 2015 at 12:38 PM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrot=
e:
> Hi,
>
> I have found out that when WSS is used and SSL handshake fails, httpd clo=
ses
> client connection without any response to the client.

If the SSL handshake fails, there is no SSL established connection
which we can send an HTTP response on.
We can only send an SSL alert in this case, and I think mod_ssl takes
care of this already (this occurs while reading the request header,
before mod_proxy_wstunnel IMHO).

>
> In the log, one can see following:
>
> mod_proxy_wstunnel.c(131): (103)Software caused connection abort: [client
> 127.0.0.1:49915] AH02442: error on sock - ap_get_brigade
>
> Attached patch against 2.4.x fixes it. I'm not committing it, because thi=
s
> problem has been introduced in r1493741 and seems like intentional thing.
> This commit has been reverted in r1605946, so my theory is that this
> particular part of mod_proxy_wstunnel has not been reverted completely, b=
ut
> I want to be sure before I commit/propose.

One the Upgrade is done, I don't think we can respond with 500 (in the
poll()ing phase, this is no more HTTP).
AFAICT r1605946 did nor revert r1493741, and I think this rather comes
for https://bz.apache.org/bugzilla/show_bug.cgi?id=3D56299#c7.

Regards,
Yann.

From dev-return-82261-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 17 12:47:39 2015
Return-Path: <dev-return-82261-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 67F5E173DA
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 17 Mar 2015 12:47:39 +0000 (UTC)
Received: (qmail 94935 invoked by uid 500); 17 Mar 2015 12:47:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94876 invoked by uid 500); 17 Mar 2015 12:47:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94866 invoked by uid 99); 17 Mar 2015 12:47:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Mar 2015 12:47:38 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jkaluza@redhat.com designates 209.132.183.28 as permitted sender)
Received: from [209.132.183.28] (HELO mx1.redhat.com) (209.132.183.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Mar 2015 12:47:32 +0000
Received: from int-mx10.intmail.prod.int.phx2.redhat.com (int-mx10.intmail.prod.int.phx2.redhat.com [10.5.11.23])
	by mx1.redhat.com (8.14.4/8.14.4) with ESMTP id t2HClBY0024974
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Tue, 17 Mar 2015 08:47:11 -0400
Received: from dhcp-24-191.brq.redhat.com ([10.40.204.65])
	by int-mx10.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t2HClAdW016629
	for <dev@httpd.apache.org>; Tue, 17 Mar 2015 08:47:10 -0400
Message-ID: <5508224D.20705@redhat.com>
Date: Tue, 17 Mar 2015 13:47:09 +0100
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.4.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: mod_proxy_wstunnel ignores proxy_wstunnel_transfer errors
References: <5508123E.8090509@redhat.com> <CAKQ1sVMGCaXZBZUs3ObSRQjrR2GZtemejph56Xxkvvb0Drj=bQ@mail.gmail.com>
In-Reply-To: <CAKQ1sVMGCaXZBZUs3ObSRQjrR2GZtemejph56Xxkvvb0Drj=bQ@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.23
X-Virus-Checked: Checked by ClamAV on apache.org

On 03/17/2015 01:23 PM, Yann Ylavic wrote:
> On Tue, Mar 17, 2015 at 12:38 PM, Jan Kalua <jkaluza@redhat.com> wrote:
>> Hi,
>>
>> I have found out that when WSS is used and SSL handshake fails, httpd closes
>> client connection without any response to the client.
>
> If the SSL handshake fails, there is no SSL established connection
> which we can send an HTTP response on.
> We can only send an SSL alert in this case, and I think mod_ssl takes
> care of this already (this occurs while reading the request header,
> before mod_proxy_wstunnel IMHO).

Hm, maybe I described it wrongly. What I see here is "Empty response 
from server" when I do following:

1. Use this configuration:

ProxyTimeout 2
SSLProxyEngine on
<Location /test/>
     ProxyPass https://localhost:8080/
     ProxyPassReverse https://localhost:8080/
     ProxyPass wss://localhost:8080/
     ProxyPassReverse wss://localhost:8080/
</Location>


2. nc -l 8080 < /dev/null

3. curl -v --insecure https://127.0.0.1/test/
(...)
 > GET /test/ HTTP/1.1
 > User-Agent: curl/7.29.0
 > Host: 127.0.0.1
 > Accept: */*
 >
* Empty reply from server
* Connection #0 to host 127.0.0.1 left intact
curl: (52) Empty reply from server

With httpd-2.4.6 I see an error response in this case and I think it 
really should do return something.

Regards,
Jan Kaluza

>>
>> In the log, one can see following:
>>
>> mod_proxy_wstunnel.c(131): (103)Software caused connection abort: [client
>> 127.0.0.1:49915] AH02442: error on sock - ap_get_brigade
>>
>> Attached patch against 2.4.x fixes it. I'm not committing it, because this
>> problem has been introduced in r1493741 and seems like intentional thing.
>> This commit has been reverted in r1605946, so my theory is that this
>> particular part of mod_proxy_wstunnel has not been reverted completely, but
>> I want to be sure before I commit/propose.
>
> One the Upgrade is done, I don't think we can respond with 500 (in the
> poll()ing phase, this is no more HTTP).
> AFAICT r1605946 did nor revert r1493741, and I think this rather comes
> for https://bz.apache.org/bugzilla/show_bug.cgi?id=56299#c7.
>
> Regards,
> Yann.
>


From dev-return-82262-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 17 13:07:49 2015
Return-Path: <dev-return-82262-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 030391749B
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 17 Mar 2015 13:07:49 +0000 (UTC)
Received: (qmail 48629 invoked by uid 500); 17 Mar 2015 13:07:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48545 invoked by uid 500); 17 Mar 2015 13:07:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48529 invoked by uid 99); 17 Mar 2015 13:07:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Mar 2015 13:07:48 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-ig0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Mar 2015 13:07:22 +0000
Received: by igcqo1 with SMTP id qo1so10606513igc.0
        for <dev@httpd.apache.org>; Tue, 17 Mar 2015 06:06:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=EFcl/sdRuYmTT1Ps3VXP6lcY9N1G2HDF6cfS3b6xcpY=;
        b=cQwnb8cZUwzVrZ5D7OOf0g+Hws9qIo6XVFvFESuP6FQ6tdj6QyOjvof88eExXkWbAj
         MN9mMrL6mDxKgRoP8SrCPSyrniPt8E0pJLDy30f0guNjfoLFpSZjeGh+pJFnFL/siRqh
         MIJvsT4aUqK7qDpxwDT37QYL7lyEUpbd80M4AscFVYCnEer9rJ5LCsATzlQ+rYmY5pSL
         FCvzmtnQeb34uuFoNK7JPqUs+dPWLdTecun45v9knMWtevHLm8SNXuA1Zdy/hCMDZeLz
         bxUSLxvqOdqphnLr4+M7/CbwDAXKULv30SMv3MdWSKiSw5vmp2yzk16dmIJs6R2xWSl5
         gTCg==
MIME-Version: 1.0
X-Received: by 10.50.114.38 with SMTP id jd6mr22904409igb.0.1426597596030;
 Tue, 17 Mar 2015 06:06:36 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Tue, 17 Mar 2015 06:06:35 -0700 (PDT)
In-Reply-To: <5508224D.20705@redhat.com>
References: <5508123E.8090509@redhat.com>
	<CAKQ1sVMGCaXZBZUs3ObSRQjrR2GZtemejph56Xxkvvb0Drj=bQ@mail.gmail.com>
	<5508224D.20705@redhat.com>
Date: Tue, 17 Mar 2015 14:06:35 +0100
Message-ID: <CAKQ1sVOAWq5xvAmooN+AZy_c_0gk53Wya70ouzrPmfgUcWJS2w@mail.gmail.com>
Subject: Re: mod_proxy_wstunnel ignores proxy_wstunnel_transfer errors
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Mar 17, 2015 at 1:47 PM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrote=
:
> On 03/17/2015 01:23 PM, Yann Ylavic wrote:
>>
>> On Tue, Mar 17, 2015 at 12:38 PM, Jan Kalu=C5=BEa <jkaluza@redhat.com> w=
rote:
>>>
>>> Hi,
>>>
>>> I have found out that when WSS is used and SSL handshake fails, httpd
>>> closes
>>> client connection without any response to the client.
>>
>>
>> If the SSL handshake fails, there is no SSL established connection
>> which we can send an HTTP response on.
>> We can only send an SSL alert in this case, and I think mod_ssl takes
>> care of this already (this occurs while reading the request header,
>> before mod_proxy_wstunnel IMHO).
>
>
> Hm, maybe I described it wrongly. What I see here is "Empty response from
> server"

Sorry, you were obviously talking about SSL handshake with the backend...

> when I do following:
>
> 1. Use this configuration:
>
> ProxyTimeout 2
> SSLProxyEngine on
> <Location /test/>
>     ProxyPass https://localhost:8080/
>     ProxyPassReverse https://localhost:8080/
>     ProxyPass wss://localhost:8080/
>     ProxyPassReverse wss://localhost:8080/
> </Location>
>
>
> 2. nc -l 8080 < /dev/null
>
> 3. curl -v --insecure https://127.0.0.1/test/
> (...)
>> GET /test/ HTTP/1.1
>> User-Agent: curl/7.29.0
>> Host: 127.0.0.1
>> Accept: */*
>>
> * Empty reply from server
> * Connection #0 to host 127.0.0.1 left intact
> curl: (52) Empty reply from server
>
> With httpd-2.4.6 I see an error response in this case and I think it real=
ly
> should do return something.

I see now, the handshake failure indeed occurs in the poll()ing loop
when the first packets are read/send from/to the backend.
But still once the connection is Upgrade-d, it is quite application
specific whether or not an HTTP response should be sent to the client,
and when (only if nothing has been sent already, anytime?). IOW, what
would the backend do if it fails after the Upgrade has been
negociated?

Regards,
Yann.

From dev-return-82263-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 17 13:11:05 2015
Return-Path: <dev-return-82263-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D96F8174BC
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 17 Mar 2015 13:11:05 +0000 (UTC)
Received: (qmail 52802 invoked by uid 500); 17 Mar 2015 13:11:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 52723 invoked by uid 500); 17 Mar 2015 13:11:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 52713 invoked by uid 99); 17 Mar 2015 13:11:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Mar 2015 13:11:05 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of covener@gmail.com designates 209.85.212.177 as permitted sender)
Received: from [209.85.212.177] (HELO mail-wi0-f177.google.com) (209.85.212.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Mar 2015 13:10:39 +0000
Received: by wifj2 with SMTP id j2so10565696wif.1
        for <dev@httpd.apache.org>; Tue, 17 Mar 2015 06:10:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=pV93CLSpxi0qANKVqa2fN04/dhC7FC2m1SEh1WIjCC8=;
        b=D/8b9mYlnDm7HabPh8SXMXV6WMecp4Ws8KEpVX1ZPJx1/sbjTWlcYwuj7G9mTMolDl
         GdiElIBYx7bjQYvpWdDv/FABV31gGc8ZF3VkFYzQmxN1HgjT6nXaWEQGnwK1HfuP3cKT
         6U1+ZynfHHJlHdzNkztiZWeYRRdhNipuhBZIaLMTyRMzHb84YRl4olqkWbwoNsuIPwR/
         QChcnJbO/o46DaUKx7h1V6cQj78AgLLyjWnePtthGe44YieezEMj5F0dWFuftAFXTn9x
         D/VYTnREdp1cWcCEIb6ZG+OUSQza4W0KMjKOGw/Zot6sVY9E79I2Rr9olrmxxF+rXVQ7
         iu9w==
MIME-Version: 1.0
X-Received: by 10.180.92.136 with SMTP id cm8mr69800946wib.41.1426597838551;
 Tue, 17 Mar 2015 06:10:38 -0700 (PDT)
Received: by 10.27.86.165 with HTTP; Tue, 17 Mar 2015 06:10:38 -0700 (PDT)
In-Reply-To: <CAKQ1sVOAWq5xvAmooN+AZy_c_0gk53Wya70ouzrPmfgUcWJS2w@mail.gmail.com>
References: <5508123E.8090509@redhat.com>
	<CAKQ1sVMGCaXZBZUs3ObSRQjrR2GZtemejph56Xxkvvb0Drj=bQ@mail.gmail.com>
	<5508224D.20705@redhat.com>
	<CAKQ1sVOAWq5xvAmooN+AZy_c_0gk53Wya70ouzrPmfgUcWJS2w@mail.gmail.com>
Date: Tue, 17 Mar 2015 09:10:38 -0400
Message-ID: <CALK=YjNLNZCD3P3sYn_M2ayVhx92tQqb-Kh-=acnjaS9T28mZw@mail.gmail.com>
Subject: Re: mod_proxy_wstunnel ignores proxy_wstunnel_transfer errors
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Mar 17, 2015 at 9:06 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>> GET /test/ HTTP/1.1
>>> User-Agent: curl/7.29.0
>>> Host: 127.0.0.1
>>> Accept: */*
>>>

No Upgrade header in this test?

From dev-return-82264-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 17 16:00:23 2015
Return-Path: <dev-return-82264-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5475E17DA4
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 17 Mar 2015 16:00:23 +0000 (UTC)
Received: (qmail 65799 invoked by uid 500); 17 Mar 2015 16:00:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65733 invoked by uid 500); 17 Mar 2015 16:00:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65723 invoked by uid 99); 17 Mar 2015 16:00:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Mar 2015 16:00:22 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of stefan.eissing@greenbytes.de designates 217.91.35.233 as permitted sender)
Received: from [217.91.35.233] (HELO mail.greenbytes.de) (217.91.35.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Mar 2015 16:00:17 +0000
Received: from delight.greenbytes.de (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 4C83215A0249
	for <dev@httpd.apache.org>; Tue, 17 Mar 2015 16:59:25 +0100 (CET)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Subject: buckets across threads - question
Message-Id: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de>
Date: Tue, 17 Mar 2015 16:59:43 +0100
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I have a question regarding my http2 module implementation, where I seem =
to fail to wrap my head around the limitations of pools and bucket =
brigades in a multi-threaded environment. As I understand it, httpd has =
- so far - the underlying assumption:

 1 connection -> 1 request -> 1 thread

at a single point in time. This used to be quite static, as in =
mpm_worker, and was made more dynamic with mpm_event, which may switch =
the thread around. However even though entities might be exchanged, it =
is always 1-1-1 at a single point in time.

Now, as most of you are aware, with the HTTP/2 processing model, this =
holds no longer true. The relation there is 1-m-m* and, worse, the =
connection is multiplexing requests, so there are many active at the =
same time and their data will be interleaved. The request/thread =
coupling can stay as it is, but the connection relation is different.

I today have a working implementation and it has major drawbacks (among =
all the bugs I need to find):

1. it mimicks httpd objects that are not really there, e.g. =
pseudo-connections, so that there seems to be a 1-1 with connections and =
requests again (just as mod_spdy does). Therefore it needs to fake =
HTTP/1.1 requests, so that core filter can parse them, etc.

2. beautiful apr infrastructure like bucket brigades are not used when =
data needs to be passed between threads.

I have made an attempt today to make bucket brigades work for passing =
data between threads, but things keep crashing on me when load grows. =
Which is all my fault for not understanding these things fully. So, am I =
on a fool's errand? Can I have brigade A in thread 1 and brigade B in =
thread 2 and pass buckets between them without excessive copying? I =
think I am doing it wrong and the cleanups of the allocators run in the =
wrong thread in the end which is not healthy.

As for the request processing, I saw that there is a =
ap_process_request(r) to be had. Is it worthwhile to see if that can be =
called directly without ap_read_request() creating it. That would =
eliminated at least the request->HTTP/1 serialization...

Any ideas or hints appreciated.


//Stefan


<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82265-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 17 22:52:54 2015
Return-Path: <dev-return-82265-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E36FB10832
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 17 Mar 2015 22:52:54 +0000 (UTC)
Received: (qmail 59461 invoked by uid 500); 17 Mar 2015 22:52:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59403 invoked by uid 500); 17 Mar 2015 22:52:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59393 invoked by uid 99); 17 Mar 2015 22:52:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Mar 2015 22:52:54 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of minfrin@sharp.fm designates 80.168.143.5 as permitted sender)
Received: from [80.168.143.5] (HELO monica.sharp.fm) (80.168.143.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 17 Mar 2015 22:52:49 +0000
Received: from [192.168.88.189] (unknown [192.168.88.189])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 78E7A80C3A
	for <dev@httpd.apache.org>; Tue, 17 Mar 2015 22:52:28 +0000 (GMT)
From: Graham Leggett <minfrin@sharp.fm>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: buckets across threads - question
Message-Id: <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm>
Date: Tue, 17 Mar 2015 22:52:27 +0000
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de>
In-Reply-To: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
X-Mailer: iPhone Mail (12D508)
X-Virus-Checked: Checked by ClamAV on apache.org

On 17 Mar 2015, at 15:59, Stefan Eissing <stefan.eissing@greenbytes.de> wrot=
e:

>=20
> Hi,
>=20
> I have a question regarding my http2 module implementation, where I seem t=
o fail to wrap my head around the limitations of pools and bucket brigades i=
n a multi-threaded environment. As I understand it, httpd has - so far - the=
 underlying assumption:
>=20
> 1 connection -> 1 request -> 1 thread
>=20
> at a single point in time. This used to be quite static, as in mpm_worker,=
 and was made more dynamic with mpm_event, which may switch the thread aroun=
d. However even though entities might be exchanged, it is always 1-1-1 at a s=
ingle point in time.
>=20
> Now, as most of you are aware, with the HTTP/2 processing model, this hold=
s no longer true. The relation there is 1-m-m* and, worse, the connection is=
 multiplexing requests, so there are many active at the same time and their d=
ata will be interleaved. The request/thread coupling can stay as it is, but t=
he connection relation is different.
>=20
> I today have a working implementation and it has major drawbacks (among al=
l the bugs I need to find):
>=20
> 1. it mimicks httpd objects that are not really there, e.g. pseudo-connect=
ions, so that there seems to be a 1-1 with connections and requests again (j=
ust as mod_spdy does). Therefore it needs to fake HTTP/1.1 requests, so that=
 core filter can parse them, etc.
>=20
> 2. beautiful apr infrastructure like bucket brigades are not used when dat=
a needs to be passed between threads.
>=20

> I have made an attempt today to make bucket brigades work for passing data=
 between threads, but things keep crashing on me when load grows. Which is a=
ll my fault for not understanding these things fully. So, am I on a fool's e=
rrand? Can I have brigade A in thread 1 and brigade B in thread 2 and pass b=
uckets between them without excessive copying? I think I am doing it wrong a=
nd the cleanups of the allocators run in the wrong thread in the end which i=
s not healthy.

One place where you can get a concrete example of data in one pool lifetime b=
eing transferred across to another is in mod_proxy - the backend connection c=
omes out of a pool, and may live longer or shorter than the request going ou=
t the front.

Getting this right is tricky, you need to be particular about the pool lifet=
imes.

Pools create a hierarchy, that is the key. If you have requests subordinate t=
o a connection, ie when the connection dies the requests die, let the reques=
t be a subpool of the connection.

You may have many independent requests linked to the same connection, just m=
ake sure the requests don't leak into each other.

Regards,
Graham
--


From dev-return-82266-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 18 07:05:40 2015
Return-Path: <dev-return-82266-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6CF6B17AAC
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 18 Mar 2015 07:05:40 +0000 (UTC)
Received: (qmail 18224 invoked by uid 500); 18 Mar 2015 07:05:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18165 invoked by uid 500); 18 Mar 2015 07:05:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18153 invoked by uid 99); 18 Mar 2015 07:05:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Mar 2015 07:05:39 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jkaluza@redhat.com designates 209.132.183.28 as permitted sender)
Received: from [209.132.183.28] (HELO mx1.redhat.com) (209.132.183.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Mar 2015 07:05:14 +0000
Received: from int-mx13.intmail.prod.int.phx2.redhat.com (int-mx13.intmail.prod.int.phx2.redhat.com [10.5.11.26])
	by mx1.redhat.com (8.14.4/8.14.4) with ESMTP id t2I73AA5002603
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Wed, 18 Mar 2015 03:03:10 -0400
Received: from dhcp-24-191.brq.redhat.com ([10.40.204.28])
	by int-mx13.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t2I739g5026880
	for <dev@httpd.apache.org>; Wed, 18 Mar 2015 03:03:10 -0400
Message-ID: <5509232C.5080306@redhat.com>
Date: Wed, 18 Mar 2015 08:03:08 +0100
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.4.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: mod_proxy_wstunnel ignores proxy_wstunnel_transfer errors
References: <5508123E.8090509@redhat.com>	<CAKQ1sVMGCaXZBZUs3ObSRQjrR2GZtemejph56Xxkvvb0Drj=bQ@mail.gmail.com>	<5508224D.20705@redhat.com>	<CAKQ1sVOAWq5xvAmooN+AZy_c_0gk53Wya70ouzrPmfgUcWJS2w@mail.gmail.com> <CALK=YjNLNZCD3P3sYn_M2ayVhx92tQqb-Kh-=acnjaS9T28mZw@mail.gmail.com>
In-Reply-To: <CALK=YjNLNZCD3P3sYn_M2ayVhx92tQqb-Kh-=acnjaS9T28mZw@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.26
X-Virus-Checked: Checked by ClamAV on apache.org

On 03/17/2015 02:10 PM, Eric Covener wrote:
> On Tue, Mar 17, 2015 at 9:06 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>>> GET /test/ HTTP/1.1
>>>> User-Agent: curl/7.29.0
>>>> Host: 127.0.0.1
>>>> Accept: */*
>>>>
>
> No Upgrade header in this test?

Right, no Upgrade header. That's the particular situation where one of 
our httpd tests fail. I've already tried even with Upgrade header and it 
returns empty response in this case too.



From dev-return-82267-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 18 07:07:51 2015
Return-Path: <dev-return-82267-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2993417AB7
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 18 Mar 2015 07:07:51 +0000 (UTC)
Received: (qmail 24320 invoked by uid 500); 18 Mar 2015 07:07:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 24249 invoked by uid 500); 18 Mar 2015 07:07:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 24239 invoked by uid 99); 18 Mar 2015 07:07:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Mar 2015 07:07:50 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jkaluza@redhat.com designates 209.132.183.28 as permitted sender)
Received: from [209.132.183.28] (HELO mx1.redhat.com) (209.132.183.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Mar 2015 07:07:24 +0000
Received: from int-mx14.intmail.prod.int.phx2.redhat.com (int-mx14.intmail.prod.int.phx2.redhat.com [10.5.11.27])
	by mx1.redhat.com (Postfix) with ESMTPS id 8D492A0B5C
	for <dev@httpd.apache.org>; Wed, 18 Mar 2015 07:07:22 +0000 (UTC)
Received: from dhcp-24-191.brq.redhat.com ([10.40.204.28])
	by int-mx14.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t2I77LGj002000
	for <dev@httpd.apache.org>; Wed, 18 Mar 2015 03:07:22 -0400
Message-ID: <55092428.1090002@redhat.com>
Date: Wed, 18 Mar 2015 08:07:20 +0100
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.4.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: mod_proxy_wstunnel ignores proxy_wstunnel_transfer errors
References: <5508123E.8090509@redhat.com>	<CAKQ1sVMGCaXZBZUs3ObSRQjrR2GZtemejph56Xxkvvb0Drj=bQ@mail.gmail.com>	<5508224D.20705@redhat.com> <CAKQ1sVOAWq5xvAmooN+AZy_c_0gk53Wya70ouzrPmfgUcWJS2w@mail.gmail.com>
In-Reply-To: <CAKQ1sVOAWq5xvAmooN+AZy_c_0gk53Wya70ouzrPmfgUcWJS2w@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.27
X-Virus-Checked: Checked by ClamAV on apache.org

On 03/17/2015 02:06 PM, Yann Ylavic wrote:
> On Tue, Mar 17, 2015 at 1:47 PM, Jan Kalua <jkaluza@redhat.com> wrote:
>> On 03/17/2015 01:23 PM, Yann Ylavic wrote:
>>>
>>> On Tue, Mar 17, 2015 at 12:38 PM, Jan Kalua <jkaluza@redhat.com> wrote:
>>>>
>>>> Hi,
>>>>
>>>> I have found out that when WSS is used and SSL handshake fails, httpd
>>>> closes
>>>> client connection without any response to the client.
>>>
>>>
>>> If the SSL handshake fails, there is no SSL established connection
>>> which we can send an HTTP response on.
>>> We can only send an SSL alert in this case, and I think mod_ssl takes
>>> care of this already (this occurs while reading the request header,
>>> before mod_proxy_wstunnel IMHO).
>>
>>
>> Hm, maybe I described it wrongly. What I see here is "Empty response from
>> server"
>
> Sorry, you were obviously talking about SSL handshake with the backend...
>
>> when I do following:
>>
>> 1. Use this configuration:
>>
>> ProxyTimeout 2
>> SSLProxyEngine on
>> <Location /test/>
>>      ProxyPass https://localhost:8080/
>>      ProxyPassReverse https://localhost:8080/
>>      ProxyPass wss://localhost:8080/
>>      ProxyPassReverse wss://localhost:8080/
>> </Location>
>>
>>
>> 2. nc -l 8080 < /dev/null
>>
>> 3. curl -v --insecure https://127.0.0.1/test/
>> (...)
>>> GET /test/ HTTP/1.1
>>> User-Agent: curl/7.29.0
>>> Host: 127.0.0.1
>>> Accept: */*
>>>
>> * Empty reply from server
>> * Connection #0 to host 127.0.0.1 left intact
>> curl: (52) Empty reply from server
>>
>> With httpd-2.4.6 I see an error response in this case and I think it really
>> should do return something.
>
> I see now, the handshake failure indeed occurs in the poll()ing loop
> when the first packets are read/send from/to the backend.
> But still once the connection is Upgrade-d, it is quite application
> specific whether or not an HTTP response should be sent to the client,
> and when (only if nothing has been sent already, anytime?). IOW, what
> would the backend do if it fails after the Upgrade has been
> negociated?

I have no big knowledge of WebSockets, but it should be possible to 
detect Switching Protocol header and return HTTP error if some error 
happens before we switch to WebSocket.

Would this be acceptable, or you think this empty reply is not worth 
fixing this way?

> Regards,
> Yann.
>

Regards,
Jan Kaluza


From dev-return-82268-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 18 08:24:08 2015
Return-Path: <dev-return-82268-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BE07517C79
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 18 Mar 2015 08:24:08 +0000 (UTC)
Received: (qmail 61222 invoked by uid 500); 18 Mar 2015 08:24:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 61154 invoked by uid 500); 18 Mar 2015 08:24:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 61142 invoked by uid 99); 18 Mar 2015 08:24:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Mar 2015 08:24:08 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.171 as permitted sender)
Received: from [209.85.213.171] (HELO mail-ig0-f171.google.com) (209.85.213.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Mar 2015 08:24:02 +0000
Received: by igcqo1 with SMTP id qo1so36906521igc.0
        for <dev@httpd.apache.org>; Wed, 18 Mar 2015 01:23:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=pXAsG6qbNHaHGsXE5VRMMSrc7B16t4shrLKHMJDgCm8=;
        b=wnl/lm4MEIoMbixinIxhR8IF/dynEObn5xG+RHSa1VCvtZ8H5nK/BD2D0gdDTrUS0a
         BiimuUn6Omg6UmLpjIak9fEXcfmoiKcF0Og66hpqXxYIR11i0suFp9UnmtTR17ijVK+j
         Eb477smZumba39zuPOnS7LIN8sakxGvpjJxI0WSeXQMoQXK0zDml+u3s8WH/tvixbXZI
         h9zYvWYMGj0bj19qZk1A7snu3OE3u6tjGkJXMDIke8zt+Y7uZn6SVbUPGP3rr5RmBUnz
         orFBxMvabVQmU/BlXLkj3iqT1Kq85HkC6t6CwKhV+TjDdaraWB+2CumLbCKz7yYWgyld
         CR7g==
MIME-Version: 1.0
X-Received: by 10.42.250.9 with SMTP id mm9mr26895609icb.56.1426667022544;
 Wed, 18 Mar 2015 01:23:42 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Wed, 18 Mar 2015 01:23:42 -0700 (PDT)
In-Reply-To: <55092428.1090002@redhat.com>
References: <5508123E.8090509@redhat.com>
	<CAKQ1sVMGCaXZBZUs3ObSRQjrR2GZtemejph56Xxkvvb0Drj=bQ@mail.gmail.com>
	<5508224D.20705@redhat.com>
	<CAKQ1sVOAWq5xvAmooN+AZy_c_0gk53Wya70ouzrPmfgUcWJS2w@mail.gmail.com>
	<55092428.1090002@redhat.com>
Date: Wed, 18 Mar 2015 09:23:42 +0100
Message-ID: <CAKQ1sVOeKfg4jZc+2dNNUeb-pOL0VUnGz1UVyhBuN2AHGiaVig@mail.gmail.com>
Subject: Re: mod_proxy_wstunnel ignores proxy_wstunnel_transfer errors
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Mar 18, 2015 at 8:07 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrote=
:
>
> I have no big knowledge of WebSockets, but it should be possible to detec=
t
> Switching Protocol header and return HTTP error if some error happens bef=
ore
> we switch to WebSocket.
>
> Would this be acceptable, or you think this empty reply is not worth fixi=
ng
> this way?

The problem is that at this point (poll() loop), "101 Switching
Protocol" is already sent to the backend, and hence the
ap_proxy_pass_brigade() doing so in proxy_wstunnel_request() should
already have failed with the correct status code returned to the
handler.

Why isn't that happening?

>
>> Regards,
>> Yann.
>>

From dev-return-82269-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 18 08:48:39 2015
Return-Path: <dev-return-82269-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6F1C317D20
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 18 Mar 2015 08:48:39 +0000 (UTC)
Received: (qmail 7978 invoked by uid 500); 18 Mar 2015 08:48:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 7904 invoked by uid 500); 18 Mar 2015 08:48:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 7894 invoked by uid 99); 18 Mar 2015 08:48:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Mar 2015 08:48:33 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jkaluza@redhat.com designates 209.132.183.28 as permitted sender)
Received: from [209.132.183.28] (HELO mx1.redhat.com) (209.132.183.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Mar 2015 08:48:28 +0000
Received: from int-mx09.intmail.prod.int.phx2.redhat.com (int-mx09.intmail.prod.int.phx2.redhat.com [10.5.11.22])
	by mx1.redhat.com (8.14.4/8.14.4) with ESMTP id t2I8m6bo017461
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Wed, 18 Mar 2015 04:48:06 -0400
Received: from dhcp-24-191.brq.redhat.com ([10.40.204.28])
	by int-mx09.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t2I8m504019364
	for <dev@httpd.apache.org>; Wed, 18 Mar 2015 04:48:05 -0400
Message-ID: <55093BC4.6070201@redhat.com>
Date: Wed, 18 Mar 2015 09:48:04 +0100
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.4.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: mod_proxy_wstunnel ignores proxy_wstunnel_transfer errors
References: <5508123E.8090509@redhat.com>	<CAKQ1sVMGCaXZBZUs3ObSRQjrR2GZtemejph56Xxkvvb0Drj=bQ@mail.gmail.com>	<5508224D.20705@redhat.com>	<CAKQ1sVOAWq5xvAmooN+AZy_c_0gk53Wya70ouzrPmfgUcWJS2w@mail.gmail.com>	<55092428.1090002@redhat.com> <CAKQ1sVOeKfg4jZc+2dNNUeb-pOL0VUnGz1UVyhBuN2AHGiaVig@mail.gmail.com>
In-Reply-To: <CAKQ1sVOeKfg4jZc+2dNNUeb-pOL0VUnGz1UVyhBuN2AHGiaVig@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.22
X-Virus-Checked: Checked by ClamAV on apache.org

On 03/18/2015 09:23 AM, Yann Ylavic wrote:
> On Wed, Mar 18, 2015 at 8:07 AM, Jan Kalua <jkaluza@redhat.com> wrote:
>>
>> I have no big knowledge of WebSockets, but it should be possible to detect
>> Switching Protocol header and return HTTP error if some error happens before
>> we switch to WebSocket.
>>
>> Would this be acceptable, or you think this empty reply is not worth fixing
>> this way?
>
> The problem is that at this point (poll() loop), "101 Switching
> Protocol" is already sent to the backend, and hence the
> ap_proxy_pass_brigade() doing so in proxy_wstunnel_request() should
> already have failed with the correct status code returned to the
> handler.

Hm, I think I'm little bit confused how it's supposed to work. I thought 
mod_proxy_wstunnel appends Upgrade and Connection header to the 
request's headers, sends it to the backend and then the backend responds 
with "101 Switching Protocols".

But when reading the code now, it would mean that "101 Switch Protocols" 
is forwarded to the client, which, I think, should not happen.

Well, I will test it more with some real websocket server as a backend 
to fully understand how it works.

> Why isn't that happening?
>
>>
>>> Regards,
>>> Yann.
>>>

Regards,
Jan Kaluza


From dev-return-82270-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 18 09:01:35 2015
Return-Path: <dev-return-82270-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7FDCE17D7E
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 18 Mar 2015 09:01:35 +0000 (UTC)
Received: (qmail 31776 invoked by uid 500); 18 Mar 2015 09:01:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 31699 invoked by uid 500); 18 Mar 2015 09:01:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 31689 invoked by uid 99); 18 Mar 2015 09:01:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Mar 2015 09:01:34 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.172 as permitted sender)
Received: from [209.85.213.172] (HELO mail-ig0-f172.google.com) (209.85.213.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Mar 2015 09:01:09 +0000
Received: by igbue6 with SMTP id ue6so37655244igb.1
        for <dev@httpd.apache.org>; Wed, 18 Mar 2015 02:01:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=jn6FA2Eo/Zj3nlqW4zxVB55Hzv7UlL4nCu86n+AeNQo=;
        b=F5dwFhoFAZ8C/jWa8gMHi+OYbbuPWyEHww16nxC8wd3BSBXAgy6IL+b/LH4EJXK8PD
         mIFcTAPk+6BVqK6DqLv5NFIbdpPllDv61neAjuUum5NrbwebOsuZ4LX8/bLTXITFA4T4
         ntjB3yzu0TdQqyCzZgRrypqOgQYrYuw5M3IWRzCKxhsAaEcoAOD21rH/Pf4/foeLwhlC
         MntKAPZ3myHxYQxUpm3OM7wn1xSmjFZTfQdmOTmMfrE1uyuCx5SQqBkUedriOYr8DNxO
         Vd0jZbW7S5WbBFodkwn7Gp0r7e9A2eN1eBYcxqtOMO+FraLVI6X9Bea/4v5pbWfTM+tU
         m47Q==
MIME-Version: 1.0
X-Received: by 10.107.30.135 with SMTP id e129mr128018168ioe.26.1426669267678;
 Wed, 18 Mar 2015 02:01:07 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Wed, 18 Mar 2015 02:01:07 -0700 (PDT)
In-Reply-To: <55093BC4.6070201@redhat.com>
References: <5508123E.8090509@redhat.com>
	<CAKQ1sVMGCaXZBZUs3ObSRQjrR2GZtemejph56Xxkvvb0Drj=bQ@mail.gmail.com>
	<5508224D.20705@redhat.com>
	<CAKQ1sVOAWq5xvAmooN+AZy_c_0gk53Wya70ouzrPmfgUcWJS2w@mail.gmail.com>
	<55092428.1090002@redhat.com>
	<CAKQ1sVOeKfg4jZc+2dNNUeb-pOL0VUnGz1UVyhBuN2AHGiaVig@mail.gmail.com>
	<55093BC4.6070201@redhat.com>
Date: Wed, 18 Mar 2015 10:01:07 +0100
Message-ID: <CAKQ1sVPz6YNWb1Zp7FL2-1LgEx8Ljw3q=scyS_e8JbT+OPG59g@mail.gmail.com>
Subject: Re: mod_proxy_wstunnel ignores proxy_wstunnel_transfer errors
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Mar 18, 2015 at 9:48 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrote=
:
> On 03/18/2015 09:23 AM, Yann Ylavic wrote:
>>
>> On Wed, Mar 18, 2015 at 8:07 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wr=
ote:
>>>
>>>
>>> I have no big knowledge of WebSockets, but it should be possible to
>>> detect
>>> Switching Protocol header and return HTTP error if some error happens
>>> before
>>> we switch to WebSocket.
>>>
>>> Would this be acceptable, or you think this empty reply is not worth
>>> fixing
>>> this way?
>>
>>
>> The problem is that at this point (poll() loop), "101 Switching
>> Protocol" is already sent to the backend, and hence the
>> ap_proxy_pass_brigade() doing so in proxy_wstunnel_request() should
>> already have failed with the correct status code returned to the
>> handler.
>
>
> Hm, I think I'm little bit confused how it's supposed to work. I thought
> mod_proxy_wstunnel appends Upgrade and Connection header to the request's
> headers, sends it to the backend and then the backend responds with "101
> Switching Protocols".

Yes, this is what's supposed to be done, with all but the backend's
response happening before the poll() loop.
That's why I wonder why, before that, there is no failure when the
request (with appended Upgrade and Connection headers) is sent to the
backend.

>
> But when reading the code now, it would mean that "101 Switch Protocols" =
is
> forwarded to the client, which, I think, should not happen.

This is not happening, ap_proxy_pass_brigade() forwards to the backend.

From dev-return-82271-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 18 09:31:07 2015
Return-Path: <dev-return-82271-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B43A717E27
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 18 Mar 2015 09:31:07 +0000 (UTC)
Received: (qmail 76223 invoked by uid 500); 18 Mar 2015 09:30:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76146 invoked by uid 500); 18 Mar 2015 09:30:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76136 invoked by uid 99); 18 Mar 2015 09:30:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Mar 2015 09:30:32 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jkaluza@redhat.com designates 209.132.183.28 as permitted sender)
Received: from [209.132.183.28] (HELO mx1.redhat.com) (209.132.183.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Mar 2015 09:30:07 +0000
Received: from int-mx11.intmail.prod.int.phx2.redhat.com (int-mx11.intmail.prod.int.phx2.redhat.com [10.5.11.24])
	by mx1.redhat.com (8.14.4/8.14.4) with ESMTP id t2I9U3qM009245
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Wed, 18 Mar 2015 05:30:03 -0400
Received: from dhcp-24-191.brq.redhat.com ([10.40.204.28])
	by int-mx11.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t2I9U2dU009469
	for <dev@httpd.apache.org>; Wed, 18 Mar 2015 05:30:03 -0400
Message-ID: <55094599.4080202@redhat.com>
Date: Wed, 18 Mar 2015 10:30:01 +0100
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.4.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: mod_proxy_wstunnel ignores proxy_wstunnel_transfer errors
References: <5508123E.8090509@redhat.com>	<CAKQ1sVMGCaXZBZUs3ObSRQjrR2GZtemejph56Xxkvvb0Drj=bQ@mail.gmail.com>	<5508224D.20705@redhat.com>	<CAKQ1sVOAWq5xvAmooN+AZy_c_0gk53Wya70ouzrPmfgUcWJS2w@mail.gmail.com>	<55092428.1090002@redhat.com>	<CAKQ1sVOeKfg4jZc+2dNNUeb-pOL0VUnGz1UVyhBuN2AHGiaVig@mail.gmail.com>	<55093BC4.6070201@redhat.com> <CAKQ1sVPz6YNWb1Zp7FL2-1LgEx8Ljw3q=scyS_e8JbT+OPG59g@mail.gmail.com>
In-Reply-To: <CAKQ1sVPz6YNWb1Zp7FL2-1LgEx8Ljw3q=scyS_e8JbT+OPG59g@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.24
X-Virus-Checked: Checked by ClamAV on apache.org

On 03/18/2015 10:01 AM, Yann Ylavic wrote:
> On Wed, Mar 18, 2015 at 9:48 AM, Jan Kalua <jkaluza@redhat.com> wrote:
>> On 03/18/2015 09:23 AM, Yann Ylavic wrote:
>>>
>>> On Wed, Mar 18, 2015 at 8:07 AM, Jan Kalua <jkaluza@redhat.com> wrote:
>>>>
>>>>
>>>> I have no big knowledge of WebSockets, but it should be possible to
>>>> detect
>>>> Switching Protocol header and return HTTP error if some error happens
>>>> before
>>>> we switch to WebSocket.
>>>>
>>>> Would this be acceptable, or you think this empty reply is not worth
>>>> fixing
>>>> this way?
>>>
>>>
>>> The problem is that at this point (poll() loop), "101 Switching
>>> Protocol" is already sent to the backend, and hence the
>>> ap_proxy_pass_brigade() doing so in proxy_wstunnel_request() should
>>> already have failed with the correct status code returned to the
>>> handler.
>>
>>
>> Hm, I think I'm little bit confused how it's supposed to work. I thought
>> mod_proxy_wstunnel appends Upgrade and Connection header to the request's
>> headers, sends it to the backend and then the backend responds with "101
>> Switching Protocols".
>
> Yes, this is what's supposed to be done, with all but the backend's
> response happening before the poll() loop.
> That's why I wonder why, before that, there is no failure when the
> request (with appended Upgrade and Connection headers) is sent to the
> backend.

What's going on here is that backend does not reply anything. 
proxy_wstunnel_transfer returns APR_EOF without receiving "101 Switching 
Protocols" from the backend and without passing anything to the client. 
We could check if APR_EOF happens before "101 Switching Protocols" and 
send HTTP error to client, right?

>>
>> But when reading the code now, it would mean that "101 Switch Protocols" is
>> forwarded to the client, which, I think, should not happen.
>
> This is not happening, ap_proxy_pass_brigade() forwards to the backend.
>


From dev-return-82272-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 18 09:44:39 2015
Return-Path: <dev-return-82272-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A40BC17E85
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 18 Mar 2015 09:44:39 +0000 (UTC)
Received: (qmail 17489 invoked by uid 500); 18 Mar 2015 09:44:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 17427 invoked by uid 500); 18 Mar 2015 09:44:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 17416 invoked by uid 99); 18 Mar 2015 09:44:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Mar 2015 09:44:38 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.181 as permitted sender)
Received: from [209.85.213.181] (HELO mail-ig0-f181.google.com) (209.85.213.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Mar 2015 09:44:33 +0000
Received: by igbue6 with SMTP id ue6so69852766igb.1
        for <dev@httpd.apache.org>; Wed, 18 Mar 2015 02:44:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=yjBhoMWJMAxgf2AO2SYBlDiWeDSqcwx3SUUIvme8Qfg=;
        b=tKGiVJLvGPf2E5BpSkhFk7tTGk9cKVvdn5hQ0jF0H9qOeE8ojQ8RFd/flPUWOjzOop
         IORH/jlVDl3xql8DuJUb63Eyix3lV6QCuY1sphyE9Naox4jWLw58gCNRVk4Z4xDChmoV
         2KC+iUYZ63EHAlsGIm6m7J/9tynsHsKk0vbttZoc0C4+mC38MDkhGt9/fEBcgPAbuoqf
         MNZC+SfgSRMbZYRF92a1sMg0gtFTIz91a8xggq/WD8VvI24JYkObhPlnqFDGpEy8M9Vj
         bNbQCvwneq/C9SbZPr248jcujy+k25uR4YbgRyCySiyvQ0gDptPrhXJP0dsDyDrNsnQ5
         umog==
MIME-Version: 1.0
X-Received: by 10.50.82.68 with SMTP id g4mr5075991igy.26.1426671852879; Wed,
 18 Mar 2015 02:44:12 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Wed, 18 Mar 2015 02:44:12 -0700 (PDT)
In-Reply-To: <55094599.4080202@redhat.com>
References: <5508123E.8090509@redhat.com>
	<CAKQ1sVMGCaXZBZUs3ObSRQjrR2GZtemejph56Xxkvvb0Drj=bQ@mail.gmail.com>
	<5508224D.20705@redhat.com>
	<CAKQ1sVOAWq5xvAmooN+AZy_c_0gk53Wya70ouzrPmfgUcWJS2w@mail.gmail.com>
	<55092428.1090002@redhat.com>
	<CAKQ1sVOeKfg4jZc+2dNNUeb-pOL0VUnGz1UVyhBuN2AHGiaVig@mail.gmail.com>
	<55093BC4.6070201@redhat.com>
	<CAKQ1sVPz6YNWb1Zp7FL2-1LgEx8Ljw3q=scyS_e8JbT+OPG59g@mail.gmail.com>
	<55094599.4080202@redhat.com>
Date: Wed, 18 Mar 2015 10:44:12 +0100
Message-ID: <CAKQ1sVPq-9cqS4zKvfwuC5Hi1mXZ=PkFUXrqSv2LexSNRzdJyw@mail.gmail.com>
Subject: Re: mod_proxy_wstunnel ignores proxy_wstunnel_transfer errors
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Mar 18, 2015 at 10:30 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrot=
e:
>
> What's going on here is that backend does not reply anything.
> proxy_wstunnel_transfer returns APR_EOF without receiving "101 Switching
> Protocols" from the backend and without passing anything to the client.

Hm, so ap_proxy_pass_brigade() succeeded, strange...

> We
> could check if APR_EOF happens before "101 Switching Protocols" and send
> HTTP error to client, right?

BTW, this is still possible that the Upgrade succeeds (I did not
expect it in your case because of the very beginning SSL handshake,
though), but if reading the first bytes of the response fails later,
we won't send anything to the client, which I agree is bad.

So a patch is probably needed to handle this case, but I think it
would have to detect whether or not some bytes have already been sent
to the client, we don't want to send multiple responses headers (the
one from the backend, and our if we return an error from the handler
after that).

So maybe something like this?

Index: modules/proxy/mod_proxy_wstunnel.c
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
--- modules/proxy/mod_proxy_wstunnel.c    (revision 1665828)
+++ modules/proxy/mod_proxy_wstunnel.c    (working copy)
@@ -91,7 +91,8 @@ static int proxy_wstunnel_canon(request_rec *r, ch


 static int proxy_wstunnel_transfer(request_rec *r, conn_rec *c_i,
conn_rec *c_o,
-                                     apr_bucket_brigade *bb, char *name)
+                                     apr_bucket_brigade *bb, char *name,
+                                     int *sent)
 {
     int rv;
 #ifdef DEBUGGING
@@ -125,6 +126,9 @@ static int proxy_wstunnel_transfer(request_rec *r,
                               "error on %s - ap_pass_brigade",
                               name);
             }
+            if (sent) {
+                *sent =3D 1;
+            }
         } else if (!APR_STATUS_IS_EAGAIN(rv) && !APR_STATUS_IS_EOF(rv)) {
             ap_log_rerror(APLOG_MARK, APLOG_DEBUG, rv, r, APLOGNO(02442)
                           "error on %s - ap_get_brigade",
@@ -167,6 +171,7 @@ static int proxy_wstunnel_request(apr_pool_t *p, r
     char *old_te_val =3D NULL;
     apr_bucket_brigade *bb =3D apr_brigade_create(p, c->bucket_alloc);
     apr_socket_t *client_socket =3D ap_get_conn_socket(c);
+    int request_sent =3D 0, response_sent =3D 0;

     header_brigade =3D apr_brigade_create(p, backconn->bucket_alloc);

@@ -244,7 +249,8 @@ static int proxy_wstunnel_request(apr_pool_t *p, r
                 if (pollevent & (APR_POLLIN | APR_POLLHUP)) {
                     ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, r,
APLOGNO(02446)
                                   "sock was readable");
-                    rv =3D proxy_wstunnel_transfer(r, backconn, c, bb, "so=
ck");
+                    rv =3D proxy_wstunnel_transfer(r, backconn, c, bb, "so=
ck",
+                                                 &response_sent);
                 }
                 else if (pollevent & APR_POLLERR) {
                     rv =3D APR_EPIPE;
@@ -263,7 +269,8 @@ static int proxy_wstunnel_request(apr_pool_t *p, r
                 if (pollevent & (APR_POLLIN | APR_POLLHUP)) {
                     ap_log_rerror(APLOG_MARK, APLOG_TRACE1, 0, r,
APLOGNO(02448)
                                   "client was readable");
-                    rv =3D proxy_wstunnel_transfer(r, c, backconn, bb, "cl=
ient");
+                    rv =3D proxy_wstunnel_transfer(r, c, backconn, bb, "cl=
ient",
+                                                 &request_sent);
                 }
                 else if (pollevent & APR_POLLERR) {
                     rv =3D APR_EPIPE;
@@ -292,7 +299,15 @@ static int proxy_wstunnel_request(apr_pool_t *p, r
     ap_log_rerror(APLOG_MARK, APLOG_TRACE2, 0, r,
                   "finished with poll() - cleaning up");

-    return OK;
+    if (!response_sent) {
+        return HTTP_BAD_GATEWAY;
+    }
+    else if (!request_sent) {
+        return HTTP_BAD_REQUEST;
+    }
+    else {
+        return OK;
+    }
 }

 /*
--

Also, maybe mod_proxy_wstunnel should DECLINE[D] the request if it is
not an "Upgrade: WebSocket" one?

Index: modules/proxy/mod_proxy_wstunnel.c
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
--- modules/proxy/mod_proxy_wstunnel.c    (revision 1665828)
+++ modules/proxy/mod_proxy_wstunnel.c    (working copy)
@@ -305,7 +320,7 @@ static int proxy_wstunnel_handler(request_rec *r,
     int status;
     char server_portstr[32];
     proxy_conn_rec *backend =3D NULL;
-    char *scheme;
+    const char *scheme, *upgrade;
     int retry;
     conn_rec *c =3D r->connection;
     apr_pool_t *p =3D r->pool;
@@ -324,6 +339,25 @@ static int proxy_wstunnel_handler(request_rec *r,
         return DECLINED;
     }

+    upgrade =3D apr_table_get(r->headers_in, "Connection");
+    if (upgrade) {
+        if (strcasecmp(upgrade, "Upgrade") !=3D 0) {
+            upgrade =3D NULL;
+        }
+        else {
+            upgrade =3D apr_table_get(r->headers_in, "Upgrade");
+            if (upgrade && strcasecmp(upgrade, "WebSocket") !=3D 0) {
+                upgrade =3D NULL;
+            }
+        }
+    }
+    if (!upgrade) {
+        ap_log_rerror(APLOG_MARK, APLOG_DEBUG, 0, r,
+                      APLOGNO() "%s: declining URL %s (not WebSocket)",
+                      scheme, url);
+        return DECLINED;
+    }
+
     uri =3D apr_palloc(p, sizeof(*uri));
     ap_log_rerror(APLOG_MARK, APLOG_DEBUG, 0, r, APLOGNO(02451)
"serving URL %s", url);

--

Regards,
Yann.

From dev-return-82273-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 18 09:59:36 2015
Return-Path: <dev-return-82273-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3E4D017EE1
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 18 Mar 2015 09:59:36 +0000 (UTC)
Received: (qmail 55319 invoked by uid 500); 18 Mar 2015 09:59:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55249 invoked by uid 500); 18 Mar 2015 09:59:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 55236 invoked by uid 99); 18 Mar 2015 09:59:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Mar 2015 09:59:35 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.173 as permitted sender)
Received: from [209.85.223.173] (HELO mail-ie0-f173.google.com) (209.85.223.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Mar 2015 09:59:30 +0000
Received: by ieclw3 with SMTP id lw3so33561191iec.2
        for <dev@httpd.apache.org>; Wed, 18 Mar 2015 02:57:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=ExlICqfZfPZJreYd+irc3BR33G0ygpMwBRvtWlS717g=;
        b=0TWsh3n6cJtNnFoujmLHgtfGtCpyYdfXFb5wBSoeF9a629mwUKkU4DZA17O7/TzBhX
         nkpozIzDvoVOpdriMC2Pg/rzNmewNbrOXIFpt/sI3C/IclHRvJju5BdHcHX96XamirKX
         2j+ZpDv5SaOCXerj44z5pX5zW9OlQfp28reIXhQ+tY9tJ02O45UQFI1N1/w8rFHhfwm3
         BRX1hApa/UxZaQZzOdnp2ByEX2TSf5yWXKRoRM4kf3rUMPwslzx6Q7Qf7XUSljLwlVaL
         z365aQoH7svOSGvH1QSWoUMEx8sBiOZn/XFOZBJyNmHPn9fUaN+HccGTg/GR63cB8S/L
         DF3Q==
MIME-Version: 1.0
X-Received: by 10.107.132.39 with SMTP id g39mr104226568iod.62.1426672659917;
 Wed, 18 Mar 2015 02:57:39 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Wed, 18 Mar 2015 02:57:39 -0700 (PDT)
In-Reply-To: <CAKQ1sVPq-9cqS4zKvfwuC5Hi1mXZ=PkFUXrqSv2LexSNRzdJyw@mail.gmail.com>
References: <5508123E.8090509@redhat.com>
	<CAKQ1sVMGCaXZBZUs3ObSRQjrR2GZtemejph56Xxkvvb0Drj=bQ@mail.gmail.com>
	<5508224D.20705@redhat.com>
	<CAKQ1sVOAWq5xvAmooN+AZy_c_0gk53Wya70ouzrPmfgUcWJS2w@mail.gmail.com>
	<55092428.1090002@redhat.com>
	<CAKQ1sVOeKfg4jZc+2dNNUeb-pOL0VUnGz1UVyhBuN2AHGiaVig@mail.gmail.com>
	<55093BC4.6070201@redhat.com>
	<CAKQ1sVPz6YNWb1Zp7FL2-1LgEx8Ljw3q=scyS_e8JbT+OPG59g@mail.gmail.com>
	<55094599.4080202@redhat.com>
	<CAKQ1sVPq-9cqS4zKvfwuC5Hi1mXZ=PkFUXrqSv2LexSNRzdJyw@mail.gmail.com>
Date: Wed, 18 Mar 2015 10:57:39 +0100
Message-ID: <CAKQ1sVNUYhPUvGpNVD5oMdo2N9WG4w8gj6SqZ0OVFeD1uTNXMA@mail.gmail.com>
Subject: Re: mod_proxy_wstunnel ignores proxy_wstunnel_transfer errors
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Mar 18, 2015 at 10:44 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
[]
> Index: modules/proxy/mod_proxy_wstunnel.c
> ===================================================================
> --- modules/proxy/mod_proxy_wstunnel.c    (revision 1665828)
> +++ modules/proxy/mod_proxy_wstunnel.c    (working copy)
[]
> @@ -292,7 +299,15 @@ static int proxy_wstunnel_request(apr_pool_t *p, r
>      ap_log_rerror(APLOG_MARK, APLOG_TRACE2, 0, r,
>                    "finished with poll() - cleaning up");
>
> -    return OK;
> +    if (!response_sent) {
> +        return HTTP_BAD_GATEWAY;
> +    }
> +    else if (!request_sent) {
> +        return HTTP_BAD_REQUEST;

This case is probably not a good idea, so we'd better not handle
request_sent at all (only response_sent), and use NULL instead for
proxy_wstunnel_transfer().

> +    }
> +    else {
> +        return OK;
> +    }
>  }
>
>  /*
> --

From dev-return-82274-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 18 10:10:06 2015
Return-Path: <dev-return-82274-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6720817F44
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 18 Mar 2015 10:10:06 +0000 (UTC)
Received: (qmail 91609 invoked by uid 500); 18 Mar 2015 10:10:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91532 invoked by uid 500); 18 Mar 2015 10:10:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91522 invoked by uid 99); 18 Mar 2015 10:10:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Mar 2015 10:10:05 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.181 as permitted sender)
Received: from [209.85.213.181] (HELO mail-ig0-f181.google.com) (209.85.213.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Mar 2015 10:10:00 +0000
Received: by igcau2 with SMTP id au2so58240198igc.0
        for <dev@httpd.apache.org>; Wed, 18 Mar 2015 03:07:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=eyTTfj7jYTJCGr6XLj+3nvgGs8Yxev/3HmwkexurwsQ=;
        b=akQnE1I5SckfCvuL+K9B+o5IbEWpIzCwHeAszs8lQyxVaO7lczi+UKTasOTzwHQH8j
         x5ghxFWfoOU4O7JE73wRSFdNWrXXqwnc7JxZr3TCAznb+JWiRmKONf6AFbg5Za6C7jV3
         Juc0LH37vWS7+qj+Q/4t9QPjUg0KeigKDwOxEk7gsmWG6k7Gcyp+YR9lztzXDdClQhfh
         Mg91+pPE6l0FZXcEqmoYtGlqXRv+kQvxKfw4dacMHiYFdTaC/fcREII87LGdDNkuNzxv
         mF12RdsAE0+s8nvlbeSC4Bwrs5vdQYsHS1VjvH0HzBbkSt0PARIkNR/bBytDDgcUguVH
         Q/pg==
MIME-Version: 1.0
X-Received: by 10.42.68.204 with SMTP id y12mr37151485ici.84.1426673244835;
 Wed, 18 Mar 2015 03:07:24 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Wed, 18 Mar 2015 03:07:23 -0700 (PDT)
In-Reply-To: <CAKQ1sVNUYhPUvGpNVD5oMdo2N9WG4w8gj6SqZ0OVFeD1uTNXMA@mail.gmail.com>
References: <5508123E.8090509@redhat.com>
	<CAKQ1sVMGCaXZBZUs3ObSRQjrR2GZtemejph56Xxkvvb0Drj=bQ@mail.gmail.com>
	<5508224D.20705@redhat.com>
	<CAKQ1sVOAWq5xvAmooN+AZy_c_0gk53Wya70ouzrPmfgUcWJS2w@mail.gmail.com>
	<55092428.1090002@redhat.com>
	<CAKQ1sVOeKfg4jZc+2dNNUeb-pOL0VUnGz1UVyhBuN2AHGiaVig@mail.gmail.com>
	<55093BC4.6070201@redhat.com>
	<CAKQ1sVPz6YNWb1Zp7FL2-1LgEx8Ljw3q=scyS_e8JbT+OPG59g@mail.gmail.com>
	<55094599.4080202@redhat.com>
	<CAKQ1sVPq-9cqS4zKvfwuC5Hi1mXZ=PkFUXrqSv2LexSNRzdJyw@mail.gmail.com>
	<CAKQ1sVNUYhPUvGpNVD5oMdo2N9WG4w8gj6SqZ0OVFeD1uTNXMA@mail.gmail.com>
Date: Wed, 18 Mar 2015 11:07:23 +0100
Message-ID: <CAKQ1sVNL0FXteeTJwaxgVbrs554=VcR3_TcuvzyEWftFgfvAPw@mail.gmail.com>
Subject: Re: mod_proxy_wstunnel ignores proxy_wstunnel_transfer errors
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/mixed; boundary=20cf303345f7fd4ca505118d3f0c
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf303345f7fd4ca505118d3f0c
Content-Type: text/plain; charset=UTF-8

Corresponding patch attached...

On Wed, Mar 18, 2015 at 10:57 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Wed, Mar 18, 2015 at 10:44 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
> []
>> Index: modules/proxy/mod_proxy_wstunnel.c
>> ===================================================================
>> --- modules/proxy/mod_proxy_wstunnel.c    (revision 1665828)
>> +++ modules/proxy/mod_proxy_wstunnel.c    (working copy)
> []
>> @@ -292,7 +299,15 @@ static int proxy_wstunnel_request(apr_pool_t *p, r
>>      ap_log_rerror(APLOG_MARK, APLOG_TRACE2, 0, r,
>>                    "finished with poll() - cleaning up");
>>
>> -    return OK;
>> +    if (!response_sent) {
>> +        return HTTP_BAD_GATEWAY;
>> +    }
>> +    else if (!request_sent) {
>> +        return HTTP_BAD_REQUEST;
>
> This case is probably not a good idea, so we'd better not handle
> request_sent at all (only response_sent), and use NULL instead for
> proxy_wstunnel_transfer().
>
>> +    }
>> +    else {
>> +        return OK;
>> +    }
>>  }
>>
>>  /*
>> --

--20cf303345f7fd4ca505118d3f0c
Content-Type: text/x-diff; charset=US-ASCII; 
	name="httpd-2.4.x-mod_proxy_wstunnel-response_sent.patch"
Content-Disposition: attachment; 
	filename="httpd-2.4.x-mod_proxy_wstunnel-response_sent.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_i7ekeh950

SW5kZXg6IG1vZHVsZXMvcHJveHkvbW9kX3Byb3h5X3dzdHVubmVsLmMKPT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0g
bW9kdWxlcy9wcm94eS9tb2RfcHJveHlfd3N0dW5uZWwuYwkocmV2aXNpb24gMTY2NTgyOCkKKysr
IG1vZHVsZXMvcHJveHkvbW9kX3Byb3h5X3dzdHVubmVsLmMJKHdvcmtpbmcgY29weSkKQEAgLTkx
LDcgKzkxLDggQEAgc3RhdGljIGludCBwcm94eV93c3R1bm5lbF9jYW5vbihyZXF1ZXN0X3JlYyAq
ciwgY2gKIAogCiBzdGF0aWMgaW50IHByb3h5X3dzdHVubmVsX3RyYW5zZmVyKHJlcXVlc3RfcmVj
ICpyLCBjb25uX3JlYyAqY19pLCBjb25uX3JlYyAqY19vLAotICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGFwcl9idWNrZXRfYnJpZ2FkZSAqYmIsIGNoYXIgKm5hbWUpCisgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXByX2J1Y2tldF9icmlnYWRlICpiYiwg
Y2hhciAqbmFtZSwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgKnNl
bnQpCiB7CiAgICAgaW50IHJ2OwogI2lmZGVmIERFQlVHR0lORwpAQCAtMTI1LDYgKzEyNiw5IEBA
IHN0YXRpYyBpbnQgcHJveHlfd3N0dW5uZWxfdHJhbnNmZXIocmVxdWVzdF9yZWMgKnIsCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAiZXJyb3Igb24gJXMgLSBhcF9wYXNzX2JyaWdhZGUi
LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSk7CiAgICAgICAgICAgICB9Cisg
ICAgICAgICAgICBpZiAoc2VudCkgeworICAgICAgICAgICAgICAgICpzZW50ID0gMTsKKyAgICAg
ICAgICAgIH0KICAgICAgICAgfSBlbHNlIGlmICghQVBSX1NUQVRVU19JU19FQUdBSU4ocnYpICYm
ICFBUFJfU1RBVFVTX0lTX0VPRihydikpIHsKICAgICAgICAgICAgIGFwX2xvZ19yZXJyb3IoQVBM
T0dfTUFSSywgQVBMT0dfREVCVUcsIHJ2LCByLCBBUExPR05PKDAyNDQyKQogICAgICAgICAgICAg
ICAgICAgICAgICAgICAiZXJyb3Igb24gJXMgLSBhcF9nZXRfYnJpZ2FkZSIsCkBAIC0xNjcsNiAr
MTcxLDcgQEAgc3RhdGljIGludCBwcm94eV93c3R1bm5lbF9yZXF1ZXN0KGFwcl9wb29sX3QgKnAs
IHIKICAgICBjaGFyICpvbGRfdGVfdmFsID0gTlVMTDsKICAgICBhcHJfYnVja2V0X2JyaWdhZGUg
KmJiID0gYXByX2JyaWdhZGVfY3JlYXRlKHAsIGMtPmJ1Y2tldF9hbGxvYyk7CiAgICAgYXByX3Nv
Y2tldF90ICpjbGllbnRfc29ja2V0ID0gYXBfZ2V0X2Nvbm5fc29ja2V0KGMpOworICAgIGludCBy
ZXNwb25zZV9zZW50ID0gMDsKIAogICAgIGhlYWRlcl9icmlnYWRlID0gYXByX2JyaWdhZGVfY3Jl
YXRlKHAsIGJhY2tjb25uLT5idWNrZXRfYWxsb2MpOwogCkBAIC0yNDQsNyArMjQ5LDggQEAgc3Rh
dGljIGludCBwcm94eV93c3R1bm5lbF9yZXF1ZXN0KGFwcl9wb29sX3QgKnAsIHIKICAgICAgICAg
ICAgICAgICBpZiAocG9sbGV2ZW50ICYgKEFQUl9QT0xMSU4gfCBBUFJfUE9MTEhVUCkpIHsKICAg
ICAgICAgICAgICAgICAgICAgYXBfbG9nX3JlcnJvcihBUExPR19NQVJLLCBBUExPR19UUkFDRTEs
IDAsIHIsIEFQTE9HTk8oMDI0NDYpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
InNvY2sgd2FzIHJlYWRhYmxlIik7Ci0gICAgICAgICAgICAgICAgICAgIHJ2ID0gcHJveHlfd3N0
dW5uZWxfdHJhbnNmZXIociwgYmFja2Nvbm4sIGMsIGJiLCAic29jayIpOworICAgICAgICAgICAg
ICAgICAgICBydiA9IHByb3h5X3dzdHVubmVsX3RyYW5zZmVyKHIsIGJhY2tjb25uLCBjLCBiYiwg
InNvY2siLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICZyZXNwb25zZV9zZW50KTsKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgZWxz
ZSBpZiAocG9sbGV2ZW50ICYgQVBSX1BPTExFUlIpIHsKICAgICAgICAgICAgICAgICAgICAgcnYg
PSBBUFJfRVBJUEU7CkBAIC0yNjMsNyArMjY5LDggQEAgc3RhdGljIGludCBwcm94eV93c3R1bm5l
bF9yZXF1ZXN0KGFwcl9wb29sX3QgKnAsIHIKICAgICAgICAgICAgICAgICBpZiAocG9sbGV2ZW50
ICYgKEFQUl9QT0xMSU4gfCBBUFJfUE9MTEhVUCkpIHsKICAgICAgICAgICAgICAgICAgICAgYXBf
bG9nX3JlcnJvcihBUExPR19NQVJLLCBBUExPR19UUkFDRTEsIDAsIHIsIEFQTE9HTk8oMDI0NDgp
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImNsaWVudCB3YXMgcmVhZGFibGUi
KTsKLSAgICAgICAgICAgICAgICAgICAgcnYgPSBwcm94eV93c3R1bm5lbF90cmFuc2ZlcihyLCBj
LCBiYWNrY29ubiwgYmIsICJjbGllbnQiKTsKKyAgICAgICAgICAgICAgICAgICAgcnYgPSBwcm94
eV93c3R1bm5lbF90cmFuc2ZlcihyLCBjLCBiYWNrY29ubiwgYmIsICJjbGllbnQiLAorICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5VTEwpOwogICAgICAg
ICAgICAgICAgIH0KICAgICAgICAgICAgICAgICBlbHNlIGlmIChwb2xsZXZlbnQgJiBBUFJfUE9M
TEVSUikgewogICAgICAgICAgICAgICAgICAgICBydiA9IEFQUl9FUElQRTsKQEAgLTI5Miw3ICsy
OTksMTIgQEAgc3RhdGljIGludCBwcm94eV93c3R1bm5lbF9yZXF1ZXN0KGFwcl9wb29sX3QgKnAs
IHIKICAgICBhcF9sb2dfcmVycm9yKEFQTE9HX01BUkssIEFQTE9HX1RSQUNFMiwgMCwgciwKICAg
ICAgICAgICAgICAgICAgICJmaW5pc2hlZCB3aXRoIHBvbGwoKSAtIGNsZWFuaW5nIHVwIik7CiAK
LSAgICByZXR1cm4gT0s7CisgICAgaWYgKCFyZXNwb25zZV9zZW50KSB7CisgICAgICAgIHJldHVy
biBIVFRQX0JBRF9HQVRFV0FZOworICAgIH0KKyAgICBlbHNlIHsKKyAgICAgICAgcmV0dXJuIE9L
OworICAgIH0KIH0KIAogLyoK
--20cf303345f7fd4ca505118d3f0c--

From dev-return-82275-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Mar 18 11:11:42 2015
Return-Path: <dev-return-82275-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E6374173B1
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 18 Mar 2015 11:11:41 +0000 (UTC)
Received: (qmail 56238 invoked by uid 500); 18 Mar 2015 11:11:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56157 invoked by uid 500); 18 Mar 2015 11:11:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56142 invoked by uid 99); 18 Mar 2015 11:11:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Mar 2015 11:11:41 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jkaluza@redhat.com designates 209.132.183.28 as permitted sender)
Received: from [209.132.183.28] (HELO mx1.redhat.com) (209.132.183.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 18 Mar 2015 11:11:33 +0000
Received: from int-mx13.intmail.prod.int.phx2.redhat.com (int-mx13.intmail.prod.int.phx2.redhat.com [10.5.11.26])
	by mx1.redhat.com (8.14.4/8.14.4) with ESMTP id t2IBACQq002818
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Wed, 18 Mar 2015 07:10:12 -0400
Received: from dhcp-24-191.brq.redhat.com ([10.40.204.28])
	by int-mx13.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t2IBAARZ017661
	for <dev@httpd.apache.org>; Wed, 18 Mar 2015 07:10:11 -0400
Message-ID: <55095D12.6020106@redhat.com>
Date: Wed, 18 Mar 2015 12:10:10 +0100
From: =?windows-1252?Q?Jan_Kalu=9Ea?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.4.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: mod_proxy_wstunnel ignores proxy_wstunnel_transfer errors
References: <5508123E.8090509@redhat.com>	<CAKQ1sVMGCaXZBZUs3ObSRQjrR2GZtemejph56Xxkvvb0Drj=bQ@mail.gmail.com>	<5508224D.20705@redhat.com>	<CAKQ1sVOAWq5xvAmooN+AZy_c_0gk53Wya70ouzrPmfgUcWJS2w@mail.gmail.com>	<55092428.1090002@redhat.com>	<CAKQ1sVOeKfg4jZc+2dNNUeb-pOL0VUnGz1UVyhBuN2AHGiaVig@mail.gmail.com>	<55093BC4.6070201@redhat.com>	<CAKQ1sVPz6YNWb1Zp7FL2-1LgEx8Ljw3q=scyS_e8JbT+OPG59g@mail.gmail.com>	<55094599.4080202@redhat.com>	<CAKQ1sVPq-9cqS4zKvfwuC5Hi1mXZ=PkFUXrqSv2LexSNRzdJyw@mail.gmail.com>	<CAKQ1sVNUYhPUvGpNVD5oMdo2N9WG4w8gj6SqZ0OVFeD1uTNXMA@mail.gmail.com> <CAKQ1sVNL0FXteeTJwaxgVbrs554=VcR3_TcuvzyEWftFgfvAPw@mail.gmail.com>
In-Reply-To: <CAKQ1sVNL0FXteeTJwaxgVbrs554=VcR3_TcuvzyEWftFgfvAPw@mail.gmail.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.26
X-Virus-Checked: Checked by ClamAV on apache.org

On 03/18/2015 11:07 AM, Yann Ylavic wrote:
> Corresponding patch attached...
>
> On Wed, Mar 18, 2015 at 10:57 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> On Wed, Mar 18, 2015 at 10:44 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>>
>> []
>>> Index: modules/proxy/mod_proxy_wstunnel.c
>>> ===================================================================
>>> --- modules/proxy/mod_proxy_wstunnel.c    (revision 1665828)
>>> +++ modules/proxy/mod_proxy_wstunnel.c    (working copy)
>> []
>>> @@ -292,7 +299,15 @@ static int proxy_wstunnel_request(apr_pool_t *p, r
>>>       ap_log_rerror(APLOG_MARK, APLOG_TRACE2, 0, r,
>>>                     "finished with poll() - cleaning up");
>>>
>>> -    return OK;
>>> +    if (!response_sent) {
>>> +        return HTTP_BAD_GATEWAY;
>>> +    }
>>> +    else if (!request_sent) {
>>> +        return HTTP_BAD_REQUEST;
>>
>> This case is probably not a good idea, so we'd better not handle
>> request_sent at all (only response_sent), and use NULL instead for
>> proxy_wstunnel_transfer().

+1 for the last patch. It fixes the bug I see.

Jan Kaluza

>>> +    }
>>> +    else {
>>> +        return OK;
>>> +    }
>>>   }
>>>
>>>   /*
>>> --


From dev-return-82276-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 19 11:31:13 2015
Return-Path: <dev-return-82276-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 80D5E17555
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 19 Mar 2015 11:31:13 +0000 (UTC)
Received: (qmail 63022 invoked by uid 500); 19 Mar 2015 11:31:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62955 invoked by uid 500); 19 Mar 2015 11:31:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62944 invoked by uid 99); 19 Mar 2015 11:31:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Mar 2015 11:31:13 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jkaluza@redhat.com designates 209.132.183.28 as permitted sender)
Received: from [209.132.183.28] (HELO mx1.redhat.com) (209.132.183.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 19 Mar 2015 11:30:47 +0000
Received: from int-mx13.intmail.prod.int.phx2.redhat.com (int-mx13.intmail.prod.int.phx2.redhat.com [10.5.11.26])
	by mx1.redhat.com (8.14.4/8.14.4) with ESMTP id t2JBUirO008272
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Thu, 19 Mar 2015 07:30:44 -0400
Received: from dhcp-24-191.brq.redhat.com (ovpn-204-25.brq.redhat.com [10.40.204.25])
	by int-mx13.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t2JBUgVk018517
	for <dev@httpd.apache.org>; Thu, 19 Mar 2015 07:30:43 -0400
Message-ID: <550AB362.50004@redhat.com>
Date: Thu, 19 Mar 2015 12:30:42 +0100
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.4.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: [PATCH] Balancers, VirtualHost and ProxyPass
References: <54883BD5.9040307@redhat.com>	<AB1691BE05AE7F4992697F2A0835627AC5DCF56E@VOEXM10W.internal.vodafone.com>	<548848D7.6050806@redhat.com>	<54889D25.9020109@apache.org>	<54894BFD.6010600@redhat.com>	<54899EAE.3050704@redhat.com>	<AB1691BE05AE7F4992697F2A0835627AC5DCFC34@VOEXM10W.internal.vodafone.com>	<548AAAE1.5010809@redhat.com>	<548AC9F9.2040101@apache.org>	<548AE6ED.2030109@redhat.com>	<AB1691BE05AE7F4992697F2A0835627AC5DD00C9@VOEXM10W.internal.vodafone.com> <CAKQ1sVMU-wOgdWhsQc+b=yjurcHhvyAVEiQ_4g=7j5kAuOFN8Q@mail.gmail.com> <548AEC58.80500@redhat.com>
In-Reply-To: <548AEC58.80500@redhat.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.26
X-Virus-Checked: Checked by ClamAV on apache.org

On 12/12/2014 02:23 PM, Jan Kalua wrote:
> On 12/12/2014 02:17 PM, Yann Ylavic wrote:
>> On Fri, Dec 12, 2014 at 2:09 PM, Plm, Rdiger, Vodafone Group
>> <ruediger.pluem@vodafone.com> wrote:
>>>
>>>> -----Ursprngliche Nachricht-----
>>>> Von: Jan Kalua [mailto:jkaluza@redhat.com]
>>>> Gesendet: Freitag, 12. Dezember 2014 14:00
>>>> An: dev@httpd.apache.org
>>>> Betreff: Re: [PATCH] Balancers, VirtualHost and ProxyPass
>>>>
>>>> You are right :(. Fix attached. Order of errstatuses should not be a
>>>> problem. Its values are checked against r->status to determine status
>>>> code on which is balancer worker marked as "in error".
>>>
>>> Guess it is fine now :-)
>>
>> +1

I forgot to commit this one. Done in trunk in r1667707 now.

> Thanks you both, that one was painful :(.
>
> Jan Kaluza
>
>> Regards,
>> Yann.
>>
>

Regards,
Jan Kaluza


From dev-return-82277-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 20 09:12:35 2015
Return-Path: <dev-return-82277-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 906DA17D98
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 20 Mar 2015 09:12:35 +0000 (UTC)
Received: (qmail 26380 invoked by uid 500); 20 Mar 2015 09:12:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 26313 invoked by uid 500); 20 Mar 2015 09:12:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 26303 invoked by uid 99); 20 Mar 2015 09:12:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Mar 2015 09:12:35 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stefan.eissing@greenbytes.de designates 217.91.35.233 as permitted sender)
Received: from [217.91.35.233] (HELO mail.greenbytes.de) (217.91.35.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Mar 2015 09:12:10 +0000
Received: from delight.greenbytes.de (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 77B8515A015D
	for <dev@httpd.apache.org>; Fri, 20 Mar 2015 10:12:08 +0100 (CET)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: buckets across threads - question
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm>
Date: Fri, 20 Mar 2015 10:12:08 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de> <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org

Graham,

thanks for the explanations and the hint to mod_proxy. I am now able to =
use pools/subpools and bucket_alloctors in a better way which improves =
overall performance.

Just for the record: the important thing to learn for me was that there =
is another layer underneath apr_pool_t called apr_allocator_t which is =
not  thread-safe by default - but can be made so. With my own allocator =
per real connection and a mutex protecting it, I can pool and subpool to =
my heart's content across threads. In my measurements, the disadvantage =
of a mutex'ed allocator is much overcompensated by proper pool/memory =
reuse, e.g. it is faster.

Cheers,

  Stefan


> Am 17.03.2015 um 23:52 schrieb Graham Leggett <minfrin@sharp.fm>:
>=20
> On 17 Mar 2015, at 15:59, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
>>=20
>> Hi,
>>=20
>> I have a question regarding my http2 module implementation, where I =
seem to fail to wrap my head around the limitations of pools and bucket =
brigades in a multi-threaded environment. As I understand it, httpd has =
- so far - the underlying assumption:
>>=20
>> 1 connection -> 1 request -> 1 thread
>>=20
>> at a single point in time. This used to be quite static, as in =
mpm_worker, and was made more dynamic with mpm_event, which may switch =
the thread around. However even though entities might be exchanged, it =
is always 1-1-1 at a single point in time.
>>=20
>> Now, as most of you are aware, with the HTTP/2 processing model, this =
holds no longer true. The relation there is 1-m-m* and, worse, the =
connection is multiplexing requests, so there are many active at the =
same time and their data will be interleaved. The request/thread =
coupling can stay as it is, but the connection relation is different.
>>=20
>> I today have a working implementation and it has major drawbacks =
(among all the bugs I need to find):
>>=20
>> 1. it mimicks httpd objects that are not really there, e.g. =
pseudo-connections, so that there seems to be a 1-1 with connections and =
requests again (just as mod_spdy does). Therefore it needs to fake =
HTTP/1.1 requests, so that core filter can parse them, etc.
>>=20
>> 2. beautiful apr infrastructure like bucket brigades are not used =
when data needs to be passed between threads.
>>=20
>=20
>> I have made an attempt today to make bucket brigades work for passing =
data between threads, but things keep crashing on me when load grows. =
Which is all my fault for not understanding these things fully. So, am I =
on a fool's errand? Can I have brigade A in thread 1 and brigade B in =
thread 2 and pass buckets between them without excessive copying? I =
think I am doing it wrong and the cleanups of the allocators run in the =
wrong thread in the end which is not healthy.
>=20
> One place where you can get a concrete example of data in one pool =
lifetime being transferred across to another is in mod_proxy - the =
backend connection comes out of a pool, and may live longer or shorter =
than the request going out the front.
>=20
> Getting this right is tricky, you need to be particular about the pool =
lifetimes.
>=20
> Pools create a hierarchy, that is the key. If you have requests =
subordinate to a connection, ie when the connection dies the requests =
die, let the request be a subpool of the connection.
>=20
> You may have many independent requests linked to the same connection, =
just make sure the requests don't leak into each other.
>=20
> Regards,
> Graham
> --

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82278-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 20 11:03:48 2015
Return-Path: <dev-return-82278-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4472F17320
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 20 Mar 2015 11:03:48 +0000 (UTC)
Received: (qmail 3959 invoked by uid 500); 20 Mar 2015 11:03:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3883 invoked by uid 500); 20 Mar 2015 11:03:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3873 invoked by uid 99); 20 Mar 2015 11:03:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Mar 2015 11:03:35 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-ig0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Mar 2015 11:03:10 +0000
Received: by igbud6 with SMTP id ud6so50049541igb.1
        for <dev@httpd.apache.org>; Fri, 20 Mar 2015 04:00:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=nsQ0Y5UCjPGdpMCZrXxhYvy4qSH1VhTc3Av9ImVtUnU=;
        b=bLllLjg/u63sBn+lrSa6IUDLR3rSTLlwTmALejwioVJuWJ5oL//NYGbS0O7A4wwmNi
         BGEAW35PxBjDZKPelhK6y1F1b19fdDXMxBKeXuQXX7rHHhvUwINZeAHIRDaIZ9w3wHNk
         7QBJpES9z8UarDqj7d91S56SKllx/HXi4Q04afd4M05siwodXbN8KOz+KGfSvNEMbx9d
         DosqHgHbB9F0lAygkYoKdoWCgT8FvMSoJC/mmkL50NlrCur3tPFvKg9SVf7mCMVoI5R6
         ibnF91AC60+zLkmKYEV5SLjvVPPKG0xC1f+r6Egu+PdZ4YbZoU8rDIlJlV6o2GzZzhxo
         JRTQ==
MIME-Version: 1.0
X-Received: by 10.107.30.135 with SMTP id e129mr147345856ioe.26.1426849253799;
 Fri, 20 Mar 2015 04:00:53 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Fri, 20 Mar 2015 04:00:53 -0700 (PDT)
In-Reply-To: <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de>
	<1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm>
	<29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de>
Date: Fri, 20 Mar 2015 12:00:53 +0100
Message-ID: <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com>
Subject: Re: buckets across threads - question
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Stefan,

On Fri, Mar 20, 2015 at 10:12 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> Just for the record: the important thing to learn for me was that there is another layer underneath apr_pool_t
> called apr_allocator_t which is not  thread-safe by default - but can be made so. With my own allocator per
> real connection and a mutex protecting it, I can pool and subpool to my heart's content across threads.

While pool (allocator) allocations are not thread-safe, creating a
subpool is, and each thread can than use its own pool (this model is
often used with APR pools).

This tells nothing about pool allocated objects' lifetime though
(accross/after threads), so maybe can you describe a bit more (but
less than the code ;) which object has its own or shared pool, with
regard to http/2 model (request/stream/connection/frame)?

That would help (at least me) to determine where locking is needed or
not (thanks to subpools).

Anyway, thanks for this code which looks/is very promising!

Regards,
Yann.

From dev-return-82279-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 20 11:45:20 2015
Return-Path: <dev-return-82279-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CDE8C17409
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 20 Mar 2015 11:45:20 +0000 (UTC)
Received: (qmail 66449 invoked by uid 500); 20 Mar 2015 11:45:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 66376 invoked by uid 500); 20 Mar 2015 11:45:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 66366 invoked by uid 99); 20 Mar 2015 11:45:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Mar 2015 11:45:17 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.170 as permitted sender)
Received: from [209.85.223.170] (HELO mail-ie0-f170.google.com) (209.85.223.170)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Mar 2015 11:44:51 +0000
Received: by ieclw3 with SMTP id lw3so89769407iec.2
        for <dev@httpd.apache.org>; Fri, 20 Mar 2015 04:44:49 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=rmG07+X3uW5xArmnmoHqDqOcKde38uxfTry+bB1103c=;
        b=vVSmNMIudGoCasoaY7wPsCtu1RmUTx3gtNvxDn6zaLOzYLzg4JH+yUXi41hOuclGiR
         heP6GW+XWofDZlgpVyXj0xq6VFD3zZASlbzPMVHRWwaWYS4VU6fJHObjNXpLzwo2eU8i
         HWdRmooDMfKW7lX85xUnRwMR599V+2G0JIjRlbb0hZOKo8JqCq8BDSMh2v7qXsQbGh30
         yxFk7SEwQMGxh/p4zs9U6z3qzEYGYG2RgXz7kR7S9GIH/sWzYPgVRX6sfTIkhIzIA8j6
         3tlNelwsHVrZfahhcc2X+MTjgj1emEDbi3qHDjCsuqIDJI2Tr/5gnfb1MhyCfMJFWigW
         6g3w==
MIME-Version: 1.0
X-Received: by 10.50.79.161 with SMTP id k1mr4106247igx.14.1426851889523; Fri,
 20 Mar 2015 04:44:49 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Fri, 20 Mar 2015 04:44:49 -0700 (PDT)
In-Reply-To: <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de>
	<1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm>
	<29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de>
	<CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com>
Date: Fri, 20 Mar 2015 12:44:49 +0100
Message-ID: <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com>
Subject: Re: buckets across threads - question
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

More thoughts...

On Fri, Mar 20, 2015 at 12:00 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
> While pool (allocator) allocations are not thread-safe, creating a
> subpool is, and each thread can than use its own pool (this model is
> often used with APR pools).
>
> This tells nothing about pool allocated objects' lifetime though
> (accross/after threads), so maybe can you describe a bit more (but
> less than the code ;) which object has its own or shared pool, with
> regard to http/2 model (request/stream/connection/frame)?

When a subpool is destroyed, it is also recycled by the allocator for
further use, and it can also be cleared-then-recycled explicitly (hand
made, with locking).

It shouldn't be an issue to create a (sub)pool per http/2 entity
(request/stream/connection/frame), the lifetime can even be
controlled/terminated by special (apr_)buckets (destructors), which
when sent through the filters and handled by the last (core) filter,
will be cleared (eg. in httpd, when the request is finished, an EOR
bucket is sent to output filters and will destroy the request once
(not before!) it is fully forwarded, or an error occured (thus the
final brigade containing the special bucket is destroyed, explicitly
or with its pool, and so is the bucket).

With this model, it's "just" a matter of that entity belongs to that
other one (destroyed with it, and possibly cleared-than-recycled in
the meantime for special needs).

Can't that feet to http/2 model?

From dev-return-82280-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 20 13:20:47 2015
Return-Path: <dev-return-82280-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F2F6E176D9
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 20 Mar 2015 13:20:47 +0000 (UTC)
Received: (qmail 56575 invoked by uid 500); 20 Mar 2015 13:20:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56515 invoked by uid 500); 20 Mar 2015 13:20:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56505 invoked by uid 99); 20 Mar 2015 13:20:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Mar 2015 13:20:41 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stefan.eissing@greenbytes.de designates 217.91.35.233 as permitted sender)
Received: from [217.91.35.233] (HELO mail.greenbytes.de) (217.91.35.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Mar 2015 13:20:15 +0000
Received: from delight.greenbytes.de (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 721E215A061D
	for <dev@httpd.apache.org>; Fri, 20 Mar 2015 14:19:43 +0100 (CET)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: buckets across threads - question
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com>
Date: Fri, 20 Mar 2015 14:19:43 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de> <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm> <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de> <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com> <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org

Yann,

the positive effect of the recycling of subpools by the allocator is =
measureable in performance by me. Without a mutex'ed allocator however, =
the destruction of subpools did crash on me (but it might also be =
another bug in my code, of course). First, I resolved to using root =
pools for requests. That did work, however no recycling happened there, =
of course.

With the mutex'ed allocator, it works nicely to have subpools for =
requests in different threads. The recycling happens and the performance =
drastically increases (in my tests, I have many small GETs on a single =
connection).

Looking at the code in httpd, mpm_worker and mpm_event seem to create =
own alloctors for the pools they use and those allocators are not =
protected by a mutex. And need not, since normally a connection and all =
its sub-requests run in the same thread, right?

Cheers,

  Stefan

=
--------------------------------------------------------------------------=
--------------------------------------------------
I'll explain a bit how mod_h2 works now in principle (without code), =
since you asked:

1. a) There are connection filters like in mod_spdy for registering in =
ALPN negotiations and taking over processing.
   b) there is a request filter for non-TLS connections that looks for =
"Upgrade:" headers and tokes over if the correct "h2c" protocol is =
mentioned (and no request body is present). An intermediate 101 response =
is sent and the h2c processing basically takes place on the connection =
of the request. This works basically as the websocket module does it.

2. When h2/h2c is enabled on a connection, a h2_session instance is =
created that performs the HTTP/2 state and administrative processing. =
When no sub-requests are onoing, it does blocking reads. Otherwise it =
does non-blocking reads on connection and sub-request outputs with a =
backoff strategy.
 - libnghttp2 lives isolated in this h2_session, the session is only =
active in the initial connection thread (t0)
 - the session opens a new apr_pool_t with its own mutex'ed allocator.

3. When a new sub-request arrives (stream in http2), the session creates =
a new subpool and does all allocations belonging to the sub-request with =
this subpool. This is all staying inside t0 as well. All this is =
represented by a h2_stream. The new subpools are necessary so that long, =
long, long living connections do not eat up the memory.

4. For the handling of sub-requests in other threads (tn), each =
sub-request gets another subpool that is only used in tn. The object =
representing this is a h2_task. It is given to a worker queue.

5. For the handling of sub-requests, a h2_task creates a new conn_rec, =
populates it with enough data from master to make httpd core =
sufficiently happy to parse and run the request on this connection. The =
new connection gets its own input/output filters and mod_ssl is disabled =
on it.
 - Here is a lot of plumbing done that should some day no longer be =
necessary. The complete sub-requests with all headers do basically =
exist, but are serialized into HTTP/1 format again for the core parsers. =
Attempts to call something like ap_run_request(r) directly have failed =
so far.
 - mpm_event does currently not play nice since it has it's special =
event_conn_state structure hidden behind the normal connection state. I =
have written a hack that make mod_h2 run in mpm_event, but that makes =
assumptions about conn_state. An function in mpm that just sets up a =
"slave" conn_rec, given a master, would be helpful here. =
ap_run_create_connection() is  not enough.

6. Data Transfers
Request body data needs to be transferred from session to tasks, or =
thread-wise speaking from t0 to tn and response bodies the other way =
around. Here I am currently working to replace my previous heap =
allocated buffers with apr_bucket_brigades. I hope with my safe =
allocator and the proper instance of apr_bucket_alloc_t, I can make this =
work. Then mod_h2 would transfer data uncopied between sub-requests to =
the main session processing.

The session has a special objects for transferring data between threads =
and session that has its own mutex for synchronization and some =
conditionals for write/read blocking handling. It also controls memory =
consumption by blocking sub-request responses when a certain amount has =
been buffered.

Overall, we have:

Main players:
  conn_rec *master 1--->1 h2_session 1--->n* h2_stream 1--->1* h2_task

Pools:
  master->pool       from the main connection
  h2_seession->pool  subpool of master->pool with mutex'ed alloc
  h2_stream->pool    subpool of h2_session->pool
  h2_task->pool      subpool of h2_session->pool

Mutex/Session:
  1 for apr_allocator_t
  1 for session/task io sync

Memory/CPU Footprint: each session has a maximum number of open =
sub-requests (configurable) which are executed by a worker pool (min/max =
per child configurable). Memory limit is buffered memory per sub-request =
output (configurable) and maximum input window controlled by HTTP/2 flow =
control  (configurable).

Some clients may keep such connections open for a long time. Here some =
fine-tuning/configurations might become handy (timeout). =46rom a =
resource perspective will be no difference to a long living http/1 =
connection: if no sub-requests are open, all subpools are destroyed and =
the session performs a blocking read on its main connection.

> Am 20.03.2015 um 12:44 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> More thoughts...
>=20
> On Fri, Mar 20, 2015 at 12:00 PM, Yann Ylavic <ylavic.dev@gmail.com> =
wrote:
>>=20
>> While pool (allocator) allocations are not thread-safe, creating a
>> subpool is, and each thread can than use its own pool (this model is
>> often used with APR pools).
>>=20
>> This tells nothing about pool allocated objects' lifetime though
>> (accross/after threads), so maybe can you describe a bit more (but
>> less than the code ;) which object has its own or shared pool, with
>> regard to http/2 model (request/stream/connection/frame)?
>=20
> When a subpool is destroyed, it is also recycled by the allocator for
> further use, and it can also be cleared-then-recycled explicitly (hand
> made, with locking).
>=20
> It shouldn't be an issue to create a (sub)pool per http/2 entity
> (request/stream/connection/frame), the lifetime can even be
> controlled/terminated by special (apr_)buckets (destructors), which
> when sent through the filters and handled by the last (core) filter,
> will be cleared (eg. in httpd, when the request is finished, an EOR
> bucket is sent to output filters and will destroy the request once
> (not before!) it is fully forwarded, or an error occured (thus the
> final brigade containing the special bucket is destroyed, explicitly
> or with its pool, and so is the bucket).
>=20
> With this model, it's "just" a matter of that entity belongs to that
> other one (destroyed with it, and possibly cleared-than-recycled in
> the meantime for special needs).
>=20
> Can't that feet to http/2 model?

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82281-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 20 13:35:14 2015
Return-Path: <dev-return-82281-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6D37D177B8
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 20 Mar 2015 13:35:14 +0000 (UTC)
Received: (qmail 85428 invoked by uid 500); 20 Mar 2015 13:35:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 85348 invoked by uid 500); 20 Mar 2015 13:35:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 85338 invoked by uid 99); 20 Mar 2015 13:35:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Mar 2015 13:35:13 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of minfrin@sharp.fm designates 80.168.143.5 as permitted sender)
Received: from [80.168.143.5] (HELO monica.sharp.fm) (80.168.143.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Mar 2015 13:34:49 +0000
Received: from [192.168.88.148] (unknown [192.168.88.148])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id A2AC380C3D
	for <dev@httpd.apache.org>; Fri, 20 Mar 2015 13:33:47 +0000 (GMT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: buckets across threads - question
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de>
Date: Fri, 20 Mar 2015 15:33:46 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <879BFF0F-3507-4666-9BA7-DDFC11745580@sharp.fm>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de> <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm> <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de> <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com> <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com> <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org

On 20 Mar 2015, at 3:19 PM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:

> Looking at the code in httpd, mpm_worker and mpm_event seem to create =
own alloctors for the pools they use and those allocators are not =
protected by a mutex. And need not, since normally a connection and all =
its sub-requests run in the same thread, right?

As I understand it yes, or more specifically =E2=80=9Ca connection and =
all its subrequests run in one thread at a time=E2=80=9D.

An idea that I have been kicking around for a while is to separate the =
outer connection and the inner requests with pipes. Not sure what this =
would mean for zero-copy of RAM, and atomic writes, but it is something =
worth considering (unless someone tried it and rejected it).

In other words the inner requests would for all intents and purposes =
look like discrete connections in the classic sense, while in reality =
they=E2=80=99d be communicating with another thread that would talk to =
the world.

Regards,
Graham
=E2=80=94


From dev-return-82282-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 20 14:33:47 2015
Return-Path: <dev-return-82282-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 575F717A17
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 20 Mar 2015 14:33:47 +0000 (UTC)
Received: (qmail 51899 invoked by uid 500); 20 Mar 2015 14:33:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51837 invoked by uid 500); 20 Mar 2015 14:33:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51827 invoked by uid 99); 20 Mar 2015 14:33:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Mar 2015 14:33:12 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: local policy)
Received: from [209.85.216.174] (HELO mail-qc0-f174.google.com) (209.85.216.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Mar 2015 14:32:48 +0000
Received: by qcbkw5 with SMTP id kw5so94569560qcb.2
        for <dev@httpd.apache.org>; Fri, 20 Mar 2015 07:31:41 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:message-id:date:from:user-agent:mime-version:to
         :subject:content-type:content-transfer-encoding;
        bh=ZL1V3DE+vviejpDOu+ytwL4k+rrnVJQ4eXprF523z2k=;
        b=gbkNPjaP6nhrJKaGebpKbqeePCmXGgSpcGKNEx7Xf+9CNI64AR2NKBAaQdoLTFoYeT
         /L3TSaV0GWyjkyfNdpOkCaMUsM8HenD38gPvQ4aCN5tJZKVBKy0ATP740yR/vuquR3UA
         5U6FiswPG5a+WJAlChdKlYYzGXmfqOgkun115U3hp9KPo4+bR+Dn99GyRV/9AfWYmQd/
         Lmk3mlD59jCi2c1/+ueXJBaJZ17SlETrAQmLB75ogryTfgmENTC5j0xNvYTm7KvZYuyo
         /sKkR0gZxs1PwkT+Tkfv70i5tNPa88WUwde0dCOnFykRY7LMwCFZRjq+veFHsSsPSUFH
         bIJw==
X-Gm-Message-State: ALoCoQlhlruAGdLOx9N+U2zFcfyDjD0Y00ILvqPgCJ2KDUmgqT7JKFnQyO9VZJ/QJ9aH+xRLAvfW
X-Received: by 10.229.4.4 with SMTP id 4mr101210135qcp.8.1426861900932;
        Fri, 20 Mar 2015 07:31:40 -0700 (PDT)
Received: from localhost.localdomain (cpe-74-138-23-246.swo.res.rr.com. [74.138.23.246])
        by mx.google.com with ESMTPSA id 2sm3126599qgg.31.2015.03.20.07.31.39
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Fri, 20 Mar 2015 07:31:39 -0700 (PDT)
Message-ID: <550C2F49.20109@rcbowen.com>
Date: Fri, 20 Mar 2015 10:31:37 -0400
From: Rich Bowen <rbowen@rcbowen.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.5.0
MIME-Version: 1.0
To: users@httpd.apache.org, dev@httpd.apache.org
Subject: ApacheCon North America, just 3 weeks away!
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Dear Apache httpd enthusiast,

In just a few weeks, we'll be holding ApacheCon in Austin, Texas, and 
we'd love to have you in attendance. You can save $300 on admission by 
registering NOW, since the early bird price ends on the 21st.

Register at http://s.apache.org/acna2015-reg

ApacheCon this year celebrates the 20th birthday of the Apache HTTP 
Server, and we'll have Brian Behlendorf, who started this whole thing, 
keynoting for us, and you'll have a chance to meet some of the original 
Apache Group, who will be there to celebrate with us.

We've got 7 tracks of great talks, as well as BOFs, the Apache BarCamp, 
project-specific hack events, and evening events where you can deepen 
your connection with the larger Apache community. See the full schedule 
at http://apacheconna2015.sched.org/

And if you have any questions, comments, or just want to hang out with 
us before and during the event, follow us on Twitter - @apachecon - or 
drop by #apachecon on the Freenode IRC network.

Hope to see you in Austin!

-- 
Rich Bowen - rbowen@rcbowen.com - @rbowen
http://apachecon.com/ - @apachecon

From dev-return-82283-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 20 16:07:02 2015
Return-Path: <dev-return-82283-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5081317EC8
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 20 Mar 2015 16:07:02 +0000 (UTC)
Received: (qmail 51946 invoked by uid 500); 20 Mar 2015 16:07:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51890 invoked by uid 500); 20 Mar 2015 16:07:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51880 invoked by uid 99); 20 Mar 2015 16:07:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Mar 2015 16:07:01 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rainer.jung@kippdata.de designates 195.227.30.149 as permitted sender)
Received: from [195.227.30.149] (HELO mailserver.kippdata.de) (195.227.30.149)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 20 Mar 2015 16:06:36 +0000
Received: from [172.28.1.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t2KG6Shp021244
	for <dev@httpd.apache.org>; Fri, 20 Mar 2015 17:06:28 +0100 (CET)
Message-ID: <550C457C.4090408@kippdata.de>
Date: Fri, 20 Mar 2015 17:06:20 +0100
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.5.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1634520 - in /httpd/httpd/branches/2.4.x: ./ CHANGES
 STATUS docs/manual/rewrite/advanced.xml modules/proxy/proxy_util.c
References: <20141027124035.AE04723889EC@eris.apache.org> <CAKQ1sVMork70jntdwciu5ejB4Gp6Nk2_kUdUkJ5b2WkkbuUTZQ@mail.gmail.com>
In-Reply-To: <CAKQ1sVMork70jntdwciu5ejB4Gp6Nk2_kUdUkJ5b2WkkbuUTZQ@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Am 23.01.2015 um 11:09 schrieb Yann Ylavic:
> On Mon, Oct 27, 2014 at 1:40 PM,  <jim@apache.org> wrote:
>> Author: jim
>> Date: Mon Oct 27 12:40:34 2014
>> New Revision: 1634520
>>
>> URL: http://svn.apache.org/r1634520
>> Log:
>> Merge r1621367, r1621372, r1625952 from trunk:
>>
>> PR53218
>> Allow for longer worker names and make truncation a non-fatal
>> error...
>>
>>
>> Correct loglevel.
>>
>>
>> oops... prepend 0
>>
>> Reviewed/backported by: jim
>>
>> Modified:
>>      httpd/httpd/branches/2.4.x/   (props changed)
>>      httpd/httpd/branches/2.4.x/CHANGES
>>      httpd/httpd/branches/2.4.x/STATUS
>>      httpd/httpd/branches/2.4.x/docs/manual/rewrite/advanced.xml   (props changed)
>>      httpd/httpd/branches/2.4.x/modules/proxy/proxy_util.c
>>
>
> The "modules/proxy/mod_proxy.h" part of r1621367 was not merge here, ie :
>
> --- httpd/httpd/trunk/modules/proxy/mod_proxy.h (original)
> +++ httpd/httpd/trunk/modules/proxy/mod_proxy.h Fri Aug 29 19:17:45 2014
> @@ -317,7 +317,7 @@ PROXY_WORKER_DISABLED | PROXY_WORKER_STO
>   #define PROXY_WORKER_MAX_SCHEME_SIZE     16
>   #define PROXY_WORKER_MAX_ROUTE_SIZE      96
>   #define PROXY_BALANCER_MAX_ROUTE_SIZE    64
> -#define PROXY_WORKER_MAX_NAME_SIZE       96
> +#define PROXY_WORKER_MAX_NAME_SIZE      192
>   #define PROXY_BALANCER_MAX_NAME_SIZE     64
>   #define PROXY_WORKER_MAX_HOSTNAME_SIZE   96
>   #define PROXY_BALANCER_MAX_HOSTNAME_SIZE 64
>
> So the worker name is still 96 bytes (max) in 2.4.x.

This hasn't changed yet.

From dev-return-82284-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar 22 07:15:16 2015
Return-Path: <dev-return-82284-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1B4EB17B88
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 22 Mar 2015 07:15:16 +0000 (UTC)
Received: (qmail 95108 invoked by uid 500); 22 Mar 2015 07:15:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 95042 invoked by uid 500); 22 Mar 2015 07:15:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 95033 invoked by uid 99); 22 Mar 2015 07:15:15 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 22 Mar 2015 07:15:15 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id E04371A035F
	for <dev@httpd.apache.org>; Sun, 22 Mar 2015 07:15:14 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id 5A2E860A86; Sun, 22 Mar 2015 07:15:14 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2015/03/22]
Message-Id: <20150322071514.5A2E860A86@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 22 Mar 2015 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 7483|Ass|Enh|2002-03-26|Add FileAction directive to assign a cgi interpret|
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|12680|New|Enh|2002-09-16|Digest authentication with integrity protection   |
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|18497|New|Min|2003-03-30|configure --help gives wrong default for sysconfdi|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21253|New|Nor|2003-07-01|Mime magic doesn't continue if type is specifed fo|
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22005|Ver|Nor|2003-07-30|Win32: "Help I'm Stuck!" menu item leads to dead e|
|22138|Inf|Cri|2003-08-05|Webdav is not preccessing special chars right.    |
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Nor|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42001|New|Cri|2007-03-30|LINUX : Could not set LDAP_OPT_X_TLS to LDAP_OPT_X|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Opn|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|httpd fails to start if log directory does not exi|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43532|Inf|Cri|2007-10-02|Error while compiling Apache 2.2.3 on HPUX        |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44736|New|Cri|2008-04-01|mod_proxy_balancer looses it's mind on reloads.   |
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|New|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45926|Inf|Nor|2008-10-01|Unable to start apache 2.2.9                      |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46054|New|Nor|2008-10-21|Running httpd returns the error "bad user name nob|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46421|New|Maj|2008-12-19|module mod_authz_dbd - doesn't work when multiple |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Nor|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46724|Inf|Cri|2009-02-17|WinXP SP3 - Apache crashes on startup in libapr-1.|
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47241|New|Min|2009-05-22|Error in rewriting with character ':'             |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47289|New|Nor|2009-05-30|Can't build with dynamic libraries on Mac OS 10.4 |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|Inf|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48309|New|Maj|2009-11-30|libapreq2-2.12: "make test" fails at request.t and|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50740|New|Enh|2011-02-09|Enable OCSP Stapling by default                   |
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|New|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51336|New|Enh|2011-06-07|need a topic for serving pre-compressed content   |
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51412|New|Nor|2011-06-21|Nasty warning in ftp_cmd_pbsz() -- dangerous, wher|
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels|
|51747|New|Nor|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51842|New|Enh|2011-09-18|Suggesting a new action for the Header directive: |
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51959|Ver|Nor|2011-10-05|Broken link to "Mastering Regular Expressions, by |
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52210|Opn|Enh|2011-11-18|Add TLS Next Protocol Negotiation (NPN) support to|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Enh|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52523|New|Nor|2012-01-25|Headers from mod_expires are wrongly set for redir|
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52756|Inf|Trv|2012-02-24|proxy_html_module LoadModule line not created in h|
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52820|New|Min|2012-03-04|SSLProtocol/SSLProxyProtocol doesn't iterate prope|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52831|New|Nor|2012-03-05|mod_rewrite redirect broken with IPv6 literal addr|
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52845|New|Nor|2012-03-07|"DirectoryIndex disabled" cannot disable index fil|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52855|Opn|Maj|2012-03-08|mod_ftp does not build against 2.4.x              |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53121|New|Nor|2012-04-22|Confusing documentation, gzip and deflate         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53153|New|Nor|2012-04-26|Rewrite documentation unclear or wrong about what |
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53349|New|Nor|2012-06-01|CONTENT_TYPE erroneously seen as empty string for |
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53530|New|Nor|2012-07-10|<Directory> docs don't explain when to use quotes |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54364|New|Nor|2012-12-31|Add ref to mod_fcgid docs                         |
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54587|Opn|Nor|2013-02-19|LDAPConnectionPoolTimeout does not work in all cas|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55089|New|Nor|2013-06-10|Caching of LDAP credentials is not clearly documen|
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55100|New|Nor|2013-06-13|--with-perl referenced but not explained          |
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55123|New|Nor|2013-06-20|Formatting issue in ABOUT_APACHE                  |
|55147|New|Nor|2013-06-26|"Header always" w/ cache different in 2.4         |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55350|New|Maj|2013-08-03|mpm-itk and mod_fcgid do not work together        |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55420|New|Nor|2013-08-14|Integer underflow in lock timeout computation     |
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55449|New|Maj|2013-08-19|AH01185: worker slotmem_create failed --> slotmem |
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55741|New|Min|2013-11-04|Documentation is served with incorrect character e|
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55808|New|Nor|2013-11-21|File integrity verification using MD5 and SHA1    |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|New|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55841|New|Nor|2013-12-04|Misleading news items on bugfix releases ("This ve|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55892|New|Nor|2013-12-16|ProxyRemote with HTTPS backend sends requests with|
|55897|New|Nor|2013-12-17|[PATCH]patch with SO_REUSEPORT support            |
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|Inf|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55990|Inf|Nor|2014-01-12|SetEnv vs. =! inconsistentcy not documented       |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56035|Inf|Nor|2014-01-20|Issue with LimitRequestBody                       |
|56040|Inf|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56214|New|Nor|2014-03-03|Spanish translation of Apache's error pages       |
|56226|New|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56241|New|Min|2014-03-10|SNI sends warning upon name not found, RFC 6066 di|
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56346|New|Nor|2014-04-03|self-signed cert documentation creates a certifica|
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56414|Inf|Nor|2014-04-15|SNI & HTTP hostname different because of user@    |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56687|New|Nor|2014-07-01|ProxySourceAddress failed to bind socket to local |
|56695|New|Nor|2014-07-03|Doc error on option %O for mod_logio              |
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56729|New|Reg|2014-07-16|Can't use HTTP 1.1 Keep-Alive with mod_reqtimeout |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56767|New|Nor|2014-07-24|ap_update_child_status breaks with segmentation fa|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|New|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56823|New|Nor|2014-08-07|returning 200 status when ap_get_brigade failed   |
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56855|New|Enh|2014-08-14|mod_proxy_fcgi: add PassHeader directive          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56872|New|Nor|2014-08-19|Small request bodies bypass DeflateInflateLimitReq|
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56898|New|Nor|2014-08-28|Headers in err_headers_out are not returned when a|
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56922|New|Nor|2014-09-07|FallbackResource doesn't fall back with %2F in URL|
|56925|New|Maj|2014-09-08|ProxyErrorOverride=On causes workers in error stat|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56984|Opn|Cri|2014-09-15|Random and frequent Segmentation fault (11)       |
|56985|New|Nor|2014-09-16|Clarify which IndexOptions require FancyIndexing  |
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57077|Opn|Nor|2014-10-11|flood svn link does not work                      |
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57109|New|Nor|2014-10-17|GPG verification examples are wrong               |
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57120|New|Nor|2014-10-21|Disable SSLv3 by default (POODLE)                 |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57139|New|Nor|2014-10-24|mod_proxy uses wrong Host header when using an HTT|
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57177|New|Nor|2014-11-03|terminated by signal ILL in server/scoreboard.c li|
|57189|New|Enh|2014-11-05|Norwegian translation of Apache's error pages     |
|57207|New|Nor|2014-11-13|[mod_ssl] Add a way to retrieve email in alternati|
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|New|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57358|New|Nor|2014-12-17|Incorrect If-Match handling                       |
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57375|New|Enh|2014-12-19|Support LibreSSL as an alternative toolkit for mod|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Nor|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57524|New|Nor|2015-02-02|Opcode and other fields calculated wrong in mod_lu|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57531|New|Nor|2015-02-03|2.4.12 segmentation fault when accessing host on L|
|57584|New|Nor|2015-02-13|AddHandler etc. documentation "extension" unintuit|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57600|New|Nor|2015-02-18|Presence of SSLCACertificateFile/Path causes root |
|57615|Inf|Nor|2015-02-21|HTTPS CONNECT target hostname incorrectly validate|
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57694|New|Nor|2015-03-12|Crash using SSL certificate with pathlen constrain|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57726|New|Nor|2015-03-18|Internal server Error (500) on specific word at se|
+-----+---+---+----------+--------------------------------------------------+
| Total 1496 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-82285-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 23 16:59:53 2015
Return-Path: <dev-return-82285-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8DAF51776F
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 23 Mar 2015 16:59:53 +0000 (UTC)
Received: (qmail 63216 invoked by uid 500); 23 Mar 2015 16:59:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63146 invoked by uid 500); 23 Mar 2015 16:59:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63136 invoked by uid 99); 23 Mar 2015 16:59:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Mar 2015 16:59:53 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of stefan.eissing@greenbytes.de designates 217.91.35.233 as permitted sender)
Received: from [217.91.35.233] (HELO mail.greenbytes.de) (217.91.35.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Mar 2015 16:59:46 +0000
Received: from delight.fritz.box (unknown [84.150.86.166])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id C3EA615A0518
	for <dev@httpd.apache.org>; Mon, 23 Mar 2015 17:59:22 +0100 (CET)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Subject: ALPN support
Message-Id: <0475B75D-5981-4ECF-A46C-57757B9117CA@greenbytes.de>
Date: Mon, 23 Mar 2015 17:59:20 +0100
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org

As some people expressed interest in mod_h2, I would like to kindly ask =
the committers on this list if someone could take a look at ALPN support =
for mod_ssl (https://bz.apache.org/bugzilla/show_bug.cgi?id=3D52210). It =
is basically a patch that adds ALPN to the NPN patch from mod_spdy =
(which has been added to trunk, but not merged into 2.4).

With more people interested in http/2, it would be beneficial for =
developers and experimenters to have ALPN support in a 2.4 mod_ssl in =
the foreseeable future. Please consider.

Regards,

  Stefan


PS. I am in no way emotionally attached to this very patch. If the list =
choses a different one, that would be fine as well and I will adapt =
mod_2 accordingly.


<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82286-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 23 18:15:14 2015
Return-Path: <dev-return-82286-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 493D117BF2
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 23 Mar 2015 18:15:14 +0000 (UTC)
Received: (qmail 54836 invoked by uid 500); 23 Mar 2015 18:15:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54765 invoked by uid 500); 23 Mar 2015 18:15:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54754 invoked by uid 99); 23 Mar 2015 18:15:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Mar 2015 18:15:13 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.172 as permitted sender)
Received: from [209.85.213.172] (HELO mail-ig0-f172.google.com) (209.85.213.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Mar 2015 18:14:48 +0000
Received: by igcau2 with SMTP id au2so50240299igc.0
        for <dev@httpd.apache.org>; Mon, 23 Mar 2015 11:14:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=Hlr9RJlMlXYQT+da38QCJxYrWAmkHP8WKDm/j4piPB0=;
        b=cETH1rql0fqC0W3DvosD1hCARibNMub44oBedX7ABy+LAHD9NYOfeDGreVIX+T/K5/
         p3GUsTOg9nnsRm9v8QR4XYsUwhD4GCE01P3izwZztBAhLhomLtV3WxPjP4UkyLw6ANew
         284XlvG9J09ePa1dr9MM1JJhIIPINyuAXkdjBzs4sKFYnvg1FhQH9DA1CJRSidHADnBE
         FVOEUUDGgx9Z0pm3HNcE7RlCRnd/b2MgTv+R9CeQxxr7o6DOoilITl1B0c+tjG4hFagD
         S88pSYLcOrGYwQtnzGJEdT+a8luLEOlNAkfHJocqd6+/Ti1VYqgFr4nSVauhT0nvaK+S
         hWFg==
MIME-Version: 1.0
X-Received: by 10.107.10.82 with SMTP id u79mr597251ioi.65.1427134486687; Mon,
 23 Mar 2015 11:14:46 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Mon, 23 Mar 2015 11:14:46 -0700 (PDT)
In-Reply-To: <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de>
	<1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm>
	<29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de>
	<CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com>
	<CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com>
	<D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de>
Date: Mon, 23 Mar 2015 19:14:46 +0100
Message-ID: <CAKQ1sVNjaHtvjKakfpt+_9A_g8PQzHFGLQr301NknebFmkW9Mg@mail.gmail.com>
Subject: Re: buckets across threads - question
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Stefan,

On Fri, Mar 20, 2015 at 2:19 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
>
> Looking at the code in httpd, mpm_worker and mpm_event seem to create own=
 alloctors for the pools they use and those allocators are not protected by=
 a mutex. And need not, since normally a connection and all its sub-request=
s run in the same thread, right?

This is true for 2.4.x, however in trunk one (handler) can register a
socket callback and return SUSPENDED, for the event MPM to do all of
the poll()ing stuff and provide a worker thread for the callback when
sockets are ready (either way).

There is an example on how this can be used in mod_proxy_wstunnel
(when "ProxyWebsocketAsync on" is configured), in trunk only (still)
so it may not be very tested.
I think it suits quite well the async nature of http/2 (with a state
machine in the callback for the real work, and all the polling and
threading handled by httpd), maybe it's worth a try.

It does not help on the pool issues you have got now though, maybe
some work is needed in HTTP/SSL/core input/output filters so that they
use the pool/allocator of their given buckets brigades (instead of
eg., r->pool and c->bucket_alloc), since multiple threads working on
the same connection is not really a possibility in httpd (for now...).

Thanks anyway for the great explanation on how mod_h2 works.

Regards,
Yann.

From dev-return-82287-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 23 22:09:38 2015
Return-Path: <dev-return-82287-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6F5F417A2B
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 23 Mar 2015 22:09:38 +0000 (UTC)
Received: (qmail 17468 invoked by uid 500); 23 Mar 2015 22:09:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 17394 invoked by uid 500); 23 Mar 2015 22:09:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 17384 invoked by uid 99); 23 Mar 2015 22:09:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Mar 2015 22:09:37 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.175 as permitted sender)
Received: from [209.85.213.175] (HELO mail-ig0-f175.google.com) (209.85.213.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 23 Mar 2015 22:09:11 +0000
Received: by igbud6 with SMTP id ud6so55867690igb.1
        for <dev@httpd.apache.org>; Mon, 23 Mar 2015 15:09:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=ILlZCj1FUT8kpLNCFvx70riB+IOX3/AjVRA717u0K5Q=;
        b=OF0v2o9lXqA4HY925FJOtFtOsFy50Hjx55Xc6QvL0t+cJWQWQKZTrdgyDYjw6ZrWEn
         NQ6vXyP0h7r3HGfpwD+AZW0onTz8NjDPccMpS43uSW2xV7HJmhmujk0EQyW0xyNT8p32
         b3ZtSpEFumWMFnhL/wRg80xU3tCoxbeJEwLt4BQq3GVr0T8ciuZ9AV1GWzHKBKV9wiUu
         vVzmFhnNtmZmzz7c/QUaO2Ol6BoQgvS304cmjeVoHY9sRAc1qSPMAWoTR09KThm6fZJ7
         9GtqRNjEcLp/CEH/vDH5tPQs4nxaL/fyZCKySkNjOh0TyX/y5HFwJuQwktCJWicz7t2J
         lUuA==
MIME-Version: 1.0
X-Received: by 10.50.79.161 with SMTP id k1mr17695046igx.14.1427148549991;
 Mon, 23 Mar 2015 15:09:09 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Mon, 23 Mar 2015 15:09:09 -0700 (PDT)
In-Reply-To: <20150314000932.9A9FDAC0163@hades.apache.org>
References: <20150314000932.9A9FDAC0163@hades.apache.org>
Date: Mon, 23 Mar 2015 23:09:09 +0100
Message-ID: <CAKQ1sVO=K1VHLU7zfz4PPv1Y58if9Li2moQK2wX6HzZkiNH9ug@mail.gmail.com>
Subject: Re: svn commit: r1666619 - /httpd/httpd/trunk/server/mpm/motorz/motorz.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Sat, Mar 14, 2015 at 1:09 AM,  <ylavic@apache.org> wrote:
> Author: ylavic
> Date: Sat Mar 14 00:09:32 2015
> New Revision: 1666619
>
> URL: http://svn.apache.org/r1666619
> Log:
> mpm_motorz: follow up to r1666482.
> We only need one compare function for add semantic with apr_skiplist_insert()
> and unique timers (pointers). It also works with apr_skiplist_remove() and
> apr_skiplist_find().
>
> Modified:
>     httpd/httpd/trunk/server/mpm/motorz/motorz.c
>
> Modified: httpd/httpd/trunk/server/mpm/motorz/motorz.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/server/mpm/motorz/motorz.c?rev=1666619&r1=1666618&r2=1666619&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/server/mpm/motorz/motorz.c (original)
> +++ httpd/httpd/trunk/server/mpm/motorz/motorz.c Sat Mar 14 00:09:32 2015
> @@ -64,21 +64,18 @@ static motorz_core_t *motorz_core_get()
>      return g_motorz_core;
>  }
>
> -static int indexing_comp(void *a, void *b)
> +static int timer_comp(void *a, void *b)
>  {
> -    apr_time_t t1 = (apr_time_t) (((motorz_timer_t *) a)->expires);
> -    apr_time_t t2 = (apr_time_t) (((motorz_timer_t *) b)->expires);
> -    AP_DEBUG_ASSERT(t1);
> -    AP_DEBUG_ASSERT(t2);
> -    return ((t1 < t2) ? -1 : 1);
> -}
> -
> -static int indexing_compk(void *ac, void *b)
> -{
> -    apr_time_t *t1 = (apr_time_t *) ac;
> -    apr_time_t t2 = (apr_time_t) (((motorz_timer_t *) b)->expires);
> -    AP_DEBUG_ASSERT(t2);
> -    return ((*t1 < t2) ? -1 : 1);
> +    if (a != b) {
> +        apr_time_t t1 = (apr_time_t) (((motorz_timer_t *) a)->expires);
> +        apr_time_t t2 = (apr_time_t) (((motorz_timer_t *) b)->expires);
> +        AP_DEBUG_ASSERT(t1);
> +        AP_DEBUG_ASSERT(t2);
> +        return ((t1 < t2) ? -1 : 1);
> +    }
> +    else {
> +        return 0;
> +    }
>  }

I expected this compare function to work with apr_skiplist_remove()
but actually it does not.
The goal was to match the given pointer only (and not any other
duplicate!), but by returning +1 when a != b && t1 == t2, we may skip
timers inserted first should any duplicate be inserted later with a
higher eight.

For example, the below is the gdb output (dump_dipklist) after 10
duplicates have been inserted, where each 2-tuple is the address of
the node (0x...,) containing the address of the element (,000000...):

(gdb) dump_skiplist skiplist
skiplist@0x69aba0: size=10: height=3
(0x69b008,000000000000) (0x6ac3c0,000000000000) (0x6ac628,000000000000)
(0x69b048,00000069b000)
(0x6ac338,00000069b088)
(0x6ac380,0000006ac378) (0x6ac400,0000006ac378)
(0x6ac448,0000006ac440)
(0x6ac490,0000006ac488) (0x6ac4d0,0000006ac488)
(0x6ac518,0000006ac510)
(0x6ac560,0000006ac558)
(0x6ac5a8,0000006ac5a0) (0x6ac5e8,0000006ac5a0) (0x6ac668,0000006ac5a0)
(0x6ac6b0,0000006ac6a8) (0x6ac6f0,0000006ac6a8)
(0x6ac738,0000006ac730) (0x6ac778,0000006ac730)

If e.g. we now try to remove the element (0x6ac448,0000006ac440),
starting at the top (0x6ac628,000000000000), we will jump directly
next to (0x6ac668,0000006ac5a0), then down (no next) to
(0x6ac5e8,0000006ac5a0), then next to (0x6ac6f0,0000006ac6a8), then
next to (0x6ac778,0000006ac730), then down (no next) to
(0x6ac738,0000006ac730), and finally (no next, no down) to NULL.
All the elements (all duplicates) between the top and
(0x6ac668,0000006ac5a0) have been skipped, hence we had no chance to
find (0x6ac448,0000006ac440), because at least one element was
inserted later (exactly 4 here) with a higher eight.

This is not an issue about insert vs add semantic, with both functions
we still need a "reliable" compare function to remove the exact
(requested) timer, and I see no way to build one...

Thoughts?

From dev-return-82288-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 24 12:18:50 2015
Return-Path: <dev-return-82288-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B5EF717E9B
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 24 Mar 2015 12:18:50 +0000 (UTC)
Received: (qmail 69648 invoked by uid 500); 24 Mar 2015 12:18:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 69583 invoked by uid 500); 24 Mar 2015 12:18:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 69572 invoked by uid 99); 24 Mar 2015 12:18:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Mar 2015 12:18:50 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of covener@gmail.com designates 74.125.82.42 as permitted sender)
Received: from [74.125.82.42] (HELO mail-wg0-f42.google.com) (74.125.82.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Mar 2015 12:18:24 +0000
Received: by wgbcc7 with SMTP id cc7so169498215wgb.0
        for <dev@httpd.apache.org>; Tue, 24 Mar 2015 05:16:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=dtoT00A3aK2xQ5h4aQMFBl1MsQvHtfgszN+ZgiBmh3Y=;
        b=MrXlf59rupFu+U3ZgSPIQCUJaZULcTWlxFlmMFi/tzdQQanNctbVIurcHHXQIW/F9u
         kxVC2AiuwX5ko3xWYao3VEAZJB/CYf/7seujtQ4CY8uLj09eA2B5j6sDZGNYgg6ZHHeZ
         6YLoEK8Z0/LJ4MMfqbBW3XrF5V+Bx6/SgPezIJqbqnikQimGg6FFQFdW2vCrBnpGPtH9
         iUsFkWTCfjQbr+ELZAP6wBBTqv3dS5LdNDzjFXIrSnIQpp9Ic8buwdJzeCmzCqs8tYGZ
         92VoxNbOAJuQcCXkhhL52hv2l/aFXEewngEVxpDLYHNE+7G6y1h2RmJbIyQcDmujdAk3
         CRvg==
MIME-Version: 1.0
X-Received: by 10.194.48.74 with SMTP id j10mr7821298wjn.38.1427199413335;
 Tue, 24 Mar 2015 05:16:53 -0700 (PDT)
Received: by 10.27.86.165 with HTTP; Tue, 24 Mar 2015 05:16:53 -0700 (PDT)
Date: Tue, 24 Mar 2015 08:16:53 -0400
Message-ID: <CALK=YjM0j=c+h0CF4gPQLHpp3cZ-xjRAgwC9AtpM4f_0TXxm5Q@mail.gmail.com>
Subject: fast sequential requests under event
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Some time ago we had an internal report at $bigco that under a very
specific load test, event performed significantly worse than worker.
The particular test very fast/small responses with keepalive but no
pipelining.

One clear culprit is each keepalive request (without pipelining to
trigger the data-in-input-filters path) grabbing the timeout/keepalive
mutex.

Doing a one-socket poll on the request thread with even a fraction of
a second before grabbing the mutex and giving the thread back allows
things like static elements referenced from a page to be handled on
the same thread (and without contention over the timeout/keepalive
mutex).  There might be a similar effect with Apache behind a reverse
proxy that keeps the connection busy but doesn't pipeline.

But, I don't know how damaging tieing up that thread will really be.
And I don't know if we can be smart about when we sit on the thread.

Any thoughts?
-- 
Eric Covener
covener@gmail.com

From dev-return-82289-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 24 20:03:29 2015
Return-Path: <dev-return-82289-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6647C17847
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 24 Mar 2015 20:03:29 +0000 (UTC)
Received: (qmail 97844 invoked by uid 500); 24 Mar 2015 20:03:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97776 invoked by uid 500); 24 Mar 2015 20:03:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97766 invoked by uid 99); 24 Mar 2015 20:03:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Mar 2015 20:03:28 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: local policy)
Received: from [68.178.252.103] (HELO p3plsmtpa11-02.prod.phx3.secureserver.net) (68.178.252.103)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 24 Mar 2015 20:03:24 +0000
Received: from hub ([76.252.112.72])
	by p3plsmtpa11-02.prod.phx3.secureserver.net with 
	id 7Y2i1q0061Zmh9Y01Y2ihL; Tue, 24 Mar 2015 13:02:43 -0700
Date: Tue, 24 Mar 2015 15:02:39 -0500
From: "William A. Rowe Jr." <wrowe@rowe-clan.net>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Subject: Re: Apache 2.4 adoption revisited -- now 16.4% of Apache sites
Message-ID: <20150324150239.060e16e6@hub>
In-Reply-To: <CALK=YjO-epYxuoG9paTMhL6BdbMU_JtJwPFFPEkw93F_mBwj2A@mail.gmail.com>
References: <CALK=YjO-epYxuoG9paTMhL6BdbMU_JtJwPFFPEkw93F_mBwj2A@mail.gmail.com>
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.27; x86_64-redhat-linux-gnu)
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, 12 Mar 2015 12:54:16 -0400
Eric Covener <covener@gmail.com> wrote:

> I stumbled on this link that Bill had shared previously and went back
> to look at previous snapshots:
> 
> March 2014: 2.0: 4.1%, 2.4: 4.3%
> 
> http://web.archive.org/web/20140327151641/http://w3techs.com/technologies/details/ws-apache/2/all
> 
> Today (March 2015) : 2.0: 2.8%, 2.4: 16.4%
> 
> http://w3techs.com/technologies/details/ws-apache/2/all

They've added some sweet graphing features as well...

http://w3techs.com/technologies/history_details/ws-apache/2.4

Note the fast fall off of 2.4.10 is mirrored and amplified by 2.4.12
pickup.

From dev-return-82290-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 26 09:10:44 2015
Return-Path: <dev-return-82290-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F365B172A7
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 26 Mar 2015 09:10:43 +0000 (UTC)
Received: (qmail 37054 invoked by uid 500); 26 Mar 2015 09:10:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36991 invoked by uid 500); 26 Mar 2015 09:10:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36981 invoked by uid 99); 26 Mar 2015 09:10:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Mar 2015 09:10:43 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.172 as permitted sender)
Received: from [209.85.213.172] (HELO mail-ig0-f172.google.com) (209.85.213.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Mar 2015 09:10:17 +0000
Received: by ignm3 with SMTP id m3so9978163ign.0
        for <dev@httpd.apache.org>; Thu, 26 Mar 2015 02:09:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=efMfn+THyWPzpaGak87ynx8jCUYITZ+V3pzMGsQWwYY=;
        b=cLwGjeXY630/pToQ9wEND2kVFN94l2qhNDl4UIjGjs87J97b3D/Ki+oRm8FQk4mj72
         CgQCTukXojbluq+EELgW+u/hxFZqbcED+4fQU4FTY6vlQGdExIDXuICiw/7VP/vgIOzb
         1iHeuJJYu0QsSGq3EABCk1co0B8ZnRzMPoUAvmNTMAF6Cx22SJdol9sL9MF96FFJOYcX
         XL/3t6oH3/IppRwvZcRfLX+EqIbZEcoJqXOdGefot3zDRU8Dcz3pZ0yYWQv8MZ/tSz44
         1l+DT9PK01Mko5Uxvd1kkLOhRr3eGadSJdwWp+37OTss9jM3yJhBpiy5n8h1qm+j4Rx1
         1ZWA==
MIME-Version: 1.0
X-Received: by 10.107.30.135 with SMTP id e129mr19905202ioe.26.1427360971217;
 Thu, 26 Mar 2015 02:09:31 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Thu, 26 Mar 2015 02:09:31 -0700 (PDT)
In-Reply-To: <55095D12.6020106@redhat.com>
References: <5508123E.8090509@redhat.com>
	<CAKQ1sVMGCaXZBZUs3ObSRQjrR2GZtemejph56Xxkvvb0Drj=bQ@mail.gmail.com>
	<5508224D.20705@redhat.com>
	<CAKQ1sVOAWq5xvAmooN+AZy_c_0gk53Wya70ouzrPmfgUcWJS2w@mail.gmail.com>
	<55092428.1090002@redhat.com>
	<CAKQ1sVOeKfg4jZc+2dNNUeb-pOL0VUnGz1UVyhBuN2AHGiaVig@mail.gmail.com>
	<55093BC4.6070201@redhat.com>
	<CAKQ1sVPz6YNWb1Zp7FL2-1LgEx8Ljw3q=scyS_e8JbT+OPG59g@mail.gmail.com>
	<55094599.4080202@redhat.com>
	<CAKQ1sVPq-9cqS4zKvfwuC5Hi1mXZ=PkFUXrqSv2LexSNRzdJyw@mail.gmail.com>
	<CAKQ1sVNUYhPUvGpNVD5oMdo2N9WG4w8gj6SqZ0OVFeD1uTNXMA@mail.gmail.com>
	<CAKQ1sVNL0FXteeTJwaxgVbrs554=VcR3_TcuvzyEWftFgfvAPw@mail.gmail.com>
	<55095D12.6020106@redhat.com>
Date: Thu, 26 Mar 2015 10:09:31 +0100
Message-ID: <CAKQ1sVP8GvRNQm4DeeyqsAjf2bm81iLisQNLqpz3+7r_ArqV_g@mail.gmail.com>
Subject: Re: mod_proxy_wstunnel ignores proxy_wstunnel_transfer errors
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Mar 18, 2015 at 12:10 PM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrot=
e:
>
> +1 for the last patch. It fixes the bug I see.

Thanks, committed in r1669299.

Regards,
Yann.

From dev-return-82291-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 26 13:24:44 2015
Return-Path: <dev-return-82291-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 070F410FD2
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 26 Mar 2015 13:24:44 +0000 (UTC)
Received: (qmail 19441 invoked by uid 500); 26 Mar 2015 13:24:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 19376 invoked by uid 500); 26 Mar 2015 13:24:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 19366 invoked by uid 99); 26 Mar 2015 13:24:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Mar 2015 13:24:34 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.170 as permitted sender)
Received: from [209.85.213.170] (HELO mail-ig0-f170.google.com) (209.85.213.170)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Mar 2015 13:24:08 +0000
Received: by igbqf9 with SMTP id qf9so52997981igb.1
        for <dev@httpd.apache.org>; Thu, 26 Mar 2015 06:23:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=aBeqbMPnrevZsqMrQdszH5hfZhf/gZOq18hcqWZyK5k=;
        b=DFd5/oi7NMJqiCiPW6hhQhQoMetFmgkGZBAa80hUEa/UpCA7jVOlitOJyxFM6rb5q5
         um6EZFfkvvA0dGtkC+7P1rLLOo3Kud6Hgx+erj9Tis1DTUUh+8WKAbJBGKz3AI/vPhPs
         fEdVqO8XKUu2JDJwdjUAQlfP0820gWu/txxYPf3vhVOvM6t4UOOa6j/j/LZvJZhHiY0d
         0+ARtOK4rVofmDXFLi8T9jqtP8zrx5rVaR1LQveg2jQp3D/ic+M0N44ov5TWjWGm83ee
         M+9ioNckVQ/snFnOag7BebRaWNYAmitEEOS+42sCIMbhdomZMyW9VnyEUjv08WyBxALj
         6TmQ==
MIME-Version: 1.0
X-Received: by 10.43.90.199 with SMTP id bj7mr38148596icc.35.1427376201828;
 Thu, 26 Mar 2015 06:23:21 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Thu, 26 Mar 2015 06:23:21 -0700 (PDT)
In-Reply-To: <CALK=YjM0j=c+h0CF4gPQLHpp3cZ-xjRAgwC9AtpM4f_0TXxm5Q@mail.gmail.com>
References: <CALK=YjM0j=c+h0CF4gPQLHpp3cZ-xjRAgwC9AtpM4f_0TXxm5Q@mail.gmail.com>
Date: Thu, 26 Mar 2015 14:23:21 +0100
Message-ID: <CAKQ1sVNYwBcj9S4fVH-O+VwzE0d3MdPsNAwwWD07v0FvaVS4SA@mail.gmail.com>
Subject: Re: fast sequential requests under event
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Mar 24, 2015 at 1:16 PM, Eric Covener <covener@gmail.com> wrote:
>
> Any thoughts?

Wouldn't something like this help?

Index: modules/http/http_request.c
===================================================================
--- modules/http/http_request.c    (revision 1669289)
+++ modules/http/http_request.c    (working copy)
@@ -232,7 +232,10 @@ static void check_pipeline(conn_rec *c, apr_bucket
 {
     if (c->keepalive != AP_CONN_CLOSE && !c->aborted) {
         apr_status_t rv;
+        apr_socket_t *csd = ap_get_conn_socket(c);

+        apr_socket_opt_set(csd, APR_INCOMPLETE_READ, 1);
+
         AP_DEBUG_ASSERT(APR_BRIGADE_EMPTY(bb));
         rv = ap_get_brigade(c->input_filters, bb, AP_MODE_SPECULATIVE,
                             APR_NONBLOCK_READ, 1);
@@ -245,6 +248,8 @@ static void check_pipeline(conn_rec *c, apr_bucket
         }
         else {
             c->data_in_input_filters = 1;
+
+            apr_socket_opt_set(csd, APR_INCOMPLETE_READ, 0);
         }
     }
 }
--

This is an immediate poll() though, not with a "fraction of a second" timeout.
We could also apr_socket_timeout_set() something, but I'm afraid it
would be at the expense of other events when nothing is available...

From dev-return-82292-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Mar 26 13:29:03 2015
Return-Path: <dev-return-82292-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B70FB17257
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 26 Mar 2015 13:29:03 +0000 (UTC)
Received: (qmail 38268 invoked by uid 500); 26 Mar 2015 13:28:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38190 invoked by uid 500); 26 Mar 2015 13:28:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38180 invoked by uid 99); 26 Mar 2015 13:28:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Mar 2015 13:28:50 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of covener@gmail.com designates 209.85.212.179 as permitted sender)
Received: from [209.85.212.179] (HELO mail-wi0-f179.google.com) (209.85.212.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 26 Mar 2015 13:28:25 +0000
Received: by wibgn9 with SMTP id gn9so85289104wib.1
        for <dev@httpd.apache.org>; Thu, 26 Mar 2015 06:28:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=TqsRyIs+dZy7odh+4JceR9hyrmgVMFy3riVNE6z7eXY=;
        b=N02ij9kHms1flJMTAYwRZ3+oTP6NpzZxSXlJqcmNCFcSdmu7l5w5G9bpM5nAzQFYh/
         ch0mxLHRgtHRqh98mHQI3RRaODL0pHK9t+94mPD33VSAIa5KWpNqWtzv+5XxOmcqe0ay
         wOqFRWY5DVmDuEqytzcl9pedU4R//uMLbIeCt9A4/rysT0+PtOJQPF6K/TRCHTbidO2M
         Wm6Y2TafNCv5ir9C5CCeHc3P4RGO9duHumBoNglfrlqrDczZsEsp0VGipssZomip1U7n
         fZCy9vxn9QPYpAei84dLe7PDfeN8z34SaqQRWOVvFK5Img7dWfEYZnZT4/KOin++7Fg8
         KsbA==
MIME-Version: 1.0
X-Received: by 10.180.77.110 with SMTP id r14mr46697770wiw.89.1427376503646;
 Thu, 26 Mar 2015 06:28:23 -0700 (PDT)
Received: by 10.27.86.165 with HTTP; Thu, 26 Mar 2015 06:28:23 -0700 (PDT)
In-Reply-To: <CAKQ1sVNYwBcj9S4fVH-O+VwzE0d3MdPsNAwwWD07v0FvaVS4SA@mail.gmail.com>
References: <CALK=YjM0j=c+h0CF4gPQLHpp3cZ-xjRAgwC9AtpM4f_0TXxm5Q@mail.gmail.com>
	<CAKQ1sVNYwBcj9S4fVH-O+VwzE0d3MdPsNAwwWD07v0FvaVS4SA@mail.gmail.com>
Date: Thu, 26 Mar 2015 09:28:23 -0400
Message-ID: <CALK=YjM-J3P4q74qjCu+eVdU=iSRhUs64-GTT5JPq6nSM8C2dA@mail.gmail.com>
Subject: Re: fast sequential requests under event
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

That is certainly less code then Ed's proof of concept -- how
uncharacteristic of you :)

Hogging the thread is really what I am concerned about. I assume we
can know when threads are bountiful vs. under pressure in our own
process (since there is that listener pausing stuff).



On Thu, Mar 26, 2015 at 9:23 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Tue, Mar 24, 2015 at 1:16 PM, Eric Covener <covener@gmail.com> wrote:
>>
>> Any thoughts?
>
> Wouldn't something like this help?
>
> Index: modules/http/http_request.c
> ===================================================================
> --- modules/http/http_request.c    (revision 1669289)
> +++ modules/http/http_request.c    (working copy)
> @@ -232,7 +232,10 @@ static void check_pipeline(conn_rec *c, apr_bucket
>  {
>      if (c->keepalive != AP_CONN_CLOSE && !c->aborted) {
>          apr_status_t rv;
> +        apr_socket_t *csd = ap_get_conn_socket(c);
>
> +        apr_socket_opt_set(csd, APR_INCOMPLETE_READ, 1);
> +
>          AP_DEBUG_ASSERT(APR_BRIGADE_EMPTY(bb));
>          rv = ap_get_brigade(c->input_filters, bb, AP_MODE_SPECULATIVE,
>                              APR_NONBLOCK_READ, 1);
> @@ -245,6 +248,8 @@ static void check_pipeline(conn_rec *c, apr_bucket
>          }
>          else {
>              c->data_in_input_filters = 1;
> +
> +            apr_socket_opt_set(csd, APR_INCOMPLETE_READ, 0);
>          }
>      }
>  }
> --
>
> This is an immediate poll() though, not with a "fraction of a second" timeout.
> We could also apr_socket_timeout_set() something, but I'm afraid it
> would be at the expense of other events when nothing is available...



-- 
Eric Covener
covener@gmail.com

From dev-return-82293-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 27 12:28:59 2015
Return-Path: <dev-return-82293-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AAE78177A2
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 27 Mar 2015 12:28:59 +0000 (UTC)
Received: (qmail 97084 invoked by uid 500); 27 Mar 2015 12:28:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97023 invoked by uid 500); 27 Mar 2015 12:28:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97013 invoked by uid 99); 27 Mar 2015 12:28:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Mar 2015 12:28:59 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.42] (HELO resqmta-ch2-10v.sys.comcast.net) (69.252.207.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Mar 2015 12:28:31 +0000
Received: from resomta-ch2-07v.sys.comcast.net ([69.252.207.103])
	by resqmta-ch2-10v.sys.comcast.net with comcast
	id 8cT51q0022EPM3101cT9u2; Fri, 27 Mar 2015 12:27:09 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-07v.sys.comcast.net with comcast
	id 8cT91q0081cCKD901cT9Ye; Fri, 27 Mar 2015 12:27:09 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: fast sequential requests under event
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CALK=YjM-J3P4q74qjCu+eVdU=iSRhUs64-GTT5JPq6nSM8C2dA@mail.gmail.com>
Date: Fri, 27 Mar 2015 08:27:09 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <D62D3E81-6791-4019-8EA3-5E83D6EEFD42@jaguNET.com>
References: <CALK=YjM0j=c+h0CF4gPQLHpp3cZ-xjRAgwC9AtpM4f_0TXxm5Q@mail.gmail.com> <CAKQ1sVNYwBcj9S4fVH-O+VwzE0d3MdPsNAwwWD07v0FvaVS4SA@mail.gmail.com> <CALK=YjM-J3P4q74qjCu+eVdU=iSRhUs64-GTT5JPq6nSM8C2dA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1427459229;
	bh=mBosQFKN47q3nGpzrAs4CJRC2hRUBuEnQ/TBK9Hf8sA=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=Qzrx4gUV/QZNTHC+ym7yX0Isg/aCcRCgcPmaGeFYJcaiZJBjR5ESwSR4L2h/+171d
	 OvuNMmFMj6goe9KXaGJSGU4bma0ftPa1mH/yPqJwJEEf6gvb5bGDF/v+7W0ZVBag7P
	 c37xTZCfC9NYcQO0E0NJFmHWSDNYBmtU/8GNvG6iRkITOwswNS1OkZUs4f+5jYbgv1
	 ypKSmG3Vin+pBOputsD4SDTIzp1lCEvc9fqRQngikU97PAuo8vM43babBdp5bRoxCe
	 BJOVhvbkudSU/lVwGAQl9G5Fp27rl6s2W4Ojl85zo+qksi4oHtnbh9v/NaDKcKocv+
	 FJREN8qymciig==
X-Virus-Checked: Checked by ClamAV on apache.org


> On Mar 26, 2015, at 9:28 AM, Eric Covener <covener@gmail.com> wrote:
> 
> That is certainly less code then Ed's proof of concept -- how
> uncharacteristic of you :)
> 

LOL!


From dev-return-82294-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Mar 27 22:45:41 2015
Return-Path: <dev-return-82294-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6B2BC17993
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 27 Mar 2015 22:45:41 +0000 (UTC)
Received: (qmail 11249 invoked by uid 500); 27 Mar 2015 22:45:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 11191 invoked by uid 500); 27 Mar 2015 22:45:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 11181 invoked by uid 99); 27 Mar 2015 22:45:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Mar 2015 22:45:40 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.182 as permitted sender)
Received: from [209.85.223.182] (HELO mail-ie0-f182.google.com) (209.85.223.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 27 Mar 2015 22:45:16 +0000
Received: by iedfl3 with SMTP id fl3so91629471ied.1
        for <dev@httpd.apache.org>; Fri, 27 Mar 2015 15:44:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=rHW1/pT97GUnfASPtSf8lrmzcgDxUrcDI0i2ZL60Ums=;
        b=XhzaUiSapz/PHtq0MzEQfP1RqQPGWFZYZq+ZUH/CMZwyH5VeLXtZjAaZfxBPSBm4US
         WDk8g+wAHDhloQSnQ1L2JRVh8UnwRLcBRLiPaWqBVKUxKFYWfznl3cC9cf8Ms+z/qMZ9
         0R31FESL2BMNmmP8w+Yx7hPGMe0GveZKK9EO5iYipRVOU2rpk/02zRYl1okMAoVD+tCI
         JPiDtlmUeCNJN9D1+Tf/fmP0alXcX6RKXzXUR5T30OSA4FQv46Fh59YDOOJFJgWtc8lA
         4JfUqDJH6QMqzY8sG8SLZVjPi1TyoBoGCqi/XjcRLKNbReHt1bnBjFS6aW5q+JWj3+zx
         Ilpg==
MIME-Version: 1.0
X-Received: by 10.107.136.144 with SMTP id s16mr5135352ioi.62.1427496244642;
 Fri, 27 Mar 2015 15:44:04 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Fri, 27 Mar 2015 15:44:04 -0700 (PDT)
In-Reply-To: <D62D3E81-6791-4019-8EA3-5E83D6EEFD42@jaguNET.com>
References: <CALK=YjM0j=c+h0CF4gPQLHpp3cZ-xjRAgwC9AtpM4f_0TXxm5Q@mail.gmail.com>
	<CAKQ1sVNYwBcj9S4fVH-O+VwzE0d3MdPsNAwwWD07v0FvaVS4SA@mail.gmail.com>
	<CALK=YjM-J3P4q74qjCu+eVdU=iSRhUs64-GTT5JPq6nSM8C2dA@mail.gmail.com>
	<D62D3E81-6791-4019-8EA3-5E83D6EEFD42@jaguNET.com>
Date: Fri, 27 Mar 2015 23:44:04 +0100
Message-ID: <CAKQ1sVOCA4xPmcV0wmUcn=VPfz8zuDjQm1oFK-tsA_SDc-uQgA@mail.gmail.com>
Subject: Re: fast sequential requests under event
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Mar 27, 2015 at 1:27 PM, Jim Jagielski <jim@jagunet.com> wrote:
>
>> On Mar 26, 2015, at 9:28 AM, Eric Covener <covener@gmail.com> wrote:
>>
>> That is certainly less code then Ed's proof of concept -- how
>> uncharacteristic of you :)
>>
>
> LOL!

Yes, I know, was not in great shape, but if I had known Ed was ahead,
I certainly would have shown my full potential :)

That said, I'm not sure how I should take this, warning, advice, kind
sarcasm, both?
I'm very open to suggestions/blame when I over/shouldn't commit
things, and won't be offended if a revert or another-way-to-do-it is
asked (any pointer?).

I also prefer oneliners when applicable, for sure (less
work/surprise), but sometimes things need to be be fixed completely
(and/or evolutively), at least in trunk.
It also appears that trunk and 2.4 should be kept in sync as much as
possible, that's kind of paradox which sometimes may lead to half
fixes/improvements.
Maybe I tend to fix and evolve (the related) too much at the same
time, or else I just overdo everything (I try hard not to, though)...

There are yet several "multi-liners" proposals which were not acked,
or lost, although fixing real issues (IMHO).
I commited some of them already (I guess you noticed these), and would
like to the same for the others ( I'll ping on the corresponding
threads first ;)
So don't hesitate to ring the bell, no offense, that's how it works!

From dev-return-82295-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 28 00:14:49 2015
Return-Path: <dev-return-82295-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7F20617CD8
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 28 Mar 2015 00:14:49 +0000 (UTC)
Received: (qmail 22226 invoked by uid 500); 28 Mar 2015 00:14:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 22157 invoked by uid 500); 28 Mar 2015 00:14:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 22147 invoked by uid 99); 28 Mar 2015 00:14:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Mar 2015 00:14:49 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mike.rumph@oracle.com designates 141.146.126.69 as permitted sender)
Received: from [141.146.126.69] (HELO aserp1040.oracle.com) (141.146.126.69)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Mar 2015 00:14:22 +0000
Received: from userv0022.oracle.com (userv0022.oracle.com [156.151.31.74])
	by aserp1040.oracle.com (Sentrion-MTA-4.3.2/Sentrion-MTA-4.3.2) with ESMTP id t2S0EJtw030541
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=OK)
	for <dev@httpd.apache.org>; Sat, 28 Mar 2015 00:14:20 GMT
Received: from userv0122.oracle.com (userv0122.oracle.com [156.151.31.75])
	by userv0022.oracle.com (8.13.8/8.13.8) with ESMTP id t2S0EJFs023522
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Sat, 28 Mar 2015 00:14:19 GMT
Received: from abhmp0007.oracle.com (abhmp0007.oracle.com [141.146.116.13])
	by userv0122.oracle.com (8.13.8/8.13.8) with ESMTP id t2S0EJpb008699
	for <dev@httpd.apache.org>; Sat, 28 Mar 2015 00:14:19 GMT
Received: from [10.159.226.166] (/10.159.226.166)
	by default (Oracle Beehive Gateway v4.0)
	with ESMTP ; Fri, 27 Mar 2015 17:14:18 -0700
Message-ID: <5515F254.7050707@oracle.com>
Date: Fri, 27 Mar 2015 17:14:12 -0700
From: Mike Rumph <mike.rumph@oracle.com>
Organization: Oracle Corporation
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.1.2
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: fast sequential requests under event
References: <CALK=YjM0j=c+h0CF4gPQLHpp3cZ-xjRAgwC9AtpM4f_0TXxm5Q@mail.gmail.com>	<CAKQ1sVNYwBcj9S4fVH-O+VwzE0d3MdPsNAwwWD07v0FvaVS4SA@mail.gmail.com>	<CALK=YjM-J3P4q74qjCu+eVdU=iSRhUs64-GTT5JPq6nSM8C2dA@mail.gmail.com>	<D62D3E81-6791-4019-8EA3-5E83D6EEFD42@jaguNET.com> <CAKQ1sVOCA4xPmcV0wmUcn=VPfz8zuDjQm1oFK-tsA_SDc-uQgA@mail.gmail.com>
In-Reply-To: <CAKQ1sVOCA4xPmcV0wmUcn=VPfz8zuDjQm1oFK-tsA_SDc-uQgA@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Source-IP: userv0022.oracle.com [156.151.31.74]
X-Virus-Checked: Checked by ClamAV on apache.org

Hello Yann,

I am quite sure that Eric's comment was meant as the best of compliments.
It should be quite obvious to most Apache HTTP Server developer's over 
the last year
that you have been quite active and productive.
I probably speak for the majority in saying that the rest of wish
that we had your skill, time and enthusiasm for the project.

Please, keep up the good work!

Take care,

Mike Rumph

On 3/27/2015 3:44 PM, Yann Ylavic wrote:
> On Fri, Mar 27, 2015 at 1:27 PM, Jim Jagielski <jim@jagunet.com> wrote:
>>> On Mar 26, 2015, at 9:28 AM, Eric Covener <covener@gmail.com> wrote:
>>>
>>> That is certainly less code then Ed's proof of concept -- how
>>> uncharacteristic of you :)
>>>
>> LOL!
> Yes, I know, was not in great shape, but if I had known Ed was ahead,
> I certainly would have shown my full potential :)
>
> That said, I'm not sure how I should take this, warning, advice, kind
> sarcasm, both?
> I'm very open to suggestions/blame when I over/shouldn't commit
> things, and won't be offended if a revert or another-way-to-do-it is
> asked (any pointer?).
>
> I also prefer oneliners when applicable, for sure (less
> work/surprise), but sometimes things need to be be fixed completely
> (and/or evolutively), at least in trunk.
> It also appears that trunk and 2.4 should be kept in sync as much as
> possible, that's kind of paradox which sometimes may lead to half
> fixes/improvements.
> Maybe I tend to fix and evolve (the related) too much at the same
> time, or else I just overdo everything (I try hard not to, though)...
>
> There are yet several "multi-liners" proposals which were not acked,
> or lost, although fixing real issues (IMHO).
> I commited some of them already (I guess you noticed these), and would
> like to the same for the others ( I'll ping on the corresponding
> threads first ;)
> So don't hesitate to ring the bell, no offense, that's how it works!
>
>


From dev-return-82296-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Mar 28 00:23:21 2015
Return-Path: <dev-return-82296-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6B2A217D4E
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 28 Mar 2015 00:23:21 +0000 (UTC)
Received: (qmail 50670 invoked by uid 500); 28 Mar 2015 00:23:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50594 invoked by uid 500); 28 Mar 2015 00:23:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50584 invoked by uid 99); 28 Mar 2015 00:23:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Mar 2015 00:23:20 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of covener@gmail.com designates 209.85.212.176 as permitted sender)
Received: from [209.85.212.176] (HELO mail-wi0-f176.google.com) (209.85.212.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 28 Mar 2015 00:23:16 +0000
Received: by wixm2 with SMTP id m2so45166726wix.0
        for <dev@httpd.apache.org>; Fri, 27 Mar 2015 17:21:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=zPPaJTkdA4gva+Z9sUiktTHrLLI+iVav/Io2PnyR7KA=;
        b=Kg2ucEbjbXqCzGS5L79x0liVjPozT6DhbOpnKNMagCFwAJ3MeT6Du+kbMkPxqH3ZZK
         yWj5bLImuBgzrQZCsVM8OwZlM+X1jsE7R2ttRrrlo/6tgF0GmTwxzTgos/O/No+3LBw8
         JJ1YZjohgAFf0oGOaDYQmcxxg7GLmr3cclYuzagAi/LtgrIE9YtPIW31ZcX+qbEyTsHs
         AKXl4i8KnKKdxaglvLFw+stEQEBfmt8KuUJM7q0CxUotX3IaQjha6Qxs/+UDLP0OFi/W
         ijG0mvOfgpf7L7AaXSEwzyVlJLocO7eO0bmG1Tnqp5pE2j8ZXfwiJz5h1B9I9MyUUBGx
         U2ZQ==
MIME-Version: 1.0
X-Received: by 10.180.20.177 with SMTP id o17mr2053962wie.66.1427502085986;
 Fri, 27 Mar 2015 17:21:25 -0700 (PDT)
Received: by 10.27.86.165 with HTTP; Fri, 27 Mar 2015 17:21:25 -0700 (PDT)
In-Reply-To: <5515F254.7050707@oracle.com>
References: <CALK=YjM0j=c+h0CF4gPQLHpp3cZ-xjRAgwC9AtpM4f_0TXxm5Q@mail.gmail.com>
	<CAKQ1sVNYwBcj9S4fVH-O+VwzE0d3MdPsNAwwWD07v0FvaVS4SA@mail.gmail.com>
	<CALK=YjM-J3P4q74qjCu+eVdU=iSRhUs64-GTT5JPq6nSM8C2dA@mail.gmail.com>
	<D62D3E81-6791-4019-8EA3-5E83D6EEFD42@jaguNET.com>
	<CAKQ1sVOCA4xPmcV0wmUcn=VPfz8zuDjQm1oFK-tsA_SDc-uQgA@mail.gmail.com>
	<5515F254.7050707@oracle.com>
Date: Fri, 27 Mar 2015 20:21:25 -0400
Message-ID: <CALK=YjMR8kVT=BzG09=R-Y8FuEXqJ3HtXM2ETxojj_bGMoWHHQ@mail.gmail.com>
Subject: Re: fast sequential requests under event
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Mar 27, 2015 at 8:14 PM, Mike Rumph <mike.rumph@oracle.com> wrote:
> I am quite sure that Eric's comment was meant as the best of compliments.
> It should be quite obvious to most Apache HTTP Server developer's over the
> last year
> that you have been quite active and productive.
> I probably speak for the majority in saying that the rest of wish
> that we had your skill, time and enthusiasm for the project.

+1, was only poking fun. If stuff is languishing it's only because it
is intimidating/challenging to review.

From dev-return-82297-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Mar 29 07:15:16 2015
Return-Path: <dev-return-82297-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DEB2A177E3
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 29 Mar 2015 07:15:16 +0000 (UTC)
Received: (qmail 29833 invoked by uid 500); 29 Mar 2015 07:15:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29768 invoked by uid 500); 29 Mar 2015 07:15:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29759 invoked by uid 99); 29 Mar 2015 07:15:16 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 29 Mar 2015 07:15:16 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id EF5CA1A02BC
	for <dev@httpd.apache.org>; Sun, 29 Mar 2015 07:15:15 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id 713886042C; Sun, 29 Mar 2015 07:15:15 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2015/03/29]
Message-Id: <20150329071515.713886042C@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 29 Mar 2015 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 7483|Ass|Enh|2002-03-26|Add FileAction directive to assign a cgi interpret|
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|12680|New|Enh|2002-09-16|Digest authentication with integrity protection   |
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|18497|New|Min|2003-03-30|configure --help gives wrong default for sysconfdi|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21253|New|Nor|2003-07-01|Mime magic doesn't continue if type is specifed fo|
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22005|Ver|Nor|2003-07-30|Win32: "Help I'm Stuck!" menu item leads to dead e|
|22138|Inf|Cri|2003-08-05|Webdav is not preccessing special chars right.    |
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Nor|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42001|New|Cri|2007-03-30|LINUX : Could not set LDAP_OPT_X_TLS to LDAP_OPT_X|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Opn|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|httpd fails to start if log directory does not exi|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43532|Inf|Cri|2007-10-02|Error while compiling Apache 2.2.3 on HPUX        |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44736|New|Cri|2008-04-01|mod_proxy_balancer looses it's mind on reloads.   |
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|New|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45926|Inf|Nor|2008-10-01|Unable to start apache 2.2.9                      |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46054|New|Nor|2008-10-21|Running httpd returns the error "bad user name nob|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46421|New|Maj|2008-12-19|module mod_authz_dbd - doesn't work when multiple |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Nor|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46724|Inf|Cri|2009-02-17|WinXP SP3 - Apache crashes on startup in libapr-1.|
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47241|New|Min|2009-05-22|Error in rewriting with character ':'             |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47289|New|Nor|2009-05-30|Can't build with dynamic libraries on Mac OS 10.4 |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|Inf|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48309|New|Maj|2009-11-30|libapreq2-2.12: "make test" fails at request.t and|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50740|New|Enh|2011-02-09|Enable OCSP Stapling by default                   |
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|New|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51336|New|Enh|2011-06-07|need a topic for serving pre-compressed content   |
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51412|New|Nor|2011-06-21|Nasty warning in ftp_cmd_pbsz() -- dangerous, wher|
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels|
|51747|New|Nor|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51842|New|Enh|2011-09-18|Suggesting a new action for the Header directive: |
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51959|Ver|Nor|2011-10-05|Broken link to "Mastering Regular Expressions, by |
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52210|Opn|Enh|2011-11-18|Add TLS Next Protocol Negotiation (NPN) support to|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Enh|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52523|New|Nor|2012-01-25|Headers from mod_expires are wrongly set for redir|
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52756|Inf|Trv|2012-02-24|proxy_html_module LoadModule line not created in h|
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52820|New|Min|2012-03-04|SSLProtocol/SSLProxyProtocol doesn't iterate prope|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52831|New|Nor|2012-03-05|mod_rewrite redirect broken with IPv6 literal addr|
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52845|New|Nor|2012-03-07|"DirectoryIndex disabled" cannot disable index fil|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52855|Opn|Maj|2012-03-08|mod_ftp does not build against 2.4.x              |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53121|New|Nor|2012-04-22|Confusing documentation, gzip and deflate         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53153|New|Nor|2012-04-26|Rewrite documentation unclear or wrong about what |
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53349|New|Nor|2012-06-01|CONTENT_TYPE erroneously seen as empty string for |
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53530|New|Nor|2012-07-10|<Directory> docs don't explain when to use quotes |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54364|New|Nor|2012-12-31|Add ref to mod_fcgid docs                         |
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54587|Opn|Nor|2013-02-19|LDAPConnectionPoolTimeout does not work in all cas|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55089|New|Nor|2013-06-10|Caching of LDAP credentials is not clearly documen|
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55100|New|Nor|2013-06-13|--with-perl referenced but not explained          |
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55123|New|Nor|2013-06-20|Formatting issue in ABOUT_APACHE                  |
|55147|New|Nor|2013-06-26|"Header always" w/ cache different in 2.4         |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55350|New|Maj|2013-08-03|mpm-itk and mod_fcgid do not work together        |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55420|New|Nor|2013-08-14|Integer underflow in lock timeout computation     |
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55449|New|Maj|2013-08-19|AH01185: worker slotmem_create failed --> slotmem |
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55741|New|Min|2013-11-04|Documentation is served with incorrect character e|
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55808|New|Nor|2013-11-21|File integrity verification using MD5 and SHA1    |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|New|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55841|New|Nor|2013-12-04|Misleading news items on bugfix releases ("This ve|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55892|New|Nor|2013-12-16|ProxyRemote with HTTPS backend sends requests with|
|55897|New|Nor|2013-12-17|[PATCH]patch with SO_REUSEPORT support            |
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|Inf|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55990|Inf|Nor|2014-01-12|SetEnv vs. =! inconsistentcy not documented       |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56035|Inf|Nor|2014-01-20|Issue with LimitRequestBody                       |
|56040|Inf|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56214|New|Nor|2014-03-03|Spanish translation of Apache's error pages       |
|56226|New|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56241|New|Min|2014-03-10|SNI sends warning upon name not found, RFC 6066 di|
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56346|New|Nor|2014-04-03|self-signed cert documentation creates a certifica|
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56414|Inf|Nor|2014-04-15|SNI & HTTP hostname different because of user@    |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56687|New|Nor|2014-07-01|ProxySourceAddress failed to bind socket to local |
|56695|New|Nor|2014-07-03|Doc error on option %O for mod_logio              |
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56729|New|Reg|2014-07-16|Can't use HTTP 1.1 Keep-Alive with mod_reqtimeout |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56767|New|Nor|2014-07-24|ap_update_child_status breaks with segmentation fa|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|New|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56823|New|Nor|2014-08-07|returning 200 status when ap_get_brigade failed   |
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56855|New|Enh|2014-08-14|mod_proxy_fcgi: add PassHeader directive          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56872|New|Nor|2014-08-19|Small request bodies bypass DeflateInflateLimitReq|
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56898|New|Nor|2014-08-28|Headers in err_headers_out are not returned when a|
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56922|New|Nor|2014-09-07|FallbackResource doesn't fall back with %2F in URL|
|56925|New|Maj|2014-09-08|ProxyErrorOverride=On causes workers in error stat|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56985|New|Nor|2014-09-16|Clarify which IndexOptions require FancyIndexing  |
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57077|Opn|Nor|2014-10-11|flood svn link does not work                      |
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57109|New|Nor|2014-10-17|GPG verification examples are wrong               |
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57120|New|Nor|2014-10-21|Disable SSLv3 by default (POODLE)                 |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57139|New|Nor|2014-10-24|mod_proxy uses wrong Host header when using an HTT|
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57177|New|Nor|2014-11-03|terminated by signal ILL in server/scoreboard.c li|
|57189|New|Enh|2014-11-05|Norwegian translation of Apache's error pages     |
|57207|New|Nor|2014-11-13|[mod_ssl] Add a way to retrieve email in alternati|
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|New|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57358|New|Nor|2014-12-17|Incorrect If-Match handling                       |
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57375|New|Enh|2014-12-19|Support LibreSSL as an alternative toolkit for mod|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Nor|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57524|New|Nor|2015-02-02|Opcode and other fields calculated wrong in mod_lu|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57531|New|Nor|2015-02-03|2.4.12 segmentation fault when accessing host on L|
|57584|New|Nor|2015-02-13|AddHandler etc. documentation "extension" unintuit|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57600|New|Nor|2015-02-18|Presence of SSLCACertificateFile/Path causes root |
|57615|Inf|Nor|2015-02-21|HTTPS CONNECT target hostname incorrectly validate|
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57694|New|Nor|2015-03-12|Crash using SSL certificate with pathlen constrain|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
+-----+---+---+----------+--------------------------------------------------+
| Total 1502 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-82298-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 30 06:39:31 2015
Return-Path: <dev-return-82298-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 37F5917564
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 30 Mar 2015 06:39:31 +0000 (UTC)
Received: (qmail 5226 invoked by uid 500); 30 Mar 2015 06:39:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 5168 invoked by uid 500); 30 Mar 2015 06:39:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 5159 invoked by uid 99); 30 Mar 2015 06:39:27 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Mar 2015 06:39:27 +0000
Received: from gauss.localdomain (v4-861347e2.pool.vitroconnect.de [134.19.71.226])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 548E51A02BC
	for <dev@httpd.apache.org>; Mon, 30 Mar 2015 06:39:27 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id F39A2850
	for <dev@httpd.apache.org>; Mon, 30 Mar 2015 08:39:22 +0200 (CEST)
Message-ID: <5518EF9A.3040208@apache.org>
Date: Mon, 30 Mar 2015 08:39:22 +0200
From: Ruediger Pluem <rpluem@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:36.0) Gecko/20100101 Firefox/36.0 SeaMonkey/2.33.1
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: fast sequential requests under event
References: <CALK=YjM0j=c+h0CF4gPQLHpp3cZ-xjRAgwC9AtpM4f_0TXxm5Q@mail.gmail.com>	<CAKQ1sVNYwBcj9S4fVH-O+VwzE0d3MdPsNAwwWD07v0FvaVS4SA@mail.gmail.com>	<CALK=YjM-J3P4q74qjCu+eVdU=iSRhUs64-GTT5JPq6nSM8C2dA@mail.gmail.com>	<D62D3E81-6791-4019-8EA3-5E83D6EEFD42@jaguNET.com>	<CAKQ1sVOCA4xPmcV0wmUcn=VPfz8zuDjQm1oFK-tsA_SDc-uQgA@mail.gmail.com>	<5515F254.7050707@oracle.com> <CALK=YjMR8kVT=BzG09=R-Y8FuEXqJ3HtXM2ETxojj_bGMoWHHQ@mail.gmail.com>
In-Reply-To: <CALK=YjMR8kVT=BzG09=R-Y8FuEXqJ3HtXM2ETxojj_bGMoWHHQ@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 03/28/2015 01:21 AM, Eric Covener wrote:
> On Fri, Mar 27, 2015 at 8:14 PM, Mike Rumph <mike.rumph@oracle.com> wrote:
>> I am quite sure that Eric's comment was meant as the best of compliments.
>> It should be quite obvious to most Apache HTTP Server developer's over the
>> last year
>> that you have been quite active and productive.
>> I probably speak for the majority in saying that the rest of wish
>> that we had your skill, time and enthusiasm for the project.
> 
> +1, was only poking fun. If stuff is languishing it's only because it
> is intimidating/challenging to review.
> 

+1. Never understood it differently.

Regards

Rdiger

From dev-return-82299-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Mar 30 09:45:55 2015
Return-Path: <dev-return-82299-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A58A517A00
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 30 Mar 2015 09:45:55 +0000 (UTC)
Received: (qmail 87231 invoked by uid 500); 30 Mar 2015 09:44:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 87175 invoked by uid 500); 30 Mar 2015 09:44:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 87165 invoked by uid 99); 30 Mar 2015 09:44:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Mar 2015 09:44:56 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-ig0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 30 Mar 2015 09:44:32 +0000
Received: by igcau2 with SMTP id au2so69219763igc.1
        for <dev@httpd.apache.org>; Mon, 30 Mar 2015 02:44:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=EJjkITYvXD8HqyPb4ZMxDMFvM7OMk4xM+VcoZU7O1cU=;
        b=fYsP2oh6IEseW3jJ8U67X7ti6moUjs5o0U52XrLYR87iLyt/8oHtmVfXWK/k4wbmo/
         oHJf1O3bbh+8VArMp8wopj/eGTljd79ranbjRs4qKKlO1nJHhj258Jy71i4aRDieuZ6E
         7KyXXRbsKcqh2VymvJrRhJqPunQG5hI46oc2cIPQ2r2yXbFHOWze1WyGod0OQo42TmoB
         ZSxoWVCpjHokMOeW/qqn7MISSNdD9pFFXZ2kqXgThcZQhdZd2O1RP2oeSYZ6SPFCBUnv
         ZQxfW0cmMMfkd1j2lNyq4U++Yd05+2IYvoTd4duu+bXDUcV48mkTp8/ImUFmj8+EQxrA
         senQ==
MIME-Version: 1.0
X-Received: by 10.107.30.135 with SMTP id e129mr47717831ioe.26.1427708670681;
 Mon, 30 Mar 2015 02:44:30 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Mon, 30 Mar 2015 02:44:30 -0700 (PDT)
In-Reply-To: <5518EF9A.3040208@apache.org>
References: <CALK=YjM0j=c+h0CF4gPQLHpp3cZ-xjRAgwC9AtpM4f_0TXxm5Q@mail.gmail.com>
	<CAKQ1sVNYwBcj9S4fVH-O+VwzE0d3MdPsNAwwWD07v0FvaVS4SA@mail.gmail.com>
	<CALK=YjM-J3P4q74qjCu+eVdU=iSRhUs64-GTT5JPq6nSM8C2dA@mail.gmail.com>
	<D62D3E81-6791-4019-8EA3-5E83D6EEFD42@jaguNET.com>
	<CAKQ1sVOCA4xPmcV0wmUcn=VPfz8zuDjQm1oFK-tsA_SDc-uQgA@mail.gmail.com>
	<5515F254.7050707@oracle.com>
	<CALK=YjMR8kVT=BzG09=R-Y8FuEXqJ3HtXM2ETxojj_bGMoWHHQ@mail.gmail.com>
	<5518EF9A.3040208@apache.org>
Date: Mon, 30 Mar 2015 11:44:30 +0200
Message-ID: <CAKQ1sVP7Lfiw208YL8dodUE=xrPEQRahTD+W0D6QqDeLGqz6rw@mail.gmail.com>
Subject: Re: fast sequential requests under event
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, Mar 30, 2015 at 8:39 AM, Ruediger Pluem <rpluem@apache.org> wrote:
>
>
> On 03/28/2015 01:21 AM, Eric Covener wrote:
>> On Fri, Mar 27, 2015 at 8:14 PM, Mike Rumph <mike.rumph@oracle.com> wrote:
>>> I am quite sure that Eric's comment was meant as the best of compliments.
>>> It should be quite obvious to most Apache HTTP Server developer's over the
>>> last year
>>> that you have been quite active and productive.
>>> I probably speak for the majority in saying that the rest of wish
>>> that we had your skill, time and enthusiasm for the project.

Thanks Mike!

>>
>> +1, was only poking fun. If stuff is languishing it's only because it
>> is intimidating/challenging to review.
>>
>
> +1. Never understood it differently.

I did not take it too seriously either, was just worried about being
gone too far...
By the way it was a kind way to pass a message (if any), please joke!

Regards,
Yann.

From dev-return-82300-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 31 14:50:41 2015
Return-Path: <dev-return-82300-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4282117822
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 31 Mar 2015 14:50:41 +0000 (UTC)
Received: (qmail 62255 invoked by uid 500); 31 Mar 2015 14:50:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62181 invoked by uid 500); 31 Mar 2015 14:50:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62171 invoked by uid 99); 31 Mar 2015 14:50:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 14:50:37 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.41] (HELO resqmta-ch2-09v.sys.comcast.net) (69.252.207.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 14:50:10 +0000
Received: from resomta-ch2-16v.sys.comcast.net ([69.252.207.112])
	by resqmta-ch2-09v.sys.comcast.net with comcast
	id AEpN1q0052S2Q5R01Epoi0; Tue, 31 Mar 2015 14:49:48 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-16v.sys.comcast.net with comcast
	id AEpn1q0081cCKD901Epndb; Tue, 31 Mar 2015 14:49:48 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: motorz and 2.4.13
Message-Id: <57BC50FA-08F1-4376-A9C6-46E7CCD0C7D4@jaguNET.com>
Date: Tue, 31 Mar 2015 10:49:47 -0400
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1427813388;
	bh=b9C8xXEcaemrCI37xsKazkf6W+VVHjbtzdnj/7GgYp4=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=hChzBVe1J1MGjC2ideBUFwu3GTzg4MgQljA6atJYTqaCUQD/lu54dQ2yFpl2TVUd3
	 xn6yPGDdst1m1pK2vtqO8cqP8EAqqWzPYTJiUKWHA6WBpGcRf2TEtV68ZxNayph649
	 lIx3wblPMAu1ixKl0WVVJkEt2049k33mXv+WvMfOp0PNA2qrfrE5A7gGMM2/Dq+aBi
	 m2qw8dMKZxOGd5lojiz4Ak0c6nngrDByBYLDEUdIEOaKdq4hB1iYUGQzscc79pE+u7
	 MOsLzq30NLytsohOPkTbbLuOmKP/CQYKErRXGvaX3eYAZHy3Osn87zMYHpHvhLEsnb
	 nBYprB4YC2xXg==
X-Virus-Checked: Checked by ClamAV on apache.org

Apologies for not hacking on motorz lately... will ramp up :)

BTW: Would it make sense to consider a release of 2.4.13 in April
to coincide w/ ApacheCon?

From dev-return-82301-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 31 15:22:18 2015
Return-Path: <dev-return-82301-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3157917995
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 31 Mar 2015 15:22:18 +0000 (UTC)
Received: (qmail 62487 invoked by uid 500); 31 Mar 2015 15:22:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62417 invoked by uid 500); 31 Mar 2015 15:22:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62407 invoked by uid 99); 31 Mar 2015 15:22:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 15:22:17 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.43] (HELO resqmta-ch2-11v.sys.comcast.net) (69.252.207.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 15:22:10 +0000
Received: from resomta-ch2-15v.sys.comcast.net ([69.252.207.111])
	by resqmta-ch2-11v.sys.comcast.net with comcast
	id AFKb1q0042Qkjl901FLVNY; Tue, 31 Mar 2015 15:20:29 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-15v.sys.comcast.net with comcast
	id AFLU1q0081cCKD901FLUnJ; Tue, 31 Mar 2015 15:20:29 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: buckets across threads - question
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de>
Date: Tue, 31 Mar 2015 11:20:28 -0400
Cc: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Transfer-Encoding: 7bit
Message-Id: <E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de> <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm> <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de> <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com> <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com> <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1427815229;
	bh=IIpHn3+vOGfTNVfX0cB4plWcZdwyfhRRLjknz8vuR0Q=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=crAosTpiAn3kz8vdH479LJVLJN4Ok9+4DQJwhY57G7AkqaDGtHZaQuIFbY90TLU0F
	 I35yFQIMJNElAUCfEOieiQznTzxmJNfb6wKywkA48p+kmxMiGOWPqib92t/WWQSXGa
	 OBkYtKqNS2uflOlehoctkpIw+fSuu9ZTP2dpPgxe/sRv0I4Ni2xscAJb9Xt6fhmrAu
	 UtUzjPhM//CTS1JAWlHP4khEW5ph9r2ZrIONvmN++fxrJwqm4HnfeoeWPt7tKq8J5p
	 oB1uQzH6Zz3/MK9oiNMcgiJWDcNcgW7Can8c0SY6TAk8GoqoGg605U3wX3jOospbRd
	 QeCMH/PYeJBjQ==
X-Virus-Checked: Checked by ClamAV on apache.org

Stefan,

One thing that was v useful about mod_spdy was the insight on
what changes/re-factoring might be done w/i the core httpd code
itself to make things easier, such as the idea of a "slave"
conn_rec (or a virtual connection). I started trying to fold
some of that into trunk, and so any insight you may have from
your mod_h2 work would be MOST APPRECIATED. I think we can
abstract out enough that we would not need a wholesale re-write
of large chunks of the core.

I also think that Serf and even APR would also benefit from
that as well.

From dev-return-82302-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 31 15:35:32 2015
Return-Path: <dev-return-82302-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 20AEC17A98
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 31 Mar 2015 15:35:32 +0000 (UTC)
Received: (qmail 98752 invoked by uid 500); 31 Mar 2015 15:35:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 98692 invoked by uid 500); 31 Mar 2015 15:35:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 98682 invoked by uid 99); 31 Mar 2015 15:35:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 15:35:09 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stefan.eissing@greenbytes.de designates 217.91.35.233 as permitted sender)
Received: from [217.91.35.233] (HELO mail.greenbytes.de) (217.91.35.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 15:34:44 +0000
Received: from delight.greenbytes.de (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 863A215A046B;
	Tue, 31 Mar 2015 17:34:42 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: buckets across threads - question
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com>
Date: Tue, 31 Mar 2015 17:34:41 +0200
Cc: dev@httpd.apache.org
Content-Transfer-Encoding: quoted-printable
Message-Id: <AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de> <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm> <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de> <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com> <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com> <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de> <E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com>
To: Jim Jagielski <jim@jaguNET.com>
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org

Jim,

I am very happy to hear that and would like to compile some =
feedback/ideas in the next days. I also want to get some better =
performance comparison numbers for TLS+http/1 vs. TLS+http/2 in the =
infamous http2 gopher tiles example, not focussing on page load times =
but requests/sec.

The module itself has become more and more apr-ified, but there are =
still many areas to improve and some multi-thread walls I ran into. And =
I agree that it rather seems core needs some nudges here and there than =
a rebuilding. But I am far from claiming any expertise in that.

Cheers,

  Stefan

PS. As a small quid-pro-quo and because you were asking about a possibly =
2.4.13: there has so far not been a volunteer to integrate the ALPN =
patch I adapted from mod_spdy. It would be great if someone could take a =
look at it. It is the biggest obstacle so far for experimenters (early =
sufferers) of mod_h2 and it would be very nice to have it out of the =
way.=20



> Am 31.03.2015 um 17:20 schrieb Jim Jagielski <jim@jaguNET.com>:
>=20
> Stefan,
>=20
> One thing that was v useful about mod_spdy was the insight on
> what changes/re-factoring might be done w/i the core httpd code
> itself to make things easier, such as the idea of a "slave"
> conn_rec (or a virtual connection). I started trying to fold
> some of that into trunk, and so any insight you may have from
> your mod_h2 work would be MOST APPRECIATED. I think we can
> abstract out enough that we would not need a wholesale re-write
> of large chunks of the core.
>=20
> I also think that Serf and even APR would also benefit from
> that as well.

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82303-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 31 16:23:01 2015
Return-Path: <dev-return-82303-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9FEF117D65
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 31 Mar 2015 16:23:01 +0000 (UTC)
Received: (qmail 52476 invoked by uid 500); 31 Mar 2015 16:23:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 52406 invoked by uid 500); 31 Mar 2015 16:23:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 52396 invoked by uid 99); 31 Mar 2015 16:23:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 16:23:00 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.44] (HELO resqmta-ch2-12v.sys.comcast.net) (69.252.207.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 16:22:53 +0000
Received: from resomta-ch2-15v.sys.comcast.net ([69.252.207.111])
	by resqmta-ch2-12v.sys.comcast.net with comcast
	id AGM81q0092Qkjl901GNCQ1; Tue, 31 Mar 2015 16:22:12 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-15v.sys.comcast.net with comcast
	id AGNC1q0021cCKD901GNC6c; Tue, 31 Mar 2015 16:22:12 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: buckets across threads - question
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de>
Date: Tue, 31 Mar 2015 12:22:11 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de> <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm> <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de> <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com> <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com> <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de> <E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com> <AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1427818932;
	bh=nAiW3aw0h+rnlEPMjoM3M/7tEhz1gukhmU3afTliNgE=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=iQraICofuyHV39Dlq45slNBWOfDQF5Ru0FIGHwN1tElzzsHLObY/k4gTXkoNkGXbI
	 a+GDsUsYZkq2+x5JRAavJwQGXOh6z2YUVjdgORQvXq8NCRPosjzRezslnkAQsJJJQi
	 qDcBV1vx1OmyGsYjwEj5so3KhbYnDa1b+7cApCzIARxZV6Wpo6/8BdSgje3Qx2NIHH
	 HR6xsvr9Yts7yvn+fQJAWnUBeoot3CLHXe5sEGi0AK6uhcSv+qxF0+m7RfMsxzZdCf
	 Leo8Wd26JyBk6txLINqG+x98vVZ0txnFSWygfr7PNkPtKU/OsqYOIASfXcWMUws3w/
	 Gz8mDYFWae04Q==
X-Virus-Checked: Checked by ClamAV on apache.org

>=20
> PS. As a small quid-pro-quo and because you were asking about a =
possibly 2.4.13: there has so far not been a volunteer to integrate the =
ALPN patch I adapted from mod_spdy. It would be great if someone could =
take a look at it. It is the biggest obstacle so far for experimenters =
(early sufferers) of mod_h2 and it would be very nice to have it out of =
the way.=20
>=20

I'll take a look. It's not currently in trunk, is that right?=

From dev-return-82304-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 31 16:24:27 2015
Return-Path: <dev-return-82304-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C026F17D74
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 31 Mar 2015 16:24:27 +0000 (UTC)
Received: (qmail 59853 invoked by uid 500); 31 Mar 2015 16:24:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59778 invoked by uid 500); 31 Mar 2015 16:24:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59767 invoked by uid 99); 31 Mar 2015 16:24:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 16:24:27 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.43] (HELO resqmta-ch2-11v.sys.comcast.net) (69.252.207.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 16:24:00 +0000
Received: from resomta-ch2-09v.sys.comcast.net ([69.252.207.105])
	by resqmta-ch2-11v.sys.comcast.net with comcast
	id AGP91q0022GyhjZ01GPegH; Tue, 31 Mar 2015 16:23:38 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-09v.sys.comcast.net with comcast
	id AGPd1q00b1cCKD901GPeJx; Tue, 31 Mar 2015 16:23:38 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: buckets across threads - question
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de>
Date: Tue, 31 Mar 2015 12:23:37 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <CCAAD3D9-E82B-429B-88DA-186450244C66@jaguNET.com>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de> <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm> <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de> <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com> <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com> <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de> <E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com> <AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1427819018;
	bh=ic7GwSbWIc7diZ/ozhUHWoEBuJKBJXX01mHmqJ9QEgM=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=XjCzGxAKz2fx7HS70HqOYfjQeaxxrOLk0MOixA7s57yNCrZ8NwUrgKh0ZQ24u4VHN
	 GxJEc/q6wY/QEM3YhFhPJH/NWPaFW9mXCDc7XPhOcUH0GELHuJPH+KTeBZyjwaPV2J
	 drGd3xnh4rJaOr9YkaIv9CNGLv+VqRCwmbWHxcxt9VdFoHUz2NBF8sZGCq99L0UKaP
	 v32cthQR9/mB8LXcxHxdKKbcspWbFgT99Rt0qTaFWXvvzjiQaIAblE35EyNqdeqJmJ
	 zWsjHgrdAHrvVtnjiWPVOtFLUVThy+LMuuQOfbgfTkXwCJsxIhK874hNKLdW4tHd3r
	 6a+qOFEXbkmmA==
X-Virus-Checked: Checked by ClamAV on apache.org


> On Mar 31, 2015, at 11:34 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
> Jim,
>=20
> I am very happy to hear that and would like to compile some =
feedback/ideas in the next days. I also want to get some better =
performance comparison numbers for TLS+http/1 vs. TLS+http/2 in the =
infamous http2 gopher tiles example, not focussing on page load times =
but requests/sec.
>=20
> The module itself has become more and more apr-ified, but there are =
still many areas to improve and some multi-thread walls I ran into. And =
I agree that it rather seems core needs some nudges here and there than =
a rebuilding. But I am far from claiming any expertise in that.
>=20

Another thing is that I'd like to see how mod_h2 and the motorz
MPM would work together.=20


From dev-return-82305-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 31 16:47:22 2015
Return-Path: <dev-return-82305-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1D4C917E89
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 31 Mar 2015 16:47:22 +0000 (UTC)
Received: (qmail 16290 invoked by uid 500); 31 Mar 2015 16:46:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16227 invoked by uid 500); 31 Mar 2015 16:46:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16217 invoked by uid 99); 31 Mar 2015 16:46:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 16:46:42 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of minfrin@sharp.fm designates 80.168.143.5 as permitted sender)
Received: from [80.168.143.5] (HELO monica.sharp.fm) (80.168.143.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 16:46:17 +0000
Received: from [192.168.88.148] (unknown [192.168.88.148])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 3102C80C2F
	for <dev@httpd.apache.org>; Tue, 31 Mar 2015 17:46:16 +0100 (BST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: buckets across threads - question
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <CCAAD3D9-E82B-429B-88DA-186450244C66@jaguNET.com>
Date: Tue, 31 Mar 2015 18:46:15 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <93AB3296-57C0-4A65-AB6F-2A8DFC61DF40@sharp.fm>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de> <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm> <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de> <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com> <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com> <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de> <E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com> <AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de> <CCAAD3D9-E82B-429B-88DA-186450244C66@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org

On 31 Mar 2015, at 6:23 PM, Jim Jagielski <jim@jaguNET.com> wrote:

> Another thing is that I'd like to see how mod_h2 and the motorz
> MPM would work together.=20

I have been completely snowed under, but I would be also interested in =
how we could make the filter stacks support async behaviour too.

I think I cracked the basic principle with the last patch I sent, but =
wanted to extend it so that request filters also worked, instead of just =
connection filters. I have some ideas on how to do that, just need some =
more time to work on it.

Regards,
Graham
=E2=80=94


From dev-return-82306-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 31 17:14:23 2015
Return-Path: <dev-return-82306-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 37A391722B
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 31 Mar 2015 17:14:23 +0000 (UTC)
Received: (qmail 9745 invoked by uid 500); 31 Mar 2015 17:14:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 9675 invoked by uid 500); 31 Mar 2015 17:14:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 9665 invoked by uid 99); 31 Mar 2015 17:14:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 17:14:22 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stefan.eissing@greenbytes.de designates 217.91.35.233 as permitted sender)
Received: from [217.91.35.233] (HELO mail.greenbytes.de) (217.91.35.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 17:13:57 +0000
Received: from [10.81.19.228] (unknown [2.206.3.2])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 0DDE515A0440
	for <dev@httpd.apache.org>; Tue, 31 Mar 2015 19:13:24 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: buckets across threads - question
Message-Id: <06084E9C-1819-4ADF-BD88-18A94C843009@greenbytes.de>
Date: Tue, 31 Mar 2015 19:13:18 +0200
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de> <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm> <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de> <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com> <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com> <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de> <E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com> <AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de> <2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com>
In-Reply-To: <2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
X-Mailer: iPhone Mail (12D508)
X-Virus-Checked: Checked by ClamAV on apache.org

I think the old NPN patch is in trunk. The ALPN not AFAIK. I undertstand the=
re is a trunk first policy, but it'd be good to get it at least going there.=
.. thanks.=20

Stefan



Am 31.03.2015 um 18:22 schrieb Jim Jagielski <jim@jaguNET.com>:

>>=20
>> PS. As a small quid-pro-quo and because you were asking about a possibly 2=
.4.13: there has so far not been a volunteer to integrate the ALPN patch I a=
dapted from mod_spdy. It would be great if someone could take a look at it. I=
t is the biggest obstacle so far for experimenters (early sufferers) of mod_=
h2 and it would be very nice to have it out of the way.
>=20
> I'll take a look. It's not currently in trunk, is that right?

From dev-return-82307-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 31 17:39:33 2015
Return-Path: <dev-return-82307-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E73A517422
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 31 Mar 2015 17:39:32 +0000 (UTC)
Received: (qmail 78766 invoked by uid 500); 31 Mar 2015 17:32:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 78702 invoked by uid 500); 31 Mar 2015 17:32:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 78692 invoked by uid 99); 31 Mar 2015 17:32:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 17:32:51 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.35] (HELO resqmta-ch2-03v.sys.comcast.net) (69.252.207.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 17:32:24 +0000
Received: from resomta-ch2-15v.sys.comcast.net ([69.252.207.111])
	by resqmta-ch2-03v.sys.comcast.net with comcast
	id AHUK1q0012Qkjl901HW140; Tue, 31 Mar 2015 17:30:01 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-15v.sys.comcast.net with comcast
	id AHVy1q00L1cCKD901HW0cK; Tue, 31 Mar 2015 17:30:01 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: buckets across threads - question
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <06084E9C-1819-4ADF-BD88-18A94C843009@greenbytes.de>
Date: Tue, 31 Mar 2015 13:29:58 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <6FB93AAA-2BE9-4D4A-8415-551D0A16F1EB@jaguNET.com>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de> <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm> <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de> <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com> <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com> <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de> <E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com> <AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de> <2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com> <06084E9C-1819-4ADF-BD88-18A94C843009@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1427823001;
	bh=/VjJ48+3/1YrF+0AYMZ6wyf1V7po7mMibT99XwWvcfY=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=VSgrYRwwmq/iO/OK7NonEfTvFaegwpNNYP5nB4WhB4SScrBuaeZYOb+OpqR6XHt6a
	 9+uMDFXChialR7DRftjlqcu3vc0Lckj2SPKvO/LX1Ygb3jYT2o44ICr574GdlmtTKe
	 5cxrWo2AQqqdpBVbxhvhbTLbAylTaZK4LtNUZcUlRBV4y3hWomrMHKMZOy4i26BW0n
	 BxfSwYfYN2ElkBEwU/cSfy6k+pI3dGmS/nvKp300la4Jb0nPD6QPWcnKrZ4fZuBe7r
	 Bvx/p+IsA3bPMnGRm0lewU2fIHojEQs3XElhIJK7iN6iMxJWn1T7XqXnbKsg9sNvNE
	 P60qN7vT3IDag==
X-Virus-Checked: Checked by ClamAV on apache.org

What I did is used the alpn patch as a guide and updated trunk
to add the functionality:

	http://svn.apache.org/r1670397

I'll give it a few days to work out and then propose for a
2.4 backport.

> On Mar 31, 2015, at 1:13 PM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
> I think the old NPN patch is in trunk. The ALPN not AFAIK. I =
undertstand there is a trunk first policy, but it'd be good to get it at =
least going there... thanks.=20
>=20
> Stefan
>=20
>=20
>=20
> Am 31.03.2015 um 18:22 schrieb Jim Jagielski <jim@jaguNET.com>:
>=20
>>>=20
>>> PS. As a small quid-pro-quo and because you were asking about a =
possibly 2.4.13: there has so far not been a volunteer to integrate the =
ALPN patch I adapted from mod_spdy. It would be great if someone could =
take a look at it. It is the biggest obstacle so far for experimenters =
(early sufferers) of mod_h2 and it would be very nice to have it out of =
the way.
>>=20
>> I'll take a look. It's not currently in trunk, is that right?


From dev-return-82308-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 31 17:58:13 2015
Return-Path: <dev-return-82308-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BA64317580
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 31 Mar 2015 17:58:13 +0000 (UTC)
Received: (qmail 84965 invoked by uid 500); 31 Mar 2015 17:57:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84895 invoked by uid 500); 31 Mar 2015 17:57:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84886 invoked by uid 99); 31 Mar 2015 17:57:39 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 17:57:39 +0000
Received: from gauss.localdomain (v4-861347e2.pool.vitroconnect.de [134.19.71.226])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id BAD8C1A0058
	for <dev@httpd.apache.org>; Tue, 31 Mar 2015 17:57:38 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 5546288A
	for <dev@httpd.apache.org>; Tue, 31 Mar 2015 19:57:37 +0200 (CEST)
Message-ID: <551AE011.9040000@apache.org>
Date: Tue, 31 Mar 2015 19:57:37 +0200
From: Ruediger Pluem <rpluem@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:36.0) Gecko/20100101 Firefox/36.0 SeaMonkey/2.33.1
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1670397 - in /httpd/httpd/trunk/modules/ssl:
 mod_ssl.c mod_ssl.h ssl_engine_config.c ssl_engine_io.c ssl_private.h
References: <20150331171252.78A1AAC013F@hades.apache.org>
In-Reply-To: <20150331171252.78A1AAC013F@hades.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 03/31/2015 07:12 PM, jim@apache.org wrote:
> Author: jim
> Date: Tue Mar 31 17:12:51 2015
> New Revision: 1670397
> 
> URL: http://svn.apache.org/r1670397
> Log:
> ALPN support, based on mod_spdy/mod_h2 patch set
> 
> Modified:
>     httpd/httpd/trunk/modules/ssl/mod_ssl.c
>     httpd/httpd/trunk/modules/ssl/mod_ssl.h
>     httpd/httpd/trunk/modules/ssl/ssl_engine_config.c
>     httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
>     httpd/httpd/trunk/modules/ssl/ssl_private.h


I don't know if I miss the obvious, but where do we use

ssl_alpn_pref
alpn_proposefns

?

I can only see that we set it, but I fail to see where it is used.

Regards

Rdiger



From dev-return-82309-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 31 18:10:54 2015
Return-Path: <dev-return-82309-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 754DF176D2
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 31 Mar 2015 18:10:54 +0000 (UTC)
Received: (qmail 45212 invoked by uid 500); 31 Mar 2015 18:09:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 45140 invoked by uid 500); 31 Mar 2015 18:09:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 45130 invoked by uid 99); 31 Mar 2015 18:09:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 18:09:50 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.43] (HELO resqmta-ch2-11v.sys.comcast.net) (69.252.207.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 18:09:43 +0000
Received: from resomta-ch2-12v.sys.comcast.net ([69.252.207.108])
	by resqmta-ch2-11v.sys.comcast.net with comcast
	id AJ6q1q0032LrikM01J82Kj; Tue, 31 Mar 2015 18:08:02 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-12v.sys.comcast.net with comcast
	id AJ811q00X1cCKD901J82rN; Tue, 31 Mar 2015 18:08:02 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: svn commit: r1670397 - in /httpd/httpd/trunk/modules/ssl: mod_ssl.c mod_ssl.h ssl_engine_config.c ssl_engine_io.c ssl_private.h
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <551AE011.9040000@apache.org>
Date: Tue, 31 Mar 2015 14:08:01 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <EF9A65AE-FB15-4F40-8D06-9BFC77CB99D3@jaguNET.com>
References: <20150331171252.78A1AAC013F@hades.apache.org> <551AE011.9040000@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1427825282;
	bh=fP74RmKvN0O249NEPlelobRKO/ipKJUtu1WzJ8soj5M=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=KZkdzNPUH4HUiziN8ZrAhEwpIMJYiNn3Pg1DiEyzBRsgBpUmPMK3J+yaqUQCOXF3B
	 RyqrG923DdmEiVdlej6HTQqu6fdWXab0j99xtZyXep2PQiME2pqYJY3WWe7+habRkj
	 czzmL5cPm/qo9j5MiWqpkQsWTR+SQAGrq8lLSzD5CsVdLWrF5aecLd2f357cmXtAz2
	 vpNk1XGfRGIx428gquR7i4s2Ru8YEvV3Lulm11CLL/SWCjilOTNnb+wziAAALyqkJI
	 cc2H8lCX8Wvf9uk64W6tqD0ReJ69A1wVod9PEd2yt34/QGbwBBmyuM8TWMuULn8tV8
	 rIGtqvFgS7QcA==
X-Virus-Checked: Checked by ClamAV on apache.org

They are used by mod_spdy and/or mod_h2..., iirc

> On Mar 31, 2015, at 1:57 PM, Ruediger Pluem <rpluem@apache.org> wrote:
>=20
>=20
>=20
> On 03/31/2015 07:12 PM, jim@apache.org wrote:
>> Author: jim
>> Date: Tue Mar 31 17:12:51 2015
>> New Revision: 1670397
>>=20
>> URL: http://svn.apache.org/r1670397
>> Log:
>> ALPN support, based on mod_spdy/mod_h2 patch set
>>=20
>> Modified:
>>    httpd/httpd/trunk/modules/ssl/mod_ssl.c
>>    httpd/httpd/trunk/modules/ssl/mod_ssl.h
>>    httpd/httpd/trunk/modules/ssl/ssl_engine_config.c
>>    httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
>>    httpd/httpd/trunk/modules/ssl/ssl_private.h
>=20
>=20
> I don't know if I miss the obvious, but where do we use
>=20
> ssl_alpn_pref
> alpn_proposefns
>=20
> ?
>=20
> I can only see that we set it, but I fail to see where it is used.
>=20
> Regards
>=20
> R=C3=BCdiger


From dev-return-82310-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 31 18:22:28 2015
Return-Path: <dev-return-82310-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1FC1F177B5
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 31 Mar 2015 18:22:28 +0000 (UTC)
Received: (qmail 8565 invoked by uid 500); 31 Mar 2015 18:22:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 8506 invoked by uid 500); 31 Mar 2015 18:22:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 8497 invoked by uid 99); 31 Mar 2015 18:22:27 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 18:22:27 +0000
Received: from gauss.localdomain (v4-861347e2.pool.vitroconnect.de [134.19.71.226])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 4C9311A0058
	for <dev@httpd.apache.org>; Tue, 31 Mar 2015 18:22:27 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 56D3F88A
	for <dev@httpd.apache.org>; Tue, 31 Mar 2015 20:22:26 +0200 (CEST)
Message-ID: <551AE5E2.1050202@apache.org>
Date: Tue, 31 Mar 2015 20:22:26 +0200
From: Ruediger Pluem <rpluem@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:36.0) Gecko/20100101 Firefox/36.0 SeaMonkey/2.33.1
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1670397 - in /httpd/httpd/trunk/modules/ssl:
 mod_ssl.c mod_ssl.h ssl_engine_config.c ssl_engine_io.c ssl_private.h
References: <20150331171252.78A1AAC013F@hades.apache.org> <551AE011.9040000@apache.org> <EF9A65AE-FB15-4F40-8D06-9BFC77CB99D3@jaguNET.com>
In-Reply-To: <EF9A65AE-FB15-4F40-8D06-9BFC77CB99D3@jaguNET.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 03/31/2015 08:08 PM, Jim Jagielski wrote:
> They are used by mod_spdy and/or mod_h2..., iirc

They use private structures of mod_ssl directly? That does not sound like a good idea.

Regards

Rdiger

> 
>> On Mar 31, 2015, at 1:57 PM, Ruediger Pluem <rpluem@apache.org> wrote:
>>
>>
>>
>> On 03/31/2015 07:12 PM, jim@apache.org wrote:
>>> Author: jim
>>> Date: Tue Mar 31 17:12:51 2015
>>> New Revision: 1670397
>>>
>>> URL: http://svn.apache.org/r1670397
>>> Log:
>>> ALPN support, based on mod_spdy/mod_h2 patch set
>>>
>>> Modified:
>>>    httpd/httpd/trunk/modules/ssl/mod_ssl.c
>>>    httpd/httpd/trunk/modules/ssl/mod_ssl.h
>>>    httpd/httpd/trunk/modules/ssl/ssl_engine_config.c
>>>    httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
>>>    httpd/httpd/trunk/modules/ssl/ssl_private.h
>>
>>
>> I don't know if I miss the obvious, but where do we use
>>
>> ssl_alpn_pref
>> alpn_proposefns
>>
>> ?
>>
>> I can only see that we set it, but I fail to see where it is used.
>>
>> Regards
>>
>> Rdiger
> 
> 

From dev-return-82311-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 31 18:32:44 2015
Return-Path: <dev-return-82311-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DCF6117841
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 31 Mar 2015 18:32:43 +0000 (UTC)
Received: (qmail 47245 invoked by uid 500); 31 Mar 2015 18:32:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 47167 invoked by uid 500); 31 Mar 2015 18:32:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 47157 invoked by uid 99); 31 Mar 2015 18:32:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 18:32:27 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.39] (HELO resqmta-ch2-07v.sys.comcast.net) (69.252.207.39)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 18:32:20 +0000
Received: from resomta-ch2-13v.sys.comcast.net ([69.252.207.109])
	by resqmta-ch2-07v.sys.comcast.net with comcast
	id AJTo1q0072N9P4d01JUdik; Tue, 31 Mar 2015 18:28:37 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-13v.sys.comcast.net with comcast
	id AJUc1q00H1cCKD901JUcZD; Tue, 31 Mar 2015 18:28:37 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: svn commit: r1670397 - in /httpd/httpd/trunk/modules/ssl: mod_ssl.c mod_ssl.h ssl_engine_config.c ssl_engine_io.c ssl_private.h
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <551AE5E2.1050202@apache.org>
Date: Tue, 31 Mar 2015 14:28:36 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <D34823A3-B8A5-4970-ABBE-72C1C04C5A67@jaguNET.com>
References: <20150331171252.78A1AAC013F@hades.apache.org> <551AE011.9040000@apache.org> <EF9A65AE-FB15-4F40-8D06-9BFC77CB99D3@jaguNET.com> <551AE5E2.1050202@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1427826517;
	bh=iKEzbGnQ5dct8DzVef+KVavZrSId+mHktsgIs4+JWWM=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=PxxLw9RP7jXQnXO4X3nF63s/n1NlpBXrUCwTQPzrq3j2YQQY0wo5GdZx++K3KFPrM
	 15AXycCZGFpKhKgw8rQIyR4OiAx+8tNQkUtfca6DQ7RXZt7dcJ/zZZe6VWCa/f2ndv
	 ESGffqgm1l9oa7wAtov2R3wLMzUMDMgHLBH9zVrwvNCqtuQr4j0kuxZz7xNkfRT5y1
	 uxAiG50oJle+RCwng1bDTFw3LHGXDMyF2SPSd/o8eTrqqm64s1u5oDjkVKtIIQAXC6
	 k6cui+5BktKYk+4AU0V2a0O9GAdcpuBi0878QV/2BsOLG5w6QggYhlkYvEHou6HkQY
	 bP3FdcRkWCKCw==
X-Virus-Checked: Checked by ClamAV on apache.org

Hmmm... let me double check.

> On Mar 31, 2015, at 2:22 PM, Ruediger Pluem <rpluem@apache.org> wrote:
>=20
>=20
>=20
> On 03/31/2015 08:08 PM, Jim Jagielski wrote:
>> They are used by mod_spdy and/or mod_h2..., iirc
>=20
> They use private structures of mod_ssl directly? That does not sound =
like a good idea.
>=20
> Regards
>=20
> R=C3=BCdiger
>=20
>>=20
>>> On Mar 31, 2015, at 1:57 PM, Ruediger Pluem <rpluem@apache.org> =
wrote:
>>>=20
>>>=20
>>>=20
>>> On 03/31/2015 07:12 PM, jim@apache.org wrote:
>>>> Author: jim
>>>> Date: Tue Mar 31 17:12:51 2015
>>>> New Revision: 1670397
>>>>=20
>>>> URL: http://svn.apache.org/r1670397
>>>> Log:
>>>> ALPN support, based on mod_spdy/mod_h2 patch set
>>>>=20
>>>> Modified:
>>>>   httpd/httpd/trunk/modules/ssl/mod_ssl.c
>>>>   httpd/httpd/trunk/modules/ssl/mod_ssl.h
>>>>   httpd/httpd/trunk/modules/ssl/ssl_engine_config.c
>>>>   httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
>>>>   httpd/httpd/trunk/modules/ssl/ssl_private.h
>>>=20
>>>=20
>>> I don't know if I miss the obvious, but where do we use
>>>=20
>>> ssl_alpn_pref
>>> alpn_proposefns
>>>=20
>>> ?
>>>=20
>>> I can only see that we set it, but I fail to see where it is used.
>>>=20
>>> Regards
>>>=20
>>> R=C3=BCdiger
>>=20
>>=20


From dev-return-82312-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 31 18:58:39 2015
Return-Path: <dev-return-82312-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8B3021795B
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 31 Mar 2015 18:58:39 +0000 (UTC)
Received: (qmail 32483 invoked by uid 500); 31 Mar 2015 18:58:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32407 invoked by uid 500); 31 Mar 2015 18:58:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32397 invoked by uid 99); 31 Mar 2015 18:58:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 18:58:35 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of stefan.eissing@greenbytes.de designates 217.91.35.233 as permitted sender)
Received: from [217.91.35.233] (HELO mail.greenbytes.de) (217.91.35.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 18:58:31 +0000
Received: from [192.168.178.31] (unknown [84.189.95.110])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 3E66815A046B
	for <dev@httpd.apache.org>; Tue, 31 Mar 2015 20:57:09 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: buckets across threads - question
Message-Id: <425B805C-23FA-4658-BD53-4271A0FA5571@greenbytes.de>
Date: Tue, 31 Mar 2015 20:57:08 +0200
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de> <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm> <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de> <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com> <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com> <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de> <E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com> <AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de> <2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com> <06084E9C-1819-4ADF-BD88-18A94C843009@greenbytes.de> <6FB93AAA-2BE9-4D4A-8415-551D0A16F1EB@jaguNET.com>
In-Reply-To: <6FB93AAA-2BE9-4D4A-8415-551D0A16F1EB@jaguNET.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
X-Mailer: iPhone Mail (12D508)
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks, Jim!



> Am 31.03.2015 um 19:29 schrieb Jim Jagielski <jim@jaguNET.com>:
>=20
> What I did is used the alpn patch as a guide and updated trunk
> to add the functionality:
>=20
>    http://svn.apache.org/r1670397
>=20
> I'll give it a few days to work out and then propose for a
> 2.4 backport.
>=20
>> On Mar 31, 2015, at 1:13 PM, Stefan Eissing <stefan.eissing@greenbytes.de=
> wrote:
>>=20
>> I think the old NPN patch is in trunk. The ALPN not AFAIK. I undertstand t=
here is a trunk first policy, but it'd be good to get it at least going ther=
e... thanks.=20
>>=20
>> Stefan
>>=20
>>=20
>>=20
>> Am 31.03.2015 um 18:22 schrieb Jim Jagielski <jim@jaguNET.com>:
>>=20
>>>>=20
>>>> PS. As a small quid-pro-quo and because you were asking about a possibl=
y 2.4.13: there has so far not been a volunteer to integrate the ALPN patch I=
 adapted from mod_spdy. It would be great if someone could take a look at it=
. It is the biggest obstacle so far for experimenters (early sufferers) of m=
od_h2 and it would be very nice to have it out of the way.
>>>=20
>>> I'll take a look. It's not currently in trunk, is that right?
>=20

From dev-return-82313-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 31 19:14:37 2015
Return-Path: <dev-return-82313-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6A68517A5C
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 31 Mar 2015 19:14:37 +0000 (UTC)
Received: (qmail 74366 invoked by uid 500); 31 Mar 2015 19:14:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 74305 invoked by uid 500); 31 Mar 2015 19:14:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 74295 invoked by uid 99); 31 Mar 2015 19:14:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 19:14:30 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.42] (HELO resqmta-ch2-10v.sys.comcast.net) (69.252.207.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 19:14:04 +0000
Received: from resomta-ch2-10v.sys.comcast.net ([69.252.207.106])
	by resqmta-ch2-10v.sys.comcast.net with comcast
	id AKC51q0052JGN3p01KCiXi; Tue, 31 Mar 2015 19:12:42 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-10v.sys.comcast.net with comcast
	id AKCh1q00X1cCKD901KCix4; Tue, 31 Mar 2015 19:12:42 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: svn commit: r1670397 - in /httpd/httpd/trunk/modules/ssl: mod_ssl.c mod_ssl.h ssl_engine_config.c ssl_engine_io.c ssl_private.h
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <D34823A3-B8A5-4970-ABBE-72C1C04C5A67@jaguNET.com>
Date: Tue, 31 Mar 2015 15:12:41 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <50FC4735-37E8-482F-AD78-C099BA4CD8AE@jaguNET.com>
References: <20150331171252.78A1AAC013F@hades.apache.org> <551AE011.9040000@apache.org> <EF9A65AE-FB15-4F40-8D06-9BFC77CB99D3@jaguNET.com> <551AE5E2.1050202@apache.org> <D34823A3-B8A5-4970-ABBE-72C1C04C5A67@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1427829162;
	bh=PI57BQup3eOGC+cwxipYrFa7GiHHDAdWix1OyiWJXiA=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=cI+L1p8NkCdqApkYeFXd0DC7LKvuKXbt24qJjwp4ZV/L7e+Debao5ErdmcDYLiV/d
	 et+XfUraKUdjIO/q/hA4uHG6bN+4LfMHvyk/pZd2PfLHnnwdVyC2H6bmVHk1IMTLDW
	 W2mOo4O4iAu/StrWlcnWtXk63aHclRxuKsPPraoGzWB1h0IJIT+RPmbZce/B5FV705
	 BLxAULM7cHTGDQ+5QmlsnQPLZSy4ms/JH2IDNkpsiZrbN7XLMWjhUpmPvjdvhE++xN
	 X3bvh+VG4fP7alS8ivnwe/Z+Jl5uqdcRxMmPjx0jL94gdhZ7s6nCqjOtAZVjsTRHQL
	 FxaMQlD3vYQQA==
X-Virus-Checked: Checked by ClamAV on apache.org

Hmmm.. missed a patch.

r1670434
> On Mar 31, 2015, at 2:28 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
> Hmmm... let me double check.
>=20
>> On Mar 31, 2015, at 2:22 PM, Ruediger Pluem <rpluem@apache.org> =
wrote:
>>=20
>>=20
>>=20
>> On 03/31/2015 08:08 PM, Jim Jagielski wrote:
>>> They are used by mod_spdy and/or mod_h2..., iirc
>>=20
>> They use private structures of mod_ssl directly? That does not sound =
like a good idea.
>>=20
>> Regards
>>=20
>> R=C3=BCdiger
>>=20
>>>=20
>>>> On Mar 31, 2015, at 1:57 PM, Ruediger Pluem <rpluem@apache.org> =
wrote:
>>>>=20
>>>>=20
>>>>=20
>>>> On 03/31/2015 07:12 PM, jim@apache.org wrote:
>>>>> Author: jim
>>>>> Date: Tue Mar 31 17:12:51 2015
>>>>> New Revision: 1670397
>>>>>=20
>>>>> URL: http://svn.apache.org/r1670397
>>>>> Log:
>>>>> ALPN support, based on mod_spdy/mod_h2 patch set
>>>>>=20
>>>>> Modified:
>>>>>  httpd/httpd/trunk/modules/ssl/mod_ssl.c
>>>>>  httpd/httpd/trunk/modules/ssl/mod_ssl.h
>>>>>  httpd/httpd/trunk/modules/ssl/ssl_engine_config.c
>>>>>  httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
>>>>>  httpd/httpd/trunk/modules/ssl/ssl_private.h
>>>>=20
>>>>=20
>>>> I don't know if I miss the obvious, but where do we use
>>>>=20
>>>> ssl_alpn_pref
>>>> alpn_proposefns
>>>>=20
>>>> ?
>>>>=20
>>>> I can only see that we set it, but I fail to see where it is used.
>>>>=20
>>>> Regards
>>>>=20
>>>> R=C3=BCdiger
>>>=20
>>>=20
>=20


From dev-return-82314-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Mar 31 22:37:34 2015
Return-Path: <dev-return-82314-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C050217652
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 31 Mar 2015 22:37:34 +0000 (UTC)
Received: (qmail 6362 invoked by uid 500); 31 Mar 2015 22:37:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6286 invoked by uid 500); 31 Mar 2015 22:37:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6276 invoked by uid 99); 31 Mar 2015 22:37:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 22:37:21 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of minfrin@sharp.fm designates 80.168.143.5 as permitted sender)
Received: from [80.168.143.5] (HELO monica.sharp.fm) (80.168.143.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 31 Mar 2015 22:36:56 +0000
Received: from [192.168.88.148] (unknown [192.168.88.148])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id A470D80C4D
	for <dev@httpd.apache.org>; Tue, 31 Mar 2015 23:36:24 +0100 (BST)
From: Graham Leggett <minfrin@sharp.fm>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Subject: ap_directory_walk() marking non existent files as APR_DIR
Message-Id: <B86BB7B2-C5B7-48DD-B582-C33C0E200634@sharp.fm>
Date: Wed, 1 Apr 2015 00:36:23 +0200
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org

Hi all,

I am picking apart some strange behaviour where use of the Alias =
directive inside a Location along with a file path that doesn=E2=80=99t =
exist (/_thumbs/i/dont/exist.jpg) triggers a loop of redirects to =
=E2=80=A6/index.html/index.html/index.html/=E2=80=A6

The loop of redirects is caused by mod_dir being told that the non =
existent file is actually a directory (r->finfo.filetype =3D=3D APR_DIR) =
instead of a nonexistent file (r->finfo.filetype =3D=3D APR_NOFILE). =
Working backwards to find where a non existent file is being mislabelled =
as a directory, it leads me to ap_directory_walk(), specifically these =
lines:

        do {
[snip]

            if (*seg_name =3D=3D '/')
                ++seg_name;

            /* If nothing remained but a '/' string, we are finished
             * XXX: NO WE ARE NOT!!!  Now process this puppy!!! */
            if (!*seg_name) {
                break;
            }

[snip]
        } while (thisinfo.filetype =3D=3D APR_DIR);

What is happening is that we are reaching the break, which aborts the =
loop but leaves the value thisinfo.filetype =3D=3D APR_DIR, thus =
triggering the downstream mod_dir mayhem.

Further down in the loop, we have some code that looks like this that =
explicitly sets the file to APR_NOFILE before breaking:

            if (APR_STATUS_IS_ENOENT(rv)) {
                /* Nothing?  That could be nice.  But our directory
                 * walk is done.
                 */
                thisinfo.filetype =3D APR_NOFILE;
                break;
            }

In theory following the pattern above, we might change the code above =
to:

            if (!*seg_name) {
+                thisinfo.filetype =3D APR_NOFILE;
                break;
            }

However I don=E2=80=99t fully understand what the comment "XXX: NO WE =
ARE NOT!!!  Now process this puppy!!!=E2=80=9D actually means.

Can anyone confirm?

Regards,
Graham
=E2=80=94


