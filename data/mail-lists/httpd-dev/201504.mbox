From dev-return-82315-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr  1 16:23:08 2015
Return-Path: <dev-return-82315-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5386D1768D
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  1 Apr 2015 16:23:08 +0000 (UTC)
Received: (qmail 77370 invoked by uid 500); 1 Apr 2015 16:23:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 77292 invoked by uid 500); 1 Apr 2015 16:23:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 77282 invoked by uid 99); 1 Apr 2015 16:23:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Apr 2015 16:23:06 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of stefan.eissing@greenbytes.de designates 217.91.35.233 as permitted sender)
Received: from [217.91.35.233] (HELO mail.greenbytes.de) (217.91.35.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Apr 2015 16:23:02 +0000
Received: from delight.greenbytes.de (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 2B29515A0467
	for <dev@httpd.apache.org>; Wed,  1 Apr 2015 18:22:40 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: multipart/mixed; boundary="Apple-Mail=_78922232-931C-46D7-A6F9-29DB8B533A7F"
Message-Id: <989FF0B3-16C4-4648-BBFE-5572F719B05A@greenbytes.de>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: svn commit: r1670397 - in /httpd/httpd/trunk/modules/ssl: mod_ssl.c mod_ssl.h ssl_engine_config.c ssl_engine_io.c ssl_private.h
Date: Wed, 1 Apr 2015 18:22:39 +0200
References: <20150331171252.78A1AAC013F@hades.apache.org> <551AE011.9040000@apache.org> <EF9A65AE-FB15-4F40-8D06-9BFC77CB99D3@jaguNET.com> <551AE5E2.1050202@apache.org> <D34823A3-B8A5-4970-ABBE-72C1C04C5A67@jaguNET.com> <50FC4735-37E8-482F-AD78-C099BA4CD8AE@jaguNET.com>
To: dev@httpd.apache.org
In-Reply-To: <50FC4735-37E8-482F-AD78-C099BA4CD8AE@jaguNET.com>
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org


--Apple-Mail=_78922232-931C-46D7-A6F9-29DB8B533A7F
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=us-ascii

Jim,

today I converted your commit to a path on 2.4.12 and tested it with =
mod_h2. All fine!

Then I got a trouble report that alpn negotiation always selected =
"http/1.1" unless SSLAlpnPreference configured something else. This is =
due to the deterministic ordering and "http/1.1." > "h2". So, I made a =
slight modification, attached below.

Cheers,

  Stefan

--- modules/ssl/ssl_engine_kernel.c	2015-04-01 15:23:48.000000000 =
+0200
+++ =
../../mod-h2/sandbox/httpd/gen/httpd-2.4.12/modules/ssl/ssl_engine_kernel.=
c	2015-04-01 17:53:03.000000000 +0200
@@ -2177,7 +2152,7 @@
 }
=20
 /*
- * Compare to ALPN protocol proposal. Result is similar to strcmp():
+ * Compare two ALPN protocol proposal. Result is similar to strcmp():
  * 0 gives same precedence, >0 means proto1 is prefered.
  */
 static int ssl_cmp_alpn_protos(modssl_ctx_t *ctx,
@@ -2254,14 +2229,8 @@
         i +=3D plen;
     }
    =20
-    /* Regardless of installed hooks, the http/1.1 protocol is always
-     * supported by us. Add it to the proposals if the client also
-     * offers it. */
     proposed_protos =3D apr_array_make(c->pool, client_protos->nelts+1,
                                      sizeof(char *));
-    if (ssl_array_index(client_protos, alpn_http1) >=3D 0) {
-        APR_ARRAY_PUSH(proposed_protos, const char*) =3D alpn_http1;
-    }
    =20
     if (sslconn->alpn_proposefns !=3D NULL) {
         /* Invoke our alpn_propos_proto hooks, giving other modules a =
chance to
@@ -2280,9 +2249,16 @@
     }
=20
     if (proposed_protos->nelts <=3D 0) {
-        ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, APLOGNO(02839)
-                      "none of the client alpn protocols are =
supported");
-        return SSL_TLSEXT_ERR_ALERT_FATAL;
+        /* Regardless of installed hooks, the http/1.1 protocol is =
always
+         * supported by us. Choose it if none other matches. */
+        if (ssl_array_index(client_protos, alpn_http1) < 0) {
+            ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, APLOGNO(02839)
+                          "none of the client alpn protocols are =
supported");
+            return SSL_TLSEXT_ERR_ALERT_FATAL;
+        }
+        *out =3D (const unsigned char*)alpn_http1;
+        *outlen =3D (unsigned char)strlen(alpn_http1);
+        return SSL_TLSEXT_ERR_OK;
     }
    =20
     /* Now select the most preferred protocol from the proposals. */


--Apple-Mail=_78922232-931C-46D7-A6F9-29DB8B533A7F
Content-Disposition: attachment;
	filename=httpd-trunk2.unified.diff.patch
Content-Type: application/octet-stream;
	name="httpd-trunk2.unified.diff.patch"
Content-Transfer-Encoding: 7bit

--- modules/ssl/ssl_engine_kernel.c	2015-04-01 15:23:48.000000000 +0200
+++ ../../mod-h2/sandbox/httpd/gen/httpd-2.4.12/modules/ssl/ssl_engine_kernel.c	2015-04-01 17:53:03.000000000 +0200
@@ -2177,7 +2152,7 @@
 }
 
 /*
- * Compare to ALPN protocol proposal. Result is similar to strcmp():
+ * Compare two ALPN protocol proposal. Result is similar to strcmp():
  * 0 gives same precedence, >0 means proto1 is prefered.
  */
 static int ssl_cmp_alpn_protos(modssl_ctx_t *ctx,
@@ -2254,14 +2229,8 @@
         i += plen;
     }
     
-    /* Regardless of installed hooks, the http/1.1 protocol is always
-     * supported by us. Add it to the proposals if the client also
-     * offers it. */
     proposed_protos = apr_array_make(c->pool, client_protos->nelts+1,
                                      sizeof(char *));
-    if (ssl_array_index(client_protos, alpn_http1) >= 0) {
-        APR_ARRAY_PUSH(proposed_protos, const char*) = alpn_http1;
-    }
     
     if (sslconn->alpn_proposefns != NULL) {
         /* Invoke our alpn_propos_proto hooks, giving other modules a chance to
@@ -2280,9 +2249,16 @@
     }
 
     if (proposed_protos->nelts <= 0) {
-        ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, APLOGNO(02839)
-                      "none of the client alpn protocols are supported");
-        return SSL_TLSEXT_ERR_ALERT_FATAL;
+        /* Regardless of installed hooks, the http/1.1 protocol is always
+         * supported by us. Choose it if none other matches. */
+        if (ssl_array_index(client_protos, alpn_http1) < 0) {
+            ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, APLOGNO(02839)
+                          "none of the client alpn protocols are supported");
+            return SSL_TLSEXT_ERR_ALERT_FATAL;
+        }
+        *out = (const unsigned char*)alpn_http1;
+        *outlen = (unsigned char)strlen(alpn_http1);
+        return SSL_TLSEXT_ERR_OK;
     }
     
     /* Now select the most preferred protocol from the proposals. */

--Apple-Mail=_78922232-931C-46D7-A6F9-29DB8B533A7F
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=utf-8


> Am 31.03.2015 um 21:12 schrieb Jim Jagielski <jim@jaguNET.com>:
>=20
> Hmmm.. missed a patch.
>=20
> r1670434
>> On Mar 31, 2015, at 2:28 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>>=20
>> Hmmm... let me double check.
>>=20
>>> On Mar 31, 2015, at 2:22 PM, Ruediger Pluem <rpluem@apache.org> =
wrote:
>>>=20
>>>=20
>>>=20
>>> On 03/31/2015 08:08 PM, Jim Jagielski wrote:
>>>> They are used by mod_spdy and/or mod_h2..., iirc
>>>=20
>>> They use private structures of mod_ssl directly? That does not sound =
like a good idea.
>>>=20
>>> Regards
>>>=20
>>> R=C3=BCdiger
>>>=20
>>>>=20
>>>>> On Mar 31, 2015, at 1:57 PM, Ruediger Pluem <rpluem@apache.org> =
wrote:
>>>>>=20
>>>>>=20
>>>>>=20
>>>>> On 03/31/2015 07:12 PM, jim@apache.org wrote:
>>>>>> Author: jim
>>>>>> Date: Tue Mar 31 17:12:51 2015
>>>>>> New Revision: 1670397
>>>>>>=20
>>>>>> URL: http://svn.apache.org/r1670397
>>>>>> Log:
>>>>>> ALPN support, based on mod_spdy/mod_h2 patch set
>>>>>>=20
>>>>>> Modified:
>>>>>> httpd/httpd/trunk/modules/ssl/mod_ssl.c
>>>>>> httpd/httpd/trunk/modules/ssl/mod_ssl.h
>>>>>> httpd/httpd/trunk/modules/ssl/ssl_engine_config.c
>>>>>> httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
>>>>>> httpd/httpd/trunk/modules/ssl/ssl_private.h
>>>>>=20
>>>>>=20
>>>>> I don't know if I miss the obvious, but where do we use
>>>>>=20
>>>>> ssl_alpn_pref
>>>>> alpn_proposefns
>>>>>=20
>>>>> ?
>>>>>=20
>>>>> I can only see that we set it, but I fail to see where it is used.
>>>>>=20
>>>>> Regards
>>>>>=20
>>>>> R=C3=BCdiger
>>>>=20
>>>>=20
>>=20
>=20

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




--Apple-Mail=_78922232-931C-46D7-A6F9-29DB8B533A7F--

From dev-return-82316-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr  1 16:47:49 2015
Return-Path: <dev-return-82316-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 76C61177BE
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  1 Apr 2015 16:47:49 +0000 (UTC)
Received: (qmail 52940 invoked by uid 500); 1 Apr 2015 16:47:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 52878 invoked by uid 500); 1 Apr 2015 16:47:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 52866 invoked by uid 99); 1 Apr 2015 16:47:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Apr 2015 16:47:48 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rainer.jung@kippdata.de designates 195.227.30.149 as permitted sender)
Received: from [195.227.30.149] (HELO mailserver.kippdata.de) (195.227.30.149)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Apr 2015 16:47:43 +0000
Received: from [172.16.0.2] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t31GlLHB007784
	for <dev@httpd.apache.org>; Wed, 1 Apr 2015 18:47:21 +0200 (CEST)
Message-ID: <551C2114.7050303@kippdata.de>
Date: Wed, 01 Apr 2015 18:47:16 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.5.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1670397 - in /httpd/httpd/trunk/modules/ssl: mod_ssl.c
 mod_ssl.h ssl_engine_config.c ssl_engine_io.c ssl_private.h
References: <20150331171252.78A1AAC013F@hades.apache.org> <551AE011.9040000@apache.org> <EF9A65AE-FB15-4F40-8D06-9BFC77CB99D3@jaguNET.com> <551AE5E2.1050202@apache.org> <D34823A3-B8A5-4970-ABBE-72C1C04C5A67@jaguNET.com> <50FC4735-37E8-482F-AD78-C099BA4CD8AE@jaguNET.com> <989FF0B3-16C4-4648-BBFE-5572F719B05A@greenbytes.de>
In-Reply-To: <989FF0B3-16C4-4648-BBFE-5572F719B05A@greenbytes.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Stefan,

Am 01.04.2015 um 18:22 schrieb Stefan Eissing:
> Jim,
>
> today I converted your commit to a path on 2.4.12 and tested it with mod_h2. All fine!
>
> Then I got a trouble report that alpn negotiation always selected "http/1.1" unless SSLAlpnPreference configured something else. This is due to the deterministic ordering and "http/1.1." > "h2". So, I made a slight modification, attached below.

Maybe related but concerning NPN: There was a difference between the NPN 
parts of your original Bugzilla attachment and what was already in 
mod_ssl trunk and therefore was not applied. In your attachment, there 
was some code for sorting in ssl_callback_AdvertiseNextProtos() which 
IMHO does not exist in trunk. Is that part necessary?

A second difference: your original addition to ssl_engine_io.c had the 
NPN and the ALPN parts merged in the same code block. In trunk those are 
now two separate pieces coming after each other.

> --- modules/ssl/ssl_engine_kernel.c	2015-04-01 15:23:48.000000000 +0200
> +++ ../../mod-h2/sandbox/httpd/gen/httpd-2.4.12/modules/ssl/ssl_engine_kernel.c	2015-04-01 17:53:03.000000000 +0200
> @@ -2177,7 +2152,7 @@
>   }
>
>   /*
> - * Compare to ALPN protocol proposal. Result is similar to strcmp():
> + * Compare two ALPN protocol proposal. Result is similar to strcmp():
>    * 0 gives same precedence, >0 means proto1 is prefered.
>    */
>   static int ssl_cmp_alpn_protos(modssl_ctx_t *ctx,
> @@ -2254,14 +2229,8 @@
>           i += plen;
>       }
>
> -    /* Regardless of installed hooks, the http/1.1 protocol is always
> -     * supported by us. Add it to the proposals if the client also
> -     * offers it. */
>       proposed_protos = apr_array_make(c->pool, client_protos->nelts+1,
>                                        sizeof(char *));
> -    if (ssl_array_index(client_protos, alpn_http1) >= 0) {
> -        APR_ARRAY_PUSH(proposed_protos, const char*) = alpn_http1;
> -    }
>
>       if (sslconn->alpn_proposefns != NULL) {
>           /* Invoke our alpn_propos_proto hooks, giving other modules a chance to
> @@ -2280,9 +2249,16 @@
>       }
>
>       if (proposed_protos->nelts <= 0) {
> -        ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, APLOGNO(02839)
> -                      "none of the client alpn protocols are supported");
> -        return SSL_TLSEXT_ERR_ALERT_FATAL;
> +        /* Regardless of installed hooks, the http/1.1 protocol is always
> +         * supported by us. Choose it if none other matches. */
> +        if (ssl_array_index(client_protos, alpn_http1) < 0) {
> +            ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, APLOGNO(02839)
> +                          "none of the client alpn protocols are supported");
> +            return SSL_TLSEXT_ERR_ALERT_FATAL;
> +        }
> +        *out = (const unsigned char*)alpn_http1;
> +        *outlen = (unsigned char)strlen(alpn_http1);
> +        return SSL_TLSEXT_ERR_OK;
>       }
>
>       /* Now select the most preferred protocol from the proposals. */

From dev-return-82317-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr  1 17:22:51 2015
Return-Path: <dev-return-82317-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 329EA17999
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  1 Apr 2015 17:22:51 +0000 (UTC)
Received: (qmail 90751 invoked by uid 500); 1 Apr 2015 17:22:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 90687 invoked by uid 500); 1 Apr 2015 17:22:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 90677 invoked by uid 99); 1 Apr 2015 17:22:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Apr 2015 17:22:47 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.38] (HELO resqmta-ch2-06v.sys.comcast.net) (69.252.207.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Apr 2015 17:22:21 +0000
Received: from resomta-ch2-04v.sys.comcast.net ([69.252.207.100])
	by resqmta-ch2-06v.sys.comcast.net with comcast
	id AhKe1q0022AWL2D01hKyY5; Wed, 01 Apr 2015 17:19:58 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-04v.sys.comcast.net with comcast
	id AhKx1q0091cCKD901hKxbF; Wed, 01 Apr 2015 17:19:58 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: svn commit: r1670397 - in /httpd/httpd/trunk/modules/ssl: mod_ssl.c mod_ssl.h ssl_engine_config.c ssl_engine_io.c ssl_private.h
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <989FF0B3-16C4-4648-BBFE-5572F719B05A@greenbytes.de>
Date: Wed, 1 Apr 2015 13:19:57 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <A8EA7B5E-5F04-438B-B18B-B69C6C664BB9@jaguNET.com>
References: <20150331171252.78A1AAC013F@hades.apache.org> <551AE011.9040000@apache.org> <EF9A65AE-FB15-4F40-8D06-9BFC77CB99D3@jaguNET.com> <551AE5E2.1050202@apache.org> <D34823A3-B8A5-4970-ABBE-72C1C04C5A67@jaguNET.com> <50FC4735-37E8-482F-AD78-C099BA4CD8AE@jaguNET.com> <989FF0B3-16C4-4648-BBFE-5572F719B05A@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1427908798;
	bh=qaPZ8g51NZxkvBGEc6PXi6G2F1gg3ySkx+4OwDMUeZI=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=XVUstmyp9GrNnZBUwgDkPNmKbAxI0i1B7mWlq7L6KETp9t1gfJuwTCWwwHD+P7wKl
	 e7dHNESH4M0XFME9Hkhx6+3VA4M+fM8N3Qo27FjV+/cbAgd+UxijLzaG3/srfe8kI/
	 T5T39MyheASdJplyfzDuJJowYfchwqlbwMVvI/t/tIiw7eDROwISdYC3yR1Z2bU/tE
	 JE/stYwizRXTcwpWXuFEIPuIphzqRLpm/Oa1VZwsOZWfoC19VpjMj0bxqrJL9TYZf2
	 recNMaLo8ZhnVlHf7M0FHmiYI7EwwoKcbcqsQLoNikNIlmRal+Rkn5d5vpsPMEjHow
	 CgTaUjRsXlLJg==
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks! Added in 1670738.

> On Apr 1, 2015, at 12:22 PM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
> Jim,
>=20
> today I converted your commit to a path on 2.4.12 and tested it with =
mod_h2. All fine!
>=20
> Then I got a trouble report that alpn negotiation always selected =
"http/1.1" unless SSLAlpnPreference configured something else. This is =
due to the deterministic ordering and "http/1.1." > "h2". So, I made a =
slight modification, attached below.
>=20
> Cheers,
>=20
>  Stefan
>=20
> --- modules/ssl/ssl_engine_kernel.c	2015-04-01 15:23:48.000000000 =
+0200
> +++ =
../../mod-h2/sandbox/httpd/gen/httpd-2.4.12/modules/ssl/ssl_engine_kernel.=
c	2015-04-01 17:53:03.000000000 +0200
> @@ -2177,7 +2152,7 @@
> }
>=20
> /*
> - * Compare to ALPN protocol proposal. Result is similar to strcmp():
> + * Compare two ALPN protocol proposal. Result is similar to strcmp():
>  * 0 gives same precedence, >0 means proto1 is prefered.
>  */
> static int ssl_cmp_alpn_protos(modssl_ctx_t *ctx,
> @@ -2254,14 +2229,8 @@
>         i +=3D plen;
>     }
>=20
> -    /* Regardless of installed hooks, the http/1.1 protocol is always
> -     * supported by us. Add it to the proposals if the client also
> -     * offers it. */
>     proposed_protos =3D apr_array_make(c->pool, =
client_protos->nelts+1,
>                                      sizeof(char *));
> -    if (ssl_array_index(client_protos, alpn_http1) >=3D 0) {
> -        APR_ARRAY_PUSH(proposed_protos, const char*) =3D alpn_http1;
> -    }
>=20
>     if (sslconn->alpn_proposefns !=3D NULL) {
>         /* Invoke our alpn_propos_proto hooks, giving other modules a =
chance to
> @@ -2280,9 +2249,16 @@
>     }
>=20
>     if (proposed_protos->nelts <=3D 0) {
> -        ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, APLOGNO(02839)
> -                      "none of the client alpn protocols are =
supported");
> -        return SSL_TLSEXT_ERR_ALERT_FATAL;
> +        /* Regardless of installed hooks, the http/1.1 protocol is =
always
> +         * supported by us. Choose it if none other matches. */
> +        if (ssl_array_index(client_protos, alpn_http1) < 0) {
> +            ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, APLOGNO(02839)
> +                          "none of the client alpn protocols are =
supported");
> +            return SSL_TLSEXT_ERR_ALERT_FATAL;
> +        }
> +        *out =3D (const unsigned char*)alpn_http1;
> +        *outlen =3D (unsigned char)strlen(alpn_http1);
> +        return SSL_TLSEXT_ERR_OK;
>     }
>=20
>     /* Now select the most preferred protocol from the proposals. */
>=20
> <httpd-trunk2.unified.diff.patch>
>> Am 31.03.2015 um 21:12 schrieb Jim Jagielski <jim@jaguNET.com>:
>>=20
>> Hmmm.. missed a patch.
>>=20
>> r1670434
>>> On Mar 31, 2015, at 2:28 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>>>=20
>>> Hmmm... let me double check.
>>>=20
>>>> On Mar 31, 2015, at 2:22 PM, Ruediger Pluem <rpluem@apache.org> =
wrote:
>>>>=20
>>>>=20
>>>>=20
>>>> On 03/31/2015 08:08 PM, Jim Jagielski wrote:
>>>>> They are used by mod_spdy and/or mod_h2..., iirc
>>>>=20
>>>> They use private structures of mod_ssl directly? That does not =
sound like a good idea.
>>>>=20
>>>> Regards
>>>>=20
>>>> R=C3=BCdiger
>>>>=20
>>>>>=20
>>>>>> On Mar 31, 2015, at 1:57 PM, Ruediger Pluem <rpluem@apache.org> =
wrote:
>>>>>>=20
>>>>>>=20
>>>>>>=20
>>>>>> On 03/31/2015 07:12 PM, jim@apache.org wrote:
>>>>>>> Author: jim
>>>>>>> Date: Tue Mar 31 17:12:51 2015
>>>>>>> New Revision: 1670397
>>>>>>>=20
>>>>>>> URL: http://svn.apache.org/r1670397
>>>>>>> Log:
>>>>>>> ALPN support, based on mod_spdy/mod_h2 patch set
>>>>>>>=20
>>>>>>> Modified:
>>>>>>> httpd/httpd/trunk/modules/ssl/mod_ssl.c
>>>>>>> httpd/httpd/trunk/modules/ssl/mod_ssl.h
>>>>>>> httpd/httpd/trunk/modules/ssl/ssl_engine_config.c
>>>>>>> httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
>>>>>>> httpd/httpd/trunk/modules/ssl/ssl_private.h
>>>>>>=20
>>>>>>=20
>>>>>> I don't know if I miss the obvious, but where do we use
>>>>>>=20
>>>>>> ssl_alpn_pref
>>>>>> alpn_proposefns
>>>>>>=20
>>>>>> ?
>>>>>>=20
>>>>>> I can only see that we set it, but I fail to see where it is =
used.
>>>>>>=20
>>>>>> Regards
>>>>>>=20
>>>>>> R=C3=BCdiger
>>>>>=20
>>>>>=20
>>>=20
>>=20
>=20
> <green/>bytes GmbH
> Hafenweg 16, 48155 M=C3=BCnster, Germany
> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>=20
>=20
>=20


From dev-return-82318-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr  1 17:32:16 2015
Return-Path: <dev-return-82318-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7125317A33
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  1 Apr 2015 17:32:16 +0000 (UTC)
Received: (qmail 34026 invoked by uid 500); 1 Apr 2015 17:32:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 33965 invoked by uid 500); 1 Apr 2015 17:32:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 33955 invoked by uid 99); 1 Apr 2015 17:32:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Apr 2015 17:32:16 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.43] (HELO resqmta-ch2-11v.sys.comcast.net) (69.252.207.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Apr 2015 17:32:06 +0000
Received: from resomta-ch2-12v.sys.comcast.net ([69.252.207.108])
	by resqmta-ch2-11v.sys.comcast.net with comcast
	id AhUC1q0022LrikM01hUNj8; Wed, 01 Apr 2015 17:28:22 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-12v.sys.comcast.net with comcast
	id AhUN1q0011cCKD901hUNpX; Wed, 01 Apr 2015 17:28:22 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: svn commit: r1670397 - in /httpd/httpd/trunk/modules/ssl: mod_ssl.c mod_ssl.h ssl_engine_config.c ssl_engine_io.c ssl_private.h
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <551C2114.7050303@kippdata.de>
Date: Wed, 1 Apr 2015 13:28:21 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <3EC909E0-261E-4713-8D69-E641E2EDE1F5@jaguNET.com>
References: <20150331171252.78A1AAC013F@hades.apache.org> <551AE011.9040000@apache.org> <EF9A65AE-FB15-4F40-8D06-9BFC77CB99D3@jaguNET.com> <551AE5E2.1050202@apache.org> <D34823A3-B8A5-4970-ABBE-72C1C04C5A67@jaguNET.com> <50FC4735-37E8-482F-AD78-C099BA4CD8AE@jaguNET.com> <989FF0B3-16C4-4648-BBFE-5572F719B05A@greenbytes.de> <551C2114.7050303@kippdata.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1427909302;
	bh=md8SsFCz+YfqqHpoSuyIgaSJwYG5zewSimchoR4PtWw=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=JnGYc0P9lDsePV6512Eg8goYh37z1O6DuuhfNX9qaIzwJxnKxgVnWjxdlGCkNJh8k
	 /zplpV2w0ZXc+PXx6tKM8Bfxvu2SLIWeZK+UDpgF+7yvoaFqWKjdF6bLs1ahDmlW2k
	 VEJLqBy7I/nHN/VN25OuD0BAHZecAK2VRj5erev9Ifv6uAu8CK9z0ayTtg9xLiO7rt
	 3L6DaVb5I3cq2jfOITeZNYbY8F1crq9CQvlc2u6CZBtsjpxXmq3HIVF8hTZM3R42mK
	 WigsqJOaaA2leWe8Sf/32T/iRAuXQqwUVSK0h8/IkZz/1BtPxkTXMXxVoh9A5zqoCe
	 1eDGMEwdvEASw==
X-Virus-Checked: Checked by ClamAV on apache.org

Yeah, there is some "overlap" which I'm trying to grok,
since trunk had NPN but not ALPN, so I tried to have the
ALPN stuff self-contained. But not sure if that's the best
way since, for example, alpn_proposefns is adjusted
in ssl_callback_AdvertiseNextProtos(), but that is a
NPN "only" function in trunk, so it uses npn_proposefns.

I'm thinking that in trunk we shouldn't think of
NPN and ALPN as "distinct".

> On Apr 1, 2015, at 12:47 PM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>=20
> Hi Stefan,
>=20
> Am 01.04.2015 um 18:22 schrieb Stefan Eissing:
>> Jim,
>>=20
>> today I converted your commit to a path on 2.4.12 and tested it with =
mod_h2. All fine!
>>=20
>> Then I got a trouble report that alpn negotiation always selected =
"http/1.1" unless SSLAlpnPreference configured something else. This is =
due to the deterministic ordering and "http/1.1." > "h2". So, I made a =
slight modification, attached below.
>=20
> Maybe related but concerning NPN: There was a difference between the =
NPN parts of your original Bugzilla attachment and what was already in =
mod_ssl trunk and therefore was not applied. In your attachment, there =
was some code for sorting in ssl_callback_AdvertiseNextProtos() which =
IMHO does not exist in trunk. Is that part necessary?
>=20
> A second difference: your original addition to ssl_engine_io.c had the =
NPN and the ALPN parts merged in the same code block. In trunk those are =
now two separate pieces coming after each other.
>=20
>> --- modules/ssl/ssl_engine_kernel.c	2015-04-01 15:23:48.000000000 =
+0200
>> +++ =
../../mod-h2/sandbox/httpd/gen/httpd-2.4.12/modules/ssl/ssl_engine_kernel.=
c	2015-04-01 17:53:03.000000000 +0200
>> @@ -2177,7 +2152,7 @@
>>  }
>>=20
>>  /*
>> - * Compare to ALPN protocol proposal. Result is similar to strcmp():
>> + * Compare two ALPN protocol proposal. Result is similar to =
strcmp():
>>   * 0 gives same precedence, >0 means proto1 is prefered.
>>   */
>>  static int ssl_cmp_alpn_protos(modssl_ctx_t *ctx,
>> @@ -2254,14 +2229,8 @@
>>          i +=3D plen;
>>      }
>>=20
>> -    /* Regardless of installed hooks, the http/1.1 protocol is =
always
>> -     * supported by us. Add it to the proposals if the client also
>> -     * offers it. */
>>      proposed_protos =3D apr_array_make(c->pool, =
client_protos->nelts+1,
>>                                       sizeof(char *));
>> -    if (ssl_array_index(client_protos, alpn_http1) >=3D 0) {
>> -        APR_ARRAY_PUSH(proposed_protos, const char*) =3D alpn_http1;
>> -    }
>>=20
>>      if (sslconn->alpn_proposefns !=3D NULL) {
>>          /* Invoke our alpn_propos_proto hooks, giving other modules =
a chance to
>> @@ -2280,9 +2249,16 @@
>>      }
>>=20
>>      if (proposed_protos->nelts <=3D 0) {
>> -        ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, APLOGNO(02839)
>> -                      "none of the client alpn protocols are =
supported");
>> -        return SSL_TLSEXT_ERR_ALERT_FATAL;
>> +        /* Regardless of installed hooks, the http/1.1 protocol is =
always
>> +         * supported by us. Choose it if none other matches. */
>> +        if (ssl_array_index(client_protos, alpn_http1) < 0) {
>> +            ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, =
APLOGNO(02839)
>> +                          "none of the client alpn protocols are =
supported");
>> +            return SSL_TLSEXT_ERR_ALERT_FATAL;
>> +        }
>> +        *out =3D (const unsigned char*)alpn_http1;
>> +        *outlen =3D (unsigned char)strlen(alpn_http1);
>> +        return SSL_TLSEXT_ERR_OK;
>>      }
>>=20
>>      /* Now select the most preferred protocol from the proposals. */


From dev-return-82319-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr  1 18:00:49 2015
Return-Path: <dev-return-82319-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5A54F17BD0
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  1 Apr 2015 18:00:49 +0000 (UTC)
Received: (qmail 58431 invoked by uid 500); 1 Apr 2015 18:00:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58370 invoked by uid 500); 1 Apr 2015 18:00:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58360 invoked by uid 99); 1 Apr 2015 18:00:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Apr 2015 18:00:45 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stefan.eissing@greenbytes.de designates 217.91.35.233 as permitted sender)
Received: from [217.91.35.233] (HELO mail.greenbytes.de) (217.91.35.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Apr 2015 18:00:20 +0000
Received: from [192.168.178.31] (unknown [84.150.73.61])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id CC2A515A047E
	for <dev@httpd.apache.org>; Wed,  1 Apr 2015 19:59:18 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: svn commit: r1670397 - in /httpd/httpd/trunk/modules/ssl: mod_ssl.c mod_ssl.h ssl_engine_config.c ssl_engine_io.c ssl_private.h
Message-Id: <69F768A8-9F40-4F5B-AB4D-572FD979A569@greenbytes.de>
Date: Wed, 1 Apr 2015 19:59:18 +0200
References: <20150331171252.78A1AAC013F@hades.apache.org> <551AE011.9040000@apache.org> <EF9A65AE-FB15-4F40-8D06-9BFC77CB99D3@jaguNET.com> <551AE5E2.1050202@apache.org> <D34823A3-B8A5-4970-ABBE-72C1C04C5A67@jaguNET.com> <50FC4735-37E8-482F-AD78-C099BA4CD8AE@jaguNET.com> <989FF0B3-16C4-4648-BBFE-5572F719B05A@greenbytes.de> <551C2114.7050303@kippdata.de> <3EC909E0-261E-4713-8D69-E641E2EDE1F5@jaguNET.com>
In-Reply-To: <3EC909E0-261E-4713-8D69-E641E2EDE1F5@jaguNET.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
X-Mailer: iPhone Mail (12D508)
X-Virus-Checked: Checked by ClamAV on apache.org

Well, I took the trunk version, diffed to 2.4.12 and made a patch for my san=
dbox build (removed the non alpn/npn parts). That works for mod_h2 after add=
ing callbacks for the npn stuff.=20

I have no real pref to keep npn and alpn separate or not. my thought when me=
rging these was that npn will go away rather soon as alpn is supposed to rep=
lace it and is afaik the cryptographically more secure way (i think npn is p=
rone to mitm downgrade attacks).=20

cheers,
  Stefan



> Am 01.04.2015 um 19:28 schrieb Jim Jagielski <jim@jaguNET.com>:
>=20
> Yeah, there is some "overlap" which I'm trying to grok,
> since trunk had NPN but not ALPN, so I tried to have the
> ALPN stuff self-contained. But not sure if that's the best
> way since, for example, alpn_proposefns is adjusted
> in ssl_callback_AdvertiseNextProtos(), but that is a
> NPN "only" function in trunk, so it uses npn_proposefns.
>=20
> I'm thinking that in trunk we shouldn't think of
> NPN and ALPN as "distinct".
>=20
>> On Apr 1, 2015, at 12:47 PM, Rainer Jung <rainer.jung@kippdata.de> wrote:=

>>=20
>> Hi Stefan,
>>=20
>>> Am 01.04.2015 um 18:22 schrieb Stefan Eissing:
>>> Jim,
>>>=20
>>> today I converted your commit to a path on 2.4.12 and tested it with mod=
_h2. All fine!
>>>=20
>>> Then I got a trouble report that alpn negotiation always selected "http/=
1.1" unless SSLAlpnPreference configured something else. This is due to the d=
eterministic ordering and "http/1.1." > "h2". So, I made a slight modificati=
on, attached below.
>>=20
>> Maybe related but concerning NPN: There was a difference between the NPN p=
arts of your original Bugzilla attachment and what was already in mod_ssl tr=
unk and therefore was not applied. In your attachment, there was some code f=
or sorting in ssl_callback_AdvertiseNextProtos() which IMHO does not exist i=
n trunk. Is that part necessary?
>>=20
>> A second difference: your original addition to ssl_engine_io.c had the NP=
N and the ALPN parts merged in the same code block. In trunk those are now t=
wo separate pieces coming after each other.
>>=20
>>> --- modules/ssl/ssl_engine_kernel.c    2015-04-01 15:23:48.000000000 +02=
00
>>> +++ ../../mod-h2/sandbox/httpd/gen/httpd-2.4.12/modules/ssl/ssl_engine_k=
ernel.c    2015-04-01 17:53:03.000000000 +0200
>>> @@ -2177,7 +2152,7 @@
>>> }
>>>=20
>>> /*
>>> - * Compare to ALPN protocol proposal. Result is similar to strcmp():
>>> + * Compare two ALPN protocol proposal. Result is similar to strcmp():
>>>  * 0 gives same precedence, >0 means proto1 is prefered.
>>>  */
>>> static int ssl_cmp_alpn_protos(modssl_ctx_t *ctx,
>>> @@ -2254,14 +2229,8 @@
>>>         i +=3D plen;
>>>     }
>>>=20
>>> -    /* Regardless of installed hooks, the http/1.1 protocol is always
>>> -     * supported by us. Add it to the proposals if the client also
>>> -     * offers it. */
>>>     proposed_protos =3D apr_array_make(c->pool, client_protos->nelts+1,
>>>                                      sizeof(char *));
>>> -    if (ssl_array_index(client_protos, alpn_http1) >=3D 0) {
>>> -        APR_ARRAY_PUSH(proposed_protos, const char*) =3D alpn_http1;
>>> -    }
>>>=20
>>>     if (sslconn->alpn_proposefns !=3D NULL) {
>>>         /* Invoke our alpn_propos_proto hooks, giving other modules a ch=
ance to
>>> @@ -2280,9 +2249,16 @@
>>>     }
>>>=20
>>>     if (proposed_protos->nelts <=3D 0) {
>>> -        ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, APLOGNO(02839)
>>> -                      "none of the client alpn protocols are supported"=
);
>>> -        return SSL_TLSEXT_ERR_ALERT_FATAL;
>>> +        /* Regardless of installed hooks, the http/1.1 protocol is alwa=
ys
>>> +         * supported by us. Choose it if none other matches. */
>>> +        if (ssl_array_index(client_protos, alpn_http1) < 0) {
>>> +            ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, APLOGNO(02839)
>>> +                          "none of the client alpn protocols are suppor=
ted");
>>> +            return SSL_TLSEXT_ERR_ALERT_FATAL;
>>> +        }
>>> +        *out =3D (const unsigned char*)alpn_http1;
>>> +        *outlen =3D (unsigned char)strlen(alpn_http1);
>>> +        return SSL_TLSEXT_ERR_OK;
>>>     }
>>>=20
>>>     /* Now select the most preferred protocol from the proposals. */
>=20

From dev-return-82320-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr  1 20:35:29 2015
Return-Path: <dev-return-82320-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9EC30175A0
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  1 Apr 2015 20:35:29 +0000 (UTC)
Received: (qmail 85190 invoked by uid 500); 1 Apr 2015 20:35:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 85124 invoked by uid 500); 1 Apr 2015 20:35:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 85114 invoked by uid 99); 1 Apr 2015 20:35:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Apr 2015 20:35:29 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.41] (HELO resqmta-ch2-09v.sys.comcast.net) (69.252.207.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Apr 2015 20:35:24 +0000
Received: from resomta-ch2-12v.sys.comcast.net ([69.252.207.108])
	by resqmta-ch2-09v.sys.comcast.net with comcast
	id AkZB1q0062LrikM01kZjPn; Wed, 01 Apr 2015 20:33:43 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-12v.sys.comcast.net with comcast
	id AkZi1q00S1cCKD901kZjlz; Wed, 01 Apr 2015 20:33:43 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: svn commit: r1670397 - in /httpd/httpd/trunk/modules/ssl: mod_ssl.c mod_ssl.h ssl_engine_config.c ssl_engine_io.c ssl_private.h
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <69F768A8-9F40-4F5B-AB4D-572FD979A569@greenbytes.de>
Date: Wed, 1 Apr 2015 16:33:42 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <20FF6604-7527-41BF-9878-E12EBAA8D2CF@jaguNET.com>
References: <20150331171252.78A1AAC013F@hades.apache.org> <551AE011.9040000@apache.org> <EF9A65AE-FB15-4F40-8D06-9BFC77CB99D3@jaguNET.com> <551AE5E2.1050202@apache.org> <D34823A3-B8A5-4970-ABBE-72C1C04C5A67@jaguNET.com> <50FC4735-37E8-482F-AD78-C099BA4CD8AE@jaguNET.com> <989FF0B3-16C4-4648-BBFE-5572F719B05A@greenbytes.de> <551C2114.7050303@kippdata.de> <3EC909E0-261E-4713-8D69-E641E2EDE1F5@jaguNET.com> <69F768A8-9F40-4F5B-AB4D-572FD979A569@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1427920423;
	bh=qLfsBJkt3q5owNfFKYwDdnHix83+GG30Ft3BG6FzJLU=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=U+LgQhj6QCl/QJSQ8qAvWmJxbyvvHD4/hAmd9W/paHzIaz1vvMKKlRtxJT5vrQDIa
	 rhI3IqlAzLnHq2QuSx5qGACjQJuQWKJvy/AmzKsSbCdkS6sRqDo6qEoCt84n890UYq
	 96ejUY5Pv915O/NkYonD4Sqp5/OYfdrmECqcR0gIHAIxQuITOKN50R8rZ6j78/3eEU
	 qwSwsldXV/Eh4l9vqAcP3TkblMIZLX4FVY316fp0BMJySNYZ9npJ7+QRuwrNU5Aekf
	 L7LUiyaLVaydRdI494cAOZbIZQIHwY/5QXTnLZjJSHOhO5rxOmq0I18iQ82pYokDin
	 ynxD1lSEN9CTw==
X-Virus-Checked: Checked by ClamAV on apache.org

Yeah, I agree. Right now, trunk pretty much uses

	#ifdef HAVE_TLS_ALPN
	blah blah
	#endif
	#ifdef HAVE_TLS_NPN
	blah2 blah2
	#endif

Instead of

	#if defined(HAVE_TLS_NPN) || defined(HAVE_TLS_ALPN)

so that "ripping out" NPN would be easier. The question is
which to use for 2.4...

> On Apr 1, 2015, at 1:59 PM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
> Well, I took the trunk version, diffed to 2.4.12 and made a patch for =
my sandbox build (removed the non alpn/npn parts). That works for mod_h2 =
after adding callbacks for the npn stuff.=20
>=20
> I have no real pref to keep npn and alpn separate or not. my thought =
when merging these was that npn will go away rather soon as alpn is =
supposed to replace it and is afaik the cryptographically more secure =
way (i think npn is prone to mitm downgrade attacks).=20
>=20
> cheers,
>  Stefan
>=20
>=20
>=20
>> Am 01.04.2015 um 19:28 schrieb Jim Jagielski <jim@jaguNET.com>:
>>=20
>> Yeah, there is some "overlap" which I'm trying to grok,
>> since trunk had NPN but not ALPN, so I tried to have the
>> ALPN stuff self-contained. But not sure if that's the best
>> way since, for example, alpn_proposefns is adjusted
>> in ssl_callback_AdvertiseNextProtos(), but that is a
>> NPN "only" function in trunk, so it uses npn_proposefns.
>>=20
>> I'm thinking that in trunk we shouldn't think of
>> NPN and ALPN as "distinct".
>>=20
>>> On Apr 1, 2015, at 12:47 PM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>>>=20
>>> Hi Stefan,
>>>=20
>>>> Am 01.04.2015 um 18:22 schrieb Stefan Eissing:
>>>> Jim,
>>>>=20
>>>> today I converted your commit to a path on 2.4.12 and tested it =
with mod_h2. All fine!
>>>>=20
>>>> Then I got a trouble report that alpn negotiation always selected =
"http/1.1" unless SSLAlpnPreference configured something else. This is =
due to the deterministic ordering and "http/1.1." > "h2". So, I made a =
slight modification, attached below.
>>>=20
>>> Maybe related but concerning NPN: There was a difference between the =
NPN parts of your original Bugzilla attachment and what was already in =
mod_ssl trunk and therefore was not applied. In your attachment, there =
was some code for sorting in ssl_callback_AdvertiseNextProtos() which =
IMHO does not exist in trunk. Is that part necessary?
>>>=20
>>> A second difference: your original addition to ssl_engine_io.c had =
the NPN and the ALPN parts merged in the same code block. In trunk those =
are now two separate pieces coming after each other.
>>>=20
>>>> --- modules/ssl/ssl_engine_kernel.c    2015-04-01 =
15:23:48.000000000 +0200
>>>> +++ =
../../mod-h2/sandbox/httpd/gen/httpd-2.4.12/modules/ssl/ssl_engine_kernel.=
c    2015-04-01 17:53:03.000000000 +0200
>>>> @@ -2177,7 +2152,7 @@
>>>> }
>>>>=20
>>>> /*
>>>> - * Compare to ALPN protocol proposal. Result is similar to =
strcmp():
>>>> + * Compare two ALPN protocol proposal. Result is similar to =
strcmp():
>>>> * 0 gives same precedence, >0 means proto1 is prefered.
>>>> */
>>>> static int ssl_cmp_alpn_protos(modssl_ctx_t *ctx,
>>>> @@ -2254,14 +2229,8 @@
>>>>        i +=3D plen;
>>>>    }
>>>>=20
>>>> -    /* Regardless of installed hooks, the http/1.1 protocol is =
always
>>>> -     * supported by us. Add it to the proposals if the client also
>>>> -     * offers it. */
>>>>    proposed_protos =3D apr_array_make(c->pool, =
client_protos->nelts+1,
>>>>                                     sizeof(char *));
>>>> -    if (ssl_array_index(client_protos, alpn_http1) >=3D 0) {
>>>> -        APR_ARRAY_PUSH(proposed_protos, const char*) =3D =
alpn_http1;
>>>> -    }
>>>>=20
>>>>    if (sslconn->alpn_proposefns !=3D NULL) {
>>>>        /* Invoke our alpn_propos_proto hooks, giving other modules =
a chance to
>>>> @@ -2280,9 +2249,16 @@
>>>>    }
>>>>=20
>>>>    if (proposed_protos->nelts <=3D 0) {
>>>> -        ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, APLOGNO(02839)
>>>> -                      "none of the client alpn protocols are =
supported");
>>>> -        return SSL_TLSEXT_ERR_ALERT_FATAL;
>>>> +        /* Regardless of installed hooks, the http/1.1 protocol is =
always
>>>> +         * supported by us. Choose it if none other matches. */
>>>> +        if (ssl_array_index(client_protos, alpn_http1) < 0) {
>>>> +            ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, =
APLOGNO(02839)
>>>> +                          "none of the client alpn protocols are =
supported");
>>>> +            return SSL_TLSEXT_ERR_ALERT_FATAL;
>>>> +        }
>>>> +        *out =3D (const unsigned char*)alpn_http1;
>>>> +        *outlen =3D (unsigned char)strlen(alpn_http1);
>>>> +        return SSL_TLSEXT_ERR_OK;
>>>>    }
>>>>=20
>>>>    /* Now select the most preferred protocol from the proposals. */
>>=20


From dev-return-82321-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr  2 07:45:05 2015
Return-Path: <dev-return-82321-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E023317D43
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  2 Apr 2015 07:45:05 +0000 (UTC)
Received: (qmail 16033 invoked by uid 500); 2 Apr 2015 07:45:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15959 invoked by uid 500); 2 Apr 2015 07:45:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15949 invoked by uid 99); 2 Apr 2015 07:45:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Apr 2015 07:45:02 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stefan.eissing@greenbytes.de designates 217.91.35.233 as permitted sender)
Received: from [217.91.35.233] (HELO mail.greenbytes.de) (217.91.35.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Apr 2015 07:44:37 +0000
Received: from delight.greenbytes.de (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id B008615A00D8
	for <dev@httpd.apache.org>; Thu,  2 Apr 2015 09:44:05 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: svn commit: r1670397 - in /httpd/httpd/trunk/modules/ssl: mod_ssl.c mod_ssl.h ssl_engine_config.c ssl_engine_io.c ssl_private.h
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <20FF6604-7527-41BF-9878-E12EBAA8D2CF@jaguNET.com>
Date: Thu, 2 Apr 2015 09:44:05 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <C2542AFC-AB4B-4225-A53A-086F1AD52B9B@greenbytes.de>
References: <20150331171252.78A1AAC013F@hades.apache.org> <551AE011.9040000@apache.org> <EF9A65AE-FB15-4F40-8D06-9BFC77CB99D3@jaguNET.com> <551AE5E2.1050202@apache.org> <D34823A3-B8A5-4970-ABBE-72C1C04C5A67@jaguNET.com> <50FC4735-37E8-482F-AD78-C099BA4CD8AE@jaguNET.com> <989FF0B3-16C4-4648-BBFE-5572F719B05A@greenbytes.de> <551C2114.7050303@kippdata.de> <3EC909E0-261E-4713-8D69-E641E2EDE1F5@jaguNET.com> <69F768A8-9F40-4F5B-AB4D-572FD979A569@greenbytes.de> <20FF6604-7527-41BF-9878-E12EBAA8D2CF@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org

Any reason to differ from trunk in 2.4?=20

The people using spdy already in a 2.4 will most likely have the NPN =
patch deployed, so they'll have it easy with the trunk changes. The only =
one using the alpn patch, I know of, is myself in mod_h2. And that has =
already been adapted.

So, I myself see no reason to not bring the trunk change into 2.4.

> Am 01.04.2015 um 22:33 schrieb Jim Jagielski <jim@jaguNET.com>:
>=20
> Yeah, I agree. Right now, trunk pretty much uses
>=20
> 	#ifdef HAVE_TLS_ALPN
> 	blah blah
> 	#endif
> 	#ifdef HAVE_TLS_NPN
> 	blah2 blah2
> 	#endif
>=20
> Instead of
>=20
> 	#if defined(HAVE_TLS_NPN) || defined(HAVE_TLS_ALPN)
>=20
> so that "ripping out" NPN would be easier. The question is
> which to use for 2.4...
>=20
>> On Apr 1, 2015, at 1:59 PM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>>=20
>> Well, I took the trunk version, diffed to 2.4.12 and made a patch for =
my sandbox build (removed the non alpn/npn parts). That works for mod_h2 =
after adding callbacks for the npn stuff.=20
>>=20
>> I have no real pref to keep npn and alpn separate or not. my thought =
when merging these was that npn will go away rather soon as alpn is =
supposed to replace it and is afaik the cryptographically more secure =
way (i think npn is prone to mitm downgrade attacks).=20
>>=20
>> cheers,
>> Stefan
>>=20
>>=20
>>=20
>>> Am 01.04.2015 um 19:28 schrieb Jim Jagielski <jim@jaguNET.com>:
>>>=20
>>> Yeah, there is some "overlap" which I'm trying to grok,
>>> since trunk had NPN but not ALPN, so I tried to have the
>>> ALPN stuff self-contained. But not sure if that's the best
>>> way since, for example, alpn_proposefns is adjusted
>>> in ssl_callback_AdvertiseNextProtos(), but that is a
>>> NPN "only" function in trunk, so it uses npn_proposefns.
>>>=20
>>> I'm thinking that in trunk we shouldn't think of
>>> NPN and ALPN as "distinct".
>>>=20
>>>> On Apr 1, 2015, at 12:47 PM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>>>>=20
>>>> Hi Stefan,
>>>>=20
>>>>> Am 01.04.2015 um 18:22 schrieb Stefan Eissing:
>>>>> Jim,
>>>>>=20
>>>>> today I converted your commit to a path on 2.4.12 and tested it =
with mod_h2. All fine!
>>>>>=20
>>>>> Then I got a trouble report that alpn negotiation always selected =
"http/1.1" unless SSLAlpnPreference configured something else. This is =
due to the deterministic ordering and "http/1.1." > "h2". So, I made a =
slight modification, attached below.
>>>>=20
>>>> Maybe related but concerning NPN: There was a difference between =
the NPN parts of your original Bugzilla attachment and what was already =
in mod_ssl trunk and therefore was not applied. In your attachment, =
there was some code for sorting in ssl_callback_AdvertiseNextProtos() =
which IMHO does not exist in trunk. Is that part necessary?
>>>>=20
>>>> A second difference: your original addition to ssl_engine_io.c had =
the NPN and the ALPN parts merged in the same code block. In trunk those =
are now two separate pieces coming after each other.
>>>>=20
>>>>> --- modules/ssl/ssl_engine_kernel.c    2015-04-01 =
15:23:48.000000000 +0200
>>>>> +++ =
../../mod-h2/sandbox/httpd/gen/httpd-2.4.12/modules/ssl/ssl_engine_kernel.=
c    2015-04-01 17:53:03.000000000 +0200
>>>>> @@ -2177,7 +2152,7 @@
>>>>> }
>>>>>=20
>>>>> /*
>>>>> - * Compare to ALPN protocol proposal. Result is similar to =
strcmp():
>>>>> + * Compare two ALPN protocol proposal. Result is similar to =
strcmp():
>>>>> * 0 gives same precedence, >0 means proto1 is prefered.
>>>>> */
>>>>> static int ssl_cmp_alpn_protos(modssl_ctx_t *ctx,
>>>>> @@ -2254,14 +2229,8 @@
>>>>>       i +=3D plen;
>>>>>   }
>>>>>=20
>>>>> -    /* Regardless of installed hooks, the http/1.1 protocol is =
always
>>>>> -     * supported by us. Add it to the proposals if the client =
also
>>>>> -     * offers it. */
>>>>>   proposed_protos =3D apr_array_make(c->pool, =
client_protos->nelts+1,
>>>>>                                    sizeof(char *));
>>>>> -    if (ssl_array_index(client_protos, alpn_http1) >=3D 0) {
>>>>> -        APR_ARRAY_PUSH(proposed_protos, const char*) =3D =
alpn_http1;
>>>>> -    }
>>>>>=20
>>>>>   if (sslconn->alpn_proposefns !=3D NULL) {
>>>>>       /* Invoke our alpn_propos_proto hooks, giving other modules =
a chance to
>>>>> @@ -2280,9 +2249,16 @@
>>>>>   }
>>>>>=20
>>>>>   if (proposed_protos->nelts <=3D 0) {
>>>>> -        ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, APLOGNO(02839)
>>>>> -                      "none of the client alpn protocols are =
supported");
>>>>> -        return SSL_TLSEXT_ERR_ALERT_FATAL;
>>>>> +        /* Regardless of installed hooks, the http/1.1 protocol =
is always
>>>>> +         * supported by us. Choose it if none other matches. */
>>>>> +        if (ssl_array_index(client_protos, alpn_http1) < 0) {
>>>>> +            ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, =
APLOGNO(02839)
>>>>> +                          "none of the client alpn protocols are =
supported");
>>>>> +            return SSL_TLSEXT_ERR_ALERT_FATAL;
>>>>> +        }
>>>>> +        *out =3D (const unsigned char*)alpn_http1;
>>>>> +        *outlen =3D (unsigned char)strlen(alpn_http1);
>>>>> +        return SSL_TLSEXT_ERR_OK;
>>>>>   }
>>>>>=20
>>>>>   /* Now select the most preferred protocol from the proposals. */
>>>=20
>=20

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82322-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr  2 14:47:00 2015
Return-Path: <dev-return-82322-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2A34C17E27
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  2 Apr 2015 14:47:00 +0000 (UTC)
Received: (qmail 67152 invoked by uid 500); 2 Apr 2015 14:46:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67089 invoked by uid 500); 2 Apr 2015 14:46:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67079 invoked by uid 99); 2 Apr 2015 14:46:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Apr 2015 14:46:59 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of paul@querna.org designates 209.85.214.169 as permitted sender)
Received: from [209.85.214.169] (HELO mail-ob0-f169.google.com) (209.85.214.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Apr 2015 14:46:35 +0000
Received: by obbgh1 with SMTP id gh1so125570645obb.1
        for <dev@httpd.apache.org>; Thu, 02 Apr 2015 07:46:33 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type:content-transfer-encoding;
        bh=4mmGQh1TwUz0yY8bdcvoHmvMprCy9uA3zx2znC2Ny2U=;
        b=PUe5F6ptSiwgHv0ZYXRst55QOL0wz4q+YFsabAikTi+8IdZuZhCTRteRXcxG14SEdn
         SAxscrWH8Ux+bwdRZbcGtLBDIfafaVs3Oa9tRbkaflobnip2C2xggzg49/k/Zl0FJVnN
         7K6dK/wZsfFQaS4+FM01U/mbp7vID/+NNdy6cOzO+47p3erp/im2u1hlpcDy+14lOWKO
         PFplh4PyoYGMUUbDEBJkyplB7x5BqUIjCDoLmxzPwVjJ1K7Y0Xgvitz0v8ppClgBNUyx
         Tus8+F09A8D08puvVaVB2CE/zyVmXt9K2gRKKoH1GJEBC4CrBy5z+gPY5NIB6jZZLy14
         Geqw==
X-Gm-Message-State: ALoCoQnLNDQ2C5IH+bDBmOAWkn5TaXHqdOpwboJrPZrwsMn4mNbQTncu5Kxm1GRT5eGQ57qOxSOK
MIME-Version: 1.0
X-Received: by 10.182.165.4 with SMTP id yu4mr40541031obb.74.1427985991485;
 Thu, 02 Apr 2015 07:46:31 -0700 (PDT)
Received: by 10.76.93.136 with HTTP; Thu, 2 Apr 2015 07:46:31 -0700 (PDT)
In-Reply-To: <C2542AFC-AB4B-4225-A53A-086F1AD52B9B@greenbytes.de>
References: <20150331171252.78A1AAC013F@hades.apache.org>
	<551AE011.9040000@apache.org>
	<EF9A65AE-FB15-4F40-8D06-9BFC77CB99D3@jaguNET.com>
	<551AE5E2.1050202@apache.org>
	<D34823A3-B8A5-4970-ABBE-72C1C04C5A67@jaguNET.com>
	<50FC4735-37E8-482F-AD78-C099BA4CD8AE@jaguNET.com>
	<989FF0B3-16C4-4648-BBFE-5572F719B05A@greenbytes.de>
	<551C2114.7050303@kippdata.de>
	<3EC909E0-261E-4713-8D69-E641E2EDE1F5@jaguNET.com>
	<69F768A8-9F40-4F5B-AB4D-572FD979A569@greenbytes.de>
	<20FF6604-7527-41BF-9878-E12EBAA8D2CF@jaguNET.com>
	<C2542AFC-AB4B-4225-A53A-086F1AD52B9B@greenbytes.de>
Date: Thu, 2 Apr 2015 07:46:31 -0700
Message-ID: <CAMDeyhzh=yjD0RL7wjKT6Y-ATrNu+1hAUPtSvhb5tR_Y-aiKZQ@mail.gmail.com>
Subject: Re: svn commit: r1670397 - in /httpd/httpd/trunk/modules/ssl:
 mod_ssl.c mod_ssl.h ssl_engine_config.c ssl_engine_io.c ssl_private.h
From: Paul Querna <paul@querna.org>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

It seems reasonable to focus on ALPN support, and generally dropping
NPN from trunk.  NPN is already on a decline, and won't be used going
forward.

On Thu, Apr 2, 2015 at 12:44 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> Any reason to differ from trunk in 2.4?
>
> The people using spdy already in a 2.4 will most likely have the NPN patc=
h deployed, so they'll have it easy with the trunk changes. The only one us=
ing the alpn patch, I know of, is myself in mod_h2. And that has already be=
en adapted.
>
> So, I myself see no reason to not bring the trunk change into 2.4.
>
>> Am 01.04.2015 um 22:33 schrieb Jim Jagielski <jim@jaguNET.com>:
>>
>> Yeah, I agree. Right now, trunk pretty much uses
>>
>>       #ifdef HAVE_TLS_ALPN
>>       blah blah
>>       #endif
>>       #ifdef HAVE_TLS_NPN
>>       blah2 blah2
>>       #endif
>>
>> Instead of
>>
>>       #if defined(HAVE_TLS_NPN) || defined(HAVE_TLS_ALPN)
>>
>> so that "ripping out" NPN would be easier. The question is
>> which to use for 2.4...
>>
>>> On Apr 1, 2015, at 1:59 PM, Stefan Eissing <stefan.eissing@greenbytes.d=
e> wrote:
>>>
>>> Well, I took the trunk version, diffed to 2.4.12 and made a patch for m=
y sandbox build (removed the non alpn/npn parts). That works for mod_h2 aft=
er adding callbacks for the npn stuff.
>>>
>>> I have no real pref to keep npn and alpn separate or not. my thought wh=
en merging these was that npn will go away rather soon as alpn is supposed =
to replace it and is afaik the cryptographically more secure way (i think n=
pn is prone to mitm downgrade attacks).
>>>
>>> cheers,
>>> Stefan
>>>
>>>
>>>
>>>> Am 01.04.2015 um 19:28 schrieb Jim Jagielski <jim@jaguNET.com>:
>>>>
>>>> Yeah, there is some "overlap" which I'm trying to grok,
>>>> since trunk had NPN but not ALPN, so I tried to have the
>>>> ALPN stuff self-contained. But not sure if that's the best
>>>> way since, for example, alpn_proposefns is adjusted
>>>> in ssl_callback_AdvertiseNextProtos(), but that is a
>>>> NPN "only" function in trunk, so it uses npn_proposefns.
>>>>
>>>> I'm thinking that in trunk we shouldn't think of
>>>> NPN and ALPN as "distinct".
>>>>
>>>>> On Apr 1, 2015, at 12:47 PM, Rainer Jung <rainer.jung@kippdata.de> wr=
ote:
>>>>>
>>>>> Hi Stefan,
>>>>>
>>>>>> Am 01.04.2015 um 18:22 schrieb Stefan Eissing:
>>>>>> Jim,
>>>>>>
>>>>>> today I converted your commit to a path on 2.4.12 and tested it with=
 mod_h2. All fine!
>>>>>>
>>>>>> Then I got a trouble report that alpn negotiation always selected "h=
ttp/1.1" unless SSLAlpnPreference configured something else. This is due to=
 the deterministic ordering and "http/1.1." > "h2". So, I made a slight mod=
ification, attached below.
>>>>>
>>>>> Maybe related but concerning NPN: There was a difference between the =
NPN parts of your original Bugzilla attachment and what was already in mod_=
ssl trunk and therefore was not applied. In your attachment, there was some=
 code for sorting in ssl_callback_AdvertiseNextProtos() which IMHO does not=
 exist in trunk. Is that part necessary?
>>>>>
>>>>> A second difference: your original addition to ssl_engine_io.c had th=
e NPN and the ALPN parts merged in the same code block. In trunk those are =
now two separate pieces coming after each other.
>>>>>
>>>>>> --- modules/ssl/ssl_engine_kernel.c    2015-04-01 15:23:48.000000000=
 +0200
>>>>>> +++ ../../mod-h2/sandbox/httpd/gen/httpd-2.4.12/modules/ssl/ssl_engi=
ne_kernel.c    2015-04-01 17:53:03.000000000 +0200
>>>>>> @@ -2177,7 +2152,7 @@
>>>>>> }
>>>>>>
>>>>>> /*
>>>>>> - * Compare to ALPN protocol proposal. Result is similar to strcmp()=
:
>>>>>> + * Compare two ALPN protocol proposal. Result is similar to strcmp(=
):
>>>>>> * 0 gives same precedence, >0 means proto1 is prefered.
>>>>>> */
>>>>>> static int ssl_cmp_alpn_protos(modssl_ctx_t *ctx,
>>>>>> @@ -2254,14 +2229,8 @@
>>>>>>       i +=3D plen;
>>>>>>   }
>>>>>>
>>>>>> -    /* Regardless of installed hooks, the http/1.1 protocol is alwa=
ys
>>>>>> -     * supported by us. Add it to the proposals if the client also
>>>>>> -     * offers it. */
>>>>>>   proposed_protos =3D apr_array_make(c->pool, client_protos->nelts+1=
,
>>>>>>                                    sizeof(char *));
>>>>>> -    if (ssl_array_index(client_protos, alpn_http1) >=3D 0) {
>>>>>> -        APR_ARRAY_PUSH(proposed_protos, const char*) =3D alpn_http1=
;
>>>>>> -    }
>>>>>>
>>>>>>   if (sslconn->alpn_proposefns !=3D NULL) {
>>>>>>       /* Invoke our alpn_propos_proto hooks, giving other modules a =
chance to
>>>>>> @@ -2280,9 +2249,16 @@
>>>>>>   }
>>>>>>
>>>>>>   if (proposed_protos->nelts <=3D 0) {
>>>>>> -        ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, APLOGNO(02839)
>>>>>> -                      "none of the client alpn protocols are suppor=
ted");
>>>>>> -        return SSL_TLSEXT_ERR_ALERT_FATAL;
>>>>>> +        /* Regardless of installed hooks, the http/1.1 protocol is =
always
>>>>>> +         * supported by us. Choose it if none other matches. */
>>>>>> +        if (ssl_array_index(client_protos, alpn_http1) < 0) {
>>>>>> +            ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, APLOGNO(0283=
9)
>>>>>> +                          "none of the client alpn protocols are su=
pported");
>>>>>> +            return SSL_TLSEXT_ERR_ALERT_FATAL;
>>>>>> +        }
>>>>>> +        *out =3D (const unsigned char*)alpn_http1;
>>>>>> +        *outlen =3D (unsigned char)strlen(alpn_http1);
>>>>>> +        return SSL_TLSEXT_ERR_OK;
>>>>>>   }
>>>>>>
>>>>>>   /* Now select the most preferred protocol from the proposals. */
>>>>
>>
>
> <green/>bytes GmbH
> Hafenweg 16, 48155 M=C3=BCnster, Germany
> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>
>
>

From dev-return-82323-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr  2 21:44:44 2015
Return-Path: <dev-return-82323-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 60AB817468
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  2 Apr 2015 21:44:44 +0000 (UTC)
Received: (qmail 39311 invoked by uid 500); 2 Apr 2015 21:44:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39246 invoked by uid 500); 2 Apr 2015 21:44:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 39236 invoked by uid 99); 2 Apr 2015 21:44:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Apr 2015 21:44:43 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: local policy)
Received: from [173.201.192.111] (HELO p3plsmtpa06-10.prod.phx3.secureserver.net) (173.201.192.111)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Apr 2015 21:44:38 +0000
Received: from hub ([76.252.112.72])
	by p3plsmtpa06-10.prod.phx3.secureserver.net with 
	id B9iw1q00D1Zmh9Y019ix0P; Thu, 02 Apr 2015 14:42:57 -0700
Date: Thu, 2 Apr 2015 16:42:55 -0500
From: "William A. Rowe Jr." <wrowe@rowe-clan.net>
To: Graham Leggett <minfrin@sharp.fm>
Cc: dev@httpd.apache.org
Subject: Re: ap_directory_walk() marking non existent files as APR_DIR
Message-ID: <20150402164255.0889de6f@hub>
In-Reply-To: <B86BB7B2-C5B7-48DD-B582-C33C0E200634@sharp.fm>
References: <B86BB7B2-C5B7-48DD-B582-C33C0E200634@sharp.fm>
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.27; x86_64-redhat-linux-gnu)
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, 1 Apr 2015 00:36:23 +0200
Graham Leggett <minfrin@sharp.fm> wrote:

> Hi all,
>=20
> I am picking apart some strange behaviour where use of the Alias
> directive inside a Location along with a file path that doesn=E2=80=99t e=
xist
> (/_thumbs/i/dont/exist.jpg) triggers a loop of redirects to
> =E2=80=A6/index.html/index.html/index.html/=E2=80=A6
>=20
> The loop of redirects is caused by mod_dir being told that the non
> existent file is actually a directory (r->finfo.filetype =3D=3D APR_DIR)
> instead of a nonexistent file (r->finfo.filetype =3D=3D APR_NOFILE).
> Working backwards to find where a non existent file is being
> mislabelled as a directory, it leads me to ap_directory_walk(),
> specifically these lines:
>=20
>         do {
> [snip]
>=20
>             if (*seg_name =3D=3D '/')
>                 ++seg_name;
>=20
>             /* If nothing remained but a '/' string, we are finished
>              * XXX: NO WE ARE NOT!!!  Now process this puppy!!! */
>             if (!*seg_name) {
>                 break;
>             }
>=20
> [snip]
>         } while (thisinfo.filetype =3D=3D APR_DIR);
>=20
> What is happening is that we are reaching the break, which aborts the
> loop but leaves the value thisinfo.filetype =3D=3D APR_DIR, thus
> triggering the downstream mod_dir mayhem.
>=20
> Further down in the loop, we have some code that looks like this that
> explicitly sets the file to APR_NOFILE before breaking:
>=20
>             if (APR_STATUS_IS_ENOENT(rv)) {
>                 /* Nothing?  That could be nice.  But our directory
>                  * walk is done.
>                  */
>                 thisinfo.filetype =3D APR_NOFILE;
>                 break;
>             }
>=20
> In theory following the pattern above, we might change the code above
> to:
>=20
>             if (!*seg_name) {
> +                thisinfo.filetype =3D APR_NOFILE;
>                 break;
>             }

Would we do so for /foo where foo is the directory, or /foo/ where foo
is a container?  I believe we want to do a force .filetype =3D APR_NOFILE
where the last finfo responds with something other than OK?

> However I don=E2=80=99t fully understand what the comment "XXX: NO WE ARE
> NOT!!!  Now process this puppy!!!=E2=80=9D actually means.

http://marc.info/?l=3Dapache-cvs&m=3D103967676907505

suggests that this was a grammatical argument, that the original
comment suggested that the walk function was finished, but in fact,
this 'break' continued processing of the walk function.

Why this has only just begun to occur is very likely related to other
recently reverted behavior changes, I'd look to see if an inappropriate
patch was not fully reverted?


From dev-return-82324-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr  2 21:47:49 2015
Return-Path: <dev-return-82324-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0B33217497
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  2 Apr 2015 21:47:49 +0000 (UTC)
Received: (qmail 49303 invoked by uid 500); 2 Apr 2015 21:47:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49220 invoked by uid 500); 2 Apr 2015 21:47:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49210 invoked by uid 99); 2 Apr 2015 21:47:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Apr 2015 21:47:48 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: local policy)
Received: from [173.201.193.237] (HELO p3plsmtpa09-08.prod.phx3.secureserver.net) (173.201.193.237)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Apr 2015 21:47:23 +0000
Received: from hub ([76.252.112.72])
	by p3plsmtpa09-08.prod.phx3.secureserver.net with 
	id B9mz1q0021Zmh9Y019mzG8; Thu, 02 Apr 2015 14:47:00 -0700
Date: Thu, 2 Apr 2015 16:46:58 -0500
From: "William A. Rowe Jr." <wrowe@rowe-clan.net>
To: Jim Jagielski <jim@jaguNET.com>
Cc: httpd <dev@httpd.apache.org>
Subject: Re: motorz and 2.4.13
Message-ID: <20150402164658.435f8593@hub>
In-Reply-To: <57BC50FA-08F1-4376-A9C6-46E7CCD0C7D4@jaguNET.com>
References: <57BC50FA-08F1-4376-A9C6-46E7CCD0C7D4@jaguNET.com>
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.27; x86_64-redhat-linux-gnu)
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, 31 Mar 2015 10:49:47 -0400
Jim Jagielski <jim@jaguNET.com> wrote:

> Apologies for not hacking on motorz lately... will ramp up :)
> 
> BTW: Would it make sense to consider a release of 2.4.13 in April
> to coincide w/ ApacheCon?

We've historically produced a release at the beginning of the con.
It worked really well when we would hackathon two days, then retire
to do other con stuff for the balance of the event with a new
release in the hopper looking for votes.

I'd love to see us tag and roll releases based on our efforts
throughout the entire gathering, sometime in that following week.
I offer to T&R an update of 2.2 as well to pick up any issues we
resolve over the course of that week.

If something is a bit more complex and requires extra attention 
in the week or two following ApacheCon, that's understandable, but 
guessing that most thorny questions are resolved on the spot and
the tree should be ready for a release shortly after the conclusion
of the event.

From dev-return-82325-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr  2 21:53:17 2015
Return-Path: <dev-return-82325-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1F6191750A
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  2 Apr 2015 21:53:17 +0000 (UTC)
Received: (qmail 70071 invoked by uid 500); 2 Apr 2015 21:53:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 69996 invoked by uid 500); 2 Apr 2015 21:53:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 69986 invoked by uid 99); 2 Apr 2015 21:53:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Apr 2015 21:53:16 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: local policy)
Received: from [68.178.252.104] (HELO p3plsmtpa11-03.prod.phx3.secureserver.net) (68.178.252.104)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Apr 2015 21:52:51 +0000
Received: from hub ([76.252.112.72])
	by p3plsmtpa11-03.prod.phx3.secureserver.net with 
	id B9sT1q00A1Zmh9Y019sTlH; Thu, 02 Apr 2015 14:52:28 -0700
Date: Thu, 2 Apr 2015 16:52:26 -0500
From: "William A. Rowe Jr." <wrowe@rowe-clan.net>
To: Noel Butler <noel.butler@ausics.net>
Cc: dev@httpd.apache.org
Subject: Re: Apache 2.4 adoption revisited -- now 16.4% of Apache sites
Message-ID: <20150402165226.10bd27d0@hub>
In-Reply-To: <014f870dffe2f1eee2109b1475d423de@ausics.net>
References: <CALK=YjO-epYxuoG9paTMhL6BdbMU_JtJwPFFPEkw93F_mBwj2A@mail.gmail.com>
	<014f870dffe2f1eee2109b1475d423de@ausics.net>
X-Mailer: Claws Mail 3.11.1 (GTK+ 2.24.27; x86_64-redhat-linux-gnu)
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, 13 Mar 2015 08:28:35 +1000
Noel Butler <noel.butler@ausics.net> wrote:
> 
> Time to think about EOL'ing 2.2 maybe since its 10 years old and 2.4
> has been current stable best production recommendation for what,
> about 3.5 years or so now, that would see adoption rates grow ;) 

That would be altogether reasonable, if the currently adopted and still
widely supported operating systems shipped 2.4, but it isn't so.  While
the adoption of 2.2 is all tied into current operating systems, we
aren't about to forego security patches to such widely used code.

Something to rethink when 2.4 starts to seriously catch up and surpass
the 2.2 deployments.

The EOL of 2.2 will occur, just as with 2.0, and with 1.3, when you can
no longer find a subset of the httpd project members and committers to
do any maintenance for the branch.  I'm guessing that the inflection
point is much closer to 2 years away than 12 months from now.


From dev-return-82326-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Apr  5 07:15:16 2015
Return-Path: <dev-return-82326-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A467B174BF
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  5 Apr 2015 07:15:16 +0000 (UTC)
Received: (qmail 56550 invoked by uid 500); 5 Apr 2015 07:15:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56476 invoked by uid 500); 5 Apr 2015 07:15:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56467 invoked by uid 99); 5 Apr 2015 07:15:16 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Apr 2015 07:15:16 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id C6BB11A046D
	for <dev@httpd.apache.org>; Sun,  5 Apr 2015 07:15:15 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id 457B860560; Sun,  5 Apr 2015 07:15:15 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2015/04/05]
Message-Id: <20150405071515.457B860560@asf-bz1-us-mid.priv.apache.org>
Date: Sun,  5 Apr 2015 07:15:06 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 7483|Ass|Enh|2002-03-26|Add FileAction directive to assign a cgi interpret|
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|12680|New|Enh|2002-09-16|Digest authentication with integrity protection   |
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|18497|New|Min|2003-03-30|configure --help gives wrong default for sysconfdi|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21253|New|Nor|2003-07-01|Mime magic doesn't continue if type is specifed fo|
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22005|Ver|Nor|2003-07-30|Win32: "Help I'm Stuck!" menu item leads to dead e|
|22138|Inf|Cri|2003-08-05|Webdav is not preccessing special chars right.    |
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Nor|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42001|New|Cri|2007-03-30|LINUX : Could not set LDAP_OPT_X_TLS to LDAP_OPT_X|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Opn|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|httpd fails to start if log directory does not exi|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43532|Inf|Cri|2007-10-02|Error while compiling Apache 2.2.3 on HPUX        |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44736|New|Cri|2008-04-01|mod_proxy_balancer looses it's mind on reloads.   |
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|New|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45926|Inf|Nor|2008-10-01|Unable to start apache 2.2.9                      |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46054|New|Nor|2008-10-21|Running httpd returns the error "bad user name nob|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46421|New|Maj|2008-12-19|module mod_authz_dbd - doesn't work when multiple |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Nor|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46724|Inf|Cri|2009-02-17|WinXP SP3 - Apache crashes on startup in libapr-1.|
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47241|New|Min|2009-05-22|Error in rewriting with character ':'             |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47289|New|Nor|2009-05-30|Can't build with dynamic libraries on Mac OS 10.4 |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|Inf|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48309|New|Maj|2009-11-30|libapreq2-2.12: "make test" fails at request.t and|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50740|New|Enh|2011-02-09|Enable OCSP Stapling by default                   |
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|New|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51336|New|Enh|2011-06-07|need a topic for serving pre-compressed content   |
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51412|New|Nor|2011-06-21|Nasty warning in ftp_cmd_pbsz() -- dangerous, wher|
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels|
|51747|New|Nor|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51842|New|Enh|2011-09-18|Suggesting a new action for the Header directive: |
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51959|Ver|Nor|2011-10-05|Broken link to "Mastering Regular Expressions, by |
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52210|Opn|Enh|2011-11-18|Add TLS Next Protocol Negotiation (NPN) support to|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Enh|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52523|New|Nor|2012-01-25|Headers from mod_expires are wrongly set for redir|
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52756|Inf|Trv|2012-02-24|proxy_html_module LoadModule line not created in h|
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52820|New|Min|2012-03-04|SSLProtocol/SSLProxyProtocol doesn't iterate prope|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52831|New|Nor|2012-03-05|mod_rewrite redirect broken with IPv6 literal addr|
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52855|Opn|Maj|2012-03-08|mod_ftp does not build against 2.4.x              |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53121|New|Nor|2012-04-22|Confusing documentation, gzip and deflate         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53153|New|Nor|2012-04-26|Rewrite documentation unclear or wrong about what |
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53349|New|Nor|2012-06-01|CONTENT_TYPE erroneously seen as empty string for |
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53530|New|Nor|2012-07-10|<Directory> docs don't explain when to use quotes |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54364|New|Nor|2012-12-31|Add ref to mod_fcgid docs                         |
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54587|Opn|Nor|2013-02-19|LDAPConnectionPoolTimeout does not work in all cas|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55089|New|Nor|2013-06-10|Caching of LDAP credentials is not clearly documen|
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55100|New|Nor|2013-06-13|--with-perl referenced but not explained          |
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55123|New|Nor|2013-06-20|Formatting issue in ABOUT_APACHE                  |
|55147|New|Nor|2013-06-26|"Header always" w/ cache different in 2.4         |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55350|New|Maj|2013-08-03|mpm-itk and mod_fcgid do not work together        |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55420|New|Nor|2013-08-14|Integer underflow in lock timeout computation     |
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55449|New|Maj|2013-08-19|AH01185: worker slotmem_create failed --> slotmem |
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55741|New|Min|2013-11-04|Documentation is served with incorrect character e|
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55808|New|Nor|2013-11-21|File integrity verification using MD5 and SHA1    |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|New|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55841|New|Nor|2013-12-04|Misleading news items on bugfix releases ("This ve|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55892|New|Nor|2013-12-16|ProxyRemote with HTTPS backend sends requests with|
|55897|New|Nor|2013-12-17|[PATCH]patch with SO_REUSEPORT support            |
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|Inf|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55990|Inf|Nor|2014-01-12|SetEnv vs. =! inconsistentcy not documented       |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56035|Inf|Nor|2014-01-20|Issue with LimitRequestBody                       |
|56040|Inf|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56214|New|Nor|2014-03-03|Spanish translation of Apache's error pages       |
|56226|New|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56241|New|Min|2014-03-10|SNI sends warning upon name not found, RFC 6066 di|
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56346|New|Nor|2014-04-03|self-signed cert documentation creates a certifica|
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56414|Inf|Nor|2014-04-15|SNI & HTTP hostname different because of user@    |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56687|New|Nor|2014-07-01|ProxySourceAddress failed to bind socket to local |
|56695|New|Nor|2014-07-03|Doc error on option %O for mod_logio              |
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56729|New|Reg|2014-07-16|Can't use HTTP 1.1 Keep-Alive with mod_reqtimeout |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|New|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56823|New|Nor|2014-08-07|returning 200 status when ap_get_brigade failed   |
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56855|New|Enh|2014-08-14|mod_proxy_fcgi: add PassHeader directive          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56872|New|Nor|2014-08-19|Small request bodies bypass DeflateInflateLimitReq|
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56898|New|Nor|2014-08-28|Headers in err_headers_out are not returned when a|
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56925|New|Maj|2014-09-08|ProxyErrorOverride=On causes workers in error stat|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56985|New|Nor|2014-09-16|Clarify which IndexOptions require FancyIndexing  |
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57077|Opn|Nor|2014-10-11|flood svn link does not work                      |
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57109|New|Nor|2014-10-17|GPG verification examples are wrong               |
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57120|New|Nor|2014-10-21|Disable SSLv3 by default (POODLE)                 |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57139|New|Nor|2014-10-24|mod_proxy uses wrong Host header when using an HTT|
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57177|New|Nor|2014-11-03|terminated by signal ILL in server/scoreboard.c li|
|57189|New|Enh|2014-11-05|Norwegian translation of Apache's error pages     |
|57207|New|Nor|2014-11-13|[mod_ssl] Add a way to retrieve email in alternati|
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|New|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57358|New|Nor|2014-12-17|Incorrect If-Match handling                       |
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57375|New|Enh|2014-12-19|Support LibreSSL as an alternative toolkit for mod|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Nor|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57524|New|Nor|2015-02-02|Opcode and other fields calculated wrong in mod_lu|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57531|New|Nor|2015-02-03|2.4.12 segmentation fault when accessing host on L|
|57584|New|Nor|2015-02-13|AddHandler etc. documentation "extension" unintuit|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57600|New|Nor|2015-02-18|Presence of SSLCACertificateFile/Path causes root |
|57615|Inf|Nor|2015-02-21|HTTPS CONNECT target hostname incorrectly validate|
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57694|New|Nor|2015-03-12|Crash using SSL certificate with pathlen constrain|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57778|New|Nor|2015-03-30|Effect of AddType should be documented in more det|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|New|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
+-----+---+---+----------+--------------------------------------------------+
| Total 1504 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-82327-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Apr  5 13:35:15 2015
Return-Path: <dev-return-82327-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 744D817994
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  5 Apr 2015 13:35:15 +0000 (UTC)
Received: (qmail 41728 invoked by uid 500); 5 Apr 2015 13:35:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 41653 invoked by uid 500); 5 Apr 2015 13:35:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 41642 invoked by uid 99); 5 Apr 2015 13:35:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Apr 2015 13:35:14 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [85.25.46.13] (HELO fornix.velox.ch) (85.25.46.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 05 Apr 2015 13:35:10 +0000
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t35DUmEU011210
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Sun, 5 Apr 2015 15:30:49 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1428240649;
	bh=Al5rr8hFgWYWI4EIdGPcwNZLpRj/g27lTGp4D2s88/A=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=HjKg9IUUCim1mLH9dg/x1rcXZNYF7TRSB22gwP22625ilrJSj6jmFZJ7UzQJ9RqYw
	 sN2DDkj54srrO7Z/+qTBy1jgo4nBLsxzdqL1oQuBc0watCMyv+4E5VX5mjtgFUfc/i
	 KM5yobQ6mFIlT/HLMboZSRmEcDWV08S0lQ66Srac4RvbbIWq/v2gM8mlHPEh7DPZv2
	 SQGrOJWvVumCmyH5nb1eL0ghggs4yCz+PwQI3U7Xx9/LbE+AlRwcJgSlU8kxd3BzC8
	 Qg9Gre6K0ILufklzD25rJdZK3XPkzTwAL5QFpyTq82CTZbX2WwOHamvysTedVshNOS
	 C9mxOfxdiWeuA==
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on cortex.velox.ch
X-Spam-Level: 
Message-ID: <55213907.3010104@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1428240646;
	bh=Al5rr8hFgWYWI4EIdGPcwNZLpRj/g27lTGp4D2s88/A=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=q+9+DKeEa24XQVl7GPT+/EQ/D+QSWN5mgHTtwqqynJXDQsJ9KkHHXSR7HHqCGu+gi
	 CQIxH1NuUTDgxJqvl1j4F6TdMcQbRGddXDQoLYfo6oqCIMeIMj6356hDAn5mZ9yJ8D
	 9Z9bIFyL224IYw9qBpegvkf1VfkcBLaw0M448dXhx+0Dx73DZZ4CM11XxPDaD+tEw1
	 p0oGt+eZnzo82xKb5yflp55Cnnk2SPvPTkvyIVVDcyjP6aTUTLQWjgQHKVZKGjnJoX
	 +GcTHPLUEYKxDRxfeB64dWH86De1DNrxhRzIlNzsR4vLJ7215dZa7UPRBpsn1sj9vd
	 y+ngTZDJ2W6BQ==
Date: Sun, 05 Apr 2015 15:30:47 +0200
From: Kaspar Brand <httpd-dev.2014@velox.ch>
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1670397 - in /httpd/httpd/trunk/modules/ssl: mod_ssl.c
 mod_ssl.h ssl_engine_config.c ssl_engine_io.c ssl_private.h
References: <20150331171252.78A1AAC013F@hades.apache.org>
In-Reply-To: <20150331171252.78A1AAC013F@hades.apache.org>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.5 required=8.0 tests=AWL=0.019,BAYES_00=-1.5,
	NO_RECEIVED=-0.001,NO_RELAYS=-0.001,T_DKIM_INVALID=0.01 autolearn=no
	autolearn_force=no version=3.4.0

On 31.03.2015 19:12, jim@apache.org wrote:
> Author: jim
> Date: Tue Mar 31 17:12:51 2015
> New Revision: 1670397
> 
> URL: http://svn.apache.org/r1670397
> Log:
> ALPN support, based on mod_spdy/mod_h2 patch set
> 
> Modified:
>     httpd/httpd/trunk/modules/ssl/mod_ssl.c
>     httpd/httpd/trunk/modules/ssl/mod_ssl.h
>     httpd/httpd/trunk/modules/ssl/ssl_engine_config.c
>     httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
>     httpd/httpd/trunk/modules/ssl/ssl_private.h
> 
> Modified: httpd/httpd/trunk/modules/ssl/mod_ssl.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ssl/mod_ssl.c?rev=1670397&r1=1670396&r2=1670397&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/ssl/mod_ssl.c (original)
> +++ httpd/httpd/trunk/modules/ssl/mod_ssl.c Tue Mar 31 17:12:51 2015
> @@ -283,6 +283,12 @@ static const command_rec ssl_config_cmds
>                  "OpenSSL configuration command")
>  #endif
>  
> +#if defined(HAVE_TLS_ALPN) || defined(HAVE_TLS_NPN)
> +    SSL_CMD_SRV(AlpnPreference, ITERATE,
> +                "Preference in Application-Layer Protocol Negotiation (ALPN), "
> +                "protocols are chosed in the specified order")
> +#endif
> +    

s/chosed/chosen/ - and please add docs for this to mod_ssl.xml, too.


> Modified: httpd/httpd/trunk/modules/ssl/ssl_private.h
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ssl/ssl_private.h?rev=1670397&r1=1670396&r2=1670397&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/ssl/ssl_private.h (original)
> +++ httpd/httpd/trunk/modules/ssl/ssl_private.h Tue Mar 31 17:12:51 2015
> @@ -181,6 +181,16 @@
>  #define HAVE_TLS_NPN
>  #endif
>  
> +/* ALPN Protocol Negotiation */
> +#if OPENSSL_VERSION_NUMBER >= 0x10002000L && !defined(OPENSSL_NO_TLSEXT)
> +#define HAVE_TLS_ALPN
> +#endif
> +
> +/* Next Protocol Negotiation */
> +#if !defined(OPENSSL_NO_NEXTPROTONEG) && !defined(OPENSSL_NO_TLSEXT) && defined(OPENSSL_NPN_NEGOTIATED)
> +#define HAVE_TLS_NPN
> +#endif
> +

Instead of hardcoding OpenSSL version numbers, we should rely on
feature-based detection - in this case, we can use

  #if defined(TLSEXT_TYPE_application_layer_protocol_negotiation)

(see
https://git.openssl.org/gitweb/?p=openssl.git;a=commit;h=b0d6f3c58fc86756574b410cb6a32589477d3954,
the ALPN backport to 1.0.2)

Also, the two "&& !defined(OPENSSL_NO_TLSEXT)" can be dropped, since
we're already in a larger "#if !defined(OPENSSL_NO_TLSEXT) ..." block.


And with regard to:

On 01.04.2015 22:33, Jim Jagielski wrote:
> Yeah, I agree. Right now, trunk pretty much uses
> 
> 	#ifdef HAVE_TLS_ALPN
> 	blah blah
> 	#endif
> 	#ifdef HAVE_TLS_NPN
> 	blah2 blah2
> 	#endif
> 
> Instead of
> 
> 	#if defined(HAVE_TLS_NPN) || defined(HAVE_TLS_ALPN)
> 
> so that "ripping out" NPN would be easier. The question is
> which to use for 2.4...

My vote is clearly for only having ALPN in 2.4 - implementations of
draft protocol versions shouldn't creep into stable httpd
releases, in particular when they have been superseded by a
standards-track RFC meanwhile (RFC 7301 was published in July 2014, and
even Google has announced its plans to drop NPN early next year,
http://blog.chromium.org/2015/02/hello-http2-goodbye-spdy-http-is_9.html).

Kaspar

From dev-return-82328-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr  7 09:49:07 2015
Return-Path: <dev-return-82328-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 20985179D8
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  7 Apr 2015 09:49:07 +0000 (UTC)
Received: (qmail 16699 invoked by uid 500); 7 Apr 2015 09:49:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16628 invoked by uid 500); 7 Apr 2015 09:49:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16618 invoked by uid 99); 7 Apr 2015 09:49:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Apr 2015 09:49:00 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jkaluza@redhat.com designates 209.132.183.28 as permitted sender)
Received: from [209.132.183.28] (HELO mx1.redhat.com) (209.132.183.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Apr 2015 09:48:34 +0000
Received: from int-mx11.intmail.prod.int.phx2.redhat.com (int-mx11.intmail.prod.int.phx2.redhat.com [10.5.11.24])
	by mx1.redhat.com (8.14.4/8.14.4) with ESMTP id t379lU7t021912
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Tue, 7 Apr 2015 05:47:30 -0400
Received: from dhcp-24-191.brq.redhat.com (ovpn-204-16.brq.redhat.com [10.40.204.16])
	by int-mx11.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t379lS48007144
	for <dev@httpd.apache.org>; Tue, 7 Apr 2015 05:47:29 -0400
Message-ID: <5523A7B0.7060300@redhat.com>
Date: Tue, 07 Apr 2015 11:47:28 +0200
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.5.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: [PATCH] mod_log_config: Allow logging using errorlog provider
Content-Type: multipart/mixed;
 boundary="------------000605070101000206070903"
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.24
X-Virus-Checked: Checked by ClamAV on apache.org

This is a multi-part message in MIME format.
--------------000605070101000206070903
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi,

we have ap_errorlog_provider in the trunk for some time. I was thinking 
about extending it to mod_log_config, so CustomLog/TransferLog would 
work with any module providing error_log logging ability like mod_syslog 
or mod_journald.

Attached patch does that by introducing CustomLog 
"errorlog_provider_name:arg" syntax, which should be backward compatible 
with the current syntax used for CustomLog.

The patch changes ap_default_log_writer_init to detect this syntax, find 
the provider and initialize it. It also changes ap_default_log_writer to 
detect initialized provider and use it to log the message

I would like to see that feature in the trunk, but since this changes 
the syntax little bit, I will wait a bit for other opinions if any.

Regards,
Jan Kaluza

--------------000605070101000206070903
Content-Type: application/x-download;
 name="httpd-trunk-mod_log_config-provider.patch"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
 filename="httpd-trunk-mod_log_config-provider.patch"

SW5kZXg6IG1vZHVsZXMvbG9nZ2Vycy9tb2RfbG9nX2NvbmZpZy5jCj09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0K
LS0tIG1vZHVsZXMvbG9nZ2Vycy9tb2RfbG9nX2NvbmZpZy5jCShyZXZpc2lvbiAxNjcxNzUx
KQorKysgbW9kdWxlcy9sb2dnZXJzL21vZF9sb2dfY29uZmlnLmMJKHdvcmtpbmcgY29weSkK
QEAgLTE2MSw2ICsxNjEsNyBAQAogI2luY2x1ZGUgImh0dHBfcHJvdG9jb2wuaCIKICNpbmNs
dWRlICJ1dGlsX3RpbWUuaCIKICNpbmNsdWRlICJhcF9tcG0uaCIKKyNpbmNsdWRlICJhcF9w
cm92aWRlci5oIgogCiAjaWYgQVBSX0hBVkVfVU5JU1REX0gKICNpbmNsdWRlIDx1bmlzdGQu
aD4KQEAgLTI4OSw2ICsyOTAsMzUgQEAKICAgICBhcHJfYXJyYXlfaGVhZGVyX3QgKmNvbmRp
dGlvbnM7CiB9IGxvZ19mb3JtYXRfaXRlbTsKIAorLyoKKyAqIGVycm9ybG9nX3Byb3ZpZGVy
X2RhdGEgaG9sZHMgcG9pbnRlciB0byBwcm92aWRlciBhbmQgaXRzIGhhbmRsZQorICogZ2Vu
ZXJhdGVkIGJ5IHByb3ZpZGVyIGluaXRpYWxpemF0aW9uLiBJdCBpcyB1c2VkIHdoZW4gbG9n
Z2luZyB1c2luZworICogYXBfZXJyb3Jsb2dfcHJvdmlkZXIuCisgKi8KK3R5cGVkZWYgc3Ry
dWN0IHsKKyAgICBzdHJ1Y3QgYXBfZXJyb3Jsb2dfcHJvdmlkZXIgKnByb3ZpZGVyOworICAg
IHZvaWQgKmhhbmRsZTsKK30gZXJyb3Jsb2dfcHJvdmlkZXJfZGF0YTsKKworLyoKKyAqIFR5
cGUgb2YgdGhlIGxvZ193cml0ZXIgY3JlYXRlZCBieSBhcF9kZWZhdWx0X2xvZ193cml0ZXJf
aW5pdC4KKyAqIEl0IGlzIHVzZWQgYnkgYXBfZGVmYXVsdF9sb2dfd3JpdGVyIHRvIGRldGVy
bWluZSB0aGUgdHlwZSBvZgorICogdGhlIGxvZ193cml0ZXIuCisgKi8KK2VudW0gZGVmYXVs
dF9sb2dfd3JpdGVyX3R5cGUgeworICAgIExPR19XUklURVJfRkQsCisgICAgTE9HX1dSSVRF
Ul9QUk9WSURFUgorfTsKKworLyoKKyAqIEFic3RyYWN0IHN0cnVjdCB0byBhbGxvdyBtdWx0
aXBsZSB0eXBlcyBvZiBsb2cgd3JpdGVycyB0byBiZSBjcmVhdGVkCisgKiBieSBhcF9kZWZh
dWx0X2xvZ193cml0ZXJfaW5pdCBmdW5jdGlvbi4KKyAqLwordHlwZWRlZiBzdHJ1Y3Qgewor
ICAgIGVudW0gZGVmYXVsdF9sb2dfd3JpdGVyX3R5cGUgdHlwZTsKKyAgICB2b2lkICpsb2df
d3JpdGVyOworfSBkZWZhdWx0X2xvZ193cml0ZXI7CisKIHN0YXRpYyBjaGFyICpwZm10KGFw
cl9wb29sX3QgKnAsIGludCBpKQogewogICAgIGlmIChpIDw9IDApIHsKQEAgLTE1OTYsNiAr
MTYyNiw3IEBACiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHJfc2l6ZV90IGxlbikK
IAogeworICAgIGRlZmF1bHRfbG9nX3dyaXRlciAqbG9nX3dyaXRlciA9IGhhbmRsZTsKICAg
ICBjaGFyICpzdHI7CiAgICAgY2hhciAqczsKICAgICBpbnQgaTsKQEAgLTE2MTIsNyArMTY0
MywyNiBAQAogICAgICAgICBzICs9IHN0cmxbaV07CiAgICAgfQogCi0gICAgcnYgPSBhcHJf
ZmlsZV93cml0ZV9mdWxsKChhcHJfZmlsZV90KiloYW5kbGUsIHN0ciwgbGVuLCBOVUxMKTsK
KyAgICBpZiAobG9nX3dyaXRlci0+dHlwZSA9PSBMT0dfV1JJVEVSX0ZEKSB7CisgICAgICAg
IHJ2ID0gYXByX2ZpbGVfd3JpdGVfZnVsbCgoYXByX2ZpbGVfdCopbG9nX3dyaXRlci0+bG9n
X3dyaXRlciwgc3RyLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuLCBO
VUxMKTsKKyAgICB9CisgICAgZWxzZSB7CisgICAgICAgIGVycm9ybG9nX3Byb3ZpZGVyX2Rh
dGEgKmRhdGEgPSBsb2dfd3JpdGVyLT5sb2dfd3JpdGVyOworICAgICAgICBhcF9lcnJvcmxv
Z19pbmZvIGluZm87CisgICAgICAgIGluZm8uciAgICAgICAgICAgICA9IHI7CisgICAgICAg
IGluZm8ucyAgICAgICAgICAgICA9IHItPnNlcnZlcjsKKyAgICAgICAgaW5mby5jICAgICAg
ICAgICAgID0gci0+Y29ubmVjdGlvbjsKKyAgICAgICAgaW5mby5wb29sICAgICAgICAgID0g
ci0+cG9vbDsKKyAgICAgICAgaW5mby5maWxlICAgICAgICAgID0gTlVMTDsKKyAgICAgICAg
aW5mby5saW5lICAgICAgICAgID0gMDsKKyAgICAgICAgaW5mby5zdGF0dXMgICAgICAgID0g
MDsKKyAgICAgICAgaW5mby51c2luZ19wcm92aWRlciA9IDE7CisgICAgICAgIGluZm8uc3Rh
cnR1cCAgICAgICA9IDA7CisgICAgICAgIGluZm8uZm9ybWF0ICAgICAgICA9ICIiOworICAg
ICAgICBkYXRhLT5wcm92aWRlci0+d3JpdGVyKCZpbmZvLCBkYXRhLT5oYW5kbGUsCisgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ciwgbGVuKTsKKyAgICB9CiAKICAgICBy
ZXR1cm4gcnY7CiB9CkBAIC0xNjE5LDYgKzE2NjksMTggQEAKIHN0YXRpYyB2b2lkICphcF9k
ZWZhdWx0X2xvZ193cml0ZXJfaW5pdChhcHJfcG9vbF90ICpwLCBzZXJ2ZXJfcmVjICpzLAog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIqIG5h
bWUpCiB7CisgICAgZGVmYXVsdF9sb2dfd3JpdGVyICpsb2dfd3JpdGVyOworICAgIGNvbnN0
IGNoYXIgKnByb3ZpZGVyX25hbWUgPSBuYW1lOworICAgIGFwX2Vycm9ybG9nX3Byb3ZpZGVy
ICpwcm92aWRlciA9IE5VTEw7CisgICAgY2hhciAqc2VwOworCisgICAgLyogV2Ugc3VwcG9y
dCAqTG9nICJlcnJvcmxvZ19wcm92aWRlcjphcmciIHN5bnRheCBub3csIHNvIGdldCB0aGUg
cHJvdmlkZXIKKyAgICAgKiBuYW1lIGZyb20gdGhlIG5hbWUuICovCisgICAgaWYgKChzZXAg
PSBhcF9zdHJjaHJfYyhuYW1lLCAnOicpKSAhPSBOVUxMKSB7CisgICAgICAgIHByb3ZpZGVy
X25hbWUgPSBhcHJfcHN0cm1lbWR1cChwLCBuYW1lLCBzZXAgLSBuYW1lKTsKKyAgICAgICAg
c2VwKys7CisgICAgfQorCiAgICAgaWYgKCpuYW1lID09ICd8JykgewogICAgICAgICBwaXBl
ZF9sb2cgKnBsOwogCkBAIC0xNjI2LDggKzE2ODgsMzUgQEAKICAgICAgICAgaWYgKHBsID09
IE5VTEwpIHsKICAgICAgICAgICAgcmV0dXJuIE5VTEw7CiAgICAgICAgIH0KLSAgICAgICAg
cmV0dXJuIGFwX3BpcGVkX2xvZ193cml0ZV9mZChwbCk7CisKKyAgICAgICAgbG9nX3dyaXRl
ciA9IGFwcl9wY2FsbG9jKHAsIHNpemVvZihkZWZhdWx0X2xvZ193cml0ZXIpKTsKKyAgICAg
ICAgbG9nX3dyaXRlci0+dHlwZSA9IExPR19XUklURVJfRkQ7CisgICAgICAgIGxvZ193cml0
ZXItPmxvZ193cml0ZXIgPSBhcF9waXBlZF9sb2dfd3JpdGVfZmQocGwpOworICAgICAgICBp
ZiAoIWxvZ193cml0ZXItPmxvZ193cml0ZXIpIHsKKyAgICAgICAgICAgIHJldHVybiBOVUxM
OworICAgICAgICB9CisgICAgICAgIHJldHVybiBsb2dfd3JpdGVyOwogICAgIH0KKyAgICBl
bHNlIGlmICgocHJvdmlkZXIgPSBhcF9sb29rdXBfcHJvdmlkZXIoQVBfRVJST1JMT0dfUFJP
VklERVJfR1JPVVAsCisgICAgICAgIHByb3ZpZGVyX25hbWUsIEFQX0VSUk9STE9HX1BST1ZJ
REVSX1ZFUlNJT04pKSAhPSBOVUxMKSB7CisgICAgICAgIHZvaWQgKnByb3ZpZGVyX2hhbmRs
ZTsKKyAgICAgICAgZXJyb3Jsb2dfcHJvdmlkZXJfZGF0YSAqcHJvdmlkZXJfZGF0YTsKKyAg
ICAKKyAgICAgICAgcHJvdmlkZXJfaGFuZGxlID0gcHJvdmlkZXItPmluaXQocCwgcyk7Cisg
ICAgICAgIGlmICghcHJvdmlkZXJfaGFuZGxlKSB7CisgICAgICAgICAgICAvKiBwcm92aWRl
ciBtdXN0IGxvZyBzb21ldGhpbmcgdG8gdGhlIGNvbnNvbGUgKi8KKyAgICAgICAgICAgIHJl
dHVybiBOVUxMOworICAgICAgICB9CisKKyAgICAgICAgcHJvdmlkZXJfZGF0YSA9IGFwcl9w
Y2FsbG9jKHAsIHNpemVvZihlcnJvcmxvZ19wcm92aWRlcl9kYXRhKSk7CisgICAgICAgIHBy
b3ZpZGVyX2RhdGEtPnByb3ZpZGVyID0gcHJvdmlkZXI7CisgICAgICAgIHByb3ZpZGVyX2Rh
dGEtPmhhbmRsZSA9IHByb3ZpZGVyX2hhbmRsZTsKKworICAgICAgICBsb2dfd3JpdGVyID0g
YXByX3BjYWxsb2MocCwgc2l6ZW9mKGRlZmF1bHRfbG9nX3dyaXRlcikpOworICAgICAgICBs
b2dfd3JpdGVyLT50eXBlID0gTE9HX1dSSVRFUl9QUk9WSURFUjsKKyAgICAgICAgbG9nX3dy
aXRlci0+bG9nX3dyaXRlciA9IHByb3ZpZGVyX2RhdGE7CisgICAgICAgIHJldHVybiBsb2df
d3JpdGVyOworICAgIH0KICAgICBlbHNlIHsKICAgICAgICAgY29uc3QgY2hhciAqZm5hbWUg
PSBhcF9zZXJ2ZXJfcm9vdF9yZWxhdGl2ZShwLCBuYW1lKTsKICAgICAgICAgYXByX2ZpbGVf
dCAqZmQ7CkBAIC0xNjQ0LDcgKzE3MzMsMTEgQEAKICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAiY291bGQgbm90IG9wZW4gdHJhbnNmZXIgbG9nIGZpbGUgJXMuIiwgZm5hbWUpOwog
ICAgICAgICAgICAgcmV0dXJuIE5VTEw7CiAgICAgICAgIH0KLSAgICAgICAgcmV0dXJuIGZk
OworCisgICAgICAgIGxvZ193cml0ZXIgPSBhcHJfcGNhbGxvYyhwLCBzaXplb2YoZGVmYXVs
dF9sb2dfd3JpdGVyKSk7CisgICAgICAgIGxvZ193cml0ZXItPnR5cGUgPSBMT0dfV1JJVEVS
X0ZEOworICAgICAgICBsb2dfd3JpdGVyLT5sb2dfd3JpdGVyID0gZmQ7CisgICAgICAgIHJl
dHVybiBsb2dfd3JpdGVyOwogICAgIH0KIH0KIHN0YXRpYyB2b2lkICphcF9idWZmZXJlZF9s
b2dfd3JpdGVyX2luaXQoYXByX3Bvb2xfdCAqcCwgc2VydmVyX3JlYyAqcywK
--------------000605070101000206070903--

From dev-return-82329-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr  7 19:03:07 2015
Return-Path: <dev-return-82329-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3E0CA17CD6
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  7 Apr 2015 19:03:07 +0000 (UTC)
Received: (qmail 80020 invoked by uid 500); 7 Apr 2015 19:03:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 79951 invoked by uid 500); 7 Apr 2015 19:03:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 79941 invoked by uid 99); 7 Apr 2015 19:03:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Apr 2015 19:03:00 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of covener@gmail.com designates 74.125.82.51 as permitted sender)
Received: from [74.125.82.51] (HELO mail-wg0-f51.google.com) (74.125.82.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Apr 2015 19:02:34 +0000
Received: by wgsk9 with SMTP id k9so43355132wgs.3
        for <dev@httpd.apache.org>; Tue, 07 Apr 2015 12:01:48 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=0w6LNZDnSxPyiSFad+/1dVgdpyKLYRsbzfvnciKvgt8=;
        b=NQMmh85yjZp9esqw+lgT10IfhMDGwFnDZW1dSuqA7qcV2ZGBVM4xOU2teyUWs5JXiz
         oJYvo0dCYFmM4jqvKb8gCdfmOLYMvC3k91fucQvaqji9fNkzd3sn5n2VLMf6x15cokaq
         k1gA8FJrI6vYYTw8efEQOrhggk8yKVDzxvgk80nAtIcqgB7xatAgc5wjmYE0kMDz1krc
         WP8dRp7GsPxRczCiAy7GaiB3hO/d8iPYJ9y0hiBQSIIIIZH2lcLjpSaf9THdh9k+xY83
         VZPnIJ+XXRfPcFz0jhLEaj/hoZKFRjXrTUrE1jVK6l7Xe7eKzYpfGHOHnblF5dhABR0T
         baTg==
MIME-Version: 1.0
X-Received: by 10.181.13.198 with SMTP id fa6mr7398548wid.41.1428433308523;
 Tue, 07 Apr 2015 12:01:48 -0700 (PDT)
Received: by 10.27.26.200 with HTTP; Tue, 7 Apr 2015 12:01:48 -0700 (PDT)
In-Reply-To: <20150407190117.5723FAC00B4@hades.apache.org>
References: <20150407190117.5723FAC00B4@hades.apache.org>
Date: Tue, 7 Apr 2015 15:01:48 -0400
Message-ID: <CALK=YjOOH==dm6An3krXOyhsReLbytA7+cTcMFHzUGL5xWnn=Q@mail.gmail.com>
Subject: Re: svn commit: r1671918 - in /httpd/httpd/trunk: CHANGES
 docs/manual/mod/mod_logio.xml modules/loggers/mod_logio.c
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Apr 7, 2015 at 3:01 PM,  <covener@apache.org> wrote:
> +    return apr_psprintf(r->pool, "%" APR_TIME_T_FMT, cf->ttfb);

Anything better here?


-- 
Eric Covener
covener@gmail.com

From dev-return-82330-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr  7 21:49:01 2015
Return-Path: <dev-return-82330-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 179A3177FD
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  7 Apr 2015 21:49:01 +0000 (UTC)
Received: (qmail 27956 invoked by uid 500); 7 Apr 2015 21:49:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 27891 invoked by uid 500); 7 Apr 2015 21:49:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 27881 invoked by uid 99); 7 Apr 2015 21:49:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Apr 2015 21:49:00 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.174 as permitted sender)
Received: from [209.85.223.174] (HELO mail-ie0-f174.google.com) (209.85.223.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Apr 2015 21:48:55 +0000
Received: by iebrs15 with SMTP id rs15so59215267ieb.3
        for <dev@httpd.apache.org>; Tue, 07 Apr 2015 14:48:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=L0rGOHwiV6uCpOzcUmIwfrrTJ9zeoIpFWmkqDIRzecw=;
        b=vpMp7vUJam2MEEovl3pv4wpInDVytaOAm4HHqiYDf0Co7/ckOaCjFmuH5yxFcwnydc
         pJbGdoKstq929WihrfRSi6N3wMLpDjskvQBsO73gSvHrWUeqYW0HsBmcbqkydXjJ/kB1
         427i0U+Tcdeh5ul1bCdNtAayGbXbyj8M6/aVsIKMg9a3yjLq1iop+bnNwFnjovADkM3h
         FC4Cg0l4aUKfWb86d10Gf07YEaweRKEo7AFx/dwyoxULlOLDy/qHkejzDOpfUbuJuXAz
         cVkC+uW9iVBR8trPst4WVPNcOOVQ/ZBHZbAn8HEOyNuTMBfyo/QUqY35HGrsOXlTtk3j
         mtlA==
MIME-Version: 1.0
X-Received: by 10.50.43.197 with SMTP id y5mr7125945igl.14.1428443314742; Tue,
 07 Apr 2015 14:48:34 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Tue, 7 Apr 2015 14:48:34 -0700 (PDT)
In-Reply-To: <CAKQ1sVO=K1VHLU7zfz4PPv1Y58if9Li2moQK2wX6HzZkiNH9ug@mail.gmail.com>
References: <20150314000932.9A9FDAC0163@hades.apache.org>
	<CAKQ1sVO=K1VHLU7zfz4PPv1Y58if9Li2moQK2wX6HzZkiNH9ug@mail.gmail.com>
Date: Tue, 7 Apr 2015 23:48:34 +0200
Message-ID: <CAKQ1sVNvQwLDymr1fFLpWnNi+Ys9m9NOYCZuBuv5YFyEx6fRPA@mail.gmail.com>
Subject: Re: svn commit: r1666619 - /httpd/httpd/trunk/server/mpm/motorz/motorz.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Maybe a reliable way to remove events would be to use the new
functions from r1671957 (something like the example added to
testskiplist.c in this commit)?
This can't be backported to APR-1.5.x though, so if that's suitable we
would have to copy the skiplist's code (back) to httpd (as discussed
elsewhere)...

On Mon, Mar 23, 2015 at 11:09 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Sat, Mar 14, 2015 at 1:09 AM,  <ylavic@apache.org> wrote:
>> Author: ylavic
>> Date: Sat Mar 14 00:09:32 2015
>> New Revision: 1666619
>>
>> URL: http://svn.apache.org/r1666619
>> Log:
>> mpm_motorz: follow up to r1666482.
>> We only need one compare function for add semantic with apr_skiplist_insert()
>> and unique timers (pointers). It also works with apr_skiplist_remove() and
>> apr_skiplist_find().
>>
>> Modified:
>>     httpd/httpd/trunk/server/mpm/motorz/motorz.c
>>
>> Modified: httpd/httpd/trunk/server/mpm/motorz/motorz.c
>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/server/mpm/motorz/motorz.c?rev=1666619&r1=1666618&r2=1666619&view=diff
>> ==============================================================================
>> --- httpd/httpd/trunk/server/mpm/motorz/motorz.c (original)
>> +++ httpd/httpd/trunk/server/mpm/motorz/motorz.c Sat Mar 14 00:09:32 2015
>> @@ -64,21 +64,18 @@ static motorz_core_t *motorz_core_get()
>>      return g_motorz_core;
>>  }
>>
>> -static int indexing_comp(void *a, void *b)
>> +static int timer_comp(void *a, void *b)
>>  {
>> -    apr_time_t t1 = (apr_time_t) (((motorz_timer_t *) a)->expires);
>> -    apr_time_t t2 = (apr_time_t) (((motorz_timer_t *) b)->expires);
>> -    AP_DEBUG_ASSERT(t1);
>> -    AP_DEBUG_ASSERT(t2);
>> -    return ((t1 < t2) ? -1 : 1);
>> -}
>> -
>> -static int indexing_compk(void *ac, void *b)
>> -{
>> -    apr_time_t *t1 = (apr_time_t *) ac;
>> -    apr_time_t t2 = (apr_time_t) (((motorz_timer_t *) b)->expires);
>> -    AP_DEBUG_ASSERT(t2);
>> -    return ((*t1 < t2) ? -1 : 1);
>> +    if (a != b) {
>> +        apr_time_t t1 = (apr_time_t) (((motorz_timer_t *) a)->expires);
>> +        apr_time_t t2 = (apr_time_t) (((motorz_timer_t *) b)->expires);
>> +        AP_DEBUG_ASSERT(t1);
>> +        AP_DEBUG_ASSERT(t2);
>> +        return ((t1 < t2) ? -1 : 1);
>> +    }
>> +    else {
>> +        return 0;
>> +    }
>>  }
>
> I expected this compare function to work with apr_skiplist_remove()
> but actually it does not.
> The goal was to match the given pointer only (and not any other
> duplicate!), but by returning +1 when a != b && t1 == t2, we may skip
> timers inserted first should any duplicate be inserted later with a
> higher eight.
>
> For example, the below is the gdb output (dump_dipklist) after 10
> duplicates have been inserted, where each 2-tuple is the address of
> the node (0x...,) containing the address of the element (,000000...):
>
> (gdb) dump_skiplist skiplist
> skiplist@0x69aba0: size=10: height=3
> (0x69b008,000000000000) (0x6ac3c0,000000000000) (0x6ac628,000000000000)
> (0x69b048,00000069b000)
> (0x6ac338,00000069b088)
> (0x6ac380,0000006ac378) (0x6ac400,0000006ac378)
> (0x6ac448,0000006ac440)
> (0x6ac490,0000006ac488) (0x6ac4d0,0000006ac488)
> (0x6ac518,0000006ac510)
> (0x6ac560,0000006ac558)
> (0x6ac5a8,0000006ac5a0) (0x6ac5e8,0000006ac5a0) (0x6ac668,0000006ac5a0)
> (0x6ac6b0,0000006ac6a8) (0x6ac6f0,0000006ac6a8)
> (0x6ac738,0000006ac730) (0x6ac778,0000006ac730)
>
> If e.g. we now try to remove the element (0x6ac448,0000006ac440),
> starting at the top (0x6ac628,000000000000), we will jump directly
> next to (0x6ac668,0000006ac5a0), then down (no next) to
> (0x6ac5e8,0000006ac5a0), then next to (0x6ac6f0,0000006ac6a8), then
> next to (0x6ac778,0000006ac730), then down (no next) to
> (0x6ac738,0000006ac730), and finally (no next, no down) to NULL.
> All the elements (all duplicates) between the top and
> (0x6ac668,0000006ac5a0) have been skipped, hence we had no chance to
> find (0x6ac448,0000006ac440), because at least one element was
> inserted later (exactly 4 here) with a higher eight.
>
> This is not an issue about insert vs add semantic, with both functions
> we still need a "reliable" compare function to remove the exact
> (requested) timer, and I see no way to build one...
>
> Thoughts?

From dev-return-82331-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr  8 11:49:44 2015
Return-Path: <dev-return-82331-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EEB96178EA
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  8 Apr 2015 11:49:43 +0000 (UTC)
Received: (qmail 51682 invoked by uid 500); 8 Apr 2015 11:49:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51597 invoked by uid 500); 8 Apr 2015 11:49:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51587 invoked by uid 99); 8 Apr 2015 11:49:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Apr 2015 11:49:43 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of trawick@gmail.com designates 209.85.220.177 as permitted sender)
Received: from [209.85.220.177] (HELO mail-qk0-f177.google.com) (209.85.220.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Apr 2015 11:49:16 +0000
Received: by qkx62 with SMTP id 62so81880879qkx.0
        for <dev@httpd.apache.org>; Wed, 08 Apr 2015 04:47:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        bh=REUtPue2skzVGrf3A8Pl5A4/+QBGSEdm4e8Eey5HR+0=;
        b=0gb7iFqFLy06s/Cb/ZfLLIFHkiVWao8VeAluFFcYYUebG4on+ceKe/MS0Ke8UbN5Q6
         /j2YuneFzGZx7PCdnf5nZAIHfKl3eM79p2Mr4zcSxu3Z5gpEctw9T//J0N5jDNu//Ddx
         MPYKfdVyny0YJ/FlwYp4X0+nZbc3kVzuLhG2y0M12uBtTrkGLVLSDol63WnCyHtLL1iE
         9eXiJYcYJZLQcWFKDSnGcJF1MJbpvnKS2IAQNQEPiFNNRQBm6z9X91bGhTK1yCrRhCgA
         i1R3208hoaeKPIBHDcq4qPdhjjUtVDcQUpp6G+2UG2ENS2AQHaTbCWKO7qNlnS1JEP+r
         Nd2Q==
X-Received: by 10.55.21.139 with SMTP id 11mr14830195qkv.19.1428493664922;
        Wed, 08 Apr 2015 04:47:44 -0700 (PDT)
Received: from [172.20.0.33] (rrcs-70-62-97-170.midsouth.biz.rr.com. [70.62.97.170])
        by mx.google.com with ESMTPSA id 13sm7325447qku.20.2015.04.08.04.47.43
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Wed, 08 Apr 2015 04:47:43 -0700 (PDT)
Message-ID: <5525155E.5020501@gmail.com>
Date: Wed, 08 Apr 2015 07:47:42 -0400
From: Jeff Trawick <trawick@gmail.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1671786 - /httpd/httpd/branches/2.4.x/CHANGES
References: <20150407100624.73AFAAC0163@hades.apache.org>
In-Reply-To: <20150407100624.73AFAAC0163@hades.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 04/07/2015 06:06 AM, jorton@apache.org wrote:
> Author: jorton
> Date: Tue Apr  7 10:06:23 2015
> New Revision: 1671786
>
> URL: http://svn.apache.org/r1671786
> Log:
> Credit to guy who stumbled into bug and hid possible untested fix in dark corner of bugzilla: 0%
> Credit to guy who rediscovered, fixed, committed & merged: 100%

Great :)


From dev-return-82332-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr  8 13:31:46 2015
Return-Path: <dev-return-82332-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 54BEE17C99
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  8 Apr 2015 13:31:46 +0000 (UTC)
Received: (qmail 97946 invoked by uid 500); 8 Apr 2015 13:25:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97706 invoked by uid 500); 8 Apr 2015 13:25:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97689 invoked by uid 99); 8 Apr 2015 13:25:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Apr 2015 13:25:00 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of steve.m.hay@googlemail.com designates 209.85.213.180 as permitted sender)
Received: from [209.85.213.180] (HELO mail-ig0-f180.google.com) (209.85.213.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Apr 2015 13:24:35 +0000
Received: by igbqf9 with SMTP id qf9so37827321igb.1
        for <dev@httpd.apache.org>; Wed, 08 Apr 2015 06:24:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=rxCzLvUAgyN773893wNilW2J35jBcz0erlgG6x/zpG8=;
        b=URirrCNrwufs+MAtRzl7+9or9zTQtwBRbsZaL0a88N9aRUpqotnNa6OSBVQXkRKIw7
         yGuvrQ6wcfaTpHm6HRoDgkWDCZ0lyPftP1Cu4oJiX04QwFLbxuvlewZjbuU45WLMoGD8
         iLTKjC6nyXX1McY/AV0Fd/aXTFmiOY3ddRWa3dMxwcm0EpHuhdTDQ8Rmpu/a3p/gN5Tn
         XlbTjF8XFMrM6AN7EhWVwKwu0lJ1h8iekywq4oTni7lGy6TN9Ioc2x+WQozFwTqN2o/F
         NPdFxZw/vDOyfoF51Bh8XY2YCPPIB6DSiFGx4epzj6kWOAEdKkRsRJb3jRnvjFxQGUdk
         /ROA==
MIME-Version: 1.0
X-Received: by 10.107.12.93 with SMTP id w90mr31947349ioi.10.1428499474129;
 Wed, 08 Apr 2015 06:24:34 -0700 (PDT)
Received: by 10.36.106.67 with HTTP; Wed, 8 Apr 2015 06:24:34 -0700 (PDT)
Date: Wed, 8 Apr 2015 14:24:34 +0100
Message-ID: <CADED=K6sfshhCk8_8GjH98D-wHMW_EgK6ja8x6dskF7PLxdjaA@mail.gmail.com>
Subject: [RELEASE CANDIDATE] Apache-Test-1.39 RC1
From: Steve Hay <steve.m.hay@googlemail.com>
To: test-dev@perl.apache.org, mod_perl Dev <dev@perl.apache.org>, 
	"modperl@perl.apache.org" <modperl@perl.apache.org>, dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Please download, test, and report back on this Apache-Test 1.39
release candidate.

http://people.apache.org/~stevehay/Apache-Test-1.39-rc1.tar.gz

MD5  = ee927033dd36bb6befb34443b7353f4f
SHA1 = ab048a92d70b55a44668db240e9c9e3a969ef4a2

=item 1.39-rc1

Test scripts can now test if perl has a fork() implementation
available by using the Apache::Test::need_fork() function. [Steve Hay]

CPAN RT#87620: Add -D APACHE2_4 to identify httpd-2.4. [Michael Schout]

From dev-return-82333-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr  8 17:05:41 2015
Return-Path: <dev-return-82333-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4E11717CB3
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  8 Apr 2015 17:05:41 +0000 (UTC)
Received: (qmail 21360 invoked by uid 500); 8 Apr 2015 17:05:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 21292 invoked by uid 500); 8 Apr 2015 17:05:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 21282 invoked by uid 99); 8 Apr 2015 17:05:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Apr 2015 17:05:40 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of steve.m.hay@googlemail.com designates 209.85.213.169 as permitted sender)
Received: from [209.85.213.169] (HELO mail-ig0-f169.google.com) (209.85.213.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Apr 2015 17:05:36 +0000
Received: by ignm3 with SMTP id m3so33220693ign.0
        for <dev@httpd.apache.org>; Wed, 08 Apr 2015 10:04:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=lKGWm5H27AKcFhHq0FtadyTM5w339TJwqpLi9f5YeN4=;
        b=tfaiz7n+49vEBO7/KTvH13iz8JmsT2YPAq8KG+DuOkr3+xkxIIv+Y3BtZO/OBKi1h/
         3LFFEA/AnoQvPRmxAzDu0FpkxTVkLGmjS4pKw9kOVotnia8ehEu7P5F4mAIoTVvNC2bZ
         jDcs1QjeWnS3u7kYemG5fNbL7B0wdabW0veRhIfCwZ0ah5xYFjz5B4fVHdxWmmYiGOhi
         FDwIrEZrnRRfApV/QYYoqFaQ4nW4xwa/aMmkbgQWRH+3tyN+zBCVowqod3hNFOh0egks
         aXNtn/n2qlCNSCvIRPZWUDCJ+dsZ+Z8RXroW4FOxQ8P0MR/MeqzGi576uba6mkqmenew
         DXAg==
MIME-Version: 1.0
X-Received: by 10.50.93.69 with SMTP id cs5mr13752186igb.4.1428512671338; Wed,
 08 Apr 2015 10:04:31 -0700 (PDT)
Received: by 10.36.106.67 with HTTP; Wed, 8 Apr 2015 10:04:31 -0700 (PDT)
In-Reply-To: <CADED=K6sfshhCk8_8GjH98D-wHMW_EgK6ja8x6dskF7PLxdjaA@mail.gmail.com>
References: <CADED=K6sfshhCk8_8GjH98D-wHMW_EgK6ja8x6dskF7PLxdjaA@mail.gmail.com>
Date: Wed, 8 Apr 2015 18:04:31 +0100
Message-ID: <CADED=K4PzK3EQi9U2vZe9TfnkauNseLSbrZM1i=Yo1pHC20obA@mail.gmail.com>
Subject: Re: [RELEASE CANDIDATE] Apache-Test-1.39 RC1
From: Steve Hay <steve.m.hay@googlemail.com>
To: test-dev@perl.apache.org, mod_perl Dev <dev@perl.apache.org>, 
	"modperl@perl.apache.org" <modperl@perl.apache.org>, dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On 8 April 2015 at 14:24, Steve Hay <steve.m.hay@googlemail.com> wrote:
> Please download, test, and report back on this Apache-Test 1.39
> release candidate.
>
> http://people.apache.org/~stevehay/Apache-Test-1.39-rc1.tar.gz
>

Success on Windows with VC++ 2010 using perl-5.20.2 with/without LWP
and httpd-2.2.29/2.4.10 (4 combinations in all).

I should have noted in my original email that there are known problems
with the latest development releases of the perl Test-Simple distro
(which contains Test::More), and hence also with the development perls
5.21.6 thru 5.21.9. Ignore these for now; it's already ticketed at
https://rt.cpan.org/Ticket/Display.html?id=103360 and will hopefully
be addressed (either in Apache-Test, or possibly in Test-Simple?)
soonish.

From dev-return-82334-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr  9 08:46:45 2015
Return-Path: <dev-return-82334-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 707E217B3F
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  9 Apr 2015 08:46:45 +0000 (UTC)
Received: (qmail 49052 invoked by uid 500); 9 Apr 2015 08:46:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48984 invoked by uid 500); 9 Apr 2015 08:46:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48973 invoked by uid 99); 9 Apr 2015 08:46:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Apr 2015 08:46:44 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [94.185.90.68] (HELO slim.berklix.org) (94.185.90.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Apr 2015 08:46:39 +0000
Received: from mart.js.berklix.net (p5DCBEA64.dip0.t-ipconnect.de [93.203.234.100])
	(authenticated bits=128)
	by slim.berklix.org (8.14.5/8.14.5) with ESMTP id t398pcZ4099765
	for <dev@httpd.apache.org>; Thu, 9 Apr 2015 10:51:38 +0200 (CEST)
	(envelope-from jhs@berklix.com)
Received: from fire.js.berklix.net (fire.js.berklix.net [192.168.91.41])
	by mart.js.berklix.net (8.14.3/8.14.3) with ESMTP id t398kBOn051443
	for <dev@httpd.apache.org>; Thu, 9 Apr 2015 10:46:11 +0200 (CEST)
	(envelope-from jhs@berklix.com)
Received: from fire.js.berklix.net (localhost [127.0.0.1])
	by fire.js.berklix.net (8.14.7/8.14.7) with ESMTP id t398jxOI029791
	for <dev@httpd.apache.org>; Thu, 9 Apr 2015 10:46:11 +0200 (CEST)
	(envelope-from jhs@berklix.com)
Message-Id: <201504090846.t398jxOI029791@fire.js.berklix.net>
To: dev@httpd.apache.org
Subject: how to get httpd to use a proxy, cascading to a 2nd proxy ?
From: "Julian H. Stacey" <jhs@berklix.com>
Organization: http://berklix.com BSD Unix Linux Consultants, Munich Germany
User-agent: EXMH on FreeBSD http://www.berklix.com/free/
X-URL: http://www.berklix.com/~jhs/cv/
Date: Thu, 09 Apr 2015 10:45:59 +0200
X-Virus-Checked: Checked by ClamAV on apache.org

Hi dev@httpd.apache.org,
I got no reply from users@ on 2nd April, with :
 Can httpd _use_ (not just _be_) a proxy, cascading to a 2nd proxy on a gate ?

(Not just the common case of httpd serving as a proxy for down stream clients,
 though I need that too on same httpd,  I already have that part working)

I want to get httpd on an internal host to serve as a proxy to a
USB tethered android (which it is already doing), + to pass requests
over ethernet LAN to a 2nd proxy on a LAN gateway. 

This may seem unusual; the reason:
	An android is tethered (IP over USB) to a FreeBSD PC laptop,
	Orweb browser on Android allows use of a proxy, FreeBSD
	laptop runs apache 2.2.29 httpd (listening on the USB IP)
	with httpd proxy enabled & PC allows android to reach various
	httpd PCs on local LAN of the PC.

	I want to tell the httpd on the PC interfacing the android,
	to pass android requests to a 2nd httpd running as LAN proxy
	on the gateway host, to reach the internet.

Why ? Why dont I just configure the FreeBSD PC to bridge packets
from USB to LAN ethernet, & on to LAN gate ?
  - I've failed to create a bridge, 
    Android rejects "route add default gw 192.168.42.139 dev rndis0" 
	with: Not permitted, (I need to root the device),
    I think the FreeBSD PC side is OK:
  	/etc/rc.conf gateway_enable="YES" + sysctl net.inet.ip.forwarding=1
  - Laptop may later get a firewall (to protect LAN from android apps).

If httpd can not use a remote proxy, maybe I'll try packet diversion
via FreeBSD's ipfw,  but I'm hoping dev@httpd have code that calls a proxy ?

I've read
	http://httpd.apache.org/docs/2.2/urlmapping.html#proxy
& contemplated nasty cludges eg:
	1st httpd on PC connected to android:
		<VirtualHost    *>
        	ServerName      play.google.com
		Redirect temp /store/apps http://gate/playgoogle
	2nd httpd on LAN gate:
		Redirect temp /playgoogle http://play.google.com/store/apps
But it would be Ugly & wouldnt work for other URLs, eg when android map apps
go other places to download maps etc.

Maybe there's some clever mapping with
	http://httpd.apache.org/docs/2.2/rewrite/
1st httpd to be receive request
	http://domain/url_under_domain
& emit
	http://gate/indirect_trigger/domain/url_under_domain
& 2nd=gate to redirect to
	http://domain/url_under_domain

Ideas / suggestions / code / URLs please ?

Cheers,
Julian
- --
Julian Stacey, BSD Linux Unix C Sys Eng Consultant Munich http://berklix.com
	Indent previous with "> ".	Reply Below as a play script.
	Send plain text, Not quoted-printable, HTML, or base64.

From dev-return-82335-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr  9 12:12:07 2015
Return-Path: <dev-return-82335-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E2CFD175AE
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  9 Apr 2015 12:12:07 +0000 (UTC)
Received: (qmail 43693 invoked by uid 500); 9 Apr 2015 12:12:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 43635 invoked by uid 500); 9 Apr 2015 12:12:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 43625 invoked by uid 99); 9 Apr 2015 12:12:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Apr 2015 12:12:07 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of covener@gmail.com designates 209.85.212.174 as permitted sender)
Received: from [209.85.212.174] (HELO mail-wi0-f174.google.com) (209.85.212.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Apr 2015 12:12:02 +0000
Received: by wiax7 with SMTP id x7so53877619wia.0
        for <dev@httpd.apache.org>; Thu, 09 Apr 2015 05:10:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=HngwJuoqIr6M4UU+TleVjnj/iwiM2Tza4fIR/NIbzIA=;
        b=MqTeQc8HO1Y4GrcnL2kGzPKKuhYu3jDMExxG5yziSqXKJYeadEMn92+qqdrGTBAF2n
         9TkLy5oSolbkuKNwb31WMa2ceob7j9uDXkJ+1EJ8SrkMsh2CqptlyBI/FmHGI/PXWGCP
         rXqE7Xe+GlUvsT8STWvuSZjYYoV0cx9R8NgIpQar6SEkf5pdzgiDqHYFe4YdPpz0nije
         UdRfT66qjRWc6FCWMHGsbEEfk9zOjBgIMwCx9UfebZ/I7VrhqMuEeKMgw1ryrPJmt+Fa
         xGWqNk1IPkajpUywSwmiJjWeuEa0xUah9evBsQISq+4YSfzb00PKSWxJbGkRE2xuB1Wc
         k+kg==
MIME-Version: 1.0
X-Received: by 10.180.202.228 with SMTP id kl4mr5579652wic.66.1428581457265;
 Thu, 09 Apr 2015 05:10:57 -0700 (PDT)
Received: by 10.27.26.200 with HTTP; Thu, 9 Apr 2015 05:10:57 -0700 (PDT)
In-Reply-To: <201504090846.t398jxOI029791@fire.js.berklix.net>
References: <201504090846.t398jxOI029791@fire.js.berklix.net>
Date: Thu, 9 Apr 2015 08:10:57 -0400
Message-ID: <CALK=YjNsFH+TVpoW+ti7xQv9eMcAD71ZTzmEW-FPTpKt6Hu-NA@mail.gmail.com>
Subject: Re: how to get httpd to use a proxy, cascading to a 2nd proxy ?
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Apr 9, 2015 at 4:45 AM, Julian H. Stacey <jhs@berklix.com> wrote:
> Hi dev@httpd.apache.org,
> I got no reply from users@ on 2nd April, with :
>  Can httpd _use_ (not just _be_) a proxy, cascading to a 2nd proxy on a gate ?


Responded on users@

-- 
Eric Covener
covener@gmail.com

From dev-return-82336-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr  9 14:19:46 2015
Return-Path: <dev-return-82336-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A203817BC1
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  9 Apr 2015 14:19:46 +0000 (UTC)
Received: (qmail 89524 invoked by uid 500); 9 Apr 2015 14:19:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89455 invoked by uid 500); 9 Apr 2015 14:19:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89445 invoked by uid 99); 9 Apr 2015 14:19:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Apr 2015 14:19:46 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of trawick@gmail.com designates 209.85.192.54 as permitted sender)
Received: from [209.85.192.54] (HELO mail-qg0-f54.google.com) (209.85.192.54)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Apr 2015 14:19:40 +0000
Received: by qgdy78 with SMTP id y78so35426376qgd.0
        for <dev@httpd.apache.org>; Thu, 09 Apr 2015 07:18:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject
         :content-type:content-transfer-encoding;
        bh=rRbajT4A7WkkCRDER+se392QtDBmLYf9+0ZejFiRzLQ=;
        b=Ab9Vsw58lHDf2CLOOaa1q22+z/1d/x8kMN8kGHb58zZz3sBzh7wPDq+Ui86K44Fj4q
         CYhaE8nUouADXyb3WzRfn7nRECr2xguyBtqvmKM6eScd3y9c01p57+/ibFwc4JdlFFK1
         YVYyekbpGEFGMee1EYIIEuFvaOkAzopS+tXLR0xolaClpR6S89Ro6eunwcu1Qi5BIeak
         hijAno9wg1Nml2fVDNQ42pU8kziyV+ev4GY99MLJ6YywYLkJwHJWJKirT/2WtHstxRYo
         jdabfJCYe9zH9Yk5Iwa83Tb4+NQjyf5gC4gOLeF74MLtMrduDTw9MxoS9n1wQMQ22Ao9
         3Kgg==
X-Received: by 10.140.232.3 with SMTP id d3mr37888210qhc.46.1428589115201;
        Thu, 09 Apr 2015 07:18:35 -0700 (PDT)
Received: from ?IPv6:2606:a000:b541:6700:454e:b800:d51f:7ae2? ([2606:a000:b541:6700:454e:b800:d51f:7ae2])
        by mx.google.com with ESMTPSA id r2sm7085065qkr.42.2015.04.09.07.18.33
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Thu, 09 Apr 2015 07:18:34 -0700 (PDT)
Message-ID: <55268A38.9010004@gmail.com>
Date: Thu, 09 Apr 2015 10:18:32 -0400
From: Jeff Trawick <trawick@gmail.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Any general concerns about backporting CGIPassAuth to the 2.4.x branch?
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

http://svn.apache.org/viewvc?view=revision&revision=1642847

I would like to mention this at AC2015, but it doesn't make since if 
there are reservations on putting it in 2.4.x.



From dev-return-82337-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr  9 14:22:24 2015
Return-Path: <dev-return-82337-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AF2EC17BEE
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  9 Apr 2015 14:22:24 +0000 (UTC)
Received: (qmail 98939 invoked by uid 500); 9 Apr 2015 14:22:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 98876 invoked by uid 500); 9 Apr 2015 14:22:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 98866 invoked by uid 99); 9 Apr 2015 14:22:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Apr 2015 14:22:24 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of covener@gmail.com designates 209.85.212.181 as permitted sender)
Received: from [209.85.212.181] (HELO mail-wi0-f181.google.com) (209.85.212.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Apr 2015 14:21:58 +0000
Received: by widjs5 with SMTP id js5so56373417wid.1
        for <dev@httpd.apache.org>; Thu, 09 Apr 2015 07:21:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=jGyP0cwoQyxspsWilMhrXatOyDmL97Cbbbb3Di8pY40=;
        b=Uipa7LCQCiXHNRBEuP/UhjOUMFtEzipF2wwK9w1LCOQF6BjpFxaSWgt5eLbWHeBtG0
         LTFo8q41uRiZpQoxTXodUHZvlO8SKADnjwEdKsyze8F6KhOu+1BiDxBcHqvFYBABuJ23
         59L3nLfZd7x3QMnqf9ehZ7Hi1QM0c+Qvf5SM4uKWM3ktblqQHJ3ezagEuCY6UJtVaM5u
         nsX8gWZ4eFofK5zWz06At3ti49T4+/qdZ5A5fTDHSOk78Zaj26X8V0Q0xtx2IsgnTIVy
         uzApVmvzaSnuCRXoa3EHXeOZNy+0MOW/61Rc/F49IhK/fDvrUwpJES347KweYxdud0gv
         mEgw==
MIME-Version: 1.0
X-Received: by 10.194.171.1 with SMTP id aq1mr31438152wjc.38.1428589272175;
 Thu, 09 Apr 2015 07:21:12 -0700 (PDT)
Received: by 10.27.26.200 with HTTP; Thu, 9 Apr 2015 07:21:12 -0700 (PDT)
In-Reply-To: <55268A38.9010004@gmail.com>
References: <55268A38.9010004@gmail.com>
Date: Thu, 9 Apr 2015 10:21:12 -0400
Message-ID: <CALK=YjMNn-g_CHtxtYKOaxO_WgvpFeHdzBq7vriLY+6Ri=FPLA@mail.gmail.com>
Subject: Re: Any general concerns about backporting CGIPassAuth to the 2.4.x branch?
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Apr 9, 2015 at 10:18 AM, Jeff Trawick <trawick@gmail.com> wrote:
> http://svn.apache.org/viewvc?view=revision&revision=1642847
>
> I would like to mention this at AC2015, but it doesn't make since if there
> are reservations on putting it in 2.4.x.

no issues here.

From dev-return-82338-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr  9 14:29:25 2015
Return-Path: <dev-return-82338-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EF68A17C79
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  9 Apr 2015 14:29:25 +0000 (UTC)
Received: (qmail 21768 invoked by uid 500); 9 Apr 2015 14:28:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 21667 invoked by uid 500); 9 Apr 2015 14:28:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 21569 invoked by uid 99); 9 Apr 2015 14:28:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Apr 2015 14:28:27 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.176 as permitted sender)
Received: from [209.85.223.176] (HELO mail-ie0-f176.google.com) (209.85.223.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Apr 2015 14:28:00 +0000
Received: by iebmp1 with SMTP id mp1so101936542ieb.0
        for <dev@httpd.apache.org>; Thu, 09 Apr 2015 07:25:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=1HlLHEzC5SoyVvvRUrxA8xq5O6Ge/U782XFMZlO2ltk=;
        b=t+Cd+xp7Sjyd3PMyF60NSUkG0IIBvCuYZ8vv2Grq0lmwNFQE/KhnAaSNc5rqKHjx0S
         fgRptJVqDSKcwzq/nl2WIpuljp0xslV0cOZ8GtYNM3J4PA+mHot9dcEEROfMNSamPy4i
         U1CdKIcpwLqa78MuYcI2NdnQPRg5Q1YtgsfkpknGhea4BMpadIIcZFMTquYedPo6MuzL
         I0xBI1ZcFGgFamaySpt64TcuqnwpZi97HjkrlhUiiO14I950ra+UiccfjOOp5vwWlwaz
         tv41LBXDIHcb9cBdZEo90VIsxuRNz7VI5jcPJKdPYIBuxmuOQZJL6EIO9DnwSTrg67uI
         ua1w==
MIME-Version: 1.0
X-Received: by 10.50.43.136 with SMTP id w8mr16485771igl.26.1428589544129;
 Thu, 09 Apr 2015 07:25:44 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Thu, 9 Apr 2015 07:25:44 -0700 (PDT)
In-Reply-To: <55268A38.9010004@gmail.com>
References: <55268A38.9010004@gmail.com>
Date: Thu, 9 Apr 2015 16:25:44 +0200
Message-ID: <CAKQ1sVO3WQcFx1wLTYy6ekixSkzsp=mv1s0dM4gSTpriDoXN5g@mail.gmail.com>
Subject: Re: Any general concerns about backporting CGIPassAuth to the 2.4.x branch?
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Apr 9, 2015 at 4:18 PM, Jeff Trawick <trawick@gmail.com> wrote:
> http://svn.apache.org/viewvc?view=revision&revision=1642847
>
> I would like to mention this at AC2015, but it doesn't make since if there
> are reservations on putting it in 2.4.x.

+1

From dev-return-82339-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr  9 15:28:26 2015
Return-Path: <dev-return-82339-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7141817FAC
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  9 Apr 2015 15:28:26 +0000 (UTC)
Received: (qmail 29953 invoked by uid 500); 9 Apr 2015 15:28:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29881 invoked by uid 500); 9 Apr 2015 15:28:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29871 invoked by uid 99); 9 Apr 2015 15:28:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Apr 2015 15:28:25 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.36] (HELO resqmta-ch2-04v.sys.comcast.net) (69.252.207.36)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Apr 2015 15:28:18 +0000
Received: from resomta-ch2-04v.sys.comcast.net ([69.252.207.100])
	by resqmta-ch2-04v.sys.comcast.net with comcast
	id DrSE1q0052AWL2D01rTdGa; Thu, 09 Apr 2015 15:27:37 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-04v.sys.comcast.net with comcast
	id DrTc1q00P1cCKD901rTdTn; Thu, 09 Apr 2015 15:27:37 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: Any general concerns about backporting CGIPassAuth to the 2.4.x branch?
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <55268A38.9010004@gmail.com>
Date: Thu, 9 Apr 2015 11:27:36 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <EEC4CF63-5164-44A3-A1B2-52B25A7B145F@jaguNET.com>
References: <55268A38.9010004@gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1428593257;
	bh=6tpR21CJOJwZSs7lo4+mJ/TDPnCY2NrLu6OFSm9okqE=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=INjJ77xlKH10/SJpMuvzmracwg5kgBbSs5tTl3WRCPb5HTHeC/AVv413WJ+oYmuzV
	 dvOPvnnt7jGy2pd6819yn3AIcFjLycYLP6byVyXuI/Gb+281ZNHkzHKfvyUTdJR8ri
	 aQyAjPH4kSVdUZOhXMxwKXLlKqLScRGsMD4ujzuU51LxgLJVD0HfJ+3WZmpzTu06Bg
	 JbS3Lr3cHp+HvetJhMhX0S4TtvxNEIiaw3sKRTuUVNvgyav7lOLSBtzL7eWrdhY6xT
	 i5x2qSiSUSnjdAHJdzdLTpKyv4IdzJEzGPoaOIqWDTqIo2ZlwD543gasnopdXHRkuZ
	 IAPzF4/tB6uFA==
X-Virus-Checked: Checked by ClamAV on apache.org

No prob.
> On Apr 9, 2015, at 10:18 AM, Jeff Trawick <trawick@gmail.com> wrote:
>=20
> http://svn.apache.org/viewvc?view=3Drevision&revision=3D1642847
>=20
> I would like to mention this at AC2015, but it doesn't make since if =
there are reservations on putting it in 2.4.x.
>=20
>=20


From dev-return-82340-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr  9 23:13:16 2015
Return-Path: <dev-return-82340-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 33E0F17D1C
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  9 Apr 2015 23:13:16 +0000 (UTC)
Received: (qmail 70179 invoked by uid 500); 9 Apr 2015 23:13:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70108 invoked by uid 500); 9 Apr 2015 23:13:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 70097 invoked by uid 99); 9 Apr 2015 23:13:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Apr 2015 23:13:15 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.177 as permitted sender)
Received: from [209.85.223.177] (HELO mail-ie0-f177.google.com) (209.85.223.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Apr 2015 23:12:49 +0000
Received: by iejt8 with SMTP id t8so4674321iej.2
        for <dev@httpd.apache.org>; Thu, 09 Apr 2015 16:11:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=oh6/pmk/X4DFJwL34SN/2ovc4W07QH5oapKTbSjPxxA=;
        b=dwbpfUODnWKE0BTVNi6POhjwwkSgckFkec2/8/wtMWk34qxuPMRpyIlyNTFv/+7qbV
         YGahJTN3xR30WnPRKIPsd1EjSq7+rVjBzqcbl38UIXliTSRP5XQOCr5TufuqZMu/aASk
         AcWeco9C7R5U6ynfEQYsSYrpGhfP9jLjzC1wfLiYg1PaZMDIkn8tZ8xJfQIqVCrWx8w0
         wqtDnUpqwHTme3eDQizGmD2+VmEtniBEGCh3YUHb9wRk3mJIgXJKxB7+rjQ0frQD/YTA
         1j1kNLzkCC0qUl/cCg+9kqujxUeX45chVmJazJB1VVVptsjkE+WnqGpIDheIaN9sR6zQ
         L76w==
MIME-Version: 1.0
X-Received: by 10.43.24.76 with SMTP id rd12mr35216183icb.84.1428621077408;
 Thu, 09 Apr 2015 16:11:17 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Thu, 9 Apr 2015 16:11:17 -0700 (PDT)
In-Reply-To: <CAKQ1sVNvQwLDymr1fFLpWnNi+Ys9m9NOYCZuBuv5YFyEx6fRPA@mail.gmail.com>
References: <20150314000932.9A9FDAC0163@hades.apache.org>
	<CAKQ1sVO=K1VHLU7zfz4PPv1Y58if9Li2moQK2wX6HzZkiNH9ug@mail.gmail.com>
	<CAKQ1sVNvQwLDymr1fFLpWnNi+Ys9m9NOYCZuBuv5YFyEx6fRPA@mail.gmail.com>
Date: Fri, 10 Apr 2015 01:11:17 +0200
Message-ID: <CAKQ1sVOpBrAAD78=7k2Ci3v4iJKOM20x_tGDfOv74GDP1uyo+g@mail.gmail.com>
Subject: Re: svn commit: r1666619 - /httpd/httpd/trunk/server/mpm/motorz/motorz.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/mixed; boundary=bcaec51dd02dd6e45f051352c3a2
X-Virus-Checked: Checked by ClamAV on apache.org

--bcaec51dd02dd6e45f051352c3a2
Content-Type: text/plain; charset=UTF-8

I think I'm done with twisting myself into knots for skiplist's
compare function :p

One reliable/efficient way to remove a given timer from the skiplist
(while obviously still inserting by expiration time, in order) is to
add a unique identifier in the struct timer itself.
Each time a timer is inserted, let's give it a sequential number, and
use the following compare function:

static int timer_comp(void *a, void *b)
{
    const motorz_timer_t * const t1 = a;
    const motorz_timer_t * const t2 = b;
    if (t1->expires < t2->expires) {
        return -1;
    }
    else if (t1->expires > t2->expires) {
        return +1;
    }
    else if (t1->num < t2->num) {
        return -1;
    }
    else if (t1->num > t2->num) {
        return +1;
    }
    else {
        return 0;
    }
}

By using a 64bit num, we can create 1M timers/sec during more than
500K years, which I guess should be enough :)

So, how about the attached patch?


On Tue, Apr 7, 2015 at 11:48 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> Maybe a reliable way to remove events would be to use the new
> functions from r1671957 (something like the example added to
> testskiplist.c in this commit)?
> This can't be backported to APR-1.5.x though, so if that's suitable we
> would have to copy the skiplist's code (back) to httpd (as discussed
> elsewhere)...
>
> On Mon, Mar 23, 2015 at 11:09 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> On Sat, Mar 14, 2015 at 1:09 AM,  <ylavic@apache.org> wrote:
>>> Author: ylavic
>>> Date: Sat Mar 14 00:09:32 2015
>>> New Revision: 1666619
>>>
>>> URL: http://svn.apache.org/r1666619
>>> Log:
>>> mpm_motorz: follow up to r1666482.
>>> We only need one compare function for add semantic with apr_skiplist_insert()
>>> and unique timers (pointers). It also works with apr_skiplist_remove() and
>>> apr_skiplist_find().
>>>
>>> Modified:
>>>     httpd/httpd/trunk/server/mpm/motorz/motorz.c
>>>
>>> Modified: httpd/httpd/trunk/server/mpm/motorz/motorz.c
>>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/server/mpm/motorz/motorz.c?rev=1666619&r1=1666618&r2=1666619&view=diff
>>> ==============================================================================
>>> --- httpd/httpd/trunk/server/mpm/motorz/motorz.c (original)
>>> +++ httpd/httpd/trunk/server/mpm/motorz/motorz.c Sat Mar 14 00:09:32 2015
>>> @@ -64,21 +64,18 @@ static motorz_core_t *motorz_core_get()
>>>      return g_motorz_core;
>>>  }
>>>
>>> -static int indexing_comp(void *a, void *b)
>>> +static int timer_comp(void *a, void *b)
>>>  {
>>> -    apr_time_t t1 = (apr_time_t) (((motorz_timer_t *) a)->expires);
>>> -    apr_time_t t2 = (apr_time_t) (((motorz_timer_t *) b)->expires);
>>> -    AP_DEBUG_ASSERT(t1);
>>> -    AP_DEBUG_ASSERT(t2);
>>> -    return ((t1 < t2) ? -1 : 1);
>>> -}
>>> -
>>> -static int indexing_compk(void *ac, void *b)
>>> -{
>>> -    apr_time_t *t1 = (apr_time_t *) ac;
>>> -    apr_time_t t2 = (apr_time_t) (((motorz_timer_t *) b)->expires);
>>> -    AP_DEBUG_ASSERT(t2);
>>> -    return ((*t1 < t2) ? -1 : 1);
>>> +    if (a != b) {
>>> +        apr_time_t t1 = (apr_time_t) (((motorz_timer_t *) a)->expires);
>>> +        apr_time_t t2 = (apr_time_t) (((motorz_timer_t *) b)->expires);
>>> +        AP_DEBUG_ASSERT(t1);
>>> +        AP_DEBUG_ASSERT(t2);
>>> +        return ((t1 < t2) ? -1 : 1);
>>> +    }
>>> +    else {
>>> +        return 0;
>>> +    }
>>>  }
>>
>> I expected this compare function to work with apr_skiplist_remove()
>> but actually it does not.
>> The goal was to match the given pointer only (and not any other
>> duplicate!), but by returning +1 when a != b && t1 == t2, we may skip
>> timers inserted first should any duplicate be inserted later with a
>> higher eight.
>>
>> For example, the below is the gdb output (dump_dipklist) after 10
>> duplicates have been inserted, where each 2-tuple is the address of
>> the node (0x...,) containing the address of the element (,000000...):
>>
>> (gdb) dump_skiplist skiplist
>> skiplist@0x69aba0: size=10: height=3
>> (0x69b008,000000000000) (0x6ac3c0,000000000000) (0x6ac628,000000000000)
>> (0x69b048,00000069b000)
>> (0x6ac338,00000069b088)
>> (0x6ac380,0000006ac378) (0x6ac400,0000006ac378)
>> (0x6ac448,0000006ac440)
>> (0x6ac490,0000006ac488) (0x6ac4d0,0000006ac488)
>> (0x6ac518,0000006ac510)
>> (0x6ac560,0000006ac558)
>> (0x6ac5a8,0000006ac5a0) (0x6ac5e8,0000006ac5a0) (0x6ac668,0000006ac5a0)
>> (0x6ac6b0,0000006ac6a8) (0x6ac6f0,0000006ac6a8)
>> (0x6ac738,0000006ac730) (0x6ac778,0000006ac730)
>>
>> If e.g. we now try to remove the element (0x6ac448,0000006ac440),
>> starting at the top (0x6ac628,000000000000), we will jump directly
>> next to (0x6ac668,0000006ac5a0), then down (no next) to
>> (0x6ac5e8,0000006ac5a0), then next to (0x6ac6f0,0000006ac6a8), then
>> next to (0x6ac778,0000006ac730), then down (no next) to
>> (0x6ac738,0000006ac730), and finally (no next, no down) to NULL.
>> All the elements (all duplicates) between the top and
>> (0x6ac668,0000006ac5a0) have been skipped, hence we had no chance to
>> find (0x6ac448,0000006ac440), because at least one element was
>> inserted later (exactly 4 here) with a higher eight.
>>
>> This is not an issue about insert vs add semantic, with both functions
>> we still need a "reliable" compare function to remove the exact
>> (requested) timer, and I see no way to build one...
>>
>> Thoughts?

--bcaec51dd02dd6e45f051352c3a2
Content-Type: text/x-diff; charset=US-ASCII; name="skiplist_timer_comp.patch"
Content-Disposition: attachment; filename="skiplist_timer_comp.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_i8as2gru0

SW5kZXg6IHNlcnZlci9tcG0vbW90b3J6L21vdG9yei5jCj09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIHNlcnZlci9t
cG0vbW90b3J6L21vdG9yei5jCShyZXZpc2lvbiAxNjcxOTYyKQorKysgc2VydmVyL21wbS9tb3Rv
cnovbW90b3J6LmMJKHdvcmtpbmcgY29weSkKQEAgLTY2LDEzICs2NiwyMCBAQCBzdGF0aWMgbW90
b3J6X2NvcmVfdCAqbW90b3J6X2NvcmVfZ2V0KCkKIAogc3RhdGljIGludCB0aW1lcl9jb21wKHZv
aWQgKmEsIHZvaWQgKmIpCiB7Ci0gICAgaWYgKGEgIT0gYikgewotICAgICAgICBhcHJfdGltZV90
IHQxID0gKGFwcl90aW1lX3QpICgoKG1vdG9yel90aW1lcl90ICopIGEpLT5leHBpcmVzKTsKLSAg
ICAgICAgYXByX3RpbWVfdCB0MiA9IChhcHJfdGltZV90KSAoKChtb3RvcnpfdGltZXJfdCAqKSBi
KS0+ZXhwaXJlcyk7Ci0gICAgICAgIEFQX0RFQlVHX0FTU0VSVCh0MSk7Ci0gICAgICAgIEFQX0RF
QlVHX0FTU0VSVCh0Mik7Ci0gICAgICAgIHJldHVybiAoKHQxIDwgdDIpID8gLTEgOiAxKTsKKyAg
ICBjb25zdCBtb3RvcnpfdGltZXJfdCAqIGNvbnN0IHQxID0gYTsKKyAgICBjb25zdCBtb3Rvcnpf
dGltZXJfdCAqIGNvbnN0IHQyID0gYjsKKyAgICBpZiAodDEtPmV4cGlyZXMgPCB0Mi0+ZXhwaXJl
cykgeworICAgICAgICByZXR1cm4gLTE7CiAgICAgfQorICAgIGVsc2UgaWYgKHQxLT5leHBpcmVz
ID4gdDItPmV4cGlyZXMpIHsKKyAgICAgICAgcmV0dXJuICsxOworICAgIH0KKyAgICBlbHNlIGlm
ICh0MS0+bnVtIDwgdDItPm51bSkgeworICAgICAgICByZXR1cm4gLTE7CisgICAgfQorICAgIGVs
c2UgaWYgKHQxLT5udW0gPiB0Mi0+bnVtKSB7CisgICAgICAgIHJldHVybiArMTsKKyAgICB9CiAg
ICAgZWxzZSB7CiAgICAgICAgIHJldHVybiAwOwogICAgIH0KQEAgLTMwMiw2ICszMDksNyBAQCBz
dGF0aWMgdm9pZCBtb3RvcnpfcmVnaXN0ZXJfdGltZXIobW90b3J6X2Nvbm5fdCAqcwogICAgIGVs
ZW0tPm16ID0gbXo7CiAKICAgICBhcHJfdGhyZWFkX211dGV4X2xvY2sobXotPm10eCk7CisgICAg
ZWxlbS0+bnVtID0gbXotPnRpbWVyX3NlcSsrOwogI2lmZGVmIEFQX0RFQlVHCiAgICAgYXBfYXNz
ZXJ0KGFwcl9za2lwbGlzdF9pbnNlcnQobXotPnRpbWVyX3JpbmcsIGVsZW0pKTsKICNlbHNlCkBA
IC0xNjE0LDYgKzE2MjIsNyBAQCBzdGF0aWMgaW50IG1vdG9yel9wcmVfY29uZmlnKGFwcl9wb29s
X3QgKnAsIGFwcl9wbwogICAgIGFwcl9za2lwbGlzdF9pbml0KCZtei0+dGltZXJfcmluZywgbXot
PnBvb2wpOwogICAgIGFwcl9za2lwbGlzdF9zZXRfY29tcGFyZShtei0+dGltZXJfcmluZywgdGlt
ZXJfY29tcCwgdGltZXJfY29tcCk7CiAgICAgYXByX3RocmVhZF9tdXRleF9jcmVhdGUoJm16LT5t
dHgsIDAsIG16LT5wb29sKTsKKyAgICBtei0+dGltZXJfc2VxID0gMDsKIAogICAgIGFwX2xpc3Rl
bl9wcmVfY29uZmlnKCk7CiAgICAgYXBfbnVtX2tpZHMgPSBERUZBVUxUX1NUQVJUX0RBRU1PTjsK
SW5kZXg6IHNlcnZlci9tcG0vbW90b3J6L21vdG9yei5oCj09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIHNlcnZlci9t
cG0vbW90b3J6L21vdG9yei5oCShyZXZpc2lvbiAxNjcxOTYyKQorKysgc2VydmVyL21wbS9tb3Rv
cnovbW90b3J6LmgJKHdvcmtpbmcgY29weSkKQEAgLTEyOSw4ICsxMjksOSBAQCBzdHJ1Y3QgbW90
b3J6X2NvcmVfdCB7CiAgICAgYXByX3Bvb2xfdCAqcG9vbDsKICAgICBhcHJfdGhyZWFkX211dGV4
X3QgKm10eDsKICAgICBhcHJfcG9sbHNldF90ICpwb2xsc2V0OworICAgIGFwcl90aHJlYWRfcG9v
bF90ICp3b3JrZXJzOwogICAgIGFwcl9za2lwbGlzdCAqdGltZXJfcmluZzsKLSAgICBhcHJfdGhy
ZWFkX3Bvb2xfdCAqd29ya2VyczsKKyAgICBhcHJfdWludDY0X3QgIHRpbWVyX3NlcTsKIH07CiAK
IHR5cGVkZWYgc3RydWN0IG1vdG9yel9jaGlsZF9idWNrZXQgbW90b3J6X2NoaWxkX2J1Y2tldDsK
QEAgLTE2OSw2ICsxNzAsNyBAQCBzdHJ1Y3QgbW90b3J6X3RpbWVyX3QKICAgICB2b2lkICpiYXRv
bjsKICAgICBhcHJfcG9vbF90ICpwb29sOwogICAgIG1vdG9yel9jb3JlX3QgKm16OworICAgIGFw
cl91aW50NjRfdCBudW07CiB9OwogCiB0eXBlZGVmIHN0cnVjdCBtb3RvcnpfY29ubl90IG1vdG9y
el9jb25uX3Q7Cg==
--bcaec51dd02dd6e45f051352c3a2--

From dev-return-82341-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 10 07:52:24 2015
Return-Path: <dev-return-82341-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DE50617361
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 10 Apr 2015 07:52:23 +0000 (UTC)
Received: (qmail 64969 invoked by uid 500); 10 Apr 2015 07:52:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64903 invoked by uid 500); 10 Apr 2015 07:52:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64893 invoked by uid 99); 10 Apr 2015 07:52:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Apr 2015 07:52:23 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of steve.m.hay@googlemail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-ig0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Apr 2015 07:52:19 +0000
Received: by iggg4 with SMTP id g4so86791224igg.0
        for <dev@httpd.apache.org>; Fri, 10 Apr 2015 00:51:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=BySsPfkIpkcxxo7K1Sw5nKeAyr3RnjoL1/nc0b7lp8g=;
        b=RW+qJgSqFpSbDNC6lJkCvAMXSqJMa9xUUfmTeNYyup6BTbjz6PPGbiAdd/wqgK9GF7
         AIgkIeUwCUJZ4Wy6dR8t2NWDcp3Lab4KHEOZba8CZ60LjXnyksOy2ms/v3/B/shNJFD/
         P4ysNbO5rVz8JefMrKKh2wZs1v6vGB11n6ycOrxrPuoKsabaXtmyFs3OkEWJaCdgyZLw
         2GkngkBFe/5DtxpfAfSj6YLg3Evjcd4ZwmNSQ9DH2uD2cHj7Sweim/d5VaPyEengMKpY
         4tDlpfKs6tVzpjkYqA/UVK+ME8ce4oVu1yDIV8Bk6WFF/IA5gnDVc9+gVCtikIhnmUq2
         95pA==
MIME-Version: 1.0
X-Received: by 10.107.12.93 with SMTP id w90mr526169ioi.10.1428652274029; Fri,
 10 Apr 2015 00:51:14 -0700 (PDT)
Received: by 10.36.106.67 with HTTP; Fri, 10 Apr 2015 00:51:13 -0700 (PDT)
Date: Fri, 10 Apr 2015 08:51:13 +0100
Message-ID: <CADED=K5kPANo9HguJsWqe_r9+KsvBFqJJD6pzooFCr2WUpaUTA@mail.gmail.com>
Subject: Problem with ap_strchr / AP_DEBUG
From: Steve Hay <steve.m.hay@googlemail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Can anyone assist with a mod_perl build problem involving ap_strchr
and -DAP_DEBUG (--enable-maintainer-mode)?

A problem has been reported that if httpd is built in maintainer mode
then the reference to ap_strchr in mod_perl sources is unresolved when
linking mod_perl. It doesn't happen without maintainer mode because
ap_strchr gets changed to strchr in that case (by httpd.h).

The implication is that ap_strchr is declared in httpd.h but
apparently not available from any shared libs?

I cannot reproduce the problem myself because I only have Windows
available to me, which doesn't have maintainer mode or any other
option for defining AP_DEBUG. I will try adding -DAP_DEBUG manually to
see what happens, but I don't think that server/util_debug.c gets
compiled on Windows...

So if anyone on *nix that's more familiar with these things could
explain what's wrong here then I would be very grateful. The
discussion thread with more details is here:

http://marc.info/?t=142519164700001&r=1&w=2

From dev-return-82342-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 10 12:10:38 2015
Return-Path: <dev-return-82342-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8510917FA6
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 10 Apr 2015 12:10:38 +0000 (UTC)
Received: (qmail 54077 invoked by uid 500); 10 Apr 2015 12:10:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54013 invoked by uid 500); 10 Apr 2015 12:10:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53998 invoked by uid 99); 10 Apr 2015 12:10:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Apr 2015 12:10:35 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [94.185.90.68] (HELO slim.berklix.org) (94.185.90.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Apr 2015 12:10:29 +0000
Received: from mart.js.berklix.net (pD9FBF8CF.dip0.t-ipconnect.de [217.251.248.207])
	(authenticated bits=128)
	by slim.berklix.org (8.14.5/8.14.5) with ESMTP id t3ACFVhY017389
	for <dev@httpd.apache.org>; Fri, 10 Apr 2015 14:15:31 +0200 (CEST)
	(envelope-from jhs@berklix.com)
Received: from fire.js.berklix.net (fire.js.berklix.net [192.168.91.41])
	by mart.js.berklix.net (8.14.3/8.14.3) with ESMTP id t3ACA00P057929
	for <dev@httpd.apache.org>; Fri, 10 Apr 2015 14:10:01 +0200 (CEST)
	(envelope-from jhs@berklix.com)
Received: from fire.js.berklix.net (localhost [127.0.0.1])
	by fire.js.berklix.net (8.14.7/8.14.7) with ESMTP id t3AC9mok033516
	for <dev@httpd.apache.org>; Fri, 10 Apr 2015 14:10:00 +0200 (CEST)
	(envelope-from jhs@berklix.com)
Message-Id: <201504101210.t3AC9mok033516@fire.js.berklix.net>
To: dev@httpd.apache.org
Subject: Re: how to get httpd to use a proxy, cascading to a 2nd proxy ?
From: "Julian H. Stacey" <jhs@berklix.com>
Organization: http://berklix.com BSD Unix Linux Consultants, Munich Germany
User-agent: EXMH on FreeBSD http://berklix.com/free/
X-URL: http://www.berklix.com
In-reply-to: Your message "Thu, 09 Apr 2015 08:10:57 -0400."
		<CALK=YjNsFH+TVpoW+ti7xQv9eMcAD71ZTzmEW-FPTpKt6Hu-NA@mail.gmail.com>
Date: Fri, 10 Apr 2015 14:09:48 +0200
X-Virus-Checked: Checked by ClamAV on apache.org

Eric Covener wrote:
> On Thu, Apr 9, 2015 at 4:45 AM, Julian H. Stacey <jhs@berklix.com> wrote:
> > Hi dev@httpd.apache.org,
> > I got no reply from users@ on 2nd April, with :
> >  Can httpd _use_ (not just _be_) a proxy, cascading to a 2nd proxy on a gate ?
> 
> 
> Responded on users@

Thanks Eric.

Cheers,
Julian
--
Julian Stacey, BSD Linux Unix C Sys Eng Consultant Munich http://berklix.com
	Indent previous with "> ".	Reply Below as a play script.
	Send plain text, Not quoted-printable, HTML, or base64.

From dev-return-82343-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 10 13:28:07 2015
Return-Path: <dev-return-82343-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 33DBE1765A
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 10 Apr 2015 13:28:07 +0000 (UTC)
Received: (qmail 92069 invoked by uid 500); 10 Apr 2015 13:28:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92009 invoked by uid 500); 10 Apr 2015 13:28:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91999 invoked by uid 99); 10 Apr 2015 13:28:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Apr 2015 13:28:06 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.33] (HELO resqmta-ch2-01v.sys.comcast.net) (69.252.207.33)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Apr 2015 13:27:58 +0000
Received: from resomta-ch2-12v.sys.comcast.net ([69.252.207.108])
	by resqmta-ch2-01v.sys.comcast.net with comcast
	id EDRX1q0052LrikM01DSHsN; Fri, 10 Apr 2015 13:26:17 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-12v.sys.comcast.net with comcast
	id EDSG1q00G1cCKD901DSH64; Fri, 10 Apr 2015 13:26:17 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: svn commit: r1666619 - /httpd/httpd/trunk/server/mpm/motorz/motorz.c
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVOpBrAAD78=7k2Ci3v4iJKOM20x_tGDfOv74GDP1uyo+g@mail.gmail.com>
Date: Fri, 10 Apr 2015 09:26:16 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <9B6E5168-77CC-42EB-AF65-E3DE2B7EB7B9@jaguNET.com>
References: <20150314000932.9A9FDAC0163@hades.apache.org> <CAKQ1sVO=K1VHLU7zfz4PPv1Y58if9Li2moQK2wX6HzZkiNH9ug@mail.gmail.com> <CAKQ1sVNvQwLDymr1fFLpWnNi+Ys9m9NOYCZuBuv5YFyEx6fRPA@mail.gmail.com> <CAKQ1sVOpBrAAD78=7k2Ci3v4iJKOM20x_tGDfOv74GDP1uyo+g@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1428672377;
	bh=c/qdOjROS2UWSW9oi1J7+Opwd+FgOFhyjUIm3kif3/Q=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=oK7NEskbY/I76qdC010P+/xx+UzZEGArdeYiyAbJLUcz8oVAe24A94ZmiDX/wf3je
	 CwdmpcL1yYQsPyjR7h1cJ7cUOb9GWdaR/hwyGY+UYZHJgfVhPecsbWJC6w4Xt/JAPo
	 7SsdbMkpnbU932z35KPQwntjbgOGGHS1CBAxm0KRccLFmzYbpWR/bIaXDswj/93efW
	 +fVTDwL/gJfo+pSNnILCVZkMz/NGd5rOr+sxvSryCdJqouTnroaSvtSnnN2P/S5gu3
	 Z/cUTe4QnGTurzmfUR+n1C6vRhnOGSqapL2mmHcXjvVo4J5l1QOyKkZSL+eU5XryLt
	 a5UTMCX57SLiA==
X-Virus-Checked: Checked by ClamAV on apache.org

Isn't the whole idea of skiplists that one does not need
such hacks for the impl to do "the right thing"?

> On Apr 9, 2015, at 7:11 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>=20
> I think I'm done with twisting myself into knots for skiplist's
> compare function :p
>=20
> One reliable/efficient way to remove a given timer from the skiplist
> (while obviously still inserting by expiration time, in order) is to
> add a unique identifier in the struct timer itself.
> Each time a timer is inserted, let's give it a sequential number, and
> use the following compare function:
>=20
> static int timer_comp(void *a, void *b)
> {
>    const motorz_timer_t * const t1 =3D a;
>    const motorz_timer_t * const t2 =3D b;
>    if (t1->expires < t2->expires) {
>        return -1;
>    }
>    else if (t1->expires > t2->expires) {
>        return +1;
>    }
>    else if (t1->num < t2->num) {
>        return -1;
>    }
>    else if (t1->num > t2->num) {
>        return +1;
>    }
>    else {
>        return 0;
>    }
> }
>=20
> By using a 64bit num, we can create 1M timers/sec during more than
> 500K years, which I guess should be enough :)
>=20
> So, how about the attached patch?
>=20
>=20
> On Tue, Apr 7, 2015 at 11:48 PM, Yann Ylavic <ylavic.dev@gmail.com> =
wrote:
>> Maybe a reliable way to remove events would be to use the new
>> functions from r1671957 (something like the example added to
>> testskiplist.c in this commit)?
>> This can't be backported to APR-1.5.x though, so if that's suitable =
we
>> would have to copy the skiplist's code (back) to httpd (as discussed
>> elsewhere)...
>>=20
>> On Mon, Mar 23, 2015 at 11:09 PM, Yann Ylavic <ylavic.dev@gmail.com> =
wrote:
>>> On Sat, Mar 14, 2015 at 1:09 AM,  <ylavic@apache.org> wrote:
>>>> Author: ylavic
>>>> Date: Sat Mar 14 00:09:32 2015
>>>> New Revision: 1666619
>>>>=20
>>>> URL: http://svn.apache.org/r1666619
>>>> Log:
>>>> mpm_motorz: follow up to r1666482.
>>>> We only need one compare function for add semantic with =
apr_skiplist_insert()
>>>> and unique timers (pointers). It also works with =
apr_skiplist_remove() and
>>>> apr_skiplist_find().
>>>>=20
>>>> Modified:
>>>>    httpd/httpd/trunk/server/mpm/motorz/motorz.c
>>>>=20
>>>> Modified: httpd/httpd/trunk/server/mpm/motorz/motorz.c
>>>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/server/mpm/motorz/motorz.c?=
rev=3D1666619&r1=3D1666618&r2=3D1666619&view=3Ddiff
>>>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>>>> --- httpd/httpd/trunk/server/mpm/motorz/motorz.c (original)
>>>> +++ httpd/httpd/trunk/server/mpm/motorz/motorz.c Sat Mar 14 =
00:09:32 2015
>>>> @@ -64,21 +64,18 @@ static motorz_core_t *motorz_core_get()
>>>>     return g_motorz_core;
>>>> }
>>>>=20
>>>> -static int indexing_comp(void *a, void *b)
>>>> +static int timer_comp(void *a, void *b)
>>>> {
>>>> -    apr_time_t t1 =3D (apr_time_t) (((motorz_timer_t *) =
a)->expires);
>>>> -    apr_time_t t2 =3D (apr_time_t) (((motorz_timer_t *) =
b)->expires);
>>>> -    AP_DEBUG_ASSERT(t1);
>>>> -    AP_DEBUG_ASSERT(t2);
>>>> -    return ((t1 < t2) ? -1 : 1);
>>>> -}
>>>> -
>>>> -static int indexing_compk(void *ac, void *b)
>>>> -{
>>>> -    apr_time_t *t1 =3D (apr_time_t *) ac;
>>>> -    apr_time_t t2 =3D (apr_time_t) (((motorz_timer_t *) =
b)->expires);
>>>> -    AP_DEBUG_ASSERT(t2);
>>>> -    return ((*t1 < t2) ? -1 : 1);
>>>> +    if (a !=3D b) {
>>>> +        apr_time_t t1 =3D (apr_time_t) (((motorz_timer_t *) =
a)->expires);
>>>> +        apr_time_t t2 =3D (apr_time_t) (((motorz_timer_t *) =
b)->expires);
>>>> +        AP_DEBUG_ASSERT(t1);
>>>> +        AP_DEBUG_ASSERT(t2);
>>>> +        return ((t1 < t2) ? -1 : 1);
>>>> +    }
>>>> +    else {
>>>> +        return 0;
>>>> +    }
>>>> }
>>>=20
>>> I expected this compare function to work with apr_skiplist_remove()
>>> but actually it does not.
>>> The goal was to match the given pointer only (and not any other
>>> duplicate!), but by returning +1 when a !=3D b && t1 =3D=3D t2, we =
may skip
>>> timers inserted first should any duplicate be inserted later with a
>>> higher eight.
>>>=20
>>> For example, the below is the gdb output (dump_dipklist) after 10
>>> duplicates have been inserted, where each 2-tuple is the address of
>>> the node (0x...,) containing the address of the element =
(,000000...):
>>>=20
>>> (gdb) dump_skiplist skiplist
>>> skiplist@0x69aba0: size=3D10: height=3D3
>>> (0x69b008,000000000000) (0x6ac3c0,000000000000) =
(0x6ac628,000000000000)
>>> (0x69b048,00000069b000)
>>> (0x6ac338,00000069b088)
>>> (0x6ac380,0000006ac378) (0x6ac400,0000006ac378)
>>> (0x6ac448,0000006ac440)
>>> (0x6ac490,0000006ac488) (0x6ac4d0,0000006ac488)
>>> (0x6ac518,0000006ac510)
>>> (0x6ac560,0000006ac558)
>>> (0x6ac5a8,0000006ac5a0) (0x6ac5e8,0000006ac5a0) =
(0x6ac668,0000006ac5a0)
>>> (0x6ac6b0,0000006ac6a8) (0x6ac6f0,0000006ac6a8)
>>> (0x6ac738,0000006ac730) (0x6ac778,0000006ac730)
>>>=20
>>> If e.g. we now try to remove the element (0x6ac448,0000006ac440),
>>> starting at the top (0x6ac628,000000000000), we will jump directly
>>> next to (0x6ac668,0000006ac5a0), then down (no next) to
>>> (0x6ac5e8,0000006ac5a0), then next to (0x6ac6f0,0000006ac6a8), then
>>> next to (0x6ac778,0000006ac730), then down (no next) to
>>> (0x6ac738,0000006ac730), and finally (no next, no down) to NULL.
>>> All the elements (all duplicates) between the top and
>>> (0x6ac668,0000006ac5a0) have been skipped, hence we had no chance to
>>> find (0x6ac448,0000006ac440), because at least one element was
>>> inserted later (exactly 4 here) with a higher eight.
>>>=20
>>> This is not an issue about insert vs add semantic, with both =
functions
>>> we still need a "reliable" compare function to remove the exact
>>> (requested) timer, and I see no way to build one...
>>>=20
>>> Thoughts?
> <skiplist_timer_comp.patch>


From dev-return-82344-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 10 19:27:32 2015
Return-Path: <dev-return-82344-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 39AEB17AF5
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 10 Apr 2015 19:27:32 +0000 (UTC)
Received: (qmail 61052 invoked by uid 500); 10 Apr 2015 19:27:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 60984 invoked by uid 500); 10 Apr 2015 19:27:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 60973 invoked by uid 99); 10 Apr 2015 19:27:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Apr 2015 19:27:22 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mamfelt@gmail.com designates 209.85.217.169 as permitted sender)
Received: from [209.85.217.169] (HELO mail-lb0-f169.google.com) (209.85.217.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Apr 2015 19:26:56 +0000
Received: by lbbzk7 with SMTP id zk7so20888889lbb.0
        for <dev@httpd.apache.org>; Fri, 10 Apr 2015 12:26:55 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=8iBo2AovMQKZQ7PXurEZWEty4nyCYWcZvOto+Z5LxxE=;
        b=k+l4W4clbOV5NeBoa75Sm212VV1Vk15McfyINB5t4+RzymZJKiPlixatWHuKpW73qp
         tlE+c6c4VHBi7wUP87FBYVgVFmXjftSPx5HOakRMkV5qQHQeqySgiPDOEY/6tWKQ3juJ
         oSIfjJt5iHDPAdEiZuK1flzJBorqaqxQifHi4RaiLY7DNJSnOJ+ABudK1Mfl+XL3q6zr
         VFoYEto/kPCIQaGG71xhe80kauTVVUT5DRmX7I357rvkpuet6qxj8l0voh8UL1c7FgyW
         CaY9DNTCKbQ9S1aTOjmX0HN3jV0rQBYrHKqMlK9v+qedFSO0U6pHlxEVOKwHinKkXHgZ
         Jgvg==
MIME-Version: 1.0
X-Received: by 10.112.188.194 with SMTP id gc2mr2762841lbc.25.1428694014927;
 Fri, 10 Apr 2015 12:26:54 -0700 (PDT)
Received: by 10.112.156.4 with HTTP; Fri, 10 Apr 2015 12:26:54 -0700 (PDT)
Date: Fri, 10 Apr 2015 14:26:54 -0500
Message-ID: <CAN9c_NRi0OF0WcXqtkPLt0N8Foibb-XghN84z55x4BguuafF4g@mail.gmail.com>
Subject: FYI - version checking against libressl - FYI (not yet a bug)
From: Michael Felt <mamfelt@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a11c37ac040aa7a051363bf4b
X-Virus-Checked: Checked by ClamAV on apache.org

--001a11c37ac040aa7a051363bf4b
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

I am experimenting with libressl - and just thought I would mention an
error message I am getting with regard to openssl compatibility

And if this has already been reported - please ignore - and accept my
apologies. I have not scanned the maillist for a previous report.

=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=
=B1=C2=B1=C2=B1

configure: WARNING: Your APR does not include SSL/EVP support. To enable
it: configure --with-crypto
configure: WARNING: OpenSSL libraries are unusable

Now there are differences between OpenSSL and LibreSSL - so you may need to
be thinking about different tests for testing OpenSSL API suitability.

=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=
=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1
>From config.log - some additional feedback.

configure:25683: checking for OpenSSL version >=3D 0.9.8a
configure:25702: xlc -c -I/opt/include -I/opt/buildaix/include -O2
-I/opt/include -L/opt/lib -qHALT=3DE -I/op
t/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS -D_LARGEFILE64_SOURCE
conftest.c >&5
configure:25702: $? =3D 0
configure:25703: result: OK
...

configure:25772: checking for openssl/engine.h
configure:25772: result: yes
configure:25785: checking for SSLeay_version
configure:25785: xlc -o conftest -I/opt/include -I/opt/buildaix/include -O2
-I/opt/include -L/opt/lib -qHAL
T=3DE -I/opt/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS
-D_LARGEFILE64_SOURCE  -Wl,-brtl conftest.c -lssl -l
crypto  -lpthread >&5
ld: 0711-317 ERROR: Undefined symbol: .SSLeay_version
....
| }
configure:25785: result: no
configure:25785: checking for SSL_CTX_new
configure:25785: xlc -o conftest -I/opt/include -I/opt/buildaix/include -O2
-I/opt/include -L/opt/lib -qHAL
T=3DE -I/opt/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS
-D_LARGEFILE64_SOURCE  -Wl,-brtl conftest.c -lssl -l
crypto  -lpthread >&5
ld: 0711-317 ERROR: Undefined symbol: .SSL_CTX_new
...
| }
configure:25785: result: no
configure:25799: checking for ENGINE_init
configure:25799: xlc -o conftest -I/opt/include -I/opt/buildaix/include -O2
-I/opt/include -L/opt/lib -qHAL
T=3DE -I/opt/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS
-D_LARGEFILE64_SOURCE  -Wl,-brtl conftest.c -lssl -l
crypto  -lpthread >&5
ld: 0711-317 ERROR: Undefined symbol: .ENGINE_init
...
| }
configure:25799: result: no
configure:25799: checking for ENGINE_load_builtin_engines
configure:25799: xlc -o conftest -I/opt/include -I/opt/buildaix/include -O2
-I/opt/include -L/opt/lib -qHAL
T=3DE -I/opt/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS
-D_LARGEFILE64_SOURCE  -Wl,-brtl conftest.c -lssl -l
crypto  -lpthread >&5
ld: 0711-317 ERROR: Undefined symbol: .ENGINE_load_builtin_engines

...

| }
configure:25799: result: no
configure:25809: WARNING: OpenSSL libraries are unusable
configure:25822: result: yes

--001a11c37ac040aa7a051363bf4b
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div><div>I am experimenting with libressl - and just thou=
ght I would mention an error message I am getting with regard to openssl co=
mpatibility<br><br></div><div>And if this has already been reported - pleas=
e ignore - and accept my apologies. I have not scanned the maillist for a p=
revious report.<br><br>=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=
=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1<br></div><div><br>configure: WARNIN=
G: Your APR does not include SSL/EVP support. To enable it: configure --wit=
h-crypto<br>configure: WARNING: OpenSSL libraries are unusable<br><br></div=
>Now there are differences between OpenSSL and LibreSSL - so you may need t=
o be thinking about different tests for testing OpenSSL API suitability.<br=
><br>=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=
=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1<br></div>From config.log - some add=
itional feedback.<br><br>configure:25683: checking for OpenSSL version &gt;=
=3D 0.9.8a<br>configure:25702: xlc -c -I/opt/include -I/opt/buildaix/includ=
e -O2 -I/opt/include -L/opt/lib -qHALT=3DE -I/op<br>t/include -U__STR__ -D_=
THREAD_SAFE -D_USE_IRS -D_LARGEFILE64_SOURCE conftest.c &gt;&amp;5<br>confi=
gure:25702: $? =3D 0<br>configure:25703: result: OK<br>...<br><br><div><div=
>configure:25772: checking for openssl/engine.h<br>configure:25772: result:=
 yes<br>configure:25785: checking for SSLeay_version<br>configure:25785: xl=
c -o conftest -I/opt/include -I/opt/buildaix/include -O2 -I/opt/include -L/=
opt/lib -qHAL<br>T=3DE -I/opt/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS -=
D_LARGEFILE64_SOURCE=C2=A0 -Wl,-brtl conftest.c -lssl -l<br>crypto=C2=A0 -l=
pthread &gt;&amp;5<br>ld: 0711-317 ERROR: Undefined symbol: .SSLeay_version=
<br>....<br>| }<br>configure:25785: result: no<br>configure:25785: checking=
 for SSL_CTX_new<br>configure:25785: xlc -o conftest -I/opt/include -I/opt/=
buildaix/include -O2 -I/opt/include -L/opt/lib -qHAL<br>T=3DE -I/opt/includ=
e -U__STR__ -D_THREAD_SAFE -D_USE_IRS -D_LARGEFILE64_SOURCE=C2=A0 -Wl,-brtl=
 conftest.c -lssl -l<br>crypto=C2=A0 -lpthread &gt;&amp;5<br>ld: 0711-317 E=
RROR: Undefined symbol: .SSL_CTX_new<br>...<br>| }<br>configure:25785: resu=
lt: no<br>configure:25799: checking for ENGINE_init<br>configure:25799: xlc=
 -o conftest -I/opt/include -I/opt/buildaix/include -O2 -I/opt/include -L/o=
pt/lib -qHAL<br>T=3DE -I/opt/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS -D=
_LARGEFILE64_SOURCE=C2=A0 -Wl,-brtl conftest.c -lssl -l<br>crypto=C2=A0 -lp=
thread &gt;&amp;5<br>ld: 0711-317 ERROR: Undefined symbol: .ENGINE_init<br>=
...<br>| }<br>configure:25799: result: no<br>configure:25799: checking for =
ENGINE_load_builtin_engines<br>configure:25799: xlc -o conftest -I/opt/incl=
ude -I/opt/buildaix/include -O2 -I/opt/include -L/opt/lib -qHAL<br>T=3DE -I=
/opt/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS -D_LARGEFILE64_SOURCE=C2=
=A0 -Wl,-brtl conftest.c -lssl -l<br>crypto=C2=A0 -lpthread &gt;&amp;5<br>l=
d: 0711-317 ERROR: Undefined symbol: .ENGINE_load_builtin_engines<br><br>..=
.<br><br>| }<br>configure:25799: result: no<br>configure:25809: WARNING: Op=
enSSL libraries are unusable<br>configure:25822: result: yes<br><br><br></d=
iv></div></div>

--001a11c37ac040aa7a051363bf4b--

From dev-return-82345-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 10 19:41:47 2015
Return-Path: <dev-return-82345-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A660517B68
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 10 Apr 2015 19:41:47 +0000 (UTC)
Received: (qmail 99384 invoked by uid 500); 10 Apr 2015 19:41:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 99317 invoked by uid 500); 10 Apr 2015 19:41:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 99307 invoked by uid 99); 10 Apr 2015 19:41:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Apr 2015 19:41:47 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of apache-lists@riggs.me designates 209.85.216.42 as permitted sender)
Received: from [209.85.216.42] (HELO mail-vn0-f42.google.com) (209.85.216.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Apr 2015 19:41:20 +0000
Received: by vnbg62 with SMTP id g62so8017650vnb.6
        for <dev@httpd.apache.org>; Fri, 10 Apr 2015 12:40:32 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:from:content-type:content-transfer-encoding
         :subject:message-id:date:to:mime-version;
        bh=1rgGTI2Jg479j98eJutnYV350cLui0h5DNGGZlKwjl4=;
        b=SUUhCkuHmB6Vq19/tv/Qp6twaSJyO+DcL9bpTcVVRn+8VmWi5LxWJWUFYGR4m9Ox2c
         vFhpXngj7HMHGIW1JLRB/G57NIc+2UwvzSih9dFisUBiVzFSM1HaeO34rmZaT5zbAp36
         h2tydxshs+8wZe2qVXLQBrAzkVmK5BjXH+FWy+ikBeS5C99G/ZBSDu+rHpfdblZvcwxi
         JEPajIHYOZsFMetGop6QCxiOKRaeoocq9L2M6hRyHvfRLK69INdW8h1AzAxXxUzCWoqF
         sO1v/FjMcwXS0PUB8v0EzvVXmFrhmtSlGEHWoFUoEbIqk90yJloln03QEAdWHULW4b05
         CNyQ==
X-Gm-Message-State: ALoCoQmivo988bKVH8SWLpMqPIBLBlv8O4Zw1zdZCKKVdLUTxRpHO6dAtHuN4GymJyOVvJgKMEI3
X-Received: by 10.170.62.212 with SMTP id e203mr3155493yke.89.1428694832749;
        Fri, 10 Apr 2015 12:40:32 -0700 (PDT)
Received: from [192.168.2.232] ([50.252.68.50])
        by mx.google.com with ESMTPSA id 21sm2488315yhf.24.2015.04.10.12.40.31
        for <dev@httpd.apache.org>
        (version=TLSv1 cipher=ECDHE-RSA-RC4-SHA bits=128/128);
        Fri, 10 Apr 2015 12:40:31 -0700 (PDT)
From: Jim Riggs <apache-lists@riggs.me>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: ApacheCon Arrival
Message-Id: <D105634C-CAAC-4B11-9638-AA2D078771D5@riggs.me>
Date: Fri, 10 Apr 2015 14:40:30 -0500
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org

I just updated <https://wiki.apache.org/httpd/Face2Face> for Austin. If =
you are getting into town on Sunday and are interested in grabbing some =
dinner, let me know or update the page. Some of us got together last =
year on ApacheCon Eve and had a nice time. Also update the page if there =
are other httpd-related meetings/hangouts/hacking sessions you would =
like to get going.

See you all -- OK, several of you at least -- next week!


From dev-return-82346-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 10 20:25:50 2015
Return-Path: <dev-return-82346-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B8EA417D97
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 10 Apr 2015 20:25:50 +0000 (UTC)
Received: (qmail 4014 invoked by uid 500); 10 Apr 2015 20:25:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3928 invoked by uid 500); 10 Apr 2015 20:25:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3918 invoked by uid 99); 10 Apr 2015 20:25:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Apr 2015 20:25:50 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.181 as permitted sender)
Received: from [209.85.223.181] (HELO mail-ie0-f181.google.com) (209.85.223.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Apr 2015 20:25:45 +0000
Received: by iejt8 with SMTP id t8so26507068iej.2
        for <dev@httpd.apache.org>; Fri, 10 Apr 2015 13:24:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=uASA70bNMBUw7yPoGtBRWlZItrj0XuR9iTENfPCYc04=;
        b=NHF4P0gPUezg/jtA0AdB6ZiEh7Q78k1+PS8whibMszp0ZJJGL/k51h06KyMXJGAkpG
         ZtyS9NBYH2TsHGYGy5NGEvaHf/MPtUVOdw9R5L+ncDJ+AnNaCynAhfvH906VLA1YLpGO
         vzHf+NYydjaoqRusF4ssODDaGjd/ZHOslJ28mVZXFoyX0WLDZm/cn6T3H64TFAuP3nNh
         +Y+O8RYttOgM3eJ8yqX0Z/DaAO+mbCVCKTKQtpE9wR1GGxDAQ3pkye0cN5hjntW3MPCi
         xFCZ7nfEQMuW1tQCluNihO+n8mhfhxdzrjJHeg0Yi1MCMV/TAN5ZKoZKJkpw6c3nNBlt
         eW6Q==
MIME-Version: 1.0
X-Received: by 10.50.43.136 with SMTP id w8mr939722igl.26.1428697480458; Fri,
 10 Apr 2015 13:24:40 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Fri, 10 Apr 2015 13:24:40 -0700 (PDT)
In-Reply-To: <9B6E5168-77CC-42EB-AF65-E3DE2B7EB7B9@jaguNET.com>
References: <20150314000932.9A9FDAC0163@hades.apache.org>
	<CAKQ1sVO=K1VHLU7zfz4PPv1Y58if9Li2moQK2wX6HzZkiNH9ug@mail.gmail.com>
	<CAKQ1sVNvQwLDymr1fFLpWnNi+Ys9m9NOYCZuBuv5YFyEx6fRPA@mail.gmail.com>
	<CAKQ1sVOpBrAAD78=7k2Ci3v4iJKOM20x_tGDfOv74GDP1uyo+g@mail.gmail.com>
	<9B6E5168-77CC-42EB-AF65-E3DE2B7EB7B9@jaguNET.com>
Date: Fri, 10 Apr 2015 22:24:40 +0200
Message-ID: <CAKQ1sVOqUhN0Da73EYPNomSD-Toi-BopCXy40ZHPig_4opOUfQ@mail.gmail.com>
Subject: Re: svn commit: r1666619 - /httpd/httpd/trunk/server/mpm/motorz/motorz.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Probably, but when we want to remove a timer associated to a
connection (on cleanup), we can't simply remove any duplicate instead
(that's a lifetime issue, we can't leave an about to be freed timer in
the skiplist).

Since, with APR's skiplists, it is the responsability of the compare
function to tell how to order elements, what is a duplicate, and
eventually what is an exact element one is looking for (and motorz
needs this, unlike event), I guess we have to hack all that there...

On Fri, Apr 10, 2015 at 3:26 PM, Jim Jagielski <jim@jagunet.com> wrote:
> Isn't the whole idea of skiplists that one does not need
> such hacks for the impl to do "the right thing"?
>
>> On Apr 9, 2015, at 7:11 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>> I think I'm done with twisting myself into knots for skiplist's
>> compare function :p
>>
>> One reliable/efficient way to remove a given timer from the skiplist
>> (while obviously still inserting by expiration time, in order) is to
>> add a unique identifier in the struct timer itself.
>> Each time a timer is inserted, let's give it a sequential number, and
>> use the following compare function:
>>
>> static int timer_comp(void *a, void *b)
>> {
>>    const motorz_timer_t * const t1 = a;
>>    const motorz_timer_t * const t2 = b;
>>    if (t1->expires < t2->expires) {
>>        return -1;
>>    }
>>    else if (t1->expires > t2->expires) {
>>        return +1;
>>    }
>>    else if (t1->num < t2->num) {
>>        return -1;
>>    }
>>    else if (t1->num > t2->num) {
>>        return +1;
>>    }
>>    else {
>>        return 0;
>>    }
>> }
>>
>> By using a 64bit num, we can create 1M timers/sec during more than
>> 500K years, which I guess should be enough :)
>>
>> So, how about the attached patch?
>>
>>
>> On Tue, Apr 7, 2015 at 11:48 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>> Maybe a reliable way to remove events would be to use the new
>>> functions from r1671957 (something like the example added to
>>> testskiplist.c in this commit)?
>>> This can't be backported to APR-1.5.x though, so if that's suitable we
>>> would have to copy the skiplist's code (back) to httpd (as discussed
>>> elsewhere)...
>>>
>>> On Mon, Mar 23, 2015 at 11:09 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>>> On Sat, Mar 14, 2015 at 1:09 AM,  <ylavic@apache.org> wrote:
>>>>> Author: ylavic
>>>>> Date: Sat Mar 14 00:09:32 2015
>>>>> New Revision: 1666619
>>>>>
>>>>> URL: http://svn.apache.org/r1666619
>>>>> Log:
>>>>> mpm_motorz: follow up to r1666482.
>>>>> We only need one compare function for add semantic with apr_skiplist_insert()
>>>>> and unique timers (pointers). It also works with apr_skiplist_remove() and
>>>>> apr_skiplist_find().
>>>>>
>>>>> Modified:
>>>>>    httpd/httpd/trunk/server/mpm/motorz/motorz.c
>>>>>
>>>>> Modified: httpd/httpd/trunk/server/mpm/motorz/motorz.c
>>>>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/server/mpm/motorz/motorz.c?rev=1666619&r1=1666618&r2=1666619&view=diff
>>>>> ==============================================================================
>>>>> --- httpd/httpd/trunk/server/mpm/motorz/motorz.c (original)
>>>>> +++ httpd/httpd/trunk/server/mpm/motorz/motorz.c Sat Mar 14 00:09:32 2015
>>>>> @@ -64,21 +64,18 @@ static motorz_core_t *motorz_core_get()
>>>>>     return g_motorz_core;
>>>>> }
>>>>>
>>>>> -static int indexing_comp(void *a, void *b)
>>>>> +static int timer_comp(void *a, void *b)
>>>>> {
>>>>> -    apr_time_t t1 = (apr_time_t) (((motorz_timer_t *) a)->expires);
>>>>> -    apr_time_t t2 = (apr_time_t) (((motorz_timer_t *) b)->expires);
>>>>> -    AP_DEBUG_ASSERT(t1);
>>>>> -    AP_DEBUG_ASSERT(t2);
>>>>> -    return ((t1 < t2) ? -1 : 1);
>>>>> -}
>>>>> -
>>>>> -static int indexing_compk(void *ac, void *b)
>>>>> -{
>>>>> -    apr_time_t *t1 = (apr_time_t *) ac;
>>>>> -    apr_time_t t2 = (apr_time_t) (((motorz_timer_t *) b)->expires);
>>>>> -    AP_DEBUG_ASSERT(t2);
>>>>> -    return ((*t1 < t2) ? -1 : 1);
>>>>> +    if (a != b) {
>>>>> +        apr_time_t t1 = (apr_time_t) (((motorz_timer_t *) a)->expires);
>>>>> +        apr_time_t t2 = (apr_time_t) (((motorz_timer_t *) b)->expires);
>>>>> +        AP_DEBUG_ASSERT(t1);
>>>>> +        AP_DEBUG_ASSERT(t2);
>>>>> +        return ((t1 < t2) ? -1 : 1);
>>>>> +    }
>>>>> +    else {
>>>>> +        return 0;
>>>>> +    }
>>>>> }
>>>>
>>>> I expected this compare function to work with apr_skiplist_remove()
>>>> but actually it does not.
>>>> The goal was to match the given pointer only (and not any other
>>>> duplicate!), but by returning +1 when a != b && t1 == t2, we may skip
>>>> timers inserted first should any duplicate be inserted later with a
>>>> higher eight.
>>>>
>>>> For example, the below is the gdb output (dump_dipklist) after 10
>>>> duplicates have been inserted, where each 2-tuple is the address of
>>>> the node (0x...,) containing the address of the element (,000000...):
>>>>
>>>> (gdb) dump_skiplist skiplist
>>>> skiplist@0x69aba0: size=10: height=3
>>>> (0x69b008,000000000000) (0x6ac3c0,000000000000) (0x6ac628,000000000000)
>>>> (0x69b048,00000069b000)
>>>> (0x6ac338,00000069b088)
>>>> (0x6ac380,0000006ac378) (0x6ac400,0000006ac378)
>>>> (0x6ac448,0000006ac440)
>>>> (0x6ac490,0000006ac488) (0x6ac4d0,0000006ac488)
>>>> (0x6ac518,0000006ac510)
>>>> (0x6ac560,0000006ac558)
>>>> (0x6ac5a8,0000006ac5a0) (0x6ac5e8,0000006ac5a0) (0x6ac668,0000006ac5a0)
>>>> (0x6ac6b0,0000006ac6a8) (0x6ac6f0,0000006ac6a8)
>>>> (0x6ac738,0000006ac730) (0x6ac778,0000006ac730)
>>>>
>>>> If e.g. we now try to remove the element (0x6ac448,0000006ac440),
>>>> starting at the top (0x6ac628,000000000000), we will jump directly
>>>> next to (0x6ac668,0000006ac5a0), then down (no next) to
>>>> (0x6ac5e8,0000006ac5a0), then next to (0x6ac6f0,0000006ac6a8), then
>>>> next to (0x6ac778,0000006ac730), then down (no next) to
>>>> (0x6ac738,0000006ac730), and finally (no next, no down) to NULL.
>>>> All the elements (all duplicates) between the top and
>>>> (0x6ac668,0000006ac5a0) have been skipped, hence we had no chance to
>>>> find (0x6ac448,0000006ac440), because at least one element was
>>>> inserted later (exactly 4 here) with a higher eight.
>>>>
>>>> This is not an issue about insert vs add semantic, with both functions
>>>> we still need a "reliable" compare function to remove the exact
>>>> (requested) timer, and I see no way to build one...
>>>>
>>>> Thoughts?
>> <skiplist_timer_comp.patch>
>

From dev-return-82347-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Apr 11 17:11:57 2015
Return-Path: <dev-return-82347-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EECBB173DD
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 11 Apr 2015 17:11:56 +0000 (UTC)
Received: (qmail 25702 invoked by uid 500); 11 Apr 2015 17:11:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 25625 invoked by uid 500); 11 Apr 2015 17:11:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 25615 invoked by uid 99); 11 Apr 2015 17:11:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Apr 2015 17:11:55 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of trawick@gmail.com designates 209.85.220.178 as permitted sender)
Received: from [209.85.220.178] (HELO mail-qk0-f178.google.com) (209.85.220.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Apr 2015 17:11:30 +0000
Received: by qkhg7 with SMTP id g7so87471284qkh.2
        for <dev@httpd.apache.org>; Sat, 11 Apr 2015 10:11:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        bh=TNv1DRzczMQICpasFQJYFX5w44Sd9ZM6FY0M4veYQq4=;
        b=z9fRo/0jDP28phlVyAJpB9NaUH+GhKQmZe+ivS1iFmAuhvPN+dcgyiRtveLPAeRQF3
         Ra7BmPNWemuTJa5IOfK4zUWv76LxK6D654/SnxgUC0WRYIr+S2YHD14zhPOgIa7qgr3k
         CQq3XW72fkZMoacN2xPvQpNptWCmuFAE9ONzpZal6RuDfrJJx++qO1tyc2iiah6lGG1m
         TURh/g6rG0rwE+dP8xWjaJJGmUphJB5G76qtFzdO7YS/HSOmsq90sD49eDAHzFatyqvw
         fkUK/AipcGxdl6B8s7al1jYxgR2ABlBdrdakiQoOFIx2Igo9Dh498NkbYlGpmJACil+v
         ZSQQ==
X-Received: by 10.229.66.198 with SMTP id o6mr8713193qci.31.1428772288129;
        Sat, 11 Apr 2015 10:11:28 -0700 (PDT)
Received: from ?IPv6:2606:a000:b541:6700:d899:657b:1cbb:1992? ([2606:a000:b541:6700:d899:657b:1cbb:1992])
        by mx.google.com with ESMTPSA id h6sm1786012qgh.32.2015.04.11.10.11.26
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Sat, 11 Apr 2015 10:11:27 -0700 (PDT)
Message-ID: <552955BD.7020800@gmail.com>
Date: Sat, 11 Apr 2015 13:11:25 -0400
From: Jeff Trawick <trawick@gmail.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1672890 - /httpd/httpd/trunk/docs/manual/mod/mod_proxy_scgi.xml
References: <20150411163834.AB719AC009C@hades.apache.org>
In-Reply-To: <20150411163834.AB719AC009C@hades.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 04/11/2015 12:38 PM, lgentis@apache.org wrote:
> Author: lgentis
> Date: Sat Apr 11 16:38:34 2015
> New Revision: 1672890
>
> URL: http://svn.apache.org/r1672890
> Log:
> Typo.

Thanks!
>
> Modified:
>      httpd/httpd/trunk/docs/manual/mod/mod_proxy_scgi.xml
>
> Modified: httpd/httpd/trunk/docs/manual/mod/mod_proxy_scgi.xml
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/mod_proxy_scgi.xml?rev=1672890&r1=1672889&r2=1672890&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/docs/manual/mod/mod_proxy_scgi.xml (original)
> +++ httpd/httpd/trunk/docs/manual/mod/mod_proxy_scgi.xml Sat Apr 11 16:38:34 2015
> @@ -89,8 +89,8 @@ ProxyPass /scgi-bin/ balancer://someclus
>           and <var>Script-URI</var> and be compliant with RFC 3875 section 3.3.
>           If instead you need <module>mod_proxy_scgi</module> to generate
>           a "best guess" for <var>PATH_INFO</var>, set this env-var.  The
> -        variable must be set before <directive mod="env">SetEnv</directive>
> -        is effective.  <directive mod="setenv">SetEnvIf</directive> can be
> +        variable must be set before <directive module="env">SetEnv</directive>
> +        is effective.  <directive module="setenv">SetEnvIf</directive> can be
>           used instead: <code>SetEnvIf Request_URI . proxy-scgi-pathinfo</code>
>           </dd>
>       </dl>
>
>


From dev-return-82348-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Apr 12 07:15:14 2015
Return-Path: <dev-return-82348-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A279E17630
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 12 Apr 2015 07:15:14 +0000 (UTC)
Received: (qmail 78417 invoked by uid 500); 12 Apr 2015 07:15:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 78364 invoked by uid 500); 12 Apr 2015 07:15:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 78355 invoked by uid 99); 12 Apr 2015 07:15:14 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Apr 2015 07:15:14 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id C31531A0053
	for <dev@httpd.apache.org>; Sun, 12 Apr 2015 07:15:13 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id 4A542603EC; Sun, 12 Apr 2015 07:15:13 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2015/04/12]
Message-Id: <20150412071513.4A542603EC@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 12 Apr 2015 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 7483|Ass|Enh|2002-03-26|Add FileAction directive to assign a cgi interpret|
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|12680|New|Enh|2002-09-16|Digest authentication with integrity protection   |
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|18497|New|Min|2003-03-30|configure --help gives wrong default for sysconfdi|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21253|New|Nor|2003-07-01|Mime magic doesn't continue if type is specifed fo|
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22005|Ver|Nor|2003-07-30|Win32: "Help I'm Stuck!" menu item leads to dead e|
|22138|Inf|Cri|2003-08-05|Webdav is not preccessing special chars right.    |
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Nor|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42001|New|Cri|2007-03-30|LINUX : Could not set LDAP_OPT_X_TLS to LDAP_OPT_X|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Opn|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|httpd fails to start if log directory does not exi|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43532|Inf|Cri|2007-10-02|Error while compiling Apache 2.2.3 on HPUX        |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44736|New|Cri|2008-04-01|mod_proxy_balancer looses it's mind on reloads.   |
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|New|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45926|Inf|Nor|2008-10-01|Unable to start apache 2.2.9                      |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46054|New|Nor|2008-10-21|Running httpd returns the error "bad user name nob|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46421|New|Maj|2008-12-19|module mod_authz_dbd - doesn't work when multiple |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Nor|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46724|Inf|Cri|2009-02-17|WinXP SP3 - Apache crashes on startup in libapr-1.|
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47241|New|Min|2009-05-22|Error in rewriting with character ':'             |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47289|New|Nor|2009-05-30|Can't build with dynamic libraries on Mac OS 10.4 |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|Inf|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48309|New|Maj|2009-11-30|libapreq2-2.12: "make test" fails at request.t and|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50740|New|Enh|2011-02-09|Enable OCSP Stapling by default                   |
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|New|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51336|New|Enh|2011-06-07|need a topic for serving pre-compressed content   |
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51412|New|Nor|2011-06-21|Nasty warning in ftp_cmd_pbsz() -- dangerous, wher|
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels|
|51747|New|Nor|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51842|New|Enh|2011-09-18|Suggesting a new action for the Header directive: |
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51959|Ver|Nor|2011-10-05|Broken link to "Mastering Regular Expressions, by |
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52210|Opn|Enh|2011-11-18|Add TLS Next Protocol Negotiation (NPN) support to|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Enh|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52523|New|Nor|2012-01-25|Headers from mod_expires are wrongly set for redir|
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52756|Inf|Trv|2012-02-24|proxy_html_module LoadModule line not created in h|
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52820|New|Min|2012-03-04|SSLProtocol/SSLProxyProtocol doesn't iterate prope|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52831|New|Nor|2012-03-05|mod_rewrite redirect broken with IPv6 literal addr|
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52855|Opn|Maj|2012-03-08|mod_ftp does not build against 2.4.x              |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53121|New|Nor|2012-04-22|Confusing documentation, gzip and deflate         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53153|New|Nor|2012-04-26|Rewrite documentation unclear or wrong about what |
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53349|New|Nor|2012-06-01|CONTENT_TYPE erroneously seen as empty string for |
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53530|New|Nor|2012-07-10|<Directory> docs don't explain when to use quotes |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54364|New|Nor|2012-12-31|Add ref to mod_fcgid docs                         |
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54587|Opn|Nor|2013-02-19|LDAPConnectionPoolTimeout does not work in all cas|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55089|New|Nor|2013-06-10|Caching of LDAP credentials is not clearly documen|
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55100|New|Nor|2013-06-13|--with-perl referenced but not explained          |
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55123|New|Nor|2013-06-20|Formatting issue in ABOUT_APACHE                  |
|55147|New|Nor|2013-06-26|"Header always" w/ cache different in 2.4         |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55350|New|Maj|2013-08-03|mpm-itk and mod_fcgid do not work together        |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55420|New|Nor|2013-08-14|Integer underflow in lock timeout computation     |
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55449|New|Maj|2013-08-19|AH01185: worker slotmem_create failed --> slotmem |
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55741|New|Min|2013-11-04|Documentation is served with incorrect character e|
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55808|New|Nor|2013-11-21|File integrity verification using MD5 and SHA1    |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|New|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55841|New|Nor|2013-12-04|Misleading news items on bugfix releases ("This ve|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55892|New|Nor|2013-12-16|ProxyRemote with HTTPS backend sends requests with|
|55897|New|Nor|2013-12-17|[PATCH]patch with SO_REUSEPORT support            |
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|Inf|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55990|Inf|Nor|2014-01-12|SetEnv vs. =! inconsistentcy not documented       |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56035|Inf|Nor|2014-01-20|Issue with LimitRequestBody                       |
|56040|Inf|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56214|New|Nor|2014-03-03|Spanish translation of Apache's error pages       |
|56226|New|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56241|New|Min|2014-03-10|SNI sends warning upon name not found, RFC 6066 di|
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56346|New|Nor|2014-04-03|self-signed cert documentation creates a certifica|
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56414|Inf|Nor|2014-04-15|SNI & HTTP hostname different because of user@    |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56687|New|Nor|2014-07-01|ProxySourceAddress failed to bind socket to local |
|56695|New|Nor|2014-07-03|Doc error on option %O for mod_logio              |
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56729|New|Reg|2014-07-16|Can't use HTTP 1.1 Keep-Alive with mod_reqtimeout |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|New|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56823|New|Nor|2014-08-07|returning 200 status when ap_get_brigade failed   |
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56855|New|Enh|2014-08-14|mod_proxy_fcgi: add PassHeader directive          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56872|New|Nor|2014-08-19|Small request bodies bypass DeflateInflateLimitReq|
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56898|New|Nor|2014-08-28|Headers in err_headers_out are not returned when a|
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56925|New|Maj|2014-09-08|ProxyErrorOverride=On causes workers in error stat|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56985|New|Nor|2014-09-16|Clarify which IndexOptions require FancyIndexing  |
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57077|Opn|Nor|2014-10-11|flood svn link does not work                      |
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57109|New|Nor|2014-10-17|GPG verification examples are wrong               |
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57120|New|Nor|2014-10-21|Disable SSLv3 by default (POODLE)                 |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57139|New|Nor|2014-10-24|mod_proxy uses wrong Host header when using an HTT|
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57177|New|Nor|2014-11-03|terminated by signal ILL in server/scoreboard.c li|
|57189|New|Enh|2014-11-05|Norwegian translation of Apache's error pages     |
|57207|New|Nor|2014-11-13|[mod_ssl] Add a way to retrieve email in alternati|
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|New|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57358|New|Nor|2014-12-17|Incorrect If-Match handling                       |
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57375|New|Enh|2014-12-19|Support LibreSSL as an alternative toolkit for mod|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Nor|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57524|New|Nor|2015-02-02|Opcode and other fields calculated wrong in mod_lu|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57531|New|Nor|2015-02-03|2.4.12 segmentation fault when accessing host on L|
|57584|New|Nor|2015-02-13|AddHandler etc. documentation "extension" unintuit|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57600|New|Nor|2015-02-18|Presence of SSLCACertificateFile/Path causes root |
|57615|Inf|Nor|2015-02-21|HTTPS CONNECT target hostname incorrectly validate|
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57694|New|Nor|2015-03-12|Crash using SSL certificate with pathlen constrain|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57778|New|Nor|2015-03-30|Effect of AddType should be documented in more det|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|New|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
+-----+---+---+----------+--------------------------------------------------+
| Total 1506 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-82349-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Apr 12 21:17:08 2015
Return-Path: <dev-return-82349-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 731A317703
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 12 Apr 2015 21:17:08 +0000 (UTC)
Received: (qmail 97998 invoked by uid 500); 12 Apr 2015 21:17:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97924 invoked by uid 500); 12 Apr 2015 21:17:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97913 invoked by uid 99); 12 Apr 2015 21:17:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Apr 2015 21:17:07 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mamfelt@gmail.com designates 209.85.217.169 as permitted sender)
Received: from [209.85.217.169] (HELO mail-lb0-f169.google.com) (209.85.217.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Apr 2015 21:16:41 +0000
Received: by lbbqq2 with SMTP id qq2so45652754lbb.3
        for <dev@httpd.apache.org>; Sun, 12 Apr 2015 14:14:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=YSuDIVlXgodFl0u1oh6u5G7ajTPYLhTTNwGtEBEaFus=;
        b=LhWFhs0Dm8x5JCv7zkEvtS5Z/TFIk2PYlzg/08JQ+fkrZLz3ffxBnVJNVPHyQJIeYM
         KMGbs8x1OjXyJS4ce4FneU+fdDp8HA2zejfV/QFgJ1q4p58YvJMDTERdGMcUBV96zuuq
         P+KqNWrotgcyiyVtwbo+GT9dYajnQWvQSm2oAUZDVWkVtz3Ku1SMxJzTb6TA5pRNSp3i
         x/rcmTOJX1gIpAToz2zfMqR9hNWQibHWsjrEzywpe0qNa18td5wYzrgOwrzHnlDAezJA
         CnWnqLAgubcLb7GDgRsgVRHZNn4Pq4I7DbDNJzdIJyvG60VV+GDUzb+GEZhNLROQntKS
         NkDQ==
MIME-Version: 1.0
X-Received: by 10.112.98.234 with SMTP id el10mr10454583lbb.28.1428873264819;
 Sun, 12 Apr 2015 14:14:24 -0700 (PDT)
Received: by 10.112.156.4 with HTTP; Sun, 12 Apr 2015 14:14:24 -0700 (PDT)
In-Reply-To: <CAN9c_NRi0OF0WcXqtkPLt0N8Foibb-XghN84z55x4BguuafF4g@mail.gmail.com>
References: <CAN9c_NRi0OF0WcXqtkPLt0N8Foibb-XghN84z55x4BguuafF4g@mail.gmail.com>
Date: Sun, 12 Apr 2015 16:14:24 -0500
Message-ID: <CAN9c_NSbgt3hJGbH1iWuMmFRnD-6iSDwzRSDMSs-f4K7XhnBMA@mail.gmail.com>
Subject: Re: FYI - version checking against libressl - FYI (not yet a bug)
From: Michael Felt <mamfelt@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a11345e6460f2d505138d7b8b
X-Virus-Checked: Checked by ClamAV on apache.org

--001a11345e6460f2d505138d7b8b
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

I have rebuilt my build systems - basically stripping them of accumulated
libraries, and now no "OpenSSL" installed, but "LibreSSL".

A basic characteristic of LibreSSL is to remove exposed parts of the
API/ABI in order to make the package more secure.

Now maybe httpd needs this aspect it is now falling over, in which case -
someone much more into httpd code than I explain the need. If it is not
really "needed" this may be a bug.

In any case when trying to build httpd-2.4.12 from:

 ./configure --enable-layout=3DAIX --with-apr=3D/opt/bin/apr-1-config
--with-apr-util=3D/opt/bin/apu-1-config --enable-mpms-shared=3Dall
--enable-mods-shared=3Dall --disable-lua --enable-ssl --with-ssl=3D/opt

It fails during make with:

        /opt/build-1/libtool --silent --mode=3Dcompile xlc -I/opt/include
-qHALT=3DE      -U__STR__ -D_THREAD_SAFE -D_USE_IRS
-D_LARGEF/httpd-2.4.12/os/unix
-I/data/prj/apache/httpd/httpd-2.4.12/include -I/opt/include/apr-1
-I/opt/include -I/data/prj/apache/httpd/htpd/httpd-2.4.12/modules/cache
-I/data/prj/apache/httpd/httpd-2.4.12/modules/core
-I/data/prj/apache/httpd/httpd-2.4.12/modules/datadules/filters
-I/data/prj/apache/httpd/httpd-2.4.12/modules/ldap
-I/data/prj/apache/httpd/httpd-2.4.12/server
-I/data/prj/apache/htapache/httpd/httpd-2.4.12/modules/lua
-I/data/prj/apache/httpd/httpd-2.4.12/modules/proxy
-I/data/prj/apache/httpd/httpd-2.4.12/mod.4.12/modules/ssl
-I/data/prj/apache/httpd/httpd-2.4.12/modules/test
-I/data/prj/apache/httpd/httpd-2.4.12/server
-I/data/prj/apacha/prj/apache/httpd/httpd-2.4.12/modules/dav/main
-I/data/prj/apache/httpd/httpd-2.4.12/modules/generators
-I/data/prj/apache/httpd/sl_engine_init.c && touch ssl_engine_init.slo
"ssl_engine_init.c", line 357.28: 1506-045 (S) Undeclared identifier
ENGINE_CTRL_CHIL_SET_FORKCHECK.
make: 1254-004 The error code from the last command is 1.

Note: if I leave out the --enable-ssl --with-ssl=3D/opt the package builds =
as
expected.

On Fri, Apr 10, 2015 at 2:26 PM, Michael Felt <mamfelt@gmail.com> wrote:

> I am experimenting with libressl - and just thought I would mention an
> error message I am getting with regard to openssl compatibility
>
> And if this has already been reported - please ignore - and accept my
> apologies. I have not scanned the maillist for a previous report.
>
> =C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=
=C2=B1=C2=B1=C2=B1
>
> configure: WARNING: Your APR does not include SSL/EVP support. To enable
> it: configure --with-crypto
> configure: WARNING: OpenSSL libraries are unusable
>
> Now there are differences between OpenSSL and LibreSSL - so you may need
> to be thinking about different tests for testing OpenSSL API suitability.
>
> =C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=
=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1
> From config.log - some additional feedback.
>
> configure:25683: checking for OpenSSL version >=3D 0.9.8a
> configure:25702: xlc -c -I/opt/include -I/opt/buildaix/include -O2
> -I/opt/include -L/opt/lib -qHALT=3DE -I/op
> t/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS -D_LARGEFILE64_SOURCE
> conftest.c >&5
> configure:25702: $? =3D 0
> configure:25703: result: OK
> ...
>
> configure:25772: checking for openssl/engine.h
> configure:25772: result: yes
> configure:25785: checking for SSLeay_version
> configure:25785: xlc -o conftest -I/opt/include -I/opt/buildaix/include
> -O2 -I/opt/include -L/opt/lib -qHAL
> T=3DE -I/opt/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS
> -D_LARGEFILE64_SOURCE  -Wl,-brtl conftest.c -lssl -l
> crypto  -lpthread >&5
> ld: 0711-317 ERROR: Undefined symbol: .SSLeay_version
> ....
> | }
> configure:25785: result: no
> configure:25785: checking for SSL_CTX_new
> configure:25785: xlc -o conftest -I/opt/include -I/opt/buildaix/include
> -O2 -I/opt/include -L/opt/lib -qHAL
> T=3DE -I/opt/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS
> -D_LARGEFILE64_SOURCE  -Wl,-brtl conftest.c -lssl -l
> crypto  -lpthread >&5
> ld: 0711-317 ERROR: Undefined symbol: .SSL_CTX_new
> ...
> | }
> configure:25785: result: no
> configure:25799: checking for ENGINE_init
> configure:25799: xlc -o conftest -I/opt/include -I/opt/buildaix/include
> -O2 -I/opt/include -L/opt/lib -qHAL
> T=3DE -I/opt/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS
> -D_LARGEFILE64_SOURCE  -Wl,-brtl conftest.c -lssl -l
> crypto  -lpthread >&5
> ld: 0711-317 ERROR: Undefined symbol: .ENGINE_init
> ...
> | }
> configure:25799: result: no
> configure:25799: checking for ENGINE_load_builtin_engines
> configure:25799: xlc -o conftest -I/opt/include -I/opt/buildaix/include
> -O2 -I/opt/include -L/opt/lib -qHAL
> T=3DE -I/opt/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS
> -D_LARGEFILE64_SOURCE  -Wl,-brtl conftest.c -lssl -l
> crypto  -lpthread >&5
> ld: 0711-317 ERROR: Undefined symbol: .ENGINE_load_builtin_engines
>
> ...
>
> | }
> configure:25799: result: no
> configure:25809: WARNING: OpenSSL libraries are unusable
> configure:25822: result: yes
>
>
>

--001a11345e6460f2d505138d7b8b
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div><div><div><div>I have rebuilt my build systems - basi=
cally stripping them of accumulated libraries, and now no &quot;OpenSSL&quo=
t; installed, but &quot;LibreSSL&quot;.<br><br></div>A basic characteristic=
 of LibreSSL is to remove exposed parts of the API/ABI in order to make the=
 package more secure.<br><br></div>Now maybe httpd needs this aspect it is =
now falling over, in which case - someone much more into httpd code than I =
explain the need. If it is not really &quot;needed&quot; this may be a bug.=
<br><br></div>In any case when trying to build httpd-2.4.12 from:<br><br>=
=C2=A0./configure --enable-layout=3DAIX --with-apr=3D/opt/bin/apr-1-config =
--with-apr-util=3D/opt/bin/apu-1-config --enable-mpms-shared=3Dall --enable=
-mods-shared=3Dall --disable-lua --enable-ssl --with-ssl=3D/opt<br><br>It f=
ails during make with:<br><br>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 /o=
pt/build-1/libtool --silent --mode=3Dcompile xlc -I/opt/include -qHALT=3DE=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 -U__STR__ -D_THREAD_SAFE -D_USE_IRS -D_LARGE=
F/httpd-2.4.12/os/unix -I/data/prj/apache/httpd/httpd-2.4.12/include -I/opt=
/include/apr-1 -I/opt/include -I/data/prj/apache/httpd/htpd/httpd-2.4.12/mo=
dules/cache -I/data/prj/apache/httpd/httpd-2.4.12/modules/core -I/data/prj/=
apache/httpd/httpd-2.4.12/modules/datadules/filters -I/data/prj/apache/http=
d/httpd-2.4.12/modules/ldap -I/data/prj/apache/httpd/httpd-2.4.12/server -I=
/data/prj/apache/htapache/httpd/httpd-2.4.12/modules/lua -I/data/prj/apache=
/httpd/httpd-2.4.12/modules/proxy -I/data/prj/apache/httpd/httpd-2.4.12/mod=
.4.12/modules/ssl -I/data/prj/apache/httpd/httpd-2.4.12/modules/test -I/dat=
a/prj/apache/httpd/httpd-2.4.12/server -I/data/prj/apacha/prj/apache/httpd/=
httpd-2.4.12/modules/dav/main -I/data/prj/apache/httpd/httpd-2.4.12/modules=
/generators -I/data/prj/apache/httpd/sl_engine_init.c &amp;&amp; touch ssl_=
engine_init.slo<br>&quot;ssl_engine_init.c&quot;, line 357.28: 1506-045 (S)=
 Undeclared identifier ENGINE_CTRL_CHIL_SET_FORKCHECK.<br>make: 1254-004 Th=
e error code from the last command is 1.<br><br></div>Note: if I leave out =
the --enable-ssl --with-ssl=3D/opt the package builds as expected.<br></div=
><div class=3D"gmail_extra"><br><div class=3D"gmail_quote">On Fri, Apr 10, =
2015 at 2:26 PM, Michael Felt <span dir=3D"ltr">&lt;<a href=3D"mailto:mamfe=
lt@gmail.com" target=3D"_blank">mamfelt@gmail.com</a>&gt;</span> wrote:<br>=
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div><div>I am experimentin=
g with libressl - and just thought I would mention an error message I am ge=
tting with regard to openssl compatibility<br><br></div><div>And if this ha=
s already been reported - please ignore - and accept my apologies. I have n=
ot scanned the maillist for a previous report.<br><br>=C2=B1=C2=B1=C2=B1=C2=
=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1<br></=
div><div><br>configure: WARNING: Your APR does not include SSL/EVP support.=
 To enable it: configure --with-crypto<br>configure: WARNING: OpenSSL libra=
ries are unusable<br><br></div>Now there are differences between OpenSSL an=
d LibreSSL - so you may need to be thinking about different tests for testi=
ng OpenSSL API suitability.<br><br>=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=
=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1<br></=
div>From config.log - some additional feedback.<br><br>configure:25683: che=
cking for OpenSSL version &gt;=3D 0.9.8a<br>configure:25702: xlc -c -I/opt/=
include -I/opt/buildaix/include -O2 -I/opt/include -L/opt/lib -qHALT=3DE -I=
/op<br>t/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS -D_LARGEFILE64_SOURCE =
conftest.c &gt;&amp;5<br>configure:25702: $? =3D 0<br>configure:25703: resu=
lt: OK<br>...<br><br><div><div>configure:25772: checking for openssl/engine=
.h<br>configure:25772: result: yes<br>configure:25785: checking for SSLeay_=
version<br>configure:25785: xlc -o conftest -I/opt/include -I/opt/buildaix/=
include -O2 -I/opt/include -L/opt/lib -qHAL<br>T=3DE -I/opt/include -U__STR=
__ -D_THREAD_SAFE -D_USE_IRS -D_LARGEFILE64_SOURCE=C2=A0 -Wl,-brtl conftest=
.c -lssl -l<br>crypto=C2=A0 -lpthread &gt;&amp;5<br>ld: 0711-317 ERROR: Und=
efined symbol: .SSLeay_version<br>....<br>| }<br>configure:25785: result: n=
o<br>configure:25785: checking for SSL_CTX_new<br>configure:25785: xlc -o c=
onftest -I/opt/include -I/opt/buildaix/include -O2 -I/opt/include -L/opt/li=
b -qHAL<br>T=3DE -I/opt/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS -D_LARG=
EFILE64_SOURCE=C2=A0 -Wl,-brtl conftest.c -lssl -l<br>crypto=C2=A0 -lpthrea=
d &gt;&amp;5<br>ld: 0711-317 ERROR: Undefined symbol: .SSL_CTX_new<br>...<b=
r>| }<br>configure:25785: result: no<br>configure:25799: checking for ENGIN=
E_init<br>configure:25799: xlc -o conftest -I/opt/include -I/opt/buildaix/i=
nclude -O2 -I/opt/include -L/opt/lib -qHAL<br>T=3DE -I/opt/include -U__STR_=
_ -D_THREAD_SAFE -D_USE_IRS -D_LARGEFILE64_SOURCE=C2=A0 -Wl,-brtl conftest.=
c -lssl -l<br>crypto=C2=A0 -lpthread &gt;&amp;5<br>ld: 0711-317 ERROR: Unde=
fined symbol: .ENGINE_init<br>...<br>| }<br>configure:25799: result: no<br>=
configure:25799: checking for ENGINE_load_builtin_engines<br>configure:2579=
9: xlc -o conftest -I/opt/include -I/opt/buildaix/include -O2 -I/opt/includ=
e -L/opt/lib -qHAL<br>T=3DE -I/opt/include -U__STR__ -D_THREAD_SAFE -D_USE_=
IRS -D_LARGEFILE64_SOURCE=C2=A0 -Wl,-brtl conftest.c -lssl -l<br>crypto=C2=
=A0 -lpthread &gt;&amp;5<br>ld: 0711-317 ERROR: Undefined symbol: .ENGINE_l=
oad_builtin_engines<br><br>...<br><br>| }<br>configure:25799: result: no<br=
>configure:25809: WARNING: OpenSSL libraries are unusable<br>configure:2582=
2: result: yes<br><br><br></div></div></div>
</blockquote></div><br></div>

--001a11345e6460f2d505138d7b8b--

From dev-return-82350-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Apr 13 07:26:44 2015
Return-Path: <dev-return-82350-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 952F717563
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 13 Apr 2015 07:26:44 +0000 (UTC)
Received: (qmail 66013 invoked by uid 500); 13 Apr 2015 07:26:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65942 invoked by uid 500); 13 Apr 2015 07:26:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65932 invoked by uid 99); 13 Apr 2015 07:26:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Apr 2015 07:26:34 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of steve.m.hay@googlemail.com designates 209.85.223.173 as permitted sender)
Received: from [209.85.223.173] (HELO mail-ie0-f173.google.com) (209.85.223.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Apr 2015 07:26:10 +0000
Received: by iebrs15 with SMTP id rs15so57937756ieb.3
        for <dev@httpd.apache.org>; Mon, 13 Apr 2015 00:23:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=FCQ6kSoWwphOmCwGwHP8J962lsJATyrTjpWletdrgHQ=;
        b=q25cVjWufGIuGsZz7WYA13WHis+L7wPYuQQkmD3eqn7fzuSsocgrDlnwJjIgVGPUrw
         3359+SJ35q35lgZNnlysk2JfskCWQxzm7MMxj6gfwQm7gHkYrxuA6XVwT70RFF0Tm6WY
         KRrQSqbHEe4RZHTxYl80BPDo40LAF7IaAIVBfwibgQDprZbOr/HPxbKvyMelTo16CCoG
         rNMNwruTzWHL7exD4l0DogRl90t49FpyS8AZWOW+1pkG2z20xxVEDQjL7IIUKuVXmjdU
         SaA3oyhj+u0T162vJKTB0uMcnxlYd1+i8GWVdD77dtmzMXP+BJ1x80iiYhJiMAjr5Qyj
         00/w==
MIME-Version: 1.0
X-Received: by 10.107.37.132 with SMTP id l126mr19050748iol.42.1428909833474;
 Mon, 13 Apr 2015 00:23:53 -0700 (PDT)
Received: by 10.36.216.138 with HTTP; Mon, 13 Apr 2015 00:23:53 -0700 (PDT)
In-Reply-To: <CADED=K4PzK3EQi9U2vZe9TfnkauNseLSbrZM1i=Yo1pHC20obA@mail.gmail.com>
References: <CADED=K6sfshhCk8_8GjH98D-wHMW_EgK6ja8x6dskF7PLxdjaA@mail.gmail.com>
	<CADED=K4PzK3EQi9U2vZe9TfnkauNseLSbrZM1i=Yo1pHC20obA@mail.gmail.com>
Date: Mon, 13 Apr 2015 08:23:53 +0100
Message-ID: <CADED=K77NZa2jHnBdbTcXC6qKFec+RGMs=LWU7EzZBz6PdMgrw@mail.gmail.com>
Subject: Re: [RELEASE CANDIDATE] Apache-Test-1.39 RC1
From: Steve Hay <steve.m.hay@googlemail.com>
To: test-dev@perl.apache.org, mod_perl Dev <dev@perl.apache.org>, 
	"modperl@perl.apache.org" <modperl@perl.apache.org>, dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On 8 April 2015 at 18:04, Steve Hay <steve.m.hay@googlemail.com> wrote:
> On 8 April 2015 at 14:24, Steve Hay <steve.m.hay@googlemail.com> wrote:
>> Please download, test, and report back on this Apache-Test 1.39
>> release candidate.
>>
>> http://people.apache.org/~stevehay/Apache-Test-1.39-rc1.tar.gz
>>
>
> Success on Windows with VC++ 2010 using perl-5.20.2 with/without LWP
> and httpd-2.2.29/2.4.10 (4 combinations in all).
>

Please can anyone spend a short while giving this a spin?

I've so far only had two reports -- and one of those was mine!

From dev-return-82351-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Apr 13 20:05:24 2015
Return-Path: <dev-return-82351-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6390717603
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 13 Apr 2015 20:05:24 +0000 (UTC)
Received: (qmail 37338 invoked by uid 500); 13 Apr 2015 20:05:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 37288 invoked by uid 500); 13 Apr 2015 20:05:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 37279 invoked by uid 99); 13 Apr 2015 20:05:23 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Apr 2015 20:05:23 +0000
Received: from gauss.localdomain (v4-861347e2.pool.vitroconnect.de [134.19.71.226])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id A73541A009B
	for <dev@httpd.apache.org>; Mon, 13 Apr 2015 20:05:23 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id DB5C67E9
	for <dev@httpd.apache.org>; Mon, 13 Apr 2015 22:05:21 +0200 (CEST)
Message-ID: <552C2181.3070303@apache.org>
Date: Mon, 13 Apr 2015 22:05:21 +0200
From: Ruediger Pluem <rpluem@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:36.0) Gecko/20100101 Firefox/36.0 SeaMonkey/2.33.1
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1672014 - in /httpd/httpd/trunk: CHANGES
 server/config.c
References: <20150408073339.A26E2AC0236@hades.apache.org>
In-Reply-To: <20150408073339.A26E2AC0236@hades.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 04/08/2015 09:33 AM, kbrand@apache.org wrote:
> Author: kbrand
> Date: Wed Apr  8 07:33:39 2015
> New Revision: 1672014
> 
> URL: http://svn.apache.org/r1672014
> Log:
> UNSET the VirtualHost's LogLevel just before calling ap_merge_log_config(),
> to make sure that the DEFAULT_LOGLEVEL (APLOG_WARNING) is also in effect
> when ap_process_config_tree() in main.c:main() walks through the
> VirtualHost sections.
> 
> See https://mail-archives.apache.org/mod_mbox/httpd-dev/201404.mbox/%3C535CC85B.80501%40velox.ch%3E
> for one case this is addressing. This reverts the change from r1024427 on
> the one hand, but still ensures correct LogLevel merging on the other hand.
> 
> Modified:
>     httpd/httpd/trunk/CHANGES
>     httpd/httpd/trunk/server/config.c
> 
> Modified: httpd/httpd/trunk/CHANGES
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/CHANGES?rev=1672014&r1=1672013&r2=1672014&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/CHANGES [utf-8] (original)
> +++ httpd/httpd/trunk/CHANGES [utf-8] Wed Apr  8 07:33:39 2015
> @@ -1,6 +1,9 @@
>                                                           -*- coding: utf-8 -*-
>  Changes with Apache 2.5.0
>  
> +  *) core: Make sure to also print VirtualHost log messages of level
> +     "warn" or higher at configuration parsing time. [Kaspar Brand]
> +
>    *) mod_logio: Add LogIOTrackTTFB and %^FB logformat to log the time 
>       taken to start writing response headers. [Eric Covener]
>  
> 
> Modified: httpd/httpd/trunk/server/config.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/server/config.c?rev=1672014&r1=1672013&r2=1672014&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/server/config.c (original)
> +++ httpd/httpd/trunk/server/config.c Wed Apr  8 07:33:39 2015
> @@ -2194,7 +2194,7 @@ AP_CORE_DECLARE(const char *) ap_init_vi
>      s->keep_alive = -1;
>      s->keep_alive_max = -1;
>      s->error_log = main_server->error_log;
> -    s->log.level = APLOG_UNSET;
> +    s->log.level = main_server->log.level;
>      s->log.module_levels = NULL;
>      /* useful default, otherwise we get a port of 0 on redirects */
>      s->port = main_server->port;
> @@ -2286,6 +2286,7 @@ AP_DECLARE(void) ap_fixup_virtual_hosts(
>          if (virt->keep_alive_max == -1)
>              virt->keep_alive_max = main_server->keep_alive_max;
>  
> +        virt->log.level = APLOG_UNSET;

Shouldn't we only do that in case that vit->log.level is set to main_server->log.level?
Don't we lose the configuration done by the user for this particular host otherwise?

>          ap_merge_log_config(&main_server
->log, &virt->log);
>  
>          dconf = ap_get_core_module_config(virt->lookup_defaults);
> 
> 
> 

Regards

Rdiger

From dev-return-82352-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 14 04:59:25 2015
Return-Path: <dev-return-82352-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D003B178E3
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 14 Apr 2015 04:59:25 +0000 (UTC)
Received: (qmail 56402 invoked by uid 500); 14 Apr 2015 04:59:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56329 invoked by uid 500); 14 Apr 2015 04:59:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56319 invoked by uid 99); 14 Apr 2015 04:59:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 04:59:24 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [85.25.46.13] (HELO fornix.velox.ch) (85.25.46.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 04:59:19 +0000
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t3E4su4D003165
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Tue, 14 Apr 2015 06:54:57 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1428987297;
	bh=Ut9oCHH/yRlGFkGckmyaOYM5X93w7zAFtcTj0fXeW4g=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=jmWU5SCUwcrNEONMs2dS+VTk2UjIJN2Ojip4HdetsPKsD8976NhZdT9I2G1kNOsJR
	 pPEbkvAOzry6RWzAi9FXVDsCXY9bHpnjHSYAkMAbSJpx5Rdy8CvE/d9PvMvdlqu4Nf
	 jGbtsMwE6Jec5akmcX9Avt96k5i6TsZSstwKsUUDeZbeRwC8Q7tbI4p0TV2udXmoPb
	 aUREA5iohifTjyhIkatIs/X7P4Kr2EF6X4j6Bu+Ghf6C8yhMbJvyU/kWkKd3THqdc/
	 9YTa3tlPQ5JwrvoCH5D8+Be4qEblRCf2avmlUEldN74qtHSJrEgvtcei5hrQKwpldZ
	 i/tJBDrHFYi/w==
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on cortex.velox.ch
X-Spam-Level: 
Message-ID: <552C9D9F.2090209@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1428987295;
	bh=Ut9oCHH/yRlGFkGckmyaOYM5X93w7zAFtcTj0fXeW4g=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=rRHkRWTZP8tuVoCSjoAUDMzfRvjqFw+d13wdYsuOvfzjnyIKPVDDhA0JSa1/OWKd3
	 Q56FoZ5AQXcK+Qm4BVfXEOkvvrIZqNxfHxrGLSkh2t2CmHDEss6Lm04mdu2055SUGd
	 Sm9/dGgd9I24jgXKxKvCo0/e6IVBxZUtvNSWIlbem+ai7cqT6QKnguSkf4aBP4qDFY
	 uFDdjUtiR0y42zl4ReLSEJ9sYAFKEmSGibKsoJc6QME0kb/BBLt7g6J25GqrN8PK59
	 3cdd8/DZRNIWSag/1Ily3PE2LPhAQ6uFd8igeZiTXGxUXujF2sb6wcrjJNDoFBdnmF
	 JxsXq7Jj6xcKA==
Date: Tue, 14 Apr 2015 06:54:55 +0200
From: Kaspar Brand <httpd-dev.2014@velox.ch>
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1672014 - in /httpd/httpd/trunk: CHANGES server/config.c
References: <20150408073339.A26E2AC0236@hades.apache.org> <552C2181.3070303@apache.org>
In-Reply-To: <552C2181.3070303@apache.org>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.5 required=8.0 tests=AWL=0.019,BAYES_00=-1.5,
	NO_RECEIVED=-0.001,NO_RELAYS=-0.001,T_DKIM_INVALID=0.01 autolearn=no
	autolearn_force=no version=3.4.0

On 13.04.2015 22:05, Ruediger Pluem wrote:
> On 04/08/2015 09:33 AM, kbrand@apache.org wrote:
>> Modified: httpd/httpd/trunk/server/config.c
>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/server/config.c?rev=1672014&r1=1672013&r2=1672014&view=diff
>> ==============================================================================
>> --- httpd/httpd/trunk/server/config.c (original)
>> +++ httpd/httpd/trunk/server/config.c Wed Apr  8 07:33:39 2015
>> @@ -2194,7 +2194,7 @@ AP_CORE_DECLARE(const char *) ap_init_vi
>>      s->keep_alive = -1;
>>      s->keep_alive_max = -1;
>>      s->error_log = main_server->error_log;
>> -    s->log.level = APLOG_UNSET;
>> +    s->log.level = main_server->log.level;
>>      s->log.module_levels = NULL;
>>      /* useful default, otherwise we get a port of 0 on redirects */
>>      s->port = main_server->port;
>> @@ -2286,6 +2286,7 @@ AP_DECLARE(void) ap_fixup_virtual_hosts(
>>          if (virt->keep_alive_max == -1)
>>              virt->keep_alive_max = main_server->keep_alive_max;
>>  
>> +        virt->log.level = APLOG_UNSET;
> 
> Shouldn't we only do that in case that vit->log.level is set to main_server->log.level?
> Don't we lose the configuration done by the user for this particular host otherwise?

Yes, you're right - thanks for the review. It also noticed this in the
meantime, and when I tried to come up with a fix, more special cases
were turning up (whether main_server->log.level is still at
DEFAULT_LOGLEVEL might also have to be taken into account).

Hopefully I'll find time for more closely examining this tomorrow.
Otherwise I will revert r1672014, as it is clearly not a complete
solution yet.

Kaspar

From dev-return-82353-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 14 06:10:27 2015
Return-Path: <dev-return-82353-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 015D517A9C
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 14 Apr 2015 06:10:27 +0000 (UTC)
Received: (qmail 71705 invoked by uid 500); 14 Apr 2015 06:10:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 71633 invoked by uid 500); 14 Apr 2015 06:10:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 71623 invoked by uid 99); 14 Apr 2015 06:10:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 06:10:26 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of george.chelidze@magticom.ge designates 81.95.160.41 as permitted sender)
Received: from [81.95.160.41] (HELO relay.magticom.ge) (81.95.160.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 06:10:22 +0000
Received: from CAS-HUB02.magticom.ge (cas-hub02.magticom.ge [192.168.19.104])
	by relay.magticom.ge (8.14.2/8.13.8) with ESMTP id t3E69qOP086172
	for <dev@httpd.apache.org>; Tue, 14 Apr 2015 10:09:52 +0400 (GET)
	(envelope-from george.chelidze@magticom.ge)
Received: from [192.168.9.5] (192.168.9.5) by CAS-HUB02.magticom.ge
 (192.168.19.105) with Microsoft SMTP Server (TLS) id 14.2.347.0; Tue, 14 Apr
 2015 10:09:52 +0400
Message-ID: <552CAF01.3060503@magticom.ge>
Date: Tue, 14 Apr 2015 10:09:05 +0400
From: George Chelidze <gchelidze@magticom.ge>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: <dev@httpd.apache.org>
Subject: Header with trailing space in field name passed to CGI script
Content-Type: multipart/mixed;
	boundary="------------080205050301030102060309"
X-Originating-IP: [192.168.9.5]
X-Spam-Checker-Version: SpamAssassin 3.3.2 (2011-06-06) on relay.magticom.ge
X-Virus-Scanned: clamav-milter 0.98-exp at relay.magticom.ge
X-Virus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-102.8 required=8.0 tests=ALL_TRUSTED,AWL,BAYES_00,
	RP_MATCHES_RCVD,USER_IN_WHITELIST autolearn=ham version=3.3.2

--------------080205050301030102060309
Content-Type: text/plain; charset="utf-8"; format=flowed
Content-Transfer-Encoding: 7bit

Hello,

According to the rfc822#section-3.2, SPACE character is not allowed in 
the header field name. I have tested apache httpd version 2.2.16 and 
2.4.12 and with both installations a header with the trailing space in 
the field name is passed to a CGI script's environment (in both cases 
mod_cgid is active if that matters). Attached you can find two simple 
tests and a simple CGI script used for these tests:

in first case used one header:

X-MSISDN<SPACE>:<SPACE>test

it is passed to CGI script as HTTP_X_MSISDN variable.

in the second case I used two headers:

X-MSISDN<SPACE>:<SPACE>test
X-MSISDN:<SPACE>test2

both translate to the same HTTP_X_MSISDN environment variable with two 
values separated by the comma.

Is there any reason to not ignore a header with the trailing space in 
the field name and pass it to the CGI environment?
If not, is it a bug or I am missing something?

Thanks in advance,

-- 
George Chelidze


--------------080205050301030102060309
Content-Type: text/plain; charset="UTF-8"; name="session_1.txt"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="session_1.txt"

JCB0ZWxuZXQgbG9jYWxob3N0IDgwClRyeWluZyAxMjcuMC4wLjEuLi4KQ29ubmVjdGVkIHRv
IGxvY2FsaG9zdC4KRXNjYXBlIGNoYXJhY3RlciBpcyAnXl0nLgpHRVQgL2NnaS1iaW4vdGVz
dC5wbCBIVFRQLzEuMApIb3N0OiBsb2NhbGhvc3QKWC1NU0lTRE4gOiB0ZXN0CgpIVFRQLzEu
MSAyMDAgT0sKRGF0ZTogVHVlLCAxNCBBcHIgMjAxNSAwNTo0ODo1MiBHTVQKU2VydmVyOiBB
cGFjaGUvMi40LjEyIChVbml4KQpDb25uZWN0aW9uOiBjbG9zZQpDb250ZW50LVR5cGU6IHRl
eHQvaHRtbAoKQ09OVEVYVF9ET0NVTUVOVF9ST09UID0gL29wdC9hcGFjaGUtaHR0cGQtMi40
LjEyL2NnaS1iaW4vCkNPTlRFWFRfUFJFRklYID0gL2NnaS1iaW4vCkRPQ1VNRU5UX1JPT1Qg
PSAvb3B0L2FwYWNoZS1odHRwZC0yLjQuMTIvaHRkb2NzCkdBVEVXQVlfSU5URVJGQUNFID0g
Q0dJLzEuMQpIVFRQX0hPU1QgPSBsb2NhbGhvc3QKSFRUUF9YX01TSVNETiA9IHRlc3QKTERf
TElCUkFSWV9QQVRIID0gL29wdC9hcGFjaGUtaHR0cGQtMi40LjEyL2xpYgpQQVRIID0gL3Vz
ci9sb2NhbC9zYmluOi91c3IvbG9jYWwvYmluOi91c3Ivc2JpbjovdXNyL2Jpbjovc2Jpbjov
YmluClFVRVJZX1NUUklORyA9ClJFTU9URV9BRERSID0gMTI3LjAuMC4xClJFTU9URV9QT1JU
ID0gNDgwMTcKUkVRVUVTVF9NRVRIT0QgPSBHRVQKUkVRVUVTVF9TQ0hFTUUgPSBodHRwClJF
UVVFU1RfVVJJID0gL2NnaS1iaW4vdGVzdC5wbApTQ1JJUFRfRklMRU5BTUUgPSAvb3B0L2Fw
YWNoZS1odHRwZC0yLjQuMTIvY2dpLWJpbi90ZXN0LnBsClNDUklQVF9OQU1FID0gL2NnaS1i
aW4vdGVzdC5wbApTRVJWRVJfQUREUiA9IDEyNy4wLjAuMQpTRVJWRVJfQURNSU4gPSB5b3VA
ZXhhbXBsZS5jb20KU0VSVkVSX05BTUUgPSBsb2NhbGhvc3QKU0VSVkVSX1BPUlQgPSA4MApT
RVJWRVJfUFJPVE9DT0wgPSBIVFRQLzEuMApTRVJWRVJfU0lHTkFUVVJFID0KU0VSVkVSX1NP
RlRXQVJFID0gQXBhY2hlLzIuNC4xMiAoVW5peCkKQ29ubmVjdGlvbiBjbG9zZWQgYnkgZm9y
ZWlnbiBob3N0LgoK
--------------080205050301030102060309
Content-Type: text/plain; charset="UTF-8"; name="session_2.txt"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="session_2.txt"

JCB0ZWxuZXQgbG9jYWxob3N0IDgwClRyeWluZyAxMjcuMC4wLjEuLi4KQ29ubmVjdGVkIHRv
IGxvY2FsaG9zdC4KRXNjYXBlIGNoYXJhY3RlciBpcyAnXl0nLgpHRVQgL2NnaS1iaW4vdGVz
dC5wbCBIVFRQLzEuMApIb3N0OiBsb2NhbGhvc3QKWC1NU0lTRE4gOiB0ZXN0ClgtTVNJU0RO
OiB0ZXN0MgoKSFRUUC8xLjEgMjAwIE9LCkRhdGU6IFR1ZSwgMTQgQXByIDIwMTUgMDU6NTQ6
NDUgR01UClNlcnZlcjogQXBhY2hlLzIuNC4xMiAoVW5peCkKQ29ubmVjdGlvbjogY2xvc2UK
Q29udGVudC1UeXBlOiB0ZXh0L2h0bWwKCkNPTlRFWFRfRE9DVU1FTlRfUk9PVCA9IC9vcHQv
YXBhY2hlLWh0dHBkLTIuNC4xMi9jZ2ktYmluLwpDT05URVhUX1BSRUZJWCA9IC9jZ2ktYmlu
LwpET0NVTUVOVF9ST09UID0gL29wdC9hcGFjaGUtaHR0cGQtMi40LjEyL2h0ZG9jcwpHQVRF
V0FZX0lOVEVSRkFDRSA9IENHSS8xLjEKSFRUUF9IT1NUID0gbG9jYWxob3N0CkhUVFBfWF9N
U0lTRE4gPSB0ZXN0LCB0ZXN0MgpMRF9MSUJSQVJZX1BBVEggPSAvb3B0L2FwYWNoZS1odHRw
ZC0yLjQuMTIvbGliClBBVEggPSAvdXNyL2xvY2FsL3NiaW46L3Vzci9sb2NhbC9iaW46L3Vz
ci9zYmluOi91c3IvYmluOi9zYmluOi9iaW4KUVVFUllfU1RSSU5HID0gClJFTU9URV9BRERS
ID0gMTI3LjAuMC4xClJFTU9URV9QT1JUID0gNDgxMjgKUkVRVUVTVF9NRVRIT0QgPSBHRVQK
UkVRVUVTVF9TQ0hFTUUgPSBodHRwClJFUVVFU1RfVVJJID0gL2NnaS1iaW4vdGVzdC5wbApT
Q1JJUFRfRklMRU5BTUUgPSAvb3B0L2FwYWNoZS1odHRwZC0yLjQuMTIvY2dpLWJpbi90ZXN0
LnBsClNDUklQVF9OQU1FID0gL2NnaS1iaW4vdGVzdC5wbApTRVJWRVJfQUREUiA9IDEyNy4w
LjAuMQpTRVJWRVJfQURNSU4gPSB5b3VAZXhhbXBsZS5jb20KU0VSVkVSX05BTUUgPSBsb2Nh
bGhvc3QKU0VSVkVSX1BPUlQgPSA4MApTRVJWRVJfUFJPVE9DT0wgPSBIVFRQLzEuMApTRVJW
RVJfU0lHTkFUVVJFID0gClNFUlZFUl9TT0ZUV0FSRSA9IEFwYWNoZS8yLjQuMTIgKFVuaXgp
CkNvbm5lY3Rpb24gY2xvc2VkIGJ5IGZvcmVpZ24gaG9zdC4KCg==
--------------080205050301030102060309
Content-Type: application/x-perl; name="test.pl"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment; filename="test.pl"

#!/usr/bin/perl

print "Content-Type: text/html\n\n";
foreach my $key (sort keys %ENV) {
    print "$key = $ENV{$key}\n";
}

--------------080205050301030102060309--

From dev-return-82354-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 14 06:41:56 2015
Return-Path: <dev-return-82354-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6D68E17BA4
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 14 Apr 2015 06:41:56 +0000 (UTC)
Received: (qmail 44874 invoked by uid 500); 14 Apr 2015 06:41:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 44819 invoked by uid 500); 14 Apr 2015 06:41:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 44804 invoked by uid 99); 14 Apr 2015 06:41:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 06:41:52 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [209.20.83.52] (HELO gungnir.webthing.com) (209.20.83.52)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 06:41:46 +0000
Received: from [192.168.0.5] (cpc14-newt30-2-0-cust22.newt.cable.virginm.net [92.232.45.23])
	by gungnir.webthing.com (Postfix) with ESMTPSA id 4132B1282C4
	for <dev@httpd.apache.org>; Tue, 14 Apr 2015 06:41:25 +0000 (UTC)
Message-ID: <1428993683.17618.36.camel@mimir.webthing.com>
Subject: Re: Header with trailing space in field name passed to CGI script
From: Nick Kew <nick@webthing.com>
To: dev@httpd.apache.org
Date: Tue, 14 Apr 2015 07:41:23 +0100
In-Reply-To: <552CAF01.3060503@magticom.ge>
References: <552CAF01.3060503@magticom.ge>
Content-Type: text/plain; charset="UTF-8"
X-Mailer: Evolution 3.4.4-3 
Mime-Version: 1.0
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, 2015-04-14 at 10:09 +0400, George Chelidze wrote:
> Hello,
> 
> According to the rfc822#section-3.2, SPACE character is not allowed in 
> the header field name.

"Be liberal in what you accept".

Stripping whitespace between a field name and a colon looks
to me like a reasonable thing to do.  Unless you're suggesting
it could somehow become a security issue?

> Is there any reason to not ignore a header with the trailing space in 
> the field name and pass it to the CGI environment?

Surely rather than ignore it, you'd want to return 400
if you don't accept current behaviour?

-- 
Nick Kew


From dev-return-82355-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 14 07:52:25 2015
Return-Path: <dev-return-82355-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9A21A17DEB
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 14 Apr 2015 07:52:25 +0000 (UTC)
Received: (qmail 11784 invoked by uid 500); 14 Apr 2015 07:52:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 11715 invoked by uid 500); 14 Apr 2015 07:52:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 11705 invoked by uid 99); 14 Apr 2015 07:52:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 07:52:18 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of george.chelidze@magticom.ge designates 81.95.160.41 as permitted sender)
Received: from [81.95.160.41] (HELO relay.magticom.ge) (81.95.160.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 07:52:14 +0000
Received: from CAS-HUB02.magticom.ge (cas-hub02.magticom.ge [192.168.19.104])
	by relay.magticom.ge (8.14.2/8.13.8) with ESMTP id t3E7oavV004335
	for <dev@httpd.apache.org>; Tue, 14 Apr 2015 11:50:36 +0400 (GET)
	(envelope-from george.chelidze@magticom.ge)
Received: from [192.168.9.5] (192.168.9.5) by CAS-HUB02.magticom.ge
 (192.168.19.105) with Microsoft SMTP Server (TLS) id 14.2.347.0; Tue, 14 Apr
 2015 11:49:45 +0400
Message-ID: <552CC66B.7020305@magticom.ge>
Date: Tue, 14 Apr 2015 11:48:59 +0400
From: George Chelidze <gchelidze@magticom.ge>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: <dev@httpd.apache.org>
Subject: Re: Header with trailing space in field name passed to CGI script
References: <552CAF01.3060503@magticom.ge> <1428993683.17618.36.camel@mimir.webthing.com>
In-Reply-To: <1428993683.17618.36.camel@mimir.webthing.com>
Content-Type: text/plain; charset="utf-8"; format=flowed
Content-Transfer-Encoding: 7bit
X-Originating-IP: [192.168.9.5]
X-Spam-Checker-Version: SpamAssassin 3.3.2 (2011-06-06) on relay.magticom.ge
X-Virus-Scanned: clamav-milter 0.98-exp at relay.magticom.ge
X-Virus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-102.3 required=8.0 tests=ALL_TRUSTED,AWL,BAYES_00,
	MY_F_ROBOT,RP_MATCHES_RCVD,USER_IN_WHITELIST autolearn=no version=3.3.2

Hello Nick,

Please see my comments below:

On 04/14/2015 10:41 AM, Nick Kew wrote:
> On Tue, 2015-04-14 at 10:09 +0400, George Chelidze wrote:
>> Hello,
>>
>> According to the rfc822#section-3.2, SPACE character is not allowed in
>> the header field name.
> "Be liberal in what you accept".
>
> Stripping whitespace between a field name and a colon looks
> to me like a reasonable thing to do.
It looks reasonable to me as well, however there are two things:

1. according to http://tools.ietf.org/html/rfc7230#section-3.2.4, we have:

    No whitespace is allowed between the header field-name and colon.  In
    the past, differences in the handling of such whitespace have led to
    security vulnerabilities in request routing and response handling.  A
    server MUST reject any received request message that contains
    whitespace between a header field-name and colon with a response code
    of 400 (Bad Request).  A proxy MUST remove any such whitespace from a
    response message before forwarding the message downstream.

2. according to the http://httpd.apache.org/docs/2.4/env.html, the 
header should be dropped:

  * A special case are HTTP headers which are passed to CGI scripts and
    the like via environment variables (see below). They are converted
    to uppercase and only dashes are replaced with underscores; if the
    header contains any other (invalid) character, the whole header is
    silently dropped. See below
    <http://httpd.apache.org/docs/2.4/env.html#fixheader> for a workaround.

>    Unless you're suggesting
> it could somehow become a security issue?
I'll try to explain what seems to be an issue for me:

In a network with mobile subscribers there is a device called GGSN. We 
can look at it as an IP gateway for mobile subscribers. In our case, the 
vendor of GGSN claims, that their device supports HTTP Header Enrichment 
Feature - it can inject an MSISDN (unique mobile subsciber's identity) 
header to an HTTP request which is destined to the preconfigured URL 
(selfcare portal). In case a fake MSISDN header is sent with a request 
from the user equipment (UE), it's dropped on GGSN. They also insist 
that their system is developed based on well known standards, and as a 
header with SPACE in a field name is not a valid header, it's simply 
passed to the server as is without any action.

Suppose the following request has been sent from the UE:

GET /cgi-bin/test.pl HTTP/1.0
Host: hostname.for.self.care.portal
X-MSISDN : 123456

GGSN will ignore this "header" as it's not a valid HTTP header and will 
append a header with a real user's identity so at the end of processing 
the same request will look like this:

GET /cgi-bin/test.pl HTTP/1.0
Host: hostname.for.self.care.portal
X-MSISDN : 123456
X-MSISDN: 987654321

After the request hits an apache server, an environment for a CGI script 
will contain HTTP_X_MSISDN=123456, 987654321 - UE has successfully 
injected the header which is an issue.
>> Is there any reason to not ignore a header with the trailing space in
>> the field name and pass it to the CGI environment?
> Surely rather than ignore it, you'd want to return 400
> if you don't accept current behaviour?
I meant is there any good reason for the server to ignore the SPACE in 
the header and pass it to the CGI enviroment as if there is no space? I 
would expect to return 400 according the first document I specified.

-- 
George Chelidze


From dev-return-82356-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 14 08:06:36 2015
Return-Path: <dev-return-82356-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DD0B717E3C
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 14 Apr 2015 08:06:35 +0000 (UTC)
Received: (qmail 30698 invoked by uid 500); 14 Apr 2015 08:06:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 30637 invoked by uid 500); 14 Apr 2015 08:06:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 30627 invoked by uid 99); 14 Apr 2015 08:06:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 08:06:35 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jkaluza@redhat.com designates 209.132.183.28 as permitted sender)
Received: from [209.132.183.28] (HELO mx1.redhat.com) (209.132.183.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 08:06:10 +0000
Received: from int-mx10.intmail.prod.int.phx2.redhat.com (int-mx10.intmail.prod.int.phx2.redhat.com [10.5.11.23])
	by mx1.redhat.com (Postfix) with ESMTPS id 034A58EA47
	for <dev@httpd.apache.org>; Tue, 14 Apr 2015 08:05:37 +0000 (UTC)
Received: from dhcp-24-191.brq.redhat.com (ovpn-204-22.brq.redhat.com [10.40.204.22])
	by int-mx10.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t3E85ZD1001678
	for <dev@httpd.apache.org>; Tue, 14 Apr 2015 04:05:36 -0400
Message-ID: <552CCA4F.20409@redhat.com>
Date: Tue, 14 Apr 2015 10:05:35 +0200
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.5.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: [RELEASE CANDIDATE] Apache-Test-1.39 RC1
References: <CADED=K6sfshhCk8_8GjH98D-wHMW_EgK6ja8x6dskF7PLxdjaA@mail.gmail.com>	<CADED=K4PzK3EQi9U2vZe9TfnkauNseLSbrZM1i=Yo1pHC20obA@mail.gmail.com> <CADED=K77NZa2jHnBdbTcXC6qKFec+RGMs=LWU7EzZBz6PdMgrw@mail.gmail.com>
In-Reply-To: <CADED=K77NZa2jHnBdbTcXC6qKFec+RGMs=LWU7EzZBz6PdMgrw@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.23
X-Virus-Checked: Checked by ClamAV on apache.org

On 04/13/2015 09:23 AM, Steve Hay wrote:
> On 8 April 2015 at 18:04, Steve Hay <steve.m.hay@googlemail.com> wrote:
>> On 8 April 2015 at 14:24, Steve Hay <steve.m.hay@googlemail.com> wrote:
>>> Please download, test, and report back on this Apache-Test 1.39
>>> release candidate.
>>>
>>> http://people.apache.org/~stevehay/Apache-Test-1.39-rc1.tar.gz
>>>
>>
>> Success on Windows with VC++ 2010 using perl-5.20.2 with/without LWP
>> and httpd-2.2.29/2.4.10 (4 combinations in all).
>>
>
> Please can anyone spend a short while giving this a spin?

I will give it a try on Fedora in the afternoon hopefully.

Jan Kaluza

> I've so far only had two reports -- and one of those was mine!
>


From dev-return-82357-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 14 09:23:45 2015
Return-Path: <dev-return-82357-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9AC9D172A2
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 14 Apr 2015 09:23:45 +0000 (UTC)
Received: (qmail 55862 invoked by uid 500); 14 Apr 2015 09:23:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55773 invoked by uid 500); 14 Apr 2015 09:23:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 55763 invoked by uid 99); 14 Apr 2015 09:23:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 09:23:44 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [209.20.83.52] (HELO gungnir.webthing.com) (209.20.83.52)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 09:23:19 +0000
Received: from [192.168.0.5] (cpc14-newt30-2-0-cust22.newt.cable.virginm.net [92.232.45.23])
	by gungnir.webthing.com (Postfix) with ESMTPSA id A1A5B1282C4
	for <dev@httpd.apache.org>; Tue, 14 Apr 2015 09:21:47 +0000 (UTC)
Message-ID: <1429003306.17618.51.camel@mimir.webthing.com>
Subject: Re: Header with trailing space in field name passed to CGI script
From: Nick Kew <nick@webthing.com>
To: dev@httpd.apache.org
Date: Tue, 14 Apr 2015 10:21:46 +0100
In-Reply-To: <552CC66B.7020305@magticom.ge>
References: <552CAF01.3060503@magticom.ge>
	 <1428993683.17618.36.camel@mimir.webthing.com>
	 <552CC66B.7020305@magticom.ge>
Content-Type: text/plain; charset="UTF-8"
X-Mailer: Evolution 3.4.4-3 
Mime-Version: 1.0
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, 2015-04-14 at 11:48 +0400, George Chelidze wrote:

> It looks reasonable to me as well, however there are two things:
> 
> 1. according to http://tools.ietf.org/html/rfc7230#section-3.2.4, we have:
> 
>     No whitespace is allowed between the header field-name and colon.  In
>     the past, differences in the handling of such whitespace have led to
>     security vulnerabilities in request routing and response handling.  A
>     server MUST reject any received request message that contains
>     whitespace between a header field-name and colon with a response code
>     of 400 (Bad Request).  A proxy MUST remove any such whitespace from a
>     response message before forwarding the message downstream.

Damn, I'm getting behind with my RFCs.  Yes, that seems to support
your position, though it's not entirely clear whether the server
or proxy rules should apply (the CGI script is the origin server
and never receives the whitespace, while HTTPD's role is as a proxy
between the HTTP and CGI protocols).

> 2. according to the http://httpd.apache.org/docs/2.4/env.html, the 
> header should be dropped:

No, that's talking about invalid characters within a header.
Not the same as trailing whitespace being stripped.

> I'll try to explain what seems to be an issue for me:

That seems to me pretty clearly a defect in GGSN, whose header
it is that's affected.

> X-MSISDN : 123456
> 
> GGSN will ignore this "header" as it's not a valid HTTP header

Yet it MUST return 400 (if we accept that rule applies to HTTPD
then it applies equally to $other-agent), and is creating a
defect for itself.  Whoops!

Have you test-driven any other web server or proxy software with this?

-- 
Nick Kew


From dev-return-82358-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 14 12:20:28 2015
Return-Path: <dev-return-82358-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3615717741
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 14 Apr 2015 12:20:28 +0000 (UTC)
Received: (qmail 71294 invoked by uid 500); 14 Apr 2015 12:20:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 71218 invoked by uid 500); 14 Apr 2015 12:20:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 71208 invoked by uid 99); 14 Apr 2015 12:20:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 12:20:27 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of george.chelidze@magticom.ge designates 81.95.160.41 as permitted sender)
Received: from [81.95.160.41] (HELO relay.magticom.ge) (81.95.160.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 12:20:01 +0000
Received: from CAS-HUB02.magticom.ge (cas-hub02.magticom.ge [192.168.19.104])
	by relay.magticom.ge (8.14.2/8.13.8) with ESMTP id t3ECJwsB050185
	for <dev@httpd.apache.org>; Tue, 14 Apr 2015 16:19:58 +0400 (GET)
	(envelope-from george.chelidze@magticom.ge)
Received: from [192.168.9.5] (192.168.9.5) by CAS-HUB02.magticom.ge
 (192.168.19.105) with Microsoft SMTP Server (TLS) id 14.2.347.0; Tue, 14 Apr
 2015 16:19:57 +0400
Message-ID: <552D05BE.3070601@magticom.ge>
Date: Tue, 14 Apr 2015 16:19:10 +0400
From: George Chelidze <gchelidze@magticom.ge>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: <dev@httpd.apache.org>
Subject: Re: Header with trailing space in field name passed to CGI script
References: <552CAF01.3060503@magticom.ge>	 <1428993683.17618.36.camel@mimir.webthing.com>	 <552CC66B.7020305@magticom.ge> <1429003306.17618.51.camel@mimir.webthing.com>
In-Reply-To: <1429003306.17618.51.camel@mimir.webthing.com>
Content-Type: text/plain; charset="utf-8"; format=flowed
Content-Transfer-Encoding: 7bit
X-Originating-IP: [192.168.9.5]
X-Spam-Checker-Version: SpamAssassin 3.3.2 (2011-06-06) on relay.magticom.ge
X-Virus-Scanned: clamav-milter 0.98-exp at relay.magticom.ge
X-Virus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-102.8 required=8.0 tests=ALL_TRUSTED,AWL,BAYES_00,
	RP_MATCHES_RCVD,USER_IN_WHITELIST autolearn=ham version=3.3.2

On 04/14/2015 01:21 PM, Nick Kew wrote:
> Damn, I'm getting behind with my RFCs. Yes, that seems to support your 
> position, though it's not entirely clear whether the server or proxy 
> rules should apply (the CGI script is the origin server and never 
> receives the whitespace, while HTTPD's role is as a proxy between the 
> HTTP and CGI protocols). 
I would say the server rules should apply as HTTPD's role as a proxy 
between HTTP and CGI is not pure HTTP proxy it's an HTTP to CGI proxy.

> No, that's talking about invalid characters within a header.
> Not the same as trailing whitespace being stripped.
My mistake.

> That seems to me pretty clearly a defect in GGSN, whose header
> it is that's affected.
Do you mean GGSN should identify an invalid header as such and remove it 
from the request before forwarding it?

> Yet it MUST return 400 (if we accept that rule applies to HTTPD
> then it applies equally to $other-agent), and is creating a
> defect for itself.  Whoops!
I didn't fully get the idea, sorry. Can you explain in more details?

> Have you test-driven any other web server or proxy software with this?
No I didn't. I'll see what I can do with it.

Thanks,

-- 
George Chelidze


From dev-return-82359-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 14 13:07:46 2015
Return-Path: <dev-return-82359-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A1F6B17905
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 14 Apr 2015 13:07:46 +0000 (UTC)
Received: (qmail 57827 invoked by uid 500); 14 Apr 2015 13:06:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57752 invoked by uid 500); 14 Apr 2015 13:06:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57741 invoked by uid 99); 14 Apr 2015 13:06:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 13:06:43 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of george.chelidze@magticom.ge designates 81.95.160.41 as permitted sender)
Received: from [81.95.160.41] (HELO relay.magticom.ge) (81.95.160.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 13:06:37 +0000
Received: from CAS-HUB02.magticom.ge (cas-hub02.magticom.ge [192.168.19.104])
	by relay.magticom.ge (8.14.2/8.13.8) with ESMTP id t3ED4wRe058512
	for <dev@httpd.apache.org>; Tue, 14 Apr 2015 17:04:58 +0400 (GET)
	(envelope-from george.chelidze@magticom.ge)
Received: from [192.168.9.5] (192.168.9.5) by CAS-HUB02.magticom.ge
 (192.168.19.105) with Microsoft SMTP Server (TLS) id 14.2.347.0; Tue, 14 Apr
 2015 17:04:58 +0400
Message-ID: <552D104B.70406@magticom.ge>
Date: Tue, 14 Apr 2015 17:04:11 +0400
From: George Chelidze <gchelidze@magticom.ge>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: <dev@httpd.apache.org>
Subject: Re: Header with trailing space in field name passed to CGI script
References: <552CAF01.3060503@magticom.ge>	 <1428993683.17618.36.camel@mimir.webthing.com>	 <552CC66B.7020305@magticom.ge> <1429003306.17618.51.camel@mimir.webthing.com>
In-Reply-To: <1429003306.17618.51.camel@mimir.webthing.com>
Content-Type: text/plain; charset="utf-8"; format=flowed
Content-Transfer-Encoding: 7bit
X-Originating-IP: [192.168.9.5]
X-Spam-Checker-Version: SpamAssassin 3.3.2 (2011-06-06) on relay.magticom.ge
X-Virus-Scanned: clamav-milter 0.98-exp at relay.magticom.ge
X-Virus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-102.8 required=8.0 tests=ALL_TRUSTED,AWL,BAYES_00,
	RP_MATCHES_RCVD,USER_IN_WHITELIST autolearn=ham version=3.3.2

> Have you test-driven any other web server or proxy software with this? 
A quick update:

I have made some tests with lighttpd/1.4.31 and below are the results:

1. Trailing SPACE between the field name and the colon is translated to 
the underscore in CGI environment:

so for X-MSISDN : test you get HTTP_X_MSISDN_=test in the environment.

2. Invalid HTTP Version is handled differently:

with apache 2.4.12

GET / HTTP
Host: localhost

HTTP/1.1 200 OK
Date: Tue, 14 Apr 2015 12:51:45 GMT
Server: Apache/2.4.12 (Unix)
Last-Modified: Mon, 11 Jun 2007 18:53:14 GMT
ETag: "2d-432a5e4a73a80"
Accept-Ranges: bytes
Content-Length: 45
Connection: close
Content-Type: text/html

with lighttpd 1.4.31

GET / HTTP
Host: localhost

HTTP/1.0 400 Bad Request
Content-Type: text/html
Content-Length: 349
Connection: close
Date: Tue, 14 Apr 2015 12:52:33 GMT
Server: lighttpd/1.4.31

Thanks,

-- 
George Chelidze


From dev-return-82360-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 14 13:54:12 2015
Return-Path: <dev-return-82360-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 991D217B35
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 14 Apr 2015 13:54:12 +0000 (UTC)
Received: (qmail 50565 invoked by uid 500); 14 Apr 2015 13:54:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50489 invoked by uid 500); 14 Apr 2015 13:54:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50480 invoked by uid 99); 14 Apr 2015 13:54:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 13:54:06 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: local policy)
Received: from [192.109.42.8] (HELO einhorn.in-berlin.de) (192.109.42.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 13:53:41 +0000
X-Envelope-From: stsp@apache.org
Received: from fintan.stsp.name (fintan.stsp.name [217.197.84.44])
	by einhorn.in-berlin.de (8.14.4/8.14.4/Debian-4) with ESMTP id t3EDrGfN022043
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
	Tue, 14 Apr 2015 15:53:18 +0200
Received: from localhost (fintan.stsp.name [local])
	by fintan.stsp.name (OpenSMTPD) with ESMTPA id 597a11ff;
	Tue, 14 Apr 2015 15:53:14 +0200 (CEST)
Date: Tue, 14 Apr 2015 15:53:14 +0200
From: Stefan Sperling <stsp@apache.org>
To: dev@httpd.apache.org
Cc: Stuart Henderson <sthen@openbsd.org>
Subject: unbreak mod_ssl build following removal of "chil" engine in LibreSSL
Message-ID: <20150414135312.GA15703@fintan.stsp.name>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.23 (2014-03-12)
X-Virus-Checked: Checked by ClamAV on apache.org

I'm trying to update OpenBSD's port of Apache HTTPD to the 2.4 series.
This is the first in a small series of diffs from the OpenBSD ports tree.
I hope OpenBSD will eventually be able to drop its custom patches. If you're
at ApacheCon in Austin this week please feel free to talk to me in person.

mod_ssl unconditionally uses a macro related to the "chil" engine, which has
been removed from LibreSSL. Guard use of this macro based on its presence.

Patch by Stuart Henderson, obtained by me from the OpenBSD ports tree.
http://cvsweb.openbsd.org/cgi-bin/cvsweb/ports/www/apache-httpd/patches/patch-modules_ssl_ssl_engine_init_c?rev=1.1&content-type=text/x-cvsweb-markup

Index: modules/ssl/ssl_engine_init.c
===================================================================
--- modules/ssl/ssl_engine_init.c	(revision 1673296)
+++ modules/ssl/ssl_engine_init.c	(working copy)
@@ -374,9 +374,11 @@
             return ssl_die(s);
         }
 
+#ifdef ENGINE_CTRL_CHIL_SET_FORKCHECK
         if (strEQ(mc->szCryptoDevice, "chil")) {
             ENGINE_ctrl(e, ENGINE_CTRL_CHIL_SET_FORKCHECK, 1, 0, 0);
         }
+#endif
 
         if (!ENGINE_set_default(e, ENGINE_METHOD_ALL)) {
             ap_log_error(APLOG_MARK, APLOG_EMERG, 0, s, APLOGNO(01889)

From dev-return-82361-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 14 16:00:25 2015
Return-Path: <dev-return-82361-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F2E4B172B3
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 14 Apr 2015 16:00:25 +0000 (UTC)
Received: (qmail 72440 invoked by uid 500); 14 Apr 2015 15:59:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 72363 invoked by uid 500); 14 Apr 2015 15:59:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 72350 invoked by uid 99); 14 Apr 2015 15:59:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 15:59:51 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of covener@gmail.com designates 209.85.212.170 as permitted sender)
Received: from [209.85.212.170] (HELO mail-wi0-f170.google.com) (209.85.212.170)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 15:59:26 +0000
Received: by widdi4 with SMTP id di4so119536154wid.0
        for <dev@httpd.apache.org>; Tue, 14 Apr 2015 08:58:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        bh=V72vUo5PS73BLeGWSeQBJ/ZuvEqy5JtUONguVDZQPU8=;
        b=HujNA9QQG7hP7gVrSLUlv7wR4CJl8TIqkL6AiypQqcRfTSw4YDFYzw07odugVxum9s
         b4B3WUUnXSuEF6yVOVFm7cWaAtXQIEUNgtjzsDrPL3hqb8/1zT/hBKrUDNy/T156IlXp
         sqZxffFhhFrgc5CsZnMV2Mg3uqSqZywQIwyTsk6XaJfaK7xVOfMic0NZ6OkAFcpFxq9y
         igH+BYnBbculd/9xQm2atzIknsFHJrmP6Y6Yu2Zgb5GlaEvhsP5gYu/O3I7D+J+LH8KQ
         WGdRhHe80VWDFOYuCsfgYau+AabT1PeDOTqb7BYqstbd7irxHymsSnPFSIhVGuEDNMQB
         Ih6w==
MIME-Version: 1.0
X-Received: by 10.180.93.166 with SMTP id cv6mr33079705wib.89.1429027119808;
 Tue, 14 Apr 2015 08:58:39 -0700 (PDT)
Received: by 10.27.26.200 with HTTP; Tue, 14 Apr 2015 08:58:39 -0700 (PDT)
In-Reply-To: <20150414135312.GA15703@fintan.stsp.name>
References: <20150414135312.GA15703@fintan.stsp.name>
Date: Tue, 14 Apr 2015 11:58:39 -0400
Message-ID: <CALK=YjMrm3F_+qsugAqPiLvoGunMdsmo6JaDc8=T6izpZxBjfA@mail.gmail.com>
Subject: Re: unbreak mod_ssl build following removal of "chil" engine in LibreSSL
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Cc: Stuart Henderson <sthen@openbsd.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Apr 14, 2015 at 9:53 AM, Stefan Sperling <stsp@apache.org> wrote:
> ENGINE_CTRL_CHIL_SET_FORKCHECK

Thanks Stefan and Stuart, committed verbatim in r1673455 and will
propose for backport soon.  I'd expect it in 2.4.13.

From dev-return-82362-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 14 16:53:39 2015
Return-Path: <dev-return-82362-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3FB581752C
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 14 Apr 2015 16:53:39 +0000 (UTC)
Received: (qmail 39323 invoked by uid 500); 14 Apr 2015 16:53:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39258 invoked by uid 500); 14 Apr 2015 16:53:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 39247 invoked by uid 99); 14 Apr 2015 16:53:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 16:53:35 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of covener@gmail.com designates 74.125.82.44 as permitted sender)
Received: from [74.125.82.44] (HELO mail-wg0-f44.google.com) (74.125.82.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 16:53:09 +0000
Received: by wgyo15 with SMTP id o15so18980946wgy.2
        for <dev@httpd.apache.org>; Tue, 14 Apr 2015 09:52:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=7O5p15n9xewAuRU3LnM9Z+PDZ6i7JdkTWWSnbU+pV3s=;
        b=QjW6Y2KCvMWY0NsgyPFWErBEWCDWiVBgN4fLjyiKNpT/XFmMg2IhdWx/1Atp3AsV7L
         o0pf3IH9Psr8Cb3WAZ7jCYmTrZfRuBbz3yFR2NqF/ciFLOPRRIOw+pVKEpo7DxOGHpnT
         LEFTQXFEDte5e2IG6DnzANjJ1o1IJzg3XfntCy0S1wuCImED/b3MOP7QRMtYAaqtXoKE
         YgmfpeVmFskVzOVx0KDA/BFBn0UBd/PbclLibYuBgo8zWUMWyt3FQX+whzp7l7DsuGn9
         eyo/tOy9F54GJsnp+nEmpu1N7E2W2U4huaECBGl2Bi4amkslszUPRalbaxvWaJ7DX/O7
         l82A==
MIME-Version: 1.0
X-Received: by 10.194.171.1 with SMTP id aq1mr41931452wjc.38.1429030343243;
 Tue, 14 Apr 2015 09:52:23 -0700 (PDT)
Received: by 10.27.26.200 with HTTP; Tue, 14 Apr 2015 09:52:23 -0700 (PDT)
Received: by 10.27.26.200 with HTTP; Tue, 14 Apr 2015 09:52:23 -0700 (PDT)
In-Reply-To: <CAN9c_NSbgt3hJGbH1iWuMmFRnD-6iSDwzRSDMSs-f4K7XhnBMA@mail.gmail.com>
References: <CAN9c_NRi0OF0WcXqtkPLt0N8Foibb-XghN84z55x4BguuafF4g@mail.gmail.com>
	<CAN9c_NSbgt3hJGbH1iWuMmFRnD-6iSDwzRSDMSs-f4K7XhnBMA@mail.gmail.com>
Date: Tue, 14 Apr 2015 12:52:23 -0400
Message-ID: <CALK=YjP498nE5uGiQxod7UKc4H0EPa8cc-0=WY+PuCH1J8LsiA@mail.gmail.com>
Subject: Re: FYI - version checking against libressl - FYI (not yet a bug)
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e013c65eefb7f960513b20dbe
X-Virus-Checked: Checked by ClamAV on apache.org

--089e013c65eefb7f960513b20dbe
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Now fixed in trunk
On Apr 12, 2015 4:17 PM, "Michael Felt" <mamfelt@gmail.com> wrote:

> I have rebuilt my build systems - basically stripping them of accumulated
> libraries, and now no "OpenSSL" installed, but "LibreSSL".
>
> A basic characteristic of LibreSSL is to remove exposed parts of the
> API/ABI in order to make the package more secure.
>
> Now maybe httpd needs this aspect it is now falling over, in which case -
> someone much more into httpd code than I explain the need. If it is not
> really "needed" this may be a bug.
>
> In any case when trying to build httpd-2.4.12 from:
>
>  ./configure --enable-layout=3DAIX --with-apr=3D/opt/bin/apr-1-config
> --with-apr-util=3D/opt/bin/apu-1-config --enable-mpms-shared=3Dall
> --enable-mods-shared=3Dall --disable-lua --enable-ssl --with-ssl=3D/opt
>
> It fails during make with:
>
>         /opt/build-1/libtool --silent --mode=3Dcompile xlc -I/opt/include
> -qHALT=3DE      -U__STR__ -D_THREAD_SAFE -D_USE_IRS
> -D_LARGEF/httpd-2.4.12/os/unix
> -I/data/prj/apache/httpd/httpd-2.4.12/include -I/opt/include/apr-1
> -I/opt/include -I/data/prj/apache/httpd/htpd/httpd-2.4.12/modules/cache
> -I/data/prj/apache/httpd/httpd-2.4.12/modules/core
> -I/data/prj/apache/httpd/httpd-2.4.12/modules/datadules/filters
> -I/data/prj/apache/httpd/httpd-2.4.12/modules/ldap
> -I/data/prj/apache/httpd/httpd-2.4.12/server
> -I/data/prj/apache/htapache/httpd/httpd-2.4.12/modules/lua
> -I/data/prj/apache/httpd/httpd-2.4.12/modules/proxy
> -I/data/prj/apache/httpd/httpd-2.4.12/mod.4.12/modules/ssl
> -I/data/prj/apache/httpd/httpd-2.4.12/modules/test
> -I/data/prj/apache/httpd/httpd-2.4.12/server
> -I/data/prj/apacha/prj/apache/httpd/httpd-2.4.12/modules/dav/main
> -I/data/prj/apache/httpd/httpd-2.4.12/modules/generators
> -I/data/prj/apache/httpd/sl_engine_init.c && touch ssl_engine_init.slo
> "ssl_engine_init.c", line 357.28: 1506-045 (S) Undeclared identifier
> ENGINE_CTRL_CHIL_SET_FORKCHECK.
> make: 1254-004 The error code from the last command is 1.
>
> Note: if I leave out the --enable-ssl --with-ssl=3D/opt the package build=
s
> as expected.
>
> On Fri, Apr 10, 2015 at 2:26 PM, Michael Felt <mamfelt@gmail.com> wrote:
>
>> I am experimenting with libressl - and just thought I would mention an
>> error message I am getting with regard to openssl compatibility
>>
>> And if this has already been reported - please ignore - and accept my
>> apologies. I have not scanned the maillist for a previous report.
>>
>> =C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=
=C2=B1=C2=B1=C2=B1
>>
>> configure: WARNING: Your APR does not include SSL/EVP support. To enable
>> it: configure --with-crypto
>> configure: WARNING: OpenSSL libraries are unusable
>>
>> Now there are differences between OpenSSL and LibreSSL - so you may need
>> to be thinking about different tests for testing OpenSSL API suitability=
.
>>
>> =C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=
=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1
>> From config.log - some additional feedback.
>>
>> configure:25683: checking for OpenSSL version >=3D 0.9.8a
>> configure:25702: xlc -c -I/opt/include -I/opt/buildaix/include -O2
>> -I/opt/include -L/opt/lib -qHALT=3DE -I/op
>> t/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS -D_LARGEFILE64_SOURCE
>> conftest.c >&5
>> configure:25702: $? =3D 0
>> configure:25703: result: OK
>> ...
>>
>> configure:25772: checking for openssl/engine.h
>> configure:25772: result: yes
>> configure:25785: checking for SSLeay_version
>> configure:25785: xlc -o conftest -I/opt/include -I/opt/buildaix/include
>> -O2 -I/opt/include -L/opt/lib -qHAL
>> T=3DE -I/opt/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS
>> -D_LARGEFILE64_SOURCE  -Wl,-brtl conftest.c -lssl -l
>> crypto  -lpthread >&5
>> ld: 0711-317 ERROR: Undefined symbol: .SSLeay_version
>> ....
>> | }
>> configure:25785: result: no
>> configure:25785: checking for SSL_CTX_new
>> configure:25785: xlc -o conftest -I/opt/include -I/opt/buildaix/include
>> -O2 -I/opt/include -L/opt/lib -qHAL
>> T=3DE -I/opt/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS
>> -D_LARGEFILE64_SOURCE  -Wl,-brtl conftest.c -lssl -l
>> crypto  -lpthread >&5
>> ld: 0711-317 ERROR: Undefined symbol: .SSL_CTX_new
>> ...
>> | }
>> configure:25785: result: no
>> configure:25799: checking for ENGINE_init
>> configure:25799: xlc -o conftest -I/opt/include -I/opt/buildaix/include
>> -O2 -I/opt/include -L/opt/lib -qHAL
>> T=3DE -I/opt/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS
>> -D_LARGEFILE64_SOURCE  -Wl,-brtl conftest.c -lssl -l
>> crypto  -lpthread >&5
>> ld: 0711-317 ERROR: Undefined symbol: .ENGINE_init
>> ...
>> | }
>> configure:25799: result: no
>> configure:25799: checking for ENGINE_load_builtin_engines
>> configure:25799: xlc -o conftest -I/opt/include -I/opt/buildaix/include
>> -O2 -I/opt/include -L/opt/lib -qHAL
>> T=3DE -I/opt/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS
>> -D_LARGEFILE64_SOURCE  -Wl,-brtl conftest.c -lssl -l
>> crypto  -lpthread >&5
>> ld: 0711-317 ERROR: Undefined symbol: .ENGINE_load_builtin_engines
>>
>> ...
>>
>> | }
>> configure:25799: result: no
>> configure:25809: WARNING: OpenSSL libraries are unusable
>> configure:25822: result: yes
>>
>>
>>
>

--089e013c65eefb7f960513b20dbe
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">Now fixed in trunk</p>
<div class=3D"gmail_quote">On Apr 12, 2015 4:17 PM, &quot;Michael Felt&quot=
; &lt;<a href=3D"mailto:mamfelt@gmail.com">mamfelt@gmail.com</a>&gt; wrote:=
<br type=3D"attribution"><blockquote class=3D"gmail_quote" style=3D"margin:=
0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><d=
iv><div><div><div>I have rebuilt my build systems - basically stripping the=
m of accumulated libraries, and now no &quot;OpenSSL&quot; installed, but &=
quot;LibreSSL&quot;.<br><br></div>A basic characteristic of LibreSSL is to =
remove exposed parts of the API/ABI in order to make the package more secur=
e.<br><br></div>Now maybe httpd needs this aspect it is now falling over, i=
n which case - someone much more into httpd code than I explain the need. I=
f it is not really &quot;needed&quot; this may be a bug.<br><br></div>In an=
y case when trying to build httpd-2.4.12 from:<br><br>=C2=A0./configure --e=
nable-layout=3DAIX --with-apr=3D/opt/bin/apr-1-config --with-apr-util=3D/op=
t/bin/apu-1-config --enable-mpms-shared=3Dall --enable-mods-shared=3Dall --=
disable-lua --enable-ssl --with-ssl=3D/opt<br><br>It fails during make with=
:<br><br>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 /opt/build-1/libtool --=
silent --mode=3Dcompile xlc -I/opt/include -qHALT=3DE=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0 -U__STR__ -D_THREAD_SAFE -D_USE_IRS -D_LARGEF/httpd-2.4.12/os/uni=
x -I/data/prj/apache/httpd/httpd-2.4.12/include -I/opt/include/apr-1 -I/opt=
/include -I/data/prj/apache/httpd/htpd/httpd-2.4.12/modules/cache -I/data/p=
rj/apache/httpd/httpd-2.4.12/modules/core -I/data/prj/apache/httpd/httpd-2.=
4.12/modules/datadules/filters -I/data/prj/apache/httpd/httpd-2.4.12/module=
s/ldap -I/data/prj/apache/httpd/httpd-2.4.12/server -I/data/prj/apache/htap=
ache/httpd/httpd-2.4.12/modules/lua -I/data/prj/apache/httpd/httpd-2.4.12/m=
odules/proxy -I/data/prj/apache/httpd/httpd-2.4.12/mod.4.12/modules/ssl -I/=
data/prj/apache/httpd/httpd-2.4.12/modules/test -I/data/prj/apache/httpd/ht=
tpd-2.4.12/server -I/data/prj/apacha/prj/apache/httpd/httpd-2.4.12/modules/=
dav/main -I/data/prj/apache/httpd/httpd-2.4.12/modules/generators -I/data/p=
rj/apache/httpd/sl_engine_init.c &amp;&amp; touch ssl_engine_init.slo<br>&q=
uot;ssl_engine_init.c&quot;, line 357.28: 1506-045 (S) Undeclared identifie=
r ENGINE_CTRL_CHIL_SET_FORKCHECK.<br>make: 1254-004 The error code from the=
 last command is 1.<br><br></div>Note: if I leave out the --enable-ssl --wi=
th-ssl=3D/opt the package builds as expected.<br></div><div class=3D"gmail_=
extra"><br><div class=3D"gmail_quote">On Fri, Apr 10, 2015 at 2:26 PM, Mich=
ael Felt <span dir=3D"ltr">&lt;<a href=3D"mailto:mamfelt@gmail.com" target=
=3D"_blank">mamfelt@gmail.com</a>&gt;</span> wrote:<br><blockquote class=3D=
"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding=
-left:1ex"><div dir=3D"ltr"><div><div>I am experimenting with libressl - an=
d just thought I would mention an error message I am getting with regard to=
 openssl compatibility<br><br></div><div>And if this has already been repor=
ted - please ignore - and accept my apologies. I have not scanned the maill=
ist for a previous report.<br><br>=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=
=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1<br></div><div><br>confi=
gure: WARNING: Your APR does not include SSL/EVP support. To enable it: con=
figure --with-crypto<br>configure: WARNING: OpenSSL libraries are unusable<=
br><br></div>Now there are differences between OpenSSL and LibreSSL - so yo=
u may need to be thinking about different tests for testing OpenSSL API sui=
tability.<br><br>=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=
=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1=C2=B1<br></div>From config.lo=
g - some additional feedback.<br><br>configure:25683: checking for OpenSSL =
version &gt;=3D 0.9.8a<br>configure:25702: xlc -c -I/opt/include -I/opt/bui=
ldaix/include -O2 -I/opt/include -L/opt/lib -qHALT=3DE -I/op<br>t/include -=
U__STR__ -D_THREAD_SAFE -D_USE_IRS -D_LARGEFILE64_SOURCE conftest.c &gt;&am=
p;5<br>configure:25702: $? =3D 0<br>configure:25703: result: OK<br>...<br><=
br><div><div>configure:25772: checking for openssl/engine.h<br>configure:25=
772: result: yes<br>configure:25785: checking for SSLeay_version<br>configu=
re:25785: xlc -o conftest -I/opt/include -I/opt/buildaix/include -O2 -I/opt=
/include -L/opt/lib -qHAL<br>T=3DE -I/opt/include -U__STR__ -D_THREAD_SAFE =
-D_USE_IRS -D_LARGEFILE64_SOURCE=C2=A0 -Wl,-brtl conftest.c -lssl -l<br>cry=
pto=C2=A0 -lpthread &gt;&amp;5<br>ld: 0711-317 ERROR: Undefined symbol: .SS=
Leay_version<br>....<br>| }<br>configure:25785: result: no<br>configure:257=
85: checking for SSL_CTX_new<br>configure:25785: xlc -o conftest -I/opt/inc=
lude -I/opt/buildaix/include -O2 -I/opt/include -L/opt/lib -qHAL<br>T=3DE -=
I/opt/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS -D_LARGEFILE64_SOURCE=C2=
=A0 -Wl,-brtl conftest.c -lssl -l<br>crypto=C2=A0 -lpthread &gt;&amp;5<br>l=
d: 0711-317 ERROR: Undefined symbol: .SSL_CTX_new<br>...<br>| }<br>configur=
e:25785: result: no<br>configure:25799: checking for ENGINE_init<br>configu=
re:25799: xlc -o conftest -I/opt/include -I/opt/buildaix/include -O2 -I/opt=
/include -L/opt/lib -qHAL<br>T=3DE -I/opt/include -U__STR__ -D_THREAD_SAFE =
-D_USE_IRS -D_LARGEFILE64_SOURCE=C2=A0 -Wl,-brtl conftest.c -lssl -l<br>cry=
pto=C2=A0 -lpthread &gt;&amp;5<br>ld: 0711-317 ERROR: Undefined symbol: .EN=
GINE_init<br>...<br>| }<br>configure:25799: result: no<br>configure:25799: =
checking for ENGINE_load_builtin_engines<br>configure:25799: xlc -o conftes=
t -I/opt/include -I/opt/buildaix/include -O2 -I/opt/include -L/opt/lib -qHA=
L<br>T=3DE -I/opt/include -U__STR__ -D_THREAD_SAFE -D_USE_IRS -D_LARGEFILE6=
4_SOURCE=C2=A0 -Wl,-brtl conftest.c -lssl -l<br>crypto=C2=A0 -lpthread &gt;=
&amp;5<br>ld: 0711-317 ERROR: Undefined symbol: .ENGINE_load_builtin_engine=
s<br><br>...<br><br>| }<br>configure:25799: result: no<br>configure:25809: =
WARNING: OpenSSL libraries are unusable<br>configure:25822: result: yes<br>=
<br><br></div></div></div>
</blockquote></div><br></div>
</blockquote></div>

--089e013c65eefb7f960513b20dbe--

From dev-return-82363-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 14 17:39:27 2015
Return-Path: <dev-return-82363-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 031A5177CF
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 14 Apr 2015 17:39:26 +0000 (UTC)
Received: (qmail 84578 invoked by uid 500); 14 Apr 2015 17:39:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84506 invoked by uid 500); 14 Apr 2015 17:39:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84496 invoked by uid 99); 14 Apr 2015 17:39:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 17:39:26 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kahan@w3.org designates 193.51.208.79 as permitted sender)
Received: from [193.51.208.79] (HELO lewis.sophia.w3.org) (193.51.208.79)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 17:38:59 +0000
Received: from mut38-7-78-226-234-114.fbx.proxad.net ([78.226.234.114] helo=kiribati.inrialpes.fr)
	by lewis.sophia.w3.org with esmtpsa (TLS1.2:DHE_RSA_AES_256_CBC_SHA256:256)
	(Exim 4.80)
	(envelope-from <kahan@w3.org>)
	id 1Yi4nZ-0003g6-Cj
	for dev@httpd.apache.org; Tue, 14 Apr 2015 17:38:57 +0000
Received: by kiribati.inrialpes.fr (Postfix, from userid 50104)
	id B4D5A56D; Tue, 14 Apr 2015 19:38:52 +0200 (CEST)
Date: Tue, 14 Apr 2015 19:38:52 +0200
From: Jose Kahan <jose.kahan@w3.org>
To: dev@httpd.apache.org
Subject: Extending mod_authz_dbd
Message-ID: <20150414173852.GA7233@kiribati.inrialpes.fr>
Reply-To: jose.kahan@w3.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.21 (2010-09-15)
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

We're preparing the migration to apache 2.4 and we're happy
to see that many features now available allow us to put to
rest most of our custom developed modules.

Looking at mod_authz_dbd, we would like to make a request
against a dbase passing different parameters (REQUEST_URI, 
REQUEST_METHOD, REMOTE_USER, ...) to support a fine-grained
ACL mechanism. However, this module doesn't seem to support
resolving those variables when preparing the SQL query. 
Looking at the code, the only one that seems supported is 
a hard-coded r->user in authz_dbd_group_query:

 rv = apr_dbd_pvselect(dbd->driver, r->pool, dbd->handle, &res,
                       query, 0, r->user, NULL);

Is there any historical reason for this? Would you be interested
in our contributing time to extend this module to support more
generic queries such as (invented query)

require sql-query "SELECT * FROM foo WHERE user=${REMOTE_USER} 
                   AND uri=${REQUEST_URI} AND ${REQUEST_METHOD} in
	           ('GET', 'POST')"

While browsing for information regarding this point, I only
found people asking if this was possible, but no hints if there
had been (or will be) plans to do this.

The defunct mod_auth_mysql used to propose something similar. i
This module is not officially maintained anymore.

A possible point of confusion in the module's doc [1] is the 
phrase saying 

  "Since v2.4.8, expressions are supported within the DBD 
   require directives."

while the requires in the paragraphs below can't support expressions, 
as far as I can tell. I may be missing something.

Please keep me update if you'd be interested in this generic 
contribution, which we would be happy to make, rather than forking 
and maintaining a derived and non-generic patch to this module.

If you're interested, I'd appreciate some feedback on how the feature
should look like so that it's designed that way before coding it,
rather than coding, proposing the contribution and getting feedback
it wasn't what x had in mind.

Of course, it's understood that your showing interest for this doesn't 
mean you will end up accepting the contribution.

Thanks and KUDOS! Apache 2.4 rocks!

-jose

From dev-return-82364-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 14 19:33:49 2015
Return-Path: <dev-return-82364-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F214717465
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 14 Apr 2015 19:33:48 +0000 (UTC)
Received: (qmail 23079 invoked by uid 500); 14 Apr 2015 19:33:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23015 invoked by uid 500); 14 Apr 2015 19:33:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23005 invoked by uid 99); 14 Apr 2015 19:33:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 19:33:48 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: local policy)
Received: from [209.85.214.178] (HELO mail-ob0-f178.google.com) (209.85.214.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 19:33:23 +0000
Received: by obfe9 with SMTP id e9so8020944obf.1
        for <dev@httpd.apache.org>; Tue, 14 Apr 2015 12:32:17 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:message-id:date:from:user-agent:mime-version:to
         :subject:content-type:content-transfer-encoding;
        bh=VZQ9HaEF5IFi/zmcB1L5Mycw/wwf+9kQpQuactpnJe4=;
        b=KaYLOgF8XZA634HFr5s9F0SRMIyW+/G8N06M+wZXwNYj7UqWWuPOJM2RD9X0cY4jDG
         0WzqWuQyFTH8YhYc7oXyxHpk3BH7R+LQ9EQGCmGHc2yt7kwTjTEUMfz2reyrEo9Pz0Et
         gTwLA6OHLnZQTPkPqKoMvAACU+eMl+Ug/mjz90rp7aOCKQJuQdclf1UNmKkHIiYwI8my
         Ndh04pEyXhf5uZRURhLLxAzIXwIUTeAoXsaEOCoZS5QKJVMri/AbJiDaw7JnnN1o0e3j
         DOsAyyCh1+f6BOo9+Cc0ITNzitUZa7/WfEULZU6mp5JYGHoKFDAg/Hh7u1NJajZ0nnBf
         nx0w==
X-Gm-Message-State: ALoCoQk/6W8bC4S2bLVlJOC6izpGlI2Vkeczpx3/YbypUB6XInE77m8wC1P3Idwd+bvc/QesyZkJ
X-Received: by 10.182.134.169 with SMTP id pl9mr17746067obb.32.1429039937037;
        Tue, 14 Apr 2015 12:32:17 -0700 (PDT)
Received: from localhost.localdomain ([207.238.37.2])
        by mx.google.com with ESMTPSA id bt6sm1016306obd.0.2015.04.14.12.32.14
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Tue, 14 Apr 2015 12:32:15 -0700 (PDT)
Message-ID: <552D6B3C.2060108@rcbowen.com>
Date: Tue, 14 Apr 2015 15:32:12 -0400
From: Rich Bowen <rbowen@rcbowen.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Photos at ApacheCon
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

httpd developers,

If you're at ApacheCon, please try to drop by the registration desk at 
3:50 for a photo of the httpd committers with The Feather

Context - https://www.flickr.com/photos/iamamoose/63963722/

We're going to take several photos with the feather to recreate this 
photo from 1998, with an updated httpd dev team.

Thanks!



-- 
Rich Bowen - rbowen@rcbowen.com - @rbowen
http://apachecon.com/ - @apachecon

From dev-return-82365-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 14 21:26:25 2015
Return-Path: <dev-return-82365-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 31D6B1795A
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 14 Apr 2015 21:26:25 +0000 (UTC)
Received: (qmail 11405 invoked by uid 500); 14 Apr 2015 21:26:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 11324 invoked by uid 500); 14 Apr 2015 21:26:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 11314 invoked by uid 99); 14 Apr 2015 21:26:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 21:26:24 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: local policy)
Received: from [209.85.216.47] (HELO mail-vn0-f47.google.com) (209.85.216.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 21:25:59 +0000
Received: by vnbg62 with SMTP id g62so8414272vnb.7
        for <dev@httpd.apache.org>; Tue, 14 Apr 2015 14:24:52 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:message-id:date:from:user-agent:mime-version:to
         :subject:references:in-reply-to:content-type
         :content-transfer-encoding;
        bh=YbFEoxNdhfcmpvE/LVU0frsafoPGg8VBA+YpBgz9YxI=;
        b=M03Vd0svK+vJ0Xd2i6Yh6AHIBiHqHq8ooz6gC4dxhiL4XoN2qlU/Vz/8HmP437gF9t
         p9MV5jRLi0CnKfT5vZkXzBXj23cHQN1Cn0U6+CZ3CxY9WmzTn7lEap5hQBKX7ynQnRAx
         BEbIkc+MhmEcs6qZI2iqXw3Bv6RVjCQv13BDmDpT0teHmog2lSPtUyhXTnEQ0Rn0mDa7
         IU+/0D1L5VHJnnD6HmjNZEUm05nc1rBRrkrKj18MEbE3YESOTmVKVNpw8XzopkjJ4tY6
         xW90MwcHFvFvhj4ljG7i3V+oBLs3xEpgz5IkTfpQFlSvs7XZYt5GBPLZCJFx243kJzhB
         v7sw==
X-Gm-Message-State: ALoCoQl7lm+qKvPwvigCveJ+bp8XPW/wxmZK8esYY2ZVBTDNTW6Z469U0qErhhOPo4hlUjtHAKLv
X-Received: by 10.182.56.196 with SMTP id c4mr18314329obq.26.1429046692448;
        Tue, 14 Apr 2015 14:24:52 -0700 (PDT)
Received: from localhost.localdomain ([207.238.37.2])
        by mx.google.com with ESMTPSA id bt6sm1193268obd.0.2015.04.14.14.24.50
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Tue, 14 Apr 2015 14:24:50 -0700 (PDT)
Message-ID: <552D85A0.6010808@rcbowen.com>
Date: Tue, 14 Apr 2015 17:24:48 -0400
From: Rich Bowen <rbowen@rcbowen.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: Photos at ApacheCon
References: <552D6B3C.2060108@rcbowen.com>
In-Reply-To: <552D6B3C.2060108@rcbowen.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

A huge thank you to those who managed to show up on such short notice.

The photos are at 
https://www.flickr.com/photos/rbowen/sets/72157651553317030/

--Rich

On 04/14/2015 03:32 PM, Rich Bowen wrote:
> httpd developers,
>
> If you're at ApacheCon, please try to drop by the registration desk at
> 3:50 for a photo of the httpd committers with The Feather
>
> Context - https://www.flickr.com/photos/iamamoose/63963722/
>
> We're going to take several photos with the feather to recreate this
> photo from 1998, with an updated httpd dev team.
>
> Thanks!
>
>
>


-- 
Rich Bowen - rbowen@rcbowen.com - @rbowen
http://apachecon.com/ - @apachecon

From dev-return-82366-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 14 22:15:22 2015
Return-Path: <dev-return-82366-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E4BFC17B9B
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 14 Apr 2015 22:15:21 +0000 (UTC)
Received: (qmail 65687 invoked by uid 500); 14 Apr 2015 22:15:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65567 invoked by uid 500); 14 Apr 2015 22:15:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65547 invoked by uid 99); 14 Apr 2015 22:15:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 22:15:21 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rainer.jung@kippdata.de designates 195.227.30.149 as permitted sender)
Received: from [195.227.30.149] (HELO mailserver.kippdata.de) (195.227.30.149)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Apr 2015 22:15:15 +0000
Received: from [172.24.0.2] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t3EMErGN029690;
	Wed, 15 Apr 2015 00:14:53 +0200 (CEST)
Message-ID: <552D915A.3090606@kippdata.de>
Date: Wed, 15 Apr 2015 00:14:50 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org, docs@httpd.apache.org
Subject: Re: svn commit: r1673470 - /httpd/httpd/trunk/docs/manual/mod/mod_deflate.xml
References: <20150414170611.34D83AC0113@hades.apache.org>
In-Reply-To: <20150414170611.34D83AC0113@hades.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Am 14.04.2015 um 19:06 schrieb rbowen@apache.org:
> Author: rbowen
> Date: Tue Apr 14 17:06:10 2015
> New Revision: 1673470
>
> URL: http://svn.apache.org/r1673470
> Log:
> Add "pre-compressed content" recipe, as per
> https://bz.apache.org/bugzilla/show_bug.cgi?id=51336
>
> Modified:
>      httpd/httpd/trunk/docs/manual/mod/mod_deflate.xml
>
> Modified: httpd/httpd/trunk/docs/manual/mod/mod_deflate.xml
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/mod_deflate.xml?rev=1673470&r1=1673469&r2=1673470&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/docs/manual/mod/mod_deflate.xml (original)
> +++ httpd/httpd/trunk/docs/manual/mod/mod_deflate.xml Tue Apr 14 17:06:10 2015
> @@ -178,6 +178,51 @@ SetEnvIfNoCase Request_URI \.(?:gif|jpe?
>       </example>
>   </section>
>
> +<section id="precompressed"><title>Serving pre-compressed
> +content</title>
> +
> +    <p>Since <module>mod_deflate</module> re-compresses content each
> +    time a request is made, some performance benefit can be derived by
> +    pre-compressing the content and telling mod_deflate to serve them
> +    without re-compressing them. This may be accomplished using a
> +    configuration like the following:</p>
> +
> +    <highlight language="config">
> +  &lt;IfModule mod_headers.c&gt;
> +    # Serve gzip compressed CSS files if they exist
> +    # and the client accepts gzip.
> +    RewriteCond %{HTTP:Accept-encoding} gzip
> +    RewriteCond %{REQUEST_FILENAME}\.gz -s
> +    RewriteRule ^(.*)\.css $1\.css\.gz [QSA]
> +
> +    # Serve gzip compressed JS files if they exist
> +    # and the client accepts gzip.
> +    RewriteCond %{HTTP:Accept-encoding} gzip
> +    RewriteCond %{REQUEST_FILENAME}\.gz -s
> +    RewriteRule ^(.*)\.js $1\.js\.gz [QSA]
> +
> +
> +    # Serve correct content types, and prevent mod_deflate double gzip.
> +    RewriteRule \.css\.gz$ - [T=text/css,E=no-gzip:1]
> +    RewriteRule \.js\.gz$ - [T=text/javascript,E=no-gzip:1]
> +
> +
> +    &lt;FilesMatch "(\.js\.gz|\.css\.gz)$"&gt;
> +      # Serve correct encoding type.
> +      Header append Content-Encoding gzip
> +
> +      # Force proxies to cache gzipped &amp;
> +      # non-gzipped css/js files separately.
> +      Header append Vary Accept-Encoding
> +    &lt;/FilesMatch&gt;
> +  &lt;/IfModule&gt;
> +</IfModule>
> +
> +
> +    </highlight>
> +
> +</section>
> +
>   <directivesynopsis>
>   <name>DeflateFilterNote</name>
>   <description>Places the compression ratio in a note for logging</description>

AFAIK mod_rewrite automatically adds headers from RewriteCond to the 
Vary header as long as no "NV" flag is used. So the "Header append Vary 
Accept-Encoding" part should not be necessary.

Thanks for putting effort into documenting the recipe.

Regards,

Rainer

From dev-return-82367-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 15 06:57:06 2015
Return-Path: <dev-return-82367-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A9B8417E50
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 15 Apr 2015 06:57:06 +0000 (UTC)
Received: (qmail 91978 invoked by uid 500); 15 Apr 2015 06:56:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91885 invoked by uid 500); 15 Apr 2015 06:56:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91865 invoked by uid 99); 15 Apr 2015 06:56:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 06:56:43 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rainer.jung@kippdata.de designates 195.227.30.149 as permitted sender)
Received: from [195.227.30.149] (HELO mailserver.kippdata.de) (195.227.30.149)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 06:56:38 +0000
Received: from [172.24.0.2] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t3F6u86v003198;
	Wed, 15 Apr 2015 08:56:09 +0200 (CEST)
Message-ID: <552E0B86.4040302@kippdata.de>
Date: Wed, 15 Apr 2015 08:56:06 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
Reply-To: dev@httpd.apache.org
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org, docs@httpd.apache.org
Subject: Re: svn commit: r1673470 - /httpd/httpd/trunk/docs/manual/mod/mod_deflate.xml
References: <20150414170611.34D83AC0113@hades.apache.org> <552D915A.3090606@kippdata.de>
In-Reply-To: <552D915A.3090606@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Am 15.04.2015 um 00:14 schrieb Rainer Jung:
> Am 14.04.2015 um 19:06 schrieb rbowen@apache.org:
>> Author: rbowen
>> Date: Tue Apr 14 17:06:10 2015
>> New Revision: 1673470
>>
>> URL: http://svn.apache.org/r1673470
>> Log:
>> Add "pre-compressed content" recipe, as per
>> https://bz.apache.org/bugzilla/show_bug.cgi?id=51336
>>
>> Modified:
>>      httpd/httpd/trunk/docs/manual/mod/mod_deflate.xml
>>
>> Modified: httpd/httpd/trunk/docs/manual/mod/mod_deflate.xml
>> URL:
>> http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/mod_deflate.xml?rev=1673470&r1=1673469&r2=1673470&view=diff
>>
>> ==============================================================================
>>
>> --- httpd/httpd/trunk/docs/manual/mod/mod_deflate.xml (original)
>> +++ httpd/httpd/trunk/docs/manual/mod/mod_deflate.xml Tue Apr 14
>> 17:06:10 2015
>> @@ -178,6 +178,51 @@ SetEnvIfNoCase Request_URI \.(?:gif|jpe?
>>       </example>
>>   </section>
>>
>> +<section id="precompressed"><title>Serving pre-compressed
>> +content</title>
>> +
>> +    <p>Since <module>mod_deflate</module> re-compresses content each
>> +    time a request is made, some performance benefit can be derived by
>> +    pre-compressing the content and telling mod_deflate to serve them
>> +    without re-compressing them. This may be accomplished using a
>> +    configuration like the following:</p>
>> +
>> +    <highlight language="config">
>> +  &lt;IfModule mod_headers.c&gt;
>> +    # Serve gzip compressed CSS files if they exist
>> +    # and the client accepts gzip.
>> +    RewriteCond %{HTTP:Accept-encoding} gzip
>> +    RewriteCond %{REQUEST_FILENAME}\.gz -s
>> +    RewriteRule ^(.*)\.css $1\.css\.gz [QSA]
>> +
>> +    # Serve gzip compressed JS files if they exist
>> +    # and the client accepts gzip.
>> +    RewriteCond %{HTTP:Accept-encoding} gzip
>> +    RewriteCond %{REQUEST_FILENAME}\.gz -s
>> +    RewriteRule ^(.*)\.js $1\.js\.gz [QSA]
>> +
>> +
>> +    # Serve correct content types, and prevent mod_deflate double gzip.
>> +    RewriteRule \.css\.gz$ - [T=text/css,E=no-gzip:1]
>> +    RewriteRule \.js\.gz$ - [T=text/javascript,E=no-gzip:1]
>> +
>> +
>> +    &lt;FilesMatch "(\.js\.gz|\.css\.gz)$"&gt;
>> +      # Serve correct encoding type.
>> +      Header append Content-Encoding gzip
>> +
>> +      # Force proxies to cache gzipped &amp;
>> +      # non-gzipped css/js files separately.
>> +      Header append Vary Accept-Encoding
>> +    &lt;/FilesMatch&gt;
>> +  &lt;/IfModule&gt;
>> +</IfModule>
>> +
>> +
>> +    </highlight>
>> +
>> +</section>
>> +
>>   <directivesynopsis>
>>   <name>DeflateFilterNote</name>
>>   <description>Places the compression ratio in a note for
>> logging</description>
>
> AFAIK mod_rewrite automatically adds headers from RewriteCond to the
> Vary header as long as no "NV" flag is used. So the "Header append Vary
> Accept-Encoding" part should not be necessary.

I should probably also mention, that the recipe gets easier, once one 
accepts a non-standard convention for the names of the compressed 
content. If you add the ".gz" before the final suffix ".js", ".css" 
etc., then the web server will automatically get the content type 
correct. So you can drop the "T=" flags. My variant of the recipe was:

RewriteCond %{HTTP:Accept-Encoding} gzip
RewriteCond %{REQUEST_FILENAME} ^(.+)\.(css|js)$
RewriteCond %1.gz%2 -s
RewriteRule ^(.+)\.(css|js)$ $1.gz.$2 [QSA,E=gz:1,E=no-gzip:1]

Header append Content-Encoding gzip env=gz

The additional replacement of FilesMatch with a custom env var (here 
named "gz") one can check in the "Header append" part is independent of 
the other change.

One could drop the second and third RewriteCond, if one assumes that all 
such files have been compressed. To create the compressed files with 
non-standard name convention, one can use on Unix/Linux a script like e.g.

CONTENT_DIR=/opt/myapp/static/
PERMS=644
for suffix in css js
do
     for file in \
       `find $CONTENT_DIR -type f -name "*.$suffix" -a ! -name "*.gz.*"`
     do
         gzfile=`echo $file | sed -e 's#\.'$suffix'#.gz.'$suffix'#'`
         gzip --best -c $file > $gzfile
         chmod $PERMS $gzfile
         echo === $file $gzfile ===
         ls -ld $file $gzfile
     done
done

I like the idea of adding this as a feature to mod_deflate. I actually 
started doing this a few weeks ago but got side-tracked.

Regards,

Rainer

From dev-return-82368-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 15 09:18:33 2015
Return-Path: <dev-return-82368-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0B1F2176DD
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 15 Apr 2015 09:18:33 +0000 (UTC)
Received: (qmail 6781 invoked by uid 500); 15 Apr 2015 09:18:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6715 invoked by uid 500); 15 Apr 2015 09:18:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6704 invoked by uid 99); 15 Apr 2015 09:18:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 09:18:32 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of minfrin@sharp.fm designates 80.168.143.5 as permitted sender)
Received: from [80.168.143.5] (HELO monica.sharp.fm) (80.168.143.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 09:18:27 +0000
Received: from [192.168.88.148] (unknown [192.168.88.148])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 86C7F8043A;
	Wed, 15 Apr 2015 10:17:05 +0100 (BST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: Extending mod_authz_dbd
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <20150414173852.GA7233@kiribati.inrialpes.fr>
Date: Wed, 15 Apr 2015 11:17:04 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <304DB914-ED71-4476-B875-F1ABDD1E370C@sharp.fm>
References: <20150414173852.GA7233@kiribati.inrialpes.fr>
To: dev@httpd.apache.org,
 jose.kahan@w3.org
X-Mailer: Apple Mail (2.2098)
X-Virus-Checked: Checked by ClamAV on apache.org

On 14 Apr 2015, at 7:38 PM, Jose Kahan <jose.kahan@w3.org> wrote:

> require sql-query "SELECT * FROM foo WHERE user=3D${REMOTE_USER}=20
>                   AND uri=3D${REQUEST_URI} AND ${REQUEST_METHOD} in
> 	           ('GET', 'POST')"
>=20
> While browsing for information regarding this point, I only
> found people asking if this was possible, but no hints if there
> had been (or will be) plans to do this.
>=20
> The defunct mod_auth_mysql used to propose something similar. i
> This module is not officially maintained anymore.
>=20
> A possible point of confusion in the module's doc [1] is the=20
> phrase saying=20
>=20
>  "Since v2.4.8, expressions are supported within the DBD=20
>   require directives.=E2=80=9D

Hmmm=E2=80=A6

The limitations we=E2=80=99d have to work with is that all the queries =
are prepared statements, and are reused for multiple requests. At the =
same time any query that is interpreted purely as a string would need to =
be protected against SQL injection.

One possible way of approaching this would be to extend the dbd-login =
and dbd-logout require directives with optional expression parameters, =
which can then be referred to in the prepared statement, so you could do =
this:

  Require dbd-login %{REQUEST_URI} %{REQUEST_METHOD} %{REMOTE_USER}
  AuthzDBDQuery "UPDATE authn SET uri =3D %s, method =3D %s WHERE user =3D=
 %s=E2=80=9D

  Require dbd-logout %{TIME} %{REMOTE_USER}
  AuthzDBDQuery "UPDATE authn SET logout_time =3D %s WHERE user =3D =
%s=E2=80=9D

To be backwards compatible, "Require dbd-login=E2=80=9D on it=E2=80=99s =
own would imply "Require dbd-login %{REMOTER_USER}=E2=80=9D.

One possible approach to support completely generic queries might be as =
follows:

  Require dbd-query %{REQUEST_URI} %{REMOTE_USER}
  AuthzDBDQuery =E2=80=9CSELECT count(user) FROM authn WHERE uri=3D%s =
AND user =3D %s=E2=80=9D

The bit above where you=E2=80=99d limit the requests to GET or POST =
you=E2=80=99d probably do with Limit or LimitExcept.

Regards,
Graham
=E2=80=94


From dev-return-82369-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 15 14:05:49 2015
Return-Path: <dev-return-82369-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DF044175E9
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 15 Apr 2015 14:05:49 +0000 (UTC)
Received: (qmail 69349 invoked by uid 500); 15 Apr 2015 14:05:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 69287 invoked by uid 500); 15 Apr 2015 14:05:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 69277 invoked by uid 99); 15 Apr 2015 14:05:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 14:05:44 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of trawick@gmail.com designates 209.85.218.43 as permitted sender)
Received: from [209.85.218.43] (HELO mail-oi0-f43.google.com) (209.85.218.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 14:05:17 +0000
Received: by oica37 with SMTP id a37so22737488oic.0
        for <dev@httpd.apache.org>; Wed, 15 Apr 2015 07:04:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject
         :content-type:content-transfer-encoding;
        bh=HNcG6Bb42nmCyTdBNwsR/fH7UPpdZfW7EbTARHw7ULQ=;
        b=s5D5gHMh4kRnC/gF8EtfWSSm89vKFJIfZJ7LiBS4LvqJU5hKItBiTGZ8TYXVeGBulj
         82jSA7RGrkyuBeNc/5WcKpXuGQYZk2oIXE28WLxLaD6qptbMr9j0rAcO3WfxWgk4WY6S
         WsCXanLXoIlCRbJqPz6T6m9Gu+oSIVWSSUiTmymvulbccaTNP21LZx897f8k5+KN7BRg
         785s2GgDO/1kNxnwaNUMr4I5uJbXPtBn8iSIQQ3X/az+y73vq8xcLOn9A4AbD9QJkYkR
         oj7pHFMM4LBPye7H+u7yJZlcKQrggTrLXn5YRd6807QBLGH5lNczZQ+4UNyWtq+rtYss
         uxgA==
X-Received: by 10.202.98.137 with SMTP id w131mr6885779oib.96.1429106671008;
        Wed, 15 Apr 2015 07:04:31 -0700 (PDT)
Received: from [10.6.1.242] ([207.238.37.2])
        by mx.google.com with ESMTPSA id li7sm2362557obc.29.2015.04.15.07.04.29
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Wed, 15 Apr 2015 07:04:30 -0700 (PDT)
Message-ID: <552E6FEC.2020609@gmail.com>
Date: Wed, 15 Apr 2015 09:04:28 -0500
From: Jeff Trawick <trawick@gmail.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Ha!
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

    *) mod_logio: Log time-to-first-byte via %^FB
       trunk patch: http://svn.apache.org/r1671918
       2.4.x patch: trunk works (modulo CHANGES)
       +1: covener
+<<<<<<< .mine
+     trawick: r1673113 should be added to the proposal
+=======
       ylavic: +1 with http://svn.apache.org/r1673113
+>>>>>>> .r1673770


From dev-return-82370-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 15 14:16:41 2015
Return-Path: <dev-return-82370-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 33E66176C4
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 15 Apr 2015 14:16:41 +0000 (UTC)
Received: (qmail 10134 invoked by uid 500); 15 Apr 2015 14:16:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10073 invoked by uid 500); 15 Apr 2015 14:16:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10063 invoked by uid 99); 15 Apr 2015 14:16:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 14:16:31 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.46 as permitted sender)
Received: from [209.85.213.46] (HELO mail-yh0-f46.google.com) (209.85.213.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 14:16:05 +0000
Received: by yhda23 with SMTP id a23so831872yhd.2
        for <dev@httpd.apache.org>; Wed, 15 Apr 2015 07:16:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=swDDadWACeiwxHNCoHG6sdVWU6eAY8jLTokBr8doVrI=;
        b=p7JYXzzqqiGKn1wALZekbuC+z0ifouJlhwiYpe2SQx1cgc/GiRds7V6lCoMu1oOMz8
         vwBftYcXNak7hqEMfyCsjYus5XcyqAUhFjUT9JSLaVfAXCMv1ymJ3QtCmQqhQMnb1QtK
         5ZxAbDq8PYdK+iceJWe5CAwqq9BOE3ogCgFsh8oCinkbTX7ciYm6N2auDjfpt7JSXBgF
         Od+Z/1t9ZDUtVU89DvyJ2Q+F4u3L2EtPPDLuJwexxCHYGyOp1UDVCy3NrTJMMsLKvDWh
         LOlCp3svBmY0AVz8PYv0qVTEC3f+4KG6mXFboDEAoKGXxebGUE9yM1Pv9lrqu7Bnxik4
         et+w==
MIME-Version: 1.0
X-Received: by 10.50.43.136 with SMTP id w8mr31254944igl.26.1429107363979;
 Wed, 15 Apr 2015 07:16:03 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Wed, 15 Apr 2015 07:16:03 -0700 (PDT)
In-Reply-To: <552E6FEC.2020609@gmail.com>
References: <552E6FEC.2020609@gmail.com>
Date: Wed, 15 Apr 2015 16:16:03 +0200
Message-ID: <CAKQ1sVNcqWJir-Bp+uhrfLCUHuM68HN06hAdF+z8N+sOCVqt7Q@mail.gmail.com>
Subject: Re: Ha!
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Done by Eric :)

On Wed, Apr 15, 2015 at 4:04 PM, Jeff Trawick <trawick@gmail.com> wrote:
>    *) mod_logio: Log time-to-first-byte via %^FB
>       trunk patch: http://svn.apache.org/r1671918
>       2.4.x patch: trunk works (modulo CHANGES)
>       +1: covener
> +<<<<<<< .mine
> +     trawick: r1673113 should be added to the proposal
> +=======
>       ylavic: +1 with http://svn.apache.org/r1673113
> +>>>>>>> .r1673770
>

From dev-return-82371-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 15 16:05:45 2015
Return-Path: <dev-return-82371-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1FCB917EE5
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 15 Apr 2015 16:05:45 +0000 (UTC)
Received: (qmail 85059 invoked by uid 500); 15 Apr 2015 16:05:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84999 invoked by uid 500); 15 Apr 2015 16:05:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84989 invoked by uid 99); 15 Apr 2015 16:05:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 16:05:44 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [85.25.46.13] (HELO fornix.velox.ch) (85.25.46.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 16:05:19 +0000
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t3FG3GHO000439
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Wed, 15 Apr 2015 18:03:17 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1429113797;
	bh=vPvOHWfEK4FXYQmOmP8GL23egKgDPfl9mfPXTcKUjLk=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=DBBOGO3dYiJ50Fzi75lMaHdxZ7qIkQE+XHglyBlzTQ16bsBps9hl+uIji+IygEbAE
	 KFkh5B4/irpZ+1CcJvpv2BhItfJ8/aUCaAAWQCFDJA+D9zPjxarDYMQM0cwJQScgZN
	 YmBeW2ScOgJEuecvlep/KzN8UBOOp/oyaG/uaW+s2e0w1lDS8RqGwrok+021CquuGn
	 H/PBkfFJNhOfK/uT9KCZrrrQ9IHOo8wWYIn+OuAZ1irM0CDjvySWjo2FZDqIqr1bIB
	 YRhzCMf3XRy99IG2EHDzVKM5TlDJRy3r7DmP+mtzkw4rR/d1JohofsDoh5UWhvbFka
	 cSRvGVurcAo4A==
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on cortex.velox.ch
X-Spam-Level: 
Message-ID: <552E8BA7.2000807@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1429113770;
	bh=vPvOHWfEK4FXYQmOmP8GL23egKgDPfl9mfPXTcKUjLk=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=S3Ii4HYrg7PzOuRzIO8rkdEv84zSQOdj7BmtdwTJZnQxu21aPW9XwFViA00YAI+XW
	 5XgmhJzI9lDHDz/FGHLQMRKy3lxH2ECeeMlw6QwMgeMcsn+R10H1lutt4y/Z7x/xe2
	 HagF6sevUOcfxUFyCcKJRo+kfaT2DAxW+53gpb4alBAPz12xD1a5tjpVGMLQ5rN6nn
	 AfsUTGkNt2Z1NRbsGmeMYPlwj00S0Dz/coMzH3VwrcxvifaHSUkn2Vdmg0PKzMMPvH
	 YCn3AQwxDJT185JV7x3ZuCHF3jZqQAgdNwaX5lGbHhtOd3aKq65a3+Igu9FQvztV6j
	 arnF808vR/5yA==
Date: Wed, 15 Apr 2015 18:02:47 +0200
From: Kaspar Brand <httpd-dev.2014@velox.ch>
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1672014 - in /httpd/httpd/trunk: CHANGES server/config.c
References: <20150408073339.A26E2AC0236@hades.apache.org> <552C2181.3070303@apache.org> <552C9D9F.2090209@velox.ch>
In-Reply-To: <552C9D9F.2090209@velox.ch>
Content-Type: multipart/mixed;
 boundary="------------010108060202090208040809"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.5 required=8.0 tests=AWL=0.018,BAYES_00=-1.5,
	NO_RECEIVED=-0.001,NO_RELAYS=-0.001,T_DKIM_INVALID=0.01 autolearn=no
	autolearn_force=no version=3.4.0

This is a multi-part message in MIME format.
--------------010108060202090208040809
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit

On 14.04.2015 06:54, Kaspar Brand wrote:
> On 13.04.2015 22:05, Ruediger Pluem wrote:
>> Shouldn't we only do that in case that vit->log.level is set to main_server->log.level?
>> Don't we lose the configuration done by the user for this particular host otherwise?
> 
> Yes, you're right - thanks for the review. It also noticed this in the
> meantime, and when I tried to come up with a fix, more special cases
> were turning up (whether main_server->log.level is still at
> DEFAULT_LOGLEVEL might also have to be taken into account).
> 
> Hopefully I'll find time for more closely examining this tomorrow.
> Otherwise I will revert r1672014, as it is clearly not a complete
> solution yet.

Reverted r1672014. After more digging, I think there's no practical way
to base the decision whether to reset on the current value of
virt->log.level when reaching ap_fixup_virtual_hosts - too many
conceivable combinations of global LogLevel vs. per-vhost LogLevel (and
the order they appear in the config). Extending the ap_logconf struct
seems unavoidable if the approach with adjustments in
ap_init_virtual_host/ap_fixup_virtual_hosts is the right one.

Another idea would be to apply the default log level in log_error_core()
when we encounter APLOG_UNSET, as illustrated by the attached patch.
Maybe doing this check in each log_error_core() invocation adds too much
overhead, given that it's actually just addressing an issue which occurs
at startup/reload?

The other option to fix the problem which originally triggered this
investigation would be to simply replace "cmd->server" in
ssl_engine_config.c:836 with "NULL", though it would only fix this
particular case, and not help with other places with the same underlying
problem.

Kaspar

--------------010108060202090208040809
Content-Type: text/plain; charset=windows-1252;
 name="log_error_core.diff"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
 filename="log_error_core.diff"

SW5kZXg6IGluY2x1ZGUvaHR0cF9sb2cuaAo9PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBpbmNsdWRlL2h0
dHBfbG9nLmgJKHJldmlzaW9uIDE2NzM4MzUpCisrKyBpbmNsdWRlL2h0dHBfbG9nLmgJKHdv
cmtpbmcgY29weSkKQEAgLTEyOCw2ICsxMjgsOCBAQCBleHRlcm4gIkMiIHsKICAqLwogI2Rl
ZmluZSBBUExPR19OT19NT0RVTEUgICAgICAgICAtMQogCisjZGVmaW5lIEFQTE9HX1VOU0VU
IChBUExPR19OT19NT0RVTEUgLSAxKQorCiAjaWZkZWYgX19jcGx1c3BsdXMKIC8qKgogICog
QysrIG1vZHVsZXMgbXVzdCBpbnZva2UgOjpBUExPR19VU0VfTU9EVUxFIG9yIDo6QVBfREVD
TEFSRV9NT0RVTEUgaW4KSW5kZXg6IHNlcnZlci9jb25maWcuYwo9PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0t
LSBzZXJ2ZXIvY29uZmlnLmMJKHJldmlzaW9uIDE2NzM4MzgpCisrKyBzZXJ2ZXIvY29uZmln
LmMJKHdvcmtpbmcgY29weSkKQEAgLTUyLDcgKzUyLDYgQEAKICNpbmNsdWRlICJ1dGlsX3Zh
cmJ1Zi5oIgogI2luY2x1ZGUgIm1wbV9jb21tb24uaCIKIAotI2RlZmluZSBBUExPR19VTlNF
VCAgIChBUExPR19OT19NT0RVTEUgLSAxKQogLyogd2Uga25vdyBjb3JlJ3MgbW9kdWxlX2lu
ZGV4IGlzIDAgKi8KICN1bmRlZiBBUExPR19NT0RVTEVfSU5ERVgKICNkZWZpbmUgQVBMT0df
TU9EVUxFX0lOREVYIEFQX0NPUkVfTU9EVUxFX0lOREVYCkluZGV4OiBzZXJ2ZXIvbG9nLmMK
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PQotLS0gc2VydmVyL2xvZy5jCShyZXZpc2lvbiAxNjczODM1KQorKysg
c2VydmVyL2xvZy5jCSh3b3JraW5nIGNvcHkpCkBAIC0xMDc1LDYgKzEwNzUsMTEgQEAgc3Rh
dGljIHZvaWQgbG9nX2Vycm9yX2NvcmUoY29uc3QgY2hhciAqZmlsZSwgaW50IGwKICAgICAg
ICAgaW50IGNvbmZpZ3VyZWRfbGV2ZWwgPSByID8gYXBfZ2V0X3JlcXVlc3RfbW9kdWxlX2xv
Z2xldmVsKHIsIG1vZHVsZV9pbmRleCkgICAgICAgIDoKICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBjID8gYXBfZ2V0X2Nvbm5fc2VydmVyX21vZHVsZV9sb2dsZXZlbChjLCBz
LCBtb2R1bGVfaW5kZXgpIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
YXBfZ2V0X3NlcnZlcl9tb2R1bGVfbG9nbGV2ZWwocywgbW9kdWxlX2luZGV4KTsKKworICAg
ICAgICAvKiBUZW1wb3JhcmlseSBhZGp1c3QgdG8gdGhlIGRlZmF1bHQgaWYgdGhlIGxldmVs
IGhhc24ndCBiZWVuIHNldCB5ZXQgKi8KKyAgICAgICAgaWYgKGNvbmZpZ3VyZWRfbGV2ZWwg
PT0gQVBMT0dfVU5TRVQpCisgICAgICAgICAgICBjb25maWd1cmVkX2xldmVsID0gYXBfZGVm
YXVsdF9sb2dsZXZlbDsKKwogICAgICAgICAvKgogICAgICAgICAgKiBJZiB3ZSBhcmUgZG9p
bmcgbm9ybWFsIGxvZ2dpbmcsIGRvbid0IGxvZyBtZXNzYWdlcyB0aGF0IGFyZQogICAgICAg
ICAgKiBhYm92ZSB0aGUgbW9kdWxlJ3MgbG9nIGxldmVsIHVubGVzcyBpdCBpcyBhIHN0YXJ0
dXAvc2h1dGRvd24gbm90aWNlCg==
--------------010108060202090208040809--

From dev-return-82372-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 15 16:30:58 2015
Return-Path: <dev-return-82372-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4577917253
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 15 Apr 2015 16:30:58 +0000 (UTC)
Received: (qmail 53614 invoked by uid 500); 15 Apr 2015 16:30:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53521 invoked by uid 500); 15 Apr 2015 16:30:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53483 invoked by uid 99); 15 Apr 2015 16:30:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 16:30:57 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.218.43 as permitted sender)
Received: from [209.85.218.43] (HELO mail-oi0-f43.google.com) (209.85.218.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 16:30:52 +0000
Received: by oiko83 with SMTP id o83so29406175oik.1
        for <dev@httpd.apache.org>; Wed, 15 Apr 2015 09:30:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=kUFBZjQrxK2m/+9oNbw0N2ATL3udfkpCE+Yb2YBHmV8=;
        b=L5UXUpQaY3nlZ0/4PAzQ1D5/5Lb8TX1bF+oe814qoVkbZreFFGWYPs8bMlmppiNOcH
         7stZRUKfpLhKz3xc6EH1vuAvpMuDpSKT2x+Pt8hG0c6/Ne3FLv2knnfSU0ouXGterDDZ
         S/2WReQFr+8I9KxvvTjeI6w+5M7Kxzz1rNWIkDLw+jCqd/yWxxVLD/grLxO4ct/91s3W
         75s6Z+9NBZ24Unq1pQKhr/qh+P5+BSNwODlsZoPFMCRGALAI+HJqYiDoEfvO6ULeuCUM
         c6QpdGGYCjX3nr4kQUJlkV+SppBGSRDOc4XmkiyFyuyHRvBEy4ju7iW5GURgtHSSu4iQ
         C2GA==
MIME-Version: 1.0
X-Received: by 10.43.24.76 with SMTP id rd12mr32001481icb.84.1429115424326;
 Wed, 15 Apr 2015 09:30:24 -0700 (PDT)
Received: by 10.42.255.7 with HTTP; Wed, 15 Apr 2015 09:30:24 -0700 (PDT)
In-Reply-To: <20150415162547.8CEACAC0051@hades.apache.org>
References: <20150415162547.8CEACAC0051@hades.apache.org>
Date: Wed, 15 Apr 2015 18:30:24 +0200
Message-ID: <CAKQ1sVM+g78YsA5g1f_AsP5QqGS0nmBk6MamqrXwzdcnRMZ=5Q@mail.gmail.com>
Subject: Re: svn commit: r1673850 - /httpd/httpd/branches/2.4.x/STATUS
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Apr 15, 2015 at 6:25 PM,  <trawick@apache.org> wrote:
> Author: trawick
> Date: Wed Apr 15 16:25:47 2015
> New Revision: 1673850
>
> URL: http://svn.apache.org/r1673850
> Log:
> one pear-flavored drink, one vote

Can't wait for the next ones :)

From dev-return-82373-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 15 16:37:26 2015
Return-Path: <dev-return-82373-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 91ACE1771B
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 15 Apr 2015 16:37:26 +0000 (UTC)
Received: (qmail 98988 invoked by uid 500); 15 Apr 2015 16:37:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 98912 invoked by uid 500); 15 Apr 2015 16:37:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 98903 invoked by uid 99); 15 Apr 2015 16:37:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 16:37:16 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: local policy)
Received: from [192.109.42.8] (HELO einhorn.in-berlin.de) (192.109.42.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 16:37:10 +0000
X-Envelope-From: stsp@apache.org
Received: from fintan.stsp.name (fintan.stsp.name [217.197.84.44])
	by einhorn.in-berlin.de (8.14.4/8.14.4/Debian-4) with ESMTP id t3FGaMLY003643
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
	Wed, 15 Apr 2015 18:36:25 +0200
Received: from localhost (fintan.stsp.name [local])
	by fintan.stsp.name (OpenSMTPD) with ESMTPA id cd77c536;
	Wed, 15 Apr 2015 18:36:21 +0200 (CEST)
Date: Wed, 15 Apr 2015 18:36:21 +0200
From: Stefan Sperling <stsp@apache.org>
To: dev@httpd.apache.org
Cc: Stuart Henderson <sthen@openbsd.org>
Subject: namespacing in mod_ssl
Message-ID: <20150415163613.GC15209@fintan.stsp.name>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.23 (2014-03-12)
X-Virus-Checked: Checked by ClamAV on apache.org

A few months ago, OpenBSD's LibreSSL added a new function
called SSL_CTX_use_certificate_chain().
This unexpectedly broke the build of Apache's mod_ssl which defines
a function of the same name. In OpenBSD this was worked around by
patching mod_ssl, renaming the clashing function.

Since then LibreSSL has renamed to SSL_CTX_use_certificate_chain_mem().
This resolved the immediate problem and mod_ssl patches could be dropped.

However, the actual issue here is that mod_ssl is squatting the SSL_ namespace.
Historically this may have made sense (it seems mod_ssl and OpenSSL have
shared history/authors). Bill Rowe suggested to try moving mod_ssl's
functions into the ap_ namespace to avoid such clashes in the future.

I have verified that no undefined references or undeclared symbols
are reported by gcc during the build with this diff.
I have tested startup of a httpd with mod_ssl loaded.
Additional testing is appreciated.

I'm not sure how README.dsov.ps should be regenerated.
It contains a refence to SSL_get_app_data2().
For now I've only updated the .dsov.fig file.

Index: modules/ssl/README.dsov.fig
===================================================================
--- modules/ssl/README.dsov.fig	(revision 1673798)
+++ modules/ssl/README.dsov.fig	(working copy)
@@ -339,7 +339,7 @@
 4 0 0 200 0 20 8 0.0000 4 90 465 11745 4770 ->method\001
 4 0 0 200 0 20 8 0.0000 4 120 1665 9945 6480 X509_STORE_CTX_get_app_data()\001
 4 0 0 200 0 20 8 0.0000 4 120 1215 10980 6705 SSL_CTX_get_cert_store()\001
-4 0 0 200 0 20 8 0.0000 4 120 1020 8280 5130 SSL_get_app_data2()\001
+4 0 0 200 0 20 8 0.0000 4 120 1020 8280 5130 ap_SSL_get_app_data2()\001
 4 0 0 100 0 18 20 0.0000 4 270 1290 10710 7605 OpenSSL\001
 4 0 0 100 0 18 12 0.0000 4 180 720 10710 7785 [Crypto]\001
 4 0 0 100 0 18 20 0.0000 4 270 1290 10935 3645 OpenSSL\001
Index: modules/ssl/mod_ssl.c
===================================================================
--- modules/ssl/mod_ssl.c	(revision 1673798)
+++ modules/ssl/mod_ssl.c	(working copy)
@@ -570,7 +570,7 @@
     }
 
     SSL_set_app_data(ssl, c);
-    SSL_set_app_data2(ssl, NULL); /* will be request_rec */
+    ap_SSL_set_app_data2(ssl, NULL); /* will be request_rec */
 
     sslconn->ssl = ssl;
 
Index: modules/ssl/ssl_engine_init.c
===================================================================
--- modules/ssl/ssl_engine_init.c	(revision 1673798)
+++ modules/ssl/ssl_engine_init.c	(working copy)
@@ -148,12 +148,12 @@
     apr_status_t rv;
     apr_array_header_t *pphrases;
 
-    if (SSLeay() < SSL_LIBRARY_VERSION) {
+    if (SSLeay() < AP_SSL_LIBRARY_VERSION) {
         ap_log_error(APLOG_MARK, APLOG_WARNING, 0, base_server, APLOGNO(01882)
                      "Init: this version of mod_ssl was compiled against "
                      "a newer library (%s, version currently loaded is %s)"
                      " - may result in undefined or erroneous behavior",
-                     SSL_LIBRARY_TEXT, SSLeay_version(SSLEAY_VERSION));
+                     AP_SSL_LIBRARY_TEXT, SSLeay_version(SSLEAY_VERSION));
     }
 
     /* We initialize mc->pid per-process in the child init,
@@ -242,7 +242,7 @@
 #endif
 
     ap_log_error(APLOG_MARK, APLOG_INFO, 0, s, APLOGNO(01883)
-                 "Init: Initialized %s library", SSL_LIBRARY_NAME);
+                 "Init: Initialized %s library", AP_SSL_LIBRARY_NAME);
 
     /*
      * Seed the Pseudo Random Number Generator (PRNG)
@@ -348,7 +348,7 @@
      */
     ssl_add_version_components(p, base_server);
 
-    SSL_init_app_data2_idx(); /* for SSL_get_app_data2() at request time */
+    ap_SSL_init_app_data2_idx(); /* for ap_SSL_get_app_data2() at request time */
 
     init_dh_params();
 
@@ -871,9 +871,9 @@
         }
     }
 
-    n = SSL_CTX_use_certificate_chain(mctx->ssl_ctx,
-                                      (char *)chain,
-                                      skip_first, NULL);
+    n = ap_SSL_CTX_use_certificate_chain(mctx->ssl_ctx,
+                                         (char *)chain,
+                                         skip_first, NULL);
     if (n < 0) {
         ap_log_error(APLOG_MARK, APLOG_EMERG, 0, s, APLOGNO(01903)
                 "Failed to configure CA certificate chain!");
@@ -946,7 +946,7 @@
      * Some information about the certificate(s)
      */
 
-    if (SSL_X509_getBC(cert, &is_ca, &pathlen)) {
+    if (ap_SSL_X509_getBC(cert, &is_ca, &pathlen)) {
         if (is_ca) {
             ap_log_error(APLOG_MARK, APLOG_WARNING, 0, s, APLOGNO(01906)
                          "%s server certificate is a CA certificate "
@@ -961,8 +961,8 @@
         }
     }
 
-    if (SSL_X509_match_name(ptemp, cert, (const char *)s->server_hostname,
-                            TRUE, s) == FALSE) {
+    if (ap_SSL_X509_match_name(ptemp, cert, (const char *)s->server_hostname,
+                               TRUE, s) == FALSE) {
         ap_log_error(APLOG_MARK, APLOG_WARNING, 0, s, APLOGNO(01909)
                      "%s server certificate does NOT include an ID "
                      "which matches the server name", key_id);
@@ -1249,11 +1249,11 @@
     sk = sk_X509_INFO_new_null();
 
     if (pkp->cert_file) {
-        SSL_X509_INFO_load_file(ptemp, sk, pkp->cert_file);
+        ap_SSL_X509_INFO_load_file(ptemp, sk, pkp->cert_file);
     }
 
     if (pkp->cert_path) {
-        SSL_X509_INFO_load_path(ptemp, sk, pkp->cert_path);
+        ap_SSL_X509_INFO_load_path(ptemp, sk, pkp->cert_path);
     }
 
     if ((ncerts = sk_X509_INFO_num(sk)) <= 0) {
@@ -1640,7 +1640,7 @@
 
         ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, s, APLOGNO(02209)
                      "CA certificate: %s",
-                     SSL_X509_NAME_to_string(ptemp, name, 0));
+                     ap_SSL_X509_NAME_to_string(ptemp, name, 0));
 
         /*
          * note that SSL_load_client_CA_file() checks for duplicates,
Index: modules/ssl/ssl_engine_io.c
===================================================================
--- modules/ssl/ssl_engine_io.c	(revision 1673798)
+++ modules/ssl/ssl_engine_io.c	(working copy)
@@ -1051,7 +1051,7 @@
     }
 
     SSL_set_shutdown(ssl, shutdown_type);
-    SSL_smart_shutdown(ssl);
+    ap_SSL_smart_shutdown(ssl);
 
     /* and finally log the fact that we've closed the connection */
     if (APLOG_CS_IS_LEVEL(c, mySrvFromConn(c), loglevel)) {
@@ -1181,8 +1181,8 @@
             hostname_note) {
             apr_table_unset(c->notes, "proxy-request-hostname");
             if (!cert
-                || SSL_X509_match_name(c->pool, cert, hostname_note,
-                                       TRUE, server) == FALSE) {
+                || ap_SSL_X509_match_name(c->pool, cert, hostname_note,
+                                          TRUE, server) == FALSE) {
                 proxy_ssl_check_peer_ok = FALSE;
                 ap_log_cerror(APLOG_MARK, APLOG_INFO, 0, c, APLOGNO(02411)
                               "SSL Proxy: Peer certificate does not match "
@@ -2186,7 +2186,7 @@
             }
             ap_log_cserror(APLOG_MARK, APLOG_TRACE4, 0, c, s,
                     "%s: %s %ld/%d bytes %s BIO#%pp [mem: %pp] %s",
-                    SSL_LIBRARY_NAME,
+                    AP_SSL_LIBRARY_NAME,
                     (cmd == (BIO_CB_WRITE|BIO_CB_RETURN) ? "write" : "read"),
                     rc, argi, (cmd == (BIO_CB_WRITE|BIO_CB_RETURN) ? "to" : "from"),
                     bio, argp, dump);
@@ -2196,7 +2196,7 @@
         else {
             ap_log_cserror(APLOG_MARK, APLOG_TRACE4, 0, c, s,
                     "%s: I/O error, %d bytes expected to %s on BIO#%pp [mem: %pp]",
-                    SSL_LIBRARY_NAME, argi,
+                    AP_SSL_LIBRARY_NAME, argi,
                     (cmd == (BIO_CB_WRITE|BIO_CB_RETURN) ? "write" : "read"),
                     bio, argp);
         }
Index: modules/ssl/ssl_engine_kernel.c
===================================================================
--- modules/ssl/ssl_engine_kernel.c	(revision 1673798)
+++ modules/ssl/ssl_engine_kernel.c	(working copy)
@@ -229,7 +229,7 @@
         }
     }
 #endif
-    SSL_set_app_data2(ssl, r);
+    ap_SSL_set_app_data2(ssl, r);
 
     /*
      * Log information about incoming HTTPS requests
@@ -1385,7 +1385,7 @@
     SSL *ssl = X509_STORE_CTX_get_ex_data(ctx,
                                           SSL_get_ex_data_X509_STORE_CTX_idx());
     conn_rec *conn      = (conn_rec *)SSL_get_app_data(ssl);
-    request_rec *r      = (request_rec *)SSL_get_app_data2(ssl);
+    request_rec *r      = (request_rec *)ap_SSL_get_app_data2(ssl);
     server_rec *s       = r ? r->server : mySrvFromConn(conn);
 
     SSLSrvConfigRec *sc = mySrvConfig(s);
@@ -1654,7 +1654,7 @@
                             const char *result,
                             long timeout)
 {
-    char buf[SSL_SESSION_ID_STRING_LEN];
+    char buf[AP_SSL_SESSION_ID_STRING_LEN];
     char timeout_str[56] = {'\0'};
 
     if (!APLOGdebug(s)) {
@@ -1670,7 +1670,7 @@
                  "Inter-Process Session Cache: "
                  "request=%s status=%s id=%s %s(session %s)",
                  request, status,
-                 SSL_SESSION_id2sz(id, idlen, buf, sizeof(buf)),
+                 ap_SSL_SESSION_id2sz(id, idlen, buf, sizeof(buf)),
                  timeout_str, result);
 }
 
@@ -1811,32 +1811,32 @@
      */
     if (where & SSL_CB_HANDSHAKE_START) {
         ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
-                      "%s: Handshake: start", SSL_LIBRARY_NAME);
+                      "%s: Handshake: start", AP_SSL_LIBRARY_NAME);
     }
     else if (where & SSL_CB_HANDSHAKE_DONE) {
         ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
-                      "%s: Handshake: done", SSL_LIBRARY_NAME);
+                      "%s: Handshake: done", AP_SSL_LIBRARY_NAME);
     }
     else if (where & SSL_CB_LOOP) {
         ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
                       "%s: Loop: %s",
-                      SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
+                      AP_SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
     }
     else if (where & SSL_CB_READ) {
         ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
                       "%s: Read: %s",
-                      SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
+                      AP_SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
     }
     else if (where & SSL_CB_WRITE) {
         ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
                       "%s: Write: %s",
-                      SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
+                      AP_SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
     }
     else if (where & SSL_CB_ALERT) {
         char *str = (where & SSL_CB_READ) ? "read" : "write";
         ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
                       "%s: Alert: %s:%s:%s",
-                      SSL_LIBRARY_NAME, str,
+                      AP_SSL_LIBRARY_NAME, str,
                       SSL_alert_type_string_long(rc),
                       SSL_alert_desc_string_long(rc));
     }
@@ -1844,12 +1844,12 @@
         if (rc == 0) {
             ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
                           "%s: Exit: failed in %s",
-                          SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
+                          AP_SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
         }
         else if (rc < 0) {
             ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
                           "%s: Exit: error in %s",
-                          SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
+                          AP_SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
         }
     }
 
Index: modules/ssl/ssl_engine_log.c
===================================================================
--- modules/ssl/ssl_engine_log.c	(revision 1673798)
+++ modules/ssl/ssl_engine_log.c	(working copy)
@@ -141,8 +141,8 @@
             int maxdnlen = (HUGE_STRING_LEN - msglen - 300) / 2;
 
             BIO_puts(bio, " [subject: ");
-            name = SSL_X509_NAME_to_string(p, X509_get_subject_name(cert),
-                                           maxdnlen);
+            name = ap_SSL_X509_NAME_to_string(p, X509_get_subject_name(cert),
+                                              maxdnlen);
             if (!strIsEmpty(name)) {
                 BIO_puts(bio, name);
             } else {
@@ -150,8 +150,8 @@
             }
 
             BIO_puts(bio, " / issuer: ");
-            name = SSL_X509_NAME_to_string(p, X509_get_issuer_name(cert),
-                                           maxdnlen);
+            name = ap_SSL_X509_NAME_to_string(p, X509_get_issuer_name(cert),
+                                              maxdnlen);
             if (!strIsEmpty(name)) {
                 BIO_puts(bio, name);
             } else {
Index: modules/ssl/ssl_engine_pphrase.c
===================================================================
--- modules/ssl/ssl_engine_pphrase.c	(revision 1673798)
+++ modules/ssl/ssl_engine_pphrase.c	(working copy)
@@ -216,7 +216,7 @@
          * is not empty. */
         ERR_clear_error();
 
-        bReadable = ((pPrivateKey = SSL_read_PrivateKey(ppcb_arg.pkey_file,
+        bReadable = ((pPrivateKey = ap_SSL_read_PrivateKey(ppcb_arg.pkey_file,
                      NULL, ssl_pphrase_Handle_CB, &ppcb_arg)) != NULL ?
                      TRUE : FALSE);
 
Index: modules/ssl/ssl_engine_vars.c
===================================================================
--- modules/ssl/ssl_engine_vars.c	(revision 1673798)
+++ modules/ssl/ssl_engine_vars.c	(working copy)
@@ -131,7 +131,7 @@
 }
 
 static const char var_interface[] = "mod_ssl/" AP_SERVER_BASEREVISION;
-static char var_library_interface[] = SSL_LIBRARY_TEXT;
+static char var_library_interface[] = AP_SSL_LIBRARY_TEXT;
 static char *var_library = NULL;
 
 static apr_array_header_t *expr_peer_ext_list_fn(ap_expr_eval_ctx_t *ctx,
@@ -185,7 +185,7 @@
     APR_REGISTER_OPTIONAL_FN(ssl_ext_list);
 
     /* Perform once-per-process library version determination: */
-    var_library = apr_pstrdup(p, SSL_LIBRARY_DYNTEXT);
+    var_library = apr_pstrdup(p, AP_SSL_LIBRARY_DYNTEXT);
 
     if ((cp = strchr(var_library, ' ')) != NULL) {
         *cp = '/';
@@ -406,7 +406,7 @@
         result = (char *)SSL_get_version(ssl);
     }
     else if (ssl != NULL && strcEQ(var, "SESSION_ID")) {
-        char buf[SSL_SESSION_ID_STRING_LEN];
+        char buf[AP_SSL_SESSION_ID_STRING_LEN];
         SSL_SESSION *pSession = SSL_get_session(ssl);
         if (pSession) {
             unsigned char *id;
@@ -419,8 +419,8 @@
             idlen = pSession->session_id_length;
 #endif
 
-            result = apr_pstrdup(p, SSL_SESSION_id2sz(id, idlen,
-                                                      buf, sizeof(buf)));
+            result = apr_pstrdup(p, ap_SSL_SESSION_id2sz(id, idlen,
+                                                         buf, sizeof(buf)));
         }
     }
     else if(ssl != NULL && strcEQ(var, "SESSION_RESUMED")) {
@@ -651,7 +651,7 @@
                 n =OBJ_obj2nid((ASN1_OBJECT *)X509_NAME_ENTRY_get_object(xsne));
 
                 if (n == ssl_var_lookup_ssl_cert_dn_rec[i].nid && idx-- == 0) {
-                    result = SSL_X509_NAME_ENTRY_to_string(p, xsne);
+                    result = ap_SSL_X509_NAME_ENTRY_to_string(p, xsne);
                     break;
                 }
             }
@@ -682,7 +682,7 @@
     if ((numlen < 1) || (numlen > 4) || (numlen != strlen(var)))
         return NULL;
 
-    if (SSL_X509_getSAN(p, xs, type, atoi(var), &entries))
+    if (ap_SSL_X509_getSAN(p, xs, type, atoi(var), &entries))
        /* return the first entry from this 1-element array */
        return APR_ARRAY_IDX(entries, 0, char *);
     else
@@ -807,7 +807,7 @@
             char *decimal = BN_bn2dec(bn);
             result = apr_pstrcat(p, "{ serialNumber ", decimal,
                     ", issuer rdnSequence:\"",
-                    SSL_X509_NAME_to_string(p, issuer, 0), "\" }", NULL);
+                    ap_SSL_X509_NAME_to_string(p, issuer, 0), "\" }", NULL);
             OPENSSL_free(decimal);
             BN_free(bn);
         }
@@ -972,7 +972,7 @@
                  apr_hash_set(count, &nid, sizeof nid, dup);
                  key = apr_pstrcat(p, pfx, tag, NULL);
              }
-             value = SSL_X509_NAME_ENTRY_to_string(p, xsne);
+             value = ap_SSL_X509_NAME_ENTRY_to_string(p, xsne);
              apr_table_setn(t, key, value);
          }
     }
@@ -1032,10 +1032,10 @@
     /* subjectAltName entries of the server certificate */
     xs = SSL_get_certificate(ssl);
     if (xs) {
-        if (SSL_X509_getSAN(p, xs, GEN_EMAIL, -1, &entries)) {
+        if (ap_SSL_X509_getSAN(p, xs, GEN_EMAIL, -1, &entries)) {
             extract_san_array(t, "SSL_SERVER_SAN_Email", entries, p);
         }
-        if (SSL_X509_getSAN(p, xs, GEN_DNS, -1, &entries)) {
+        if (ap_SSL_X509_getSAN(p, xs, GEN_DNS, -1, &entries)) {
             extract_san_array(t, "SSL_SERVER_SAN_DNS", entries, p);
         }
         /* no need to free xs (refcount does not increase) */
@@ -1044,10 +1044,10 @@
     /* subjectAltName entries of the client certificate */
     xs = SSL_get_peer_certificate(ssl);
     if (xs) {
-        if (SSL_X509_getSAN(p, xs, GEN_EMAIL, -1, &entries)) {
+        if (ap_SSL_X509_getSAN(p, xs, GEN_EMAIL, -1, &entries)) {
             extract_san_array(t, "SSL_CLIENT_SAN_Email", entries, p);
         }
-        if (SSL_X509_getSAN(p, xs, GEN_DNS, -1, &entries)) {
+        if (ap_SSL_X509_getSAN(p, xs, GEN_DNS, -1, &entries)) {
             extract_san_array(t, "SSL_CLIENT_SAN_DNS", entries, p);
         }
         X509_free(xs);
Index: modules/ssl/ssl_scache.c
===================================================================
--- modules/ssl/ssl_scache.c	(revision 1673798)
+++ modules/ssl/ssl_scache.c	(working copy)
@@ -115,7 +115,7 @@
                       apr_pool_t *p)
 {
     SSLModConfigRec *mc = myModConfig(s);
-    unsigned char encoded[SSL_SESSION_MAX_DER], *ptr;
+    unsigned char encoded[AP_SSL_SESSION_MAX_DER], *ptr;
     unsigned int len;
     apr_status_t rv;
 
@@ -148,8 +148,8 @@
                                  apr_pool_t *p)
 {
     SSLModConfigRec *mc = myModConfig(s);
-    unsigned char dest[SSL_SESSION_MAX_DER];
-    unsigned int destlen = SSL_SESSION_MAX_DER;
+    unsigned char dest[AP_SSL_SESSION_MAX_DER];
+    unsigned int destlen = AP_SSL_SESSION_MAX_DER;
     const unsigned char *ptr;
     apr_status_t rv;
 
Index: modules/ssl/ssl_util_ssl.c
===================================================================
--- modules/ssl/ssl_util_ssl.c	(revision 1673798)
+++ modules/ssl/ssl_util_ssl.c	(working copy)
@@ -40,7 +40,7 @@
  */
 static int SSL_app_data2_idx = -1;
 
-void SSL_init_app_data2_idx(void)
+void ap_SSL_init_app_data2_idx(void)
 {
     int i;
 
@@ -57,12 +57,12 @@
     }
 }
 
-void *SSL_get_app_data2(SSL *ssl)
+void *ap_SSL_get_app_data2(SSL *ssl)
 {
     return (void *)SSL_get_ex_data(ssl, SSL_app_data2_idx);
 }
 
-void SSL_set_app_data2(SSL *ssl, void *arg)
+void ap_SSL_set_app_data2(SSL *ssl, void *arg)
 {
     SSL_set_ex_data(ssl, SSL_app_data2_idx, (char *)arg);
     return;
@@ -74,7 +74,7 @@
 **  _________________________________________________________________
 */
 
-EVP_PKEY *SSL_read_PrivateKey(const char* filename, EVP_PKEY **key, pem_password_cb *cb, void *s)
+EVP_PKEY *ap_SSL_read_PrivateKey(const char* filename, EVP_PKEY **key, pem_password_cb *cb, void *s)
 {
     EVP_PKEY *rc;
     BIO *bioS;
@@ -121,7 +121,7 @@
 **  _________________________________________________________________
 */
 
-int SSL_smart_shutdown(SSL *ssl)
+int ap_SSL_smart_shutdown(SSL *ssl)
 {
     int i;
     int rc;
@@ -161,7 +161,7 @@
 */
 
 /* retrieve basic constraints ingredients */
-BOOL SSL_X509_getBC(X509 *cert, int *ca, int *pathlen)
+BOOL ap_SSL_X509_getBC(X509 *cert, int *ca, int *pathlen)
 {
     BASIC_CONSTRAINTS *bc;
     BIGNUM *bn = NULL;
@@ -191,7 +191,7 @@
 }
 
 /* convert an ASN.1 string to a UTF-8 string (escaping control characters) */
-char *SSL_ASN1_STRING_to_utf8(apr_pool_t *p, ASN1_STRING *asn1str)
+char *ap_SSL_ASN1_STRING_to_utf8(apr_pool_t *p, ASN1_STRING *asn1str)
 {
     char *result = NULL;
     BIO *bio;
@@ -213,9 +213,9 @@
 }
 
 /* convert a NAME_ENTRY to UTF8 string */
-char *SSL_X509_NAME_ENTRY_to_string(apr_pool_t *p, X509_NAME_ENTRY *xsne)
+char *ap_SSL_X509_NAME_ENTRY_to_string(apr_pool_t *p, X509_NAME_ENTRY *xsne)
 {
-    char *result = SSL_ASN1_STRING_to_utf8(p, X509_NAME_ENTRY_get_data(xsne));
+    char *result = ap_SSL_ASN1_STRING_to_utf8(p, X509_NAME_ENTRY_get_data(xsne));
     ap_xlate_proto_from_ascii(result, len);
     return result;
 }
@@ -224,7 +224,7 @@
  * convert an X509_NAME to an RFC 2253 formatted string, optionally truncated
  * to maxlen characters (specify a maxlen of 0 for no length limit)
  */
-char *SSL_X509_NAME_to_string(apr_pool_t *p, X509_NAME *dn, int maxlen)
+char *ap_SSL_X509_NAME_to_string(apr_pool_t *p, X509_NAME *dn, int maxlen)
 {
     char *result = NULL;
     BIO *bio;
@@ -259,8 +259,8 @@
  * GEN_EMAIL (rfc822Name)
  * GEN_DNS (dNSName)
  */
-BOOL SSL_X509_getSAN(apr_pool_t *p, X509 *x509, int type, int idx,
-                     apr_array_header_t **entries)
+BOOL ap_SSL_X509_getSAN(apr_pool_t *p, X509 *x509, int type, int idx,
+                        apr_array_header_t **entries)
 {
     STACK_OF(GENERAL_NAME) *names;
 
@@ -282,7 +282,7 @@
                     switch (type) {
                     case GEN_EMAIL:
                     case GEN_DNS:
-                        utf8str = SSL_ASN1_STRING_to_utf8(p, name->d.ia5);
+                        utf8str = ap_SSL_ASN1_STRING_to_utf8(p, name->d.ia5);
                         if (utf8str) {
                             APR_ARRAY_PUSH(*entries, const char *) = utf8str;
                         }
@@ -313,7 +313,7 @@
 }
 
 /* return an array of (RFC 6125 coined) DNS-IDs and CN-IDs in a certificate */
-BOOL SSL_X509_getIDs(apr_pool_t *p, X509 *x509, apr_array_header_t **ids)
+BOOL ap_SSL_X509_getIDs(apr_pool_t *p, X509 *x509, apr_array_header_t **ids)
 {
     X509_NAME *subj;
     int i = -1;
@@ -320,7 +320,7 @@
 
     /* First, the DNS-IDs (dNSName entries in the subjectAltName extension) */
     if (!x509 ||
-        (SSL_X509_getSAN(p, x509, GEN_DNS, -1, ids) == FALSE && !*ids)) {
+        (ap_SSL_X509_getSAN(p, x509, GEN_DNS, -1, ids) == FALSE && !*ids)) {
         *ids = NULL;
         return FALSE;
     }
@@ -329,7 +329,7 @@
     subj = X509_get_subject_name(x509);
     while ((i = X509_NAME_get_index_by_NID(subj, NID_commonName, i)) != -1) {
         APR_ARRAY_PUSH(*ids, const char *) = 
-            SSL_X509_NAME_ENTRY_to_string(p, X509_NAME_get_entry(subj, i));
+            ap_SSL_X509_NAME_ENTRY_to_string(p, X509_NAME_get_entry(subj, i));
     }
 
     return apr_is_empty_array(*ids) ? FALSE : TRUE;
@@ -340,8 +340,8 @@
  * DNS-IDs and CN-IDs (RFC 6125), optionally with basic wildcard matching.
  * If server_rec is non-NULL, some (debug/trace) logging is enabled.
  */
-BOOL SSL_X509_match_name(apr_pool_t *p, X509 *x509, const char *name,
-                         BOOL allow_wildcard, server_rec *s)
+BOOL ap_SSL_X509_match_name(apr_pool_t *p, X509 *x509, const char *name,
+                            BOOL allow_wildcard, server_rec *s)
 {
     BOOL matched = FALSE;
     apr_array_header_t *ids;
@@ -356,7 +356,7 @@
      *    is found).
      */
 
-    if (SSL_X509_getIDs(p, x509, &ids)) {
+    if (ap_SSL_X509_getIDs(p, x509, &ids)) {
         const char *cp;
         int i;
         char **id = (char **)ids->elts;
@@ -387,8 +387,8 @@
 
             if (s) {
                 ap_log_error(APLOG_MARK, APLOG_TRACE3, 0, s,
-                             "[%s] SSL_X509_match_name: expecting name '%s', "
-                             "%smatched by ID '%s'",
+                             "[%s] ap_SSL_X509_match_name: expecting name "
+                             "'%s', %smatched by ID '%s'",
                              (mySrvConfig(s))->vhost_id, name,
                              matched == TRUE ? "" : "NOT ", id[i]);
             }
@@ -417,9 +417,9 @@
 **  _________________________________________________________________
 */
 
-BOOL SSL_X509_INFO_load_file(apr_pool_t *ptemp,
-                             STACK_OF(X509_INFO) *sk,
-                             const char *filename)
+BOOL ap_SSL_X509_INFO_load_file(apr_pool_t *ptemp,
+                                STACK_OF(X509_INFO) *sk,
+                                const char *filename)
 {
     BIO *in;
 
@@ -441,9 +441,9 @@
     return TRUE;
 }
 
-BOOL SSL_X509_INFO_load_path(apr_pool_t *ptemp,
-                             STACK_OF(X509_INFO) *sk,
-                             const char *pathname)
+BOOL ap_SSL_X509_INFO_load_path(apr_pool_t *ptemp,
+                                STACK_OF(X509_INFO) *sk,
+                                const char *pathname)
 {
     /* XXX: this dir read code is exactly the same as that in
      * ssl_engine_init.c, only the call to handle the fullname is different,
@@ -468,7 +468,7 @@
                                pathname, "/", dirent.name,
                                NULL);
 
-        if (SSL_X509_INFO_load_file(ptemp, sk, fullname)) {
+        if (ap_SSL_X509_INFO_load_file(ptemp, sk, fullname)) {
             ok = TRUE;
         }
     }
@@ -521,7 +521,7 @@
  * format, possibly followed by a sequence of CA certificates that
  * should be sent to the peer in the SSL Certificate message.
  */
-int SSL_CTX_use_certificate_chain(
+int ap_SSL_CTX_use_certificate_chain(
     SSL_CTX *ctx, char *file, int skipfirst, pem_password_cb *cb)
 {
     BIO *bio;
@@ -581,8 +581,8 @@
 **  _________________________________________________________________
 */
 
-char *SSL_SESSION_id2sz(unsigned char *id, int idlen,
-                        char *str, int strsize)
+char *ap_SSL_SESSION_id2sz(unsigned char *id, int idlen,
+                           char *str, int strsize)
 {
     if (idlen > SSL_MAX_SSL_SESSION_ID_LENGTH)
         idlen = SSL_MAX_SSL_SESSION_ID_LENGTH;
Index: modules/ssl/ssl_util_ssl.h
===================================================================
--- modules/ssl/ssl_util_ssl.h	(revision 1673798)
+++ modules/ssl/ssl_util_ssl.h	(working copy)
@@ -38,10 +38,10 @@
  * SSL library version number
  */
 
-#define SSL_LIBRARY_VERSION OPENSSL_VERSION_NUMBER
-#define SSL_LIBRARY_NAME    "OpenSSL"
-#define SSL_LIBRARY_TEXT    OPENSSL_VERSION_TEXT
-#define SSL_LIBRARY_DYNTEXT SSLeay_version(SSLEAY_VERSION)
+#define AP_SSL_LIBRARY_VERSION OPENSSL_VERSION_NUMBER
+#define AP_SSL_LIBRARY_NAME    "OpenSSL"
+#define AP_SSL_LIBRARY_TEXT    OPENSSL_VERSION_TEXT
+#define AP_SSL_LIBRARY_DYNTEXT SSLeay_version(SSLEAY_VERSION)
 
 /**
  *  Maximum length of a DER encoded session.
@@ -48,31 +48,31 @@
  *  FIXME: There is no define in OpenSSL, but OpenSSL uses 1024*10,
  *         so this value should be ok. Although we have no warm feeling.
  */
-#define SSL_SESSION_MAX_DER 1024*10
+#define AP_SSL_SESSION_MAX_DER 1024*10
 
-/** max length for SSL_SESSION_id2sz */
-#define SSL_SESSION_ID_STRING_LEN \
+/** max length for AP_SSL_SESSION_id2sz */
+#define AP_SSL_SESSION_ID_STRING_LEN \
     ((SSL_MAX_SSL_SESSION_ID_LENGTH + 1) * 2)
 
 /**
  *  Additional Functions
  */
-void        SSL_init_app_data2_idx(void);
-void       *SSL_get_app_data2(SSL *);
-void        SSL_set_app_data2(SSL *, void *);
-EVP_PKEY   *SSL_read_PrivateKey(const char *, EVP_PKEY **, pem_password_cb *, void *);
-int         SSL_smart_shutdown(SSL *ssl);
-BOOL        SSL_X509_getBC(X509 *, int *, int *);
-char       *SSL_ASN1_STRING_to_utf8(apr_pool_t *, ASN1_STRING *);
-char       *SSL_X509_NAME_ENTRY_to_string(apr_pool_t *p, X509_NAME_ENTRY *xsne);
-char       *SSL_X509_NAME_to_string(apr_pool_t *, X509_NAME *, int);
-BOOL        SSL_X509_getSAN(apr_pool_t *, X509 *, int, int, apr_array_header_t **);
-BOOL        SSL_X509_getIDs(apr_pool_t *, X509 *, apr_array_header_t **);
-BOOL        SSL_X509_match_name(apr_pool_t *, X509 *, const char *, BOOL, server_rec *);
-BOOL        SSL_X509_INFO_load_file(apr_pool_t *, STACK_OF(X509_INFO) *, const char *);
-BOOL        SSL_X509_INFO_load_path(apr_pool_t *, STACK_OF(X509_INFO) *, const char *);
-int         SSL_CTX_use_certificate_chain(SSL_CTX *, char *, int, pem_password_cb *);
-char       *SSL_SESSION_id2sz(unsigned char *, int, char *, int);
+void        ap_SSL_init_app_data2_idx(void);
+void       *ap_SSL_get_app_data2(SSL *);
+void        ap_SSL_set_app_data2(SSL *, void *);
+EVP_PKEY   *ap_SSL_read_PrivateKey(const char *, EVP_PKEY **, pem_password_cb *, void *);
+int         ap_SSL_smart_shutdown(SSL *ssl);
+BOOL        ap_SSL_X509_getBC(X509 *, int *, int *);
+char       *ap_SSL_ASN1_STRING_to_utf8(apr_pool_t *, ASN1_STRING *);
+char       *ap_SSL_X509_NAME_ENTRY_to_string(apr_pool_t *p, X509_NAME_ENTRY *xsne);
+char       *ap_SSL_X509_NAME_to_string(apr_pool_t *, X509_NAME *, int);
+BOOL        ap_SSL_X509_getSAN(apr_pool_t *, X509 *, int, int, apr_array_header_t **);
+BOOL        ap_SSL_X509_getIDs(apr_pool_t *, X509 *, apr_array_header_t **);
+BOOL        ap_SSL_X509_match_name(apr_pool_t *, X509 *, const char *, BOOL, server_rec *);
+BOOL        ap_SSL_X509_INFO_load_file(apr_pool_t *, STACK_OF(X509_INFO) *, const char *);
+BOOL        ap_SSL_X509_INFO_load_path(apr_pool_t *, STACK_OF(X509_INFO) *, const char *);
+int         ap_SSL_CTX_use_certificate_chain(SSL_CTX *, char *, int, pem_password_cb *);
+char       *ap_SSL_SESSION_id2sz(unsigned char *, int, char *, int);
 
 #endif /* __SSL_UTIL_SSL_H__ */
 /** @} */

From dev-return-82374-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 15 18:22:12 2015
Return-Path: <dev-return-82374-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A0647172F4
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 15 Apr 2015 18:22:12 +0000 (UTC)
Received: (qmail 40957 invoked by uid 500); 15 Apr 2015 18:22:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 40864 invoked by uid 500); 15 Apr 2015 18:22:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 40854 invoked by uid 99); 15 Apr 2015 18:22:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 18:22:11 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [80.12.242.126] (HELO smtp.smtpout.orange.fr) (80.12.242.126)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 18:22:04 +0000
Received: from [127.0.0.1] ([92.140.173.204])
	by mwinf5d60 with ME
	id GJMi1q00D4QxoFQ03JMit2; Wed, 15 Apr 2015 20:21:43 +0200
X-ME-Helo: [127.0.0.1]
X-ME-Date: Wed, 15 Apr 2015 20:21:43 +0200
X-ME-IP: 92.140.173.204
Message-ID: <552EAC36.3010901@wanadoo.fr>
Date: Wed, 15 Apr 2015 20:21:42 +0200
From: Marion & Christophe JAILLET <christophe.jaillet@wanadoo.fr>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1673904 - in /httpd/httpd/branches/2.4.x: ./ CHANGES
 STATUS docs/manual/mod/mod_logio.xml modules/loggers/mod_logio.c
References: <20150415175943.023D8AC0095@hades.apache.org>
In-Reply-To: <20150415175943.023D8AC0095@hades.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 150415-0, 15/04/2015), Outbound message
X-Antivirus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

compatibility note is missing in the doc.

BTW, what is the reason of the LogIOTrackTTFB directive? No impact on 
performance if %^FB is not needed?

CJ

Le 15/04/2015 19:59, covener@apache.org a crit :
> Author: covener
> Date: Wed Apr 15 17:59:42 2015
> New Revision: 1673904
>
> URL: http://svn.apache.org/r1673904
> Log:
> Merge r1671918, r1673113 from trunk:
>
> allow time to first byte (of response headers)
> to be logged by mod_logio.
>
> mod_logio was just a conveninent place to do this
> w/o writing a new filter or complicating an existing
> important one.
>
>
>
> Use 'unsigned int' in bitfield
>
> Modified:
>      httpd/httpd/branches/2.4.x/   (props changed)
>      httpd/httpd/branches/2.4.x/CHANGES
>      httpd/httpd/branches/2.4.x/STATUS
>      httpd/httpd/branches/2.4.x/docs/manual/mod/mod_logio.xml
>      httpd/httpd/branches/2.4.x/modules/loggers/mod_logio.c
>
> Modified: httpd/httpd/branches/2.4.x/docs/manual/mod/mod_logio.xml
> URL: http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/docs/manual/mod/mod_logio.xml?rev=1673904&r1=1673903&r2=1673904&view=diff
> ==============================================================================
> --- httpd/httpd/branches/2.4.x/docs/manual/mod/mod_logio.xml (original)
> +++ httpd/httpd/branches/2.4.x/docs/manual/mod/mod_logio.xml Wed Apr 15 17:59:42 2015
> @@ -72,6 +72,12 @@
>           <td>Bytes transferred (received and sent), including request and headers,
>           cannot be zero. This is the combination of %I and %O.<br />
>           Available in Apache 2.4.7 and later</td></tr>
> +
> +    <tr><td><code>%^FB</code></td>
> +        <td>Delay in microseconds between when the request arrived and the
> +        first byte of the response headers are written.  Only available if
> +        <directive>LogIOTrackTTFB</directive> is set to ON.
> +        </td></tr>
>       </table>
>   
>       <p>Usually, the functionality is used like this:</p>
> @@ -83,4 +89,21 @@
>       </dl>
>   </section>
>   
> +<directivesynopsis>
> +<name>LogIOTrackTTFB</name>
> +<description>Enable tracking of time to first byte (TTFB)</description>
> +<syntax>LogIOTrackTTFB ON|OFF</syntax>
> +<default>LogIOTrackTTFB OFF</default>
> +<contextlist><context>server config</context><context>virtual host</context>
> +<context>directory</context><context>.htaccess</context></contextlist>
> +<override>none</override>
> +
> +<usage>
> +    <p>This directive configures whether this module tracks the delay
> +    between the request being read and the first byte of the response
> +    headers being written.  The resulting value may be logged with the
> +    <code>%^FB</code> format.</p>
> +</usage>
> +</directivesynopsis>
> +
>   </modulesynopsis>

From dev-return-82375-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 15 18:44:00 2015
Return-Path: <dev-return-82375-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B14B817487
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 15 Apr 2015 18:44:00 +0000 (UTC)
Received: (qmail 99833 invoked by uid 500); 15 Apr 2015 18:43:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 99774 invoked by uid 500); 15 Apr 2015 18:43:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 99764 invoked by uid 99); 15 Apr 2015 18:43:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 18:43:54 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of covener@gmail.com designates 209.85.212.173 as permitted sender)
Received: from [209.85.212.173] (HELO mail-wi0-f173.google.com) (209.85.212.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 18:43:28 +0000
Received: by wiun10 with SMTP id n10so70712696wiu.1
        for <dev@httpd.apache.org>; Wed, 15 Apr 2015 11:42:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=z7CGFjmN8Kt+PrU/ndk4cGIIU2ZxL9B8ZHGkboxq6v8=;
        b=GsPjLJ79F3vIMi7yBzSEpV9pYJB3Q8dc/aOEf3uQl4lYS/WIVgudWCrHmWo6MpQPf0
         7btu9tdlgB7l3c8JkKf61QrrdjwExgXdZRccXYnGSAobOwn7j3Fh0zBnTaC3IDwTEWFc
         IpZruoFvQKYt8cX8jqLfUE6J5Cvm5e6fnldcNZTqDzTvrqaYiTU6QS3OcbWoEdMtCVxb
         r8LhcTum+AEE/geLC7UkXWhid95REZzp5jiRFr9X7KI3z6rC3Vm+2sMxzJOE6pqfgFf7
         8ZiCTvf+Mu+qrlTwYI1Yg5JwdnJCQtrdWq+pIXVuHD6tHpsIYc4d8BhqO2dx6fYYEVqL
         xBYQ==
MIME-Version: 1.0
X-Received: by 10.180.94.39 with SMTP id cz7mr452207wib.66.1429123362649; Wed,
 15 Apr 2015 11:42:42 -0700 (PDT)
Received: by 10.27.26.200 with HTTP; Wed, 15 Apr 2015 11:42:42 -0700 (PDT)
In-Reply-To: <552EAC36.3010901@wanadoo.fr>
References: <20150415175943.023D8AC0095@hades.apache.org>
	<552EAC36.3010901@wanadoo.fr>
Date: Wed, 15 Apr 2015 13:42:42 -0500
Message-ID: <CALK=YjMMH7XtJ3x+d2m1gJ3MyHMDYtgbbPqn84X7QfnaeLbUSg@mail.gmail.com>
Subject: Re: svn commit: r1673904 - in /httpd/httpd/branches/2.4.x: ./ CHANGES
 STATUS docs/manual/mod/mod_logio.xml modules/loggers/mod_logio.c
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks for the review

On Wed, Apr 15, 2015 at 1:21 PM, Marion & Christophe JAILLET
<christophe.jaillet@wanadoo.fr> wrote:
> compatibility note is missing in the doc.

r1673924.

> BTW, what is the reason of the LogIOTrackTTFB directive? No impact on
> performance if %^FB is not needed?

Unfortunately it needs to call apr_time_now()  (gettimeofday()) before
it is called back by mod_log_config to be able to track the time.

I didn't want to add another apr_time_now() in the request path, but I
don't know how "practical" of a concern that might be.

From dev-return-82376-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 15 18:44:37 2015
Return-Path: <dev-return-82376-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BA06017490
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 15 Apr 2015 18:44:37 +0000 (UTC)
Received: (qmail 4406 invoked by uid 500); 15 Apr 2015 18:44:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 4330 invoked by uid 500); 15 Apr 2015 18:44:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 4321 invoked by uid 99); 15 Apr 2015 18:44:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 18:44:37 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: local policy)
Received: from [192.109.42.8] (HELO einhorn.in-berlin.de) (192.109.42.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 18:44:30 +0000
X-Envelope-From: stsp@apache.org
Received: from fintan.stsp.name (fintan.stsp.name [217.197.84.44])
	by einhorn.in-berlin.de (8.14.4/8.14.4/Debian-4) with ESMTP id t3FIh6fv025394
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
	Wed, 15 Apr 2015 20:43:07 +0200
Received: from localhost (fintan.stsp.name [local])
	by fintan.stsp.name (OpenSMTPD) with ESMTPA id 3ca6ef4f;
	Wed, 15 Apr 2015 20:43:05 +0200 (CEST)
Date: Wed, 15 Apr 2015 20:43:05 +0200
From: Stefan Sperling <stsp@apache.org>
To: dev@httpd.apache.org
Cc: Stuart Henderson <sthen@openbsd.org>
Subject: check for RAND_egd at configure time
Message-ID: <20150415184304.GD15209@fintan.stsp.name>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.23 (2014-03-12)
X-Virus-Checked: Checked by ClamAV on apache.org

LibreSSL does not provide the RAND_egd() function.

This patch adds a configure check to allow building mod_ssl with LibreSSL.

Index: modules/ssl/config.m4
===================================================================
--- modules/ssl/config.m4	(revision 1673798)
+++ modules/ssl/config.m4	(working copy)
@@ -44,6 +44,12 @@
            # structure, so ask libtool to hide everything else:
            APR_ADDTO(MOD_SSL_LDADD, [-export-symbols-regex ssl_module])
         fi
+
+        have_rand_egd="no"
+        AC_CHECK_LIB(crypto, RAND_egd, [have_rand_egd="yes"])
+        if test "$have_rand_egd" = "yes"; then
+            AC_DEFINE([HAVE_RAND_EGD], [1], [Define if RAND_egd exists.])
+        fi
     else
         enable_ssl=no
     fi
Index: modules/ssl/ssl_engine_rand.c
===================================================================
--- modules/ssl/ssl_engine_rand.c	(revision 1673798)
+++ modules/ssl/ssl_engine_rand.c	(working copy)
@@ -86,6 +86,7 @@
                 nDone += ssl_rand_feedfp(p, fp, pRandSeed->nBytes);
                 ssl_util_ppclose(s, p, fp);
             }
+#ifdef HAVE_RAND_EGD
             else if (pRandSeed->nSrc == SSL_RSSRC_EGD) {
                 /*
                  * seed in contents provided by the external
@@ -95,6 +96,7 @@
                     continue;
                 nDone += n;
             }
+#endif
             else if (pRandSeed->nSrc == SSL_RSSRC_BUILTIN) {
                 struct {
                     time_t t;

From dev-return-82377-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 15 19:55:03 2015
Return-Path: <dev-return-82377-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3A0FD17A94
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 15 Apr 2015 19:55:03 +0000 (UTC)
Received: (qmail 21379 invoked by uid 500); 15 Apr 2015 19:55:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 21311 invoked by uid 500); 15 Apr 2015 19:55:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 21301 invoked by uid 99); 15 Apr 2015 19:55:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 19:55:01 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rainer.jung@kippdata.de designates 195.227.30.149 as permitted sender)
Received: from [195.227.30.149] (HELO mailserver.kippdata.de) (195.227.30.149)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 19:54:57 +0000
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t3FJsUbD016361
	for <dev@httpd.apache.org>; Wed, 15 Apr 2015 21:54:30 +0200 (CEST)
Message-ID: <552EC1F2.2000504@kippdata.de>
Date: Wed, 15 Apr 2015 21:54:26 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1673940 - in /httpd/httpd/branches/2.4.x: ./ CHANGES
 STATUS modules/ssl/ssl_util_ssl.c
References: <20150415194932.0DE5CAC0095@hades.apache.org>
In-Reply-To: <20150415194932.0DE5CAC0095@hades.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Am 15.04.2015 um 21:49 schrieb covener@apache.org:
> Author: covener
> Date: Wed Apr 15 19:49:31 2015
> New Revision: 1673940
>
> URL: http://svn.apache.org/r1673940
> Log:
> Merge r1666297 from trunk:
>
> ssl_util: Fix possible crash (free => OPENSSL_free) and error path leaks when
> checking the server certificate constraints (SSL_X509_getBC()).
>
>
> Modified:
>      httpd/httpd/branches/2.4.x/   (props changed)
>      httpd/httpd/branches/2.4.x/CHANGES
>      httpd/httpd/branches/2.4.x/STATUS
>      httpd/httpd/branches/2.4.x/modules/ssl/ssl_util_ssl.c
>

> Modified: httpd/httpd/branches/2.4.x/CHANGES
> URL: http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/CHANGES?rev=1673940&r1=1673939&r2=1673940&view=diff
> ==============================================================================
> --- httpd/httpd/branches/2.4.x/CHANGES [utf-8] (original)
> +++ httpd/httpd/branches/2.4.x/CHANGES [utf-8] Wed Apr 15 19:49:31 2015
> @@ -12,6 +12,13 @@ Changes with Apache 2.4.13
>        calls r:wsupgrade() can cause a child process crash.
>        [Edward Lu <Chaosed0 gmail.com>]
>
> +  *) mod_ssl: Fix possible crash when loading server certificate constraints.
> +     PR 57694. [Paul Spangler <paul.spangler ni com>, Yann Ylavic]
> +
> +  *) core, modules: Avoid error response/document handling by the core if some
> +     handler or input filter already did it while reading the request (causing
> +     a double response body).  [Yann Ylavic]
> +
>     *) build: Don't load mod_cgi and mod_cgid in the default configuration
>        if they're both built.  [olli hauer <ohauer gmx.de>]

Is the second (core) entry intentional or a merge error?

Regards,

Rainer

From dev-return-82378-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 15 19:56:03 2015
Return-Path: <dev-return-82378-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BE0E117AA9
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 15 Apr 2015 19:56:03 +0000 (UTC)
Received: (qmail 29392 invoked by uid 500); 15 Apr 2015 19:56:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29322 invoked by uid 500); 15 Apr 2015 19:56:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29312 invoked by uid 99); 15 Apr 2015 19:56:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 19:56:03 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of trawick@gmail.com designates 209.85.218.45 as permitted sender)
Received: from [209.85.218.45] (HELO mail-oi0-f45.google.com) (209.85.218.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 19:55:35 +0000
Received: by oign205 with SMTP id n205so36096839oig.2
        for <dev@httpd.apache.org>; Wed, 15 Apr 2015 12:54:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:cc:subject
         :references:in-reply-to:content-type:content-transfer-encoding;
        bh=nc/cp/TQVWVi5yRajo9xR+vZFVPq6OZCoPPm6xWKjTA=;
        b=jViT1RtyJjHctMN285qwJrTfc+pfKuhBDgvq2ks4P60CAowWujSUlIBlxbVDuPzwQC
         tAd/gp5zUvP3p+DuNchsLCfyf4wvNivRaBsKxtkfrN8Qm6DcDhQVc6RAcpWM2WRQEEgh
         M68G3SJEB1z3apU+zY59kla9kaWnVmg28LjnVMpJR0LKKt30ajc1YKj9SuSL3EPF2tR9
         GzR/xU7rx0242FliVRq2eWE/4AbCG0JGdvtBRCiT5p6cq7OIvbVfFKur0RyBqbM54X2i
         ASkdUjn0jKkpg1UgiqaOti78yAwlvupNng8wfnU0K0CEFYW+XfwzEO38P7m+uTfP4j+F
         Ot0A==
X-Received: by 10.202.72.213 with SMTP id v204mr17326915oia.116.1429127643902;
        Wed, 15 Apr 2015 12:54:03 -0700 (PDT)
Received: from [10.6.1.242] ([207.238.37.2])
        by mx.google.com with ESMTPSA id y6sm2909909oes.9.2015.04.15.12.54.01
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Wed, 15 Apr 2015 12:54:02 -0700 (PDT)
Message-ID: <552EC1D9.8090106@gmail.com>
Date: Wed, 15 Apr 2015 14:54:01 -0500
From: Jeff Trawick <trawick@gmail.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
CC: Stuart Henderson <sthen@openbsd.org>
Subject: Re: namespacing in mod_ssl
References: <20150415163613.GC15209@fintan.stsp.name>
In-Reply-To: <20150415163613.GC15209@fintan.stsp.name>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 04/15/2015 11:36 AM, Stefan Sperling wrote:
> A few months ago, OpenBSD's LibreSSL added a new function
> called SSL_CTX_use_certificate_chain().
> This unexpectedly broke the build of Apache's mod_ssl which defines
> a function of the same name. In OpenBSD this was worked around by
> patching mod_ssl, renaming the clashing function.
>
> Since then LibreSSL has renamed to SSL_CTX_use_certificate_chain_mem().
> This resolved the immediate problem and mod_ssl patches could be dropped.
>
> However, the actual issue here is that mod_ssl is squatting the SSL_ namespace.
> Historically this may have made sense (it seems mod_ssl and OpenSSL have
> shared history/authors). Bill Rowe suggested to try moving mod_ssl's
> functions into the ap_ namespace to avoid such clashes in the future.

IMO it would be appropriate to instead go one by one and make sure we're 
using an appropriate name to begin with for these functions that are 
squatting the SSL namespace, instead of making these often-bewildering 
names ugly and (still) bewildering.

AP_SSL_LIBRARY_NAME is very appropriate, but ap_SSL_set_app_data2 is the 
wrong fix.

>
> I have verified that no undefined references or undeclared symbols
> are reported by gcc during the build with this diff.
> I have tested startup of a httpd with mod_ssl loaded.
> Additional testing is appreciated.
>
> I'm not sure how README.dsov.ps should be regenerated.
> It contains a refence to SSL_get_app_data2().
> For now I've only updated the .dsov.fig file.
>
> Index: modules/ssl/README.dsov.fig
> ===================================================================
> --- modules/ssl/README.dsov.fig	(revision 1673798)
> +++ modules/ssl/README.dsov.fig	(working copy)
> @@ -339,7 +339,7 @@
>   4 0 0 200 0 20 8 0.0000 4 90 465 11745 4770 ->method\001
>   4 0 0 200 0 20 8 0.0000 4 120 1665 9945 6480 X509_STORE_CTX_get_app_data()\001
>   4 0 0 200 0 20 8 0.0000 4 120 1215 10980 6705 SSL_CTX_get_cert_store()\001
> -4 0 0 200 0 20 8 0.0000 4 120 1020 8280 5130 SSL_get_app_data2()\001
> +4 0 0 200 0 20 8 0.0000 4 120 1020 8280 5130 ap_SSL_get_app_data2()\001
>   4 0 0 100 0 18 20 0.0000 4 270 1290 10710 7605 OpenSSL\001
>   4 0 0 100 0 18 12 0.0000 4 180 720 10710 7785 [Crypto]\001
>   4 0 0 100 0 18 20 0.0000 4 270 1290 10935 3645 OpenSSL\001
> Index: modules/ssl/mod_ssl.c
> ===================================================================
> --- modules/ssl/mod_ssl.c	(revision 1673798)
> +++ modules/ssl/mod_ssl.c	(working copy)
> @@ -570,7 +570,7 @@
>       }
>   
>       SSL_set_app_data(ssl, c);
> -    SSL_set_app_data2(ssl, NULL); /* will be request_rec */
> +    ap_SSL_set_app_data2(ssl, NULL); /* will be request_rec */
>   
>       sslconn->ssl = ssl;
>   
> Index: modules/ssl/ssl_engine_init.c
> ===================================================================
> --- modules/ssl/ssl_engine_init.c	(revision 1673798)
> +++ modules/ssl/ssl_engine_init.c	(working copy)
> @@ -148,12 +148,12 @@
>       apr_status_t rv;
>       apr_array_header_t *pphrases;
>   
> -    if (SSLeay() < SSL_LIBRARY_VERSION) {
> +    if (SSLeay() < AP_SSL_LIBRARY_VERSION) {
>           ap_log_error(APLOG_MARK, APLOG_WARNING, 0, base_server, APLOGNO(01882)
>                        "Init: this version of mod_ssl was compiled against "
>                        "a newer library (%s, version currently loaded is %s)"
>                        " - may result in undefined or erroneous behavior",
> -                     SSL_LIBRARY_TEXT, SSLeay_version(SSLEAY_VERSION));
> +                     AP_SSL_LIBRARY_TEXT, SSLeay_version(SSLEAY_VERSION));
>       }
>   
>       /* We initialize mc->pid per-process in the child init,
> @@ -242,7 +242,7 @@
>   #endif
>   
>       ap_log_error(APLOG_MARK, APLOG_INFO, 0, s, APLOGNO(01883)
> -                 "Init: Initialized %s library", SSL_LIBRARY_NAME);
> +                 "Init: Initialized %s library", AP_SSL_LIBRARY_NAME);
>   
>       /*
>        * Seed the Pseudo Random Number Generator (PRNG)
> @@ -348,7 +348,7 @@
>        */
>       ssl_add_version_components(p, base_server);
>   
> -    SSL_init_app_data2_idx(); /* for SSL_get_app_data2() at request time */
> +    ap_SSL_init_app_data2_idx(); /* for ap_SSL_get_app_data2() at request time */
>   
>       init_dh_params();
>   
> @@ -871,9 +871,9 @@
>           }
>       }
>   
> -    n = SSL_CTX_use_certificate_chain(mctx->ssl_ctx,
> -                                      (char *)chain,
> -                                      skip_first, NULL);
> +    n = ap_SSL_CTX_use_certificate_chain(mctx->ssl_ctx,
> +                                         (char *)chain,
> +                                         skip_first, NULL);
>       if (n < 0) {
>           ap_log_error(APLOG_MARK, APLOG_EMERG, 0, s, APLOGNO(01903)
>                   "Failed to configure CA certificate chain!");
> @@ -946,7 +946,7 @@
>        * Some information about the certificate(s)
>        */
>   
> -    if (SSL_X509_getBC(cert, &is_ca, &pathlen)) {
> +    if (ap_SSL_X509_getBC(cert, &is_ca, &pathlen)) {
>           if (is_ca) {
>               ap_log_error(APLOG_MARK, APLOG_WARNING, 0, s, APLOGNO(01906)
>                            "%s server certificate is a CA certificate "
> @@ -961,8 +961,8 @@
>           }
>       }
>   
> -    if (SSL_X509_match_name(ptemp, cert, (const char *)s->server_hostname,
> -                            TRUE, s) == FALSE) {
> +    if (ap_SSL_X509_match_name(ptemp, cert, (const char *)s->server_hostname,
> +                               TRUE, s) == FALSE) {
>           ap_log_error(APLOG_MARK, APLOG_WARNING, 0, s, APLOGNO(01909)
>                        "%s server certificate does NOT include an ID "
>                        "which matches the server name", key_id);
> @@ -1249,11 +1249,11 @@
>       sk = sk_X509_INFO_new_null();
>   
>       if (pkp->cert_file) {
> -        SSL_X509_INFO_load_file(ptemp, sk, pkp->cert_file);
> +        ap_SSL_X509_INFO_load_file(ptemp, sk, pkp->cert_file);
>       }
>   
>       if (pkp->cert_path) {
> -        SSL_X509_INFO_load_path(ptemp, sk, pkp->cert_path);
> +        ap_SSL_X509_INFO_load_path(ptemp, sk, pkp->cert_path);
>       }
>   
>       if ((ncerts = sk_X509_INFO_num(sk)) <= 0) {
> @@ -1640,7 +1640,7 @@
>   
>           ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, s, APLOGNO(02209)
>                        "CA certificate: %s",
> -                     SSL_X509_NAME_to_string(ptemp, name, 0));
> +                     ap_SSL_X509_NAME_to_string(ptemp, name, 0));
>   
>           /*
>            * note that SSL_load_client_CA_file() checks for duplicates,
> Index: modules/ssl/ssl_engine_io.c
> ===================================================================
> --- modules/ssl/ssl_engine_io.c	(revision 1673798)
> +++ modules/ssl/ssl_engine_io.c	(working copy)
> @@ -1051,7 +1051,7 @@
>       }
>   
>       SSL_set_shutdown(ssl, shutdown_type);
> -    SSL_smart_shutdown(ssl);
> +    ap_SSL_smart_shutdown(ssl);
>   
>       /* and finally log the fact that we've closed the connection */
>       if (APLOG_CS_IS_LEVEL(c, mySrvFromConn(c), loglevel)) {
> @@ -1181,8 +1181,8 @@
>               hostname_note) {
>               apr_table_unset(c->notes, "proxy-request-hostname");
>               if (!cert
> -                || SSL_X509_match_name(c->pool, cert, hostname_note,
> -                                       TRUE, server) == FALSE) {
> +                || ap_SSL_X509_match_name(c->pool, cert, hostname_note,
> +                                          TRUE, server) == FALSE) {
>                   proxy_ssl_check_peer_ok = FALSE;
>                   ap_log_cerror(APLOG_MARK, APLOG_INFO, 0, c, APLOGNO(02411)
>                                 "SSL Proxy: Peer certificate does not match "
> @@ -2186,7 +2186,7 @@
>               }
>               ap_log_cserror(APLOG_MARK, APLOG_TRACE4, 0, c, s,
>                       "%s: %s %ld/%d bytes %s BIO#%pp [mem: %pp] %s",
> -                    SSL_LIBRARY_NAME,
> +                    AP_SSL_LIBRARY_NAME,
>                       (cmd == (BIO_CB_WRITE|BIO_CB_RETURN) ? "write" : "read"),
>                       rc, argi, (cmd == (BIO_CB_WRITE|BIO_CB_RETURN) ? "to" : "from"),
>                       bio, argp, dump);
> @@ -2196,7 +2196,7 @@
>           else {
>               ap_log_cserror(APLOG_MARK, APLOG_TRACE4, 0, c, s,
>                       "%s: I/O error, %d bytes expected to %s on BIO#%pp [mem: %pp]",
> -                    SSL_LIBRARY_NAME, argi,
> +                    AP_SSL_LIBRARY_NAME, argi,
>                       (cmd == (BIO_CB_WRITE|BIO_CB_RETURN) ? "write" : "read"),
>                       bio, argp);
>           }
> Index: modules/ssl/ssl_engine_kernel.c
> ===================================================================
> --- modules/ssl/ssl_engine_kernel.c	(revision 1673798)
> +++ modules/ssl/ssl_engine_kernel.c	(working copy)
> @@ -229,7 +229,7 @@
>           }
>       }
>   #endif
> -    SSL_set_app_data2(ssl, r);
> +    ap_SSL_set_app_data2(ssl, r);
>   
>       /*
>        * Log information about incoming HTTPS requests
> @@ -1385,7 +1385,7 @@
>       SSL *ssl = X509_STORE_CTX_get_ex_data(ctx,
>                                             SSL_get_ex_data_X509_STORE_CTX_idx());
>       conn_rec *conn      = (conn_rec *)SSL_get_app_data(ssl);
> -    request_rec *r      = (request_rec *)SSL_get_app_data2(ssl);
> +    request_rec *r      = (request_rec *)ap_SSL_get_app_data2(ssl);
>       server_rec *s       = r ? r->server : mySrvFromConn(conn);
>   
>       SSLSrvConfigRec *sc = mySrvConfig(s);
> @@ -1654,7 +1654,7 @@
>                               const char *result,
>                               long timeout)
>   {
> -    char buf[SSL_SESSION_ID_STRING_LEN];
> +    char buf[AP_SSL_SESSION_ID_STRING_LEN];
>       char timeout_str[56] = {'\0'};
>   
>       if (!APLOGdebug(s)) {
> @@ -1670,7 +1670,7 @@
>                    "Inter-Process Session Cache: "
>                    "request=%s status=%s id=%s %s(session %s)",
>                    request, status,
> -                 SSL_SESSION_id2sz(id, idlen, buf, sizeof(buf)),
> +                 ap_SSL_SESSION_id2sz(id, idlen, buf, sizeof(buf)),
>                    timeout_str, result);
>   }
>   
> @@ -1811,32 +1811,32 @@
>        */
>       if (where & SSL_CB_HANDSHAKE_START) {
>           ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
> -                      "%s: Handshake: start", SSL_LIBRARY_NAME);
> +                      "%s: Handshake: start", AP_SSL_LIBRARY_NAME);
>       }
>       else if (where & SSL_CB_HANDSHAKE_DONE) {
>           ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
> -                      "%s: Handshake: done", SSL_LIBRARY_NAME);
> +                      "%s: Handshake: done", AP_SSL_LIBRARY_NAME);
>       }
>       else if (where & SSL_CB_LOOP) {
>           ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
>                         "%s: Loop: %s",
> -                      SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
> +                      AP_SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
>       }
>       else if (where & SSL_CB_READ) {
>           ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
>                         "%s: Read: %s",
> -                      SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
> +                      AP_SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
>       }
>       else if (where & SSL_CB_WRITE) {
>           ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
>                         "%s: Write: %s",
> -                      SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
> +                      AP_SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
>       }
>       else if (where & SSL_CB_ALERT) {
>           char *str = (where & SSL_CB_READ) ? "read" : "write";
>           ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
>                         "%s: Alert: %s:%s:%s",
> -                      SSL_LIBRARY_NAME, str,
> +                      AP_SSL_LIBRARY_NAME, str,
>                         SSL_alert_type_string_long(rc),
>                         SSL_alert_desc_string_long(rc));
>       }
> @@ -1844,12 +1844,12 @@
>           if (rc == 0) {
>               ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
>                             "%s: Exit: failed in %s",
> -                          SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
> +                          AP_SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
>           }
>           else if (rc < 0) {
>               ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
>                             "%s: Exit: error in %s",
> -                          SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
> +                          AP_SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
>           }
>       }
>   
> Index: modules/ssl/ssl_engine_log.c
> ===================================================================
> --- modules/ssl/ssl_engine_log.c	(revision 1673798)
> +++ modules/ssl/ssl_engine_log.c	(working copy)
> @@ -141,8 +141,8 @@
>               int maxdnlen = (HUGE_STRING_LEN - msglen - 300) / 2;
>   
>               BIO_puts(bio, " [subject: ");
> -            name = SSL_X509_NAME_to_string(p, X509_get_subject_name(cert),
> -                                           maxdnlen);
> +            name = ap_SSL_X509_NAME_to_string(p, X509_get_subject_name(cert),
> +                                              maxdnlen);
>               if (!strIsEmpty(name)) {
>                   BIO_puts(bio, name);
>               } else {
> @@ -150,8 +150,8 @@
>               }
>   
>               BIO_puts(bio, " / issuer: ");
> -            name = SSL_X509_NAME_to_string(p, X509_get_issuer_name(cert),
> -                                           maxdnlen);
> +            name = ap_SSL_X509_NAME_to_string(p, X509_get_issuer_name(cert),
> +                                              maxdnlen);
>               if (!strIsEmpty(name)) {
>                   BIO_puts(bio, name);
>               } else {
> Index: modules/ssl/ssl_engine_pphrase.c
> ===================================================================
> --- modules/ssl/ssl_engine_pphrase.c	(revision 1673798)
> +++ modules/ssl/ssl_engine_pphrase.c	(working copy)
> @@ -216,7 +216,7 @@
>            * is not empty. */
>           ERR_clear_error();
>   
> -        bReadable = ((pPrivateKey = SSL_read_PrivateKey(ppcb_arg.pkey_file,
> +        bReadable = ((pPrivateKey = ap_SSL_read_PrivateKey(ppcb_arg.pkey_file,
>                        NULL, ssl_pphrase_Handle_CB, &ppcb_arg)) != NULL ?
>                        TRUE : FALSE);
>   
> Index: modules/ssl/ssl_engine_vars.c
> ===================================================================
> --- modules/ssl/ssl_engine_vars.c	(revision 1673798)
> +++ modules/ssl/ssl_engine_vars.c	(working copy)
> @@ -131,7 +131,7 @@
>   }
>   
>   static const char var_interface[] = "mod_ssl/" AP_SERVER_BASEREVISION;
> -static char var_library_interface[] = SSL_LIBRARY_TEXT;
> +static char var_library_interface[] = AP_SSL_LIBRARY_TEXT;
>   static char *var_library = NULL;
>   
>   static apr_array_header_t *expr_peer_ext_list_fn(ap_expr_eval_ctx_t *ctx,
> @@ -185,7 +185,7 @@
>       APR_REGISTER_OPTIONAL_FN(ssl_ext_list);
>   
>       /* Perform once-per-process library version determination: */
> -    var_library = apr_pstrdup(p, SSL_LIBRARY_DYNTEXT);
> +    var_library = apr_pstrdup(p, AP_SSL_LIBRARY_DYNTEXT);
>   
>       if ((cp = strchr(var_library, ' ')) != NULL) {
>           *cp = '/';
> @@ -406,7 +406,7 @@
>           result = (char *)SSL_get_version(ssl);
>       }
>       else if (ssl != NULL && strcEQ(var, "SESSION_ID")) {
> -        char buf[SSL_SESSION_ID_STRING_LEN];
> +        char buf[AP_SSL_SESSION_ID_STRING_LEN];
>           SSL_SESSION *pSession = SSL_get_session(ssl);
>           if (pSession) {
>               unsigned char *id;
> @@ -419,8 +419,8 @@
>               idlen = pSession->session_id_length;
>   #endif
>   
> -            result = apr_pstrdup(p, SSL_SESSION_id2sz(id, idlen,
> -                                                      buf, sizeof(buf)));
> +            result = apr_pstrdup(p, ap_SSL_SESSION_id2sz(id, idlen,
> +                                                         buf, sizeof(buf)));
>           }
>       }
>       else if(ssl != NULL && strcEQ(var, "SESSION_RESUMED")) {
> @@ -651,7 +651,7 @@
>                   n =OBJ_obj2nid((ASN1_OBJECT *)X509_NAME_ENTRY_get_object(xsne));
>   
>                   if (n == ssl_var_lookup_ssl_cert_dn_rec[i].nid && idx-- == 0) {
> -                    result = SSL_X509_NAME_ENTRY_to_string(p, xsne);
> +                    result = ap_SSL_X509_NAME_ENTRY_to_string(p, xsne);
>                       break;
>                   }
>               }
> @@ -682,7 +682,7 @@
>       if ((numlen < 1) || (numlen > 4) || (numlen != strlen(var)))
>           return NULL;
>   
> -    if (SSL_X509_getSAN(p, xs, type, atoi(var), &entries))
> +    if (ap_SSL_X509_getSAN(p, xs, type, atoi(var), &entries))
>          /* return the first entry from this 1-element array */
>          return APR_ARRAY_IDX(entries, 0, char *);
>       else
> @@ -807,7 +807,7 @@
>               char *decimal = BN_bn2dec(bn);
>               result = apr_pstrcat(p, "{ serialNumber ", decimal,
>                       ", issuer rdnSequence:\"",
> -                    SSL_X509_NAME_to_string(p, issuer, 0), "\" }", NULL);
> +                    ap_SSL_X509_NAME_to_string(p, issuer, 0), "\" }", NULL);
>               OPENSSL_free(decimal);
>               BN_free(bn);
>           }
> @@ -972,7 +972,7 @@
>                    apr_hash_set(count, &nid, sizeof nid, dup);
>                    key = apr_pstrcat(p, pfx, tag, NULL);
>                }
> -             value = SSL_X509_NAME_ENTRY_to_string(p, xsne);
> +             value = ap_SSL_X509_NAME_ENTRY_to_string(p, xsne);
>                apr_table_setn(t, key, value);
>            }
>       }
> @@ -1032,10 +1032,10 @@
>       /* subjectAltName entries of the server certificate */
>       xs = SSL_get_certificate(ssl);
>       if (xs) {
> -        if (SSL_X509_getSAN(p, xs, GEN_EMAIL, -1, &entries)) {
> +        if (ap_SSL_X509_getSAN(p, xs, GEN_EMAIL, -1, &entries)) {
>               extract_san_array(t, "SSL_SERVER_SAN_Email", entries, p);
>           }
> -        if (SSL_X509_getSAN(p, xs, GEN_DNS, -1, &entries)) {
> +        if (ap_SSL_X509_getSAN(p, xs, GEN_DNS, -1, &entries)) {
>               extract_san_array(t, "SSL_SERVER_SAN_DNS", entries, p);
>           }
>           /* no need to free xs (refcount does not increase) */
> @@ -1044,10 +1044,10 @@
>       /* subjectAltName entries of the client certificate */
>       xs = SSL_get_peer_certificate(ssl);
>       if (xs) {
> -        if (SSL_X509_getSAN(p, xs, GEN_EMAIL, -1, &entries)) {
> +        if (ap_SSL_X509_getSAN(p, xs, GEN_EMAIL, -1, &entries)) {
>               extract_san_array(t, "SSL_CLIENT_SAN_Email", entries, p);
>           }
> -        if (SSL_X509_getSAN(p, xs, GEN_DNS, -1, &entries)) {
> +        if (ap_SSL_X509_getSAN(p, xs, GEN_DNS, -1, &entries)) {
>               extract_san_array(t, "SSL_CLIENT_SAN_DNS", entries, p);
>           }
>           X509_free(xs);
> Index: modules/ssl/ssl_scache.c
> ===================================================================
> --- modules/ssl/ssl_scache.c	(revision 1673798)
> +++ modules/ssl/ssl_scache.c	(working copy)
> @@ -115,7 +115,7 @@
>                         apr_pool_t *p)
>   {
>       SSLModConfigRec *mc = myModConfig(s);
> -    unsigned char encoded[SSL_SESSION_MAX_DER], *ptr;
> +    unsigned char encoded[AP_SSL_SESSION_MAX_DER], *ptr;
>       unsigned int len;
>       apr_status_t rv;
>   
> @@ -148,8 +148,8 @@
>                                    apr_pool_t *p)
>   {
>       SSLModConfigRec *mc = myModConfig(s);
> -    unsigned char dest[SSL_SESSION_MAX_DER];
> -    unsigned int destlen = SSL_SESSION_MAX_DER;
> +    unsigned char dest[AP_SSL_SESSION_MAX_DER];
> +    unsigned int destlen = AP_SSL_SESSION_MAX_DER;
>       const unsigned char *ptr;
>       apr_status_t rv;
>   
> Index: modules/ssl/ssl_util_ssl.c
> ===================================================================
> --- modules/ssl/ssl_util_ssl.c	(revision 1673798)
> +++ modules/ssl/ssl_util_ssl.c	(working copy)
> @@ -40,7 +40,7 @@
>    */
>   static int SSL_app_data2_idx = -1;
>   
> -void SSL_init_app_data2_idx(void)
> +void ap_SSL_init_app_data2_idx(void)
>   {
>       int i;
>   
> @@ -57,12 +57,12 @@
>       }
>   }
>   
> -void *SSL_get_app_data2(SSL *ssl)
> +void *ap_SSL_get_app_data2(SSL *ssl)
>   {
>       return (void *)SSL_get_ex_data(ssl, SSL_app_data2_idx);
>   }
>   
> -void SSL_set_app_data2(SSL *ssl, void *arg)
> +void ap_SSL_set_app_data2(SSL *ssl, void *arg)
>   {
>       SSL_set_ex_data(ssl, SSL_app_data2_idx, (char *)arg);
>       return;
> @@ -74,7 +74,7 @@
>   **  _________________________________________________________________
>   */
>   
> -EVP_PKEY *SSL_read_PrivateKey(const char* filename, EVP_PKEY **key, pem_password_cb *cb, void *s)
> +EVP_PKEY *ap_SSL_read_PrivateKey(const char* filename, EVP_PKEY **key, pem_password_cb *cb, void *s)
>   {
>       EVP_PKEY *rc;
>       BIO *bioS;
> @@ -121,7 +121,7 @@
>   **  _________________________________________________________________
>   */
>   
> -int SSL_smart_shutdown(SSL *ssl)
> +int ap_SSL_smart_shutdown(SSL *ssl)
>   {
>       int i;
>       int rc;
> @@ -161,7 +161,7 @@
>   */
>   
>   /* retrieve basic constraints ingredients */
> -BOOL SSL_X509_getBC(X509 *cert, int *ca, int *pathlen)
> +BOOL ap_SSL_X509_getBC(X509 *cert, int *ca, int *pathlen)
>   {
>       BASIC_CONSTRAINTS *bc;
>       BIGNUM *bn = NULL;
> @@ -191,7 +191,7 @@
>   }
>   
>   /* convert an ASN.1 string to a UTF-8 string (escaping control characters) */
> -char *SSL_ASN1_STRING_to_utf8(apr_pool_t *p, ASN1_STRING *asn1str)
> +char *ap_SSL_ASN1_STRING_to_utf8(apr_pool_t *p, ASN1_STRING *asn1str)
>   {
>       char *result = NULL;
>       BIO *bio;
> @@ -213,9 +213,9 @@
>   }
>   
>   /* convert a NAME_ENTRY to UTF8 string */
> -char *SSL_X509_NAME_ENTRY_to_string(apr_pool_t *p, X509_NAME_ENTRY *xsne)
> +char *ap_SSL_X509_NAME_ENTRY_to_string(apr_pool_t *p, X509_NAME_ENTRY *xsne)
>   {
> -    char *result = SSL_ASN1_STRING_to_utf8(p, X509_NAME_ENTRY_get_data(xsne));
> +    char *result = ap_SSL_ASN1_STRING_to_utf8(p, X509_NAME_ENTRY_get_data(xsne));
>       ap_xlate_proto_from_ascii(result, len);
>       return result;
>   }
> @@ -224,7 +224,7 @@
>    * convert an X509_NAME to an RFC 2253 formatted string, optionally truncated
>    * to maxlen characters (specify a maxlen of 0 for no length limit)
>    */
> -char *SSL_X509_NAME_to_string(apr_pool_t *p, X509_NAME *dn, int maxlen)
> +char *ap_SSL_X509_NAME_to_string(apr_pool_t *p, X509_NAME *dn, int maxlen)
>   {
>       char *result = NULL;
>       BIO *bio;
> @@ -259,8 +259,8 @@
>    * GEN_EMAIL (rfc822Name)
>    * GEN_DNS (dNSName)
>    */
> -BOOL SSL_X509_getSAN(apr_pool_t *p, X509 *x509, int type, int idx,
> -                     apr_array_header_t **entries)
> +BOOL ap_SSL_X509_getSAN(apr_pool_t *p, X509 *x509, int type, int idx,
> +                        apr_array_header_t **entries)
>   {
>       STACK_OF(GENERAL_NAME) *names;
>   
> @@ -282,7 +282,7 @@
>                       switch (type) {
>                       case GEN_EMAIL:
>                       case GEN_DNS:
> -                        utf8str = SSL_ASN1_STRING_to_utf8(p, name->d.ia5);
> +                        utf8str = ap_SSL_ASN1_STRING_to_utf8(p, name->d.ia5);
>                           if (utf8str) {
>                               APR_ARRAY_PUSH(*entries, const char *) = utf8str;
>                           }
> @@ -313,7 +313,7 @@
>   }
>   
>   /* return an array of (RFC 6125 coined) DNS-IDs and CN-IDs in a certificate */
> -BOOL SSL_X509_getIDs(apr_pool_t *p, X509 *x509, apr_array_header_t **ids)
> +BOOL ap_SSL_X509_getIDs(apr_pool_t *p, X509 *x509, apr_array_header_t **ids)
>   {
>       X509_NAME *subj;
>       int i = -1;
> @@ -320,7 +320,7 @@
>   
>       /* First, the DNS-IDs (dNSName entries in the subjectAltName extension) */
>       if (!x509 ||
> -        (SSL_X509_getSAN(p, x509, GEN_DNS, -1, ids) == FALSE && !*ids)) {
> +        (ap_SSL_X509_getSAN(p, x509, GEN_DNS, -1, ids) == FALSE && !*ids)) {
>           *ids = NULL;
>           return FALSE;
>       }
> @@ -329,7 +329,7 @@
>       subj = X509_get_subject_name(x509);
>       while ((i = X509_NAME_get_index_by_NID(subj, NID_commonName, i)) != -1) {
>           APR_ARRAY_PUSH(*ids, const char *) =
> -            SSL_X509_NAME_ENTRY_to_string(p, X509_NAME_get_entry(subj, i));
> +            ap_SSL_X509_NAME_ENTRY_to_string(p, X509_NAME_get_entry(subj, i));
>       }
>   
>       return apr_is_empty_array(*ids) ? FALSE : TRUE;
> @@ -340,8 +340,8 @@
>    * DNS-IDs and CN-IDs (RFC 6125), optionally with basic wildcard matching.
>    * If server_rec is non-NULL, some (debug/trace) logging is enabled.
>    */
> -BOOL SSL_X509_match_name(apr_pool_t *p, X509 *x509, const char *name,
> -                         BOOL allow_wildcard, server_rec *s)
> +BOOL ap_SSL_X509_match_name(apr_pool_t *p, X509 *x509, const char *name,
> +                            BOOL allow_wildcard, server_rec *s)
>   {
>       BOOL matched = FALSE;
>       apr_array_header_t *ids;
> @@ -356,7 +356,7 @@
>        *    is found).
>        */
>   
> -    if (SSL_X509_getIDs(p, x509, &ids)) {
> +    if (ap_SSL_X509_getIDs(p, x509, &ids)) {
>           const char *cp;
>           int i;
>           char **id = (char **)ids->elts;
> @@ -387,8 +387,8 @@
>   
>               if (s) {
>                   ap_log_error(APLOG_MARK, APLOG_TRACE3, 0, s,
> -                             "[%s] SSL_X509_match_name: expecting name '%s', "
> -                             "%smatched by ID '%s'",
> +                             "[%s] ap_SSL_X509_match_name: expecting name "
> +                             "'%s', %smatched by ID '%s'",
>                                (mySrvConfig(s))->vhost_id, name,
>                                matched == TRUE ? "" : "NOT ", id[i]);
>               }
> @@ -417,9 +417,9 @@
>   **  _________________________________________________________________
>   */
>   
> -BOOL SSL_X509_INFO_load_file(apr_pool_t *ptemp,
> -                             STACK_OF(X509_INFO) *sk,
> -                             const char *filename)
> +BOOL ap_SSL_X509_INFO_load_file(apr_pool_t *ptemp,
> +                                STACK_OF(X509_INFO) *sk,
> +                                const char *filename)
>   {
>       BIO *in;
>   
> @@ -441,9 +441,9 @@
>       return TRUE;
>   }
>   
> -BOOL SSL_X509_INFO_load_path(apr_pool_t *ptemp,
> -                             STACK_OF(X509_INFO) *sk,
> -                             const char *pathname)
> +BOOL ap_SSL_X509_INFO_load_path(apr_pool_t *ptemp,
> +                                STACK_OF(X509_INFO) *sk,
> +                                const char *pathname)
>   {
>       /* XXX: this dir read code is exactly the same as that in
>        * ssl_engine_init.c, only the call to handle the fullname is different,
> @@ -468,7 +468,7 @@
>                                  pathname, "/", dirent.name,
>                                  NULL);
>   
> -        if (SSL_X509_INFO_load_file(ptemp, sk, fullname)) {
> +        if (ap_SSL_X509_INFO_load_file(ptemp, sk, fullname)) {
>               ok = TRUE;
>           }
>       }
> @@ -521,7 +521,7 @@
>    * format, possibly followed by a sequence of CA certificates that
>    * should be sent to the peer in the SSL Certificate message.
>    */
> -int SSL_CTX_use_certificate_chain(
> +int ap_SSL_CTX_use_certificate_chain(
>       SSL_CTX *ctx, char *file, int skipfirst, pem_password_cb *cb)
>   {
>       BIO *bio;
> @@ -581,8 +581,8 @@
>   **  _________________________________________________________________
>   */
>   
> -char *SSL_SESSION_id2sz(unsigned char *id, int idlen,
> -                        char *str, int strsize)
> +char *ap_SSL_SESSION_id2sz(unsigned char *id, int idlen,
> +                           char *str, int strsize)
>   {
>       if (idlen > SSL_MAX_SSL_SESSION_ID_LENGTH)
>           idlen = SSL_MAX_SSL_SESSION_ID_LENGTH;
> Index: modules/ssl/ssl_util_ssl.h
> ===================================================================
> --- modules/ssl/ssl_util_ssl.h	(revision 1673798)
> +++ modules/ssl/ssl_util_ssl.h	(working copy)
> @@ -38,10 +38,10 @@
>    * SSL library version number
>    */
>   
> -#define SSL_LIBRARY_VERSION OPENSSL_VERSION_NUMBER
> -#define SSL_LIBRARY_NAME    "OpenSSL"
> -#define SSL_LIBRARY_TEXT    OPENSSL_VERSION_TEXT
> -#define SSL_LIBRARY_DYNTEXT SSLeay_version(SSLEAY_VERSION)
> +#define AP_SSL_LIBRARY_VERSION OPENSSL_VERSION_NUMBER
> +#define AP_SSL_LIBRARY_NAME    "OpenSSL"
> +#define AP_SSL_LIBRARY_TEXT    OPENSSL_VERSION_TEXT
> +#define AP_SSL_LIBRARY_DYNTEXT SSLeay_version(SSLEAY_VERSION)
>   
>   /**
>    *  Maximum length of a DER encoded session.
> @@ -48,31 +48,31 @@
>    *  FIXME: There is no define in OpenSSL, but OpenSSL uses 1024*10,
>    *         so this value should be ok. Although we have no warm feeling.
>    */
> -#define SSL_SESSION_MAX_DER 1024*10
> +#define AP_SSL_SESSION_MAX_DER 1024*10
>   
> -/** max length for SSL_SESSION_id2sz */
> -#define SSL_SESSION_ID_STRING_LEN \
> +/** max length for AP_SSL_SESSION_id2sz */
> +#define AP_SSL_SESSION_ID_STRING_LEN \
>       ((SSL_MAX_SSL_SESSION_ID_LENGTH + 1) * 2)
>   
>   /**
>    *  Additional Functions
>    */
> -void        SSL_init_app_data2_idx(void);
> -void       *SSL_get_app_data2(SSL *);
> -void        SSL_set_app_data2(SSL *, void *);
> -EVP_PKEY   *SSL_read_PrivateKey(const char *, EVP_PKEY **, pem_password_cb *, void *);
> -int         SSL_smart_shutdown(SSL *ssl);
> -BOOL        SSL_X509_getBC(X509 *, int *, int *);
> -char       *SSL_ASN1_STRING_to_utf8(apr_pool_t *, ASN1_STRING *);
> -char       *SSL_X509_NAME_ENTRY_to_string(apr_pool_t *p, X509_NAME_ENTRY *xsne);
> -char       *SSL_X509_NAME_to_string(apr_pool_t *, X509_NAME *, int);
> -BOOL        SSL_X509_getSAN(apr_pool_t *, X509 *, int, int, apr_array_header_t **);
> -BOOL        SSL_X509_getIDs(apr_pool_t *, X509 *, apr_array_header_t **);
> -BOOL        SSL_X509_match_name(apr_pool_t *, X509 *, const char *, BOOL, server_rec *);
> -BOOL        SSL_X509_INFO_load_file(apr_pool_t *, STACK_OF(X509_INFO) *, const char *);
> -BOOL        SSL_X509_INFO_load_path(apr_pool_t *, STACK_OF(X509_INFO) *, const char *);
> -int         SSL_CTX_use_certificate_chain(SSL_CTX *, char *, int, pem_password_cb *);
> -char       *SSL_SESSION_id2sz(unsigned char *, int, char *, int);
> +void        ap_SSL_init_app_data2_idx(void);
> +void       *ap_SSL_get_app_data2(SSL *);
> +void        ap_SSL_set_app_data2(SSL *, void *);
> +EVP_PKEY   *ap_SSL_read_PrivateKey(const char *, EVP_PKEY **, pem_password_cb *, void *);
> +int         ap_SSL_smart_shutdown(SSL *ssl);
> +BOOL        ap_SSL_X509_getBC(X509 *, int *, int *);
> +char       *ap_SSL_ASN1_STRING_to_utf8(apr_pool_t *, ASN1_STRING *);
> +char       *ap_SSL_X509_NAME_ENTRY_to_string(apr_pool_t *p, X509_NAME_ENTRY *xsne);
> +char       *ap_SSL_X509_NAME_to_string(apr_pool_t *, X509_NAME *, int);
> +BOOL        ap_SSL_X509_getSAN(apr_pool_t *, X509 *, int, int, apr_array_header_t **);
> +BOOL        ap_SSL_X509_getIDs(apr_pool_t *, X509 *, apr_array_header_t **);
> +BOOL        ap_SSL_X509_match_name(apr_pool_t *, X509 *, const char *, BOOL, server_rec *);
> +BOOL        ap_SSL_X509_INFO_load_file(apr_pool_t *, STACK_OF(X509_INFO) *, const char *);
> +BOOL        ap_SSL_X509_INFO_load_path(apr_pool_t *, STACK_OF(X509_INFO) *, const char *);
> +int         ap_SSL_CTX_use_certificate_chain(SSL_CTX *, char *, int, pem_password_cb *);
> +char       *ap_SSL_SESSION_id2sz(unsigned char *, int, char *, int);
>   
>   #endif /* __SSL_UTIL_SSL_H__ */
>   /** @} */


From dev-return-82379-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 15 19:57:09 2015
Return-Path: <dev-return-82379-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7339217ABC
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 15 Apr 2015 19:57:09 +0000 (UTC)
Received: (qmail 31013 invoked by uid 500); 15 Apr 2015 19:57:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 30944 invoked by uid 500); 15 Apr 2015 19:57:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 30934 invoked by uid 99); 15 Apr 2015 19:57:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 19:57:08 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of covener@gmail.com designates 209.85.212.178 as permitted sender)
Received: from [209.85.212.178] (HELO mail-wi0-f178.google.com) (209.85.212.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 19:56:44 +0000
Received: by widjs5 with SMTP id js5so119537137wid.1
        for <dev@httpd.apache.org>; Wed, 15 Apr 2015 12:56:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=RNJPfyT1JCzWPqA02cjMOpdATrmzgDK66QMx+Fjn36s=;
        b=tBMxysm28oU8s9dUeVSOGl0Aub0tqGvnVmItHtr+IGq6ufoDQebXHrwt32wIT7hasZ
         KWf343QXL6Jk2Ir/BI7dKmujehC0Ut9KqWKFMzXc/5I/Dzeaiib+Sf+2JcyF3DuSk9Nh
         sQG9OYL4TOOgLJ2NykfN9UtU2IeJQ+GoJ+oznH8WXrQCXYfJOtrfkAX0pfO7t5qOIy3v
         ykZytH/3WQmtCfYoOAQ01uRbvLDC7x49iwFXPDUuCJTqbKE6PIabITp8irjISVKl1kYt
         qyWI7yzFFxwphm00U+XQTeGJwata7PiLraIPinsBbntad7ktfoRt1mCqzRZQu+HwqbkX
         jh/Q==
MIME-Version: 1.0
X-Received: by 10.194.171.36 with SMTP id ar4mr51984866wjc.7.1429127803576;
 Wed, 15 Apr 2015 12:56:43 -0700 (PDT)
Received: by 10.27.26.200 with HTTP; Wed, 15 Apr 2015 12:56:43 -0700 (PDT)
In-Reply-To: <552EC1F2.2000504@kippdata.de>
References: <20150415194932.0DE5CAC0095@hades.apache.org>
	<552EC1F2.2000504@kippdata.de>
Date: Wed, 15 Apr 2015 14:56:43 -0500
Message-ID: <CALK=YjOWoqW+NyhQxDnNY+qzCr=ukbgRTTZYQZ7Y_H4fkY47qw@mail.gmail.com>
Subject: Re: svn commit: r1673940 - in /httpd/httpd/branches/2.4.x: ./ CHANGES
 STATUS modules/ssl/ssl_util_ssl.c
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

inadvertent -- thanks for the catch.

On Wed, Apr 15, 2015 at 2:54 PM, Rainer Jung <rainer.jung@kippdata.de> wrote:
> Am 15.04.2015 um 21:49 schrieb covener@apache.org:
>>
>> Author: covener
>> Date: Wed Apr 15 19:49:31 2015
>> New Revision: 1673940
>>
>> URL: http://svn.apache.org/r1673940
>> Log:
>> Merge r1666297 from trunk:
>>
>> ssl_util: Fix possible crash (free => OPENSSL_free) and error path leaks
>> when
>> checking the server certificate constraints (SSL_X509_getBC()).
>>
>>
>> Modified:
>>      httpd/httpd/branches/2.4.x/   (props changed)
>>      httpd/httpd/branches/2.4.x/CHANGES
>>      httpd/httpd/branches/2.4.x/STATUS
>>      httpd/httpd/branches/2.4.x/modules/ssl/ssl_util_ssl.c
>>
>
>> Modified: httpd/httpd/branches/2.4.x/CHANGES
>> URL:
>> http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/CHANGES?rev=1673940&r1=1673939&r2=1673940&view=diff
>>
>> ==============================================================================
>> --- httpd/httpd/branches/2.4.x/CHANGES [utf-8] (original)
>> +++ httpd/httpd/branches/2.4.x/CHANGES [utf-8] Wed Apr 15 19:49:31 2015
>> @@ -12,6 +12,13 @@ Changes with Apache 2.4.13
>>        calls r:wsupgrade() can cause a child process crash.
>>        [Edward Lu <Chaosed0 gmail.com>]
>>
>> +  *) mod_ssl: Fix possible crash when loading server certificate
>> constraints.
>> +     PR 57694. [Paul Spangler <paul.spangler ni com>, Yann Ylavic]
>> +
>> +  *) core, modules: Avoid error response/document handling by the core if
>> some
>> +     handler or input filter already did it while reading the request
>> (causing
>> +     a double response body).  [Yann Ylavic]
>> +
>>     *) build: Don't load mod_cgi and mod_cgid in the default configuration
>>        if they're both built.  [olli hauer <ohauer gmx.de>]
>
>
> Is the second (core) entry intentional or a merge error?
>
> Regards,
>
> Rainer



-- 
Eric Covener
covener@gmail.com

From dev-return-82380-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 15 20:32:20 2015
Return-Path: <dev-return-82380-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6B23117E2F
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 15 Apr 2015 20:32:20 +0000 (UTC)
Received: (qmail 55922 invoked by uid 500); 15 Apr 2015 20:32:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55849 invoked by uid 500); 15 Apr 2015 20:32:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 55839 invoked by uid 99); 15 Apr 2015 20:32:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 20:32:19 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: local policy)
Received: from [64.68.201.169] (HELO mailout.easymail.ca) (64.68.201.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 20:32:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by mailout.easymail.ca (Postfix) with ESMTP id 9CFF4E02A
	for <dev@httpd.apache.org>; Wed, 15 Apr 2015 16:28:49 -0400 (EDT)
X-Virus-Scanned: Debian amavisd-new at mailout.easymail.ca
X-Spam-Score: -3.995
X-Spam-Level: 
Received: from mailout.easymail.ca ([127.0.0.1])
	by localhost (easymail-mailout.easydns.vpn [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id i2Jyhhu0wowz for <dev@httpd.apache.org>;
	Wed, 15 Apr 2015 16:28:49 -0400 (EDT)
Received: from critterling.garfield.home (unknown [104.169.36.235])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailout.easymail.ca (Postfix) with ESMTPSA id 61BA7E026
	for <dev@httpd.apache.org>; Wed, 15 Apr 2015 16:28:49 -0400 (EDT)
Received: from dhcp152-54-6-176.wireless.europa.renci.org (dhcp152-54-6-176.wireless.europa.renci.org [152.54.6.176])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by critterling.garfield.home (Postfix) with ESMTPSA id 555A0E0
	for <dev@httpd.apache.org>; Wed, 15 Apr 2015 16:28:48 -0400 (EDT)
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: namespacing in mod_ssl
From: "Victor J. Orlikowski" <victor.j.orlikowski@alumni.duke.edu>
In-Reply-To: <552EC1D9.8090106@gmail.com>
Date: Wed, 15 Apr 2015 16:28:47 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <8C1A6219-448D-47E7-B5F7-14268FCAB1C3@alumni.duke.edu>
References: <20150415163613.GC15209@fintan.stsp.name> <552EC1D9.8090106@gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Flag: NO
X-Old-Spam-Status: No, score=-3.995 required=5 tests=[ALL_TRUSTED=-1.8,
	AWL=-0.288, BAYES_00=-2.599, DNS_FROM_AHBL_RHSBL=0.692]

On Apr 15, 2015, at 3:54 PM, Jeff Trawick <trawick@gmail.com> wrote:
>=20
> IMO it would be appropriate to instead go one by one and make sure =
we're using an appropriate name to begin with for these functions that =
are squatting the SSL namespace, instead of making these =
often-bewildering names ugly and (still) bewildering.

+1

Best,
Victor
--
Victor J. Orlikowski <> victor.j.orlikowski@alumni.duke.edu


From dev-return-82381-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 15 22:54:39 2015
Return-Path: <dev-return-82381-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7CA98179B6
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 15 Apr 2015 22:54:39 +0000 (UTC)
Received: (qmail 81569 invoked by uid 500); 15 Apr 2015 22:54:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 81474 invoked by uid 500); 15 Apr 2015 22:54:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 81464 invoked by uid 99); 15 Apr 2015 22:54:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 22:54:38 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of trawick@gmail.com designates 209.85.218.51 as permitted sender)
Received: from [209.85.218.51] (HELO mail-oi0-f51.google.com) (209.85.218.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Apr 2015 22:54:32 +0000
Received: by oift201 with SMTP id t201so38439226oif.3
        for <dev@httpd.apache.org>; Wed, 15 Apr 2015 15:54:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:cc:subject
         :references:in-reply-to:content-type:content-transfer-encoding;
        bh=zjxjSMx44IX4fMxzm69Uacbthz/8Nut3Ncl4BmUyEfs=;
        b=e1apUrWKch+y+agMmmE+F44Jp3xZ007BHfkDqzLOfFsx1nLPoGWl9WtuyoE7KnZ0R1
         WQ4xPRCFpWUw7scLG91VPgztbZowoQ4AM3fCdv5IsuaJ8Y/20gASkEp/1vVGi77wguFC
         WRvgBp1BuQizzHg7d3gB0Jvb1XclHSUwVRMVqig7bIzhK3io4nLpeGtBVqs3XYirQCa4
         nQccwjCkBCRfFtiSAJhpF2p1pRDPtxlSZaYIYK+fZEo2UaXJrjcFlRg8BgNBibRQM3v4
         9NrAnUs+6ypPCjcl7YUVphT2ACPe5F1SYUcS5AuQ5A/xYPLajb7/WPFrBszuU0R4r83y
         BN2Q==
X-Received: by 10.202.102.21 with SMTP id a21mr17674640oic.112.1429138452244;
        Wed, 15 Apr 2015 15:54:12 -0700 (PDT)
Received: from [10.6.1.242] ([207.238.37.2])
        by mx.google.com with ESMTPSA id k7sm3245738oig.26.2015.04.15.15.54.10
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Wed, 15 Apr 2015 15:54:11 -0700 (PDT)
Message-ID: <552EEC12.9050805@gmail.com>
Date: Wed, 15 Apr 2015 17:54:10 -0500
From: Jeff Trawick <trawick@gmail.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
CC: Stuart Henderson <sthen@openbsd.org>
Subject: Re: namespacing in mod_ssl
References: <20150415163613.GC15209@fintan.stsp.name> <552EC1D9.8090106@gmail.com>
In-Reply-To: <552EC1D9.8090106@gmail.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 04/15/2015 02:54 PM, Jeff Trawick wrote:
> On 04/15/2015 11:36 AM, Stefan Sperling wrote:
>> A few months ago, OpenBSD's LibreSSL added a new function
>> called SSL_CTX_use_certificate_chain().
>> This unexpectedly broke the build of Apache's mod_ssl which defines
>> a function of the same name. In OpenBSD this was worked around by
>> patching mod_ssl, renaming the clashing function.
>>
>> Since then LibreSSL has renamed to SSL_CTX_use_certificate_chain_mem().
>> This resolved the immediate problem and mod_ssl patches could be 
>> dropped.
>>
>> However, the actual issue here is that mod_ssl is squatting the SSL_ 
>> namespace.
>> Historically this may have made sense (it seems mod_ssl and OpenSSL have
>> shared history/authors). Bill Rowe suggested to try moving mod_ssl's
>> functions into the ap_ namespace to avoid such clashes in the future.
>
> IMO it would be appropriate to instead go one by one and make sure 
> we're using an appropriate name to begin with for these functions that 
> are squatting the SSL namespace, instead of making these 
> often-bewildering names ugly and (still) bewildering.
>
> AP_SSL_LIBRARY_NAME is very appropriate, but ap_SSL_set_app_data2 is 
> the wrong fix.

As far as the ap_prefix advice received:  I don't see any ap_-prefixed 
mod_ssl external symbols.

mod_ssl uses ssl_ prefixes heavily (and foo_ prefix for mod_foo in 
general is common).  For functions and types (i.e., stuff generally 
expressed in lower case), a simple "ssl_" prefix instead of "ap_SSL_" 
prefix should work and not look so different than existing mod_ssl code.

Perhaps some of the active mod_ssl devs/maintainers will speak up ;)

>
>>
>> I have verified that no undefined references or undeclared symbols
>> are reported by gcc during the build with this diff.
>> I have tested startup of a httpd with mod_ssl loaded.
>> Additional testing is appreciated.
>>
>> I'm not sure how README.dsov.ps should be regenerated.
>> It contains a refence to SSL_get_app_data2().
>> For now I've only updated the .dsov.fig file.
>>
>> Index: modules/ssl/README.dsov.fig
>> ===================================================================
>> --- modules/ssl/README.dsov.fig    (revision 1673798)
>> +++ modules/ssl/README.dsov.fig    (working copy)
>> @@ -339,7 +339,7 @@
>>   4 0 0 200 0 20 8 0.0000 4 90 465 11745 4770 ->method\001
>>   4 0 0 200 0 20 8 0.0000 4 120 1665 9945 6480 
>> X509_STORE_CTX_get_app_data()\001
>>   4 0 0 200 0 20 8 0.0000 4 120 1215 10980 6705 
>> SSL_CTX_get_cert_store()\001
>> -4 0 0 200 0 20 8 0.0000 4 120 1020 8280 5130 SSL_get_app_data2()\001
>> +4 0 0 200 0 20 8 0.0000 4 120 1020 8280 5130 ap_SSL_get_app_data2()\001
>>   4 0 0 100 0 18 20 0.0000 4 270 1290 10710 7605 OpenSSL\001
>>   4 0 0 100 0 18 12 0.0000 4 180 720 10710 7785 [Crypto]\001
>>   4 0 0 100 0 18 20 0.0000 4 270 1290 10935 3645 OpenSSL\001
>> Index: modules/ssl/mod_ssl.c
>> ===================================================================
>> --- modules/ssl/mod_ssl.c    (revision 1673798)
>> +++ modules/ssl/mod_ssl.c    (working copy)
>> @@ -570,7 +570,7 @@
>>       }
>>         SSL_set_app_data(ssl, c);
>> -    SSL_set_app_data2(ssl, NULL); /* will be request_rec */
>> +    ap_SSL_set_app_data2(ssl, NULL); /* will be request_rec */
>>         sslconn->ssl = ssl;
>>   Index: modules/ssl/ssl_engine_init.c
>> ===================================================================
>> --- modules/ssl/ssl_engine_init.c    (revision 1673798)
>> +++ modules/ssl/ssl_engine_init.c    (working copy)
>> @@ -148,12 +148,12 @@
>>       apr_status_t rv;
>>       apr_array_header_t *pphrases;
>>   -    if (SSLeay() < SSL_LIBRARY_VERSION) {
>> +    if (SSLeay() < AP_SSL_LIBRARY_VERSION) {
>>           ap_log_error(APLOG_MARK, APLOG_WARNING, 0, base_server, 
>> APLOGNO(01882)
>>                        "Init: this version of mod_ssl was compiled 
>> against "
>>                        "a newer library (%s, version currently loaded 
>> is %s)"
>>                        " - may result in undefined or erroneous 
>> behavior",
>> -                     SSL_LIBRARY_TEXT, SSLeay_version(SSLEAY_VERSION));
>> +                     AP_SSL_LIBRARY_TEXT, 
>> SSLeay_version(SSLEAY_VERSION));
>>       }
>>         /* We initialize mc->pid per-process in the child init,
>> @@ -242,7 +242,7 @@
>>   #endif
>>         ap_log_error(APLOG_MARK, APLOG_INFO, 0, s, APLOGNO(01883)
>> -                 "Init: Initialized %s library", SSL_LIBRARY_NAME);
>> +                 "Init: Initialized %s library", AP_SSL_LIBRARY_NAME);
>>         /*
>>        * Seed the Pseudo Random Number Generator (PRNG)
>> @@ -348,7 +348,7 @@
>>        */
>>       ssl_add_version_components(p, base_server);
>>   -    SSL_init_app_data2_idx(); /* for SSL_get_app_data2() at 
>> request time */
>> +    ap_SSL_init_app_data2_idx(); /* for ap_SSL_get_app_data2() at 
>> request time */
>>         init_dh_params();
>>   @@ -871,9 +871,9 @@
>>           }
>>       }
>>   -    n = SSL_CTX_use_certificate_chain(mctx->ssl_ctx,
>> -                                      (char *)chain,
>> -                                      skip_first, NULL);
>> +    n = ap_SSL_CTX_use_certificate_chain(mctx->ssl_ctx,
>> +                                         (char *)chain,
>> +                                         skip_first, NULL);
>>       if (n < 0) {
>>           ap_log_error(APLOG_MARK, APLOG_EMERG, 0, s, APLOGNO(01903)
>>                   "Failed to configure CA certificate chain!");
>> @@ -946,7 +946,7 @@
>>        * Some information about the certificate(s)
>>        */
>>   -    if (SSL_X509_getBC(cert, &is_ca, &pathlen)) {
>> +    if (ap_SSL_X509_getBC(cert, &is_ca, &pathlen)) {
>>           if (is_ca) {
>>               ap_log_error(APLOG_MARK, APLOG_WARNING, 0, s, 
>> APLOGNO(01906)
>>                            "%s server certificate is a CA certificate "
>> @@ -961,8 +961,8 @@
>>           }
>>       }
>>   -    if (SSL_X509_match_name(ptemp, cert, (const char 
>> *)s->server_hostname,
>> -                            TRUE, s) == FALSE) {
>> +    if (ap_SSL_X509_match_name(ptemp, cert, (const char 
>> *)s->server_hostname,
>> +                               TRUE, s) == FALSE) {
>>           ap_log_error(APLOG_MARK, APLOG_WARNING, 0, s, APLOGNO(01909)
>>                        "%s server certificate does NOT include an ID "
>>                        "which matches the server name", key_id);
>> @@ -1249,11 +1249,11 @@
>>       sk = sk_X509_INFO_new_null();
>>         if (pkp->cert_file) {
>> -        SSL_X509_INFO_load_file(ptemp, sk, pkp->cert_file);
>> +        ap_SSL_X509_INFO_load_file(ptemp, sk, pkp->cert_file);
>>       }
>>         if (pkp->cert_path) {
>> -        SSL_X509_INFO_load_path(ptemp, sk, pkp->cert_path);
>> +        ap_SSL_X509_INFO_load_path(ptemp, sk, pkp->cert_path);
>>       }
>>         if ((ncerts = sk_X509_INFO_num(sk)) <= 0) {
>> @@ -1640,7 +1640,7 @@
>>             ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, s, APLOGNO(02209)
>>                        "CA certificate: %s",
>> -                     SSL_X509_NAME_to_string(ptemp, name, 0));
>> +                     ap_SSL_X509_NAME_to_string(ptemp, name, 0));
>>             /*
>>            * note that SSL_load_client_CA_file() checks for duplicates,
>> Index: modules/ssl/ssl_engine_io.c
>> ===================================================================
>> --- modules/ssl/ssl_engine_io.c    (revision 1673798)
>> +++ modules/ssl/ssl_engine_io.c    (working copy)
>> @@ -1051,7 +1051,7 @@
>>       }
>>         SSL_set_shutdown(ssl, shutdown_type);
>> -    SSL_smart_shutdown(ssl);
>> +    ap_SSL_smart_shutdown(ssl);
>>         /* and finally log the fact that we've closed the connection */
>>       if (APLOG_CS_IS_LEVEL(c, mySrvFromConn(c), loglevel)) {
>> @@ -1181,8 +1181,8 @@
>>               hostname_note) {
>>               apr_table_unset(c->notes, "proxy-request-hostname");
>>               if (!cert
>> -                || SSL_X509_match_name(c->pool, cert, hostname_note,
>> -                                       TRUE, server) == FALSE) {
>> +                || ap_SSL_X509_match_name(c->pool, cert, hostname_note,
>> +                                          TRUE, server) == FALSE) {
>>                   proxy_ssl_check_peer_ok = FALSE;
>>                   ap_log_cerror(APLOG_MARK, APLOG_INFO, 0, c, 
>> APLOGNO(02411)
>>                                 "SSL Proxy: Peer certificate does not 
>> match "
>> @@ -2186,7 +2186,7 @@
>>               }
>>               ap_log_cserror(APLOG_MARK, APLOG_TRACE4, 0, c, s,
>>                       "%s: %s %ld/%d bytes %s BIO#%pp [mem: %pp] %s",
>> -                    SSL_LIBRARY_NAME,
>> +                    AP_SSL_LIBRARY_NAME,
>>                       (cmd == (BIO_CB_WRITE|BIO_CB_RETURN) ? "write" 
>> : "read"),
>>                       rc, argi, (cmd == (BIO_CB_WRITE|BIO_CB_RETURN) 
>> ? "to" : "from"),
>>                       bio, argp, dump);
>> @@ -2196,7 +2196,7 @@
>>           else {
>>               ap_log_cserror(APLOG_MARK, APLOG_TRACE4, 0, c, s,
>>                       "%s: I/O error, %d bytes expected to %s on 
>> BIO#%pp [mem: %pp]",
>> -                    SSL_LIBRARY_NAME, argi,
>> +                    AP_SSL_LIBRARY_NAME, argi,
>>                       (cmd == (BIO_CB_WRITE|BIO_CB_RETURN) ? "write" 
>> : "read"),
>>                       bio, argp);
>>           }
>> Index: modules/ssl/ssl_engine_kernel.c
>> ===================================================================
>> --- modules/ssl/ssl_engine_kernel.c    (revision 1673798)
>> +++ modules/ssl/ssl_engine_kernel.c    (working copy)
>> @@ -229,7 +229,7 @@
>>           }
>>       }
>>   #endif
>> -    SSL_set_app_data2(ssl, r);
>> +    ap_SSL_set_app_data2(ssl, r);
>>         /*
>>        * Log information about incoming HTTPS requests
>> @@ -1385,7 +1385,7 @@
>>       SSL *ssl = X509_STORE_CTX_get_ex_data(ctx,
>> SSL_get_ex_data_X509_STORE_CTX_idx());
>>       conn_rec *conn      = (conn_rec *)SSL_get_app_data(ssl);
>> -    request_rec *r      = (request_rec *)SSL_get_app_data2(ssl);
>> +    request_rec *r      = (request_rec *)ap_SSL_get_app_data2(ssl);
>>       server_rec *s       = r ? r->server : mySrvFromConn(conn);
>>         SSLSrvConfigRec *sc = mySrvConfig(s);
>> @@ -1654,7 +1654,7 @@
>>                               const char *result,
>>                               long timeout)
>>   {
>> -    char buf[SSL_SESSION_ID_STRING_LEN];
>> +    char buf[AP_SSL_SESSION_ID_STRING_LEN];
>>       char timeout_str[56] = {'\0'};
>>         if (!APLOGdebug(s)) {
>> @@ -1670,7 +1670,7 @@
>>                    "Inter-Process Session Cache: "
>>                    "request=%s status=%s id=%s %s(session %s)",
>>                    request, status,
>> -                 SSL_SESSION_id2sz(id, idlen, buf, sizeof(buf)),
>> +                 ap_SSL_SESSION_id2sz(id, idlen, buf, sizeof(buf)),
>>                    timeout_str, result);
>>   }
>>   @@ -1811,32 +1811,32 @@
>>        */
>>       if (where & SSL_CB_HANDSHAKE_START) {
>>           ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
>> -                      "%s: Handshake: start", SSL_LIBRARY_NAME);
>> +                      "%s: Handshake: start", AP_SSL_LIBRARY_NAME);
>>       }
>>       else if (where & SSL_CB_HANDSHAKE_DONE) {
>>           ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
>> -                      "%s: Handshake: done", SSL_LIBRARY_NAME);
>> +                      "%s: Handshake: done", AP_SSL_LIBRARY_NAME);
>>       }
>>       else if (where & SSL_CB_LOOP) {
>>           ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
>>                         "%s: Loop: %s",
>> -                      SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
>> +                      AP_SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
>>       }
>>       else if (where & SSL_CB_READ) {
>>           ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
>>                         "%s: Read: %s",
>> -                      SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
>> +                      AP_SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
>>       }
>>       else if (where & SSL_CB_WRITE) {
>>           ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
>>                         "%s: Write: %s",
>> -                      SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
>> +                      AP_SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
>>       }
>>       else if (where & SSL_CB_ALERT) {
>>           char *str = (where & SSL_CB_READ) ? "read" : "write";
>>           ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
>>                         "%s: Alert: %s:%s:%s",
>> -                      SSL_LIBRARY_NAME, str,
>> +                      AP_SSL_LIBRARY_NAME, str,
>>                         SSL_alert_type_string_long(rc),
>>                         SSL_alert_desc_string_long(rc));
>>       }
>> @@ -1844,12 +1844,12 @@
>>           if (rc == 0) {
>>               ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
>>                             "%s: Exit: failed in %s",
>> -                          SSL_LIBRARY_NAME, 
>> SSL_state_string_long(ssl));
>> +                          AP_SSL_LIBRARY_NAME, 
>> SSL_state_string_long(ssl));
>>           }
>>           else if (rc < 0) {
>>               ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
>>                             "%s: Exit: error in %s",
>> -                          SSL_LIBRARY_NAME, 
>> SSL_state_string_long(ssl));
>> +                          AP_SSL_LIBRARY_NAME, 
>> SSL_state_string_long(ssl));
>>           }
>>       }
>>   Index: modules/ssl/ssl_engine_log.c
>> ===================================================================
>> --- modules/ssl/ssl_engine_log.c    (revision 1673798)
>> +++ modules/ssl/ssl_engine_log.c    (working copy)
>> @@ -141,8 +141,8 @@
>>               int maxdnlen = (HUGE_STRING_LEN - msglen - 300) / 2;
>>                 BIO_puts(bio, " [subject: ");
>> -            name = SSL_X509_NAME_to_string(p, 
>> X509_get_subject_name(cert),
>> -                                           maxdnlen);
>> +            name = ap_SSL_X509_NAME_to_string(p, 
>> X509_get_subject_name(cert),
>> +                                              maxdnlen);
>>               if (!strIsEmpty(name)) {
>>                   BIO_puts(bio, name);
>>               } else {
>> @@ -150,8 +150,8 @@
>>               }
>>                 BIO_puts(bio, " / issuer: ");
>> -            name = SSL_X509_NAME_to_string(p, 
>> X509_get_issuer_name(cert),
>> -                                           maxdnlen);
>> +            name = ap_SSL_X509_NAME_to_string(p, 
>> X509_get_issuer_name(cert),
>> +                                              maxdnlen);
>>               if (!strIsEmpty(name)) {
>>                   BIO_puts(bio, name);
>>               } else {
>> Index: modules/ssl/ssl_engine_pphrase.c
>> ===================================================================
>> --- modules/ssl/ssl_engine_pphrase.c    (revision 1673798)
>> +++ modules/ssl/ssl_engine_pphrase.c    (working copy)
>> @@ -216,7 +216,7 @@
>>            * is not empty. */
>>           ERR_clear_error();
>>   -        bReadable = ((pPrivateKey = 
>> SSL_read_PrivateKey(ppcb_arg.pkey_file,
>> +        bReadable = ((pPrivateKey = 
>> ap_SSL_read_PrivateKey(ppcb_arg.pkey_file,
>>                        NULL, ssl_pphrase_Handle_CB, &ppcb_arg)) != 
>> NULL ?
>>                        TRUE : FALSE);
>>   Index: modules/ssl/ssl_engine_vars.c
>> ===================================================================
>> --- modules/ssl/ssl_engine_vars.c    (revision 1673798)
>> +++ modules/ssl/ssl_engine_vars.c    (working copy)
>> @@ -131,7 +131,7 @@
>>   }
>>     static const char var_interface[] = "mod_ssl/" 
>> AP_SERVER_BASEREVISION;
>> -static char var_library_interface[] = SSL_LIBRARY_TEXT;
>> +static char var_library_interface[] = AP_SSL_LIBRARY_TEXT;
>>   static char *var_library = NULL;
>>     static apr_array_header_t 
>> *expr_peer_ext_list_fn(ap_expr_eval_ctx_t *ctx,
>> @@ -185,7 +185,7 @@
>>       APR_REGISTER_OPTIONAL_FN(ssl_ext_list);
>>         /* Perform once-per-process library version determination: */
>> -    var_library = apr_pstrdup(p, SSL_LIBRARY_DYNTEXT);
>> +    var_library = apr_pstrdup(p, AP_SSL_LIBRARY_DYNTEXT);
>>         if ((cp = strchr(var_library, ' ')) != NULL) {
>>           *cp = '/';
>> @@ -406,7 +406,7 @@
>>           result = (char *)SSL_get_version(ssl);
>>       }
>>       else if (ssl != NULL && strcEQ(var, "SESSION_ID")) {
>> -        char buf[SSL_SESSION_ID_STRING_LEN];
>> +        char buf[AP_SSL_SESSION_ID_STRING_LEN];
>>           SSL_SESSION *pSession = SSL_get_session(ssl);
>>           if (pSession) {
>>               unsigned char *id;
>> @@ -419,8 +419,8 @@
>>               idlen = pSession->session_id_length;
>>   #endif
>>   -            result = apr_pstrdup(p, SSL_SESSION_id2sz(id, idlen,
>> -                                                      buf, 
>> sizeof(buf)));
>> +            result = apr_pstrdup(p, ap_SSL_SESSION_id2sz(id, idlen,
>> +                                                         buf, 
>> sizeof(buf)));
>>           }
>>       }
>>       else if(ssl != NULL && strcEQ(var, "SESSION_RESUMED")) {
>> @@ -651,7 +651,7 @@
>>                   n =OBJ_obj2nid((ASN1_OBJECT 
>> *)X509_NAME_ENTRY_get_object(xsne));
>>                     if (n == ssl_var_lookup_ssl_cert_dn_rec[i].nid && 
>> idx-- == 0) {
>> -                    result = SSL_X509_NAME_ENTRY_to_string(p, xsne);
>> +                    result = ap_SSL_X509_NAME_ENTRY_to_string(p, xsne);
>>                       break;
>>                   }
>>               }
>> @@ -682,7 +682,7 @@
>>       if ((numlen < 1) || (numlen > 4) || (numlen != strlen(var)))
>>           return NULL;
>>   -    if (SSL_X509_getSAN(p, xs, type, atoi(var), &entries))
>> +    if (ap_SSL_X509_getSAN(p, xs, type, atoi(var), &entries))
>>          /* return the first entry from this 1-element array */
>>          return APR_ARRAY_IDX(entries, 0, char *);
>>       else
>> @@ -807,7 +807,7 @@
>>               char *decimal = BN_bn2dec(bn);
>>               result = apr_pstrcat(p, "{ serialNumber ", decimal,
>>                       ", issuer rdnSequence:\"",
>> -                    SSL_X509_NAME_to_string(p, issuer, 0), "\" }", 
>> NULL);
>> +                    ap_SSL_X509_NAME_to_string(p, issuer, 0), "\" 
>> }", NULL);
>>               OPENSSL_free(decimal);
>>               BN_free(bn);
>>           }
>> @@ -972,7 +972,7 @@
>>                    apr_hash_set(count, &nid, sizeof nid, dup);
>>                    key = apr_pstrcat(p, pfx, tag, NULL);
>>                }
>> -             value = SSL_X509_NAME_ENTRY_to_string(p, xsne);
>> +             value = ap_SSL_X509_NAME_ENTRY_to_string(p, xsne);
>>                apr_table_setn(t, key, value);
>>            }
>>       }
>> @@ -1032,10 +1032,10 @@
>>       /* subjectAltName entries of the server certificate */
>>       xs = SSL_get_certificate(ssl);
>>       if (xs) {
>> -        if (SSL_X509_getSAN(p, xs, GEN_EMAIL, -1, &entries)) {
>> +        if (ap_SSL_X509_getSAN(p, xs, GEN_EMAIL, -1, &entries)) {
>>               extract_san_array(t, "SSL_SERVER_SAN_Email", entries, p);
>>           }
>> -        if (SSL_X509_getSAN(p, xs, GEN_DNS, -1, &entries)) {
>> +        if (ap_SSL_X509_getSAN(p, xs, GEN_DNS, -1, &entries)) {
>>               extract_san_array(t, "SSL_SERVER_SAN_DNS", entries, p);
>>           }
>>           /* no need to free xs (refcount does not increase) */
>> @@ -1044,10 +1044,10 @@
>>       /* subjectAltName entries of the client certificate */
>>       xs = SSL_get_peer_certificate(ssl);
>>       if (xs) {
>> -        if (SSL_X509_getSAN(p, xs, GEN_EMAIL, -1, &entries)) {
>> +        if (ap_SSL_X509_getSAN(p, xs, GEN_EMAIL, -1, &entries)) {
>>               extract_san_array(t, "SSL_CLIENT_SAN_Email", entries, p);
>>           }
>> -        if (SSL_X509_getSAN(p, xs, GEN_DNS, -1, &entries)) {
>> +        if (ap_SSL_X509_getSAN(p, xs, GEN_DNS, -1, &entries)) {
>>               extract_san_array(t, "SSL_CLIENT_SAN_DNS", entries, p);
>>           }
>>           X509_free(xs);
>> Index: modules/ssl/ssl_scache.c
>> ===================================================================
>> --- modules/ssl/ssl_scache.c    (revision 1673798)
>> +++ modules/ssl/ssl_scache.c    (working copy)
>> @@ -115,7 +115,7 @@
>>                         apr_pool_t *p)
>>   {
>>       SSLModConfigRec *mc = myModConfig(s);
>> -    unsigned char encoded[SSL_SESSION_MAX_DER], *ptr;
>> +    unsigned char encoded[AP_SSL_SESSION_MAX_DER], *ptr;
>>       unsigned int len;
>>       apr_status_t rv;
>>   @@ -148,8 +148,8 @@
>>                                    apr_pool_t *p)
>>   {
>>       SSLModConfigRec *mc = myModConfig(s);
>> -    unsigned char dest[SSL_SESSION_MAX_DER];
>> -    unsigned int destlen = SSL_SESSION_MAX_DER;
>> +    unsigned char dest[AP_SSL_SESSION_MAX_DER];
>> +    unsigned int destlen = AP_SSL_SESSION_MAX_DER;
>>       const unsigned char *ptr;
>>       apr_status_t rv;
>>   Index: modules/ssl/ssl_util_ssl.c
>> ===================================================================
>> --- modules/ssl/ssl_util_ssl.c    (revision 1673798)
>> +++ modules/ssl/ssl_util_ssl.c    (working copy)
>> @@ -40,7 +40,7 @@
>>    */
>>   static int SSL_app_data2_idx = -1;
>>   -void SSL_init_app_data2_idx(void)
>> +void ap_SSL_init_app_data2_idx(void)
>>   {
>>       int i;
>>   @@ -57,12 +57,12 @@
>>       }
>>   }
>>   -void *SSL_get_app_data2(SSL *ssl)
>> +void *ap_SSL_get_app_data2(SSL *ssl)
>>   {
>>       return (void *)SSL_get_ex_data(ssl, SSL_app_data2_idx);
>>   }
>>   -void SSL_set_app_data2(SSL *ssl, void *arg)
>> +void ap_SSL_set_app_data2(SSL *ssl, void *arg)
>>   {
>>       SSL_set_ex_data(ssl, SSL_app_data2_idx, (char *)arg);
>>       return;
>> @@ -74,7 +74,7 @@
>>   ** _________________________________________________________________
>>   */
>>   -EVP_PKEY *SSL_read_PrivateKey(const char* filename, EVP_PKEY 
>> **key, pem_password_cb *cb, void *s)
>> +EVP_PKEY *ap_SSL_read_PrivateKey(const char* filename, EVP_PKEY 
>> **key, pem_password_cb *cb, void *s)
>>   {
>>       EVP_PKEY *rc;
>>       BIO *bioS;
>> @@ -121,7 +121,7 @@
>>   ** _________________________________________________________________
>>   */
>>   -int SSL_smart_shutdown(SSL *ssl)
>> +int ap_SSL_smart_shutdown(SSL *ssl)
>>   {
>>       int i;
>>       int rc;
>> @@ -161,7 +161,7 @@
>>   */
>>     /* retrieve basic constraints ingredients */
>> -BOOL SSL_X509_getBC(X509 *cert, int *ca, int *pathlen)
>> +BOOL ap_SSL_X509_getBC(X509 *cert, int *ca, int *pathlen)
>>   {
>>       BASIC_CONSTRAINTS *bc;
>>       BIGNUM *bn = NULL;
>> @@ -191,7 +191,7 @@
>>   }
>>     /* convert an ASN.1 string to a UTF-8 string (escaping control 
>> characters) */
>> -char *SSL_ASN1_STRING_to_utf8(apr_pool_t *p, ASN1_STRING *asn1str)
>> +char *ap_SSL_ASN1_STRING_to_utf8(apr_pool_t *p, ASN1_STRING *asn1str)
>>   {
>>       char *result = NULL;
>>       BIO *bio;
>> @@ -213,9 +213,9 @@
>>   }
>>     /* convert a NAME_ENTRY to UTF8 string */
>> -char *SSL_X509_NAME_ENTRY_to_string(apr_pool_t *p, X509_NAME_ENTRY 
>> *xsne)
>> +char *ap_SSL_X509_NAME_ENTRY_to_string(apr_pool_t *p, 
>> X509_NAME_ENTRY *xsne)
>>   {
>> -    char *result = SSL_ASN1_STRING_to_utf8(p, 
>> X509_NAME_ENTRY_get_data(xsne));
>> +    char *result = ap_SSL_ASN1_STRING_to_utf8(p, 
>> X509_NAME_ENTRY_get_data(xsne));
>>       ap_xlate_proto_from_ascii(result, len);
>>       return result;
>>   }
>> @@ -224,7 +224,7 @@
>>    * convert an X509_NAME to an RFC 2253 formatted string, optionally 
>> truncated
>>    * to maxlen characters (specify a maxlen of 0 for no length limit)
>>    */
>> -char *SSL_X509_NAME_to_string(apr_pool_t *p, X509_NAME *dn, int maxlen)
>> +char *ap_SSL_X509_NAME_to_string(apr_pool_t *p, X509_NAME *dn, int 
>> maxlen)
>>   {
>>       char *result = NULL;
>>       BIO *bio;
>> @@ -259,8 +259,8 @@
>>    * GEN_EMAIL (rfc822Name)
>>    * GEN_DNS (dNSName)
>>    */
>> -BOOL SSL_X509_getSAN(apr_pool_t *p, X509 *x509, int type, int idx,
>> -                     apr_array_header_t **entries)
>> +BOOL ap_SSL_X509_getSAN(apr_pool_t *p, X509 *x509, int type, int idx,
>> +                        apr_array_header_t **entries)
>>   {
>>       STACK_OF(GENERAL_NAME) *names;
>>   @@ -282,7 +282,7 @@
>>                       switch (type) {
>>                       case GEN_EMAIL:
>>                       case GEN_DNS:
>> -                        utf8str = SSL_ASN1_STRING_to_utf8(p, 
>> name->d.ia5);
>> +                        utf8str = ap_SSL_ASN1_STRING_to_utf8(p, 
>> name->d.ia5);
>>                           if (utf8str) {
>>                               APR_ARRAY_PUSH(*entries, const char *) 
>> = utf8str;
>>                           }
>> @@ -313,7 +313,7 @@
>>   }
>>     /* return an array of (RFC 6125 coined) DNS-IDs and CN-IDs in a 
>> certificate */
>> -BOOL SSL_X509_getIDs(apr_pool_t *p, X509 *x509, apr_array_header_t 
>> **ids)
>> +BOOL ap_SSL_X509_getIDs(apr_pool_t *p, X509 *x509, 
>> apr_array_header_t **ids)
>>   {
>>       X509_NAME *subj;
>>       int i = -1;
>> @@ -320,7 +320,7 @@
>>         /* First, the DNS-IDs (dNSName entries in the subjectAltName 
>> extension) */
>>       if (!x509 ||
>> -        (SSL_X509_getSAN(p, x509, GEN_DNS, -1, ids) == FALSE && 
>> !*ids)) {
>> +        (ap_SSL_X509_getSAN(p, x509, GEN_DNS, -1, ids) == FALSE && 
>> !*ids)) {
>>           *ids = NULL;
>>           return FALSE;
>>       }
>> @@ -329,7 +329,7 @@
>>       subj = X509_get_subject_name(x509);
>>       while ((i = X509_NAME_get_index_by_NID(subj, NID_commonName, 
>> i)) != -1) {
>>           APR_ARRAY_PUSH(*ids, const char *) =
>> -            SSL_X509_NAME_ENTRY_to_string(p, 
>> X509_NAME_get_entry(subj, i));
>> +            ap_SSL_X509_NAME_ENTRY_to_string(p, 
>> X509_NAME_get_entry(subj, i));
>>       }
>>         return apr_is_empty_array(*ids) ? FALSE : TRUE;
>> @@ -340,8 +340,8 @@
>>    * DNS-IDs and CN-IDs (RFC 6125), optionally with basic wildcard 
>> matching.
>>    * If server_rec is non-NULL, some (debug/trace) logging is enabled.
>>    */
>> -BOOL SSL_X509_match_name(apr_pool_t *p, X509 *x509, const char *name,
>> -                         BOOL allow_wildcard, server_rec *s)
>> +BOOL ap_SSL_X509_match_name(apr_pool_t *p, X509 *x509, const char 
>> *name,
>> +                            BOOL allow_wildcard, server_rec *s)
>>   {
>>       BOOL matched = FALSE;
>>       apr_array_header_t *ids;
>> @@ -356,7 +356,7 @@
>>        *    is found).
>>        */
>>   -    if (SSL_X509_getIDs(p, x509, &ids)) {
>> +    if (ap_SSL_X509_getIDs(p, x509, &ids)) {
>>           const char *cp;
>>           int i;
>>           char **id = (char **)ids->elts;
>> @@ -387,8 +387,8 @@
>>                 if (s) {
>>                   ap_log_error(APLOG_MARK, APLOG_TRACE3, 0, s,
>> -                             "[%s] SSL_X509_match_name: expecting 
>> name '%s', "
>> -                             "%smatched by ID '%s'",
>> +                             "[%s] ap_SSL_X509_match_name: expecting 
>> name "
>> +                             "'%s', %smatched by ID '%s'",
>>                                (mySrvConfig(s))->vhost_id, name,
>>                                matched == TRUE ? "" : "NOT ", id[i]);
>>               }
>> @@ -417,9 +417,9 @@
>>   ** _________________________________________________________________
>>   */
>>   -BOOL SSL_X509_INFO_load_file(apr_pool_t *ptemp,
>> -                             STACK_OF(X509_INFO) *sk,
>> -                             const char *filename)
>> +BOOL ap_SSL_X509_INFO_load_file(apr_pool_t *ptemp,
>> +                                STACK_OF(X509_INFO) *sk,
>> +                                const char *filename)
>>   {
>>       BIO *in;
>>   @@ -441,9 +441,9 @@
>>       return TRUE;
>>   }
>>   -BOOL SSL_X509_INFO_load_path(apr_pool_t *ptemp,
>> -                             STACK_OF(X509_INFO) *sk,
>> -                             const char *pathname)
>> +BOOL ap_SSL_X509_INFO_load_path(apr_pool_t *ptemp,
>> +                                STACK_OF(X509_INFO) *sk,
>> +                                const char *pathname)
>>   {
>>       /* XXX: this dir read code is exactly the same as that in
>>        * ssl_engine_init.c, only the call to handle the fullname is 
>> different,
>> @@ -468,7 +468,7 @@
>>                                  pathname, "/", dirent.name,
>>                                  NULL);
>>   -        if (SSL_X509_INFO_load_file(ptemp, sk, fullname)) {
>> +        if (ap_SSL_X509_INFO_load_file(ptemp, sk, fullname)) {
>>               ok = TRUE;
>>           }
>>       }
>> @@ -521,7 +521,7 @@
>>    * format, possibly followed by a sequence of CA certificates that
>>    * should be sent to the peer in the SSL Certificate message.
>>    */
>> -int SSL_CTX_use_certificate_chain(
>> +int ap_SSL_CTX_use_certificate_chain(
>>       SSL_CTX *ctx, char *file, int skipfirst, pem_password_cb *cb)
>>   {
>>       BIO *bio;
>> @@ -581,8 +581,8 @@
>>   ** _________________________________________________________________
>>   */
>>   -char *SSL_SESSION_id2sz(unsigned char *id, int idlen,
>> -                        char *str, int strsize)
>> +char *ap_SSL_SESSION_id2sz(unsigned char *id, int idlen,
>> +                           char *str, int strsize)
>>   {
>>       if (idlen > SSL_MAX_SSL_SESSION_ID_LENGTH)
>>           idlen = SSL_MAX_SSL_SESSION_ID_LENGTH;
>> Index: modules/ssl/ssl_util_ssl.h
>> ===================================================================
>> --- modules/ssl/ssl_util_ssl.h    (revision 1673798)
>> +++ modules/ssl/ssl_util_ssl.h    (working copy)
>> @@ -38,10 +38,10 @@
>>    * SSL library version number
>>    */
>>   -#define SSL_LIBRARY_VERSION OPENSSL_VERSION_NUMBER
>> -#define SSL_LIBRARY_NAME    "OpenSSL"
>> -#define SSL_LIBRARY_TEXT    OPENSSL_VERSION_TEXT
>> -#define SSL_LIBRARY_DYNTEXT SSLeay_version(SSLEAY_VERSION)
>> +#define AP_SSL_LIBRARY_VERSION OPENSSL_VERSION_NUMBER
>> +#define AP_SSL_LIBRARY_NAME    "OpenSSL"
>> +#define AP_SSL_LIBRARY_TEXT    OPENSSL_VERSION_TEXT
>> +#define AP_SSL_LIBRARY_DYNTEXT SSLeay_version(SSLEAY_VERSION)
>>     /**
>>    *  Maximum length of a DER encoded session.
>> @@ -48,31 +48,31 @@
>>    *  FIXME: There is no define in OpenSSL, but OpenSSL uses 1024*10,
>>    *         so this value should be ok. Although we have no warm 
>> feeling.
>>    */
>> -#define SSL_SESSION_MAX_DER 1024*10
>> +#define AP_SSL_SESSION_MAX_DER 1024*10
>>   -/** max length for SSL_SESSION_id2sz */
>> -#define SSL_SESSION_ID_STRING_LEN \
>> +/** max length for AP_SSL_SESSION_id2sz */
>> +#define AP_SSL_SESSION_ID_STRING_LEN \
>>       ((SSL_MAX_SSL_SESSION_ID_LENGTH + 1) * 2)
>>     /**
>>    *  Additional Functions
>>    */
>> -void        SSL_init_app_data2_idx(void);
>> -void       *SSL_get_app_data2(SSL *);
>> -void        SSL_set_app_data2(SSL *, void *);
>> -EVP_PKEY   *SSL_read_PrivateKey(const char *, EVP_PKEY **, 
>> pem_password_cb *, void *);
>> -int         SSL_smart_shutdown(SSL *ssl);
>> -BOOL        SSL_X509_getBC(X509 *, int *, int *);
>> -char       *SSL_ASN1_STRING_to_utf8(apr_pool_t *, ASN1_STRING *);
>> -char       *SSL_X509_NAME_ENTRY_to_string(apr_pool_t *p, 
>> X509_NAME_ENTRY *xsne);
>> -char       *SSL_X509_NAME_to_string(apr_pool_t *, X509_NAME *, int);
>> -BOOL        SSL_X509_getSAN(apr_pool_t *, X509 *, int, int, 
>> apr_array_header_t **);
>> -BOOL        SSL_X509_getIDs(apr_pool_t *, X509 *, apr_array_header_t 
>> **);
>> -BOOL        SSL_X509_match_name(apr_pool_t *, X509 *, const char *, 
>> BOOL, server_rec *);
>> -BOOL        SSL_X509_INFO_load_file(apr_pool_t *, 
>> STACK_OF(X509_INFO) *, const char *);
>> -BOOL        SSL_X509_INFO_load_path(apr_pool_t *, 
>> STACK_OF(X509_INFO) *, const char *);
>> -int         SSL_CTX_use_certificate_chain(SSL_CTX *, char *, int, 
>> pem_password_cb *);
>> -char       *SSL_SESSION_id2sz(unsigned char *, int, char *, int);
>> +void        ap_SSL_init_app_data2_idx(void);
>> +void       *ap_SSL_get_app_data2(SSL *);
>> +void        ap_SSL_set_app_data2(SSL *, void *);
>> +EVP_PKEY   *ap_SSL_read_PrivateKey(const char *, EVP_PKEY **, 
>> pem_password_cb *, void *);
>> +int         ap_SSL_smart_shutdown(SSL *ssl);
>> +BOOL        ap_SSL_X509_getBC(X509 *, int *, int *);
>> +char       *ap_SSL_ASN1_STRING_to_utf8(apr_pool_t *, ASN1_STRING *);
>> +char       *ap_SSL_X509_NAME_ENTRY_to_string(apr_pool_t *p, 
>> X509_NAME_ENTRY *xsne);
>> +char       *ap_SSL_X509_NAME_to_string(apr_pool_t *, X509_NAME *, int);
>> +BOOL        ap_SSL_X509_getSAN(apr_pool_t *, X509 *, int, int, 
>> apr_array_header_t **);
>> +BOOL        ap_SSL_X509_getIDs(apr_pool_t *, X509 *, 
>> apr_array_header_t **);
>> +BOOL        ap_SSL_X509_match_name(apr_pool_t *, X509 *, const char 
>> *, BOOL, server_rec *);
>> +BOOL        ap_SSL_X509_INFO_load_file(apr_pool_t *, 
>> STACK_OF(X509_INFO) *, const char *);
>> +BOOL        ap_SSL_X509_INFO_load_path(apr_pool_t *, 
>> STACK_OF(X509_INFO) *, const char *);
>> +int         ap_SSL_CTX_use_certificate_chain(SSL_CTX *, char *, int, 
>> pem_password_cb *);
>> +char       *ap_SSL_SESSION_id2sz(unsigned char *, int, char *, int);
>>     #endif /* __SSL_UTIL_SSL_H__ */
>>   /** @} */
>


From dev-return-82382-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 16 04:48:31 2015
Return-Path: <dev-return-82382-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 552561746C
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 16 Apr 2015 04:48:31 +0000 (UTC)
Received: (qmail 40653 invoked by uid 500); 16 Apr 2015 04:48:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 40572 invoked by uid 500); 16 Apr 2015 04:48:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 40562 invoked by uid 99); 16 Apr 2015 04:48:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Apr 2015 04:48:30 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [85.25.46.13] (HELO fornix.velox.ch) (85.25.46.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Apr 2015 04:48:05 +0000
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t3G4g3nV006442
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Thu, 16 Apr 2015 06:42:03 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1429159324;
	bh=Pf8P+WjI825ElTvNNymIW9YcpK+d3UJgXALOoeGt6qM=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=iBvzMiElu8Isct+UnN11WbRgeuS9dJWQ+MUh3CwOE/Xyq/Y09aKnZOh7fkdQ3JFR3
	 4jiLE3TVaoMS7J0ZFL+6suidgqoQdjwEUWLoMDhr4Y0HbwCFDQexVrbI8mvLBRk/EC
	 bcoKK+xSNEaHmYoYcaG45noj1VCQi37QGgmeIxkNyl2eFwDoEKvCK4H1J/hih4P7j+
	 6Ou3g70Pf5w7jGTsGkTYJS2TdhxXUSHaAF6lVOjiBvJr6seLd2IDV+vIzsLjWEBkbR
	 RKUGy0xDockqBjRyuucPXtYOChIR74QdiRM3ZbgqSpITisvUbLiJ4DrjhmGo5UxrEw
	 GekhVT/7LlMVA==
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on cortex.velox.ch
X-Spam-Level: 
Message-ID: <552F3D9C.7010401@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1429159322;
	bh=Pf8P+WjI825ElTvNNymIW9YcpK+d3UJgXALOoeGt6qM=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=kUVGWJjZsIug0oTemIa8RMzmfnbQbYRUhYAVk83X9N8wMFg8MEJFxCtM6XI/udcr3
	 3Zn90fHY+oeYUUcBaigE0lwcj+L/7FTxaYJDbOfmTGcxDs01WR0GAfLQKg21Kaq156
	 X0IVzxubGTL1Jg1XI09/1yH+mfL85/MP6RgyO9HAvA7Qmlcf2RPI0USWZRirN92vqb
	 UxBpRAUwd9SP2uz8CtNkADxa4N0KHZXcOrOrqYpIkM2LRs+byhUCMPbz6/9QZUDnzc
	 LJKohCaDG6tx7yg8csoDLAO0QsAlmK61ys+rz2B2poZ+V5+40S/K+Lrfj/Zt5fi6/H
	 hyprom+hLMqwA==
Date: Thu, 16 Apr 2015 06:42:04 +0200
From: Kaspar Brand <httpd-dev.2014@velox.ch>
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: namespacing in mod_ssl
References: <20150415163613.GC15209@fintan.stsp.name>
In-Reply-To: <20150415163613.GC15209@fintan.stsp.name>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.5 required=8.0 tests=AWL=0.018,BAYES_00=-1.5,
	NO_RECEIVED=-0.001,NO_RELAYS=-0.001,T_DKIM_INVALID=0.01 autolearn=no
	autolearn_force=no version=3.4.0

On 15.04.2015 18:36, Stefan Sperling wrote:
> However, the actual issue here is that mod_ssl is squatting the SSL_ namespace.
> Historically this may have made sense (it seems mod_ssl and OpenSSL have
> shared history/authors). Bill Rowe suggested to try moving mod_ssl's
> functions into the ap_ namespace to avoid such clashes in the future.

Agreed that mod_ssl should avoid stepping into the SSL_* yard. As
pointed out by Jeff, ap_* is fairly foreign in the mod_ssl case, though,
and my preference is for s/SSL_/ssl_/ for functions and
s/SSL_/MODSSL_/ for constants (in the latter case, there's actually
quite some more stuff lurking - SSL_OPT_*, SSL_PROTOCOL_* etc.).

> I'm not sure how README.dsov.ps should be regenerated.
> It contains a refence to SSL_get_app_data2().
> For now I've only updated the .dsov.fig file.

With fig2dev probably. Though in this simple case, a direct edit of
README.dsov.ps seems sufficient.

Kaspar

From dev-return-82383-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 16 05:15:02 2015
Return-Path: <dev-return-82383-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CAE021750A
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 16 Apr 2015 05:15:02 +0000 (UTC)
Received: (qmail 84280 invoked by uid 500); 16 Apr 2015 05:15:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84220 invoked by uid 500); 16 Apr 2015 05:15:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84210 invoked by uid 99); 16 Apr 2015 05:15:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Apr 2015 05:15:02 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [85.25.46.13] (HELO fornix.velox.ch) (85.25.46.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Apr 2015 05:14:56 +0000
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t3G58YQ7006682
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Thu, 16 Apr 2015 07:08:35 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1429160915;
	bh=jhauydR6vPKivyFpnmUGxe99hs7AuA4joEjapgrisBI=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=AwT0VftIL+p+OmV1lPAfUamlSs4jNP0LOUHHJSbVz9z7OeUbZhX6MH/LWoUcf1DTs
	 E8dyFRsdGpEzOyR3p5v2U6lN1v5BXcI5xAXbtMX+FfkTHhCgpYvRfgYWKbZM1J0g+a
	 vP2WBshDHkoJP0oWmnwXHxn7yHA6+rYL0doqsHqRHQ749SH6a/tbkEc1UpHxgOOU6V
	 aQYUmWTGVqk7dCz6esa+FtH2/SKjiLlCs4q2VWocj1lFZ/4SYQeFJUxMFH5uNogvPV
	 /BoELTne3wzYjHM1SayZ6qPuIPhCz3A5CEKeXzppsBUAC96mOLnCV/4+FbDgWL63AB
	 fuYEZFDH89Q1g==
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on cortex.velox.ch
X-Spam-Level: 
Message-ID: <552F43D3.2040803@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1429160914;
	bh=jhauydR6vPKivyFpnmUGxe99hs7AuA4joEjapgrisBI=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=jA/zVqNk27HCzXvl96UZLVd/piuN6acSb4TUjNaeVYEwcU67hiqWBmAOe6nHekNYq
	 LJ1El/pcJrlTrt1ex3Xo8gYdCD/DtlQNaDReox4YhkCQbRqUtlRkI/AIQgwTa14rfu
	 L69Cg6dtv/dgiXnNpWUWnsgVJ3dia/FwWLLLq8MrkrEN78AoSsoT/nivPAdaXM6v5P
	 KooVK4phDOl+YLO0SpwXNRF1lZd7wUpdOBuKxQyiVs+7fQR5A/Tv1q4PAhh9iE0kEe
	 Ir2RIR7byuxPjzGKZPQRV7TyPDTxvlBpdlw6Lor8OBWe4SqWeYk+tE8Xfn7/RhbzZo
	 LWH2lhIVj67jA==
Date: Thu, 16 Apr 2015 07:08:35 +0200
From: Kaspar Brand <httpd-dev.2014@velox.ch>
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: check for RAND_egd at configure time
References: <20150415184304.GD15209@fintan.stsp.name>
In-Reply-To: <20150415184304.GD15209@fintan.stsp.name>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.5 required=8.0 tests=AWL=0.018,BAYES_00=-1.5,
	NO_RECEIVED=-0.001,NO_RELAYS=-0.001,T_DKIM_INVALID=0.01 autolearn=no
	autolearn_force=no version=3.4.0

On 15.04.2015 20:43, Stefan Sperling wrote:
> LibreSSL does not provide the RAND_egd() function.
> 
> This patch adds a configure check to allow building mod_ssl with LibreSSL.
> 
> Index: modules/ssl/config.m4
> ===================================================================
> --- modules/ssl/config.m4	(revision 1673798)
> +++ modules/ssl/config.m4	(working copy)
> @@ -44,6 +44,12 @@
>             # structure, so ask libtool to hide everything else:
>             APR_ADDTO(MOD_SSL_LDADD, [-export-symbols-regex ssl_module])
>          fi
> +
> +        have_rand_egd="no"
> +        AC_CHECK_LIB(crypto, RAND_egd, [have_rand_egd="yes"])
> +        if test "$have_rand_egd" = "yes"; then
> +            AC_DEFINE([HAVE_RAND_EGD], [1], [Define if RAND_egd exists.])
> +        fi
>      else
>          enable_ssl=no
>      fi

We already have a couple of OpenSSL function checks in (the top-level)
acinclude.m4 - can you add it there?

Kaspar

From dev-return-82384-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 16 20:00:04 2015
Return-Path: <dev-return-82384-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5FD6017D57
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 16 Apr 2015 20:00:04 +0000 (UTC)
Received: (qmail 57705 invoked by uid 500); 16 Apr 2015 20:00:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57651 invoked by uid 500); 16 Apr 2015 20:00:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57641 invoked by uid 99); 16 Apr 2015 20:00:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Apr 2015 20:00:00 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of wrowe@rowe-clan.net designates 209.85.213.182 as permitted sender)
Received: from [209.85.213.182] (HELO mail-ig0-f182.google.com) (209.85.213.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Apr 2015 19:59:56 +0000
Received: by igblo3 with SMTP id lo3so60659724igb.0
        for <dev@httpd.apache.org>; Thu, 16 Apr 2015 12:57:20 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=1xWLjicRRSuiroGYxQa1JNdubwk0e4qqBXEjoP83vVg=;
        b=bPAHMVyVQb0HE43jYQR5+EjGBc7sqxWt7+kT48WUyW6SmWL0M3ycjxIKzwWh61L0zt
         SECnfls2uxnoJuTVqkL822vzSGQW954n46isQXAaghIaXr4B6dPbXRm8Lq/uOzvVvVKE
         w3eyQ4m/4bk4y+HD5aVp4dg6D7xCjhSBd47j7LSrRcndGW9jnGayVW7HWQRLlfywcA1o
         LDkn8WMLqi2cX3LY1fd37XwTGnpo6mQzKwAsu5mwmSnGX9dMRU311EhRDZM4+LZ2q0YR
         Uyb7YaiTLQ9PT7ZnBIwsGTC+PFVZV3agbOUE+2EzHprbJN2DpZxUxmOcAVBRK2AdNRXR
         AN9A==
X-Gm-Message-State: ALoCoQkYiolJRreUcbD/XE83d4DGotgYxfCPXwQVy0wD0mS5Qe6T6XGbSLFw3M6YltLWcFB2CsmO
MIME-Version: 1.0
X-Received: by 10.50.90.179 with SMTP id bx19mr8030273igb.43.1429214240166;
 Thu, 16 Apr 2015 12:57:20 -0700 (PDT)
Received: by 10.107.136.17 with HTTP; Thu, 16 Apr 2015 12:57:20 -0700 (PDT)
X-Originating-IP: [2602:304:cfc7:480:c06e:b9:80d0:9dec]
In-Reply-To: <552F3D9C.7010401@velox.ch>
References: <20150415163613.GC15209@fintan.stsp.name>
	<552F3D9C.7010401@velox.ch>
Date: Thu, 16 Apr 2015 14:57:20 -0500
Message-ID: <CACsi250EZqUxFgqr+rb1mZcQCBk62bqRRcjLN1AbFiN+UTjy-A@mail.gmail.com>
Subject: Re: namespacing in mod_ssl
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=047d7bea429417e20e0513dcdf09
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7bea429417e20e0513dcdf09
Content-Type: text/plain; charset=UTF-8

On Wed, Apr 15, 2015 at 11:42 PM, Kaspar Brand <httpd-dev.2014@velox.ch>
wrote:

> On 15.04.2015 18:36, Stefan Sperling wrote:
> > However, the actual issue here is that mod_ssl is squatting the SSL_
> namespace.
> > Historically this may have made sense (it seems mod_ssl and OpenSSL have
> > shared history/authors). Bill Rowe suggested to try moving mod_ssl's
> > functions into the ap_ namespace to avoid such clashes in the future.
>
> Agreed that mod_ssl should avoid stepping into the SSL_* yard. As
> pointed out by Jeff, ap_* is fairly foreign in the mod_ssl case, though,
> and my preference is for s/SSL_/ssl_/ for functions and
> s/SSL_/MODSSL_/ for constants (in the latter case, there's actually
> quite some more stuff lurking - SSL_OPT_*, SSL_PROTOCOL_* etc.).
>

+1

--047d7bea429417e20e0513dcdf09
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On W=
ed, Apr 15, 2015 at 11:42 PM, Kaspar Brand <span dir=3D"ltr">&lt;<a href=3D=
"mailto:httpd-dev.2014@velox.ch" target=3D"_blank">httpd-dev.2014@velox.ch<=
/a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:=
0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><span class=3D"">On=
 15.04.2015 18:36, Stefan Sperling wrote:<br>
&gt; However, the actual issue here is that mod_ssl is squatting the SSL_ n=
amespace.<br>
&gt; Historically this may have made sense (it seems mod_ssl and OpenSSL ha=
ve<br>
&gt; shared history/authors). Bill Rowe suggested to try moving mod_ssl&#39=
;s<br>
&gt; functions into the ap_ namespace to avoid such clashes in the future.<=
br>
<br>
</span>Agreed that mod_ssl should avoid stepping into the SSL_* yard. As<br=
>
pointed out by Jeff, ap_* is fairly foreign in the mod_ssl case, though,<br=
>
and my preference is for s/SSL_/ssl_/ for functions and<br>
s/SSL_/MODSSL_/ for constants (in the latter case, there&#39;s actually<br>
quite some more stuff lurking - SSL_OPT_*, SSL_PROTOCOL_* etc.).<br></block=
quote><div><br></div><div>+1=C2=A0</div></div><br></div></div>

--047d7bea429417e20e0513dcdf09--

From dev-return-82385-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 16 20:58:42 2015
Return-Path: <dev-return-82385-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BBDF6172B0
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 16 Apr 2015 20:58:42 +0000 (UTC)
Received: (qmail 58580 invoked by uid 500); 16 Apr 2015 20:58:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58505 invoked by uid 500); 16 Apr 2015 20:58:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58496 invoked by uid 99); 16 Apr 2015 20:58:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Apr 2015 20:58:42 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: local policy)
Received: from [192.109.42.8] (HELO einhorn.in-berlin.de) (192.109.42.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Apr 2015 20:58:35 +0000
X-Envelope-From: stsp@apache.org
Received: from fintan.stsp.name (fintan.stsp.name [217.197.84.44])
	by einhorn.in-berlin.de (8.14.4/8.14.4/Debian-4) with ESMTP id t3GKvoFu015870
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
	Thu, 16 Apr 2015 22:57:52 +0200
Received: from localhost (fintan.stsp.name [local])
	by fintan.stsp.name (OpenSMTPD) with ESMTPA id 23924d40;
	Thu, 16 Apr 2015 22:57:48 +0200 (CEST)
Date: Thu, 16 Apr 2015 22:57:48 +0200
From: Stefan Sperling <stsp@apache.org>
To: dev@httpd.apache.org
Cc: Stuart Henderson <sthen@openbsd.org>
Subject: Re: check for RAND_egd at configure time
Message-ID: <20150416205747.GB9298@fintan.stsp.name>
References: <20150415184304.GD15209@fintan.stsp.name>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20150415184304.GD15209@fintan.stsp.name>
User-Agent: Mutt/1.5.23 (2014-03-12)
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Apr 15, 2015 at 08:43:04PM +0200, Stefan Sperling wrote:
> LibreSSL does not provide the RAND_egd() function.
> 
> This patch adds a configure check to allow building mod_ssl with LibreSSL.

Updated version following Kaspar Brand's suggestion to move into acinclude.m4.

Index: acinclude.m4
===================================================================
--- acinclude.m4	(revision 1673798)
+++ acinclude.m4	(working copy)
@@ -598,6 +598,11 @@ AC_DEFUN(APACHE_CHECK_OPENSSL,[
       if test "x$liberrors" != "x"; then
         AC_MSG_WARN([OpenSSL libraries are unusable])
       fi
+      have_rand_egd="no"
+      AC_CHECK_LIB(crypto, RAND_egd, [have_rand_egd="yes"])
+      if test "$have_rand_egd" = "yes"; then
+        AC_DEFINE([HAVE_RAND_EGD], [1], [Define if RAND_egd exists.])
+      fi
     else
       AC_MSG_WARN([OpenSSL version is too old])
     fi
Index: modules/ssl/ssl_engine_rand.c
===================================================================
--- modules/ssl/ssl_engine_rand.c	(revision 1673798)
+++ modules/ssl/ssl_engine_rand.c	(working copy)
@@ -86,6 +86,7 @@ int ssl_rand_seed(server_rec *s, apr_pool_t *p, ss
                 nDone += ssl_rand_feedfp(p, fp, pRandSeed->nBytes);
                 ssl_util_ppclose(s, p, fp);
             }
+#ifdef HAVE_RAND_EGD
             else if (pRandSeed->nSrc == SSL_RSSRC_EGD) {
                 /*
                  * seed in contents provided by the external
@@ -95,6 +96,7 @@ int ssl_rand_seed(server_rec *s, apr_pool_t *p, ss
                     continue;
                 nDone += n;
             }
+#endif
             else if (pRandSeed->nSrc == SSL_RSSRC_BUILTIN) {
                 struct {
                     time_t t;

From dev-return-82386-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 17 07:26:42 2015
Return-Path: <dev-return-82386-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 42460100D9
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 17 Apr 2015 07:26:42 +0000 (UTC)
Received: (qmail 84925 invoked by uid 500); 17 Apr 2015 07:11:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63513 invoked by uid 500); 17 Apr 2015 07:11:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 52197 invoked by uid 99); 17 Apr 2015 05:02:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 05:02:47 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [85.25.46.13] (HELO fornix.velox.ch) (85.25.46.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 05:02:42 +0000
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t3H52KFJ003798
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Fri, 17 Apr 2015 07:02:20 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1429246940;
	bh=pvrq+9MUKOJOR6HNeh57vvctkZ1SM7I+X3gY+4P1yic=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=uZrxIdTe7WpB4NdJxIM3zY9BrdkuGvylaJ9FhRZkPiLbyeanXN4xGmRxg2unqZvHB
	 i3XerY/kF3zOC4y0afKsbzodNXUDdaEDOOgDjcthnr3oJCjsmQ476K739zwPIQRV22
	 pI5aF9tEs6Vitbdrhei3hbKhRsDmPAGfooNzeDH3Stv+zAUDAOJt1Rd75ifnQn/sUP
	 Z7pdWhFqx9Pu6AFFTmMJzpB4XXzpmjDsUpLr/IkeaJjENwdt6Sq2dyMHL9zBrJpqz8
	 VlM4p5Phvjwquhj+dT5tqlhpMcLgzswB4DdM79fdMxFJ/4zQFeNPxS0Bogk85ENICR
	 7bgq0HY4njYQA==
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on cortex.velox.ch
X-Spam-Level: 
Message-ID: <553093DD.6040505@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1429246939;
	bh=pvrq+9MUKOJOR6HNeh57vvctkZ1SM7I+X3gY+4P1yic=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=hf9i/xZ9xqAjgeZZGl2nSJ6H4MxYiped6BFB19mHerG4PYaiXv1Lz0jirSiqppG8P
	 a+zT+akHpTNHDizp2RZFA6UCZXrn5T/i8vZb+A56DEsWcpvto3JVqBqSnJLxJhYj9i
	 3X8wKVjqtgLlZJVY0IeivoeEOhmibvzdvUcuIXuJS3zjrBmwi1lEiqJI/mF01jgH1B
	 9ktuKXUPHA+clp+SwSM+cqJsCN+48Ff5jUG/pIUqboY6+eiOR6daXUYw047YsR2WcW
	 ekKKoZeDmQXQJxY1CtR0hdzQZYnrHYtMON+dAg98WupnLPLZi36DMZCKHOOC0jFIm+
	 6CkPqmJjS1Ofg==
Date: Fri, 17 Apr 2015 07:02:21 +0200
From: Kaspar Brand <httpd-dev.2014@velox.ch>
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: check for RAND_egd at configure time
References: <20150415184304.GD15209@fintan.stsp.name> <20150416205747.GB9298@fintan.stsp.name>
In-Reply-To: <20150416205747.GB9298@fintan.stsp.name>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.5 required=8.0 tests=AWL=0.018,BAYES_00=-1.5,
	NO_RECEIVED=-0.001,NO_RELAYS=-0.001,T_DKIM_INVALID=0.01 autolearn=no
	autolearn_force=no version=3.4.0

On 16.04.2015 22:57, Stefan Sperling wrote:
> On Wed, Apr 15, 2015 at 08:43:04PM +0200, Stefan Sperling wrote:
>> LibreSSL does not provide the RAND_egd() function.
>>
>> This patch adds a configure check to allow building mod_ssl with LibreSSL.
> 
> Updated version following Kaspar Brand's suggestion to move into acinclude.m4.
> 
> Index: acinclude.m4
> ===================================================================
> --- acinclude.m4	(revision 1673798)
> +++ acinclude.m4	(working copy)
> @@ -598,6 +598,11 @@ AC_DEFUN(APACHE_CHECK_OPENSSL,[
>        if test "x$liberrors" != "x"; then
>          AC_MSG_WARN([OpenSSL libraries are unusable])
>        fi
> +      have_rand_egd="no"
> +      AC_CHECK_LIB(crypto, RAND_egd, [have_rand_egd="yes"])
> +      if test "$have_rand_egd" = "yes"; then
> +        AC_DEFINE([HAVE_RAND_EGD], [1], [Define if RAND_egd exists.])
> +      fi
>      else
>        AC_MSG_WARN([OpenSSL version is too old])
>      fi

I was actually thinking about

Index: acinclude.m4
===================================================================
--- acinclude.m4        (revision 1673835)
+++ acinclude.m4        (working copy)
@@ -594,7 +594,7 @@
       liberrors=""
       AC_CHECK_HEADERS([openssl/engine.h])
       AC_CHECK_FUNCS([SSLeay_version SSL_CTX_new], [], [liberrors="yes"])
-      AC_CHECK_FUNCS([ENGINE_init ENGINE_load_builtin_engines])
+      AC_CHECK_FUNCS([ENGINE_init ENGINE_load_builtin_engines RAND_egd])
       if test "x$liberrors" != "x"; then
         AC_MSG_WARN([OpenSSL libraries are unusable])
       fi

... or does that not fit in this case?

Kaspar

From dev-return-82387-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 17 10:06:27 2015
Return-Path: <dev-return-82387-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 336A910ABE
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 17 Apr 2015 10:06:27 +0000 (UTC)
Received: (qmail 53521 invoked by uid 500); 17 Apr 2015 10:06:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53445 invoked by uid 500); 17 Apr 2015 10:06:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53435 invoked by uid 99); 17 Apr 2015 10:06:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 10:06:26 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 10:06:20 +0000
Received: from mail-ob0-f180.google.com (mail-ob0-f180.google.com [209.85.214.180])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 28CFC454CD
	for <dev@httpd.apache.org>; Fri, 17 Apr 2015 09:54:26 +0000 (UTC)
Received: by obbfy7 with SMTP id fy7so65187565obb.2
        for <dev@httpd.apache.org>; Fri, 17 Apr 2015 02:54:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=76e5I3bRjaLRkHkAxBIh6zA5SoqscKFElcPHc3yph4w=;
        b=bHvJ3xVjeKLDsluJW/sCFpPFKN2LuRDe0hZhD5nu94pY+N1UHaO3H9S1erBOyCrnQ2
         NwokujzRUovuyV4vCnNjewohonvGzUIwGVoFjd/ItBJgTIf74+Yu1zLb/G6A9Qcgcr+7
         7qdi12iUnRR5Vnarb+ULbRy++EXxUi+J3WB0jGiEs/WwpiMfRpdh1d5/jyQtpJrsRFN0
         Qs8i9n3PS55f/gGEMqDWleF6zyQWnOKtIbuanwAoT2sNftMARg+5wN4ah8Ij9v9G92Yr
         EN0u2+znaIaJAHiLqdPPP4N05dVEkEYkQ1mKqr8efso+pTpIhC3KI6iHKatId90e8zmI
         0vUg==
MIME-Version: 1.0
X-Received: by 10.182.68.103 with SMTP id v7mr2183854obt.82.1429264465765;
 Fri, 17 Apr 2015 02:54:25 -0700 (PDT)
Received: by 10.76.173.35 with HTTP; Fri, 17 Apr 2015 02:54:25 -0700 (PDT)
In-Reply-To: <20140407223853.D476723889B9@eris.apache.org>
References: <20140407223853.D476723889B9@eris.apache.org>
Date: Fri, 17 Apr 2015 11:54:25 +0200
Message-ID: <CAKQ1sVPnuJFyCCuK1QkcaQX6y50qjEy-37KDQTkrRUZB5hHoJA@mail.gmail.com>
Subject: Re: svn commit: r1585609 - /httpd/httpd/trunk/modules/aaa/mod_authz_core.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Apr 8, 2014 at 12:38 AM,  <breser@apache.org> wrote:
> Author: breser
> Date: Mon Apr  7 22:38:53 2014
> New Revision: 1585609
>
> URL: http://svn.apache.org/r1585609
> Log:
> Allow Require expr to work when the expression is quoted.
>
> For example as appears in our documentation:
> Require expr "%{TIME_HOUR} -ge 9 && %{TIME_HOUR} -le 17"
>
> PR: 56235
>
> Modified:
>     httpd/httpd/trunk/modules/aaa/mod_authz_core.c
>
> Modified: httpd/httpd/trunk/modules/aaa/mod_authz_core.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/aaa/mod_authz_core.c?rev=1585609&r1=1585608&r2=1585609&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/aaa/mod_authz_core.c (original)
> +++ httpd/httpd/trunk/modules/aaa/mod_authz_core.c Mon Apr  7 22:38:53 2014
> @@ -1062,6 +1062,16 @@ static const char *expr_parse_config(cmd
>      const char *expr_err = NULL;
>      struct require_expr_info *info = apr_pcalloc(cmd->pool, sizeof(*info));
>
> +    /* if the expression happens to be surrounded by quotes, skip them */
> +    if (require_line[0] == '"') {
> +        apr_size_t len = strlen(require_line);
> +
> +        if (require_line[len-1] == '"')
> +            require_line = apr_pstrndup(cmd->temp_pool,
> +                                        require_line + 1,
> +                                        len - 2);
> +    }
> +
>      apr_pool_userdata_setn(info, REQUIRE_EXPR_NOTE, apr_pool_cleanup_null,
>                            cmd->temp_pool);
>      info->expr = ap_expr_parse_cmd(cmd, require_line, 0, &expr_err,
>
>

This fix does not handle inner quotes (ie. \-escaping), nor other
providers (than core_authz_expr) which handle exprs or multiple
trailing words (eg. mod_authnz_ldap,
mod_authz_{dbd,groupfile,host,user,...}).

How about handling the case in the Require directive parser itself
(add_authz_provider)?

Something like:

Index: modules/aaa/mod_authz_core.c
===================================================================
--- modules/aaa/mod_authz_core.c    (revision 1674046)
+++ modules/aaa/mod_authz_core.c    (working copy)
@@ -393,7 +393,13 @@ static const char *add_authz_provider(cmd_parms *c
         section->negate = 1;
     }

-    section->provider_args = args;
+    if (args && (args[0] == '"' || args[0] == '\'')
+             && (args[strlen(args) - 1] == args[0])) {
+        section->provider_args = ap_getword_conf(cmd->pool, &args);
+    }
+    else {
+        section->provider_args = args;
+    }

     /* lookup and cache the actual provider now */
     section->provider = ap_lookup_provider(AUTHZ_PROVIDER_GROUP,
@@ -425,7 +431,7 @@ static const char *add_authz_provider(cmd_parms *c
                                AUTHZ_PROVIDER_NAME_NOTE,
                                apr_pool_cleanup_null,
                                cmd->temp_pool);
-        err = section->provider->parse_require_line(cmd, args,
+        err = section->provider->parse_require_line(cmd,
section->provider_args,
                                               &section->provider_parsed_args);

         if (err)
@@ -1069,16 +1075,6 @@ static const char *expr_parse_config(cmd_parms *cm
     const char *expr_err = NULL;
     struct require_expr_info *info = apr_pcalloc(cmd->pool, sizeof(*info));

-    /* if the expression happens to be surrounded by quotes, skip them */
-    if (require_line[0] == '"') {
-        apr_size_t len = strlen(require_line);
-
-        if (require_line[len-1] == '"')
-            require_line = apr_pstrndup(cmd->temp_pool,
-                                        require_line + 1,
-                                        len - 2);
-    }
-
     apr_pool_userdata_setn(info, REQUIRE_EXPR_NOTE, apr_pool_cleanup_null,
                           cmd->temp_pool);
     info->expr = ap_expr_parse_cmd(cmd, require_line, 0, &expr_err,
--

(the second hunk is a revert of this commit).

From dev-return-82388-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 17 11:09:08 2015
Return-Path: <dev-return-82388-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BD51710CF6
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 17 Apr 2015 11:09:08 +0000 (UTC)
Received: (qmail 82128 invoked by uid 500); 17 Apr 2015 11:09:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 82065 invoked by uid 500); 17 Apr 2015 11:09:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 82055 invoked by uid 99); 17 Apr 2015 11:09:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 11:09:08 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of kahan@w3.org designates 193.51.208.79 as permitted sender)
Received: from [193.51.208.79] (HELO lewis.sophia.w3.org) (193.51.208.79)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 11:09:01 +0000
Received: from mut38-7-78-226-234-114.fbx.proxad.net ([78.226.234.114] helo=kiribati.inrialpes.fr)
	by lewis.sophia.w3.org with esmtpsa (TLS1.2:DHE_RSA_AES_256_CBC_SHA256:256)
	(Exim 4.80)
	(envelope-from <kahan@w3.org>)
	id 1Yj48S-00055Q-O5
	for dev@httpd.apache.org; Fri, 17 Apr 2015 11:08:36 +0000
Received: by kiribati.inrialpes.fr (Postfix, from userid 50104)
	id 4F00F6F1; Fri, 17 Apr 2015 13:08:32 +0200 (CEST)
Date: Fri, 17 Apr 2015 13:08:32 +0200
From: Jose Kahan <jose.kahan@w3.org>
To: dev@httpd.apache.org
Subject: Re: Extending mod_authz_dbd
Message-ID: <20150417110832.GA14987@kiribati.inrialpes.fr>
Reply-To: jose.kahan@w3.org
References: <20150414173852.GA7233@kiribati.inrialpes.fr>
 <304DB914-ED71-4476-B875-F1ABDD1E370C@sharp.fm>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <304DB914-ED71-4476-B875-F1ABDD1E370C@sharp.fm>
User-Agent: Mutt/1.5.21 (2010-09-15)
X-Virus-Checked: Checked by ClamAV on apache.org

Hello Graham,

Thanks for your feedback. It all makes sense to me. 
Following your reasoning, the only directive that will have i
to stay as is for backwards compatibility will be require 
dbd-group, as it expects either no parameter or the value 
the query will return.

I had initially thought of only using one directive and
extracting the variables from the AuthzDBDQuery arguments, 
substituting them for %s and then preparing the request. Your
proposal is much simpler so I'll go with it.

I'm already looking at the code. Will keep you (and the list)
updated as soon as I have something to share.

Regards,

-jose

On Wed, Apr 15, 2015 at 11:17:04AM +0200, Graham Leggett wrote:
> 
> The limitations wed have to work with is that all the queries are prepared statements, and are reused for multiple requests. At the same time any query that is interpreted purely as a string would need to be protected against SQL injection.
 
>   Require dbd-login %{REQUEST_URI} %{REQUEST_METHOD} %{REMOTE_USER}
>   AuthzDBDQuery "UPDATE authn SET uri = %s, method = %s WHERE user = %s
> 
>   Require dbd-logout %{TIME} %{REMOTE_USER}
>   AuthzDBDQuery "UPDATE authn SET logout_time = %s WHERE user = %s
> 
> To be backwards compatible, "Require dbd-login on its own would imply "Require dbd-login %{REMOTER_USER}.
> 
> One possible approach to support completely generic queries might be as follows:
> 
>   Require dbd-query %{REQUEST_URI} %{REMOTE_USER}
>   AuthzDBDQuery SELECT count(user) FROM authn WHERE uri=%s AND user = %s
> 
> The bit above where youd limit the requests to GET or POST youd probably do with Limit or LimitExcept.

From dev-return-82389-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 17 11:17:47 2015
Return-Path: <dev-return-82389-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 68D2010D34
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 17 Apr 2015 11:17:47 +0000 (UTC)
Received: (qmail 94357 invoked by uid 500); 17 Apr 2015 11:16:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94272 invoked by uid 500); 17 Apr 2015 11:16:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94261 invoked by uid 99); 17 Apr 2015 11:16:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 11:16:48 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ylavic.dev@gmail.com designates 209.85.214.171 as permitted sender)
Received: from [209.85.214.171] (HELO mail-ob0-f171.google.com) (209.85.214.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 11:16:43 +0000
Received: by obbeb7 with SMTP id eb7so68052519obb.3
        for <dev@httpd.apache.org>; Fri, 17 Apr 2015 04:15:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=+X2DYh72CFuNzqo45CZjy2TrLhhOq4nh+lvUr8ZJIt0=;
        b=Udv1WcI5L0MajcoX99lpd+p3tNJsD1vAj/v7qCpECB+HRjJgFanqtueP/T1xyORkpJ
         PnJxMqsCHm7UcrNNpi++ma+lNU7PYiGwKuYXdqZkLl+zLdwlZzo/dNfpQC2NfUDJOYVt
         v98XyQkfgswGzqKelhvb4jCDpIulFV8bBkAUAevnD012E5+5mDnD0obAzbEbyfKGc4SF
         WFGozwLMdAZJesiTUgVgwgJRgxS652W9OrYjqEZm1xBeL8pgdr4LeEy3LxoHufXCMNrH
         SHQ5xEF7rdrUjjY9EMXNLYGDZEiUSCH0SbZeAoFu/cdHjMHP301uRfXe4K8JCzWY0ysV
         IjRA==
MIME-Version: 1.0
X-Received: by 10.202.12.142 with SMTP id 136mr2340593oim.30.1429269337659;
 Fri, 17 Apr 2015 04:15:37 -0700 (PDT)
Received: by 10.76.173.35 with HTTP; Fri, 17 Apr 2015 04:15:37 -0700 (PDT)
In-Reply-To: <CAKQ1sVPnuJFyCCuK1QkcaQX6y50qjEy-37KDQTkrRUZB5hHoJA@mail.gmail.com>
References: <20140407223853.D476723889B9@eris.apache.org>
	<CAKQ1sVPnuJFyCCuK1QkcaQX6y50qjEy-37KDQTkrRUZB5hHoJA@mail.gmail.com>
Date: Fri, 17 Apr 2015 13:15:37 +0200
Message-ID: <CAKQ1sVPgkjQb514V8eMRgRLhLa-nZLsryA4YB3c4JwRmRG-nqQ@mail.gmail.com>
Subject: Re: svn commit: r1585609 - /httpd/httpd/trunk/modules/aaa/mod_authz_core.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Apr 17, 2015 at 11:54 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
> How about handling the case in the Require directive parser itself
> (add_authz_provider)?

Or even maybe in the expr parser itself:

Index: server/util_expr_eval.c
===================================================================
--- server/util_expr_eval.c    (revision 1674046)
+++ server/util_expr_eval.c    (working copy)
@@ -455,6 +455,10 @@ AP_DECLARE(ap_expr_info_t*) ap_expr_parse_cmd_mi(c
     info->line_number = cmd->directive->line_num;
     info->flags = flags;
     info->module_index = module_index;
+    if (expr && (expr[0] == '"' || expr[0] == '\'') && (expr[1] != '\0')
+             && (expr[strlen(expr) - 1] == expr[0])) {
+        expr = ap_getword_conf(cmd->temp_pool, &expr);
+    }
     *err = ap_expr_parse(cmd->pool, cmd->temp_pool, info, expr, lookup_fn);

     if (*err)
--

From dev-return-82390-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 17 11:45:18 2015
Return-Path: <dev-return-82390-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 50CF310EDD
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 17 Apr 2015 11:45:18 +0000 (UTC)
Received: (qmail 81905 invoked by uid 500); 17 Apr 2015 11:45:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 81825 invoked by uid 500); 17 Apr 2015 11:45:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 81815 invoked by uid 99); 17 Apr 2015 11:45:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 11:45:11 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 11:45:05 +0000
Received: from mail-ob0-f181.google.com (mail-ob0-f181.google.com [209.85.214.181])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 99763453C6
	for <dev@httpd.apache.org>; Fri, 17 Apr 2015 11:44:44 +0000 (UTC)
Received: by obbeb7 with SMTP id eb7so68513692obb.3
        for <dev@httpd.apache.org>; Fri, 17 Apr 2015 04:43:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=GBV+LEQZBJigYDB8IxQnDEtgTWsIxKv/2VAV0dqgBR0=;
        b=RZ/ArtZnxUfZcTU0hMXNzKLLqc3Zfjdgc7H7fU+/eAtl5gjzDlZSB74I0BrmTJdarz
         1UkhOlDCIp0kPbgfnSya/ws0BELrj8DxWwnwKG5BGF72couidvNqXbR618AdsaariXkm
         z9yvfHJ3f4dmBfuc1yKpuUwy9m7MhYY9FhpvLfgXjxMmMuAnaYxJjUEgH5NcL3u3D+eq
         AZ6ulB5uL3or1QynYCduHyxue9G83ipIC+wn1WC1RKRdyEIa+5jhqB8vyldD4IGEDZml
         DxTp/sNd2o4mXa5uiixbVUx8vQ+RGgN4J7Z3hh8qcToeMv0rKUsJzC1novvs4E3YFsfj
         CKTQ==
MIME-Version: 1.0
X-Received: by 10.202.212.86 with SMTP id l83mr2440211oig.50.1429271039213;
 Fri, 17 Apr 2015 04:43:59 -0700 (PDT)
Received: by 10.76.173.35 with HTTP; Fri, 17 Apr 2015 04:43:59 -0700 (PDT)
Date: Fri, 17 Apr 2015 13:43:59 +0200
Message-ID: <CAKQ1sVNVQ4sAe+7Ng2nnKhUHvdsdosnj5Td+EvtEzHsjTAUNsg@mail.gmail.com>
Subject: ap_getword_conf() and badly quoted strings
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

currently ap_getword_conf() considers a word is quoted when (and only
when) it starts with a quote, regardless of this word ending (or not)
with the same quote.

That is, eg., ap_getword_conf("\"") == "" or
ap_getword_conf("\"whatever \\\"badly\\\" quoted") == "whatever
\"badly\" quoted".

I wonder if it should not return the (first) word as-is in this case,
hence including the leading quote and up to the first space (ie.
restart "normal" parsing from the beginning of the given line):

Index: server/util.c
===================================================================
--- server/util.c    (revision 1674046)
+++ server/util.c    (working copy)
@@ -780,7 +780,7 @@ AP_DECLARE(char *) ap_getword_conf_nc(apr_pool_t *

 AP_DECLARE(char *) ap_getword_conf(apr_pool_t *p, const char **line)
 {
-    const char *str = *line, *strend;
+    const char *str = *line, *strend = NULL;
     char *res;
     char quote;

@@ -803,12 +803,16 @@ AP_DECLARE(char *) ap_getword_conf(apr_pool_t *p,
                 ++strend;
             }
         }
-        res = substring_conf(p, str + 1, strend - str - 1, quote);

-        if (*strend == quote)
+        if (*strend) {
+            res = substring_conf(p, str + 1, strend - str - 1, quote);
             ++strend;
+        }
+        else {
+            strend = NULL;
+        }
     }
-    else {
+    if (!strend) {
         strend = str;
         while (*strend && !apr_isspace(*strend))
             ++strend;
--

With this, ap_getword_conf("\"") == "\"" and
ap_getword_conf("\"whatever \\\"badly\\\" quoted") == "\"whatever" =>
"\\\"badly\\\" => "quoted", which may raise syntax errors/typos the
administrator could be interested in.

Is that more of a fix or a compatibility issue?

Regards,
Yann.

From dev-return-82391-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 17 11:47:49 2015
Return-Path: <dev-return-82391-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9382510EF0
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 17 Apr 2015 11:47:49 +0000 (UTC)
Received: (qmail 89817 invoked by uid 500); 17 Apr 2015 11:47:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89747 invoked by uid 500); 17 Apr 2015 11:47:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89737 invoked by uid 99); 17 Apr 2015 11:47:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 11:47:49 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jkaluza@redhat.com designates 209.132.183.28 as permitted sender)
Received: from [209.132.183.28] (HELO mx1.redhat.com) (209.132.183.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 11:47:23 +0000
Received: from int-mx10.intmail.prod.int.phx2.redhat.com (int-mx10.intmail.prod.int.phx2.redhat.com [10.5.11.23])
	by mx1.redhat.com (8.14.4/8.14.4) with ESMTP id t3HBlIWS002793
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Fri, 17 Apr 2015 07:47:19 -0400
Received: from dhcp-24-191.brq.redhat.com (ovpn-204-22.brq.redhat.com [10.40.204.22])
	by int-mx10.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t3HAFOrI012274
	for <dev@httpd.apache.org>; Fri, 17 Apr 2015 06:15:25 -0400
Message-ID: <5530DD3C.9010607@redhat.com>
Date: Fri, 17 Apr 2015 12:15:24 +0200
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.5.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: [PATCH] mod_log_config: Allow logging using errorlog provider
References: <5523A7B0.7060300@redhat.com>
In-Reply-To: <5523A7B0.7060300@redhat.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.23
X-Virus-Checked: Checked by ClamAV on apache.org

On 04/07/2015 11:47 AM, Jan Kalua wrote:
> Hi,
>
> we have ap_errorlog_provider in the trunk for some time. I was thinking
> about extending it to mod_log_config, so CustomLog/TransferLog would
> work with any module providing error_log logging ability like mod_syslog
> or mod_journald.
>
> Attached patch does that by introducing CustomLog
> "errorlog_provider_name:arg" syntax, which should be backward compatible
> with the current syntax used for CustomLog.

Committed in r1674261.

> The patch changes ap_default_log_writer_init to detect this syntax, find
> the provider and initialize it. It also changes ap_default_log_writer to
> detect initialized provider and use it to log the message
>
> I would like to see that feature in the trunk, but since this changes
> the syntax little bit, I will wait a bit for other opinions if any.
>
> Regards,
> Jan Kaluza

Regards,
Jan Kaluza


From dev-return-82392-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 17 20:47:09 2015
Return-Path: <dev-return-82392-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1C0881742A
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 17 Apr 2015 20:47:09 +0000 (UTC)
Received: (qmail 69207 invoked by uid 500); 17 Apr 2015 20:47:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 69121 invoked by uid 500); 17 Apr 2015 20:47:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 69111 invoked by uid 99); 17 Apr 2015 20:47:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 20:47:08 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: local policy)
Received: from [46.105.74.219] (HELO 8.mo68.mail-out.ovh.net) (46.105.74.219)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 20:46:40 +0000
Received: from mail618.ha.ovh.net (b9.ovh.net [213.186.33.59])
	by mo68.mail-out.ovh.net (Postfix) with SMTP id 125A6FF9D68
	for <dev@httpd.apache.org>; Fri, 17 Apr 2015 22:45:18 +0200 (CEST)
Received: from b0.ovh.net (HELO queueout) (213.186.33.50)
	by b0.ovh.net with SMTP; 17 Apr 2015 22:45:18 +0200
Received: from aorleans-552-1-102-204.w92-140.abo.wanadoo.fr (HELO ?127.0.0.1?) (president@piranhaschateauroux.fr@92.140.173.204)
  by ns0.ovh.net with SMTP; 17 Apr 2015 22:45:17 +0200
Message-ID: <553170DC.4030003@wanadoo.fr>
Date: Fri, 17 Apr 2015 22:45:16 +0200
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1585609 - /httpd/httpd/trunk/modules/aaa/mod_authz_core.c
References: <20140407223853.D476723889B9@eris.apache.org>	<CAKQ1sVPnuJFyCCuK1QkcaQX6y50qjEy-37KDQTkrRUZB5hHoJA@mail.gmail.com> <CAKQ1sVPgkjQb514V8eMRgRLhLa-nZLsryA4YB3c4JwRmRG-nqQ@mail.gmail.com>
In-Reply-To: <CAKQ1sVPgkjQb514V8eMRgRLhLa-nZLsryA4YB3c4JwRmRG-nqQ@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 150417-0, 17/04/2015), Outbound message
X-Antivirus-Status: Clean
X-Ovh-Tracer-Id: 8132656502505610154
X-Ovh-Remote: 92.140.173.204 (aorleans-552-1-102-204.w92-140.abo.wanadoo.fr)
X-Ovh-Local: 213.186.33.20 (ns0.ovh.net)
X-OVH-SPAMSTATE: OK
X-OVH-SPAMSCORE: 0
X-OVH-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeektddrgeelucetufdoteggodetrfcurfhrohhfihhlvgemucfqggfjnecuuegrihhlohhuthemuceftddtnecu
X-VR-SPAMSTATE: OK
X-VR-SPAMSCORE: 0
X-VR-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeektddrgeelucetufdoteggodetrfcurfhrohhfihhlvgemucfqggfjnecuuegrihhlohhuthemuceftddtnecu
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I would +1 for this solution which is, IMHO, much better.
However, changing the parser itself would require checking the potential 
impact as it is used in many places.

CJ

Le 17/04/2015 13:15, Yann Ylavic a crit :
> On Fri, Apr 17, 2015 at 11:54 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> How about handling the case in the Require directive parser itself
>> (add_authz_provider)?
> Or even maybe in the expr parser itself:
>
> Index: server/util_expr_eval.c
> ===================================================================
> --- server/util_expr_eval.c    (revision 1674046)
> +++ server/util_expr_eval.c    (working copy)
> @@ -455,6 +455,10 @@ AP_DECLARE(ap_expr_info_t*) ap_expr_parse_cmd_mi(c
>       info->line_number = cmd->directive->line_num;
>       info->flags = flags;
>       info->module_index = module_index;
> +    if (expr && (expr[0] == '"' || expr[0] == '\'') && (expr[1] != '\0')
> +             && (expr[strlen(expr) - 1] == expr[0])) {
> +        expr = ap_getword_conf(cmd->temp_pool, &expr);
> +    }
>       *err = ap_expr_parse(cmd->pool, cmd->temp_pool, info, expr, lookup_fn);
>
>       if (*err)
> --
>


From dev-return-82393-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 17 20:58:37 2015
Return-Path: <dev-return-82393-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 15574174AB
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 17 Apr 2015 20:58:37 +0000 (UTC)
Received: (qmail 13350 invoked by uid 500); 17 Apr 2015 20:58:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 13266 invoked by uid 500); 17 Apr 2015 20:58:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 13256 invoked by uid 99); 17 Apr 2015 20:58:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 20:58:36 +0000
X-ASF-Spam-Status: No, hits=0.9 required=5.0
	tests=SPF_FAIL
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: encountered temporary error during SPF processing of domain of apache-dev@m.gmane.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 20:58:29 +0000
Received: from plane.gmane.org (plane.gmane.org [80.91.229.3])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id DE0C64543E
	for <dev@httpd.apache.org>; Fri, 17 Apr 2015 20:57:47 +0000 (UTC)
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <apache-dev@m.gmane.org>)
	id 1YjDKR-0003GO-CP
	for dev@httpd.apache.org; Fri, 17 Apr 2015 22:57:35 +0200
Received: from aorleans-552-1-102-204.w92-140.abo.wanadoo.fr ([92.140.173.204])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Fri, 17 Apr 2015 22:57:35 +0200
Received: from christophe.jaillet by aorleans-552-1-102-204.w92-140.abo.wanadoo.fr with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Fri, 17 Apr 2015 22:57:35 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: dev@httpd.apache.org
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Subject: Question about some examples in the doc
Date: Fri, 17 Apr 2015 22:57:23 +0200
Lines: 55
Message-ID: <mgrs3k$dab$1@ger.gmane.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: aorleans-552-1-102-204.w92-140.abo.wanadoo.fr
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
X-Antivirus: avast! (VPS 150417-0, 17/04/2015), Outbound message
X-Antivirus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

looking at comment 
http://httpd.apache.org/docs/current/en/mod/mod_authn_core.html#comment_751,
I think that what is proposed is not enough and that turning:
    Order deny,allow
    Allow from all
into
    Require all granted

is not correct.


"Require all granted" would bypass the "Require valid-user", wouldn't it?

So I think that the best fix would be just to remove the 2 
Order...Allow... lines from the example, just as in the other example 
above it.

Correct?




The same way, in 
http://httpd.apache.org/docs/current/en/mod/mod_info.html#security,
I think that the example:
<Location "/server-info">
     SetHandler server-info
     Order allow,deny
     # Allow access from server itself
     Allow from 127.0.0.1
     # Additionally, allow access from local workstation
     Allow from 192.168.1.17
</Location>

should be turned in:
<Location "/server-info">
     SetHandler server-info
     # Allow access from server itself
     Require ip 127.0.0.1
     # Additionally, allow access from local workstation
     Require ip 192.168.1.17
</Location>

or
<Location "/server-info">
     SetHandler server-info
     # Allow access from server itself or from a local workstation
     Require ip 127.0.0.1 192.168.1.17
</Location>

Correct?

CJ


From dev-return-82394-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 17 21:17:02 2015
Return-Path: <dev-return-82394-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EACE1175A5
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 17 Apr 2015 21:17:01 +0000 (UTC)
Received: (qmail 79689 invoked by uid 500); 17 Apr 2015 21:16:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 79621 invoked by uid 500); 17 Apr 2015 21:16:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 79612 invoked by uid 99); 17 Apr 2015 21:16:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 21:16:56 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: local policy)
Received: from [192.109.42.8] (HELO einhorn.in-berlin.de) (192.109.42.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 21:16:49 +0000
X-Envelope-From: stsp@apache.org
X-Envelope-To: <dev@httpd.apache.org>
Received: from fintan.stsp.name (fintan.stsp.name [217.197.84.44])
	by einhorn.in-berlin.de (8.14.4/8.14.4/Debian-4) with ESMTP id t3HLG5ea013291
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT)
	for <dev@httpd.apache.org>; Fri, 17 Apr 2015 23:16:06 +0200
Received: from localhost (fintan.stsp.name [local])
	by fintan.stsp.name (OpenSMTPD) with ESMTPA id 75755451
	for <dev@httpd.apache.org>;
	Fri, 17 Apr 2015 23:16:04 +0200 (CEST)
Date: Fri, 17 Apr 2015 23:16:04 +0200
From: Stefan Sperling <stsp@apache.org>
To: dev@httpd.apache.org
Subject: Re: check for RAND_egd at configure time
Message-ID: <20150417211603.GC2328@fintan.stsp.name>
References: <20150415184304.GD15209@fintan.stsp.name>
 <20150416205747.GB9298@fintan.stsp.name>
 <553093DD.6040505@velox.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <553093DD.6040505@velox.ch>
User-Agent: Mutt/1.5.23 (2014-03-12)
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Apr 17, 2015 at 07:02:21AM +0200, Kaspar Brand wrote:
> I was actually thinking about
> 
> Index: acinclude.m4
> ===================================================================
> --- acinclude.m4        (revision 1673835)
> +++ acinclude.m4        (working copy)
> @@ -594,7 +594,7 @@
>        liberrors=""
>        AC_CHECK_HEADERS([openssl/engine.h])
>        AC_CHECK_FUNCS([SSLeay_version SSL_CTX_new], [], [liberrors="yes"])
> -      AC_CHECK_FUNCS([ENGINE_init ENGINE_load_builtin_engines])
> +      AC_CHECK_FUNCS([ENGINE_init ENGINE_load_builtin_engines RAND_egd])
>        if test "x$liberrors" != "x"; then
>          AC_MSG_WARN([OpenSSL libraries are unusable])
>        fi
> 
> ... or does that not fit in this case?
> 
> Kaspar

Thanks, this work fine. Tested on OpenBSD and Debian.

Index: acinclude.m4
===================================================================
--- acinclude.m4	(revision 1673798)
+++ acinclude.m4	(working copy)
@@ -594,7 +594,7 @@ AC_DEFUN(APACHE_CHECK_OPENSSL,[
       liberrors=""
       AC_CHECK_HEADERS([openssl/engine.h])
       AC_CHECK_FUNCS([SSLeay_version SSL_CTX_new], [], [liberrors="yes"])
-      AC_CHECK_FUNCS([ENGINE_init ENGINE_load_builtin_engines])
+      AC_CHECK_FUNCS([ENGINE_init ENGINE_load_builtin_engines RAND_egd])
       if test "x$liberrors" != "x"; then
         AC_MSG_WARN([OpenSSL libraries are unusable])
       fi
Index: modules/ssl/ssl_engine_rand.c
===================================================================
--- modules/ssl/ssl_engine_rand.c	(revision 1673798)
+++ modules/ssl/ssl_engine_rand.c	(working copy)
@@ -86,6 +86,7 @@ int ssl_rand_seed(server_rec *s, apr_pool_t *p, ss
                 nDone += ssl_rand_feedfp(p, fp, pRandSeed->nBytes);
                 ssl_util_ppclose(s, p, fp);
             }
+#ifdef HAVE_RAND_EGD
             else if (pRandSeed->nSrc == SSL_RSSRC_EGD) {
                 /*
                  * seed in contents provided by the external
@@ -95,6 +96,7 @@ int ssl_rand_seed(server_rec *s, apr_pool_t *p, ss
                     continue;
                 nDone += n;
             }
+#endif
             else if (pRandSeed->nSrc == SSL_RSSRC_BUILTIN) {
                 struct {
                     time_t t;

From dev-return-82395-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 17 21:27:40 2015
Return-Path: <dev-return-82395-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 204E517643
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 17 Apr 2015 21:27:40 +0000 (UTC)
Received: (qmail 40633 invoked by uid 500); 17 Apr 2015 21:27:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 40550 invoked by uid 500); 17 Apr 2015 21:27:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 40537 invoked by uid 99); 17 Apr 2015 21:27:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 21:27:39 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.177 as permitted sender)
Received: from [209.85.213.177] (HELO mail-ig0-f177.google.com) (209.85.213.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 21:27:14 +0000
Received: by igblo3 with SMTP id lo3so22326403igb.1
        for <dev@httpd.apache.org>; Fri, 17 Apr 2015 14:26:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=+GUJean4AnfAoMySmGzUXhR4B933NJ0g4GmhH55+zYo=;
        b=QGq/UBDewmBKdXJPNXBkJldiVbLCZzn6aGdWAQFf0AmeDhiNQoXQbx40CVhTjRHLpS
         5u2vnmRvlVugwz70nDY3y33aJFbSHJ4zqNhubCbd5Ut53cs9klyW6E77QbgCuMsxr02t
         xHEsvyfue5e3PdHbJxT0Upl4nQj84sMg/YPK3CIiaKT5DZa86WlhKmGt2HTDMtT0Dfjd
         A49qO8ZkbdVOKYObV1vhWW7ZUovfRanm4rL+46fICsV8dj4jNs5FStxn9xg7YNUfBjeA
         vdjpNGIJUMPaQujRwEVHWXx+PsOIMyGjcT57xxkXHaL82L/EkYtGiQd1qxU6XeW1LDWO
         6wMg==
MIME-Version: 1.0
X-Received: by 10.50.43.231 with SMTP id z7mr5755662igl.22.1429305987797; Fri,
 17 Apr 2015 14:26:27 -0700 (PDT)
Received: by 10.36.59.130 with HTTP; Fri, 17 Apr 2015 14:26:27 -0700 (PDT)
In-Reply-To: <CB005100-7B3A-4902-9F12-968266BCAB23@marc-hoersken.de>
References: <A480E2DF-FA4A-40DE-BF74-20B50459A6D1@marc-hoersken.de>
	<CAKQ1sVOmAw4q=jYV9cWqjMTZB-MdadPNQY1phC+gOu9rb_5mXA@mail.gmail.com>
	<856DC4F6-CC40-442A-BB18-9BEA4A658459@marc-hoersken.de>
	<CALK=YjNnkEbR0E+Dmh+4ucc7L+S+PPLgp2qHp2gaau49KxfKyA@mail.gmail.com>
	<7BBB98BB-EF90-40A3-A428-FAA175EE9CDF@marc-hoersken.de>
	<CALK=YjPQfWeCN=a1-DB3L5zagQGTohwiw+YtxySzCYQ4+-e6NQ@mail.gmail.com>
	<71CFE936-6937-4F45-BAD6-0AA39FB146E5@marc-hoersken.de>
	<CB005100-7B3A-4902-9F12-968266BCAB23@marc-hoersken.de>
Date: Fri, 17 Apr 2015 23:26:27 +0200
Message-ID: <CAKQ1sVORYP1xfqrfCuY6UihJJCNguRkJD4Y2z0d9nyiobXgg3Q@mail.gmail.com>
Subject: Re: [users@httpd] Weird connection issues with mod_proxy_wstunnel
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Follow up to [1] based on users@ experience...

On Fri, Apr 17, 2015 at 3:38 PM, Marc H=C3=B6rsken <info@marc-hoersken.de> =
wrote:
>
> I just figured out the configuration issue causing my problem.
>
> Original configuration mod_proxy_wstunnel with SwampDragon:
>
> ProxyPass /data/ ws://127.0.0.1:9001/data/
> ProxyPassReverse /data/ ws://127.0.0.1:9001/data/
> ProxyPass /settings.js http://127.0.0.1:9001/settings.js
> ProxyPassReverse /settings.js http://127.0.0.1:9001/settings.js
> ProxyPreserveHost On
> ProxyRequests Off
> ProxyVia On
>
> The following configuration for mod_proxy_wstunnel with SwampDragon works=
 fine:
>
> ProxyPassMatch /data/(\d+)/(\w+)/websocket ws://127.0.0.1:9001/data/$1/$2=
/websocket
> ProxyPass /data/info http://127.0.0.1:9001/data/info
> ProxyPassReverse /data/info http://127.0.0.1:9001/data/info
> ProxyPass /settings.js http://127.0.0.1:9001/settings.js
> ProxyPassReverse /settings.js http://127.0.0.1:9001/settings.js
> ProxyPreserveHost On
> ProxyRequests Off
> ProxyVia On
>
> The issue was caused by the fact that /data/info is requested before a We=
bSocket-upgrade
> request to /data/(\d+)/(\w+)/websocket is performed. Because /data/info w=
as redirected to
> the WebSocket-server using the same rule as /data/(\d+)/(\w+)/websocket b=
efore,
> mod_proxy_wstunnel continued to also forward all HTTP-traffic to the WebS=
ocket-server.
>

As already proposed in [1], shouldn't mod_proxy_wstunnel should
DECLINE[D] the request if it is not an "Upgrade: WebSocket" one?

This could possibly simplify the configuration above to:
  ProxyPass / ws://127.0.0.1:9001/
  ProxyPass / http://127.0.0.1:9001/

The patch would be something like:

Index: modules/proxy/mod_proxy_wstunnel.c
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
--- modules/proxy/mod_proxy_wstunnel.c    (revision 1665828)
+++ modules/proxy/mod_proxy_wstunnel.c    (working copy)
@@ -305,7 +320,7 @@ static int proxy_wstunnel_handler(request_rec *r,
     int status;
     char server_portstr[32];
     proxy_conn_rec *backend =3D NULL;
-    char *scheme;
+    const char *scheme, *upgrade;
     int retry;
     conn_rec *c =3D r->connection;
     apr_pool_t *p =3D r->pool;
@@ -324,6 +339,25 @@ static int proxy_wstunnel_handler(request_rec *r,
         return DECLINED;
     }

+    upgrade =3D apr_table_get(r->headers_in, "Connection");
+    if (upgrade) {
+        if (strcasecmp(upgrade, "Upgrade") !=3D 0) {
+            upgrade =3D NULL;
+        }
+        else {
+            upgrade =3D apr_table_get(r->headers_in, "Upgrade");
+            if (upgrade && strcasecmp(upgrade, "WebSocket") !=3D 0) {
+                upgrade =3D NULL;
+            }
+        }
+    }
+    if (!upgrade) {
+        ap_log_rerror(APLOG_MARK, APLOG_DEBUG, 0, r,
+                      APLOGNO() "%s: declining URL %s (not WebSocket)",
+                      scheme, url);
+        return DECLINED;
+    }
+
     uri =3D apr_palloc(p, sizeof(*uri));
     ap_log_rerror(APLOG_MARK, APLOG_DEBUG, 0, r, APLOGNO(02451)
"serving URL %s", url);

--

[1] https://mail-archives.apache.org/mod_mbox/httpd-dev/201503.mbox/%3CCAKQ=
1sVPq-9cqS4zKvfwuC5Hi1mXZ=3DPkFUXrqSv2LexSNRzdJyw@mail.gmail.com%3E

From dev-return-82396-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 17 21:30:31 2015
Return-Path: <dev-return-82396-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9F35217664
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 17 Apr 2015 21:30:31 +0000 (UTC)
Received: (qmail 47016 invoked by uid 500); 17 Apr 2015 21:30:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46939 invoked by uid 500); 17 Apr 2015 21:30:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46929 invoked by uid 99); 17 Apr 2015 21:30:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 21:30:31 +0000
X-ASF-Spam-Status: No, hits=2.4 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 21:30:24 +0000
Received: from mail-pd0-f169.google.com (mail-pd0-f169.google.com [209.85.192.169])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 3A69245424
	for <dev@httpd.apache.org>; Fri, 17 Apr 2015 21:30:04 +0000 (UTC)
Received: by pdbqa5 with SMTP id qa5so139933229pdb.1
        for <dev@httpd.apache.org>; Fri, 17 Apr 2015 14:30:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:from:date:message-id:subject:to:content-type;
        bh=bv5er9cKMIySmFjcSYMJq3x3hGddKI2LfcXcZLvLnNQ=;
        b=0fYPQPzQLAEJ2I4BZ6UlIn417PMXwiTWLpDjFWPH1jI+jSXbpvfFMv/Szq2vNeA6D9
         t6hmw+Fjjh27dAnWfVw8z5XaA7IZE3TfavabmfSebT+1c/DySl7cWZAENvEV6JsMtBJI
         ta8tS6+8Ss1DQmMAUG+nbtqHmBsqesKx19GOj52zVEwcyVqliWyK3XDWi1PejHoT4D2h
         9WurMyCRxpuRfKczZ0PV1s8UmWzPJhUSuvdmQZ/JnyCpvMuUMtR3kbv6ngv+tTgQOCDR
         Rpf22rpbUwgmq+PXWVeHX9A+mwDhVXTC0l4IP58hDnE3u5ugirJHNbUAABGVw88FCnJ1
         PQZQ==
X-Received: by 10.70.39.99 with SMTP id o3mr8854078pdk.10.1429306203520; Fri,
 17 Apr 2015 14:30:03 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.67.2.42 with HTTP; Fri, 17 Apr 2015 14:29:33 -0700 (PDT)
From: Yue Chen <ycyc321@gmail.com>
Date: Fri, 17 Apr 2015 17:29:33 -0400
Message-ID: <CAKtBrB5GzJgGfjVRmma366xBdog4ya6yKUX_v8PnJ2t5nrkJoQ@mail.gmail.com>
Subject: Does Apache httpd server dynamically generate just-in-time (JIT)
 compiled code?
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=089e0160bdbe8944bc0513f2484d
X-Virus-Checked: Checked by ClamAV on apache.org

--089e0160bdbe8944bc0513f2484d
Content-Type: text/plain; charset=UTF-8

Hi,

In some OS's, the network stack would compile packet filters to the native
code, like the Berkeley Packet Filter (BPF).

Would Apache httpd server also do this? In httpd, what's the usage of
function ``ap_core_input_filter'', and does this function generate JIT
code?  If it does, will the generated code contain code pointers to its
original static code in ``ap_core_input_filter''?

I go through the source code, but cannot get much sense on what it does and
how it works.

Best thanks and regards,
Yue

--089e0160bdbe8944bc0513f2484d
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hi,<div><br></div><div><div>In some OS&#39;s, the network =
stack would compile packet filters to the native code, like the Berkeley Pa=
cket Filter (BPF).</div><div><br></div><div>Would Apache httpd server also =
do this? In httpd, what&#39;s the usage of function ``ap_core_input_filter&=
#39;&#39;, and does this function generate JIT code?=C2=A0 If it does, will=
 the generated code contain code pointers to its original static code in ``=
ap_core_input_filter&#39;&#39;?</div><div><br></div><div>I go through the s=
ource code, but cannot get much sense on what it does and how it works.</di=
v></div><div><br></div><div>Best thanks and regards,</div><div>Yue</div></d=
iv>

--089e0160bdbe8944bc0513f2484d--

From dev-return-82397-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 17 21:43:25 2015
Return-Path: <dev-return-82397-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 761EF17727
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 17 Apr 2015 21:43:25 +0000 (UTC)
Received: (qmail 86123 invoked by uid 500); 17 Apr 2015 21:43:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86060 invoked by uid 500); 17 Apr 2015 21:43:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86050 invoked by uid 99); 17 Apr 2015 21:43:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 21:43:24 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Apr 2015 21:43:18 +0000
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id A63EC4542F
	for <dev@httpd.apache.org>; Fri, 17 Apr 2015 21:42:57 +0000 (UTC)
Message-ID: <55317E3A.7010302@thelounge.net>
Date: Fri, 17 Apr 2015 23:42:18 +0200
From: Reindl Harald <h.reindl@thelounge.net>
Organization: the lounge interactive design
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: Does Apache httpd server dynamically generate just-in-time (JIT)
 compiled code?
References: <CAKtBrB5GzJgGfjVRmma366xBdog4ya6yKUX_v8PnJ2t5nrkJoQ@mail.gmail.com>
In-Reply-To: <CAKtBrB5GzJgGfjVRmma366xBdog4ya6yKUX_v8PnJ2t5nrkJoQ@mail.gmail.com>
OpenPGP: id=13540402D67A7F71C6E974EA866063CF7F780279;
	url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="f7LrMfBMGRgPDafnDeuJevUJlTvdQ0Dfj"
X-Spam-Report: ALL_TRUSTED,BAYES_00,T_RP_MATCHES_RCVD
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.5, tag-level=7.8, block-level=8.0

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--f7LrMfBMGRgPDafnDeuJevUJlTvdQ0Dfj
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable



Am 17.04.2015 um 23:29 schrieb Yue Chen:
> Hi,
>
> In some OS's, the network stack would compile packet filters to the
> native code, like the Berkeley Packet Filter (BPF)

apache and packet filter are completly different things at completly=20
different layers


--f7LrMfBMGRgPDafnDeuJevUJlTvdQ0Dfj
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlUxfjoACgkQhmBjz394AnnGcwCfYpjMUGB/LO2mtM7BqlWQfEFn
JAIAn21HUZGd1i3vqMG2fsUTnVquLJ2b
=DfSj
-----END PGP SIGNATURE-----

--f7LrMfBMGRgPDafnDeuJevUJlTvdQ0Dfj--

From dev-return-82398-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Apr 18 03:35:18 2015
Return-Path: <dev-return-82398-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1046B17441
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 18 Apr 2015 03:35:18 +0000 (UTC)
Received: (qmail 11076 invoked by uid 500); 18 Apr 2015 03:35:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10974 invoked by uid 500); 18 Apr 2015 03:35:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10964 invoked by uid 99); 18 Apr 2015 03:35:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 18 Apr 2015 03:35:17 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 18 Apr 2015 03:34:50 +0000
Received: from mail-ig0-f180.google.com (mail-ig0-f180.google.com [209.85.213.180])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id C334420693
	for <dev@httpd.apache.org>; Sat, 18 Apr 2015 03:34:48 +0000 (UTC)
Received: by iget9 with SMTP id t9so36162538ige.1
        for <dev@httpd.apache.org>; Fri, 17 Apr 2015 20:34:02 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=/tCOVaq9V+jacIjIjnOZxAK1jiddbqR2XFbvAk/UEvg=;
        b=gdDEQLTcDnv+bmzQOI2fSnjcdaTHZuucXCmlI8Pc7tAvaq7biSg1Du3Jh8W9P35a/0
         fHTCUseqUdYUoOUbB2yL1hwXqbJfGZfYWMOQZToGg3/7wRXEvSrXe7oY2gApsTTgGYw/
         5YIqPqMUuZfwF3dA8by5MyGFXTnhlPQL8VfNZNAMXhRTG1kJmtJSi0ZCKeJfHWhn8T4h
         La0qiHiC29XkfVGO2JBgZ9cLib9ZsnNUWmcpuLlsDyWcizRPluXdo9hFXBjPtBmZ3VBg
         L7T2wwQOl3W9hZowgcsIzOAeMvn5jFx9FfEoeDdpsj1QZ8ajf7AYz9+2JIXHTlV/cr86
         AhdA==
X-Gm-Message-State: ALoCoQmn8gcleEvEE7Enkg8jgHsKLyqobfBB28DsJntAoE38JutxOpSSawHTkrcWiOEyvRnlYUHP
MIME-Version: 1.0
X-Received: by 10.50.137.2 with SMTP id qe2mr7098391igb.20.1429328042703; Fri,
 17 Apr 2015 20:34:02 -0700 (PDT)
Received: by 10.107.136.17 with HTTP; Fri, 17 Apr 2015 20:34:02 -0700 (PDT)
X-Originating-IP: [2602:304:cfc7:480:222:15ff:fe0d:e6f8]
In-Reply-To: <CAKQ1sVNVQ4sAe+7Ng2nnKhUHvdsdosnj5Td+EvtEzHsjTAUNsg@mail.gmail.com>
References: <CAKQ1sVNVQ4sAe+7Ng2nnKhUHvdsdosnj5Td+EvtEzHsjTAUNsg@mail.gmail.com>
Date: Fri, 17 Apr 2015 22:34:02 -0500
Message-ID: <CACsi253dd4Tphs1CqJ9EyMR+64tXivYvTc3fuYveTd2neX3z7w@mail.gmail.com>
Subject: Re: ap_getword_conf() and badly quoted strings
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a11c3d6fa40d3190513f75e2b
X-Virus-Checked: Checked by ClamAV on apache.org

--001a11c3d6fa40d3190513f75e2b
Content-Type: text/plain; charset=UTF-8

I think in trunk we should properly bail if the same quote char does not
occur as termination.

I don't think we should second-guess the admin's intent.




On Fri, Apr 17, 2015 at 6:43 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> Hi,
>
> currently ap_getword_conf() considers a word is quoted when (and only
> when) it starts with a quote, regardless of this word ending (or not)
> with the same quote.
>
> That is, eg., ap_getword_conf("\"") == "" or
> ap_getword_conf("\"whatever \\\"badly\\\" quoted") == "whatever
> \"badly\" quoted".
>
> I wonder if it should not return the (first) word as-is in this case,
> hence including the leading quote and up to the first space (ie.
> restart "normal" parsing from the beginning of the given line):
>
> Index: server/util.c
> ===================================================================
> --- server/util.c    (revision 1674046)
> +++ server/util.c    (working copy)
> @@ -780,7 +780,7 @@ AP_DECLARE(char *) ap_getword_conf_nc(apr_pool_t *
>
>  AP_DECLARE(char *) ap_getword_conf(apr_pool_t *p, const char **line)
>  {
> -    const char *str = *line, *strend;
> +    const char *str = *line, *strend = NULL;
>      char *res;
>      char quote;
>
> @@ -803,12 +803,16 @@ AP_DECLARE(char *) ap_getword_conf(apr_pool_t *p,
>                  ++strend;
>              }
>          }
> -        res = substring_conf(p, str + 1, strend - str - 1, quote);
>
> -        if (*strend == quote)
> +        if (*strend) {
> +            res = substring_conf(p, str + 1, strend - str - 1, quote);
>              ++strend;
> +        }
> +        else {
> +            strend = NULL;
> +        }
>      }
> -    else {
> +    if (!strend) {
>          strend = str;
>          while (*strend && !apr_isspace(*strend))
>              ++strend;
> --
>
> With this, ap_getword_conf("\"") == "\"" and
> ap_getword_conf("\"whatever \\\"badly\\\" quoted") == "\"whatever" =>
> "\\\"badly\\\" => "quoted", which may raise syntax errors/typos the
> administrator could be interested in.
>
> Is that more of a fix or a compatibility issue?
>
> Regards,
> Yann.
>

--001a11c3d6fa40d3190513f75e2b
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">I think in trunk we should properly bail if the same quote=
 char does not occur as termination.<div><br></div><div>I don&#39;t think w=
e should second-guess the admin&#39;s intent.</div><div><br><div><br></div>=
<div><br></div></div></div><div class=3D"gmail_extra"><br><div class=3D"gma=
il_quote">On Fri, Apr 17, 2015 at 6:43 AM, Yann Ylavic <span dir=3D"ltr">&l=
t;<a href=3D"mailto:ylavic.dev@gmail.com" target=3D"_blank">ylavic.dev@gmai=
l.com</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"m=
argin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Hi,<br>
<br>
currently ap_getword_conf() considers a word is quoted when (and only<br>
when) it starts with a quote, regardless of this word ending (or not)<br>
with the same quote.<br>
<br>
That is, eg., ap_getword_conf(&quot;\&quot;&quot;) =3D=3D &quot;&quot; or<b=
r>
ap_getword_conf(&quot;\&quot;whatever \\\&quot;badly\\\&quot; quoted&quot;)=
 =3D=3D &quot;whatever<br>
\&quot;badly\&quot; quoted&quot;.<br>
<br>
I wonder if it should not return the (first) word as-is in this case,<br>
hence including the leading quote and up to the first space (ie.<br>
restart &quot;normal&quot; parsing from the beginning of the given line):<b=
r>
<br>
Index: server/util.c<br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<br>
--- server/util.c=C2=A0 =C2=A0 (revision 1674046)<br>
+++ server/util.c=C2=A0 =C2=A0 (working copy)<br>
@@ -780,7 +780,7 @@ AP_DECLARE(char *) ap_getword_conf_nc(apr_pool_t *<br>
<br>
=C2=A0AP_DECLARE(char *) ap_getword_conf(apr_pool_t *p, const char **line)<=
br>
=C2=A0{<br>
-=C2=A0 =C2=A0 const char *str =3D *line, *strend;<br>
+=C2=A0 =C2=A0 const char *str =3D *line, *strend =3D NULL;<br>
=C2=A0 =C2=A0 =C2=A0char *res;<br>
=C2=A0 =C2=A0 =C2=A0char quote;<br>
<br>
@@ -803,12 +803,16 @@ AP_DECLARE(char *) ap_getword_conf(apr_pool_t *p,<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0++strend;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0}<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0}<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 res =3D substring_conf(p, str + 1, strend - st=
r - 1, quote);<br>
<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 if (*strend =3D=3D quote)<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 if (*strend) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 res =3D substring_conf(p, str + =
1, strend - str - 1, quote);<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0++strend;<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 }<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 else {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 strend =3D NULL;<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 }<br>
=C2=A0 =C2=A0 =C2=A0}<br>
-=C2=A0 =C2=A0 else {<br>
+=C2=A0 =C2=A0 if (!strend) {<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0strend =3D str;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0while (*strend &amp;&amp; !apr_isspace(*s=
trend))<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0++strend;<br>
--<br>
<br>
With this, ap_getword_conf(&quot;\&quot;&quot;) =3D=3D &quot;\&quot;&quot; =
and<br>
ap_getword_conf(&quot;\&quot;whatever \\\&quot;badly\\\&quot; quoted&quot;)=
 =3D=3D &quot;\&quot;whatever&quot; =3D&gt;<br>
&quot;\\\&quot;badly\\\&quot; =3D&gt; &quot;quoted&quot;, which may raise s=
yntax errors/typos the<br>
administrator could be interested in.<br>
<br>
Is that more of a fix or a compatibility issue?<br>
<br>
Regards,<br>
Yann.<br>
</blockquote></div><br></div>

--001a11c3d6fa40d3190513f75e2b--

From dev-return-82399-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Apr 18 06:13:02 2015
Return-Path: <dev-return-82399-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 72E34176A6
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 18 Apr 2015 06:13:02 +0000 (UTC)
Received: (qmail 19538 invoked by uid 500); 18 Apr 2015 06:13:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 19459 invoked by uid 500); 18 Apr 2015 06:13:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 19449 invoked by uid 99); 18 Apr 2015 06:13:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 18 Apr 2015 06:13:01 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 18 Apr 2015 06:12:53 +0000
Received: from 5.mo6.mail-out.ovh.net (5.mo6.mail-out.ovh.net [46.105.54.31])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 73104453FB
	for <dev@httpd.apache.org>; Sat, 18 Apr 2015 06:12:32 +0000 (UTC)
Received: from mail179.ha.ovh.net (gw6.ovh.net [213.251.189.206])
	by mo6.mail-out.ovh.net (Postfix) with SMTP id 6088D1004058
	for <dev@httpd.apache.org>; Sat, 18 Apr 2015 08:12:23 +0200 (CEST)
Received: from b0.ovh.net (HELO queueout) (213.186.33.50)
	by b0.ovh.net with SMTP; 18 Apr 2015 08:12:18 +0200
Received: from aorleans-552-1-102-204.w92-140.abo.wanadoo.fr (HELO ?127.0.0.1?) (president@piranhaschateauroux.fr@92.140.173.204)
  by ns0.ovh.net with SMTP; 18 Apr 2015 08:12:16 +0200
Message-ID: <5531F5BC.7060206@wanadoo.fr>
Date: Sat, 18 Apr 2015 08:12:12 +0200
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org, rbowen@apache.org, docs@httpd.apache.org
Subject: Re: svn commit: r1674382 - /httpd/httpd/trunk/docs/manual/style/xsl/common.xsl
References: <20150417194628.95E2AAC01AA@hades.apache.org>
In-Reply-To: <20150417194628.95E2AAC01AA@hades.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 150417-0, 17/04/2015), Outbound message
X-Antivirus-Status: Clean
X-Ovh-Tracer-Id: 17708153736290638676
X-Ovh-Remote: 92.140.173.204 (aorleans-552-1-102-204.w92-140.abo.wanadoo.fr)
X-Ovh-Local: 213.186.33.20 (ns0.ovh.net)
X-OVH-SPAMSTATE: OK
X-OVH-SPAMSCORE: 0
X-OVH-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeektddrhedtucetufdoteggodetrfcurfhrohhfihhlvgemucfqggfjnecuuegrihhlohhuthemuceftddtnecu
X-VR-SPAMSTATE: OK
X-VR-SPAMSCORE: 0
X-VR-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeektddrhedtucetufdoteggodetrfcurfhrohhfihhlvgemucfqggfjnecuuegrihhlohhuthemuceftddtnecu
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I think that http://httpd.apache.org/docs/2.4/sitemap.html#comment_3895 
is also related to this change.

CJ



Le 17/04/2015 21:46, nd@apache.org a crit :
> Author: nd
> Date: Fri Apr 17 19:46:28 2015
> New Revision: 1674382
>
> URL: http://svn.apache.org/r1674382
> Log:
> The good thing about standards is that there are so many to choose from.
>
> Fix https://bz.apache.org/bugzilla/show_bug.cgi?id=55741
>
> Modified:
>      httpd/httpd/trunk/docs/manual/style/xsl/common.xsl
>
> Modified: httpd/httpd/trunk/docs/manual/style/xsl/common.xsl
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/style/xsl/common.xsl?rev=1674382&r1=1674381&r2=1674382&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/docs/manual/style/xsl/common.xsl (original)
> +++ httpd/httpd/trunk/docs/manual/style/xsl/common.xsl Fri Apr 17 19:46:28 2015
> @@ -103,13 +103,10 @@
>   <!-- ==================================================================== -->
>   <xsl:template name="head">
>   <head>
> -    <!-- the meta element is necessary for offline handling like CHM -->
> -    <xsl:choose>
> -    <xsl:when test="$is-chm or $is-zip">
> -        <meta http-equiv="Content-Type"
> -                 content="text/html; charset={$output-encoding}" />
> -    </xsl:when>
> -    <xsl:otherwise>
> +    &lf;
> +    <meta http-equiv="Content-Type"
> +          content="text/html; charset={$output-encoding}" />&lf;
> +    <xsl:if test="not($is-chm or $is-zip)">
>           <xsl:comment>
>               &lf;
>               <xsl:text>        </xsl:text>
> @@ -125,9 +122,8 @@
>               <xsl:text>XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</xsl:text>
>               &lf;
>               <xsl:text>      </xsl:text>
> -        </xsl:comment>
> -    </xsl:otherwise>
> -    </xsl:choose>&lf;
> +        </xsl:comment>&lf;
> +    </xsl:if>
>   
>       <title>
>           <xsl:choose>
>
>
>


From dev-return-82400-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Apr 18 14:20:55 2015
Return-Path: <dev-return-82400-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2BF0917FBD
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 18 Apr 2015 14:20:55 +0000 (UTC)
Received: (qmail 21487 invoked by uid 500); 18 Apr 2015 14:20:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 21404 invoked by uid 500); 18 Apr 2015 14:20:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 21395 invoked by uid 99); 18 Apr 2015 14:20:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 18 Apr 2015 14:20:49 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 18 Apr 2015 14:20:20 +0000
Received: from einhorn.in-berlin.de (einhorn.in-berlin.de [192.109.42.8])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 7B0002533C
	for <dev@httpd.apache.org>; Sat, 18 Apr 2015 14:20:19 +0000 (UTC)
X-Envelope-From: stsp@apache.org
Received: from fintan.stsp.name (fintan.stsp.name [217.197.84.44])
	by einhorn.in-berlin.de (8.14.4/8.14.4/Debian-4) with ESMTP id t3IEIoc0019094
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
	Sat, 18 Apr 2015 16:18:52 +0200
Received: from localhost (fintan.stsp.name [local])
	by fintan.stsp.name (OpenSMTPD) with ESMTPA id 0ae0a2ae;
	Sat, 18 Apr 2015 16:18:48 +0200 (CEST)
Date: Sat, 18 Apr 2015 16:18:48 +0200
From: Stefan Sperling <stsp@apache.org>
To: dev@httpd.apache.org
Cc: Stuart Henderson <sthen@openbsd.org>
Subject: Re: namespacing in mod_ssl
Message-ID: <20150418141846.GA18510@fintan.stsp.name>
References: <20150415163613.GC15209@fintan.stsp.name>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <20150415163613.GC15209@fintan.stsp.name>
User-Agent: Mutt/1.5.23 (2014-03-12)
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Apr 15, 2015 at 06:36:13PM +0200, Stefan Sperling wrote:
> However, the actual issue here is that mod_ssl is squatting the SSL_ namespace.
> Historically this may have made sense (it seems mod_ssl and OpenSSL have
> shared history/authors). Bill Rowe suggested to try moving mod_ssl's
> functions into the ap_ namespace to avoid such clashes in the future.

Given the feedback so far, it seems we all generally agree that
the current namespacing is a problem that needs to be addressed.

I like Jeff's suggestion to split this task up into smaller changes
by looking at each symbol on a case-by-case basis.

And the alternative naming schemes suggested make sense to me.

So to take a first step forward, here's a diff that puts ssl_util_ssl.h
macros into the MODSSL_ namespace.

Index: modules/ssl/ssl_engine_init.c
===================================================================
--- modules/ssl/ssl_engine_init.c	(revision 1674422)
+++ modules/ssl/ssl_engine_init.c	(working copy)
@@ -148,12 +148,12 @@ apr_status_t ssl_init_Module(apr_pool_t *p, apr_po
     apr_status_t rv;
     apr_array_header_t *pphrases;
 
-    if (SSLeay() < SSL_LIBRARY_VERSION) {
+    if (SSLeay() < MODSSL_LIBRARY_VERSION) {
         ap_log_error(APLOG_MARK, APLOG_WARNING, 0, base_server, APLOGNO(01882)
                      "Init: this version of mod_ssl was compiled against "
                      "a newer library (%s, version currently loaded is %s)"
                      " - may result in undefined or erroneous behavior",
-                     SSL_LIBRARY_TEXT, SSLeay_version(SSLEAY_VERSION));
+                     MODSSL_LIBRARY_TEXT, SSLeay_version(SSLEAY_VERSION));
     }
 
     /* We initialize mc->pid per-process in the child init,
@@ -242,7 +242,7 @@ apr_status_t ssl_init_Module(apr_pool_t *p, apr_po
 #endif
 
     ap_log_error(APLOG_MARK, APLOG_INFO, 0, s, APLOGNO(01883)
-                 "Init: Initialized %s library", SSL_LIBRARY_NAME);
+                 "Init: Initialized %s library", MODSSL_LIBRARY_NAME);
 
     /*
      * Seed the Pseudo Random Number Generator (PRNG)
Index: modules/ssl/ssl_engine_io.c
===================================================================
--- modules/ssl/ssl_engine_io.c	(revision 1674422)
+++ modules/ssl/ssl_engine_io.c	(working copy)
@@ -2186,7 +2186,7 @@ long ssl_io_data_cb(BIO *bio, int cmd,
             }
             ap_log_cserror(APLOG_MARK, APLOG_TRACE4, 0, c, s,
                     "%s: %s %ld/%d bytes %s BIO#%pp [mem: %pp] %s",
-                    SSL_LIBRARY_NAME,
+                    MODSSL_LIBRARY_NAME,
                     (cmd == (BIO_CB_WRITE|BIO_CB_RETURN) ? "write" : "read"),
                     rc, argi, (cmd == (BIO_CB_WRITE|BIO_CB_RETURN) ? "to" : "from"),
                     bio, argp, dump);
@@ -2196,7 +2196,7 @@ long ssl_io_data_cb(BIO *bio, int cmd,
         else {
             ap_log_cserror(APLOG_MARK, APLOG_TRACE4, 0, c, s,
                     "%s: I/O error, %d bytes expected to %s on BIO#%pp [mem: %pp]",
-                    SSL_LIBRARY_NAME, argi,
+                    MODSSL_LIBRARY_NAME, argi,
                     (cmd == (BIO_CB_WRITE|BIO_CB_RETURN) ? "write" : "read"),
                     bio, argp);
         }
Index: modules/ssl/ssl_engine_kernel.c
===================================================================
--- modules/ssl/ssl_engine_kernel.c	(revision 1674422)
+++ modules/ssl/ssl_engine_kernel.c	(working copy)
@@ -1654,7 +1654,7 @@ static void ssl_session_log(server_rec *s,
                             const char *result,
                             long timeout)
 {
-    char buf[SSL_SESSION_ID_STRING_LEN];
+    char buf[MODSSL_SESSION_ID_STRING_LEN];
     char timeout_str[56] = {'\0'};
 
     if (!APLOGdebug(s)) {
@@ -1811,32 +1811,32 @@ static void log_tracing_state(const SSL *ssl, conn
      */
     if (where & SSL_CB_HANDSHAKE_START) {
         ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
-                      "%s: Handshake: start", SSL_LIBRARY_NAME);
+                      "%s: Handshake: start", MODSSL_LIBRARY_NAME);
     }
     else if (where & SSL_CB_HANDSHAKE_DONE) {
         ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
-                      "%s: Handshake: done", SSL_LIBRARY_NAME);
+                      "%s: Handshake: done", MODSSL_LIBRARY_NAME);
     }
     else if (where & SSL_CB_LOOP) {
         ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
                       "%s: Loop: %s",
-                      SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
+                      MODSSL_LIBRARY_NAME, SSL_state_string_long(ssl));
     }
     else if (where & SSL_CB_READ) {
         ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
                       "%s: Read: %s",
-                      SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
+                      MODSSL_LIBRARY_NAME, SSL_state_string_long(ssl));
     }
     else if (where & SSL_CB_WRITE) {
         ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
                       "%s: Write: %s",
-                      SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
+                      MODSSL_LIBRARY_NAME, SSL_state_string_long(ssl));
     }
     else if (where & SSL_CB_ALERT) {
         char *str = (where & SSL_CB_READ) ? "read" : "write";
         ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
                       "%s: Alert: %s:%s:%s",
-                      SSL_LIBRARY_NAME, str,
+                      MODSSL_LIBRARY_NAME, str,
                       SSL_alert_type_string_long(rc),
                       SSL_alert_desc_string_long(rc));
     }
@@ -1844,12 +1844,12 @@ static void log_tracing_state(const SSL *ssl, conn
         if (rc == 0) {
             ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
                           "%s: Exit: failed in %s",
-                          SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
+                          MODSSL_LIBRARY_NAME, SSL_state_string_long(ssl));
         }
         else if (rc < 0) {
             ap_log_cerror(APLOG_MARK, APLOG_TRACE3, 0, c,
                           "%s: Exit: error in %s",
-                          SSL_LIBRARY_NAME, SSL_state_string_long(ssl));
+                          MODSSL_LIBRARY_NAME, SSL_state_string_long(ssl));
         }
     }
 
Index: modules/ssl/ssl_engine_vars.c
===================================================================
--- modules/ssl/ssl_engine_vars.c	(revision 1674422)
+++ modules/ssl/ssl_engine_vars.c	(working copy)
@@ -131,7 +131,7 @@ static apr_status_t ssl_get_tls_cb(apr_pool_t *p,
 }
 
 static const char var_interface[] = "mod_ssl/" AP_SERVER_BASEREVISION;
-static char var_library_interface[] = SSL_LIBRARY_TEXT;
+static char var_library_interface[] = MODSSL_LIBRARY_TEXT;
 static char *var_library = NULL;
 
 static apr_array_header_t *expr_peer_ext_list_fn(ap_expr_eval_ctx_t *ctx,
@@ -185,7 +185,7 @@ void ssl_var_register(apr_pool_t *p)
     APR_REGISTER_OPTIONAL_FN(ssl_ext_list);
 
     /* Perform once-per-process library version determination: */
-    var_library = apr_pstrdup(p, SSL_LIBRARY_DYNTEXT);
+    var_library = apr_pstrdup(p, MODSSL_LIBRARY_DYNTEXT);
 
     if ((cp = strchr(var_library, ' ')) != NULL) {
         *cp = '/';
@@ -406,7 +406,7 @@ static char *ssl_var_lookup_ssl(apr_pool_t *p, con
         result = (char *)SSL_get_version(ssl);
     }
     else if (ssl != NULL && strcEQ(var, "SESSION_ID")) {
-        char buf[SSL_SESSION_ID_STRING_LEN];
+        char buf[MODSSL_SESSION_ID_STRING_LEN];
         SSL_SESSION *pSession = SSL_get_session(ssl);
         if (pSession) {
             unsigned char *id;
Index: modules/ssl/ssl_scache.c
===================================================================
--- modules/ssl/ssl_scache.c	(revision 1674422)
+++ modules/ssl/ssl_scache.c	(working copy)
@@ -115,7 +115,7 @@ BOOL ssl_scache_store(server_rec *s, UCHAR *id, in
                       apr_pool_t *p)
 {
     SSLModConfigRec *mc = myModConfig(s);
-    unsigned char encoded[SSL_SESSION_MAX_DER], *ptr;
+    unsigned char encoded[MODSSL_SESSION_MAX_DER], *ptr;
     unsigned int len;
     apr_status_t rv;
 
@@ -148,8 +148,8 @@ SSL_SESSION *ssl_scache_retrieve(server_rec *s, UC
                                  apr_pool_t *p)
 {
     SSLModConfigRec *mc = myModConfig(s);
-    unsigned char dest[SSL_SESSION_MAX_DER];
-    unsigned int destlen = SSL_SESSION_MAX_DER;
+    unsigned char dest[MODSSL_SESSION_MAX_DER];
+    unsigned int destlen = MODSSL_SESSION_MAX_DER;
     const unsigned char *ptr;
     apr_status_t rv;
 
Index: modules/ssl/ssl_util_ssl.h
===================================================================
--- modules/ssl/ssl_util_ssl.h	(revision 1674422)
+++ modules/ssl/ssl_util_ssl.h	(working copy)
@@ -38,10 +38,10 @@
  * SSL library version number
  */
 
-#define SSL_LIBRARY_VERSION OPENSSL_VERSION_NUMBER
-#define SSL_LIBRARY_NAME    "OpenSSL"
-#define SSL_LIBRARY_TEXT    OPENSSL_VERSION_TEXT
-#define SSL_LIBRARY_DYNTEXT SSLeay_version(SSLEAY_VERSION)
+#define MODSSL_LIBRARY_VERSION OPENSSL_VERSION_NUMBER
+#define MODSSL_LIBRARY_NAME    "OpenSSL"
+#define MODSSL_LIBRARY_TEXT    OPENSSL_VERSION_TEXT
+#define MODSSL_LIBRARY_DYNTEXT SSLeay_version(SSLEAY_VERSION)
 
 /**
  *  Maximum length of a DER encoded session.
@@ -48,10 +48,10 @@
  *  FIXME: There is no define in OpenSSL, but OpenSSL uses 1024*10,
  *         so this value should be ok. Although we have no warm feeling.
  */
-#define SSL_SESSION_MAX_DER 1024*10
+#define MODSSL_SESSION_MAX_DER 1024*10
 
-/** max length for SSL_SESSION_id2sz */
-#define SSL_SESSION_ID_STRING_LEN \
+/** max length for MODSSL_SESSION_id2sz */
+#define MODSSL_SESSION_ID_STRING_LEN \
     ((SSL_MAX_SSL_SESSION_ID_LENGTH + 1) * 2)
 
 /**

From dev-return-82401-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Apr 18 14:25:53 2015
Return-Path: <dev-return-82401-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 69FA917FD6
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 18 Apr 2015 14:25:53 +0000 (UTC)
Received: (qmail 28343 invoked by uid 500); 18 Apr 2015 14:25:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28255 invoked by uid 500); 18 Apr 2015 14:25:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28245 invoked by uid 99); 18 Apr 2015 14:25:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 18 Apr 2015 14:25:52 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 18 Apr 2015 14:25:44 +0000
Received: from mail-wi0-f180.google.com (mail-wi0-f180.google.com [209.85.212.180])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 4FEB124EC1
	for <dev@httpd.apache.org>; Sat, 18 Apr 2015 14:25:24 +0000 (UTC)
Received: by widdi4 with SMTP id di4so47873019wid.0
        for <dev@httpd.apache.org>; Sat, 18 Apr 2015 07:25:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        bh=rScu4bGPlVVpDawInp0acxGFPFHgLG6SdXJa5C9pQF0=;
        b=U24vwWkGKR3cDPPmXAR9KOAeKQ9qseR3K2C0UDzUIm3pBZgiBPRerRN80VpevOutTp
         YLnVxr7PLc5vm2M1yTQNu2pg7sE1lraWWBD9Okkn1+yZfkwVBmW5jAccDd1+lRQDC0Yz
         DQ3WB/6mWbzB/aRh4EHA18f1vS1d/2IHUhH7/PdV/wtdOcTS8s2e7IEoBDdkalFGonxX
         97rfRnbPxp5U2mit7lFVBtbEZqxlh7Ji8umKjD4/Ti+lQkwwpIV0MNm5egb2jaAGQYwm
         Zti+eGVIZ6R4DgDEfJEUv2YdlKSxxK6hRmaQrudeqd1kGvKjFhxEkN+SEz6zd9CPuYJy
         0r6Q==
MIME-Version: 1.0
X-Received: by 10.180.24.65 with SMTP id s1mr9703424wif.66.1429367123120; Sat,
 18 Apr 2015 07:25:23 -0700 (PDT)
Received: by 10.27.26.200 with HTTP; Sat, 18 Apr 2015 07:25:23 -0700 (PDT)
In-Reply-To: <20150418141846.GA18510@fintan.stsp.name>
References: <20150415163613.GC15209@fintan.stsp.name>
	<20150418141846.GA18510@fintan.stsp.name>
Date: Sat, 18 Apr 2015 09:25:23 -0500
Message-ID: <CALK=YjPO0UjdrEnaMEs0+XttvxfkGG5mzzJLLTLx4kne9VVUMg@mail.gmail.com>
Subject: Re: namespacing in mod_ssl
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Cc: Stuart Henderson <sthen@openbsd.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Sat, Apr 18, 2015 at 9:18 AM, Stefan Sperling <stsp@apache.org> wrote:
> So to take a first step forward, here's a diff that puts ssl_util_ssl.h
> macros into the MODSSL_ namespace.


+1

From dev-return-82402-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Apr 18 17:23:24 2015
Return-Path: <dev-return-82402-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A8BEF175A7
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 18 Apr 2015 17:23:24 +0000 (UTC)
Received: (qmail 82862 invoked by uid 500); 18 Apr 2015 17:23:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 82784 invoked by uid 500); 18 Apr 2015 17:23:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 82775 invoked by uid 99); 18 Apr 2015 17:23:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 18 Apr 2015 17:23:23 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 18 Apr 2015 17:22:56 +0000
Received: from einhorn.in-berlin.de (einhorn.in-berlin.de [192.109.42.8])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 409F02540A
	for <dev@httpd.apache.org>; Sat, 18 Apr 2015 17:22:55 +0000 (UTC)
X-Envelope-From: stsp@apache.org
X-Envelope-To: <dev@httpd.apache.org>
Received: from fintan.stsp.name (fintan.stsp.name [217.197.84.44])
	by einhorn.in-berlin.de (8.14.4/8.14.4/Debian-4) with ESMTP id t3IHM9wP019233
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT)
	for <dev@httpd.apache.org>; Sat, 18 Apr 2015 19:22:12 +0200
Received: from localhost (fintan.stsp.name [local])
	by fintan.stsp.name (OpenSMTPD) with ESMTPA id 6fbc3f10
	for <dev@httpd.apache.org>;
	Sat, 18 Apr 2015 19:22:06 +0200 (CEST)
Date: Sat, 18 Apr 2015 19:22:06 +0200
From: Stefan Sperling <stsp@apache.org>
To: dev@httpd.apache.org
Subject: mod_ssl namespacing: app_data2
Message-ID: <20150418172205.GA27988@fintan.stsp.name>
Mail-Followup-To: dev@httpd.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.23 (2014-03-12)
X-Virus-Checked: Checked by ClamAV on apache.org

This moves symbols related to '2nd application data' into the ssl_ namespace.
File-level static symbols have no external linkage so don't need a namespace.

Index: modules/ssl/README.dsov.fig
===================================================================
--- modules/ssl/README.dsov.fig	(revision 1674542)
+++ modules/ssl/README.dsov.fig	(working copy)
@@ -339,7 +339,7 @@ Single
 4 0 0 200 0 20 8 0.0000 4 90 465 11745 4770 ->method\001
 4 0 0 200 0 20 8 0.0000 4 120 1665 9945 6480 X509_STORE_CTX_get_app_data()\001
 4 0 0 200 0 20 8 0.0000 4 120 1215 10980 6705 SSL_CTX_get_cert_store()\001
-4 0 0 200 0 20 8 0.0000 4 120 1020 8280 5130 SSL_get_app_data2()\001
+4 0 0 200 0 20 8 0.0000 4 120 1020 8280 5130 ssl_get_app_data2()\001
 4 0 0 100 0 18 20 0.0000 4 270 1290 10710 7605 OpenSSL\001
 4 0 0 100 0 18 12 0.0000 4 180 720 10710 7785 [Crypto]\001
 4 0 0 100 0 18 20 0.0000 4 270 1290 10935 3645 OpenSSL\001
Index: modules/ssl/README.dsov.ps
===================================================================
--- modules/ssl/README.dsov.ps	(revision 1674542)
+++ modules/ssl/README.dsov.ps	(working copy)
@@ -1002,7 +1002,7 @@ gs 1 -1 sc (X509_STORE_CTX_get_app_data\(\)) col0
 gs 1 -1 sc (SSL_CTX_get_cert_store\(\)) col0 sh gr
 /Helvetica-Narrow-iso ff 120.00 scf sf
 8280 5130 m
-gs 1 -1 sc (SSL_get_app_data2\(\)) col0 sh gr
+gs 1 -1 sc (ssl_get_app_data2\(\)) col0 sh gr
 /Helvetica-Bold-iso ff 180.00 scf sf
 3645 1620 m
 gs 1 -1 sc (SSLDirConfig) col0 sh gr
Index: modules/ssl/mod_ssl.c
===================================================================
--- modules/ssl/mod_ssl.c	(revision 1674542)
+++ modules/ssl/mod_ssl.c	(working copy)
@@ -570,7 +570,7 @@ int ssl_init_ssl_connection(conn_rec *c, request_r
     }
 
     SSL_set_app_data(ssl, c);
-    SSL_set_app_data2(ssl, NULL); /* will be request_rec */
+    ssl_set_app_data2(ssl, NULL); /* will be request_rec */
 
     sslconn->ssl = ssl;
 
Index: modules/ssl/ssl_engine_init.c
===================================================================
--- modules/ssl/ssl_engine_init.c	(revision 1674542)
+++ modules/ssl/ssl_engine_init.c	(working copy)
@@ -348,7 +348,7 @@ apr_status_t ssl_init_Module(apr_pool_t *p, apr_po
      */
     ssl_add_version_components(p, base_server);
 
-    SSL_init_app_data2_idx(); /* for SSL_get_app_data2() at request time */
+    ssl_init_app_data2_idx(); /* for ssl_get_app_data2() at request time */
 
     init_dh_params();
 
Index: modules/ssl/ssl_engine_kernel.c
===================================================================
--- modules/ssl/ssl_engine_kernel.c	(revision 1674542)
+++ modules/ssl/ssl_engine_kernel.c	(working copy)
@@ -229,7 +229,7 @@ int ssl_hook_ReadReq(request_rec *r)
         }
     }
 #endif
-    SSL_set_app_data2(ssl, r);
+    ssl_set_app_data2(ssl, r);
 
     /*
      * Log information about incoming HTTPS requests
@@ -1385,7 +1385,7 @@ int ssl_callback_SSLVerify(int ok, X509_STORE_CTX
     SSL *ssl = X509_STORE_CTX_get_ex_data(ctx,
                                           SSL_get_ex_data_X509_STORE_CTX_idx());
     conn_rec *conn      = (conn_rec *)SSL_get_app_data(ssl);
-    request_rec *r      = (request_rec *)SSL_get_app_data2(ssl);
+    request_rec *r      = (request_rec *)ssl_get_app_data2(ssl);
     server_rec *s       = r ? r->server : mySrvFromConn(conn);
 
     SSLSrvConfigRec *sc = mySrvConfig(s);
Index: modules/ssl/ssl_util_ssl.c
===================================================================
--- modules/ssl/ssl_util_ssl.c	(revision 1674542)
+++ modules/ssl/ssl_util_ssl.c	(working copy)
@@ -38,19 +38,19 @@
  * also note that OpenSSL increments at static variable when
  * SSL_get_ex_new_index() is called, so we _must_ do this at startup.
  */
-static int SSL_app_data2_idx = -1;
+static int app_data2_idx = -1;
 
-void SSL_init_app_data2_idx(void)
+void ssl_init_app_data2_idx(void)
 {
     int i;
 
-    if (SSL_app_data2_idx > -1) {
+    if (app_data2_idx > -1) {
         return;
     }
 
     /* we _do_ need to call this twice */
-    for (i=0; i<=1; i++) {
-        SSL_app_data2_idx =
+    for (i = 0; i <= 1; i++) {
+        app_data2_idx =
             SSL_get_ex_new_index(0,
                                  "Second Application Data for SSL",
                                  NULL, NULL, NULL);
@@ -57,14 +57,14 @@
     }
 }
 
-void *SSL_get_app_data2(SSL *ssl)
+void *ssl_get_app_data2(SSL *ssl)
 {
-    return (void *)SSL_get_ex_data(ssl, SSL_app_data2_idx);
+    return (void *)SSL_get_ex_data(ssl, app_data2_idx);
 }
 
-void SSL_set_app_data2(SSL *ssl, void *arg)
+void ssl_set_app_data2(SSL *ssl, void *arg)
 {
-    SSL_set_ex_data(ssl, SSL_app_data2_idx, (char *)arg);
+    SSL_set_ex_data(ssl, app_data2_idx, (char *)arg);
     return;
 }
 
Index: modules/ssl/ssl_util_ssl.h
===================================================================
--- modules/ssl/ssl_util_ssl.h	(revision 1674542)
+++ modules/ssl/ssl_util_ssl.h	(working copy)
@@ -57,9 +57,9 @@
 /**
  *  Additional Functions
  */
-void        SSL_init_app_data2_idx(void);
-void       *SSL_get_app_data2(SSL *);
-void        SSL_set_app_data2(SSL *, void *);
+void        ssl_init_app_data2_idx(void);
+void       *ssl_get_app_data2(SSL *);
+void        ssl_set_app_data2(SSL *, void *);
 EVP_PKEY   *SSL_read_PrivateKey(const char *, EVP_PKEY **, pem_password_cb *, void *);
 int         SSL_smart_shutdown(SSL *ssl);
 BOOL        SSL_X509_getBC(X509 *, int *, int *);

From dev-return-82403-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Apr 18 23:17:43 2015
Return-Path: <dev-return-82403-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3345A17DB3
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 18 Apr 2015 23:17:43 +0000 (UTC)
Received: (qmail 92219 invoked by uid 500); 18 Apr 2015 23:17:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92106 invoked by uid 500); 18 Apr 2015 23:17:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92096 invoked by uid 99); 18 Apr 2015 23:17:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 18 Apr 2015 23:17:41 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 18 Apr 2015 23:17:36 +0000
Received: from mail-wg0-f45.google.com (mail-wg0-f45.google.com [74.125.82.45])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 0017E26DFC
	for <dev@httpd.apache.org>; Sat, 18 Apr 2015 23:17:15 +0000 (UTC)
Received: by wgyo15 with SMTP id o15so145091255wgy.2
        for <dev@httpd.apache.org>; Sat, 18 Apr 2015 16:17:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=xVKISDmwkmixpeYObj2JLKujwf/n7craQ5LMmTQ8LCc=;
        b=OpZaupn3wNZxIRBU6JvkWscFr1i0Pf0+6md4aO9rgw4AlDwYJN5XELGoMkHUGuTXVh
         f1hzW+vOoGFr1okEtnZSXOSHUd32got53culefK4FNa6ZQM8gYEEJXuvsORu+lKnsNMz
         8/INKfdozm2lHf/fjc9gTXzkFVU1CxX6YnON61mDKIy1D/eVWffeihE66LWufMXqs/2F
         ReF6BXR9KNzyrolNpBDBokGpmocLvzb4su3FBShruS6iv2p8gs7zwfE73MTi4N/ewsX7
         oqPMeZzAes3Q0aiom3eRBjvScNCVcQhPTLvX6TY/sZOmkfgHJwfUtCyILpKylLqHhWn9
         5Tmw==
MIME-Version: 1.0
X-Received: by 10.180.24.65 with SMTP id s1mr12727294wif.66.1429399034551;
 Sat, 18 Apr 2015 16:17:14 -0700 (PDT)
Received: by 10.27.26.200 with HTTP; Sat, 18 Apr 2015 16:17:14 -0700 (PDT)
In-Reply-To: <CAKQ1sVORYP1xfqrfCuY6UihJJCNguRkJD4Y2z0d9nyiobXgg3Q@mail.gmail.com>
References: <A480E2DF-FA4A-40DE-BF74-20B50459A6D1@marc-hoersken.de>
	<CAKQ1sVOmAw4q=jYV9cWqjMTZB-MdadPNQY1phC+gOu9rb_5mXA@mail.gmail.com>
	<856DC4F6-CC40-442A-BB18-9BEA4A658459@marc-hoersken.de>
	<CALK=YjNnkEbR0E+Dmh+4ucc7L+S+PPLgp2qHp2gaau49KxfKyA@mail.gmail.com>
	<7BBB98BB-EF90-40A3-A428-FAA175EE9CDF@marc-hoersken.de>
	<CALK=YjPQfWeCN=a1-DB3L5zagQGTohwiw+YtxySzCYQ4+-e6NQ@mail.gmail.com>
	<71CFE936-6937-4F45-BAD6-0AA39FB146E5@marc-hoersken.de>
	<CB005100-7B3A-4902-9F12-968266BCAB23@marc-hoersken.de>
	<CAKQ1sVORYP1xfqrfCuY6UihJJCNguRkJD4Y2z0d9nyiobXgg3Q@mail.gmail.com>
Date: Sat, 18 Apr 2015 18:17:14 -0500
Message-ID: <CALK=YjMRuQOXHdww-xkOwQNFGZmPonZkF3xrDx-4d_OuwiA_+g@mail.gmail.com>
Subject: Re: [users@httpd] Weird connection issues with mod_proxy_wstunnel
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

+1, but why not skip right to the Upgrade: websocket check?

On Fri, Apr 17, 2015 at 4:26 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> Follow up to [1] based on users@ experience...
>
> On Fri, Apr 17, 2015 at 3:38 PM, Marc H=C3=B6rsken <info@marc-hoersken.de=
> wrote:
>>
>> I just figured out the configuration issue causing my problem.
>>
>> Original configuration mod_proxy_wstunnel with SwampDragon:
>>
>> ProxyPass /data/ ws://127.0.0.1:9001/data/
>> ProxyPassReverse /data/ ws://127.0.0.1:9001/data/
>> ProxyPass /settings.js http://127.0.0.1:9001/settings.js
>> ProxyPassReverse /settings.js http://127.0.0.1:9001/settings.js
>> ProxyPreserveHost On
>> ProxyRequests Off
>> ProxyVia On
>>
>> The following configuration for mod_proxy_wstunnel with SwampDragon work=
s fine:
>>
>> ProxyPassMatch /data/(\d+)/(\w+)/websocket ws://127.0.0.1:9001/data/$1/$=
2/websocket
>> ProxyPass /data/info http://127.0.0.1:9001/data/info
>> ProxyPassReverse /data/info http://127.0.0.1:9001/data/info
>> ProxyPass /settings.js http://127.0.0.1:9001/settings.js
>> ProxyPassReverse /settings.js http://127.0.0.1:9001/settings.js
>> ProxyPreserveHost On
>> ProxyRequests Off
>> ProxyVia On
>>
>> The issue was caused by the fact that /data/info is requested before a W=
ebSocket-upgrade
>> request to /data/(\d+)/(\w+)/websocket is performed. Because /data/info =
was redirected to
>> the WebSocket-server using the same rule as /data/(\d+)/(\w+)/websocket =
before,
>> mod_proxy_wstunnel continued to also forward all HTTP-traffic to the Web=
Socket-server.
>>
>
> As already proposed in [1], shouldn't mod_proxy_wstunnel should
> DECLINE[D] the request if it is not an "Upgrade: WebSocket" one?
>
> This could possibly simplify the configuration above to:
>   ProxyPass / ws://127.0.0.1:9001/
>   ProxyPass / http://127.0.0.1:9001/
>
> The patch would be something like:
>
> Index: modules/proxy/mod_proxy_wstunnel.c
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> --- modules/proxy/mod_proxy_wstunnel.c    (revision 1665828)
> +++ modules/proxy/mod_proxy_wstunnel.c    (working copy)
> @@ -305,7 +320,7 @@ static int proxy_wstunnel_handler(request_rec *r,
>      int status;
>      char server_portstr[32];
>      proxy_conn_rec *backend =3D NULL;
> -    char *scheme;
> +    const char *scheme, *upgrade;
>      int retry;
>      conn_rec *c =3D r->connection;
>      apr_pool_t *p =3D r->pool;
> @@ -324,6 +339,25 @@ static int proxy_wstunnel_handler(request_rec *r,
>          return DECLINED;
>      }
>
> +    upgrade =3D apr_table_get(r->headers_in, "Connection");
> +    if (upgrade) {
> +        if (strcasecmp(upgrade, "Upgrade") !=3D 0) {
> +            upgrade =3D NULL;
> +        }
> +        else {
> +            upgrade =3D apr_table_get(r->headers_in, "Upgrade");
> +            if (upgrade && strcasecmp(upgrade, "WebSocket") !=3D 0) {
> +                upgrade =3D NULL;
> +            }
> +        }
> +    }
> +    if (!upgrade) {
> +        ap_log_rerror(APLOG_MARK, APLOG_DEBUG, 0, r,
> +                      APLOGNO() "%s: declining URL %s (not WebSocket)",
> +                      scheme, url);
> +        return DECLINED;
> +    }
> +
>      uri =3D apr_palloc(p, sizeof(*uri));
>      ap_log_rerror(APLOG_MARK, APLOG_DEBUG, 0, r, APLOGNO(02451)
> "serving URL %s", url);
>
> --
>
> [1] https://mail-archives.apache.org/mod_mbox/httpd-dev/201503.mbox/%3CCA=
KQ1sVPq-9cqS4zKvfwuC5Hi1mXZ=3DPkFUXrqSv2LexSNRzdJyw@mail.gmail.com%3E



--=20
Eric Covener
covener@gmail.com

From dev-return-82404-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Apr 18 23:23:08 2015
Return-Path: <dev-return-82404-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CDF0217DD6
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 18 Apr 2015 23:23:08 +0000 (UTC)
Received: (qmail 96014 invoked by uid 500); 18 Apr 2015 23:23:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 95948 invoked by uid 500); 18 Apr 2015 23:23:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 95938 invoked by uid 99); 18 Apr 2015 23:23:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 18 Apr 2015 23:23:08 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of covener@gmail.com does not designate 54.76.25.247 as permitted sender)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 18 Apr 2015 23:22:41 +0000
Received: from mail-wi0-f178.google.com (mail-wi0-f178.google.com [209.85.212.178])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 32EA12176A
	for <dev@httpd.apache.org>; Sat, 18 Apr 2015 23:22:40 +0000 (UTC)
Received: by widdi4 with SMTP id di4so59383739wid.0
        for <dev@httpd.apache.org>; Sat, 18 Apr 2015 16:21:49 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=HOBc6PhPgVuT5zyRwRIqKqEthxIZHXcNcPLFHwtjEck=;
        b=Z+/Yrq0czAfQdtDPyD7q7LeklrBolb8mk5z5lvjJiVBsqjs0PQTL1AWy2TuseBgGbI
         /9gJNrj/+noLvoaBuT9akQHi3sAr3fMLnEHFETuNTFLWr1Qd7pnyt1zhxrKkOC4Lscvv
         7KgG1QrKnVIKZ18OJQ1vqjwNAWVe1A+7/2HMlMthTTnu50XajvFARXo7iCJrf1qzW3uC
         ScBNWsoiswQ0zbsQLn7DhMeuCcviDLzDYLzxZzunHVvTN0LZir5VhrMf0B1J5M08eg+Z
         dFYGxm23yeBzxMiYii4adchx3wuOSz0HlHCrC7TTu52zQwTtWfUOpgl98zikn505Cf0P
         afAg==
MIME-Version: 1.0
X-Received: by 10.194.171.1 with SMTP id aq1mr18553995wjc.38.1429399309279;
 Sat, 18 Apr 2015 16:21:49 -0700 (PDT)
Received: by 10.27.26.200 with HTTP; Sat, 18 Apr 2015 16:21:49 -0700 (PDT)
In-Reply-To: <mgrs3k$dab$1@ger.gmane.org>
References: <mgrs3k$dab$1@ger.gmane.org>
Date: Sat, 18 Apr 2015 18:21:49 -0500
Message-ID: <CALK=YjPMLSUZ5vcCZjmwQ3kSg8bXfpL=SZBGH=bHbuOYM4yAag@mail.gmail.com>
Subject: Re: Question about some examples in the doc
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Apr 17, 2015 at 3:57 PM, Christophe JAILLET
<christophe.jaillet@wanadoo.fr> wrote:
> So I think that the best fix would be just to remove the 2 Order...Allow...
> lines from the example, just as in the other example above it.


+1

-- 
Eric Covener
covener@gmail.com

From dev-return-82405-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Apr 19 07:15:16 2015
Return-Path: <dev-return-82405-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9E615175B3
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 19 Apr 2015 07:15:16 +0000 (UTC)
Received: (qmail 37905 invoked by uid 500); 19 Apr 2015 07:15:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 37832 invoked by uid 500); 19 Apr 2015 07:15:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 37823 invoked by uid 99); 19 Apr 2015 07:15:16 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 19 Apr 2015 07:15:16 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id ABF371A0234
	for <dev@httpd.apache.org>; Sun, 19 Apr 2015 07:15:15 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id 2D85460140; Sun, 19 Apr 2015 07:15:15 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2015/04/19]
Message-Id: <20150419071515.2D85460140@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 19 Apr 2015 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 7483|Ass|Enh|2002-03-26|Add FileAction directive to assign a cgi interpret|
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|12680|New|Enh|2002-09-16|Digest authentication with integrity protection   |
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|18497|New|Min|2003-03-30|configure --help gives wrong default for sysconfdi|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21253|New|Nor|2003-07-01|Mime magic doesn't continue if type is specifed fo|
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22138|Inf|Cri|2003-08-05|Webdav is not preccessing special chars right.    |
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Nor|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42001|New|Cri|2007-03-30|LINUX : Could not set LDAP_OPT_X_TLS to LDAP_OPT_X|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Opn|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|httpd fails to start if log directory does not exi|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43532|Inf|Cri|2007-10-02|Error while compiling Apache 2.2.3 on HPUX        |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44736|New|Cri|2008-04-01|mod_proxy_balancer looses it's mind on reloads.   |
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|New|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45926|Inf|Nor|2008-10-01|Unable to start apache 2.2.9                      |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46054|New|Nor|2008-10-21|Running httpd returns the error "bad user name nob|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46421|New|Maj|2008-12-19|module mod_authz_dbd - doesn't work when multiple |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Nor|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46724|Inf|Cri|2009-02-17|WinXP SP3 - Apache crashes on startup in libapr-1.|
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47241|New|Min|2009-05-22|Error in rewriting with character ':'             |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47289|New|Nor|2009-05-30|Can't build with dynamic libraries on Mac OS 10.4 |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|Inf|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48309|New|Maj|2009-11-30|libapreq2-2.12: "make test" fails at request.t and|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50740|New|Enh|2011-02-09|Enable OCSP Stapling by default                   |
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|New|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51412|New|Nor|2011-06-21|Nasty warning in ftp_cmd_pbsz() -- dangerous, wher|
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Nor|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51842|New|Enh|2011-09-18|Suggesting a new action for the Header directive: |
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52210|Opn|Enh|2011-11-18|Add TLS Next Protocol Negotiation (NPN) support to|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Enh|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52523|New|Nor|2012-01-25|Headers from mod_expires are wrongly set for redir|
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52756|Inf|Trv|2012-02-24|proxy_html_module LoadModule line not created in h|
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52820|New|Min|2012-03-04|SSLProtocol/SSLProxyProtocol doesn't iterate prope|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52831|New|Nor|2012-03-05|mod_rewrite redirect broken with IPv6 literal addr|
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52855|Opn|Maj|2012-03-08|mod_ftp does not build against 2.4.x              |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53121|New|Nor|2012-04-22|Confusing documentation, gzip and deflate         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53530|New|Nor|2012-07-10|<Directory> docs don't explain when to use quotes |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54364|New|Nor|2012-12-31|Add ref to mod_fcgid docs                         |
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54587|Opn|Nor|2013-02-19|LDAPConnectionPoolTimeout does not work in all cas|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55089|New|Nor|2013-06-10|Caching of LDAP credentials is not clearly documen|
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55100|New|Nor|2013-06-13|--with-perl referenced but not explained          |
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55147|New|Nor|2013-06-26|"Header always" w/ cache different in 2.4         |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55350|New|Maj|2013-08-03|mpm-itk and mod_fcgid do not work together        |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55420|New|Nor|2013-08-14|Integer underflow in lock timeout computation     |
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55449|New|Maj|2013-08-19|AH01185: worker slotmem_create failed --> slotmem |
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55808|New|Nor|2013-11-21|File integrity verification using MD5 and SHA1    |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|New|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55841|New|Nor|2013-12-04|Misleading news items on bugfix releases ("This ve|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55892|New|Nor|2013-12-16|ProxyRemote with HTTPS backend sends requests with|
|55897|New|Nor|2013-12-17|[PATCH]patch with SO_REUSEPORT support            |
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|Inf|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56035|Inf|Nor|2014-01-20|Issue with LimitRequestBody                       |
|56040|Inf|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56214|Inf|Nor|2014-03-03|Spanish translation of Apache's error pages       |
|56226|New|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56241|New|Min|2014-03-10|SNI sends warning upon name not found, RFC 6066 di|
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56414|Inf|Nor|2014-04-15|SNI & HTTP hostname different because of user@    |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56687|New|Nor|2014-07-01|ProxySourceAddress failed to bind socket to local |
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56729|New|Reg|2014-07-16|Can't use HTTP 1.1 Keep-Alive with mod_reqtimeout |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|New|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56823|New|Nor|2014-08-07|returning 200 status when ap_get_brigade failed   |
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56855|New|Enh|2014-08-14|mod_proxy_fcgi: add PassHeader directive          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56872|New|Nor|2014-08-19|Small request bodies bypass DeflateInflateLimitReq|
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56898|New|Nor|2014-08-28|Headers in err_headers_out are not returned when a|
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56925|New|Maj|2014-09-08|ProxyErrorOverride=On causes workers in error stat|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57109|New|Nor|2014-10-17|GPG verification examples are wrong               |
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57120|New|Nor|2014-10-21|Disable SSLv3 by default (POODLE)                 |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57139|New|Nor|2014-10-24|mod_proxy uses wrong Host header when using an HTT|
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57177|New|Nor|2014-11-03|terminated by signal ILL in server/scoreboard.c li|
|57207|New|Nor|2014-11-13|[mod_ssl] Add a way to retrieve email in alternati|
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|New|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57358|New|Nor|2014-12-17|Incorrect If-Match handling                       |
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57375|New|Enh|2014-12-19|Support LibreSSL as an alternative toolkit for mod|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Nor|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57524|New|Nor|2015-02-02|Opcode and other fields calculated wrong in mod_lu|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57531|New|Nor|2015-02-03|2.4.12 segmentation fault when accessing host on L|
|57584|Inf|Nor|2015-02-13|AddHandler etc. documentation "extension" unintuit|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57600|New|Nor|2015-02-18|Presence of SSLCACertificateFile/Path causes root |
|57615|Inf|Nor|2015-02-21|HTTPS CONNECT target hostname incorrectly validate|
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57694|New|Nor|2015-03-12|Crash using SSL certificate with pathlen constrain|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57778|New|Nor|2015-03-30|Effect of AddType should be documented in more det|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|New|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57816|New|Maj|2015-04-15|getting error server/util_pcre.c:137: undefined re|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
+-----+---+---+----------+--------------------------------------------------+
| Total 1499 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-82406-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Apr 19 15:55:22 2015
Return-Path: <dev-return-82406-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E9ADA17E2C
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 19 Apr 2015 15:55:22 +0000 (UTC)
Received: (qmail 79598 invoked by uid 500); 19 Apr 2015 15:55:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 79530 invoked by uid 500); 19 Apr 2015 15:55:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 79520 invoked by uid 99); 19 Apr 2015 15:55:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 19 Apr 2015 15:55:22 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=FREEMAIL_REPLY,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 19 Apr 2015 15:55:16 +0000
Received: from mail-oi0-f46.google.com (mail-oi0-f46.google.com [209.85.218.46])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id B856020D7D
	for <dev@httpd.apache.org>; Sun, 19 Apr 2015 15:54:56 +0000 (UTC)
Received: by oica37 with SMTP id a37so105092816oic.0
        for <dev@httpd.apache.org>; Sun, 19 Apr 2015 08:54:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=BK0lUgWCtScpjMjcOeTrXv68NojY0qf2ophkinq80+g=;
        b=cLvpTVpt0ZDfPc7O7Q+Jh8wR0zrFPRL5+tkygW5YRcO3Vz77q5TfatZU+88oQVg3To
         aza9/LXPZdA3afQKnrEo6Oan/7itPrXwL+O4eHreMHqR59eXkcbARM7eyxDDNvsjMPwP
         ScnlQpKRv8OSTtRnBZBGRiXiDIxkvNHW9zcR/BU2+KzyAAjpNw+vQ4qXMcy04e7GyPYt
         kL/a+4HAgWbyqq8hIk/weLfVAIFwcJ1bqsTQxAybTk0lkWYOBg2IKL7sYjFeaH1C+X4m
         1mViyzIDbgjhENTFWTCHGhQf649kCfieJsJ+QZuMVTecIEEg4ECH8etFe6Kz++xUalt9
         4Big==
MIME-Version: 1.0
X-Received: by 10.60.37.73 with SMTP id w9mr10859259oej.49.1429458896046; Sun,
 19 Apr 2015 08:54:56 -0700 (PDT)
Received: by 10.76.173.35 with HTTP; Sun, 19 Apr 2015 08:54:55 -0700 (PDT)
In-Reply-To: <CALK=YjMRuQOXHdww-xkOwQNFGZmPonZkF3xrDx-4d_OuwiA_+g@mail.gmail.com>
References: <A480E2DF-FA4A-40DE-BF74-20B50459A6D1@marc-hoersken.de>
	<CAKQ1sVOmAw4q=jYV9cWqjMTZB-MdadPNQY1phC+gOu9rb_5mXA@mail.gmail.com>
	<856DC4F6-CC40-442A-BB18-9BEA4A658459@marc-hoersken.de>
	<CALK=YjNnkEbR0E+Dmh+4ucc7L+S+PPLgp2qHp2gaau49KxfKyA@mail.gmail.com>
	<7BBB98BB-EF90-40A3-A428-FAA175EE9CDF@marc-hoersken.de>
	<CALK=YjPQfWeCN=a1-DB3L5zagQGTohwiw+YtxySzCYQ4+-e6NQ@mail.gmail.com>
	<71CFE936-6937-4F45-BAD6-0AA39FB146E5@marc-hoersken.de>
	<CB005100-7B3A-4902-9F12-968266BCAB23@marc-hoersken.de>
	<CAKQ1sVORYP1xfqrfCuY6UihJJCNguRkJD4Y2z0d9nyiobXgg3Q@mail.gmail.com>
	<CALK=YjMRuQOXHdww-xkOwQNFGZmPonZkF3xrDx-4d_OuwiA_+g@mail.gmail.com>
Date: Sun, 19 Apr 2015 17:54:55 +0200
Message-ID: <CAKQ1sVMxWuMz7TtivX-+mnFHOg41tst48vpOZ5Fvqsb69qrU=Q@mail.gmail.com>
Subject: Re: [users@httpd] Weird connection issues with mod_proxy_wstunnel
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Yes, that's better/more efficient (rfc 6455 mandates "Connection:
upgrade" though).
Thanks, commited in r1674632.

On Sun, Apr 19, 2015 at 1:17 AM, Eric Covener <covener@gmail.com> wrote:
> +1, but why not skip right to the Upgrade: websocket check?
>
> On Fri, Apr 17, 2015 at 4:26 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote=
:
>> Follow up to [1] based on users@ experience...
>>
>> On Fri, Apr 17, 2015 at 3:38 PM, Marc H=C3=B6rsken <info@marc-hoersken.d=
e> wrote:
>>>
>>> I just figured out the configuration issue causing my problem.
>>>
>>> Original configuration mod_proxy_wstunnel with SwampDragon:
>>>
>>> ProxyPass /data/ ws://127.0.0.1:9001/data/
>>> ProxyPassReverse /data/ ws://127.0.0.1:9001/data/
>>> ProxyPass /settings.js http://127.0.0.1:9001/settings.js
>>> ProxyPassReverse /settings.js http://127.0.0.1:9001/settings.js
>>> ProxyPreserveHost On
>>> ProxyRequests Off
>>> ProxyVia On
>>>
>>> The following configuration for mod_proxy_wstunnel with SwampDragon wor=
ks fine:
>>>
>>> ProxyPassMatch /data/(\d+)/(\w+)/websocket ws://127.0.0.1:9001/data/$1/=
$2/websocket
>>> ProxyPass /data/info http://127.0.0.1:9001/data/info
>>> ProxyPassReverse /data/info http://127.0.0.1:9001/data/info
>>> ProxyPass /settings.js http://127.0.0.1:9001/settings.js
>>> ProxyPassReverse /settings.js http://127.0.0.1:9001/settings.js
>>> ProxyPreserveHost On
>>> ProxyRequests Off
>>> ProxyVia On
>>>
>>> The issue was caused by the fact that /data/info is requested before a =
WebSocket-upgrade
>>> request to /data/(\d+)/(\w+)/websocket is performed. Because /data/info=
 was redirected to
>>> the WebSocket-server using the same rule as /data/(\d+)/(\w+)/websocket=
 before,
>>> mod_proxy_wstunnel continued to also forward all HTTP-traffic to the We=
bSocket-server.
>>>
>>
>> As already proposed in [1], shouldn't mod_proxy_wstunnel should
>> DECLINE[D] the request if it is not an "Upgrade: WebSocket" one?
>>
>> This could possibly simplify the configuration above to:
>>   ProxyPass / ws://127.0.0.1:9001/
>>   ProxyPass / http://127.0.0.1:9001/
>>
>> The patch would be something like:
>>
>> Index: modules/proxy/mod_proxy_wstunnel.c
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>> --- modules/proxy/mod_proxy_wstunnel.c    (revision 1665828)
>> +++ modules/proxy/mod_proxy_wstunnel.c    (working copy)
>> @@ -305,7 +320,7 @@ static int proxy_wstunnel_handler(request_rec *r,
>>      int status;
>>      char server_portstr[32];
>>      proxy_conn_rec *backend =3D NULL;
>> -    char *scheme;
>> +    const char *scheme, *upgrade;
>>      int retry;
>>      conn_rec *c =3D r->connection;
>>      apr_pool_t *p =3D r->pool;
>> @@ -324,6 +339,25 @@ static int proxy_wstunnel_handler(request_rec *r,
>>          return DECLINED;
>>      }
>>
>> +    upgrade =3D apr_table_get(r->headers_in, "Connection");
>> +    if (upgrade) {
>> +        if (strcasecmp(upgrade, "Upgrade") !=3D 0) {
>> +            upgrade =3D NULL;
>> +        }
>> +        else {
>> +            upgrade =3D apr_table_get(r->headers_in, "Upgrade");
>> +            if (upgrade && strcasecmp(upgrade, "WebSocket") !=3D 0) {
>> +                upgrade =3D NULL;
>> +            }
>> +        }
>> +    }
>> +    if (!upgrade) {
>> +        ap_log_rerror(APLOG_MARK, APLOG_DEBUG, 0, r,
>> +                      APLOGNO() "%s: declining URL %s (not WebSocket)",
>> +                      scheme, url);
>> +        return DECLINED;
>> +    }
>> +
>>      uri =3D apr_palloc(p, sizeof(*uri));
>>      ap_log_rerror(APLOG_MARK, APLOG_DEBUG, 0, r, APLOGNO(02451)
>> "serving URL %s", url);
>>
>> --
>>
>> [1] https://mail-archives.apache.org/mod_mbox/httpd-dev/201503.mbox/%3CC=
AKQ1sVPq-9cqS4zKvfwuC5Hi1mXZ=3DPkFUXrqSv2LexSNRzdJyw@mail.gmail.com%3E
>
>
>
> --
> Eric Covener
> covener@gmail.com

From dev-return-82407-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Apr 20 07:31:56 2015
Return-Path: <dev-return-82407-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AACC017BEA
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 20 Apr 2015 07:31:56 +0000 (UTC)
Received: (qmail 92578 invoked by uid 500); 20 Apr 2015 07:31:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92523 invoked by uid 500); 20 Apr 2015 07:31:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92508 invoked by uid 99); 20 Apr 2015 07:31:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Apr 2015 07:31:56 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Apr 2015 07:31:29 +0000
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id EA65A24A8C
	for <dev@httpd.apache.org>; Mon, 20 Apr 2015 07:31:27 +0000 (UTC)
Received: from int-mx09.intmail.prod.int.phx2.redhat.com (int-mx09.intmail.prod.int.phx2.redhat.com [10.5.11.22])
	by mx1.redhat.com (8.14.4/8.14.4) with ESMTP id t3K7TQ1q004664
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Mon, 20 Apr 2015 03:29:26 -0400
Received: from iberis (vpn-48-102.rdu2.redhat.com [10.10.48.102])
	by int-mx09.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t3K7TOuX011094
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=NO)
	for <dev@httpd.apache.org>; Mon, 20 Apr 2015 03:29:25 -0400
Received: from jorton by iberis with local (Exim 4.84)
	(envelope-from <jorton@redhat.com>)
	id 1Yk68y-0002Fe-9B
	for dev@httpd.apache.org; Mon, 20 Apr 2015 08:29:24 +0100
Date: Mon, 20 Apr 2015 08:29:24 +0100
From: Joe Orton <jorton@redhat.com>
To: dev@httpd.apache.org
Subject: Re: namespacing in mod_ssl
Message-ID: <20150420072923.GA7325@redhat.com>
Mail-Followup-To: dev@httpd.apache.org
References: <20150415163613.GC15209@fintan.stsp.name>
 <552F3D9C.7010401@velox.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Disposition: inline
In-Reply-To: <552F3D9C.7010401@velox.ch>
User-Agent: Mutt/1.5.23 (2014-03-12)
Organization: Registered in England and Wales under Company Registration No. 03798903
Directors: Michael Cunningham (US), Michael O'Neill (Ireland), Matt Parson (US), Charles Peters (US)
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.22
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Apr 16, 2015 at 06:42:04AM +0200, Kaspar Brand wrote:
> On 15.04.2015 18:36, Stefan Sperling wrote:
> > However, the actual issue here is that mod_ssl is squatting the SSL_ namespace.
> > Historically this may have made sense (it seems mod_ssl and OpenSSL have
> > shared history/authors). Bill Rowe suggested to try moving mod_ssl's
> > functions into the ap_ namespace to avoid such clashes in the future.
> 
> Agreed that mod_ssl should avoid stepping into the SSL_* yard. As
> pointed out by Jeff, ap_* is fairly foreign in the mod_ssl case, though,
> and my preference is for s/SSL_/ssl_/ for functions and
> s/SSL_/MODSSL_/ for constants (in the latter case, there's actually
> quite some more stuff lurking - SSL_OPT_*, SSL_PROTOCOL_* etc.).

It would be safer to go with a "modssl_" prefix for functions too, I've 
sometimes tried to use that for new things though probably not 
consistently.  OpenSSL's libssl.so does export symbols using the "ssl_" 
prefix, though they are probably all internal things which shouldn't be 
global.

Regards, Joe

From dev-return-82408-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Apr 20 12:41:23 2015
Return-Path: <dev-return-82408-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C6CB81788F
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 20 Apr 2015 12:41:22 +0000 (UTC)
Received: (qmail 16135 invoked by uid 500); 20 Apr 2015 12:41:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16073 invoked by uid 500); 20 Apr 2015 12:41:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16063 invoked by uid 99); 20 Apr 2015 12:41:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Apr 2015 12:41:22 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Apr 2015 12:40:57 +0000
Received: from mail-qc0-f182.google.com (mail-qc0-f182.google.com [209.85.216.182])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 7A9F920693
	for <dev@httpd.apache.org>; Mon, 20 Apr 2015 12:40:55 +0000 (UTC)
Received: by qcyk17 with SMTP id k17so57124749qcy.1
        for <dev@httpd.apache.org>; Mon, 20 Apr 2015 05:40:54 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:message-id:date:from:user-agent:mime-version:to
         :subject:content-type:content-transfer-encoding;
        bh=8WW+HASXquOuYnN3lck2s91NYizYKeA45uXFSr2yx3g=;
        b=fyWW53AHNMtaOYJXyYQZzBrgrvkdLKeVhUdFavtgGIi6PWT8iN7eN1N+pcY4I60BIM
         IVGrFJWYwdbSYr1iKu3PjupzpT05V0GnxllLyfFhR2q8gTw3IKIGXErKEP1PsOPwS6AK
         L8fCGsgKCR1ATXj4VBhDaJiDlXK0jGl6/S0wJ1kavBWlb1iTXre0M4T8U9fKP+yhOV66
         Oon9ykbx8l43tO/X+HZc7/KUHh68FDaylBKXBdUvbFc6cVS3s8GfdiD0jG11rEaq5MSc
         cw7RaDuL6e3XhTwFi93IDs+jTcZ3BhwNnvmWZKcQeqab2PY0B5Xrzv2qrx5/9Y+ziZE5
         aH+g==
X-Gm-Message-State: ALoCoQlc53ngIkX5huBW5tHyDYx8vRSlDQTULTao+/Opn3Np1x+WvOZ0yD8DdrySDDXqxlXtzo8I
X-Received: by 10.140.133.18 with SMTP id 18mr17614560qhf.84.1429533654454;
        Mon, 20 Apr 2015 05:40:54 -0700 (PDT)
Received: from localhost.localdomain (cpe-74-138-23-246.kya.res.rr.com. [74.138.23.246])
        by mx.google.com with ESMTPSA id m134sm4557209qhb.30.2015.04.20.05.40.52
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Mon, 20 Apr 2015 05:40:53 -0700 (PDT)
Message-ID: <5534F3D2.6080508@rcbowen.com>
Date: Mon, 20 Apr 2015 08:40:50 -0400
From: Rich Bowen <rbowen@rcbowen.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org, users@httpd.apache.org
Subject: Happy 20th Birthday, httpd
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

For those that missed ApacheCon last week in Austin, I wanted to share a 
few things.

This year marks the 20th birthday of the Apache httpd project (or late 
last year, depending on how you count) and so we had a little 
celebration. The feather that was made for the Apache conference in 1998 
- https://www.flickr.com/photos/iamamoose/63963722/ - was at ApacheCon, 
and we tried to stage the same photo again, as much as was possible: 
https://plus.google.com/u/0/+RichBowen/posts/Gfs1Ek6MWqu

We also took pictures with all of the httpd committers who were present 
(although I expect we missed a few people.) : 
https://www.flickr.com/photos/rbowen/sets/72157651553317030/

And, we had a birthday cake

https://www.flickr.com/photos/linuxfoundation/17157208981/

https://www.flickr.com/photos/linuxfoundation/16537678153/

There's lots more ApacheCon photos here: 
https://www.flickr.com/photos/linuxfoundation/sets/72157651931911042

We're very proud of what we've accomplished over the last 20 years, and 
I'm pretty excited about the next 20. Thank you, every one of you, for 
being part of this journey, whether you've been here one day or the 
whole 20 years.

-- 
Rich Bowen - rbowen@rcbowen.com - @rbowen
http://apachecon.com/ - @apachecon

From dev-return-82409-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Apr 20 13:11:10 2015
Return-Path: <dev-return-82409-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4B18F179A9
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 20 Apr 2015 13:11:10 +0000 (UTC)
Received: (qmail 97510 invoked by uid 500); 20 Apr 2015 13:11:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97435 invoked by uid 500); 20 Apr 2015 13:11:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97425 invoked by uid 99); 20 Apr 2015 13:11:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Apr 2015 13:11:09 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Apr 2015 13:10:43 +0000
Received: from gungnir.webthing.com (209-20-83-52.slicehost.net [209.20.83.52])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 40E7325F27
	for <dev@httpd.apache.org>; Mon, 20 Apr 2015 13:10:42 +0000 (UTC)
Received: from baldur (cpc14-newt30-2-0-cust22.newt.cable.virginm.net [92.232.45.23])
	by gungnir.webthing.com (Postfix) with ESMTPSA id 4796B1282DC
	for <dev@httpd.apache.org>; Mon, 20 Apr 2015 13:10:41 +0000 (UTC)
Date: Mon, 20 Apr 2015 14:10:37 +0100
From: Nick Kew <nick@webthing.com>
To: dev@httpd.apache.org
Subject: Re: Happy 20th Birthday, httpd
Message-ID: <20150420141037.4c84b8f9@baldur>
In-Reply-To: <5534F3D2.6080508@rcbowen.com>
References: <5534F3D2.6080508@rcbowen.com>
X-Mailer: Claws Mail 3.7.4 (GTK+ 2.20.1; i486-pc-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, 20 Apr 2015 08:40:50 -0400
Rich Bowen <rbowen@rcbowen.com> wrote:

> For those that missed ApacheCon last week in Austin, I wanted to share a 
> few things.
> 
> This year marks the 20th birthday of the Apache httpd project

Pedantic point.  Not exactly.  The Apache HTTPD project came into
being with the ASF.  The project born in 1995 was a web server
just called "Apache".

OK, I guess you're right.  It's just the difference between
a maiden name and taking on your master's name ;)

-- 
Nick Kew

From dev-return-82410-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Apr 20 15:20:44 2015
Return-Path: <dev-return-82410-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 826DF1745B
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 20 Apr 2015 15:20:44 +0000 (UTC)
Received: (qmail 80601 invoked by uid 500); 20 Apr 2015 15:20:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 80507 invoked by uid 500); 20 Apr 2015 15:20:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 80492 invoked by uid 99); 20 Apr 2015 15:20:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Apr 2015 15:20:41 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Apr 2015 15:20:33 +0000
Received: from userp1040.oracle.com (userp1040.oracle.com [156.151.31.81])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id B424543E9C
	for <dev@httpd.apache.org>; Mon, 20 Apr 2015 15:20:12 +0000 (UTC)
Received: from userv0022.oracle.com (userv0022.oracle.com [156.151.31.74])
	by userp1040.oracle.com (Sentrion-MTA-4.3.2/Sentrion-MTA-4.3.2) with ESMTP id t3KFJBfJ024224
	(version=TLSv1 cipher=DHE-RSA-AES256-SHA bits=256 verify=OK)
	for <dev@httpd.apache.org>; Mon, 20 Apr 2015 15:19:12 GMT
Received: from userv0121.oracle.com (userv0121.oracle.com [156.151.31.72])
	by userv0022.oracle.com (8.13.8/8.13.8) with ESMTP id t3KFJBkn010430
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Mon, 20 Apr 2015 15:19:11 GMT
Received: from abhmp0012.oracle.com (abhmp0012.oracle.com [141.146.116.18])
	by userv0121.oracle.com (8.13.8/8.13.8) with ESMTP id t3KFJBgm000587
	for <dev@httpd.apache.org>; Mon, 20 Apr 2015 15:19:11 GMT
Received: from [10.163.20.248] (/10.163.20.248)
	by default (Oracle Beehive Gateway v4.0)
	with ESMTP ; Mon, 20 Apr 2015 08:19:11 -0700
Message-ID: <553518E3.7020203@oracle.com>
Date: Mon, 20 Apr 2015 17:18:59 +0200
From: Petr Sumbera <petr.sumbera@oracle.com>
User-Agent: Mozilla/5.0 (X11; SunOS i86pc; rv:17.0) Gecko/20150328 Thunderbird/17.0.11
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Disabling SSLv3 by default (Bug 57120)
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Source-IP: userv0022.oracle.com [156.151.31.74]
X-Virus-Checked: Checked by ClamAV on apache.org

Hi guys,

can we have some discussion on what is plan for this bug?

https://bz.apache.org/bugzilla/show_bug.cgi?id=57120

Thanks,

Petr

From dev-return-82411-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Apr 20 23:25:14 2015
Return-Path: <dev-return-82411-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EC782175CE
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 20 Apr 2015 23:25:14 +0000 (UTC)
Received: (qmail 88999 invoked by uid 500); 20 Apr 2015 23:25:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 88928 invoked by uid 500); 20 Apr 2015 23:25:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 88917 invoked by uid 99); 20 Apr 2015 23:25:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Apr 2015 23:25:14 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Apr 2015 23:24:45 +0000
Received: from mail-ig0-f175.google.com (mail-ig0-f175.google.com [209.85.213.175])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id C626025F10
	for <dev@httpd.apache.org>; Mon, 20 Apr 2015 23:24:38 +0000 (UTC)
Received: by igbhj9 with SMTP id hj9so2001123igb.1
        for <dev@httpd.apache.org>; Mon, 20 Apr 2015 16:24:37 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=SVU80qnmj+3MFzBnxx08CPKLqX0f/YzXyEgoXUamAFk=;
        b=gkRXUsw7+PUnF/+5lZqHFM6hFYwYsIDm7oUs9FIcMip1xmaPB3My/G6vdwN5ScEXeJ
         nvCqeBLRPTbnlazJ8WcMJDCNLTU2uOIhP2iz25C1VjWVlzes7ykPrJXY/0/j+V+0GElw
         YUb2MNhkGXU1OkZBZ0kAybaXxI9X8VgU4VNha9+YI8NpNT5PU5/ALi3CrUfc3rF6TLc+
         w8NfD/wqbJdI6d2UOvOiovZysiec/e56M1Ft8YJ16PiGYVdp9aR3tF4I8uFIGJHcaJYc
         NSROuB0mWxYoU89ZGW51tXZ4Pm+/jiS9DIii8N7TS5jhbygT5rxSzLcR/WfFLxttHuBY
         tDSA==
X-Gm-Message-State: ALoCoQk+YpT1UYf/nayYS2BGAQOgdxNmmxciEmxpyFijPHYVRaup+sPzwVxcfP2LaIo2PXYZgxXE
MIME-Version: 1.0
X-Received: by 10.107.12.158 with SMTP id 30mr24479944iom.61.1429572277771;
 Mon, 20 Apr 2015 16:24:37 -0700 (PDT)
Received: by 10.107.136.17 with HTTP; Mon, 20 Apr 2015 16:24:37 -0700 (PDT)
X-Originating-IP: [70.194.128.199]
Received: by 10.107.136.17 with HTTP; Mon, 20 Apr 2015 16:24:37 -0700 (PDT)
In-Reply-To: <20150420072923.GA7325@redhat.com>
References: <20150415163613.GC15209@fintan.stsp.name>
	<552F3D9C.7010401@velox.ch>
	<20150420072923.GA7325@redhat.com>
Date: Mon, 20 Apr 2015 18:24:37 -0500
Message-ID: <CACsi251ornNjHLbKOPwXJ8q2ixEJ5hbBOZ5qbHCjddGhWg3AgQ@mail.gmail.com>
Subject: Re: namespacing in mod_ssl
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a113dc818cc3b850514303b34
X-Virus-Checked: Checked by ClamAV on apache.org

--001a113dc818cc3b850514303b34
Content-Type: text/plain; charset=UTF-8

On Apr 20, 2015 2:32 AM, "Joe Orton" <jorton@redhat.com> wrote:
>
> On Thu, Apr 16, 2015 at 06:42:04AM +0200, Kaspar Brand wrote:
> > On 15.04.2015 18:36, Stefan Sperling wrote:
> > > However, the actual issue here is that mod_ssl is squatting the SSL_
namespace.
> > > Historically this may have made sense (it seems mod_ssl and OpenSSL
have
> > > shared history/authors). Bill Rowe suggested to try moving mod_ssl's
> > > functions into the ap_ namespace to avoid such clashes in the future.
> >
> > Agreed that mod_ssl should avoid stepping into the SSL_* yard. As
> > pointed out by Jeff, ap_* is fairly foreign in the mod_ssl case, though,
> > and my preference is for s/SSL_/ssl_/ for functions and
> > s/SSL_/MODSSL_/ for constants (in the latter case, there's actually
> > quite some more stuff lurking - SSL_OPT_*, SSL_PROTOCOL_* etc.).
>
> It would be safer to go with a "modssl_" prefix for functions too, I've
> sometimes tried to use that for new things though probably not
> consistently.  OpenSSL's libssl.so does export symbols using the "ssl_"
> prefix, though they are probably all internal things which shouldn't be
> global.

I concur, but can we quit playing fetch me a rock?

modssl_*() namespace?  Final answer?

+1 here to either ssl_ or modssl_

--001a113dc818cc3b850514303b34
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">On Apr 20, 2015 2:32 AM, &quot;Joe Orton&quot; &lt;<a href=
=3D"mailto:jorton@redhat.com">jorton@redhat.com</a>&gt; wrote:<br>
&gt;<br>
&gt; On Thu, Apr 16, 2015 at 06:42:04AM +0200, Kaspar Brand wrote:<br>
&gt; &gt; On 15.04.2015 18:36, Stefan Sperling wrote:<br>
&gt; &gt; &gt; However, the actual issue here is that mod_ssl is squatting =
the SSL_ namespace.<br>
&gt; &gt; &gt; Historically this may have made sense (it seems mod_ssl and =
OpenSSL have<br>
&gt; &gt; &gt; shared history/authors). Bill Rowe suggested to try moving m=
od_ssl&#39;s<br>
&gt; &gt; &gt; functions into the ap_ namespace to avoid such clashes in th=
e future.<br>
&gt; &gt;<br>
&gt; &gt; Agreed that mod_ssl should avoid stepping into the SSL_* yard. As=
<br>
&gt; &gt; pointed out by Jeff, ap_* is fairly foreign in the mod_ssl case, =
though,<br>
&gt; &gt; and my preference is for s/SSL_/ssl_/ for functions and<br>
&gt; &gt; s/SSL_/MODSSL_/ for constants (in the latter case, there&#39;s ac=
tually<br>
&gt; &gt; quite some more stuff lurking - SSL_OPT_*, SSL_PROTOCOL_* etc.).<=
br>
&gt;<br>
&gt; It would be safer to go with a &quot;modssl_&quot; prefix for function=
s too, I&#39;ve<br>
&gt; sometimes tried to use that for new things though probably not<br>
&gt; consistently.=C2=A0 OpenSSL&#39;s libssl.so does export symbols using =
the &quot;ssl_&quot;<br>
&gt; prefix, though they are probably all internal things which shouldn&#39=
;t be<br>
&gt; global.</p>
<p dir=3D"ltr">I concur, but can we quit playing fetch me a rock?</p>
<p dir=3D"ltr">modssl_*() namespace?=C2=A0 Final answer?</p>
<p dir=3D"ltr">+1 here to either ssl_ or modssl_</p>

--001a113dc818cc3b850514303b34--

From dev-return-82412-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 21 10:21:26 2015
Return-Path: <dev-return-82412-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ECAB617E97
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 21 Apr 2015 10:21:26 +0000 (UTC)
Received: (qmail 6634 invoked by uid 500); 21 Apr 2015 10:21:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6541 invoked by uid 500); 21 Apr 2015 10:21:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6526 invoked by uid 99); 21 Apr 2015 10:21:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Apr 2015 10:21:26 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Apr 2015 10:21:19 +0000
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 0259E43E99
	for <dev@httpd.apache.org>; Tue, 21 Apr 2015 10:20:58 +0000 (UTC)
Received: from int-mx11.intmail.prod.int.phx2.redhat.com (int-mx11.intmail.prod.int.phx2.redhat.com [10.5.11.24])
	by mx1.redhat.com (Postfix) with ESMTPS id 053C38F011
	for <dev@httpd.apache.org>; Tue, 21 Apr 2015 10:20:57 +0000 (UTC)
Received: from dhcp-24-191.brq.redhat.com (ovpn-204-22.brq.redhat.com [10.40.204.22])
	by int-mx11.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t3LAKuSE018922
	for <dev@httpd.apache.org>; Tue, 21 Apr 2015 06:20:57 -0400
Message-ID: <55362488.6060208@redhat.com>
Date: Tue, 21 Apr 2015 12:20:56 +0200
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.5.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: SSLDisableCRLCaching, is it even possible in 2.4.x?
Content-Type: multipart/mixed;
 boundary="------------060203010104030107040801"
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.24
X-Virus-Checked: Checked by ClamAV on apache.org

This is a multi-part message in MIME format.
--------------060203010104030107040801
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi,

we used to have a patch against httpd-2.2.15 to add SSLDisableCRLCaching 
option to not cache CRLs. I was trying to adapt this patch for 
httpd-trunk and eventually include it upstream but now I'm in dead end.

The patch removes all the CRLs from the per-server_rec OpenSSL cache 
created in ssl_init_ctx_crl (OpenSSL caches the CRLs in 
X509_store.objs). This all works properly, but I'm thinking about 
thread-safety.

The theoretical problem can happen when something gets the pointer to 
CRL from the cache, my code removes the CRL from the cache and deletes 
it and the original code starts using the pointer, which is now pointing 
to deleted object.

I have seen X509_OBJECT.references variable, which could help me a lot 
here (I could just decrease the refcount instead of deleting), but it 
seems this is not used anywhere in OpenSSL, so it's actually useless. 
Does anyone know if that's really true or I'm just missing something?

I'm looking for someone to review that code (maybe I'm not right with 
the thread-safety problem) or advise me the way to move further (if 
there's any).

Thanks,
Jan Kaluza

--------------060203010104030107040801
Content-Type: application/x-download;
 name="httpd-trunk-disable-crl.patch"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
 filename="httpd-trunk-disable-crl.patch"

SW5kZXg6IG1vZHVsZXMvc3NsL21vZF9zc2wuYwo9PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVz
L3NzbC9tb2Rfc3NsLmMJKHJldmlzaW9uIDE2NzQyMjEpCisrKyBtb2R1bGVzL3NzbC9tb2Rf
c3NsLmMJKHdvcmtpbmcgY29weSkKQEAgLTE1Nyw2ICsxNTcsOCBAQAogICAgICAgICAgICAg
ICAgICJTZXQgdXNlciBuYW1lIHRvIFNTTCB2YXJpYWJsZSB2YWx1ZSIpCiAgICAgU1NMX0NN
RF9TUlYoU3RyaWN0U05JVkhvc3RDaGVjaywgRkxBRywKICAgICAgICAgICAgICAgICAiU3Ry
aWN0IFNOSSB2aXJ0dWFsIGhvc3QgY2hlY2tpbmciKQorICAgIFNTTF9DTURfQUxMKERpc2Fi
bGVDUkxDYWNoaW5nLCBGTEFHLAorICAgICAgICAgICAgICAgICJEaXNhYmxlICgnb24nKSBv
ciBlbmFibGUgKGRlZmF1bHQsICdvZmYnKSBDUkwgY2FjaGluZyIpCiAKICNpZmRlZiBIQVZF
X1NSUAogICAgIFNTTF9DTURfU1JWKFNSUFZlcmlmaWVyRmlsZSwgVEFLRTEsCkluZGV4OiBt
b2R1bGVzL3NzbC9zc2xfZW5naW5lX2NvbmZpZy5jCj09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVs
ZXMvc3NsL3NzbF9lbmdpbmVfY29uZmlnLmMJKHJldmlzaW9uIDE2NzQyMjEpCisrKyBtb2R1
bGVzL3NzbC9zc2xfZW5naW5lX2NvbmZpZy5jCSh3b3JraW5nIGNvcHkpCkBAIC0yMTQsNiAr
MjE0LDcgQEAKICAgICBzYy0+c2Vzc2lvbl9jYWNoZV90aW1lb3V0ICA9IFVOU0VUOwogICAg
IHNjLT5jaXBoZXJfc2VydmVyX3ByZWYgICAgID0gVU5TRVQ7CiAgICAgc2MtPmluc2VjdXJl
X3JlbmVnICAgICAgICAgPSBVTlNFVDsKKyAgICBzYy0+ZGlzYWJsZV9jcmxfY2FjaGluZyAg
ICA9IFVOU0VUOwogICAgIHNjLT5wcm94eV9zc2xfY2hlY2tfcGVlcl9leHBpcmUgPSBTU0xf
RU5BQkxFRF9VTlNFVDsKICAgICBzYy0+cHJveHlfc3NsX2NoZWNrX3BlZXJfY24gICAgID0g
U1NMX0VOQUJMRURfVU5TRVQ7CiAgICAgc2MtPnByb3h5X3NzbF9jaGVja19wZWVyX25hbWUg
ICA9IFNTTF9FTkFCTEVEX1VOU0VUOwpAQCAtMzU3LDYgKzM1OCw3IEBACiAgICAgY2ZnTWVy
Z2VJbnQoc2Vzc2lvbl9jYWNoZV90aW1lb3V0KTsKICAgICBjZmdNZXJnZUJvb2woY2lwaGVy
X3NlcnZlcl9wcmVmKTsKICAgICBjZmdNZXJnZUJvb2woaW5zZWN1cmVfcmVuZWcpOworICAg
IGNmZ01lcmdlQm9vbChkaXNhYmxlX2NybF9jYWNoaW5nKTsKICAgICBjZmdNZXJnZShwcm94
eV9zc2xfY2hlY2tfcGVlcl9leHBpcmUsIFNTTF9FTkFCTEVEX1VOU0VUKTsKICAgICBjZmdN
ZXJnZShwcm94eV9zc2xfY2hlY2tfcGVlcl9jbiwgU1NMX0VOQUJMRURfVU5TRVQpOwogICAg
IGNmZ01lcmdlKHByb3h5X3NzbF9jaGVja19wZWVyX25hbWUsIFNTTF9FTkFCTEVEX1VOU0VU
KTsKQEAgLTEzNzIsNiArMTM3NCwxNSBAQAogICAgIHJldHVybiBzc2xfY21kX3Byb3RvY29s
X3BhcnNlKGNtZCwgYXJnLCAmc2MtPnNlcnZlci0+cHJvdG9jb2wpOwogfQogCitjb25zdCBj
aGFyICpzc2xfY21kX1NTTERpc2FibGVDUkxDYWNoaW5nKGNtZF9wYXJtcyAqY21kLCB2b2lk
ICpkY2ZnLCBpbnQgZmxhZykKK3sKKyAgICBTU0xTcnZDb25maWdSZWMgKnNjID0gbXlTcnZD
b25maWcoY21kLT5zZXJ2ZXIpOworCisgICAgc2MtPmRpc2FibGVfY3JsX2NhY2hpbmcgPSBm
bGFnID8gVFJVRSA6IEZBTFNFOworCisgICAgcmV0dXJuIE5VTEw7Cit9CisKIGNvbnN0IGNo
YXIgKnNzbF9jbWRfU1NMUHJveHlFbmdpbmUoY21kX3Bhcm1zICpjbWQsIHZvaWQgKmRjZmcs
IGludCBmbGFnKQogewogICAgIFNTTFNydkNvbmZpZ1JlYyAqc2MgPSBteVNydkNvbmZpZyhj
bWQtPnNlcnZlcik7CkluZGV4OiBtb2R1bGVzL3NzbC9zc2xfZW5naW5lX2tlcm5lbC5jCj09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT0KLS0tIG1vZHVsZXMvc3NsL3NzbF9lbmdpbmVfa2VybmVsLmMJKHJldmlz
aW9uIDE2NzQyMjEpCisrKyBtb2R1bGVzL3NzbC9zc2xfZW5naW5lX2tlcm5lbC5jCSh3b3Jr
aW5nIGNvcHkpCkBAIC0xMzc1LDYgKzEzNzUsMzUgQEAKICAgICByZXR1cm4gbW9kc3NsX2dl
dF9kaF9wYXJhbXMoa2V5bGVuKTsKIH0KIAorc3RhdGljIHZvaWQgY2xlYW51cF9jcmxfY2Fj
aGUoWDUwOV9TVE9SRV9DVFggKmN0eCkKK3sKKyAgICBTVEFDS19PRihYNTA5X09CSkVDVCkg
KnN0ID0gY3R4LT5jdHgtPm9ianM7CisgICAgWDUwOV9PQkpFQ1QgKmE7CisgICAgaW50IGk7
CisKKyAgICBpZiAoc3QgPT0gTlVMTCkgeworICAgICAgICByZXR1cm47CisgICAgfQorCisg
ICAgQ1JZUFRPX3dfbG9jayhDUllQVE9fTE9DS19YNTA5X1NUT1JFKTsKKyAgICAKKyAgICBm
b3IgKGkgPSAwIDsgaSA8IHN0LT5zdGFjay5udW07IGkrKykgeworICAgICAgICBhID0gKFg1
MDlfT0JKRUNUICopIHN0LT5zdGFjay5kYXRhW2ldOworICAgICAgICBpZiAoYSAhPSBOVUxM
ICYmIGEtPnR5cGUgPT0gWDUwOV9MVV9DUkwpIHsKKyAgICAgICAgICAgIFg1MDlfT0JKRUNU
X2ZyZWVfY29udGVudHMoYSk7CisgICAgICAgICAgICBPUEVOU1NMX2ZyZWUoYSk7CisgICAg
ICAgICAgICBza19YNTA5X09CSkVDVF9kZWxldGUoc3QsIGkpOworICAgICAgICAgICAgLyog
c2tfWDUwOV9PQkpFQ1RfZGVsZXRlIHJlbW92ZXMgY3VycmVudCAnaS10aCcgb2JqZWN0LAor
ICAgICAgICAgICAgICogaSBub3cgcG9pbnRzIHRvIG5leHQgb2JqZWN0IGFuZCBieSBpbmNy
ZW1lbnRpbmcgaXQgaW4gdGhlCisgICAgICAgICAgICAgKiBmb3IgY3ljbGUsIHdlIHdvdWxk
IHNraXAgb25lIGl0ZW0uIERlY3JlYXNlIGl0IHRvIG1pdGlnaWF0ZQorICAgICAgICAgICAg
ICogaXQuICovCisgICAgICAgICAgICBpLS07CisgICAgICAgIH0KKyAgICB9CisKKyAgICBD
UllQVE9fd191bmxvY2soQ1JZUFRPX0xPQ0tfWDUwOV9TVE9SRSk7Cit9CisKIC8qCiAgKiBU
aGlzIE9wZW5TU0wgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gT3BlblNTTAog
ICogZG9lcyBjbGllbnQgYXV0aGVudGljYXRpb24gYW5kIHZlcmlmaWVzIHRoZSBjZXJ0aWZp
Y2F0ZSBjaGFpbi4KQEAgLTE1MjcsNiArMTU1NiwxMSBAQAogICAgICAgICBvayA9IEZBTFNF
OwogICAgIH0KIAorICAgIGlmIChzYy0+ZGlzYWJsZV9jcmxfY2FjaGluZyA9PSBUUlVFIAor
ICAgICAgICAmJiAobWN0eC0+Y3JsX2ZpbGUgIT0gTlVMTCB8fCBtY3R4LT5jcmxfcGF0aCAh
PSBOVUxMKSkgeworICAgICAgICBjbGVhbnVwX2NybF9jYWNoZShjdHgpOworICAgIH0KKwog
ICAgIC8qCiAgICAgICogQW5kIGZpbmFsbHkgc2lnbmFsIE9wZW5TU0wgdGhlIChwZXJoYXBz
IGNoYW5nZWQpIHN0YXRlCiAgICAgICovCkluZGV4OiBtb2R1bGVzL3NzbC9zc2xfcHJpdmF0
ZS5oCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvc3NsL3NzbF9wcml2YXRlLmgJKHJldmlz
aW9uIDE2NzQyMjEpCisrKyBtb2R1bGVzL3NzbC9zc2xfcHJpdmF0ZS5oCSh3b3JraW5nIGNv
cHkpCkBAIC02NzAsNiArNjcwLDcgQEAKICAgICBCT09MICAgICAgICAgICAgIGNvbXByZXNz
aW9uOwogI2VuZGlmCiAgICAgQk9PTCAgICAgICAgICAgICBzZXNzaW9uX3RpY2tldHM7Cisg
ICAgQk9PTCAgICAgICAgICAgICBkaXNhYmxlX2NybF9jYWNoaW5nOwogfTsKIAogLyoqCkBA
IC03MzUsNiArNzM2LDcgQEAKIGNvbnN0IGNoYXIgICpzc2xfY21kX1NTTFJlcXVpcmUoY21k
X3Bhcm1zICosIHZvaWQgKiwgY29uc3QgY2hhciAqKTsKIGNvbnN0IGNoYXIgICpzc2xfY21k
X1NTTFVzZXJOYW1lKGNtZF9wYXJtcyAqLCB2b2lkICosIGNvbnN0IGNoYXIgKik7CiBjb25z
dCBjaGFyICAqc3NsX2NtZF9TU0xSZW5lZ0J1ZmZlclNpemUoY21kX3Bhcm1zICpjbWQsIHZv
aWQgKmRjZmcsIGNvbnN0IGNoYXIgKmFyZyk7Citjb25zdCBjaGFyICAqc3NsX2NtZF9TU0xE
aXNhYmxlQ1JMQ2FjaGluZyhjbWRfcGFybXMgKmNtZCwgdm9pZCAqZGNmZywgaW50IGZsYWcp
OwogY29uc3QgY2hhciAgKnNzbF9jbWRfU1NMU3RyaWN0U05JVkhvc3RDaGVjayhjbWRfcGFy
bXMgKmNtZCwgdm9pZCAqZGNmZywgaW50IGZsYWcpOwogY29uc3QgY2hhciAqc3NsX2NtZF9T
U0xJbnNlY3VyZVJlbmVnb3RpYXRpb24oY21kX3Bhcm1zICpjbWQsIHZvaWQgKmRjZmcsIGlu
dCBmbGFnKTsKIAo=
--------------060203010104030107040801--

From dev-return-82413-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 21 13:56:36 2015
Return-Path: <dev-return-82413-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 934EB17A94
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 21 Apr 2015 13:56:36 +0000 (UTC)
Received: (qmail 188 invoked by uid 500); 21 Apr 2015 13:56:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 109 invoked by uid 500); 21 Apr 2015 13:56:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 99998 invoked by uid 99); 21 Apr 2015 13:56:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Apr 2015 13:56:36 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Apr 2015 13:56:09 +0000
Received: from resqmta-ch2-08v.sys.comcast.net (resqmta-ch2-08v.sys.comcast.net [69.252.207.40])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 81E1C25F64
	for <dev@httpd.apache.org>; Tue, 21 Apr 2015 13:55:47 +0000 (UTC)
Received: from resomta-ch2-17v.sys.comcast.net ([69.252.207.113])
	by resqmta-ch2-08v.sys.comcast.net with comcast
	id Jdur1q0022TL4Rh01dvfTa; Tue, 21 Apr 2015 13:55:39 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-17v.sys.comcast.net with comcast
	id Jdvf1q0041cCKD901dvfEq; Tue, 21 Apr 2015 13:55:39 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: Version check idea
Message-Id: <7C89CDBA-B463-415F-82DA-DDD6AD88C38E@jaguNET.com>
Date: Tue, 21 Apr 2015 09:55:38 -0400
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1429624539;
	bh=rJCV4d43f4munumW2yQGM/9gffbzAfL1eG2KT37+aZQ=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=eMH/4N4wBVNDR8L1YYD8/DZ7ppw+o5mk4Of6duut0GWnglfGkNrkU/8Czqxhdhw0l
	 q/J8SFNFTiDBUt3zHAfjSoAj+JWmyGj3Fw1RAUs3jDA4r9mjWBVUComEJdgOQ74pkR
	 ZRGYMur94DdUMRKBcCC1jAJndS+pCycetfEZdwYDgjIlvwKT1tsnbLjbpIDQbz+C5t
	 K/QBGs+vMeSQhYbv/mDULUYn7uJ/B+17SgZicFf0QrspqvF51ppeafRJFwhz5id3xM
	 KwWZS5Iw7n/vpeo5STG6sSWvbAs8jYZ0WDg86j9eoQoS1GPejAPuVcmZKEpjNKw855
	 iDet+p0QUfyNw==
X-Virus-Checked: Checked by ClamAV on apache.org

For comment: What do people think about adding the capability that
when httpd is started, it tries to access http://httpd.apache.org/doap.rdf
to check its version number with the latest one referred to in that
file and, if a newer one exists, it prints out a little message
in the error.log (or stderr)...


From dev-return-82414-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 21 14:02:14 2015
Return-Path: <dev-return-82414-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ED08517AF8
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 21 Apr 2015 14:02:13 +0000 (UTC)
Received: (qmail 32764 invoked by uid 500); 21 Apr 2015 14:02:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32690 invoked by uid 500); 21 Apr 2015 14:02:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32680 invoked by uid 99); 21 Apr 2015 14:02:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Apr 2015 14:02:13 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: unknown (nike.apache.org: error in processing during lookup of dirkx@webweaving.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Apr 2015 14:01:47 +0000
Received: from weser.webweaving.org (weser.webweaving.org [148.251.234.232])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id C766E25F6A
	for <dev@httpd.apache.org>; Tue, 21 Apr 2015 14:01:28 +0000 (UTC)
Received: from [10.11.0.122] (5ED29D98.cm-7-3c.dynamic.ziggo.nl [94.210.157.152])
	(authenticated bits=0)
	by weser.webweaving.org (8.14.9/8.14.9) with ESMTP id t3LE05bd025625
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Tue, 21 Apr 2015 16:00:07 +0200 (CEST)
	(envelope-from dirkx@webweaving.org)
X-Authentication-Warning: weser.webweaving.org: Host 5ED29D98.cm-7-3c.dynamic.ziggo.nl [94.210.157.152] claimed to be [10.11.0.122]
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: Version check idea
From: Dirk-Willem van Gulik <dirkx@webweaving.org>
In-Reply-To: <7C89CDBA-B463-415F-82DA-DDD6AD88C38E@jaguNET.com>
Date: Tue, 21 Apr 2015 16:00:05 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <4F48CE8C-EE46-49DB-9B14-4C833BC533FF@webweaving.org>
References: <7C89CDBA-B463-415F-82DA-DDD6AD88C38E@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
X-Greylist: Sender succeeded SMTP AUTH, not delayed by milter-greylist-4.4.3 (weser.webweaving.org [148.251.234.232]); Tue, 21 Apr 2015 16:00:07 +0200 (CEST)
X-Virus-Checked: Checked by ClamAV on apache.org

On 21 Apr 2015, at 15:55, Jim Jagielski <jim@jaguNET.com> wrote:

> For comment: What do people think about adding the capability that
> when httpd is started, it tries to access =
http://httpd.apache.org/doap.rdf
> to check its version number with the latest one referred to in that
> file and, if a newer one exists, it prints out a little message
> in the error.log (or stderr)=E2=80=A6

First reaction - Eek && Evil ! Breaks about every assumption I have =
about well defined unix programmes.

However if it where something like =E2=80=98httpd C / --configcheck=E2=80=99=
 or similarily for apachectl then I could easily image that to be rather =
useful.

Dw.=

From dev-return-82415-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 21 14:14:20 2015
Return-Path: <dev-return-82415-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 15DA117B94
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 21 Apr 2015 14:14:19 +0000 (UTC)
Received: (qmail 84488 invoked by uid 500); 21 Apr 2015 14:14:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84413 invoked by uid 500); 21 Apr 2015 14:14:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84403 invoked by uid 99); 21 Apr 2015 14:14:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Apr 2015 14:14:19 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Apr 2015 14:14:12 +0000
Received: from mail-qg0-f49.google.com (mail-qg0-f49.google.com [209.85.192.49])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id A949C43E91
	for <dev@httpd.apache.org>; Tue, 21 Apr 2015 14:13:52 +0000 (UTC)
Received: by qgeb100 with SMTP id b100so68617007qge.3
        for <dev@httpd.apache.org>; Tue, 21 Apr 2015 07:13:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        bh=a+etIJzjDAvYT86Z9B/yYPffDcJB4oNh/H0KcTH/vzc=;
        b=IFeNd/k6VFcxD9siOfKI6cwOg+lMiaL/ha4N2BtorRRhi0bq8D/DXlJAaWrO2vMpxj
         1JA3LTCWBaSyjIdURJI9kH44Y4PMKc/TbQCXSq+Q13CV4bEkA2zGLfFrDaSj84Pem6Rj
         MW9r3rqArzjlmdwbxVZ3bGZtOMYX0y9B0NP/+fM9nuaYFOrB6raey+PndhwKn7SVicHb
         fkpr8IGTYFU8cy4Q+z1c7q8P5E1yp0MLbC2ux25W2TN1cbrgURxNe0CIW5DyUMKb0i5E
         CHEC1mixDCiYx10Dm0tbuyoSWiQxEErMvr4XDKrRkwcgGhG2JWHUVquOwRrkktSQGyb8
         Ypcw==
X-Received: by 10.55.55.72 with SMTP id e69mr38954971qka.78.1429625632360;
        Tue, 21 Apr 2015 07:13:52 -0700 (PDT)
Received: from ?IPv6:2606:a000:b541:6700:13b:63b:efc0:5c97? ([2606:a000:b541:6700:13b:63b:efc0:5c97])
        by mx.google.com with ESMTPSA id a62sm1419348qge.49.2015.04.21.07.13.51
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Tue, 21 Apr 2015 07:13:51 -0700 (PDT)
Message-ID: <55365B1E.3010605@gmail.com>
Date: Tue, 21 Apr 2015 10:13:50 -0400
From: Jeff Trawick <trawick@gmail.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: Version check idea
References: <7C89CDBA-B463-415F-82DA-DDD6AD88C38E@jaguNET.com>
In-Reply-To: <7C89CDBA-B463-415F-82DA-DDD6AD88C38E@jaguNET.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 04/21/2015 09:55 AM, Jim Jagielski wrote:
> For comment: What do people think about adding the capability that
> when httpd is started, it tries to access http://httpd.apache.org/doap.rdf
> to check its version number with the latest one referred to in that
> file and, if a newer one exists, it prints out a little message
> in the error.log (or stderr)...
>
Wild assertion: Most people don't get their httpd build from us, so it 
will be meaningless for them (i.e., says out-of-date the first day they 
fire up their shiny new Fedora-latest/Ubuntu-latest/etc.).


From dev-return-82416-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 21 14:21:47 2015
Return-Path: <dev-return-82416-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BB35017BCF
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 21 Apr 2015 14:21:47 +0000 (UTC)
Received: (qmail 7052 invoked by uid 500); 21 Apr 2015 14:21:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6975 invoked by uid 500); 21 Apr 2015 14:21:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6965 invoked by uid 99); 21 Apr 2015 14:21:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Apr 2015 14:21:47 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Apr 2015 14:21:40 +0000
Received: from mail-qc0-f174.google.com (mail-qc0-f174.google.com [209.85.216.174])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 6CE8424935
	for <dev@httpd.apache.org>; Tue, 21 Apr 2015 14:21:20 +0000 (UTC)
Received: by qcbii10 with SMTP id ii10so76711251qcb.2
        for <dev@httpd.apache.org>; Tue, 21 Apr 2015 07:21:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        bh=NYNrZ5jU9d3CIz/Z+W1G8UP41Wl1uIccXjZWNLSgI0s=;
        b=AVZcIudnQYxw1lfaJ0kf522n3xNMU/QLay0zH6lGh6DTw9hekOeSNAzQ6s5hEa0wSY
         WJTiYcN70XidaQ0wHpv5EdWljfuIgD50wFN65W9CE1elt6pffjjksAbQpZAkOpIZjBoH
         EbtwMMqXAntQNUXBslTNrUqoC8pF5cBHyd0tPV3N5/mfZTlA3DEoSowf6HK9yh+95xpQ
         3h1mD/YTKklNNAEattEJR1qcS5OI2rprSgXbAbdP95kqyJSdlhCFWfSLa1irgeSxQM/M
         Yaxr18BoUHUoeE1POivPKvy9rLmgtpOtFS2bXHnB+y2Eba/sG7LJIsiMWTFirHRF+uRw
         zfmQ==
X-Received: by 10.140.151.15 with SMTP id 15mr23707513qhx.104.1429626073613;
        Tue, 21 Apr 2015 07:21:13 -0700 (PDT)
Received: from ?IPv6:2606:a000:b541:6700:13b:63b:efc0:5c97? ([2606:a000:b541:6700:13b:63b:efc0:5c97])
        by mx.google.com with ESMTPSA id k80sm696407qhk.27.2015.04.21.07.21.12
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Tue, 21 Apr 2015 07:21:12 -0700 (PDT)
Message-ID: <55365CD5.4030002@gmail.com>
Date: Tue, 21 Apr 2015 10:21:09 -0400
From: Jeff Trawick <trawick@gmail.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: Version check idea
References: <7C89CDBA-B463-415F-82DA-DDD6AD88C38E@jaguNET.com> <55365B1E.3010605@gmail.com>
In-Reply-To: <55365B1E.3010605@gmail.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 04/21/2015 10:13 AM, Jeff Trawick wrote:
> On 04/21/2015 09:55 AM, Jim Jagielski wrote:
>> For comment: What do people think about adding the capability that
>> when httpd is started, it tries to access 
>> http://httpd.apache.org/doap.rdf
>> to check its version number with the latest one referred to in that
>> file and, if a newer one exists, it prints out a little message
>> in the error.log (or stderr)...
>>
> Wild assertion: Most people don't get their httpd build from us, so it 
> will be meaningless for them (i.e., says out-of-date the first day 
> they fire up their shiny new Fedora-latest/Ubuntu-latest/etc.).
>

For those that build the web stack for themselves, providing a separate 
CLI that could be implemented exactly the same by/for other components 
could be part of a much more valuable feature.  E.g., 
httpd-version-check, openssl-version-check, php-version-check, etc.



From dev-return-82417-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 21 14:27:19 2015
Return-Path: <dev-return-82417-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 064A917C5A
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 21 Apr 2015 14:27:19 +0000 (UTC)
Received: (qmail 37473 invoked by uid 500); 21 Apr 2015 14:27:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 37397 invoked by uid 500); 21 Apr 2015 14:27:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 37387 invoked by uid 99); 21 Apr 2015 14:27:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Apr 2015 14:27:18 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Apr 2015 14:27:11 +0000
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id B0A8124EBE
	for <dev@httpd.apache.org>; Tue, 21 Apr 2015 14:26:51 +0000 (UTC)
Message-ID: <55365E0C.5000903@thelounge.net>
Date: Tue, 21 Apr 2015 16:26:20 +0200
From: Reindl Harald <h.reindl@thelounge.net>
Organization: the lounge interactive design
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: Version check idea
References: <7C89CDBA-B463-415F-82DA-DDD6AD88C38E@jaguNET.com>
In-Reply-To: <7C89CDBA-B463-415F-82DA-DDD6AD88C38E@jaguNET.com>
OpenPGP: id=13540402D67A7F71C6E974EA866063CF7F780279;
	url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="5R38PKpGdi68LqV5NtwsNHLw2qdJLkL6k"
X-Spam-Report: ALL_TRUSTED,BAYES_00,T_RP_MATCHES_RCVD
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.5, tag-level=7.8, block-level=8.0

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--5R38PKpGdi68LqV5NtwsNHLw2qdJLkL6k
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: quoted-printable



Am 21.04.2015 um 15:55 schrieb Jim Jagielski:
> For comment: What do people think about adding the capability that
> when httpd is started, it tries to access http://httpd.apache.org/doap.=
rdf
> to check its version number with the latest one referred to in that
> file and, if a newer one exists, it prints out a little message
> in the error.log (or stderr)...

honestly nothing for simple privacy reasons


--5R38PKpGdi68LqV5NtwsNHLw2qdJLkL6k
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlU2XgwACgkQhmBjz394AnkZ2QCgikCciy9901vVUpbt4c6vOhqT
mtUAoI8Opxal6Pjtszhtx1N3NGLJxhVj
=BQQM
-----END PGP SIGNATURE-----

--5R38PKpGdi68LqV5NtwsNHLw2qdJLkL6k--

From dev-return-82418-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 21 14:28:34 2015
Return-Path: <dev-return-82418-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9D0D017C6A
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 21 Apr 2015 14:28:34 +0000 (UTC)
Received: (qmail 39538 invoked by uid 500); 21 Apr 2015 14:28:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39471 invoked by uid 500); 21 Apr 2015 14:28:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 39461 invoked by uid 99); 21 Apr 2015 14:28:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Apr 2015 14:28:34 +0000
X-ASF-Spam-Status: No, hits=4.0 required=5.0
	tests=SPF_PASS,URIBL_SBL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Apr 2015 14:28:08 +0000
Received: from gungnir.webthing.com (209-20-83-52.slicehost.net [209.20.83.52])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 8697125F41
	for <dev@httpd.apache.org>; Tue, 21 Apr 2015 14:28:07 +0000 (UTC)
Received: from baldur (cpc14-newt30-2-0-cust22.newt.cable.virginm.net [92.232.45.23])
	by gungnir.webthing.com (Postfix) with ESMTPSA id D377B1282DC
	for <dev@httpd.apache.org>; Tue, 21 Apr 2015 14:28:00 +0000 (UTC)
Date: Tue, 21 Apr 2015 15:27:56 +0100
From: Nick Kew <nick@webthing.com>
To: dev@httpd.apache.org
Subject: Re: Version check idea
Message-ID: <20150421152756.7d372196@baldur>
In-Reply-To: <4F48CE8C-EE46-49DB-9B14-4C833BC533FF@webweaving.org>
References: <7C89CDBA-B463-415F-82DA-DDD6AD88C38E@jaguNET.com>
	<4F48CE8C-EE46-49DB-9B14-4C833BC533FF@webweaving.org>
X-Mailer: Claws Mail 3.7.4 (GTK+ 2.20.1; i486-pc-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, 21 Apr 2015 16:00:05 +0200
Dirk-Willem van Gulik <dirkx@webweaving.org> wrote:

> On 21 Apr 2015, at 15:55, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
> > For comment: What do people think about adding the capability that
> > when httpd is started, it tries to access http://httpd.apache.org/doap.=
rdf
> > to check its version number with the latest one referred to in that
> > file and, if a newer one exists, it prints out a little message
> > in the error.log (or stderr)=E2=80=A6
>=20
> First reaction - Eek && Evil ! Breaks about every assumption I have about=
 well defined unix programmes.
>=20
> However if it where something like =E2=80=98httpd C / --configcheck=E2=80=
=99 or similarily for apachectl then I could easily image that to be rather=
 useful.

+1 (to Dirk).

Capability, OK.  Even, configuration option, perhaps
(that would allow packagers to reference their own URL).
But no way would I want it calling home in a default
startup behind my back!

Suggestion 1: make it a module.
Suggestion 2: consider something lighter-weight than RDF.
              e.g. an X-latest: header in our own server
              response to HEAD / .

--=20
Nick Kew

From dev-return-82419-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 21 14:33:52 2015
Return-Path: <dev-return-82419-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6D00517CB0
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 21 Apr 2015 14:33:52 +0000 (UTC)
Received: (qmail 55315 invoked by uid 500); 21 Apr 2015 14:33:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55235 invoked by uid 500); 21 Apr 2015 14:33:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 55225 invoked by uid 99); 21 Apr 2015 14:33:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Apr 2015 14:33:48 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Apr 2015 14:33:43 +0000
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 3A56F24F15
	for <dev@httpd.apache.org>; Tue, 21 Apr 2015 14:33:23 +0000 (UTC)
Received: from delight.greenbytes.de (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 97B9115A047E
	for <dev@httpd.apache.org>; Tue, 21 Apr 2015 16:33:14 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: Version check idea
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <7C89CDBA-B463-415F-82DA-DDD6AD88C38E@jaguNET.com>
Date: Tue, 21 Apr 2015 16:33:13 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <7097ECFF-4D82-4F58-8920-D77459991350@greenbytes.de>
References: <7C89CDBA-B463-415F-82DA-DDD6AD88C38E@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
X-Virus-Checked: Checked by ClamAV on apache.org

Some weeks ago, I asked the openssl team something related to this. I =
wanted a URL which redirects to the latest 1.0.2 release tar. I use this =
in my mod_h2 sandbox setup and got rid of updating version numbers for =
that package.

If there would be a url, such as

	https://archive.apache.org/dist/httpd/httpd-2.4.latest.tar.gz
that then redirects to
	https://archive.apache.org/dist/httpd/httpd-2.4.12.tar.gz

then people interested in checking the latest version for update could =
easily do so. Maybe distributing a script for crontab that people, =
voluntarily, could install is helpful.

//Stefan



> Am 21.04.2015 um 15:55 schrieb Jim Jagielski <jim@jaguNET.com>:
>=20
> For comment: What do people think about adding the capability that
> when httpd is started, it tries to access =
http://httpd.apache.org/doap.rdf
> to check its version number with the latest one referred to in that
> file and, if a newer one exists, it prints out a little message
> in the error.log (or stderr)...
>=20

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82420-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 21 15:24:18 2015
Return-Path: <dev-return-82420-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6259C17EE9
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 21 Apr 2015 15:24:18 +0000 (UTC)
Received: (qmail 11772 invoked by uid 500); 21 Apr 2015 15:24:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 11700 invoked by uid 500); 21 Apr 2015 15:24:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 11691 invoked by uid 99); 21 Apr 2015 15:24:14 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Apr 2015 15:24:14 +0000
Received: from [192.168.201.3] (c-73-181-14-238.hsd1.co.comcast.net [73.181.14.238])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id A14461A0386
	for <dev@httpd.apache.org>; Tue, 21 Apr 2015 15:24:14 +0000 (UTC)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: Version check idea
From: Leif Hedstrom <zwoop@apache.org>
In-Reply-To: <20150421152756.7d372196@baldur>
Date: Tue, 21 Apr 2015 09:24:13 -0600
Content-Transfer-Encoding: quoted-printable
Message-Id: <85469BE7-F7FB-446E-92E6-5746A6D16317@apache.org>
References: <7C89CDBA-B463-415F-82DA-DDD6AD88C38E@jaguNET.com> <4F48CE8C-EE46-49DB-9B14-4C833BC533FF@webweaving.org> <20150421152756.7d372196@baldur>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)


> On Apr 21, 2015, at 8:27 AM, Nick Kew <nick@webthing.com> wrote:
>=20
> On Tue, 21 Apr 2015 16:00:05 +0200
> Dirk-Willem van Gulik <dirkx@webweaving.org> wrote:
>=20
>> On 21 Apr 2015, at 15:55, Jim Jagielski <jim@jaguNET.com> wrote:
>>=20
>>> For comment: What do people think about adding the capability that
>>> when httpd is started, it tries to access =
http://httpd.apache.org/doap.rdf
>>> to check its version number with the latest one referred to in that
>>> file and, if a newer one exists, it prints out a little message
>>> in the error.log (or stderr)=E2=80=A6
>>=20
>> First reaction - Eek && Evil ! Breaks about every assumption I have =
about well defined unix programmes.
>>=20
>> However if it where something like =E2=80=98httpd C / =
--configcheck=E2=80=99 or similarily for apachectl then I could easily =
image that to be rather useful.
>=20
> +1 (to Dirk).
>=20
> Capability, OK.  Even, configuration option, perhaps
> (that would allow packagers to reference their own URL).
> But no way would I want it calling home in a default
> startup behind my back!
>=20
> Suggestion 1: make it a module.
> Suggestion 2: consider something lighter-weight than RDF.
>              e.g. an X-latest: header in our own server
>              response to HEAD / .
>=20


I like the module ideal. Nick, can you make it an ATS plugin too? :-). =
One thought though: This would need to be able to distinguish upgrades =
within 2 or more LTS releases. So checking against one server might not =
suffice.

=E2=80=94 Leif=

From dev-return-82421-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 21 18:03:55 2015
Return-Path: <dev-return-82421-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A56A917A16
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 21 Apr 2015 18:03:55 +0000 (UTC)
Received: (qmail 29609 invoked by uid 500); 21 Apr 2015 18:03:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29532 invoked by uid 500); 21 Apr 2015 18:03:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29522 invoked by uid 99); 21 Apr 2015 18:03:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Apr 2015 18:03:55 +0000
X-ASF-Spam-Status: No, hits=4.0 required=5.0
	tests=SPF_PASS,URIBL_SBL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Apr 2015 18:03:29 +0000
Received: from resqmta-ch2-10v.sys.comcast.net (resqmta-ch2-10v.sys.comcast.net [69.252.207.42])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 17A7625F48
	for <dev@httpd.apache.org>; Tue, 21 Apr 2015 18:03:27 +0000 (UTC)
Received: from resomta-ch2-13v.sys.comcast.net ([69.252.207.109])
	by resqmta-ch2-10v.sys.comcast.net with comcast
	id Ji3D1q0072N9P4d01i3MEN; Tue, 21 Apr 2015 18:03:21 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-13v.sys.comcast.net with comcast
	id Ji3L1q00C1cCKD901i3LCi; Tue, 21 Apr 2015 18:03:21 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: Version check idea
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <4F48CE8C-EE46-49DB-9B14-4C833BC533FF@webweaving.org>
Date: Tue, 21 Apr 2015 14:03:20 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <0D4D7BE8-67E0-405E-A161-A3A736C9203E@jaguNET.com>
References: <7C89CDBA-B463-415F-82DA-DDD6AD88C38E@jaguNET.com> <4F48CE8C-EE46-49DB-9B14-4C833BC533FF@webweaving.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1429639401;
	bh=/aVqPgPWOSrqiwnVev1Nt+QW4Jus8qyISPceU/xKpSg=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=HHpxoBFPX/6lBbXgmz31xZ9wPYfrtvt/UnG7A8X6tdzSKzD6HH3166uePs1I6t1R+
	 Ob4hRFeHcARnyhu/Dlt3yk/lR9FvOMgyXoHn5PwuWui1czp5heCzz8t2nyJnpHjMBI
	 gpYoAijx6tmc/paGOzFKPu9frFXCQU0zXfL9W1tZ0l44I7hYPcp1O1ZHF9TWwEdJ+w
	 SgbkRVfvuUzqxwq3GBFAshDcbvO83jbiJpEVnbXvHvW4VvsMvEZLHuudClNicM7LGC
	 pmbLS/jzZ+FAy5onqG3IQfZ5/BMD1swVu9ygro1Qfk0XXE3OxSOrYo+v5od5sg2xWH
	 qe+2drylkdLZA==
X-Virus-Checked: Checked by ClamAV on apache.org


> On Apr 21, 2015, at 10:00 AM, Dirk-Willem van Gulik =
<dirkx@webweaving.org> wrote:
>=20
> On 21 Apr 2015, at 15:55, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
>> For comment: What do people think about adding the capability that
>> when httpd is started, it tries to access =
http://httpd.apache.org/doap.rdf
>> to check its version number with the latest one referred to in that
>> file and, if a newer one exists, it prints out a little message
>> in the error.log (or stderr)=E2=80=A6
>=20
> First reaction - Eek && Evil ! Breaks about every assumption I have =
about well defined unix programmes.
>=20
> However if it where something like =E2=80=98httpd C / --configcheck=E2=80=
=99 or similarily for apachectl then I could easily image that to be =
rather useful.
>=20

That's what I was thinking (should have said it)... something like
a config directive (CheckVersion) which defaults to Off



From dev-return-82422-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 22 07:30:21 2015
Return-Path: <dev-return-82422-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 632B9173CA
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 22 Apr 2015 07:30:21 +0000 (UTC)
Received: (qmail 86344 invoked by uid 500); 22 Apr 2015 07:30:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86277 invoked by uid 500); 22 Apr 2015 07:30:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86267 invoked by uid 99); 22 Apr 2015 07:30:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 07:30:20 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 07:30:15 +0000
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 48898249FD
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 07:29:54 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t3M7TiJT028531
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 09:29:46 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1429687786;
	bh=MOtZ48BQqF0zCEdHyX7U6lOiaQgwHbY8Hs/RYo3pk20=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=frSyeB41HWWT4BSqa62dUWGU1No6ISnC9GJfjObk3RfWsN92AYMh9XUBCRcacst88
	 BhITrpHFuy6zgJ/kvbx3Drv0S9qRED4+QRuaWG/qMqrGr1ARz7v2U3eRNJxZqcQiG7
	 hdEDPvunqBfsLeGnNlTjcGYNvYdKDCyDQlyNgkzW449uALFqSz5R/mejUsC5aMKx9X
	 0LTuzlorYla5FQYNvdmc0XM7vWUURPHXRRefq2joFxUc3A+QO6xPg1UwtKThDVAou+
	 UzlQ2NbETKRvUExNeR0+yaUofjpDiNY9GI+nc5QOOCeblKg3EBe0PUrJ+DomSJz7uT
	 oAdmi7aOtHwBA==
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on cortex.velox.ch
X-Spam-Level: 
Message-ID: <55374DED.30507@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1429687783;
	bh=MOtZ48BQqF0zCEdHyX7U6lOiaQgwHbY8Hs/RYo3pk20=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=eHjCou4aozZZp/6WASUOoC8dO0T+6A8Pwb1nV/OjrJG0ycpViDSN8Ja1r2NbltKsR
	 gDhHlZD21yhzFRzvSZI6G5FPUGKOIONTQOfr4LPApmWIvkXBVa/KO1RDglgOYzNbv3
	 YmiXnZENUwo1HUAP/mbOeiBx7tc4TebVcR5vtf8GD+uirLCRuHIGfjS6g24CUv0bm8
	 t5luNhQMknla2FXuovnDVzulkFZ0Efk6WCVrm5vG/JHlrgi6lfrEXwEYVJW4qdji+c
	 oc8ECu7p4nYb3nz7jN/ulURs00yGWDIuMb0dXTw/iu0Z3PiNqYjprcW+EiNQ8bXdcb
	 VsZgTiYVKs2OQ==
Date: Wed, 22 Apr 2015 09:29:49 +0200
From: Kaspar Brand <httpd-dev.2014@velox.ch>
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1674542 - in /httpd/httpd/trunk: acinclude.m4 modules/ssl/ssl_engine_rand.c
References: <20150418170348.5EEF8AC054F@hades.apache.org>
In-Reply-To: <20150418170348.5EEF8AC054F@hades.apache.org>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.5 required=8.0 tests=AWL=0.013,BAYES_00=-1.5,
	NO_RECEIVED=-0.001,NO_RELAYS=-0.001,T_DKIM_INVALID=0.01,T_FRT_SLUT=0.01
	autolearn=no autolearn_force=no version=3.4.0

On 18.04.2015 19:03, stsp@apache.org wrote:
> Author: stsp
> Date: Sat Apr 18 17:03:47 2015
> New Revision: 1674542
> 
> URL: http://svn.apache.org/r1674542
> Log:
> mod_ssl: Check for RAND_egd() at configure time and only use it if present.
> Fixes the build with LibreSSL which does not provide this function.
> 
> Modified:
>     httpd/httpd/trunk/acinclude.m4
>     httpd/httpd/trunk/modules/ssl/ssl_engine_rand.c

Sorry for having missed this in my previous review: we should also
#ifdef the SSL_RSSRC_EGD case in
ssl_engine_config.c:ssl_cmd_SSLRandomSeed(), to make sure that "egd:..."
settings are not silently ignored when mod_ssl is compiled against
LibreSSL. Either let the failure then be detected by the
ssl_util_path_check, or (probably better) reject it similar to how it's
done for SSLCompression, SSLHonorCipherOrder etc.

Kaspar

From dev-return-82423-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 22 07:52:46 2015
Return-Path: <dev-return-82423-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7D0B31750B
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 22 Apr 2015 07:52:46 +0000 (UTC)
Received: (qmail 61500 invoked by uid 500); 22 Apr 2015 07:52:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 61410 invoked by uid 500); 22 Apr 2015 07:52:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 61400 invoked by uid 99); 22 Apr 2015 07:52:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 07:52:45 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 07:52:39 +0000
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 755322539D
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 07:52:19 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t3M7oHub028798
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 09:50:17 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1429689017;
	bh=9yXC914qDXKts5SsoBqgXjYmg1i+PSw3vzCMhq0rpes=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=2cPt5gL7x4kbuD5wusPmlQgUpOF+Jwo/rdmIYst45mFOEC3mwGczf02ONfTwhkuMT
	 +Rh+HBV6thtcd2y6lhIJKo8fmBpYl4jkHFm2Eeb+5zyw2klI6qUtsVkTAUCeDDz11A
	 3zmzg9prBSC0Y/fog6Wl+jvKAc2LhltipwXeRDkkHdbGMt5H8d2MP0QaWYJMMyfTVl
	 NMqti5imS83dxPKxubSg2tRQSYamjp8CG+S9Z/RBbP+3StaYWO3GUz/aEM7C0baypK
	 25sH4/Sq4FtNjgsptasgPimF/uUMEuC5qhQQ0nPQn3w6wNU0GsXBM8MrYAL7pMwUy+
	 5kAyLAUKnErLQ==
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on cortex.velox.ch
X-Spam-Level: 
Message-ID: <553752BE.5070606@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1429689016;
	bh=9yXC914qDXKts5SsoBqgXjYmg1i+PSw3vzCMhq0rpes=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=Am25DEG9EowEuhRqbOgu18b0YbNG1orK9CrgbFRh4sHsc+g9NlbDEpv6UXKAAl/vH
	 y9ikYxms9hiO8Kfc/09XtqiwYi8sN/ixY4RX5DNjwdXKQltWHf9QYVE1SlNVodBwbz
	 Zzs3f695Av65X80v/0Ab9SGTkfYygDKSHhzm2JoSyplxEmu4GnsJxX1n/9fdK3yrJj
	 UOSuEFFhlsot+/vmTDkVe4BZjrjfSFgYMcqwLliXT+fRRCivKZks/SPg1WnteGofuI
	 ossNjVnT/aFvIBnIHFaD7PUwk71nZnitSemjWw+h1ddej2YfyM70/SQsV+UXeeTAW/
	 Otm8D36PVReAw==
Date: Wed, 22 Apr 2015 09:50:22 +0200
From: Kaspar Brand <httpd-dev.2014@velox.ch>
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: SSLDisableCRLCaching, is it even possible in 2.4.x?
References: <55362488.6060208@redhat.com>
In-Reply-To: <55362488.6060208@redhat.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.5 required=8.0 tests=AWL=0.017,BAYES_00=-1.5,
	NO_RECEIVED=-0.001,NO_RELAYS=-0.001,T_DKIM_INVALID=0.01 autolearn=no
	autolearn_force=no version=3.4.0

On 21.04.2015 12:20, Jan Kalua wrote:
> we used to have a patch against httpd-2.2.15 to add SSLDisableCRLCaching 
> option to not cache CRLs. I was trying to adapt this patch for 
> httpd-trunk and eventually include it upstream but now I'm in dead end.
> 
> The patch removes all the CRLs from the per-server_rec OpenSSL cache 
> created in ssl_init_ctx_crl (OpenSSL caches the CRLs in 
> X509_store.objs). This all works properly, but I'm thinking about 
> thread-safety.

Starting with 2.3.15 (https://svn.apache.org/r1165056), CRL checking was
completely delegated to OpenSSL, so it would be a bit surprising to me
if that patch can be ported to trunk. Fiddling with OpenSSL internals
looks rather scary to me, at least at first sight - perhaps there's an
API for clearing a CRL store in OpenSSL?

Kaspar

From dev-return-82424-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 22 08:13:07 2015
Return-Path: <dev-return-82424-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6461B175AD
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 22 Apr 2015 08:13:07 +0000 (UTC)
Received: (qmail 92193 invoked by uid 500); 22 Apr 2015 08:13:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92124 invoked by uid 500); 22 Apr 2015 08:13:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92115 invoked by uid 99); 22 Apr 2015 08:13:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 08:13:01 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 08:12:54 +0000
Received: from einhorn.in-berlin.de (einhorn.in-berlin.de [192.109.42.8])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id AF3C343E6D
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 08:12:33 +0000 (UTC)
X-Envelope-From: stsp@apache.org
X-Envelope-To: <dev@httpd.apache.org>
Received: from ted.stsp.name (ted.stsp.name [217.197.84.34])
	by einhorn.in-berlin.de (8.14.4/8.14.4/Debian-4) with ESMTP id t3M8CP75001404
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT)
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 10:12:26 +0200
Received: from localhost (ted.stsp.name [local]);
	by ted.stsp.name (OpenSMTPD) with ESMTPA id 5cbd57be;
	for <dev@httpd.apache.org>;
	Wed, 22 Apr 2015 10:12:25 +0200 (CEST)
Date: Wed, 22 Apr 2015 10:12:25 +0200
From: Stefan Sperling <stsp@apache.org>
To: dev@httpd.apache.org
Subject: Re: svn commit: r1674542 - in /httpd/httpd/trunk: acinclude.m4
 modules/ssl/ssl_engine_rand.c
Message-ID: <20150422081225.GE13830@ted.stsp.name>
References: <20150418170348.5EEF8AC054F@hades.apache.org>
 <55374DED.30507@velox.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <55374DED.30507@velox.ch>
User-Agent: Mutt/1.5.23 (2014-03-12)
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Apr 22, 2015 at 09:29:49AM +0200, Kaspar Brand wrote:
> Sorry for having missed this in my previous review: we should also
> #ifdef the SSL_RSSRC_EGD case in
> ssl_engine_config.c:ssl_cmd_SSLRandomSeed(), to make sure that "egd:..."
> settings are not silently ignored when mod_ssl is compiled against
> LibreSSL. Either let the failure then be detected by the
> ssl_util_path_check, or (probably better) reject it similar to how it's
> done for SSLCompression, SSLHonorCipherOrder etc.
> 
> Kaspar

Thanks, good catch.

Is this fine?

Index: modules/ssl/ssl_engine_config.c
===================================================================
--- modules/ssl/ssl_engine_config.c	(revision 1675266)
+++ modules/ssl/ssl_engine_config.c	(working copy)
@@ -574,8 +574,15 @@ const char *ssl_cmd_SSLRandomSeed(cmd_parms *cmd,
         seed->cpPath = ap_server_root_relative(mc->pPool, arg2+5);
     }
     else if ((arg2len > 4) && strEQn(arg2, "egd:", 4)) {
+#ifdef HAVE_RAND_EGD
         seed->nSrc   = SSL_RSSRC_EGD;
         seed->cpPath = ap_server_root_relative(mc->pPool, arg2+4);
+#else
+        return apr_pstrcat(cmd->pool, "Invalid SSLRandomSeed entropy source `",
+                           arg2, "': This version of " MODSSL_LIBRARY_NAME
+                           " does not support the Entropy Gathering Daemon "
+                           "(EGD).", NULL);
+#endif
     }
     else if (strcEQ(arg2, "builtin")) {
         seed->nSrc   = SSL_RSSRC_BUILTIN;

From dev-return-82425-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 22 08:37:06 2015
Return-Path: <dev-return-82425-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8020F17659
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 22 Apr 2015 08:37:06 +0000 (UTC)
Received: (qmail 58629 invoked by uid 500); 22 Apr 2015 08:36:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58564 invoked by uid 500); 22 Apr 2015 08:36:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58554 invoked by uid 99); 22 Apr 2015 08:36:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 08:36:59 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 08:36:53 +0000
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id B458643CDC
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 08:36:32 +0000 (UTC)
Received: from int-mx10.intmail.prod.int.phx2.redhat.com (int-mx10.intmail.prod.int.phx2.redhat.com [10.5.11.23])
	by mx1.redhat.com (8.14.4/8.14.4) with ESMTP id t3M8aVT9021958
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 04:36:32 -0400
Received: from dhcp-24-191.brq.redhat.com (ovpn-204-22.brq.redhat.com [10.40.204.22])
	by int-mx10.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t3M8aUJZ017290
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 04:36:31 -0400
Message-ID: <55375D8E.20101@redhat.com>
Date: Wed, 22 Apr 2015 10:36:30 +0200
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.5.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: SSLDisableCRLCaching, is it even possible in 2.4.x?
References: <55362488.6060208@redhat.com> <553752BE.5070606@velox.ch>
In-Reply-To: <553752BE.5070606@velox.ch>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.23
X-Virus-Checked: Checked by ClamAV on apache.org

On 04/22/2015 09:50 AM, Kaspar Brand wrote:
> On 21.04.2015 12:20, Jan Kalua wrote:
>> we used to have a patch against httpd-2.2.15 to add SSLDisableCRLCaching
>> option to not cache CRLs. I was trying to adapt this patch for
>> httpd-trunk and eventually include it upstream but now I'm in dead end.
>>
>> The patch removes all the CRLs from the per-server_rec OpenSSL cache
>> created in ssl_init_ctx_crl (OpenSSL caches the CRLs in
>> X509_store.objs). This all works properly, but I'm thinking about
>> thread-safety.
>
> Starting with 2.3.15 (https://svn.apache.org/r1165056), CRL checking was
> completely delegated to OpenSSL, so it would be a bit surprising to me
> if that patch can be ported to trunk.

I'm aware of that, that's why I'm rewriting that patch for trunk :).

> Fiddling with OpenSSL internals
> looks rather scary to me, at least at first sight - perhaps there's an
> API for clearing a CRL store in OpenSSL?

Unfortunately there's no such API in OpenSSL. There's "caching" flag in 
X509_STORE struct, but it's never used for anything actually.

Maybe it would be better idea to implement that in OpenSSL, but that's 
kind of long-term goal. I was hoping to have this feature in httpd at first.

> Kaspar
>

Regards,
Jan Kaluza


From dev-return-82426-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 22 08:53:11 2015
Return-Path: <dev-return-82426-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C98B9176EF
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 22 Apr 2015 08:53:11 +0000 (UTC)
Received: (qmail 93239 invoked by uid 500); 22 Apr 2015 08:53:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 93157 invoked by uid 500); 22 Apr 2015 08:53:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 93147 invoked by uid 99); 22 Apr 2015 08:53:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 08:53:11 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 08:53:04 +0000
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id DA0F424CE6
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 08:52:43 +0000 (UTC)
Received: from [192.168.1.150] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 26AC515A0488
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 10:52:41 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: multipart/mixed; boundary="Apple-Mail=_093BA0A6-3D74-4546-AC86-43729BE6DED0"
Subject: ALPN patch comments
Message-Id: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de>
Date: Wed, 22 Apr 2015 10:52:43 +0200
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
X-Mailer: Apple Mail (2.2098)
X-Virus-Checked: Checked by ClamAV on apache.org


--Apple-Mail=_093BA0A6-3D74-4546-AC86-43729BE6DED0
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=utf-8

I made two small patches based on the feedback from Kaspar. One for the =
code and one for the documentation. Since I build against releases, I =
did not test the doc patch building.=20

This code patch I tested against my already patched 2.4.12 with openssl =
1.0.2 and 1.0.1 in mod_h2 sandbox.=20

Re NPN support comments: I can sympathize with only bringing =
=E2=80=9Eofficial=E2=80=9C protocols into a release branch (2.4). =
However there are a lot of openssl 1.0.1 installations out there where =
httpd 2.4 is deployed which already talk NPN and it might take some time =
for getting ALPN support from the distros. Which would mean more people =
building and deploying their own SSL libraries/patching mod_ssl and =
having no auto update, if they want to use SPDY or HTTP/2. Does not seem =
like an easy decision.

Cheers,

  Stefan



--Apple-Mail=_093BA0A6-3D74-4546-AC86-43729BE6DED0
Content-Disposition: attachment;
	filename=alpn-doc.patch
Content-Type: application/octet-stream;
	name="alpn-doc.patch"
Content-Transfer-Encoding: 7bit

Index: docs/manual/mod/mod_ssl.xml
===================================================================
--- docs/manual/mod/mod_ssl.xml (revision 1675271)
+++ docs/manual/mod/mod_ssl.xml (working copy)
@@ -2650,4 +2650,32 @@
</usage>
</directivesynopsis>

+<directivesynopsis>
+<name>SSLAlpnPreference</name>
+<description>Configure preference during application layer protocol negotiation</description>
+<syntax>SSLAlpnPreference <em>alpn-proto</em> ... </syntax>
+<default>SSLAlpnPreference <em>none</em></default>
+<contextlist><context>server config</context>
+<context>virtual host</context></contextlist>
+<compatibility>Available in httpd 2.4.16 and later</compatibility>
+
+<usage>
+<p>This directive overrides preferences by implementations of application layer
+protocols during negotiation. The protocol specified first gets precedence
+over later (or unspecified) protocols. This list is evaluated against 
+client capabilities.</p>
+
+<example><title>Examples</title>
+<highlight language="config">
+SSLAlpnPreference h2 spdy/3
+</highlight>
+<p>For clients which support both protocosl, h2 will be selected. For
+clients which only support spd/3, that one will be chosed. If a client
+supports only protocol X and there is support for X in httpd, the
+negotiation will select X.</p>
+</example>
+</usage>
+</directivesynopsis>
+
+
</modulesynopsis>
--Apple-Mail=_093BA0A6-3D74-4546-AC86-43729BE6DED0
Content-Disposition: attachment;
	filename=alpn-trunk-2.unified.diff.patch
Content-Type: application/octet-stream;
	name="alpn-trunk-2.unified.diff.patch"
Content-Transfer-Encoding: 7bit

diff -ru modules/ssl/mod_ssl.c modules/ssl/mod_ssl.c
--- modules/ssl/mod_ssl.c	2015-04-22 10:02:01.000000000 +0200
+++ modules/ssl/mod_ssl.c	2015-04-22 10:02:30.000000000 +0200
@@ -276,7 +276,7 @@
 #if defined(HAVE_TLS_ALPN) || defined(HAVE_TLS_NPN)
     SSL_CMD_SRV(AlpnPreference, ITERATE,
                 "Preference in Application-Layer Protocol Negotiation (ALPN), "
-                "protocols are chosed in the specified order")
+                "protocols are chosen in the specified order")
 #endif
     
     /* Deprecated directives. */
diff -ru modules/ssl/ssl_private.h modules/ssl/ssl_private.h
--- modules/ssl/ssl_private.h	2015-04-22 10:02:01.000000000 +0200
+++ modules/ssl/ssl_private.h	2015-04-22 10:03:31.000000000 +0200
@@ -177,12 +177,12 @@
 #endif
 
 /* ALPN Protocol Negotiation */
-#if OPENSSL_VERSION_NUMBER >= 0x10002000L && !defined(OPENSSL_NO_TLSEXT)
+#if defined(TLSEXT_TYPE_application_layer_protocol_negotiation) 
 #define HAVE_TLS_ALPN
 #endif
 
 /* Next Protocol Negotiation */
-#if !defined(OPENSSL_NO_NEXTPROTONEG) && !defined(OPENSSL_NO_TLSEXT) && defined(OPENSSL_NPN_NEGOTIATED)
+#if !defined(OPENSSL_NO_NEXTPROTONEG) && defined(OPENSSL_NPN_NEGOTIATED)
 #define HAVE_TLS_NPN
 #endif
 

--Apple-Mail=_093BA0A6-3D74-4546-AC86-43729BE6DED0
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=utf-8


<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




--Apple-Mail=_093BA0A6-3D74-4546-AC86-43729BE6DED0--

From dev-return-82427-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 22 14:56:04 2015
Return-Path: <dev-return-82427-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CE94117BAC
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 22 Apr 2015 14:56:04 +0000 (UTC)
Received: (qmail 38876 invoked by uid 500); 22 Apr 2015 14:55:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38805 invoked by uid 500); 22 Apr 2015 14:55:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38795 invoked by uid 99); 22 Apr 2015 14:55:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 14:55:05 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 14:54:38 +0000
Received: from mail-wg0-f42.google.com (mail-wg0-f42.google.com [74.125.82.42])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 7397225F48
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 14:54:37 +0000 (UTC)
Received: by wgin8 with SMTP id n8so249249768wgi.0
        for <dev@httpd.apache.org>; Wed, 22 Apr 2015 07:54:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:from:date:message-id:subject:to:content-type;
        bh=jqICa/ow3Ytir4VKhY7YBVpOiHMrr+W8dtJJrDbk+OQ=;
        b=xnXJq6dC9JBkDMNX1ErGPo5UZ2UGaaYT4trA2PvUw1YdEOgzrhXo1vtAG/GLevwFnm
         Lk/ampLMs+zUDhRg4QcWy9SDGkhDjbqi1Ch9+7u0yQWonOoFlfGlHbl/kV7/HfFTF5Ys
         epfj9MMvLzRMkLQ0EPJiZQs7TmOfbzCSHMK6tNR5MiKd8syUMqQ7oJxsFd6GzCvkBg2U
         aqaa/iQjxWXwVIm7dfqpmpHlv2x8P8WTQvf8znLx88UuTSRmCGaqTT35XpstJF3wgsGO
         Jb6PF8D/O/w4VgtRi/LeTQBQXdS9NXzZvMnv/agvOJoIW7QGeL2pEDz5j0BLeSMAvJjH
         0Spg==
X-Received: by 10.194.3.77 with SMTP id a13mr52097009wja.104.1429714477252;
 Wed, 22 Apr 2015 07:54:37 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.28.62.81 with HTTP; Wed, 22 Apr 2015 07:53:56 -0700 (PDT)
From: Tom Browder <tom.browder@gmail.com>
Date: Wed, 22 Apr 2015 09:53:56 -0500
Message-ID: <CAFMGiz-dNWgv6hLk_TiPCyUzD8JnZWXDE2o3AcJSvauL0fuvPw@mail.gmail.com>
Subject: Apache (httpd) Wiki
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

There is an error on this page which is "immutable" and cannot be
edited by an ordinary user (even logged in):

  https://wiki.apache.org/httpd/FileSystemPermissions

The error is in this the last line:

What we've done here is to set all files to 640, or rw-r--r-- and
directories to rwxr-x---. Because the group "web-content" is applied
to all the files and directories, httpd can read these files, but
cannot write to them.

The error phrase is here:

 "set all files to 640, or rw-r--r--"

which should read:

 "set all files to 640, or rw-r-----"

Best regards,

-Tom

From dev-return-82428-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 22 15:12:33 2015
Return-Path: <dev-return-82428-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BFE3317CA2
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 22 Apr 2015 15:12:33 +0000 (UTC)
Received: (qmail 30506 invoked by uid 500); 22 Apr 2015 15:12:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 30425 invoked by uid 500); 22 Apr 2015 15:12:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 30415 invoked by uid 99); 22 Apr 2015 15:12:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 15:12:20 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 15:11:54 +0000
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 9807225F84
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 15:11:53 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t3MFBiBQ005102
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 17:11:45 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1429715506;
	bh=Sls7LA3SJu0NU6Sddhp/YnTPFrbRIlBdtvGD2wha23U=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=5n+l9RiKe8ZiP5QTRiCk0lg55XbNWhGgpBU8ZfJK9LyQdNgF9SQKfEUbqeysyLd+9
	 Tm+8H3F5DSpU7zA6SbPWckP8Oy96PArjgEmD/6vL1jhfpPbXMjCPClMp4492/XdSkT
	 NXwQUbbJYyC8rR56Y89XAqYApbDsZI+YGM2YFvcYrbacBKXoT/LRMwhFL6J2lkyrnm
	 p4tzBUd2VogpPLHUfHBBJf4sZz7S3pKBU6/3vJoppe0QY7UOfm09dDXlFTK4DydAU8
	 eVl1F1bJJ8DlYNO47pPqBy5FCjaR2J9KSU+cyM2d4PTUNvCdAKm+lgCEqOKBrnFT6s
	 gMSCAemE5g/aw==
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on cortex.velox.ch
X-Spam-Level: 
Message-ID: <5537BA34.108@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1429715503;
	bh=Sls7LA3SJu0NU6Sddhp/YnTPFrbRIlBdtvGD2wha23U=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=E1GyItDTitc58rUmswKD5qJj9/b9fnFnSjMW2RwmQFy/S6tcocnc8vkU6Y3C2Yuy/
	 1PsFXofhKtdzSgVZ4sZDewbjUV81C3lh8dG+13ZP29YK66tyRyT3SE/pKb1JweV7H3
	 LNAFEqoPgu8iw148JbBXhwSWPDsarH48AnkS9chSv6KOg+6rVu3Fh4cHVmZ71DKM5B
	 nBG3hKi/KYsIs0HTToZ8KmDKPphL3yDh6q6Ov4YTmBAqFM10zPwTNO9l7nk7PjdIjA
	 lYZrizTeJXv4xWvHoYgA50Q4n1x1Z0rBQv07hQMxCD6z1hch4uDQKo/0KsT42mXqEM
	 y+sQTyhoDcN/Q==
Date: Wed, 22 Apr 2015 17:11:48 +0200
From: Kaspar Brand <httpd-dev.2014@velox.ch>
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1674542 - in /httpd/httpd/trunk: acinclude.m4 modules/ssl/ssl_engine_rand.c
References: <20150418170348.5EEF8AC054F@hades.apache.org> <55374DED.30507@velox.ch> <20150422081225.GE13830@ted.stsp.name>
In-Reply-To: <20150422081225.GE13830@ted.stsp.name>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.5 required=8.0 tests=AWL=0.012,BAYES_00=-1.5,
	NO_RECEIVED=-0.001,NO_RELAYS=-0.001,T_DKIM_INVALID=0.01,T_FRT_SLUT=0.01
	autolearn=no autolearn_force=no version=3.4.0

On 22.04.2015 10:12, Stefan Sperling wrote:
> On Wed, Apr 22, 2015 at 09:29:49AM +0200, Kaspar Brand wrote:
>> Sorry for having missed this in my previous review: we should also
>> #ifdef the SSL_RSSRC_EGD case in
>> ssl_engine_config.c:ssl_cmd_SSLRandomSeed(), to make sure that "egd:..."
>> settings are not silently ignored when mod_ssl is compiled against
>> LibreSSL. Either let the failure then be detected by the
>> ssl_util_path_check, or (probably better) reject it similar to how it's
>> done for SSLCompression, SSLHonorCipherOrder etc.
>>
>> Kaspar
> 
> Thanks, good catch.
> 
> Is this fine?

Looks good to me, yes - thanks.

Kaspar

From dev-return-82429-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 22 15:29:22 2015
Return-Path: <dev-return-82429-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 388BE17D6F
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 22 Apr 2015 15:29:22 +0000 (UTC)
Received: (qmail 4612 invoked by uid 500); 22 Apr 2015 15:29:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 4544 invoked by uid 500); 22 Apr 2015 15:29:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 4534 invoked by uid 99); 22 Apr 2015 15:29:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 15:29:15 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 15:28:49 +0000
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 134EF25F12
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 15:28:48 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t3MFSlSR005185
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 17:28:47 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1429716527;
	bh=yntx5kNf6QZNNbXmuF+I2HDeRfISmxxwlU/kcTGRMDI=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=Onnpnmjzu2zvfbFJnQSxfQqrLov0SGUk0vkdwga41N3z6jZJFFHyVaGdsIEyjXvgk
	 gcMb/FvQNRB0hmLp0jsutyPb8N3e58vrEVmOrXtZFADJ+7k+Kj4//VuLSYlz8GLjcF
	 Pwc2nYYK3f9Txrqg9Z/FN6ArRbd/ZEih2CXo8lT6PA4uv3MBDRjf0LTM7kJodHY5wC
	 fItITPtEO42oRFTYzqNSNXX3q8GX/O6v1OZaos4Ohr9dfnkLZObcQpgDD0ycSmR8lb
	 gbsMLwX8Qe2pqc28NhGgXa7vbqhTb7iMtwT9gEDQY5dLX8T0H0145a6d8RuHB6pXG/
	 QdzKzfZFWVOSg==
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on cortex.velox.ch
X-Spam-Level: 
Message-ID: <5537BE33.1040706@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1429716526;
	bh=yntx5kNf6QZNNbXmuF+I2HDeRfISmxxwlU/kcTGRMDI=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=JotWMSkVt+gCHhuVcC14WBBpCiJnk/WlfeDek9Zg2o7w/E4w75F4QbzSG8QYZ1S1J
	 5TbOybmFq9RdOSMrhmMzRuNRCAXB3zryQ2m3fMjT1lu+2863t2TH057FELRU7yJO8H
	 9zYzKf3HnnFTw+ysQ4vnF9TcNiAQe1f1EEUV3u3BmeAwtJizHj67PhtMjyqXPEC4ws
	 AUc1itVt5jOVx9Oe/0h7e3WFCidiJ1jdc+8xiL/qaWGjRK16tJBNVx4SqyxFXuC0DN
	 LwyYU8+MsMkF7cQYTHQd2IPt684E+kbIUwHrnzrzEYb7Fnq6xF58nfdMoMCqs+S6YV
	 cGBJD2XDuzTPg==
Date: Wed, 22 Apr 2015 17:28:51 +0200
From: Kaspar Brand <httpd-dev.2014@velox.ch>
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: SSLDisableCRLCaching, is it even possible in 2.4.x?
References: <55362488.6060208@redhat.com> <553752BE.5070606@velox.ch> <55375D8E.20101@redhat.com>
In-Reply-To: <55375D8E.20101@redhat.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.5 required=8.0 tests=AWL=0.017,BAYES_00=-1.5,
	NO_RECEIVED=-0.001,NO_RELAYS=-0.001,T_DKIM_INVALID=0.01 autolearn=no
	autolearn_force=no version=3.4.0

On 22.04.2015 10:36, Jan Kalua wrote:
> On 04/22/2015 09:50 AM, Kaspar Brand wrote:
>> Fiddling with OpenSSL internals
>> looks rather scary to me, at least at first sight - perhaps there's an
>> API for clearing a CRL store in OpenSSL?
> 
> Unfortunately there's no such API in OpenSSL. There's "caching" flag in 
> X509_STORE struct, but it's never used for anything actually.
> 
> Maybe it would be better idea to implement that in OpenSSL

+1 for this, indeed. It would be good to not repeat history - i.e., add
code to mod_ssl which actually belongs into OpenSSL (specifically in
this case, where we would operate on low-level OpenSSL structures, which
looks like a fairly brittle approach).

> I was hoping to have this feature in httpd at first.

Understandable from an httpd package maintainer's point of view, I
agree. Could a temporary patch to your vendor OpenSSL package be a
short-term approach, with the long-term goal of getting it added as an
offical API into OpenSSL 1.0.something?

Kaspar

From dev-return-82430-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 22 15:50:01 2015
Return-Path: <dev-return-82430-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DC9BC17E5C
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 22 Apr 2015 15:50:01 +0000 (UTC)
Received: (qmail 10391 invoked by uid 500); 22 Apr 2015 15:50:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10315 invoked by uid 500); 22 Apr 2015 15:50:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10305 invoked by uid 99); 22 Apr 2015 15:50:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 15:50:01 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 15:49:35 +0000
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id A300225F46
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 15:49:34 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t3MFnX9r005450
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 17:49:34 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1429717774;
	bh=bU8AGMcB4DG+elKsqH3+t8a3gPIamaHyygtNkzjMg9A=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=ddtKVl7T7O2SlafVWeID9kWFbFyJAnI+zj7Wci5nET4wvl+yWn9/slCcTy1aafChE
	 PB5DHLq+zhQcMhWgbs7kIJj5thdUDfxm1MMdJKSz8aasNgYRQmpRhVK2otCq5NvKJ6
	 Uf/URWbthJGdGs8itjssUiYl2+d2zcvX976z5X9QXVXlDvyTbcCy0KOeYzvhKDk77A
	 9HLan8bw4WWA5bfMwOPDmaTFq0yt/Ax73nVHJJpPiHS6DdKfiJoIJFtnL+ZW0Iy5sg
	 DRgUHl6HUc+FOwgMGcUnUDlBpLPwGviz/comX0o5BYuiAf2KMIh6Ene5cOorxzoY8b
	 tBDoI6IRxGu2Q==
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on cortex.velox.ch
X-Spam-Level: 
Message-ID: <5537C311.6020209@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1429717772;
	bh=bU8AGMcB4DG+elKsqH3+t8a3gPIamaHyygtNkzjMg9A=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=SCsBgIITx8zlm+cicq+EQ/QxNRjY3138U4l1QEUUWNaOhNJwXvISATfC7mFoZ8lj6
	 thGBr9SDkbGOMk9WyY92P34iMETNLcnVjmO5CK951vVhBtSIOJOZ52UX7dH9yJOTS3
	 SHaoWs3aK+YMsncigyJEDQ1xX6nFDvf5Xx9+ArLtTlnNegh+Lztdp+/gC18DwsyQfP
	 L5ISds0SS0T7pqV7uIfA0S+86FQBYVoOj2pO/5Paz6kpDnIsbVS03cyrj/jHWW1eQy
	 TvLqIfaK/6xVCJin5NAtKF5qhYkX+D6MgB2j5L6PetLO1rUrKBzLn6hdw4fLbOGoyA
	 DF4kgkY8DWHcQ==
Date: Wed, 22 Apr 2015 17:49:37 +0200
From: Kaspar Brand <httpd-dev.2014@velox.ch>
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: ALPN patch comments
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de>
In-Reply-To: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.5 required=8.0 tests=AWL=0.017,BAYES_00=-1.5,
	NO_RECEIVED=-0.001,NO_RELAYS=-0.001,T_DKIM_INVALID=0.01 autolearn=no
	autolearn_force=no version=3.4.0

On 22.04.2015 10:52, Stefan Eissing wrote:
> I made two small patches based on the feedback from Kaspar. One for
> the code and one for the documentation.

Thanks. In the patch for ssl_private.h, the complete NPN block should
actually be dropped - the same block is are already part of
ssl_private.h, just 10 lines above.

> However there are a lot of openssl 1.0.1 installations out there 
> where httpd 2.4 is deployed which already talk NPN

"a lot of... which already talk NPN"? I have a bit a hard time in
following this argument: since mod_ssl in 2.4 doesn't have NPN, this
suggests that these installations currently rely on custom patches in
any case - so I wouldn't expect there to be "a lot of" (or I might be
missing the real point).

> and it might take some time for getting ALPN support from the
> distros. Which would mean more people building and deploying their
> own SSL libraries/patching mod_ssl and having no auto update, if they
> want to use SPDY or HTTP/2.

I don't find this reasoning very convincing... if we look at
distributions with long term support (which is the sort of thing to
consider for running a production HTTP server), then we see that they
are now at 2.4.6 (RHEL), 2.4.7 (Ubuntu), 2.4.10 (SLES) or similar. And
they usually stay with these versions for the whole OS release lifetime,
only security fixes are backported (new features only in exceptional
cases). I.e., it's highly unlikely that admins could rely on the
vendor-supplied httpd package to get NPN in the next, say, 12 months.
"auto update" typically means "security fixes only".

OTOH, if a distributor is really going from 2.4.x to 2.4-latest this or
next year, then I'd say that chances are quite high that he also
upgrades to OpenSSL 1.0.2 at the same time (in particular given the
increased pace for new OpenSSL releases and the faster EOL timelines,
see https://www.openssl.org/about/releasestrat.html).

For me the time seems right to rip NPN out of trunk and only backport
the ALPN code to 2.4.

Kaspar

From dev-return-82431-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 22 16:46:34 2015
Return-Path: <dev-return-82431-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2A9DD173CB
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 22 Apr 2015 16:46:34 +0000 (UTC)
Received: (qmail 70620 invoked by uid 500); 22 Apr 2015 16:46:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70547 invoked by uid 500); 22 Apr 2015 16:46:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 70537 invoked by uid 99); 22 Apr 2015 16:46:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 16:46:33 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 16:46:28 +0000
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 5D17D24BA8
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 16:46:08 +0000 (UTC)
Received: from [192.168.178.55] (unknown [93.211.114.66])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 3299615A05B9
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 18:46:00 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain;
	charset=utf-8
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: ALPN patch comments
Message-Id: <29802184-4AB0-4D1A-AED8-802286470C20@greenbytes.de>
Date: Wed, 22 Apr 2015 18:45:59 +0200
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de> <5537C311.6020209@velox.ch>
In-Reply-To: <5537C311.6020209@velox.ch>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
X-Mailer: iPhone Mail (12F70)
X-Virus-Checked: Checked by ClamAV on apache.org


> Am 22.04.2015 um 17:49 schrieb Kaspar Brand <httpd-dev.2014@velox.ch>:
>=20
>> On 22.04.2015 10:52, Stefan Eissing wrote:
>> I made two small patches based on the feedback from Kaspar. One for
>> the code and one for the documentation.
>=20
> Thanks. In the patch for ssl_private.h, the complete NPN block should
> actually be dropped - the same block is are already part of
> ssl_private.h, just 10 lines above

Yes. Not my change though. ;-)

>> However there are a lot of openssl 1.0.1 installations out there=20
>> where httpd 2.4 is deployed which already talk NPN
>=20
> "a lot of... which already talk NPN"? I have a bit a hard time in
> following this argument: since mod_ssl in 2.4 doesn't have NPN, this
> suggests that these installations currently rely on custom patches in
> any case - so I wouldn't expect there to be "a lot of" (or I might be
> missing the real point)

The openssl 1.0.1 which is out there talks NPN. That's what I meant.=20

I understand your argument. My pov is of someone trying to bring http/2 to t=
he people. While bringing a new httpd on an existing system seems easy, inst=
alling a new system openssl is more challenging with its dependencies and th=
e changes in hiding non public parts of their API.=20

My original patch was replacing the mod_ssl NPN registration with the ALPN o=
nes, but using the NPN internally when linking against an openssl without AL=
PN. It was not completely hidden since both work slightly different, though.=
=20

Just my =E2=82=AC0.02. I will be happy if "just" the ALPN parts make their w=
ay into the next 2.4.

//stefan


>> and it might take some time for getting ALPN support from the
>> distros. Which would mean more people building and deploying their
>> own SSL libraries/patching mod_ssl and having no auto update, if they
>> want to use SPDY or HTTP/2.
>=20
> I don't find this reasoning very convincing... if we look at
> distributions with long term support (which is the sort of thing to
> consider for running a production HTTP server), then we see that they
> are now at 2.4.6 (RHEL), 2.4.7 (Ubuntu), 2.4.10 (SLES) or similar. And
> they usually stay with these versions for the whole OS release lifetime,
> only security fixes are backported (new features only in exceptional
> cases). I.e., it's highly unlikely that admins could rely on the
> vendor-supplied httpd package to get NPN in the next, say, 12 months.
> "auto update" typically means "security fixes only".
>=20
> OTOH, if a distributor is really going from 2.4.x to 2.4-latest this or
> next year, then I'd say that chances are quite high that he also
> upgrades to OpenSSL 1.0.2 at the same time (in particular given the
> increased pace for new OpenSSL releases and the faster EOL timelines,
> see https://www.openssl.org/about/releasestrat.html).
>=20
> For me the time seems right to rip NPN out of trunk and only backport
> the ALPN code to 2.4.
>=20
> Kaspar

From dev-return-82432-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 22 16:55:46 2015
Return-Path: <dev-return-82432-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 10DC917466
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 22 Apr 2015 16:55:46 +0000 (UTC)
Received: (qmail 5556 invoked by uid 500); 22 Apr 2015 16:55:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 5479 invoked by uid 500); 22 Apr 2015 16:55:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 5467 invoked by uid 99); 22 Apr 2015 16:55:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 16:55:45 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 16:55:37 +0000
Received: from resqmta-ch2-08v.sys.comcast.net (resqmta-ch2-08v.sys.comcast.net [69.252.207.40])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 693C340E16
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 16:55:17 +0000 (UTC)
Received: from resomta-ch2-04v.sys.comcast.net ([69.252.207.100])
	by resqmta-ch2-08v.sys.comcast.net with comcast
	id K4ty1q0082AWL2D014uAin; Wed, 22 Apr 2015 16:54:10 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-04v.sys.comcast.net with comcast
	id K4u91q00P1cCKD9014uA2S; Wed, 22 Apr 2015 16:54:10 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: ALPN patch comments
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <5537C311.6020209@velox.ch>
Date: Wed, 22 Apr 2015 12:54:09 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com>
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de> <5537C311.6020209@velox.ch>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1429721650;
	bh=pBgwxluNj8iBvvsoKZ5fjPw2bEgh2QLEnhRSflAsOlM=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=T4OffXMCW1Gdp7CCk2hOu4nobG7U1bn34I8AefONDt1AGHr+0G9lBbki1sqOi9gKf
	 /OvjP/Rm/JTAnCSiP15gs+E3CxOXAWPmitPURKxix42FsR6uGdDueAFBsOW7XvoSDP
	 Uw4CtxKW/Iwlt387AgfF8B0kKlRlIKQfDhZABXYlnIygb+ZwMEbSnMEsxBVIp80QjC
	 hNGdRig2CAVpM5f0weVaHCI6De4kF6ADgeALxSREd1jFSVT4Sa/uw1M+27ByyiMZge
	 2gmvF5eHRZh0+RWgTADOYDTpgEKIHYBWiprG3cRKbwclmYagfiNbFUKW+QY2uoXamV
	 mjzQ9hZvIY/Sg==
X-Virus-Checked: Checked by ClamAV on apache.org

> 
> For me the time seems right to rip NPN out of trunk and only backport
> the ALPN code to 2.4.
> 

I'd be +1 for that.


From dev-return-82433-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 22 18:27:29 2015
Return-Path: <dev-return-82433-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A1E2B17CF5
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 22 Apr 2015 18:27:29 +0000 (UTC)
Received: (qmail 80207 invoked by uid 500); 22 Apr 2015 18:27:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 80137 invoked by uid 500); 22 Apr 2015 18:27:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 80127 invoked by uid 99); 22 Apr 2015 18:27:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 18:27:29 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 18:27:22 +0000
Received: from userp1040.oracle.com (userp1040.oracle.com [156.151.31.81])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 133DB25BBC
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 18:27:02 +0000 (UTC)
Received: from userv0022.oracle.com (userv0022.oracle.com [156.151.31.74])
	by userp1040.oracle.com (Sentrion-MTA-4.3.2/Sentrion-MTA-4.3.2) with ESMTP id t3MIP0Sl020378
	(version=TLSv1 cipher=DHE-RSA-AES256-SHA bits=256 verify=OK)
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 18:25:01 GMT
Received: from aserv0122.oracle.com (aserv0122.oracle.com [141.146.126.236])
	by userv0022.oracle.com (8.13.8/8.13.8) with ESMTP id t3MIP01e000813
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 18:25:00 GMT
Received: from abhmp0016.oracle.com (abhmp0016.oracle.com [141.146.116.22])
	by aserv0122.oracle.com (8.13.8/8.13.8) with ESMTP id t3MIOxWq014812
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 18:25:00 GMT
Received: from [10.132.185.143] (/10.132.185.143)
	by default (Oracle Beehive Gateway v4.0)
	with ESMTP ; Wed, 22 Apr 2015 11:24:59 -0700
Message-ID: <5537E774.50202@oracle.com>
Date: Wed, 22 Apr 2015 11:24:52 -0700
From: Mike Rumph <mike.rumph@oracle.com>
Organization: Oracle Corporation
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.1.2
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1675436 - /httpd/httpd/trunk/docs/manual/mod/mod_authnz_ldap.xml
References: <20150422174400.CA42BAC0027@hades.apache.org>
In-Reply-To: <20150422174400.CA42BAC0027@hades.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Source-IP: userv0022.oracle.com [156.151.31.74]
X-Virus-Checked: Checked by ClamAV on apache.org

Hello Eric,

This change gives the following error when ./build.sh validate-xml is run:

Buildfile: build.xml

validate-xml:
[xmlvalidate] 
/home/mrumph/httpd-trunk/docs/manual/mod/mod_authnz_ldap.xml:114:49: 
Attribute "name" must be declared for element type "module".
[xmlvalidate] 
/home/mrumph/httpd-trunk/docs/manual/mod/mod_authnz_ldap.xml:118:28: 
Attribute "name" must be declared for element type "module".

BUILD FAILED
/home/mrumph/httpd-trunk/docs/manual/style/lang-targets.xml:294: 
/home/mrumph/httpd-trunk/docs/manual/mod/mod_authnz_ldap.xml is not a 
valid XML document.

Thanks,

Mike Rumph

On 4/22/2015 10:44 AM, covener@apache.org wrote:
> Author: covener
> Date: Wed Apr 22 17:44:00 2015
> New Revision: 1675436
>
> URL: http://svn.apache.org/r1675436
> Log:
> add a prominent caveat about the effect of caching.
>
> PR55089
>
> Modified:
>      httpd/httpd/trunk/docs/manual/mod/mod_authnz_ldap.xml
>
> Modified: httpd/httpd/trunk/docs/manual/mod/mod_authnz_ldap.xml
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/mod_authnz_ldap.xml?rev=1675436&r1=1675435&r2=1675436&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/docs/manual/mod/mod_authnz_ldap.xml (original)
> +++ httpd/httpd/trunk/docs/manual/mod/mod_authnz_ldap.xml Wed Apr 22 17:44:00 2015
> @@ -67,8 +67,8 @@ for HTTP Basic authentication.</descript
>   <section id="contents"><title>Contents</title>
>   
>       <ul>
> -      <li>
> -        <a href="#operation">Operation</a>
> +      <li> <a href="#gcaveats">General caveats</a> </li>
> +      <li> <a href="#operation">Operation</a>
>   
>           <ul>
>             <li><a href="#authenphase">The Authentication
> @@ -109,6 +109,16 @@ for HTTP Basic authentication.</descript
>       </ul>
>   </section>
>   
> +<section id="gcaveats"><title>General caveats</title>
> +<p> This module caches authentication and authorization results based
> +on the configuration of <module name="mod_ldap">mod_ldap</module>. Changes
> +made to the backing LDAP server will not be immediately reflected on the
> +HTTP Server, including but not limited to user lockouts/revocations,
> +password changes, or changes to group memberships.  Consult the directives
> +in <module name="mod_ldap">mod_ldap</module> for details of the cache tunables.
> +</p>
> +</section>
> +
>   <section id="operation"><title>Operation</title>
>   
>       <p>There are two phases in granting access to a user. The first
>
>
>
>


From dev-return-82434-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 22 19:31:41 2015
Return-Path: <dev-return-82434-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3ADF917309
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 22 Apr 2015 19:31:41 +0000 (UTC)
Received: (qmail 2801 invoked by uid 500); 22 Apr 2015 19:31:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 2708 invoked by uid 500); 22 Apr 2015 19:31:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 2698 invoked by uid 99); 22 Apr 2015 19:31:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 19:31:28 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (athena.apache.org: transitioning domain of rainer.jung@kippdata.de does not designate 54.191.145.13 as permitted sender)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 19:31:21 +0000
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 9BF4225E5F
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 19:31:00 +0000 (UTC)
Received: from [172.28.1.22] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t3MJUvTT021862
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 21:30:57 +0200 (CEST)
Message-ID: <5537F6F0.3030206@kippdata.de>
Date: Wed, 22 Apr 2015 21:30:56 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: ALPN patch comments
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de> <5537C311.6020209@velox.ch>
In-Reply-To: <5537C311.6020209@velox.ch>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Am 22.04.2015 um 17:49 schrieb Kaspar Brand:
> On 22.04.2015 10:52, Stefan Eissing wrote:
>> I made two small patches based on the feedback from Kaspar. One for
>> the code and one for the documentation.
>
> Thanks. In the patch for ssl_private.h, the complete NPN block should
> actually be dropped - the same block is are already part of
> ssl_private.h, just 10 lines above.

I've kept the new one and dropped the old one in r1675459. The condition 
was slightly different. I dropped

#if !defined(OPENSSL_NO_NEXTPROTONEG) && defined(OPENSSL_NPN_NEGOTIATED)

and kept

#if !defined(OPENSSL_NO_NEXTPROTONEG) && !defined(OPENSSL_NO_TLSEXT) && 
defined(OPENSSL_NPN_NEGOTIATED)

Hope that's OK.

Regards,

Rainer

From dev-return-82435-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 22 19:46:56 2015
Return-Path: <dev-return-82435-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 06F1D173CC
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 22 Apr 2015 19:46:56 +0000 (UTC)
Received: (qmail 52192 invoked by uid 500); 22 Apr 2015 19:46:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 52118 invoked by uid 500); 22 Apr 2015 19:46:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 52108 invoked by uid 99); 22 Apr 2015 19:46:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 19:46:55 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (athena.apache.org: transitioning domain of mike.rumph@oracle.com does not designate 54.191.145.13 as permitted sender)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 19:46:48 +0000
Received: from aserp1040.oracle.com (aserp1040.oracle.com [141.146.126.69])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 87C57255F9
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 19:46:28 +0000 (UTC)
Received: from userv0021.oracle.com (userv0021.oracle.com [156.151.31.71])
	by aserp1040.oracle.com (Sentrion-MTA-4.3.2/Sentrion-MTA-4.3.2) with ESMTP id t3MJjLCJ022787
	(version=TLSv1 cipher=DHE-RSA-AES256-SHA bits=256 verify=OK)
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 19:45:22 GMT
Received: from aserv0122.oracle.com (aserv0122.oracle.com [141.146.126.236])
	by userv0021.oracle.com (8.13.8/8.13.8) with ESMTP id t3MJjLNX010063
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 19:45:21 GMT
Received: from abhmp0006.oracle.com (abhmp0006.oracle.com [141.146.116.12])
	by aserv0122.oracle.com (8.13.8/8.13.8) with ESMTP id t3MJjLu8017574
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 19:45:21 GMT
Received: from [10.132.185.143] (/10.132.185.143)
	by default (Oracle Beehive Gateway v4.0)
	with ESMTP ; Wed, 22 Apr 2015 12:45:21 -0700
Message-ID: <5537FA50.8030109@oracle.com>
Date: Wed, 22 Apr 2015 12:45:20 -0700
From: Mike Rumph <mike.rumph@oracle.com>
Organization: Oracle Corporation
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.1.2
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1675471 - in /httpd/httpd/trunk/docs/manual/mod:
 core.xml mod_mime.xml
References: <20150422193704.3A0E7AC0027@hades.apache.org>
In-Reply-To: <20150422193704.3A0E7AC0027@hades.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Source-IP: userv0021.oracle.com [156.151.31.71]
X-Virus-Checked: Checked by ClamAV on apache.org

Hello Eric,

This changed gives the following error when ./build.sh validate-xml is run:

Buildfile: build.xml

validate-xml:
[xmlvalidate] /home/mrumph/httpd-trunk/docs/manual/mod/core.xml:1916:7: 
The element type "p" must be terminated by the matching end-tag "</p>".

BUILD FAILED
/home/mrumph/httpd-trunk/docs/manual/style/lang-targets.xml:294: Could 
not validate document /home/mrumph/httpd-trunk/docs/manual/mod/core.xml

Thanks,

Mike

On 4/22/2015 12:37 PM, covener@apache.org wrote:
> Author: covener
> Date: Wed Apr 22 19:37:03 2015
> New Revision: 1675471
>
> URL: http://svn.apache.org/r1675471
> Log:
>
> reword per feedback
>
> Modified:
>      httpd/httpd/trunk/docs/manual/mod/core.xml
>      httpd/httpd/trunk/docs/manual/mod/mod_mime.xml
>
> Modified: httpd/httpd/trunk/docs/manual/mod/core.xml
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/core.xml?rev=1675471&r1=1675470&r2=1675471&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/docs/manual/mod/core.xml (original)
> +++ httpd/httpd/trunk/docs/manual/mod/core.xml Wed Apr 22 19:37:03 2015
> @@ -1892,18 +1892,27 @@ ForceType image/gif
>       static files, where the generator of the response typically specifies
>       a Content-Type, this directive has no effect.</p>
>   
> +
>       <note><title>Note</title>
> +    <p>If no handler is explicitly set for a request, the specified content
> +    type will also be used as the handler name. </p>
> +
>       <p>When explicit directives such as
>       <directive module="core" >SetHandler</directive> or
>       <directive module="mod_mime">AddHandler</directive> do not apply
>       to the current request, the internal handler name normally set by those
> -    directives is set to match the content type specified by this directive.
> +    directives is instead set to the content type specified by this directive.
> +    <p>
>       This is a historical behavior that some third-party modules
> -    (such as mod_php) may use "magic" content types used only to signal the
> -    module to take responsibility for the matching request.  Configurations
> -    that rely on such "magic" types should be avoided by the use of
> +    (such as mod_php) may look for a "synthetic" content type used only to
> +    signal the module to take responsibility for the matching request.
> +    </p>
> +
> +    <p>Configurations that rely on such "synthetic" types should be avoided.
> +    Additionally, configurations that restrict access to
>       <directive module="core" >SetHandler</directive> or
> -    <directive module="mod_mime">AddHandler</directive>. </p>
> +    <directive module="mod_mime">AddHandler</directive> should
> +    restrict access to this directive as well.</p>
>       </note>
>   
>   </usage>
>
> Modified: httpd/httpd/trunk/docs/manual/mod/mod_mime.xml
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/mod_mime.xml?rev=1675471&r1=1675470&r2=1675471&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/docs/manual/mod/mod_mime.xml (original)
> +++ httpd/httpd/trunk/docs/manual/mod/mod_mime.xml Wed Apr 22 19:37:03 2015
> @@ -610,17 +610,25 @@ AddType application/rss+xml;qs=0.8 .xml
>   
>   
>       <note><title>Note</title>
> +    <p>If no handler is explicitly set for a request, the specified content
> +    type will also be used as the handler name. </p>
> +
>       <p>When explicit directives such as
>       <directive module="core" >SetHandler</directive> or
>       <directive module="mod_mime">AddHandler</directive> do not apply
>       to the current request, the internal handler name normally set by those
> -    directives is set to match the content type specified by this directive.
> +    directives is instead set to the content type specified by this directive.
> +    <p>
>       This is a historical behavior that some third-party modules
> -    (such as mod_php) may use "magic" content types used only to signal the
> -    module to take responsibility for the matching request.  Configurations
> -    that rely on such "magic" types should be avoided by the use of
> +    (such as mod_php) may look for a "synthetic" content type used only to
> +    signal the module to take responsibility for the matching request.
> +    </p>
> +
> +    <p>Configurations that rely on such "synthetic" types should be avoided.
> +    Additionally, configurations that restrict access to
>       <directive module="core" >SetHandler</directive> or
> -    <directive module="mod_mime">AddHandler</directive>. </p>
> +    <directive module="mod_mime">AddHandler</directive> should
> +    restrict access to this directive as well.</p>
>       </note>
>   
>   </usage>
>
>
>
>


From dev-return-82436-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 22 20:28:49 2015
Return-Path: <dev-return-82436-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B5FAD17611
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 22 Apr 2015 20:28:49 +0000 (UTC)
Received: (qmail 73979 invoked by uid 500); 22 Apr 2015 20:28:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 73910 invoked by uid 500); 22 Apr 2015 20:28:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 73900 invoked by uid 99); 22 Apr 2015 20:28:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 20:28:49 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Apr 2015 20:28:44 +0000
Received: from mail-wg0-f49.google.com (mail-wg0-f49.google.com [74.125.82.49])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id E515143E41
	for <dev@httpd.apache.org>; Wed, 22 Apr 2015 20:28:23 +0000 (UTC)
Received: by wgyo15 with SMTP id o15so259277565wgy.2
        for <dev@httpd.apache.org>; Wed, 22 Apr 2015 13:27:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=6TcP0V79/4gkTxQBcQ4Lv6tdWGVNMv9FPkiHszz0W18=;
        b=o1H7U2Rlb8B1tWKfUiGrs1SL66NKjXvSIW31Cl7zfH7+q8oPPD068UDTNS8YopEcmP
         A2g95uuT5yKcfr47XlmiBhJ8QytnfVRwXrNSeMQ0Pf5UAvVdftAWYmIGwzT0TpToBQhH
         JWtMC+ttAwiDSJI95spse3lLonqYZP+D+hPxGoQbOdn7BqyOTDAXQYtvIqBjQfcS6kYa
         nU7ZGAAMpxoq3k2osrbNOWxKg5k7tjXmB8g28eVeCwwX2mVzOBclxCsY27cWdEUMGlDn
         BIKpMRO9YB51zP0AP4YnnHRrSGf8og1uwbt5u9eoTMz2nvQlcfLXMYFG70xuCeHAPgl/
         pWcA==
MIME-Version: 1.0
X-Received: by 10.180.77.83 with SMTP id q19mr9015274wiw.89.1429734458201;
 Wed, 22 Apr 2015 13:27:38 -0700 (PDT)
Received: by 10.27.26.200 with HTTP; Wed, 22 Apr 2015 13:27:38 -0700 (PDT)
In-Reply-To: <5537FA50.8030109@oracle.com>
References: <20150422193704.3A0E7AC0027@hades.apache.org>
	<5537FA50.8030109@oracle.com>
Date: Wed, 22 Apr 2015 16:27:38 -0400
Message-ID: <CALK=YjOscrOzwY9g=-o+raTGSNu5-DiWGAStCimuCPhmA_puqA@mail.gmail.com>
Subject: Re: svn commit: r1675471 - in /httpd/httpd/trunk/docs/manual/mod:
 core.xml mod_mime.xml
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

ty, helper script updated to run validate-xml

On Wed, Apr 22, 2015 at 3:45 PM, Mike Rumph <mike.rumph@oracle.com> wrote:
> Hello Eric,
>
> This changed gives the following error when ./build.sh validate-xml is run:
>
> Buildfile: build.xml
>
> validate-xml:
> [xmlvalidate] /home/mrumph/httpd-trunk/docs/manual/mod/core.xml:1916:7: The
> element type "p" must be terminated by the matching end-tag "</p>".
>
> BUILD FAILED
> /home/mrumph/httpd-trunk/docs/manual/style/lang-targets.xml:294: Could not
> validate document /home/mrumph/httpd-trunk/docs/manual/mod/core.xml
>
> Thanks,
>
> Mike
>
>
> On 4/22/2015 12:37 PM, covener@apache.org wrote:
>>
>> Author: covener
>> Date: Wed Apr 22 19:37:03 2015
>> New Revision: 1675471
>>
>> URL: http://svn.apache.org/r1675471
>> Log:
>>
>> reword per feedback
>>
>> Modified:
>>      httpd/httpd/trunk/docs/manual/mod/core.xml
>>      httpd/httpd/trunk/docs/manual/mod/mod_mime.xml
>>
>> Modified: httpd/httpd/trunk/docs/manual/mod/core.xml
>> URL:
>> http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/core.xml?rev=1675471&r1=1675470&r2=1675471&view=diff
>>
>> ==============================================================================
>> --- httpd/httpd/trunk/docs/manual/mod/core.xml (original)
>> +++ httpd/httpd/trunk/docs/manual/mod/core.xml Wed Apr 22 19:37:03 2015
>> @@ -1892,18 +1892,27 @@ ForceType image/gif
>>       static files, where the generator of the response typically
>> specifies
>>       a Content-Type, this directive has no effect.</p>
>>   +
>>       <note><title>Note</title>
>> +    <p>If no handler is explicitly set for a request, the specified
>> content
>> +    type will also be used as the handler name. </p>
>> +
>>       <p>When explicit directives such as
>>       <directive module="core" >SetHandler</directive> or
>>       <directive module="mod_mime">AddHandler</directive> do not apply
>>       to the current request, the internal handler name normally set by
>> those
>> -    directives is set to match the content type specified by this
>> directive.
>> +    directives is instead set to the content type specified by this
>> directive.
>> +    <p>
>>       This is a historical behavior that some third-party modules
>> -    (such as mod_php) may use "magic" content types used only to signal
>> the
>> -    module to take responsibility for the matching request.
>> Configurations
>> -    that rely on such "magic" types should be avoided by the use of
>> +    (such as mod_php) may look for a "synthetic" content type used only
>> to
>> +    signal the module to take responsibility for the matching request.
>> +    </p>
>> +
>> +    <p>Configurations that rely on such "synthetic" types should be
>> avoided.
>> +    Additionally, configurations that restrict access to
>>       <directive module="core" >SetHandler</directive> or
>> -    <directive module="mod_mime">AddHandler</directive>. </p>
>> +    <directive module="mod_mime">AddHandler</directive> should
>> +    restrict access to this directive as well.</p>
>>       </note>
>>     </usage>
>>
>> Modified: httpd/httpd/trunk/docs/manual/mod/mod_mime.xml
>> URL:
>> http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/mod_mime.xml?rev=1675471&r1=1675470&r2=1675471&view=diff
>>
>> ==============================================================================
>> --- httpd/httpd/trunk/docs/manual/mod/mod_mime.xml (original)
>> +++ httpd/httpd/trunk/docs/manual/mod/mod_mime.xml Wed Apr 22 19:37:03
>> 2015
>> @@ -610,17 +610,25 @@ AddType application/rss+xml;qs=0.8 .xml
>>           <note><title>Note</title>
>> +    <p>If no handler is explicitly set for a request, the specified
>> content
>> +    type will also be used as the handler name. </p>
>> +
>>       <p>When explicit directives such as
>>       <directive module="core" >SetHandler</directive> or
>>       <directive module="mod_mime">AddHandler</directive> do not apply
>>       to the current request, the internal handler name normally set by
>> those
>> -    directives is set to match the content type specified by this
>> directive.
>> +    directives is instead set to the content type specified by this
>> directive.
>> +    <p>
>>       This is a historical behavior that some third-party modules
>> -    (such as mod_php) may use "magic" content types used only to signal
>> the
>> -    module to take responsibility for the matching request.
>> Configurations
>> -    that rely on such "magic" types should be avoided by the use of
>> +    (such as mod_php) may look for a "synthetic" content type used only
>> to
>> +    signal the module to take responsibility for the matching request.
>> +    </p>
>> +
>> +    <p>Configurations that rely on such "synthetic" types should be
>> avoided.
>> +    Additionally, configurations that restrict access to
>>       <directive module="core" >SetHandler</directive> or
>> -    <directive module="mod_mime">AddHandler</directive>. </p>
>> +    <directive module="mod_mime">AddHandler</directive> should
>> +    restrict access to this directive as well.</p>
>>       </note>
>>     </usage>
>>
>>
>>
>>
>



-- 
Eric Covener
covener@gmail.com

From dev-return-82437-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 23 04:52:01 2015
Return-Path: <dev-return-82437-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 11F8617D69
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 23 Apr 2015 04:52:01 +0000 (UTC)
Received: (qmail 21900 invoked by uid 500); 23 Apr 2015 04:51:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 21834 invoked by uid 500); 23 Apr 2015 04:51:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 21824 invoked by uid 99); 23 Apr 2015 04:51:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 04:51:55 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 04:51:49 +0000
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 55F9F43C9C
	for <dev@httpd.apache.org>; Thu, 23 Apr 2015 04:51:29 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t3N4pLWi010770
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Thu, 23 Apr 2015 06:51:21 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1429764681;
	bh=IxU8CbxabZs5iJjYoMgBLASu/vNdY2IgiDf+SOGDVzQ=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=y4D0pZrKVw9Lw6RMYUcEkfCk78lZ6Ayhcx5MgkqfXBDUCYlZ+8owJbNVxlfIrQLuI
	 RwcO1x3jNPFPPtUhoiJgvx0XaSAQWucQ11n7GLky5dw0vKjKhSWQbnPl2dAaF9ZVji
	 /fAB37oBjDKuK7zpvqM1Z35m+Ng0MpOF3ZiWJsDk9PQ+0vsxv7h0Nx5gu4H30o+Fj/
	 RW9Ad6avlGGfqXs67KSbRHHxMe0BlwZuaNUqKfEuHZYTzx4ts98haQZqi3sod4My/1
	 yvMPHlVU7JcUuOPvLdhu9gvMjfJlfnUxnkfPSPw+gWdTz2uef0WApR6rjtDZrX9Ebe
	 BGqPU/bfjDE8g==
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on cortex.velox.ch
X-Spam-Level: 
Message-ID: <55387A4D.8000805@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1429764680;
	bh=IxU8CbxabZs5iJjYoMgBLASu/vNdY2IgiDf+SOGDVzQ=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=jHwlT0LOk64KEW5eJr11W8fpRujgYbTMpSR055zK4Cv+1PLPGYklq0NZoCaV/7BBm
	 wraQvw1TNG2Gh5pGwRGpZ4PZv4lb8HFd2LbCE9LSr5AUOqwzdEQGDn/iyelsVZREor
	 na6+5jajHyE/vKQMfutVM+RDTjR8cYl0f4uLmtAsu/1LS7JmdZyTqzHpKt5PkAebuL
	 5uuXRDwCjTFcUxF0BLWGs90sUhJ+ZKrGaQb9bz51ccky3HDVptBFt0k4DiJq7rL/Yj
	 lRqUOJmT5+zr8QsjTr0PkHFFFGh2iBvTu/mXqz+cktbSpioYO4sXlDbvFPKhQXOkJ9
	 2tvN5YCGluiDg==
Date: Thu, 23 Apr 2015 06:51:25 +0200
From: Kaspar Brand <httpd-dev.2014@velox.ch>
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: ALPN patch comments
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de> <5537C311.6020209@velox.ch> <29802184-4AB0-4D1A-AED8-802286470C20@greenbytes.de>
In-Reply-To: <29802184-4AB0-4D1A-AED8-802286470C20@greenbytes.de>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.5 required=8.0 tests=AWL=0.017,BAYES_00=-1.5,
	NO_RECEIVED=-0.001,NO_RELAYS=-0.001,T_DKIM_INVALID=0.01 autolearn=no
	autolearn_force=no version=3.4.0

On 22.04.2015 18:45, Stefan Eissing wrote:
> I understand your argument. My pov is of someone trying to bring
> http/2 to the people. While bringing a new httpd on an existing
> system seems easy, installing a new system openssl is more
> challenging with its dependencies and the changes in hiding non
> public parts of their API.

It doesn't necessarily mean replacing the system OpenSSL version. A
separately built version (static libs only, which is OpenSSL's default)
is fine for mod_ssl - just specify via "./configure --with-ssl=". I
believe Ivan Ristic once had something on it in his blog, it's a fairly
straightforward and painless option for an admin, I think.

Kaspar

From dev-return-82438-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 23 04:56:52 2015
Return-Path: <dev-return-82438-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9FE5317D84
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 23 Apr 2015 04:56:52 +0000 (UTC)
Received: (qmail 29130 invoked by uid 500); 23 Apr 2015 04:56:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29051 invoked by uid 500); 23 Apr 2015 04:56:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29041 invoked by uid 99); 23 Apr 2015 04:56:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 04:56:51 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 04:56:26 +0000
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 85983214C5
	for <dev@httpd.apache.org>; Thu, 23 Apr 2015 04:56:24 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t3N4uN4M010787
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Thu, 23 Apr 2015 06:56:24 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1429764984;
	bh=Iau6qWDLqstHI3/dfIoPISb3j15rUFzHAj+J/37Lsxw=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=r2Sa0MPq3Wakhl2waBF2gjq+V4k/39Z30OtQetj0eLr7BhPwMIrarhpEnqyTIBqPS
	 ibUxk+GaL6FmtbEuOkdLVBjQi6GrXNHP/nZhI7+Rg4uDwNfZQ/dRR4WexGaYb8t/dh
	 5PS++eFBmGJh8Pu/IUe7WsP1AB1mQsEGiPjUosGcOieTgtY7KnyRcE6d4S7HbU5fRm
	 SIX7c6LM8sGw3XXFLye4kEyLXBjZXEZYiYpeaEMLFaf8/pMeJK6L7gW/q30Hm2jFWc
	 d8lnejd+NboagxzK5m4JovxNGRkQwLIUQq08eyBJ335ffCHlhICBv4wqB1e/2WoaXk
	 7tYVM3IDEOLHQ==
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on cortex.velox.ch
X-Spam-Level: 
Message-ID: <55387B7B.8070708@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1429764982;
	bh=Iau6qWDLqstHI3/dfIoPISb3j15rUFzHAj+J/37Lsxw=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=UPe90YKs9UYaIm/jZe27kgwV/xHZVdqRPPb+P1Q8xVt+EMhmN5wBq8FWqOTj3AfRO
	 ojcZ+n9pyZ59hpl8KUvhW+5YiV5Nq7JD1D5yOqwhAg25fmDxdQi7bo8diiOQgHJ9vo
	 j8PdxztAYj6VBf4NjLHSt2J7faKQjI8Y0SZoPTlPXFChLFzoLHvKubQt0H7OneTkxD
	 ha+0FqMz91hGxzmdclgBGEdyJF3eyxUGAZVqfsvweUTO0EwrbIwLwG5RU/ptd/erug
	 FnKxODGJoaq3zwfqwUaOjC+OzSNjwIHLlafY6Ql0J/oi+gR5eiPRxlwLOB/3mJy99v
	 4B2lKf5EJTQjQ==
Date: Thu, 23 Apr 2015 06:56:27 +0200
From: Kaspar Brand <httpd-dev.2014@velox.ch>
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: ALPN patch comments
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de> <5537C311.6020209@velox.ch> <5537F6F0.3030206@kippdata.de>
In-Reply-To: <5537F6F0.3030206@kippdata.de>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.5 required=8.0 tests=AWL=0.017,BAYES_00=-1.5,
	NO_RECEIVED=-0.001,NO_RELAYS=-0.001,T_DKIM_INVALID=0.01 autolearn=no
	autolearn_force=no version=3.4.0

On 22.04.2015 21:30, Rainer Jung wrote:
> Am 22.04.2015 um 17:49 schrieb Kaspar Brand:
>> Thanks. In the patch for ssl_private.h, the complete NPN block should
>> actually be dropped - the same block is are already part of
>> ssl_private.h, just 10 lines above.
> 
> I've kept the new one and dropped the old one in r1675459.

It's nitpicking, but... the old one was already correct, actually. All
this stuff is in a larger "#if !defined(OPENSSL_NO_TLSEXT) ..." block,
so there's no need to repeat NO_TLSEXT.

I'd rather get consensus on completely dropping HAVE_TLS_NPN from trunk
anyway, though, so it's really a very minor point right now ;-)

Kaspar

From dev-return-82439-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 23 06:11:32 2015
Return-Path: <dev-return-82439-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E427718053
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 23 Apr 2015 06:11:31 +0000 (UTC)
Received: (qmail 25875 invoked by uid 500); 23 Apr 2015 06:11:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 25804 invoked by uid 500); 23 Apr 2015 06:11:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 25793 invoked by uid 99); 23 Apr 2015 06:11:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 06:11:31 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of stefan.eissing@greenbytes.de does not designate 54.76.25.247 as permitted sender)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 06:11:05 +0000
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 75A972146C
	for <dev@httpd.apache.org>; Thu, 23 Apr 2015 06:11:04 +0000 (UTC)
Received: from [192.168.178.55] (unknown [84.189.88.149])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 9FC9015A0FC8
	for <dev@httpd.apache.org>; Thu, 23 Apr 2015 08:10:56 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: ALPN patch comments
Message-Id: <94A4209C-B80E-4A3C-BCCD-2C444B245487@greenbytes.de>
Date: Thu, 23 Apr 2015 08:10:55 +0200
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de> <5537C311.6020209@velox.ch> <5537F6F0.3030206@kippdata.de> <55387B7B.8070708@velox.ch>
In-Reply-To: <55387B7B.8070708@velox.ch>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
X-Mailer: iPhone Mail (12F70)
X-Virus-Checked: Checked by ClamAV on apache.org

I don't know if I have any points to give here, but if NPN does not make it t=
o 2.4, it's fine with me to remove it from trunk also. Only mod_spdy is affe=
cted afaik.=20

//Stefan

> Am 23.04.2015 um 06:56 schrieb Kaspar Brand <httpd-dev.2014@velox.ch>:
>=20
>> On 22.04.2015 21:30, Rainer Jung wrote:
>>> Am 22.04.2015 um 17:49 schrieb Kaspar Brand:
>>> Thanks. In the patch for ssl_private.h, the complete NPN block should
>>> actually be dropped - the same block is are already part of
>>> ssl_private.h, just 10 lines above.
>>=20
>> I've kept the new one and dropped the old one in r1675459.
>=20
> It's nitpicking, but... the old one was already correct, actually. All
> this stuff is in a larger "#if !defined(OPENSSL_NO_TLSEXT) ..." block,
> so there's no need to repeat NO_TLSEXT.
>=20
> I'd rather get consensus on completely dropping HAVE_TLS_NPN from trunk
> anyway, though, so it's really a very minor point right now ;-)
>=20
> Kaspar

From dev-return-82440-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 23 07:34:36 2015
Return-Path: <dev-return-82440-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8649F18376
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 23 Apr 2015 07:34:36 +0000 (UTC)
Received: (qmail 50406 invoked by uid 500); 23 Apr 2015 07:34:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50330 invoked by uid 500); 23 Apr 2015 07:34:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50320 invoked by uid 99); 23 Apr 2015 07:34:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 07:34:35 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 07:34:29 +0000
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 52822252F7
	for <dev@httpd.apache.org>; Thu, 23 Apr 2015 07:34:07 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t3N7Y5MR027595
	for <dev@httpd.apache.org>; Thu, 23 Apr 2015 09:34:06 +0200 (CEST)
Message-ID: <5538A06C.6010300@kippdata.de>
Date: Thu, 23 Apr 2015 09:34:04 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: ALPN patch comments
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de> <5537C311.6020209@velox.ch> <5537F6F0.3030206@kippdata.de> <55387B7B.8070708@velox.ch>
In-Reply-To: <55387B7B.8070708@velox.ch>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Am 23.04.2015 um 06:56 schrieb Kaspar Brand:
> On 22.04.2015 21:30, Rainer Jung wrote:
>> Am 22.04.2015 um 17:49 schrieb Kaspar Brand:
>>> Thanks. In the patch for ssl_private.h, the complete NPN block should
>>> actually be dropped - the same block is are already part of
>>> ssl_private.h, just 10 lines above.
>>
>> I've kept the new one and dropped the old one in r1675459.
>
> It's nitpicking, but... the old one was already correct, actually. All
> this stuff is in a larger "#if !defined(OPENSSL_NO_TLSEXT) ..." block,
> so there's no need to repeat NO_TLSEXT.

Oups, fixed in r1675549.

> I'd rather get consensus on completely dropping HAVE_TLS_NPN from trunk
> anyway, though, so it's really a very minor point right now ;-)

Agreed.

Rainer


From dev-return-82441-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 23 12:53:32 2015
Return-Path: <dev-return-82441-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6A04C18ED2
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 23 Apr 2015 12:53:32 +0000 (UTC)
Received: (qmail 63342 invoked by uid 500); 23 Apr 2015 12:50:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62658 invoked by uid 500); 23 Apr 2015 12:50:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 61202 invoked by uid 99); 23 Apr 2015 12:48:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 12:48:41 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 12:48:35 +0000
Received: from mail-qk0-f180.google.com (mail-qk0-f180.google.com [209.85.220.180])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 9F93043E44
	for <dev@httpd.apache.org>; Thu, 23 Apr 2015 12:48:15 +0000 (UTC)
Received: by qkhg7 with SMTP id g7so9348639qkh.2
        for <dev@httpd.apache.org>; Thu, 23 Apr 2015 05:48:15 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:message-id:date:from:user-agent:mime-version:to
         :subject:references:in-reply-to:content-type
         :content-transfer-encoding;
        bh=GCwtDTeVcBCsSWAuEW/IUllohvSk5xfzpGKoFzR62S0=;
        b=leCTvlU1mJrUuyGLIu1wn+rozRSIC0wGFdANxmYNsASLppzjzycTmo20GAFmP0p7se
         K9Rme/VTxjIDgG6E3U5edJ3Hz5Y6Ossq6tLcLFAwLCucU+kTMtHODcb18tF51LLOgvDd
         azZJLzBVWnASc3xNzmLtJGxDEU95Eav7X/7C98yalButS0wD1XXB3U0c1mGr8VT2e6Zf
         g1z/9uEElWD1S40o5EXnM0M2NOxRWH5ij/rnVnKCf9LIDYqvYtHmN5J+TyM2oD9m/60r
         GHo6RjFib/Dg5F4fM4oy2Ve2QlJ6HL4EGPxmy7mTo2aFj1Lz5ELOMBVrFOOUdzbAJJYa
         dNEg==
X-Gm-Message-State: ALoCoQl39iQcF21RB8OCwUxJkWED2Ultgx5yqpmPyLxAFYxZJFgrH+PSy92NZVuszL0jpP6GoRPE
X-Received: by 10.140.28.102 with SMTP id 93mr2826684qgy.78.1429793295459;
        Thu, 23 Apr 2015 05:48:15 -0700 (PDT)
Received: from localhost.localdomain (cpe-74-138-23-246.kya.res.rr.com. [74.138.23.246])
        by mx.google.com with ESMTPSA id b109sm5883625qga.48.2015.04.23.05.48.13
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Thu, 23 Apr 2015 05:48:14 -0700 (PDT)
Message-ID: <5538EA0B.7030401@rcbowen.com>
Date: Thu, 23 Apr 2015 08:48:11 -0400
From: Rich Bowen <rbowen@rcbowen.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: Version check idea
References: <7C89CDBA-B463-415F-82DA-DDD6AD88C38E@jaguNET.com> <55365B1E.3010605@gmail.com>
In-Reply-To: <55365B1E.3010605@gmail.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org



On 04/21/2015 10:13 AM, Jeff Trawick wrote:
> On 04/21/2015 09:55 AM, Jim Jagielski wrote:
>> For comment: What do people think about adding the capability that
>> when httpd is started, it tries to access
>> http://httpd.apache.org/doap.rdf
>> to check its version number with the latest one referred to in that
>> file and, if a newer one exists, it prints out a little message
>> in the error.log (or stderr)...
>>
> Wild assertion: Most people don't get their httpd build from us, so it
> will be meaningless for them (i.e., says out-of-date the first day they
> fire up their shiny new Fedora-latest/Ubuntu-latest/etc.).
>

Provide either a configuration option, or other easy way for packagers 
to alter where ET phones home, to compensate for that reality.

--Rich

-- 
Rich Bowen - rbowen@rcbowen.com - @rbowen
http://apachecon.com/ - @apachecon

From dev-return-82442-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 23 12:54:05 2015
Return-Path: <dev-return-82442-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C74B518F01
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 23 Apr 2015 12:54:05 +0000 (UTC)
Received: (qmail 91541 invoked by uid 500); 23 Apr 2015 12:53:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91456 invoked by uid 500); 23 Apr 2015 12:53:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91419 invoked by uid 99); 23 Apr 2015 12:53:33 -0000
Received: from Unknown (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 12:53:33 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: local policy)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 12:51:55 +0000
Received: from mail-qc0-f172.google.com (mail-qc0-f172.google.com [209.85.216.172])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id BF20F25F38
	for <dev@httpd.apache.org>; Thu, 23 Apr 2015 12:51:32 +0000 (UTC)
Received: by qcyk17 with SMTP id k17so8255928qcy.1
        for <dev@httpd.apache.org>; Thu, 23 Apr 2015 05:51:26 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:message-id:date:from:user-agent:mime-version:to
         :subject:references:in-reply-to:content-type
         :content-transfer-encoding;
        bh=QvHzuRCncF8OMIIhEo1lI6No+NNepe+AgKcXL3kLWtw=;
        b=Q9DCcmAKKEdcO9zk8i3h9TVqU6d6Q+/gfSW0Xt59ZvlXws/OcOR82DBD8GNWqF3KDH
         o2a5QnnhBKJFPi8WSKWtmCDwldGiQWvCjdtEx3Ct22mIAnpqwVxIVQzWAY8goMESVXKI
         /sZdHGtmKGX5r6V/Hg4tjmlyRFNxCr4kATgCKmqKG6MzG5eVM/KSOoEM0JcTWEujr24E
         hxQ/i8JwzSr8xpiYXGtNt7kuijVjb2MAA/5Qp1fC0+4JW4uDb9MH2+4Ciy5gxiAYYmi9
         O+nLWjk161Odac86c4u8ScBDUvbFlrCAjyDvVG2rkO+Usb4YJgTlyq3AtvtBWWwCvlQy
         1xEw==
X-Gm-Message-State: ALoCoQlVgAoTnmMF17zP97D714IuhBmzlVR6Hu28/RgxEMKtPU96mmItAdb/5O4pBQVrbClORntI
X-Received: by 10.229.219.67 with SMTP id ht3mr2295202qcb.21.1429793486530;
        Thu, 23 Apr 2015 05:51:26 -0700 (PDT)
Received: from localhost.localdomain (cpe-74-138-23-246.kya.res.rr.com. [74.138.23.246])
        by mx.google.com with ESMTPSA id w17sm5862683qkw.32.2015.04.23.05.51.24
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Thu, 23 Apr 2015 05:51:25 -0700 (PDT)
Message-ID: <5538EACA.4060309@rcbowen.com>
Date: Thu, 23 Apr 2015 08:51:22 -0400
From: Rich Bowen <rbowen@rcbowen.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: Apache (httpd) Wiki
References: <CAFMGiz-dNWgv6hLk_TiPCyUzD8JnZWXDE2o3AcJSvauL0fuvPw@mail.gmail.com>
In-Reply-To: <CAFMGiz-dNWgv6hLk_TiPCyUzD8JnZWXDE2o3AcJSvauL0fuvPw@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org



On 04/22/2015 10:53 AM, Tom Browder wrote:
> There is an error on this page which is "immutable" and cannot be
> edited by an ordinary user (even logged in):
>
>    https://wiki.apache.org/httpd/FileSystemPermissions
>
> The error is in this the last line:
>
> What we've done here is to set all files to 640, or rw-r--r-- and
> directories to rwxr-x---. Because the group "web-content" is applied
> to all the files and directories, httpd can read these files, but
> cannot write to them.
>
> The error phrase is here:
>
>   "set all files to 640, or rw-r--r--"
>
> which should read:
>
>   "set all files to 640, or rw-r-----"


Thanks. Fixed.



-- 
Rich Bowen - rbowen@rcbowen.com - @rbowen
http://apachecon.com/ - @apachecon

From dev-return-82443-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 23 14:02:16 2015
Return-Path: <dev-return-82443-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1C7E0174AD
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 23 Apr 2015 14:02:16 +0000 (UTC)
Received: (qmail 25411 invoked by uid 500); 23 Apr 2015 14:02:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 25336 invoked by uid 500); 23 Apr 2015 14:02:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 25326 invoked by uid 99); 23 Apr 2015 14:02:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 14:02:15 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 14:02:10 +0000
Received: from mail-wi0-f180.google.com (mail-wi0-f180.google.com [209.85.212.180])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id E664B24D07
	for <dev@httpd.apache.org>; Thu, 23 Apr 2015 14:01:49 +0000 (UTC)
Received: by wizk4 with SMTP id k4so217226337wiz.1
        for <dev@httpd.apache.org>; Thu, 23 Apr 2015 07:01:48 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=aI++qCtw4fbdawduWBrsXAeB87eWi8VXVy0WdFvs6Uc=;
        b=QaH2twKtcXNODOqlHEIS+4LQ/vUNHBhnNU2NaP3TwT9QVM+FPxrUNuBR+om6RocyHV
         sj/KRwqEKCAophyxI/09tOYJ5ecC02DNJ5Gcj2buUEKnc4noCcXiSnS/lJE5atDR3SKy
         P6+x/BGM4AyPPU1/oBuBUzP7Mt3oNft62BhZE41RvmDp3wWafN2ujef0FXgsogd1pZr5
         +Z99XmzubJcH7l0XPG/S35b55MNfWMWhH05nH2SZJqUcRfVWK9lF+mw6KexS1E6NAtAl
         3C9ZDVOu39FCk72sBQxbH9TC6K4qMHHFxJ+Iz9TFxotu+j8MmZ/2XW7wWTKrojMuqPAf
         zYfQ==
MIME-Version: 1.0
X-Received: by 10.180.81.104 with SMTP id z8mr15502788wix.5.1429797708717;
 Thu, 23 Apr 2015 07:01:48 -0700 (PDT)
Received: by 10.28.62.81 with HTTP; Thu, 23 Apr 2015 07:01:48 -0700 (PDT)
Received: by 10.28.62.81 with HTTP; Thu, 23 Apr 2015 07:01:48 -0700 (PDT)
In-Reply-To: <5538EACA.4060309@rcbowen.com>
References: <CAFMGiz-dNWgv6hLk_TiPCyUzD8JnZWXDE2o3AcJSvauL0fuvPw@mail.gmail.com>
	<5538EACA.4060309@rcbowen.com>
Date: Thu, 23 Apr 2015 09:01:48 -0500
Message-ID: <CAFMGiz_d6EKwV0k_v62=Bn=HsvbF5w3itsgROgsA00LmxciSsg@mail.gmail.com>
Subject: Re: Apache (httpd) Wiki
From: Tom Browder <tom.browder@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=f46d04426b648766c0051464b8b7
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d04426b648766c0051464b8b7
Content-Type: text/plain; charset=UTF-8

On Apr 23, 2015 7:54 AM, "Rich Bowen" <rbowen@rcbowen.com> wrote:
>
>
>
> On 04/22/2015 10:53 AM, Tom Browder wrote:
>> The error phrase is here:
>>
>>   "set all files to 640, or rw-r--r--"
>>
>> which should read:
>>
>>   "set all files to 640, or rw-r-----"
>
> Thanks. Fixed.

Thanks for a rapid fix, Rich.

I haven't tried adding a new page at the same place as the file permissions
page. Is that possible for an ordinary user?

I would like to contribute my successful method for using the latest
openssl with the latest Apache while not interering with the system openssl
(from Ivan Ristic with slight mods).

Best regards,

-Tom

--f46d04426b648766c0051464b8b7
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr"><br>
On Apr 23, 2015 7:54 AM, &quot;Rich Bowen&quot; &lt;<a href=3D"mailto:rbowe=
n@rcbowen.com">rbowen@rcbowen.com</a>&gt; wrote:<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt; On 04/22/2015 10:53 AM, Tom Browder wrote:<br>
&gt;&gt; The error phrase is here:<br>
&gt;&gt;<br>
&gt;&gt; =C2=A0 &quot;set all files to 640, or rw-r--r--&quot;<br>
&gt;&gt;<br>
&gt;&gt; which should read:<br>
&gt;&gt;<br>
&gt;&gt; =C2=A0 &quot;set all files to 640, or rw-r-----&quot;<br>
&gt;<br>
&gt; Thanks. Fixed.</p>
<p dir=3D"ltr">Thanks for a rapid fix, Rich.</p>
<p dir=3D"ltr">I haven&#39;t tried adding a new page at the same place as t=
he file permissions page. Is that possible for an ordinary user?</p>
<p dir=3D"ltr"> I would like to contribute my successful method for using t=
he latest openssl with the latest Apache while not interering with the syst=
em openssl (from Ivan Ristic with slight mods).</p>
<p dir=3D"ltr">Best regards,</p>
<p dir=3D"ltr">-Tom<br>
</p>

--f46d04426b648766c0051464b8b7--

From dev-return-82444-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 23 16:02:58 2015
Return-Path: <dev-return-82444-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3B5C217A97
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 23 Apr 2015 16:02:58 +0000 (UTC)
Received: (qmail 92216 invoked by uid 500); 23 Apr 2015 16:02:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92133 invoked by uid 500); 23 Apr 2015 16:02:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92118 invoked by uid 99); 23 Apr 2015 16:02:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 16:02:57 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 16:02:31 +0000
Received: from resqmta-ch2-08v.sys.comcast.net (resqmta-ch2-08v.sys.comcast.net [69.252.207.40])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id AFC8727E93
	for <dev@httpd.apache.org>; Thu, 23 Apr 2015 16:00:20 +0000 (UTC)
Received: from resomta-ch2-09v.sys.comcast.net ([69.252.207.105])
	by resqmta-ch2-08v.sys.comcast.net with comcast
	id KTzB1q0022GyhjZ01TzCmB; Thu, 23 Apr 2015 15:59:12 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-09v.sys.comcast.net with comcast
	id KTzB1q0081cCKD901TzBCm; Thu, 23 Apr 2015 15:59:12 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: trunk and FreeBSD 10.1
Message-Id: <5A27D6F2-2505-4794-8A0C-A678B0218B6F@jaguNET.com>
Date: Thu, 23 Apr 2015 11:59:11 -0400
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1429804752;
	bh=GSGtSPSz/uSnCM92OGk75ZDF36deX5tbIO3KP7s4dVQ=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=sw6EDQxZfwM0nLlMsBZbAyYhUvPXQxKZka3Uh/h/0FVCOM4gzVf07UnKnPFLnKpsZ
	 ZclM7Wmn3iFhqVHuWbbEZHN7Wt3W+cNWhZKSqvHEgOqOlb1aFsbEQedadebe9ubAXZ
	 PHl1eJnQxv6XS8gO1Rwa30t5E4MHARg+Y6unxWsblUEhi46x87htcdtfbuo2Y5t7rz
	 RCACrNMAVyoSnRuPPwVHlshLGno4gkq7M8g5dhX1MsWMke2EVsAaE6A1iRIXsz7m/l
	 KDhw6ob04Yy0XJ5PWW2G1rnSiMUjFiTF6xpZ44VhiEAit6mspaWMYIwsPI75d8uAgc
	 ENe93yhQ9VLzA==
X-Virus-Checked: Checked by ClamAV on apache.org

Hmmm... I am seeing some strangeness trying to get trunk to
build on FreeBSD 10.1... I get to ./server/ and then the
build dies w/

   -DCROSS_COMPILE -o gen_test_char 
   make[2]: exec(-DCROSS_COMPILE) failed (No such file or directory)
   *** Error code 1

It looks like the Makefile.in->Makefile process is causing issues.
This is what I get in the Makefile:


   .include "$(top_builddir)/build/rules.mk"
   .include "$(top_srcdir)/build/library.mk"

   .ifdef CC_FOR_BUILD
   gen_test_char: gen_test_char.c
	$(CC_FOR_BUILD) $(CFLAGS_FOR_BUILD) -DCROSS_COMPILE -o $@ $<
   .else
   gen_test_char_OBJECTS = gen_test_char.lo
   gen_test_char: $(gen_test_char_OBJECTS)
	$(LINK) $(EXTRA_LDFLAGS) $(gen_test_char_OBJECTS) $(EXTRA_LIBS)
   .endif

So we can see where the error is... those shell vars aren't
defined/found. But why?

From dev-return-82445-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 23 16:15:17 2015
Return-Path: <dev-return-82445-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 60CB917B93
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 23 Apr 2015 16:15:17 +0000 (UTC)
Received: (qmail 60699 invoked by uid 500); 23 Apr 2015 16:15:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 60581 invoked by uid 500); 23 Apr 2015 16:15:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 60528 invoked by uid 99); 23 Apr 2015 16:15:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 16:15:12 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 16:14:46 +0000
Received: from mail-qk0-f170.google.com (mail-qk0-f170.google.com [209.85.220.170])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id BDB6327E4F
	for <dev@httpd.apache.org>; Thu, 23 Apr 2015 16:07:47 +0000 (UTC)
Received: by qkgx75 with SMTP id x75so13515048qkg.1
        for <dev@httpd.apache.org>; Thu, 23 Apr 2015 09:07:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        bh=WDmTuryeF4uc0V2zRdVA5NFXrOBSmPDyAioA27B/AJQ=;
        b=Xa+WQj14xGV4fUuvdGqqMORcRIIsnzRe1e1Fli53XB7Hq0CNC30rinHeY8I9rMWX0T
         3XxU2ATbJ/mc7nhgGFw3c1RMPH2S7deXX1ljuyT1hRj8QPVV6J+evhWjAwpHL4sri9oc
         bW5mhqI1vC6GJScZx0yfyOtlnmRyVmnJlvVvBQefcw6Cpl9pCangQg5btgePps0wIPnA
         GdSM8wJpGNVxRzaUpOl0jxHPKS/9WdXqaeY38rXuPVgR9oB9SKpBMqOeoYHdNnWSPrzS
         mfKN9F3AaJJ1y3I0aa4/bEZI95RX2MhLFpRab1Cn9dqbm6BVW+rsALgVQ0K6JJ0OW+Sc
         LaYw==
X-Received: by 10.140.235.216 with SMTP id g207mr4257428qhc.80.1429805266872;
        Thu, 23 Apr 2015 09:07:46 -0700 (PDT)
Received: from ?IPv6:2606:a000:b541:6700:eddd:6cf:88ad:1e7b? ([2606:a000:b541:6700:eddd:6cf:88ad:1e7b])
        by mx.google.com with ESMTPSA id 189sm1351632qhh.31.2015.04.23.09.07.46
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Thu, 23 Apr 2015 09:07:46 -0700 (PDT)
Message-ID: <553918CF.6060803@gmail.com>
Date: Thu, 23 Apr 2015 12:07:43 -0400
From: Jeff Trawick <trawick@gmail.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: trunk and FreeBSD 10.1
References: <5A27D6F2-2505-4794-8A0C-A678B0218B6F@jaguNET.com>
In-Reply-To: <5A27D6F2-2505-4794-8A0C-A678B0218B6F@jaguNET.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 04/23/2015 11:59 AM, Jim Jagielski wrote:
> Hmmm... I am seeing some strangeness trying to get trunk to
> build on FreeBSD 10.1... I get to ./server/ and then the
> build dies w/

try gmake?

IIRC I had noticed that some BSD make compatibility was lost at some 
point...
>
>     -DCROSS_COMPILE -o gen_test_char
>     make[2]: exec(-DCROSS_COMPILE) failed (No such file or directory)
>     *** Error code 1
>
> It looks like the Makefile.in->Makefile process is causing issues.
> This is what I get in the Makefile:
>
>
>     .include "$(top_builddir)/build/rules.mk"
>     .include "$(top_srcdir)/build/library.mk"
>
>     .ifdef CC_FOR_BUILD
>     gen_test_char: gen_test_char.c
> 	$(CC_FOR_BUILD) $(CFLAGS_FOR_BUILD) -DCROSS_COMPILE -o $@ $<
>     .else
>     gen_test_char_OBJECTS = gen_test_char.lo
>     gen_test_char: $(gen_test_char_OBJECTS)
> 	$(LINK) $(EXTRA_LDFLAGS) $(gen_test_char_OBJECTS) $(EXTRA_LIBS)
>     .endif
>
> So we can see where the error is... those shell vars aren't
> defined/found. But why?


From dev-return-82446-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 23 16:25:13 2015
Return-Path: <dev-return-82446-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5C5E017C20
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 23 Apr 2015 16:25:13 +0000 (UTC)
Received: (qmail 96634 invoked by uid 500); 23 Apr 2015 16:25:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 96549 invoked by uid 500); 23 Apr 2015 16:25:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 96539 invoked by uid 99); 23 Apr 2015 16:25:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 16:25:12 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 16:25:06 +0000
Received: from resqmta-ch2-06v.sys.comcast.net (resqmta-ch2-06v.sys.comcast.net [69.252.207.38])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id F257A25FB9
	for <dev@httpd.apache.org>; Thu, 23 Apr 2015 16:18:08 +0000 (UTC)
Received: from resomta-ch2-20v.sys.comcast.net ([69.252.207.116])
	by resqmta-ch2-06v.sys.comcast.net with comcast
	id KUGJ1q0012XD5SV01UH0S5; Thu, 23 Apr 2015 16:17:00 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-20v.sys.comcast.net with comcast
	id KUGz1q00W1cCKD901UH0J7; Thu, 23 Apr 2015 16:17:00 +0000
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: Version check idea
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <5538EA0B.7030401@rcbowen.com>
Date: Thu, 23 Apr 2015 12:16:59 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <823805A0-35D6-47B9-8CED-E319E11ED226@jaguNET.com>
References: <7C89CDBA-B463-415F-82DA-DDD6AD88C38E@jaguNET.com> <55365B1E.3010605@gmail.com> <5538EA0B.7030401@rcbowen.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1429805820;
	bh=Lm7MJcMb2voC5nmaDW9695cUN97Ih8yfcdyQW3uzZOU=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=tBhoLuEKSM0DE9swivXjA+PQpDQTu5DkUc4ido+BSIEqEGFnob2tsSretpAkJUUy6
	 T2DzDlScZuYrpDzaBxmjgtip0TC9HvMIpO0Cf1teKsqiCUHJK5k+KT4SdXSob5eXah
	 vnucyT4wmLv+RM+jBDcVtlJp95zC0lkmUXPAbhd6wqJklhq3RL+iwlGVi+tN/XCdCP
	 AXhWKx/xmibubPlR5Km/8nlRqCn+gR5TyCye2PeONw+gCvuIIwk920pdtGgwV2h0zz
	 Gp+3ujkC8a5fUM/BKeGFiu0gErtVXy5ctQKRpjHK6NvWX9FtXSXnbAKVNzDty4Dl6v
	 AuHlOFpj2QEkg==
X-Virus-Checked: Checked by ClamAV on apache.org

Hmmm... I wonder if the config directive could take a URL as
a parameter as an alternative...

> On Apr 23, 2015, at 8:48 AM, Rich Bowen <rbowen@rcbowen.com> wrote:
>=20
>=20
>=20
> On 04/21/2015 10:13 AM, Jeff Trawick wrote:
>> On 04/21/2015 09:55 AM, Jim Jagielski wrote:
>>> For comment: What do people think about adding the capability that
>>> when httpd is started, it tries to access
>>> http://httpd.apache.org/doap.rdf
>>> to check its version number with the latest one referred to in that
>>> file and, if a newer one exists, it prints out a little message
>>> in the error.log (or stderr)...
>>>=20
>> Wild assertion: Most people don't get their httpd build from us, so =
it
>> will be meaningless for them (i.e., says out-of-date the first day =
they
>> fire up their shiny new Fedora-latest/Ubuntu-latest/etc.).
>>=20
>=20
> Provide either a configuration option, or other easy way for packagers =
to alter where ET phones home, to compensate for that reality.
>=20
> --Rich
>=20
> --=20
> Rich Bowen - rbowen@rcbowen.com - @rbowen
> http://apachecon.com/ - @apachecon


From dev-return-82447-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 23 16:26:00 2015
Return-Path: <dev-return-82447-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8220417C2A
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 23 Apr 2015 16:26:00 +0000 (UTC)
Received: (qmail 98972 invoked by uid 500); 23 Apr 2015 16:25:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 98895 invoked by uid 500); 23 Apr 2015 16:25:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 98885 invoked by uid 99); 23 Apr 2015 16:25:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 16:25:44 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=HTML_MESSAGE,SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of kurt.newman@cpanel.net does not designate 54.76.25.247 as permitted sender)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 16:25:17 +0000
Received: from mx1.cpanel.net (mx1.cpanel.net [208.74.121.68])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 09E0524E9B
	for <dev@httpd.apache.org>; Thu, 23 Apr 2015 16:15:33 +0000 (UTC)
Received: from ng1.cptxoffice.net ([208.74.121.102]:23628 helo=[10.1.4.54])
	by mx1.cpanel.net with esmtpsa (TLSv1:AES128-SHA:128)
	(Exim 4.85)
	(envelope-from <kurt.newman@cpanel.net>)
	id 1YlJmg-00022g-16
	for dev@httpd.apache.org; Thu, 23 Apr 2015 11:15:26 -0500
From: Kurt Newman <kurt.newman@cpanel.net>
Content-Type: multipart/alternative; boundary="Apple-Mail=_61C33786-2BD9-4501-973D-37C5B8583BFF"
Message-Id: <44A6735B-7F10-47FB-90C7-BA6BCD1479E2@cpanel.net>
Mime-Version: 1.0 (Mac OS X Mail 7.3 \(1878.6\))
Subject: Re: Version check idea
Date: Thu, 23 Apr 2015 11:15:14 -0500
References: <1429793413.63234.ezmlm@httpd.apache.org>
To: dev@httpd.apache.org
In-Reply-To: <1429793413.63234.ezmlm@httpd.apache.org>
X-Mailer: Apple Mail (2.1878.6)
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - mx1.cpanel.net
X-AntiAbuse: Original Domain - httpd.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - cpanel.net
X-Get-Message-Sender-Via: mx1.cpanel.net: authenticated_id: kurt.newman@cpanel.net
X-Virus-Checked: Checked by ClamAV on apache.org


--Apple-Mail=_61C33786-2BD9-4501-973D-37C5B8583BFF
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=windows-1252


On Apr 23, 2015, at 7:50 AM, dev-digest-help@httpd.apache.org wrote:
>=20
> From: Jim Jagielski <jim@jaguNET.com>
> Subject: Version check idea
> Date: April 21, 2015 at 8:55:38 AM CDT
> To: httpd <dev@httpd.apache.org>
>=20
>=20
> For comment: What do people think about adding the capability that
> when httpd is started, it tries to access =
http://httpd.apache.org/doap.rdf
> to check its version number with the latest one referred to in that
> file and, if a newer one exists, it prints out a little message
> in the error.log (or stderr)...
>=20

I=92m sure this has been said, but I don=92t see a reason for this =
feature.
1. Most distributions purposely pin their Apache to older versions, then =
back-port their fixes into it.  So they=92re always going to be =
out-of-date.
2. I don=92t see this as a necessity of a web server.  If this feature =
is necessary (for those that build their own stacks), why not bundle a =
separate utility that performs the check.
3. This feature wouldn=92t be terrible useful since the goal of a web =
server is to stay up.  Checking at start-up seems counter-intuitive.=

--Apple-Mail=_61C33786-2BD9-4501-973D-37C5B8583BFF
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html;
	charset=windows-1252

<html><head><meta http-equiv=3D"Content-Type" content=3D"text/html =
charset=3Dwindows-1252"></head><body style=3D"word-wrap: break-word; =
-webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;"><br><div><div>On Apr 23, 2015, at 7:50 AM, <a =
href=3D"mailto:dev-digest-help@httpd.apache.org">dev-digest-help@httpd.apa=
che.org</a> wrote:</div><blockquote type=3D"cite"><br><div =
style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px;"><span style=3D"font-family:'Helvetica'; =
color:rgba(127, 127, 127, 1.0);"><b>From: </b></span><span =
style=3D"font-family:'Helvetica';">Jim Jagielski &lt;<a =
href=3D"mailto:jim@jaguNET.com">jim@jaguNET.com</a>&gt;<br></span></div><d=
iv style=3D"margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px;"><span style=3D"font-family:'Helvetica'; =
color:rgba(127, 127, 127, 1.0);"><b>Subject: </b></span><span =
style=3D"font-family:'Helvetica';"><b>Version check =
idea</b><br></span></div><div style=3D"margin-top: 0px; margin-right: =
0px; margin-bottom: 0px; margin-left: 0px;"><span =
style=3D"font-family:'Helvetica'; color:rgba(127, 127, 127, =
1.0);"><b>Date: </b></span><span style=3D"font-family:'Helvetica';">April =
21, 2015 at 8:55:38 AM CDT<br></span></div><div style=3D"margin-top: =
0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px;"><span =
style=3D"font-family:'Helvetica'; color:rgba(127, 127, 127, =
1.0);"><b>To: </b></span><span style=3D"font-family:'Helvetica';">httpd =
&lt;<a =
href=3D"mailto:dev@httpd.apache.org">dev@httpd.apache.org</a>&gt;<br></spa=
n></div><br><br>For comment: What do people think about adding the =
capability that<br>when httpd is started, it tries to access <a =
href=3D"http://httpd.apache.org/doap.rdf">http://httpd.apache.org/doap.rdf=
</a><br>to check its version number with the latest one referred to in =
that<br>file and, if a newer one exists, it prints out a little =
message<br>in the error.log (or =
stderr)...<br><br></blockquote></div><br><div>I=92m sure this has been =
said, but I don=92t see a reason for this feature.</div><div>1. Most =
distributions purposely pin their Apache to older versions, then =
back-port their fixes into it. &nbsp;So they=92re always going to be =
out-of-date.</div><div>2. I don=92t see this as a necessity of a web =
server. &nbsp;If this feature is necessary (for those that build their =
own stacks), why not bundle a separate utility that performs the =
check.</div><div>3. This feature wouldn=92t be terrible useful since the =
goal of a web server is to stay up. &nbsp;Checking at start-up seems =
counter-intuitive.</div></body></html>=

--Apple-Mail=_61C33786-2BD9-4501-973D-37C5B8583BFF--

From dev-return-82448-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 23 16:40:27 2015
Return-Path: <dev-return-82448-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E3B3417CCD
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 23 Apr 2015 16:40:26 +0000 (UTC)
Received: (qmail 49178 invoked by uid 500); 23 Apr 2015 16:40:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49108 invoked by uid 500); 23 Apr 2015 16:40:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49098 invoked by uid 99); 23 Apr 2015 16:40:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 16:40:26 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 16:40:19 +0000
Received: from resqmta-ch2-10v.sys.comcast.net (resqmta-ch2-10v.sys.comcast.net [69.252.207.42])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id C55C725FC2
	for <dev@httpd.apache.org>; Thu, 23 Apr 2015 16:28:40 +0000 (UTC)
Received: from resomta-ch2-12v.sys.comcast.net ([69.252.207.108])
	by resqmta-ch2-10v.sys.comcast.net with comcast
	id KUTu1q0032LrikM01UUarb; Thu, 23 Apr 2015 16:28:34 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-12v.sys.comcast.net with comcast
	id KUUZ1q00R1cCKD901UUZ0P; Thu, 23 Apr 2015 16:28:34 +0000
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: trunk and FreeBSD 10.1
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <553918CF.6060803@gmail.com>
Date: Thu, 23 Apr 2015 12:28:33 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <F505EA73-4B58-4E3C-93E3-CFAF25AD9371@jaguNET.com>
References: <5A27D6F2-2505-4794-8A0C-A678B0218B6F@jaguNET.com> <553918CF.6060803@gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1429806514;
	bh=ywt5cS540sIzikIDu3iKX3rdZSfXHh21rUXTIhB9jxs=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=RNfN7efevrOUuY8xBxSX5oMmaKRUFkPRQYG45ls1Cf9zXYL0RL+jtF+a6EoNr4kiP
	 HZDqcv0lWHPhO7MtmvJGTF8CaDWi+R27gPt110QW+BOTUNujCrkChqV8e575xwVmHR
	 lRi/HZpyZ+lQH/S7uMFpTp06+nmBS/pQUG9okL38ZF8VS8ie9+JS05XfEX3Yb6cZQy
	 fpZJwHBKaX2KpDglrHm63J68ZMeBTGhECEm4Yf6X+eTACjurBgxjGwR0nPpHS3HsNo
	 vSRjJsZCM0kDQvs/5UGJWVUyZnLG+00uyDR2smqTUMYiQVkV0PGR9rYonxS3W6bKXv
	 dKub/zfQ+V3GQ==
X-Virus-Checked: Checked by ClamAV on apache.org

I tried that, but gmake totally barfed...

> On Apr 23, 2015, at 12:07 PM, Jeff Trawick <trawick@gmail.com> wrote:
>=20
> On 04/23/2015 11:59 AM, Jim Jagielski wrote:
>> Hmmm... I am seeing some strangeness trying to get trunk to
>> build on FreeBSD 10.1... I get to ./server/ and then the
>> build dies w/
>=20
> try gmake?
>=20
> IIRC I had noticed that some BSD make compatibility was lost at some =
point...
>>=20
>>    -DCROSS_COMPILE -o gen_test_char
>>    make[2]: exec(-DCROSS_COMPILE) failed (No such file or directory)
>>    *** Error code 1
>>=20
>> It looks like the Makefile.in->Makefile process is causing issues.
>> This is what I get in the Makefile:
>>=20
>>=20
>>    .include "$(top_builddir)/build/rules.mk"
>>    .include "$(top_srcdir)/build/library.mk"
>>=20
>>    .ifdef CC_FOR_BUILD
>>    gen_test_char: gen_test_char.c
>> 	$(CC_FOR_BUILD) $(CFLAGS_FOR_BUILD) -DCROSS_COMPILE -o $@ $<
>>    .else
>>    gen_test_char_OBJECTS =3D gen_test_char.lo
>>    gen_test_char: $(gen_test_char_OBJECTS)
>> 	$(LINK) $(EXTRA_LDFLAGS) $(gen_test_char_OBJECTS) $(EXTRA_LIBS)
>>    .endif
>>=20
>> So we can see where the error is... those shell vars aren't
>> defined/found. But why?
>=20


From dev-return-82449-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 23 19:55:26 2015
Return-Path: <dev-return-82449-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 40B0917A26
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 23 Apr 2015 19:55:26 +0000 (UTC)
Received: (qmail 83671 invoked by uid 500); 23 Apr 2015 19:55:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83603 invoked by uid 500); 23 Apr 2015 19:55:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 83592 invoked by uid 99); 23 Apr 2015 19:55:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 19:55:25 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 19:54:57 +0000
Received: from lewis.sophia.w3.org (lewis.sophia.w3.org [193.51.208.79])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id A8B3D24B1F
	for <dev@httpd.apache.org>; Thu, 23 Apr 2015 19:54:55 +0000 (UTC)
Received: from mut38-7-78-226-234-114.fbx.proxad.net ([78.226.234.114] helo=kiribati.inrialpes.fr)
	by lewis.sophia.w3.org with esmtpsa (TLS1.2:DHE_RSA_AES_256_CBC_SHA256:256)
	(Exim 4.80)
	(envelope-from <kahan@w3.org>)
	id 1YlNCy-0001n1-6o; Thu, 23 Apr 2015 19:54:48 +0000
Received: by kiribati.inrialpes.fr (Postfix, from userid 50104)
	id 59F6A8DA; Thu, 23 Apr 2015 21:54:43 +0200 (CEST)
Date: Thu, 23 Apr 2015 21:54:43 +0200
From: Jose Kahan <jose.kahan@w3.org>
To: dev@httpd.apache.org
Cc: minfrin@sharp.fm
Subject: Re: Extending mod_authz_dbd
Message-ID: <20150423195443.GA6564@kiribati.inrialpes.fr>
Reply-To: jose.kahan@w3.org
References: <20150414173852.GA7233@kiribati.inrialpes.fr>
 <304DB914-ED71-4476-B875-F1ABDD1E370C@sharp.fm>
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="x+6KMIRAuhnl3hBn"
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <304DB914-ED71-4476-B875-F1ABDD1E370C@sharp.fm>
User-Agent: Mutt/1.5.21 (2010-09-15)
X-Virus-Checked: Checked by ClamAV on apache.org


--x+6KMIRAuhnl3hBn
Content-Type: text/plain; charset=utf-8
Content-Disposition: inline
Content-Transfer-Encoding: 8bit

Hi Graham,

Here's a first patch that adds the functionality that you suggested.

>   Require dbd-login %{REQUEST_URI} %{REQUEST_METHOD} %{REMOTE_USER}
>   AuthzDBDQuery "UPDATE authn SET uri = %s, method = %s WHERE user = %s
>
>   Require dbd-logout %{TIME} %{REMOTE_USER}
>   AuthzDBDQuery "UPDATE authn SET logout_time = %s WHERE user = %s
>
> To be backwards compatible, "Require dbd-login on its own would imply "Require dbd-login %{REMOTER_USER}.
>
> One possible approach to support completely generic queries might be as follows:
>
>   Require dbd-query %{REQUEST_URI} %{REMOTE_USER}
>   AuthzDBDQuery SELECT count(user) FROM authn WHERE uri=%s AND user = %s

Although I developed and tested this against the 2.4.10 source
tree (the latest debian jessie version), I checked and this 
module as well as mod_dbd.c have not changed since then neither 
in the latest 2.4.x nor in trunk. I don't think there will be 
an issue running it there.  Installing that environment over the 
default debian one could be a hazzle for me that I'd prefer
to avoid , but that I could do if needed.

Here below are some development notes.

Please keep me update if I can contribute something else to this
patch, that it be documentation or further changes. I understand
there's no engagement to accept this code from you. We can chat
on irc too if needed.

Cheers,

-jose

Open issues:

- I wanted to control that the number of bind arguments correspond to
  those in the prepared request. However this value is not visible in
  apr_dbd_prepared_t *query.  Looking at the code in apr_dbd.c, I see
  that even though the number of bind arguments are being passed to
  apr_dbd_pselect() and apr_dbd_pquery() in nargs, this argument is
  discarded before calling the implementation of those functions in
  the driver.

  At least in the mysql driver, there is no further check that there
  is an equivalence between the bind and prepared statement
  arguments. In both cases there is just a call to

        mysql_stmt_bind_param(statement->stmt, bind);

  which expects bind to have the correct number of arguments. I
  checked the sqlite3 driver and it has the same issue.

  If bind has more arguments, there is no issue. If there is less, we
  risk a SIGSEV or unexpected behavior.

  To avoid this issue, I wanted to control the number of arguments
  when parsing the configuration file and show a configuration error
  when necessary. However, as the prepared query goes into opaque
  driver implementations, I don't have access to its nargs value. Are
  there any ideas on how to get this info?  The only hack I could
  think of is counting the number of % inside the prepared query and
  making sure that we have the corresponding number of bind arguments.

- Would it be worth it to connect this module to mod_socache.c?

Other questions:

- In function dbd_parse_config, I was unable to decide whether it
  would be ok to use cmd->temp_pool instead of cmd->pool in my call to
  ap_getword_white()

- I am using ap_expr_parse_cmd() on each argument of the require
  dbd-query, dbd-login, and dbd-logout directives. I think this is
  akin to building an expression tree for each argument. Is there a
  more efficient way to do so?

--x+6KMIRAuhnl3hBn
Content-Type: text/x-diff; charset=us-ascii
Content-Disposition: attachment; filename="mod_authz_dbd.c.diff"

Index: mod_authz_dbd.c
===================================================================
--- mod_authz_dbd.c	(revision 1675706)
+++ mod_authz_dbd.c	(working copy)
@@ -109,7 +109,45 @@
     {NULL}
 };
 
+static int evaluate_query_parameters(request_rec *r, 
+                                     const apr_array_header_t *parsed_require_args, 
+				     const void **query_parameters)
+{
+    int i;
+    apr_array_header_t *qp;
+    
+    const ap_expr_info_t *expr = NULL;
+    const char *parameter;
+    
+    const char *err = NULL;
+    
+    /* evaluate the query parameters in parsed_require_args */
+    qp = apr_array_make(r->pool, 
+			parsed_require_args->nelts, 
+			sizeof (char *));
+    
+    for (i = 0; i < parsed_require_args->nelts; i++) {
+        
+        expr = ((const ap_expr_info_t **)parsed_require_args->elts)[i];
+        parameter = ap_expr_str_exec(r, expr, &err);
+        
+        if (err) {
+            ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO()
+                          "authz_dbd in evaluate query_parameters: Can't "
+                          "evaluate require expression: %s", err);
+            return HTTP_INTERNAL_SERVER_ERROR;
+        }
+
+        *(const char **)apr_array_push(qp) = parameter;
+    }
+    
+    *query_parameters = (void *)qp;
+    
+    return OK;
+}
+
 static int authz_dbd_login(request_rec *r, authz_dbd_cfg *cfg,
+			   const void *parsed_require_args,
                            const char *action)
 {
     int rv;
@@ -120,12 +158,18 @@
     apr_dbd_prepared_t *query;
     apr_dbd_results_t *res = NULL;
     apr_dbd_row_t *row = NULL;
+    apr_array_header_t *query_parameters;
 
     if (cfg->query == NULL) {
         ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO(01642)
                       "No query configured for %s!", action);
         return HTTP_INTERNAL_SERVER_ERROR;
     }
+    if (dbd == NULL) {
+        ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO()
+                      "No db handle available for %s! Check your database access", action);
+        return HTTP_INTERNAL_SERVER_ERROR;
+    }
     query = apr_hash_get(dbd->prepared, cfg->query, APR_HASH_KEY_STRING);
     if (query == NULL) {
         ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO(01643)
@@ -133,8 +177,15 @@
         return HTTP_INTERNAL_SERVER_ERROR;
     }
 
-    rv = apr_dbd_pvquery(dbd->driver, r->pool, dbd->handle, &nrows,
-                         query, r->user, NULL);
+    rv = evaluate_query_parameters(r, parsed_require_args, (void *)&query_parameters);
+    if (rv != OK) {
+        return HTTP_INTERNAL_SERVER_ERROR;
+    }
+
+    rv = apr_dbd_pquery(dbd->driver, r->pool, dbd->handle, &nrows,
+			query,
+			query_parameters->nelts,
+			(const char **)query_parameters->elts);
     if (rv == 0) {
         if (nrows != 1) {
             ap_log_rerror(APLOG_MARK, APLOG_WARNING, 0, r, APLOGNO(01644)
@@ -194,6 +245,68 @@
     return OK;
 }
 
+static int authz_dbd_query(request_rec *r, authz_dbd_cfg *cfg,
+			   const apr_array_header_t *query_parameters,
+			   apr_array_header_t *query_result_rows)
+{
+    /* SELECT group FROM authz WHERE col = %s, col = %s, ... */
+    int rv;
+    const char *message;
+    ap_dbd_t *dbd = dbd_handle(r);
+    apr_dbd_prepared_t *query;
+    apr_dbd_results_t *res = NULL;
+    apr_dbd_row_t *row = NULL;
+    const char **query_result_row;
+
+    if (cfg->query == NULL) {
+        ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO()
+                      "No query configured for dbd-query!");
+        return HTTP_INTERNAL_SERVER_ERROR;
+    }
+    if (dbd == NULL) {
+        ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO()
+                      "No db handle available for dbd-query! Check your database access");
+        return HTTP_INTERNAL_SERVER_ERROR;
+    }
+    query = apr_hash_get(dbd->prepared, cfg->query, APR_HASH_KEY_STRING);
+    if (query == NULL) {
+        ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO()
+                      "Error retrieving query for dbd-query!");
+        return HTTP_INTERNAL_SERVER_ERROR;
+    }
+
+    rv = apr_dbd_pselect(dbd->driver, r->pool, dbd->handle, &res,
+			 query, 0, 
+			 query_parameters->nelts,
+			 (const char **)query_parameters->elts);
+
+    if (rv == 0) {
+        for (rv = apr_dbd_get_row(dbd->driver, r->pool, res, &row, -1);
+             rv != -1;
+             rv = apr_dbd_get_row(dbd->driver, r->pool, res, &row, -1)) {
+            if (rv == 0) {
+                query_result_row = apr_array_push(query_result_rows);
+                *query_result_row = apr_dbd_get_entry(dbd->driver, row, 0);
+            }
+            else {
+                message = apr_dbd_error(dbd->driver, dbd->handle, rv);
+                ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO()
+                              "authz_dbd dbd_query in get_row; query for user=%s [%s]",
+                              r->user, message?message:noerror);
+                return HTTP_INTERNAL_SERVER_ERROR;
+            }
+        }
+    }
+    else {
+        message = apr_dbd_error(dbd->driver, dbd->handle, rv);
+        ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO()
+                      "authz_dbd, in dbd_query query for %s [%s]",
+                      r->user, message?message:noerror);
+        return HTTP_INTERNAL_SERVER_ERROR;
+    }
+    return OK;
+}
+
 static int authz_dbd_group_query(request_rec *r, authz_dbd_cfg *cfg,
                                  apr_array_header_t *groups)
 {
@@ -211,6 +324,11 @@
                       "No query configured for dbd-group!");
         return HTTP_INTERNAL_SERVER_ERROR;
     }
+    if (dbd == NULL) {
+        ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO()
+                      "No db handle available for dbd-group! Check your database access");
+        return HTTP_INTERNAL_SERVER_ERROR;
+    }
     query = apr_hash_get(dbd->prepared, cfg->query, APR_HASH_KEY_STRING);
     if (query == NULL) {
         ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO(01650)
@@ -246,6 +364,43 @@
     return OK;
 }
 
+static authz_status dbdquery_check_authorization(request_rec *r,
+                                                 const char *require_args,
+                                                 const void *parsed_require_args)
+{
+    int i, rv;
+    const char *w;
+
+    const apr_array_header_t *parsed_require_args_array = parsed_require_args;
+    apr_array_header_t *query_parameters;
+    apr_array_header_t *query_result_rows = NULL;
+
+    authz_dbd_cfg *cfg = ap_get_module_config(r->per_dir_config,
+                                              &authz_dbd_module);
+
+    if (!r->user) {
+        return AUTHZ_DENIED_NO_USER;
+    }
+    
+    rv = evaluate_query_parameters(r, parsed_require_args, (void *)&query_parameters);
+    if (rv != OK) {
+        return HTTP_INTERNAL_SERVER_ERROR;
+    }
+    
+    query_result_rows = apr_array_make(r->pool, 4, sizeof(const char*));
+    rv = authz_dbd_query(r, cfg, query_parameters, query_result_rows);
+    if (rv != OK) {
+        return HTTP_INTERNAL_SERVER_ERROR;
+    }
+    
+    /* if we get at least one row result, consider the request is granted */
+    if (query_result_rows->nelts) {
+        return AUTHZ_GRANTED;
+    }
+    
+    return AUTHZ_DENIED;
+}
+
 static authz_status dbdgroup_check_authorization(request_rec *r,
                                                  const char *require_args,
                                                  const void *parsed_require_args)
@@ -305,8 +460,8 @@
     if (!r->user) {
         return AUTHZ_DENIED_NO_USER;
     }
-
-    return (authz_dbd_login(r, cfg, "login") == OK ? AUTHZ_GRANTED : AUTHZ_DENIED);
+    
+    return (authz_dbd_login(r, cfg, parsed_require_args, "login") == OK ? AUTHZ_GRANTED : AUTHZ_DENIED);
 }
 
 static authz_status dbdlogout_check_authorization(request_rec *r,
@@ -320,15 +475,66 @@
         return AUTHZ_DENIED_NO_USER;
     }
 
-    return (authz_dbd_login(r, cfg, "logout") == OK ? AUTHZ_GRANTED : AUTHZ_DENIED);
+    return (authz_dbd_login(r, cfg, parsed_require_args, "logout") == OK ? AUTHZ_GRANTED : AUTHZ_DENIED);
 }
 
-static const char *dbd_parse_config(cmd_parms *cmd, const char *require_line,
-                                     const void **parsed_require_line)
+static const char *dbd_parse_config_query_parameters(cmd_parms *cmd, 
+						     const char *require_line,
+						     const void **parsed_require_line)
 {
     const char *expr_err = NULL;
     ap_expr_info_t *expr;
+    apr_array_header_t *expr_array = NULL;
+    
+    const char *t;
+    char *w;
+    
+    /* parse each element of the require line and store it in an
+       individual table entry. We will evaluate them in that order
+       when passing the parameters to the db query */
+    t = require_line;
+    while ((w = ap_getword_white(cmd->pool, &t)) && w[0]) {
+        
+        expr = ap_expr_parse_cmd(cmd, w, AP_EXPR_FLAG_STRING_RESULT,
+                                 &expr_err, NULL);
+        
+        if (expr_err)
+            return apr_pstrcat(cmd->temp_pool,
+                               "Cannot parse expression in require line: ",
+                               expr_err, NULL);
+        
+        if (expr_array == NULL)
+            expr_array = apr_array_make(cmd->pool, 1, sizeof(const ap_expr_info_t *));
+        *(const ap_expr_info_t **)apr_array_push(expr_array) = expr;
+    }
+    
+    *parsed_require_line = expr_array;
+    
+    return NULL;
+}
 
+static const char *dbd_parse_config_session(cmd_parms *cmd, 
+					    const char *require_line,
+					    const void **parsed_require_line)
+{
+  const char *t;
+
+  /* to preserve backwards compatibility, if the require line has no
+     arguments, use REMOTE_USER by default. */
+  if (require_line[0] == '\0')
+      t = apr_pstrdup (cmd->pool, "%{REMOTE_USER}");
+  else
+      t = require_line;
+  
+  return dbd_parse_config_query_parameters (cmd, t, parsed_require_line);
+}
+
+static const char *dbd_parse_config_groups(cmd_parms *cmd, const char *require_line,
+					   const void **parsed_require_line)
+{
+    const char *expr_err = NULL;
+    ap_expr_info_t *expr;
+
     expr = ap_expr_parse_cmd(cmd, require_line, AP_EXPR_FLAG_STRING_RESULT,
             &expr_err, NULL);
 
@@ -342,27 +548,37 @@
     return NULL;
 }
 
+static const authz_provider authz_dbdquery_provider =
+{
+    &dbdquery_check_authorization,
+    &dbd_parse_config_query_parameters,
+};
+
 static const authz_provider authz_dbdgroup_provider =
 {
     &dbdgroup_check_authorization,
-    &dbd_parse_config,
+    &dbd_parse_config_groups,
 };
 
 static const authz_provider authz_dbdlogin_provider =
 {
     &dbdlogin_check_authorization,
-    NULL,
+    dbd_parse_config_session,
 };
 
 
 static const authz_provider authz_dbdlogout_provider =
 {
     &dbdlogout_check_authorization,
-    NULL,
+    dbd_parse_config_session,
 };
 
 static void authz_dbd_hooks(apr_pool_t *p)
 {
+    ap_register_auth_provider(p, AUTHZ_PROVIDER_GROUP, "dbd-query",
+                              AUTHZ_PROVIDER_VERSION,
+                              &authz_dbdquery_provider,
+                              AP_AUTH_INTERNAL_PER_CONF);
     ap_register_auth_provider(p, AUTHZ_PROVIDER_GROUP, "dbd-group",
                               AUTHZ_PROVIDER_VERSION,
                               &authz_dbdgroup_provider,

--x+6KMIRAuhnl3hBn--

From dev-return-82450-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 23 21:36:35 2015
Return-Path: <dev-return-82450-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2A21B17F9B
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 23 Apr 2015 21:36:35 +0000 (UTC)
Received: (qmail 17784 invoked by uid 500); 23 Apr 2015 21:36:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 17709 invoked by uid 500); 23 Apr 2015 21:36:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 17699 invoked by uid 99); 23 Apr 2015 21:36:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 21:36:34 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Apr 2015 21:36:26 +0000
Received: from 19.mo5.mail-out.ovh.net (19.mo5.mail-out.ovh.net [46.105.35.78])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id D51AF42E76
	for <dev@httpd.apache.org>; Thu, 23 Apr 2015 21:36:05 +0000 (UTC)
Received: from mail438.ha.ovh.net (b9.ovh.net [213.186.33.59])
	by mo5.mail-out.ovh.net (Postfix) with SMTP id 5A224FF8CFD
	for <dev@httpd.apache.org>; Thu, 23 Apr 2015 23:35:59 +0200 (CEST)
Received: from b0.ovh.net (HELO queueout) (213.186.33.50)
	by b0.ovh.net with SMTP; 23 Apr 2015 23:35:59 +0200
Received: from aorleans-552-1-106-64.w92-140.abo.wanadoo.fr (HELO ?127.0.0.1?) (president@piranhaschateauroux.fr@92.140.233.64)
  by ns0.ovh.net with SMTP; 23 Apr 2015 23:35:58 +0200
Message-ID: <553965BB.2010007@wanadoo.fr>
Date: Thu, 23 Apr 2015 23:35:55 +0200
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: Version check idea
References: <7C89CDBA-B463-415F-82DA-DDD6AD88C38E@jaguNET.com>
In-Reply-To: <7C89CDBA-B463-415F-82DA-DDD6AD88C38E@jaguNET.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 150423-1, 23/04/2015), Outbound message
X-Antivirus-Status: Clean
X-Ovh-Tracer-Id: 7331297243809979306
X-Ovh-Remote: 92.140.233.64 (aorleans-552-1-106-64.w92-140.abo.wanadoo.fr)
X-Ovh-Local: 213.186.33.20 (ns0.ovh.net)
X-OVH-SPAMSTATE: OK
X-OVH-SPAMSCORE: 0
X-OVH-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeektddrieduucetufdoteggodetrfcurfhrohhfihhlvgemucfqggfjnecuuegrihhlohhuthemuceftddtnecu
X-VR-SPAMSTATE: OK
X-VR-SPAMSCORE: 0
X-VR-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeektddrieduucetufdoteggodetrfcurfhrohhfihhlvgemucfqggfjnecuuegrihhlohhuthemuceftddtnecu
X-Virus-Checked: Checked by ClamAV on apache.org

Le 21/04/2015 15:55, Jim Jagielski a crit :
> For comment: What do people think about adding the capability that
> when httpd is started, it tries to access http://httpd.apache.org/doap.rdf
> to check its version number with the latest one referred to in that
> file and, if a newer one exists, it prints out a little message
> in the error.log (or stderr)...
>

My 2 cents.


I don't really see the use to have such an info at start up. I would 
expect web server not to restart that often.
As said elsewhere, I suppose that server version that are running are 
the ones from the distribution used. So most user will not care about 
new version.
Moreover, in the case of a own build server, I expect that these users 
know what they do and where they can easily find information about the 
latest version, including sources in order to update.

in other words, I don't the use in real world, in any case.



However, other options could be: (going, from my point of view, from 
worst to better)

    - Send at startup "some data" to a server, including email of 
someone. This remote server would store these data, make the check and 
send by email if an upgrade exists. Knowing the version of the remote 
web server when it was last started could be used to make regular check. 
In such a case we would also need to uniquely identify all theses web 
server. These "data" could also include loaded modules in order to have 
some information on what is most used. (if of any interest)

    - Provide a service somewhere where users can register and define 
which apache foundation softwares (why limit to httpd?) they are 
running, define which version they are using. They would be notified by 
email when new version are released.

    - Add options in mod_status to make the check. (where to check, how 
often (once a day, once a week...))
      Each access to mod_status would this way display the latest 
version and if up-to-date

    - Only add a link in the page generated by mod_status.
      This link could be by default something like : 
http://https.apache.org/check_version.lua?CurVersion=2.4.1
      This would display a page which would check the differences 
between the running version and the current version or say that it is 
up-to-date


Best regards,
CJ

From dev-return-82451-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 24 06:05:27 2015
Return-Path: <dev-return-82451-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3601018490
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 24 Apr 2015 06:05:27 +0000 (UTC)
Received: (qmail 60010 invoked by uid 500); 24 Apr 2015 06:05:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59926 invoked by uid 500); 24 Apr 2015 06:05:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59916 invoked by uid 99); 24 Apr 2015 06:05:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Apr 2015 06:05:26 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Apr 2015 06:05:21 +0000
Received: from mail.acc.umu.se (mail.acc.umu.se [130.239.18.156])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 968A42497F
	for <dev@httpd.apache.org>; Fri, 24 Apr 2015 06:05:00 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by amavisd-new (Postfix) with ESMTP id 6BF06759
	for <dev@httpd.apache.org>; Fri, 24 Apr 2015 08:04:21 +0200 (MEST)
X-Virus-Scanned: amavisd-new at acc.umu.se
Received: by mail.acc.umu.se (Postfix, from userid 12143)
	id B6AA0758; Fri, 24 Apr 2015 08:04:20 +0200 (MEST)
Received: from localhost (localhost [127.0.0.1])
	by mail.acc.umu.se (Postfix) with ESMTP id B494F757
	for <dev@httpd.apache.org>; Fri, 24 Apr 2015 08:04:20 +0200 (MEST)
Date: Fri, 24 Apr 2015 08:04:20 +0200 (MEST)
From: Niklas Edmundsson <nikke@acc.umu.se>
To: dev@httpd.apache.org
Subject: mod_cache: Broken code?
Message-ID: <alpine.GSO.2.02.1504240752121.8824@hatchepsut.acc.umu.se>
User-Agent: Alpine 2.02 (GSO 1266 2009-07-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; format=flowed; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org


When trying to debug something else I stumbled across this 
code-snippet in modules/cache/mod_cache.c:

errno = 0;
x = control.max_age_value;
if (errno) {
     x = dconf->defex;
}
else {
     x = x * MSEC_ONE_SEC;
}

It looks that way both in trunk and 2.4.x.

The likelhood of that if-statement to have more than one outcome is 
low, and the fact that errno isn't used anywhere else in mod_cache.c 
makes it even more suspicious.

Looking at the annotated history it seems like the errno-stuff stems 
from apr_atoi64() being used once upon a time but has since been 
removed without cleaning up the related code...

It's easy to just remove the now redundant code, but is that the right 
way to do it or did the initial code have some function that's now 
gone missing?


/Nikke
-- 
-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
  Niklas Edmundsson, Admin @ {acc,hpc2n}.umu.se      |     nikke@acc.umu.se
---------------------------------------------------------------------------
  Those who can, do.  Those who can't, simulate.
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

From dev-return-82452-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 24 10:36:07 2015
Return-Path: <dev-return-82452-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4764E18D65
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 24 Apr 2015 10:36:07 +0000 (UTC)
Received: (qmail 50746 invoked by uid 500); 24 Apr 2015 10:36:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50680 invoked by uid 500); 24 Apr 2015 10:36:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50671 invoked by uid 99); 24 Apr 2015 10:36:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Apr 2015 10:36:01 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Apr 2015 10:35:35 +0000
Received: from einhorn.in-berlin.de (einhorn.in-berlin.de [192.109.42.8])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 0830824E9F
	for <dev@httpd.apache.org>; Fri, 24 Apr 2015 10:35:34 +0000 (UTC)
X-Envelope-From: stsp@apache.org
X-Envelope-To: <dev@httpd.apache.org>
Received: from ted.stsp.name (ted.stsp.name [217.197.84.34])
	by einhorn.in-berlin.de (8.14.4/8.14.4/Debian-4) with ESMTP id t3OAYqrU007545
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT)
	for <dev@httpd.apache.org>; Fri, 24 Apr 2015 12:34:53 +0200
Received: from localhost (ted.stsp.name [local])
	by ted.stsp.name (OpenSMTPD) with ESMTPA id 85c8691d
	for <dev@httpd.apache.org>;
	Fri, 24 Apr 2015 12:34:52 +0200 (CEST)
Date: Fri, 24 Apr 2015 12:34:52 +0200
From: Stefan Sperling <stsp@apache.org>
To: dev@httpd.apache.org
Subject: Re: trunk and FreeBSD 10.1
Message-ID: <20150424103451.GG14404@ted.stsp.name>
References: <5A27D6F2-2505-4794-8A0C-A678B0218B6F@jaguNET.com>
 <553918CF.6060803@gmail.com>
 <F505EA73-4B58-4E3C-93E3-CFAF25AD9371@jaguNET.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <F505EA73-4B58-4E3C-93E3-CFAF25AD9371@jaguNET.com>
User-Agent: Mutt/1.5.23 (2014-03-12)
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Apr 23, 2015 at 12:28:33PM -0400, Jim Jagielski wrote:
> I tried that, but gmake totally barfed...

I have the same issue on OpenBSD.

I think the GNU->BSD Makefile style transformation implemented by
build/bsd_makefile is too simplistic. All it does it putting a dot in
front of include statements: "include" -> ".include"
It doesn't seem to handle other differences between GNU make and BSD make.

Cases such as CC_FOR_BUILD being set to an empty string:

build/config_vars.mk:CC_FOR_BUILD =

and then checked with ifdef and used if defined:

server/Makefile.in:ifdef CC_FOR_BUILD
server/Makefile.in:     $(CC_FOR_BUILD) $(CFLAGS_FOR_BUILD) -DCROSS_COMPILE -o $
@ $<

It's defined, but empty, so that's where the build failure comes from.

I can only build httpd trunk on OpenBSD by first disabling the BSD
Makefile transformation logic and then using gmake:

  ./configure --disable-bsd-makefiles
  gmake

(Also make sure to revert any local .mk changes created by prior runs
of the bsd_makefile script -- they upset gmake.)

I don't think the current approach is a good one.
Either write portable Makefiles, or decide on one particular implementation
of make. The middle ground will tend to break down every now and then.
Also, on BSD the local changes to .mk files in the working copy get in
the way of 'svn diff' and 'svn commit'.

In the SVN project we write portable Makefiles which work with either
implementation. This has been working out quite well.

> > On Apr 23, 2015, at 12:07 PM, Jeff Trawick <trawick@gmail.com> wrote:
> > 
> > On 04/23/2015 11:59 AM, Jim Jagielski wrote:
> >> Hmmm... I am seeing some strangeness trying to get trunk to
> >> build on FreeBSD 10.1... I get to ./server/ and then the
> >> build dies w/
> > 
> > try gmake?
> > 
> > IIRC I had noticed that some BSD make compatibility was lost at some point...
> >> 
> >>    -DCROSS_COMPILE -o gen_test_char
> >>    make[2]: exec(-DCROSS_COMPILE) failed (No such file or directory)
> >>    *** Error code 1
> >> 
> >> It looks like the Makefile.in->Makefile process is causing issues.
> >> This is what I get in the Makefile:
> >> 
> >> 
> >>    .include "$(top_builddir)/build/rules.mk"
> >>    .include "$(top_srcdir)/build/library.mk"
> >> 
> >>    .ifdef CC_FOR_BUILD
> >>    gen_test_char: gen_test_char.c
> >> 	$(CC_FOR_BUILD) $(CFLAGS_FOR_BUILD) -DCROSS_COMPILE -o $@ $<
> >>    .else
> >>    gen_test_char_OBJECTS = gen_test_char.lo
> >>    gen_test_char: $(gen_test_char_OBJECTS)
> >> 	$(LINK) $(EXTRA_LDFLAGS) $(gen_test_char_OBJECTS) $(EXTRA_LIBS)
> >>    .endif
> >> 
> >> So we can see where the error is... those shell vars aren't
> >> defined/found. But why?
> > 

From dev-return-82453-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 24 11:02:07 2015
Return-Path: <dev-return-82453-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D7AFF18E1E
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 24 Apr 2015 11:02:07 +0000 (UTC)
Received: (qmail 2251 invoked by uid 500); 24 Apr 2015 11:02:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 2177 invoked by uid 500); 24 Apr 2015 11:02:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 2167 invoked by uid 99); 24 Apr 2015 11:02:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Apr 2015 11:02:07 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Apr 2015 11:02:00 +0000
Received: from resqmta-ch2-11v.sys.comcast.net (resqmta-ch2-11v.sys.comcast.net [69.252.207.43])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id A4B93251C8
	for <dev@httpd.apache.org>; Fri, 24 Apr 2015 11:01:20 +0000 (UTC)
Received: from resomta-ch2-15v.sys.comcast.net ([69.252.207.111])
	by resqmta-ch2-11v.sys.comcast.net with comcast
	id Kmzd1q0032Qkjl901n0K0x; Fri, 24 Apr 2015 11:00:19 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-15v.sys.comcast.net with comcast
	id Kn0J1q0071cCKD901n0Jkt; Fri, 24 Apr 2015 11:00:19 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: trunk and FreeBSD 10.1
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <20150424103451.GG14404@ted.stsp.name>
Date: Fri, 24 Apr 2015 07:00:18 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <009E31AD-4892-4118-93E4-E9ECFE5A32E3@jaguNET.com>
References: <5A27D6F2-2505-4794-8A0C-A678B0218B6F@jaguNET.com> <553918CF.6060803@gmail.com> <F505EA73-4B58-4E3C-93E3-CFAF25AD9371@jaguNET.com> <20150424103451.GG14404@ted.stsp.name>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1429873219;
	bh=Qm34zitF6SCJ7JmeJoFb8S+4nmHO1wcbvC6gH9LdTYA=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=nsTn0FD4TIvGOyP0CN6J0Lomj2GAmoyGRntzDGcn6sYqmmjPu9rEh35unpKSZlS1i
	 yHEte9SzI0B0nTYxgws16JKoqmTOTkcyGVN0zuQYtFPVf+facbVF4C3lp55umEg2KT
	 zLJq8kO++6oEQLF7i08q0xjLIjJ4bMKCki6HI5kjY73tr596kqxwHir4/14wm56aK2
	 8lsFEm19XDhO9SlRduYo4EtpyJ7igB1wl1WqTnDsuHg/THLPdEK52af2/R+vWbZcpU
	 qwi6GrMbRRUwCFIsDY9xKTYCLaN5ZUIP6C7MXZj3zIkkInkILX2N9fWiEaE6Sv14Ts
	 KvOKaOplALjlA==
X-Virus-Checked: Checked by ClamAV on apache.org

Thx for the confirmation and the assessment. I'll have to look
at how svn does it.

> On Apr 24, 2015, at 6:34 AM, Stefan Sperling <stsp@apache.org> wrote:
>=20
> On Thu, Apr 23, 2015 at 12:28:33PM -0400, Jim Jagielski wrote:
>> I tried that, but gmake totally barfed...
>=20
> I have the same issue on OpenBSD.
>=20
> I think the GNU->BSD Makefile style transformation implemented by
> build/bsd_makefile is too simplistic. All it does it putting a dot in
> front of include statements: "include" -> ".include"
> It doesn't seem to handle other differences between GNU make and BSD =
make.
>=20
> Cases such as CC_FOR_BUILD being set to an empty string:
>=20
> build/config_vars.mk:CC_FOR_BUILD =3D
>=20
> and then checked with ifdef and used if defined:
>=20
> server/Makefile.in:ifdef CC_FOR_BUILD
> server/Makefile.in:     $(CC_FOR_BUILD) $(CFLAGS_FOR_BUILD) =
-DCROSS_COMPILE -o $
> @ $<
>=20
> It's defined, but empty, so that's where the build failure comes from.
>=20
> I can only build httpd trunk on OpenBSD by first disabling the BSD
> Makefile transformation logic and then using gmake:
>=20
>  ./configure --disable-bsd-makefiles
>  gmake
>=20
> (Also make sure to revert any local .mk changes created by prior runs
> of the bsd_makefile script -- they upset gmake.)
>=20
> I don't think the current approach is a good one.
> Either write portable Makefiles, or decide on one particular =
implementation
> of make. The middle ground will tend to break down every now and then.
> Also, on BSD the local changes to .mk files in the working copy get in
> the way of 'svn diff' and 'svn commit'.
>=20
> In the SVN project we write portable Makefiles which work with either
> implementation. This has been working out quite well.
>=20
>>> On Apr 23, 2015, at 12:07 PM, Jeff Trawick <trawick@gmail.com> =
wrote:
>>>=20
>>> On 04/23/2015 11:59 AM, Jim Jagielski wrote:
>>>> Hmmm... I am seeing some strangeness trying to get trunk to
>>>> build on FreeBSD 10.1... I get to ./server/ and then the
>>>> build dies w/
>>>=20
>>> try gmake?
>>>=20
>>> IIRC I had noticed that some BSD make compatibility was lost at some =
point...
>>>>=20
>>>>   -DCROSS_COMPILE -o gen_test_char
>>>>   make[2]: exec(-DCROSS_COMPILE) failed (No such file or directory)
>>>>   *** Error code 1
>>>>=20
>>>> It looks like the Makefile.in->Makefile process is causing issues.
>>>> This is what I get in the Makefile:
>>>>=20
>>>>=20
>>>>   .include "$(top_builddir)/build/rules.mk"
>>>>   .include "$(top_srcdir)/build/library.mk"
>>>>=20
>>>>   .ifdef CC_FOR_BUILD
>>>>   gen_test_char: gen_test_char.c
>>>> 	$(CC_FOR_BUILD) $(CFLAGS_FOR_BUILD) -DCROSS_COMPILE -o $@ $<
>>>>   .else
>>>>   gen_test_char_OBJECTS =3D gen_test_char.lo
>>>>   gen_test_char: $(gen_test_char_OBJECTS)
>>>> 	$(LINK) $(EXTRA_LDFLAGS) $(gen_test_char_OBJECTS) $(EXTRA_LIBS)
>>>>   .endif
>>>>=20
>>>> So we can see where the error is... those shell vars aren't
>>>> defined/found. But why?
>>>=20


From dev-return-82454-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 24 11:20:31 2015
Return-Path: <dev-return-82454-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D04CA18E86
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 24 Apr 2015 11:20:31 +0000 (UTC)
Received: (qmail 23770 invoked by uid 500); 24 Apr 2015 11:20:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23688 invoked by uid 500); 24 Apr 2015 11:20:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23678 invoked by uid 99); 24 Apr 2015 11:20:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Apr 2015 11:20:31 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Apr 2015 11:20:23 +0000
Received: from resqmta-ch2-09v.sys.comcast.net (resqmta-ch2-09v.sys.comcast.net [69.252.207.41])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 5D9FA2143E
	for <dev@httpd.apache.org>; Fri, 24 Apr 2015 11:20:03 +0000 (UTC)
Received: from resomta-ch2-02v.sys.comcast.net ([69.252.207.98])
	by resqmta-ch2-09v.sys.comcast.net with comcast
	id KnKr1q00827uzMh01nL24Y; Fri, 24 Apr 2015 11:20:02 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-02v.sys.comcast.net with comcast
	id KnL11q00K1cCKD901nL2dj; Fri, 24 Apr 2015 11:20:02 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: trunk and FreeBSD 10.1
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <009E31AD-4892-4118-93E4-E9ECFE5A32E3@jaguNET.com>
Date: Fri, 24 Apr 2015 07:20:01 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <6E63FF0C-0009-4C21-8B6E-96B3F53B0C9D@jaguNET.com>
References: <5A27D6F2-2505-4794-8A0C-A678B0218B6F@jaguNET.com> <553918CF.6060803@gmail.com> <F505EA73-4B58-4E3C-93E3-CFAF25AD9371@jaguNET.com> <20150424103451.GG14404@ted.stsp.name> <009E31AD-4892-4118-93E4-E9ECFE5A32E3@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1429874402;
	bh=wowKErO0mmXk7OJV1/IHnVbblp7jyUXpbn1Dt+C+gbA=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=KZZi9RsQYSqB/ARD6gSe3N/fSRrnzFn47C5j21AgpUpAKplR4CHp0bbPUiZkKg0Db
	 5wo8Nnsz7ZeiCwhsaHpxADDQTYjsyYGV4ivywRIKaDmYQUo9KcZ+kHgevjWY8bojGh
	 vvxAWv7wFYKGCUfM6BLbxSMKecAYyjnLwyYV4sdJyzSRfCCFLZxLQBzXGTY8WjIXMR
	 zGxb5Q5+CnSo7e6wFWMvCEGNyIDPTWO0FM9pAnf2WlHhllTXsh36YPuwXNugjGlPaI
	 gTWZ/I1TFsNO7ncGygp6DgI0PqHBjcj8bl7mbFwrV6Ft5FIqBqMcmAPhBtlhR7fWI0
	 V/egYX3ZMy8vw==
X-Virus-Checked: Checked by ClamAV on apache.org

There is also the "magic" that configure does at well, in
altering the directives (#ifdef -> .ifdef, for example).

I think what I'll do is, if running under *BSD, see not only
if 'make' itself is really GNUmake, but also check for 'gmake'
and, if it exists, disable BSD makefiles.

From dev-return-82455-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 24 12:54:46 2015
Return-Path: <dev-return-82455-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AF6A2173D6
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 24 Apr 2015 12:54:46 +0000 (UTC)
Received: (qmail 36221 invoked by uid 500); 24 Apr 2015 12:54:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36147 invoked by uid 500); 24 Apr 2015 12:54:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36137 invoked by uid 99); 24 Apr 2015 12:54:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Apr 2015 12:54:46 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Apr 2015 12:54:17 +0000
Received: from resqmta-ch2-09v.sys.comcast.net (resqmta-ch2-09v.sys.comcast.net [69.252.207.41])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 2A72025331
	for <dev@httpd.apache.org>; Fri, 24 Apr 2015 12:54:16 +0000 (UTC)
Received: from resomta-ch2-17v.sys.comcast.net ([69.252.207.113])
	by resqmta-ch2-09v.sys.comcast.net with comcast
	id KorY1q00C2TL4Rh01osDQw; Fri, 24 Apr 2015 12:52:13 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-17v.sys.comcast.net with comcast
	id KosC1q00H1cCKD901osDYi; Fri, 24 Apr 2015 12:52:13 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: Balancer manager
Message-Id: <EC6862B4-252A-4D1C-817F-516DEF562A9F@jaguNET.com>
Date: Fri, 24 Apr 2015 08:52:12 -0400
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1429879933;
	bh=pNNuzc/yC4eUP+2H5RU92UR4td7Jwnouc6j3CvOlD6k=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=PhxUlKLBXrQBA1LzTDEQPm0YkZOMD+AMpcjbRjLBBHwtbwGUo5k4++bxJUCGiV0Hu
	 9k6oQ6Z+W3oYbGhXDEf5herouNFkOotKypAkTBf3K29dGEno3JZnw13TRc4fqlL7ch
	 nXxkhfnL3+57rJM+9TN1ucS4gDm4rX/eBx5H6/JZDpCzLJAQmJAPeEyQGFK/IXy/K8
	 DuyqEFsrUOfDrVPcKj8BW9HYwu0oOlmzxwK41oYuj7Kb4e/DcJ4ASw+1kKbaklwTIU
	 IaL6raq4GCz9+dlDO8tnCqn9bL5n2VyTqBQ+J8LDD99uSoCjAHQQuwLdJGv+KCiwPj
	 FYVi1iyHuts+g==
X-Virus-Checked: Checked by ClamAV on apache.org

Right now, the balancer manager allows for a member to be
disabled/stopped, but it cannot *remove* that member...
Seems to me that that would be good, especially since
we could always re-use that slot.

Comments?

From dev-return-82456-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 24 14:02:05 2015
Return-Path: <dev-return-82456-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 488B0176EC
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 24 Apr 2015 14:02:05 +0000 (UTC)
Received: (qmail 82630 invoked by uid 500); 24 Apr 2015 14:01:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 82551 invoked by uid 500); 24 Apr 2015 14:01:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 82540 invoked by uid 99); 24 Apr 2015 14:01:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Apr 2015 14:01:59 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Apr 2015 14:01:30 +0000
Received: from einhorn.in-berlin.de (einhorn.in-berlin.de [192.109.42.8])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 7801824B39
	for <dev@httpd.apache.org>; Fri, 24 Apr 2015 14:01:29 +0000 (UTC)
X-Envelope-From: stsp@apache.org
X-Envelope-To: <dev@httpd.apache.org>
Received: from ted.stsp.name (ted.stsp.name [217.197.84.34])
	by einhorn.in-berlin.de (8.14.4/8.14.4/Debian-4) with ESMTP id t3OE1NEB002818
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT)
	for <dev@httpd.apache.org>; Fri, 24 Apr 2015 16:01:23 +0200
Received: from localhost (ted.stsp.name [local])
	by ted.stsp.name (OpenSMTPD) with ESMTPA id 21ed5ea5
	for <dev@httpd.apache.org>;
	Fri, 24 Apr 2015 16:01:23 +0200 (CEST)
Date: Fri, 24 Apr 2015 16:01:23 +0200
From: Stefan Sperling <stsp@apache.org>
To: dev@httpd.apache.org
Subject: Re: trunk and FreeBSD 10.1
Message-ID: <20150424140122.GH14404@ted.stsp.name>
References: <5A27D6F2-2505-4794-8A0C-A678B0218B6F@jaguNET.com>
 <553918CF.6060803@gmail.com>
 <F505EA73-4B58-4E3C-93E3-CFAF25AD9371@jaguNET.com>
 <20150424103451.GG14404@ted.stsp.name>
 <009E31AD-4892-4118-93E4-E9ECFE5A32E3@jaguNET.com>
 <6E63FF0C-0009-4C21-8B6E-96B3F53B0C9D@jaguNET.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <6E63FF0C-0009-4C21-8B6E-96B3F53B0C9D@jaguNET.com>
User-Agent: Mutt/1.5.23 (2014-03-12)
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Apr 24, 2015 at 07:20:01AM -0400, Jim Jagielski wrote:
> There is also the "magic" that configure does at well, in
> altering the directives (#ifdef -> .ifdef, for example).
> 
> I think what I'll do is, if running under *BSD, see not only
> if 'make' itself is really GNUmake, but also check for 'gmake'
> and, if it exists, disable BSD makefiles.

Or perhaps declare BSD make as unsupported and require GNU make.
That's the easiest short-term solution in my opinion. The existing BSD
make support doesn't work anyway and making it work is a larger effort.

From dev-return-82457-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Apr 24 14:08:46 2015
Return-Path: <dev-return-82457-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 42B2F17750
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 24 Apr 2015 14:08:46 +0000 (UTC)
Received: (qmail 9758 invoked by uid 500); 24 Apr 2015 14:08:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 9698 invoked by uid 500); 24 Apr 2015 14:08:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 9688 invoked by uid 99); 24 Apr 2015 14:08:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Apr 2015 14:08:45 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Apr 2015 14:08:37 +0000
Received: from mail-wg0-f41.google.com (mail-wg0-f41.google.com [74.125.82.41])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id EDE0A43E36
	for <dev@httpd.apache.org>; Fri, 24 Apr 2015 14:08:16 +0000 (UTC)
Received: by wgyo15 with SMTP id o15so51949669wgy.2
        for <dev@httpd.apache.org>; Fri, 24 Apr 2015 07:07:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=5kkUCDpqwFdUSSUk+q9rEmUV7tVThJ9gTzNdsBSkCls=;
        b=S26+quAKLdgfRd0lJywdlEeKvVvrEkWs38UROpPBnzVpwHCLEAJRVzBGqy1CfqiS8L
         wci8wvNnMnPK/Ay9vZ0DyEmrMtGh1RS/fQU1gwI/oOCGfvUaU7U0AXREfrJeBTggeYXt
         dQs2+X0NsccWOxfhDBjEmBDJNVzrq8bpoLFcJMxt7prCaVBG0mtkJ+GPFAbHhFXC6Bse
         mF8oxYmdgY6Sn/o4lawr9NqUjrGnO9mkKRo9dO4IJ18CReLYnCGnwYY+6TglvIVMqeYa
         i+fy4N5QhX4SrKN+gPam3dJ4+Dxffb6wx7DgpnaB4IHTWxS2Rlzbhhiqjc6mGCGRYVJa
         b+Sg==
MIME-Version: 1.0
X-Received: by 10.194.171.1 with SMTP id aq1mr16476084wjc.38.1429884445313;
 Fri, 24 Apr 2015 07:07:25 -0700 (PDT)
Received: by 10.27.26.200 with HTTP; Fri, 24 Apr 2015 07:07:25 -0700 (PDT)
In-Reply-To: <CALK=YjPKZwQdy+gedG6dOg-0UYb93LsH3sZRmPtSRi0AmZEK5A@mail.gmail.com>
References: <CAGKR+EA01=Z_rAoyRr20k9Vqq4=TDo6OuKbD+sbiH8WgrS5gWw@mail.gmail.com>
	<CALK=YjPcGAEdoj5qz3c=nKTubs6n1v_WcBj_A4JpFcDSva-W=g@mail.gmail.com>
	<CAGKR+EDNR=9PpJ9+MJZ5Sz7gv3U+OUhW7Pypr2=rqfJXbg7AJw@mail.gmail.com>
	<CALK=YjPKZwQdy+gedG6dOg-0UYb93LsH3sZRmPtSRi0AmZEK5A@mail.gmail.com>
Date: Fri, 24 Apr 2015 10:07:25 -0400
Message-ID: <CALK=YjM5VHdazpuWOZ9yOz44YPq3NvLzhANkRm1N5MK-p05-Cw@mail.gmail.com>
Subject: Re: http2 support
From: Eric Covener <covener@gmail.com>
To: Joshua Marantz <jmarantz@google.com>, 
	Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

re-sending reply to fix httpd list.

On Fri, Apr 24, 2015 at 10:06 AM, Eric Covener <covener@gmail.com> wrote:
> On Fri, Apr 24, 2015 at 10:00 AM, Joshua Marantz <jmarantz@google.com> wrote:
>> Should I infer that no one is currently working on it?
>
> From everything I've seen, just Stefan (from mod_h2). I don't think
> anyone here has anything against http/2 or mod_h2, just
> time/priority/investment limitations.



-- 
Eric Covener
covener@gmail.com

From dev-return-82458-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Apr 25 09:48:36 2015
Return-Path: <dev-return-82458-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D27F517693
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 25 Apr 2015 09:48:36 +0000 (UTC)
Received: (qmail 18956 invoked by uid 500); 25 Apr 2015 09:48:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18869 invoked by uid 500); 25 Apr 2015 09:48:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18859 invoked by uid 99); 25 Apr 2015 09:48:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 09:48:36 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: local policy)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 09:48:10 +0000
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 3565F2313E
	for <dev@httpd.apache.org>; Sat, 25 Apr 2015 09:47:47 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t3P9lftA017724
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Sat, 25 Apr 2015 11:47:41 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1429955261;
	bh=jDUER2o/D9/YEHfKlK9YO9fQF9xOvPLaGuuEUqWtqAI=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=Hwsv7OXf8FJoh2VCpatH0QM4KGMXtcpBoicFuCA3+iKaSX6+GVyD9sLqy+8E4tK/3
	 Xi6YjoQt0FLmwBzv1VMhsB8qhMBjuqKakh89oZRpCdELGK6X4nIB97RVrfDlmT4ejB
	 y4up7UoiZik09gfPdfNuZ6QjStk9EBJLinu7XCsEljpaWDxoRMqw9IETR0mlaCZ6MZ
	 8VJe5YlhoHEWgNO+3nntBfsGqjrK+CraD4MPm7v5DoWlOWcKEfweZn/zug6r5R4mxz
	 zC0GrOn/a8lLoGPEO+/ZhhgqLcBOVeBjL/U5SjALXBOpbqRe5I4eoBctgIqbo6bGl3
	 C6kCAa4kbKdng==
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on cortex.velox.ch
X-Spam-Level: 
Message-ID: <553B62C2.9080202@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1429955260;
	bh=jDUER2o/D9/YEHfKlK9YO9fQF9xOvPLaGuuEUqWtqAI=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=p/1cu0cZeZp30Tycv20lWnVxcu689hSlJuslTkSSx84rdMd/sCsBydEJicjgIpfiw
	 HZMgT9iqC0Al8lM/Bf020qSJCQ5VmAAHm9IHJVR5yIe5mvT22UY6o6sfDXQHk1eZLk
	 E0ZBHKPE71KRi2mvyksowIQ6YgnVYNy/iL7z/t2Ai8xlZO43fqCPyMwZ7mEvaTMg8t
	 B7dAmFpAIBcMBrJf5EVyHbBBkuBMNOi/irYRaexQeEihpSfKiudqdq5TZN4qVLRfFp
	 bfwf8COiilLCElmtDkA4+BNkp0+lN2bNvgWttmlwexgAUPW9kK12gtJS9R8Aub23ms
	 cBX51Rv3DxZNA==
Date: Sat, 25 Apr 2015 11:47:46 +0200
From: Kaspar Brand <httpd-dev.2014@velox.ch>
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: ALPN patch comments
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de> <5537C311.6020209@velox.ch> <40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com>
In-Reply-To: <40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.5 required=8.0 tests=AWL=0.016,BAYES_00=-1.5,
	NO_RECEIVED=-0.001,NO_RELAYS=-0.001,T_DKIM_INVALID=0.01 autolearn=no
	autolearn_force=no version=3.4.0

On 22.04.2015 18:54, Jim Jagielski wrote:
>> For me the time seems right to rip NPN out of trunk and only backport
>> the ALPN code to 2.4.
>>
> 
> I'd be +1 for that.

So, to get one step further, and since there were no explicit objections
to removing NPN support so far (or arguments for keeping it, FWIW), I
went ahead and took a stab at this with r1676004.

Only tested in terms of "compiles both w/ and w/o HAVE_TLS_ALPN", so it
certainly needs more eyes before a backport proposal could be made.
There's also a "TODO: we should have a mod_ssl configuration parameter"
in ssl_engine_kernel.c which I'm unsure to what it refers.

Kaspar

From dev-return-82459-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Apr 25 12:15:03 2015
Return-Path: <dev-return-82459-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D9EEA17912
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 25 Apr 2015 12:15:03 +0000 (UTC)
Received: (qmail 52003 invoked by uid 500); 25 Apr 2015 12:15:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51924 invoked by uid 500); 25 Apr 2015 12:15:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51914 invoked by uid 99); 25 Apr 2015 12:15:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 12:15:03 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 12:14:36 +0000
Received: from mail-qg0-f53.google.com (mail-qg0-f53.google.com [209.85.192.53])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 6868624B39
	for <dev@httpd.apache.org>; Sat, 25 Apr 2015 12:14:34 +0000 (UTC)
Received: by qgfi89 with SMTP id i89so33625652qgf.1
        for <dev@httpd.apache.org>; Sat, 25 Apr 2015 05:13:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject
         :content-type;
        bh=eYl7nHngaFIdVurxmlEPMbyzPahfxlMp4Kyb/JgwakU=;
        b=HOuWgxBfpPKzg2Vost+x3J3LpxJoPHICe3YdnXp8QluRZRYO7NetdBNWla7zt8FYib
         sixTJcdngLhsw+RuoRlUxmb4bw3dUJ/1zyK/dI+roMIpdYxEkINwp/elcb6PldkGb4e9
         y/Na78oDvRZQRt5PLQl3sAWZfVqx9fm4p3alNYjJ5WpXcxh/2vRYQrdVeIMkte99Fb3x
         Qm9rLL/HWDT6qgT1rVvmr8jIZwZU4Ti1oQ8YToNRXaNEWVs30vlGMAX+IAyM2vvdlzJ+
         0AOR22e+JEVG/Oi6DO+XV+kTLPWoUaGar4Abyp9pP62uKE4zCgZfoGs95UWt9TLn4ti9
         9A0w==
X-Received: by 10.140.92.181 with SMTP id b50mr2139759qge.72.1429964021886;
        Sat, 25 Apr 2015 05:13:41 -0700 (PDT)
Received: from ?IPv6:2606:a000:b541:6700:a1f0:36cc:cc55:cd4f? ([2606:a000:b541:6700:a1f0:36cc:cc55:cd4f])
        by mx.google.com with ESMTPSA id i91sm9591239qgd.46.2015.04.25.05.13.41
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Sat, 25 Apr 2015 05:13:41 -0700 (PDT)
Message-ID: <553B84F2.5000805@gmail.com>
Date: Sat, 25 Apr 2015 08:13:38 -0400
From: Jeff Trawick <trawick@gmail.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: [VOTE] Release APR 1.5.2
Content-Type: multipart/alternative;
 boundary="------------030205060101040808000403"
X-Virus-Checked: Checked by ClamAV on apache.org

This is a multi-part message in MIME format.
--------------030205060101040808000403
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Tarballs/zipfiles are at http://apr.apache.org/dev/dist/

Shortcut to CHANGES:
http://apr.apache.org/dev/dist/CHANGES-APR-1.5.2

autoconf version: 2.69 (same as apr 1.5.1)
libtool version: 2.4.2 (same as apr 1.5.1)

+/-1
[  ] Release APR 1.5.2 as GA

I'll hold the vote open for 72 hours unless something out of the 
ordinary occurs.

Thanks in advance for testing!


--------------030205060101040808000403
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: 8bit

<html>
  <head>

    <meta http-equiv="content-type" content="text/html; charset=utf-8">
  </head>
  <body bgcolor="#FFFFFF" text="#000000">
    Tarballs/zipfiles are at <a class="moz-txt-link-freetext" href="http://apr.apache.org/dev/dist/">http://apr.apache.org/dev/dist/</a><br>
    <br>
    Shortcut to CHANGES:<br>
    <a class="moz-txt-link-freetext" href="http://apr.apache.org/dev/dist/CHANGES-APR-1.5.2">http://apr.apache.org/dev/dist/CHANGES-APR-1.5.2</a><br>
    <br>
    autoconf version: 2.69 (same as apr 1.5.1)<br>
    libtool version: 2.4.2 (same as apr 1.5.1)<br>
    <br>
    +/-1<br>
    [ ] Release APR 1.5.2 as GA<br>
    <br>
    I'll hold the vote open for 72 hours unless something out of the
    ordinary occurs.<br>
    <br>
    Thanks in advance for testing!<br>
    <br>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
  </body>
</html>

--------------030205060101040808000403--

From dev-return-82460-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Apr 25 13:22:49 2015
Return-Path: <dev-return-82460-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2E31917A06
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 25 Apr 2015 13:22:49 +0000 (UTC)
Received: (qmail 87639 invoked by uid 500); 25 Apr 2015 13:22:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 87566 invoked by uid 500); 25 Apr 2015 13:22:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 87556 invoked by uid 99); 25 Apr 2015 13:22:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 13:22:48 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 13:22:42 +0000
Received: from server.martynas.it (server.martynas.it [176.31.211.16])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 01E2C20DB8
	for <dev@httpd.apache.org>; Sat, 25 Apr 2015 13:22:21 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=martynas.it; s=x;
	h=Content-Type:References:In-Reply-To:MIME-Version:To:From:Message-ID:Subject:Date; bh=w5vN6+G1Qg4++SbnRUdzi5QQkBuBq3sqilAcU7RuK1k=;
	b=o3m3A5AfiMWM/4PmZrTQ8TB+pZYZDBiabRX50WuNisuYIWSK9FBlU9wL84P4pVNgdrzeuPsmOKkwzT6HweiwGckau4M1HzikHIeAsj9egtECk8KQDKafjxXeN1k3zvZbCShMJvQmmf7kPCbVQafukdUi1CK2iXgzHUfQWkIKIXjk8m0F+NVzPPuLLN+wRXoWCe6hmoyFa53cOx8YPV93i/QYxECWZctOedhryPhwH6MvKiJbE9nkd4yPrc2BltR9i45AIIKMdD3Ve5caW6+UdtEp0ypc9TyIOhny3zrHT/Yt5km3FPlxea/7sExV/WZAEb7/tqvW0X6y8Vo2ouQuCQ==;
Received: from m213-103-236-159.cust.tele2.lt ([213.103.236.159])
	by server.martynas.it with esmtpsa (TLSv1.2:DHE-RSA-AES128-GCM-SHA256:128)
	(Exim 4.85)
	(envelope-from <martynas@martynas.it>)
	id 1Ym04p-0040L9-IV
	for dev@httpd.apache.org; Sat, 25 Apr 2015 16:24:59 +0300
Date: Sat, 25 Apr 2015 16:22:11 +0300
Subject: ATS: [VOTE] Release APR 1.5.2
Message-ID: <l2mntid5auobf0fe1b4up38e.1429968131528@email.android.com>
From: Martynas Bendorius <martynas@martynas.it>
To: dev@httpd.apache.org
MIME-Version: 1.0
In-Reply-To: <553B84F2.5000805@gmail.com>
References: <553B84F2.5000805@gmail.com>
Content-Type: multipart/alternative; boundary="--_com.android.email_1422193138180725"
X-Antivirus-Scanner: Clean mail though you should still use an Antivirus
X-Authenticated-Id: martynas
X-Virus-Checked: Checked by ClamAV on apache.org

----_com.android.email_1422193138180725
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: base64

CgpCZXN0IHJlZ2FyZHMsCk1hcnR5bmFzIEJlbmRvcml1cwoKLS0tLSBKZWZmIFRyYXdpY2sgcmHF
ocSXIC0tLS0KCj5UYXJiYWxscy96aXBmaWxlcyBhcmUgYXQgaHR0cDovL2Fwci5hcGFjaGUub3Jn
L2Rldi9kaXN0Lwo+Cj5TaG9ydGN1dCB0byBDSEFOR0VTOgo+aHR0cDovL2Fwci5hcGFjaGUub3Jn
L2Rldi9kaXN0L0NIQU5HRVMtQVBSLTEuNS4yCj4KPmF1dG9jb25mIHZlcnNpb246IDIuNjkgKHNh
bWUgYXMgYXByIDEuNS4xKQo+bGlidG9vbCB2ZXJzaW9uOiAyLjQuMiAoc2FtZSBhcyBhcHIgMS41
LjEpCj4KPisvLTEKPlvCoCBdIFJlbGVhc2UgQVBSIDEuNS4yIGFzIEdBCj4KPkknbGwgaG9sZCB0
aGUgdm90ZSBvcGVuIGZvciA3MiBob3VycyB1bmxlc3Mgc29tZXRoaW5nIG91dCBvZiB0aGUgb3Jk
aW5hcnkgb2NjdXJzLgo+Cj5UaGFua3MgaW4gYWR2YW5jZSBmb3IgdGVzdGluZyEKPgo=
----_com.android.email_1422193138180725
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: base64

PHAgZGlyPSJsdHIiPjwvcD4KPHAgZGlyPSJsdHIiPkJlc3QgcmVnYXJkcyw8YnI+Ck1hcnR5bmFz
IEJlbmRvcml1czwvcD4KPGJyPjxicj4tLS0tIEplZmYgVHJhd2ljayByYcWhxJcgLS0tLTxicj48
YnI+DQogICAgVGFyYmFsbHMvemlwZmlsZXMgYXJlIGF0IDxhIGNsYXNzPSJtb3otdHh0LWxpbmst
ZnJlZXRleHQiIGhyZWY9Imh0dHA6Ly9hcHIuYXBhY2hlLm9yZy9kZXYvZGlzdC8iPmh0dHA6Ly9h
cHIuYXBhY2hlLm9yZy9kZXYvZGlzdC88L2E+PGJyPg0KICAgIDxicj4NCiAgICBTaG9ydGN1dCB0
byBDSEFOR0VTOjxicj4NCiAgICA8YSBjbGFzcz0ibW96LXR4dC1saW5rLWZyZWV0ZXh0IiBocmVm
PSJodHRwOi8vYXByLmFwYWNoZS5vcmcvZGV2L2Rpc3QvQ0hBTkdFUy1BUFItMS41LjIiPmh0dHA6
Ly9hcHIuYXBhY2hlLm9yZy9kZXYvZGlzdC9DSEFOR0VTLUFQUi0xLjUuMjwvYT48YnI+DQogICAg
PGJyPg0KICAgIGF1dG9jb25mIHZlcnNpb246IDIuNjkgKHNhbWUgYXMgYXByIDEuNS4xKTxicj4N
CiAgICBsaWJ0b29sIHZlcnNpb246IDIuNC4yIChzYW1lIGFzIGFwciAxLjUuMSk8YnI+DQogICAg
PGJyPg0KICAgICsvLTE8YnI+DQogICAgW8KgIF0gUmVsZWFzZSBBUFIgMS41LjIgYXMgR0E8YnI+
DQogICAgPGJyPg0KICAgIEknbGwgaG9sZCB0aGUgdm90ZSBvcGVuIGZvciA3MiBob3VycyB1bmxl
c3Mgc29tZXRoaW5nIG91dCBvZiB0aGUNCiAgICBvcmRpbmFyeSBvY2N1cnMuPGJyPg0KICAgIDxi
cj4NCiAgICBUaGFua3MgaW4gYWR2YW5jZSBmb3IgdGVzdGluZyE8YnI+DQogICAgPGJyPg0KICAg
IDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFy
c2V0PXV0Zi04Ij4NCiAg
----_com.android.email_1422193138180725--


From dev-return-82461-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Apr 25 13:23:02 2015
Return-Path: <dev-return-82461-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 85AC217A09
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 25 Apr 2015 13:23:02 +0000 (UTC)
Received: (qmail 88805 invoked by uid 500); 25 Apr 2015 13:23:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 88729 invoked by uid 500); 25 Apr 2015 13:23:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 88717 invoked by uid 99); 25 Apr 2015 13:23:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 13:23:02 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 13:22:55 +0000
Received: from server.martynas.it (server.martynas.it [176.31.211.16])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id B37D420CCE
	for <dev@httpd.apache.org>; Sat, 25 Apr 2015 13:22:35 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=martynas.it; s=x;
	h=Content-Type:References:In-Reply-To:MIME-Version:To:From:Message-ID:Subject:Date; bh=iL78QLkj5PnH8iKzLiBgHRvCSZKG453vRm4zF7wVmE8=;
	b=1S6O/G+xiyzzo2yGirF264sMTSfbbHCEFx71s1npHkA26npymsdGR2d0jBCdQ8gB7EFoyvoOiyttiYy1k4wMH9tiV9bB5sgIdpQTA1WueCaTovytBxnhL+nUAew/xtqbcM9r+6fGtkGgPZurSbtOvZMP+smlsYkd1RnyfZezB9ZGsMtRi9M+hwM++0TR6E2C0ufIv4XSjfdJTcgJMTLUb182nD1Tpy6Bi6oJ6VomedznLIJancxw+ugNqaZJ9vE1+GsEjJReZkyqdviYAYneESopQ0J4ydz3r6a5EQMx46lIoFp5CyqtqhJj0DYoHW8L5zWktZ/H/O4FDYqeIUPxuQ==;
Received: from m213-103-236-159.cust.tele2.lt ([213.103.236.159])
	by server.martynas.it with esmtpsa (TLSv1.2:DHE-RSA-AES128-GCM-SHA256:128)
	(Exim 4.85)
	(envelope-from <martynas@martynas.it>)
	id 1Ym05A-0040Lw-9G
	for dev@httpd.apache.org; Sat, 25 Apr 2015 16:25:20 +0300
Date: Sat, 25 Apr 2015 16:22:32 +0300
Subject: ATS: [VOTE] Release APR 1.5.2
Message-ID: <ofd6bccmf49fnvkedphomlqd.1429968152181@email.android.com>
From: Martynas Bendorius <martynas@martynas.it>
To: dev@httpd.apache.org
MIME-Version: 1.0
In-Reply-To: <553B84F2.5000805@gmail.com>
References: <553B84F2.5000805@gmail.com>
Content-Type: multipart/alternative; boundary="--_com.android.email_1422400112924926"
X-Antivirus-Scanner: Clean mail though you should still use an Antivirus
X-Authenticated-Id: martynas
X-Virus-Checked: Checked by ClamAV on apache.org

----_com.android.email_1422400112924926
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: base64

UmFycgoKQmVzdCByZWdhcmRzLApNYXJ0eW5hcyBCZW5kb3JpdXMKCi0tLS0gSmVmZiBUcmF3aWNr
IHJhxaHElyAtLS0tCgo+VGFyYmFsbHMvemlwZmlsZXMgYXJlIGF0IGh0dHA6Ly9hcHIuYXBhY2hl
Lm9yZy9kZXYvZGlzdC8KPgo+U2hvcnRjdXQgdG8gQ0hBTkdFUzoKPmh0dHA6Ly9hcHIuYXBhY2hl
Lm9yZy9kZXYvZGlzdC9DSEFOR0VTLUFQUi0xLjUuMgo+Cj5hdXRvY29uZiB2ZXJzaW9uOiAyLjY5
IChzYW1lIGFzIGFwciAxLjUuMSkKPmxpYnRvb2wgdmVyc2lvbjogMi40LjIgKHNhbWUgYXMgYXBy
IDEuNS4xKQo+Cj4rLy0xCj5bwqAgXSBSZWxlYXNlIEFQUiAxLjUuMiBhcyBHQQo+Cj5JJ2xsIGhv
bGQgdGhlIHZvdGUgb3BlbiBmb3IgNzIgaG91cnMgdW5sZXNzIHNvbWV0aGluZyBvdXQgb2YgdGhl
IG9yZGluYXJ5IG9jY3Vycy4KPgo+VGhhbmtzIGluIGFkdmFuY2UgZm9yIHRlc3RpbmchCj4K
----_com.android.email_1422400112924926
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: base64

PHAgZGlyPSJsdHIiPlJhcnI8L3A+CjxwIGRpcj0ibHRyIj5CZXN0IHJlZ2FyZHMsPGJyPgpNYXJ0
eW5hcyBCZW5kb3JpdXM8L3A+Cjxicj48YnI+LS0tLSBKZWZmIFRyYXdpY2sgcmHFocSXIC0tLS08
YnI+PGJyPg0KICAgIFRhcmJhbGxzL3ppcGZpbGVzIGFyZSBhdCA8YSBjbGFzcz0ibW96LXR4dC1s
aW5rLWZyZWV0ZXh0IiBocmVmPSJodHRwOi8vYXByLmFwYWNoZS5vcmcvZGV2L2Rpc3QvIj5odHRw
Oi8vYXByLmFwYWNoZS5vcmcvZGV2L2Rpc3QvPC9hPjxicj4NCiAgICA8YnI+DQogICAgU2hvcnRj
dXQgdG8gQ0hBTkdFUzo8YnI+DQogICAgPGEgY2xhc3M9Im1vei10eHQtbGluay1mcmVldGV4dCIg
aHJlZj0iaHR0cDovL2Fwci5hcGFjaGUub3JnL2Rldi9kaXN0L0NIQU5HRVMtQVBSLTEuNS4yIj5o
dHRwOi8vYXByLmFwYWNoZS5vcmcvZGV2L2Rpc3QvQ0hBTkdFUy1BUFItMS41LjI8L2E+PGJyPg0K
ICAgIDxicj4NCiAgICBhdXRvY29uZiB2ZXJzaW9uOiAyLjY5IChzYW1lIGFzIGFwciAxLjUuMSk8
YnI+DQogICAgbGlidG9vbCB2ZXJzaW9uOiAyLjQuMiAoc2FtZSBhcyBhcHIgMS41LjEpPGJyPg0K
ICAgIDxicj4NCiAgICArLy0xPGJyPg0KICAgIFvCoCBdIFJlbGVhc2UgQVBSIDEuNS4yIGFzIEdB
PGJyPg0KICAgIDxicj4NCiAgICBJJ2xsIGhvbGQgdGhlIHZvdGUgb3BlbiBmb3IgNzIgaG91cnMg
dW5sZXNzIHNvbWV0aGluZyBvdXQgb2YgdGhlDQogICAgb3JkaW5hcnkgb2NjdXJzLjxicj4NCiAg
ICA8YnI+DQogICAgVGhhbmtzIGluIGFkdmFuY2UgZm9yIHRlc3RpbmchPGJyPg0KICAgIDxicj4N
CiAgICA8bWV0YSBodHRwLWVxdWl2PSJjb250ZW50LXR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsg
Y2hhcnNldD11dGYtOCI+DQogIA==
----_com.android.email_1422400112924926--


From dev-return-82462-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Apr 25 13:23:05 2015
Return-Path: <dev-return-82462-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5456017A0D
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 25 Apr 2015 13:23:05 +0000 (UTC)
Received: (qmail 89803 invoked by uid 500); 25 Apr 2015 13:23:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89744 invoked by uid 500); 25 Apr 2015 13:23:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89734 invoked by uid 99); 25 Apr 2015 13:23:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 13:23:04 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 13:22:38 +0000
Received: from server.martynas.it (server.martynas.it [176.31.211.16])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id EB56524B1F
	for <dev@httpd.apache.org>; Sat, 25 Apr 2015 13:22:36 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=martynas.it; s=x;
	h=Content-Type:References:In-Reply-To:MIME-Version:To:From:Message-ID:Subject:Date; bh=0Dr1bk0qrxk1AYDYXe3G8HvFp202egt2pEJt7ttR10E=;
	b=YkAd1DRMSbYRY9K5CRloGHtryOp8dn988Pn9O+yiVTHcgUjE5XPRhg9Bg1G1DnfPX6WgguqzclFxF7MV0PwcQzXbqaxFhWdg7UEzq2pYWZdJnzeVZrGm+AGufoZ9RET7Mj6yHojl6GO2KDFcrsXnJGNIzXXaw5e+DxVRbGxE67j9o61Pm3eVQh0qM83p2Znd4Xf6ScrWrKa3xQ9EWcZuhSB7Waj+diWf/e+GwuO8cc1mj7f81igQS24ryBPvIs0THG1eaNVvTsI8O8XzZpUTm6UW25gz5JcL2lf7i0uua9hT3lN0xGubBs0jOUZRROAuHAJI+3BJ7y5qDOP1IytmOQ==;
Received: from m213-103-236-159.cust.tele2.lt ([213.103.236.159])
	by server.martynas.it with esmtpsa (TLSv1.2:DHE-RSA-AES128-GCM-SHA256:128)
	(Exim 4.85)
	(envelope-from <martynas@martynas.it>)
	id 1Ym045-0040Js-Gu
	for dev@httpd.apache.org; Sat, 25 Apr 2015 16:24:13 +0300
Date: Sat, 25 Apr 2015 16:21:25 +0300
Subject: ATS: [VOTE] Release APR 1.5.2
Message-ID: <5c4t09ilfj5esnh507njaq36.1429968085313@email.android.com>
From: Martynas Bendorius <martynas@martynas.it>
To: dev@httpd.apache.org
MIME-Version: 1.0
In-Reply-To: <553B84F2.5000805@gmail.com>
References: <553B84F2.5000805@gmail.com>
Content-Type: multipart/alternative; boundary="--_com.android.email_1421733710142874"
X-Antivirus-Scanner: Clean mail though you should still use an Antivirus
X-Authenticated-Id: martynas
X-Virus-Checked: Checked by ClamAV on apache.org

----_com.android.email_1421733710142874
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: base64

U2kKCkJlc3QgcmVnYXJkcywKTWFydHluYXMgQmVuZG9yaXVzCgotLS0tIEplZmYgVHJhd2ljayBy
YcWhxJcgLS0tLQoKPiBUYXJiYWxscy96aXBmaWxlcyBhcmUgYXQgaHR0cDovL2Fwci5hcGFjaGUu
b3JnL2Rldi9kaXN0Lwo+IAo+IFNob3J0Y3V0IHRvIENIQU5HRVM6Cj4gaHR0cDovL2Fwci5hcGFj
aGUub3JnL2Rldi9kaXN0L0NIQU5HRVMtQVBSLTEuNS4yCj4gCj4gYXV0b2NvbmYgdmVyc2lvbjog
Mi42OSAoc2FtZSBhcyBhcHIgMS41LjEpCj4gbGlidG9vbCB2ZXJzaW9uOiAyLjQuMiAoc2FtZSBh
cyBhcHIgMS41LjEpCj4gCj4gKy8tMQo+IFvCoCBdIFJlbGVhc2UgQVBSIDEuNS4yIGFzIEdBCj4g
Cj4gSSdsbCBob2xkIHRoZSB2b3RlIG9wZW4gZm9yIDcyIGhvdXJzIHVubGVzcyBzb21ldGhpbmcg
b3V0IG9mIHRoZSBvcmRpbmFyeSBvY2N1cnMuCj4gCj4gVGhhbmtzIGluIGFkdmFuY2UgZm9yIHRl
c3Rpbmch
----_com.android.email_1421733710142874
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: base64

PHAgZGlyPSJsdHIiPlNpPC9wPgo8cCBkaXI9Imx0ciI+QmVzdCByZWdhcmRzLDxicj4KTWFydHlu
YXMgQmVuZG9yaXVzPC9wPgo8cCBkaXI9Imx0ciI+LS0tLSBKZWZmIFRyYXdpY2sgcmEmIzM1Mzsm
IzI3OTsgLS0tLTwvcD4KPHAgZGlyPSJsdHIiPiZndDsgVGFyYmFsbHMvemlwZmlsZXMgYXJlIGF0
IDxhIGhyZWY9Imh0dHA6Ly9hcHIuYXBhY2hlLm9yZy9kZXYvZGlzdCI+aHR0cDovL2Fwci5hcGFj
aGUub3JnL2Rldi9kaXN0PC9hPi88YnI+CiZndDsgPGJyPgomZ3Q7IFNob3J0Y3V0IHRvIENIQU5H
RVM6PGJyPgomZ3Q7IDxhIGhyZWY9Imh0dHA6Ly9hcHIuYXBhY2hlLm9yZy9kZXYvZGlzdC9DSEFO
R0VTLUFQUi0xLjUuMiI+aHR0cDovL2Fwci5hcGFjaGUub3JnL2Rldi9kaXN0L0NIQU5HRVMtQVBS
LTEuNS4yPC9hPjxicj4KJmd0OyA8YnI+CiZndDsgYXV0b2NvbmYgdmVyc2lvbjogMi42OSAoc2Ft
ZSBhcyBhcHIgMS41LjEpPGJyPgomZ3Q7IGxpYnRvb2wgdmVyc2lvbjogMi40LjIgKHNhbWUgYXMg
YXByIDEuNS4xKTxicj4KJmd0OyA8YnI+CiZndDsgKy8tMTxicj4KJmd0OyBbJiMxNjA7IF0gUmVs
ZWFzZSBBUFIgMS41LjIgYXMgR0E8YnI+CiZndDsgPGJyPgomZ3Q7IEknbGwgaG9sZCB0aGUgdm90
ZSBvcGVuIGZvciA3MiBob3VycyB1bmxlc3Mgc29tZXRoaW5nIG91dCBvZiB0aGUgb3JkaW5hcnkg
b2NjdXJzLjxicj4KJmd0OyA8YnI+CiZndDsgVGhhbmtzIGluIGFkdmFuY2UgZm9yIHRlc3Rpbmch
PC9wPgo=
----_com.android.email_1421733710142874--


From dev-return-82463-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Apr 25 13:26:35 2015
Return-Path: <dev-return-82463-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5C57817A15
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 25 Apr 2015 13:26:35 +0000 (UTC)
Received: (qmail 91426 invoked by uid 500); 25 Apr 2015 13:26:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91355 invoked by uid 500); 25 Apr 2015 13:26:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91345 invoked by uid 99); 25 Apr 2015 13:26:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 13:26:34 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 13:26:28 +0000
Received: from server.martynas.it (server.martynas.it [176.31.211.16])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 4E36A42AA6
	for <dev@httpd.apache.org>; Sat, 25 Apr 2015 13:26:08 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=martynas.it; s=x;
	h=Content-Type:References:In-Reply-To:MIME-Version:To:From:Message-ID:Subject:Date; bh=Sr6cNil/zhMHATMr/CRyZjF/LsNcICBld7GR0AuHL04=;
	b=xPoWxrYlAuBHh/aOiAhwFFL4yDl3esEO9M0OjQ/T2rAGfaNou3IGS67M+yNwP9I9oD7dmP1Xu1XhKqCHzxhYcBjw7IK36P2Zb0Y4gWU7AgYCpKFQ19z33GT83eRuS+HKyIY2l9QPvGFZAQaTTiZPtyJIQ864SZPnenwVRjYnz2agU9yDnVcCAtOg83CWcEdh6lbXZVXBUY4Wt7qA/9aw8NQ1jGYTs+Zn/0voQGtbuRvckvWHVlOBXy/Sm4KWSEYX77S1h+Nm0BerOCW2HYKbmzQ4mLsEQXFKtiLfFAqwa8bzTWPAsBV+tjYtXAdmFAL6RhPwlBUNiV97xCP/LW/hzA==;
Received: from m213-103-236-159.cust.tele2.lt ([213.103.236.159])
	by server.martynas.it with esmtpsa (TLSv1.2:DHE-RSA-AES128-GCM-SHA256:128)
	(Exim 4.85)
	(envelope-from <martynas@martynas.it>)
	id 1Ym08V-0040RR-1m
	for dev@httpd.apache.org; Sat, 25 Apr 2015 16:28:47 +0300
Date: Sat, 25 Apr 2015 16:25:58 +0300
Subject: ATS: [VOTE] Release APR 1.5.2
Message-ID: <ph4n1q02114hofaemmn3v9v8.1429968358803@email.android.com>
From: Martynas Bendorius <martynas@martynas.it>
To: dev@httpd.apache.org
MIME-Version: 1.0
In-Reply-To: <553B84F2.5000805@gmail.com>
References: <553B84F2.5000805@gmail.com>
Content-Type: multipart/alternative; boundary="--_com.android.email_1424467652510587"
X-Antivirus-Scanner: Clean mail though you should still use an Antivirus
X-Authenticated-Id: martynas
X-Virus-Checked: Checked by ClamAV on apache.org

----_com.android.email_1424467652510587
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: base64

RSAgICBmCgpCZXN0IHJlZ2FyZHMsTmE6LSYgCk1hcnR5bmFzIEJlbmRvcml1cwoKLS0tLSBKZWZm
IFRyYXdpY2sgcmHFocSXIC0tLS0KCj4gVGFyYmFsbHMvemlwZmlsZXMgYXJlIGF0IGh0dHA6Ly9h
cHIuYXBhY2hlLm9yZy9kZXYvZGlzdC8KPiAKPiBTaG9ydGN1dCB0byBDSEFOR0VTOgo+IGh0dHA6
Ly9hcHIuYXBhY2hlLm9yZy9kZXYvZGlzdC9DSEFOR0VTLUFQUi0xLjUuMgo+IAo+IGF1dG9jb25m
IHZlcnNpb246IDIuNjkgKHNhbWUgYXMgYXByIDEuNS4xKQo+IGxpYnRvb2wgdmVyc2lvbjogMi40
LjIgKHNhbWUgYXMgYXByIDEuNS4xKQo+IAo+ICsvLTEKPiBbwqAgXSBSZWxlYXNlIEFQUiAxLjUu
MiBhcyBHQQo+IAo+IEknbGwgaG9sZCB0aGUgdm90ZSBvcGVuIGZvciA3MiBob3VycyB1bmxlc3Mg
c29tZXRoaW5nIG91dCBvZiB0aGUgb3JkaW5hcnkgb2NjdXJzLgo+IAo+IFRoYW5rcyBpbiBhZHZh
bmNlIGZvciB0ZXN0aW5nIQ==
----_com.android.email_1424467652510587
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: base64

PHAgZGlyPSJsdHIiPkUmbmJzcDsmbmJzcDsmbmJzcDsgZjwvcD4KPHAgZGlyPSJsdHIiPkJlc3Qg
cmVnYXJkcyxOYTotJmFtcDsgPGJyPgpNYXJ0eW5hcyBCZW5kb3JpdXM8L3A+CjxwIGRpcj0ibHRy
Ij4tLS0tIEplZmYgVHJhd2ljayByYSYjMzUzOyYjMjc5OyAtLS0tPC9wPgo8cCBkaXI9Imx0ciI+
Jmd0OyBUYXJiYWxscy96aXBmaWxlcyBhcmUgYXQgPGEgaHJlZj0iaHR0cDovL2Fwci5hcGFjaGUu
b3JnL2Rldi9kaXN0Ij5odHRwOi8vYXByLmFwYWNoZS5vcmcvZGV2L2Rpc3Q8L2E+Lzxicj4KJmd0
OyA8YnI+CiZndDsgU2hvcnRjdXQgdG8gQ0hBTkdFUzo8YnI+CiZndDsgPGEgaHJlZj0iaHR0cDov
L2Fwci5hcGFjaGUub3JnL2Rldi9kaXN0L0NIQU5HRVMtQVBSLTEuNS4yIj5odHRwOi8vYXByLmFw
YWNoZS5vcmcvZGV2L2Rpc3QvQ0hBTkdFUy1BUFItMS41LjI8L2E+PGJyPgomZ3Q7IDxicj4KJmd0
OyBhdXRvY29uZiB2ZXJzaW9uOiAyLjY5IChzYW1lIGFzIGFwciAxLjUuMSk8YnI+CiZndDsgbGli
dG9vbCB2ZXJzaW9uOiAyLjQuMiAoc2FtZSBhcyBhcHIgMS41LjEpPGJyPgomZ3Q7IDxicj4KJmd0
OyArLy0xPGJyPgomZ3Q7IFsmIzE2MDsgXSBSZWxlYXNlIEFQUiAxLjUuMiBhcyBHQTxicj4KJmd0
OyA8YnI+CiZndDsgSSdsbCBob2xkIHRoZSB2b3RlIG9wZW4gZm9yIDcyIGhvdXJzIHVubGVzcyBz
b21ldGhpbmcgb3V0IG9mIHRoZSBvcmRpbmFyeSBvY2N1cnMuPGJyPgomZ3Q7IDxicj4KJmd0OyBU
aGFua3MgaW4gYWR2YW5jZSBmb3IgdGVzdGluZyE8L3A+Cg==
----_com.android.email_1424467652510587--


From dev-return-82464-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Apr 25 13:29:56 2015
Return-Path: <dev-return-82464-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7483717A1F
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 25 Apr 2015 13:29:56 +0000 (UTC)
Received: (qmail 94342 invoked by uid 500); 25 Apr 2015 13:29:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94282 invoked by uid 500); 25 Apr 2015 13:29:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94272 invoked by uid 99); 25 Apr 2015 13:29:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 13:29:55 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 13:29:49 +0000
Received: from server.martynas.it (server.martynas.it [176.31.211.16])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 5D73220BAB
	for <dev@httpd.apache.org>; Sat, 25 Apr 2015 13:29:29 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=martynas.it; s=x;
	h=Content-Type:References:In-Reply-To:MIME-Version:To:From:Message-ID:Subject:Date; bh=v7kFQpY14k+L5QLKRQKgeA8ChJl9Q3nuCFMo5AqVjDE=;
	b=bPSnpY1R0z/bkXfJ14aPrIAIzcASDWZ/j1mdGObThAvuT5I+jHf/HAkhBd/+0nrX7KFB2ejWQVe7ZY8CR1B0RKl5BIYAPJHoUh6dqfaQVXaU/DRwqGrHKMwkXkxGAo+Y2Hnfai45PuPMOZB2W7RIRREiDbSN/LbPRJfu/Ajy7ErxmGE9KrzAkqsp0jB+f7LJ0YqnTCXg41f0b3SpCfWnBotR59S94d7Uo84jpWp3LesLMiJUfWKGrXe/qtw+QFpJAPiPZ+EA2h1LxaE7jVgrIja3AUKJJQhZ7iKq6F/0m+hwjN/xBa/7XPwzdq/8/hbFCf0T9pp/6kilWdMdYuGV2A==;
Received: from m213-103-236-159.cust.tele2.lt ([213.103.236.159])
	by server.martynas.it with esmtpsa (TLSv1.2:DHE-RSA-AES128-GCM-SHA256:128)
	(Exim 4.85)
	(envelope-from <martynas@martynas.it>)
	id 1Ym0Ao-0040VY-F3
	for dev@httpd.apache.org; Sat, 25 Apr 2015 16:31:10 +0300
Date: Sat, 25 Apr 2015 16:28:22 +0300
Subject: ATS: [VOTE] Release APR 1.5.2
Message-ID: <ed7ssgcn1q30r11sd2s6adi5.1429968450879@email.android.com>
From: Martynas Bendorius <martynas@martynas.it>
To: dev@httpd.apache.org
MIME-Version: 1.0
In-Reply-To: <553B84F2.5000805@gmail.com>
References: <553B84F2.5000805@gmail.com>
Content-Type: multipart/alternative; boundary="--_com.android.email_1425903117577748"
X-Antivirus-Scanner: Clean mail though you should still use an Antivirus
X-Authenticated-Id: martynas
X-Virus-Checked: Checked by ClamAV on apache.org

----_com.android.email_1425903117577748
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: base64

OiQgOi1TUyAsYmJiaGpiIDA5OCEoJyc6LSYgYyAKCkJlc3QgcmVnYXJkcywKTWFydHluYXMgQmVu
ZG9yaXVzCgotLS0tIEplZmYgVHJhd2ljayByYcWhxJcgLS0tLQoKPlRhcmJhbGxzL3ppcGZpbGVz
IGFyZSBhdCBodHRwOi8vYXByLmFwYWNoZS5vcmcvZGV2L2Rpc3QvCj4KPlNob3J0Y3V0IHRvIENI
QU5HRVM6Cj5odHRwOi8vYXByLmFwYWNoZS5vcmcvZGV2L2Rpc3QvQ0hBTkdFUy1BUFItMS41LjIK
Pgo+YXV0b2NvbmYgdmVyc2lvbjogMi42OSAoc2FtZSBhcyBhcHIgMS41LjEpCj5saWJ0b29sIHZl
cnNpb246IDIuNC4yIChzYW1lIGFzIGFwciAxLjUuMSkKPgo+Ky8tMQo+W8KgIF0gUmVsZWFzZSBB
UFIgMS41LjIgYXMgR0EKPgo+SSdsbCBob2xkIHRoZSB2b3RlIG9wZW4gZm9yIDcyIGhvdXJzIHVu
bGVzcyBzb21ldGhpbmcgb3V0IG9mIHRoZSBvcmRpbmFyeSBvY2N1cnMuCj4KPlRoYW5rcyBpbiBh
ZHZhbmNlIGZvciB0ZXN0aW5nIQo+Cg==
----_com.android.email_1425903117577748
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: base64

PHAgZGlyPSJsdHIiPjokIDotU1MgLGJiYmhqYiAwOTghKCcnOi0mYW1wOyBjIDwvcD4KPHAgZGly
PSJsdHIiPkJlc3QgcmVnYXJkcyw8YnI+Ck1hcnR5bmFzIEJlbmRvcml1czwvcD4KPGJyPjxicj4t
LS0tIEplZmYgVHJhd2ljayByYcWhxJcgLS0tLTxicj48YnI+DQogICAgVGFyYmFsbHMvemlwZmls
ZXMgYXJlIGF0IDxhIGNsYXNzPSJtb3otdHh0LWxpbmstZnJlZXRleHQiIGhyZWY9Imh0dHA6Ly9h
cHIuYXBhY2hlLm9yZy9kZXYvZGlzdC8iPmh0dHA6Ly9hcHIuYXBhY2hlLm9yZy9kZXYvZGlzdC88
L2E+PGJyPg0KICAgIDxicj4NCiAgICBTaG9ydGN1dCB0byBDSEFOR0VTOjxicj4NCiAgICA8YSBj
bGFzcz0ibW96LXR4dC1saW5rLWZyZWV0ZXh0IiBocmVmPSJodHRwOi8vYXByLmFwYWNoZS5vcmcv
ZGV2L2Rpc3QvQ0hBTkdFUy1BUFItMS41LjIiPmh0dHA6Ly9hcHIuYXBhY2hlLm9yZy9kZXYvZGlz
dC9DSEFOR0VTLUFQUi0xLjUuMjwvYT48YnI+DQogICAgPGJyPg0KICAgIGF1dG9jb25mIHZlcnNp
b246IDIuNjkgKHNhbWUgYXMgYXByIDEuNS4xKTxicj4NCiAgICBsaWJ0b29sIHZlcnNpb246IDIu
NC4yIChzYW1lIGFzIGFwciAxLjUuMSk8YnI+DQogICAgPGJyPg0KICAgICsvLTE8YnI+DQogICAg
W8KgIF0gUmVsZWFzZSBBUFIgMS41LjIgYXMgR0E8YnI+DQogICAgPGJyPg0KICAgIEknbGwgaG9s
ZCB0aGUgdm90ZSBvcGVuIGZvciA3MiBob3VycyB1bmxlc3Mgc29tZXRoaW5nIG91dCBvZiB0aGUN
CiAgICBvcmRpbmFyeSBvY2N1cnMuPGJyPg0KICAgIDxicj4NCiAgICBUaGFua3MgaW4gYWR2YW5j
ZSBmb3IgdGVzdGluZyE8YnI+DQogICAgPGJyPg0KICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRl
bnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ij4NCiAg
----_com.android.email_1425903117577748--


From dev-return-82465-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Apr 25 13:38:00 2015
Return-Path: <dev-return-82465-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1516B17A31
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 25 Apr 2015 13:38:00 +0000 (UTC)
Received: (qmail 2040 invoked by uid 500); 25 Apr 2015 13:37:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1968 invoked by uid 500); 25 Apr 2015 13:37:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1958 invoked by uid 99); 25 Apr 2015 13:37:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 13:37:59 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 13:37:53 +0000
Received: from mail-oi0-f42.google.com (mail-oi0-f42.google.com [209.85.218.42])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id D95F320DD1
	for <dev@httpd.apache.org>; Sat, 25 Apr 2015 13:37:32 +0000 (UTC)
Received: by oica37 with SMTP id a37so60284585oic.0
        for <dev@httpd.apache.org>; Sat, 25 Apr 2015 06:37:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=+CM3QS1fr3VvzOUfxfgBTpxeCbTWVGq0/D6noiLKi2I=;
        b=dUGAao4oP2fBn9eah7SopQG0nASIV8OZz5LuXLV30G+8DaJe0mBnFvTPfEH3F6PRau
         VA3xwxVvDZ+jieQ678L8fXanw6fPcEHAyMGxQoY2cBN9Coh4lnr+jh+iFYQLUKZvqJW8
         hcXZQ2GfEVpUf/HJWkl7lPZmT7B0OBeeNLp7+VcC2WgdWgbLOX1uFu7L5U/N+WAkozBD
         F5ASNlsXPNjIwplt+mzJc+VtfrZDnnOQmDjSL/IQ5XDA9OcIv+ms0BDkx+jGOAPccmgT
         iYmohDOozLBC8/Rqv+yk1h3toNTs84pgXGp0T08aDotjHerLMCYBm03MZz8s3rAcMWZu
         wKlA==
MIME-Version: 1.0
X-Received: by 10.60.96.137 with SMTP id ds9mr2889935oeb.56.1429969052206;
 Sat, 25 Apr 2015 06:37:32 -0700 (PDT)
Received: by 10.76.173.35 with HTTP; Sat, 25 Apr 2015 06:37:32 -0700 (PDT)
In-Reply-To: <553B84F2.5000805@gmail.com>
References: <553B84F2.5000805@gmail.com>
Date: Sat, 25 Apr 2015 15:37:32 +0200
Message-ID: <CAKQ1sVPb_4RGM3WUeaJWGoHP7gkT1qr3GJfFwNSQDEmv1ckhUQ@mail.gmail.com>
Subject: Re: [VOTE] Release APR 1.5.2
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Jeff,

shouldn't this be addressed to dev@apr instead?

On Sat, Apr 25, 2015 at 2:13 PM, Jeff Trawick <trawick@gmail.com> wrote:
> Tarballs/zipfiles are at http://apr.apache.org/dev/dist/
>
> Shortcut to CHANGES:
> http://apr.apache.org/dev/dist/CHANGES-APR-1.5.2
>
> autoconf version: 2.69 (same as apr 1.5.1)
> libtool version: 2.4.2 (same as apr 1.5.1)
>
> +/-1
> [  ] Release APR 1.5.2 as GA
>
> I'll hold the vote open for 72 hours unless something out of the ordinary
> occurs.
>
> Thanks in advance for testing!
>

From dev-return-82466-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Apr 25 13:39:11 2015
Return-Path: <dev-return-82466-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C8C1417A36
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 25 Apr 2015 13:39:11 +0000 (UTC)
Received: (qmail 3448 invoked by uid 500); 25 Apr 2015 13:39:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3381 invoked by uid 500); 25 Apr 2015 13:39:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3371 invoked by uid 99); 25 Apr 2015 13:39:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 13:39:11 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 13:39:05 +0000
Received: from mail-yk0-f171.google.com (mail-yk0-f171.google.com [209.85.160.171])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 9316820F8D
	for <dev@httpd.apache.org>; Sat, 25 Apr 2015 13:38:45 +0000 (UTC)
Received: by ykft189 with SMTP id t189so11988587ykf.1
        for <dev@httpd.apache.org>; Sat, 25 Apr 2015 06:38:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=RcmaSz+jFFMizrKscWExicDBZdXkf1DnHc2tfkkjAsU=;
        b=vFCAimI8Hb0Wtg6WfRgackqUof+K3WALyFoPZctZyH3Mb36cPFH6ex32gthss6E9oV
         m1rUZjX9DsB0U/5N1NL8w92V2mSaQTPrZJ9iTsPwIZVH5+zScWDHWI/FAQH7L+Si9xuH
         /obSU/9m0pWKvqbE6euIAPgQON0Zm4mdZTC1wWL/P+5gYmuNpShhxesN2wWrCQFwERXO
         2zOt6GFveQADto7mLzp4dubJEvsm5+/65CZ/Bw4yHNi+gWRwKJrvx9VbLl/Z9Auh6ar3
         izUzEJvRAevUp7ERLXu/+MijFQnFSf3WjbOg3acPHLo6vi9ccwAX6S6z+a/qutsqpNON
         3PGw==
MIME-Version: 1.0
X-Received: by 10.236.109.36 with SMTP id r24mr5004703yhg.113.1429969118908;
 Sat, 25 Apr 2015 06:38:38 -0700 (PDT)
Received: by 10.13.206.195 with HTTP; Sat, 25 Apr 2015 06:38:38 -0700 (PDT)
In-Reply-To: <CAKQ1sVPb_4RGM3WUeaJWGoHP7gkT1qr3GJfFwNSQDEmv1ckhUQ@mail.gmail.com>
References: <553B84F2.5000805@gmail.com>
	<CAKQ1sVPb_4RGM3WUeaJWGoHP7gkT1qr3GJfFwNSQDEmv1ckhUQ@mail.gmail.com>
Date: Sat, 25 Apr 2015 09:38:38 -0400
Message-ID: <CAKUrXK7OxN6pg_+a=Sy+wWrUnmYPMCFfte=7zSGsTqoEi0ftmw@mail.gmail.com>
Subject: Re: [VOTE] Release APR 1.5.2
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11c2d13a5f577c05148ca10c
X-Virus-Checked: Checked by ClamAV on apache.org

--001a11c2d13a5f577c05148ca10c
Content-Type: text/plain; charset=UTF-8

On Sat, Apr 25, 2015 at 9:37 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> Hi Jeff,
>
> shouldn't this be addressed to dev@apr instead?
>

yes, of course :)


>
> On Sat, Apr 25, 2015 at 2:13 PM, Jeff Trawick <trawick@gmail.com> wrote:
> > Tarballs/zipfiles are at http://apr.apache.org/dev/dist/
> >
> > Shortcut to CHANGES:
> > http://apr.apache.org/dev/dist/CHANGES-APR-1.5.2
> >
> > autoconf version: 2.69 (same as apr 1.5.1)
> > libtool version: 2.4.2 (same as apr 1.5.1)
> >
> > +/-1
> > [  ] Release APR 1.5.2 as GA
> >
> > I'll hold the vote open for 72 hours unless something out of the ordinary
> > occurs.
> >
> > Thanks in advance for testing!
> >
>



-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a11c2d13a5f577c05148ca10c
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On S=
at, Apr 25, 2015 at 9:37 AM, Yann Ylavic <span dir=3D"ltr">&lt;<a href=3D"m=
ailto:ylavic.dev@gmail.com" target=3D"_blank">ylavic.dev@gmail.com</a>&gt;<=
/span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8=
ex;border-left:1px #ccc solid;padding-left:1ex">Hi Jeff,<br>
<br>
shouldn&#39;t this be addressed to dev@apr instead?<br></blockquote><div><b=
r></div><div>yes, of course :)</div><div>=C2=A0</div><blockquote class=3D"g=
mail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-l=
eft:1ex">
<div class=3D"HOEnZb"><div class=3D"h5"><br>
On Sat, Apr 25, 2015 at 2:13 PM, Jeff Trawick &lt;<a href=3D"mailto:trawick=
@gmail.com">trawick@gmail.com</a>&gt; wrote:<br>
&gt; Tarballs/zipfiles are at <a href=3D"http://apr.apache.org/dev/dist/" t=
arget=3D"_blank">http://apr.apache.org/dev/dist/</a><br>
&gt;<br>
&gt; Shortcut to CHANGES:<br>
&gt; <a href=3D"http://apr.apache.org/dev/dist/CHANGES-APR-1.5.2" target=3D=
"_blank">http://apr.apache.org/dev/dist/CHANGES-APR-1.5.2</a><br>
&gt;<br>
&gt; autoconf version: 2.69 (same as apr 1.5.1)<br>
&gt; libtool version: 2.4.2 (same as apr 1.5.1)<br>
&gt;<br>
&gt; +/-1<br>
&gt; [=C2=A0 ] Release APR 1.5.2 as GA<br>
&gt;<br>
&gt; I&#39;ll hold the vote open for 72 hours unless something out of the o=
rdinary<br>
&gt; occurs.<br>
&gt;<br>
&gt; Thanks in advance for testing!<br>
&gt;<br>
</div></div></blockquote></div><br><br clear=3D"all"><div><br></div>-- <br>=
<div class=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married =
an alien...<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http:=
//emptyhammock.com/</a><div><br></div></div></div>
</div></div>

--001a11c2d13a5f577c05148ca10c--

From dev-return-82467-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Apr 25 14:18:30 2015
Return-Path: <dev-return-82467-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B615C17AB6
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 25 Apr 2015 14:18:30 +0000 (UTC)
Received: (qmail 46919 invoked by uid 500); 25 Apr 2015 14:18:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46848 invoked by uid 500); 25 Apr 2015 14:18:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46838 invoked by uid 99); 25 Apr 2015 14:18:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 14:18:30 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 14:18:03 +0000
Received: from server.martynas.it (server.martynas.it [176.31.211.16])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 48FF020659
	for <dev@httpd.apache.org>; Sat, 25 Apr 2015 14:18:02 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=martynas.it; s=x;
	h=Content-Type:In-Reply-To:References:Subject:To:MIME-Version:From:Date:Message-ID; bh=KDL1L79BbjbCFBLl2AQSYKMchiBFEKKI04p5MLtXzYc=;
	b=LbBfTU3VASrq42y9mj5EQRHtTD60hn7ldfvXJ8OiuuPupdl+oBJHzk/ENp75m448CaKDAmrlHaDVzuXC0MYpb3UVY8bCkRgIW5q2sC0w4rWxXpMo5swyeOMsF03B+Tsuq3mpy2QZYUgDw+WUNfLzEdULpY7YxyaQZrqn8Kn0y0AVAQMxFbGyhVDkNEiF+hSPVzsIK9drqtJpVUzErI+IXuHsEn5xo50c3bytAtfGe05Hc63nsdffrqQoyW8moOpJ+w3KMNXApu0OfgpyWe8/g6lEB85fuI6k4OrRnlHX6exDtgLP+oflMYzpVEWBxgtTb4d93PHCUi2IJLPV/7JrcA==;
Received: from 78-62-57-226.static.zebra.lt ([78.62.57.226] helo=[192.168.1.67])
	by server.martynas.it with esmtpsa (TLSv1.2:DHE-RSA-AES128-SHA:128)
	(Exim 4.85)
	(envelope-from <martynas@martynas.it>)
	id 1Ym0wp-0041dZ-QN
	for dev@httpd.apache.org; Sat, 25 Apr 2015 17:20:47 +0300
Message-ID: <553BA218.3010202@martynas.it>
Date: Sat, 25 Apr 2015 17:18:00 +0300
From: Martynas Bendorius <martynas@martynas.it>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: ATS: [VOTE] Release APR 1.5.2
References: <ofd6bccmf49fnvkedphomlqd.1429968152181@email.android.com>
In-Reply-To: <ofd6bccmf49fnvkedphomlqd.1429968152181@email.android.com>
Content-Type: multipart/signed; protocol="application/pkcs7-signature"; micalg=sha1; boundary="------------ms070905070102080203040400"
X-Antivirus-Scanner: Clean mail though you should still use an Antivirus
X-Authenticated-Id: martynas
X-Virus-Checked: Checked by ClamAV on apache.org

This is a cryptographically signed message in MIME format.

--------------ms070905070102080203040400
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable

I'm very sorry, that was sent from my phone, which was in my pocket...=20
Turning the auto-unlock feature off right now.

Thank you.

Best regards,
Martynas Bendorius

On 4/25/15 4:22 PM, Martynas Bendorius wrote:
> Rarr
>
> Best regards,
> Martynas Bendorius
>
>
>
> Rarr
>
> Best regards,
> Martynas Bendorius
>
>
>
>
>
> ---- Jeff Trawick ra=C5=A1=C4=97 ----
>
>
>
> Tarballs/zipfiles are at http://apr.apache.org/dev/dist/
>
> Shortcut to CHANGES:
> http://apr.apache.org/dev/dist/CHANGES-APR-1.5.2
>
> autoconf version: 2.69 (same as apr 1.5.1)
> libtool version: 2.4.2 (same as apr 1.5.1)
>
> +/-1
> [  ] Release APR 1.5.2 as GA
>
> I'll hold the vote open for 72 hours unless something out of the
> ordinary occurs.
>
> Thanks in advance for testing!
>


--------------ms070905070102080203040400
Content-Type: application/pkcs7-signature; name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="smime.p7s"
Content-Description: S/MIME Cryptographic Signature

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIJ9jCC
BK8wggOXoAMCAQICEQDgI8sVEoNTia1hbnpUZ2shMA0GCSqGSIb3DQEBCwUAMG8xCzAJBgNV
BAYTAlNFMRQwEgYDVQQKEwtBZGRUcnVzdCBBQjEmMCQGA1UECxMdQWRkVHJ1c3QgRXh0ZXJu
YWwgVFRQIE5ldHdvcmsxIjAgBgNVBAMTGUFkZFRydXN0IEV4dGVybmFsIENBIFJvb3QwHhcN
MTQxMjIyMDAwMDAwWhcNMjAwNTMwMTA0ODM4WjCBmzELMAkGA1UEBhMCR0IxGzAZBgNVBAgT
EkdyZWF0ZXIgTWFuY2hlc3RlcjEQMA4GA1UEBxMHU2FsZm9yZDEaMBgGA1UEChMRQ09NT0RP
IENBIExpbWl0ZWQxQTA/BgNVBAMTOENPTU9ETyBTSEEtMjU2IENsaWVudCBBdXRoZW50aWNh
dGlvbiBhbmQgU2VjdXJlIEVtYWlsIENBMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKC
AQEAibEN2npTGU5wUh28VqYGJre4SeCW51Gr8fBaE0kVo7SMG2C8elFCp3mMpCLfF2FOkdV2
IwoU00oCf7YdCYBupQQ92bq7Fv6hh6kuQ1JDFnyvMlDIpk9a6QjYz5MlnHuI6DBk5qT4VoD9
KiQUMxeZrETlaYujRgZLwjPU6UCfBrCxrJNAubUIkzqcKlOjENs9IGE8VQOO2U52JQIhKfqj
fHF2T+7hX4Hp+1SA28N7NVK3hN4iPSwwLTF/Wb1SN7AzaS1D6/rWpfGXd2dRjNnuJ+u8pQc4
doykqTj/34z1A6xJvsr3c5k6DzKrnJU6Ez0ORjpXdGFQvsZAP8vk4p+iIQIDAQABo4IBFzCC
ARMwHwYDVR0jBBgwFoAUrb2YejS0Jvf6xCZU7wO94CTLVBowHQYDVR0OBBYEFJJha4LhoqCq
T+xn8cKj97SAAMHsMA4GA1UdDwEB/wQEAwIBhjASBgNVHRMBAf8ECDAGAQH/AgEAMB0GA1Ud
JQQWMBQGCCsGAQUFBwMCBggrBgEFBQcDBDARBgNVHSAECjAIMAYGBFUdIAAwRAYDVR0fBD0w
OzA5oDegNYYzaHR0cDovL2NybC51c2VydHJ1c3QuY29tL0FkZFRydXN0RXh0ZXJuYWxDQVJv
b3QuY3JsMDUGCCsGAQUFBwEBBCkwJzAlBggrBgEFBQcwAYYZaHR0cDovL29jc3AudXNlcnRy
dXN0LmNvbTANBgkqhkiG9w0BAQsFAAOCAQEAGypurFXBOquIxdjtzVXzqmthK8AJECOZD8Vm
am+x9bS1d14PAmEA330F/hKzpICAAPz7HVtqcgIKQbwFusFY1SbC6tVNhPv+gpjPWBvjImOc
Uvi7BTarfVil3qs7Y+Xa1XPv7OD7e+Kj//BCI5zKto1NPuRLGAOyqC3U2LtCS5BphRDbpjc0
6HvgARClnMo6x59PiDRuimXQGoq7qdzKyjbR9PzCZCk1r9axp3ER0gNDsY8+muyeMlP0dpLK
hjQHuSzK5hxK2JkNwYbikJL7WkJqIyEQ6WXH9dW7fuqMhSACYurROgcsWcWZM/I4ieW26RZ6
H3kU9koQGib6fIr7mzCCBT8wggQnoAMCAQICEFSpqOdpSZ4zmYPlVfPmQY4wDQYJKoZIhvcN
AQELBQAwgZsxCzAJBgNVBAYTAkdCMRswGQYDVQQIExJHcmVhdGVyIE1hbmNoZXN0ZXIxEDAO
BgNVBAcTB1NhbGZvcmQxGjAYBgNVBAoTEUNPTU9ETyBDQSBMaW1pdGVkMUEwPwYDVQQDEzhD
T01PRE8gU0hBLTI1NiBDbGllbnQgQXV0aGVudGljYXRpb24gYW5kIFNlY3VyZSBFbWFpbCBD
QTAeFw0xNTAyMTAwMDAwMDBaFw0xNjAyMTAyMzU5NTlaMCUxIzAhBgkqhkiG9w0BCQEWFG1h
cnR5bmFzQG1hcnR5bmFzLml0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA163B
jlbV9azNu2jx+YVXCCOcrEkRhLWskPeKR3uWXb/dNMZH+A6IbchV36DJ2nSmlwdBtzZPVj19
Qc64N0TK0/aFgSiWgE3V9fQ2Egp0GvODOSDs+7x1dIb4G6lKM7dbmgW+y/hISBuuE0flIHF2
/0A2F/EzkjJui4Uqh4uOb42Ax9ddRP+zFfkmti1hEIaoowglK5+xc2lzpCaoTA7ZZ+Q3Gs6x
1N3j1E6XTbGHgFKLiGr7j1i5E1ptxV0dQnUMS1Fm/Etdg7NdG1AIAZXNHKcpjaOYHmKSd6E/
7ajWZTnNf1wfzQTaf68eYhEOaNgx51MTuVFgU5rjoi27Gqe09QIDAQABo4IB8jCCAe4wHwYD
VR0jBBgwFoAUkmFrguGioKpP7GfxwqP3tIAAwewwHQYDVR0OBBYEFBj+XkGW2K5y1EsONzp9
x9N6Yg3YMA4GA1UdDwEB/wQEAwIFoDAMBgNVHRMBAf8EAjAAMCAGA1UdJQQZMBcGCCsGAQUF
BwMEBgsrBgEEAbIxAQMFAjARBglghkgBhvhCAQEEBAMCBSAwRgYDVR0gBD8wPTA7BgwrBgEE
AbIxAQIBAQEwKzApBggrBgEFBQcCARYdaHR0cHM6Ly9zZWN1cmUuY29tb2RvLm5ldC9DUFMw
XQYDVR0fBFYwVDBSoFCgToZMaHR0cDovL2NybC5jb21vZG9jYS5jb20vQ09NT0RPU0hBMjU2
Q2xpZW50QXV0aGVudGljYXRpb25hbmRTZWN1cmVFbWFpbENBLmNybDCBkAYIKwYBBQUHAQEE
gYMwgYAwWAYIKwYBBQUHMAKGTGh0dHA6Ly9jcnQuY29tb2RvY2EuY29tL0NPTU9ET1NIQTI1
NkNsaWVudEF1dGhlbnRpY2F0aW9uYW5kU2VjdXJlRW1haWxDQS5jcnQwJAYIKwYBBQUHMAGG
GGh0dHA6Ly9vY3NwLmNvbW9kb2NhLmNvbTAfBgNVHREEGDAWgRRtYXJ0eW5hc0BtYXJ0eW5h
cy5pdDANBgkqhkiG9w0BAQsFAAOCAQEAQtGBqSZYZPW5CIVdH7MMWEgcY4n/RtBLk+K5miek
k8UGd3+AkROa+XDyRwgWcZ49Fz1nixpFZYXvfSH4pWjldqQPjO9fB24lpSlJlyJBj82esZjb
qqkfaSqaMCZYEQiphkrkgLhrBQ4h5hb9rsCG0I4xdi7+kWrPQ6EgVthfsMHQRzDojVWQDPuH
XzhDfpTnECtAIOob1v9xHHty3uEGbbbED20RshDiisrR9Fr0mUsQ64fLxhGOpZULPHsQq7tq
55OajIMQ8OlgpKy7iD4Omzftpx+rSUKjhSinsF5ADEZjRjMwfJPvLBlsZhHpdul2Mk5a+VRs
qjqN/5Z7a0YzbDGCBDEwggQtAgEBMIGwMIGbMQswCQYDVQQGEwJHQjEbMBkGA1UECBMSR3Jl
YXRlciBNYW5jaGVzdGVyMRAwDgYDVQQHEwdTYWxmb3JkMRowGAYDVQQKExFDT01PRE8gQ0Eg
TGltaXRlZDFBMD8GA1UEAxM4Q09NT0RPIFNIQS0yNTYgQ2xpZW50IEF1dGhlbnRpY2F0aW9u
IGFuZCBTZWN1cmUgRW1haWwgQ0ECEFSpqOdpSZ4zmYPlVfPmQY4wCQYFKw4DAhoFAKCCAlUw
GAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMTUwNDI1MTQxODAw
WjAjBgkqhkiG9w0BCQQxFgQUnXQYPXLJT2qOP8eyus0g+BABvNEwbAYJKoZIhvcNAQkPMV8w
XTALBglghkgBZQMEASowCwYJYIZIAWUDBAECMAoGCCqGSIb3DQMHMA4GCCqGSIb3DQMCAgIA
gDANBggqhkiG9w0DAgIBQDAHBgUrDgMCBzANBggqhkiG9w0DAgIBKDCBwQYJKwYBBAGCNxAE
MYGzMIGwMIGbMQswCQYDVQQGEwJHQjEbMBkGA1UECBMSR3JlYXRlciBNYW5jaGVzdGVyMRAw
DgYDVQQHEwdTYWxmb3JkMRowGAYDVQQKExFDT01PRE8gQ0EgTGltaXRlZDFBMD8GA1UEAxM4
Q09NT0RPIFNIQS0yNTYgQ2xpZW50IEF1dGhlbnRpY2F0aW9uIGFuZCBTZWN1cmUgRW1haWwg
Q0ECEFSpqOdpSZ4zmYPlVfPmQY4wgcMGCyqGSIb3DQEJEAILMYGzoIGwMIGbMQswCQYDVQQG
EwJHQjEbMBkGA1UECBMSR3JlYXRlciBNYW5jaGVzdGVyMRAwDgYDVQQHEwdTYWxmb3JkMRow
GAYDVQQKExFDT01PRE8gQ0EgTGltaXRlZDFBMD8GA1UEAxM4Q09NT0RPIFNIQS0yNTYgQ2xp
ZW50IEF1dGhlbnRpY2F0aW9uIGFuZCBTZWN1cmUgRW1haWwgQ0ECEFSpqOdpSZ4zmYPlVfPm
QY4wDQYJKoZIhvcNAQEBBQAEggEAeXNr3mEaWZhBD65as8ITi4dwMl8FvbV0uKNtjIrEOwTk
nhzwld8d2mu/f+/pZr086gomk0s2OPTn/3wj9tU8E8rnrjgU+sy8MQZMjaWTacx/ry1iU6wK
7WSOJrb4byNk/pW0sPY0PgaDXqZ3HfENLnLtlyaqOZxBF1gZUwb/ZSRibPayWUSHqv6l3gVC
B60CuZJktmnLcUvYLBugb3WixVvgQwKNg+IBVkeBj4Hr1TCJjVcvJnlePkNxWaOIQge1wpZ6
XktoIZuyA6cJK+a1d736D30Q9mfMkC2TtrBf5BYBnfTUnTFT6+cFQZFDVSJS3UXdy16fhgx6
LC0n0HDb1gAAAAAAAA==
--------------ms070905070102080203040400--

From dev-return-82468-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Apr 25 16:29:34 2015
Return-Path: <dev-return-82468-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CE21217CCE
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 25 Apr 2015 16:29:34 +0000 (UTC)
Received: (qmail 83917 invoked by uid 500); 25 Apr 2015 16:29:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83856 invoked by uid 500); 25 Apr 2015 16:29:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 83846 invoked by uid 99); 25 Apr 2015 16:29:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 16:29:33 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (athena.apache.org: transitioning domain of DRuggeri@primary.net does not designate 54.164.171.186 as permitted sender)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 16:29:26 +0000
Received: from s4.mail.rcig.net (s4.mail.rcig.net [216.87.38.204])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id C0FE242ABE
	for <dev@httpd.apache.org>; Sat, 25 Apr 2015 16:29:05 +0000 (UTC)
Received: from 23-117-14-203.lightspeed.stlsmo.sbcglobal.net ([23.117.14.203]:37769 helo=[192.168.0.2])
	by s4.mail.rcig.net with esmtpa (Exim 4.72)
	(envelope-from <DRuggeri@primary.net>)
	id 1Ym2wq-0001NZ-3l
	for dev@httpd.apache.org; Sat, 25 Apr 2015 11:28:58 -0500
Message-ID: <553BC0BE.1080008@primary.net>
Date: Sat, 25 Apr 2015 11:28:46 -0500
From: Daniel Ruggeri <DRuggeri@primary.net>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: Balancer manager
References: <EC6862B4-252A-4D1C-817F-516DEF562A9F@jaguNET.com>
In-Reply-To: <EC6862B4-252A-4D1C-817F-516DEF562A9F@jaguNET.com>
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: 7bit
X-ACL-Warn: X-The email account used to send this email was: druggeri@primary.net
X-Spam-Score: -2.9 (--)
X-Spam-Report: Spam detection software, running on the system "s4.mail.rcig.net", has
 identified this incoming email as possible spam.  The original message
 has been attached to this so you can view it (if it isn't spam) or label
 similar future email.  If you have any questions, see
 the administrator of that system for details.
X-Virus-Checked: Checked by ClamAV on apache.org
 
 Content preview:  +1 There are also some neat-o features I added in my notes
    during ACNA to stick into the balancer manager, too... I plan to get around
    to them in <vague, noncommittal reference to free time as it permits> days.
    [...] 
 
 Content analysis details:   (-2.9 points, 8.0 required)
 
  pts rule name              description
 ---- ---------------------- --------------------------------------------------
 -1.0 ALL_TRUSTED            Passed through trusted hosts only via SMTP
  0.0 TVD_RCVD_IP            Message was received from an IP address
 -1.9 BAYES_00               BODY: Bayes spam probability is 0 to 1%
                             [score: 0.0000]

+1

There are also some neat-o features I added in my notes during ACNA to
stick into the balancer manager, too... I plan to get around to them in
<vague, noncommittal reference to free time as it permits> days.

-- 
Daniel Ruggeri

On 4/24/2015 7:52 AM, Jim Jagielski wrote:
> Right now, the balancer manager allows for a member to be
> disabled/stopped, but it cannot *remove* that member...
> Seems to me that that would be good, especially since
> we could always re-use that slot.
>
> Comments?


From dev-return-82469-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Apr 25 23:16:47 2015
Return-Path: <dev-return-82469-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E5ABA176A9
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 25 Apr 2015 23:16:47 +0000 (UTC)
Received: (qmail 5454 invoked by uid 500); 25 Apr 2015 23:16:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 5390 invoked by uid 500); 25 Apr 2015 23:16:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 5379 invoked by uid 99); 25 Apr 2015 23:16:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 23:16:47 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of ylavic.dev@gmail.com does not designate 54.76.25.247 as permitted sender)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 23:16:19 +0000
Received: from mail-ob0-f176.google.com (mail-ob0-f176.google.com [209.85.214.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id C517A20693
	for <dev@httpd.apache.org>; Sat, 25 Apr 2015 23:16:17 +0000 (UTC)
Received: by obbeb7 with SMTP id eb7so60861099obb.3
        for <dev@httpd.apache.org>; Sat, 25 Apr 2015 16:16:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=/MelGSX0Ce91HN+1BPNBVellfKC2pjFrwDOC4pICg0s=;
        b=SD1bND7so+Qb/v5j8urppvuh9H0RpU4s1er+pLfE/a1a5huaKKq+OrObC86R88wr0D
         /jszPzTgB9mmCQ567CIMzTM9i1wuzANITPUXfDu3UbU016mCuc5LNa7pVdNJmWZA4s2e
         X7yv7oTDYknZgLxn5Dan3VveYmtWvRzOPeI5+Yh6OxlSeRv/xv2aGu+WfMLxwV2ULy3B
         C0qNBXzD33TI5uDGEvqqlP2dGjhO/CHSnTgUAzK4s8H9bDwjVEpL8f85hWAq8HYlJMH+
         HekxYbKjV4mr0X1Ih6nlorYmKSea6sWBxF39Y7kz1F2m3K5u07N9MxioTbZA0hi4g+Fx
         aHbA==
MIME-Version: 1.0
X-Received: by 10.202.13.132 with SMTP id 126mr4074111oin.2.1430003770726;
 Sat, 25 Apr 2015 16:16:10 -0700 (PDT)
Received: by 10.76.173.35 with HTTP; Sat, 25 Apr 2015 16:16:10 -0700 (PDT)
In-Reply-To: <553170DC.4030003@wanadoo.fr>
References: <20140407223853.D476723889B9@eris.apache.org>
	<CAKQ1sVPnuJFyCCuK1QkcaQX6y50qjEy-37KDQTkrRUZB5hHoJA@mail.gmail.com>
	<CAKQ1sVPgkjQb514V8eMRgRLhLa-nZLsryA4YB3c4JwRmRG-nqQ@mail.gmail.com>
	<553170DC.4030003@wanadoo.fr>
Date: Sun, 26 Apr 2015 01:16:10 +0200
Message-ID: <CAKQ1sVOoLsYbm1tVCQT3xeqDLmNNH9JR4Wowa1wUVG995LUwvQ@mail.gmail.com>
Subject: Re: svn commit: r1585609 - /httpd/httpd/trunk/modules/aaa/mod_authz_core.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

I have checked all the calls to ap_expr_parse_cmd() and it seems that
the change in the parser itself is not expected/needed.
Either ap_getword_conf() is implicit (parser called from an AP_TAKEn
or AP_TAKE_ARGV directive), or the caller (AP_RAW_ARGS directive) uses
it explicitly.
Hence that would cause a double unquoting...

There are some special cases though:
- ap_authz_providers as per this commit.
- mod_log_config, mod_log_debug, mod_headers have the expr=3D... syntax
which does not handle quoted strings;
- mod_rewrite has a special handling of quoted strings, including
RewriteCond expr ... (but it is consistent with all RewriteCond, so
guess it should be kept as is);

The patch proposed in [1] is I think the simplest way to handle the
case for *all* the ap_authz_providers.

Otherwise, we could introduce a new ap_expr_parse_cmd_conf() which
would handle quoted strings and advance the word pointer to the next
one (=C3=A0 la ap_getword_conf() where the word is an expression, either
quoted or until the end of line).
It would then be used by each ap_authz_provider's parser
implementation, and also by mod_{log_config,log_debug,headers} above
for the expr=3D case.
Something like:

Index: server/util_expr_eval.c
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
--- server/util_expr_eval.c    (revision 1674695)
+++ server/util_expr_eval.c    (working copy)
@@ -443,20 +443,31 @@ AP_DECLARE(const char *) ap_expr_parse(apr_pool_t
     return NULL;
 }

-AP_DECLARE(ap_expr_info_t*) ap_expr_parse_cmd_mi(const cmd_parms *cmd,
-                                                 const char *expr,
-                                                 unsigned int flags,
-                                                 const char **err,
-                                                 ap_expr_lookup_fn_t
*lookup_fn,
-                                                 int module_index)
+AP_DECLARE(ap_expr_info_t*) ap_expr_parse_cmd_conf(const cmd_parms *cmd,
+                                                const char **line,
+                                                unsigned int flags,
+                                                const char **err,
+                                                ap_expr_lookup_fn_t *looku=
p_fn,
+                                                int module_index)
 {
+    const char *expr =3D *line;
+    apr_size_t len =3D strlen(expr);
     ap_expr_info_t *info =3D apr_pcalloc(cmd->pool, sizeof(ap_expr_info_t)=
);
+
     info->filename =3D cmd->directive->filename;
     info->line_number =3D cmd->directive->line_num;
     info->flags =3D flags;
     info->module_index =3D module_index;
+
+    if (len > 1 && (expr[0] =3D=3D '"' || expr[0] =3D=3D '\'')
+                && (expr[len - 1] =3D=3D expr[0])) {
+        expr =3D ap_getword_conf(cmd->temp_pool, line);
+    }
+    else {
+        *line =3D expr + len;
+    }
+
     *err =3D ap_expr_parse(cmd->pool, cmd->temp_pool, info, expr, lookup_f=
n);
-
     if (*err)
         return NULL;

@@ -463,6 +474,17 @@ AP_DECLARE(const char *) ap_expr_parse(apr_pool_t
     return info;
 }

+AP_DECLARE(ap_expr_info_t*) ap_expr_parse_cmd_mi(const cmd_parms *cmd,
+                                                 const char *expr,
+                                                 unsigned int flags,
+                                                 const char **err,
+                                                 ap_expr_lookup_fn_t
*lookup_fn,
+                                                 int module_index)
+{
+    return ap_expr_parse_cmd_conf(cmd, &expr, flags, err,
+                                  lookup_fn, module_index);
+}
+
 ap_expr_t *ap_expr_make(ap_expr_node_op_e op, const void *a1, const void *=
a2,
                       ap_expr_parse_ctx_t *ctx)
 {
--

I prefer the patch from [1] though, because it is simpler and more
centralized for the ap_authz_providers case.
We could likewise use ap_getword_conf() explicitely for the expr=3D
cases, but they do not look critical to me, and "expr=3D..." (with
quotes around the whole) can still be used.
The only advantage I see for the new function would be if we have more
(and more) needs for it...

[1] http://mail-archives.apache.org/mod_mbox/httpd-dev/201504.mbox/%3CCAKQ1=
sVPnuJFyCCuK1QkcaQX6y50qjEy-37KDQTkrRUZB5hHoJA@mail.gmail.com%3E

On Fri, Apr 17, 2015 at 10:45 PM, Christophe JAILLET
<christophe.jaillet@wanadoo.fr> wrote:
> Hi,
>
> I would +1 for this solution which is, IMHO, much better.
> However, changing the parser itself would require checking the potential
> impact as it is used in many places.
>
> CJ
>
>
> Le 17/04/2015 13:15, Yann Ylavic a =C3=A9crit :
>>
>> On Fri, Apr 17, 2015 at 11:54 AM, Yann Ylavic <ylavic.dev@gmail.com>
>> wrote:
>>>
>>> How about handling the case in the Require directive parser itself
>>> (add_authz_provider)?
>>
>> Or even maybe in the expr parser itself:
>>
>> Index: server/util_expr_eval.c
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>> --- server/util_expr_eval.c    (revision 1674046)
>> +++ server/util_expr_eval.c    (working copy)
>> @@ -455,6 +455,10 @@ AP_DECLARE(ap_expr_info_t*) ap_expr_parse_cmd_mi(c
>>       info->line_number =3D cmd->directive->line_num;
>>       info->flags =3D flags;
>>       info->module_index =3D module_index;
>> +    if (expr && (expr[0] =3D=3D '"' || expr[0] =3D=3D '\'') && (expr[1]=
 !=3D '\0')
>> +             && (expr[strlen(expr) - 1] =3D=3D expr[0])) {
>> +        expr =3D ap_getword_conf(cmd->temp_pool, &expr);
>> +    }
>>       *err =3D ap_expr_parse(cmd->pool, cmd->temp_pool, info, expr,
>> lookup_fn);
>>
>>       if (*err)
>> --
>>
>

From dev-return-82470-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Apr 25 23:24:14 2015
Return-Path: <dev-return-82470-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B89F5176BF
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 25 Apr 2015 23:24:14 +0000 (UTC)
Received: (qmail 10438 invoked by uid 500); 25 Apr 2015 23:24:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10362 invoked by uid 500); 25 Apr 2015 23:24:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10351 invoked by uid 99); 25 Apr 2015 23:24:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 23:24:14 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of ylavic.dev@gmail.com does not designate 54.76.25.247 as permitted sender)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 25 Apr 2015 23:23:47 +0000
Received: from mail-ob0-f174.google.com (mail-ob0-f174.google.com [209.85.214.174])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 9058020659
	for <dev@httpd.apache.org>; Sat, 25 Apr 2015 23:23:45 +0000 (UTC)
Received: by obbeb7 with SMTP id eb7so60900654obb.3
        for <dev@httpd.apache.org>; Sat, 25 Apr 2015 16:22:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=m41KUWIQ0f1ANS3Mmspy+GvuRxOYucqaEV6lWEodF3I=;
        b=CXKRSe+LEo91NqJytosxMwgorUZUppBXBqBR7xaIYiGReKPou086u6Z2SD4Dex+gjc
         DTV4NDX24vIHLKsw655EpJiTz/seti6JIbkKOpAEIL+1jkjEnx8O7oJwMhsNpn7lL6pC
         +KzqD7cFyLjOLxvkrhh9Kzm8LgzRZmoob4PbZft24BzVq6TuvpgkON15w/JlgxYUJP/6
         v/Th0jFNF32K5kXLWtqmVKJANeyXaIqHfLRLeovLjBrQiHtjr7FP5jBrr3i2n5mwDlz/
         D0BMqYAHJZeO85WWYbwXcJcHIH8UsvvZyQhZlaCVQb0esXwRBVtxdmnI/C1EqbYSCrMW
         VRMg==
MIME-Version: 1.0
X-Received: by 10.60.175.72 with SMTP id by8mr4347012oec.35.1430004134604;
 Sat, 25 Apr 2015 16:22:14 -0700 (PDT)
Received: by 10.76.173.35 with HTTP; Sat, 25 Apr 2015 16:22:14 -0700 (PDT)
In-Reply-To: <CAKQ1sVPnuJFyCCuK1QkcaQX6y50qjEy-37KDQTkrRUZB5hHoJA@mail.gmail.com>
References: <20140407223853.D476723889B9@eris.apache.org>
	<CAKQ1sVPnuJFyCCuK1QkcaQX6y50qjEy-37KDQTkrRUZB5hHoJA@mail.gmail.com>
Date: Sun, 26 Apr 2015 01:22:14 +0200
Message-ID: <CAKQ1sVM3GtWqVTq3ojLc3WYCwM2MNc_kU24BB1K8EaEX2Hv9OA@mail.gmail.com>
Subject: Re: svn commit: r1585609 - /httpd/httpd/trunk/modules/aaa/mod_authz_core.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Should I go with this ?

On Fri, Apr 17, 2015 at 11:54 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
> How about handling the case in the Require directive parser itself
> (add_authz_provider)?
>
> Something like:
>
> Index: modules/aaa/mod_authz_core.c
> ===================================================================
> --- modules/aaa/mod_authz_core.c    (revision 1674046)
> +++ modules/aaa/mod_authz_core.c    (working copy)
> @@ -393,7 +393,13 @@ static const char *add_authz_provider(cmd_parms *c
>          section->negate = 1;
>      }
>
> -    section->provider_args = args;
> +    if (args && (args[0] == '"' || args[0] == '\'')
> +             && (args[strlen(args) - 1] == args[0])) {
> +        section->provider_args = ap_getword_conf(cmd->pool, &args);
> +    }
> +    else {
> +        section->provider_args = args;
> +    }
>
>      /* lookup and cache the actual provider now */
>      section->provider = ap_lookup_provider(AUTHZ_PROVIDER_GROUP,
> @@ -425,7 +431,7 @@ static const char *add_authz_provider(cmd_parms *c
>                                 AUTHZ_PROVIDER_NAME_NOTE,
>                                 apr_pool_cleanup_null,
>                                 cmd->temp_pool);
> -        err = section->provider->parse_require_line(cmd, args,
> +        err = section->provider->parse_require_line(cmd,
> section->provider_args,
>                                                &section->provider_parsed_args);
>
>          if (err)
> @@ -1069,16 +1075,6 @@ static const char *expr_parse_config(cmd_parms *cm
>      const char *expr_err = NULL;
>      struct require_expr_info *info = apr_pcalloc(cmd->pool, sizeof(*info));
>
> -    /* if the expression happens to be surrounded by quotes, skip them */
> -    if (require_line[0] == '"') {
> -        apr_size_t len = strlen(require_line);
> -
> -        if (require_line[len-1] == '"')
> -            require_line = apr_pstrndup(cmd->temp_pool,
> -                                        require_line + 1,
> -                                        len - 2);
> -    }
> -
>      apr_pool_userdata_setn(info, REQUIRE_EXPR_NOTE, apr_pool_cleanup_null,
>                            cmd->temp_pool);
>      info->expr = ap_expr_parse_cmd(cmd, require_line, 0, &expr_err,
> --
>
> (the second hunk is a revert of this commit).

From dev-return-82471-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Apr 26 07:15:21 2015
Return-Path: <dev-return-82471-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C4AD817CFA
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 26 Apr 2015 07:15:21 +0000 (UTC)
Received: (qmail 13570 invoked by uid 500); 26 Apr 2015 07:15:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 13500 invoked by uid 500); 26 Apr 2015 07:15:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 13491 invoked by uid 99); 26 Apr 2015 07:15:16 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 26 Apr 2015 07:15:16 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id E55831A0E17
	for <dev@httpd.apache.org>; Sun, 26 Apr 2015 07:15:15 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id 5A0AE60258; Sun, 26 Apr 2015 07:15:15 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2015/04/26]
Message-Id: <20150426071515.5A0AE60258@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 26 Apr 2015 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 7483|Ass|Enh|2002-03-26|Add FileAction directive to assign a cgi interpret|
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|12680|New|Enh|2002-09-16|Digest authentication with integrity protection   |
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|18497|New|Min|2003-03-30|configure --help gives wrong default for sysconfdi|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21253|New|Nor|2003-07-01|Mime magic doesn't continue if type is specifed fo|
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22138|Inf|Cri|2003-08-05|Webdav is not preccessing special chars right.    |
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Nor|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42001|New|Cri|2007-03-30|LINUX : Could not set LDAP_OPT_X_TLS to LDAP_OPT_X|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Opn|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|httpd fails to start if log directory does not exi|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43532|Inf|Cri|2007-10-02|Error while compiling Apache 2.2.3 on HPUX        |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44736|New|Cri|2008-04-01|mod_proxy_balancer looses it's mind on reloads.   |
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|New|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45926|Inf|Nor|2008-10-01|Unable to start apache 2.2.9                      |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46054|New|Nor|2008-10-21|Running httpd returns the error "bad user name nob|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46421|New|Maj|2008-12-19|module mod_authz_dbd - doesn't work when multiple |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Nor|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46724|Inf|Cri|2009-02-17|WinXP SP3 - Apache crashes on startup in libapr-1.|
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47241|New|Min|2009-05-22|Error in rewriting with character ':'             |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47289|New|Nor|2009-05-30|Can't build with dynamic libraries on Mac OS 10.4 |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|Inf|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48309|New|Maj|2009-11-30|libapreq2-2.12: "make test" fails at request.t and|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50740|New|Enh|2011-02-09|Enable OCSP Stapling by default                   |
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|New|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51412|New|Nor|2011-06-21|Nasty warning in ftp_cmd_pbsz() -- dangerous, wher|
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Nor|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51842|New|Enh|2011-09-18|Suggesting a new action for the Header directive: |
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52210|Opn|Enh|2011-11-18|Add TLS Next Protocol Negotiation (NPN) support to|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Enh|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52523|New|Nor|2012-01-25|Headers from mod_expires are wrongly set for redir|
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52756|Inf|Trv|2012-02-24|proxy_html_module LoadModule line not created in h|
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52820|New|Min|2012-03-04|SSLProtocol/SSLProxyProtocol doesn't iterate prope|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52831|New|Nor|2012-03-05|mod_rewrite redirect broken with IPv6 literal addr|
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52855|Opn|Maj|2012-03-08|mod_ftp does not build against 2.4.x              |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53121|New|Nor|2012-04-22|Confusing documentation, gzip and deflate         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54364|New|Nor|2012-12-31|Add ref to mod_fcgid docs                         |
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54587|Opn|Nor|2013-02-19|LDAPConnectionPoolTimeout does not work in all cas|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55147|New|Nor|2013-06-26|"Header always" w/ cache different in 2.4         |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55350|New|Maj|2013-08-03|mpm-itk and mod_fcgid do not work together        |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55420|New|Nor|2013-08-14|Integer underflow in lock timeout computation     |
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55449|New|Maj|2013-08-19|AH01185: worker slotmem_create failed --> slotmem |
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55808|New|Nor|2013-11-21|File integrity verification using MD5 and SHA1    |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|New|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55841|New|Nor|2013-12-04|Misleading news items on bugfix releases ("This ve|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55897|New|Nor|2013-12-17|[PATCH]patch with SO_REUSEPORT support            |
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|Inf|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56035|Inf|Nor|2014-01-20|Issue with LimitRequestBody                       |
|56040|Inf|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56214|Opn|Nor|2014-03-03|Spanish translation of Apache's error pages       |
|56226|New|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56241|New|Min|2014-03-10|SNI sends warning upon name not found, RFC 6066 di|
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56414|Inf|Nor|2014-04-15|SNI & HTTP hostname different because of user@    |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56687|New|Nor|2014-07-01|ProxySourceAddress failed to bind socket to local |
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56729|New|Reg|2014-07-16|Can't use HTTP 1.1 Keep-Alive with mod_reqtimeout |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|New|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56823|New|Nor|2014-08-07|returning 200 status when ap_get_brigade failed   |
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56855|New|Enh|2014-08-14|mod_proxy_fcgi: add PassHeader directive          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56872|New|Nor|2014-08-19|Small request bodies bypass DeflateInflateLimitReq|
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56898|New|Nor|2014-08-28|Headers in err_headers_out are not returned when a|
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56925|New|Maj|2014-09-08|ProxyErrorOverride=On causes workers in error stat|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57109|New|Nor|2014-10-17|GPG verification examples are wrong               |
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57120|New|Nor|2014-10-21|Disable SSLv3 by default (POODLE)                 |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57177|New|Nor|2014-11-03|terminated by signal ILL in server/scoreboard.c li|
|57207|New|Nor|2014-11-13|[mod_ssl] Add a way to retrieve email in alternati|
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|New|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57358|New|Nor|2014-12-17|Incorrect If-Match handling                       |
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57375|New|Enh|2014-12-19|Support LibreSSL as an alternative toolkit for mod|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Nor|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57524|New|Nor|2015-02-02|Opcode and other fields calculated wrong in mod_lu|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57531|New|Nor|2015-02-03|2.4.12 segmentation fault when accessing host on L|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57600|New|Nor|2015-02-18|Presence of SSLCACertificateFile/Path causes root |
|57615|Inf|Nor|2015-02-21|HTTPS CONNECT target hostname incorrectly validate|
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57694|New|Nor|2015-03-12|Crash using SSL certificate with pathlen constrain|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|New|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57816|New|Maj|2015-04-15|getting error server/util_pcre.c:137: undefined re|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|New|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
+-----+---+---+----------+--------------------------------------------------+
| Total 1494 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-82472-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Apr 26 07:24:47 2015
Return-Path: <dev-return-82472-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 09CE317D60
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 26 Apr 2015 07:24:47 +0000 (UTC)
Received: (qmail 27137 invoked by uid 500); 26 Apr 2015 07:24:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 27066 invoked by uid 500); 26 Apr 2015 07:24:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 27056 invoked by uid 99); 26 Apr 2015 07:24:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 26 Apr 2015 07:24:46 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: local policy)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 26 Apr 2015 07:24:40 +0000
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id CE94920DB8
	for <dev@httpd.apache.org>; Sun, 26 Apr 2015 07:23:59 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t3Q7No9P027635
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Sun, 26 Apr 2015 09:23:50 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1430033030;
	bh=sc4Oo3BTp7Ct9dPdtdVpJEyNPAgTIVgT6li4q3IAWg4=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=HvVSy2bGuPVLV66BM0BywgEeBFOLsQ+562g78cAkZhCBbyISdjm8UsQt6gPVHqDpd
	 9f5rwHHNeRYN9Vfcmj7iIR+ee5g8N+vrQgdlIcsYt0OVxJqVXASb2uTk8LgVV5ndA3
	 Ic9aKdO3b5k8Te7uAMRO8JUCyEselch5uVtljWUXMIdCdO8kVubmuPYyDbRNvsqVug
	 76set3Kmn33SXBIlC8sMdrT3vrjrya6R381CnaaWErefMFIEw5Sjb1Co09lMXOSB75
	 lHP5y2RlrTK4yBd9SeOWDPNbfLnILD1tBY5BeempXxCt6I63f3Est03orMHM03qztN
	 VV6DdRqhblZAQ==
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on cortex.velox.ch
X-Spam-Level: 
Message-ID: <553C928C.2020801@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1430033029;
	bh=sc4Oo3BTp7Ct9dPdtdVpJEyNPAgTIVgT6li4q3IAWg4=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=kQAhjYRRqtlbvZvRENx9qq2Q8BrSmIoyAOv8H/enOo9lmRpbR8zHBbu24dCR7aRMp
	 J1iPTOfZ5yI7U4t8vXU4Th9jgl64zwoot8Zeze+LdRMms+o3uPhvPv4PRCiRQkUqHG
	 q3pF/OhVEX7x1e5vneF1+fB5uJEJHjD933hJskWeyiDksLnjzDHhHJsvyCpYwNQ5Sx
	 Jt/2Lt/UGYr1ck+GwGn56gsxFkt/6xIB9JU8Jcxk/Q5Xx52lksn/FKH3LHPqjVW9zD
	 FOvOdvWRouEzGkoGd9yaD2CcpWkPGpNXgu7c5sbnq8ElpLGX2h6A8E7lbGUAIe95/A
	 Us35F3gkflsVQ==
Date: Sun, 26 Apr 2015 09:23:56 +0200
From: Kaspar Brand <httpd-dev.2014@velox.ch>
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: LogLevel inheritance/merging for VirtualHost in 2.4.x (Re: SSL_CTX_get_{first,next}_certificate
 (Re: svn commit: r1562500 - /httpd/httpd/branches/2.4.x/STATUS))
References: <20140129162443.D9D7B2388860@eris.apache.org>,<463AE614-74E9-41F3-ADA5-3BB3BA06D90F@sharp.fm>	<52EA9937.7010400@velox.ch>,<52EAAA06.3080909@opensslfoundation.com>,<CAKUrXK6=LhXTdfDXQRxuGz3qwrFi59dg8t7K7zznP-GB+QiC4Q@mail.gmail.com>,<52ECA5B4.9060009@velox.ch>	<52ECF883.8040708@opensslfoundation.com>,<52EE4C06.6050007@velox.ch>	<52EF7BD1.1090108@opensslfoundation.com>,<CAKUrXK5-2_Sg8FokxBP8nW7tmSuTZZWL-=BDhNnwyK-Z4dmQiQ@mail.gmail.com>,<5303D817.5040601@opensslfoundation.com>,<CAKUrXK64dKTm0gR4tTM_v+MTBE4v63ZmLL-CT8J0WC1xfBaSVA@mail.gmail.com>,<530504BF.5080903@opensslfoundation.com>,<5305A215.40307@velox.ch>,<DUB128-W22EC6C73C3B6E9287DD29BDB9A0@phx.gbl>,<53086E8A.3000307@velox.ch>,<DUB128-W7344ED996310EF275B0B4DB840@phx.gbl>,<53087A56.1000804@velox.ch>,<DUB128-W258144D319CD0E0C9132CDB840@phx.gbl>,<5308B13B.3070600@velox.ch>,<DUB128-W72EAF8B2EA85CD2649E1AADB840@phx.gbl> <DUB128-W49624070CC235931EEBDA2DB840@phx.gbl> <5309AB5F.6030602@velox.ch>
In-Reply-To: <5309AB5F.6030602@velox.ch>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.5 required=8.0 tests=AWL=0.016,BAYES_00=-1.5,
	NO_RECEIVED=-0.001,NO_RELAYS=-0.001,T_DKIM_INVALID=0.01 autolearn=no
	autolearn_force=no version=3.4.0

On 23.02.2014 09:03, Kaspar Brand wrote:
> On 22.02.2014 19:17, Falco Schwarz wrote:
>> Kaspar, I switched back to your version and realized, that the directive SSLCertificateChainFile was always used in a VirtualHost.
>>
>> If the directive is in server scope, the warning is written correctly. 		 	   		  
> 
> Yes, that's the underlying issue which changing cmd->server to NULL in
> the ap_log_error actually uncovers: it's a somewhat (at least IMO)
> unfortunate side effect of how the LogLevel for a new VirtualHost is
> inherited/merged from the global LogLevel directive, or more
> specifically, the order in which it happens.

For the record: I have now committed your suggested change (switching
from cmd->server to NULL) in r1676085, as it turned out to be the most
appropriate fix for this specific case - and does not have unwanted side
effects either. Proposed for backport to 2.4.x in r1676086.

Kaspar

From dev-return-82473-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Apr 27 12:01:20 2015
Return-Path: <dev-return-82473-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BA33710925
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 27 Apr 2015 12:01:20 +0000 (UTC)
Received: (qmail 12539 invoked by uid 500); 27 Apr 2015 12:01:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12465 invoked by uid 500); 27 Apr 2015 12:01:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12454 invoked by uid 99); 27 Apr 2015 12:01:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Apr 2015 12:01:20 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (athena.apache.org: transitioning domain of regis.leroy@makina-corpus.com does not designate 54.191.145.13 as permitted sender)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Apr 2015 12:01:14 +0000
Received: from proxy-smtp2.makina-corpus.com (proxy-smtp2.makina-corpus.com [212.129.3.20])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 5A0A42497F
	for <dev@httpd.apache.org>; Mon, 27 Apr 2015 12:00:52 +0000 (UTC)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mxrelay.makina-corpus.com (Postfix) with ESMTP id 50FB8994AF
	for <dev@httpd.apache.org>; Mon, 27 Apr 2015 13:59:44 +0200 (CEST)
X-Virus-Scanned: amavisd-new at makina-corpus.com
Received: from mxrelay.makina-corpus.com ([127.0.0.1])
	by localhost (mxrelay.makina-corpus.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 1Cp8xsXXeF8Q for <dev@httpd.apache.org>;
	Mon, 27 Apr 2015 13:59:42 +0200 (CEST)
Received: from mail.makina-corpus.com (mail.makina-corpus.com [212.83.188.243])
	by mxrelay.makina-corpus.com (Postfix) with ESMTP id 9F4B2993F1
	for <dev@httpd.apache.org>; Mon, 27 Apr 2015 13:59:42 +0200 (CEST)
Received: from [10.6.155.6] (nantes.makina-corpus.net [88.177.200.25])
	(Authenticated sender: rle@makina-corpus.com)
	by mail.makina-corpus.com (Postfix) with ESMTPSA id 79BF320C68
	for <dev@httpd.apache.org>; Mon, 27 Apr 2015 13:59:42 +0200 (CEST)
Message-ID: <553E2411.8040301@makina-corpus.com>
Date: Mon, 27 Apr 2015 13:57:05 +0200
From: =?UTF-8?B?UsOpZ2lzIExlcm95?= <regis.leroy@makina-corpus.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Icedove/31.4.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: mod_proxy, flushing additional response data
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=makina-corpus.com;
	s=mail; t=1430135982;
	bh=S8CRZbPW6G+RgrWhZYQrj35llwOxPGT39oyECotH4Aw=;
	h=Date:From:To:Subject;
	b=VICbEHU6jzF9+jBqlpYcPzadj7qqJtJC4bnehxD9skMfMIZdAEISoVYbcUVu1RreN
	 SSMoA2JLt65QWQ/vsldi+uatU/KcAMpdxcsRd6gasMOZJhqcsSIclwlFrXdP94GD6h
	 JMZMKkXUC5Vb8ZjJWRXjOsBSmJIuvqr1/RrOM9ds=
DKIM-Filter: OpenDKIM Filter v2.8.4 mxrelay.makina-corpus.com 9F4B2993F1
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,

I've a patch proposal in this ticket :
https://bz.apache.org/bugzilla/show_bug.cgi?id=3D57832

The goal is to make mod_proxy conformant to this part of rfc 7320 about t=
he good
way of preventing effects of backends compromised by http splitting/http =
smuggling attacks.

> rfc 7320:
> If the final response to the last request on a connection has been
> completely received and there remains additional data to read, a user
> agent MAY discard the remaining data or attempt to determine if that
> data belongs as part of the prior response body, which might be the
> case if the prior message's Content-Length value is incorrect. A
> client MUST NOT process, cache, or forward such extra data as a
> separate response, since such behavior would be vulnerable to cache
> poisoning.

Currently when mod_proxy receive a response from a backend consisting of =
more than one response,
the extra-responses are stored and reused later when another request use =
the same backend connection.

Which is quite annoying.

If you take Nginx, for example, the behavior is to send the extra respons=
es directly to the request
doing the first query, which is also wrong but less annoying because usua=
lly the first query is the
one transmitting the splitting attack. Others agents are able to discard =
the content (Varnish,
haproxy, etc.).

More details in the tickets.
I'm open to discussions about the right way to fix that behavior, but I t=
hink the current patch is
almost good.

--
R=C3=A9gis Leroy [regilero]




From dev-return-82474-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Apr 27 14:46:24 2015
Return-Path: <dev-return-82474-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 619C21728A
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 27 Apr 2015 14:46:24 +0000 (UTC)
Received: (qmail 3140 invoked by uid 500); 27 Apr 2015 14:46:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3059 invoked by uid 500); 27 Apr 2015 14:46:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3049 invoked by uid 99); 27 Apr 2015 14:46:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Apr 2015 14:46:23 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Apr 2015 14:46:17 +0000
Received: from resqmta-ch2-05v.sys.comcast.net (resqmta-ch2-05v.sys.comcast.net [69.252.207.37])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 4A6DC2736B
	for <dev@httpd.apache.org>; Mon, 27 Apr 2015 14:45:57 +0000 (UTC)
Received: from resomta-ch2-04v.sys.comcast.net ([69.252.207.100])
	by resqmta-ch2-05v.sys.comcast.net with comcast
	id M2jB1q00A2AWL2D012joti; Mon, 27 Apr 2015 14:43:48 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-04v.sys.comcast.net with comcast
	id M2jm1q00a1cCKD9012jnWU; Mon, 27 Apr 2015 14:43:48 +0000
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: Balancer manager
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <553BC0BE.1080008@primary.net>
Date: Mon, 27 Apr 2015 10:43:46 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <848CC1A9-AC5B-4964-BF61-6258B2AAD638@jaguNET.com>
References: <EC6862B4-252A-4D1C-817F-516DEF562A9F@jaguNET.com> <553BC0BE.1080008@primary.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1430145828;
	bh=zZqAfrYecbx5Gkhsp9qx+2vgOMbLZi77Sdb2Bj2X6qg=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=p1EUQLr/b7dCOwmAYHP2xid0uAgdTufl2QP1opMw3D6w3RwYiTsld92B4h8s960xm
	 Gs+FQfCox88b+MzLCRMHQ7DmW1JsCorCiFmwW/LqK3MRREzArk+m3L20cD5rMZxUMa
	 R4zbvDz/miUtXbe5Qij0P5zIQDjx/Mr5QvGgWWUtFSYMgvRsjsKEMdMtm4IuF8qe8U
	 xeorcDTEJhKD0Dll1rObLaBBNeXCZF0ysIau7mln7VatyMpM/kRGi3EgiN3OnDPVJc
	 jZ100CbyiWHfuav/vf8gu7u0VsGFM/u55I3HCl8StusDe2FjF4S3aPq8NUVJwNACjJ
	 DDC8xUka70HUg==
X-Virus-Checked: Checked by ClamAV on apache.org

Can you list 'em here? I'd like to help w/ adding them :)

> On Apr 25, 2015, at 12:28 PM, Daniel Ruggeri <DRuggeri@primary.net> wrote:
> 
> +1
> 
> There are also some neat-o features I added in my notes during ACNA to
> stick into the balancer manager, too... I plan to get around to them in
> <vague, noncommittal reference to free time as it permits> days.
> 
> -- 
> Daniel Ruggeri
> 
> On 4/24/2015 7:52 AM, Jim Jagielski wrote:
>> Right now, the balancer manager allows for a member to be
>> disabled/stopped, but it cannot *remove* that member...
>> Seems to me that that would be good, especially since
>> we could always re-use that slot.
>> 
>> Comments?
> 


From dev-return-82475-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Apr 27 15:06:05 2015
Return-Path: <dev-return-82475-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DDBE717491
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 27 Apr 2015 15:06:04 +0000 (UTC)
Received: (qmail 75627 invoked by uid 500); 27 Apr 2015 15:06:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75552 invoked by uid 500); 27 Apr 2015 15:06:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75542 invoked by uid 99); 27 Apr 2015 15:06:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Apr 2015 15:06:04 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Apr 2015 15:05:59 +0000
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 3488527387
	for <dev@httpd.apache.org>; Mon, 27 Apr 2015 15:05:34 +0000 (UTC)
Received: from delight.greenbytes.de (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 88CD315A06A1
	for <dev@httpd.apache.org>; Mon, 27 Apr 2015 17:02:36 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: ALPN patch comments
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <553B62C2.9080202@velox.ch>
Date: Mon, 27 Apr 2015 17:04:54 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <D0F6D103-F293-4BCE-8213-0F0A1148FC26@greenbytes.de>
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de> <5537C311.6020209@velox.ch> <40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com> <553B62C2.9080202@velox.ch>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
X-Virus-Checked: Checked by ClamAV on apache.org


> Am 25.04.2015 um 11:47 schrieb Kaspar Brand <httpd-dev.2014@velox.ch>:
>=20
> On 22.04.2015 18:54, Jim Jagielski wrote:
>>> For me the time seems right to rip NPN out of trunk and only =
backport
>>> the ALPN code to 2.4.
>>>=20
>>=20
>> I'd be +1 for that.
>=20
> So, to get one step further, and since there were no explicit =
objections
> to removing NPN support so far (or arguments for keeping it, FWIW), I
> went ahead and took a stab at this with r1676004.
>=20
> Only tested in terms of "compiles both w/ and w/o HAVE_TLS_ALPN", so =
it
> certainly needs more eyes before a backport proposal could be made.
> There's also a "TODO: we should have a mod_ssl configuration =
parameter"
> in ssl_engine_kernel.c which I'm unsure to what it refers.

The =E2=80=9ETODO=E2=80=9C is a leftover from before SSLAlpnPreference =
was introduced. It can be removed.

I diff=E2=80=99ed the current mod_ssl against the 2.4 branch, removed =
everything but he ALPN changes and made a patch for my sandbox. This =
works on my OS X with mod_h2. My Ubuntu sandbox is still resisting as =
some test clients still link the system ssl which only speaks NPN (or =
link against a lib_event that links against the system openssl). It=E2=80=99=
s a mess.=20

Stefan

>=20
> Kaspar

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82476-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Apr 27 20:54:05 2015
Return-Path: <dev-return-82476-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7640717CFD
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 27 Apr 2015 20:54:05 +0000 (UTC)
Received: (qmail 99646 invoked by uid 500); 27 Apr 2015 20:54:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 99570 invoked by uid 500); 27 Apr 2015 20:54:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 99555 invoked by uid 99); 27 Apr 2015 20:54:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Apr 2015 20:54:05 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Apr 2015 20:53:37 +0000
Received: from mail-yh0-f43.google.com (mail-yh0-f43.google.com [209.85.213.43])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id E889A20659
	for <dev@httpd.apache.org>; Mon, 27 Apr 2015 20:53:35 +0000 (UTC)
Received: by yhda23 with SMTP id a23so21297340yhd.2
        for <dev@httpd.apache.org>; Mon, 27 Apr 2015 13:52:44 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:from:content-type:content-transfer-encoding
         :subject:message-id:date:to:mime-version;
        bh=Ki1Wn1PT/2S+zqxqUv/wOpa5W4PWqpvISsJEigwrwQI=;
        b=X3LDn6KrOxARj4ZQNhAin/YnvNlv9pfbVwS0+PVjii14VdQ4PrGsLK72M5CQ6NAA/Y
         1pwM7LvaFVvsYjFK/7hXKKs9LncdVevzxtJx+xBnba21hoeMh85WvdmPKMHRcXOqEJ3W
         Pv3teeIAnnvSMcyWpZ46hoCYuc8yP768Hw75d/937pmRaZPjnzHKTENskdzXs6c1FcO/
         xi+jCbID4qmQYtLBv0Cr+cmmh+yCmmHGbNcWYL1lkqonHX7lBonW9EvOlIHEZw9989wu
         prIjvLTI+bZRQNHKygXh4NaLuS72juOPjXIXPW5kqH6Xb+tEBCx/U4eleE1uBRKvkWHr
         QVKA==
X-Gm-Message-State: ALoCoQlgpEBtxYmnQ1XD0wZVw8ksJwFZOVlsxQjNPyo8Sb0pZWbjBP3vJ4Ycer111fBAG07ccPwZ
X-Received: by 10.236.109.36 with SMTP id r24mr20217021yhg.113.1430167964052;
        Mon, 27 Apr 2015 13:52:44 -0700 (PDT)
Received: from [192.168.2.217] ([50.252.68.50])
        by mx.google.com with ESMTPSA id t28sm17034460yhg.27.2015.04.27.13.52.42
        for <dev@httpd.apache.org>
        (version=TLSv1 cipher=ECDHE-RSA-RC4-SHA bits=128/128);
        Mon, 27 Apr 2015 13:52:43 -0700 (PDT)
From: Jim Riggs <apache-lists@riggs.me>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: *Match, RewriteRule POLA violation?
Message-Id: <CB72B91C-7F3D-4C34-81C3-108EB323EA94@riggs.me>
Date: Mon, 27 Apr 2015 15:52:42 -0500
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org

This came up at ApacheCon a couple of weeks ago. I just took this =
knowledge for granted, as I have always accounted for it, but both Rich =
and Trawick were surprised. As I thought about it some more, it seems =
this may be a POLA violation. Thoughts? If we agree it should be fixed, =
I can make the bugz and make a patch.

Consider:

<Location "/slash/foo">
 ...
</Location>

vs.

<LocationMatch "^/slash/foo">
 ...
</LocationMatch>


These do not behave the same if multiple slashes are used. The leading =
slashes are always coalesced, so "^/..." is fine; however, any =
intermediate slashes are not. So, in order for the LocationMatch =
directive above to behave the same as the Location, it has to be =
specified as "^/slash/+foo". Like I said, I have always accounted for =
this in my regexps, but it doesn't seem "right". Should the URL be =
normalized before being passed to regex-matching directives, or is there =
a specific reason that is not done?

+-------------------+--------------+--------------+--------------+
| Path              |   Non-Regex  |    *Match,   |    *Match,   |
|                   |  Directive:  | RewriteRule: | RewriteRule: |
|                   |  /slash/foo  |  ^/slash/foo | ^/slash/+foo |
+-------------------+--------------+--------------+--------------+
| /slash/foo        |     Match    |     Match    |     Match    |
+-------------------+--------------+--------------+--------------+
| ////slash/foo     |     Match    |     Match    |     Match    |
+-------------------+--------------+--------------+--------------+
| /slash///foo      |     Match    |      XXX     |     Match    |
+-------------------+--------------+--------------+--------------+
| ////slash///foo// |     Match    |      XXX     |     Match    |
+-------------------+--------------+--------------+--------------+


From dev-return-82477-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 28 08:13:40 2015
Return-Path: <dev-return-82477-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 85B6617E19
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 28 Apr 2015 08:13:40 +0000 (UTC)
Received: (qmail 38353 invoked by uid 500); 28 Apr 2015 08:13:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38275 invoked by uid 500); 28 Apr 2015 08:13:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38262 invoked by uid 99); 28 Apr 2015 08:13:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 08:13:40 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 08:13:14 +0000
Received: from jupiter.hal-nine-zero-zero-zero.net (jupiter.hal-nine-zero-zero-zero.net [212.227.252.63])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with SMTP id 0226A27F96
	for <dev@httpd.apache.org>; Tue, 28 Apr 2015 08:13:11 +0000 (UTC)
Received: (qmail 17197 invoked from network); 28 Apr 2015 08:09:24 -0000
Received: from unknown (HELO localhost) (212.227.252.63)
  by jupiter.hal-nine-zero-zero-zero.net with SMTP; 28 Apr 2015 08:09:24 -0000
From: =?iso-8859-1?q?Andr=E9_Malo?= <nd@perlig.de>
Organization: TIMTOWTDI
To: dev@httpd.apache.org
Subject: Re: *Match, RewriteRule POLA violation?
Date: Tue, 28 Apr 2015 10:11:05 +0200
User-Agent: KMail/1.9.10
References: <CB72B91C-7F3D-4C34-81C3-108EB323EA94@riggs.me>
In-Reply-To: <CB72B91C-7F3D-4C34-81C3-108EB323EA94@riggs.me>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <201504281011.05209@news.perlig.de>
X-Virus-Checked: Checked by ClamAV on apache.org

* Jim Riggs wrote:

> This came up at ApacheCon a couple of weeks ago. I just took this knowled=
ge
> for granted, as I have always accounted for it, but both Rich and Trawick
> were surprised. As I thought about it some more, it seems this may be a
> POLA violation. Thoughts? If we agree it should be fixed, I can make the
> bugz and make a patch.

I use /+ patterns all over the place (I even trained people to use them) an=
d I=20
was sure, it was documented, but I can't seem to find it, where I'd expect=
=20
it. So, IMHO it just should be better documented. At least for something li=
ke=20
mod_rewrite it should be possible to inspect the original uri (and possibly=
=20
take some action).

nd

P.S.: had to look up "POLA" ;-)
=2D-=20
Gefunden auf einer "Webdesigner"-Seite:
        > Programmierung in HTML, XML, WML, CGI, FLASH <

# Andr=E9 Malo # http://pub.perlig.de/ #

From dev-return-82478-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 28 11:38:05 2015
Return-Path: <dev-return-82478-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7CCEF18BEF
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 28 Apr 2015 11:38:05 +0000 (UTC)
Received: (qmail 25948 invoked by uid 500); 28 Apr 2015 11:38:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 25867 invoked by uid 500); 28 Apr 2015 11:38:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 25833 invoked by uid 99); 28 Apr 2015 11:38:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 11:38:05 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 11:37:58 +0000
Received: from mail-wg0-f43.google.com (mail-wg0-f43.google.com [74.125.82.43])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 20E3E2735F
	for <dev@httpd.apache.org>; Tue, 28 Apr 2015 11:37:38 +0000 (UTC)
Received: by wgin8 with SMTP id n8so147871097wgi.0
        for <dev@httpd.apache.org>; Tue, 28 Apr 2015 04:37:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:from:date:message-id:subject:to:content-type;
        bh=ujjHuUfBCMkqdjiOQYr6VfTezs86QvqO9LGWD55fqUY=;
        b=QOLdeLtFz/nWV4nKuPkkkPzDvf2moeb2GczxBF/cFzIeVtbzMzXW42AeLn+s9oNQj8
         XcSEioyNMzNevRNsmczXCBejHOKGQsIxYPXpWGP8gCZBSZh3Win8NBlIDDYhyfdVOGC4
         NbAUaLB8PuE6tjB3fiGTnVTbPIPmyAAo20acMO5kJhc5mjWjsP1+bAqCHbAQ79XZ74CL
         bO+Adh75a7rkE3sudCu1g9s73qZ8ePKBUfD8kD2cSotqmDia45x05PcbQbFKqd6iFLWr
         1oThJ9w7DE18NxAwts6JChXGBj7mLs1ogCfcWZfLjfEXhWuqy5nG43mEWOT/ufsxuNCL
         lkMw==
X-Received: by 10.180.77.170 with SMTP id t10mr28866825wiw.5.1430221056960;
 Tue, 28 Apr 2015 04:37:36 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.28.62.81 with HTTP; Tue, 28 Apr 2015 04:36:56 -0700 (PDT)
From: Tom Browder <tom.browder@gmail.com>
Date: Tue, 28 Apr 2015 06:36:56 -0500
Message-ID: <CAFMGiz_L9PKbf_HLw_wFWUHzpwVPqJVUUD1pWhh44GsSRALxzg@mail.gmail.com>
Subject: OpenSSL 1.02, PCRE 2.10
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

I can't get httpd to work with either of the two subject packages, and
I found other, similar results from a web search.  Is there a
work-around for either or both, or do I have to drop back and punt
with older packages?

Best,

-Tom

P.S.  I have offered to start a tutorial on the wiki ref 2.4
configuration and installation but no reply yet.

From dev-return-82479-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 28 11:45:51 2015
Return-Path: <dev-return-82479-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F201D18C63
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 28 Apr 2015 11:45:50 +0000 (UTC)
Received: (qmail 53657 invoked by uid 500); 28 Apr 2015 11:45:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53574 invoked by uid 500); 28 Apr 2015 11:45:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53564 invoked by uid 99); 28 Apr 2015 11:45:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 11:45:50 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 11:45:43 +0000
Received: from mail-wi0-f181.google.com (mail-wi0-f181.google.com [209.85.212.181])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 7548E2143A
	for <dev@httpd.apache.org>; Tue, 28 Apr 2015 11:45:23 +0000 (UTC)
Received: by wiun10 with SMTP id n10so25622435wiu.1
        for <dev@httpd.apache.org>; Tue, 28 Apr 2015 04:45:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=addlAxzaqB5tegVQOM2DQLTcuLpoM9bJvG/wY4M7rx0=;
        b=pZwNkR0pmgymmN64/6rYaBbg6KbbjAJBXOmSHb1/xuJHSjfIKi3qKnGHOENqkVIxq7
         qxS3lEtSkPJuIiW3US9AvujGVLq0OgngSq/9Ce+8rcHAQ4yRB5DSWq/huEWbmHM50hgJ
         mlJgBuIO3nMDq3xkWwJqPCoPO+Tk64B1sQyzRm2xu1fhCuwZ242QL+Z+8xySChTNetV9
         EBwDIQCvfhZmNU1v76wrpnpcNUQ59GEB3x0NFsmxRwP2/mLzX+q6I+y6mZ6JscJECmD2
         F43usU2pKh6yI49daxAoOSop4sf155ImAgMb+/a4oScfH/eYzkDz0i91FoaTqqtfwe/o
         C8bA==
MIME-Version: 1.0
X-Received: by 10.194.11.73 with SMTP id o9mr32033143wjb.116.1430221516005;
 Tue, 28 Apr 2015 04:45:16 -0700 (PDT)
Received: by 10.27.26.200 with HTTP; Tue, 28 Apr 2015 04:45:15 -0700 (PDT)
In-Reply-To: <CAFMGiz_L9PKbf_HLw_wFWUHzpwVPqJVUUD1pWhh44GsSRALxzg@mail.gmail.com>
References: <CAFMGiz_L9PKbf_HLw_wFWUHzpwVPqJVUUD1pWhh44GsSRALxzg@mail.gmail.com>
Date: Tue, 28 Apr 2015 07:45:15 -0400
Message-ID: <CALK=YjMDiiuDWTzwNCaF-8j0zP3S6jri66rMZ1tnP3W6cT8KvA@mail.gmail.com>
Subject: Re: OpenSSL 1.02, PCRE 2.10
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Apr 28, 2015 at 7:36 AM, Tom Browder <tom.browder@gmail.com> wrote:
> I can't get httpd to work with either of the two subject packages, and
> I found other, similar results from a web search.  Is there a
> work-around for either or both, or do I have to drop back and punt
> with older packages?


AIUI PCRE2 doesn't work and it's not just a trivial port.  Surprised
about openssl 1.02 though -- what exactly do you see?

From dev-return-82480-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 28 12:05:54 2015
Return-Path: <dev-return-82480-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F3C0018D3D
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 28 Apr 2015 12:05:53 +0000 (UTC)
Received: (qmail 8867 invoked by uid 500); 28 Apr 2015 12:05:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 8785 invoked by uid 500); 28 Apr 2015 12:05:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 8775 invoked by uid 99); 28 Apr 2015 12:05:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 12:05:53 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 12:05:46 +0000
Received: from mail-wi0-f173.google.com (mail-wi0-f173.google.com [209.85.212.173])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 6804642AB9
	for <dev@httpd.apache.org>; Tue, 28 Apr 2015 12:05:26 +0000 (UTC)
Received: by wizk4 with SMTP id k4so137476854wiz.1
        for <dev@httpd.apache.org>; Tue, 28 Apr 2015 05:05:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=RucKeM4m3B3itthhsEcUSJFP57JVdeJNCC1T7Hs7Qmw=;
        b=b1t3nNp9WIcIrHUT0ukF1BhD57elqEBWdarehKCBU1XibyubyUUROi2T3SvLDAdVU/
         HPI35hp/eNkMMoUTBd3Lknihtk7+SyxSztRVyB5ihaChDCegL0Uj7ZE17Np93f1ROdDB
         40ky1zN1M1u2/6n4d8v97I+Jz/1/NlsY9WnCjggsofz+PDJNyJY8PCXdSu5HMlIc8JfC
         6AVKYd0LZJAOkytjoTGknynIqFmQ3/1KfRF2eLHqWQyGbtbFvdbDwRyJh1ZgWtgt3M/Q
         GQZWHsizUJ3bFQNBdrX7+04uL/dsZcMPvwpfbEMHUXQ1GhnX/1yy6ouoYcIGEo8oYHqw
         SlBw==
X-Received: by 10.180.96.227 with SMTP id dv3mr29674710wib.53.1430222725607;
 Tue, 28 Apr 2015 05:05:25 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.28.62.81 with HTTP; Tue, 28 Apr 2015 05:04:44 -0700 (PDT)
In-Reply-To: <CALK=YjMDiiuDWTzwNCaF-8j0zP3S6jri66rMZ1tnP3W6cT8KvA@mail.gmail.com>
References: <CAFMGiz_L9PKbf_HLw_wFWUHzpwVPqJVUUD1pWhh44GsSRALxzg@mail.gmail.com>
 <CALK=YjMDiiuDWTzwNCaF-8j0zP3S6jri66rMZ1tnP3W6cT8KvA@mail.gmail.com>
From: Tom Browder <tom.browder@gmail.com>
Date: Tue, 28 Apr 2015 07:04:44 -0500
Message-ID: <CAFMGiz-=TyfxrUA6G1Gj0kNktZoFVEDjsGReiMpy9rA00fhrHw@mail.gmail.com>
Subject: Re: OpenSSL 1.02, PCRE 2.10
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Apr 28, 2015 at 6:45 AM, Eric Covener <covener@gmail.com> wrote:
> On Tue, Apr 28, 2015 at 7:36 AM, Tom Browder <tom.browder@gmail.com> wrote:
>> I can't get httpd to work with either of the two subject packages, and
>> I found other, similar results from a web search.  Is there a
>> work-around for either or both, or do I have to drop back and punt
>> with older packages?
>
>
> AIUI PCRE2 doesn't work and it's not just a trivial port.

I understand.

> about openssl 1.02 though -- what exactly do you see?

I see this when attempting to start apache:

/usr/local/apache2/bin/httpd: symbol lookup error:
/usr/local/apache2/bin/httpd: undefined symbol: SSL_CONF_CTX_new

Maybe I need to play tricks with ld.so.conf and openssl?  I have no
system installed openssl, just my locally built version (1.0.2).  In
my configuration options I have:

SSLDIR=/opt/openssl
export LDFLAGS="-L${SSLDIR}/lib"
$SRCDIR/configure                          \
    --prefix=/usr/local/apache2            \
    --with-included-apr                    \
\
    --enable-ssl                           \
    --enable-ssl-staticlib-deps            \
    --enable-mods-static=ssl               \
    --with-ssl=${SSLDIR}                   \
\
    --enable-mods-shared=reallyall         \
    --with-perl                            \
    --with-python                          \
    --enable-layout=Apache                 \
    --with-pcre=/usr/local/bin/pcre-config \
    --without-ldap                         \
    --enable-session-crypto                \
    --with-crypto                          \
    --with-openssl=/opt/openssl

Thanks, Eric.

Best,

-Tom

From dev-return-82481-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 28 12:06:32 2015
Return-Path: <dev-return-82481-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7654518D41
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 28 Apr 2015 12:06:32 +0000 (UTC)
Received: (qmail 9986 invoked by uid 500); 28 Apr 2015 12:06:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 9904 invoked by uid 500); 28 Apr 2015 12:06:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 9894 invoked by uid 99); 28 Apr 2015 12:06:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 12:06:26 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 12:06:19 +0000
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id E032C4380B
	for <dev@httpd.apache.org>; Tue, 28 Apr 2015 12:05:58 +0000 (UTC)
Received: from delight.greenbytes.de (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 8FAD415A02BB
	for <dev@httpd.apache.org>; Tue, 28 Apr 2015 14:05:50 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: OpenSSL 1.02, PCRE 2.10
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CALK=YjMDiiuDWTzwNCaF-8j0zP3S6jri66rMZ1tnP3W6cT8KvA@mail.gmail.com>
Date: Tue, 28 Apr 2015 14:05:49 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <C395F492-9538-4AAE-8EC3-7FEB32C15447@greenbytes.de>
References: <CAFMGiz_L9PKbf_HLw_wFWUHzpwVPqJVUUD1pWhh44GsSRALxzg@mail.gmail.com> <CALK=YjMDiiuDWTzwNCaF-8j0zP3S6jri66rMZ1tnP3W6cT8KvA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
X-Virus-Checked: Checked by ClamAV on apache.org

Have openssl 1.0.2 running with 2.4.12 in a local installation on Ubuntu =
14.04. No special wrestling other than =E2=80=94with-openssl=3D=E2=80=A6 =
in configure.

//Stefan

> Am 28.04.2015 um 13:45 schrieb Eric Covener <covener@gmail.com>:
>=20
> On Tue, Apr 28, 2015 at 7:36 AM, Tom Browder <tom.browder@gmail.com> =
wrote:
>> I can't get httpd to work with either of the two subject packages, =
and
>> I found other, similar results from a web search.  Is there a
>> work-around for either or both, or do I have to drop back and punt
>> with older packages?
>=20
>=20
> AIUI PCRE2 doesn't work and it's not just a trivial port.  Surprised
> about openssl 1.02 though -- what exactly do you see?

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82482-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 28 12:09:34 2015
Return-Path: <dev-return-82482-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AA76318D69
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 28 Apr 2015 12:09:34 +0000 (UTC)
Received: (qmail 26709 invoked by uid 500); 28 Apr 2015 12:09:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 26633 invoked by uid 500); 28 Apr 2015 12:09:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 26623 invoked by uid 99); 28 Apr 2015 12:09:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 12:09:34 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 12:09:08 +0000
Received: from mail-wi0-f179.google.com (mail-wi0-f179.google.com [209.85.212.179])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 93312203A1
	for <dev@httpd.apache.org>; Tue, 28 Apr 2015 12:09:07 +0000 (UTC)
Received: by widdi4 with SMTP id di4so137376444wid.0
        for <dev@httpd.apache.org>; Tue, 28 Apr 2015 05:09:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=Rdmy3C7hZlkfC4byPGSEWWYuV245IfPHT/JugkyuquQ=;
        b=gGfsdvvz6suQu3E3wR7qLTAJyHdN+/ZIc9AyHf6dCxXOKIcgWjcrXaBrnUmsr97zja
         e/RyeCXUKFOEx2U71GiWa6HzWmpoiYBSihotvUWqmrglbCoCQk4fORzIDz075IGLO0ZU
         +P8DWSpbDqx7GKhhflRK9YEy8zkM+K/rXE2hlku9d46A4pJRDRy3GJPs+LFzhydK0fNY
         qgh3Neft/tjcMI2xUOdQBidGrBbyyiCvV37HeIqglezXodxCe99fh3XkcMziCkcxopjh
         icaTc0AZpmIiuMnedptauwQniduUIxQrxTEb05ofitETWCrbzyAO57w0H1aZyggBAlbH
         ZC/Q==
X-Received: by 10.180.96.227 with SMTP id dv3mr29703503wib.53.1430222947394;
 Tue, 28 Apr 2015 05:09:07 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.28.62.81 with HTTP; Tue, 28 Apr 2015 05:08:26 -0700 (PDT)
In-Reply-To: <C395F492-9538-4AAE-8EC3-7FEB32C15447@greenbytes.de>
References: <CAFMGiz_L9PKbf_HLw_wFWUHzpwVPqJVUUD1pWhh44GsSRALxzg@mail.gmail.com>
 <CALK=YjMDiiuDWTzwNCaF-8j0zP3S6jri66rMZ1tnP3W6cT8KvA@mail.gmail.com> <C395F492-9538-4AAE-8EC3-7FEB32C15447@greenbytes.de>
From: Tom Browder <tom.browder@gmail.com>
Date: Tue, 28 Apr 2015 07:08:26 -0500
Message-ID: <CAFMGiz9191ERN_uDT6hwT1==ogxAc=XEWJ0PD2HfFoensSfbPQ@mail.gmail.com>
Subject: Re: OpenSSL 1.02, PCRE 2.10
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Apr 28, 2015 at 7:05 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> Have openssl 1.0.2 running with 2.4.12 in a local installation on Ubuntu =
14.04. No special wrestling other than =E2=80=94with-openssl=3D=E2=80=A6 in=
 configure.

How about apr and apr-util: locally built and installed system-wide or
'--with-included-apr'?

Best,

-Tom

From dev-return-82483-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 28 12:13:01 2015
Return-Path: <dev-return-82483-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5AE1318D94
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 28 Apr 2015 12:13:01 +0000 (UTC)
Received: (qmail 41191 invoked by uid 500); 28 Apr 2015 12:13:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 41119 invoked by uid 500); 28 Apr 2015 12:13:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 41108 invoked by uid 99); 28 Apr 2015 12:13:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 12:13:00 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 12:12:34 +0000
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 91FAC21572
	for <dev@httpd.apache.org>; Tue, 28 Apr 2015 12:12:33 +0000 (UTC)
Received: from delight.greenbytes.de (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 84B9615A02BB
	for <dev@httpd.apache.org>; Tue, 28 Apr 2015 14:12:27 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: OpenSSL 1.02, PCRE 2.10
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAFMGiz9191ERN_uDT6hwT1==ogxAc=XEWJ0PD2HfFoensSfbPQ@mail.gmail.com>
Date: Tue, 28 Apr 2015 14:12:26 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <C2225F2D-3A33-40D0-A90D-753B71DBA8E6@greenbytes.de>
References: <CAFMGiz_L9PKbf_HLw_wFWUHzpwVPqJVUUD1pWhh44GsSRALxzg@mail.gmail.com> <CALK=YjMDiiuDWTzwNCaF-8j0zP3S6jri66rMZ1tnP3W6cT8KvA@mail.gmail.com> <C395F492-9538-4AAE-8EC3-7FEB32C15447@greenbytes.de> <CAFMGiz9191ERN_uDT6hwT1==ogxAc=XEWJ0PD2HfFoensSfbPQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
X-Virus-Checked: Checked by ClamAV on apache.org

./configure --enable-mpms-shared=3Dall --with-included-apr =
--with-ssl=3D<dir>

and on OS X additionally a locally installed pcre  --with-pcre=3D<dir>

apr 1.5.1, apr-util 1.5.4, local pcre 8.36 on OS X (+ some homebrew =
things I already had)

Hope that helps,

  Stefan

> Am 28.04.2015 um 14:08 schrieb Tom Browder <tom.browder@gmail.com>:
>=20
> On Tue, Apr 28, 2015 at 7:05 AM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> Have openssl 1.0.2 running with 2.4.12 in a local installation on =
Ubuntu 14.04. No special wrestling other than =E2=80=94with-openssl=3D=E2=80=
=A6 in configure.
>=20
> How about apr and apr-util: locally built and installed system-wide or
> '--with-included-apr'?
>=20
> Best,
>=20
> -Tom

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82484-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 28 15:18:36 2015
Return-Path: <dev-return-82484-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E8D7D10CCE
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 28 Apr 2015 15:18:36 +0000 (UTC)
Received: (qmail 86127 invoked by uid 500); 28 Apr 2015 15:18:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86049 invoked by uid 500); 28 Apr 2015 15:18:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86039 invoked by uid 99); 28 Apr 2015 15:18:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 15:18:36 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 15:18:28 +0000
Received: from resqmta-ch2-07v.sys.comcast.net (resqmta-ch2-07v.sys.comcast.net [69.252.207.39])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 497A043BC5
	for <dev@httpd.apache.org>; Tue, 28 Apr 2015 15:18:08 +0000 (UTC)
Received: from resomta-ch2-01v.sys.comcast.net ([69.252.207.97])
	by resqmta-ch2-07v.sys.comcast.net with comcast
	id MTHd1q00226dK1R01TJ0pr; Tue, 28 Apr 2015 15:18:00 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-01v.sys.comcast.net with comcast
	id MTJ01q0021cCKD901TJ052; Tue, 28 Apr 2015 15:18:00 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: Listen on UDS
Message-Id: <465C40FA-E0DB-4372-9E8C-EBD4A79F7052@jaguNET.com>
Date: Tue, 28 Apr 2015 11:17:59 -0400
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1430234280;
	bh=u8da9nk9wm4mMJk0XbirSpLkn2c3d+lFS2Oj6y3eSco=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=r91f6V6xGAcep9SOiDnaJDb0TMvBVwunIi9Tp50ChPfI8WZ1oI89nDdeBegZeME7M
	 UhMGagMS0mDJ7GSDtRmlMqzX4b2GmgRGj0HLkIvKa/gK54yLiFJyuuiwZtzNQgL4bC
	 bp7hvjIpQlpF7Ra2rBXjDgqBK6jBS67anAcQFsFsg+oLU/SkCp/n+oVImt3I4lvfoF
	 1QjT0zkgtfQ1E7gKWWSB2+pG7RrCqVQHlOvBY3lRxu+wGU3kiUhBOmrnfN3mHz6RE+
	 /q+zaJ2kSLp+2z2w5PCpgpSUMEkFR52nGS+7rXvCT55p47/nnrrdm6qt3tIUPZJ22+
	 X76JWth+9SqTw==
X-Virus-Checked: Checked by ClamAV on apache.org

Anyone looked into having httpd be able to Listen on a UDS, as
well as scenarios where we may want that even?


From dev-return-82485-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 28 15:21:15 2015
Return-Path: <dev-return-82485-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E868C10D1D
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 28 Apr 2015 15:21:15 +0000 (UTC)
Received: (qmail 3461 invoked by uid 500); 28 Apr 2015 15:21:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3382 invoked by uid 500); 28 Apr 2015 15:21:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3372 invoked by uid 99); 28 Apr 2015 15:21:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 15:21:15 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 15:20:49 +0000
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 3086F2026C
	for <dev@httpd.apache.org>; Tue, 28 Apr 2015 15:20:48 +0000 (UTC)
Received: from [10.105.35.171] (unknown [5.56.169.80])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 27E6180C55
	for <dev@httpd.apache.org>; Tue, 28 Apr 2015 16:20:42 +0100 (BST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: Listen on UDS
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <465C40FA-E0DB-4372-9E8C-EBD4A79F7052@jaguNET.com>
Date: Tue, 28 Apr 2015 17:20:39 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <E26D55C0-D91F-432D-8DB7-A9D09D7BBE87@sharp.fm>
References: <465C40FA-E0DB-4372-9E8C-EBD4A79F7052@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
X-Virus-Checked: Checked by ClamAV on apache.org

On 28 Apr 2015, at 5:17 PM, Jim Jagielski <jim@jaguNET.com> wrote:

> Anyone looked into having httpd be able to Listen on a UDS, as
> well as scenarios where we may want that even?

I have always wanted it - one thing it allows us to do is reverse proxy =
to versions of httpd (or other daemon software) running as another user, =
with a proper hope of securing it.

Regards,
Graham
=E2=80=94


From dev-return-82486-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 28 16:18:42 2015
Return-Path: <dev-return-82486-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 421F91777B
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 28 Apr 2015 16:18:42 +0000 (UTC)
Received: (qmail 11627 invoked by uid 500); 28 Apr 2015 16:18:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 11563 invoked by uid 500); 28 Apr 2015 16:18:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 11553 invoked by uid 99); 28 Apr 2015 16:18:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 16:18:41 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 16:18:14 +0000
Received: from mail-wi0-f175.google.com (mail-wi0-f175.google.com [209.85.212.175])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 6742D2AA76
	for <dev@httpd.apache.org>; Tue, 28 Apr 2015 16:18:13 +0000 (UTC)
Received: by wicmx19 with SMTP id mx19so111783525wic.1
        for <dev@httpd.apache.org>; Tue, 28 Apr 2015 09:18:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Ed8trPHD08ACefdfqKwZPsfZTuL0NC5gTbYHHo+w6Lw=;
        b=nkW2d78gfOBkBMWNZkRgKAKfmfz9MxOM+/HXo2hmVVgUgw25JqnSzU+gJsdYbnwHdi
         qaSmkv1CnviTWBBYOhpWfsff8MDvONnFkilI8Aj9P0yPCNROrZCbUC6QfncMeNB0iWi4
         5GeK6OM3oJlyPYG1IJr/mdVhvzZOvgfVA5PR+XCb6r8nEEcQ+yC1QBu02NfdldclfaQg
         L8BNEPJxXfw/BE8DT/DO7cumgItDzJO1IHzN6hGxsRjQiQrGke9+MuJbXF3fk3zOXdc9
         oBPG8ZJ9OhEFGV/trHw2X6oeLovf7tBf1jmnWCFARcF7ydjmGidpFz84t3QziEucebag
         uCqQ==
MIME-Version: 1.0
X-Received: by 10.181.13.198 with SMTP id fa6mr711026wid.41.1430237893172;
 Tue, 28 Apr 2015 09:18:13 -0700 (PDT)
Received: by 10.27.26.200 with HTTP; Tue, 28 Apr 2015 09:18:13 -0700 (PDT)
In-Reply-To: <553B84F2.5000805@gmail.com>
References: <553B84F2.5000805@gmail.com>
Date: Tue, 28 Apr 2015 12:18:13 -0400
Message-ID: <CALK=YjOPgbCh8eEyRPzCMXzD4OeHHRC_-aGkWtG325KDNP88JQ@mail.gmail.com>
Subject: Re: [VOTE] Release APR 1.5.2
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Sat, Apr 25, 2015 at 8:13 AM, Jeff Trawick <trawick@gmail.com> wrote:
> +/-1
> [  ] Release APR 1.5.2 as GA


+1 for release.  Tested on AIX/PPC32, HPUX/IA64 and Solaris/x64.

HPUX and AIX had non-regression long standing failure in testxlate.

From dev-return-82487-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 28 16:23:02 2015
Return-Path: <dev-return-82487-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B01A8177C2
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 28 Apr 2015 16:23:02 +0000 (UTC)
Received: (qmail 29044 invoked by uid 500); 28 Apr 2015 16:22:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28960 invoked by uid 500); 28 Apr 2015 16:22:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28950 invoked by uid 99); 28 Apr 2015 16:22:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 16:22:56 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 16:22:29 +0000
Received: from mail-qg0-f52.google.com (mail-qg0-f52.google.com [209.85.192.52])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id D844E2AA5F
	for <dev@httpd.apache.org>; Tue, 28 Apr 2015 16:22:27 +0000 (UTC)
Received: by qgdy78 with SMTP id y78so17339qgd.0
        for <dev@httpd.apache.org>; Tue, 28 Apr 2015 09:22:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        bh=yLK9PpG3cS/aKAXI8HrMUgXO26chwtD++l/IBrBGmCg=;
        b=v5iCc/85dKgoIlmwPwBLr4LP8MCqxUEF1XGPWE2TOI+zJbjNx8Zm4ng0LN/nO2Qeui
         UaEV/BUSpdGiMcQL0BvBiqUbVQHGCwFBZfsJbXyEMq7wNaQ9aLVL0Qhq4ryNCh3CPktE
         V6+IwDKisNsHj//ChBD5zFL2OOmn3bj0+MoFGTLJ2FdASm9MGqvsd3NjXENV70jG4kbm
         9ssutAQRJ8g6tztux3kFR1OdTuPV9lfUMx0PtDC3y3hzYnu5hm1C1O17a1jrxjvm5GF0
         ETaF+0zEiP/aabX3ZLrUbIuNEy1AvGCkcWN415lqo5IurlbVeOvNt4+upNjRs3o0qKTZ
         1IQQ==
X-Received: by 10.55.22.88 with SMTP id g85mr20793458qkh.48.1430238146980;
        Tue, 28 Apr 2015 09:22:26 -0700 (PDT)
Received: from ?IPv6:2606:a000:b541:6700:4d18:c2c6:6a22:cfcb? ([2606:a000:b541:6700:4d18:c2c6:6a22:cfcb])
        by mx.google.com with ESMTPSA id h3sm13083497qkh.34.2015.04.28.09.22.26
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Tue, 28 Apr 2015 09:22:26 -0700 (PDT)
Message-ID: <553FB3C1.5060504@gmail.com>
Date: Tue, 28 Apr 2015 12:22:25 -0400
From: Jeff Trawick <trawick@gmail.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: [VOTE] Release APR 1.5.2
References: <553B84F2.5000805@gmail.com> <CALK=YjOPgbCh8eEyRPzCMXzD4OeHHRC_-aGkWtG325KDNP88JQ@mail.gmail.com>
In-Reply-To: <CALK=YjOPgbCh8eEyRPzCMXzD4OeHHRC_-aGkWtG325KDNP88JQ@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 04/28/2015 12:18 PM, Eric Covener wrote:
> On Sat, Apr 25, 2015 at 8:13 AM, Jeff Trawick <trawick@gmail.com> wrote:
>> +/-1
>> [  ] Release APR 1.5.2 as GA
>
> +1 for release.  Tested on AIX/PPC32, HPUX/IA64 and Solaris/x64.
>
> HPUX and AIX had non-regression long standing failure in testxlate.
Can you respond on the dev@apr thread?  This was just bait for people 
with their phone activated in their pocket :)


From dev-return-82488-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 28 16:54:34 2015
Return-Path: <dev-return-82488-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 87A1E17A04
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 28 Apr 2015 16:54:34 +0000 (UTC)
Received: (qmail 43174 invoked by uid 500); 28 Apr 2015 16:54:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 43112 invoked by uid 500); 28 Apr 2015 16:54:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 43099 invoked by uid 99); 28 Apr 2015 16:54:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 16:54:33 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 16:54:05 +0000
Received: from lewis.sophia.w3.org (lewis.sophia.w3.org [193.51.208.79])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id C999A25F5E
	for <dev@httpd.apache.org>; Tue, 28 Apr 2015 16:54:03 +0000 (UTC)
Received: from mut38-7-78-226-234-114.fbx.proxad.net ([78.226.234.114] helo=kiribati.inrialpes.fr)
	by lewis.sophia.w3.org with esmtpsa (TLS1.2:DHE_RSA_AES_256_CBC_SHA256:256)
	(Exim 4.80)
	(envelope-from <kahan@w3.org>)
	id 1Yn8jd-0006tA-N8; Tue, 28 Apr 2015 16:51:50 +0000
Received: by kiribati.inrialpes.fr (Postfix, from userid 50104)
	id 8382532D0; Tue, 28 Apr 2015 18:51:48 +0200 (CEST)
Date: Tue, 28 Apr 2015 18:51:48 +0200
From: Jose Kahan <jose.kahan@w3.org>
To: dev@httpd.apache.org
Cc: minfrin@sharp.fm
Subject: patch to mod_authz_dbd to handle query parameters
Message-ID: <20150428165148.GA17745@kiribati.inrialpes.fr>
Reply-To: jose.kahan@w3.org
References: <20150414173852.GA7233@kiribati.inrialpes.fr>
 <304DB914-ED71-4476-B875-F1ABDD1E370C@sharp.fm>
 <20150423195443.GA6564@kiribati.inrialpes.fr>
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="qDbXVdCdHGoSgWSk"
Content-Disposition: inline
In-Reply-To: <20150423195443.GA6564@kiribati.inrialpes.fr>
User-Agent: Mutt/1.5.21 (2010-09-15)
X-Virus-Checked: Checked by ClamAV on apache.org


--qDbXVdCdHGoSgWSk
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

Hi,

I realized that my last message was missing a part of the
info I had prepared. I'm resending it with a new subject
to make it clearer what it is.

I slightly revised the patch in that it had a unused variable.
I don't know why -Wc-Wunused didn't work with apxs2.

To compile and install the patch:

	 apxs2  -i -a -c mod_authz_dbd.c

Looking forward to your feedback or RFE. More details here below.

I'm also opening a bug report for the dbd issue I found (and fixed
in this patch).

Cheers,

-jose

DETAILED REPORT
----------------

Work done:

- As discussed earlier in this thread, new require dbd-query directive
  for supporting query parameters.  If the query returns at least one
  row, we consider that access is granted.

- It's now possible to use query parameters for dbd-login and
  dbd-logout. If no parameter is given, the default value is
  %{REMOTE-USER} to keep backwards compatibility.

- While testing the changes for dbd-login, a server misconfiguration
  revealed a SIGSEV. If the dbd handle preparation fails due to a
  misconfiguration of the database server or the access rights to the
  table, the server logs something along these lines:

   AH00632: failed to prepare SQL statements: UPDATE command denied to 
   user 'foo'@'exampleorg' for table 'bar'

  As a consequence, the call to dbd_handle(r) returns NULL. However,
  in mod_authz_dbd, there was no control for the value of dbd before
  its being used in both authz_dbd_login() and authzdbd_group():

       ap_dbd_t *dbd = dbd_handle(r);
       ...
        query = apr_hash_get(dbd->prepared, <--- SIGSEV

  I added a check to protect against this case.

Open issues:

- I wanted to control that the number of bind arguments correspond to
  those in the prepared request. However this value is not visible in
  apr_dbd_prepared_t *query.  Looking at the code in apr_dbd.c, I see
  that even though the number of bind arguments are being passed to
  apr_dbd_pselect() and apr_dbd_pquery() in nargs, this argument is
  discarded before calling the implementation of those functions in
  the driver.

  At least in the mysql driver, there is no further check that there
  is an equivalence between the bind and prepared statement
  arguments. In both cases there is just a call to

        mysql_stmt_bind_param(statement->stmt, bind);

  which expects bind to have the correct number of arguments. I
  checked the sqlite3 driver and it has the same issue.

  If bind has more arguments, there is no issue. If there is less, we
  risk a SIGSEV or unexpected behavior.

  To avoid this issue, I wanted to control the number of arguments
  when parsing the configuration file and show a configuration error
  when necessary. However, as the prepared query goes into opaque
  driver implementations, I don't have access to its nargs value. Are
  there any ideas on how to get this info?  The only hack I could
  think of is counting the number of % inside the prepared query and
  making sure that we have the corresponding number of bind arguments.

- Would it be worth it to connect this module to mod_socache.c?

Other questions:

- In function dbd_parse_config, I was unable to decide whether it
  would be ok to use cmd->temp_pool instead of cmd->pool in my call to
  ap_getword_white()

- I am using ap_expr_parse_cmd() on each argument of the require
  dbd-query, dbd-login, and dbd-logout directives. I think this is
  akin to building an expression tree for each argument. Is there a
  more efficient way to do so?


--qDbXVdCdHGoSgWSk
Content-Type: text/x-diff; charset=us-ascii
Content-Disposition: attachment; filename="mod_authz_dbd.c.diff"

Index: /tmp/httpd-trunk/modules/aaa/mod_authz_dbd.c
===================================================================
--- /tmp/httpd-trunk/modules/aaa/mod_authz_dbd.c	(revision 1676575)
+++ /tmp/httpd-trunk/modules/aaa/mod_authz_dbd.c	(working copy)
@@ -109,7 +109,45 @@
     {NULL}
 };
 
+static int evaluate_query_parameters(request_rec *r, 
+                                     const apr_array_header_t *parsed_require_args, 
+				     const void **query_parameters)
+{
+    int i;
+    apr_array_header_t *qp;
+    
+    const ap_expr_info_t *expr = NULL;
+    const char *parameter;
+    
+    const char *err = NULL;
+    
+    /* evaluate the query parameters in parsed_require_args */
+    qp = apr_array_make(r->pool, 
+			parsed_require_args->nelts, 
+			sizeof (char *));
+    
+    for (i = 0; i < parsed_require_args->nelts; i++) {
+        
+        expr = ((const ap_expr_info_t **)parsed_require_args->elts)[i];
+        parameter = ap_expr_str_exec(r, expr, &err);
+        
+        if (err) {
+            ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO()
+                          "authz_dbd in evaluate query_parameters: Can't "
+                          "evaluate require expression: %s", err);
+            return HTTP_INTERNAL_SERVER_ERROR;
+        }
+
+        *(const char **)apr_array_push(qp) = parameter;
+    }
+    
+    *query_parameters = (void *)qp;
+    
+    return OK;
+}
+
 static int authz_dbd_login(request_rec *r, authz_dbd_cfg *cfg,
+			   const void *parsed_require_args,
                            const char *action)
 {
     int rv;
@@ -120,12 +158,18 @@
     apr_dbd_prepared_t *query;
     apr_dbd_results_t *res = NULL;
     apr_dbd_row_t *row = NULL;
+    apr_array_header_t *query_parameters;
 
     if (cfg->query == NULL) {
         ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO(01642)
                       "No query configured for %s!", action);
         return HTTP_INTERNAL_SERVER_ERROR;
     }
+    if (dbd == NULL) {
+        ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO()
+                      "No db handle available for %s! Check your database access", action);
+        return HTTP_INTERNAL_SERVER_ERROR;
+    }
     query = apr_hash_get(dbd->prepared, cfg->query, APR_HASH_KEY_STRING);
     if (query == NULL) {
         ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO(01643)
@@ -133,8 +177,15 @@
         return HTTP_INTERNAL_SERVER_ERROR;
     }
 
-    rv = apr_dbd_pvquery(dbd->driver, r->pool, dbd->handle, &nrows,
-                         query, r->user, NULL);
+    rv = evaluate_query_parameters(r, parsed_require_args, (void *)&query_parameters);
+    if (rv != OK) {
+        return HTTP_INTERNAL_SERVER_ERROR;
+    }
+
+    rv = apr_dbd_pquery(dbd->driver, r->pool, dbd->handle, &nrows,
+			query,
+			query_parameters->nelts,
+			(const char **)query_parameters->elts);
     if (rv == 0) {
         if (nrows != 1) {
             ap_log_rerror(APLOG_MARK, APLOG_WARNING, 0, r, APLOGNO(01644)
@@ -194,6 +245,68 @@
     return OK;
 }
 
+static int authz_dbd_query(request_rec *r, authz_dbd_cfg *cfg,
+			   const apr_array_header_t *query_parameters,
+			   apr_array_header_t *query_result_rows)
+{
+    /* SELECT group FROM authz WHERE col = %s, col = %s, ... */
+    int rv;
+    const char *message;
+    ap_dbd_t *dbd = dbd_handle(r);
+    apr_dbd_prepared_t *query;
+    apr_dbd_results_t *res = NULL;
+    apr_dbd_row_t *row = NULL;
+    const char **query_result_row;
+
+    if (cfg->query == NULL) {
+        ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO()
+                      "No query configured for dbd-query!");
+        return HTTP_INTERNAL_SERVER_ERROR;
+    }
+    if (dbd == NULL) {
+        ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO()
+                      "No db handle available for dbd-query! Check your database access");
+        return HTTP_INTERNAL_SERVER_ERROR;
+    }
+    query = apr_hash_get(dbd->prepared, cfg->query, APR_HASH_KEY_STRING);
+    if (query == NULL) {
+        ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO()
+                      "Error retrieving query for dbd-query!");
+        return HTTP_INTERNAL_SERVER_ERROR;
+    }
+
+    rv = apr_dbd_pselect(dbd->driver, r->pool, dbd->handle, &res,
+			 query, 0, 
+			 query_parameters->nelts,
+			 (const char **)query_parameters->elts);
+
+    if (rv == 0) {
+        for (rv = apr_dbd_get_row(dbd->driver, r->pool, res, &row, -1);
+             rv != -1;
+             rv = apr_dbd_get_row(dbd->driver, r->pool, res, &row, -1)) {
+            if (rv == 0) {
+                query_result_row = apr_array_push(query_result_rows);
+                *query_result_row = apr_dbd_get_entry(dbd->driver, row, 0);
+            }
+            else {
+                message = apr_dbd_error(dbd->driver, dbd->handle, rv);
+                ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO()
+                              "authz_dbd dbd_query in get_row; query for user=%s [%s]",
+                              r->user, message?message:noerror);
+                return HTTP_INTERNAL_SERVER_ERROR;
+            }
+        }
+    }
+    else {
+        message = apr_dbd_error(dbd->driver, dbd->handle, rv);
+        ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO()
+                      "authz_dbd, in dbd_query query for %s [%s]",
+                      r->user, message?message:noerror);
+        return HTTP_INTERNAL_SERVER_ERROR;
+    }
+    return OK;
+}
+
 static int authz_dbd_group_query(request_rec *r, authz_dbd_cfg *cfg,
                                  apr_array_header_t *groups)
 {
@@ -211,6 +324,11 @@
                       "No query configured for dbd-group!");
         return HTTP_INTERNAL_SERVER_ERROR;
     }
+    if (dbd == NULL) {
+        ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO()
+                      "No db handle available for dbd-group! Check your database access");
+        return HTTP_INTERNAL_SERVER_ERROR;
+    }
     query = apr_hash_get(dbd->prepared, cfg->query, APR_HASH_KEY_STRING);
     if (query == NULL) {
         ap_log_rerror(APLOG_MARK, APLOG_ERR, 0, r, APLOGNO(01650)
@@ -246,6 +364,42 @@
     return OK;
 }
 
+static authz_status dbdquery_check_authorization(request_rec *r,
+                                                 const char *require_args,
+                                                 const void *parsed_require_args)
+{
+    int rv;
+
+    const apr_array_header_t *parsed_require_args_array = parsed_require_args;
+    apr_array_header_t *query_parameters;
+    apr_array_header_t *query_result_rows = NULL;
+
+    authz_dbd_cfg *cfg = ap_get_module_config(r->per_dir_config,
+                                              &authz_dbd_module);
+
+    if (!r->user) {
+        return AUTHZ_DENIED_NO_USER;
+    }
+    
+    rv = evaluate_query_parameters(r, parsed_require_args, (void *)&query_parameters);
+    if (rv != OK) {
+        return HTTP_INTERNAL_SERVER_ERROR;
+    }
+    
+    query_result_rows = apr_array_make(r->pool, 4, sizeof(const char*));
+    rv = authz_dbd_query(r, cfg, query_parameters, query_result_rows);
+    if (rv != OK) {
+        return HTTP_INTERNAL_SERVER_ERROR;
+    }
+    
+    /* if we get at least one row result, consider the request is granted */
+    if (query_result_rows->nelts) {
+        return AUTHZ_GRANTED;
+    }
+    
+    return AUTHZ_DENIED;
+}
+
 static authz_status dbdgroup_check_authorization(request_rec *r,
                                                  const char *require_args,
                                                  const void *parsed_require_args)
@@ -305,8 +459,8 @@
     if (!r->user) {
         return AUTHZ_DENIED_NO_USER;
     }
-
-    return (authz_dbd_login(r, cfg, "login") == OK ? AUTHZ_GRANTED : AUTHZ_DENIED);
+    
+    return (authz_dbd_login(r, cfg, parsed_require_args, "login") == OK ? AUTHZ_GRANTED : AUTHZ_DENIED);
 }
 
 static authz_status dbdlogout_check_authorization(request_rec *r,
@@ -320,15 +474,70 @@
         return AUTHZ_DENIED_NO_USER;
     }
 
-    return (authz_dbd_login(r, cfg, "logout") == OK ? AUTHZ_GRANTED : AUTHZ_DENIED);
+    return (authz_dbd_login(r, cfg, parsed_require_args, "logout") == OK ? AUTHZ_GRANTED : AUTHZ_DENIED);
 }
 
-static const char *dbd_parse_config(cmd_parms *cmd, const char *require_line,
-                                     const void **parsed_require_line)
+static const char *dbd_parse_config_query_parameters(cmd_parms *cmd, 
+						     const char *require_line,
+						     const void **parsed_require_line)
 {
     const char *expr_err = NULL;
     ap_expr_info_t *expr;
+    apr_array_header_t *expr_array = NULL;
+    
+    const char *t;
+    char *w;
+    
+    /* parse each element of the require line and store it in an
+       individual table entry. We will evaluate them in that order
+       when passing the parameters to the db query */
+    t = require_line;
+    while ((w = ap_getword_white(cmd->pool, &t)) && w[0]) {
+        
+        expr = ap_expr_parse_cmd(cmd, w, AP_EXPR_FLAG_STRING_RESULT,
+                                 &expr_err, NULL);
+        
+        if (expr_err)
+            return apr_pstrcat(cmd->temp_pool,
+                               "Cannot parse expression in require line: ",
+                               expr_err, NULL);
+        
+        if (expr_array == NULL) {
+            expr_array = apr_array_make(cmd->pool, 1, 
+                                        sizeof(const ap_expr_info_t *));
+        }
+        *(const ap_expr_info_t **)apr_array_push(expr_array) = expr;
+    }
+    
+    *parsed_require_line = expr_array;
+    
+    return NULL;
+}
 
+static const char *dbd_parse_config_session(cmd_parms *cmd, 
+					    const char *require_line,
+					    const void **parsed_require_line)
+{
+  const char *t;
+
+  /* to preserve backwards compatibility, if the require line has no
+     arguments, use REMOTE_USER by default. */
+  if (require_line[0] == '\0') {
+      t = apr_pstrdup (cmd->pool, "%{REMOTE_USER}");
+  }
+  else {
+      t = require_line;
+  }
+
+  return dbd_parse_config_query_parameters (cmd, t, parsed_require_line);
+}
+
+static const char *dbd_parse_config_groups(cmd_parms *cmd, const char *require_line,
+					   const void **parsed_require_line)
+{
+    const char *expr_err = NULL;
+    ap_expr_info_t *expr;
+
     expr = ap_expr_parse_cmd(cmd, require_line, AP_EXPR_FLAG_STRING_RESULT,
             &expr_err, NULL);
 
@@ -342,27 +551,37 @@
     return NULL;
 }
 
+static const authz_provider authz_dbdquery_provider =
+{
+    &dbdquery_check_authorization,
+    &dbd_parse_config_query_parameters,
+};
+
 static const authz_provider authz_dbdgroup_provider =
 {
     &dbdgroup_check_authorization,
-    &dbd_parse_config,
+    &dbd_parse_config_groups,
 };
 
 static const authz_provider authz_dbdlogin_provider =
 {
     &dbdlogin_check_authorization,
-    NULL,
+    dbd_parse_config_session,
 };
 
 
 static const authz_provider authz_dbdlogout_provider =
 {
     &dbdlogout_check_authorization,
-    NULL,
+    dbd_parse_config_session,
 };
 
 static void authz_dbd_hooks(apr_pool_t *p)
 {
+    ap_register_auth_provider(p, AUTHZ_PROVIDER_GROUP, "dbd-query",
+                              AUTHZ_PROVIDER_VERSION,
+                              &authz_dbdquery_provider,
+                              AP_AUTH_INTERNAL_PER_CONF);
     ap_register_auth_provider(p, AUTHZ_PROVIDER_GROUP, "dbd-group",
                               AUTHZ_PROVIDER_VERSION,
                               &authz_dbdgroup_provider,

--qDbXVdCdHGoSgWSk--

From dev-return-82489-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 28 18:59:21 2015
Return-Path: <dev-return-82489-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B3FE71749E
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 28 Apr 2015 18:59:21 +0000 (UTC)
Received: (qmail 96061 invoked by uid 500); 28 Apr 2015 18:59:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 95996 invoked by uid 500); 28 Apr 2015 18:59:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 95986 invoked by uid 99); 28 Apr 2015 18:59:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 18:59:21 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 18:59:14 +0000
Received: from mail-wg0-f50.google.com (mail-wg0-f50.google.com [74.125.82.50])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 53ACC21627
	for <dev@httpd.apache.org>; Tue, 28 Apr 2015 18:58:54 +0000 (UTC)
Received: by wgen6 with SMTP id n6so4413392wge.3
        for <dev@httpd.apache.org>; Tue, 28 Apr 2015 11:58:08 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=3VbCm6mU3I3HJpWwGgnxzT8E0souv0neVRLZALSOfBg=;
        b=XJlBoKh3cUS+TWf3mGiw/XNmo8o6TQN3oJjUA2Udlu2VxN7kosARud2QTFPtrrSl0b
         w6Oy+4gH9lug5xfJ6mmap3WtZGhTGQXrAHBRGq50wo2iHoTwyIZT280+wF5kiBpdx4pO
         zWCiphdcMF+T/aqAsAhYnNROpI8pumqx62tWsriFSTocC3/6DJN45xB+Q50KaNKqSApk
         juE8AL/0vR7skvj49Pp1BheP71jX4ai7rvGE1ri0EdGrcmij2BrbCiGSpcEAYopPpETU
         Vv06HWJ5sOnbvZLEc25yz5KlnB3/Ji5BnGOfSqxH0wihsjLdVoMKQbBl7qcIf1eqeKFI
         ZGvQ==
MIME-Version: 1.0
X-Received: by 10.180.24.65 with SMTP id s1mr31736997wif.66.1430247488150;
 Tue, 28 Apr 2015 11:58:08 -0700 (PDT)
Received: by 10.27.26.200 with HTTP; Tue, 28 Apr 2015 11:58:08 -0700 (PDT)
In-Reply-To: <20150428185647.86551AC0623@hades.apache.org>
References: <20150428185647.86551AC0623@hades.apache.org>
Date: Tue, 28 Apr 2015 14:58:08 -0400
Message-ID: <CALK=YjOjm0UGLZB=rXkvj2Fpy=8-OONBenW+VKhQwytES6LP=A@mail.gmail.com>
Subject: Re: svn commit: r1676593 - /httpd/httpd/trunk/modules/ldap/util_ldap.c
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

2.4.x STATUS:
  * Current exceptions for RTC for this branch:
    . mod_lua
    . documentation
    . non-Unix build
    . non-Unix, single-platform code

How about improving/extending error messages like the above?

On Tue, Apr 28, 2015 at 2:56 PM,  <covener@apache.org> wrote:
> Author: covener
> Date: Tue Apr 28 18:56:47 2015
> New Revision: 1676593
>
> URL: http://svn.apache.org/r1676593
> Log:
> Give a better hint.
>
>
> Modified:
>     httpd/httpd/trunk/modules/ldap/util_ldap.c
>
> Modified: httpd/httpd/trunk/modules/ldap/util_ldap.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ldap/util_ldap.c?rev=1676593&r1=1676592&r2=1676593&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/ldap/util_ldap.c (original)
> +++ httpd/httpd/trunk/modules/ldap/util_ldap.c Tue Apr 28 18:56:47 2015
> @@ -331,7 +331,7 @@ static int uldap_connection_init(request
>          rc = apr_ldap_rebind_add(ldc->rebind_pool, ldc->ldap, ldc->binddn, ldc->bindpw);
>          if (rc != APR_SUCCESS) {
>              ap_log_error(APLOG_MARK, APLOG_ERR, rc, r->server, APLOGNO(01277)
> -                    "LDAP: Unable to add rebind cross reference entry. Out of memory?");
> +                    "LDAP: Unable to add rebind cross reference entry. Out of memory? Try 'LDAPReferrals OFF'");
>              uldap_connection_unbind(ldc);
>              ldc->reason = "LDAP: Unable to add rebind cross reference entry.";
>              return(rc);
>
>



-- 
Eric Covener
covener@gmail.com

From dev-return-82490-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 28 19:19:38 2015
Return-Path: <dev-return-82490-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8F3EF1760E
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 28 Apr 2015 19:19:38 +0000 (UTC)
Received: (qmail 44460 invoked by uid 500); 28 Apr 2015 19:19:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 44401 invoked by uid 500); 28 Apr 2015 19:19:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 44390 invoked by uid 99); 28 Apr 2015 19:19:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 19:19:38 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 19:19:32 +0000
Received: from mail-yk0-f170.google.com (mail-yk0-f170.google.com [209.85.160.170])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 21CC043AC5
	for <dev@httpd.apache.org>; Tue, 28 Apr 2015 19:19:12 +0000 (UTC)
Received: by ykep21 with SMTP id p21so1131803yke.3
        for <dev@httpd.apache.org>; Tue, 28 Apr 2015 12:19:06 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:content-type:mime-version:subject:from
         :in-reply-to:date:content-transfer-encoding:message-id:references:to;
        bh=mq/arsGnHK+7ukkkF27+YondN+ZRrMHqOjbG3PGlqws=;
        b=RnsGjF1Xc9bz651bs30GRfeuLO/NjBezEhSW381PlPHx0xuHBVR6BoRBTKOvs6ltmw
         Py/Od/JGGTASs7zQLr0tyV0Cbvrh1dbVaoFxFOmaScy7uPpzMywU+395ytvzzUNKgvnv
         V0q0wdxT5617hw7HpyHQsBFcXJjAFYKdeTEbA79yyUVzPMa02qdQZILjM7gICnnC4cIt
         HI4bqx+jhHbQLp4dM61imtOE8xyDLKHPF3dLjmGimqUp7WXNT3gbcqkdoqKoA3Tb3B32
         DinsxjKrD5IN5SeC48JTQOo+DIdTEI8ivr0NjkikEqFBUSYzFfAexR+nWIitcL8VDSGO
         1gXg==
X-Gm-Message-State: ALoCoQkrkZbrjA1/xz5bu+X7t6+AWXHdqlB0KxnFjuLQL4Tea7ypcVIEQkis2EQFg4FC6jvnPbVx
X-Received: by 10.170.60.13 with SMTP id c13mr7537013ykc.72.1430248745940;
        Tue, 28 Apr 2015 12:19:05 -0700 (PDT)
Received: from jhriggs.office.rusticisoftware.com ([50.252.68.50])
        by mx.google.com with ESMTPSA id 62sm19458677yhq.22.2015.04.28.12.19.04
        for <dev@httpd.apache.org>
        (version=TLSv1 cipher=ECDHE-RSA-RC4-SHA bits=128/128);
        Tue, 28 Apr 2015 12:19:05 -0700 (PDT)
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: Listen on UDS
From: Jim Riggs <apache-lists@riggs.me>
In-Reply-To: <E26D55C0-D91F-432D-8DB7-A9D09D7BBE87@sharp.fm>
Date: Tue, 28 Apr 2015 14:19:04 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <58DB6373-C05C-423D-917B-C096305EFDFC@riggs.me>
References: <465C40FA-E0DB-4372-9E8C-EBD4A79F7052@jaguNET.com> <E26D55C0-D91F-432D-8DB7-A9D09D7BBE87@sharp.fm>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org

> On 28 Apr 2015, at 10:20, Graham Leggett <minfrin@sharp.fm> wrote:
>=20
> On 28 Apr 2015, at 5:17 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
>> Anyone looked into having httpd be able to Listen on a UDS, as
>> well as scenarios where we may want that even?
>=20
> I have always wanted it - one thing it allows us to do is reverse =
proxy to versions of httpd (or other daemon software) running as another =
user, with a proper hope of securing it.

+1. Reverse proxy is the prime example I can think of for it.


From dev-return-82491-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 28 19:31:13 2015
Return-Path: <dev-return-82491-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6352517723
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 28 Apr 2015 19:31:13 +0000 (UTC)
Received: (qmail 83624 invoked by uid 500); 28 Apr 2015 19:31:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83577 invoked by uid 500); 28 Apr 2015 19:31:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 83567 invoked by uid 99); 28 Apr 2015 19:31:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 19:31:12 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 19:31:07 +0000
Received: from resqmta-ch2-03v.sys.comcast.net (resqmta-ch2-03v.sys.comcast.net [69.252.207.35])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 9BED024F15
	for <dev@httpd.apache.org>; Tue, 28 Apr 2015 19:30:47 +0000 (UTC)
Received: from resomta-ch2-09v.sys.comcast.net ([69.252.207.105])
	by resqmta-ch2-03v.sys.comcast.net with comcast
	id MXVf1q0032GyhjZ01XVm9E; Tue, 28 Apr 2015 19:29:46 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-09v.sys.comcast.net with comcast
	id MXVl1q00P1cCKD901XVm16; Tue, 28 Apr 2015 19:29:46 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: Listen on UDS
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <58DB6373-C05C-423D-917B-C096305EFDFC@riggs.me>
Date: Tue, 28 Apr 2015 15:29:45 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <2726DE7F-7543-4F6A-9339-A81C55B520FF@jaguNET.com>
References: <465C40FA-E0DB-4372-9E8C-EBD4A79F7052@jaguNET.com> <E26D55C0-D91F-432D-8DB7-A9D09D7BBE87@sharp.fm> <58DB6373-C05C-423D-917B-C096305EFDFC@riggs.me>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1430249386;
	bh=8Ffx/tazxkViYkDZ4m9RKLkKYNo7R/SohqdOQm+Mgls=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=XyegwSCx68gZI69M9+9deXGkz8ACkdP1Q1G18gDlaU95CXcWNdE9D++bZSz04xC8z
	 4v1zUBnEE0RKvIxEGRjI5ygcU2iu/KOHyIutTgH+jlhHOlH+xwVCOvslc/19qW6NVW
	 uDa8SODL7HhoYL6qo+v1llFQBjH5X9qoR6zO3ih7mYiF5is15cVDnB1/qoIjpNVMYt
	 cGEpGeOMROGffiKwyPBVZOPtZZTOQ9mLF9oLGytFcYAy6kobeLsQf97RMWInVYRKjS
	 BQePRKCDocX1mpsIKoXcj9mpA3AO7enL1JT0yLtS7wEDr3Q9uIo2sx0dnRLwdMVZCN
	 v+SqzfQkZlWPQ==
X-Virus-Checked: Checked by ClamAV on apache.org

That's what I thought too, but I didn't want to assume :)

Let me look at what would be involved.

> On Apr 28, 2015, at 3:19 PM, Jim Riggs <apache-lists@riggs.me> wrote:
>=20
>> On 28 Apr 2015, at 10:20, Graham Leggett <minfrin@sharp.fm> wrote:
>>=20
>> On 28 Apr 2015, at 5:17 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>>=20
>>> Anyone looked into having httpd be able to Listen on a UDS, as
>>> well as scenarios where we may want that even?
>>=20
>> I have always wanted it - one thing it allows us to do is reverse =
proxy to versions of httpd (or other daemon software) running as another =
user, with a proper hope of securing it.
>=20
> +1. Reverse proxy is the prime example I can think of for it.
>=20


From dev-return-82492-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Apr 28 22:56:31 2015
Return-Path: <dev-return-82492-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9D99010547
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 28 Apr 2015 22:56:31 +0000 (UTC)
Received: (qmail 29545 invoked by uid 500); 28 Apr 2015 22:56:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29456 invoked by uid 500); 28 Apr 2015 22:56:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29445 invoked by uid 99); 28 Apr 2015 22:56:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 22:56:31 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Apr 2015 22:56:26 +0000
Received: from mail-ig0-f181.google.com (mail-ig0-f181.google.com [209.85.213.181])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 138C740E16
	for <dev@httpd.apache.org>; Tue, 28 Apr 2015 22:56:06 +0000 (UTC)
Received: by igbyr2 with SMTP id yr2so104832650igb.0
        for <dev@httpd.apache.org>; Tue, 28 Apr 2015 15:55:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=M6TIjGUcMu7XbGmx25fb6r8Fiylz9kkjstKTGLVEjDk=;
        b=lZNs17Z6EUdoMCpmiDbroTLzyUjkzXulRSxkn2eUwXbnC0tvUPJDGCAJ3BEhaCFYit
         ioNV3tX+uja0o3ql1YGwv/Ww3IsPhsryuhwxlgTKiYt6rUi9F1+3G76GU4XxBUMrXIb4
         sOnEa5e86/GY/AXggv7G9QnQhqCzYURQJG+0x0Gy3ixXsvKbqslJonp/V8Arx/3VNBHk
         K8czIYDlcIoFJ8wjQEgoNtoWal/o8E6YUWrPsZpMk2CQFM2gZpa/iwwqh34uinYsSDgx
         IISauEoB366500ph3AaRn2wZAcjhFl0e2gsYI00GYAMq1AELVX+BDPK5nhA+ynd6W1MQ
         854Q==
MIME-Version: 1.0
X-Received: by 10.50.79.130 with SMTP id j2mr362503igx.17.1430261720568; Tue,
 28 Apr 2015 15:55:20 -0700 (PDT)
Received: by 10.79.71.4 with HTTP; Tue, 28 Apr 2015 15:55:20 -0700 (PDT)
In-Reply-To: <CB72B91C-7F3D-4C34-81C3-108EB323EA94@riggs.me>
References: <CB72B91C-7F3D-4C34-81C3-108EB323EA94@riggs.me>
Date: Wed, 29 Apr 2015 00:55:20 +0200
Message-ID: <CAKQ1sVNAsWvjhow=5FMY7Q3aQY2_9w5xcz+aV7QdjtpMC17jbg@mail.gmail.com>
Subject: Re: *Match, RewriteRule POLA violation?
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

It seems that while <Location> is compared to ap_no2slash(r->uri),
<LocationMatch> is matched against r->uri directly.
That's probably the "issue".

A possible fix (untested) could be:

Index: server/request.c
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
--- server/request.c    (revision 1674695)
+++ server/request.c    (working copy)
@@ -1446,7 +1446,7 @@
                     pmatch =3D apr_palloc(rxpool, nmatch*sizeof(ap_regmatc=
h_t));
                 }

-                if (ap_regexec(entry_core->r, r->uri, nmatch, pmatch, 0)) =
{
+                if (ap_regexec(entry_core->r, entry_uri, nmatch, pmatch, 0=
)) {
                     continue;
                 }

@@ -1456,7 +1456,7 @@
                         apr_table_setn(r->subprocess_env,
                                        ((const char
**)entry_core->refs->elts)[i],
                                        apr_pstrndup(r->pool,
-                                       r->uri + pmatch[i].rm_so,
+                                       entry_uri + pmatch[i].rm_so,
                                        pmatch[i].rm_eo - pmatch[i].rm_so))=
;
                     }
                 }
--

On Mon, Apr 27, 2015 at 10:52 PM, Jim Riggs <apache-lists@riggs.me> wrote:
> This came up at ApacheCon a couple of weeks ago. I just took this knowled=
ge for granted, as I have always accounted for it, but both Rich and Trawic=
k were surprised. As I thought about it some more, it seems this may be a P=
OLA violation. Thoughts? If we agree it should be fixed, I can make the bug=
z and make a patch.
>
> Consider:
>
> <Location "/slash/foo">
>  ...
> </Location>
>
> vs.
>
> <LocationMatch "^/slash/foo">
>  ...
> </LocationMatch>
>
>
> These do not behave the same if multiple slashes are used. The leading sl=
ashes are always coalesced, so "^/..." is fine; however, any intermediate s=
lashes are not. So, in order for the LocationMatch directive above to behav=
e the same as the Location, it has to be specified as "^/slash/+foo". Like =
I said, I have always accounted for this in my regexps, but it doesn't seem=
 "right". Should the URL be normalized before being passed to regex-matchin=
g directives, or is there a specific reason that is not done?
>
> +-------------------+--------------+--------------+--------------+
> | Path              |   Non-Regex  |    *Match,   |    *Match,   |
> |                   |  Directive:  | RewriteRule: | RewriteRule: |
> |                   |  /slash/foo  |  ^/slash/foo | ^/slash/+foo |
> +-------------------+--------------+--------------+--------------+
> | /slash/foo        |     Match    |     Match    |     Match    |
> +-------------------+--------------+--------------+--------------+
> | ////slash/foo     |     Match    |     Match    |     Match    |
> +-------------------+--------------+--------------+--------------+
> | /slash///foo      |     Match    |      XXX     |     Match    |
> +-------------------+--------------+--------------+--------------+
> | ////slash///foo// |     Match    |      XXX     |     Match    |
> +-------------------+--------------+--------------+--------------+
>

From dev-return-82493-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 10:21:46 2015
Return-Path: <dev-return-82493-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AFD2117AB8
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 10:21:46 +0000 (UTC)
Received: (qmail 62507 invoked by uid 500); 29 Apr 2015 10:00:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32162 invoked by uid 500); 29 Apr 2015 09:59:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 87547 invoked by uid 99); 29 Apr 2015 06:07:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 06:07:30 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 06:07:24 +0000
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id E534545454
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 05:57:12 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t3T5v4Bx011157
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 07:57:04 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1430287024;
	bh=UU0uxwkmv2RaXOWC4O82aWRqQ4vp0E1wI60uLfizy+U=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=XDPMm9g1GdO1mKLCRyVn8i2+IjMU5wpFlTbtteEC+UGkuc0mue1ctbcIQJLZ1GW/9
	 WBxY1TcqZdjN5/LBINKjI/xXEPUVAzuggP6S5rKqHzNakkEKBvPS2QQ84p53YSWqNM
	 kCjSrFtJFXX5Uxq/LNAG0NvWYOQqg/mrVZ6xjuNtWIlCzxm9EINfyv4sL0Qj8/4sVD
	 y2O4hS7w3IOfHLZKopHSni/ih4b2XnK2Y/nxMSVWmD3uvE6NT2SZv2P7JOgW+Cl/aI
	 ULLachj6WTcIt9kA+MWRPkwNTWfA1j9Br1mwBKd862ndYLccjCmHZsNdIs3RP6TYK4
	 fN16b+0PffnDw==
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on cortex.velox.ch
X-Spam-Level: 
Message-ID: <554072B0.40708@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1430287023;
	bh=UU0uxwkmv2RaXOWC4O82aWRqQ4vp0E1wI60uLfizy+U=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=PmxlTkmBLaaooH0vlaSzzyGeh9rH726Ze/nlSJ/EzGgae5w6Jc1lvRNuLc1XZzyq4
	 I9J2PHmv5Mx9Udz03l7TwYnPuKRwCuOQCvsAlySpL8v1llv6Mlph8qTmaOa615pGGv
	 Pcc4DZfEMn+qCJJzo9z3P4+YTGh9rUlQMJ4LJJzYvv87WBHXsYI1d9HBcfY4g2MCVY
	 eSjuKHe2u8sx9ozTa8j0CpROt/JcPNU365Y6g0VWrRj/5faBjtF90MNDtja16alE+M
	 jw9fYgXZicIRKH+18J6EUIxi6fZwDbUpT+an4SCjyiN+12M5s2HB8KjNkauvZ0EuaP
	 A1tnkdJkNoSoA==
Date: Wed, 29 Apr 2015 07:57:04 +0200
From: Kaspar Brand <httpd-dev.2014@velox.ch>
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: OpenSSL 1.02, PCRE 2.10
References: <CAFMGiz_L9PKbf_HLw_wFWUHzpwVPqJVUUD1pWhh44GsSRALxzg@mail.gmail.com> <CALK=YjMDiiuDWTzwNCaF-8j0zP3S6jri66rMZ1tnP3W6cT8KvA@mail.gmail.com> <CAFMGiz-=TyfxrUA6G1Gj0kNktZoFVEDjsGReiMpy9rA00fhrHw@mail.gmail.com>
In-Reply-To: <CAFMGiz-=TyfxrUA6G1Gj0kNktZoFVEDjsGReiMpy9rA00fhrHw@mail.gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.5 required=8.0 tests=AWL=0.016,BAYES_00=-1.5,
	NO_RECEIVED=-0.001,NO_RELAYS=-0.001,T_DKIM_INVALID=0.01 autolearn=no
	autolearn_force=no version=3.4.0

On 28.04.2015 14:04, Tom Browder wrote:
> On Tue, Apr 28, 2015 at 6:45 AM, Eric Covener <covener@gmail.com> wrote:
>> about openssl 1.02 though -- what exactly do you see?
> 
> I see this when attempting to start apache:
> 
> /usr/local/apache2/bin/httpd: symbol lookup error:
> /usr/local/apache2/bin/httpd: undefined symbol: SSL_CONF_CTX_new
> 
> Maybe I need to play tricks with ld.so.conf and openssl?

Depends on whether you built OpenSSL with or without shared libraries -
what are the contents of the /opt/openssl/lib directory?

> I have no system installed openssl,

Hmm, what platform is this? Are you sure there are no libcrypto/libssl
libraries somewhere under /usr?

> SSLDIR=/opt/openssl
> export LDFLAGS="-L${SSLDIR}/lib"

This should not be needed.

>     --enable-ssl                           \
>     --enable-ssl-staticlib-deps            \
>     --enable-mods-static=ssl               \
>     --with-ssl=${SSLDIR}                   \

"--enable-mods-static=ssl" is probably not really what you want - it
includes mod_ssl in the httpd binary itself, but other than that, it
doesn't have an impact on how mod_ssl is linked against libcrypto/libssl
(you might try to see what "ldd /usr/local/apache2/bin/httpd" says).

The most important thing, though, is making sure that the directory
which appears in the LDFLAGS/MOD_LDFLAGS lines of the ./configure
outputs (after the "checking for user-provided OpenSSL base
directory...") in does not include any shared library files - only
static ones.

Kaspar

From dev-return-82494-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 10:37:12 2015
Return-Path: <dev-return-82494-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 502261838F
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 10:37:12 +0000 (UTC)
Received: (qmail 70755 invoked by uid 500); 29 Apr 2015 10:37:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70670 invoked by uid 500); 29 Apr 2015 10:37:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 70660 invoked by uid 99); 29 Apr 2015 10:37:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 10:37:11 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 10:37:04 +0000
Received: from BAY004-OMC3S12.hotmail.com (bay004-omc3s12.hotmail.com [65.54.190.150])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 8135B20514
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 10:36:44 +0000 (UTC)
Received: from BAY176-W41 ([65.54.190.189]) by BAY004-OMC3S12.hotmail.com over TLS secured channel with Microsoft SMTPSVC(7.5.7601.22751);
	 Wed, 29 Apr 2015 03:36:38 -0700
X-TMN: [zanAOAEpryeMo5v5RifU87Cl8bCR3Mvn]
X-Originating-Email: [himdeeppathak@outlook.com]
Message-ID: <BAY176-W4110932EC9EFED9D5E21D8A3D70@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_c466d448-d9e4-40bb-bc6f-dbbd645beacf_"
From: himdeep pathak <himdeeppathak@outlook.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: missing EOS bucket and mod_proxy_http waits forever
Date: Wed, 29 Apr 2015 16:06:38 +0530
Importance: Normal
MIME-Version: 1.0
X-OriginalArrivalTime: 29 Apr 2015 10:36:38.0547 (UTC) FILETIME=[5F93B630:01D08268]
X-Virus-Checked: Checked by ClamAV on apache.org

--_c466d448-d9e4-40bb-bc6f-dbbd645beacf_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I am using apache(2.2.28) as reverse proxy

Please help me to handle following scenario..

mod_proxy_http is unable to read EOS bucket from previous output filter and=
 it (ap_get_brigade()) stays on blocking state forever.=20
response transfer encoding is chunk.

Missing EOS bucket could be=20
1. due to buggy output filter which fails to forward EOS bucket
2. buggy back-end webserver.

how to figure out what is causing the issue and come out of infinite waitin=
g.

Direct accessing the webserver (without apache as reverse proxy) has no iss=
ue.

Thanks
 		 	   		  =

--_c466d448-d9e4-40bb-bc6f-dbbd645beacf_
Content-Type: text/html; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<html>
<head>
<style><!--
.hmmessage P
{
margin:0px=3B
padding:0px
}
body.hmmessage
{
font-size: 12pt=3B
font-family:Calibri
}
--></style></head>
<body class=3D'hmmessage'><div dir=3D'ltr'>I am using apache(2.2.28) as rev=
erse proxy<br><br>Please help me to handle following scenario..<br><br>mod_=
proxy_http is unable to read EOS bucket from previous output filter and it =
(ap_get_brigade()) stays on blocking state forever. <br>response transfer e=
ncoding is chunk.<br><br>Missing EOS bucket could be <br>1. due to buggy ou=
tput filter which fails to forward EOS bucket<br>2. buggy back-end webserve=
r.<br><br>how to figure out what is causing the issue and come out of infin=
ite waiting.<br><br>Direct accessing the webserver (without apache as rever=
se proxy) has no issue.<br><br>Thanks<br> 		 	   		  </div></body>
</html>=

--_c466d448-d9e4-40bb-bc6f-dbbd645beacf_--

From dev-return-82495-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 11:06:25 2015
Return-Path: <dev-return-82495-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7D60B18588
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 11:06:25 +0000 (UTC)
Received: (qmail 51520 invoked by uid 500); 29 Apr 2015 11:06:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51438 invoked by uid 500); 29 Apr 2015 11:06:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51428 invoked by uid 99); 29 Apr 2015 11:06:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 11:06:24 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 11:06:18 +0000
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 5E1D620653
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 11:05:58 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t3TB5nEE014343
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 13:05:50 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1430305550;
	bh=tU+QfxXPjzusHsPcHTJwOgaFJdNoodYXJTcCFET+ZKw=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=sfbZ7kOPBABQFxTPSRkiIBGVHujMbpXPJivB5DSk46GDNiTTRUfpAfSb94gsgSJw9
	 59cQu3z71TTlLhf2+hgMt6wmoj+fX+0C4OuE7vf96YnRxMTNLC+SPhUsUj4TbMxKsZ
	 YlHnMbZZWUW7niJdeId3DqZZy4y5rmUHB6sK+SA5yyxplMfqRlFGiCZ0JK+Saer6ae
	 kOX8n5nLuxU/AF34jDpT/Vc2XbqwJrvoIyw5x7pnL/ZcizG8IZFr4APIVVwLccoYBx
	 R0EyfoqJjWxLh5QyObr7dnRl6L6eYiXIQIVpwhLhDJFBhDpauReNHwlNo0vVTtJK2A
	 XIv1xRJ95tkBA==
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on cortex.velox.ch
X-Spam-Level: 
Message-ID: <5540BB0D.7070808@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1430305548;
	bh=tU+QfxXPjzusHsPcHTJwOgaFJdNoodYXJTcCFET+ZKw=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=m/q26ulqR/HnsyiABGWnpY8zfJ4T4QRDCBiVsj+W/Lh7Ufs6C3ht/hGQyynEb/fu8
	 i82G4st+Z6TMOZjqLaxKYFISEUj/Omabr5CjT5YIxOXx6YyfconwSwndxcJVlsZmuz
	 7rDGMnO0vBG++b0R08oUMX5KZH9ETOSizkaJH6A2o6DQGxWRi3w5oZG0vTa8A/xerv
	 3TBLnBHvGh21f7kwSl0JGDqBPApLrq275TO84U4k9dW9GTWIVeTFxO7+SHmWZnbdBC
	 ZGVo1PL926dlUHE4HkcgvfbaEEfGb09JRcKBVOOfYosJTw7Uc3E0adTf0hAOlbdFlj
	 QE2nTpKiBAUtQ==
Date: Wed, 29 Apr 2015 13:05:49 +0200
From: Kaspar Brand <httpd-dev.2014@velox.ch>
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: ALPN patch comments
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de> <5537C311.6020209@velox.ch> <40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com> <553B62C2.9080202@velox.ch> <D0F6D103-F293-4BCE-8213-0F0A1148FC26@greenbytes.de>
In-Reply-To: <D0F6D103-F293-4BCE-8213-0F0A1148FC26@greenbytes.de>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.5 required=8.0 tests=AWL=0.016,BAYES_00=-1.5,
	NO_RECEIVED=-0.001,NO_RELAYS=-0.001,T_DKIM_INVALID=0.01 autolearn=no
	autolearn_force=no version=3.4.0

On 27.04.2015 17:04, Stefan Eissing wrote:
>> Am 25.04.2015 um 11:47 schrieb Kaspar Brand <httpd-dev.2014@velox.ch>:
>> Only tested in terms of "compiles both w/ and w/o HAVE_TLS_ALPN", so it
>> certainly needs more eyes before a backport proposal could be made.
>> There's also a "TODO: we should have a mod_ssl configuration parameter"
>> in ssl_engine_kernel.c which I'm unsure to what it refers.
> 
> The TODO is a leftover from before SSLAlpnPreference was introduced.
> It can be removed.

I did some formatting cleanup in r1676709 and put a patch for 2.4.x
online under
https://people.apache.org/~kbrand/mod_ssl-2.4.x-alpn_2015-04-29.diff.
This should hopefully make it easier for people to test and review (it's
an amalgamation of ten revisions from trunk, see the top of the patch file).

Kaspar

From dev-return-82496-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 12:24:50 2015
Return-Path: <dev-return-82496-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3ADDF189A1
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 12:24:50 +0000 (UTC)
Received: (qmail 10385 invoked by uid 500); 29 Apr 2015 12:24:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10295 invoked by uid 500); 29 Apr 2015 12:24:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10285 invoked by uid 99); 29 Apr 2015 12:24:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 12:24:49 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 12:24:43 +0000
Received: from resqmta-ch2-07v.sys.comcast.net (resqmta-ch2-07v.sys.comcast.net [69.252.207.39])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 6ADFF43CA7
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 12:24:23 +0000 (UTC)
Received: from resomta-ch2-20v.sys.comcast.net ([69.252.207.116])
	by resqmta-ch2-07v.sys.comcast.net with comcast
	id MoPx1q0042XD5SV01oQNXD; Wed, 29 Apr 2015 12:24:22 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-20v.sys.comcast.net with comcast
	id MoQN1q0031cCKD901oQN7Y; Wed, 29 Apr 2015 12:24:22 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: ALPN patch comments
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <5540BB0D.7070808@velox.ch>
Date: Wed, 29 Apr 2015 08:24:22 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <651355DD-D5A4-4D7C-B81B-B4D31FC4DECB@jaguNET.com>
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de> <5537C311.6020209@velox.ch> <40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com> <553B62C2.9080202@velox.ch> <D0F6D103-F293-4BCE-8213-0F0A1148FC26@greenbytes.de> <5540BB0D.7070808@velox.ch>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1430310262;
	bh=zlgwuRpg7z/nGfrtEEmPyI1e74Wr8eCE4hDL5dBaDRI=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=Ts3ReUwaOObSey8vi3UVRQFbEj+AyclJ9wzOQLMBVgCi1nuttec5LgPZGamaKdvUd
	 vYBlbp/BHklEQc++JrlE6a7dXzmiPG79V9oJulp00cedaSclFynoLBky/xrz/rAa9Y
	 9P5aEgu8DMOI1IbNF+VbkMv2HCaESJEAoC0KxSd8vpH2sb/3IozY1LENiC2R67q7JP
	 XyQXi3GlDqkUqwybf374cuVoFUYqK+kz/MhW2/Y4xnwV1mC4NKsbF150D07w8Re208
	 +kDDxmGA2sEqy+LwS7dPALTb0EqupInfZoDbBbwnJHMTD0rSkN8fP38AEPqOTy0tYG
	 NaQRPMhsxNpDA==
X-Virus-Checked: Checked by ClamAV on apache.org

Thank You!!

Will review ASAP.

> On Apr 29, 2015, at 7:05 AM, Kaspar Brand <httpd-dev.2014@velox.ch> =
wrote:
>=20
> On 27.04.2015 17:04, Stefan Eissing wrote:
>>> Am 25.04.2015 um 11:47 schrieb Kaspar Brand =
<httpd-dev.2014@velox.ch>:
>>> Only tested in terms of "compiles both w/ and w/o HAVE_TLS_ALPN", so =
it
>>> certainly needs more eyes before a backport proposal could be made.
>>> There's also a "TODO: we should have a mod_ssl configuration =
parameter"
>>> in ssl_engine_kernel.c which I'm unsure to what it refers.
>>=20
>> The =E2=80=9ETODO=E2=80=9C is a leftover from before =
SSLAlpnPreference was introduced.
>> It can be removed.
>=20
> I did some formatting cleanup in r1676709 and put a patch for 2.4.x
> online under
> https://people.apache.org/~kbrand/mod_ssl-2.4.x-alpn_2015-04-29.diff.
> This should hopefully make it easier for people to test and review =
(it's
> an amalgamation of ten revisions from trunk, see the top of the patch =
file).
>=20
> Kaspar


From dev-return-82497-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 12:27:53 2015
Return-Path: <dev-return-82497-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 03315189C5
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 12:27:53 +0000 (UTC)
Received: (qmail 18252 invoked by uid 500); 29 Apr 2015 12:27:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18173 invoked by uid 500); 29 Apr 2015 12:27:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18163 invoked by uid 99); 29 Apr 2015 12:27:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 12:27:52 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 12:27:45 +0000
Received: from mail-ie0-f178.google.com (mail-ie0-f178.google.com [209.85.223.178])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 7C6E72736F
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 12:27:25 +0000 (UTC)
Received: by iedfl3 with SMTP id fl3so45540955ied.1
        for <dev@httpd.apache.org>; Wed, 29 Apr 2015 05:27:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=9HsdOLAkiFEacsDrS77hykux0hyTJGLb6EsPgfRl6lw=;
        b=lG8lDZqQGT5FnvAo2Nxw6eKYv8q7A1YcC47Wft0154NiX0sgVDQcrnwxq90JGrrXyo
         uKFZ3aMlv+xtkeySAcoXEIdfsoGmcZj+uNIzcJ7UQrmXNqq2JJSgm1/rJwI3qZmxm/9B
         YSGvIx4jyzUq2GFC8b/CXETuOXY64nolG47rDRX6wkDA7p863WqAEem9bAN0lIZ9Xczk
         Y1ugYhlZX6r91xu2g4SQzoNaZTuJweJA0vM/OW1z7wFuy4oPldOePiKvBsIUcnh+XlPm
         D0r5yOK70gAPUwIDUJu9vnXSpBPUgWKNGmKmX3UNtWxr3R+RxrA3R3InNUHaujtJ1sb9
         x2Mw==
MIME-Version: 1.0
X-Received: by 10.107.150.198 with SMTP id y189mr27384895iod.21.1430309977244;
 Wed, 29 Apr 2015 05:19:37 -0700 (PDT)
Received: by 10.79.71.4 with HTTP; Wed, 29 Apr 2015 05:19:37 -0700 (PDT)
Date: Wed, 29 Apr 2015 14:19:37 +0200
Message-ID: <CAKQ1sVOh36q5y+SwZakn8qLAq477ruJa14q81a3CwRZmt-JyFQ@mail.gmail.com>
Subject: HEAD response's Content-Length stripped when zero
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Due to ap_http_header_filter():

    /* This is a hack, but I can't find anyway around it.  The idea is that
     * we don't want to send out 0 Content-Lengths if it is a head request.
     * This happens when modules try to outsmart the server, and return
     * if they see a HEAD request.  Apache 1.3 handlers were supposed to
     * just return in that situation, and the core handled the HEAD.  In
     * 2.0, if a handler returns, then the core sends an EOS bucket down
     * the filter stack, and the content-length filter computes a C-L of
     * zero and that gets put in the headers, and we end up sending a
     * zero C-L to the client.  We can't just remove the C-L filter,
     * because well behaved 2.0 handlers will send their data down the stack,
     * and we will compute a real C-L for the head request. RBB
     *
     * Allow modification of this behavior through the
     * HttpContentLengthHeadZero directive.
     *
     * The default (unset) behavior is to squelch the C-L in this case.
     */
    if (r->header_only
        && (clheader = apr_table_get(r->headers_out, "Content-Length"))
        && !strcmp(clheader, "0")
        && conf->http_cl_head_zero != AP_HTTP_CL_HEAD_ZERO_ENABLE) {
        apr_table_unset(r->headers_out, "Content-Length");
    }

I find this workaround a bit too much hacky because "Content-Length:
0" could be the real one for the corresponding GET request, either
given by a module or forwarded from a backend.

Hence how about removing this whole block (is there any module today
"outsmarting" httpd that cannot be considered as buggy?) or least
disable it for forwarded responses, eg:

Index: modules/http/http_filters.c
===================================================================
--- modules/http/http_filters.c    (revision 1676716)
+++ modules/http/http_filters.c    (working copy)
@@ -1292,6 +1292,7 @@ AP_CORE_DECLARE_NONSTD(apr_status_t) ap_http_heade
      * The default (unset) behavior is to squelch the C-L in this case.
      */
     if (r->header_only
+        && !r->proxyreq
         && (clheader = apr_table_get(r->headers_out, "Content-Length"))
         && !strcmp(clheader, "0")
         && conf->http_cl_head_zero != AP_HTTP_CL_HEAD_ZERO_ENABLE) {
--
?

From dev-return-82498-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 12:46:56 2015
Return-Path: <dev-return-82498-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 57F2B18AFB
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 12:46:56 +0000 (UTC)
Received: (qmail 89673 invoked by uid 500); 29 Apr 2015 12:46:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89595 invoked by uid 500); 29 Apr 2015 12:46:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89585 invoked by uid 99); 29 Apr 2015 12:46:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 12:46:55 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 12:46:49 +0000
Received: from mail-wg0-f52.google.com (mail-wg0-f52.google.com [74.125.82.52])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id D553D2497F
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 12:46:28 +0000 (UTC)
Received: by wgyo15 with SMTP id o15so26911161wgy.2
        for <dev@httpd.apache.org>; Wed, 29 Apr 2015 05:46:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=nymS3X9BiUFeikrufJ3eNvvK4G8ZCtDIm+puGygGnVA=;
        b=pCC+zePHvmcdoUhJlKPoQ0JH/PnjY8Yt8+w2ey4boizq9jCWVbLxyx2LAdUbvXaEZP
         n60fQ/7EamOFEJsOY9j+5eBtBENJxx6MkTEnmddv3LZ9/n5CLv4rNXeLtTFhXUYnQW37
         XvvR3Yn+d7zKAMvxhWPWzOtwUlejzqETQpy0TUnMenB70ya1lr8W1JTBoGMvyhOhOHR4
         Q5/pbGxKj1cFsYMu9kAtfrUYxhi7ijxLSk6+pk3UnMIpWMG29n07WRQedsIc7tWSZMe0
         8OKHJz+rvMwcoySgJTReal1ZA0drfTNFpHVaUMlb495R1dI3dQHcRxRTFhpmnmWilC7O
         HcIQ==
MIME-Version: 1.0
X-Received: by 10.194.171.1 with SMTP id aq1mr42609182wjc.38.1430311587690;
 Wed, 29 Apr 2015 05:46:27 -0700 (PDT)
Received: by 10.27.26.200 with HTTP; Wed, 29 Apr 2015 05:46:27 -0700 (PDT)
In-Reply-To: <CAKQ1sVOh36q5y+SwZakn8qLAq477ruJa14q81a3CwRZmt-JyFQ@mail.gmail.com>
References: <CAKQ1sVOh36q5y+SwZakn8qLAq477ruJa14q81a3CwRZmt-JyFQ@mail.gmail.com>
Date: Wed, 29 Apr 2015 08:46:27 -0400
Message-ID: <CALK=YjNkJ9Z765XFVKNNrjGb=sCCm5g4L2iQ1nSoZNBQNh=WeA@mail.gmail.com>
Subject: Re: HEAD response's Content-Length stripped when zero
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Apr 29, 2015 at 8:19 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> Hence how about removing this whole block (is there any module today
> "outsmarting" httpd that cannot be considered as buggy?) or least
> disable it for forwarded responses, eg:
>
> Index: modules/http/http_filters.c
> ===================================================================
> --- modules/http/http_filters.c    (revision 1676716)
> +++ modules/http/http_filters.c    (working copy)
> @@ -1292,6 +1292,7 @@ AP_CORE_DECLARE_NONSTD(apr_status_t) ap_http_heade
>       * The default (unset) behavior is to squelch the C-L in this case.
>       */
>      if (r->header_only
> +        && !r->proxyreq
>          && (clheader = apr_table_get(r->headers_out, "Content-Length"))
>          && !strcmp(clheader, "0")
>          && conf->http_cl_head_zero != AP_HTTP_CL_HEAD_ZERO_ENABLE) {


Maybe we could remember here if the CL was set by
ap_content_length_filter or someone else?

-- 
Eric Covener
covener@gmail.com

From dev-return-82499-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 13:07:47 2015
Return-Path: <dev-return-82499-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C2FF918C3A
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 13:07:47 +0000 (UTC)
Received: (qmail 68430 invoked by uid 500); 29 Apr 2015 13:07:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68371 invoked by uid 500); 29 Apr 2015 13:07:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68361 invoked by uid 99); 29 Apr 2015 13:07:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 13:07:47 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 13:07:21 +0000
Received: from mail-wi0-f180.google.com (mail-wi0-f180.google.com [209.85.212.180])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 318612AAFE
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 13:07:20 +0000 (UTC)
Received: by wiun10 with SMTP id n10so65097590wiu.1
        for <dev@httpd.apache.org>; Wed, 29 Apr 2015 06:07:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=+poIjGFWX94k1gSy4EOpl0HfGrFTh0tN+c/yPxibd4c=;
        b=OUkKvOBDWrZhfEsZkz5/daTxBeGNqiGERzjridFrKQHzZCAtf0NvU/ijgwce8ad/uC
         XEV3dkXCMSBGDERkvtGOwj7f5s0wM8/25GgoCDa6p37jKVueCaRrvyK/7GzOAPT+EzAt
         SfzH7fxo7rdRGBMbMhNFUmhl3ruclMenFCVXPljJRkHMpKZfnYhxK/tl1oCZYO0SuFfO
         ZGSJfajuG88PTEjxqNMX/Z0aVfM3swY74879zBXevO09HQT2Ej20G+CA0sjO2GDSd73P
         ukUMAx4SMYEbDI3aGciHTdKe3+NZwhDwiRMHue2nAUQph1jB4aFVyovrAIMmxc6Pgokx
         u4pw==
X-Received: by 10.180.75.197 with SMTP id e5mr5621375wiw.94.1430312834641;
 Wed, 29 Apr 2015 06:07:14 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.28.62.81 with HTTP; Wed, 29 Apr 2015 06:06:33 -0700 (PDT)
In-Reply-To: <554072B0.40708@velox.ch>
References: <CAFMGiz_L9PKbf_HLw_wFWUHzpwVPqJVUUD1pWhh44GsSRALxzg@mail.gmail.com>
 <CALK=YjMDiiuDWTzwNCaF-8j0zP3S6jri66rMZ1tnP3W6cT8KvA@mail.gmail.com>
 <CAFMGiz-=TyfxrUA6G1Gj0kNktZoFVEDjsGReiMpy9rA00fhrHw@mail.gmail.com> <554072B0.40708@velox.ch>
From: Tom Browder <tom.browder@gmail.com>
Date: Wed, 29 Apr 2015 08:06:33 -0500
Message-ID: <CAFMGiz_fGknnrRqVOZJ1jjrTMACndEnogsS9AbAx2OusASD6rw@mail.gmail.com>
Subject: Re: OpenSSL 1.02, PCRE 2.10
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Apr 29, 2015 at 12:57 AM, Kaspar Brand <httpd-dev.2014@velox.ch> wrote:
> On 28.04.2015 14:04, Tom Browder wrote:
>> Maybe I need to play tricks with ld.so.conf and openssl?
>
> Depends on whether you built OpenSSL with or without shared libraries -
> what are the contents of the /opt/openssl/lib directory?

Well, I failed to follow my original recipe and did NOT specify
'no-shared'.  I blem away openssl and used 'no-shared' and now have NO
shared libraries in /opt/openssl/lib.

>> I have no system installed openssl,
>
> Hmm, what platform is this? Are you sure there are no libcrypto/libssl
> libraries somewhere under /usr?

I used a netinst installation of Debian 7.  But I find I do have those
libraries:

/usr/lib/x86_64-linux-gnu/libcrypto.so.1.0.0
/usr/lib/x86_64-linux-gnu/libssl.so.1.0.0

> The most important thing, though, is making sure that the directory
> which appears in the LDFLAGS/MOD_LDFLAGS lines of the ./configure
> outputs (after the "checking for user-provided OpenSSL base
> directory...") in does not include any shared library files - only
> static ones.

That is now true.

After a rebuild and re-install of openssl, I reconfigured httpd.and get this:

configure: error: Crypto was requested but no crypto library could be
enabled; specify the location of a crypto library using
--with-openssl, --with-nss, etc.

The question to me is: what exact configuration do I need?  Do I point
to a path, or library, or a configure script?  I see nothing

I've tried '--with-openssl=<path>' and '--with-nss=<path>' to no avail.

Any suggestions?

Thanks.

Best,

-Tom

From dev-return-82500-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 13:18:51 2015
Return-Path: <dev-return-82500-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7290618D82
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 13:18:51 +0000 (UTC)
Received: (qmail 16005 invoked by uid 500); 29 Apr 2015 13:18:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15927 invoked by uid 500); 29 Apr 2015 13:18:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15917 invoked by uid 99); 29 Apr 2015 13:18:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 13:18:50 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 13:18:22 +0000
Received: from mail-ig0-f176.google.com (mail-ig0-f176.google.com [209.85.213.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 187F82AB14
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 13:18:21 +0000 (UTC)
Received: by igbpi8 with SMTP id pi8so107360541igb.0
        for <dev@httpd.apache.org>; Wed, 29 Apr 2015 06:17:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=iWeDvh68yWXXaqgf2gHABoi7FyVtEkHtZJUw82DLHBM=;
        b=Vy0Mnnbi8nRwyN1/UdPd1gs/Ck69a9TUKnYiCpCvmf1lcwOBxFBvyjCN7lyuv4sjP5
         vIiL476/m6MARJ5dg7fuqCDwteMYMkX4UmSLWljKGatf+DqIaEBAOSVxYJP5t5WzMsfc
         lzFJ0cErs5tFQXQUlXYBGUvD553zlnlBc8g0MbEumzz57uJ9J4FBz200AWu5MrObYdmG
         TfRl30wAx75+HAZes9neeHH7i5NedZzhU8p9tpI6H2/eBWDZjlF3rsdf9F0ZVx5JIPLC
         1W2UsB7wkP0JP6pEJF4OwSrho+KBtOrLX61Fsh6x56IhbN/fmDxVT5ICZs/+2UCuflHe
         X6wg==
MIME-Version: 1.0
X-Received: by 10.50.85.113 with SMTP id g17mr4047100igz.46.1430313455069;
 Wed, 29 Apr 2015 06:17:35 -0700 (PDT)
Received: by 10.79.71.4 with HTTP; Wed, 29 Apr 2015 06:17:35 -0700 (PDT)
In-Reply-To: <CALK=YjNkJ9Z765XFVKNNrjGb=sCCm5g4L2iQ1nSoZNBQNh=WeA@mail.gmail.com>
References: <CAKQ1sVOh36q5y+SwZakn8qLAq477ruJa14q81a3CwRZmt-JyFQ@mail.gmail.com>
	<CALK=YjNkJ9Z765XFVKNNrjGb=sCCm5g4L2iQ1nSoZNBQNh=WeA@mail.gmail.com>
Date: Wed, 29 Apr 2015 15:17:35 +0200
Message-ID: <CAKQ1sVMEB+0FhpZ-G8OgyxuMc-ZxZ6uqGC=s6N4K-Se_XAj4dA@mail.gmail.com>
Subject: Re: HEAD response's Content-Length stripped when zero
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Apr 29, 2015 at 2:46 PM, Eric Covener <covener@gmail.com> wrote:
> On Wed, Apr 29, 2015 at 8:19 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> Hence how about removing this whole block (is there any module today
>> "outsmarting" httpd that cannot be considered as buggy?) or least
>> disable it for forwarded responses, eg:
>>
>> Index: modules/http/http_filters.c
>> ===================================================================
>> --- modules/http/http_filters.c    (revision 1676716)
>> +++ modules/http/http_filters.c    (working copy)
>> @@ -1292,6 +1292,7 @@ AP_CORE_DECLARE_NONSTD(apr_status_t) ap_http_heade
>>       * The default (unset) behavior is to squelch the C-L in this case.
>>       */
>>      if (r->header_only
>> +        && !r->proxyreq
>>          && (clheader = apr_table_get(r->headers_out, "Content-Length"))
>>          && !strcmp(clheader, "0")
>>          && conf->http_cl_head_zero != AP_HTTP_CL_HEAD_ZERO_ENABLE) {
>
>
> Maybe we could remember here if the CL was set by
> ap_content_length_filter or someone else?
>

Yes, I first thought about this, hence checking r->clength instead,
but that would probably require to initialize it to something like
UNSET (-1), or we still could not distinguish it from a zero length
set...

That would be:

Index: modules/http/http_core.c
===================================================================
--- modules/http/http_core.c    (revision 1676716)
+++ modules/http/http_core.c    (working copy)
@@ -254,6 +254,9 @@ static int ap_process_http_connection(conn_rec *c)

 static int http_create_request(request_rec *r)
 {
+    /* Content-Length unset by default. */
+    r->clength = -1;
+
     if (!r->main && !r->prev) {
         ap_add_output_filter_handle(ap_byterange_filter_handle,
                                     NULL, r, r->connection);
Index: modules/http/http_filters.c
===================================================================
--- modules/http/http_filters.c    (revision 1676716)
+++ modules/http/http_filters.c    (working copy)
@@ -1292,6 +1292,7 @@ AP_CORE_DECLARE_NONSTD(apr_status_t) ap_http_heade
      * The default (unset) behavior is to squelch the C-L in this case.
      */
     if (r->header_only
+        && (r->clength < 0)
         && (clheader = apr_table_get(r->headers_out, "Content-Length"))
         && !strcmp(clheader, "0")
         && conf->http_cl_head_zero != AP_HTTP_CL_HEAD_ZERO_ENABLE) {
--

From dev-return-82501-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 13:28:01 2015
Return-Path: <dev-return-82501-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0DE5F18DEE
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 13:28:01 +0000 (UTC)
Received: (qmail 35749 invoked by uid 500); 29 Apr 2015 13:28:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35683 invoked by uid 500); 29 Apr 2015 13:28:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35673 invoked by uid 99); 29 Apr 2015 13:28:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 13:28:00 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (athena.apache.org: transitioning domain of ylavic.dev@gmail.com does not designate 54.164.171.186 as permitted sender)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 13:27:52 +0000
Received: from mail-ig0-f177.google.com (mail-ig0-f177.google.com [209.85.213.177])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 1866943CB7
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 13:27:32 +0000 (UTC)
Received: by igblo3 with SMTP id lo3so116217278igb.1
        for <dev@httpd.apache.org>; Wed, 29 Apr 2015 06:27:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Uv6ru8QxRkulPmvUiRRaBRiAxTxDGCRUBCf0bQOdW4o=;
        b=iSb7G3ldXQb1crg7ZpNsKJVW6XGmQ1jsAcpMm4xfCFi30BrDtZlTxXvDB+gLspCsgK
         SkVLnh2OnHtbcxU8AEzSQx9Be8eiKohMPQwxH1UgovFd3nV1BIHgL1bcazr+pZBrPyH3
         +TvZ7TiXq4fXXPWS49Vnia4Ou38fIKMa2KOXEh5yQqhpZ8TQEbEKnl8UNmzioiI++suI
         W6nT+5BuI1wWCnBqJUj+tvZh2rfqwVW6oK+nQgguN49p8vZ3SrwrmDXraxV5stm9LHND
         FfkyoW00nCJEjAir2yKwLPYXtYkHtSYbbwhu5z3Ph+BKKnzsUBWWfeyzDAuJgMzIpOqS
         fkkg==
MIME-Version: 1.0
X-Received: by 10.107.40.132 with SMTP id o126mr28752765ioo.68.1430314050858;
 Wed, 29 Apr 2015 06:27:30 -0700 (PDT)
Received: by 10.79.71.4 with HTTP; Wed, 29 Apr 2015 06:27:30 -0700 (PDT)
In-Reply-To: <CAKQ1sVMEB+0FhpZ-G8OgyxuMc-ZxZ6uqGC=s6N4K-Se_XAj4dA@mail.gmail.com>
References: <CAKQ1sVOh36q5y+SwZakn8qLAq477ruJa14q81a3CwRZmt-JyFQ@mail.gmail.com>
	<CALK=YjNkJ9Z765XFVKNNrjGb=sCCm5g4L2iQ1nSoZNBQNh=WeA@mail.gmail.com>
	<CAKQ1sVMEB+0FhpZ-G8OgyxuMc-ZxZ6uqGC=s6N4K-Se_XAj4dA@mail.gmail.com>
Date: Wed, 29 Apr 2015 15:27:30 +0200
Message-ID: <CAKQ1sVOYqOWx7LcKjopi3t9h44ORLhrROncgMseii8rSJuLFzQ@mail.gmail.com>
Subject: Re: HEAD response's Content-Length stripped when zero
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Apr 29, 2015 at 3:17 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> Index: modules/http/http_filters.c
> ===================================================================
> --- modules/http/http_filters.c    (revision 1676716)
> +++ modules/http/http_filters.c    (working copy)
> @@ -1292,6 +1292,7 @@ AP_CORE_DECLARE_NONSTD(apr_status_t) ap_http_heade
>       * The default (unset) behavior is to squelch the C-L in this case.
>       */
>      if (r->header_only
> +        && (r->clength < 0)

We probably still require:
+        && !r->proxyreq
since mod_proxy does not call ap_set_content_length().

From dev-return-82502-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 13:39:52 2015
Return-Path: <dev-return-82502-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C9FF518E73
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 13:39:52 +0000 (UTC)
Received: (qmail 58753 invoked by uid 500); 29 Apr 2015 13:39:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58683 invoked by uid 500); 29 Apr 2015 13:39:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58673 invoked by uid 99); 29 Apr 2015 13:39:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 13:39:52 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 13:39:25 +0000
Received: from mail-ig0-f173.google.com (mail-ig0-f173.google.com [209.85.213.173])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 2E8ED280EA
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 13:39:24 +0000 (UTC)
Received: by igblo3 with SMTP id lo3so47231673igb.0
        for <dev@httpd.apache.org>; Wed, 29 Apr 2015 06:39:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=abBEyzwLgK8S1rTjK/PLkCkoOuZtONr8v3ndZQtcHPg=;
        b=fY4SUeBl1dr2g9ms+GteCVJQKX73zeu3y9oF/cJt0Yjk4jSe2D+LPEIS497e/0vBBo
         thkVSsS9p2nuDcmc5CoVpX2FLfwMya5i7lm1curUaWEPV6wgjo5MLRG1tR6Bn54mOJbz
         perLEEPXIW4KFk8XXiNEkE5budkhGL7UMsUKE5CVuti8HLNsAWHCK8dbHvSnMuU9UbZT
         2pUnkr0QEiNQRQqZ+ZM60rOY9bnjpeUxPtnWMOm45QdTcZrJA7ggoN+HCOtu2HR8LBxe
         VrkmRFhphgOQyWu4sOIH7zMGkkVAIhDhmtqZ8xZI5UwKGB5YWlhC2z4QeoV6h3uEftK5
         RryQ==
MIME-Version: 1.0
X-Received: by 10.42.176.70 with SMTP id bd6mr3452163icb.52.1430314763070;
 Wed, 29 Apr 2015 06:39:23 -0700 (PDT)
Received: by 10.79.71.4 with HTTP; Wed, 29 Apr 2015 06:39:23 -0700 (PDT)
In-Reply-To: <CAKQ1sVMEB+0FhpZ-G8OgyxuMc-ZxZ6uqGC=s6N4K-Se_XAj4dA@mail.gmail.com>
References: <CAKQ1sVOh36q5y+SwZakn8qLAq477ruJa14q81a3CwRZmt-JyFQ@mail.gmail.com>
	<CALK=YjNkJ9Z765XFVKNNrjGb=sCCm5g4L2iQ1nSoZNBQNh=WeA@mail.gmail.com>
	<CAKQ1sVMEB+0FhpZ-G8OgyxuMc-ZxZ6uqGC=s6N4K-Se_XAj4dA@mail.gmail.com>
Date: Wed, 29 Apr 2015 15:39:23 +0200
Message-ID: <CAKQ1sVOXfC978L=w_-O5FV08a-bOLwGAU76_xKRQjqjDNO_Gkw@mail.gmail.com>
Subject: Re: HEAD response's Content-Length stripped when zero
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Apr 29, 2015 at 3:17 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Wed, Apr 29, 2015 at 2:46 PM, Eric Covener <covener@gmail.com> wrote:
>> On Wed, Apr 29, 2015 at 8:19 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>> Hence how about removing this whole block (is there any module today
>>> "outsmarting" httpd that cannot be considered as buggy?) or least
>>> disable it for forwarded responses, eg:
>>>
>>> Index: modules/http/http_filters.c
>>> ===================================================================
>>> --- modules/http/http_filters.c    (revision 1676716)
>>> +++ modules/http/http_filters.c    (working copy)
>>> @@ -1292,6 +1292,7 @@ AP_CORE_DECLARE_NONSTD(apr_status_t) ap_http_heade
>>>       * The default (unset) behavior is to squelch the C-L in this case.
>>>       */
>>>      if (r->header_only
>>> +        && !r->proxyreq
>>>          && (clheader = apr_table_get(r->headers_out, "Content-Length"))
>>>          && !strcmp(clheader, "0")
>>>          && conf->http_cl_head_zero != AP_HTTP_CL_HEAD_ZERO_ENABLE) {
>>
>>
>> Maybe we could remember here if the CL was set by
>> ap_content_length_filter or someone else?
>>
>
> Yes, I first thought about this, hence checking r->clength instead,

Hmm, I have read ap_content_length_filter() instead of
ap_set_content_length(), please forget about my previous answer(s)...
I need to think more about this.

From dev-return-82503-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 14:01:07 2015
Return-Path: <dev-return-82503-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 10A9918F6D
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 14:01:07 +0000 (UTC)
Received: (qmail 30274 invoked by uid 500); 29 Apr 2015 14:01:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 30194 invoked by uid 500); 29 Apr 2015 14:01:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 30184 invoked by uid 99); 29 Apr 2015 14:01:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 14:01:06 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 14:00:58 +0000
Received: from mail-ig0-f170.google.com (mail-ig0-f170.google.com [209.85.213.170])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 0FF4543CB7
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 14:00:38 +0000 (UTC)
Received: by igbyr2 with SMTP id yr2so119133870igb.0
        for <dev@httpd.apache.org>; Wed, 29 Apr 2015 07:00:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=RuVLA6cqarNhAgJTjWBWtZWvN6g9gMAwgVXhM7fU4Ks=;
        b=Q3Ll62hKabXhAx6wJg3vzQzDpnx06+YY22t8ntYf8N+Qw5DIqZe5etKfhYGlmqIc33
         tPzG1B7L7YjF3aEjqA4VE7mWDL8IMwB8J9tFe4NS7nP9Kk0jjKHjE7bQUVexI3HjWp1B
         x2caAAxYOqNweTt17sFr/j6500qy6jDwXPAeQS7krbOKQk1s3h3Z6tdmCbCxNB039wA+
         QKnR3s54verOfnFbOU5R5g18LtpC1B/Key6HfKaXpZC07qyupAySV8STOGtYzNZd49Ya
         gOBS44HbRT3FlA3xCfDQdkO2Gx3zsv7I4Qj7POcocLIaFwQ8zpj1eWlquQmFsLVoWHKQ
         19ew==
MIME-Version: 1.0
X-Received: by 10.42.50.81 with SMTP id z17mr3522641icf.57.1430316037518; Wed,
 29 Apr 2015 07:00:37 -0700 (PDT)
Received: by 10.79.71.4 with HTTP; Wed, 29 Apr 2015 07:00:37 -0700 (PDT)
In-Reply-To: <CAKQ1sVOXfC978L=w_-O5FV08a-bOLwGAU76_xKRQjqjDNO_Gkw@mail.gmail.com>
References: <CAKQ1sVOh36q5y+SwZakn8qLAq477ruJa14q81a3CwRZmt-JyFQ@mail.gmail.com>
	<CALK=YjNkJ9Z765XFVKNNrjGb=sCCm5g4L2iQ1nSoZNBQNh=WeA@mail.gmail.com>
	<CAKQ1sVMEB+0FhpZ-G8OgyxuMc-ZxZ6uqGC=s6N4K-Se_XAj4dA@mail.gmail.com>
	<CAKQ1sVOXfC978L=w_-O5FV08a-bOLwGAU76_xKRQjqjDNO_Gkw@mail.gmail.com>
Date: Wed, 29 Apr 2015 16:00:37 +0200
Message-ID: <CAKQ1sVNSMkKHzpEvnEE3Hzwfu0ta3asONSHUY=-ziv5cLUnf-Q@mail.gmail.com>
Subject: Re: HEAD response's Content-Length stripped when zero
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Apr 29, 2015 at 3:39 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Wed, Apr 29, 2015 at 3:17 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> On Wed, Apr 29, 2015 at 2:46 PM, Eric Covener <covener@gmail.com> wrote:
>>> On Wed, Apr 29, 2015 at 8:19 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>>> Hence how about removing this whole block (is there any module today
>>>> "outsmarting" httpd that cannot be considered as buggy?) or least
>>>> disable it for forwarded responses, eg:
>>>>
>>>> Index: modules/http/http_filters.c
>>>> ===================================================================
>>>> --- modules/http/http_filters.c    (revision 1676716)
>>>> +++ modules/http/http_filters.c    (working copy)
>>>> @@ -1292,6 +1292,7 @@ AP_CORE_DECLARE_NONSTD(apr_status_t) ap_http_heade
>>>>       * The default (unset) behavior is to squelch the C-L in this case.
>>>>       */
>>>>      if (r->header_only
>>>> +        && !r->proxyreq
>>>>          && (clheader = apr_table_get(r->headers_out, "Content-Length"))
>>>>          && !strcmp(clheader, "0")
>>>>          && conf->http_cl_head_zero != AP_HTTP_CL_HEAD_ZERO_ENABLE) {
>>>
>>>
>>> Maybe we could remember here if the CL was set by
>>> ap_content_length_filter or someone else?
>>>
>>
>> Yes, I first thought about this, hence checking r->clength instead,
>
> Hmm, I have read ap_content_length_filter() instead of
> ap_set_content_length(), please forget about my previous answer(s)...
> I need to think more about this.

Actually I found http://svn.apache.org/r1554303 which make it configurable.
Maybe we can backport it instead (why a MAJOR bump?? I'd like to see
it in 2.2.x too...).
I'd argue that the default should be "HttpContentLengthHeadZero on"
though (at least in trunk), still users of buggy/legacy modules could
turn it off.

From dev-return-82504-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 14:59:41 2015
Return-Path: <dev-return-82504-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 915D3174CC
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 14:59:41 +0000 (UTC)
Received: (qmail 22127 invoked by uid 500); 29 Apr 2015 14:59:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 22061 invoked by uid 500); 29 Apr 2015 14:59:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 22051 invoked by uid 99); 29 Apr 2015 14:59:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 14:59:41 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: local policy)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 14:59:34 +0000
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 98F1F43638
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 14:58:53 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t3TEup1H016706
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 16:56:52 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1430319412;
	bh=eNy2zg8apS3hbYVj27xnIyU2OV2BRC5kHGXGKAxq+g0=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=aiTK4iv6TuTw8mcOWDpanXnlYwfuCvQ6TMCOBziLJeE4gRTLHvk4Tod3i291MuWWc
	 zgtWks++DfBeUQTlEPUqrLKimIVQnIJ6+6znkqgxxP0KG1Lp1wL5dsr2DMRAXX+i/0
	 OXuOgaK0I4PguUdMnG0+NG8Cdxr2uMxoJhDiex0lLTOmPC3Q4dM+gmmb1d4cYjPYlY
	 5NuwtkGL0jt8e24YpLRfPIEXTiZ+udB5vy+FuC/qzxn+hTMGj7kYzzoKkez/qq40TO
	 UlrAIMZ/6cVDE0ADkHSKYG6QeJpNtzY5GK0ntRdBUxQXwWwHPLiN3YIkYS+Hbkp1M3
	 ncI+/oOfzcl/g==
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on cortex.velox.ch
X-Spam-Level: 
Message-ID: <5540F133.5080304@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1430319410;
	bh=eNy2zg8apS3hbYVj27xnIyU2OV2BRC5kHGXGKAxq+g0=;
	h=Date:From:To:Subject:References:In-Reply-To;
	b=CKLLuqADtODaNUMU1s6MTsm2/fZuBuvEeYAtQvgPs1UFqIHb8MlsNh/wwJPTtp0iD
	 kMG1saUN5vWaYDKPI2u0g65XYy+TO3Smv70GLL1AZgGG1Tdaf0MwfNPoCz3IyLO6ue
	 Uo8Vrmddj6fd7CEdVamLneE8Tx4m/BnO8sjzNOSJTKKu093DpDme+2tmOyPjf0jVq4
	 WvRdk9P4HzsLRxemuws7IJ5cj28aGAiHG+O0RUiSYFhGpxhRKXdTHirNuOqjREO4ke
	 RDWubDyOLeiiXxND5R/dzVjx+vA+FIipdPHPyVsvEBSI9ZW+CvDtMH4W1aDDaQ79nI
	 0o/J6JVkc3e5A==
Date: Wed, 29 Apr 2015 16:56:51 +0200
From: Kaspar Brand <httpd-dev.2014@velox.ch>
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: OpenSSL 1.02, PCRE 2.10
References: <CAFMGiz_L9PKbf_HLw_wFWUHzpwVPqJVUUD1pWhh44GsSRALxzg@mail.gmail.com> <CALK=YjMDiiuDWTzwNCaF-8j0zP3S6jri66rMZ1tnP3W6cT8KvA@mail.gmail.com> <CAFMGiz-=TyfxrUA6G1Gj0kNktZoFVEDjsGReiMpy9rA00fhrHw@mail.gmail.com> <554072B0.40708@velox.ch> <CAFMGiz_fGknnrRqVOZJ1jjrTMACndEnogsS9AbAx2OusASD6rw@mail.gmail.com>
In-Reply-To: <CAFMGiz_fGknnrRqVOZJ1jjrTMACndEnogsS9AbAx2OusASD6rw@mail.gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.5 required=8.0 tests=AWL=0.016,BAYES_00=-1.5,
	NO_RECEIVED=-0.001,NO_RELAYS=-0.001,T_DKIM_INVALID=0.01 autolearn=no
	autolearn_force=no version=3.4.0

On 29.04.2015 15:06, Tom Browder wrote:
> On Wed, Apr 29, 2015 at 12:57 AM, Kaspar Brand <httpd-dev.2014@velox.ch> wrote:
>> On 28.04.2015 14:04, Tom Browder wrote:
>>> I have no system installed openssl,
>>
>> Hmm, what platform is this? Are you sure there are no libcrypto/libssl
>> libraries somewhere under /usr?
> 
> I used a netinst installation of Debian 7.  But I find I do have those
> libraries:
> 
> /usr/lib/x86_64-linux-gnu/libcrypto.so.1.0.0
> /usr/lib/x86_64-linux-gnu/libssl.so.1.0.0

Ok. Debian has separate packages for the libraries and the command-line
tool, so "no system installed openssl" is true as far as the "openssl"
package is concerned. I'd bet that Debian is barely usable when the
"libssl1.0.0" package is missing, though.

> configure: error: Crypto was requested but no crypto library could be
> enabled; specify the location of a crypto library using
> --with-openssl, --with-nss, etc.

This is actually APR-util configure stuff, so does not apply to mod_ssl
itself. Unless you really have a need for mod_session_crypto, just leave
out the --enable-crypto and --enable-session-crypto options, for the
time being (they are not needed for mod_ssl, and are probably just
making things more complicated than necessary right now).

> The question to me is: what exact configuration do I need?  Do I point
> to a path, or library, or a configure script?  I see nothing

For a statically linked mod_ssl, you need "--enable-ssl
--with-ssl=/opt/openssl --enable-ssl-staticlib-deps" (assuming that you
used --prefix=/opt/openssl for OpenSSL's ./config or ./Configure).

Kaspar

From dev-return-82505-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 16:08:23 2015
Return-Path: <dev-return-82505-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8D65817B04
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 16:08:23 +0000 (UTC)
Received: (qmail 85739 invoked by uid 500); 29 Apr 2015 16:08:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 85663 invoked by uid 500); 29 Apr 2015 16:08:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 85652 invoked by uid 99); 29 Apr 2015 16:08:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 16:08:23 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 16:08:15 +0000
Received: from mail-ie0-f175.google.com (mail-ie0-f175.google.com [209.85.223.175])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id EF9292497F
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 16:07:54 +0000 (UTC)
Received: by iebrs15 with SMTP id rs15so46084191ieb.3
        for <dev@httpd.apache.org>; Wed, 29 Apr 2015 09:07:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=0v7svall5q8qoadIvMPQFCJztyRBxRtzysJFX3Wglxw=;
        b=BAOoo5n7A2I2dJgXAPzf7B+kCWlcs/Bs5ibsuJWUo85sykC8Rr+tkRa3fNPVOB0PEc
         Q43kwJK9HvJJ519hlsoyyc2vmVwWQ3e7zGTzwP5sd3O0Dmg/FYlyzN5WCRa+379eBFcW
         LmbfYnGphur8ZiKTF6+aEkj94K+l4o8K1IT1ZuQ471StsgPgLE9Lmxsxs1qZ4mUpFtlU
         L0IeXDdzC89zE/PxFUbqf6VLQjgy26/zMwHwmuN4UCIqHMcTCzUlsPDfho9KUBfMOuOV
         H+E2wNpQIyTNI5CvzecSOs3ZCnfmgCPtul2FXo3A4nG6+ZGEQBGdavEw1fniY71oxuOG
         D/tg==
MIME-Version: 1.0
X-Received: by 10.43.148.74 with SMTP id kf10mr4303403icc.28.1430323674367;
 Wed, 29 Apr 2015 09:07:54 -0700 (PDT)
Received: by 10.79.71.4 with HTTP; Wed, 29 Apr 2015 09:07:54 -0700 (PDT)
In-Reply-To: <CALK=YjNkJ9Z765XFVKNNrjGb=sCCm5g4L2iQ1nSoZNBQNh=WeA@mail.gmail.com>
References: <CAKQ1sVOh36q5y+SwZakn8qLAq477ruJa14q81a3CwRZmt-JyFQ@mail.gmail.com>
	<CALK=YjNkJ9Z765XFVKNNrjGb=sCCm5g4L2iQ1nSoZNBQNh=WeA@mail.gmail.com>
Date: Wed, 29 Apr 2015 18:07:54 +0200
Message-ID: <CAKQ1sVMKRgtvGPDAa7DSQg+3pYHTEEmzzv69_X12gK1t7sM0uw@mail.gmail.com>
Subject: Re: HEAD response's Content-Length stripped when zero
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Apr 29, 2015 at 2:46 PM, Eric Covener <covener@gmail.com> wrote:
> On Wed, Apr 29, 2015 at 8:19 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> Hence how about removing this whole block (is there any module today
>> "outsmarting" httpd that cannot be considered as buggy?) or least
>> disable it for forwarded responses, eg:
>>
>> Index: modules/http/http_filters.c
>> ===================================================================
>> --- modules/http/http_filters.c    (revision 1676716)
>> +++ modules/http/http_filters.c    (working copy)
>> @@ -1292,6 +1292,7 @@ AP_CORE_DECLARE_NONSTD(apr_status_t) ap_http_heade
>>       * The default (unset) behavior is to squelch the C-L in this case.
>>       */
>>      if (r->header_only
>> +        && !r->proxyreq
>>          && (clheader = apr_table_get(r->headers_out, "Content-Length"))
>>          && !strcmp(clheader, "0")
>>          && conf->http_cl_head_zero != AP_HTTP_CL_HEAD_ZERO_ENABLE) {
>
>
> Maybe we could remember here if the CL was set by
> ap_content_length_filter or someone else?

The patch below tries your proposal...

Set a note If we detect that the header_only CL is from the origin in
ap_content_length_filter(), and don't strip the Content-Length if that
note is set in ap_http_header_filter().
We could also avoid the note by setting r->clength = -1 instead in
ap_content_length_filter().

This should work both with buggy modules and the normal cases (including proxy).
I guess we wouldn't need HttpContentLengthHeadZero from r1554303
anymore (and several third-party patches that simply disable the whole
unconditionally).

Do it sound better?

Index: server/protocol.c
===================================================================
--- server/protocol.c    (revision 1676716)
+++ server/protocol.c    (working copy)
@@ -1533,7 +1533,7 @@ AP_CORE_DECLARE_NONSTD(apr_status_t) ap_content_le
      * We can only set a C-L in the response header if we haven't already
      * sent any buckets on to the next output filter for this request.
      */
-    if (ctx->data_sent == 0 && eos &&
+    if (ctx->data_sent == 0 && eos) {
         /* don't whack the C-L if it has already been set for a HEAD
          * by something like proxy.  the brigade only has an EOS bucket
          * in this case, making r->bytes_sent zero.
@@ -1544,9 +1544,13 @@ AP_CORE_DECLARE_NONSTD(apr_status_t) ap_content_le
          * such filters update or remove the C-L header, and just use it
          * if present.
          */
-        !(r->header_only && r->bytes_sent == 0 &&
-            apr_table_get(r->headers_out, "Content-Length"))) {
-        ap_set_content_length(r, r->bytes_sent);
+        if (r->header_only && r->bytes_sent == 0 &&
+                apr_table_get(r->headers_out, "Content-Length")) {
+            apr_table_setn(r->notes, "origin-ho", "1");
+        }
+        else {
+            ap_set_content_length(r, r->bytes_sent);
+        }
     }

     ctx->data_sent = 1;
Index: modules/http/http_filters.c
===================================================================
--- modules/http/http_filters.c    (revision 1676716)
+++ modules/http/http_filters.c    (working copy)
@@ -1292,9 +1292,11 @@ AP_CORE_DECLARE_NONSTD(apr_status_t) ap_http_heade
      * The default (unset) behavior is to squelch the C-L in this case.
      */
     if (r->header_only
-        && (clheader = apr_table_get(r->headers_out, "Content-Length"))
-        && !strcmp(clheader, "0")
-        && conf->http_cl_head_zero != AP_HTTP_CL_HEAD_ZERO_ENABLE) {
+            && !r->clength
+            && !apr_table_get(r->notes, "origin-ho")
+            && (clheader = apr_table_get(r->headers_out, "Content-Length"))
+            && !strcmp(clheader, "0")
+            && conf->http_cl_head_zero != AP_HTTP_CL_HEAD_ZERO_ENABLE) {
         apr_table_unset(r->headers_out, "Content-Length");
     }

--

From dev-return-82506-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 16:29:01 2015
Return-Path: <dev-return-82506-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EF0D817CD5
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 16:29:01 +0000 (UTC)
Received: (qmail 65266 invoked by uid 500); 29 Apr 2015 16:29:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65190 invoked by uid 500); 29 Apr 2015 16:29:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65176 invoked by uid 99); 29 Apr 2015 16:29:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 16:29:01 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 16:28:54 +0000
Received: from mail-ie0-f174.google.com (mail-ie0-f174.google.com [209.85.223.174])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 02FE640E16
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 16:28:34 +0000 (UTC)
Received: by iedfl3 with SMTP id fl3so52249499ied.1
        for <dev@httpd.apache.org>; Wed, 29 Apr 2015 09:27:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=CrDJQHF3hiY9LbihAWMV8D3GAiO8FOLQa8RH90WmT1w=;
        b=dl5qdpIBUzGwdFbhuwGI1QVjDcp/bH3v/97qphS5fDQ3Drr5q3UuuvhFUb4OwqgLf4
         3Txws37N7OK/owg/XVR1z4tOkf9Od+GZCBH0Bi7MIh05Cs3trLdjns4IKmJ0K14YK56B
         F6wi4MMh+uczavk8DtP2xGXM7X/pWcgEBNaBsIqWY5DtGHosVDjpsK70Bfhjc3V94w64
         e6j7OwR9w3n1k0A6k5RhEVlYG76BlWj51i+VhQFtJE/Dk4JdMrOpfq2a/5TcZ+PYc07J
         uyVK6LBgkqh4GmlEEVGl566I4etXwhhZPQwkD05v+40SmSVwrWSXZWlHm5NZ+eaWtAnp
         1+Og==
MIME-Version: 1.0
X-Received: by 10.42.50.81 with SMTP id z17mr4366258icf.57.1430324878615; Wed,
 29 Apr 2015 09:27:58 -0700 (PDT)
Received: by 10.79.71.4 with HTTP; Wed, 29 Apr 2015 09:27:58 -0700 (PDT)
In-Reply-To: <CAKQ1sVMKRgtvGPDAa7DSQg+3pYHTEEmzzv69_X12gK1t7sM0uw@mail.gmail.com>
References: <CAKQ1sVOh36q5y+SwZakn8qLAq477ruJa14q81a3CwRZmt-JyFQ@mail.gmail.com>
	<CALK=YjNkJ9Z765XFVKNNrjGb=sCCm5g4L2iQ1nSoZNBQNh=WeA@mail.gmail.com>
	<CAKQ1sVMKRgtvGPDAa7DSQg+3pYHTEEmzzv69_X12gK1t7sM0uw@mail.gmail.com>
Date: Wed, 29 Apr 2015 18:27:58 +0200
Message-ID: <CAKQ1sVNW+1JPGs8TZ=s91DqSTkS5S8wBbwvW5P9-dEbY4JKqTQ@mail.gmail.com>
Subject: Re: HEAD response's Content-Length stripped when zero
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

(sorry for the patches spam / confused proposal)

On Wed, Apr 29, 2015 at 6:07 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> We could also avoid the note by setting r->clength = -1 instead in
> ap_content_length_filter().

Another candidate could be r->sent_bodyct = 1, eg:

Index: server/protocol.c
===================================================================
--- server/protocol.c    (revision 1676716)
+++ server/protocol.c    (working copy)
@@ -1533,7 +1533,7 @@ AP_CORE_DECLARE_NONSTD(apr_status_t) ap_content_le
      * We can only set a C-L in the response header if we haven't already
      * sent any buckets on to the next output filter for this request.
      */
-    if (ctx->data_sent == 0 && eos &&
+    if (ctx->data_sent == 0 && eos) {
         /* don't whack the C-L if it has already been set for a HEAD
          * by something like proxy.  the brigade only has an EOS bucket
          * in this case, making r->bytes_sent zero.
@@ -1544,9 +1544,16 @@ AP_CORE_DECLARE_NONSTD(apr_status_t) ap_content_le
          * such filters update or remove the C-L header, and just use it
          * if present.
          */
-        !(r->header_only && r->bytes_sent == 0 &&
-            apr_table_get(r->headers_out, "Content-Length"))) {
-        ap_set_content_length(r, r->bytes_sent);
+        if (r->header_only && r->bytes_sent == 0 &&
+                apr_table_get(r->headers_out, "Content-Length")) {
+            /* Tell ap_http_header_filter() we don't want the C-L to
+             * be stripped (ie. the original no-body is sent now).
+             */
+            r->sent_bodyct = 1;
+        }
+        else {
+            ap_set_content_length(r, r->bytes_sent);
+        }
     }

     ctx->data_sent = 1;
Index: modules/http/http_filters.c
===================================================================
--- modules/http/http_filters.c    (revision 1676716)
+++ modules/http/http_filters.c    (working copy)
@@ -1292,9 +1292,9 @@ AP_CORE_DECLARE_NONSTD(apr_status_t) ap_http_heade
      * The default (unset) behavior is to squelch the C-L in this case.
      */
     if (r->header_only
-        && (clheader = apr_table_get(r->headers_out, "Content-Length"))
-        && !strcmp(clheader, "0")
-        && conf->http_cl_head_zero != AP_HTTP_CL_HEAD_ZERO_ENABLE) {
+            && !r->sent_bodyct
+            && (clheader = apr_table_get(r->headers_out, "Content-Length"))
+            && !strcmp(clheader, "0")) {
         apr_table_unset(r->headers_out, "Content-Length");
     }

--

From dev-return-82507-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 20:30:59 2015
Return-Path: <dev-return-82507-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4A9D018C35
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 20:30:59 +0000 (UTC)
Received: (qmail 65776 invoked by uid 500); 29 Apr 2015 20:30:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65702 invoked by uid 500); 29 Apr 2015 20:30:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65692 invoked by uid 99); 29 Apr 2015 20:30:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 20:30:58 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=HTML_MESSAGE,SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (athena.apache.org: transitioning domain of wrowe@rowe-clan.net does not designate 54.191.145.13 as permitted sender)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 20:30:52 +0000
Received: from mail-ig0-f173.google.com (mail-ig0-f173.google.com [209.85.213.173])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 0DAE624F15
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 20:30:31 +0000 (UTC)
Received: by igbyr2 with SMTP id yr2so130200993igb.0
        for <dev@httpd.apache.org>; Wed, 29 Apr 2015 13:29:46 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=0hCrHcUGuRV9fC3+J9fv+f4yGU9A1HUsVpLi10Nfjz8=;
        b=fYddoz8TZK6/ribbt+9QcwAt1vJLSlidsA9BJdwNBV8iRd2bOkOjNPcPxK49sCu457
         pdOV84SEuvcEp00M6MLE54vSc3rjUwWgLXxsqV2meY793CVBW1Ye5njvyUvOLKL8dCIi
         caHXGPMMpxitEYA0cS52rHAgb+nktaJp+6EY0wAPqMqLxh7dFhtkMFh6o2FtfNjI/qmJ
         97OGYkMlqt2b/QJoVdaUhY6NxYL23tB9qR/oTvliKN+tM19U9N/snzv06bC0tAp4iSxp
         5pd+urf0moL6WCWe1FjbpFdDUijnJ8UBl3+90+mrV8sfpA509kNNtgDDWjf0/tTMCy0L
         Sjww==
X-Gm-Message-State: ALoCoQksrmBKg7Ih5vkfXxGyKGi/KZhIG9NXjWDxeZIku4DwJBwHBElONY8QHt7+8KfXcQdGsu2P
MIME-Version: 1.0
X-Received: by 10.50.79.165 with SMTP id k5mr6715806igx.19.1430339386477; Wed,
 29 Apr 2015 13:29:46 -0700 (PDT)
Received: by 10.107.136.17 with HTTP; Wed, 29 Apr 2015 13:29:46 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <5540F133.5080304@velox.ch>
References: <CAFMGiz_L9PKbf_HLw_wFWUHzpwVPqJVUUD1pWhh44GsSRALxzg@mail.gmail.com>
	<CALK=YjMDiiuDWTzwNCaF-8j0zP3S6jri66rMZ1tnP3W6cT8KvA@mail.gmail.com>
	<CAFMGiz-=TyfxrUA6G1Gj0kNktZoFVEDjsGReiMpy9rA00fhrHw@mail.gmail.com>
	<554072B0.40708@velox.ch>
	<CAFMGiz_fGknnrRqVOZJ1jjrTMACndEnogsS9AbAx2OusASD6rw@mail.gmail.com>
	<5540F133.5080304@velox.ch>
Date: Wed, 29 Apr 2015 16:29:46 -0400
Message-ID: <CACsi2509MxSMZdidNRLH4KSZ_nRJ2XH-wEBSE3-jfiiMkGtKBA@mail.gmail.com>
Subject: Re: OpenSSL 1.02, PCRE 2.10
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=089e013a032e0a2afd0514e2d78e
X-Virus-Checked: Checked by ClamAV on apache.org

--089e013a032e0a2afd0514e2d78e
Content-Type: text/plain; charset=UTF-8

Just to point out the obvious, it would be a Very Bad Idea(tm) to build
httpd
against the dynamic apr-util linked statically to bits and pieces of the
libssl.a
and libcrypto.a, only to then attempt to build httpd with mod_ssl
compiled-in
against libssl.a/libcrypto.a again.  Unix dl logic doesn't usually play
well, this
isn't multiple-depth namespace.

It sounds a bit like the comedy routine, "Doctor, it hurts when I move this
way..."
so could you explain better why you are trying to accomplish what you are
trying
to accomplish?  If you rebuild and reinstall ssl in reaction to a critical
vulnerability,
the vulnerability will still be present in your httpd with mod_ssl compiled
in.  For
that reason and many others, dynamic libs are generally your friends.

The error you encountered in ./configure is that it will attempt to
compile, link
and run a short stub based on all the input parameters.  When the flags
aren't
correct to resolve the headers or libraries or run time loadable objects,
then
configure fails.  It is usually helpful to go through the config.log
results to see
just what it tried to do when it failed.




On Wed, Apr 29, 2015 at 10:56 AM, Kaspar Brand <httpd-dev.2014@velox.ch>
wrote:

> On 29.04.2015 15:06, Tom Browder wrote:
> > On Wed, Apr 29, 2015 at 12:57 AM, Kaspar Brand <httpd-dev.2014@velox.ch>
> wrote:
> >> On 28.04.2015 14:04, Tom Browder wrote:
> >>> I have no system installed openssl,
> >>
> >> Hmm, what platform is this? Are you sure there are no libcrypto/libssl
> >> libraries somewhere under /usr?
> >
> > I used a netinst installation of Debian 7.  But I find I do have those
> > libraries:
> >
> > /usr/lib/x86_64-linux-gnu/libcrypto.so.1.0.0
> > /usr/lib/x86_64-linux-gnu/libssl.so.1.0.0
>
> Ok. Debian has separate packages for the libraries and the command-line
> tool, so "no system installed openssl" is true as far as the "openssl"
> package is concerned. I'd bet that Debian is barely usable when the
> "libssl1.0.0" package is missing, though.
>
> > configure: error: Crypto was requested but no crypto library could be
> > enabled; specify the location of a crypto library using
> > --with-openssl, --with-nss, etc.
>
> This is actually APR-util configure stuff, so does not apply to mod_ssl
> itself. Unless you really have a need for mod_session_crypto, just leave
> out the --enable-crypto and --enable-session-crypto options, for the
> time being (they are not needed for mod_ssl, and are probably just
> making things more complicated than necessary right now).
>
> > The question to me is: what exact configuration do I need?  Do I point
> > to a path, or library, or a configure script?  I see nothing
>
> For a statically linked mod_ssl, you need "--enable-ssl
> --with-ssl=/opt/openssl --enable-ssl-staticlib-deps" (assuming that you
> used --prefix=/opt/openssl for OpenSSL's ./config or ./Configure).
>
> Kaspar
>

--089e013a032e0a2afd0514e2d78e
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Just to point out the obvious, it would be a Very Bad Idea=
(tm) to build httpd=C2=A0<div>against the dynamic apr-util linked staticall=
y to bits and pieces of the libssl.a</div><div>and libcrypto.a, only to the=
n attempt to build httpd with mod_ssl compiled-in=C2=A0</div><div>against l=
ibssl.a/libcrypto.a again.=C2=A0 Unix dl logic doesn&#39;t usually play wel=
l, this</div><div>isn&#39;t multiple-depth namespace.<br><div><br></div><di=
v>It sounds a bit like the comedy routine, &quot;Doctor, it hurts when I mo=
ve this way...&quot;</div><div>so could you explain better why you are tryi=
ng to accomplish what you are trying</div><div>to accomplish?=C2=A0 If you =
rebuild and reinstall ssl in reaction to a critical vulnerability,</div><di=
v>the vulnerability will still be present in your httpd with mod_ssl compil=
ed in.=C2=A0 For</div><div>that reason and many others, dynamic libs are ge=
nerally your friends.</div><div><br></div><div>The error you encountered in=
 ./configure is that it will attempt to compile, link</div><div>and run a s=
hort stub based on all the input parameters.=C2=A0 When the flags aren&#39;=
t</div><div>correct to resolve the headers or libraries or run time loadabl=
e objects, then</div><div>configure fails.=C2=A0 It is usually helpful to g=
o through the config.log results to see</div><div>just what it tried to do =
when it failed.</div><div><br></div><div><br></div><div><br></div></div></d=
iv><div class=3D"gmail_extra"><br><div class=3D"gmail_quote">On Wed, Apr 29=
, 2015 at 10:56 AM, Kaspar Brand <span dir=3D"ltr">&lt;<a href=3D"mailto:ht=
tpd-dev.2014@velox.ch" target=3D"_blank">httpd-dev.2014@velox.ch</a>&gt;</s=
pan> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex=
;border-left:1px #ccc solid;padding-left:1ex"><span class=3D"">On 29.04.201=
5 15:06, Tom Browder wrote:<br>
&gt; On Wed, Apr 29, 2015 at 12:57 AM, Kaspar Brand &lt;<a href=3D"mailto:h=
ttpd-dev.2014@velox.ch">httpd-dev.2014@velox.ch</a>&gt; wrote:<br>
&gt;&gt; On 28.04.2015 14:04, Tom Browder wrote:<br>
</span><span class=3D"">&gt;&gt;&gt; I have no system installed openssl,<br=
>
&gt;&gt;<br>
&gt;&gt; Hmm, what platform is this? Are you sure there are no libcrypto/li=
bssl<br>
&gt;&gt; libraries somewhere under /usr?<br>
&gt;<br>
&gt; I used a netinst installation of Debian 7.=C2=A0 But I find I do have =
those<br>
&gt; libraries:<br>
&gt;<br>
&gt; /usr/lib/x86_64-linux-gnu/libcrypto.so.1.0.0<br>
&gt; /usr/lib/x86_64-linux-gnu/libssl.so.1.0.0<br>
<br>
</span>Ok. Debian has separate packages for the libraries and the command-l=
ine<br>
tool, so &quot;no system installed openssl&quot; is true as far as the &quo=
t;openssl&quot;<br>
package is concerned. I&#39;d bet that Debian is barely usable when the<br>
&quot;libssl1.0.0&quot; package is missing, though.<br>
<span class=3D""><br>
&gt; configure: error: Crypto was requested but no crypto library could be<=
br>
&gt; enabled; specify the location of a crypto library using<br>
&gt; --with-openssl, --with-nss, etc.<br>
<br>
</span>This is actually APR-util configure stuff, so does not apply to mod_=
ssl<br>
itself. Unless you really have a need for mod_session_crypto, just leave<br=
>
out the --enable-crypto and --enable-session-crypto options, for the<br>
time being (they are not needed for mod_ssl, and are probably just<br>
making things more complicated than necessary right now).<br>
<span class=3D""><br>
&gt; The question to me is: what exact configuration do I need?=C2=A0 Do I =
point<br>
&gt; to a path, or library, or a configure script?=C2=A0 I see nothing<br>
<br>
</span>For a statically linked mod_ssl, you need &quot;--enable-ssl<br>
--with-ssl=3D/opt/openssl --enable-ssl-staticlib-deps&quot; (assuming that =
you<br>
used --prefix=3D/opt/openssl for OpenSSL&#39;s ./config or ./Configure).<br=
>
<span class=3D"HOEnZb"><font color=3D"#888888"><br>
Kaspar<br>
</font></span></blockquote></div><br></div>

--089e013a032e0a2afd0514e2d78e--

From dev-return-82508-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 20:35:34 2015
Return-Path: <dev-return-82508-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A51CB18CBC
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 20:35:34 +0000 (UTC)
Received: (qmail 80962 invoked by uid 500); 29 Apr 2015 20:35:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 80882 invoked by uid 500); 29 Apr 2015 20:35:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 80870 invoked by uid 99); 29 Apr 2015 20:35:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 20:35:33 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 20:35:07 +0000
Received: from mail-ie0-f170.google.com (mail-ie0-f170.google.com [209.85.223.170])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 1A9DC27FE2
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 20:35:06 +0000 (UTC)
Received: by iejt8 with SMTP id t8so52243232iej.2
        for <dev@httpd.apache.org>; Wed, 29 Apr 2015 13:34:59 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=nL8wh0biH5Qyl+5pxtxdro2JZtZdIEn0khFZTc1k6E0=;
        b=I39tM5A6JMzcfkboQcEIL+DpQTMZlLf7MlMjqLktHplW55Nlj4kqCKj8G+DugR6fE3
         PdiJbXev5pR7R0b8WPYaOMgiYu46nwarR20J3K9z7tVy9wDDA8Qfkpg1Q6fAmpGiyz9/
         OuEq4Zurv+UZfcaNecJibrn92It5qWRipSM4RxIoYvPWRhxgQu+QxAqnURrD7+nzeId3
         uxT81mcOF5qfiLe8Pyp4Ro12EkJCRrXZ4AMlGulsTagk+r6VDkRruI/Z/syLqsfzQEJ6
         S6HQHf7BywcfaHJq35vsV1V+6ja2z7J6ty9E5tT8wcULHN2YeqodgPQnA3rENKuuh/9q
         yjzg==
X-Gm-Message-State: ALoCoQlASVvs3IQDQ6bPck65UkLWZgnGnYD3XiMVOcLynn5OMfp++Ms++kRwtkEZiUSWThmxT04q
MIME-Version: 1.0
X-Received: by 10.42.52.4 with SMTP id h4mr5859428icg.32.1430339699149; Wed,
 29 Apr 2015 13:34:59 -0700 (PDT)
Received: by 10.107.136.17 with HTTP; Wed, 29 Apr 2015 13:34:59 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <EC6862B4-252A-4D1C-817F-516DEF562A9F@jaguNET.com>
References: <EC6862B4-252A-4D1C-817F-516DEF562A9F@jaguNET.com>
Date: Wed, 29 Apr 2015 16:34:59 -0400
Message-ID: <CACsi251OiPj_BSpmkR7je+S+fui_ASPmwomduA1bhk0fWKFiWA@mail.gmail.com>
Subject: Re: Balancer manager
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=485b397dd43dad21150514e2e9ea
X-Virus-Checked: Checked by ClamAV on apache.org

--485b397dd43dad21150514e2e9ea
Content-Type: text/plain; charset=UTF-8

On Fri, Apr 24, 2015 at 8:52 AM, Jim Jagielski <jim@jagunet.com> wrote:

> Right now, the balancer manager allows for a member to be
> disabled/stopped, but it cannot *remove* that member...
> Seems to me that that would be good, especially since
> we could always re-use that slot.
>

That means you must fully implement locking against the backends table
in any use context, determine that there are no workers using that specific
backend, and then 'remove' it ('repurpose' it, really, since it's just
another
slot.)  If there are any requests in-flight for that member, this will
result
in potentially bad collisions of misinformation.

We usually ignore these mis-attributions, but I'm not sure that's feasible
given all of the lb logic involved?

--485b397dd43dad21150514e2e9ea
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On F=
ri, Apr 24, 2015 at 8:52 AM, Jim Jagielski <span dir=3D"ltr">&lt;<a href=3D=
"mailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt;</span> w=
rote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;borde=
r-left:1px #ccc solid;padding-left:1ex">Right now, the balancer manager all=
ows for a member to be<br>
disabled/stopped, but it cannot *remove* that member...<br>
Seems to me that that would be good, especially since<br>
we could always re-use that slot.<br></blockquote><div><br></div><div>That =
means you must fully implement locking against the backends table</div><div=
>in any use context, determine that there are no workers using that specifi=
c</div><div>backend, and then &#39;remove&#39; it (&#39;repurpose&#39; it, =
really, since it&#39;s just another</div><div>slot.) =C2=A0If there are any=
 requests in-flight for that member, this will result</div><div>in potentia=
lly bad collisions of misinformation.</div><div><br></div><div>We usually i=
gnore these mis-attributions, but I&#39;m not sure that&#39;s feasible</div=
><div>given all of the lb logic involved?</div><div><br></div></div></div><=
/div>

--485b397dd43dad21150514e2e9ea--

From dev-return-82509-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 21:12:45 2015
Return-Path: <dev-return-82509-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2C084172D9
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 21:12:45 +0000 (UTC)
Received: (qmail 94419 invoked by uid 500); 29 Apr 2015 21:12:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94346 invoked by uid 500); 29 Apr 2015 21:12:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94336 invoked by uid 99); 29 Apr 2015 21:12:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 21:12:44 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 21:12:19 +0000
Received: from mail-wg0-f44.google.com (mail-wg0-f44.google.com [74.125.82.44])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id D93A92AA8D
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 21:12:17 +0000 (UTC)
Received: by wgin8 with SMTP id n8so41996319wgi.0
        for <dev@httpd.apache.org>; Wed, 29 Apr 2015 14:11:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=CRuttoa3/1fJ2OxOSbbFkC5FX2XH19R55LOeOXLk8Jw=;
        b=VUUqlYG/UxwoLSUxMOkTio/wigFdlEoMj+vI1dBJsuRFvM6f+y1Ibc+8/X5UkDcR8R
         VKwRQfcp/GtV3Plzzt04sPDI5+9rzpgv39idyb7vVabRkXQS3AU3/3rwCEOLN2OPA7Ub
         XHhLR116EAofEdTqV1asT/hFjdUGgsswtvdKdRD2bv3o9YMW44thkF/iIcdKb56jG3oo
         HSaencjK8wv2ZHX7UAlm1ptH00DzNkZXFB0DAaMiMS6C6h7aNXeBB9bE+29S2DRt+mgy
         ZTg94ZLfQyDOHVJXzkIbGmVuGpMW8JdjyCFemwdptjtetreiwrXp02Q64bSnsg1kuuRi
         i7pw==
X-Received: by 10.194.3.77 with SMTP id a13mr2018696wja.104.1430341892659;
 Wed, 29 Apr 2015 14:11:32 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.28.62.81 with HTTP; Wed, 29 Apr 2015 14:10:51 -0700 (PDT)
In-Reply-To: <CACsi2509MxSMZdidNRLH4KSZ_nRJ2XH-wEBSE3-jfiiMkGtKBA@mail.gmail.com>
References: <CAFMGiz_L9PKbf_HLw_wFWUHzpwVPqJVUUD1pWhh44GsSRALxzg@mail.gmail.com>
 <CALK=YjMDiiuDWTzwNCaF-8j0zP3S6jri66rMZ1tnP3W6cT8KvA@mail.gmail.com>
 <CAFMGiz-=TyfxrUA6G1Gj0kNktZoFVEDjsGReiMpy9rA00fhrHw@mail.gmail.com>
 <554072B0.40708@velox.ch> <CAFMGiz_fGknnrRqVOZJ1jjrTMACndEnogsS9AbAx2OusASD6rw@mail.gmail.com>
 <5540F133.5080304@velox.ch> <CACsi2509MxSMZdidNRLH4KSZ_nRJ2XH-wEBSE3-jfiiMkGtKBA@mail.gmail.com>
From: Tom Browder <tom.browder@gmail.com>
Date: Wed, 29 Apr 2015 16:10:51 -0500
Message-ID: <CAFMGiz9+etTYDCwHRX9nwGOH_THE0Tm1s_qV_YjFo+0qs8N5Ow@mail.gmail.com>
Subject: Re: OpenSSL 1.02, PCRE 2.10
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Apr 29, 2015 at 3:29 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
> Just to point out the obvious, it would be a Very Bad Idea(tm) to build
> httpd against the dynamic apr-util linked statically to bits and pieces of the
...

I'm just trying to work around the current build systems to meet a
specific goal and I would appreciate anyone who can tell me EXACTLY
how to:

+ use the latest openssl
+ use the latest apr and apr-util
+ use the latest httpd

At the moment I am starting again but this time trying:

+ building and installing the latest openssl with shared libraries
+ building and installing apr and apr-util to use latest openssl
+ building and installing httpd to use all the above

Best,

-Tom

From dev-return-82510-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 21:51:59 2015
Return-Path: <dev-return-82510-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 186A7175CB
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 21:51:59 +0000 (UTC)
Received: (qmail 28745 invoked by uid 500); 29 Apr 2015 21:51:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28676 invoked by uid 500); 29 Apr 2015 21:51:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28666 invoked by uid 99); 29 Apr 2015 21:51:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 21:51:57 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 21:51:50 +0000
Received: from mail-ig0-f173.google.com (mail-ig0-f173.google.com [209.85.213.173])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id E1AE12837C
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 21:51:30 +0000 (UTC)
Received: by iget9 with SMTP id t9so116181148ige.1
        for <dev@httpd.apache.org>; Wed, 29 Apr 2015 14:51:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=A/OXtoQ1Qy9kq7nMcpixNlqiQ+8Aum9vWhfb95gVKjA=;
        b=XlEkBBW40z76O+AlYTUH2+3KXIH4f+ohQnWfyYdkw/D/BqlLHqE88wEhmMpgGp0eul
         bH6hHRXDlCat1FmfA19uq9XvNehXjrdeZ20qhBW+Fht715nudavNNGotkwyWAem4OH1C
         DXX4tNL1jbLNQURW3FN5UWVLq4hF5W+dBJckleAo+cynTP248lnme/I2BMChv4meSX5I
         wxnOhpO7rSzMiyx7bcvatXHGnfHA4fylywEQQMi8ZsmUszWMPoBZwWIuso1eKsRNxdFs
         xuPRsqV7Kg06l9Y+R60YwjjQU3f7vYjTF5rHKQvBQWXTrkTt6zDCGgy8NzXSDI+OdBmc
         cmiA==
MIME-Version: 1.0
X-Received: by 10.50.141.164 with SMTP id rp4mr30889518igb.2.1430344290310;
 Wed, 29 Apr 2015 14:51:30 -0700 (PDT)
Received: by 10.79.71.4 with HTTP; Wed, 29 Apr 2015 14:51:30 -0700 (PDT)
In-Reply-To: <CAFMGiz9+etTYDCwHRX9nwGOH_THE0Tm1s_qV_YjFo+0qs8N5Ow@mail.gmail.com>
References: <CAFMGiz_L9PKbf_HLw_wFWUHzpwVPqJVUUD1pWhh44GsSRALxzg@mail.gmail.com>
	<CALK=YjMDiiuDWTzwNCaF-8j0zP3S6jri66rMZ1tnP3W6cT8KvA@mail.gmail.com>
	<CAFMGiz-=TyfxrUA6G1Gj0kNktZoFVEDjsGReiMpy9rA00fhrHw@mail.gmail.com>
	<554072B0.40708@velox.ch>
	<CAFMGiz_fGknnrRqVOZJ1jjrTMACndEnogsS9AbAx2OusASD6rw@mail.gmail.com>
	<5540F133.5080304@velox.ch>
	<CACsi2509MxSMZdidNRLH4KSZ_nRJ2XH-wEBSE3-jfiiMkGtKBA@mail.gmail.com>
	<CAFMGiz9+etTYDCwHRX9nwGOH_THE0Tm1s_qV_YjFo+0qs8N5Ow@mail.gmail.com>
Date: Wed, 29 Apr 2015 23:51:30 +0200
Message-ID: <CAKQ1sVPQw3moPeRDdwun8go_L+LCkEAWEo___jWDEjgXR983JQ@mail.gmail.com>
Subject: Re: OpenSSL 1.02, PCRE 2.10
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Tom,

On Wed, Apr 29, 2015 at 11:10 PM, Tom Browder <tom.browder@gmail.com> wrote:
>
> I'm just trying to work around the current build systems to meet a
> specific goal and I would appreciate anyone who can tell me EXACTLY
> how to:
>
> + use the latest openssl
> + use the latest apr and apr-util
> + use the latest httpd

Your goal is to do that dynamically now, right?

>
> At the moment I am starting again but this time trying:
>
> + building and installing the latest openssl with shared libraries
> + building and installing apr and apr-util to use latest openssl
> + building and installing httpd to use all the above

With shared libraries then, once the first point is done (say in
/opt/openssl), the simplest way is for the two others is to:
1. tar xf httpd-2.4.12.tar.bz2
2. cd httpd-2.4.12
3. tar xf extract apr-1.5.2.tar.bz2 -C srclib && mv srclib/apr-1.5.2 srclib/apr
4. tar xf extract apr-util-1.5.4.tar.bz2 -C srclib && mv
srclib/apr-util-1.5.2 srclib/apr-util
4. ./buildconf
5. ./configure --prefix=/opt/httpd --with-included-apr
--with-ssl=/opt/openssl "LDFLAGS=-Wl,-rpath,/opt/openssl/lib" ...
(the LDFLAGS can be omitted if you plan to somehow include
/opt/openssl/lib in LD_LIBRARY_PATH at runtime, to avoid conflct with
system's own libs)
6. make && make install

Hope I'm not off topic (you meant building statically).

Regards,
Yann.

From dev-return-82511-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 22:40:41 2015
Return-Path: <dev-return-82511-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4D79F17A30
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 22:40:41 +0000 (UTC)
Received: (qmail 67033 invoked by uid 500); 29 Apr 2015 22:40:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 66964 invoked by uid 500); 29 Apr 2015 22:40:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 66954 invoked by uid 99); 29 Apr 2015 22:40:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 22:40:40 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 22:40:12 +0000
Received: from mail-wg0-f43.google.com (mail-wg0-f43.google.com [74.125.82.43])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 3F1E527FF9
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 22:40:11 +0000 (UTC)
Received: by wgin8 with SMTP id n8so43772412wgi.0
        for <dev@httpd.apache.org>; Wed, 29 Apr 2015 15:40:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=tftNvOVilxZdZSndimitIu5kN1C8V4KjloWPP+hlUKk=;
        b=V/9VFv3S/wOqPrqtKx+3BtNi2dHGKwkvwfMfwKJzK/M1jia9Hdw0/+U0YUgkiP20Bi
         lJMt9qifnCFhBZNqH190s7Ig6vjxfZ7uChKsxVVhXBnklcHy3XV3MZfAj7/4NS6tsmCv
         V50sAbP/qrf6mxtaTWy7R1qszwTWUljEGdQXWUyUb0KvR8KPRFSgaRc36rnd4GCXiPu8
         8Q9WR3TAjIu3sL+UwncXcT4iBWQzmbaiv/fkgxHE7q6E3dYARKMfWmRPdf48a0BbFaHh
         1hUibGPsRb/jkdQ2D+ouDgwiM/gY+ggarYO67BTFqK4/4GCIQYo3ChNtqO5Wvea4rMux
         o4Wg==
X-Received: by 10.194.3.77 with SMTP id a13mr2570395wja.104.1430347210819;
 Wed, 29 Apr 2015 15:40:10 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.28.62.81 with HTTP; Wed, 29 Apr 2015 15:39:30 -0700 (PDT)
In-Reply-To: <CAKQ1sVPQw3moPeRDdwun8go_L+LCkEAWEo___jWDEjgXR983JQ@mail.gmail.com>
References: <CAFMGiz_L9PKbf_HLw_wFWUHzpwVPqJVUUD1pWhh44GsSRALxzg@mail.gmail.com>
 <CALK=YjMDiiuDWTzwNCaF-8j0zP3S6jri66rMZ1tnP3W6cT8KvA@mail.gmail.com>
 <CAFMGiz-=TyfxrUA6G1Gj0kNktZoFVEDjsGReiMpy9rA00fhrHw@mail.gmail.com>
 <554072B0.40708@velox.ch> <CAFMGiz_fGknnrRqVOZJ1jjrTMACndEnogsS9AbAx2OusASD6rw@mail.gmail.com>
 <5540F133.5080304@velox.ch> <CACsi2509MxSMZdidNRLH4KSZ_nRJ2XH-wEBSE3-jfiiMkGtKBA@mail.gmail.com>
 <CAFMGiz9+etTYDCwHRX9nwGOH_THE0Tm1s_qV_YjFo+0qs8N5Ow@mail.gmail.com> <CAKQ1sVPQw3moPeRDdwun8go_L+LCkEAWEo___jWDEjgXR983JQ@mail.gmail.com>
From: Tom Browder <tom.browder@gmail.com>
Date: Wed, 29 Apr 2015 17:39:30 -0500
Message-ID: <CAFMGiz-h2nH5M1d+Nzn+bLxFU7XHxFX-3o6Pdas4N56pKt9gjg@mail.gmail.com>
Subject: Re: OpenSSL 1.02, PCRE 2.10
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Apr 29, 2015 at 4:51 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> Hi Tom,
>
> On Wed, Apr 29, 2015 at 11:10 PM, Tom Browder <tom.browder@gmail.com> wrote:
>>
>> I'm just trying to work around the current build systems to meet a
>> specific goal and I would appreciate anyone who can tell me EXACTLY
>> how to:
>>
>> + use the latest openssl
>> + use the latest apr and apr-util
>> + use the latest httpd
...

One more requirement: I want to use mod_session_crypto so I have to
'--enable-sesion-crypto' and, with Yann's options, I still get the
error:

configure: error: Crypto was requested but no crypto library could be
enabled; specify the location of a crypto library using
--with-openssl, --with-nss, etc.
configure failed for srclib/apr-util

I have not found any documentation in apr or apr-util on how to
specify the crypto library.

Thanks.

Best regards,

-Tom

From dev-return-82512-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 23:08:35 2015
Return-Path: <dev-return-82512-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9C63417D66
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 23:08:35 +0000 (UTC)
Received: (qmail 88238 invoked by uid 500); 29 Apr 2015 23:08:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 88025 invoked by uid 500); 29 Apr 2015 23:08:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 87817 invoked by uid 99); 29 Apr 2015 23:08:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 23:08:34 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 23:08:07 +0000
Received: from mail-ig0-f179.google.com (mail-ig0-f179.google.com [209.85.213.179])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 0539F2AAA4
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 23:08:06 +0000 (UTC)
Received: by igblo3 with SMTP id lo3so62340320igb.0
        for <dev@httpd.apache.org>; Wed, 29 Apr 2015 16:07:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=6ITNwDptjmsbSFLOneynrmYjvi4PwRD1k/uiC5FIc/o=;
        b=qkePPo08IUdnu8b2FXLCIHilYhmnrt6zg4BD0sK/O1pDu21iXClFna5MAPTA7OQveq
         kyW3Bc+ycpmyrNMd0glKnZNPFvJz+A4/Mz1v7AsiPN6OShfo5W26mKgyevT3YnKDuN0k
         tDhcMgQU/9EsnXNMnIuTpgERNdDjICNPlj30AjFyVflRZ395mZ2Ac2zmfkpM9xKp+I9B
         m8FS8h7VDyb6xh7JjDlW+si+ztho5MUamIIets1EpyxtDixqpPgJJvVrbYgbqT7oG/xd
         06n/KXm+6IsvFYdGLAI5FwQTphRXAiA3epHEni9OAnM23NgQQr+7wLbkzFYrbWlaCtWA
         /+iA==
MIME-Version: 1.0
X-Received: by 10.50.21.1 with SMTP id r1mr7319579ige.46.1430348839537; Wed,
 29 Apr 2015 16:07:19 -0700 (PDT)
Received: by 10.79.71.4 with HTTP; Wed, 29 Apr 2015 16:07:19 -0700 (PDT)
In-Reply-To: <CAFMGiz-h2nH5M1d+Nzn+bLxFU7XHxFX-3o6Pdas4N56pKt9gjg@mail.gmail.com>
References: <CAFMGiz_L9PKbf_HLw_wFWUHzpwVPqJVUUD1pWhh44GsSRALxzg@mail.gmail.com>
	<CALK=YjMDiiuDWTzwNCaF-8j0zP3S6jri66rMZ1tnP3W6cT8KvA@mail.gmail.com>
	<CAFMGiz-=TyfxrUA6G1Gj0kNktZoFVEDjsGReiMpy9rA00fhrHw@mail.gmail.com>
	<554072B0.40708@velox.ch>
	<CAFMGiz_fGknnrRqVOZJ1jjrTMACndEnogsS9AbAx2OusASD6rw@mail.gmail.com>
	<5540F133.5080304@velox.ch>
	<CACsi2509MxSMZdidNRLH4KSZ_nRJ2XH-wEBSE3-jfiiMkGtKBA@mail.gmail.com>
	<CAFMGiz9+etTYDCwHRX9nwGOH_THE0Tm1s_qV_YjFo+0qs8N5Ow@mail.gmail.com>
	<CAKQ1sVPQw3moPeRDdwun8go_L+LCkEAWEo___jWDEjgXR983JQ@mail.gmail.com>
	<CAFMGiz-h2nH5M1d+Nzn+bLxFU7XHxFX-3o6Pdas4N56pKt9gjg@mail.gmail.com>
Date: Thu, 30 Apr 2015 01:07:19 +0200
Message-ID: <CAKQ1sVNcS9Bg2O5Z9gUaenYW-iiQUCxZDDjmUhGji2KbNbEqFQ@mail.gmail.com>
Subject: Re: OpenSSL 1.02, PCRE 2.10
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Apr 30, 2015 at 12:39 AM, Tom Browder <tom.browder@gmail.com> wrote:
>
> One more requirement: I want to use mod_session_crypto so I have to
> '--enable-sesion-crypto' and, with Yann's options, I still get the
> error:
>
> configure: error: Crypto was requested but no crypto library could be
> enabled; specify the location of a crypto library using
> --with-openssl, --with-nss, etc.
> configure failed for srclib/apr-util

Did you try --with-openssl=/opt/openssl in addition to --with-ssl?

From dev-return-82513-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 23:32:09 2015
Return-Path: <dev-return-82513-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8624B17E61
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 23:32:09 +0000 (UTC)
Received: (qmail 31466 invoked by uid 500); 29 Apr 2015 23:32:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 31395 invoked by uid 500); 29 Apr 2015 23:32:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 31385 invoked by uid 99); 29 Apr 2015 23:32:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 23:32:09 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=HTML_MESSAGE,SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (athena.apache.org: transitioning domain of tom.browder@gmail.com does not designate 54.164.171.186 as permitted sender)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 23:32:02 +0000
Received: from mail-wg0-f54.google.com (mail-wg0-f54.google.com [74.125.82.54])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 02C0043E02
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 23:31:42 +0000 (UTC)
Received: by wgin8 with SMTP id n8so44589385wgi.0
        for <dev@httpd.apache.org>; Wed, 29 Apr 2015 16:30:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=l0u6QnQ52fsrnGZlF8Bjzulk3t7lcex8JEyakZ9r1w4=;
        b=dYmR9oO+yvatTchy8tqxVQaNg4+07sOWbPLYTJmv4/ZrViqDmTMtdNkkTRA+4YR1vl
         frdLY9zOvPEvqVHeYeTbP1YfAGJ2ESxZrXmkSOWu0ArmCvzAPilvD26+xDKfY1ZcKQgT
         p4NlGC/Yc+P2oVZB1CW+UGK6psJAqp9YkHvJb+iie7t/QsE8Hlx23tcMJd37V284ZSYw
         PzYm8BRDP+zuWTq9OW3pYmYBQs332guW1XA9dMQZ8958fg/konBmB95QrlPRdJOmEwXO
         fzOZ8h63XB08tLHMZGzt6jlYlL7TeH+korCPNu36MMNfDpUQB/XFC3rfDdTDyX1L6eEG
         Rs1A==
MIME-Version: 1.0
X-Received: by 10.194.184.146 with SMTP id eu18mr2811823wjc.94.1430350256286;
 Wed, 29 Apr 2015 16:30:56 -0700 (PDT)
Received: by 10.28.62.81 with HTTP; Wed, 29 Apr 2015 16:30:56 -0700 (PDT)
Received: by 10.28.62.81 with HTTP; Wed, 29 Apr 2015 16:30:56 -0700 (PDT)
In-Reply-To: <CAKQ1sVNcS9Bg2O5Z9gUaenYW-iiQUCxZDDjmUhGji2KbNbEqFQ@mail.gmail.com>
References: <CAFMGiz_L9PKbf_HLw_wFWUHzpwVPqJVUUD1pWhh44GsSRALxzg@mail.gmail.com>
	<CALK=YjMDiiuDWTzwNCaF-8j0zP3S6jri66rMZ1tnP3W6cT8KvA@mail.gmail.com>
	<CAFMGiz-=TyfxrUA6G1Gj0kNktZoFVEDjsGReiMpy9rA00fhrHw@mail.gmail.com>
	<554072B0.40708@velox.ch>
	<CAFMGiz_fGknnrRqVOZJ1jjrTMACndEnogsS9AbAx2OusASD6rw@mail.gmail.com>
	<5540F133.5080304@velox.ch>
	<CACsi2509MxSMZdidNRLH4KSZ_nRJ2XH-wEBSE3-jfiiMkGtKBA@mail.gmail.com>
	<CAFMGiz9+etTYDCwHRX9nwGOH_THE0Tm1s_qV_YjFo+0qs8N5Ow@mail.gmail.com>
	<CAKQ1sVPQw3moPeRDdwun8go_L+LCkEAWEo___jWDEjgXR983JQ@mail.gmail.com>
	<CAFMGiz-h2nH5M1d+Nzn+bLxFU7XHxFX-3o6Pdas4N56pKt9gjg@mail.gmail.com>
	<CAKQ1sVNcS9Bg2O5Z9gUaenYW-iiQUCxZDDjmUhGji2KbNbEqFQ@mail.gmail.com>
Date: Wed, 29 Apr 2015 18:30:56 -0500
Message-ID: <CAFMGiz-EzDT+QxnzuUSmC-pPrbt31k9AX1+1iyy_a6tHnYs+1w@mail.gmail.com>
Subject: Re: OpenSSL 1.02, PCRE 2.10
From: Tom Browder <tom.browder@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=047d7b6d8b80ee329e0514e55eb6
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b6d8b80ee329e0514e55eb6
Content-Type: text/plain; charset=UTF-8

On Apr 29, 2015 6:08 PM, "Yann Ylavic" <ylavic.dev@gmail.com> wrote:
>
> On Thu, Apr 30, 2015 at 12:39 AM, Tom Browder <tom.browder@gmail.com>
wrote:
> >
> > configure: error: Crypto was requested but no crypto library could be
> > enabled; specify the location of a crypto library using
> > --with-openssl, --with-nss, etc.
> > configure failed for srclib/apr-util
>
> Did you try --with-openssl=/opt/openssl in addition to --with-ssl?

No, but I tried other variants--let me try that.

-Tom

--047d7b6d8b80ee329e0514e55eb6
Content-Type: text/html; charset=UTF-8

<p dir="ltr"><br>
On Apr 29, 2015 6:08 PM, &quot;Yann Ylavic&quot; &lt;<a href="mailto:ylavic.dev@gmail.com">ylavic.dev@gmail.com</a>&gt; wrote:<br>
&gt;<br>
&gt; On Thu, Apr 30, 2015 at 12:39 AM, Tom Browder &lt;<a href="mailto:tom.browder@gmail.com">tom.browder@gmail.com</a>&gt; wrote:<br>
&gt; &gt;<br>
&gt; &gt; configure: error: Crypto was requested but no crypto library could be<br>
&gt; &gt; enabled; specify the location of a crypto library using<br>
&gt; &gt; --with-openssl, --with-nss, etc.<br>
&gt; &gt; configure failed for srclib/apr-util<br>
&gt;<br>
&gt; Did you try --with-openssl=/opt/openssl in addition to --with-ssl?</p>
<p dir="ltr">No, but I tried other variants--let me try that.</p>
<p dir="ltr">-Tom</p>

--047d7b6d8b80ee329e0514e55eb6--

From dev-return-82514-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Apr 29 23:59:29 2015
Return-Path: <dev-return-82514-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4574E17F86
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 29 Apr 2015 23:59:29 +0000 (UTC)
Received: (qmail 75655 invoked by uid 500); 29 Apr 2015 23:59:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75581 invoked by uid 500); 29 Apr 2015 23:59:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75571 invoked by uid 99); 29 Apr 2015 23:59:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 23:59:28 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Apr 2015 23:59:02 +0000
Received: from mail-wg0-f43.google.com (mail-wg0-f43.google.com [74.125.82.43])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id DBC942AA76
	for <dev@httpd.apache.org>; Wed, 29 Apr 2015 23:59:00 +0000 (UTC)
Received: by wgso17 with SMTP id o17so45024963wgs.1
        for <dev@httpd.apache.org>; Wed, 29 Apr 2015 16:58:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=23tWaOppTCbOzYoJiKz1Z4w4GpLhwKpIt3O3Nd1kjnU=;
        b=ClnbucunIURRLYt0gitoo2tnbmzgiQ6AzrHSUcp1mHyHTdIUJ4jHn8ujPesm9szNkU
         25VB20YT1/ZVk7jiRrzCfjFhcsFwJ+nTH21Qu0ppGjYvDuUyr4vZ4z4GhXcgaTvwoy5u
         mMA2n9DlBwYUKl5nlsVcypuRarqLr0BZzXD4RKA822++o/uX4xORF4srmdS51mSghIGR
         ZVXuw74vj8+TfsTatk9BM1kNTimv5Ym3vSZI+8TlHiwt6BaoL7FVwn1KFHJubmWfllQC
         OUBSJC+pnPqsbLWU0yxS0h3O54KO6GgLlJaXboZa0S1M3V5oPyQIU4TEYurIuiYqwikq
         gsSw==
X-Received: by 10.180.96.227 with SMTP id dv3mr239857wib.53.1430351895715;
 Wed, 29 Apr 2015 16:58:15 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.28.62.81 with HTTP; Wed, 29 Apr 2015 16:57:35 -0700 (PDT)
In-Reply-To: <CAFMGiz-EzDT+QxnzuUSmC-pPrbt31k9AX1+1iyy_a6tHnYs+1w@mail.gmail.com>
References: <CAFMGiz_L9PKbf_HLw_wFWUHzpwVPqJVUUD1pWhh44GsSRALxzg@mail.gmail.com>
 <CALK=YjMDiiuDWTzwNCaF-8j0zP3S6jri66rMZ1tnP3W6cT8KvA@mail.gmail.com>
 <CAFMGiz-=TyfxrUA6G1Gj0kNktZoFVEDjsGReiMpy9rA00fhrHw@mail.gmail.com>
 <554072B0.40708@velox.ch> <CAFMGiz_fGknnrRqVOZJ1jjrTMACndEnogsS9AbAx2OusASD6rw@mail.gmail.com>
 <5540F133.5080304@velox.ch> <CACsi2509MxSMZdidNRLH4KSZ_nRJ2XH-wEBSE3-jfiiMkGtKBA@mail.gmail.com>
 <CAFMGiz9+etTYDCwHRX9nwGOH_THE0Tm1s_qV_YjFo+0qs8N5Ow@mail.gmail.com>
 <CAKQ1sVPQw3moPeRDdwun8go_L+LCkEAWEo___jWDEjgXR983JQ@mail.gmail.com>
 <CAFMGiz-h2nH5M1d+Nzn+bLxFU7XHxFX-3o6Pdas4N56pKt9gjg@mail.gmail.com>
 <CAKQ1sVNcS9Bg2O5Z9gUaenYW-iiQUCxZDDjmUhGji2KbNbEqFQ@mail.gmail.com> <CAFMGiz-EzDT+QxnzuUSmC-pPrbt31k9AX1+1iyy_a6tHnYs+1w@mail.gmail.com>
From: Tom Browder <tom.browder@gmail.com>
Date: Wed, 29 Apr 2015 18:57:35 -0500
Message-ID: <CAFMGiz_Xo8auKaw5AdoGZABJx4hHG+e6WYdMVs8UTZE2j1fNbg@mail.gmail.com>
Subject: Re: OpenSSL 1.02, PCRE 2.10
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Apr 29, 2015 at 6:30 PM, Tom Browder <tom.browder@gmail.com> wrote:
> On Apr 29, 2015 6:08 PM, "Yann Ylavic" <ylavic.dev@gmail.com> wrote:
...
>> Did you try --with-openssl=/opt/openssl in addition to --with-ssl?
>
> No, but I tried other variants--let me try that.

Okay, now httpd is using openssl/libcrypto.

However, when I try apachectl I get:

apachectl
httpd: Syntax error on line 147 of /usr/local/apache2/conf/httpd.conf:
Cannot load modules/mod_session_crypto.so into server:
/usr/local/apache2/modules/mod_session_crypto.so: undefined symbol:
ap_hook_session_encode

It seems we are making progress, but what should be tried next.  Is
that a mod_session_crypto bug, or?

Thanks.

Best,

-Tom

From dev-return-82515-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 30 00:10:35 2015
Return-Path: <dev-return-82515-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EF0AF17FF4
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 30 Apr 2015 00:10:34 +0000 (UTC)
Received: (qmail 14657 invoked by uid 500); 30 Apr 2015 00:10:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14583 invoked by uid 500); 30 Apr 2015 00:10:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14573 invoked by uid 99); 30 Apr 2015 00:10:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Apr 2015 00:10:34 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Apr 2015 00:10:07 +0000
Received: from mail-ie0-f177.google.com (mail-ie0-f177.google.com [209.85.223.177])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 501E225FCC
	for <dev@httpd.apache.org>; Thu, 30 Apr 2015 00:09:54 +0000 (UTC)
Received: by iecrt8 with SMTP id rt8so55528161iec.0
        for <dev@httpd.apache.org>; Wed, 29 Apr 2015 17:09:08 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=7fRnSOi7SpRRUXSY1xVXQJP0YJumKmXEtZQFWXXIhdk=;
        b=gK2GhhvaKytYjEmLdeyXgKZfPJKl3TBapMS383r/HdG3VZYzY2faN0FbmSWFei3wGN
         rml8IqkYxE3DdscbeVy/eQpHTrGsGa8VJdNmjk2XzkfXn1IXMJ2LVLjv4MqZwX0x+y2T
         TB9b26ORUt5MC8hDaCfcSyBl+tNtd4vR5BWhWLaZ/Reb508/deLDF+LL1nnaeOoswfs0
         YMYJpV/hKAGxMWFjK623qafrAxa7a6/iMRWLFWrWzfqz9/xpITGbkKHClLWHh/lfXve+
         wz9O6llEIGstAmLK3RwH8tvlMLSCUSxjwHm001vZSwtGqvZK+4vNBWh0UdLse/KQb+8O
         Dv0w==
MIME-Version: 1.0
X-Received: by 10.50.62.148 with SMTP id y20mr201679igr.17.1430352548403; Wed,
 29 Apr 2015 17:09:08 -0700 (PDT)
Received: by 10.79.71.4 with HTTP; Wed, 29 Apr 2015 17:09:08 -0700 (PDT)
In-Reply-To: <CAFMGiz_Xo8auKaw5AdoGZABJx4hHG+e6WYdMVs8UTZE2j1fNbg@mail.gmail.com>
References: <CAFMGiz_L9PKbf_HLw_wFWUHzpwVPqJVUUD1pWhh44GsSRALxzg@mail.gmail.com>
	<CALK=YjMDiiuDWTzwNCaF-8j0zP3S6jri66rMZ1tnP3W6cT8KvA@mail.gmail.com>
	<CAFMGiz-=TyfxrUA6G1Gj0kNktZoFVEDjsGReiMpy9rA00fhrHw@mail.gmail.com>
	<554072B0.40708@velox.ch>
	<CAFMGiz_fGknnrRqVOZJ1jjrTMACndEnogsS9AbAx2OusASD6rw@mail.gmail.com>
	<5540F133.5080304@velox.ch>
	<CACsi2509MxSMZdidNRLH4KSZ_nRJ2XH-wEBSE3-jfiiMkGtKBA@mail.gmail.com>
	<CAFMGiz9+etTYDCwHRX9nwGOH_THE0Tm1s_qV_YjFo+0qs8N5Ow@mail.gmail.com>
	<CAKQ1sVPQw3moPeRDdwun8go_L+LCkEAWEo___jWDEjgXR983JQ@mail.gmail.com>
	<CAFMGiz-h2nH5M1d+Nzn+bLxFU7XHxFX-3o6Pdas4N56pKt9gjg@mail.gmail.com>
	<CAKQ1sVNcS9Bg2O5Z9gUaenYW-iiQUCxZDDjmUhGji2KbNbEqFQ@mail.gmail.com>
	<CAFMGiz-EzDT+QxnzuUSmC-pPrbt31k9AX1+1iyy_a6tHnYs+1w@mail.gmail.com>
	<CAFMGiz_Xo8auKaw5AdoGZABJx4hHG+e6WYdMVs8UTZE2j1fNbg@mail.gmail.com>
Date: Thu, 30 Apr 2015 02:09:08 +0200
Message-ID: <CAKQ1sVNePTZmvqHt9A60zrP9MCh+XXRFqhUKpndaTKTthQgMkA@mail.gmail.com>
Subject: Re: OpenSSL 1.02, PCRE 2.10
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Apr 30, 2015 at 1:57 AM, Tom Browder <tom.browder@gmail.com> wrote:
>
> apachectl
> httpd: Syntax error on line 147 of /usr/local/apache2/conf/httpd.conf:
> Cannot load modules/mod_session_crypto.so into server:
> /usr/local/apache2/modules/mod_session_crypto.so: undefined symbol:
> ap_hook_session_encode

You probably need to also:
LoadModule session_module modules/mod_sessions.so

And use configure's --enable-session=shared if you did not already.

Regards,
Yann.

From dev-return-82516-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 30 01:28:48 2015
Return-Path: <dev-return-82516-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7CC5918294
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 30 Apr 2015 01:28:48 +0000 (UTC)
Received: (qmail 92880 invoked by uid 500); 30 Apr 2015 01:28:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92810 invoked by uid 500); 30 Apr 2015 01:28:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92800 invoked by uid 99); 30 Apr 2015 01:28:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Apr 2015 01:28:47 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Apr 2015 01:28:41 +0000
Received: from mail-wg0-f45.google.com (mail-wg0-f45.google.com [74.125.82.45])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id A8C1A43E68
	for <dev@httpd.apache.org>; Thu, 30 Apr 2015 01:28:20 +0000 (UTC)
Received: by wgin8 with SMTP id n8so46312538wgi.0
        for <dev@httpd.apache.org>; Wed, 29 Apr 2015 18:28:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=1A25MZ1qcA0XX9U0uO/ui4XYrV5o+K+wq/BlBD3zPyw=;
        b=V2gZrydpJ2QHxH8voy6PhRIzm0c9rAITA1GYCFy5v62HHLctKTN+s9j2t5JA9ykVDV
         7DBR4WnTa3s4UysvuRIUh876E1VHUHqSf6wsYoy5+bFXrb2m6er8oSmwJU5NLSg41Alq
         SzoB39Iur/t+CwVCJNv0C2hSjpoa7QaOvR7q+TvwWiFNAGp6gJRPbmbOL76kNkBrbI2K
         9LcLd0lAAmkVwFMSAAiLYvlSjROwgEvM+vF7JdATdKOYbIIHcMhapxbfFkx1QtLaSfJh
         k9906TucSAcVZ9LD7Ti0PTrYFrLBjmOC9coBv4cHNg8OzshkkjtOEoZdxAe3Owr4/sXI
         renA==
X-Received: by 10.180.75.197 with SMTP id e5mr745826wiw.94.1430357299937; Wed,
 29 Apr 2015 18:28:19 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.28.62.81 with HTTP; Wed, 29 Apr 2015 18:27:39 -0700 (PDT)
In-Reply-To: <CAKQ1sVNePTZmvqHt9A60zrP9MCh+XXRFqhUKpndaTKTthQgMkA@mail.gmail.com>
References: <CAFMGiz_L9PKbf_HLw_wFWUHzpwVPqJVUUD1pWhh44GsSRALxzg@mail.gmail.com>
 <CALK=YjMDiiuDWTzwNCaF-8j0zP3S6jri66rMZ1tnP3W6cT8KvA@mail.gmail.com>
 <CAFMGiz-=TyfxrUA6G1Gj0kNktZoFVEDjsGReiMpy9rA00fhrHw@mail.gmail.com>
 <554072B0.40708@velox.ch> <CAFMGiz_fGknnrRqVOZJ1jjrTMACndEnogsS9AbAx2OusASD6rw@mail.gmail.com>
 <5540F133.5080304@velox.ch> <CACsi2509MxSMZdidNRLH4KSZ_nRJ2XH-wEBSE3-jfiiMkGtKBA@mail.gmail.com>
 <CAFMGiz9+etTYDCwHRX9nwGOH_THE0Tm1s_qV_YjFo+0qs8N5Ow@mail.gmail.com>
 <CAKQ1sVPQw3moPeRDdwun8go_L+LCkEAWEo___jWDEjgXR983JQ@mail.gmail.com>
 <CAFMGiz-h2nH5M1d+Nzn+bLxFU7XHxFX-3o6Pdas4N56pKt9gjg@mail.gmail.com>
 <CAKQ1sVNcS9Bg2O5Z9gUaenYW-iiQUCxZDDjmUhGji2KbNbEqFQ@mail.gmail.com>
 <CAFMGiz-EzDT+QxnzuUSmC-pPrbt31k9AX1+1iyy_a6tHnYs+1w@mail.gmail.com>
 <CAFMGiz_Xo8auKaw5AdoGZABJx4hHG+e6WYdMVs8UTZE2j1fNbg@mail.gmail.com> <CAKQ1sVNePTZmvqHt9A60zrP9MCh+XXRFqhUKpndaTKTthQgMkA@mail.gmail.com>
From: Tom Browder <tom.browder@gmail.com>
Date: Wed, 29 Apr 2015 20:27:39 -0500
Message-ID: <CAFMGiz-gr5Ypw338HU-en4NxQ3bWT0CHwr3TO+v7OC8SejgrFg@mail.gmail.com>
Subject: Re: OpenSSL 1.02, PCRE 2.10
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Apr 29, 2015 at 7:09 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Thu, Apr 30, 2015 at 1:57 AM, Tom Browder <tom.browder@gmail.com> wrote:
>>
>> apachectl
>> httpd: Syntax error on line 147 of /usr/local/apache2/conf/httpd.conf:
>> Cannot load modules/mod_session_crypto.so into server:
>> /usr/local/apache2/modules/mod_session_crypto.so: undefined symbol:
>> ap_hook_session_encode
>
> You probably need to also:
> LoadModule session_module modules/mod_sessions.so

First I tried

  --enable-session

which is supposed to have it enabled in the httpd.conf file but it
doesn't (a bug).

But the '--enable-load-all-modules' does work!

I also found that the https.conf file wasn't changing during my config
changes (I believe that warrants a better note and perhaps another
option such as '--force' which recreates all when experimenting as I
have been doing).  I have to remove them before installation.

But, after I manually uncommented the session module in the httpd.conf
file all seems to work fine and I am able to start my shiny new httpd.

Thanks so much Yann for bearing with me through this useful exercise!

Warmest regards,

-Tom

From dev-return-82517-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 30 02:15:48 2015
Return-Path: <dev-return-82517-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 096F418390
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 30 Apr 2015 02:15:48 +0000 (UTC)
Received: (qmail 53656 invoked by uid 500); 30 Apr 2015 02:15:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53577 invoked by uid 500); 30 Apr 2015 02:15:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53566 invoked by uid 99); 30 Apr 2015 02:15:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Apr 2015 02:15:45 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of ylavic.dev@gmail.com does not designate 54.76.25.247 as permitted sender)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Apr 2015 02:15:18 +0000
Received: from mail-ie0-f170.google.com (mail-ie0-f170.google.com [209.85.223.170])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 1DE7E2AAF7
	for <dev@httpd.apache.org>; Thu, 30 Apr 2015 02:15:17 +0000 (UTC)
Received: by iecrt8 with SMTP id rt8so57089952iec.0
        for <dev@httpd.apache.org>; Wed, 29 Apr 2015 19:14:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:sender:date:message-id:subject:from:to:content-type;
        bh=C0NSfQppZO8z7dEQBiHp41+54n5KvDCrIkuJK8TyFG8=;
        b=HGtuwQquOpqlMM4YahMsp+3VxGA0O1z7SEPWx2FKI7kKfV9jkhKqCjUdIW0bdIZ9PD
         R/36rFTXe5IVC41OzlkQmyEXbUa/qLO6OmR0fPU8feyNw7/VWebnSKmRpbCJ5qdepKch
         4mb1siXi8vFKavSKEAN8gZOL+kI2ciK6GtRiVokqUZlVV7wI/imyeAgXJweGikYni311
         pL96ybvK4dGPLlFL+OJy97VLwXWSTYXDVAmVRbAI57OYbNuMiCiqwEKAbEMnFaUFYpMq
         0Pk25wuNakGpIoPBO7bjU2eH+qbT2HuCNqEVBkxqeD3RVdSAqZtXHJ31q4zdUvjgnnjV
         lgAA==
MIME-Version: 1.0
X-Received: by 10.107.25.131 with SMTP id 125mr2749838ioz.44.1430360070985;
 Wed, 29 Apr 2015 19:14:30 -0700 (PDT)
Sender: ylavic.dev@gmail.com
Received: by 10.79.71.4 with HTTP; Wed, 29 Apr 2015 19:14:30 -0700 (PDT)
Date: Thu, 30 Apr 2015 04:14:30 +0200
X-Google-Sender-Auth: yqCFeQ1BaV6_-mj32ujr2GIYiRQ
Message-ID: <CAKQ1sVNXjJuit_Mgg4yTKVujfnXFPrGDHo17vsyaZbA6ayzLxw@mail.gmail.com>
Subject: Prefetch before connecting/reusing backend and leverage
 ping/100-continue (was: svn commit: r1676855 - /httpd/httpd/branches/2.4.x/STATUS)
From: Yann Ylavic <ylavic@apache.org>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Apr 29, 2015 at 10:48 PM,  <ylavic@apache.org> wrote:
>
> +   * mod_proxy_http: Don't establish or reuse a backend connection before pre-
> +     fetching the request body, so to minimize the delay between it is supposed
> +     to be alive and the first bytes sent: this is a best effort to prevent the
> +     backend from closing because of idle or keepalive timeout in the meantime.
> +     Also, handle a new "proxy-flushall" environment variable which allows to
> +     flush any forwarded body data immediately. PR 56541+37920.
> +     trunk patch: http://svn.apache.org/r1656259
> +                  http://svn.apache.org/r1656359 (CHANGES entry)
> +     2.4.x patch: trunk works (modulo CHANGES, docs/log-message-tags)
> +     +1: ylavic
> +     -0: jim:  This seems to be a hit to normal performance, to handle an
> +               error and/or non-normal condition. The pre-fetch is
> +               expensive, and is always done, even before we know that
> +               the backend is available to rec' it. I understand the
> +               error described, but is the fix actually worth it (plus
> +               it seems to allow for a DDoS vector).
> +     ylavic: It seems to me that the problem is real since we reuse the
> +             connection before prefetching 16K (either controlled by the
> +             client, or by an input filter), we currently always prefetch
> +             these bytes already. Regarding performance I don't see any
> +             difference (more cycles) compared with the current code.
> +             However I think I failed to rebuild the header_brigade when
> +             the proxy loop is retried (ping), so I need to rework this.
> +             Do you think we'd better remove the prefetch, or maybe just
> +             make it nonblocking (by default)?
> +        jim: Non-blocking seems the best way to handle...

The prefetch, AIUI, was (before r1656259) and is still is here to help
determine C-L vs T-E (which may not be accepted on the backend side)
or spool (which is costly) for the request, at least with bodies <
64K.
If we were to use non-blocking for it, I guess we would lose this
ability whenever the client's header and body are not sent/received at
the same time...
And I don't think this is necessary, at no cost (AFAICT).

Can you please elaborate on the performance hit and DDoS?
Regarding performance, the new code is just a reordering of the steps
compared to the old one.
Regarding DDoS, you seem to refer to the fact that we now prefetch
(and may spool) the request body before we know whether or not the
backend is available, but is that exploitable without also
controlling/downing the backend?
And in that case, was the previous code much better wrt
ap_discard_request_body() (which is finally called after the error
response)?
I'm not saying this is not a concern, it is surely, and I think the
new changes proposed below can address this issue too.

So I reworked the idea to prefetch before connecting/reusing the
backend/connection (in blocking mode still).
To address the issue regarding the retry (ping) loop and the
{header,input/prefetch}_brigade being consumed on the first try:
- the header brigade can be rebuilt when ping request is retried (by
calling ap_proxy_create_hdrbrgd() again, as before r1656259),
- this is not the case for the input/prefetch brigade (which was also
buggy before r1656259), since we don't want to preventively set it
aside (that was discussed in a previous thread IIRC).

Hence we need to the ability to send the header first, check for
success and continue with the body, or retry with another connection
(and keep the body for it).
To acheive that, we could split stream_reqbody_{cl,chunked}() in two,
the existing ones for the body only, and the new
send_reqhdr_{cl,chunked}() for the header (note that
spool_reqbody_cl() is called during prefetch, so we only need to make
it provide two separate header and input brigades which we can
ap_proxy_pass_brigade() at any time).
Then, once the body is prefetched, the backend is reused/connected, we
could first send the header and either stream/pass the body immediatly
(no ping configured), or go with ap_proxy_http_process_response()
which will stream/pass it once the 100-continue is received, or fail
(and be retried once).

Note that this also allows for end-to-end 100-continue, since we could
forward the 100-continue to the client before streaming its body (no
need to prefetch at all if the client expects 100-continue!).

I agree that this could be done either with prefetch done before or
after connecting/reusing the backend, but since before is (much) less
racy wrt backend and the above can possibly avoid the cons, I'd prefer
to keep it.

I'm almost done with these changes and will propose a patch soon,
thoughts/showstoppers?

From dev-return-82518-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 30 04:55:03 2015
Return-Path: <dev-return-82518-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ABA2D187FF
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 30 Apr 2015 04:55:03 +0000 (UTC)
Received: (qmail 95447 invoked by uid 500); 30 Apr 2015 04:55:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 95367 invoked by uid 500); 30 Apr 2015 04:55:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 95357 invoked by uid 99); 30 Apr 2015 04:55:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Apr 2015 04:55:03 +0000
X-ASF-Spam-Status: No, hits=0.9 required=5.0
	tests=SPF_FAIL
X-Spam-Check-By: apache.org
Received-SPF: error (athena.apache.org: encountered temporary error during SPF processing of domain of apache-lists@riggs.me)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Apr 2015 04:54:55 +0000
Received: from mail-ie0-f175.google.com (mail-ie0-f175.google.com [209.85.223.175])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 92F5E24F15
	for <dev@httpd.apache.org>; Thu, 30 Apr 2015 04:54:15 +0000 (UTC)
Received: by iejt8 with SMTP id t8so58923263iej.2
        for <dev@httpd.apache.org>; Wed, 29 Apr 2015 21:54:14 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:from:content-type:content-transfer-encoding
         :subject:date:message-id:cc:to:mime-version;
        bh=dTC6x0+HPmAVVIrPopNtKAN2hvSrFz/qgVoQufqkIXI=;
        b=UA/xuKvHWWlbxmAv4vWGiY+Gu0jyn/zk8mRkuKYKkqAH+5ztPI9wEGfMrofWVjEGY9
         8S5aL6Ft1eoKy03VzOCfJ3oPImat19u2sA0nmg5FMwyJfJhlr21bSy24qqd9+ZzCnZAa
         61Nb3del0jj7FO+M0jKzXohi0ijNMQuv4lMcsheSSzJKY8Uz3OkDWty0Wf/aPOm0b0dw
         raVdJGGl0b1GjdWYzmXfwPw45ZzfOvMWQ1JSVv1z4xWyvEno9OxCNVfl8/vDes6wAxAG
         XAlcP6p2jwyiw0wZtnK2KBIhbBhL0W0ITXyQL6U4r+PyCoJUXIqS6EBSmt2a/FobD6N6
         9Syw==
X-Gm-Message-State: ALoCoQlduvqGxpgXDdke9rT3bNXu3GK2hQKrg00UVJmfq/eLM5HywMnv63xnFrJDQskDaabE5VgQ
X-Received: by 10.107.168.79 with SMTP id r76mr3105239ioe.47.1430369654739;
        Wed, 29 Apr 2015 21:54:14 -0700 (PDT)
Received: from [192.168.1.204] ([66.128.242.158])
        by mx.google.com with ESMTPSA id a139sm859197ioa.14.2015.04.29.21.54.12
        (version=TLSv1 cipher=ECDHE-RSA-RC4-SHA bits=128/128);
        Wed, 29 Apr 2015 21:54:13 -0700 (PDT)
From: Jim Riggs <apache-lists@riggs.me>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: Proposal/RFC: "informed" load balancing
Date: Wed, 29 Apr 2015 23:54:11 -0500
Message-Id: <A0E62C83-AF24-4246-88AF-E34CC2A6FA6F@riggs.me>
Cc: Jim Jagielski <jim@jaguNET.com>,
 Eric Covener <covener@gmail.com>,
 Jeff Trawick <trawick@gmail.com>,
 Daniel Ruggeri <DRuggeri@primary.net>
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org

[ Long message and proposal follows. Bear with me. There are a lot of =
words, but that is because we need a lot of help/input! ;-) ]

So, this has come up in the past several times, and we discussed it =
again this year at ApacheCon: How do we get the load balancer to make =
smarter, more informed decisions about where to send traffic?

The different LB methods provide some different attempts at balancing =
traffic, but ultimately none of them is "smart" about its decision. =
Other than a member being in error state, the balancer makes its =
decision solely based on configuration (LB set, factor, etc.) and its =
own knowledge of the member (e.g. requests, bytes). What we have often =
discussed is a way to get some type of health/load/capacity information =
from the backend to make informed balancing decisions.

One method is to use health checks (a la haproxy, AWS ELBs, etc.) that =
request one or more URLs and the response code/time indicates whether or =
not the service is up and available, allowing more proactive decisions. =
While this is better than our current state of reactively marking =
members in error state based on failed requests, it still provides a =
limited view of the health/state of the backend.

We have also discussed implementing a way for backends to communicate a =
magical "load" number to the front end to take into account as it =
balances traffic. This would give a much better view into the backend's =
state, but requires some way to come up with this calculation that each =
backend system/server/service/app must provide. This then has to be =
implemented in all the various backends (e.g. httpd, tomcat, php-fpm, =
unicorn, mongrel, etc., etc.), probably a hard sell to all of those =
projects. And, the front end would have limited control over what that =
number means or how to use it.

During JimJag's balancer talk at ApacheCon this year, he brought up this =
issue of "better, more informed" decision making again. I put some =
thought into it that night and came up with some ideas. Jim, Covener, =
Trawick, Ruggeri, and I then spent some time over the next couple of =
days talking it through and fleshing out some of the details.

Based on all of that, below is what I am proposing. I have some initial =
code that I am working on to implement the different pieces of this, and =
I will put them up in bugz or somewhere when they're a little less =
rudimentary.

--

Our hope is to create a general standard that can be used by various =
projects, products, proxies, servers, etc., to have a more consistent =
way for a load balancer to request and receive useful internal state =
information from its backend nodes. This information can then be used by =
the *frontend* software/admin (this is the main change from what we have =
discussed before) to calculate a load factor appropriate for each =
backend node.

This communication uses a new, standard HTTP header, "X-Backend-Info", =
that takes this form in RFC2616 BNF:

    backend-info  =3D "version" "=3D" numeric-entry
                    [
                      *LWS "," *LWS
                      #( numeric-entry | string-entry )
                    ]

    numeric-entry =3D numeric-field "=3D" ( float | <"> float <"> )
                    ; that is, numbers may optionally be enclosed in
                    ; quotation marks

    float         =3D 1*DIGIT [ "." 1*DIGIT ]

    numeric-field =3D "workers-max"
                    ; maximum number of workers the backend supports
                  | "workers-used"
                    ; current number of used/busy workers
                  | "workers-allocated"
                    ; current number of allocated/ready workers
                  | "workers-free"
                    ; current number of workers available for use
                    ; (generally the difference between workers-max and
                    ; workers-used, though some implementations may have
                    ; a different notion)
                  | "uptime"
                    ; number of seconds the backend has been running
                  | "requests"
                    ; number of requests the backend has processed
                  | "memory-max"
                    ; total amount of memory available in bytes
                  | "memory-used"
                    ; amount of used memory in bytes
                  | "memory-allocated"
                    ; amount of allocated/committed memory in bytes
                  | "memory-free"
                    ; amount of memory available for use (generally
                    ; the difference between memory-max and memory-used,
                    ; though some implementations may have a different
                    ; notion)
                  | "load-current"
                    ; the (subjective) current load for the backend
                  | "load-5"
                    ; the (subjective) 5-minute load for the backend
                  | "load-15"
                    ; the (subjective) 15-minute load for the backend

    string-entry  =3D string-field "=3D" ( token | quoted-string )

    string-field  =3D "provider"
                    ; informational description of backend information
                    ; provider (module, container, subsystem, app, etc.)


As used here, "worker" is an overloaded term whose precise meaning is =
backend-dependent. It might refer to processes, threads, pipelines, or =
whatever the backend system/server/service/app uses to measure or limit =
its number of active, processing connections.

The process-flow looks like this:

1. The frontend (periodically based on time or requests, or on demand) =
as part of either (1) a normal proxied request or (2) a dedicated health =
check adds an "X-Backend-Info" request header to a backend request, =
informing the backend that it wants node state information. I.e.:

    X-Backend-Info: version=3D1.0

2. The backend node receives a request with an "X-Backend-Info" header =
specifying a version it supports.

3. A supporting backend node SHOULD insert one or more "X-Backend-Info" =
response headers with any subset of the backend-info fields that it =
supports, including the required "version" field. The version of =
information provided MUST be less than or equal to the version =
requested. (The fields are standardized so that various frontends know =
what to expect, rather than each backend system/server/service/app =
creating its own fields/values.) E.g.:

    X-Backend-Info: version=3D1.0, provider=3D"Backend X", =
workers-max=3D1000,
                    workers-used=3D517, workers-free=3D483, =
uptime=3D19234,
                    requests=3D85939

4. The backend MUST add the "X-Backend-Info" token to the "Connection" =
response header, making it a hop-by-hop field that is removed by the =
frontend from the downstream response (RFC2616 14.10 and RFC7230 6.1). =
[Note there appears to be an httpd bug here that I intend to submit and =
that needs to be addressed.]

    Connection: X-Backend-Info

5. The frontend parses the backend-info entries in the received =
"X-Backend-Info" response header. The values are then used as part of =
either an internal or an administrator-specified calculation to =
determine the load factor or weight of that node for subsequent =
requests.

6. The frontend MUST remove the "X-Backend-Info" hop-to-hop response =
header per RFCs.

--

As for httpd implementation, this has two pieces. The first is when =
httpd is used as a backend node behind a load balancer and must provide =
X-Backend-Info response data. For this, I have created a module =
tentatively named mod_proxy_backend_info that does nothing except insert =
an output filter to populate the response header with version, provider, =
workers-*, request, uptime, and load-* values when the request header is =
present. Here is an example request-response:

% curl -v -H 'X-Backend-Info: version=3D1.0' http://localhost/
*   Trying 127.0.0.1...
* Connected to localhost (127.0.0.1) port 80 (#0)
> GET / HTTP/1.1
> User-Agent: curl/7.41.0
> Host: localhost
> Accept: */*
> X-Backend-Info: version=3D1.0
>
< HTTP/1.1 200 OK
< Date: Thu, 30 Apr 2015 04:32:08 GMT
< Server: Apache/2.4.9 (Unix) PHP/5.5.14
< Last-Modified: Wed, 15 Apr 2015 14:04:54 GMT
< ETag: "2d-513c3d4d78d80"
< Accept-Ranges: bytes
< Content-Length: 45
< X-Backend-Info: version=3D1.0, provider=3D"mod_proxy_backend_info =
[Apache/2.4.9 (Unix) PHP/5.5.14]", workers-max=3D256, workers-busy=3D1, =
workers-ready=3D4, workers-free=3D255, uptime=3D1448, requests=3D3, =
load-current=3D1.737305, load-5=3D1.733887, load-15=3D1.668457
< Connection: X-Backend-Info
< Content-Type: text/html
<
<html><body><h1>It works!</h1></body></html>


The second piece is when httpd is used as the load balancer. For this, I =
have created a module tentatively named mod_lbmethod_bybackendinfo that =
will:

1. Periodically (based on elapsed time, number of requests, or both =
since last update) insert the X-Backend-Info request header into a =
proxied request.

2. Parse and remove the X-Backend-Info response header.

3. Calculate the member's "informed" load factor based on a formula =
specified by the user/admin in the configuration. I hope to just use the =
existing lbfactor field to store this calculated value. Then we can use =
existing logic to balance based on lbset and lbfactor for subsequent =
requests.

4. Store the current time and request count in the member's data =
structure so the lbmethod knows when it needs to be updated again.


What I need from all of you:

- Input/commentary on the proposed idea, approach, and implementation. =
Renaming things, additional fields that might be useful, etc., are all =
up for discussion.

- Help with handling the configuration formula mentioned in #3 above. =
Can we just add some math operators to the expression parser to handle =
this? What all operations/functions might we need (+-*/? max? min? =
ternary if-then-else? ...)? A simple-ish example (something like this =
maybe?):

<Proxy "balancer://...">
  BalancerMember ...
  ...
  ProxySet \
    lbmethod=3Dbybackendinfo \
    backendupdateseconds=3D30 \
    backendupdaterequests=3D100 \
    backendformula=3D"%{BACKEND:uptime} -lt 120 ? 1 : =
%{BACKEND:workers-free} / %{BACKEND:workers-max} * 100"
</Proxy>

- [Near-long-term] Help adding X-Backend-Info backend support and =
documentation to various projects. Tomcat, php-fpm, others(?) should be =
fairly easy to implement and submit patches. This work does us no good =
if none of our backends support it.

- [Long-term] Help adding X-Backend-Info frontend support and =
documentation to various projects to help this become an "accepted =
ad-hoc standard"...or something like that. Nginx, haproxy, and many =
others would be targets.


Warn out from writing all of this and hopeful that someone other than me =
actually cares, I wish you all well today/tonight!

- Jim


From dev-return-82519-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 30 07:26:07 2015
Return-Path: <dev-return-82519-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6D45C18E04
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 30 Apr 2015 07:26:07 +0000 (UTC)
Received: (qmail 18758 invoked by uid 500); 30 Apr 2015 07:26:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18690 invoked by uid 500); 30 Apr 2015 07:26:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18680 invoked by uid 99); 30 Apr 2015 07:26:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Apr 2015 07:26:06 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.164.171.186 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.164.171.186] (HELO mx1-us-east.apache.org) (54.164.171.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Apr 2015 07:26:01 +0000
Received: from nebula.c8h10n4o2.org.uk (nebula.c8h10n4o2.org.uk [80.68.88.207])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id EF04E43C8F
	for <dev@httpd.apache.org>; Thu, 30 Apr 2015 07:25:40 +0000 (UTC)
Received: from 7.f.5.3.f.f.1.7.3.2.0.8.0.2.d.c.1.0.0.0.e.e.a.c.0.b.8.0.1.0.0.2.ip6.arpa ([2001:8b0:caee:1:cd20:8023:71ff:35f7])
	by nebula.c8h10n4o2.org.uk with esmtpsa (TLS1.2:ECDHE_RSA_AES_256_CBC_SHA1:256)
	(Exim 4.84)
	(envelope-from <isoma@c8h10n4o2.org.uk>)
	id 1Ynipg-0003b3-Bd
	for dev@httpd.apache.org; Thu, 30 Apr 2015 08:24:28 +0100
User-Agent: K-9 Mail for Android
In-Reply-To: <58DB6373-C05C-423D-917B-C096305EFDFC@riggs.me>
References: <465C40FA-E0DB-4372-9E8C-EBD4A79F7052@jaguNET.com> <E26D55C0-D91F-432D-8DB7-A9D09D7BBE87@sharp.fm> <58DB6373-C05C-423D-917B-C096305EFDFC@riggs.me>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Content-Type: text/plain;
 charset=UTF-8
Subject: Re: Listen on UDS
From: Tim Bannister <isoma@c8h10n4o2.org.uk>
Date: Thu, 30 Apr 2015 07:24:25 +0000
To: dev@httpd.apache.org
Message-ID: <FC51D9C6-6998-4D32-91B9-04D8B569816A@c8h10n4o2.org.uk>
X-Virus-Checked: Checked by ClamAV on apache.org

I'd been musing, coincidentally, about being able to run httpd as a FastCGI.

The motivation for this is a packaged webapp - Wordpress, say - that includes .htaccess files in the deployed package.
Having the genuine Apache httpd able to serve the application and apply .htaccess restrictions would be a boon, even if the daemon listening on port 443 is different.

-- 
Tim Bannister  isoma@c8h10n4o2.org.uk

From dev-return-82520-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 30 12:43:04 2015
Return-Path: <dev-return-82520-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D409817263
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 30 Apr 2015 12:43:04 +0000 (UTC)
Received: (qmail 41706 invoked by uid 500); 30 Apr 2015 12:43:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 41643 invoked by uid 500); 30 Apr 2015 12:43:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 41632 invoked by uid 99); 30 Apr 2015 12:43:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Apr 2015 12:43:04 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Apr 2015 12:42:59 +0000
Received: from mail-yh0-f68.google.com (mail-yh0-f68.google.com [209.85.213.68])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 2110E2143A
	for <dev@httpd.apache.org>; Thu, 30 Apr 2015 12:42:38 +0000 (UTC)
Received: by yhzz6 with SMTP id z6so1012776yhz.0
        for <dev@httpd.apache.org>; Thu, 30 Apr 2015 05:42:31 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:from:content-type:message-id:mime-version
         :subject:date:references:to:in-reply-to;
        bh=f7NldAAwRCXK44y9VKCtwcSu/tWsQPYPE+K2pU2ttMA=;
        b=iyi2w3AvY6wh8U8Fjmw1tqhpwo+VgGZI9Ya3Xv3EX5Q7kGh18rBWNfwhuk5Si6mynR
         KB1uem1HgZ7UDprAOmwyaUUgmauoPJ013pS9ks+bv9Zf3W4RtqTbJG4lNoVWpyZOPJ8C
         FtXpFos7XCgjVrVLwvVglzpcr6JjMCACxJy1wg0/RO/boXIoj3nx2z/h5txttgEsGYa4
         B1qlBJbnzW2yU+9IMk5mzZSekqJb5TdVVCgb3JY5KEbTmuLobfwyvc5F6AX9ek2+Xlo6
         r2agPruTA72UkYmxr0xNdxpSXXxi8Gf/GYVSIHazzum1tkAM+idxeiZ71ZhGeZXwoOI3
         JFmA==
X-Gm-Message-State: ALoCoQk0VWnFmVYtISGDzpVWafI0YACXMcxiO8G/oxgb12Hw/lJXJj/Ydk466bYGVwyoFar7JaHv
X-Received: by 10.236.19.13 with SMTP id m13mr3122197yhm.15.1430397751815;
        Thu, 30 Apr 2015 05:42:31 -0700 (PDT)
Received: from jhriggs.office.rusticisoftware.com ([50.252.68.50])
        by mx.google.com with ESMTPSA id g46sm1984306yhd.42.2015.04.30.05.42.29
        for <dev@httpd.apache.org>
        (version=TLSv1 cipher=ECDHE-RSA-RC4-SHA bits=128/128);
        Thu, 30 Apr 2015 05:42:30 -0700 (PDT)
From: Jim Riggs <apache-lists@riggs.me>
Content-Type: multipart/alternative; boundary="Apple-Mail=_6E2AF900-27C0-47FC-A449-38BCE5694877"
Message-Id: <FA31E0F4-7B76-44A5-9C25-107C6DEF9381@riggs.me>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: Proposal/RFC: "informed" load balancing
Date: Thu, 30 Apr 2015 07:42:29 -0500
References: <A0E62C83-AF24-4246-88AF-E34CC2A6FA6F@riggs.me>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
In-Reply-To: <A0E62C83-AF24-4246-88AF-E34CC2A6FA6F@riggs.me>
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org


--Apple-Mail=_6E2AF900-27C0-47FC-A449-38BCE5694877
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=us-ascii

On Wednesday, April 29, 2015, Jim Riggs <apache-lists@riggs.me =
<mailto:apache-lists@riggs.me>> wrote:
Warn out from writing all of this and hopeful that someone other than me =
actually cares, I wish you all well today/tonight!

 *Worn* out, even! Boy, I was tired!


--Apple-Mail=_6E2AF900-27C0-47FC-A449-38BCE5694877
Content-Transfer-Encoding: 7bit
Content-Type: text/html;
	charset=us-ascii

<html><head><meta http-equiv="Content-Type" content="text/html charset=us-ascii"></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" class="">On Wednesday, April 29, 2015, Jim Riggs &lt;<a href="mailto:apache-lists@riggs.me" class="">apache-lists@riggs.me</a>&gt; wrote:<br class=""><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Warn out from writing all of this and hopeful that someone other than me actually cares, I wish you all well today/tonight!<br class=""></blockquote><div class=""><br class=""></div><div class="">&nbsp;*Worn* out, even! Boy, I was tired!</div><div class=""><br class=""></div>
</body></html>
--Apple-Mail=_6E2AF900-27C0-47FC-A449-38BCE5694877--

From dev-return-82521-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 30 12:59:13 2015
Return-Path: <dev-return-82521-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 42D0C172F8
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 30 Apr 2015 12:59:13 +0000 (UTC)
Received: (qmail 69354 invoked by uid 500); 30 Apr 2015 12:59:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 69291 invoked by uid 500); 30 Apr 2015 12:59:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 69281 invoked by uid 99); 30 Apr 2015 12:59:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Apr 2015 12:59:12 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Apr 2015 12:59:07 +0000
Received: from mail-yh0-f44.google.com (mail-yh0-f44.google.com [209.85.213.44])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id E656F2620A
	for <dev@httpd.apache.org>; Thu, 30 Apr 2015 12:58:46 +0000 (UTC)
Received: by yhcb70 with SMTP id b70so12835523yhc.0
        for <dev@httpd.apache.org>; Thu, 30 Apr 2015 05:57:55 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:content-type:mime-version:subject:from
         :in-reply-to:date:content-transfer-encoding:message-id:references:to;
        bh=CSkekE2tI9Jk8WAnqkP1TLYKURtTmZaPXz00p5tsIBA=;
        b=EcwKrhG96cqdvBqOUTpH1jxurPcnPwoLsgfdMLWaLDP0gPRwR+KZ/vbeo8VVJhzF14
         9ePo2ovaUMFw3Nu8eYFEExHJfVkbU0RpUo87oiOW3NBvWfjumOokqb5/v5dfpmwRtkiP
         M2sKyugmHdLRZeQiDMMUd469Hl+hRshhsiwk0PrT0kOaMXt86wZTIT0P52t5n4GKa15s
         WJHwDT0Nop+ms4e+8VacgoZUZ6lr71ltEF4b6YdcBgI7qmczV6oNzEx7QX+jL4G2JZFF
         VKAIgJZvo78f60hISS7Yjh9bXabBTG+K0GWw3XupwPI8/fT95ihGlA7mEFpVq6NHxIVl
         E12g==
X-Gm-Message-State: ALoCoQmEVcKhdxdwdajQnEXyr5+wJXYEBmyrOWUIJX+Nu8vdMoy/rZ1Bz9c9i2fvOr+n2wLjEX9D
X-Received: by 10.170.194.9 with SMTP id l9mr3580869yke.28.1430398675150;
        Thu, 30 Apr 2015 05:57:55 -0700 (PDT)
Received: from jhriggs.office.rusticisoftware.com ([50.252.68.50])
        by mx.google.com with ESMTPSA id a11sm2032941yha.15.2015.04.30.05.57.53
        for <dev@httpd.apache.org>
        (version=TLSv1 cipher=ECDHE-RSA-RC4-SHA bits=128/128);
        Thu, 30 Apr 2015 05:57:53 -0700 (PDT)
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2070.6\))
Subject: Re: *Match, RewriteRule POLA violation?
From: Jim Riggs <apache-lists@riggs.me>
In-Reply-To: <CAKQ1sVNAsWvjhow=5FMY7Q3aQY2_9w5xcz+aV7QdjtpMC17jbg@mail.gmail.com>
Date: Thu, 30 Apr 2015 07:57:52 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <6954384F-97E6-4590-A89D-6BE0B633FFE3@riggs.me>
References: <CB72B91C-7F3D-4C34-81C3-108EB323EA94@riggs.me> <CAKQ1sVNAsWvjhow=5FMY7Q3aQY2_9w5xcz+aV7QdjtpMC17jbg@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2070.6)
X-Virus-Checked: Checked by ClamAV on apache.org

> On 28 Apr 2015, at 17:55, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>=20
> It seems that while <Location> is compared to ap_no2slash(r->uri),
> <LocationMatch> is matched against r->uri directly.
> That's probably the "issue".
>=20
> A possible fix (untested) could be:
>=20
> Index: server/request.c
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> --- server/request.c    (revision 1674695)
> +++ server/request.c    (working copy)
> @@ -1446,7 +1446,7 @@
>                     pmatch =3D apr_palloc(rxpool, =
nmatch*sizeof(ap_regmatch_t));
>                 }
>=20
> -                if (ap_regexec(entry_core->r, r->uri, nmatch, pmatch, =
0)) {
> +                if (ap_regexec(entry_core->r, entry_uri, nmatch, =
pmatch, 0)) {
>                     continue;
>                 }
>=20
> @@ -1456,7 +1456,7 @@
>                         apr_table_setn(r->subprocess_env,
>                                        ((const char
> **)entry_core->refs->elts)[i],
>                                        apr_pstrndup(r->pool,
> -                                       r->uri + pmatch[i].rm_so,
> +                                       entry_uri + pmatch[i].rm_so,
>                                        pmatch[i].rm_eo - =
pmatch[i].rm_so));
>                     }
>                 }

Thanks, Yann. I remember looking at this code before. The question =
remains, though: Is it currently "wrong"? Does it need to be "fixed", or =
was this distinction made intentionally? Is there a specific use case =
that requires the regex-matching directives to not get slash-normalized =
URIs?


> On Mon, Apr 27, 2015 at 10:52 PM, Jim Riggs <apache-lists@riggs.me> =
wrote:
>> This came up at ApacheCon a couple of weeks ago. I just took this =
knowledge for granted, as I have always accounted for it, but both Rich =
and Trawick were surprised. As I thought about it some more, it seems =
this may be a POLA violation. Thoughts? If we agree it should be fixed, =
I can make the bugz and make a patch.
>>=20
>> Consider:
>>=20
>> <Location "/slash/foo">
>> ...
>> </Location>
>>=20
>> vs.
>>=20
>> <LocationMatch "^/slash/foo">
>> ...
>> </LocationMatch>
>>=20
>>=20
>> These do not behave the same if multiple slashes are used. The =
leading slashes are always coalesced, so "^/..." is fine; however, any =
intermediate slashes are not. So, in order for the LocationMatch =
directive above to behave the same as the Location, it has to be =
specified as "^/slash/+foo". Like I said, I have always accounted for =
this in my regexps, but it doesn't seem "right". Should the URL be =
normalized before being passed to regex-matching directives, or is there =
a specific reason that is not done?
>>=20
>> +-------------------+--------------+--------------+--------------+
>> | Path              |   Non-Regex  |    *Match,   |    *Match,   |
>> |                   |  Directive:  | RewriteRule: | RewriteRule: |
>> |                   |  /slash/foo  |  ^/slash/foo | ^/slash/+foo |
>> +-------------------+--------------+--------------+--------------+
>> | /slash/foo        |     Match    |     Match    |     Match    |
>> +-------------------+--------------+--------------+--------------+
>> | ////slash/foo     |     Match    |     Match    |     Match    |
>> +-------------------+--------------+--------------+--------------+
>> | /slash///foo      |     Match    |      XXX     |     Match    |
>> +-------------------+--------------+--------------+--------------+
>> | ////slash///foo// |     Match    |      XXX     |     Match    |
>> +-------------------+--------------+--------------+--------------+
>>=20


From dev-return-82522-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 30 13:26:55 2015
Return-Path: <dev-return-82522-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8132D17448
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 30 Apr 2015 13:26:55 +0000 (UTC)
Received: (qmail 28275 invoked by uid 500); 30 Apr 2015 13:26:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28194 invoked by uid 500); 30 Apr 2015 13:26:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28184 invoked by uid 99); 30 Apr 2015 13:26:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Apr 2015 13:26:55 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Apr 2015 13:26:50 +0000
Received: from mail-ig0-f177.google.com (mail-ig0-f177.google.com [209.85.213.177])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 6C9402728F
	for <dev@httpd.apache.org>; Thu, 30 Apr 2015 13:17:06 +0000 (UTC)
Received: by igbyr2 with SMTP id yr2so12570896igb.0
        for <dev@httpd.apache.org>; Thu, 30 Apr 2015 06:17:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=s8FpVryKX+p3lQKJQFXMyVipnlMKZ0iU5qXfuepwDxc=;
        b=B2jmrK0+obVIlWHUuRmK5eihCclOZTAQjpXRGKvhQWfRqOkeQ8eEHVZVaTf4dsU3Fa
         mGcsYscMarR2MTO/5Tjr7eeEjUH7kwYXWSMA5ovqt+farL27SOaSFMMs5IzS4belz2CC
         iC4F2G6Zip7IXHMkA+bea8BhJAy8yz7KdMXAJisH28YiMZDFNJ4qq7MelVTl53f4WFxs
         k3ro+zxBJ5YGI2jQwjbVdsEPfom1FjQy/Kr/GIzR3oIWhJAm7OpFciwjmEZVJuW0l8rG
         xhKpGM96hAeB5rDzRC7QVrBN/ibYm3iMkfDF1sdvranwRAVyNakX/w/jM6IKg3QJ6GfU
         WmOw==
MIME-Version: 1.0
X-Received: by 10.42.176.70 with SMTP id bd6mr8963893icb.52.1430399820003;
 Thu, 30 Apr 2015 06:17:00 -0700 (PDT)
Received: by 10.79.71.4 with HTTP; Thu, 30 Apr 2015 06:16:59 -0700 (PDT)
In-Reply-To: <6954384F-97E6-4590-A89D-6BE0B633FFE3@riggs.me>
References: <CB72B91C-7F3D-4C34-81C3-108EB323EA94@riggs.me>
	<CAKQ1sVNAsWvjhow=5FMY7Q3aQY2_9w5xcz+aV7QdjtpMC17jbg@mail.gmail.com>
	<6954384F-97E6-4590-A89D-6BE0B633FFE3@riggs.me>
Date: Thu, 30 Apr 2015 15:16:59 +0200
Message-ID: <CAKQ1sVN8BZ_x-3-z7bj72Y+0v1jq0_nahV9cSB=XAMESF5NaOg@mail.gmail.com>
Subject: Re: *Match, RewriteRule POLA violation?
From: Yann Ylavic <ylavic.dev@gmail.com>
To: httpd <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Apr 30, 2015 at 2:57 PM, Jim Riggs <apache-lists@riggs.me> wrote:
>
> Thanks, Yann. I remember looking at this code before. The question remains, though: Is it currently "wrong"?
> Does it need to be "fixed", or was this distinction made intentionally?
> Is there a specific use case that requires the regex-matching directives to not get slash-normalized URIs?

I would like it to be fixed, non leading "/+" is equivalent to "/",
this would break very few (if any) cases IMHO, and may even unbreak
more ones .

From dev-return-82523-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 30 21:53:20 2015
Return-Path: <dev-return-82523-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 81AF31878A
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 30 Apr 2015 21:53:20 +0000 (UTC)
Received: (qmail 84599 invoked by uid 500); 30 Apr 2015 21:53:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84519 invoked by uid 500); 30 Apr 2015 21:53:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84508 invoked by uid 99); 30 Apr 2015 21:53:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Apr 2015 21:53:20 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: message received from 54.191.145.13 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.191.145.13] (HELO mx1-us-west.apache.org) (54.191.145.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Apr 2015 21:53:15 +0000
Received: from mail-ig0-f178.google.com (mail-ig0-f178.google.com [209.85.213.178])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id CECEE24FF9
	for <dev@httpd.apache.org>; Thu, 30 Apr 2015 21:52:54 +0000 (UTC)
Received: by igblo3 with SMTP id lo3so25499023igb.0
        for <dev@httpd.apache.org>; Thu, 30 Apr 2015 14:52:47 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=8LsbtK2GfL0YvZ5r2bKpOMgd/B96BByaD3QUz6v8DH0=;
        b=K5vbFd7qpKR4dvsU9+VRGfh47zmWkn6+eCNxbtb51EEFlbP47Oc9sS4bCq9O1vA7W1
         rD6zY3p2G+nLrLpWAKVsWNuvHDCiZFOGD6XBZKo0M8YcG/4kUVnjrxNB5nns5ZozJhuv
         bIa125d+aLDhfzbeckCh4rpXuOe9PuT57c745xH0JrVy00Sl9N7t6+pN53JWeznUx4BR
         4BtRfzZjGArJRmsH4lVs16uNtx9FQ6PC5nZ4CvYwiS0SZMSJ384Z0O1DunMu8CTrEpt3
         aALeMlYiEXL84YanDOyAiWFzOvQqIxPJ6iHoJ6uXmAWexATqVyRrl/2U0K7O+IzPHlgR
         pppw==
X-Gm-Message-State: ALoCoQmtdTBV7u/LqrZbPQtq4sSTl0KuKT+weJKhvV6ERPgcCzZQk837BlgluPl6q81a7IW6I8Dg
MIME-Version: 1.0
X-Received: by 10.42.48.203 with SMTP id t11mr11637851icf.35.1430430767800;
 Thu, 30 Apr 2015 14:52:47 -0700 (PDT)
Received: by 10.107.136.17 with HTTP; Thu, 30 Apr 2015 14:52:47 -0700 (PDT)
X-Originating-IP: [2602:304:cfc7:480:222:15ff:fe0d:e6f8]
Date: Thu, 30 Apr 2015 16:52:47 -0500
Message-ID: <CACsi250CPCr5khrVdk6+yp_oJzc=7H2nXatOV3jnxSKz_4jRwQ@mail.gmail.com>
Subject: Looking ahead to 2.4.13 / 2.2.30
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=90e6ba613b90ca7e010514f81d70
X-Virus-Checked: Checked by ClamAV on apache.org

--90e6ba613b90ca7e010514f81d70
Content-Type: text/plain; charset=UTF-8

On Thu, Apr 2, 2015 at 4:46 PM, William A. Rowe Jr. <wrowe@rowe-clan.net>
wrote:

> On Tue, 31 Mar 2015 10:49:47 -0400
> Jim Jagielski <jim@jaguNET.com> wrote:
>
> > BTW: Would it make sense to consider a release of 2.4.13 in April
> > to coincide w/ ApacheCon?
>
> We've historically produced a release at the beginning of the con.
> It worked really well when we would hackathon two days, then retire
> to do other con stuff for the balance of the event with a new
> release in the hopper looking for votes.
>
> I'd love to see us tag and roll releases based on our efforts
> throughout the entire gathering, sometime in that following week.
> I offer to T&R an update of 2.2 as well to pick up any issues we
> resolve over the course of that week.
>

It seems that we have 2 groups of good things to come out of ApacheCon,
some immediate fixes for things like BSD project efforts, some pretty
straightforward defects that have been resolved... and then there's a bunch
of energy about enhancements and the h2 universe.

In the short term, WDYT about giving the trees a week to settle, grab the
low hanging fruit and move forward for 2.4.13 and 2.2.30 end of this coming
week?  Guessing Jim's up for RM'ing 2.4.13, and I'm happy to T&R 2.2.30
in tandem.

Concerns / observations / thoughts?

Bill

--90e6ba613b90ca7e010514f81d70
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
hu, Apr 2, 2015 at 4:46 PM, William A. Rowe Jr. <span dir=3D"ltr">&lt;<a hr=
ef=3D"mailto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>=
&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0=
 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">On Tue, 31 Mar 2015 10=
:49:47 -0400<br>
Jim Jagielski &lt;jim@jaguNET.com&gt; wrote:<br>
<br>&gt; BTW: Would it make sense to consider a release of 2.4.13 in April<=
br>
&gt; to coincide w/ ApacheCon?<br>
<br>
We&#39;ve historically produced a release at the beginning of the con.<br>
It worked really well when we would hackathon two days, then retire<br>
to do other con stuff for the balance of the event with a new<br>
release in the hopper looking for votes.<br>
<br>
I&#39;d love to see us tag and roll releases based on our efforts<br>
throughout the entire gathering, sometime in that following week.<br>
I offer to T&amp;R an update of 2.2 as well to pick up any issues we<br>
resolve over the course of that week.<br></blockquote><div><br></div><div>I=
t seems that we have 2 groups of good things to come out of ApacheCon,</div=
><div>some immediate fixes for things like BSD project efforts, some pretty=
</div><div>straightforward defects that have been resolved... and then ther=
e&#39;s a bunch</div><div>of energy about enhancements and the h2 universe.=
</div><div><br></div><div>In the short term, WDYT about giving the trees a =
week to settle, grab the</div><div>low hanging fruit and move forward for 2=
.4.13 and 2.2.30 end of this coming</div><div>week?=C2=A0 Guessing Jim&#39;=
s up for RM&#39;ing 2.4.13, and I&#39;m happy to T&amp;R 2.2.30=C2=A0</div>=
<div>in tandem.</div><div><br></div><div>Concerns / observations / thoughts=
?</div><div><br></div><div>Bill</div></div></div></div>

--90e6ba613b90ca7e010514f81d70--

From dev-return-82524-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Apr 30 23:56:08 2015
Return-Path: <dev-return-82524-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9970418C99
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 30 Apr 2015 23:56:08 +0000 (UTC)
Received: (qmail 66463 invoked by uid 500); 30 Apr 2015 23:56:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 66382 invoked by uid 500); 30 Apr 2015 23:56:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 66372 invoked by uid 99); 30 Apr 2015 23:56:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Apr 2015 23:56:08 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: message received from 54.76.25.247 which is an MX secondary for dev@httpd.apache.org)
Received: from [54.76.25.247] (HELO mx1-eu-west.apache.org) (54.76.25.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Apr 2015 23:55:42 +0000
Received: from s2.mail.rcig.net (s2.mail.rcig.net [216.87.38.202])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id E64BD2D1AE
	for <dev@httpd.apache.org>; Thu, 30 Apr 2015 23:55:40 +0000 (UTC)
Received: from 23-117-14-203.lightspeed.stlsmo.sbcglobal.net ([23.117.14.203]:5152 helo=[192.168.0.2])
	by s2.mail.rcig.net with esmtpa (Exim 4.72)
	(envelope-from <DRuggeri@primary.net>)
	id 1YnyIl-0004KO-SV
	for dev@httpd.apache.org; Thu, 30 Apr 2015 18:55:33 -0500
Message-ID: <5542C0EC.7070507@primary.net>
Date: Thu, 30 Apr 2015 18:55:24 -0500
From: Daniel Ruggeri <DRuggeri@primary.net>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: *Match, RewriteRule POLA violation?
References: <CB72B91C-7F3D-4C34-81C3-108EB323EA94@riggs.me>	<CAKQ1sVNAsWvjhow=5FMY7Q3aQY2_9w5xcz+aV7QdjtpMC17jbg@mail.gmail.com>	<6954384F-97E6-4590-A89D-6BE0B633FFE3@riggs.me> <CAKQ1sVN8BZ_x-3-z7bj72Y+0v1jq0_nahV9cSB=XAMESF5NaOg@mail.gmail.com>
In-Reply-To: <CAKQ1sVN8BZ_x-3-z7bj72Y+0v1jq0_nahV9cSB=XAMESF5NaOg@mail.gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-ACL-Warn: X-The email account used to send this email was: druggeri@primary.net
X-Spam-Score: -2.9 (--)
X-Spam-Report: Spam detection software, running on the system "s2.mail.rcig.net", has
 identified this incoming email as possible spam.  The original message
 has been attached to this so you can view it (if it isn't spam) or label
 similar future email.  If you have any questions, see
 the administrator of that system for details.
X-Virus-Checked: Checked by ClamAV on apache.org
 
 Content preview:  +1 By unbreaking configurations we are indeed changing behavior.
    This could be an unexpected change for an admin during a minor upgrade but
    I weigh that against the fact that directives enclosed by these matches may
    be intended to add security/authorization/authentication which a badly written
    link could circumvent if an admin isn't using the appropriate regex. [...]
    
 
 Content analysis details:   (-2.9 points, 8.0 required)
 
  pts rule name              description
 ---- ---------------------- --------------------------------------------------
 -1.0 ALL_TRUSTED            Passed through trusted hosts only via SMTP
  0.0 TVD_RCVD_IP            Message was received from an IP address
 -1.9 BAYES_00               BODY: Bayes spam probability is 0 to 1%
                             [score: 0.0000]
  0.0 URIBL_BLOCKED          ADMINISTRATOR NOTICE: The query to URIBL was blocked.
                             See
                             http://wiki.apache.org/spamassassin/DnsBlocklists#dnsbl-block
                              for more information.
                             [URIs: riggs.me]

+1
By unbreaking configurations we are indeed changing behavior. This could
be an unexpected change for an admin during a minor upgrade but I weigh
that against the fact that directives enclosed by these matches may be
intended to add security/authorization/authentication which a badly
written link could circumvent if an admin isn't using the appropriate regex.

-- 
Daniel Ruggeri

On 4/30/2015 8:16 AM, Yann Ylavic wrote:
> On Thu, Apr 30, 2015 at 2:57 PM, Jim Riggs <apache-lists@riggs.me> wrote:
>> Thanks, Yann. I remember looking at this code before. The question remains, though: Is it currently "wrong"?
>> Does it need to be "fixed", or was this distinction made intentionally?
>> Is there a specific use case that requires the regex-matching directives to not get slash-normalized URIs?
> I would like it to be fixed, non leading "/+" is equivalent to "/",
> this would break very few (if any) cases IMHO, and may even unbreak
> more ones .


