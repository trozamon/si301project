From dev-return-82818-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun  1 11:04:32 2015
Return-Path: <dev-return-82818-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F230317A15
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Jun 2015 11:04:31 +0000 (UTC)
Received: (qmail 1556 invoked by uid 500); 1 Jun 2015 11:04:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1476 invoked by uid 500); 1 Jun 2015 11:04:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1466 invoked by uid 99); 1 Jun 2015 11:04:31 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Jun 2015 11:04:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 250ACC0B58
	for <dev@httpd.apache.org>; Mon,  1 Jun 2015 11:04:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id nnZNUxlHkvkg for <dev@httpd.apache.org>;
	Mon,  1 Jun 2015 11:04:26 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 594EC23131
	for <dev@httpd.apache.org>; Mon,  1 Jun 2015 11:04:26 +0000 (UTC)
Received: from [195.227.30.209] (notebook-rj [195.227.30.209])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t51B4Hq9024420
	for <dev@httpd.apache.org>; Mon, 1 Jun 2015 13:04:17 +0200 (CEST)
Message-ID: <556C3C2C.8020205@kippdata.de>
Date: Mon, 01 Jun 2015 13:04:12 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: ALPN patch comments
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de> <5537C311.6020209@velox.ch> <40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com> <553B62C2.9080202@velox.ch> <D0F6D103-F293-4BCE-8213-0F0A1148FC26@greenbytes.de> <5540BB0D.7070808@velox.ch>
In-Reply-To: <5540BB0D.7070808@velox.ch>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 29.04.2015 um 13:05 schrieb Kaspar Brand:
> I did some formatting cleanup in r1676709 and put a patch for 2.4.x
> online under
> https://people.apache.org/~kbrand/mod_ssl-2.4.x-alpn_2015-04-29.diff.
> This should hopefully make it easier for people to test and review (it's
> an amalgamation of ten revisions from trunk, see the top of the patch file).

Question on that ALPN backport patch and the one in the STATUS file: is 
it clear that the registration setting up the propose and nego callback 
function arrays should be per connection? Wouldn't that be more a global 
or per vhost thing? Just asking because of performance reasons.

Regards,

Rainer

From dev-return-82819-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun  1 11:37:31 2015
Return-Path: <dev-return-82819-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ACA2217AD1
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Jun 2015 11:37:31 +0000 (UTC)
Received: (qmail 52662 invoked by uid 500); 1 Jun 2015 11:37:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 52599 invoked by uid 500); 1 Jun 2015 11:37:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 52589 invoked by uid 99); 1 Jun 2015 11:37:31 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Jun 2015 11:37:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id C799D181A34
	for <dev@httpd.apache.org>; Mon,  1 Jun 2015 11:37:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 7ybP_0qr_JTH for <dev@httpd.apache.org>;
	Mon,  1 Jun 2015 11:37:30 +0000 (UTC)
Received: from mail-ie0-f180.google.com (mail-ie0-f180.google.com [209.85.223.180])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id A271C24965
	for <dev@httpd.apache.org>; Mon,  1 Jun 2015 11:37:29 +0000 (UTC)
Received: by ieczm2 with SMTP id zm2so106395595iec.1
        for <dev@httpd.apache.org>; Mon, 01 Jun 2015 04:36:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=ulLIS+QuVKNtWjvOlkIJN3GowLInzssiMMu5GtxxylQ=;
        b=IpXs1hakxe7r7wbmVGH87GsorrzhA2YTd0OocDSWFyNwfo4dqYbLHGcCqMudRki+Op
         DJzJIcB7AYcIHbmmigFe1Qm1E9TvdKsURjZKOOpUohfw7OHsUNk7ryh5ksey9CU2r89L
         Md5e7iG/a5OZxL6+ydsPKfDNhkxyfk2CF6I0Jvx/iUsQ7D9iDo4a0Yfvc1tF37G4C+nu
         cZwsWt1pTF+KzoYRcr1vCVqM50G4Y1cYJWtmUq1G2kXGlPnBEWxTHD5z0lUhQhiGL6cY
         EVEaJRNISHR1LVx7Vt69DXwqNXBpB3Xmr6ckyHlL0ICFJ9A0i4UGZDxGsyZC4ieaZAs5
         gPTA==
MIME-Version: 1.0
X-Received: by 10.107.46.94 with SMTP id i91mr21435762ioo.68.1433158603523;
 Mon, 01 Jun 2015 04:36:43 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Mon, 1 Jun 2015 04:36:43 -0700 (PDT)
Date: Mon, 1 Jun 2015 13:36:43 +0200
Message-ID: <CAKQ1sVOKxeTCDweYkB7CndmRgTFZ8dd3nvFTvuvgjGcHkmZuYA@mail.gmail.com>
Subject: About PR56925's fix (was: svn commit: r1682872 - /httpd/httpd/branches/2.4.x/STATUS)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Hi Rainer,

On Mon, Jun 1, 2015 at 1:06 PM,  <rjung@apache.org> wrote:
> @@ -232,14 +238,14 @@ PATCHES PROPOSED TO BACKPORT FROM TRUNK:
>       trunk patch: http://svn.apache.org/r1681694
>       2.4.x patch: trunk works (modulo CHANGES)
>       +1: ylavic
> +     rjung: Would it makes sense to handle 500/503 for the other proxy
> +            protocols similar? I see error_override at least also in the
> +            AJP and FCGI case.

I'll have a look at these, looks consitent to do it there too.

> +     rjung: What about setting the note proxy-error-override in general
> +            if an error override happens so it might get more uses in
> +            the future. Would that make sense?

I'm not sure to understand here, what would be a "general" way to set the note?
It seems to me that each (proxy) module only can tell whether the
error comes from itself or the backend.

From dev-return-82820-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun  1 12:29:18 2015
Return-Path: <dev-return-82820-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3288617C61
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Jun 2015 12:29:18 +0000 (UTC)
Received: (qmail 28609 invoked by uid 500); 1 Jun 2015 12:29:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28488 invoked by uid 500); 1 Jun 2015 12:29:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28467 invoked by uid 99); 1 Jun 2015 12:29:17 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Jun 2015 12:29:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 480A11A424B
	for <dev@httpd.apache.org>; Mon,  1 Jun 2015 12:29:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id FKPsm6ugl_1W for <dev@httpd.apache.org>;
	Mon,  1 Jun 2015 12:29:09 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 02FF025404
	for <dev@httpd.apache.org>; Mon,  1 Jun 2015 12:29:08 +0000 (UTC)
Received: from [10.99.178.238] (unknown [213.0.81.93])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id A5E5115A0024
	for <dev@httpd.apache.org>; Mon,  1 Jun 2015 14:28:30 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: ALPN patch comments
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <556C3C2C.8020205@kippdata.de>
Date: Mon, 1 Jun 2015 14:28:32 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <384096F4-91A3-4369-A726-9D2B73FD499D@greenbytes.de>
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de> <5537C311.6020209@velox.ch> <40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com> <553B62C2.9080202@velox.ch> <D0F6D103-F293-4BCE-8213-0F0A1148FC26@greenbytes.de> <5540BB0D.7070808@velox.ch> <556C3C2C.8020205@kippdata.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)

It sounds like it could be a vhost thing. SSL_CTX is most likely not =
global, but maybe unique for a vhost? I am not certain myself, maybe =
someone else with more knowledge of mod_ssl could pitch in?

//Stefan

> Am 01.06.2015 um 13:04 schrieb Rainer Jung <rainer.jung@kippdata.de>:
>=20
> Am 29.04.2015 um 13:05 schrieb Kaspar Brand:
>> I did some formatting cleanup in r1676709 and put a patch for 2.4.x
>> online under
>> https://people.apache.org/~kbrand/mod_ssl-2.4.x-alpn_2015-04-29.diff.
>> This should hopefully make it easier for people to test and review =
(it's
>> an amalgamation of ten revisions from trunk, see the top of the patch =
file).
>=20
> Question on that ALPN backport patch and the one in the STATUS file: =
is it clear that the registration setting up the propose and nego =
callback function arrays should be per connection? Wouldn't that be more =
a global or per vhost thing? Just asking because of performance reasons.
>=20
> Regards,
>=20
> Rainer

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82821-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun  1 12:50:53 2015
Return-Path: <dev-return-82821-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DA0F017DA0
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Jun 2015 12:50:53 +0000 (UTC)
Received: (qmail 85232 invoked by uid 500); 1 Jun 2015 12:50:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 85151 invoked by uid 500); 1 Jun 2015 12:50:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 85136 invoked by uid 99); 1 Jun 2015 12:50:53 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Jun 2015 12:50:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id C9485181A34
	for <dev@httpd.apache.org>; Mon,  1 Jun 2015 12:50:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.011
X-Spam-Level:
X-Spam-Status: No, score=-0.011 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id aCkAGLBFXcsu for <dev@httpd.apache.org>;
	Mon,  1 Jun 2015 12:50:51 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id EEB0B43E3E
	for <dev@httpd.apache.org>; Mon,  1 Jun 2015 12:50:50 +0000 (UTC)
Received: from [195.227.30.209] (notebook-rj [195.227.30.209])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t51CohXJ026014
	for <dev@httpd.apache.org>; Mon, 1 Jun 2015 14:50:43 +0200 (CEST)
Message-ID: <556C551E.8000601@kippdata.de>
Date: Mon, 01 Jun 2015 14:50:38 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: About PR56925's fix (was: svn commit: r1682872 - /httpd/httpd/branches/2.4.x/STATUS)
References: <CAKQ1sVOKxeTCDweYkB7CndmRgTFZ8dd3nvFTvuvgjGcHkmZuYA@mail.gmail.com>
In-Reply-To: <CAKQ1sVOKxeTCDweYkB7CndmRgTFZ8dd3nvFTvuvgjGcHkmZuYA@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 01.06.2015 um 13:36 schrieb Yann Ylavic:
> Hi Rainer,
>
> On Mon, Jun 1, 2015 at 1:06 PM,  <rjung@apache.org> wrote:
>> @@ -232,14 +238,14 @@ PATCHES PROPOSED TO BACKPORT FROM TRUNK:
>>        trunk patch: http://svn.apache.org/r1681694
>>        2.4.x patch: trunk works (modulo CHANGES)
>>        +1: ylavic
>> +     rjung: Would it makes sense to handle 500/503 for the other proxy
>> +            protocols similar? I see error_override at least also in the
>> +            AJP and FCGI case.
>
> I'll have a look at these, looks consitent to do it there too.
>
>> +     rjung: What about setting the note proxy-error-override in general
>> +            if an error override happens so it might get more uses in
>> +            the future. Would that make sense?
>
> I'm not sure to understand here, what would be a "general" way to set the note?
> It seems to me that each (proxy) module only can tell whether the
> error comes from itself or the backend.

I meant "set it always if a ProxyErrorOverride happens", not "set it if 
we need it for the 500/503 check later". Maybe this is (for http) 
already the case, not sure about possible code paths for ProxyErrorOverride.

Rainer


From dev-return-82822-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun  1 14:23:37 2015
Return-Path: <dev-return-82822-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9F42418198
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Jun 2015 14:23:37 +0000 (UTC)
Received: (qmail 90950 invoked by uid 500); 1 Jun 2015 14:23:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 90891 invoked by uid 500); 1 Jun 2015 14:23:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 90881 invoked by uid 99); 1 Jun 2015 14:23:37 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Jun 2015 14:23:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C37551A4267
	for <dev@httpd.apache.org>; Mon,  1 Jun 2015 14:23:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id ZXlv5YB8PAGb for <dev@httpd.apache.org>;
	Mon,  1 Jun 2015 14:23:36 +0000 (UTC)
Received: from mail-wi0-f175.google.com (mail-wi0-f175.google.com [209.85.212.175])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id B43F623142
	for <dev@httpd.apache.org>; Mon,  1 Jun 2015 14:23:35 +0000 (UTC)
Received: by wibdq8 with SMTP id dq8so31068756wib.1
        for <dev@httpd.apache.org>; Mon, 01 Jun 2015 07:22:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=p55QeDFid4cmS8Mblm38YbluU9TrD9TAIxXIBk76DfM=;
        b=y6vGTMzXwzPZD8+D45NLraECQIANaJJORncl+TTFXrPtbLXZQj1si5YcbHJor1eAaC
         wMMKMsgPZSA7ZGiYbwy+Vd+tHAUmNKqHH4wh++Xj2dYodIlf+4r+vzM/5m9scjS0XIyn
         o0P8wuAicycSlLl4qGAnaSLAW/FUaGzPI/Erspm95wxnFx89A1xwfErk8g7yVHITULAN
         leuWwLGVYgb35qSXMDxVpNqpFVomFKW95/+7RWYjajOac3Pef01gTHH5jvoCxYpYgXwg
         9ETm/y7+gzB2g4WxIiOQL37lmtyF47bIfy19ojn+vJrgWIBwo9liSTuKSah9Ro3VxDYm
         QsAw==
MIME-Version: 1.0
X-Received: by 10.194.61.133 with SMTP id p5mr42328053wjr.132.1433168570482;
 Mon, 01 Jun 2015 07:22:50 -0700 (PDT)
Received: by 10.27.100.3 with HTTP; Mon, 1 Jun 2015 07:22:50 -0700 (PDT)
In-Reply-To: <55697B2C.8050508@kippdata.de>
References: <CAA=k7mVA2JAQiqqGgnxsu6RYMHvr7swf7nbE0F5v2Ex50BqrNg@mail.gmail.com>
	<CAFMGiz9p61O09CpZ=ymA_pNTxEYVQJMsPRpXJDA30MVXTozrFA@mail.gmail.com>
	<CAA=k7mUsLLg8DJYJcYGMq7OSPQv9j=z00YiQ_F7-kCd6xnut8w@mail.gmail.com>
	<55660844.1090508@ptc.com>
	<CAFMGiz_z=QBkM2nSpiHQpYNA4Sk6vrRQpkN-AncS0xRLee9=Bw@mail.gmail.com>
	<CAA=k7mVr+4Lx6-Dr787HLEc+9wOYME_pV2J_fe5i17+17ZTKvw@mail.gmail.com>
	<E1BEDDB647AB30479CA5840E65B79387944D405F@HQ-X10PRDSTOR1.ptcnet.ptc.com>
	<CAA=k7mXeGjhZJiXkSHk=jrOJ2mYLwfUaB1qcjGXf15o3u3xHsA@mail.gmail.com>
	<CACsi2514HU7JHqstYP6ZNUqN7Uk7XZ3SjT+4dTLSkJRHApcCwQ@mail.gmail.com>
	<E1BEDDB647AB30479CA5840E65B79387944D4220@HQ-X10PRDSTOR1.ptcnet.ptc.com>
	<55697B2C.8050508@kippdata.de>
Date: Mon, 1 Jun 2015 16:22:50 +0200
Message-ID: <CAA=k7mWafngEhqGZLunfJ9F+b1Rujeo29tP0D0E2W5R46SLR_Q@mail.gmail.com>
Subject: Re: httpd and OpenSSL 1.0.2
From: Mario Brandt <jblond@gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi Tom,
since I'm mostly a windows user and sure how to debug that and wasn't
successful, it would be nice if you could give me the working script.

Thanks
Mario

From dev-return-82823-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun  1 15:23:36 2015
Return-Path: <dev-return-82823-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6E42018554
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Jun 2015 15:23:36 +0000 (UTC)
Received: (qmail 63071 invoked by uid 500); 1 Jun 2015 15:23:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63006 invoked by uid 500); 1 Jun 2015 15:23:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62986 invoked by uid 99); 1 Jun 2015 15:23:29 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Jun 2015 15:23:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 47A69181A34;
	Mon,  1 Jun 2015 15:23:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id dxP5jw9WpQbP; Mon,  1 Jun 2015 15:23:28 +0000 (UTC)
Received: from mail-wi0-f178.google.com (mail-wi0-f178.google.com [209.85.212.178])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id C9127207E3;
	Mon,  1 Jun 2015 15:23:27 +0000 (UTC)
Received: by wicmx19 with SMTP id mx19so79230999wic.0;
        Mon, 01 Jun 2015 08:22:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :cc:content-type;
        bh=xMFp2rGVI8A+FTgrfOuluf9O/fCUh8iCjEZgYB+DA24=;
        b=yc0B2zBDYKejmrGmguYfLnQzFYcTtQ6T/echqujfkP4jqHbXXFerdUm7c79s1wU6p6
         DEtWMYzJGwcHO2Bhjnh5x037mScogCJbGqtJVxOY8jkjvsF1HznRfG7Q03dRNKRtdKYK
         om9J7L18PVsVptNDiRGfb1/vndJBGM/ABXuyG2e40KgqHju2QUzOoyFizqi7K42raAhF
         4yeZgjIL0l+B6QhgiTRcSEAWXmu+/J/qxr+Cihr3QfOSbu0/4lMME6qYWDKjj7ietFO3
         eEJE7FucxqYIg+i6kSPOTgJGIJs4b6nXEda0c3uyCdx9fM91FOh6K0wpFtP9Hwa83JkU
         vF+A==
X-Received: by 10.180.109.111 with SMTP id hr15mr22260725wib.53.1433172162576;
 Mon, 01 Jun 2015 08:22:42 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.28.62.81 with HTTP; Mon, 1 Jun 2015 08:22:01 -0700 (PDT)
In-Reply-To: <CAA=k7mUsLLg8DJYJcYGMq7OSPQv9j=z00YiQ_F7-kCd6xnut8w@mail.gmail.com>
References: <CAA=k7mVA2JAQiqqGgnxsu6RYMHvr7swf7nbE0F5v2Ex50BqrNg@mail.gmail.com>
 <CAFMGiz9p61O09CpZ=ymA_pNTxEYVQJMsPRpXJDA30MVXTozrFA@mail.gmail.com> <CAA=k7mUsLLg8DJYJcYGMq7OSPQv9j=z00YiQ_F7-kCd6xnut8w@mail.gmail.com>
From: Tom Browder <tom.browder@gmail.com>
Date: Mon, 1 Jun 2015 10:22:01 -0500
Message-ID: <CAFMGiz_jcfojfSWdCcU50dYpojpD6O6U1EEL2jV-SXiMT4QKrw@mail.gmail.com>
Subject: Re: httpd and OpenSSL 1.0.2
To: Mario Brandt <jblond@gmail.com>
Cc: "dev@httpd.apache.org" <dev@httpd.apache.org>, users@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Wed, May 27, 2015 at 11:33 AM, Mario Brandt <jblond@gmail.com> wrote:
> Hi Tom,
>
> I tried on Debian 7 and 8 both x64
>
> To see your configure options would help a lot.

Okay, here's what I had to do to my Linux Deb 7, 64-bit system:

1.  Remove any deb packages of httpd, apr, apr-util, openssl.

2.  Source packages used (in order of installation):

  openssl-1.0.2a.tar.gz
  apr-1.5.1.tar.bz2
  apr-util-1.5.4.tar.bz2
  pcre2-10.00.tar.bz2
  httpd-2.4.12.tar.bz2

3.  Build and install:

$ sudo aptitude install zlib1g-dev

openssl
-----------

export SSLDIR=/opt/openssl
./config \
    no-ec2m                         \
    no-rc5                          \
    no-idea                         \
    threads                         \
    zlib-dynamic                    \
    shared                          \
    --prefix=${SSLDIR}              \
    --openssldir=${SSLDIR}          \
    enable-ec_nistp_64_gcc_128      \
  make depend
  make
  make test
  sudo make install

apr
----

  ./configure --with-crypto
  make
  make check
  sudo make install

apr-util
----------
  ./configure --with-apr=/usr/local/apr
  make
  make check
  sudo make install

pcre
------
  ./configure
  make
  make check
  sudo make install

httpd
-------
\# we build all modules for now (all shared except mod_ssl)
# Note that 'session_module' needs to be activated (loaded).
export LDFLAGS="-Wl,-rpath,${SSLDIR}/lib"
$SRCDIR/configure                          \
    --prefix=/usr/local/apache2            \
    --with-included-apr                    \
\
    --enable-ssl                           \
    --enable-ssl-staticlib-deps            \
    --enable-mods-static=ssl               \
    --with-ssl=${SSLDIR}                   \
\
    --enable-mods-shared=reallyall         \
    --with-perl                            \
    --with-python                          \
    --enable-layout=Apache                 \
    --with-pcre=/usr/local/bin/pcre-config \
    --without-ldap                         \
    --enable-session-crypto                \
    --with-crypto                          \
    --with-openssl=${SSLDIR}

make
sudo make install

Notes:

1. I used both local install of apr/apr-util AND source inside httpd.

2. Note --with-crypto option for apr in local build

3. Note I have not modified my LD_LIBRARY_PATH for any of the above programs.

It all works for me.

Hope that helps.

Best regards,

-Tom

From dev-return-82824-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun  1 15:29:08 2015
Return-Path: <dev-return-82824-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D12DF185B8
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Jun 2015 15:29:08 +0000 (UTC)
Received: (qmail 1110 invoked by uid 500); 1 Jun 2015 15:29:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1040 invoked by uid 500); 1 Jun 2015 15:29:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1021 invoked by uid 99); 1 Jun 2015 15:29:08 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Jun 2015 15:29:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id EEE30CA6CE;
	Mon,  1 Jun 2015 15:29:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id cHGgJ-M45PTf; Mon,  1 Jun 2015 15:29:07 +0000 (UTC)
Received: from mail-wi0-f175.google.com (mail-wi0-f175.google.com [209.85.212.175])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id D769024CE8;
	Mon,  1 Jun 2015 15:29:06 +0000 (UTC)
Received: by wizo1 with SMTP id o1so110005538wiz.1;
        Mon, 01 Jun 2015 08:29:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :cc:content-type;
        bh=7IV7YIBRawpz543/53syIIz5LcDGN/++ieblJFudyLE=;
        b=JNJKM7WCwO6YoUTM5eew/vx40qGy2oWRf+NB4YoxBvLCnw7kzSd/1WNYhI1cB9gehY
         xSCLdaUhxY30zHOTAXUC8mU4aja14SURM987edxHRrNSBeOE9fMaIM4hD2juTdSEmNqy
         eXbXSugizH6r5COXu1Ni8YgN1TkgaYJwPBJpIRGVNgjsBmmzLUg5GdYEyZhCm+RLfQCm
         IjSnXg190yW8lrqCrYe/kIyrIiZuhfin19Yha0wilFZcd0JJhCbCANyz7fj8AV/AVeAA
         Sb8ihfmZ5gPWyYhHJyQ618UNiybjv/DFC4PBxLtb6Fr67HO0PPkwoSKI0aqDH5pHpSgs
         yBLg==
X-Received: by 10.194.192.166 with SMTP id hh6mr41010429wjc.127.1433172546667;
 Mon, 01 Jun 2015 08:29:06 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.28.62.81 with HTTP; Mon, 1 Jun 2015 08:28:25 -0700 (PDT)
In-Reply-To: <CAFMGiz_jcfojfSWdCcU50dYpojpD6O6U1EEL2jV-SXiMT4QKrw@mail.gmail.com>
References: <CAA=k7mVA2JAQiqqGgnxsu6RYMHvr7swf7nbE0F5v2Ex50BqrNg@mail.gmail.com>
 <CAFMGiz9p61O09CpZ=ymA_pNTxEYVQJMsPRpXJDA30MVXTozrFA@mail.gmail.com>
 <CAA=k7mUsLLg8DJYJcYGMq7OSPQv9j=z00YiQ_F7-kCd6xnut8w@mail.gmail.com> <CAFMGiz_jcfojfSWdCcU50dYpojpD6O6U1EEL2jV-SXiMT4QKrw@mail.gmail.com>
From: Tom Browder <tom.browder@gmail.com>
Date: Mon, 1 Jun 2015 10:28:25 -0500
Message-ID: <CAFMGiz_kP9QAAeAuwgqX5TDTmSgoRysXaZ-gYch+n3V=SSideA@mail.gmail.com>
Subject: Re: httpd and OpenSSL 1.0.2
To: Mario Brandt <jblond@gmail.com>
Cc: "dev@httpd.apache.org" <dev@httpd.apache.org>, users@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Mon, Jun 1, 2015 at 10:22 AM, Tom Browder <tom.browder@gmail.com> wrote:
> Okay, here's what I had to do to my Linux Deb 7, 64-bit system:
...
> 2.  Source packages used (in order of installation):
...
>   pcre2-10.00.tar.bz2

Oops, my error: I had to use pcre-8.36 (httpd cannot yet use pcre2).

Best,

-Tom

From dev-return-82825-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun  1 16:03:05 2015
Return-Path: <dev-return-82825-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BEDE8187F8
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Jun 2015 16:03:05 +0000 (UTC)
Received: (qmail 20623 invoked by uid 500); 1 Jun 2015 16:03:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 20556 invoked by uid 500); 1 Jun 2015 16:03:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 20545 invoked by uid 99); 1 Jun 2015 16:03:05 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Jun 2015 16:03:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id D3B42CA6E4
	for <dev@httpd.apache.org>; Mon,  1 Jun 2015 16:03:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id ettkc1gPwmnQ for <dev@httpd.apache.org>;
	Mon,  1 Jun 2015 16:02:55 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id A3163428E3
	for <dev@httpd.apache.org>; Mon,  1 Jun 2015 16:02:54 +0000 (UTC)
Received: from [195.227.30.209] (notebook-rj [195.227.30.209])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t51G2pg0000214
	for <dev@httpd.apache.org>; Mon, 1 Jun 2015 18:02:51 +0200 (CEST)
Message-ID: <556C8226.3050600@kippdata.de>
Date: Mon, 01 Jun 2015 18:02:46 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
Reply-To: dev@httpd.apache.org
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: mod_ssl: Reading dhparams and ecparams not only from the first
 certificate file
References: <55642FF4.3050700@kippdata.de> <556566C6.2030304@velox.ch> <55657362.6070106@kippdata.de>
In-Reply-To: <55657362.6070106@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 27.05.2015 um 09:33 schrieb Rainer Jung:
> Am 27.05.2015 um 08:40 schrieb Kaspar Brand:
>> On 26.05.2015 10:33, Rainer Jung wrote:
>>> I find it questionable. I would find it more natural to embed the params
>>> in the cert files they apply to, so e.g. the DH params in the RSA cert
>>> file and the EC params in the ECDH cert file and also to not require a
>>> special order for the files which at the end we do not check. Since
>>> missing the embedded params goes unnoticed (finding them is only a DEBUG
>>> log line) it is not very user friendly.
>>
>> When I added this with r1527295, I didn't expect custom [EC]DH
>> parameters in a certificate file to be the typical case for a mod_ssl
>> configuration - and even in the light of Logjam, I don't think that we
>> would want to recommend creating custom DH parameters for the average
>> admin. As long as 2048-bit RSA keys are configured (the standard for
>> certs issued by publicly-trusted CAs these days), there's nothing wrong
>> with relying on the built-in DH parameters, i.e. those from RFC 3526. [1]
>>
>>> Can't we simply try to read DH and ECC params from every certificate
>>> file and stop in each of the two cases when we have found some? That
>>> would tighten the user unfriendlyness to the case of having multiple
>>> inconsistent parameters embedded in different cert files. And even that
>>> could be checked and logged as a warning.
>>
>> I don't have strong feelings on this, but am not sure if it's worth
>> adding more code to address this specific case. My guess is that
>> multi-cert virtual host configurations with OpenSSL < 1.0.2 are
>> extremely rare, since they are prone to the
>> one-intermediate-CA-cert-only issue, and with OpenSSL 1.0.2 or later,
>> SSLOpenSSLConfCmd is definitely preferrable.
>
> OK
>
>> As far as your observation "to embed the params in the cert files they
>> apply to" is concerned, I think there might be a misunderstanding here:
>> the [EC]DH parameters are orthogonal to the authentication algorithm -
>> for an RSA key, both are applicable (cf. openssl ciphers -v aRSA+DHE and
>> openssl ciphers -v aRSA+ECDHE).
>
> Thanks for the correction.
>
>>> That means if you start mixing embedded keys and separate key files,
>>
>> I would definitely discourage from doing so, and wouldn't bother with
>> adding configuration code to address such cases (would introduce
>> unneeded complexity). Putting the the private key into the
>> SSLCertificateFile has been discouraged since the 2.0 release, actually
>> - see the SSLCertificateKeyFile docs added with r93825. What is probably
>> missing is a more prominent notice in the section on SSLCertificateFile.
>
> OK I'll have a look at the docs an see whether I can improve them.
>
>> [1] The weakdh.org site needs an update on this, as acknowledged by a
>> team member meanwhile, see
>> https://www.ietf.org/mail-archive/web/tls/current/msg16515.html

I edited the mod_ssl docs and faq in r1682923  and r1682937 (trunk), 
r1682929  and r1682939 (2.4) and r1682942 (2.2). I hope things are at 
least as clear as before my editing.

Regards,

Rainer

From dev-return-82826-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun  1 21:40:30 2015
Return-Path: <dev-return-82826-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0514717C4D
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  1 Jun 2015 21:40:30 +0000 (UTC)
Received: (qmail 77824 invoked by uid 500); 1 Jun 2015 21:40:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 77757 invoked by uid 500); 1 Jun 2015 21:40:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 77747 invoked by uid 99); 1 Jun 2015 21:40:28 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 01 Jun 2015 21:40:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 631C41A40F8
	for <dev@httpd.apache.org>; Mon,  1 Jun 2015 21:40:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.099
X-Spam-Level:
X-Spam-Status: No, score=-0.099 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id ED_b6oSuEVhs for <dev@httpd.apache.org>;
	Mon,  1 Jun 2015 21:40:16 +0000 (UTC)
Received: from mail-ie0-f182.google.com (mail-ie0-f182.google.com [209.85.223.182])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 2DC60428E3
	for <dev@httpd.apache.org>; Mon,  1 Jun 2015 21:40:16 +0000 (UTC)
Received: by ieclw1 with SMTP id lw1so24240419iec.3
        for <dev@httpd.apache.org>; Mon, 01 Jun 2015 14:39:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=h3CKmHO3t7Y0VMGWfR9Z6oNKXkQ/SGFhIkdr5ux/6SA=;
        b=U9H/rJJEBbf6U0fkqGE7ieUS795NTJ6LZff9E+IMCac/c4LqxK2gNFqGkrijhSHgQa
         3A5NUrF50nE6/ggG8SKFl4K6JTzgn0JuXmxUQ1z0Q7tAbjSzt76bG3eTGuOSTg81AX/Q
         GSa7F+jYQulQceWouD7fMX7BeZqy43Dx3KeQy9BcHteBXIw4CjvqiQA6NggjRxYZ5yGh
         Iz8hYMZVmBPW4UyzFIeFtrwf1l5v+d6dwdiuSYuZw2XwgAxgZeCXwgY76asSKVYSE4ne
         dSM7qFqh7+T6KHoYTFZACzcf7cadAA74V80SIEgrxjPqE0SHwUiwbNNFh34b559bOUIM
         Hy0A==
MIME-Version: 1.0
X-Received: by 10.107.46.94 with SMTP id i91mr24975581ioo.68.1433194770670;
 Mon, 01 Jun 2015 14:39:30 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Mon, 1 Jun 2015 14:39:30 -0700 (PDT)
Date: Mon, 1 Jun 2015 23:39:30 +0200
Message-ID: <CAKQ1sVNsFRpm75T8NPt-LLVJ5BSsbd47cCYw4vJNt-v8MWKJTw@mail.gmail.com>
Subject: Re: Good at assembler ? (Was:httpd - side channel attack - timing of
 digest comparisons)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Fri, May 29, 2015 at 12:11 PM, Dirk-Willem van Gulik
<dirkx@webweaving.org> wrote:
>
> So if you have the time & can read assembler well - can you compile this =
at
> a reasonable optimizer setting and look at the assembler to confirm that =
key
> elements are not somehow optimized away; i.e. the innner loop is running =
in
> constant time. I am fairly sure about what happens on ARM and x386 =E2=80=
=94 but
> modern x86 is largely voodoo to me.

Does the !! pattern really avoid conditional branches on any compiler?
It does compile to "test %src,%src; setne %dst" on all the gcc I
tested (4.4 =3D> 4.8), but I'm not sure older ones (or other
compilers/archs) would not use a conditional jump instead.

Maybe we could use libressl's pattern instead, something like:

int ap_timingsafe_strcmp_mod(const char * hostile, const char * toProtect)
{
    const unsigned char *p1 =3D (const unsigned char *)hostile;
    const unsigned char *p2 =3D (const unsigned char *)toProtect;

    int res =3D 0, done =3D 0;
    size_t i =3D 0, i1 =3D 1, i2 =3D 1;
    int d1 =3D 1, d2 =3D 1;
    do {
        /* lt is -1 if p1[i] < p2[i]; else 0. */
        int lt =3D (p1[i % i1] - p2[i % i2]) >> 8;

        /* gt is -1 if p1[i] > p2[i]; else 0. */
        int gt =3D (p2[i % i2] - p1[i % i1]) >> 8;

        /* cmp is 1 if p1[i] > p2[i]; -1 if p1[i] < p2[i]; else 0. */
        int cmp =3D lt - gt;

        /* set res =3D cmp if !done. */
        res |=3D cmp & ~done;

        /* set done if p1[i] !=3D p2[i]. */
        done |=3D lt | gt;

        d1 &=3D ~((p1[i % i1] - 1) >> 8);
        d2 &=3D ~((p2[i % i2] - 1) >> 8);

        i++;
        i1 +=3D d1;
        i2 +=3D d2;
    } while (d1); // we reveal the length of the hostile string.

    return res;
}

(note that the difference in lengths is handled by comparing the
shortest string's NUL with the char at the same position in the other
string, and that the choosen types avoid casting issues) .

>
> Secondly - when we get to the end of the shorter string; we can either ke=
ep
> comparing to the last char or \0; or we go =E2=80=98modulo=E2=80=99 to th=
e start of the
> string. Now modulo is perhaps not ideal; and seems to affect the pipeline=
 on
> the XEON cpu (something I confess not to quite understand; and I cannot
> see/replicate on ARM).

Either way, we may leak timing differences because if the protected
string would have been longer, we possibly would have loaded a new
page and/or not reused cached data, and that's probably measurable.

IMHO we can't really have a satisfactory timing safe strcmp, and we
should use a different strategy to protect NUL terminated strings.
For example, we could always allocate a fixed (maximum) size for these
strings (eg. 256 bytes for a password), and compare the hostile
strings up to the minimum of this size and strlen(hostile), using
timing safe memcmp().

From dev-return-82827-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun  2 00:14:11 2015
Return-Path: <dev-return-82827-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4F56118320
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  2 Jun 2015 00:14:11 +0000 (UTC)
Received: (qmail 77212 invoked by uid 500); 2 Jun 2015 00:14:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 77142 invoked by uid 500); 2 Jun 2015 00:14:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 77132 invoked by uid 99); 2 Jun 2015 00:14:10 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Jun 2015 00:14:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 6D7F01A4265
	for <dev@httpd.apache.org>; Tue,  2 Jun 2015 00:14:10 +0000 (UTC)
X-Quarantine-ID: <63jQD0ilXTVz>
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Amavis-Alert: BAD HEADER SECTION, Improper folded header field made up
	entirely of whitespace (char 20 hex): X-Spam-Report: ...that system
	for details.\n \n Content previ[...]
X-Spam-Flag: NO
X-Spam-Score: -0.001
X-Spam-Level:
X-Spam-Status: No, score=-0.001 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 63jQD0ilXTVz for <dev@httpd.apache.org>;
	Tue,  2 Jun 2015 00:14:09 +0000 (UTC)
Received: from s1.mail.rcig.net (s1.mail.rcig.net [216.87.38.201])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 0696E23142
	for <dev@httpd.apache.org>; Tue,  2 Jun 2015 00:14:08 +0000 (UTC)
Received: from 23-117-14-203.lightspeed.stlsmo.sbcglobal.net ([23.117.14.203]:27350 helo=[192.168.0.2])
	by s1.mail.rcig.net with esmtpa (Exim 4.72)
	(envelope-from <DRuggeri@primary.net>)
	id 1YzZqA-0005B0-O8
	for dev@httpd.apache.org; Mon, 01 Jun 2015 19:14:00 -0500
Message-ID: <556CF541.5080502@primary.net>
Date: Mon, 01 Jun 2015 19:13:53 -0500
From: Daniel Ruggeri <DRuggeri@primary.net>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: PMC Reporting [Was: Re: 2.2 and 2.4 and 2.6/3.0]
References: <CACsi253YgOrNh7eAhtNNqxT_vDJvfoqaW4PzgQNNJ+WMvw4FzA@mail.gmail.com>
In-Reply-To: <CACsi253YgOrNh7eAhtNNqxT_vDJvfoqaW4PzgQNNJ+WMvw4FzA@mail.gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit
X-ACL-Warn: X-The email account used to send this email was: druggeri@primary.net


On 5/30/2015 9:03 PM, William A Rowe Jr wrote:
> So I'll let Eric share what he submitted for May on our behalf, but here
> is the submitted/accepted/recorded report of Feb '15 - it's awfully high 
> level, so I'm not sure that updating dev@ regularly with the contents 
> offers a whole lot of benefit.  Thoughts?

Yeah - The information seems great to share with the community behind
httpd, IMO, so I think it would make sense to have on the dev@ list...
and it's not like this is a particularly low volume mailing list that
such emails would be considered inbox pollution.

I guess it's just as easy to pull up the minutes each month by hand, too.

-- 
Daniel Ruggeri

From dev-return-82828-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun  2 00:22:55 2015
Return-Path: <dev-return-82828-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5B8351835C
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  2 Jun 2015 00:22:55 +0000 (UTC)
Received: (qmail 87995 invoked by uid 500); 2 Jun 2015 00:22:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 87892 invoked by uid 500); 2 Jun 2015 00:22:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 87871 invoked by uid 99); 2 Jun 2015 00:22:54 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Jun 2015 00:22:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 6C9851A42BD
	for <dev@httpd.apache.org>; Tue,  2 Jun 2015 00:22:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.899
X-Spam-Level: **
X-Spam-Status: No, score=2.899 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 7CPiq2KcYIIK for <dev@httpd.apache.org>;
	Tue,  2 Jun 2015 00:22:47 +0000 (UTC)
Received: from mail-qg0-f48.google.com (mail-qg0-f48.google.com [209.85.192.48])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 2F2E8428E3
	for <dev@httpd.apache.org>; Tue,  2 Jun 2015 00:22:47 +0000 (UTC)
Received: by qgfa63 with SMTP id a63so53827428qgf.0
        for <dev@httpd.apache.org>; Mon, 01 Jun 2015 17:22:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :content-type;
        bh=z4B0bA+J3Ya3H9ni1mLBV+V2i8yOZ4zhWqZnWwz3fEk=;
        b=akraPTwxwrKuG4LUjRO5O1eVVmKzzFtUD1OhReK6kcXLtTFY1NKxOo5eydy8gzJZ4A
         wEsK/tNfQLUE6D1eUiBg/KK0ytyUfFeteTmm4LWW4+Z4+4qzFdvQAJWNRkN6s2h4ciYO
         o9YfrYdg6NzFfG0QuIL8Xf2Q0ECnCPIw0TvKO6/dTvzcs+kIV2exHtWx/RycEq/73EXH
         7SszPRkKHVVdRlfOXXsq+EfKgl9rAlwDEpGVmGbS+5w1HAxX4qGckxYJ2yu+SfWCR1zI
         xt3aEbC4t+QH8ZnOqiEUJhRHm4dU9xBFBtaMvj54qxu8NGIEuxcL165RU8/lwlP5mkY7
         +WIA==
X-Received: by 10.55.17.95 with SMTP id b92mr42787398qkh.16.1433204561014;
 Mon, 01 Jun 2015 17:22:41 -0700 (PDT)
MIME-Version: 1.0
References: <CACsi253YgOrNh7eAhtNNqxT_vDJvfoqaW4PzgQNNJ+WMvw4FzA@mail.gmail.com>
 <556CF541.5080502@primary.net>
In-Reply-To: <556CF541.5080502@primary.net>
From: Eric Covener <covener@gmail.com>
Date: Tue, 02 Jun 2015 00:22:30 +0000
Message-ID: <CALK=YjNfG2jhaT9HnERayQoo+SVOSf07jP8n1gDBmbwO4mT49w@mail.gmail.com>
Subject: Re: PMC Reporting [Was: Re: 2.2 and 2.4 and 2.6/3.0]
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a113ad036bff59105177df0a7

--001a113ad036bff59105177df0a7
Content-Type: text/plain; charset=UTF-8

There's usually just not much to it.  Here's what was last submitted:

Report from the Apache HTTP Server project [Eric Covener]

## Description:

 The Apache HTTP Server Project develops and maintains an
 open-source HTTP server for modern operating systems.

## Activity:

  Overall project activity is low, with various fixes being
  made on maintenance releases but very little forward development.

  Third-party work on an HTTP/2 module was discussed more this
  reporting period, with some enablement work for ALPN revived
  in mod_ssl.

  No security issues have required new releases, so patches have
  collected a little longer than normal in the stable releases.

## Issues:

  There are no issues requiring board attention at this time.

## PMC/Committership changes:

 - Currently 112 committers and 43 PMC members in the project.
 - Christophe Jaillet was added to the PMC on Mon Mar 09 2015
 - Stefan Sperling was added as a committer on Fri Apr 17 2015

## Releases:

 - Last 2.4.x release was 2.4.12 on Jan 26 2015
 - Last 2.2.x release was 2.2.29 on September 3 2014



On Mon, Jun 1, 2015 at 8:14 PM Daniel Ruggeri <DRuggeri@primary.net> wrote:

>
> On 5/30/2015 9:03 PM, William A Rowe Jr wrote:
> > So I'll let Eric share what he submitted for May on our behalf, but here
> > is the submitted/accepted/recorded report of Feb '15 - it's awfully high
> > level, so I'm not sure that updating dev@ regularly with the contents
> > offers a whole lot of benefit.  Thoughts?
>
> Yeah - The information seems great to share with the community behind
> httpd, IMO, so I think it would make sense to have on the dev@ list...
> and it's not like this is a particularly low volume mailing list that
> such emails would be considered inbox pollution.
>
> I guess it's just as easy to pull up the minutes each month by hand, too.
>
> --
> Daniel Ruggeri
>

--001a113ad036bff59105177df0a7
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">There&#39;s usually just not much to it.=C2=A0 Here&#39;s =
what was last submitted:<div><br></div><div><div>Report from the Apache HTT=
P Server project [Eric Covener]</div><div><br></div><div>## Description:=C2=
=A0</div><div>=C2=A0 =C2=A0</div><div>=C2=A0The Apache HTTP Server Project =
develops and maintains an</div><div>=C2=A0open-source HTTP server for moder=
n operating systems.</div><div><br></div><div>## Activity:=C2=A0</div><div>=
<br></div><div>=C2=A0 Overall project activity is low, with various fixes b=
eing</div><div>=C2=A0 made on maintenance releases but very little forward =
development.=C2=A0</div><div><br></div><div>=C2=A0 Third-party work on an H=
TTP/2 module was discussed more this</div><div>=C2=A0 reporting period, wit=
h some enablement work for ALPN revived</div><div>=C2=A0 in mod_ssl.</div><=
div><br></div><div>=C2=A0 No security issues have required new releases, so=
 patches have=C2=A0</div><div>=C2=A0 collected a little longer than normal =
in the stable releases.</div><div><br></div><div>## Issues:=C2=A0</div><div=
><br></div><div>=C2=A0 There are no issues requiring board attention at thi=
s time.</div><div>=C2=A0 =C2=A0</div><div>## PMC/Committership changes:=C2=
=A0</div><div>=C2=A0 =C2=A0</div><div>=C2=A0- Currently 112 committers and =
43 PMC members in the project.=C2=A0</div><div>=C2=A0- Christophe Jaillet w=
as added to the PMC on Mon Mar 09 2015=C2=A0</div><div>=C2=A0- Stefan Sperl=
ing was added as a committer on Fri Apr 17 2015=C2=A0</div><div>=C2=A0 =C2=
=A0</div><div>## Releases:=C2=A0</div><div>=C2=A0 =C2=A0</div><div>=C2=A0- =
Last 2.4.x release was 2.4.12 on Jan 26 2015=C2=A0</div><div>=C2=A0- Last 2=
.2.x release was 2.2.29 on September 3 2014</div><br><br></div></div><br><d=
iv class=3D"gmail_quote"><div dir=3D"ltr">On Mon, Jun 1, 2015 at 8:14 PM Da=
niel Ruggeri &lt;<a href=3D"mailto:DRuggeri@primary.net">DRuggeri@primary.n=
et</a>&gt; wrote:<br></div><blockquote class=3D"gmail_quote" style=3D"margi=
n:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><br>
On 5/30/2015 9:03 PM, William A Rowe Jr wrote:<br>
&gt; So I&#39;ll let Eric share what he submitted for May on our behalf, bu=
t here<br>
&gt; is the submitted/accepted/recorded report of Feb &#39;15 - it&#39;s aw=
fully high<br>
&gt; level, so I&#39;m not sure that updating dev@ regularly with the conte=
nts<br>
&gt; offers a whole lot of benefit.=C2=A0 Thoughts?<br>
<br>
Yeah - The information seems great to share with the community behind<br>
httpd, IMO, so I think it would make sense to have on the dev@ list...<br>
and it&#39;s not like this is a particularly low volume mailing list that<b=
r>
such emails would be considered inbox pollution.<br>
<br>
I guess it&#39;s just as easy to pull up the minutes each month by hand, to=
o.<br>
<br>
--<br>
Daniel Ruggeri<br>
</blockquote></div>

--001a113ad036bff59105177df0a7--

From dev-return-82829-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun  2 11:32:43 2015
Return-Path: <dev-return-82829-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1BD1317AC9
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  2 Jun 2015 11:32:43 +0000 (UTC)
Received: (qmail 4712 invoked by uid 500); 2 Jun 2015 11:32:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 4625 invoked by uid 500); 2 Jun 2015 11:32:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 4615 invoked by uid 99); 2 Jun 2015 11:32:40 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Jun 2015 11:32:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 2D06BCAB84
	for <dev@httpd.apache.org>; Tue,  2 Jun 2015 11:32:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 7qlShHDdDtqW for <dev@httpd.apache.org>;
	Tue,  2 Jun 2015 11:32:35 +0000 (UTC)
Received: from resqmta-ch2-12v.sys.comcast.net (resqmta-ch2-12v.sys.comcast.net [69.252.207.44])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 01B1B23131
	for <dev@httpd.apache.org>; Tue,  2 Jun 2015 11:32:34 +0000 (UTC)
Received: from resomta-ch2-08v.sys.comcast.net ([69.252.207.104])
	by resqmta-ch2-12v.sys.comcast.net with comcast
	id bPXG1q0032Fh1PH01PYTqw; Tue, 02 Jun 2015 11:32:27 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-08v.sys.comcast.net with comcast
	id bPYS1q00a1cCKD901PYTvp; Tue, 02 Jun 2015 11:32:27 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: T&R of 2.4.13
Message-Id: <E6489313-A1C9-41D7-8E01-B6584050404C@jaguNET.com>
Date: Tue, 2 Jun 2015 07:32:26 -0400
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1433244747;
	bh=ZZDz7gDpP2twTwnvE37ia9UYQopVaCxdZblMNgnvnA4=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=Q5fzKYfQ3tBwusmsZkv15CNLYp6OJzcZ6f10X0t5gUOxjpWWmcBtsXARI4Mdx4Upi
	 a7xQVGpzvSJrIHBO0Oa1c88TyYSlpp8nBKHVyPN81+BkscVvCJI3NZt7utGaZMtNYp
	 yquC76z8c95W6xvIl14KiAMhPYSyFNT7Oxm+SsMboJJOTiSJLpGUrrWFfhdUXOd71k
	 Mo19y1VGXQTTIYzC+NTUSRvgBFYNhKYaO9niKAJ6uxW/0IK8NODZkWsktrc5Vj2ZJ1
	 g03tmIQZCsuhnzrNn7y1gW+6HNizYkZ8dwylvLX+QJ3B+6BI8PAGrRgd2tkFgL6c0O
	 Yoc/0ypaRwcPg==

Although there are some cool things that I'd like to see in
2.4.13, I don't want to hold off any longer (plus, those
cool things would be good incentive for a 2.4.14 sooner
rather than later).

I plan to T&R 2.4.13 on Thurs, by Noon eastern.

From dev-return-82830-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun  2 12:51:27 2015
Return-Path: <dev-return-82830-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B8B6617EC6
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  2 Jun 2015 12:51:27 +0000 (UTC)
Received: (qmail 59021 invoked by uid 500); 2 Jun 2015 12:51:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58939 invoked by uid 500); 2 Jun 2015 12:51:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58929 invoked by uid 99); 2 Jun 2015 12:51:26 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Jun 2015 12:51:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 62275C0940
	for <dev@httpd.apache.org>; Tue,  2 Jun 2015 12:51:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id AklHjSmC2tuQ for <dev@httpd.apache.org>;
	Tue,  2 Jun 2015 12:51:24 +0000 (UTC)
Received: from mail-qg0-f50.google.com (mail-qg0-f50.google.com [209.85.192.50])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 1F37F2143B
	for <dev@httpd.apache.org>; Tue,  2 Jun 2015 12:51:24 +0000 (UTC)
Received: by qgfa63 with SMTP id a63so58183952qgf.0
        for <dev@httpd.apache.org>; Tue, 02 Jun 2015 05:49:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        bh=KNqvmaAhYHrVVOk2aMd0bv9DTBoG2p0a26VUfOf9E+E=;
        b=ia9MUcMJFL2Sf1cWw4G8cLkmohB2KIRGre7mcfYP9/8InM6JMh6GZzFoJP5491IfeE
         cvzwNKYDKJiEB5yIHoNSUhfkMPLJqdHu3BMGyQELwYp/x7HfyyiEmSLYGQQ7ct7Pa31T
         +S+ldI3xXeJ3l63FxB4Ew7Jv5bvfAhpqylSNqbf+aGw4GPqKyn50AR+nmQ+wuKaWgYwi
         fzUseRt5gyg/whVMbBYNOeahRR8gpGlj75ZszmbRf9ULNRDRqp4at9BacQirWt3plX4y
         /k6IzfUyjD9byATgR/kGwr78J3CsktXiiJl+1ANU5hVTXXa2IZkmIkJvciXuxBLStOQM
         TJVg==
X-Received: by 10.140.131.21 with SMTP id 21mr30256979qhd.51.1433249392982;
        Tue, 02 Jun 2015 05:49:52 -0700 (PDT)
Received: from ?IPv6:2606:a000:b541:6700:a413:6901:d1e7:f178? ([2606:a000:b541:6700:a413:6901:d1e7:f178])
        by mx.google.com with ESMTPSA id j44sm7308245qgd.28.2015.06.02.05.49.52
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Tue, 02 Jun 2015 05:49:52 -0700 (PDT)
Message-ID: <556DA66D.70701@gmail.com>
Date: Tue, 02 Jun 2015 08:49:49 -0400
From: Jeff Trawick <trawick@gmail.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: T&R of 2.4.13
References: <E6489313-A1C9-41D7-8E01-B6584050404C@jaguNET.com>
In-Reply-To: <E6489313-A1C9-41D7-8E01-B6584050404C@jaguNET.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit

On 06/02/2015 07:32 AM, Jim Jagielski wrote:
> Although there are some cool things that I'd like to see in
> 2.4.13, I don't want to hold off any longer (plus, those
> cool things would be good incentive for a 2.4.14 sooner
> rather than later).
>
> I plan to T&R 2.4.13 on Thurs, by Noon eastern.

 From a presentation last week to a Python user group: "These slides 
refer to some small features introduced in httpd 2.4.13, which will be 
available very soon." ;)


From dev-return-82831-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun  2 14:56:22 2015
Return-Path: <dev-return-82831-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B0154184BB
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  2 Jun 2015 14:56:22 +0000 (UTC)
Received: (qmail 41516 invoked by uid 500); 2 Jun 2015 14:56:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 41456 invoked by uid 500); 2 Jun 2015 14:56:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 41446 invoked by uid 99); 2 Jun 2015 14:56:22 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Jun 2015 14:56:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id ACB80181A4E
	for <dev@httpd.apache.org>; Tue,  2 Jun 2015 14:56:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.88
X-Spam-Level: **
X-Spam-Status: No, score=2.88 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ieTdYpc7Vaq6 for <dev@httpd.apache.org>;
	Tue,  2 Jun 2015 14:56:13 +0000 (UTC)
Received: from mail-qc0-f169.google.com (mail-qc0-f169.google.com [209.85.216.169])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id D399B24CE7
	for <dev@httpd.apache.org>; Tue,  2 Jun 2015 14:56:12 +0000 (UTC)
Received: by qcmi9 with SMTP id i9so60642526qcm.0
        for <dev@httpd.apache.org>; Tue, 02 Jun 2015 07:56:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :content-type;
        bh=HPd90r+HXiu3rVNA1mI/4CQT9/3Ny+iAb1cnIc3qriU=;
        b=PXIA9OzbTc9RecDRoWly3vCyZZsIlyPP/js0GA+cUQhczhJ8oUqGY/jWge7xivUuk/
         VbBVnGaRyUOjk4VRFMLMdN03HAXj3uRHoAXbiWj/h1Oh43iKzLilc01NwjypOC7ehCh4
         5PYbMt2owVdDp/UvaeTE4K6mhoHYx0UIpxbi9rgicHiTDri5nBECZ3PfEIVoazYOc+Ue
         X3xefOs16iIKAi51QvTRewwLnZTps0WuXF36xzlilyalA+W4wu2FPDH9u79voHUTYwVP
         NRLrgdmzdEl120GcEIieagJw3KDXCaa/m9VWgxZIEBhMwsIDptKplGDTaIpFQ59XPycY
         iADw==
X-Received: by 10.140.152.130 with SMTP id 124mr30598806qhy.65.1433256971829;
 Tue, 02 Jun 2015 07:56:11 -0700 (PDT)
MIME-Version: 1.0
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de>
 <5537C311.6020209@velox.ch> <40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com>
 <553B62C2.9080202@velox.ch> <D0F6D103-F293-4BCE-8213-0F0A1148FC26@greenbytes.de>
In-Reply-To: <D0F6D103-F293-4BCE-8213-0F0A1148FC26@greenbytes.de>
From: Eric Covener <covener@gmail.com>
Date: Tue, 02 Jun 2015 14:56:01 +0000
Message-ID: <CALK=YjNjxe4AkWOFfLBWf0jo0VNhQeTyrbCv5XRhyychKrwAvg@mail.gmail.com>
Subject: Re: ALPN patch comments
To: dev@httpd.apache.org, 
	"stefan.eissing@greenbytes.de" <stefan.eissing@greenbytes.de>
Content-Type: multipart/alternative; boundary=001a1135b6e0ad890b05178a2496

--001a1135b6e0ad890b05178a2496
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Can you test the latest rev of the backport candidate?

http://people.apache.org/~ylavic/httpd-2.4.x-alpn-v4.patch



On Mon, Apr 27, 2015 at 11:06 AM Stefan Eissing <
stefan.eissing@greenbytes.de> wrote:

>
> > Am 25.04.2015 um 11:47 schrieb Kaspar Brand <httpd-dev.2014@velox.ch>:
> >
> > On 22.04.2015 18:54, Jim Jagielski wrote:
> >>> For me the time seems right to rip NPN out of trunk and only backport
> >>> the ALPN code to 2.4.
> >>>
> >>
> >> I'd be +1 for that.
> >
> > So, to get one step further, and since there were no explicit objection=
s
> > to removing NPN support so far (or arguments for keeping it, FWIW), I
> > went ahead and took a stab at this with r1676004.
> >
> > Only tested in terms of "compiles both w/ and w/o HAVE_TLS_ALPN", so it
> > certainly needs more eyes before a backport proposal could be made.
> > There's also a "TODO: we should have a mod_ssl configuration parameter"
> > in ssl_engine_kernel.c which I'm unsure to what it refers.
>
> The =E2=80=9ETODO=E2=80=9C is a leftover from before SSLAlpnPreference wa=
s introduced. It
> can be removed.
>
> I diff=E2=80=99ed the current mod_ssl against the 2.4 branch, removed eve=
rything
> but he ALPN changes and made a patch for my sandbox. This works on my OS =
X
> with mod_h2. My Ubuntu sandbox is still resisting as some test clients
> still link the system ssl which only speaks NPN (or link against a
> lib_event that links against the system openssl). It=E2=80=99s a mess.
>
> Stefan
>
> >
> > Kaspar
>
> <green/>bytes GmbH
> Hafenweg 16, 48155 M=C3=BCnster, Germany
> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>
>
>
>

--001a1135b6e0ad890b05178a2496
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Can you test the latest rev of the backport candidate?<div=
><br></div><div><a href=3D"http://people.apache.org/~ylavic/httpd-2.4.x-alp=
n-v4.patch">http://people.apache.org/~ylavic/httpd-2.4.x-alpn-v4.patch</a><=
/div><div><br></div><div><br><br><div class=3D"gmail_quote"><div dir=3D"ltr=
">On Mon, Apr 27, 2015 at 11:06 AM Stefan Eissing &lt;<a href=3D"mailto:ste=
fan.eissing@greenbytes.de">stefan.eissing@greenbytes.de</a>&gt; wrote:<br><=
/div><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-le=
ft:1px #ccc solid;padding-left:1ex"><br>
&gt; Am 25.04.2015 um 11:47 schrieb Kaspar Brand &lt;<a href=3D"mailto:http=
d-dev.2014@velox.ch" target=3D"_blank">httpd-dev.2014@velox.ch</a>&gt;:<br>
&gt;<br>
&gt; On 22.04.2015 18:54, Jim Jagielski wrote:<br>
&gt;&gt;&gt; For me the time seems right to rip NPN out of trunk and only b=
ackport<br>
&gt;&gt;&gt; the ALPN code to 2.4.<br>
&gt;&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt; I&#39;d be +1 for that.<br>
&gt;<br>
&gt; So, to get one step further, and since there were no explicit objectio=
ns<br>
&gt; to removing NPN support so far (or arguments for keeping it, FWIW), I<=
br>
&gt; went ahead and took a stab at this with r1676004.<br>
&gt;<br>
&gt; Only tested in terms of &quot;compiles both w/ and w/o HAVE_TLS_ALPN&q=
uot;, so it<br>
&gt; certainly needs more eyes before a backport proposal could be made.<br=
>
&gt; There&#39;s also a &quot;TODO: we should have a mod_ssl configuration =
parameter&quot;<br>
&gt; in ssl_engine_kernel.c which I&#39;m unsure to what it refers.<br>
<br>
The =E2=80=9ETODO=E2=80=9C is a leftover from before SSLAlpnPreference was =
introduced. It can be removed.<br>
<br>
I diff=E2=80=99ed the current mod_ssl against the 2.4 branch, removed every=
thing but he ALPN changes and made a patch for my sandbox. This works on my=
 OS X with mod_h2. My Ubuntu sandbox is still resisting as some test client=
s still link the system ssl which only speaks NPN (or link against a lib_ev=
ent that links against the system openssl). It=E2=80=99s a mess.<br>
<br>
Stefan<br>
<br>
&gt;<br>
&gt; Kaspar<br>
<br>
&lt;green/&gt;bytes GmbH<br>
Hafenweg 16, 48155 M=C3=BCnster, Germany<br>
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782<br>
<br>
<br>
<br>
</blockquote></div></div></div>

--001a1135b6e0ad890b05178a2496--

From dev-return-82835-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun  2 23:53:39 2015
Return-Path: <dev-return-82835-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8F6CF172B7
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  2 Jun 2015 23:53:39 +0000 (UTC)
Received: (qmail 30371 invoked by uid 500); 2 Jun 2015 22:06:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 30298 invoked by uid 500); 2 Jun 2015 22:06:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 30288 invoked by uid 99); 2 Jun 2015 22:06:59 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Jun 2015 22:06:59 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 059FB1A43A4
	for <dev@httpd.apache.org>; Tue,  2 Jun 2015 22:06:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Y5v94bskCgkW for <dev@httpd.apache.org>;
	Tue,  2 Jun 2015 22:06:53 +0000 (UTC)
Received: from mail-ig0-f174.google.com (mail-ig0-f174.google.com [209.85.213.174])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id DCE93271A6
	for <dev@httpd.apache.org>; Tue,  2 Jun 2015 22:06:52 +0000 (UTC)
Received: by igbyr2 with SMTP id yr2so98353400igb.0
        for <dev@httpd.apache.org>; Tue, 02 Jun 2015 15:06:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=8tJMonsSOqf+oeteREic87nufVmfm2XbvIJ0eSzS0Bc=;
        b=xB/YVtRiw+2WgkLRIfNloRhUO+HPLcHxYZ4OP4Y5RoIlALZEN5lKS8MLhCKIDds5ZD
         3IWKOnD7zdNWpF6goBKb/RcF9kJqwuS6bE+nal5W+gAnf+/C7hvsgETomUgVPYsB8wD3
         /9teQJtO/V4Tf8nNLGZFpzvpO19+eQlq9sOSm29VAvGMi7IxwP1ywmvUjK40GNnytTKl
         klenyiv8cxFoQGRuzIYJW2ruOCG3nQjAc8KVYHAKfv6z/+ZDpYRdUJBJy191LYl17jEL
         R2BHKcYqihCrGJ0FvL26soDlXIcP99NVIJgXED6AZ4pyjfPx6E+RM07MC6Q4MViOCHte
         yy9w==
MIME-Version: 1.0
X-Received: by 10.43.162.136 with SMTP id mk8mr36495785icc.28.1433282767239;
 Tue, 02 Jun 2015 15:06:07 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Tue, 2 Jun 2015 15:06:07 -0700 (PDT)
In-Reply-To: <14B2222F-07B8-48C3-9CB7-69A8E205FEBC@cpanel.net>
References: <E6489313-A1C9-41D7-8E01-B6584050404C@jaguNET.com>
	<14B2222F-07B8-48C3-9CB7-69A8E205FEBC@cpanel.net>
Date: Wed, 3 Jun 2015 00:06:07 +0200
Message-ID: <CAKQ1sVP_W7dTyTknsC3TVrH7m2WwTOO9X6rFcnLC5mvJRRSHZQ@mail.gmail.com>
Subject: Re: T&R of 2.4.13
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Tue, Jun 2, 2015 at 11:58 PM, Jacob Perkins <jacob.perkins@cpanel.net> w=
rote:
>
> Any chance this one will make it into 2.4.13?  We manually patched our
> distribution in April and haven=E2=80=99t had any issues.
>
> https://bz.apache.org/bugzilla/show_bug.cgi?id=3D57531

This has already been backported to 2.4.13 with http://svn.apache.org/r1668=
879

Regards,
Yann.

From dev-return-82832-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun  3 00:23:57 2015
Return-Path: <dev-return-82832-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9225D17ABC
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Jun 2015 00:23:57 +0000 (UTC)
Received: (qmail 66887 invoked by uid 500); 2 Jun 2015 21:37:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 66811 invoked by uid 500); 2 Jun 2015 21:37:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 66799 invoked by uid 99); 2 Jun 2015 21:37:17 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Jun 2015 21:37:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 07E26181A4E
	for <dev@httpd.apache.org>; Tue,  2 Jun 2015 21:37:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.98
X-Spam-Level: **
X-Spam-Status: No, score=2.98 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id xcWc4fdPXetv for <dev@httpd.apache.org>;
	Tue,  2 Jun 2015 21:37:09 +0000 (UTC)
Received: from mail-ig0-f174.google.com (mail-ig0-f174.google.com [209.85.213.174])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 0F17A275D5
	for <dev@httpd.apache.org>; Tue,  2 Jun 2015 21:37:08 +0000 (UTC)
Received: by igblz2 with SMTP id lz2so22077478igb.1
        for <dev@httpd.apache.org>; Tue, 02 Jun 2015 14:36:23 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=5PY24Git5iV7haZ8WlHaO04oE+18ekOftDd/aNcAVrQ=;
        b=FzWmR6YSyrOu+UnaT4OhRU2NiW/s0LGToDuofeobvW4wa1N7DeDRRUGrMi6AF1aHVY
         L7vwAZuHuhYbtVgMGRj3i52Jwtc6IRfxjfIrecSbwHU1flX7VEl3E8GwzUtW2PNo6Wc+
         8jz/J/7jp0++xW3ajWB9YzeldGPMtgNpEoqQtLpe+UnDlcK4bl5H9WlTiYcaQWhZxt+s
         MAMcc6LqXv+m24d2dvZoUsaflQ5f2wFF5DiamQeRRSrp7NBCy5sPk5GPysAyKSr4Xmg7
         YMwwyiZEPlW913WGYTywlvsXNTdDrLg0JnQHTrzktRd58ZUMipiuIKOnSBOb6hXbt+so
         E3CQ==
X-Gm-Message-State: ALoCoQnEO/RSPs0bI6MYda3lqh1RB5mtNZS3LmRxpVdsEVUx62AksGlWRWAhwEiPxTGpvcflcENT
MIME-Version: 1.0
X-Received: by 10.107.164.91 with SMTP id n88mr17536505ioe.54.1433280983381;
 Tue, 02 Jun 2015 14:36:23 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Tue, 2 Jun 2015 14:36:23 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <E6489313-A1C9-41D7-8E01-B6584050404C@jaguNET.com>
References: <E6489313-A1C9-41D7-8E01-B6584050404C@jaguNET.com>
Date: Tue, 2 Jun 2015 16:36:23 -0500
Message-ID: <CACsi250jKY-G+yROzMuPZ+2+ePWe4zN247fBAGr9ShLpjZU61A@mail.gmail.com>
Subject: Re: T&R of 2.4.13
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1141e4c8e0d85505178fbbc3

--001a1141e4c8e0d85505178fbbc3
Content-Type: text/plain; charset=UTF-8

On Tue, Jun 2, 2015 at 6:32 AM, Jim Jagielski <jim@jagunet.com> wrote:

> Although there are some cool things that I'd like to see in
> 2.4.13, I don't want to hold off any longer (plus, those
> cool things would be good incentive for a 2.4.14 sooner
> rather than later).
>
> I plan to T&R 2.4.13 on Thurs, by Noon eastern.
>

+1, planning to match you with a T&R of 2.2.30 on the same timetable.

There is a nominally important last patch in 2.2 STATUS, if a third pair of
eyes have the cycles to review it.

--001a1141e4c8e0d85505178fbbc3
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
ue, Jun 2, 2015 at 6:32 AM, Jim Jagielski <span dir=3D"ltr">&lt;<a href=3D"=
mailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt;</span> wr=
ote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border=
-left:1px #ccc solid;padding-left:1ex">Although there are some cool things =
that I&#39;d like to see in<br>
2.4.13, I don&#39;t want to hold off any longer (plus, those<br>
cool things would be good incentive for a 2.4.14 sooner<br>
rather than later).<br>
<br>
I plan to T&amp;R 2.4.13 on Thurs, by Noon eastern.<br>
</blockquote></div><br></div><div class=3D"gmail_extra">+1, planning to mat=
ch you with a T&amp;R of 2.2.30 on the same timetable.</div><div class=3D"g=
mail_extra"><br></div><div class=3D"gmail_extra">There is a nominally impor=
tant last patch in 2.2 STATUS, if a third pair of eyes have the cycles to r=
eview it.</div></div>

--001a1141e4c8e0d85505178fbbc3--

From dev-return-82833-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun  3 00:32:20 2015
Return-Path: <dev-return-82833-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 14A8817C2F
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Jun 2015 00:32:20 +0000 (UTC)
Received: (qmail 78811 invoked by uid 500); 2 Jun 2015 21:42:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 78738 invoked by uid 500); 2 Jun 2015 21:42:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 78728 invoked by uid 99); 2 Jun 2015 21:42:19 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Jun 2015 21:42:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 79FAA1A437E
	for <dev@httpd.apache.org>; Tue,  2 Jun 2015 21:42:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.031
X-Spam-Level:
X-Spam-Status: No, score=-0.031 tagged_above=-999 required=6.31
	tests=[RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id fuMDaOFQoi6g for <dev@httpd.apache.org>;
	Tue,  2 Jun 2015 21:42:18 +0000 (UTC)
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 6F1D2428FF
	for <dev@httpd.apache.org>; Tue,  2 Jun 2015 21:42:18 +0000 (UTC)
Received: from orsmga002.jf.intel.com ([10.7.209.21])
  by orsmga102.jf.intel.com with ESMTP; 02 Jun 2015 14:40:11 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.13,541,1427785200"; 
   d="scan'208";a="739705774"
Received: from orsmsx108.amr.corp.intel.com ([10.22.240.6])
  by orsmga002.jf.intel.com with ESMTP; 02 Jun 2015 14:40:11 -0700
Received: from orsmsx158.amr.corp.intel.com (10.22.240.20) by
 ORSMSX108.amr.corp.intel.com (10.22.240.6) with Microsoft SMTP Server (TLS)
 id 14.3.224.2; Tue, 2 Jun 2015 14:40:10 -0700
Received: from orsmsx113.amr.corp.intel.com ([169.254.7.126]) by
 ORSMSX158.amr.corp.intel.com ([169.254.10.250]) with mapi id 14.03.0224.002;
 Tue, 2 Jun 2015 14:40:10 -0700
From: "Lu, Yingqi" <yingqi.lu@intel.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: T&R of 2.4.13
Thread-Topic: T&R of 2.4.13
Thread-Index: AQHQnSfftw8yQjLTpkegrXvPUYViKJ2ZoEGAgAAeZoA=
Date: Tue, 2 Jun 2015 21:40:10 +0000
Message-ID: <9ACD5B67AAC5594CB6268234CF29CF9AA39227AF@ORSMSX113.amr.corp.intel.com>
References: <E6489313-A1C9-41D7-8E01-B6584050404C@jaguNET.com>
 <556DA66D.70701@gmail.com>
In-Reply-To: <556DA66D.70701@gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.22.254.138]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

Hi All,

The SO_REUSEPORT patch is only lack one vote now. It would be really great =
if we can make it this time.

Guys, please test it out and vote for us if you like it. It boosts your per=
formance on bigger Xeon systems.

Thanks,
Yingqi

-----Original Message-----
From: Jeff Trawick [mailto:trawick@gmail.com]=20
Sent: Tuesday, June 02, 2015 5:50 AM
To: dev@httpd.apache.org
Subject: Re: T&R of 2.4.13

On 06/02/2015 07:32 AM, Jim Jagielski wrote:
> Although there are some cool things that I'd like to see in 2.4.13, I=20
> don't want to hold off any longer (plus, those cool things would be=20
> good incentive for a 2.4.14 sooner rather than later).
>
> I plan to T&R 2.4.13 on Thurs, by Noon eastern.

 From a presentation last week to a Python user group: "These slides refer =
to some small features introduced in httpd 2.4.13, which will be available =
very soon." ;)


From dev-return-82834-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun  3 00:46:30 2015
Return-Path: <dev-return-82834-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C8FAE17DED
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Jun 2015 00:46:30 +0000 (UTC)
Received: (qmail 21994 invoked by uid 500); 2 Jun 2015 21:59:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 21904 invoked by uid 500); 2 Jun 2015 21:59:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 21894 invoked by uid 99); 2 Jun 2015 21:59:49 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 02 Jun 2015 21:59:49 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 70877CADE8
	for <dev@httpd.apache.org>; Tue,  2 Jun 2015 21:59:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.989
X-Spam-Level: **
X-Spam-Status: No, score=2.989 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 2k5TEknA2a8l for <dev@httpd.apache.org>;
	Tue,  2 Jun 2015 21:59:40 +0000 (UTC)
Received: from mx1.cpanel.net (mx1.cpanel.net [208.74.121.68])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id BD4D4271A6
	for <dev@httpd.apache.org>; Tue,  2 Jun 2015 21:59:40 +0000 (UTC)
Received: from ng1.cptxoffice.net ([208.74.121.102]:30504 helo=[10.1.4.91])
	by mx1.cpanel.net with esmtpsa (TLSv1:DHE-RSA-AES256-SHA:256)
	(Exim 4.85)
	(envelope-from <jacob.perkins@cpanel.net>)
	id 1YzuCd-0004sw-KJ
	for dev@httpd.apache.org; Tue, 02 Jun 2015 16:58:31 -0500
Content-Type: multipart/signed; boundary="Apple-Mail=_4F2A4FC6-BDC8-48A8-859A-76412A27BB4B"; protocol="application/pgp-signature"; micalg=pgp-sha512
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: T&R of 2.4.13
X-Pgp-Agent: GPGMail 2.5b6
From: Jacob Perkins <jacob.perkins@cpanel.net>
In-Reply-To: <E6489313-A1C9-41D7-8E01-B6584050404C@jaguNET.com>
Date: Tue, 2 Jun 2015 16:58:30 -0500
Message-Id: <14B2222F-07B8-48C3-9CB7-69A8E205FEBC@cpanel.net>
References: <E6489313-A1C9-41D7-8E01-B6584050404C@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - mx1.cpanel.net
X-AntiAbuse: Original Domain - httpd.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - cpanel.net
X-Get-Message-Sender-Via: mx1.cpanel.net: authenticated_id: jacob.perkins@cpanel.net


--Apple-Mail=_4F2A4FC6-BDC8-48A8-859A-76412A27BB4B
Content-Type: multipart/alternative;
	boundary="Apple-Mail=_9B8B376D-3996-4D28-A1FB-71C9070E9660"


--Apple-Mail=_9B8B376D-3996-4D28-A1FB-71C9070E9660
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=utf-8

Good afternoon!

Any chance this one will make it into 2.4.13?  We manually patched our =
distribution in April and haven=E2=80=99t had any issues.

https://bz.apache.org/bugzilla/show_bug.cgi?id=3D57531 =
<https://bz.apache.org/bugzilla/show_bug.cgi?id=3D57531>

Thanks!


> On Jun 2, 2015, at 6:32 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
> Although there are some cool things that I'd like to see in
> 2.4.13, I don't want to hold off any longer (plus, those
> cool things would be good incentive for a 2.4.14 sooner
> rather than later).
>=20
> I plan to T&R 2.4.13 on Thurs, by Noon eastern.


--Apple-Mail=_9B8B376D-3996-4D28-A1FB-71C9070E9660
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html;
	charset=utf-8

<html><head><meta http-equiv=3D"Content-Type" content=3D"text/html =
charset=3Dutf-8"></head><body style=3D"word-wrap: break-word; =
-webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" =
class=3D""><div class=3D"">Good afternoon!</div><div class=3D""><br =
class=3D""></div>Any chance this one will make it into 2.4.13? &nbsp;We =
manually patched our distribution in April and haven=E2=80=99t had any =
issues.<div class=3D""><br class=3D""></div><div class=3D""><a =
href=3D"https://bz.apache.org/bugzilla/show_bug.cgi?id=3D57531" =
class=3D"">https://bz.apache.org/bugzilla/show_bug.cgi?id=3D57531</a></div=
><div class=3D""><br class=3D""></div><div class=3D"">Thanks!<br =
class=3D""><div apple-content-edited=3D"true" class=3D"">
<div style=3D"color: rgb(0, 0, 0); font-family: Helvetica; font-size: =
12px; font-style: normal; font-variant: normal; font-weight: normal; =
letter-spacing: normal; line-height: normal; text-align: -webkit-auto; =
text-indent: 0px; text-transform: none; white-space: normal; =
word-spacing: 0px; -webkit-text-stroke-width: 0px; orphans: 2; widows: =
2; word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D""><br class=3D""></div><div style=3D"color: =
rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: =
normal; font-variant: normal; font-weight: normal; letter-spacing: =
normal; line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D""><br class=3D""></div></div><div><blockquote=
 type=3D"cite" class=3D""><div class=3D"">On Jun 2, 2015, at 6:32 AM, =
Jim Jagielski &lt;<a href=3D"mailto:jim@jaguNET.com" =
class=3D"">jim@jaguNET.com</a>&gt; wrote:</div><br =
class=3D"Apple-interchange-newline"><div class=3D"">Although there are =
some cool things that I'd like to see in<br class=3D"">2.4.13, I don't =
want to hold off any longer (plus, those<br class=3D"">cool things would =
be good incentive for a 2.4.14 sooner<br class=3D"">rather than =
later).<br class=3D""><br class=3D"">I plan to T&amp;R 2.4.13 on Thurs, =
by Noon eastern.<br class=3D""></div></blockquote></div><br =
class=3D""></div></body></html>=

--Apple-Mail=_9B8B376D-3996-4D28-A1FB-71C9070E9660--

--Apple-Mail=_4F2A4FC6-BDC8-48A8-859A-76412A27BB4B
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
	filename=signature.asc
Content-Type: application/pgp-signature;
	name=signature.asc
Content-Description: Message signed with OpenPGP using GPGMail

-----BEGIN PGP SIGNATURE-----
Comment: GPGTools - https://gpgtools.org

iQEcBAEBCgAGBQJVbicGAAoJEIo8JcFLoqwq1KcH/1uKZEtp8jvKZB3jPhj6OVJ5
We5oeRMMfCczb+I3X2Gj/XkMwGJQ/H3IsMD1epEfYf11uf4hkM0uvccjOqIhpZ7a
UVCMO/nS42+V/CeqEEhzbLd+6KSPrXygkiwBDKokM9eP7fLy1sAyiu/kpknKDo/G
WWWbbNY9NbXmlGy6rhe3gRkm8d5IFYAqbBrZ5edOy4dLV+YfdV8jsx8iYbG1HSY8
qWkb/fPi+RdlcKopEhniVzlzcMjbgjTXmMBgVULVefo9U2/zxzfPdii5udMg7ODE
TPHBUEBdXDbmjBmmkvwgov+k4ZfrBXoPxDYNdtBT83gHEo/NlfTzLjwdkxgVMiw=
=EEdn
-----END PGP SIGNATURE-----

--Apple-Mail=_4F2A4FC6-BDC8-48A8-859A-76412A27BB4B--

From dev-return-82836-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun  3 07:06:03 2015
Return-Path: <dev-return-82836-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B8E3210D28
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Jun 2015 07:06:03 +0000 (UTC)
Received: (qmail 76498 invoked by uid 500); 3 Jun 2015 07:06:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76434 invoked by uid 500); 3 Jun 2015 07:06:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76424 invoked by uid 99); 3 Jun 2015 07:06:03 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Jun 2015 07:06:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id C79BF1802E8
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 07:06:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.998
X-Spam-Level: **
X-Spam-Status: No, score=2.998 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ARccV2_ozngd for <dev@httpd.apache.org>;
	Wed,  3 Jun 2015 07:06:01 +0000 (UTC)
Received: from mail-ig0-f171.google.com (mail-ig0-f171.google.com [209.85.213.171])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 6FC2523142
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 07:06:00 +0000 (UTC)
Received: by igbhj9 with SMTP id hj9so104953093igb.1
        for <dev@httpd.apache.org>; Wed, 03 Jun 2015 00:05:14 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=haZm5dnhsjdmbzkEejWYwUjcf6knAipHYqYBi4R6GKI=;
        b=K5Sa8JgiiisEZvEUPwgyRAu8RosD/sDTHAB80Oz9Mf5jHIvgwpij1J4xG3L6GoYrEn
         NmgmYh4RaWJudpPIvWatLDf0RuS16KfJ9h6Z/6v59hrvK7Zp+78uift+ex/qaMtXSyuv
         2gKs4YSJ9dWI1DrcCRyrFpA2IKJ7HpYKcFRC9xssOBpf2iqzsFvDobsme2RNWz4CRUwH
         vU35Na0rIRFJWgG1bJ9aBRodhBbH/Ctmz8HubXzx8ogLQ5bw1Dofx+2lgKTAz4+csNgB
         PLM2m95dRo2bWPMjc8frXGBg22oF9+YjSrifr/tD2k+DQMqup9vKbMfpg6CDXjQmLE3Z
         ivCQ==
X-Gm-Message-State: ALoCoQn2nViKaLslE4GxnTY+PFay53A10u3inuq1qSkvlm59WxUX073vSPhinT0pgp1ASDyZimK6
MIME-Version: 1.0
X-Received: by 10.43.139.6 with SMTP id iu6mr4394222icc.32.1433315114423; Wed,
 03 Jun 2015 00:05:14 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Wed, 3 Jun 2015 00:05:14 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
Received: by 10.107.190.195 with HTTP; Wed, 3 Jun 2015 00:05:14 -0700 (PDT)
In-Reply-To: <20150602054058.696F7AC026E@hades.apache.org>
References: <20150602054058.696F7AC026E@hades.apache.org>
Date: Wed, 3 Jun 2015 02:05:14 -0500
Message-ID: <CACsi252=KhKGYfPfzn641icqrW4jHoMu5sy36-QmY3HVVYkdCw@mail.gmail.com>
Subject: Re: svn commit: r1683044 - /httpd/httpd/trunk/server/core.c
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11c308683f3ba4051797aef3

--001a11c308683f3ba4051797aef3
Content-Type: text/plain; charset=UTF-8

I tried to reconcile your patch with your svn log entry and I failed.
Could you either correct or explain further?

TIA,

Bill
On Jun 2, 2015 12:40 AM, <jailletc36@apache.org> wrote:

> Author: jailletc36
> Date: Tue Jun  2 05:40:57 2015
> New Revision: 1683044
>
> URL: http://svn.apache.org/r1683044
> Log:
> Skip a few bytes before calling 'strchr' if we know that they can't match.
> s/apr_pstrndup/apr_pstrmemdup/ when applicable.
> Fix a comment typo.
>
> Modified:
>     httpd/httpd/trunk/server/core.c
>
> Modified: httpd/httpd/trunk/server/core.c
> URL:
> http://svn.apache.org/viewvc/httpd/httpd/trunk/server/core.c?rev=1683044&r1=1683043&r2=1683044&view=diff
>
> ==============================================================================
> --- httpd/httpd/trunk/server/core.c (original)
> +++ httpd/httpd/trunk/server/core.c Tue Jun  2 05:40:57 2015
> @@ -1263,8 +1263,8 @@ AP_DECLARE(const char *) ap_resolve_env(
>          }
>
>          if (*s == '$') {
> -            if (s[1] == '{' && (e = ap_strchr_c(s, '}'))) {
> -                char *name = apr_pstrndup(p, s+2, e-s-2);
> +            if (s[1] == '{' && (e = ap_strchr_c(s+2, '}'))) {
> +                char *name = apr_pstrmemdup(p, s+2, e-s-2);
>                  word = NULL;
>                  if (server_config_defined_vars)
>                      word = apr_table_get(server_config_defined_vars,
> name);
> @@ -2147,7 +2147,7 @@ AP_CORE_DECLARE_NONSTD(const char *) ap_
>          return unclosed_directive(cmd);
>      }
>
> -    limited_methods = apr_pstrndup(cmd->temp_pool, arg, endp - arg);
> +    limited_methods = apr_pstrmemdup(cmd->temp_pool, arg, endp - arg);
>
>      if (!limited_methods[0]) {
>          return missing_container_arg(cmd);
> @@ -2164,7 +2164,7 @@ AP_CORE_DECLARE_NONSTD(const char *) ap_
>              return "TRACE cannot be controlled by <Limit>, see
> TraceEnable";
>          }
>          else if (methnum == M_INVALID) {
> -            /* method has not been registered yet, but resorce restriction
> +            /* method has not been registered yet, but resource
> restriction
>               * is always checked before method handling, so register it.
>               */
>              methnum = ap_method_register(cmd->pool,
>
>
>

--001a11c308683f3ba4051797aef3
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">I tried to reconcile your patch with your svn log entry and =
I failed.=C2=A0 Could you either correct or explain further?</p>
<p dir=3D"ltr">TIA,</p>
<p dir=3D"ltr">Bill</p>
<div class=3D"gmail_quote">On Jun 2, 2015 12:40 AM,  &lt;<a href=3D"mailto:=
jailletc36@apache.org">jailletc36@apache.org</a>&gt; wrote:<br type=3D"attr=
ibution"><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;borde=
r-left:1px #ccc solid;padding-left:1ex">Author: jailletc36<br>
Date: Tue Jun=C2=A0 2 05:40:57 2015<br>
New Revision: 1683044<br>
<br>
URL: <a href=3D"http://svn.apache.org/r1683044" target=3D"_blank">http://sv=
n.apache.org/r1683044</a><br>
Log:<br>
Skip a few bytes before calling &#39;strchr&#39; if we know that they can&#=
39;t match.<br>
s/apr_pstrndup/apr_pstrmemdup/ when applicable.<br>
Fix a comment typo.<br>
<br>
Modified:<br>
=C2=A0 =C2=A0 httpd/httpd/trunk/server/core.c<br>
<br>
Modified: httpd/httpd/trunk/server/core.c<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/trunk/server/core.=
c?rev=3D1683044&amp;r1=3D1683043&amp;r2=3D1683044&amp;view=3Ddiff" target=
=3D"_blank">http://svn.apache.org/viewvc/httpd/httpd/trunk/server/core.c?re=
v=3D1683044&amp;r1=3D1683043&amp;r2=3D1683044&amp;view=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/trunk/server/core.c (original)<br>
+++ httpd/httpd/trunk/server/core.c Tue Jun=C2=A0 2 05:40:57 2015<br>
@@ -1263,8 +1263,8 @@ AP_DECLARE(const char *) ap_resolve_env(<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0}<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0if (*s =3D=3D &#39;$&#39;) {<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 if (s[1] =3D=3D &#39;{&#39; &amp=
;&amp; (e =3D ap_strchr_c(s, &#39;}&#39;))) {<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 char *name =3D apr=
_pstrndup(p, s+2, e-s-2);<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 if (s[1] =3D=3D &#39;{&#39; &amp=
;&amp; (e =3D ap_strchr_c(s+2, &#39;}&#39;))) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 char *name =3D apr=
_pstrmemdup(p, s+2, e-s-2);<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0word =3D NULL=
;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0if (server_co=
nfig_defined_vars)<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0word =3D apr_table_get(server_config_defined_vars, name);<br>
@@ -2147,7 +2147,7 @@ AP_CORE_DECLARE_NONSTD(const char *) ap_<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0return unclosed_directive(cmd);<br>
=C2=A0 =C2=A0 =C2=A0}<br>
<br>
-=C2=A0 =C2=A0 limited_methods =3D apr_pstrndup(cmd-&gt;temp_pool, arg, end=
p - arg);<br>
+=C2=A0 =C2=A0 limited_methods =3D apr_pstrmemdup(cmd-&gt;temp_pool, arg, e=
ndp - arg);<br>
<br>
=C2=A0 =C2=A0 =C2=A0if (!limited_methods[0]) {<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0return missing_container_arg(cmd);<br>
@@ -2164,7 +2164,7 @@ AP_CORE_DECLARE_NONSTD(const char *) ap_<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0return &quot;TRACE cannot b=
e controlled by &lt;Limit&gt;, see TraceEnable&quot;;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0}<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0else if (methnum =3D=3D M_INVALID) {<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 /* method has not been registere=
d yet, but resorce restriction<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 /* method has not been registere=
d yet, but resource restriction<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 * is always checked before=
 method handling, so register it.<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 */<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0methnum =3D ap_method_regis=
ter(cmd-&gt;pool,<br>
<br>
<br>
</blockquote></div>

--001a11c308683f3ba4051797aef3--

From dev-return-82837-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun  3 10:57:02 2015
Return-Path: <dev-return-82837-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C878C178F4
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Jun 2015 10:57:02 +0000 (UTC)
Received: (qmail 56111 invoked by uid 500); 3 Jun 2015 10:57:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56036 invoked by uid 500); 3 Jun 2015 10:57:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56026 invoked by uid 99); 3 Jun 2015 10:57:02 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Jun 2015 10:57:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id C632218275D
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 10:57:01 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id xnRfoh_9g895 for <dev@httpd.apache.org>;
	Wed,  3 Jun 2015 10:56:53 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id E2C9D25404
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 10:56:49 +0000 (UTC)
Received: from [10.6.75.145] (unknown [213.172.45.210])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 2789815A0669
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 12:56:42 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: ALPN patch comments
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CALK=YjNjxe4AkWOFfLBWf0jo0VNhQeTyrbCv5XRhyychKrwAvg@mail.gmail.com>
Date: Wed, 3 Jun 2015 12:56:40 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <CBBC0006-0176-425C-B2A0-F78F8A90874D@greenbytes.de>
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de> <5537C311.6020209@velox.ch> <40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com> <553B62C2.9080202@velox.ch> <D0F6D103-F293-4BCE-8213-0F0A1148FC26@greenbytes.de> <CALK=YjNjxe4AkWOFfLBWf0jo0VNhQeTyrbCv5XRhyychKrwAvg@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)

I tested the lined patch on a 2.4.x checkout with mod_h2 on OS X 10.10 =
and openssl 1.0.2. All my tests ran fine.

//Stefan

> Am 02.06.2015 um 16:56 schrieb Eric Covener <covener@gmail.com>:
>=20
> Can you test the latest rev of the backport candidate?
>=20
> http://people.apache.org/~ylavic/httpd-2.4.x-alpn-v4.patch
>=20
>=20
>=20
> On Mon, Apr 27, 2015 at 11:06 AM Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
> > Am 25.04.2015 um 11:47 schrieb Kaspar Brand =
<httpd-dev.2014@velox.ch>:
> >
> > On 22.04.2015 18:54, Jim Jagielski wrote:
> >>> For me the time seems right to rip NPN out of trunk and only =
backport
> >>> the ALPN code to 2.4.
> >>>
> >>
> >> I'd be +1 for that.
> >
> > So, to get one step further, and since there were no explicit =
objections
> > to removing NPN support so far (or arguments for keeping it, FWIW), =
I
> > went ahead and took a stab at this with r1676004.
> >
> > Only tested in terms of "compiles both w/ and w/o HAVE_TLS_ALPN", so =
it
> > certainly needs more eyes before a backport proposal could be made.
> > There's also a "TODO: we should have a mod_ssl configuration =
parameter"
> > in ssl_engine_kernel.c which I'm unsure to what it refers.
>=20
> The =E2=80=9ETODO=E2=80=9C is a leftover from before SSLAlpnPreference =
was introduced. It can be removed.
>=20
> I diff=E2=80=99ed the current mod_ssl against the 2.4 branch, removed =
everything but he ALPN changes and made a patch for my sandbox. This =
works on my OS X with mod_h2. My Ubuntu sandbox is still resisting as =
some test clients still link the system ssl which only speaks NPN (or =
link against a lib_event that links against the system openssl). It=E2=80=99=
s a mess.
>=20
> Stefan
>=20
> >
> > Kaspar
>=20
> <green/>bytes GmbH
> Hafenweg 16, 48155 M=C3=BCnster, Germany
> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>=20
>=20
>=20

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82838-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun  3 12:52:16 2015
Return-Path: <dev-return-82838-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3958C17D1F
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Jun 2015 12:52:16 +0000 (UTC)
Received: (qmail 2135 invoked by uid 500); 3 Jun 2015 12:52:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 2077 invoked by uid 500); 3 Jun 2015 12:52:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 2066 invoked by uid 99); 3 Jun 2015 12:52:15 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Jun 2015 12:52:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 351E31A4452
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 12:52:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 10C7xrk3TI-G for <dev@httpd.apache.org>;
	Wed,  3 Jun 2015 12:52:06 +0000 (UTC)
Received: from mail-ig0-f169.google.com (mail-ig0-f169.google.com [209.85.213.169])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id E2055275E5
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 12:52:05 +0000 (UTC)
Received: by igbhj9 with SMTP id hj9so110832117igb.1
        for <dev@httpd.apache.org>; Wed, 03 Jun 2015 05:52:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=/bGKorVVx3xtNZPwi3Cx+jBSVxCS716aybERJxXQrNk=;
        b=iPUtMobqg5Tw4mxMbo8KWyVdlD5C102XVjJvhCvCGzjeU7dXU4YdaJ1/pau7zsGkCi
         8V2PNKB1CV0XzifBLVzkjnfMzVCQrzBHTz1CwcJ6NPh520Rm4sc+KejgUI1hPBC68POf
         Z70gzQTMhLSKpFfwP3Nss+WPhBRkm566mTP4bNuELx03PynC/dpcAsctYbVRrX+Wimhu
         QT7taeT4JCb/AMUvJZUd+TpO/mbZbVPFU3E5G3ue2bZHU4BaIGaBW2QxGh4FvCHJbwMI
         XSrciYN/e0OW6d7ocfabi4zNGUc3Kt0vQcSbdC99uqIq9tbVjvKzcj6xpkOFtmAgfUxw
         wPnQ==
MIME-Version: 1.0
X-Received: by 10.50.176.228 with SMTP id cl4mr27084555igc.2.1433335925394;
 Wed, 03 Jun 2015 05:52:05 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Wed, 3 Jun 2015 05:52:05 -0700 (PDT)
In-Reply-To: <CBBC0006-0176-425C-B2A0-F78F8A90874D@greenbytes.de>
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de>
	<5537C311.6020209@velox.ch>
	<40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com>
	<553B62C2.9080202@velox.ch>
	<D0F6D103-F293-4BCE-8213-0F0A1148FC26@greenbytes.de>
	<CALK=YjNjxe4AkWOFfLBWf0jo0VNhQeTyrbCv5XRhyychKrwAvg@mail.gmail.com>
	<CBBC0006-0176-425C-B2A0-F78F8A90874D@greenbytes.de>
Date: Wed, 3 Jun 2015 14:52:05 +0200
Message-ID: <CAKQ1sVN078AbA5gSWrZsYCuNFrs3yHysCANUyMiN-M916O+D-w@mail.gmail.com>
Subject: Re: ALPN patch comments
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

I wonder if registering the ssl_callback_alpn_select callback
inconditionally could break some clients.
Are those (ALPN ready) always negociate "http/1.1"?

Otherwise we could check for sc->server->ssl_alpn_pref->nelts > 0 (or
a dedicated SSLAlpnEnable) beforing using
SSL_CTX_set_alpn_select_cb().
In that case mod_h2 would not work out of the box, needing some
administration on the httpd side.


On Wed, Jun 3, 2015 at 12:56 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> I tested the lined patch on a 2.4.x checkout with mod_h2 on OS X 10.10 an=
d openssl 1.0.2. All my tests ran fine.
>
> //Stefan
>
>> Am 02.06.2015 um 16:56 schrieb Eric Covener <covener@gmail.com>:
>>
>> Can you test the latest rev of the backport candidate?
>>
>> http://people.apache.org/~ylavic/httpd-2.4.x-alpn-v4.patch
>>
>>
>>
>> On Mon, Apr 27, 2015 at 11:06 AM Stefan Eissing <stefan.eissing@greenbyt=
es.de> wrote:
>>
>> > Am 25.04.2015 um 11:47 schrieb Kaspar Brand <httpd-dev.2014@velox.ch>:
>> >
>> > On 22.04.2015 18:54, Jim Jagielski wrote:
>> >>> For me the time seems right to rip NPN out of trunk and only backpor=
t
>> >>> the ALPN code to 2.4.
>> >>>
>> >>
>> >> I'd be +1 for that.
>> >
>> > So, to get one step further, and since there were no explicit objectio=
ns
>> > to removing NPN support so far (or arguments for keeping it, FWIW), I
>> > went ahead and took a stab at this with r1676004.
>> >
>> > Only tested in terms of "compiles both w/ and w/o HAVE_TLS_ALPN", so i=
t
>> > certainly needs more eyes before a backport proposal could be made.
>> > There's also a "TODO: we should have a mod_ssl configuration parameter=
"
>> > in ssl_engine_kernel.c which I'm unsure to what it refers.
>>
>> The =E2=80=9ETODO=E2=80=9C is a leftover from before SSLAlpnPreference w=
as introduced. It can be removed.
>>
>> I diff=E2=80=99ed the current mod_ssl against the 2.4 branch, removed ev=
erything but he ALPN changes and made a patch for my sandbox. This works on=
 my OS X with mod_h2. My Ubuntu sandbox is still resisting as some test cli=
ents still link the system ssl which only speaks NPN (or link against a lib=
_event that links against the system openssl). It=E2=80=99s a mess.
>>
>> Stefan
>>
>> >
>> > Kaspar
>>
>> <green/>bytes GmbH
>> Hafenweg 16, 48155 M=C3=BCnster, Germany
>> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>>
>>
>>
>
> <green/>bytes GmbH
> Hafenweg 16, 48155 M=C3=BCnster, Germany
> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>
>
>

From dev-return-82839-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun  3 13:43:59 2015
Return-Path: <dev-return-82839-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3B2D817F07
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Jun 2015 13:43:59 +0000 (UTC)
Received: (qmail 28683 invoked by uid 500); 3 Jun 2015 13:43:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28610 invoked by uid 500); 3 Jun 2015 13:43:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28600 invoked by uid 99); 3 Jun 2015 13:43:58 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Jun 2015 13:43:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 212311802E8
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 13:43:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id rUHRZPFIy53J for <dev@httpd.apache.org>;
	Wed,  3 Jun 2015 13:43:47 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 611A5275E8
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 13:43:47 +0000 (UTC)
Received: from [10.6.75.145] (unknown [213.172.45.210])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id D4D3915A00EB
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 15:43:08 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: ALPN patch comments
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVN078AbA5gSWrZsYCuNFrs3yHysCANUyMiN-M916O+D-w@mail.gmail.com>
Date: Wed, 3 Jun 2015 15:43:06 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <70D0E670-B41E-47A3-A03D-C3C290B95151@greenbytes.de>
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de> <5537C311.6020209@velox.ch> <40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com> <553B62C2.9080202@velox.ch> <D0F6D103-F293-4BCE-8213-0F0A1148FC26@greenbytes.de> <CALK=YjNjxe4AkWOFfLBWf0jo0VNhQeTyrbCv5XRhyychKrwAvg@mail.gmail.com> <CBBC0006-0176-425C-B2A0-F78F8A90874D@greenbytes.de> <CAKQ1sVN078AbA5gSWrZsYCuNFrs3yHysCANUyMiN-M916O+D-w@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)

Hmm, personally, I do not like redundant configurations. If someone =
configures a module, like mod_h2, to be enabled (H2Engine on), she could =
expect the module to take all the necessary steps. So I am no fan of a =
=E2=80=9ESSLAlpnEnable=E2=80=9C.

If a client sends ALPN information in its hello, it certainly can expect =
an answer from the server. Since in absence of any other modules, the =
httpd will do =E2=80=9Ehttp/1.1=E2=80=9C, I think that is a reasonable =
response.

For clients that do not sent ALPN, any possible answer from the server =
will not be relevant for them. And I would be surprised if a client gets =
confused by that. If it uses openssl, it will probably not have =
registered own callbacks and thus never see the server answer.

As to the "check for sc->server->ssl_alpn_pref->nelts=E2=80=9C that is =
very much depending on the order of hooks. In the case of mod_h2, =
registering for alpn happens in pre connection hooks and those run =
*after* mod_ssl pre_connection hook, I am pretty sure.

//Stefan

> Am 03.06.2015 um 14:52 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> I wonder if registering the ssl_callback_alpn_select callback
> inconditionally could break some clients.
> Are those (ALPN ready) always negociate "http/1.1"?
>=20
> Otherwise we could check for sc->server->ssl_alpn_pref->nelts > 0 (or
> a dedicated SSLAlpnEnable) beforing using
> SSL_CTX_set_alpn_select_cb().
> In that case mod_h2 would not work out of the box, needing some
> administration on the httpd side.
>=20
>=20
> On Wed, Jun 3, 2015 at 12:56 PM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> I tested the lined patch on a 2.4.x checkout with mod_h2 on OS X =
10.10 and openssl 1.0.2. All my tests ran fine.
>>=20
>> //Stefan
>>=20
>>> Am 02.06.2015 um 16:56 schrieb Eric Covener <covener@gmail.com>:
>>>=20
>>> Can you test the latest rev of the backport candidate?
>>>=20
>>> http://people.apache.org/~ylavic/httpd-2.4.x-alpn-v4.patch
>>>=20
>>>=20
>>>=20
>>> On Mon, Apr 27, 2015 at 11:06 AM Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>>>=20
>>>> Am 25.04.2015 um 11:47 schrieb Kaspar Brand =
<httpd-dev.2014@velox.ch>:
>>>>=20
>>>> On 22.04.2015 18:54, Jim Jagielski wrote:
>>>>>> For me the time seems right to rip NPN out of trunk and only =
backport
>>>>>> the ALPN code to 2.4.
>>>>>>=20
>>>>>=20
>>>>> I'd be +1 for that.
>>>>=20
>>>> So, to get one step further, and since there were no explicit =
objections
>>>> to removing NPN support so far (or arguments for keeping it, FWIW), =
I
>>>> went ahead and took a stab at this with r1676004.
>>>>=20
>>>> Only tested in terms of "compiles both w/ and w/o HAVE_TLS_ALPN", =
so it
>>>> certainly needs more eyes before a backport proposal could be made.
>>>> There's also a "TODO: we should have a mod_ssl configuration =
parameter"
>>>> in ssl_engine_kernel.c which I'm unsure to what it refers.
>>>=20
>>> The =E2=80=9ETODO=E2=80=9C is a leftover from before =
SSLAlpnPreference was introduced. It can be removed.
>>>=20
>>> I diff=E2=80=99ed the current mod_ssl against the 2.4 branch, =
removed everything but he ALPN changes and made a patch for my sandbox. =
This works on my OS X with mod_h2. My Ubuntu sandbox is still resisting =
as some test clients still link the system ssl which only speaks NPN (or =
link against a lib_event that links against the system openssl). It=E2=80=99=
s a mess.
>>>=20
>>> Stefan
>>>=20
>>>>=20
>>>> Kaspar
>>>=20
>>> <green/>bytes GmbH
>>> Hafenweg 16, 48155 M=C3=BCnster, Germany
>>> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>>>=20
>>>=20
>>>=20
>>=20
>> <green/>bytes GmbH
>> Hafenweg 16, 48155 M=C3=BCnster, Germany
>> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>>=20
>>=20
>>=20

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82840-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun  3 13:46:17 2015
Return-Path: <dev-return-82840-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CF9AE17F2B
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Jun 2015 13:46:17 +0000 (UTC)
Received: (qmail 48178 invoked by uid 500); 3 Jun 2015 13:46:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48109 invoked by uid 500); 3 Jun 2015 13:46:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48099 invoked by uid 99); 3 Jun 2015 13:46:17 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Jun 2015 13:46:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 7D3CC1802E8
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 13:46:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 59VSASqlI5QB for <dev@httpd.apache.org>;
	Wed,  3 Jun 2015 13:46:07 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id E0F8F275E0
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 13:46:06 +0000 (UTC)
Received: from [10.6.75.145] (unknown [213.172.45.210])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 49B4615A00EB
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 15:45:05 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: ALPN patch comments
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CBBC0006-0176-425C-B2A0-F78F8A90874D@greenbytes.de>
Date: Wed, 3 Jun 2015 15:45:04 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <7F7425D1-BABC-4144-A405-108B5A7B7371@greenbytes.de>
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de> <5537C311.6020209@velox.ch> <40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com> <553B62C2.9080202@velox.ch> <D0F6D103-F293-4BCE-8213-0F0A1148FC26@greenbytes.de> <CALK=YjNjxe4AkWOFfLBWf0jo0VNhQeTyrbCv5XRhyychKrwAvg@mail.gmail.com> <CBBC0006-0176-425C-B2A0-F78F8A90874D@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)

I additionally tested today on Ubuntu 14.04 LTS. Works for me.

> Am 03.06.2015 um 12:56 schrieb Stefan Eissing =
<stefan.eissing@greenbytes.de>:
>=20
> I tested the lined patch on a 2.4.x checkout with mod_h2 on OS X 10.10 =
and openssl 1.0.2. All my tests ran fine.
>=20
> //Stefan
>=20
>> Am 02.06.2015 um 16:56 schrieb Eric Covener <covener@gmail.com>:
>>=20
>> Can you test the latest rev of the backport candidate?
>>=20
>> http://people.apache.org/~ylavic/httpd-2.4.x-alpn-v4.patch
>>=20
>>=20
>>=20
>> On Mon, Apr 27, 2015 at 11:06 AM Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>>=20
>>> Am 25.04.2015 um 11:47 schrieb Kaspar Brand =
<httpd-dev.2014@velox.ch>:
>>>=20
>>> On 22.04.2015 18:54, Jim Jagielski wrote:
>>>>> For me the time seems right to rip NPN out of trunk and only =
backport
>>>>> the ALPN code to 2.4.
>>>>>=20
>>>>=20
>>>> I'd be +1 for that.
>>>=20
>>> So, to get one step further, and since there were no explicit =
objections
>>> to removing NPN support so far (or arguments for keeping it, FWIW), =
I
>>> went ahead and took a stab at this with r1676004.
>>>=20
>>> Only tested in terms of "compiles both w/ and w/o HAVE_TLS_ALPN", so =
it
>>> certainly needs more eyes before a backport proposal could be made.
>>> There's also a "TODO: we should have a mod_ssl configuration =
parameter"
>>> in ssl_engine_kernel.c which I'm unsure to what it refers.
>>=20
>> The =E2=80=9ETODO=E2=80=9C is a leftover from before =
SSLAlpnPreference was introduced. It can be removed.
>>=20
>> I diff=E2=80=99ed the current mod_ssl against the 2.4 branch, removed =
everything but he ALPN changes and made a patch for my sandbox. This =
works on my OS X with mod_h2. My Ubuntu sandbox is still resisting as =
some test clients still link the system ssl which only speaks NPN (or =
link against a lib_event that links against the system openssl). It=E2=80=99=
s a mess.
>>=20
>> Stefan
>>=20
>>>=20
>>> Kaspar
>>=20
>> <green/>bytes GmbH
>> Hafenweg 16, 48155 M=C3=BCnster, Germany
>> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>>=20
>>=20
>>=20
>=20
> <green/>bytes GmbH
> Hafenweg 16, 48155 M=C3=BCnster, Germany
> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>=20
>=20
>=20

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82841-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun  3 14:22:45 2015
Return-Path: <dev-return-82841-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0BB35180D7
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Jun 2015 14:22:45 +0000 (UTC)
Received: (qmail 61196 invoked by uid 500); 3 Jun 2015 14:22:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 61121 invoked by uid 500); 3 Jun 2015 14:22:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 61111 invoked by uid 99); 3 Jun 2015 14:22:44 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Jun 2015 14:22:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 0AEA71A43F5
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 14:22:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.011
X-Spam-Level:
X-Spam-Status: No, score=-0.011 tagged_above=-999 required=6.31
	tests=[SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id uT1rsg8Ng_rA for <dev@httpd.apache.org>;
	Wed,  3 Jun 2015 14:22:34 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 6FC8B42AA6
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 14:22:34 +0000 (UTC)
Received: from int-mx14.intmail.prod.int.phx2.redhat.com (int-mx14.intmail.prod.int.phx2.redhat.com [10.5.11.27])
	by mx1.redhat.com (Postfix) with ESMTPS id 9EA72BF9CD
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 14:21:57 +0000 (UTC)
Received: from dhcp-24-191.brq.redhat.com (ovpn-204-38.brq.redhat.com [10.40.204.38])
	by int-mx14.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t53ELtZJ018713
	for <dev@httpd.apache.org>; Wed, 3 Jun 2015 10:21:57 -0400
Message-ID: <556F0D82.4020600@redhat.com>
Date: Wed, 03 Jun 2015 16:21:54 +0200
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: ALPN patch comments
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de> <5537C311.6020209@velox.ch> <40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com> <553B62C2.9080202@velox.ch> <D0F6D103-F293-4BCE-8213-0F0A1148FC26@greenbytes.de> <CALK=YjNjxe4AkWOFfLBWf0jo0VNhQeTyrbCv5XRhyychKrwAvg@mail.gmail.com> <CBBC0006-0176-425C-B2A0-F78F8A90874D@greenbytes.de> <CAKQ1sVN078AbA5gSWrZsYCuNFrs3yHysCANUyMiN-M916O+D-w@mail.gmail.com> <70D0E670-B41E-47A3-A03D-C3C290B95151@greenbytes.de>
In-Reply-To: <70D0E670-B41E-47A3-A03D-C3C290B95151@greenbytes.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.27

On 06/03/2015 03:43 PM, Stefan Eissing wrote:
> Hmm, personally, I do not like redundant configurations. If someone configures a module, like mod_h2, to be enabled (H2Engine on), she could expect the module to take all the necessary steps. So I am no fan of a SSLAlpnEnable.
>
> If a client sends ALPN information in its hello, it certainly can expect an answer from the server. Since in absence of any other modules, the httpd will do http/1.1, I think that is a reasonable response.
>
> For clients that do not sent ALPN, any possible answer from the server will not be relevant for them. And I would be surprised if a client gets confused by that. If it uses openssl, it will probably not have registered own callbacks and thus never see the server answer.

I'm not sure if that's the same case, but Red Hat actually has open bug 
report for the old 2.4.x NPN code (right now reverted in 2.4.x) about 
NPN extensions being sent even they have not been configured.

I think last time I've checked, the httpd trunk ALPN code did something 
similar (returned http/1.1 when no other modules have been configured).

The reasoning in that Red Hat bug report is that there should be a way 
how to stop this behavior because of compliance with some security 
standards.

I just want to point out that there might be some users who care about this.

Regards,
Jan Kaluza

> As to the "check for sc->server->ssl_alpn_pref->nelts that is very much depending on the order of hooks. In the case of mod_h2, registering for alpn happens in pre connection hooks and those run *after* mod_ssl pre_connection hook, I am pretty sure.
>
> //Stefan
>
>> Am 03.06.2015 um 14:52 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>
>> I wonder if registering the ssl_callback_alpn_select callback
>> inconditionally could break some clients.
>> Are those (ALPN ready) always negociate "http/1.1"?
>>
>> Otherwise we could check for sc->server->ssl_alpn_pref->nelts > 0 (or
>> a dedicated SSLAlpnEnable) beforing using
>> SSL_CTX_set_alpn_select_cb().
>> In that case mod_h2 would not work out of the box, needing some
>> administration on the httpd side.
>>
>>
>> On Wed, Jun 3, 2015 at 12:56 PM, Stefan Eissing
>> <stefan.eissing@greenbytes.de> wrote:
>>> I tested the lined patch on a 2.4.x checkout with mod_h2 on OS X 10.10 and openssl 1.0.2. All my tests ran fine.
>>>
>>> //Stefan
>>>
>>>> Am 02.06.2015 um 16:56 schrieb Eric Covener <covener@gmail.com>:
>>>>
>>>> Can you test the latest rev of the backport candidate?
>>>>
>>>> http://people.apache.org/~ylavic/httpd-2.4.x-alpn-v4.patch
>>>>
>>>>
>>>>
>>>> On Mon, Apr 27, 2015 at 11:06 AM Stefan Eissing <stefan.eissing@greenbytes.de> wrote:
>>>>
>>>>> Am 25.04.2015 um 11:47 schrieb Kaspar Brand <httpd-dev.2014@velox.ch>:
>>>>>
>>>>> On 22.04.2015 18:54, Jim Jagielski wrote:
>>>>>>> For me the time seems right to rip NPN out of trunk and only backport
>>>>>>> the ALPN code to 2.4.
>>>>>>>
>>>>>>
>>>>>> I'd be +1 for that.
>>>>>
>>>>> So, to get one step further, and since there were no explicit objections
>>>>> to removing NPN support so far (or arguments for keeping it, FWIW), I
>>>>> went ahead and took a stab at this with r1676004.
>>>>>
>>>>> Only tested in terms of "compiles both w/ and w/o HAVE_TLS_ALPN", so it
>>>>> certainly needs more eyes before a backport proposal could be made.
>>>>> There's also a "TODO: we should have a mod_ssl configuration parameter"
>>>>> in ssl_engine_kernel.c which I'm unsure to what it refers.
>>>>
>>>> The TODO is a leftover from before SSLAlpnPreference was introduced. It can be removed.
>>>>
>>>> I diffed the current mod_ssl against the 2.4 branch, removed everything but he ALPN changes and made a patch for my sandbox. This works on my OS X with mod_h2. My Ubuntu sandbox is still resisting as some test clients still link the system ssl which only speaks NPN (or link against a lib_event that links against the system openssl). Its a mess.
>>>>
>>>> Stefan
>>>>
>>>>>
>>>>> Kaspar
>>>>
>>>> <green/>bytes GmbH
>>>> Hafenweg 16, 48155 Mnster, Germany
>>>> Phone: +49 251 2807760. Amtsgericht Mnster: HRB5782
>>>>
>>>>
>>>>
>>>
>>> <green/>bytes GmbH
>>> Hafenweg 16, 48155 Mnster, Germany
>>> Phone: +49 251 2807760. Amtsgericht Mnster: HRB5782
>>>
>>>
>>>
>
> <green/>bytes GmbH
> Hafenweg 16, 48155 Mnster, Germany
> Phone: +49 251 2807760. Amtsgericht Mnster: HRB5782
>
>
>


From dev-return-82842-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun  3 14:26:09 2015
Return-Path: <dev-return-82842-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 489F8180F9
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Jun 2015 14:26:09 +0000 (UTC)
Received: (qmail 77888 invoked by uid 500); 3 Jun 2015 14:26:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 77800 invoked by uid 500); 3 Jun 2015 14:26:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 77790 invoked by uid 99); 3 Jun 2015 14:26:08 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Jun 2015 14:26:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 506FCC0729
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 14:26:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id m0c_Z8zl-KVc for <dev@httpd.apache.org>;
	Wed,  3 Jun 2015 14:26:03 +0000 (UTC)
Received: from mail-ie0-f178.google.com (mail-ie0-f178.google.com [209.85.223.178])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id B7B2C20C4B
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 14:26:02 +0000 (UTC)
Received: by iesa3 with SMTP id a3so14303071ies.2
        for <dev@httpd.apache.org>; Wed, 03 Jun 2015 07:26:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=d8/3bjx/z6LxLZRQgPimToVinn413xQ1oMt4MGsPJdg=;
        b=BGWcx1u4DkZb3Mx8cB5B6jRCWjLn06BlfSMaBhaOGNAzzpjTZp9F6GB6G+EqQZzvu9
         mKnYHYmiQdYAwfrvBbipCDBcmw15ADmIIHJ4v7SbOx/psA18yz+qmctC69tiJYgqGzLg
         ClkZp7+QO/Lr/8jfnY7xGbWdbY1NeTpGjZVn3nDw70YQTL/i/+lJUqGM+6sM/0/nFjtk
         PazTTBPInSJ2vDHNY5Tv0XVcTTZI9tc5YaO8pZMRedpOWi6wk40p600SoYeQcoPqtqRj
         xuEyJuJntqY+7pCC/GoX6A2GacbHQMloLotQ6gsKqIyCqqbbOuN6MB9m9R0cBpBem9kY
         KC+w==
MIME-Version: 1.0
X-Received: by 10.107.150.73 with SMTP id y70mr25140887iod.21.1433341561700;
 Wed, 03 Jun 2015 07:26:01 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Wed, 3 Jun 2015 07:26:01 -0700 (PDT)
In-Reply-To: <70D0E670-B41E-47A3-A03D-C3C290B95151@greenbytes.de>
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de>
	<5537C311.6020209@velox.ch>
	<40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com>
	<553B62C2.9080202@velox.ch>
	<D0F6D103-F293-4BCE-8213-0F0A1148FC26@greenbytes.de>
	<CALK=YjNjxe4AkWOFfLBWf0jo0VNhQeTyrbCv5XRhyychKrwAvg@mail.gmail.com>
	<CBBC0006-0176-425C-B2A0-F78F8A90874D@greenbytes.de>
	<CAKQ1sVN078AbA5gSWrZsYCuNFrs3yHysCANUyMiN-M916O+D-w@mail.gmail.com>
	<70D0E670-B41E-47A3-A03D-C3C290B95151@greenbytes.de>
Date: Wed, 3 Jun 2015 16:26:01 +0200
Message-ID: <CAKQ1sVP2YeOgLgUwVuEPZzT-53DUeKBaFS4Drb2Z+qPCLrZLYg@mail.gmail.com>
Subject: Re: ALPN patch comments
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Jun 3, 2015 at 3:43 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
>
> If a client sends ALPN information in its hello, it certainly can expect =
an answer from the server.
> Since in absence of any other modules, the httpd will do =E2=80=9Ehttp/1.=
1=E2=80=9C, I think that is a reasonable response.

FWICS, httpd will alert if the client did not propose "http/1.1" in
its Hello, and since (I suppose) the latests clients also send ALPN
inconditionaly, they will be refused if they don't propose "http/1.1",
hence my question:

>> Am 03.06.2015 um 14:52 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>
>> Are those (ALPN ready) always negociate "http/1.1"?

From dev-return-82843-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun  3 14:46:04 2015
Return-Path: <dev-return-82843-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7052918199
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Jun 2015 14:46:04 +0000 (UTC)
Received: (qmail 29449 invoked by uid 500); 3 Jun 2015 14:46:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29373 invoked by uid 500); 3 Jun 2015 14:46:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29363 invoked by uid 99); 3 Jun 2015 14:46:03 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Jun 2015 14:46:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 763101A4441
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 14:46:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id psOIUA6dvALq for <dev@httpd.apache.org>;
	Wed,  3 Jun 2015 14:45:57 +0000 (UTC)
Received: from mail-ig0-f171.google.com (mail-ig0-f171.google.com [209.85.213.171])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 242AB43ACE
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 14:45:57 +0000 (UTC)
Received: by igbyr2 with SMTP id yr2so114575935igb.0
        for <dev@httpd.apache.org>; Wed, 03 Jun 2015 07:45:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=rAdFR369rGjRdgiVihKD8riWdXxUZlbVGp40hWLWlqs=;
        b=0Qls7poS8CSMb2i5mVGh99sZaeqoRm5K64RZW+OBQVwrKV1mvTeSEUidCWqGjqQWM0
         F7mY7ZS0FqhSvh9uu/37m6/vr0m1KkvSToaTWcO5ONVsmESa4i8p9ROOjU9gXkhOBDRV
         dbXaoNzEsDeOeDgJSwS/St9qoJqnd78M+ljfnQsMnChBSYeY9oMTphU6DvAmnI71IBYW
         yrNUVXFp427DW1g+0oR9SSq/zODePJd9btFyOd3LRGvLB/3HPVEDMKrTieuMFpH7q7ZZ
         ClyicyDoPESqpk1+fUXtCLI9ELkr6ewvqSMR5C0kRkHRFM7bspMiUHOJPxUqgjSPr40m
         N1Jw==
MIME-Version: 1.0
X-Received: by 10.43.66.5 with SMTP id xo5mr8360200icb.57.1433342756812; Wed,
 03 Jun 2015 07:45:56 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Wed, 3 Jun 2015 07:45:56 -0700 (PDT)
In-Reply-To: <70D0E670-B41E-47A3-A03D-C3C290B95151@greenbytes.de>
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de>
	<5537C311.6020209@velox.ch>
	<40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com>
	<553B62C2.9080202@velox.ch>
	<D0F6D103-F293-4BCE-8213-0F0A1148FC26@greenbytes.de>
	<CALK=YjNjxe4AkWOFfLBWf0jo0VNhQeTyrbCv5XRhyychKrwAvg@mail.gmail.com>
	<CBBC0006-0176-425C-B2A0-F78F8A90874D@greenbytes.de>
	<CAKQ1sVN078AbA5gSWrZsYCuNFrs3yHysCANUyMiN-M916O+D-w@mail.gmail.com>
	<70D0E670-B41E-47A3-A03D-C3C290B95151@greenbytes.de>
Date: Wed, 3 Jun 2015 16:45:56 +0200
Message-ID: <CAKQ1sVODe11-9DkBNixmbP4n4TYyqV5bFP+6CJWeoB-MyZHT0Q@mail.gmail.com>
Subject: Re: ALPN patch comments
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Jun 3, 2015 at 3:43 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> Hmm, personally, I do not like redundant configurations. If someone confi=
gures a module, like mod_h2, to be enabled (H2Engine on), she could expect =
the module to take all the necessary steps. So I am no fan of a =E2=80=9ESS=
LAlpnEnable=E2=80=9C.

Neither do I, but we can't break non-http/2 configurations with
"modern" browsers.
If "http/1.1" is a MUST in the clients' protocols there is no issue here...

>
> As to the "check for sc->server->ssl_alpn_pref->nelts=E2=80=9C that is ve=
ry much depending on the order of hooks.
> In the case of mod_h2, registering for alpn happens in pre connection hoo=
ks and those run *after* mod_ssl pre_connection hook, I am pretty sure.

Well, ssl_alpn_pref is initialized at config time, so it should always
be filled at connection time (unlike
sslconn->{alpn_proposefns,alpn_negofns}).
This means enabling ALPN only if SSLALPNPreference is used.

From dev-return-82844-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun  3 15:04:47 2015
Return-Path: <dev-return-82844-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 349CD1827C
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Jun 2015 15:04:47 +0000 (UTC)
Received: (qmail 17360 invoked by uid 500); 3 Jun 2015 15:04:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 17301 invoked by uid 500); 3 Jun 2015 15:04:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 17290 invoked by uid 99); 3 Jun 2015 15:04:46 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Jun 2015 15:04:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 9B0D61A436D
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 15:04:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.68
X-Spam-Level:
X-Spam-Status: No, score=0.68 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id A61ajDRT8ksP for <dev@httpd.apache.org>;
	Wed,  3 Jun 2015 15:04:40 +0000 (UTC)
Received: from mail-ig0-f180.google.com (mail-ig0-f180.google.com [209.85.213.180])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 814A9275E0
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 15:04:40 +0000 (UTC)
Received: by igbsb11 with SMTP id sb11so16696618igb.0
        for <dev@httpd.apache.org>; Wed, 03 Jun 2015 08:04:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=7swmqxy1baMtdgThr7elpfavTP7UXNFPjn0Go5ByEU8=;
        b=RU+ba9jI+sCxIrbWsAAowVlOpgzwzoBLE9nbeGD+KYXd8HfSV3abC1v+g76eZP5qhf
         W2GBSMR00fjhWEJD2SiHT0nCTTdLKX8m6z83TaM3toL3BqKCWleqOENUbmUBfwlbzUT/
         R90UoBmOjENwRV37jRKWv0qCghk7nKomJB0UUzBlLyL0XvdOTQ2jIVvVOrMrIPKxPALt
         JNaPcuGm/H+YNzhdjRnLU6JmiYf0Gi3mO9oZCtaZFOkTpysLHa9NADBZTISVZfitPZ4s
         r+C6nG+1RzHmttUvr3GfjP1d7Ghvsnc/JL2L0cX94lIwSNjSAARfGykzAYKXO3uGBMK5
         rwTQ==
MIME-Version: 1.0
X-Received: by 10.50.62.148 with SMTP id y20mr27401887igr.17.1433343879805;
 Wed, 03 Jun 2015 08:04:39 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Wed, 3 Jun 2015 08:04:39 -0700 (PDT)
In-Reply-To: <CAKQ1sVODe11-9DkBNixmbP4n4TYyqV5bFP+6CJWeoB-MyZHT0Q@mail.gmail.com>
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de>
	<5537C311.6020209@velox.ch>
	<40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com>
	<553B62C2.9080202@velox.ch>
	<D0F6D103-F293-4BCE-8213-0F0A1148FC26@greenbytes.de>
	<CALK=YjNjxe4AkWOFfLBWf0jo0VNhQeTyrbCv5XRhyychKrwAvg@mail.gmail.com>
	<CBBC0006-0176-425C-B2A0-F78F8A90874D@greenbytes.de>
	<CAKQ1sVN078AbA5gSWrZsYCuNFrs3yHysCANUyMiN-M916O+D-w@mail.gmail.com>
	<70D0E670-B41E-47A3-A03D-C3C290B95151@greenbytes.de>
	<CAKQ1sVODe11-9DkBNixmbP4n4TYyqV5bFP+6CJWeoB-MyZHT0Q@mail.gmail.com>
Date: Wed, 3 Jun 2015 17:04:39 +0200
Message-ID: <CAKQ1sVPTsiPfsf=NhkxV7tOAoa=uuU7fYYBhCRBZ8dHNozsu-A@mail.gmail.com>
Subject: Re: ALPN patch comments
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Wed, Jun 3, 2015 at 4:45 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
> This means enabling ALPN only if SSLALPNPreference is used.

Something like below :

Index: modules/ssl/mod_ssl.c
===================================================================
--- modules/ssl/mod_ssl.c    (revision 1683271)
+++ modules/ssl/mod_ssl.c    (working copy)
@@ -456,6 +456,8 @@ static int modssl_register_alpn(conn_rec *c,
                                ssl_alpn_proto_negotiated negotiatedfn)
 {
 #ifdef HAVE_TLS_ALPN
+    SSLSrvConfigRec *sc;
+
     SSLConnRec *sslconn = myConnConfig(c);

     if (!sslconn) {
@@ -462,6 +464,11 @@ static int modssl_register_alpn(conn_rec *c,
         return DECLINED;
     }

+    sc = mySrvConfig(sslconn->server);
+    if (sc->server->ssl_alpn_pref->nelts <= 0) {
+        return DECLINED;
+    }
+
     if (!sslconn->alpn_proposefns) {
         sslconn->alpn_proposefns =
             apr_array_make(c->pool, 5, sizeof(ssl_alpn_propose_protos));
Index: modules/ssl/ssl_engine_init.c
===================================================================
--- modules/ssl/ssl_engine_init.c    (revision 1683271)
+++ modules/ssl/ssl_engine_init.c    (working copy)
@@ -648,7 +648,9 @@ static void ssl_init_ctx_callbacks(server_rec *s,
     SSL_CTX_set_info_callback(ctx, ssl_callback_Info);

 #ifdef HAVE_TLS_ALPN
-    SSL_CTX_set_alpn_select_cb(ctx, ssl_callback_alpn_select, NULL);
+    if (s->ssl_alpn_pref->nelts > 0) {
+        SSL_CTX_set_alpn_select_cb(ctx, ssl_callback_alpn_select, NULL);
+    }
 #endif
 }

--

From dev-return-82845-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun  3 15:16:59 2015
Return-Path: <dev-return-82845-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4DBC618340
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Jun 2015 15:16:59 +0000 (UTC)
Received: (qmail 56167 invoked by uid 500); 3 Jun 2015 15:16:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56103 invoked by uid 500); 3 Jun 2015 15:16:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56093 invoked by uid 99); 3 Jun 2015 15:16:58 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Jun 2015 15:16:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 46B42CB198
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 15:16:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.79
X-Spam-Level:
X-Spam-Status: No, score=0.79 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, MIME_QP_LONG_LINE=0.001,
	SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id lyFV6yfpUJpU for <dev@httpd.apache.org>;
	Wed,  3 Jun 2015 15:16:57 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id D850242AD6
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 15:16:56 +0000 (UTC)
Received: from [10.82.70.2] (unknown [2.206.1.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 99AAC15A00EB
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 17:16:18 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: ALPN patch comments
Message-Id: <E539B19A-E2A7-4628-B40E-36370C8C4578@greenbytes.de>
Date: Wed, 3 Jun 2015 17:16:14 +0200
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de> <5537C311.6020209@velox.ch> <40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com> <553B62C2.9080202@velox.ch> <D0F6D103-F293-4BCE-8213-0F0A1148FC26@greenbytes.de> <CALK=YjNjxe4AkWOFfLBWf0jo0VNhQeTyrbCv5XRhyychKrwAvg@mail.gmail.com> <CBBC0006-0176-425C-B2A0-F78F8A90874D@greenbytes.de> <CAKQ1sVN078AbA5gSWrZsYCuNFrs3yHysCANUyMiN-M916O+D-w@mail.gmail.com> <70D0E670-B41E-47A3-A03D-C3C290B95151@greenbytes.de> <CAKQ1sVODe11-9DkBNixmbP4n4TYyqV5bFP+6CJWeoB-MyZHT0Q@mail.gmail.com> <CAKQ1sVPTsiPfsf=NhkxV7tOAoa=uuU7fYYBhCRBZ8dHNozsu-A@mail.gmail.com>
In-Reply-To: <CAKQ1sVPTsiPfsf=NhkxV7tOAoa=uuU7fYYBhCRBZ8dHNozsu-A@mail.gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
X-Mailer: iPhone Mail (12F70)

Hmm, I cannot test this today since I am travelling.

If Jim wants to tag 2.5.13 this week, then either the current v4 patch makes=
 it in, or we need to postpone this. A changed patch on which my module (and=
 possibly others) chokes on, will not serve anyone I assume.=20

As with the "don't send NPN unnecessary" bug report: ALPN is working slighty=
 different. Not sure if the server cb is triggered at all, if the client sen=
ds no ALPN.=20

//stefan



> Am 03.06.2015 um 17:04 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
>> On Wed, Jun 3, 2015 at 4:45 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:=

>>=20
>> This means enabling ALPN only if SSLALPNPreference is used.
>=20
> Something like below :
>=20
> Index: modules/ssl/mod_ssl.c
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> --- modules/ssl/mod_ssl.c    (revision 1683271)
> +++ modules/ssl/mod_ssl.c    (working copy)
> @@ -456,6 +456,8 @@ static int modssl_register_alpn(conn_rec *c,
>                                ssl_alpn_proto_negotiated negotiatedfn)
> {
> #ifdef HAVE_TLS_ALPN
> +    SSLSrvConfigRec *sc;
> +
>     SSLConnRec *sslconn =3D myConnConfig(c);
>=20
>     if (!sslconn) {
> @@ -462,6 +464,11 @@ static int modssl_register_alpn(conn_rec *c,
>         return DECLINED;
>     }
>=20
> +    sc =3D mySrvConfig(sslconn->server);
> +    if (sc->server->ssl_alpn_pref->nelts <=3D 0) {
> +        return DECLINED;
> +    }
> +
>     if (!sslconn->alpn_proposefns) {
>         sslconn->alpn_proposefns =3D
>             apr_array_make(c->pool, 5, sizeof(ssl_alpn_propose_protos));
> Index: modules/ssl/ssl_engine_init.c
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> --- modules/ssl/ssl_engine_init.c    (revision 1683271)
> +++ modules/ssl/ssl_engine_init.c    (working copy)
> @@ -648,7 +648,9 @@ static void ssl_init_ctx_callbacks(server_rec *s,
>     SSL_CTX_set_info_callback(ctx, ssl_callback_Info);
>=20
> #ifdef HAVE_TLS_ALPN
> -    SSL_CTX_set_alpn_select_cb(ctx, ssl_callback_alpn_select, NULL);
> +    if (s->ssl_alpn_pref->nelts > 0) {
> +        SSL_CTX_set_alpn_select_cb(ctx, ssl_callback_alpn_select, NULL);
> +    }
> #endif
> }
>=20
> --

From dev-return-82846-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun  3 15:40:39 2015
Return-Path: <dev-return-82846-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 97F9318417
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Jun 2015 15:40:39 +0000 (UTC)
Received: (qmail 32116 invoked by uid 500); 3 Jun 2015 15:40:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32049 invoked by uid 500); 3 Jun 2015 15:40:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32032 invoked by uid 99); 3 Jun 2015 15:40:38 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Jun 2015 15:40:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id E3B871802E8
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 15:40:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.68
X-Spam-Level:
X-Spam-Status: No, score=0.68 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id OW1AHRQcks5s for <dev@httpd.apache.org>;
	Wed,  3 Jun 2015 15:40:28 +0000 (UTC)
Received: from mail-ig0-f174.google.com (mail-ig0-f174.google.com [209.85.213.174])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id B4922275E3
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 15:40:27 +0000 (UTC)
Received: by igblz2 with SMTP id lz2so17514438igb.1
        for <dev@httpd.apache.org>; Wed, 03 Jun 2015 08:39:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=jJRbwL8ndz8CDuzEV7U7Jt3/LJjIPE1LamhZKdTJeno=;
        b=VWcZxq1XlJLJY7KMHGBEwwr5ZqBEIXsz+cLumZk4lSUZ3PYMsIDWX/2Po+8wXDaoTM
         SKSBQuLZUWGtwEzz+iZ2irzbs89lhr8nqNyi7XRJtTcTlq+/g4G4YlIjObNx+yb1ogAO
         LZCgZk52Yq4ktJ49ofkmOEqfubjSNdqLNuSHLZVv5jW3qIxlKxgHwIf37tGm1X4jJUYk
         18CpRohXQANYZ14klHieNzRtqpc468HS4v+huddvbZUs7CD9Z9sLwVID1bsu9o4ugR+x
         3scXWyVK3PPEiXXfZ7f0yKWFjNVgWdlVO/dF7/8pIlb0CF6hiMENC3W3RKaRGgN40zgY
         fqCg==
MIME-Version: 1.0
X-Received: by 10.107.150.73 with SMTP id y70mr25598016iod.21.1433345982139;
 Wed, 03 Jun 2015 08:39:42 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Wed, 3 Jun 2015 08:39:41 -0700 (PDT)
In-Reply-To: <E539B19A-E2A7-4628-B40E-36370C8C4578@greenbytes.de>
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de>
	<5537C311.6020209@velox.ch>
	<40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com>
	<553B62C2.9080202@velox.ch>
	<D0F6D103-F293-4BCE-8213-0F0A1148FC26@greenbytes.de>
	<CALK=YjNjxe4AkWOFfLBWf0jo0VNhQeTyrbCv5XRhyychKrwAvg@mail.gmail.com>
	<CBBC0006-0176-425C-B2A0-F78F8A90874D@greenbytes.de>
	<CAKQ1sVN078AbA5gSWrZsYCuNFrs3yHysCANUyMiN-M916O+D-w@mail.gmail.com>
	<70D0E670-B41E-47A3-A03D-C3C290B95151@greenbytes.de>
	<CAKQ1sVODe11-9DkBNixmbP4n4TYyqV5bFP+6CJWeoB-MyZHT0Q@mail.gmail.com>
	<CAKQ1sVPTsiPfsf=NhkxV7tOAoa=uuU7fYYBhCRBZ8dHNozsu-A@mail.gmail.com>
	<E539B19A-E2A7-4628-B40E-36370C8C4578@greenbytes.de>
Date: Wed, 3 Jun 2015 17:39:41 +0200
Message-ID: <CAKQ1sVOcHDej9RT6KvFpeFq8dH2b=zsbdA9vJTdc3M+=CSF8mg@mail.gmail.com>
Subject: Re: ALPN patch comments
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/mixed; boundary=001a1140b2101b706a05179edefb

--001a1140b2101b706a05179edefb
Content-Type: text/plain; charset=UTF-8

With the current (master) code of mod_h2, you'd probably need
something like the attached patch to handle a possible failure in
modssl_register_alpn(), because SSLALPNPreference was not configured
(as per my proposed mod_ssl patch).

On Wed, Jun 3, 2015 at 5:16 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> Hmm, I cannot test this today since I am travelling.
>
> If Jim wants to tag 2.5.13 this week, then either the current v4 patch makes it in, or we need to postpone this. A changed patch on which my module (and possibly others) chokes on, will not serve anyone I assume.
>
> As with the "don't send NPN unnecessary" bug report: ALPN is working slighty different. Not sure if the server cb is triggered at all, if the client sends no ALPN.
>
> //stefan
>
>
>
>> Am 03.06.2015 um 17:04 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>
>>> On Wed, Jun 3, 2015 at 4:45 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>>
>>> This means enabling ALPN only if SSLALPNPreference is used.
>>
>> Something like below :
>>
>> Index: modules/ssl/mod_ssl.c
>> ===================================================================
>> --- modules/ssl/mod_ssl.c    (revision 1683271)
>> +++ modules/ssl/mod_ssl.c    (working copy)
>> @@ -456,6 +456,8 @@ static int modssl_register_alpn(conn_rec *c,
>>                                ssl_alpn_proto_negotiated negotiatedfn)
>> {
>> #ifdef HAVE_TLS_ALPN
>> +    SSLSrvConfigRec *sc;
>> +
>>     SSLConnRec *sslconn = myConnConfig(c);
>>
>>     if (!sslconn) {
>> @@ -462,6 +464,11 @@ static int modssl_register_alpn(conn_rec *c,
>>         return DECLINED;
>>     }
>>
>> +    sc = mySrvConfig(sslconn->server);
>> +    if (sc->server->ssl_alpn_pref->nelts <= 0) {
>> +        return DECLINED;
>> +    }
>> +
>>     if (!sslconn->alpn_proposefns) {
>>         sslconn->alpn_proposefns =
>>             apr_array_make(c->pool, 5, sizeof(ssl_alpn_propose_protos));
>> Index: modules/ssl/ssl_engine_init.c
>> ===================================================================
>> --- modules/ssl/ssl_engine_init.c    (revision 1683271)
>> +++ modules/ssl/ssl_engine_init.c    (working copy)
>> @@ -648,7 +648,9 @@ static void ssl_init_ctx_callbacks(server_rec *s,
>>     SSL_CTX_set_info_callback(ctx, ssl_callback_Info);
>>
>> #ifdef HAVE_TLS_ALPN
>> -    SSL_CTX_set_alpn_select_cb(ctx, ssl_callback_alpn_select, NULL);
>> +    if (s->ssl_alpn_pref->nelts > 0) {
>> +        SSL_CTX_set_alpn_select_cb(ctx, ssl_callback_alpn_select, NULL);
>> +    }
>> #endif
>> }
>>
>> --

--001a1140b2101b706a05179edefb
Content-Type: application/x-download; 
	name="mod_h2-h2_h2-modssl_register_alpn.patch"
Content-Disposition: attachment; 
	filename="mod_h2-h2_h2-modssl_register_alpn.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_iagx6a7c0

LS0tIG1vZF9oMi9oMl9oMi5jLm9sZAkyMDE1LTA2LTAzIDE3OjI2OjUzLjgzODM4ODUzNiArMDIw
MAorKysgbW9kX2gyL2gyX2gyLmMJMjAxNS0wNi0wMyAxNzoyOToyOC4zNDE5NTA0NTkgKzAyMDAK
QEAgLTMzNiw3ICszMzYsMTQgQEAgaW50IGgyX2gyX3ByZV9jb25uKGNvbm5fcmVjKiBjLCB2b2lk
ICphcgogICAgICAgICAKICAgICAgICAgY3R4ID0gaDJfY3R4X2dldChjLCAxKTsKICAgICAgICAg
aWYgKG9wdF9zc2xfcmVnaXN0ZXJfYWxwbikgewotICAgICAgICAgICAgb3B0X3NzbF9yZWdpc3Rl
cl9hbHBuKGMsIGgyX2gyX2FscG5fcHJvcG9zZSwgaDJfaDJfYWxwbl9uZWdvdGlhdGVkKTsKKyAg
ICAgICAgICAgIGludCByYyA9IG9wdF9zc2xfcmVnaXN0ZXJfYWxwbihjLCBoMl9oMl9hbHBuX3By
b3Bvc2UsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaDJf
aDJfYWxwbl9uZWdvdGlhdGVkKTsKKyAgICAgICAgICAgIGlmIChyYyAhPSBPSykgeworICAgICAg
ICAgICAgICAgIGFwX2xvZ19jZXJyb3IoQVBMT0dfTUFSSywgQVBMT0dfREVCVUcsIDAsIGMsCisg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaDJfaDIsIHByZV9jb25uZWN0aW9uLCBubyBB
TFBOL05QTiBjb25maWd1cmVkIGluIG1vZF9zc2wgIgorICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIihoaW50OiBpcyBTU0xBTFBOUHJlZmVyZW5jZSBjb25maWd1cmVkPykiKTsKKyAgICAg
ICAgICAgICAgICByZXR1cm4gcmM7CisgICAgICAgICAgICB9CiAgICAgICAgIH0KICAgICAgICAg
aWYgKG9wdF9zc2xfcmVnaXN0ZXJfbnBuKSB7CiAgICAgICAgICAgICBvcHRfc3NsX3JlZ2lzdGVy
X25wbihjLCBoMl9oMl9ucG5fYWR2ZXJ0aXNlLCBoMl9oMl9ucG5fbmVnb3RpYXRlZCk7Cg==
--001a1140b2101b706a05179edefb--

From dev-return-82847-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun  3 17:46:07 2015
Return-Path: <dev-return-82847-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2882418958
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Jun 2015 17:46:07 +0000 (UTC)
Received: (qmail 74081 invoked by uid 500); 3 Jun 2015 17:46:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 74013 invoked by uid 500); 3 Jun 2015 17:46:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 74002 invoked by uid 99); 3 Jun 2015 17:46:06 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Jun 2015 17:46:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id EB4331802E8
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 17:46:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.999
X-Spam-Level: **
X-Spam-Status: No, score=2.999 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id WYFdFXRDu0OE for <dev@httpd.apache.org>;
	Wed,  3 Jun 2015 17:45:58 +0000 (UTC)
Received: from mail-ie0-f180.google.com (mail-ie0-f180.google.com [209.85.223.180])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id EEF5E428FF
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 17:45:57 +0000 (UTC)
Received: by iecwk5 with SMTP id wk5so18193598iec.1
        for <dev@httpd.apache.org>; Wed, 03 Jun 2015 10:45:57 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=Gex1Mi29LRiy5iKOsInS8BDNdcADlfYNdXSBav4aJn4=;
        b=NDm6Hn3qXjQhm6RqDiPHkwvx3Oun2PW3jXvZQcs+iVWrludHJPwTlrb8zM6a1R62jg
         ibEj1gY7mXMwwmQQYcqxOtLEZvr0pZnalCuGBX1JPQDNiuuyz5LngtvmzOVprUKKmS7U
         DtsuYGjfkoXyNE09lu/TBZXTy1dWemdRJuZsMIRwrWCEvUGBYMD0GH4gchSxFyXkCKgG
         fvsw3pm+M4KK/szuPyBtrX+gYKf59WzH6pSiCzm0nek24FzPomj/8RVD9hzm1ralvy4D
         FyVp3OGFUJ1JdMX4h2QRLNdD/2HtsCGSJ+LbR4LJYksMFzlx3q9+jgESRJA3V6n+XDXz
         BmZg==
X-Gm-Message-State: ALoCoQm0ABgHUXavaQgr4SmNahhrK0Oi7+eEuKdTVFyiKXihPNLz0pmhINe+pNNaQLROisd35PNF
MIME-Version: 1.0
X-Received: by 10.50.13.10 with SMTP id d10mr28819201igc.20.1433353556104;
 Wed, 03 Jun 2015 10:45:56 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Wed, 3 Jun 2015 10:45:56 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <70D0E670-B41E-47A3-A03D-C3C290B95151@greenbytes.de>
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de>
	<5537C311.6020209@velox.ch>
	<40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com>
	<553B62C2.9080202@velox.ch>
	<D0F6D103-F293-4BCE-8213-0F0A1148FC26@greenbytes.de>
	<CALK=YjNjxe4AkWOFfLBWf0jo0VNhQeTyrbCv5XRhyychKrwAvg@mail.gmail.com>
	<CBBC0006-0176-425C-B2A0-F78F8A90874D@greenbytes.de>
	<CAKQ1sVN078AbA5gSWrZsYCuNFrs3yHysCANUyMiN-M916O+D-w@mail.gmail.com>
	<70D0E670-B41E-47A3-A03D-C3C290B95151@greenbytes.de>
Date: Wed, 3 Jun 2015 12:45:56 -0500
Message-ID: <CACsi251tBfoTp=2NtaBA2wTS=O7-47mx1-wX-+dSg7CNqo8+2A@mail.gmail.com>
Subject: Re: ALPN patch comments
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e011848748cb2e30517a0a1ff

--089e011848748cb2e30517a0a1ff
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Jun 3, 2015 at 8:43 AM, Stefan Eissing <stefan.eissing@greenbytes.d=
e
> wrote:

> Hmm, personally, I do not like redundant configurations. If someone
> configures a module, like mod_h2, to be enabled (H2Engine on), she could
> expect the module to take all the necessary steps. So I am no fan of a
> =E2=80=9ESSLAlpnEnable=E2=80=9C.
>

The reason boils down to vhosts and interop.  If someone does not wish
for a specific vhost (perhaps interacting with bad clients, or created for
backwards compatibility) to respond with a feature, it is useful to have
a fine-grained toggle.  The default -could- be 'enabled', although this
probably should not happen on the stable/maintenance branches, but
simply on the future release branch, to avoid surprises.

OpenSSL does the wrong thing in some cases with respect to TLS/SNI
and my current patch development - in some respect - is backing out
that callback change for customers who have been burned by this
specific nonsense.  You should reconsider absolutist behaviors,
because they make it much harder for people to inject 'experimental'
behaviors into specific hosts.

--089e011848748cb2e30517a0a1ff
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On W=
ed, Jun 3, 2015 at 8:43 AM, Stefan Eissing <span dir=3D"ltr">&lt;<a href=3D=
"mailto:stefan.eissing@greenbytes.de" target=3D"_blank">stefan.eissing@gree=
nbytes.de</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=
=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Hmm, per=
sonally, I do not like redundant configurations. If someone configures a mo=
dule, like mod_h2, to be enabled (H2Engine on), she could expect the module=
 to take all the necessary steps. So I am no fan of a =E2=80=9ESSLAlpnEnabl=
e=E2=80=9C.<br></blockquote><div><br></div><div>The reason boils down to vh=
osts and interop.=C2=A0 If someone does not wish</div><div>for a specific v=
host (perhaps interacting with bad clients, or created for</div><div>backwa=
rds compatibility) to respond with a feature, it is useful to have</div><di=
v>a fine-grained toggle.=C2=A0 The default -could- be &#39;enabled&#39;, al=
though this</div><div>probably should not happen on the stable/maintenance =
branches, but=C2=A0</div><div>simply on the future release branch, to avoid=
 surprises.</div><div><br></div><div>OpenSSL does the wrong thing in some c=
ases with respect to TLS/SNI</div><div>and my current patch development - i=
n some respect - is backing out</div><div>that callback change for customer=
s who have been burned by this</div><div>specific nonsense.=C2=A0 You shoul=
d reconsider absolutist behaviors,=C2=A0</div><div>because they make it muc=
h harder for people to inject &#39;experimental&#39;=C2=A0</div><div>behavi=
ors into specific hosts.</div></div><br></div><div class=3D"gmail_extra"><b=
r></div></div>

--089e011848748cb2e30517a0a1ff--

From dev-return-82848-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun  3 20:20:57 2015
Return-Path: <dev-return-82848-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F04D918F3B
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  3 Jun 2015 20:20:56 +0000 (UTC)
Received: (qmail 57859 invoked by uid 500); 3 Jun 2015 20:20:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57762 invoked by uid 500); 3 Jun 2015 20:20:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57665 invoked by uid 99); 3 Jun 2015 20:20:51 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 03 Jun 2015 20:20:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id BB21B1802E8
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 20:20:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.991
X-Spam-Level: **
X-Spam-Status: No, score=2.991 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, MIME_QP_LONG_LINE=0.001, SPF_PASS=-0.001,
	T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id iYFuWVyla7F4 for <dev@httpd.apache.org>;
	Wed,  3 Jun 2015 20:20:41 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 3C08E27605
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 20:20:41 +0000 (UTC)
Received: from [10.153.96.12] (unknown [109.44.3.98])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 1AE8815A01A7
	for <dev@httpd.apache.org>; Wed,  3 Jun 2015 22:19:38 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: multipart/alternative;
	boundary=Apple-Mail-70F598A9-4D49-4E17-947A-ED7699A97905
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (1.0)
Subject: Re: ALPN patch comments
Message-Id: <F82C6E25-8CB0-4D79-8004-72B0CD2F45AD@greenbytes.de>
Date: Wed, 3 Jun 2015 22:19:37 +0200
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de> <5537C311.6020209@velox.ch> <40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com> <553B62C2.9080202@velox.ch> <D0F6D103-F293-4BCE-8213-0F0A1148FC26@greenbytes.de> <CALK=YjNjxe4AkWOFfLBWf0jo0VNhQeTyrbCv5XRhyychKrwAvg@mail.gmail.com> <CBBC0006-0176-425C-B2A0-F78F8A90874D@greenbytes.de> <CAKQ1sVN078AbA5gSWrZsYCuNFrs3yHysCANUyMiN-M916O+D-w@mail.gmail.com> <70D0E670-B41E-47A3-A03D-C3C290B95151@greenbytes.de> <CACsi251tBfoTp=2NtaBA2wTS=O7-47mx1-wX-+dSg7CNqo8+2A@mail.gmail.com>
In-Reply-To: <CACsi251tBfoTp=2NtaBA2wTS=O7-47mx1-wX-+dSg7CNqo8+2A@mail.gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
X-Mailer: iPhone Mail (12F70)


--Apple-Mail-70F598A9-4D49-4E17-947A-ED7699A97905
Content-Type: text/plain;
	charset=utf-8
Content-Transfer-Encoding: quoted-printable

That is why mod_h2 allowe "H2Engine on|off" on base server and vhosts. If I u=
nderstand you correctly, this does what you ask for.=20

//Stefan



> Am 03.06.2015 um 19:45 schrieb William A Rowe Jr <wrowe@rowe-clan.net>:
>=20
>> On Wed, Jun 3, 2015 at 8:43 AM, Stefan Eissing <stefan.eissing@greenbytes=
.de> wrote:
>> Hmm, personally, I do not like redundant configurations. If someone confi=
gures a module, like mod_h2, to be enabled (H2Engine on), she could expect t=
he module to take all the necessary steps. So I am no fan of a =E2=80=9ESSLA=
lpnEnable=E2=80=9C.
>=20
> The reason boils down to vhosts and interop.  If someone does not wish
> for a specific vhost (perhaps interacting with bad clients, or created for=

> backwards compatibility) to respond with a feature, it is useful to have
> a fine-grained toggle.  The default -could- be 'enabled', although this
> probably should not happen on the stable/maintenance branches, but=20
> simply on the future release branch, to avoid surprises.
>=20
> OpenSSL does the wrong thing in some cases with respect to TLS/SNI
> and my current patch development - in some respect - is backing out
> that callback change for customers who have been burned by this
> specific nonsense.  You should reconsider absolutist behaviors,=20
> because they make it much harder for people to inject 'experimental'=20
> behaviors into specific hosts.
>=20
>=20

--Apple-Mail-70F598A9-4D49-4E17-947A-ED7699A97905
Content-Type: text/html;
	charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><head><meta http-equiv=3D"content-type" content=3D"text/html; charset=3D=
utf-8"></head><body dir=3D"auto"><div>That is why mod_h2 allowe "H2Engine on=
|off" on base server and vhosts. If I understand you correctly, this does wh=
at you ask for.&nbsp;</div><div><br></div><div>//Stefan<br><br><br></div><di=
v><br>Am 03.06.2015 um 19:45 schrieb William A Rowe Jr &lt;<a href=3D"mailto=
:wrowe@rowe-clan.net">wrowe@rowe-clan.net</a>&gt;:<br><br></div><blockquote t=
ype=3D"cite"><div><div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"=
gmail_quote">On Wed, Jun 3, 2015 at 8:43 AM, Stefan Eissing <span dir=3D"ltr=
">&lt;<a href=3D"mailto:stefan.eissing@greenbytes.de" target=3D"_blank">stef=
an.eissing@greenbytes.de</a>&gt;</span> wrote:<br><blockquote class=3D"gmail=
_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1=
ex">Hmm, personally, I do not like redundant configurations. If someone conf=
igures a module, like mod_h2, to be enabled (H2Engine on), she could expect t=
he module to take all the necessary steps. So I am no fan of a =E2=80=9ESSLA=
lpnEnable=E2=80=9C.<br></blockquote><div><br></div><div>The reason boils dow=
n to vhosts and interop.&nbsp; If someone does not wish</div><div>for a spec=
ific vhost (perhaps interacting with bad clients, or created for</div><div>b=
ackwards compatibility) to respond with a feature, it is useful to have</div=
><div>a fine-grained toggle.&nbsp; The default -could- be 'enabled', althoug=
h this</div><div>probably should not happen on the stable/maintenance branch=
es, but&nbsp;</div><div>simply on the future release branch, to avoid surpri=
ses.</div><div><br></div><div>OpenSSL does the wrong thing in some cases wit=
h respect to TLS/SNI</div><div>and my current patch development - in some re=
spect - is backing out</div><div>that callback change for customers who have=
 been burned by this</div><div>specific nonsense.&nbsp; You should reconside=
r absolutist behaviors,&nbsp;</div><div>because they make it much harder for=
 people to inject 'experimental'&nbsp;</div><div>behaviors into specific hos=
ts.</div></div><br></div><div class=3D"gmail_extra"><br></div></div>
</div></blockquote></body></html>=

--Apple-Mail-70F598A9-4D49-4E17-947A-ED7699A97905--

From dev-return-82849-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 10:46:59 2015
Return-Path: <dev-return-82849-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 955F018E56
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 10:46:59 +0000 (UTC)
Received: (qmail 99427 invoked by uid 500); 4 Jun 2015 10:46:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 99348 invoked by uid 500); 4 Jun 2015 10:46:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 99338 invoked by uid 99); 4 Jun 2015 10:46:54 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 10:46:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id BBACB181A44
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 10:46:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.88
X-Spam-Level: **
X-Spam-Status: No, score=2.88 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=qqmail.nl
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id nUT7SRXbedKg for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 10:46:41 +0000 (UTC)
Received: from mail-wi0-f181.google.com (mail-wi0-f181.google.com [209.85.212.181])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 7B82043C99
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 10:46:41 +0000 (UTC)
Received: by wibdq8 with SMTP id dq8so120412653wib.1
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 03:45:55 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=qqmail.nl; s=google;
        h=from:to:references:in-reply-to:subject:date:message-id:mime-version
         :content-type:thread-index:content-language;
        bh=wM6lzIIx0AEdRmsBRbO/oO5z5WR78HC5ule/IBVzYTY=;
        b=bUtVK1jRSe2ETLpfFefX8Px48FfhNr8Fs6LLan6VvTBcuIXWl90gnBmSfua4Ya/emx
         m+05WWgMwaAG5R3UCp8qhy+qteCMDPpkEVRjxtgHAT+iTbo8+3Rjh3UpA2wBm/PS9fF4
         YElbyMaHc5tCjf55n0h3Y1Kbsi7O6gx386luE=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:from:to:references:in-reply-to:subject:date
         :message-id:mime-version:content-type:thread-index:content-language;
        bh=wM6lzIIx0AEdRmsBRbO/oO5z5WR78HC5ule/IBVzYTY=;
        b=X7urs2huRuaCv57mW+C/CuwaY7Tt13TEBv1Lt+kQ7J96kg6IDGVS4aXFH0SeMbELq5
         w//YC+eBOuGSXexCE7BVD3ajxzuqL9V2NOineFxjV3E0GH+wv9Sl/0cIghzl3F5ibONd
         ZDRETrLh63hwuyeo5cUSgk52f+7EaytZO0m69ziSMC2s8MfbPIeulwF/SgtRGaAhhBK3
         N302LuzZeqeIWqKNq7LoAhmhm8kEd65CQmlHRFvz7dGDSe6XKFDRfDPM33iZY6dSltJ1
         9nM0Swv7sPLnTfpXKdixbH6+wg3dLr3kRjB+TzENWw3cICV5azk71APRrbSlBEKx6bZi
         r76w==
X-Gm-Message-State: ALoCoQlmw6kDrnG6E5ec5LyL3or/j0tqvxz/kdAJPVFhdFcYBJkKRGi42delqV5mkZ84GrywBWxq
X-Received: by 10.194.200.194 with SMTP id ju2mr68132905wjc.61.1433414755534;
        Thu, 04 Jun 2015 03:45:55 -0700 (PDT)
Received: from i72600 ([2001:610:66e:0:a1fe:7b28:1850:b511])
        by mx.google.com with ESMTPSA id lz17sm5750779wic.24.2015.06.04.03.45.53
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-SHA bits=128/128);
        Thu, 04 Jun 2015 03:45:54 -0700 (PDT)
From: "Bert Huijben" <bert@qqmail.nl>
To: <dev@httpd.apache.org>
References: <E0A3DDFB-10EA-4234-B421-7B5AAB2BF2C1@greenbytes.de> <5537C311.6020209@velox.ch> <40445687-9A14-4DDD-89A0-0B752E7CDC0B@jaguNET.com> <553B62C2.9080202@velox.ch> <D0F6D103-F293-4BCE-8213-0F0A1148FC26@greenbytes.de> <CALK=YjNjxe4AkWOFfLBWf0jo0VNhQeTyrbCv5XRhyychKrwAvg@mail.gmail.com> <CBBC0006-0176-425C-B2A0-F78F8A90874D@greenbytes.de> <CAKQ1sVN078AbA5gSWrZsYCuNFrs3yHysCANUyMiN-M916O+D-w@mail.gmail.com> <70D0E670-B41E-47A3-A03D-C3C290B95151@greenbytes.de> <CACsi251tBfoTp=2NtaBA2wTS=O7-47mx1-wX-+dSg7CNqo8+2A@mail.gmail.com> <F82C6E25-8CB0-4D79-8004-72B0CD2F45AD@greenbytes.de>
In-Reply-To: <F82C6E25-8CB0-4D79-8004-72B0CD2F45AD@greenbytes.de>
Subject: RE: ALPN patch comments
Date: Thu, 4 Jun 2015 12:45:47 +0200
Message-ID: <019201d09eb3$9f35c460$dda14d20$@qqmail.nl>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0193_01D09EC4.62BE9460"
X-Mailer: Microsoft Outlook 15.0
Thread-Index: AQNaIJLK++r7pGKzi6A9uL7SNnzW/wH4DcCjAhroaqYCz6j1bwLLjsBvAsQLjp4Cm6uMUAJEBoANAiC9v60CH51dyQE8Eo//mdKyFqA=
Content-Language: nl

This is a multipart message in MIME format.

------=_NextPart_000_0193_01D09EC4.62BE9460
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable

Can we really do ALPN per vhost?

=20

If this is handled before or at the same time as SNI, then SSLAlpnEnable =
is eventually applied per listening address, while H2Engine would make =
sense even for multiple hosts at the same ip.=20

=20

I would say returning some error is a valid response for not enabling =
H2Engine on a VHost, while still handling ALPN when explicitly disabled =
is not.

=20

                Bert

=20

From: Stefan Eissing [mailto:stefan.eissing@greenbytes.de]=20
Sent: woensdag 3 juni 2015 22:20
To: dev@httpd.apache.org
Subject: Re: ALPN patch comments

=20

That is why mod_h2 allowe "H2Engine on|off" on base server and vhosts. =
If I understand you correctly, this does what you ask for.=20

=20

//Stefan




Am 03.06.2015 um 19:45 schrieb William A Rowe Jr <wrowe@rowe-clan.net =
<mailto:wrowe@rowe-clan.net> >:

On Wed, Jun 3, 2015 at 8:43 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de <mailto:stefan.eissing@greenbytes.de> > =
wrote:

Hmm, personally, I do not like redundant configurations. If someone =
configures a module, like mod_h2, to be enabled (H2Engine on), she could =
expect the module to take all the necessary steps. So I am no fan of a =
=E2=80=9ESSLAlpnEnable=E2=80=9C.

=20

The reason boils down to vhosts and interop.  If someone does not wish

for a specific vhost (perhaps interacting with bad clients, or created =
for

backwards compatibility) to respond with a feature, it is useful to have

a fine-grained toggle.  The default -could- be 'enabled', although this

probably should not happen on the stable/maintenance branches, but=20

simply on the future release branch, to avoid surprises.

=20

OpenSSL does the wrong thing in some cases with respect to TLS/SNI

and my current patch development - in some respect - is backing out

that callback change for customers who have been burned by this

specific nonsense.  You should reconsider absolutist behaviors,=20

because they make it much harder for people to inject 'experimental'=20

behaviors into specific hosts.

=20

=20


------=_NextPart_000_0193_01D09EC4.62BE9460
Content-Type: text/html;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" =
xmlns=3D"http://www.w3.org/TR/REC-html40"><head><meta =
http-equiv=3DContent-Type content=3D"text/html; charset=3Dutf-8"><meta =
name=3DGenerator content=3D"Microsoft Word 15 (filtered =
medium)"><style><!--
/* Font Definitions */
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal-reply;
	font-family:"Calibri",sans-serif;
	color:#1F497D;}
.MsoChpDefault
	{mso-style-type:export-only;
	font-size:10.0pt;}
@page WordSection1
	{size:612.0pt 792.0pt;
	margin:70.85pt 70.85pt 70.85pt 70.85pt;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext=3D"edit" spidmax=3D"1026" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext=3D"edit">
<o:idmap v:ext=3D"edit" data=3D"1" />
</o:shapelayout></xml><![endif]--></head><body lang=3DNL link=3Dblue =
vlink=3Dpurple><div class=3DWordSection1><p class=3DMsoNormal><span =
lang=3DEN-US =
style=3D'font-size:11.0pt;font-family:"Calibri",sans-serif;color:#1F497D;=
mso-fareast-language:EN-US'>Can we really do ALPN per =
vhost?<o:p></o:p></span></p><p class=3DMsoNormal><span lang=3DEN-US =
style=3D'font-size:11.0pt;font-family:"Calibri",sans-serif;color:#1F497D;=
mso-fareast-language:EN-US'><o:p>&nbsp;</o:p></span></p><p =
class=3DMsoNormal><span lang=3DEN-US =
style=3D'font-size:11.0pt;font-family:"Calibri",sans-serif;color:#1F497D;=
mso-fareast-language:EN-US'>If this is handled before or at the same =
time as SNI, then SSLAlpnEnable is eventually applied per listening =
address, while H2Engine would make sense even for multiple hosts at the =
same ip. <o:p></o:p></span></p><p class=3DMsoNormal><span lang=3DEN-US =
style=3D'font-size:11.0pt;font-family:"Calibri",sans-serif;color:#1F497D;=
mso-fareast-language:EN-US'><o:p>&nbsp;</o:p></span></p><p =
class=3DMsoNormal><span lang=3DEN-US =
style=3D'font-size:11.0pt;font-family:"Calibri",sans-serif;color:#1F497D;=
mso-fareast-language:EN-US'>I would say returning some error is a valid =
response for not enabling H2Engine on a VHost, while still handling ALPN =
when explicitly disabled is not.<o:p></o:p></span></p><p =
class=3DMsoNormal><span lang=3DEN-US =
style=3D'font-size:11.0pt;font-family:"Calibri",sans-serif;color:#1F497D;=
mso-fareast-language:EN-US'><o:p>&nbsp;</o:p></span></p><p =
class=3DMsoNormal><span lang=3DEN-US =
style=3D'font-size:11.0pt;font-family:"Calibri",sans-serif;color:#1F497D;=
mso-fareast-language:EN-US'>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 =
Bert<o:p></o:p></span></p><p class=3DMsoNormal><a =
name=3D"_MailEndCompose"><span lang=3DEN-US =
style=3D'font-size:11.0pt;font-family:"Calibri",sans-serif;color:#1F497D;=
mso-fareast-language:EN-US'><o:p>&nbsp;</o:p></span></a></p><div =
style=3D'border:none;border-left:solid blue 1.5pt;padding:0cm 0cm 0cm =
4.0pt'><div><div style=3D'border:none;border-top:solid #E1E1E1 =
1.0pt;padding:3.0pt 0cm 0cm 0cm'><p class=3DMsoNormal><b><span =
lang=3DEN-US =
style=3D'font-size:11.0pt;font-family:"Calibri",sans-serif'>From:</span><=
/b><span lang=3DEN-US =
style=3D'font-size:11.0pt;font-family:"Calibri",sans-serif'> Stefan =
Eissing [mailto:stefan.eissing@greenbytes.de] <br><b>Sent:</b> woensdag =
3 juni 2015 22:20<br><b>To:</b> dev@httpd.apache.org<br><b>Subject:</b> =
Re: ALPN patch comments<o:p></o:p></span></p></div></div><p =
class=3DMsoNormal><o:p>&nbsp;</o:p></p><div><p class=3DMsoNormal>That is =
why mod_h2 allowe &quot;H2Engine on|off&quot; on base server and vhosts. =
If I understand you correctly, this does what you ask =
for.&nbsp;<o:p></o:p></p></div><div><p =
class=3DMsoNormal><o:p>&nbsp;</o:p></p></div><div><p class=3DMsoNormal =
style=3D'margin-bottom:12.0pt'>//Stefan<br><br><o:p></o:p></p></div><div>=
<p class=3DMsoNormal style=3D'margin-bottom:12.0pt'><br>Am 03.06.2015 um =
19:45 schrieb William A Rowe Jr &lt;<a =
href=3D"mailto:wrowe@rowe-clan.net">wrowe@rowe-clan.net</a>&gt;:<o:p></o:=
p></p></div><blockquote =
style=3D'margin-top:5.0pt;margin-bottom:5.0pt'><div><div><div><div><p =
class=3DMsoNormal>On Wed, Jun 3, 2015 at 8:43 AM, Stefan Eissing &lt;<a =
href=3D"mailto:stefan.eissing@greenbytes.de" =
target=3D"_blank">stefan.eissing@greenbytes.de</a>&gt; =
wrote:<o:p></o:p></p><blockquote style=3D'border:none;border-left:solid =
#CCCCCC 1.0pt;padding:0cm 0cm 0cm =
6.0pt;margin-left:4.8pt;margin-right:0cm'><p class=3DMsoNormal>Hmm, =
personally, I do not like redundant configurations. If someone =
configures a module, like mod_h2, to be enabled (H2Engine on), she could =
expect the module to take all the necessary steps. So I am no fan of a =
=E2=80=9ESSLAlpnEnable=E2=80=9C.<o:p></o:p></p></blockquote><div><p =
class=3DMsoNormal><o:p>&nbsp;</o:p></p></div><div><p =
class=3DMsoNormal>The reason boils down to vhosts and interop.&nbsp; If =
someone does not wish<o:p></o:p></p></div><div><p class=3DMsoNormal>for =
a specific vhost (perhaps interacting with bad clients, or created =
for<o:p></o:p></p></div><div><p class=3DMsoNormal>backwards =
compatibility) to respond with a feature, it is useful to =
have<o:p></o:p></p></div><div><p class=3DMsoNormal>a fine-grained =
toggle.&nbsp; The default -could- be 'enabled', although =
this<o:p></o:p></p></div><div><p class=3DMsoNormal>probably should not =
happen on the stable/maintenance branches, =
but&nbsp;<o:p></o:p></p></div><div><p class=3DMsoNormal>simply on the =
future release branch, to avoid surprises.<o:p></o:p></p></div><div><p =
class=3DMsoNormal><o:p>&nbsp;</o:p></p></div><div><p =
class=3DMsoNormal>OpenSSL does the wrong thing in some cases with =
respect to TLS/SNI<o:p></o:p></p></div><div><p class=3DMsoNormal>and my =
current patch development - in some respect - is backing =
out<o:p></o:p></p></div><div><p class=3DMsoNormal>that callback change =
for customers who have been burned by this<o:p></o:p></p></div><div><p =
class=3DMsoNormal>specific nonsense.&nbsp; You should reconsider =
absolutist behaviors,&nbsp;<o:p></o:p></p></div><div><p =
class=3DMsoNormal>because they make it much harder for people to inject =
'experimental'&nbsp;<o:p></o:p></p></div><div><p =
class=3DMsoNormal>behaviors into specific =
hosts.<o:p></o:p></p></div></div><p =
class=3DMsoNormal><o:p>&nbsp;</o:p></p></div><div><p =
class=3DMsoNormal><o:p>&nbsp;</o:p></p></div></div></div></blockquote></d=
iv></div></body></html>
------=_NextPart_000_0193_01D09EC4.62BE9460--


From dev-return-82850-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 12:08:12 2015
Return-Path: <dev-return-82850-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 40F4C172FD
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 12:08:12 +0000 (UTC)
Received: (qmail 84723 invoked by uid 500); 4 Jun 2015 12:08:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84650 invoked by uid 500); 4 Jun 2015 12:08:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84640 invoked by uid 99); 4 Jun 2015 12:08:11 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 12:08:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 72B66CB580
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 12:08:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id hVgXrjsBYz_Q for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 12:08:00 +0000 (UTC)
Received: from mail-ie0-f179.google.com (mail-ie0-f179.google.com [209.85.223.179])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 3A0AB428ED
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 12:08:00 +0000 (UTC)
Received: by iebgx4 with SMTP id gx4so34398667ieb.0
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 05:07:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=sH698d/NjgvoB3PM3Vsd+W3hKzzy0V9e2roU518uS7w=;
        b=kUgw1grUjFDb1tgR5/pY1DMigVeD8t3gayhcX2U03Qk1IpkwvVHKEcbozUSHQKnB63
         Jzw1KH40H4jluepm+cSjN5OX0BrgG7RmhJ4G3/x3tUM9NROfZuBXiTI8bBD5l/3hWNHZ
         CLXkv8Jmaw78VXA8bBprLaRfRFYrCxrEGICFag1TBJUfhL6fcaaaXKbDUqY8iK9ySfXq
         MfW2v2YoCUuFA7F2fpKIDidKMU+YEMYFuf9QV+byDjOxsyufDy3GpC7K4OHgwE0qgLIf
         JiDM/GM/BMs9rPyBiS7ug/bobvobTnA/oXtrYUa8nba1nLV3yESoqigeqXfGIdepW3ud
         qKKw==
MIME-Version: 1.0
X-Received: by 10.43.66.5 with SMTP id xo5mr3869019icb.57.1433419674350; Thu,
 04 Jun 2015 05:07:54 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Thu, 4 Jun 2015 05:07:54 -0700 (PDT)
Date: Thu, 4 Jun 2015 14:07:54 +0200
Message-ID: <CAKQ1sVMuQ9T0+BqZGMeSjfzWHG7pg_UsBfOZ0ORbubW_uw5Fpw@mail.gmail.com>
Subject: Re: ALPN patch comments
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

I think what makes the thing a bit awkward is that the
negotiable/preferred ALNP identifiers (protocols) is configurable in
both httpd (SSLAlpnPreference) and mod_h2 (hard coded).
The former is only a hint while the latter is the real proposal to the
client (with the fall back to "http/1.1").

Maybe it would be cleaner to let the modules register the ALPN
identifiers (at configure time, with another optional function), and
get rid of SSLAlpnPreference on mod_ssl side.
If no identifier is registered, mod_ssl won't register the ALPN
callback either, so that httpd continues to work without ALPN when not
needed.

WDYT?

On Thu, Jun 4, 2015 at 12:45 PM, Bert Huijben <bert@qqmail.nl> wrote:
> Can we really do ALPN per vhost?
>
>
>
> If this is handled before or at the same time as SNI, then SSLAlpnEnable =
is
> eventually applied per listening address, while H2Engine would make sense
> even for multiple hosts at the same ip.
>
>
>
> I would say returning some error is a valid response for not enabling
> H2Engine on a VHost, while still handling ALPN when explicitly disabled i=
s
> not.
>
>
>
>                 Bert
>
>
>
> From: Stefan Eissing [mailto:stefan.eissing@greenbytes.de]
> Sent: woensdag 3 juni 2015 22:20
> To: dev@httpd.apache.org
> Subject: Re: ALPN patch comments
>
>
>
> That is why mod_h2 allowe "H2Engine on|off" on base server and vhosts. If=
 I
> understand you correctly, this does what you ask for.
>
>
>
> //Stefan
>
>
> Am 03.06.2015 um 19:45 schrieb William A Rowe Jr <wrowe@rowe-clan.net>:
>
> On Wed, Jun 3, 2015 at 8:43 AM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>
> Hmm, personally, I do not like redundant configurations. If someone
> configures a module, like mod_h2, to be enabled (H2Engine on), she could
> expect the module to take all the necessary steps. So I am no fan of a
> =E2=80=9ESSLAlpnEnable=E2=80=9C.
>
>
>
> The reason boils down to vhosts and interop.  If someone does not wish
>
> for a specific vhost (perhaps interacting with bad clients, or created fo=
r
>
> backwards compatibility) to respond with a feature, it is useful to have
>
> a fine-grained toggle.  The default -could- be 'enabled', although this
>
> probably should not happen on the stable/maintenance branches, but
>
> simply on the future release branch, to avoid surprises.
>
>
>
> OpenSSL does the wrong thing in some cases with respect to TLS/SNI
>
> and my current patch development - in some respect - is backing out
>
> that callback change for customers who have been burned by this
>
> specific nonsense.  You should reconsider absolutist behaviors,
>
> because they make it much harder for people to inject 'experimental'
>
> behaviors into specific hosts.
>
>
>
>

From dev-return-82851-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 12:28:51 2015
Return-Path: <dev-return-82851-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D285D173D2
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 12:28:51 +0000 (UTC)
Received: (qmail 25925 invoked by uid 500); 4 Jun 2015 12:28:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 25861 invoked by uid 500); 4 Jun 2015 12:28:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 25850 invoked by uid 99); 4 Jun 2015 12:28:51 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 12:28:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C25481A451E
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 12:28:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id UO11DC7cHEk0 for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 12:28:35 +0000 (UTC)
Received: from resqmta-ch2-07v.sys.comcast.net (resqmta-ch2-07v.sys.comcast.net [69.252.207.39])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 6EF0A43C99
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 12:28:35 +0000 (UTC)
Received: from resomta-ch2-18v.sys.comcast.net ([69.252.207.114])
	by resqmta-ch2-07v.sys.comcast.net with comcast
	id cCSR1q0052Udklx01CSTYs; Thu, 04 Jun 2015 12:26:27 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-18v.sys.comcast.net with comcast
	id cCSS1q00g1cCKD901CSTgu; Thu, 04 Jun 2015 12:26:27 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: ALPN patch comments
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVMuQ9T0+BqZGMeSjfzWHG7pg_UsBfOZ0ORbubW_uw5Fpw@mail.gmail.com>
Date: Thu, 4 Jun 2015 08:26:26 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <45093350-41DB-4C77-89E4-DDF1FBFF6337@jaguNET.com>
References: <CAKQ1sVMuQ9T0+BqZGMeSjfzWHG7pg_UsBfOZ0ORbubW_uw5Fpw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1433420787;
	bh=yenCXUfI3lZge4+8C2wKNnu9gbDV0F/rwefkzrAhCPQ=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=eIUQxaL5TM+pCjrJhRUm7mJgHLtfAM8vyd5DMK/QkbFhhJ84zkgCrOMz4Nq9qUOlj
	 Crxsl1rQW2JloOpglKC8YY7xY/JpoiOve4SilSXBJmucYDbh1wmq5wDZf5XbWdcs6+
	 S9midKpaLKgygUdcyQiUwOu+saOJGpRvSgF7Mi9vt63L6ydgn+TRUsy6tyHJjp0+5I
	 1zRj8E9yjGFnbh8SAVXFQYA/j4UDN15lZSkPgJtP+5TpcQdZ9YvqlLatPi6jjINWrU
	 YS+XDK4mWoLPA7/DxYlAOhhLki1k5mkNWY3R820bhArS8kBm1jW9UQstZ2Tvt90zgb
	 Fu4PD+iqfyhog==

But certainly there are cases were mod_h2 is NOT part of
the running system, in which case we still need some way
to handle ALNP.

> On Jun 4, 2015, at 8:07 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>=20
> I think what makes the thing a bit awkward is that the
> negotiable/preferred ALNP identifiers (protocols) is configurable in
> both httpd (SSLAlpnPreference) and mod_h2 (hard coded).
> The former is only a hint while the latter is the real proposal to the
> client (with the fall back to "http/1.1").
>=20
> Maybe it would be cleaner to let the modules register the ALPN
> identifiers (at configure time, with another optional function), and
> get rid of SSLAlpnPreference on mod_ssl side.
> If no identifier is registered, mod_ssl won't register the ALPN
> callback either, so that httpd continues to work without ALPN when not
> needed.
>=20
> WDYT?
>=20
> On Thu, Jun 4, 2015 at 12:45 PM, Bert Huijben <bert@qqmail.nl> wrote:
>> Can we really do ALPN per vhost?
>>=20
>>=20
>>=20
>> If this is handled before or at the same time as SNI, then =
SSLAlpnEnable is
>> eventually applied per listening address, while H2Engine would make =
sense
>> even for multiple hosts at the same ip.
>>=20
>>=20
>>=20
>> I would say returning some error is a valid response for not enabling
>> H2Engine on a VHost, while still handling ALPN when explicitly =
disabled is
>> not.
>>=20
>>=20
>>=20
>>                Bert
>>=20
>>=20
>>=20
>> From: Stefan Eissing [mailto:stefan.eissing@greenbytes.de]
>> Sent: woensdag 3 juni 2015 22:20
>> To: dev@httpd.apache.org
>> Subject: Re: ALPN patch comments
>>=20
>>=20
>>=20
>> That is why mod_h2 allowe "H2Engine on|off" on base server and =
vhosts. If I
>> understand you correctly, this does what you ask for.
>>=20
>>=20
>>=20
>> //Stefan
>>=20
>>=20
>> Am 03.06.2015 um 19:45 schrieb William A Rowe Jr =
<wrowe@rowe-clan.net>:
>>=20
>> On Wed, Jun 3, 2015 at 8:43 AM, Stefan Eissing
>> <stefan.eissing@greenbytes.de> wrote:
>>=20
>> Hmm, personally, I do not like redundant configurations. If someone
>> configures a module, like mod_h2, to be enabled (H2Engine on), she =
could
>> expect the module to take all the necessary steps. So I am no fan of =
a
>> =E2=80=9ESSLAlpnEnable=E2=80=9C.
>>=20
>>=20
>>=20
>> The reason boils down to vhosts and interop.  If someone does not =
wish
>>=20
>> for a specific vhost (perhaps interacting with bad clients, or =
created for
>>=20
>> backwards compatibility) to respond with a feature, it is useful to =
have
>>=20
>> a fine-grained toggle.  The default -could- be 'enabled', although =
this
>>=20
>> probably should not happen on the stable/maintenance branches, but
>>=20
>> simply on the future release branch, to avoid surprises.
>>=20
>>=20
>>=20
>> OpenSSL does the wrong thing in some cases with respect to TLS/SNI
>>=20
>> and my current patch development - in some respect - is backing out
>>=20
>> that callback change for customers who have been burned by this
>>=20
>> specific nonsense.  You should reconsider absolutist behaviors,
>>=20
>> because they make it much harder for people to inject 'experimental'
>>=20
>> behaviors into specific hosts.
>>=20
>>=20
>>=20
>>=20


From dev-return-82852-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 12:31:53 2015
Return-Path: <dev-return-82852-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ABEBF173E4
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 12:31:53 +0000 (UTC)
Received: (qmail 34167 invoked by uid 500); 4 Jun 2015 12:31:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 34101 invoked by uid 500); 4 Jun 2015 12:31:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 34091 invoked by uid 99); 4 Jun 2015 12:31:52 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 12:31:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 7076ACB553
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 12:31:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.791
X-Spam-Level: *
X-Spam-Status: No, score=1.791 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 8c1H20w3rEbq for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 12:31:51 +0000 (UTC)
Received: from mail-qk0-f171.google.com (mail-qk0-f171.google.com [209.85.220.171])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 918D7275E3
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 12:31:51 +0000 (UTC)
Received: by qkhg32 with SMTP id g32so22719734qkh.0
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 05:30:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :content-type;
        bh=LYx8q4/HDIR4z4VzJtmHJA3tFDD0oPlqDGjfa3ZbIZ0=;
        b=SjkBesUlDkrrOQ3QbTHQ2hxfSEPQqi0k9+rC5IHjedMACaFKem5kKoyJPw4cSJZPLu
         cG5mgW/g1+UFNn8I0h0sfMAYP56ZbIb7HfqPSD+Zq/Xmh8MACeNexbCNfkbDadBZztyd
         Ec1gpBGXj1XBW87+icbMd/lR62JEI2Li4a9aCUPCQ1dwAyFnFWBOPrU4myvWDwcBKaI6
         6pXa2indYHHn8nWCGr6rA1btnQSyl7D3Tcg0YN2reYT8USm59GaiHbLKyV2lCPiVxvpk
         bu7xYb9w/EnoyeTwujYwJABJ+wfG0LjzrFQ5oFjrGPsh4issbzTfaTC45iRHPaWMfos6
         Cf4w==
X-Received: by 10.140.152.130 with SMTP id 124mr44207536qhy.65.1433421014997;
 Thu, 04 Jun 2015 05:30:14 -0700 (PDT)
MIME-Version: 1.0
References: <CAKQ1sVMuQ9T0+BqZGMeSjfzWHG7pg_UsBfOZ0ORbubW_uw5Fpw@mail.gmail.com>
In-Reply-To: <CAKQ1sVMuQ9T0+BqZGMeSjfzWHG7pg_UsBfOZ0ORbubW_uw5Fpw@mail.gmail.com>
From: Eric Covener <covener@gmail.com>
Date: Thu, 04 Jun 2015 12:30:03 +0000
Message-ID: <CALK=YjN867KUSJZG1Xv=7YoQ18YM8V4BKO9FMmriY6ofwgiyGg@mail.gmail.com>
Subject: Re: ALPN patch comments
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a1135b6e069bd8a0517b056a1

--001a1135b6e069bd8a0517b056a1
Content-Type: text/plain; charset=UTF-8

On Thu, Jun 4, 2015 at 8:08 AM Yann Ylavic <ylavic.dev@gmail.com> wrote:

> I think what makes the thing a bit awkward is that the
> negotiable/preferred ALNP identifiers (protocols) is configurable in
> both httpd (SSLAlpnPreference) and mod_h2 (hard coded).
> The former is only a hint while the latter is the real proposal to the
> client (with the fall back to "http/1.1").
>
> Maybe it would be cleaner to let the modules register the ALPN
> identifiers (at configure time, with another optional function), and
> get rid of SSLAlpnPreference on mod_ssl side.
> If no identifier is registered, mod_ssl won't register the ALPN
> callback either, so that httpd continues to work without ALPN when not
> needed.
>
> I think we need SSLAlpnPreference any time modules register ALPN
protocols, otherwise the admin has no control over whih is negotiated.  I
don't think we should rip it out.

--001a1135b6e069bd8a0517b056a1
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><br><br><div class=3D"gmail_quote"><div dir=3D"ltr">On Thu=
, Jun 4, 2015 at 8:08 AM Yann Ylavic &lt;<a href=3D"mailto:ylavic.dev@gmail=
.com">ylavic.dev@gmail.com</a>&gt; wrote:<br></div><blockquote class=3D"gma=
il_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-lef=
t:1ex">I think what makes the thing a bit awkward is that the<br>
negotiable/preferred ALNP identifiers (protocols) is configurable in<br>
both httpd (SSLAlpnPreference) and mod_h2 (hard coded).<br>
The former is only a hint while the latter is the real proposal to the<br>
client (with the fall back to &quot;http/1.1&quot;).<br>
<br>
Maybe it would be cleaner to let the modules register the ALPN<br>
identifiers (at configure time, with another optional function), and<br>
get rid of SSLAlpnPreference on mod_ssl side.<br>
If no identifier is registered, mod_ssl won&#39;t register the ALPN<br>
callback either, so that httpd continues to work without ALPN when not<br>
needed.<br><br></blockquote><div><span style=3D"font-size:16px;line-height:=
19.7999992370605px">I think we need SSLAlpnPreference any time modules regi=
ster ALPN protocols, otherwise the admin has no control over whih is negoti=
ated.=C2=A0 I don&#39;t think we should rip it out.</span></div></div></div=
>

--001a1135b6e069bd8a0517b056a1--

From dev-return-82853-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 12:34:15 2015
Return-Path: <dev-return-82853-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1A0EA173F6
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 12:34:15 +0000 (UTC)
Received: (qmail 38015 invoked by uid 500); 4 Jun 2015 12:34:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 37945 invoked by uid 500); 4 Jun 2015 12:34:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 37935 invoked by uid 99); 4 Jun 2015 12:34:14 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 12:34:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 43736CB599
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 12:34:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.791
X-Spam-Level: *
X-Spam-Status: No, score=1.791 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id U64eDOnWRzaS for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 12:34:13 +0000 (UTC)
Received: from mail-qk0-f175.google.com (mail-qk0-f175.google.com [209.85.220.175])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 9EF7743D8A
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 12:34:13 +0000 (UTC)
Received: by qkhg32 with SMTP id g32so22775298qkh.0
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 05:34:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :content-type;
        bh=YWUL0/QYe66HND3mu5gfBqIElRj8geFMd60KtNAio5E=;
        b=gzGQWVUUgke2aEGfBLvEJxeHGoDeypH0YdXlYnxzC/6f2y8H4KKbHPGbFsRTHLmbB4
         GVDuiLZ/D9uwYKZl6bz0GTg9eoERsPnN2uYcDqjLIrP7UBBqMwtxBFmKV0gtkY8ueb0D
         0jEzSjxwxYPbvmf4zDAc5bE0TeEhjb9GjW7HIbd/kRXC3O44sPxJ3FOJOQ431zyRsXBt
         CIIQBtEn69ipyGiVrvd5qS4w31yAYNJ4Zr34Fb56z7YXUWygMW4A9Uj/Q6Dn6kExOLz0
         Ruby8yB4n0grQli5ZKbW+UW3q0A527QamH7fEU9WyixrZW9jAT+cxhsI5eWPkOVQP2ht
         uRsg==
X-Received: by 10.140.133.9 with SMTP id 9mr43860222qhf.5.1433421253280; Thu,
 04 Jun 2015 05:34:13 -0700 (PDT)
MIME-Version: 1.0
References: <CAKQ1sVMuQ9T0+BqZGMeSjfzWHG7pg_UsBfOZ0ORbubW_uw5Fpw@mail.gmail.com>
 <CALK=YjN867KUSJZG1Xv=7YoQ18YM8V4BKO9FMmriY6ofwgiyGg@mail.gmail.com>
In-Reply-To: <CALK=YjN867KUSJZG1Xv=7YoQ18YM8V4BKO9FMmriY6ofwgiyGg@mail.gmail.com>
From: Eric Covener <covener@gmail.com>
Date: Thu, 04 Jun 2015 12:34:02 +0000
Message-ID: <CALK=YjNzxAtRFzZcgEVqRpbfF1vPg9SduUQfEun=D38OQVLdEA@mail.gmail.com>
Subject: Re: ALPN patch comments
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a1135a6689d8ce10517b064cc

--001a1135a6689d8ce10517b064cc
Content-Type: text/plain; charset=UTF-8

>
>
>> If no identifier is registered, mod_ssl won't register the ALPN
>> callback either, so that httpd continues to work without ALPN when not
>> needed.
>>
>
>
I do like that from a backport perspective though.

--001a1135a6689d8ce10517b064cc
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_quote"><blockquote class=3D"gmail_quot=
e" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">=
<div dir=3D"ltr"><div class=3D"gmail_quote"><blockquote class=3D"gmail_quot=
e" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">=
<br>
If no identifier is registered, mod_ssl won&#39;t register the ALPN<br>
callback either, so that httpd continues to work without ALPN when not<br>
needed.<br></blockquote></div></div><br></blockquote><div><br></div><div>I =
do like that from a backport perspective though.=C2=A0</div></div></div>

--001a1135a6689d8ce10517b064cc--

From dev-return-82854-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 12:41:30 2015
Return-Path: <dev-return-82854-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F368E1744C
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 12:41:29 +0000 (UTC)
Received: (qmail 49922 invoked by uid 500); 4 Jun 2015 12:41:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49837 invoked by uid 500); 4 Jun 2015 12:41:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49827 invoked by uid 99); 4 Jun 2015 12:41:29 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 12:41:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 08B0C181A44
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 12:41:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ggZ_v4mnK16I for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 12:41:28 +0000 (UTC)
Received: from mail-ie0-f170.google.com (mail-ie0-f170.google.com [209.85.223.170])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 90B772054B
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 12:41:27 +0000 (UTC)
Received: by iebgx4 with SMTP id gx4so34952161ieb.0
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 05:39:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=mpP0PivgTvhnL+9I2k4gRzGb78CxdUNh7qTqO7EuyfI=;
        b=m9ySYfVnbBq2oiFN2NArMGXjtvR/Y+NaeXY/AOEEEHEEsx3O2+z3b8lFKA+hBl5Ux7
         l+ovR4ZhZl/PSTZTWsXp7jE8eQlTp5K+ldR5TE4ExWsFWXsB9ean1Te+TXGdjaAjNmk9
         pH7F1P6SYFCxvIq0PY78y5b+qN2aZskBw1puXimLDToEpYfgdqYqeRBGlu5jMgdTnxbN
         an8c2fcNqFCLmWphbzBTs7O5ILUPswN+zMtJRV1lSxbejfPW5B3YPYcdzP+9flOrpWt6
         J9iJxvdLzJ6GVi33UJiRANdV0I2Kl0YH6rQeEwTRw8S9H3Q6Qgv1NB9MGNG6IcVc4M7k
         5Dgw==
MIME-Version: 1.0
X-Received: by 10.50.141.164 with SMTP id rp4mr34094166igb.2.1433421596117;
 Thu, 04 Jun 2015 05:39:56 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Thu, 4 Jun 2015 05:39:56 -0700 (PDT)
In-Reply-To: <CALK=YjN867KUSJZG1Xv=7YoQ18YM8V4BKO9FMmriY6ofwgiyGg@mail.gmail.com>
References: <CAKQ1sVMuQ9T0+BqZGMeSjfzWHG7pg_UsBfOZ0ORbubW_uw5Fpw@mail.gmail.com>
	<CALK=YjN867KUSJZG1Xv=7YoQ18YM8V4BKO9FMmriY6ofwgiyGg@mail.gmail.com>
Date: Thu, 4 Jun 2015 14:39:56 +0200
Message-ID: <CAKQ1sVMrGZif-HJpWWcmafipm9LJnRyyB5pdqYSM8CSH41DeeQ@mail.gmail.com>
Subject: Re: ALPN patch comments
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Thu, Jun 4, 2015 at 2:30 PM, Eric Covener <covener@gmail.com> wrote:
>
>
> On Thu, Jun 4, 2015 at 8:08 AM Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>> I think what makes the thing a bit awkward is that the
>> negotiable/preferred ALNP identifiers (protocols) is configurable in
>> both httpd (SSLAlpnPreference) and mod_h2 (hard coded).
>> The former is only a hint while the latter is the real proposal to the
>> client (with the fall back to "http/1.1").
>>
>> Maybe it would be cleaner to let the modules register the ALPN
>> identifiers (at configure time, with another optional function), and
>> get rid of SSLAlpnPreference on mod_ssl side.
>> If no identifier is registered, mod_ssl won't register the ALPN
>> callback either, so that httpd continues to work without ALPN when not
>> needed.
>>
> I think we need SSLAlpnPreference any time modules register ALPN protocols,
> otherwise the admin has no control over whih is negotiated.  I don't think
> we should rip it out.

OK, so it should probably be renammed SSLAlpnIDs or similar, and be
more than just a hint when configured (i.e. refuse connection if no
client ALPN ID matches).
Modules could then, the other way around, retrieve that list with an
optional fn, and do nothing if none matches their aptitude...

From dev-return-82855-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 12:46:36 2015
Return-Path: <dev-return-82855-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3B3B71747D
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 12:46:36 +0000 (UTC)
Received: (qmail 60073 invoked by uid 500); 4 Jun 2015 12:46:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59996 invoked by uid 500); 4 Jun 2015 12:46:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59986 invoked by uid 99); 4 Jun 2015 12:46:35 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 12:46:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 4EEF0CB5A8
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 12:46:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.099
X-Spam-Level:
X-Spam-Status: No, score=-0.099 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id NGSmsM9RRqRF for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 12:46:21 +0000 (UTC)
Received: from mail-ie0-f176.google.com (mail-ie0-f176.google.com [209.85.223.176])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 0683B275E3
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 12:46:21 +0000 (UTC)
Received: by iebgx4 with SMTP id gx4so35050057ieb.0
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 05:45:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=m+29vKOb9sy6ry5l+m+6rnNhHXnIiCHr8Ob602CzjGE=;
        b=fAPSr9N+wkWM7jf4VTOzzI62VGLq30dFcxbDC8hCfYQfXiJ6fJJ9ljeGISJ1AODSC8
         sUAdBFUxSG3z1LUzenPYpxg2d0TcoEp2osh2YRdEJ00LG8kOQzxm9i85s/QZ/bxG2x/c
         bx5f8E7BotFuMo/KL3o/ZvLevV2LP8ipTfKgW/QR5x4W8CP+4JolO55HhQU+rN8jnxPi
         CaeCDBTqRHoZbftK9drTUbAmGdQLEGLOL+xxwN3egtUoQYxcpARGHs8CnRewPPkjEjiW
         /MihnHLN6UKU646rkwQ17R6/OVinB+STd5gaDHd3yVW6LA8MFflf8mrYwR97NBZmoNUO
         WFYQ==
MIME-Version: 1.0
X-Received: by 10.50.47.50 with SMTP id a18mr4955531ign.46.1433421935465; Thu,
 04 Jun 2015 05:45:35 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Thu, 4 Jun 2015 05:45:35 -0700 (PDT)
In-Reply-To: <45093350-41DB-4C77-89E4-DDF1FBFF6337@jaguNET.com>
References: <CAKQ1sVMuQ9T0+BqZGMeSjfzWHG7pg_UsBfOZ0ORbubW_uw5Fpw@mail.gmail.com>
	<45093350-41DB-4C77-89E4-DDF1FBFF6337@jaguNET.com>
Date: Thu, 4 Jun 2015 14:45:35 +0200
Message-ID: <CAKQ1sVOTm94HPg2q4qZH5_6ACc0d--iiu_D1PTy8ia04cMTn4A@mail.gmail.com>
Subject: Re: ALPN patch comments
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Right, but we can still register our own IDs when httpd will handle
them (with a new directive or by the new module itself).

On Thu, Jun 4, 2015 at 2:26 PM, Jim Jagielski <jim@jagunet.com> wrote:
> But certainly there are cases were mod_h2 is NOT part of
> the running system, in which case we still need some way
> to handle ALNP.
>
>> On Jun 4, 2015, at 8:07 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>> I think what makes the thing a bit awkward is that the
>> negotiable/preferred ALNP identifiers (protocols) is configurable in
>> both httpd (SSLAlpnPreference) and mod_h2 (hard coded).
>> The former is only a hint while the latter is the real proposal to the
>> client (with the fall back to "http/1.1").
>>
>> Maybe it would be cleaner to let the modules register the ALPN
>> identifiers (at configure time, with another optional function), and
>> get rid of SSLAlpnPreference on mod_ssl side.
>> If no identifier is registered, mod_ssl won't register the ALPN
>> callback either, so that httpd continues to work without ALPN when not
>> needed.
>>
>> WDYT?
>>
>> On Thu, Jun 4, 2015 at 12:45 PM, Bert Huijben <bert@qqmail.nl> wrote:
>>> Can we really do ALPN per vhost?
>>>
>>>
>>>
>>> If this is handled before or at the same time as SNI, then SSLAlpnEnabl=
e is
>>> eventually applied per listening address, while H2Engine would make sen=
se
>>> even for multiple hosts at the same ip.
>>>
>>>
>>>
>>> I would say returning some error is a valid response for not enabling
>>> H2Engine on a VHost, while still handling ALPN when explicitly disabled=
 is
>>> not.
>>>
>>>
>>>
>>>                Bert
>>>
>>>
>>>
>>> From: Stefan Eissing [mailto:stefan.eissing@greenbytes.de]
>>> Sent: woensdag 3 juni 2015 22:20
>>> To: dev@httpd.apache.org
>>> Subject: Re: ALPN patch comments
>>>
>>>
>>>
>>> That is why mod_h2 allowe "H2Engine on|off" on base server and vhosts. =
If I
>>> understand you correctly, this does what you ask for.
>>>
>>>
>>>
>>> //Stefan
>>>
>>>
>>> Am 03.06.2015 um 19:45 schrieb William A Rowe Jr <wrowe@rowe-clan.net>:
>>>
>>> On Wed, Jun 3, 2015 at 8:43 AM, Stefan Eissing
>>> <stefan.eissing@greenbytes.de> wrote:
>>>
>>> Hmm, personally, I do not like redundant configurations. If someone
>>> configures a module, like mod_h2, to be enabled (H2Engine on), she coul=
d
>>> expect the module to take all the necessary steps. So I am no fan of a
>>> =E2=80=9ESSLAlpnEnable=E2=80=9C.
>>>
>>>
>>>
>>> The reason boils down to vhosts and interop.  If someone does not wish
>>>
>>> for a specific vhost (perhaps interacting with bad clients, or created =
for
>>>
>>> backwards compatibility) to respond with a feature, it is useful to hav=
e
>>>
>>> a fine-grained toggle.  The default -could- be 'enabled', although this
>>>
>>> probably should not happen on the stable/maintenance branches, but
>>>
>>> simply on the future release branch, to avoid surprises.
>>>
>>>
>>>
>>> OpenSSL does the wrong thing in some cases with respect to TLS/SNI
>>>
>>> and my current patch development - in some respect - is backing out
>>>
>>> that callback change for customers who have been burned by this
>>>
>>> specific nonsense.  You should reconsider absolutist behaviors,
>>>
>>> because they make it much harder for people to inject 'experimental'
>>>
>>> behaviors into specific hosts.
>>>
>>>
>>>
>>>
>

From dev-return-82856-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 12:52:37 2015
Return-Path: <dev-return-82856-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 42FB4174C8
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 12:52:37 +0000 (UTC)
Received: (qmail 78294 invoked by uid 500); 4 Jun 2015 12:52:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 78218 invoked by uid 500); 4 Jun 2015 12:52:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 78153 invoked by uid 99); 4 Jun 2015 12:52:32 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 12:52:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 8C8E3181A44
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 12:52:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id kwZBrFL43xD3 for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 12:52:24 +0000 (UTC)
Received: from mail-ig0-f170.google.com (mail-ig0-f170.google.com [209.85.213.170])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 07B842760C
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 12:52:15 +0000 (UTC)
Received: by igbsb11 with SMTP id sb11so38492337igb.0
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 05:52:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=uVS7oUpQtxo2ICm++ttHCFkiNGQa7Xucbgh4heoJ4Bk=;
        b=gNAX7fB9pPXHNCo/AAmhEMF76jPyM97xyy0dxOT6gTCO1Etb0cPX75mCVt4HAGu2Nl
         2+o3xZRFFcCKyPhQv0nQ+X1ecMKHGwbeIq1W5XP2c/hzZSdrxdLc9pQocNPiZlqWV4hX
         mo99TcNFut6TSLEdujqxWcqOrEyxYBhDrK8ajiXcQf8CpHadlJfCOzlSJEHY5ZjTgUYR
         HZIORbE/G0w56CdK5SwAJ+ZLyhM2K2xlp1fUn2qXQiiWY2z/EqzOKjk5oVBRuzDwT8A4
         L8bxJ34McjN7hXD/DX+J02xkivFGmRwGJSs8DuyTZgOtqGqKK7zxG/nqJUOFvAhD0Yah
         sTqg==
MIME-Version: 1.0
X-Received: by 10.50.62.148 with SMTP id y20mr33612733igr.17.1433422334299;
 Thu, 04 Jun 2015 05:52:14 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Thu, 4 Jun 2015 05:52:14 -0700 (PDT)
In-Reply-To: <CAKQ1sVMrGZif-HJpWWcmafipm9LJnRyyB5pdqYSM8CSH41DeeQ@mail.gmail.com>
References: <CAKQ1sVMuQ9T0+BqZGMeSjfzWHG7pg_UsBfOZ0ORbubW_uw5Fpw@mail.gmail.com>
	<CALK=YjN867KUSJZG1Xv=7YoQ18YM8V4BKO9FMmriY6ofwgiyGg@mail.gmail.com>
	<CAKQ1sVMrGZif-HJpWWcmafipm9LJnRyyB5pdqYSM8CSH41DeeQ@mail.gmail.com>
Date: Thu, 4 Jun 2015 14:52:14 +0200
Message-ID: <CAKQ1sVOmgqQUg1ditN2x3PLeJWd=oyJvLq_L6quyPSkoTadbZg@mail.gmail.com>
Subject: Re: ALPN patch comments
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Thu, Jun 4, 2015 at 2:39 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Thu, Jun 4, 2015 at 2:30 PM, Eric Covener <covener@gmail.com> wrote:
>>
>>
>> On Thu, Jun 4, 2015 at 8:08 AM Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>>
>>> I think what makes the thing a bit awkward is that the
>>> negotiable/preferred ALNP identifiers (protocols) is configurable in
>>> both httpd (SSLAlpnPreference) and mod_h2 (hard coded).
>>> The former is only a hint while the latter is the real proposal to the
>>> client (with the fall back to "http/1.1").
>>>
>>> Maybe it would be cleaner to let the modules register the ALPN
>>> identifiers (at configure time, with another optional function), and
>>> get rid of SSLAlpnPreference on mod_ssl side.
>>> If no identifier is registered, mod_ssl won't register the ALPN
>>> callback either, so that httpd continues to work without ALPN when not
>>> needed.
>>>
>> I think we need SSLAlpnPreference any time modules register ALPN protocols,
>> otherwise the admin has no control over whih is negotiated.  I don't think
>> we should rip it out.
>
> OK, so it should probably be renammed SSLAlpnIDs or similar, and be
> more than just a hint when configured (i.e. refuse connection if no
> client ALPN ID matches).

I meant fall back to "http/1.1" still, not refuse the connection.

From dev-return-82857-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 14:30:19 2015
Return-Path: <dev-return-82857-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D0F1E17998
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 14:30:19 +0000 (UTC)
Received: (qmail 74553 invoked by uid 500); 4 Jun 2015 14:30:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 74488 invoked by uid 500); 4 Jun 2015 14:30:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 74478 invoked by uid 99); 4 Jun 2015 14:30:18 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 14:30:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 529EBCB630
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 14:30:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id DB6L0UVwzFTM for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 14:30:09 +0000 (UTC)
Received: from resqmta-ch2-11v.sys.comcast.net (resqmta-ch2-11v.sys.comcast.net [69.252.207.43])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id EF02B42AD6
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 14:30:08 +0000 (UTC)
Received: from resomta-ch2-07v.sys.comcast.net ([69.252.207.103])
	by resqmta-ch2-11v.sys.comcast.net with comcast
	id cEVU1q0092EPM3101EW2zn; Thu, 04 Jun 2015 14:30:02 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-07v.sys.comcast.net with comcast
	id cEW11q00M1cCKD901EW1dY; Thu, 04 Jun 2015 14:30:02 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: T&R of 2.4.13
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <E6489313-A1C9-41D7-8E01-B6584050404C@jaguNET.com>
Date: Thu, 4 Jun 2015 10:30:01 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <A680CE93-9047-4A15-A143-E6FB08A2CD74@jaguNET.com>
References: <E6489313-A1C9-41D7-8E01-B6584050404C@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1433428202;
	bh=pNeu7DgMhfRmB/Oh8i+6TsVJSv1hnejE/auC4Fz8w20=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=NNEyIBytMT/aydHBbOTXUVpJiQ8rnJ6kkGuUx6vqX4XAzA6E9Cye62fJnNodVseU5
	 F++aejrepIL9LglrfRdCI7Nnu4TQxl2TNrmeprgozbA7QTdiMe6s/+m/Vv+sxCzZje
	 PNFOkkNV1hMzwKN9MuGOsTiUq08oTQ+Bj6BG6DXsRK3vJRxcUWxgId4htrNWxKsbic
	 409WUB3x0pYjxZxgyd9zc++7GrBnG98IktO2V7n38iyTZKczd9gP6N/0jvK9NfVoHn
	 3Umg6wIhsJbkj0EEXgiNY4ceJQrFDkUl9VxGBu6f5weIToJqf4Drx3arI4XHa8k32m
	 KT257Er2VKmrA==

Just a reminder... this is about 90mins from 'now'

> On Jun 2, 2015, at 7:32 AM, Jim Jagielski <jim@jaguNET.com> wrote:
> 
> Although there are some cool things that I'd like to see in
> 2.4.13, I don't want to hold off any longer (plus, those
> cool things would be good incentive for a 2.4.14 sooner
> rather than later).
> 
> I plan to T&R 2.4.13 on Thurs, by Noon eastern.


From dev-return-82858-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 15:08:49 2015
Return-Path: <dev-return-82858-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CFCBF17B3F
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 15:08:49 +0000 (UTC)
Received: (qmail 2380 invoked by uid 500); 4 Jun 2015 15:08:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 2285 invoked by uid 500); 4 Jun 2015 15:08:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 2275 invoked by uid 99); 4 Jun 2015 15:08:48 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 15:08:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id F1996C0617
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 15:08:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.901
X-Spam-Level: **
X-Spam-Status: No, score=2.901 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id i_Foj3w4l4Hn for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 15:08:34 +0000 (UTC)
Received: from mail-yk0-f172.google.com (mail-yk0-f172.google.com [209.85.160.172])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id EE81D2315E
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 15:08:33 +0000 (UTC)
Received: by yken206 with SMTP id n206so14976054yke.2
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 08:07:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=LXL02uelNE5ANrIQf1etSxX6X9p2qwgl6ITLL3wdsG0=;
        b=eyAr8q4u+c4Vjv6Owh1E6igvNpBtSewY3FtFr7UmpwqaSwjQ0NnfQsVYhIL1W/YVjQ
         2GXQq0VTA4vpFuymYqOUEUVP53XsVDjUITDz1wr1X1/Rb2sEQFHLS0UdPIx0WGLJpkyc
         zpKL16UFJDzhh0EvqWdmdGPszyXKkRvHlOTO1sGKG07l0fqMYUlfhHgxuP6FLlBqpABv
         kVN6nwzNQb6n37ZGHKd/E5mhuRyaYVS+xiFBdqMC77IffEQP0lWVLX+vZODzG03N4siV
         Ms094fE/EfJPf0CtAuAxhz9dEhQCwHA0d90W4ElZLrMjvmYbPcGhNsdlS8EzvZiRliUE
         n+Gg==
MIME-Version: 1.0
X-Received: by 10.170.91.131 with SMTP id i125mr27970901yka.12.1433430462371;
 Thu, 04 Jun 2015 08:07:42 -0700 (PDT)
Received: by 10.13.206.195 with HTTP; Thu, 4 Jun 2015 08:07:42 -0700 (PDT)
In-Reply-To: <A680CE93-9047-4A15-A143-E6FB08A2CD74@jaguNET.com>
References: <E6489313-A1C9-41D7-8E01-B6584050404C@jaguNET.com>
	<A680CE93-9047-4A15-A143-E6FB08A2CD74@jaguNET.com>
Date: Thu, 4 Jun 2015 11:07:42 -0400
Message-ID: <CAKUrXK4nxuy=u87w_wwT6RjWiesH1hXu4fzwDKG9HLUE6++H3Q@mail.gmail.com>
Subject: Re: T&R of 2.4.13
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113942ae851cd40517b289ca

--001a113942ae851cd40517b289ca
Content-Type: text/plain; charset=UTF-8

On Thu, Jun 4, 2015 at 10:30 AM, Jim Jagielski <jim@jagunet.com> wrote:

> Just a reminder... this is about 90mins from 'now'
>

Awesome/thanks!


>
> > On Jun 2, 2015, at 7:32 AM, Jim Jagielski <jim@jaguNET.com> wrote:
> >
> > Although there are some cool things that I'd like to see in
> > 2.4.13, I don't want to hold off any longer (plus, those
> > cool things would be good incentive for a 2.4.14 sooner
> > rather than later).
> >
> > I plan to T&R 2.4.13 on Thurs, by Noon eastern.
>
>


-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a113942ae851cd40517b289ca
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
hu, Jun 4, 2015 at 10:30 AM, Jim Jagielski <span dir=3D"ltr">&lt;<a href=3D=
"mailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt;</span> w=
rote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;borde=
r-left:1px #ccc solid;padding-left:1ex">Just a reminder... this is about 90=
mins from &#39;now&#39;<br></blockquote><div><br></div><div>Awesome/thanks!=
</div><div>=C2=A0</div><blockquote class=3D"gmail_quote" style=3D"margin:0 =
0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">
<span class=3D"im HOEnZb"><br>
&gt; On Jun 2, 2015, at 7:32 AM, Jim Jagielski &lt;jim@jaguNET.com&gt; wrot=
e:<br>
&gt;<br>
</span><div class=3D"HOEnZb"><div class=3D"h5">&gt; Although there are some=
 cool things that I&#39;d like to see in<br>
&gt; 2.4.13, I don&#39;t want to hold off any longer (plus, those<br>
&gt; cool things would be good incentive for a 2.4.14 sooner<br>
&gt; rather than later).<br>
&gt;<br>
&gt; I plan to T&amp;R 2.4.13 on Thurs, by Noon eastern.<br>
<br>
</div></div></blockquote></div><br><br clear=3D"all"><div><br></div>-- <br>=
<div class=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married =
an alien...<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http:=
//emptyhammock.com/</a><div><br></div></div></div>
</div></div>

--001a113942ae851cd40517b289ca--

From dev-return-82859-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 16:19:47 2015
Return-Path: <dev-return-82859-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1B32217EBE
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 16:19:47 +0000 (UTC)
Received: (qmail 50373 invoked by uid 500); 4 Jun 2015 16:19:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50309 invoked by uid 500); 4 Jun 2015 16:19:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50299 invoked by uid 99); 4 Jun 2015 16:19:46 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 16:19:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 1F4AC181A44
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 16:19:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.011
X-Spam-Level:
X-Spam-Status: No, score=-0.011 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id n7IyBWrLIXx8 for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 16:19:41 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 141FC43AC7
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 16:19:40 +0000 (UTC)
Received: from delight.fritz.box (unknown [84.150.91.31])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 1FF3415A34A6
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 18:19:03 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: ALPN patch comments
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVOmgqQUg1ditN2x3PLeJWd=oyJvLq_L6quyPSkoTadbZg@mail.gmail.com>
Date: Thu, 4 Jun 2015 18:19:02 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <13AA0595-AAA5-4150-8FFD-CABC8E780EB6@greenbytes.de>
References: <CAKQ1sVMuQ9T0+BqZGMeSjfzWHG7pg_UsBfOZ0ORbubW_uw5Fpw@mail.gmail.com> <CALK=YjN867KUSJZG1Xv=7YoQ18YM8V4BKO9FMmriY6ofwgiyGg@mail.gmail.com> <CAKQ1sVMrGZif-HJpWWcmafipm9LJnRyyB5pdqYSM8CSH41DeeQ@mail.gmail.com> <CAKQ1sVOmgqQUg1ditN2x3PLeJWd=oyJvLq_L6quyPSkoTadbZg@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)

I think we need to clarify some things:

1. ALPN is initiated by the client. When a client does not send ALPN as =
part of client helo, the SSL alpn callbacks are not invoked and the =
server does not send any ALPN information back. This is different from =
NPN.

2. SSLAlpnPreference is intended as the final word to make a choice when =
either one ALPN callback proposes many protocols or of several callbacks =
propose protocols. So, when mod_spdy and mod_h2 are active *and* the =
client claims to support spdy/3.1 and h2, the SSLAlpnPreference =
determines what gets chosen and sent to the client. This was not =
necessary with NPN as in that SSL extension the client was making the =
choice.

3. Independent of the client proposal, as I read the spec, the server is =
free to chose any protocol identifier it desires. This might result in =
the client closing the connection. So, if the client uses ALPN and the =
server does not want/cannot do/is configured not to support any of the =
clients proposals, httpd can always send back =E2=80=9Ehttp/1.1=E2=80=9C =
since this is what it always supports.

In this light, and correct me if I=E2=80=99m wrong, I see no benefit and =
only potential harm by introducing a =E2=80=9ESSLALpn on|off=E2=80=9C =
configuration directive. I think the current implementation covers all =
use cases and if one is missing, please point out the scenario.

As with the register once or on every connection optimization, yes, =
there might be some performance to gain. But I think it is not so =
straightforward to implement this, as not only the address and port =
influences this but also the SNI that gets send in the client helo. So, =
one would have at least to verify that registering an ALPN callback =
*after* the connection is open and SNI has been received has any effect.=20=


cheers,

  Stefan

> Am 04.06.2015 um 14:52 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Thu, Jun 4, 2015 at 2:39 PM, Yann Ylavic <ylavic.dev@gmail.com> =
wrote:
>> On Thu, Jun 4, 2015 at 2:30 PM, Eric Covener <covener@gmail.com> =
wrote:
>>>=20
>>>=20
>>> On Thu, Jun 4, 2015 at 8:08 AM Yann Ylavic <ylavic.dev@gmail.com> =
wrote:
>>>>=20
>>>> I think what makes the thing a bit awkward is that the
>>>> negotiable/preferred ALNP identifiers (protocols) is configurable =
in
>>>> both httpd (SSLAlpnPreference) and mod_h2 (hard coded).
>>>> The former is only a hint while the latter is the real proposal to =
the
>>>> client (with the fall back to "http/1.1").
>>>>=20
>>>> Maybe it would be cleaner to let the modules register the ALPN
>>>> identifiers (at configure time, with another optional function), =
and
>>>> get rid of SSLAlpnPreference on mod_ssl side.
>>>> If no identifier is registered, mod_ssl won't register the ALPN
>>>> callback either, so that httpd continues to work without ALPN when =
not
>>>> needed.
>>>>=20
>>> I think we need SSLAlpnPreference any time modules register ALPN =
protocols,
>>> otherwise the admin has no control over whih is negotiated.  I don't =
think
>>> we should rip it out.
>>=20
>> OK, so it should probably be renammed SSLAlpnIDs or similar, and be
>> more than just a hint when configured (i.e. refuse connection if no
>> client ALPN ID matches).
>=20
> I meant fall back to "http/1.1" still, not refuse the connection.

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82860-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 16:26:53 2015
Return-Path: <dev-return-82860-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5412617F14
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 16:26:53 +0000 (UTC)
Received: (qmail 66071 invoked by uid 500); 4 Jun 2015 16:26:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65992 invoked by uid 500); 4 Jun 2015 16:26:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65982 invoked by uid 99); 4 Jun 2015 16:26:52 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 16:26:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 630941A451C
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 16:26:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id VY0l-ZyDiyBg for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 16:26:43 +0000 (UTC)
Received: from mail-ig0-f177.google.com (mail-ig0-f177.google.com [209.85.213.177])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id D1EFF4545A
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 16:26:40 +0000 (UTC)
Received: by igbsb11 with SMTP id sb11so43419967igb.0
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 09:26:40 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=NxS6AE5U3GWazeNC7a2OOrKGWiTvHA/xzMLvM8etmMM=;
        b=QOxXddoNyDdIMqUbxlUHoraNueb1LG52KA4eD75PtwVpjipJlsVTKAR6t+4MuL0hP6
         rLLc+0G2ZNeSD1oirqL+892gCGTFWnGcCdJqJpPHIrlShuuQS/Ja1M1s8Fpk8SL8Fe5U
         83mPVIeo1XPb49aF7i7Ih9HuasJ/wvX8oc+uWuXxmNZme8q+Fl/q36ozzYSCpUsLmqX7
         HNiExbVTniNCvGwjQWoVSFsJLBCooUaoSOiHFNN7/V76VuKH4qH29l5jqOW7ctG/MUNb
         bZKMGPYXWJTos/QICW9Ezpcf83ziQhgA66YkM+oP0KnibOBGXGzyG1+hiwcExL1nSZ+F
         Vmog==
X-Gm-Message-State: ALoCoQkult5pTxA+nLtFXKwtXhFg7cdf/hWsF3Cz48b4ihMkYqcbJQ1QiLTpmO5WW5LiJrhNRm2k
MIME-Version: 1.0
X-Received: by 10.107.152.213 with SMTP id a204mr9358847ioe.92.1433435200481;
 Thu, 04 Jun 2015 09:26:40 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Thu, 4 Jun 2015 09:26:40 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
Date: Thu, 4 Jun 2015 11:26:40 -0500
Message-ID: <CACsi251GDqH0FHp4cQm1Fs+s_qgO3Dn8dTKfKmRfx7dW_XXiVA@mail.gmail.com>
Subject: T&R of 2.2.13 [corresponding to Re: T&R of 2.4.13]
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11403fdeef06a30517b3a3ac

--001a11403fdeef06a30517b3a3ac
Content-Type: text/plain; charset=UTF-8

[Changing subject, don't mean to hijack the 2.4 activity train]

There is a modestly important patch, already backported to 2.4.x branch,
that is still sitting in 2.2 status.  Could one more committer please review
and vote on that remaining fix?

Because it helps to avert an unintended doubled response in some edge
cases, I consider this one important enough to hold up 2.2 tag for some
more hours.

Bill


On Tue, Jun 2, 2015 at 4:36 PM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:

> On Tue, Jun 2, 2015 at 6:32 AM, Jim Jagielski <jim@jagunet.com> wrote:
>
>> Although there are some cool things that I'd like to see in
>> 2.4.13, I don't want to hold off any longer (plus, those
>> cool things would be good incentive for a 2.4.14 sooner
>> rather than later).
>>
>> I plan to T&R 2.4.13 on Thurs, by Noon eastern.
>>
>
> +1, planning to match you with a T&R of 2.2.30 on the same timetable.
>
> There is a nominally important last patch in 2.2 STATUS, if a third pair
> of eyes have the cycles to review it.
>

--001a11403fdeef06a30517b3a3ac
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div>[Changing subject, don&#39;t mean to hijack the 2.4 a=
ctivity train]</div><div><br></div>There is a modestly important patch, alr=
eady backported to 2.4.x branch,<div>that is still sitting in 2.2 status.=
=C2=A0 Could one more committer please review</div><div>and vote on that re=
maining fix?</div><div><br></div><div>Because it helps to avert an unintend=
ed doubled response in some edge</div><div>cases, I consider this one impor=
tant enough to hold up 2.2 tag for some=C2=A0</div><div>more hours.</div><d=
iv><br></div><div>Bill</div><div><br><div class=3D"gmail_extra"><br><div cl=
ass=3D"gmail_quote">On Tue, Jun 2, 2015 at 4:36 PM, William A Rowe Jr <span=
 dir=3D"ltr">&lt;<a href=3D"mailto:wrowe@rowe-clan.net" target=3D"_blank">w=
rowe@rowe-clan.net</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quot=
e" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">=
<div dir=3D"ltr"><div><div class=3D"h5"><div class=3D"gmail_extra"><div cla=
ss=3D"gmail_quote">On Tue, Jun 2, 2015 at 6:32 AM, Jim Jagielski <span dir=
=3D"ltr">&lt;<a href=3D"mailto:jim@jagunet.com" target=3D"_blank">jim@jagun=
et.com</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"=
margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Although the=
re are some cool things that I&#39;d like to see in<br>
2.4.13, I don&#39;t want to hold off any longer (plus, those<br>
cool things would be good incentive for a 2.4.14 sooner<br>
rather than later).<br>
<br>
I plan to T&amp;R 2.4.13 on Thurs, by Noon eastern.<br>
</blockquote></div><br></div></div></div><div class=3D"gmail_extra">+1, pla=
nning to match you with a T&amp;R of 2.2.30 on the same timetable.</div><di=
v class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">There is a nom=
inally important last patch in 2.2 STATUS, if a third pair of eyes have the=
 cycles to review it.</div></div>
</blockquote></div><br></div></div></div>

--001a11403fdeef06a30517b3a3ac--

From dev-return-82861-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 16:33:27 2015
Return-Path: <dev-return-82861-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9325117F84
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 16:33:27 +0000 (UTC)
Received: (qmail 86090 invoked by uid 500); 4 Jun 2015 16:33:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86022 invoked by uid 500); 4 Jun 2015 16:33:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86007 invoked by uid 99); 4 Jun 2015 16:33:27 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 16:33:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id B313A1A4543
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 16:33:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.651
X-Spam-Level:
X-Spam-Status: No, score=0.651 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id VzlZHB8Y7I0h for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 16:33:20 +0000 (UTC)
Received: from resqmta-ch2-01v.sys.comcast.net (resqmta-ch2-01v.sys.comcast.net [69.252.207.33])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id E52E6428ED
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 16:33:19 +0000 (UTC)
Received: from resomta-ch2-01v.sys.comcast.net ([69.252.207.97])
	by resqmta-ch2-01v.sys.comcast.net with comcast
	id cGXS1q00826dK1R01GZDK1; Thu, 04 Jun 2015 16:33:13 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-01v.sys.comcast.net with comcast
	id cGZA1q00m1cCKD901GZCu6; Thu, 04 Jun 2015 16:33:13 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: [VOTE] Release Apache httpd 2.4.13 as GA
Message-Id: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
Date: Thu, 4 Jun 2015 12:33:10 -0400
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1433435593;
	bh=puaM6BPr4gZ70JqcL7sBc40v3v1FnEy4536V1Kw0tvA=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=P0jyTKVbgn8A01PUwuLjOAaA81HkhCB1S66qpyvdJ7AAI4YujodzcKl4tfisv2kxr
	 rPR/Ba0Z0D83uMhuaDJUxSuV1L0CjhGAAWqIedQqQc7YC3GRlpjYGy5q8plJw0FWo7
	 Yk7mJbQPcVgzHKGEBL9fTrRcsReUjmzF63nrVtnJXU8XChY2W410ZuWcmAWy4uHhc1
	 xRZRb/I3t7UiACzYEL4x3n27c90uJPrDk61/o43aE7lp5jT6CGC/RSX0ApZK3Tl2Lc
	 /6fMKg64meKfyHc/q3udH1jFBV1d45aP/ZpcAYKyAwtjVZ1Kbr87pFUp67eNKtuMxA
	 +RWmNa6PJtGIw==

The pre-release test tarballs for Apache httpd 2.4.13 can be found
at the usual place:

	http://httpd.apache.org/dev/dist/

I'm calling a VOTE on releasing these as Apache httpd 2.4.13 GA.

[ ] +1: Good to go
[ ] +0: meh
[ ] -1: Danger Will Robinson. And why.

Vote will last the normal 72 hrs.

NOTE: The *-deps are only there for convenience.

Thx!

From dev-return-82862-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 16:44:43 2015
Return-Path: <dev-return-82862-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4100718016
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 16:44:43 +0000 (UTC)
Received: (qmail 27316 invoked by uid 500); 4 Jun 2015 16:44:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 27245 invoked by uid 500); 4 Jun 2015 16:44:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 27235 invoked by uid 99); 4 Jun 2015 16:44:42 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 16:44:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 5DBC7CB6AC
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 16:44:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.001
X-Spam-Level: ***
X-Spam-Status: No, score=3.001 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id QdpdlqDpaJjt for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 16:44:29 +0000 (UTC)
Received: from mail-ie0-f178.google.com (mail-ie0-f178.google.com [209.85.223.178])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 370F3275E3
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 16:44:29 +0000 (UTC)
Received: by iesa3 with SMTP id a3so40194693ies.2
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 09:43:43 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=R8Eb4cdIhQ3d90ujOQ3zpRpCxBOwKU4s/7pN6oKgXTo=;
        b=DeJ4WJD3tcVExeRmGhKk2DxUrdNm7emYMM93PBELRWoTBrjM9no6vxd5hHX6A+OBPm
         0IvtVUglzdWQJT/xzx0C8HG1MCc62OJ0BLzMUSaRORlaKyA86z8JhiiU5l3dec7EtT9M
         oDHqaLVVDXnO/wi2l0h+fb13RkpF2DRcet/LnIsfcUsszpVWtZrlz4eiwxEZeDSKbMr+
         4vrGGffAzqIHER9q6blrKBLX3uMUlBi+reuM5K0LLsPZMzqNLgBu7U28vNtlCq+iQX8q
         0Cj7nxfHQvgtyCfzoslaKaCBerHgJUn2udm8Xc8HMuqG2fZ7/d8s39v29Fcij7KRXklY
         lqgw==
X-Gm-Message-State: ALoCoQk/rBq3LBTdWpqB5j0gh5OUiTf3gHM4P4ciwPDGM4IkOptFnFbxf+6Y4VFhglAPSDtNF+Id
MIME-Version: 1.0
X-Received: by 10.50.90.179 with SMTP id bx19mr35353610igb.43.1433436223493;
 Thu, 04 Jun 2015 09:43:43 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Thu, 4 Jun 2015 09:43:43 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <CACsi251GDqH0FHp4cQm1Fs+s_qgO3Dn8dTKfKmRfx7dW_XXiVA@mail.gmail.com>
References: <CACsi251GDqH0FHp4cQm1Fs+s_qgO3Dn8dTKfKmRfx7dW_XXiVA@mail.gmail.com>
Date: Thu, 4 Jun 2015 11:43:43 -0500
Message-ID: <CACsi250Uh85y64ANS4UcrkqXTesAvjWzHrfc8NUiUpG+Pp_kzg@mail.gmail.com>
Subject: Re: T&R of 2.2.13 [corresponding to Re: T&R of 2.4.13]
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7bea4294e8f7d90517b3e0a8

--047d7bea4294e8f7d90517b3e0a8
Content-Type: text/plain; charset=UTF-8

More context at your fingertips without refreshing httpd-2.2 branch,
first...

https://bz.apache.org/bugzilla/show_bug.cgi?id=57832

On Thu, Jun 4, 2015 at 11:26 AM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:

> [Changing subject, don't mean to hijack the 2.4 activity train]
>
> There is a modestly important patch, already backported to 2.4.x branch,
> that is still sitting in 2.2 status.  Could one more committer please
> review
> and vote on that remaining fix?
>
> Because it helps to avert an unintended doubled response in some edge
> cases, I consider this one important enough to hold up 2.2 tag for some
> more hours.
>
> Bill
>
>
> On Tue, Jun 2, 2015 at 4:36 PM, William A Rowe Jr <wrowe@rowe-clan.net>
> wrote:
>
>> On Tue, Jun 2, 2015 at 6:32 AM, Jim Jagielski <jim@jagunet.com> wrote:
>>
>>> Although there are some cool things that I'd like to see in
>>> 2.4.13, I don't want to hold off any longer (plus, those
>>> cool things would be good incentive for a 2.4.14 sooner
>>> rather than later).
>>>
>>> I plan to T&R 2.4.13 on Thurs, by Noon eastern.
>>>
>>
>> +1, planning to match you with a T&R of 2.2.30 on the same timetable.
>>
>> There is a nominally important last patch in 2.2 STATUS, if a third pair
>> of eyes have the cycles to review it.
>>
>
>

--047d7bea4294e8f7d90517b3e0a8
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">More=
 context at your fingertips without refreshing httpd-2.2 branch, first...</=
div><div class=3D"gmail_quote"><br></div><div class=3D"gmail_quote"><a href=
=3D"https://bz.apache.org/bugzilla/show_bug.cgi?id=3D57832">https://bz.apac=
he.org/bugzilla/show_bug.cgi?id=3D57832</a><br></div><div class=3D"gmail_qu=
ote"><br></div><div class=3D"gmail_quote">On Thu, Jun 4, 2015 at 11:26 AM, =
William A Rowe Jr <span dir=3D"ltr">&lt;<a href=3D"mailto:wrowe@rowe-clan.n=
et" target=3D"_blank">wrowe@rowe-clan.net</a>&gt;</span> wrote:<br><blockqu=
ote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-wid=
th:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-l=
eft:1ex"><div dir=3D"ltr"><div>[Changing subject, don&#39;t mean to hijack =
the 2.4 activity train]</div><div><br></div>There is a modestly important p=
atch, already backported to 2.4.x branch,<div>that is still sitting in 2.2 =
status.=C2=A0 Could one more committer please review</div><div>and vote on =
that remaining fix?</div><div><br></div><div>Because it helps to avert an u=
nintended doubled response in some edge</div><div>cases, I consider this on=
e important enough to hold up 2.2 tag for some=C2=A0</div><div>more hours.<=
/div><div><br></div><div>Bill</div><div><br><div class=3D"gmail_extra"><br>=
<div class=3D"gmail_quote">On Tue, Jun 2, 2015 at 4:36 PM, William A Rowe J=
r <span dir=3D"ltr">&lt;<a href=3D"mailto:wrowe@rowe-clan.net" target=3D"_b=
lank">wrowe@rowe-clan.net</a>&gt;</span> wrote:<br><blockquote class=3D"gma=
il_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;border-le=
ft-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"><div di=
r=3D"ltr"><div><div><div class=3D"gmail_extra"><div class=3D"gmail_quote">O=
n Tue, Jun 2, 2015 at 6:32 AM, Jim Jagielski <span dir=3D"ltr">&lt;<a href=
=3D"mailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt;</span=
> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0=
.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-s=
tyle:solid;padding-left:1ex">Although there are some cool things that I&#39=
;d like to see in<br>
2.4.13, I don&#39;t want to hold off any longer (plus, those<br>
cool things would be good incentive for a 2.4.14 sooner<br>
rather than later).<br>
<br>
I plan to T&amp;R 2.4.13 on Thurs, by Noon eastern.<br>
</blockquote></div><br></div></div></div><div class=3D"gmail_extra">+1, pla=
nning to match you with a T&amp;R of 2.2.30 on the same timetable.</div><di=
v class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">There is a nom=
inally important last patch in 2.2 STATUS, if a third pair of eyes have the=
 cycles to review it.</div></div>
</blockquote></div><br></div></div></div>
</blockquote></div><br></div></div>

--047d7bea4294e8f7d90517b3e0a8--

From dev-return-82863-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 17:16:35 2015
Return-Path: <dev-return-82863-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6A78A1818B
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 17:16:35 +0000 (UTC)
Received: (qmail 51343 invoked by uid 500); 4 Jun 2015 17:16:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51277 invoked by uid 500); 4 Jun 2015 17:16:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51262 invoked by uid 99); 4 Jun 2015 17:16:34 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 17:16:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id AA4D7CB6FE
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 17:16:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id IhiqNDdTfH7V for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 17:16:25 +0000 (UTC)
Received: from mail-qk0-f182.google.com (mail-qk0-f182.google.com [209.85.220.182])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id E1DE3275E3
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 17:16:24 +0000 (UTC)
Received: by qkhg32 with SMTP id g32so27364834qkh.0
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 10:15:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :content-type;
        bh=GaTVp7X5v5aPt2QaxsSm4BE+5Ri+qkHSUJ5NxZhulQE=;
        b=TOfO7GqgVrcEwaSMsWj6GGyvuKFV8GURhBiHL4dXRgwrgiyDkOX9QvIxyqevd6F5eC
         NnwNgs988xRU8HIYMuBD1ayfw1zXCs7Es7n4aROw7l47xTDk9+R4qQf12MGWEIG4UFhZ
         4KhEyVxn/ShTryM8rjhakZp2x/ObOXTycZd0ih4cLKNdM9NNWitTfPzvf7vBsjlpi7bG
         g5Stbr4m6qXy/BXdjnxRoEv22Jd6xeJzDzqAlBf9tCmpHUUT+F0zzFmq1sjCHOcEYYEw
         M/FYlJ6scXBxzQQmbbdQiN4/HBH0739yEdEpiJhG5pvvVHMI0gJNlT3HlpWH1Ov/MOGg
         DY1Q==
X-Received: by 10.140.133.9 with SMTP id 9mr45611498qhf.5.1433438139077; Thu,
 04 Jun 2015 10:15:39 -0700 (PDT)
MIME-Version: 1.0
References: <CACsi251GDqH0FHp4cQm1Fs+s_qgO3Dn8dTKfKmRfx7dW_XXiVA@mail.gmail.com>
 <CACsi250Uh85y64ANS4UcrkqXTesAvjWzHrfc8NUiUpG+Pp_kzg@mail.gmail.com>
In-Reply-To: <CACsi250Uh85y64ANS4UcrkqXTesAvjWzHrfc8NUiUpG+Pp_kzg@mail.gmail.com>
From: Eric Covener <covener@gmail.com>
Date: Thu, 04 Jun 2015 17:15:28 +0000
Message-ID: <CALK=YjNOLNSn4jto2MHX137D=FP5S6GDvLLfND=FEVUZTDXxDA@mail.gmail.com>
Subject: Re: T&R of 2.2.13 [corresponding to Re: T&R of 2.4.13]
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a1135a668165ce30517b45350

--001a1135a668165ce30517b45350
Content-Type: text/plain; charset=UTF-8

I'm a little confused by AP_FILTER_ERROR as used in the handlers we have
now.  Is this return code evolved to mean only to issue a 500 error if the
response has not been committed?

/** Returned by any filter if the filter chain encounters an error
 *  and has already dealt with the error response.
 */
#define AP_FILTER_ERROR         -102

But now the handlers have this pattern:
                status = ap_pass_brigade(r->output_filters, bbout);
                if (status != APR_SUCCESS) {
                    /* no way to know what type of error occurred */
                    ap_log_rerror(APLOG_MARK, APLOG_DEBUG, status, r,
APLOGNO(01410)
                             "reflector_handler: ap_pass_brigade returned
%i",
                                  status);
                    return AP_FILTER_ERROR;
                }

So we don't actually retain whether some filter really handled the error.
I think in practice this is okay, because the handlers can't make a very
smart decision here anyway.

On Thu, Jun 4, 2015 at 12:44 PM William A Rowe Jr <wrowe@rowe-clan.net>
wrote:

> More context at your fingertips without refreshing httpd-2.2 branch,
> first...
>
> https://bz.apache.org/bugzilla/show_bug.cgi?id=57832
>
> On Thu, Jun 4, 2015 at 11:26 AM, William A Rowe Jr <wrowe@rowe-clan.net>
> wrote:
>
>> [Changing subject, don't mean to hijack the 2.4 activity train]
>>
>> There is a modestly important patch, already backported to 2.4.x branch,
>> that is still sitting in 2.2 status.  Could one more committer please
>> review
>> and vote on that remaining fix?
>>
>> Because it helps to avert an unintended doubled response in some edge
>> cases, I consider this one important enough to hold up 2.2 tag for some
>> more hours.
>>
>> Bill
>>
>>
>> On Tue, Jun 2, 2015 at 4:36 PM, William A Rowe Jr <wrowe@rowe-clan.net>
>> wrote:
>>
>>> On Tue, Jun 2, 2015 at 6:32 AM, Jim Jagielski <jim@jagunet.com> wrote:
>>>
>>>> Although there are some cool things that I'd like to see in
>>>> 2.4.13, I don't want to hold off any longer (plus, those
>>>> cool things would be good incentive for a 2.4.14 sooner
>>>> rather than later).
>>>>
>>>> I plan to T&R 2.4.13 on Thurs, by Noon eastern.
>>>>
>>>
>>> +1, planning to match you with a T&R of 2.2.30 on the same timetable.
>>>
>>> There is a nominally important last patch in 2.2 STATUS, if a third pair
>>> of eyes have the cycles to review it.
>>>
>>
>>
>

--001a1135a668165ce30517b45350
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">I&#39;m a little confused by AP_FILTER_ERROR as used in th=
e handlers we have now.=C2=A0 Is this return code evolved to mean only to i=
ssue a 500 error if the response has not been committed? =C2=A0=C2=A0<br><b=
r><div>/** Returned by any filter if the filter chain encounters an error</=
div><div>=C2=A0* =C2=A0and has already dealt with the error response.</div>=
<div>=C2=A0*/</div><div><div>#define AP_FILTER_ERROR =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 -102</div></div><div><br>But now the handlers have this pattern:<br>=
<div>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 status =3D ap_=
pass_brigade(r-&gt;output_filters, bbout);</div><div>=C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 if (status !=3D APR_SUCCESS) {</div><div=
>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 /* n=
o way to know what type of error occurred */</div><div>=C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 ap_log_rerror(APLOG_MARK,=
 APLOG_DEBUG, status, r, APLOGNO(01410)</div><div>=C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0&quot;reflector_handler: ap_pass_brigade returned %i&quot;,</div><div=
>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 status);</div><div>=C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 return AP_FILTE=
R_ERROR;</div><div>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
}</div><div><br></div><div>So we don&#39;t actually retain whether some fil=
ter really handled the error. =C2=A0 I think in practice this is okay, beca=
use the handlers can&#39;t make a very smart decision here anyway. =C2=A0</=
div></div></div><br><div class=3D"gmail_quote"><div dir=3D"ltr">On Thu, Jun=
 4, 2015 at 12:44 PM William A Rowe Jr &lt;<a href=3D"mailto:wrowe@rowe-cla=
n.net">wrowe@rowe-clan.net</a>&gt; wrote:<br></div><blockquote class=3D"gma=
il_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-lef=
t:1ex"><div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quot=
e">More context at your fingertips without refreshing httpd-2.2 branch, fir=
st...</div><div class=3D"gmail_quote"><br></div><div class=3D"gmail_quote">=
<a href=3D"https://bz.apache.org/bugzilla/show_bug.cgi?id=3D57832" target=
=3D"_blank">https://bz.apache.org/bugzilla/show_bug.cgi?id=3D57832</a><br><=
/div></div></div><div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"=
gmail_quote"><br></div><div class=3D"gmail_quote">On Thu, Jun 4, 2015 at 11=
:26 AM, William A Rowe Jr <span dir=3D"ltr">&lt;<a href=3D"mailto:wrowe@row=
e-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>&gt;</span> wrote:<br>=
<blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-=
left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;p=
adding-left:1ex"><div dir=3D"ltr"><div>[Changing subject, don&#39;t mean to=
 hijack the 2.4 activity train]</div><div><br></div>There is a modestly imp=
ortant patch, already backported to 2.4.x branch,<div>that is still sitting=
 in 2.2 status.=C2=A0 Could one more committer please review</div><div>and =
vote on that remaining fix?</div><div><br></div><div>Because it helps to av=
ert an unintended doubled response in some edge</div><div>cases, I consider=
 this one important enough to hold up 2.2 tag for some=C2=A0</div><div>more=
 hours.</div><div><br></div><div>Bill</div><div><br><div class=3D"gmail_ext=
ra"><br><div class=3D"gmail_quote">On Tue, Jun 2, 2015 at 4:36 PM, William =
A Rowe Jr <span dir=3D"ltr">&lt;<a href=3D"mailto:wrowe@rowe-clan.net" targ=
et=3D"_blank">wrowe@rowe-clan.net</a>&gt;</span> wrote:<br><blockquote clas=
s=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;b=
order-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex"=
><div dir=3D"ltr"><div><div><div class=3D"gmail_extra"><div class=3D"gmail_=
quote">On Tue, Jun 2, 2015 at 6:32 AM, Jim Jagielski <span dir=3D"ltr">&lt;=
<a href=3D"mailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt=
;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0p=
x 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border=
-left-style:solid;padding-left:1ex">Although there are some cool things tha=
t I&#39;d like to see in<br>
2.4.13, I don&#39;t want to hold off any longer (plus, those<br>
cool things would be good incentive for a 2.4.14 sooner<br>
rather than later).<br>
<br>
I plan to T&amp;R 2.4.13 on Thurs, by Noon eastern.<br>
</blockquote></div><br></div></div></div><div class=3D"gmail_extra">+1, pla=
nning to match you with a T&amp;R of 2.2.30 on the same timetable.</div><di=
v class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">There is a nom=
inally important last patch in 2.2 STATUS, if a third pair of eyes have the=
 cycles to review it.</div></div>
</blockquote></div><br></div></div></div>
</blockquote></div><br></div></div></blockquote></div>

--001a1135a668165ce30517b45350--

From dev-return-82864-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 17:16:56 2015
Return-Path: <dev-return-82864-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4BCD518193
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 17:16:56 +0000 (UTC)
Received: (qmail 52764 invoked by uid 500); 4 Jun 2015 17:16:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 52686 invoked by uid 500); 4 Jun 2015 17:16:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 52676 invoked by uid 99); 4 Jun 2015 17:16:55 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 17:16:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 48220181A44
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 17:16:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id LUtAZXPMJCRZ for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 17:16:45 +0000 (UTC)
Received: from mail-ig0-f181.google.com (mail-ig0-f181.google.com [209.85.213.181])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 5121C207AB
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 17:16:44 +0000 (UTC)
Received: by igbhj9 with SMTP id hj9so20576237igb.1
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 10:15:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=WMMzJyVWopu2cxaz22uy0fQkbRYmgADh7JOuOOwtKaE=;
        b=0KWhcnfBCQzFcjcHaZDVvNFvsHtBxuShX4nFmrAGw2vrfLTUPTwhMl2xDX7R9V30Vm
         Lr/iU/trpVfCXT5WYbJMM1mqDHXff1bRp2N6KVo5LG0duR8ovciFMGzUZNLIuN0RM6w4
         i9wQGmnG97IuNffrrF900jKy5wrwfQz22h+Z98SSEzltcygD1oEobjB0SU0zOcVO+VHO
         Xv5EpKQouODcf7kU7w3Gkg7i9vPzqYVALE7zzvHacC+KcMEebCemmoeqAsddt5g3oq5/
         byrbalmUGJCOo5utGf/+pTqZjwJ52Bd9bstdEP2qRjApOdFuEyP40GbF1pxWq+tggwyT
         XfJA==
MIME-Version: 1.0
X-Received: by 10.42.203.4 with SMTP id fg4mr5556033icb.52.1433438158327; Thu,
 04 Jun 2015 10:15:58 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Thu, 4 Jun 2015 10:15:58 -0700 (PDT)
In-Reply-To: <CACsi250Uh85y64ANS4UcrkqXTesAvjWzHrfc8NUiUpG+Pp_kzg@mail.gmail.com>
References: <CACsi251GDqH0FHp4cQm1Fs+s_qgO3Dn8dTKfKmRfx7dW_XXiVA@mail.gmail.com>
	<CACsi250Uh85y64ANS4UcrkqXTesAvjWzHrfc8NUiUpG+Pp_kzg@mail.gmail.com>
Date: Thu, 4 Jun 2015 19:15:58 +0200
Message-ID: <CAKQ1sVNw_Hc0yxDDkcvzVC5iWdEaAhZ516uQ38poHYPpKWm0CA@mail.gmail.com>
Subject: Re: T&R of 2.2.13 [corresponding to Re: T&R of 2.4.13]
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

The original thread wrt doubled response is [1] (quite long, sorry).

The rationale is that the handlers should not return an HTTP_* error
blindly when they fail to ap_get_brigade(), because the latter can
return AP_FILTER_ERROR when some input filter responds to the client
by itself (e.g. HTTP filter when LimitRequestBody is reached), and the
final ap_die() needs to know about this.

Hence the fix consists in using ap_map_http_request_error() for any
handler failing with ap_get_brigade(), so to translate the
apr_status_t to an HTTP error code, taking care of preserving
AP_FILTER_ERROR if any.

[1] https://www.mail-archive.com/dev@httpd.apache.org/msg61178.html

On Thu, Jun 4, 2015 at 6:43 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
> More context at your fingertips without refreshing httpd-2.2 branch,
> first...
>
> https://bz.apache.org/bugzilla/show_bug.cgi?id=57832
>
> On Thu, Jun 4, 2015 at 11:26 AM, William A Rowe Jr <wrowe@rowe-clan.net>
> wrote:
>>
>> [Changing subject, don't mean to hijack the 2.4 activity train]
>>
>> There is a modestly important patch, already backported to 2.4.x branch,
>> that is still sitting in 2.2 status.  Could one more committer please
>> review
>> and vote on that remaining fix?
>>
>> Because it helps to avert an unintended doubled response in some edge
>> cases, I consider this one important enough to hold up 2.2 tag for some
>> more hours.
>>
>> Bill
>>
>>
>> On Tue, Jun 2, 2015 at 4:36 PM, William A Rowe Jr <wrowe@rowe-clan.net>
>> wrote:
>>>
>>> On Tue, Jun 2, 2015 at 6:32 AM, Jim Jagielski <jim@jagunet.com> wrote:
>>>>
>>>> Although there are some cool things that I'd like to see in
>>>> 2.4.13, I don't want to hold off any longer (plus, those
>>>> cool things would be good incentive for a 2.4.14 sooner
>>>> rather than later).
>>>>
>>>> I plan to T&R 2.4.13 on Thurs, by Noon eastern.
>>>
>>>
>>> +1, planning to match you with a T&R of 2.2.30 on the same timetable.
>>>
>>> There is a nominally important last patch in 2.2 STATUS, if a third pair
>>> of eyes have the cycles to review it.
>>
>>
>

From dev-return-82865-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 17:20:57 2015
Return-Path: <dev-return-82865-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 06CFC181D0
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 17:20:57 +0000 (UTC)
Received: (qmail 72947 invoked by uid 500); 4 Jun 2015 17:20:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 72877 invoked by uid 500); 4 Jun 2015 17:20:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 72772 invoked by uid 99); 4 Jun 2015 17:20:46 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 17:20:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 20738C0617
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 17:20:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 7PjiXLEgjwN4 for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 17:20:37 +0000 (UTC)
Received: from mail-qk0-f175.google.com (mail-qk0-f175.google.com [209.85.220.175])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 68B8B2054B
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 17:20:37 +0000 (UTC)
Received: by qkx62 with SMTP id 62so27388501qkx.3
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 10:20:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :content-type;
        bh=dzyY90e3co1ECiV/5ovE4bLkMh9SOqKym8BpEolwtg8=;
        b=nzBxQMx5Rkt3F+L8be2NXWOs1Iqc/NleKMJXnDjdnvipeenXztqSira/NRZwU9B8Rd
         Uxyxjm9Q4wt8jq2tcV3Cy2bm0agvh6nbMucD9MYZjN6+SnjZ52lfT1oRPVHZmLu61xC1
         JbUzVq497TOLrLZ36aqYb8zD/ULgDrufEyj/ExUyN7aXx18yHvXRytC1pSC6m+QS1tLi
         qsT7OI65Z6L1x3CwC/TveticQ9Dx0epRg34YlyLSr32vc5VnuU8BevfmmCjXV4BS7jGs
         +Uhfagt+LDz1qytEL3kY8de5SD5o6SBJfMPugBWyPUWEcl4x/s2ktPtpFdqP0RLNM7Qf
         XkrQ==
X-Received: by 10.55.22.130 with SMTP id 2mr3630820qkw.45.1433438436547; Thu,
 04 Jun 2015 10:20:36 -0700 (PDT)
MIME-Version: 1.0
References: <CACsi251GDqH0FHp4cQm1Fs+s_qgO3Dn8dTKfKmRfx7dW_XXiVA@mail.gmail.com>
 <CACsi250Uh85y64ANS4UcrkqXTesAvjWzHrfc8NUiUpG+Pp_kzg@mail.gmail.com> <CALK=YjNOLNSn4jto2MHX137D=FP5S6GDvLLfND=FEVUZTDXxDA@mail.gmail.com>
In-Reply-To: <CALK=YjNOLNSn4jto2MHX137D=FP5S6GDvLLfND=FEVUZTDXxDA@mail.gmail.com>
From: Eric Covener <covener@gmail.com>
Date: Thu, 04 Jun 2015 17:20:26 +0000
Message-ID: <CALK=YjPFNpS9gy_jJZhB9B2c7R79EG-upDdp9eB2uw1QFUeZoQ@mail.gmail.com>
Subject: Re: T&R of 2.2.13 [corresponding to Re: T&R of 2.4.13]
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a114917a2d1926f0517b46464

--001a114917a2d1926f0517b46464
Content-Type: text/plain; charset=UTF-8

maybe part of what I am missing is that any output filter failure is a lost
cause, and the mapping happens on the input filter side.

On Thu, Jun 4, 2015 at 1:15 PM Eric Covener <covener@gmail.com> wrote:

> I'm a little confused by AP_FILTER_ERROR as used in the handlers we have
> now.  Is this return code evolved to mean only to issue a 500 error if the
> response has not been committed?
>
> /** Returned by any filter if the filter chain encounters an error
>  *  and has already dealt with the error response.
>  */
> #define AP_FILTER_ERROR         -102
>
> But now the handlers have this pattern:
>                 status = ap_pass_brigade(r->output_filters, bbout);
>                 if (status != APR_SUCCESS) {
>                     /* no way to know what type of error occurred */
>                     ap_log_rerror(APLOG_MARK, APLOG_DEBUG, status, r,
> APLOGNO(01410)
>                              "reflector_handler: ap_pass_brigade returned
> %i",
>                                   status);
>                     return AP_FILTER_ERROR;
>                 }
>
> So we don't actually retain whether some filter really handled the error.
>   I think in practice this is okay, because the handlers can't make a very
> smart decision here anyway.
>
> On Thu, Jun 4, 2015 at 12:44 PM William A Rowe Jr <wrowe@rowe-clan.net>
> wrote:
>
>> More context at your fingertips without refreshing httpd-2.2 branch,
>> first...
>>
>> https://bz.apache.org/bugzilla/show_bug.cgi?id=57832
>>
>> On Thu, Jun 4, 2015 at 11:26 AM, William A Rowe Jr <wrowe@rowe-clan.net>
>> wrote:
>>
>>> [Changing subject, don't mean to hijack the 2.4 activity train]
>>>
>>> There is a modestly important patch, already backported to 2.4.x branch,
>>> that is still sitting in 2.2 status.  Could one more committer please
>>> review
>>> and vote on that remaining fix?
>>>
>>> Because it helps to avert an unintended doubled response in some edge
>>> cases, I consider this one important enough to hold up 2.2 tag for some
>>> more hours.
>>>
>>> Bill
>>>
>>>
>>> On Tue, Jun 2, 2015 at 4:36 PM, William A Rowe Jr <wrowe@rowe-clan.net>
>>> wrote:
>>>
>>>> On Tue, Jun 2, 2015 at 6:32 AM, Jim Jagielski <jim@jagunet.com> wrote:
>>>>
>>>>> Although there are some cool things that I'd like to see in
>>>>> 2.4.13, I don't want to hold off any longer (plus, those
>>>>> cool things would be good incentive for a 2.4.14 sooner
>>>>> rather than later).
>>>>>
>>>>> I plan to T&R 2.4.13 on Thurs, by Noon eastern.
>>>>>
>>>>
>>>> +1, planning to match you with a T&R of 2.2.30 on the same timetable.
>>>>
>>>> There is a nominally important last patch in 2.2 STATUS, if a third
>>>> pair of eyes have the cycles to review it.
>>>>
>>>
>>>
>>

--001a114917a2d1926f0517b46464
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">maybe part of what I am missing is that any output filter =
failure is a lost cause, and the mapping happens on the input filter side.<=
br><br><div class=3D"gmail_quote"><div dir=3D"ltr">On Thu, Jun 4, 2015 at 1=
:15 PM Eric Covener &lt;<a href=3D"mailto:covener@gmail.com">covener@gmail.=
com</a>&gt; wrote:<br></div><blockquote class=3D"gmail_quote" style=3D"marg=
in:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"=
>I&#39;m a little confused by AP_FILTER_ERROR as used in the handlers we ha=
ve now.=C2=A0 Is this return code evolved to mean only to issue a 500 error=
 if the response has not been committed? =C2=A0=C2=A0<br><br><div>/** Retur=
ned by any filter if the filter chain encounters an error</div><div>=C2=A0*=
 =C2=A0and has already dealt with the error response.</div><div>=C2=A0*/</d=
iv><div><div>#define AP_FILTER_ERROR =C2=A0 =C2=A0 =C2=A0 =C2=A0 -102</div>=
</div><div><br>But now the handlers have this pattern:<br><div>=C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 status =3D ap_pass_brigade(r-=
&gt;output_filters, bbout);</div><div>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 if (status !=3D APR_SUCCESS) {</div><div>=C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 /* no way to know =
what type of error occurred */</div><div>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 ap_log_rerror(APLOG_MARK, APLOG_DEBUG, =
status, r, APLOGNO(01410)</div><div>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0&quot;ref=
lector_handler: ap_pass_brigade returned %i&quot;,</div><div>=C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 status);</div><div>=C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 return AP_FILTER_ERROR;</div>=
<div>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 }</div><div><b=
r></div><div>So we don&#39;t actually retain whether some filter really han=
dled the error. =C2=A0 I think in practice this is okay, because the handle=
rs can&#39;t make a very smart decision here anyway. =C2=A0</div></div></di=
v><br><div class=3D"gmail_quote"><div dir=3D"ltr">On Thu, Jun 4, 2015 at 12=
:44 PM William A Rowe Jr &lt;<a href=3D"mailto:wrowe@rowe-clan.net" target=
=3D"_blank">wrowe@rowe-clan.net</a>&gt; wrote:<br></div><blockquote class=
=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padd=
ing-left:1ex"><div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gma=
il_quote">More context at your fingertips without refreshing httpd-2.2 bran=
ch, first...</div><div class=3D"gmail_quote"><br></div><div class=3D"gmail_=
quote"><a href=3D"https://bz.apache.org/bugzilla/show_bug.cgi?id=3D57832" t=
arget=3D"_blank">https://bz.apache.org/bugzilla/show_bug.cgi?id=3D57832</a>=
<br></div></div></div><div dir=3D"ltr"><div class=3D"gmail_extra"><div clas=
s=3D"gmail_quote"><br></div><div class=3D"gmail_quote">On Thu, Jun 4, 2015 =
at 11:26 AM, William A Rowe Jr <span dir=3D"ltr">&lt;<a href=3D"mailto:wrow=
e@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>&gt;</span> wrote=
:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;bo=
rder-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:so=
lid;padding-left:1ex"><div dir=3D"ltr"><div>[Changing subject, don&#39;t me=
an to hijack the 2.4 activity train]</div><div><br></div>There is a modestl=
y important patch, already backported to 2.4.x branch,<div>that is still si=
tting in 2.2 status.=C2=A0 Could one more committer please review</div><div=
>and vote on that remaining fix?</div><div><br></div><div>Because it helps =
to avert an unintended doubled response in some edge</div><div>cases, I con=
sider this one important enough to hold up 2.2 tag for some=C2=A0</div><div=
>more hours.</div><div><br></div><div>Bill</div><div><br><div class=3D"gmai=
l_extra"><br><div class=3D"gmail_quote">On Tue, Jun 2, 2015 at 4:36 PM, Wil=
liam A Rowe Jr <span dir=3D"ltr">&lt;<a href=3D"mailto:wrowe@rowe-clan.net"=
 target=3D"_blank">wrowe@rowe-clan.net</a>&gt;</span> wrote:<br><blockquote=
 class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:=
1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left=
:1ex"><div dir=3D"ltr"><div><div><div class=3D"gmail_extra"><div class=3D"g=
mail_quote">On Tue, Jun 2, 2015 at 6:32 AM, Jim Jagielski <span dir=3D"ltr"=
>&lt;<a href=3D"mailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</=
a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0=
px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);b=
order-left-style:solid;padding-left:1ex">Although there are some cool thing=
s that I&#39;d like to see in<br>
2.4.13, I don&#39;t want to hold off any longer (plus, those<br>
cool things would be good incentive for a 2.4.14 sooner<br>
rather than later).<br>
<br>
I plan to T&amp;R 2.4.13 on Thurs, by Noon eastern.<br>
</blockquote></div><br></div></div></div><div class=3D"gmail_extra">+1, pla=
nning to match you with a T&amp;R of 2.2.30 on the same timetable.</div><di=
v class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">There is a nom=
inally important last patch in 2.2 STATUS, if a third pair of eyes have the=
 cycles to review it.</div></div>
</blockquote></div><br></div></div></div>
</blockquote></div><br></div></div></blockquote></div></blockquote></div></=
div>

--001a114917a2d1926f0517b46464--

From dev-return-82866-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 17:27:32 2015
Return-Path: <dev-return-82866-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 801551820E
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 17:27:32 +0000 (UTC)
Received: (qmail 5865 invoked by uid 500); 4 Jun 2015 17:27:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 5784 invoked by uid 500); 4 Jun 2015 17:27:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 5759 invoked by uid 99); 4 Jun 2015 17:27:32 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 17:27:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 8DA05C0B58
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 17:27:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.099
X-Spam-Level:
X-Spam-Status: No, score=-0.099 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id fShTTna05t71 for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 17:27:20 +0000 (UTC)
Received: from mail-ie0-f182.google.com (mail-ie0-f182.google.com [209.85.223.182])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 2B114428ED
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 17:27:20 +0000 (UTC)
Received: by iesa3 with SMTP id a3so41037799ies.2
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 10:27:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=qU1EnjGihDBFps0aoU5fxqEejb3I6e0q9yQzZN/QW10=;
        b=F9duRBu58dUdLr4xUgKObwwAeaDNDUY/N26d11bCYeyaFYNwgKzJBqa2fyEfd7bxY2
         PjhD8pDuisdet4qjkNlp+TLNim0qNFwE4pOWEMlcMFRsX8ND4I5A3CW3legRkPAd7Iqh
         EC9Pk+2ruSw+jOBAqy8sd5K6KuAhNXUUtXy28o1892WbMoJcR1hN5DIH0oKDBKMTB1pm
         CZGy1CZcTKPPU0U8Fs0U2uYwsRohdfNQLLKBEHJwYUB/Bo1KM3+3N91u7LVRzUtxPGdE
         vxXlIdVn+58kDmYCDakDdS6jdF/lRzGaE5PEAUNbzJ4Q5VlpSezRawqYRC7aT1K513+7
         +PMQ==
MIME-Version: 1.0
X-Received: by 10.43.162.136 with SMTP id mk8mr5603836icc.28.1433438833436;
 Thu, 04 Jun 2015 10:27:13 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Thu, 4 Jun 2015 10:27:13 -0700 (PDT)
In-Reply-To: <CALK=YjPFNpS9gy_jJZhB9B2c7R79EG-upDdp9eB2uw1QFUeZoQ@mail.gmail.com>
References: <CACsi251GDqH0FHp4cQm1Fs+s_qgO3Dn8dTKfKmRfx7dW_XXiVA@mail.gmail.com>
	<CACsi250Uh85y64ANS4UcrkqXTesAvjWzHrfc8NUiUpG+Pp_kzg@mail.gmail.com>
	<CALK=YjNOLNSn4jto2MHX137D=FP5S6GDvLLfND=FEVUZTDXxDA@mail.gmail.com>
	<CALK=YjPFNpS9gy_jJZhB9B2c7R79EG-upDdp9eB2uw1QFUeZoQ@mail.gmail.com>
Date: Thu, 4 Jun 2015 19:27:13 +0200
Message-ID: <CAKQ1sVMKO_hNnfUkJ6+ByJyQRP4M=uXmu8gBm_pF2x_ZhyBp6w@mail.gmail.com>
Subject: Re: T&R of 2.2.13 [corresponding to Re: T&R of 2.4.13]
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Not totally lost, it depends on whether the failing output filter is
before or after the http_header filter.
In the latter case, we already sent (part of) the response to the
client, so we must abort.
But in the former case, ap_die() will generate a 500, so to not let
the client without any response.


On Thu, Jun 4, 2015 at 7:20 PM, Eric Covener <covener@gmail.com> wrote:
> maybe part of what I am missing is that any output filter failure is a lost
> cause, and the mapping happens on the input filter side.
>
>
> On Thu, Jun 4, 2015 at 1:15 PM Eric Covener <covener@gmail.com> wrote:
>>
>> I'm a little confused by AP_FILTER_ERROR as used in the handlers we have
>> now.  Is this return code evolved to mean only to issue a 500 error if the
>> response has not been committed?
>>
>> /** Returned by any filter if the filter chain encounters an error
>>  *  and has already dealt with the error response.
>>  */
>> #define AP_FILTER_ERROR         -102
>>
>> But now the handlers have this pattern:
>>                 status = ap_pass_brigade(r->output_filters, bbout);
>>                 if (status != APR_SUCCESS) {
>>                     /* no way to know what type of error occurred */
>>                     ap_log_rerror(APLOG_MARK, APLOG_DEBUG, status, r,
>> APLOGNO(01410)
>>                              "reflector_handler: ap_pass_brigade returned
>> %i",
>>                                   status);
>>                     return AP_FILTER_ERROR;
>>                 }
>>
>> So we don't actually retain whether some filter really handled the error.
>> I think in practice this is okay, because the handlers can't make a very
>> smart decision here anyway.
>>
>> On Thu, Jun 4, 2015 at 12:44 PM William A Rowe Jr <wrowe@rowe-clan.net>
>> wrote:
>>>
>>> More context at your fingertips without refreshing httpd-2.2 branch,
>>> first...
>>>
>>> https://bz.apache.org/bugzilla/show_bug.cgi?id=57832
>>>
>>> On Thu, Jun 4, 2015 at 11:26 AM, William A Rowe Jr <wrowe@rowe-clan.net>
>>> wrote:
>>>>
>>>> [Changing subject, don't mean to hijack the 2.4 activity train]
>>>>
>>>> There is a modestly important patch, already backported to 2.4.x branch,
>>>> that is still sitting in 2.2 status.  Could one more committer please
>>>> review
>>>> and vote on that remaining fix?
>>>>
>>>> Because it helps to avert an unintended doubled response in some edge
>>>> cases, I consider this one important enough to hold up 2.2 tag for some
>>>> more hours.
>>>>
>>>> Bill
>>>>
>>>>
>>>> On Tue, Jun 2, 2015 at 4:36 PM, William A Rowe Jr <wrowe@rowe-clan.net>
>>>> wrote:
>>>>>
>>>>> On Tue, Jun 2, 2015 at 6:32 AM, Jim Jagielski <jim@jagunet.com> wrote:
>>>>>>
>>>>>> Although there are some cool things that I'd like to see in
>>>>>> 2.4.13, I don't want to hold off any longer (plus, those
>>>>>> cool things would be good incentive for a 2.4.14 sooner
>>>>>> rather than later).
>>>>>>
>>>>>> I plan to T&R 2.4.13 on Thurs, by Noon eastern.
>>>>>
>>>>>
>>>>> +1, planning to match you with a T&R of 2.2.30 on the same timetable.
>>>>>
>>>>> There is a nominally important last patch in 2.2 STATUS, if a third
>>>>> pair of eyes have the cycles to review it.
>>>>
>>>>
>>>
>

From dev-return-82867-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 18:23:41 2015
Return-Path: <dev-return-82867-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 78FBB18490
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 18:23:41 +0000 (UTC)
Received: (qmail 47154 invoked by uid 500); 4 Jun 2015 18:23:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 47096 invoked by uid 500); 4 Jun 2015 18:23:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 47083 invoked by uid 99); 4 Jun 2015 18:23:40 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 18:23:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id F0981C0617
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 18:23:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.999
X-Spam-Level: ***
X-Spam-Status: No, score=3.999 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, KAM_LAZY_DOMAIN_SECURITY=1,
	RCVD_IN_MSPIKE_H2=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id UXsnRuaCtErS for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 18:23:38 +0000 (UTC)
Received: from smtp.smtpout.orange.fr (smtp02.smtpout.orange.fr [80.12.242.124])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 733EB43A5B
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 18:23:37 +0000 (UTC)
Received: from [127.0.0.1] ([92.140.217.182])
	by mwinf5d04 with ME
	id cJPJ1q00D3wiMpG03JPJSo; Thu, 04 Jun 2015 20:23:19 +0200
X-ME-Helo: [127.0.0.1]
X-ME-Date: Thu, 04 Jun 2015 20:23:19 +0200
X-ME-IP: 92.140.217.182
Message-ID: <55709795.1080401@wanadoo.fr>
Date: Thu, 04 Jun 2015 20:23:17 +0200
From: Marion & Christophe JAILLET <christophe.jaillet@wanadoo.fr>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1683044 - /httpd/httpd/trunk/server/core.c
References: <20150602054058.696F7AC026E@hades.apache.org> <CACsi252=KhKGYfPfzn641icqrW4jHoMu5sy36-QmY3HVVYkdCw@mail.gmail.com>
In-Reply-To: <CACsi252=KhKGYfPfzn641icqrW4jHoMu5sy36-QmY3HVVYkdCw@mail.gmail.com>
Content-Type: multipart/alternative;
 boundary="------------050402090907040506090102"
X-Antivirus: avast! (VPS 150604-0, 04/06/2015), Outbound message
X-Antivirus-Status: Clean

This is a multi-part message in MIME format.
--------------050402090907040506090102
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit

Hi,

Skip a few bytes before calling 'strchr' if we know that they can't match.
=========================================================================
in 'ap_resolve_env', at line 1265 we have:
     if (*s == '$') {
         if (s[1] == '{' && (e = ap_strchr_c(s, '}'))) {
So, we looking for an ending '}', we alreay know that the 2 first 
caracters are '$' and '{'
No need to scan them again. They can't match a '}'
So, I proposed to start the scan after these 2 bytes (i.e. 
ap_strchr_c(s+2, '}')


s/apr_pstrndup/apr_pstrmemdup/ when applicable.
==============================================
#1) The line after, we apr_pstrndup what was within the '${' and '}'.
We know that (e-s-2) is shorter or equals to the length of '*s'.
So, pstrndup can be replaced by apr_pstrmemdup in order to avoid a 
useless call to strlen.


#2) in 'ap_limit_section' line 2139 we have:
    const char *endp = ap_strrchr_c(arg, '>');
Then we check if the '>' has been found at line 2146.

So, we know that (endp - arg) is shorter or equals to the length of 
'arg' and that pstrndup can be replaced by apr_pstrmemdup in order to 
avoid a useless call to strlen.


Fix a comment typo.
==================
resorce  --> resource



I agree that the wording of the Changelog could be more meaningful. 
Apparently these functions are only used during conf parsing. So, I 
propose to turn is into:
"Small speed optimization when parsing <Limit, <LimitExcept and 
environment variables"

Regards,
CJ


Le 03/06/2015 09:05, William A Rowe Jr a crit :
>
> I tried to reconcile your patch with your svn log entry and I failed.  
> Could you either correct or explain further?
>
> TIA,
>
> Bill
>
> On Jun 2, 2015 12:40 AM, <jailletc36@apache.org 
> <mailto:jailletc36@apache.org>> wrote:
>
>     Author: jailletc36
>     Date: Tue Jun  2 05:40:57 2015
>     New Revision: 1683044
>
>     URL: http://svn.apache.org/r1683044
>     Log:
>     Skip a few bytes before calling 'strchr' if we know that they
>     can't match.
>     s/apr_pstrndup/apr_pstrmemdup/ when applicable.
>     Fix a comment typo.
>
>     Modified:
>         httpd/httpd/trunk/server/core.c
>
>     Modified: httpd/httpd/trunk/server/core.c
>     URL:
>     http://svn.apache.org/viewvc/httpd/httpd/trunk/server/core.c?rev=1683044&r1=1683043&r2=1683044&view=diff
>     ==============================================================================
>     --- httpd/httpd/trunk/server/core.c (original)
>     +++ httpd/httpd/trunk/server/core.c Tue Jun  2 05:40:57 2015
>     @@ -1263,8 +1263,8 @@ AP_DECLARE(const char *) ap_resolve_env(
>              }
>
>              if (*s == '$') {
>     -            if (s[1] == '{' && (e = ap_strchr_c(s, '}'))) {
>     -                char *name = apr_pstrndup(p, s+2, e-s-2);
>     +            if (s[1] == '{' && (e = ap_strchr_c(s+2, '}'))) {
>     +                char *name = apr_pstrmemdup(p, s+2, e-s-2);
>                      word = NULL;
>                      if (server_config_defined_vars)
>                          word =
>     apr_table_get(server_config_defined_vars, name);
>     @@ -2147,7 +2147,7 @@ AP_CORE_DECLARE_NONSTD(const char *) ap_
>              return unclosed_directive(cmd);
>          }
>
>     -    limited_methods = apr_pstrndup(cmd->temp_pool, arg, endp - arg);
>     +    limited_methods = apr_pstrmemdup(cmd->temp_pool, arg, endp -
>     arg);
>
>          if (!limited_methods[0]) {
>              return missing_container_arg(cmd);
>     @@ -2164,7 +2164,7 @@ AP_CORE_DECLARE_NONSTD(const char *) ap_
>                  return "TRACE cannot be controlled by <Limit>, see
>     TraceEnable";
>              }
>              else if (methnum == M_INVALID) {
>     -            /* method has not been registered yet, but resorce
>     restriction
>     +            /* method has not been registered yet, but resource
>     restriction
>                   * is always checked before method handling, so
>     register it.
>                   */
>                  methnum = ap_method_register(cmd->pool,
>
>


--------------050402090907040506090102
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: 8bit

<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  </head>
  <body bgcolor="#FFFFFF" text="#000000">
    Hi,<br>
    <br>
    Skip a few bytes before calling 'strchr' if we know that they can't
    match.<br>
=========================================================================<br>
    in 'ap_resolve_env', at line 1265 we have:<br>
     if (*s == '$') {<br>
     if (s[1] == '{' &amp;&amp; (e = ap_strchr_c(s, '}'))) {<br>
    So, we looking for an ending '}', we alreay know that the 2 first
    caracters are '$' and '{'<br>
    No need to scan them again. They can't match a '}'<br>
    So, I proposed to start the scan after these 2 bytes (i.e.
    ap_strchr_c(s+2, '}')<br>
    <br>
    <br>
    s/apr_pstrndup/apr_pstrmemdup/ when applicable.<br>
    ==============================================<br>
    #1) The line after, we apr_pstrndup what was within the '${' and
    '}'.<br>
    We know that (e-s-2) is shorter or equals to the length of '*s'.<br>
    So, pstrndup can be replaced by apr_pstrmemdup in order to avoid a
    useless call to strlen.<br>
    <br>
    <br>
    #2) in 'ap_limit_section' line 2139 we have:<br>
     const char *endp = ap_strrchr_c(arg, '&gt;');<br>
    Then we check if the '&gt;' has been found at line 2146.<br>
    <br>
    So, we know that (endp - arg) is shorter or equals to the length of
    'arg' and that pstrndup can be replaced by apr_pstrmemdup in order
    to avoid a useless call to strlen.<br>
    <br>
    <br>
    Fix a comment typo.<br>
    ==================<br>
    resorce --&gt; resource<br>
    <br>
    <br>
    <br>
    I agree that the wording of the Changelog could be more meaningful.
    Apparently these functions are only used during conf parsing. So, I
    propose to turn is into:<br>
    "Small speed optimization when parsing <span class="pun">&lt;</span><span
      class="tag">Limit</span>, <span class="pun">&lt;</span><span
      class="tag">Limit</span>Except and environment variables"<br>
    <br>
    Regards,<br>
    CJ<br>
    <br>
    <br>
    <div class="moz-cite-prefix">Le 03/06/2015 09:05, William A Rowe Jr
      a crit:<br>
    </div>
    <blockquote
cite="mid:CACsi252=KhKGYfPfzn641icqrW4jHoMu5sy36-QmY3HVVYkdCw@mail.gmail.com"
      type="cite">
      <p dir="ltr">I tried to reconcile your patch with your svn log
        entry and I failed. Could you either correct or explain
        further?</p>
      <p dir="ltr">TIA,</p>
      <p dir="ltr">Bill</p>
      <div class="gmail_quote">On Jun 2, 2015 12:40 AM, &lt;<a
          moz-do-not-send="true" href="mailto:jailletc36@apache.org">jailletc36@apache.org</a>&gt;

        wrote:<br type="attribution">
        <blockquote class="gmail_quote" style="margin:0 0 0
          .8ex;border-left:1px #ccc solid;padding-left:1ex">Author:
          jailletc36<br>
          Date: Tue Jun 2 05:40:57 2015<br>
          New Revision: 1683044<br>
          <br>
          URL: <a moz-do-not-send="true"
            href="http://svn.apache.org/r1683044" target="_blank">http://svn.apache.org/r1683044</a><br>
          Log:<br>
          Skip a few bytes before calling 'strchr' if we know that they
          can't match.<br>
          s/apr_pstrndup/apr_pstrmemdup/ when applicable.<br>
          Fix a comment typo.<br>
          <br>
          Modified:<br>
            httpd/httpd/trunk/server/core.c<br>
          <br>
          Modified: httpd/httpd/trunk/server/core.c<br>
          URL: <a moz-do-not-send="true"
href="http://svn.apache.org/viewvc/httpd/httpd/trunk/server/core.c?rev=1683044&amp;r1=1683043&amp;r2=1683044&amp;view=diff"
            target="_blank">http://svn.apache.org/viewvc/httpd/httpd/trunk/server/core.c?rev=1683044&amp;r1=1683043&amp;r2=1683044&amp;view=diff</a><br>
==============================================================================<br>
          --- httpd/httpd/trunk/server/core.c (original)<br>
          +++ httpd/httpd/trunk/server/core.c Tue Jun 2 05:40:57 2015<br>
          @@ -1263,8 +1263,8 @@ AP_DECLARE(const char *) ap_resolve_env(<br>
              }<br>
          <br>
              if (*s == '$') {<br>
          -      if (s[1] == '{' &amp;&amp; (e = ap_strchr_c(s,
          '}'))) {<br>
          -        char *name = apr_pstrndup(p, s+2, e-s-2);<br>
          +      if (s[1] == '{' &amp;&amp; (e = ap_strchr_c(s+2,
          '}'))) {<br>
          +        char *name = apr_pstrmemdup(p, s+2, e-s-2);<br>
                  word = NULL;<br>
                  if (server_config_defined_vars)<br>
                    word =
          apr_table_get(server_config_defined_vars, name);<br>
          @@ -2147,7 +2147,7 @@ AP_CORE_DECLARE_NONSTD(const char *) ap_<br>
              return unclosed_directive(cmd);<br>
            }<br>
          <br>
          -  limited_methods = apr_pstrndup(cmd-&gt;temp_pool, arg,
          endp - arg);<br>
          +  limited_methods = apr_pstrmemdup(cmd-&gt;temp_pool, arg,
          endp - arg);<br>
          <br>
            if (!limited_methods[0]) {<br>
              return missing_container_arg(cmd);<br>
          @@ -2164,7 +2164,7 @@ AP_CORE_DECLARE_NONSTD(const char *) ap_<br>
                return "TRACE cannot be controlled by
          &lt;Limit&gt;, see TraceEnable";<br>
              }<br>
              else if (methnum == M_INVALID) {<br>
          -      /* method has not been registered yet, but
          resorce restriction<br>
          +      /* method has not been registered yet, but
          resource restriction<br>
                 * is always checked before method handling, so
          register it.<br>
                 */<br>
                methnum = ap_method_register(cmd-&gt;pool,<br>
          <br>
          <br>
        </blockquote>
      </div>
    </blockquote>
    <br>
  </body>
</html>

--------------050402090907040506090102--

From dev-return-82868-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 18:32:00 2015
Return-Path: <dev-return-82868-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C483E18515
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 18:32:00 +0000 (UTC)
Received: (qmail 76581 invoked by uid 500); 4 Jun 2015 18:32:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76506 invoked by uid 500); 4 Jun 2015 18:32:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76495 invoked by uid 99); 4 Jun 2015 18:32:00 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 18:32:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id C7376181A44
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 18:31:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.998
X-Spam-Level: **
X-Spam-Status: No, score=2.998 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id FnipmI9l3Opg for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 18:31:58 +0000 (UTC)
Received: from mail-ie0-f169.google.com (mail-ie0-f169.google.com [209.85.223.169])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 1388924CE7
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 18:31:58 +0000 (UTC)
Received: by iesa3 with SMTP id a3so42231490ies.2
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 11:31:11 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=wOfxCZMh78MO3mf5bcCS2U7ae+oDMzU7F0micBIDpcU=;
        b=hVSoDkL5+IE3Sd8HU/mRr6Mk3R4K/uHwx1dwPdrC2XJBv2CD/CdEeWE5hFhla/MShR
         zNz69979ssaMycstURC0zXTvpdp570/eWBXaEWuQiVjv5hdMRkLGuFPIHT4oQhDS7Up8
         rVmIhRMjnKdki6Xki+ihL+XjjKjxFr2ohwzkVmVkzjtVuSqZjkEcTzHbTcFZ3sDBrKJo
         kRRKORa01nhZpX1ztGX4v5RUJQbreWz87CXy03j7bumsw/so7T/B6FgwILJlUD4KM8gw
         OO5zCQjfhl86vG1H20sLSpUbFm4ts8XpLaNddo8pDl+iMWAtJEI3/ADYK2HHcsUIqkeA
         dBjA==
X-Gm-Message-State: ALoCoQnkkQM/UVI4AK+W4//O8Xa0kGSmIOXrp06daBE16J0jzxbTy3bcQNftDAISgd4sXSsWZM8g
MIME-Version: 1.0
X-Received: by 10.50.114.5 with SMTP id jc5mr7024827igb.43.1433442671740; Thu,
 04 Jun 2015 11:31:11 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Thu, 4 Jun 2015 11:31:11 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <55709795.1080401@wanadoo.fr>
References: <20150602054058.696F7AC026E@hades.apache.org>
	<CACsi252=KhKGYfPfzn641icqrW4jHoMu5sy36-QmY3HVVYkdCw@mail.gmail.com>
	<55709795.1080401@wanadoo.fr>
Date: Thu, 4 Jun 2015 13:31:11 -0500
Message-ID: <CACsi252Ad-Q88ZeoE-WPbbF-+9zBbuBznpXjwghf+VkjcMmzMA@mail.gmail.com>
Subject: Re: svn commit: r1683044 - /httpd/httpd/trunk/server/core.c
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7b4141724160860517b5617a

--047d7b4141724160860517b5617a
Content-Type: text/plain; charset=UTF-8

On Thu, Jun 4, 2015 at 1:23 PM, Marion & Christophe JAILLET <
christophe.jaillet@wanadoo.fr> wrote:

>
> I agree that the wording of the Changelog could be more meaningful.
> Apparently these functions are only used during conf parsing. So, I propose
> to turn is into:
> "Small speed optimization when parsing <Limit, <LimitExcept and
> environment variables"
>

Yup, I agree.

--047d7b4141724160860517b5617a
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
hu, Jun 4, 2015 at 1:23 PM, Marion &amp; Christophe JAILLET <span dir=3D"lt=
r">&lt;<a href=3D"mailto:christophe.jaillet@wanadoo.fr" target=3D"_blank">c=
hristophe.jaillet@wanadoo.fr</a>&gt;</span> wrote:<br><blockquote class=3D"=
gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-=
left:1ex">
 =20
   =20
 =20
  <div bgcolor=3D"#FFFFFF" text=3D"#000000"><br>
    I agree that the wording of the Changelog could be more meaningful.
    Apparently these functions are only used during conf parsing. So, I
    propose to turn is into:<br>
    &quot;Small speed optimization when parsing <span>&lt;</span><span>Limi=
t</span>, <span>&lt;</span><span>Limit</span>Except and environment variabl=
es&quot;</div></blockquote><div><br></div><div>Yup, I agree.=C2=A0</div></d=
iv><br></div></div>

--047d7b4141724160860517b5617a--

From dev-return-82869-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 19:45:35 2015
Return-Path: <dev-return-82869-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C8198187CB
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 19:45:35 +0000 (UTC)
Received: (qmail 67985 invoked by uid 500); 4 Jun 2015 19:45:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67912 invoked by uid 500); 4 Jun 2015 19:45:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67902 invoked by uid 99); 4 Jun 2015 19:45:35 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 19:45:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id E83201A44D0
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 19:45:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 18mxYQrJcGO3 for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 19:45:28 +0000 (UTC)
Received: from mail-ie0-f182.google.com (mail-ie0-f182.google.com [209.85.223.182])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id A741B42AD6
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 19:45:28 +0000 (UTC)
Received: by iebgx4 with SMTP id gx4so43481579ieb.0
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 12:45:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=oLsKonQn/AX+lCul3tAX7o7WjgTb2LAMxuaquX9RVsI=;
        b=FDFrfM6rdaGafWqy0p3ktLfWXiXFzu9oOXzHzhULvbkZRXTzAnx5NsW0guJ0DfzM0H
         JFEIzV8fL8ZenQzcEVpwmn9ay386Me42bcdruWNnqoNpA0vFkFO2A3sR6v4Lj2G+DDhW
         81feMOYg2CLOn8CMe6HKamc4Jpib1N3NoyBhVHIE2CxexkZpVWBEMi4jxvj6fNj+YQap
         bMY9mhPwSKP0LC+olkX5M1jxYSAi1HvHBeSVnQ0MtYC57fozzdV5/hFZt2We2erbza5Z
         tzxUCFNl2UGFXB3WzZX3kR7rlztH/3uxXUluTMibUEL74J1jrstZV55UYH1Gi9JWmh7R
         BEZw==
MIME-Version: 1.0
X-Received: by 10.50.141.164 with SMTP id rp4mr36641526igb.2.1433447128317;
 Thu, 04 Jun 2015 12:45:28 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Thu, 4 Jun 2015 12:45:28 -0700 (PDT)
In-Reply-To: <13AA0595-AAA5-4150-8FFD-CABC8E780EB6@greenbytes.de>
References: <CAKQ1sVMuQ9T0+BqZGMeSjfzWHG7pg_UsBfOZ0ORbubW_uw5Fpw@mail.gmail.com>
	<CALK=YjN867KUSJZG1Xv=7YoQ18YM8V4BKO9FMmriY6ofwgiyGg@mail.gmail.com>
	<CAKQ1sVMrGZif-HJpWWcmafipm9LJnRyyB5pdqYSM8CSH41DeeQ@mail.gmail.com>
	<CAKQ1sVOmgqQUg1ditN2x3PLeJWd=oyJvLq_L6quyPSkoTadbZg@mail.gmail.com>
	<13AA0595-AAA5-4150-8FFD-CABC8E780EB6@greenbytes.de>
Date: Thu, 4 Jun 2015 21:45:28 +0200
Message-ID: <CAKQ1sVOQ87Y=vzuRONTHU+Ss_py93b6Dzhp1sTPSfYS8+WDWNQ@mail.gmail.com>
Subject: Re: ALPN patch comments
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Thu, Jun 4, 2015 at 6:19 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> I think we need to clarify some things:
>
> 1. ALPN is initiated by the client. When a client does not send ALPN as p=
art of client helo, the SSL alpn callbacks are not invoked and the server d=
oes not send any ALPN information back. This is different from NPN.

Agreed.

>
> 2. SSLAlpnPreference is intended as the final word to make a choice when =
either one ALPN callback proposes many protocols or of several callbacks pr=
opose protocols.

I may be missing something but this is not how it is implemented.
If the client sends a protocol which is *not* in SSLAlpnPreference,
but only in the ones proposed by the module (mod_h2), this protocol
will still be accepted.
So SSLAlpnPreference does not have the final word, it will make the
choice between the protocols it knows only.

For this to be the case, we would have to exclude httpd's unknown
client_protos from the proposed_protos, i.e.:

Index: modules/ssl/ssl_engine_kernel.c
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
--- modules/ssl/ssl_engine_kernel.c    (revision 1683271)
+++ modules/ssl/ssl_engine_kernel.c    (working copy)
@@ -2242,6 +2234,7 @@ int ssl_callback_alpn_select(SSL *ssl,

     client_protos =3D apr_array_make(c->pool, 0, sizeof(char *));
     for (i =3D 0; i < inlen; /**/) {
+        const char *proto;
         unsigned int plen =3D in[i++];
         if (plen + i > inlen) {
             // someone tries to trick us?
@@ -2249,8 +2242,10 @@ int ssl_callback_alpn_select(SSL *ssl,
                           "ALPN protocol identifier too long");
             return SSL_TLSEXT_ERR_ALERT_FATAL;
         }
-        APR_ARRAY_PUSH(client_protos, char *) =3D
-            apr_pstrndup(c->pool, (const char *)in+i, plen);
+        proto =3D apr_pstrndup(c->pool, (const char *)in+i, plen);
+        if (ssl_array_index(ctx->ssl_alpn_pref, proto) >=3D 0) {
+            APR_ARRAY_PUSH(client_protos, char *) =3D proto;
+        }
         i +=3D plen;
     }

--

Otherwise, all the client_protos will be elligible by mod_h2 (only) as
proposed_protos, and the final one be selected with:

+/*
+ * Compare two ALPN protocol proposal. Result is similar to strcmp():
+ * 0 gives same precedence, >0 means proto1 is preferred.
+ */
+static int ssl_cmp_alpn_protos(modssl_ctx_t *ctx,
+                               const char *proto1,
+                               const char *proto2)
+{
+    if (ctx && ctx->ssl_alpn_pref) {
+        int index1 =3D ssl_array_index(ctx->ssl_alpn_pref, proto1);
+        int index2 =3D ssl_array_index(ctx->ssl_alpn_pref, proto2);
+        if (index2 > index1) {
+            return (index1 >=3D 0) ? 1 : -1;
+        }
+        else if (index1 > index2) {
+            return (index2 >=3D 0) ? -1 : 1;
+        }
+    }
+    /* both have the same index (mabye -1 or no pref configured) and we co=
mpare
+     * the names so that spdy3 gets precedence over spdy2. That makes
+     * the outcome at least deterministic. */
+    return strcmp((const char *)proto1, (const char *)proto2);
+}

which may bypass SSLAlpnPreference ("-1 or no pref configured").

> So, when mod_spdy and mod_h2 are active *and* the client claims to suppor=
t spdy/3.1 and h2, the SSLAlpnPreference determines what gets chosen and se=
nt to the client.

Right, provided both are known.


>
> 3. Independent of the client proposal, as I read the spec, the server is =
free to chose any protocol identifier it desires. This might result in the =
client closing the connection. So, if the client uses ALPN and the server d=
oes not want/cannot do/is configured not to support any of the clients prop=
osals, httpd can always send back =E2=80=9Ehttp/1.1=E2=80=9C since this is =
what it always supports.

Agreed.

>
> In this light, and correct me if I=E2=80=99m wrong, I see no benefit and =
only potential harm by introducing a =E2=80=9ESSLALpn on|off=E2=80=9C confi=
guration directive. I think the current implementation covers all use cases=
 and if one is missing, please point out the scenario.

I also see another issue (already stated in my previous messages): a
client sends an ALPN Hello *without* "http/1.1", mod_h2 is not
configured, the connection is refused.
Unless each ALPN compatible MUST (as per RFC) propose "http/1.1", we
need a way to disable ALPN on httpd.


Regards,
Yann.

From dev-return-82870-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 21:44:03 2015
Return-Path: <dev-return-82870-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5DD7218F15
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 21:44:03 +0000 (UTC)
Received: (qmail 80470 invoked by uid 500); 4 Jun 2015 21:43:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 80377 invoked by uid 500); 4 Jun 2015 21:43:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 80367 invoked by uid 99); 4 Jun 2015 21:43:57 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 21:43:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 6F82E1A4516
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 21:43:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.001
X-Spam-Level:
X-Spam-Status: No, score=-0.001 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 7LjnrAl7wV1B for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 21:43:55 +0000 (UTC)
Received: from mmextmx1.mcr.colo.comodoca.net (mail1.comodoca.com [91.209.196.72])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 2F3EF20C4B
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 21:43:54 +0000 (UTC)
Received: (qmail 23906 invoked by uid 1004); 4 Jun 2015 21:43:47 -0000
Received: from ian.brad.office.comodo.net (HELO ian.brad.office.comodo.net) (192.168.0.202)
    by mmextmx1.mcr.colo.comodoca.net (qpsmtpd/0.84) with ESMTP; Thu, 04 Jun 2015 22:43:47 +0100
Received: (qmail 14644 invoked by uid 1000); 4 Jun 2015 21:43:47 -0000
Received: from and0004.comodo.net (HELO [192.168.0.58]) (192.168.0.58)
  (smtp-auth username rob, mechanism plain)
  by ian.brad.office.comodo.net (qpsmtpd/0.40) with (AES128-SHA encrypted) ESMTPSA; Thu, 04 Jun 2015 22:43:47 +0100
Message-ID: <5570C693.7000603@comodo.com>
Date: Thu, 04 Jun 2015 22:43:47 +0100
From: Rob Stradling <rob.stradling@comodo.com>
User-Agent: Mozilla/5.0 (X11; Linux i686; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: T&R of 2.2.13 [corresponding to Re: T&R of 2.4.13]
References: <CACsi251GDqH0FHp4cQm1Fs+s_qgO3Dn8dTKfKmRfx7dW_XXiVA@mail.gmail.com>
In-Reply-To: <CACsi251GDqH0FHp4cQm1Fs+s_qgO3Dn8dTKfKmRfx7dW_XXiVA@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

s/2.2.13/2.2.30/

?

-- 
Rob Stradling
Senior Research & Development Scientist
COMODO - Creating Trust Online

From dev-return-82871-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 22:50:06 2015
Return-Path: <dev-return-82871-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D999B17375
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 22:50:06 +0000 (UTC)
Received: (qmail 16294 invoked by uid 500); 4 Jun 2015 22:50:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16221 invoked by uid 500); 4 Jun 2015 22:50:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16211 invoked by uid 99); 4 Jun 2015 22:50:06 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 22:50:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id E0C0C1A4594
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 22:50:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id qQfOEHNRnbSJ for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 22:49:58 +0000 (UTC)
Received: from mail-ie0-f173.google.com (mail-ie0-f173.google.com [209.85.223.173])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id BCFF3207AB
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 22:49:57 +0000 (UTC)
Received: by ieclw1 with SMTP id lw1so46538357iec.3
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 15:49:11 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=zHqvdbWutGPLciazy51VkdyPF+OPWsh1FK3GLKhfYPk=;
        b=fbUBO1naCIhON2u76drhrvQ7Jvrn2/tevbRcGSQ0eQJWCORPuLUgqPJqEZucfb7ABZ
         bTm1mImvFf63c+uNaLTC6l+ZDfRqJ2iOD+ZbHXxeYX+m2tBnV5kd1jPZ19syWFZaSs3m
         nHaGkfY1KBGAjx08okJRRI3o6BXc6n2MIWIanyC+kbxVox2LzHzDDSZJ0oe6ReFcAq6w
         5c12gq6vVyrktsZ5gdI8zSp3d490Eus7EiRc9P/DDGr1pOYYMCGyJiehM2BVpoWrBNsB
         abDjC8Bkm02ytVJHIPsy+lTpFCelu3FUmJhOeaUabziIJMujZAhvX3AE48YgyhgC9hU6
         XBKQ==
X-Gm-Message-State: ALoCoQlvHA+hAMogYzvtqAepj66CzpxrW1YLrSSxXOupT2MCcDyz+RH7KO2+ldmjNqiKoagi0SET
MIME-Version: 1.0
X-Received: by 10.107.16.160 with SMTP id 32mr498795ioq.54.1433458151566; Thu,
 04 Jun 2015 15:49:11 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Thu, 4 Jun 2015 15:49:11 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
Received: by 10.107.190.195 with HTTP; Thu, 4 Jun 2015 15:49:11 -0700 (PDT)
Date: Thu, 4 Jun 2015 17:49:11 -0500
Message-ID: <CACsi252Gzt8WGP8D7MnNLGj3O40Jo-0+4UOd0Ct0psaa5ouM5g@mail.gmail.com>
Subject: Re: T&R of 2.2.30 [corresponding to Re: T&R of 2.4.13]
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113ed5daeccb110517b8fbd1

--001a113ed5daeccb110517b8fbd1
Content-Type: text/plain; charset=UTF-8

Yes, thanks :)
On Jun 4, 2015 4:43 PM, "Rob Stradling" <rob.stradling@comodo.com> wrote:

> s/2.2.13/2.2.30/
>
> ?
>
> --
> Rob Stradling
> Senior Research & Development Scientist
> COMODO - Creating Trust Online
>

--001a113ed5daeccb110517b8fbd1
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">Yes, thanks :)</p>
<div class=3D"gmail_quote">On Jun 4, 2015 4:43 PM, &quot;Rob Stradling&quot=
; &lt;<a href=3D"mailto:rob.stradling@comodo.com">rob.stradling@comodo.com<=
/a>&gt; wrote:<br type=3D"attribution"><blockquote class=3D"gmail_quote" st=
yle=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">s/2.2=
.13/2.2.30/<br>
<br>
?<br>
<br>
-- <br>
Rob Stradling<br>
Senior Research &amp; Development Scientist<br>
COMODO - Creating Trust Online<br>
</blockquote></div>

--001a113ed5daeccb110517b8fbd1--

From dev-return-82872-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 23:03:24 2015
Return-Path: <dev-return-82872-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E6C3B17475
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 23:03:23 +0000 (UTC)
Received: (qmail 54054 invoked by uid 500); 4 Jun 2015 23:03:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53992 invoked by uid 500); 4 Jun 2015 23:03:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53982 invoked by uid 99); 4 Jun 2015 23:03:18 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 23:03:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id D2CE7CB823
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 23:03:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.099
X-Spam-Level:
X-Spam-Status: No, score=-0.099 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=gbiv.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id RgaQBREnqSTv for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 23:03:10 +0000 (UTC)
Received: from homiemail-a25.g.dreamhost.com (sub4.mail.dreamhost.com [69.163.253.135])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 31CE742AD6
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 23:03:10 +0000 (UTC)
Received: from homiemail-a25.g.dreamhost.com (localhost [127.0.0.1])
	by homiemail-a25.g.dreamhost.com (Postfix) with ESMTP id AFB83678062
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 16:03:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed; d=gbiv.com; h=content-type
	:mime-version:subject:from:in-reply-to:date
	:content-transfer-encoding:message-id:references:to; s=gbiv.com;
	 bh=ZnDujm8JFnbd0iGSQMbs242qnb8=; b=Pcx5zrTojbpgK/dkNC6ifF1rsffp
	KyMKW009l4h0B5AsdpAybwjRi6RxLWi17dl8OniALZwwMe886EmCF3iHO1MTuhvQ
	CP2bChuISbjnUUtIhXlya7HBmlmBZObhlC0d4/94YGaBrzph7HxKXJr9ybq0ZJ0D
	qnPeqwuIbHoqJ54=
Received: from [192.168.1.18] (ip68-228-83-124.oc.oc.cox.net [68.228.83.124])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	(Authenticated sender: fielding@gbiv.com)
	by homiemail-a25.g.dreamhost.com (Postfix) with ESMTPSA id A3B72678057
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 16:03:09 -0700 (PDT)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: ALPN patch comments
From: "Roy T. Fielding" <fielding@gbiv.com>
In-Reply-To: <13AA0595-AAA5-4150-8FFD-CABC8E780EB6@greenbytes.de>
Date: Thu, 4 Jun 2015 16:03:09 -0700
Content-Transfer-Encoding: quoted-printable
Message-Id: <678C2263-D9C4-4D3A-8C96-B77843490253@gbiv.com>
References: <CAKQ1sVMuQ9T0+BqZGMeSjfzWHG7pg_UsBfOZ0ORbubW_uw5Fpw@mail.gmail.com> <CALK=YjN867KUSJZG1Xv=7YoQ18YM8V4BKO9FMmriY6ofwgiyGg@mail.gmail.com> <CAKQ1sVMrGZif-HJpWWcmafipm9LJnRyyB5pdqYSM8CSH41DeeQ@mail.gmail.com> <CAKQ1sVOmgqQUg1ditN2x3PLeJWd=oyJvLq_L6quyPSkoTadbZg@mail.gmail.com> <13AA0595-AAA5-4150-8FFD-CABC8E780EB6@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)

> On Jun 4, 2015, at 9:19 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
> I think we need to clarify some things:
>=20
> 1. ALPN is initiated by the client. When a client does not send ALPN =
as part of client helo, the SSL alpn callbacks are not invoked and the =
server does not send any ALPN information back. This is different from =
NPN.
>=20
> 2. SSLAlpnPreference is intended as the final word to make a choice =
when either one ALPN callback proposes many protocols or of several =
callbacks propose protocols. So, when mod_spdy and mod_h2 are active =
*and* the client claims to support spdy/3.1 and h2, the =
SSLAlpnPreference determines what gets chosen and sent to the client. =
This was not necessary with NPN as in that SSL extension the client was =
making the choice.
>=20
> 3. Independent of the client proposal, as I read the spec, the server =
is free to chose any protocol identifier it desires. This might result =
in the client closing the connection. So, if the client uses ALPN and =
the server does not want/cannot do/is configured not to support any of =
the clients proposals, httpd can always send back =E2=80=9Ehttp/1.1=E2=80=9C=
 since this is what it always supports.
>=20
> In this light, and correct me if I=E2=80=99m wrong, I see no benefit =
and only potential harm by introducing a =E2=80=9ESSLALpn on|off=E2=80=9C =
configuration directive. I think the current implementation covers all =
use cases and if one is missing, please point out the scenario.

Ultimately, what we need is a single configuration that defines how the =
host
will respond to connections.  I suggest that this should be done on a =
per-vhost basis
if SNI is present, or a per-server basis if not.  It should not depend =
on either ALPN
or TLS being present.  This needs to be defined by the server admin, not =
hard coded in
the h2 code.  We should also have a way for the end of a response to =
reset the connection
to a possibly different set of protocols (i.e., Upgrade), but that's an =
independent concern.

Hence, we might need a configurable way to ignore a client's ALPN, =
though I doubt that
"SSLalpn off" is the right way to express that.  Likewise, neither is =
SSLAlpnPreference.
The server protocol(s) preference should be independent of the =
session/connection protocol.
Our internal configuration and use of ALPN should be based on the =
overall configuration, not a
configuration specific to the SSL code.  Many configurations won't =
include ALPN.

> As with the register once or on every connection optimization, yes, =
there might be some performance to gain. But I think it is not so =
straightforward to implement this, as not only the address and port =
influences this but also the SNI that gets send in the client helo. So, =
one would have at least to verify that registering an ALPN callback =
*after* the connection is open and SNI has been received has any effect.=20=


I would hope that SNI is received before our connection is established =
(our connection is the
virtual session over TLS, not the TCP connection).  There shouldn't be =
any need to mess with
SSL internals within mod_h2.  Otherwise, it will be difficult to support =
h2c and h2 over SSH
with the same code.

....Roy


From dev-return-82873-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun  4 23:37:55 2015
Return-Path: <dev-return-82873-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 48E611764D
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  4 Jun 2015 23:37:55 +0000 (UTC)
Received: (qmail 40562 invoked by uid 500); 4 Jun 2015 23:37:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 40488 invoked by uid 500); 4 Jun 2015 23:37:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 40478 invoked by uid 99); 4 Jun 2015 23:37:54 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 04 Jun 2015 23:37:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 69BF7CB876
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 23:37:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.099
X-Spam-Level:
X-Spam-Status: No, score=-0.099 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id jBjomEd-Fwka for <dev@httpd.apache.org>;
	Thu,  4 Jun 2015 23:37:45 +0000 (UTC)
Received: from mail-ig0-f171.google.com (mail-ig0-f171.google.com [209.85.213.171])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 8DBC3428ED
	for <dev@httpd.apache.org>; Thu,  4 Jun 2015 23:37:45 +0000 (UTC)
Received: by igbsb11 with SMTP id sb11so3137300igb.0
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 16:37:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=bfeLH0mfWQCwQN1oECPgG7cbxMEWS4JyHGQU00cMln8=;
        b=NxN0PpyJ4HEqFX3Gojk7A/AA5tQNuEJs284jj+RemFetUMSdcECztEoTfdf401db+F
         MFw+CDkTVoMVqWk9reqkJ9/BkCZKQAiMyo2mcGzOiw4Sq2qW326hUyUI67qE0W4UQxyU
         6OdSIFhaEXAnKbfLFI7x+wsBGXOOdzGuK8e6oINW+qRtDR16bsqYNv3BGMWsOZt0B1tP
         m5gaOUZyhhzYkZ9KI5Dgzo3SsW5/eBxHZT3SfpB6RHaTefwWJsGnsdg5Pn54EIzZpHy1
         pH+uaIn6TySOqBEMAAqY9rSMas6lXURYUB4kwJ6h4KzIRgGPLM2pSMHNEDGmIxHFbe+w
         uang==
MIME-Version: 1.0
X-Received: by 10.50.47.50 with SMTP id a18mr2713897ign.46.1433461065211; Thu,
 04 Jun 2015 16:37:45 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Thu, 4 Jun 2015 16:37:45 -0700 (PDT)
In-Reply-To: <678C2263-D9C4-4D3A-8C96-B77843490253@gbiv.com>
References: <CAKQ1sVMuQ9T0+BqZGMeSjfzWHG7pg_UsBfOZ0ORbubW_uw5Fpw@mail.gmail.com>
	<CALK=YjN867KUSJZG1Xv=7YoQ18YM8V4BKO9FMmriY6ofwgiyGg@mail.gmail.com>
	<CAKQ1sVMrGZif-HJpWWcmafipm9LJnRyyB5pdqYSM8CSH41DeeQ@mail.gmail.com>
	<CAKQ1sVOmgqQUg1ditN2x3PLeJWd=oyJvLq_L6quyPSkoTadbZg@mail.gmail.com>
	<13AA0595-AAA5-4150-8FFD-CABC8E780EB6@greenbytes.de>
	<678C2263-D9C4-4D3A-8C96-B77843490253@gbiv.com>
Date: Fri, 5 Jun 2015 01:37:45 +0200
Message-ID: <CAKQ1sVOToLZn+OyUhPNTrEQew_isZ82jZEUoJQjg11BVDgOdwA@mail.gmail.com>
Subject: Re: ALPN patch comments
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Jun 5, 2015 at 1:03 AM, Roy T. Fielding <fielding@gbiv.com> wrote:
>
> Hence, we might need a configurable way to ignore a client's ALPN, though I doubt that
> "SSLalpn off" is the right way to express that.  Likewise, neither is SSLAlpnPreference.
> The server protocol(s) preference should be independent of the session/connection protocol.
> Our internal configuration and use of ALPN should be based on the overall configuration, not a
> configuration specific to the SSL code.  Many configurations won't include ALPN.

Maybe we can reuse the Protocol directive then...

From dev-return-82874-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun  5 01:44:00 2015
Return-Path: <dev-return-82874-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EBAD9179D3
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Jun 2015 01:44:00 +0000 (UTC)
Received: (qmail 2807 invoked by uid 500); 5 Jun 2015 01:44:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 2738 invoked by uid 500); 5 Jun 2015 01:44:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 2725 invoked by uid 99); 5 Jun 2015 01:44:00 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Jun 2015 01:44:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id E0059182318
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 01:43:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.99
X-Spam-Level: **
X-Spam-Status: No, score=2.99 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01,
	UNPARSEABLE_RELAY=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id utTFGrWZUtNz for <dev@httpd.apache.org>;
	Fri,  5 Jun 2015 01:43:57 +0000 (UTC)
Received: from mail.ausics.net (valhalla.ausics.net [27.33.160.23])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id CC849428ED
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 01:43:56 +0000 (UTC)
Received: from mail.ausics.net (valhalla.ausics.net [10.10.0.10])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.ausics.net (Postfix) with ESMTPSA id 4FD2AC0EBD6
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 11:43:20 +1000 (AEST)
Received: from oICpghkI/qAshQQxP9pDfwboxZwYh4uirFyooD3FzfE=
 (N4us1jYDi3KoYw40J2t47+0gjg58aYl/)
 by mail.ausics.net
 with HTTP (HTTP/1.1 POST); Fri, 05 Jun 2015 11:43:20 +1000
MIME-Version: 1.0
Content-Type: multipart/alternative;
 boundary="=_56a51761a778ef14543b91ebbf66fd4e"
Date: Fri, 05 Jun 2015 11:43:20 +1000
From: Noel Butler <noel.butler@ausics.net>
To: dev@httpd.apache.org
Subject: Re: [VOTE] Release Apache httpd 2.4.13 as GA
In-Reply-To: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
References: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
Message-ID: <f94d6b3685a3adfe4ccad93bcecc08ac@ausics.net>
X-Sender: noel.butler@ausics.net
User-Agent: Roundcube Webmail

--=_56a51761a778ef14543b91ebbf66fd4e
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII

 

On 05/06/2015 02:33, Jim Jagielski wrote: 

> The pre-release test tarballs for Apache httpd 2.4.13 can be found
> at the usual place:
> 
> http://httpd.apache.org/dev/dist/ [1]
> 
> I'm calling a VOTE on releasing these as Apache httpd 2.4.13 GA.
> 
> [ ] +1: Good to go
> [ ] +0: meh
> [ ] -1: Danger Will Robinson. And why.
> 
> Vote will last the normal 72 hrs.
> 
> NOTE: The *-deps are only there for convenience.
> 
> Thx!

Not a great fan of this 

... The SSLCertificateChainFile directive
(/usr/local/apache/conf/virtuals/xxxxxxx) is deprecated,
SSLCertificateFile should be used instead 

at all, let alone for every single ssl host conf file :) 

Was any great thought done to the impact for admins who manage 10's or
100's of thousands of domains and the nightmare hell they will be forced
to go through when this is eventually dropped, to convert existing
confs, not to mention a large number of commercial control panels will
also need modification, as well as the inhouse portals and automation
scripts as well. For us its easy enough to overcome when I need to,
since we really only seem to have 2 cert providers, but others may have
a myriad of them and are in for a rough ride if they have a lot of
domains. 

I know its been in changes since 2.4.9 or so, and I know that it likely
wont go away before 2.6, but those upgrading to this version will
encounter alarms since the output returns unexpected responses, if they
have any sort of monitoring on daemon restarts etc, newbie admins will
also likely panic thinking it isnt loading at all. 

I disagree with this removal, it will cause more problems then benefits
IMHO, make it a recommendation to use SSLCertificateFile, but not an
essential requirement, perhaps log it, and log it only once, not per
every domain, not throw them to std out. 

Apart from that, builds fine with latest APR APR-Util on multiple
Slackware platforms and versions. 

 

Links:
------
[1] http://httpd.apache.org/dev/dist/

--=_56a51761a778ef14543b91ebbf66fd4e
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html; charset=UTF-8

<html><head><meta http-equiv=3D"Content-Type" content=3D"text/html; charset=
=3DUTF-8" /></head><body style=3D'font-size: 10pt'>
<p>On 05/06/2015 02:33, Jim Jagielski wrote:</p>
<blockquote type=3D"cite" style=3D"padding: 0 0.4em; border-left: #1010ff 2=
px solid; margin: 0"><!-- html ignored --><!-- head ignored --><!-- meta ig=
nored -->
<div class=3D"pre" style=3D"margin: 0; padding: 0; font-family: monospace">=
The pre-release test tarballs for Apache httpd 2.4.13 can be found<br /> at=
 the usual place:<br /><br /> &nbsp;&nbsp;&nbsp;&nbsp;<a href=3D"http://htt=
pd.apache.org/dev/dist/">http://httpd.apache.org/dev/dist/</a><br /><br /> =
I'm calling a VOTE on releasing these as Apache httpd 2.4.13 GA.<br /><br /=
> [ ] +1: Good to go<br /> [ ] +0: meh<br /> [ ] -1: Danger Will Robinson=
=2E And why.<br /><br /> Vote will last the normal 72 hrs.<br /><br /> NOTE=
: The *-deps are only there for convenience.<br /><br /> Thx!</div>
</blockquote>
<p>&nbsp;</p>
<p>Not a great fan of this</p>
<p>...&nbsp; The SSLCertificateChainFile directive (/usr/local/apache/conf/=
virtuals/xxxxxxx) is deprecated, SSLCertificateFile should be used instead<=
/p>
<p>at all, let alone for every single ssl host conf file :)</p>
<p>Was any great thought done to the impact for admins who manage 10's or 1=
00's of thousands of domains and the nightmare hell they will be forced to =
go through when this is eventually dropped, to convert existing confs, not =
to mention a large number of commercial control panels will also need modif=
ication, as well as the inhouse portals and automation scripts as well. For=
 us its easy enough to overcome when I need to, since we really only seem t=
o have 2 cert providers, but others may have a myriad of them and are in fo=
r a rough ride if they have a lot of domains.</p>
<p>I know its been in changes since 2.4.9 or so, and I know that it likely =
wont go away before 2.6, but those upgrading to this version will encounter=
 alarms since the output returns unexpected responses, if they have any sor=
t of monitoring on daemon restarts etc, newbie admins will also likely pani=
c thinking it isnt loading at all.</p>
<p>I disagree with this removal, it will cause more problems then benefits =
IMHO, make it a recommendation to use&nbsp;SSLCertificateFile, but not an e=
ssential requirement, perhaps log it, and log it only once, not per every d=
omain, not throw them to std out.</p>
<p>&nbsp;</p>
<p>Apart from that, builds fine with latest APR APR-Util on multiple Slackw=
are platforms and versions.</p>
<p>&nbsp;</p>
</body></html>

--=_56a51761a778ef14543b91ebbf66fd4e--


From dev-return-82875-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun  5 03:49:45 2015
Return-Path: <dev-return-82875-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9394B17C31
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Jun 2015 03:49:45 +0000 (UTC)
Received: (qmail 23958 invoked by uid 500); 5 Jun 2015 03:49:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23894 invoked by uid 500); 5 Jun 2015 03:49:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23884 invoked by uid 99); 5 Jun 2015 03:49:44 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Jun 2015 03:49:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 7D99A182318
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 03:49:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.02
X-Spam-Level:
X-Spam-Status: No, score=-0.02 tagged_above=-999 required=6.31
	tests=[RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id yViAUYizkuAF for <dev@httpd.apache.org>;
	Fri,  5 Jun 2015 03:49:35 +0000 (UTC)
Received: from eastrmfepo201.cox.net (eastrmfepo201.cox.net [68.230.241.216])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 37390249C8
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 03:49:32 +0000 (UTC)
Received: from eastrmimpo109 ([68.230.241.222]) by eastrmfepo201.cox.net
          (InterMail vM.8.01.05.15 201-2260-151-145-20131218) with ESMTP
          id <20150605034925.ZCHK25062.eastrmfepo201.cox.net@eastrmimpo109>
          for <dev@httpd.apache.org>; Thu, 4 Jun 2015 23:49:25 -0400
Received: from [192.168.1.33] ([98.176.34.113])
	by eastrmimpo109 with cox
	id cTpN1q00A2STVfm01TpPm0; Thu, 04 Jun 2015 23:49:24 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020202.55711C44.013E,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=2.0 cv=D4yZ3Itj c=1 sm=1
 a=8xCO7h6kmYZdHn5tUOQhsw==:17 a=1zd1egijY_QA:10 a=8nJEP1OIZ-IA:10
 a=LrjODJgKAAAA:8 a=XB-RRcVFTr_QPiuaKxAA:9 a=wPNLvfGTeEIA:10 a=rJV0Mo0z1D8A:10
 a=a8xHUyLIWesA:10 a=0PQ__n6T5a0A:10 a=8xCO7h6kmYZdHn5tUOQhsw==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; auth=pass (PLAIN) smtp.auth=glewis63@cox.net
Message-ID: <55711BE1.7010700@gknw.net>
Date: Thu, 04 Jun 2015 20:47:45 -0700
From: Gregg Smith <gls@gknw.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.28) Gecko/20120306 Thunderbird/3.1.20
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: mod_deflate  was Re: [VOTE] Release Apache httpd 2.4.13 as GA
References: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
In-Reply-To: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit


This is new, not quite sure how I didn't see it a few weeks ago as it's 
9 weeks old.
Who forgot to fill in the number?

mod_deflate.c(1283) : warning C4003: not enough actual parameters for 
macro 'APLOGNO'



From dev-return-82876-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun  5 05:03:24 2015
Return-Path: <dev-return-82876-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 39DB617D68
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Jun 2015 05:03:24 +0000 (UTC)
Received: (qmail 91839 invoked by uid 500); 5 Jun 2015 05:03:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91757 invoked by uid 500); 5 Jun 2015 05:03:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91747 invoked by uid 99); 5 Jun 2015 05:03:23 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Jun 2015 05:03:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 39EB21A45D0
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 05:03:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 5boIIq-ttZRz for <dev@httpd.apache.org>;
	Fri,  5 Jun 2015 05:03:15 +0000 (UTC)
Received: from mail-ie0-f170.google.com (mail-ie0-f170.google.com [209.85.223.170])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 23253275E7
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 05:03:15 +0000 (UTC)
Received: by iebmu5 with SMTP id mu5so15554177ieb.1
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 22:01:44 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=1tQ2+wPK63GNv5kkWZWdSGxMCQMNUHjX6u4UaxHORlE=;
        b=SmUZjt3xNV/lIuDhGNQOIG9Xcvh3upTr1dKfxal7oBSslkq+eubQqsjb7SmTVyys9i
         380nAODDcKxGw1WBYTv4/8L6j1y+zW8w1lvGqauiKLYOem3jXO0tWE4Wl7rahjeh6SdA
         CvyW5BSS8fVJscSqxFG4bq3WtZv7bSFEqSGflVlGA7fHEHy+pE8EC1V+qMfwkSzJj8CV
         YgATFIa5ncR2Nf2sJ9T4UgKzUzaOy1s9lQeeEM4gOXoAZcQF9TXrL1//tkoDI01vtwmY
         88Nd5WDQNRh7St41+oW6Kke1yhjb/c0xPiNARbdn6YosbZE+uzXRAzQn5BPFCObxtTyu
         0/Cg==
X-Gm-Message-State: ALoCoQmIs7B0qC/0uLUK7KVQk/S+tUQ639P6uRh4VfFLsbmyCCwxTBzod+2uX4wFDOZsbyMWIth9
MIME-Version: 1.0
X-Received: by 10.50.61.234 with SMTP id t10mr38708133igr.19.1433480504451;
 Thu, 04 Jun 2015 22:01:44 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Thu, 4 Jun 2015 22:01:44 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <55711BE1.7010700@gknw.net>
References: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
	<55711BE1.7010700@gknw.net>
Date: Fri, 5 Jun 2015 00:01:44 -0500
Message-ID: <CACsi250W45VZPje1m3c5S4A-NZ6wLK58hUPOkj3DErtnGZoKXw@mail.gmail.com>
Subject: Re: mod_deflate was Re: [VOTE] Release Apache httpd 2.4.13 as GA
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7bdc07e242bc940517be30a9

--047d7bdc07e242bc940517be30a9
Content-Type: text/plain; charset=UTF-8

On Thu, Jun 4, 2015 at 10:47 PM, Gregg Smith <gls@gknw.net> wrote:

>
> This is new, not quite sure how I didn't see it a few weeks ago as it's 9
> weeks old.
> Who forgot to fill in the number?
>
> mod_deflate.c(1283) : warning C4003: not enough actual parameters for
> macro 'APLOGNO'
>

I just rechecked my compilation from near-trunk 6 hours ago, I don't see
this.

More background, please?  gcc or other compiler rev?  OS?  Revision?

It avoids a lot of needless speculation.

--047d7bdc07e242bc940517be30a9
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div>On Thu, Jun 4, 2015 at 10:47 PM, Gregg Smith <span di=
r=3D"ltr">&lt;<a href=3D"mailto:gls@gknw.net" target=3D"_blank">gls@gknw.ne=
t</a>&gt;</span> wrote:<br></div><div class=3D"gmail_extra"><div class=3D"g=
mail_quote"><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;bo=
rder-left:1px #ccc solid;padding-left:1ex"><br>
This is new, not quite sure how I didn&#39;t see it a few weeks ago as it&#=
39;s 9 weeks old.<br>
Who forgot to fill in the number?<br>
<br>
mod_deflate.c(1283) : warning C4003: not enough actual parameters for macro=
 &#39;APLOGNO&#39;<br></blockquote><div><br></div><div>I just rechecked my =
compilation from near-trunk 6 hours ago, I don&#39;t see this.</div><div><b=
r></div><div>More background, please? =C2=A0gcc or other compiler rev?=C2=
=A0 OS?=C2=A0 Revision? =C2=A0</div><div><br></div><div>It avoids a lot of =
needless speculation.</div></div></div></div>

--047d7bdc07e242bc940517be30a9--

From dev-return-82877-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun  5 05:14:12 2015
Return-Path: <dev-return-82877-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8423A17D95
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Jun 2015 05:14:12 +0000 (UTC)
Received: (qmail 3332 invoked by uid 500); 5 Jun 2015 05:14:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3270 invoked by uid 500); 5 Jun 2015 05:14:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3260 invoked by uid 99); 5 Jun 2015 05:14:12 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Jun 2015 05:14:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 9F57B1A458F
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 05:14:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.011
X-Spam-Level:
X-Spam-Status: No, score=-0.011 tagged_above=-999 required=6.31
	tests=[SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id vM9WdtWIq_Tk for <dev@httpd.apache.org>;
	Fri,  5 Jun 2015 05:14:04 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 60DD943A5B
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 05:14:04 +0000 (UTC)
Received: from int-mx14.intmail.prod.int.phx2.redhat.com (int-mx14.intmail.prod.int.phx2.redhat.com [10.5.11.27])
	by mx1.redhat.com (Postfix) with ESMTPS id 73E6D2CAB1C
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 05:13:33 +0000 (UTC)
Received: from dhcp-24-191.brq.redhat.com (ovpn-204-23.brq.redhat.com [10.40.204.23])
	by int-mx14.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t555DWNq009324
	for <dev@httpd.apache.org>; Fri, 5 Jun 2015 01:13:32 -0400
Message-ID: <55712FFB.1030106@redhat.com>
Date: Fri, 05 Jun 2015 07:13:31 +0200
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: mod_deflate was Re: [VOTE] Release Apache httpd 2.4.13 as GA
References: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>	<55711BE1.7010700@gknw.net> <CACsi250W45VZPje1m3c5S4A-NZ6wLK58hUPOkj3DErtnGZoKXw@mail.gmail.com>
In-Reply-To: <CACsi250W45VZPje1m3c5S4A-NZ6wLK58hUPOkj3DErtnGZoKXw@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.27

On 06/05/2015 07:01 AM, William A Rowe Jr wrote:
> On Thu, Jun 4, 2015 at 10:47 PM, Gregg Smith <gls@gknw.net
> <mailto:gls@gknw.net>> wrote:
>
>
>     This is new, not quite sure how I didn't see it a few weeks ago as
>     it's 9 weeks old.
>     Who forgot to fill in the number?
>
>     mod_deflate.c(1283) : warning C4003: not enough actual parameters
>     for macro 'APLOGNO'
>
>
> I just rechecked my compilation from near-trunk 6 hours ago, I don't see
> this.
>
> More background, please?  gcc or other compiler rev?  OS?  Revision?

I see APLOGNO() in the code. It has been added in 
<http://svn.apache.org/r1669555>.

Regards,
Jan Kaluza

> It avoids a lot of needless speculation.


From dev-return-82878-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun  5 05:14:14 2015
Return-Path: <dev-return-82878-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6063F17D9B
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Jun 2015 05:14:14 +0000 (UTC)
Received: (qmail 4354 invoked by uid 500); 5 Jun 2015 05:14:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 4297 invoked by uid 500); 5 Jun 2015 05:14:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 4286 invoked by uid 99); 5 Jun 2015 05:14:13 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Jun 2015 05:14:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 9FBC8CB98B
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 05:14:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.001
X-Spam-Level: *
X-Spam-Status: No, score=1.001 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id IMQg8ku9LU78 for <dev@httpd.apache.org>;
	Fri,  5 Jun 2015 05:14:03 +0000 (UTC)
Received: from eastrmfepo203.cox.net (eastrmfepo203.cox.net [68.230.241.218])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 2093E24CE5
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 05:14:02 +0000 (UTC)
Received: from eastrmimpo305 ([68.230.241.237]) by eastrmfepo203.cox.net
          (InterMail vM.8.01.05.15 201-2260-151-145-20131218) with ESMTP
          id <20150605051256.PPIA9245.eastrmfepo203.cox.net@eastrmimpo305>
          for <dev@httpd.apache.org>; Fri, 5 Jun 2015 01:12:56 -0400
Received: from [192.168.1.33] ([98.176.34.113])
	by eastrmimpo305 with cox
	id cVCv1q0022STVfm01VCvwQ; Fri, 05 Jun 2015 01:12:56 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020203.55712FD8.007E,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=2.0 cv=Mb2yTeDf c=1 sm=1
 a=8xCO7h6kmYZdHn5tUOQhsw==:17 a=1zd1egijY_QA:10 a=IkcTkHD0fZMA:10
 a=LrjODJgKAAAA:8 a=mV9VRH-2AAAA:8 a=SdnTY4lPaGV4vbf9EBoA:9 a=QEXdDO2ut3YA:10
 a=HRJ1X98Qh6iQS58G:21 a=DqCFg1eHC_kpv69x:21 a=8xCO7h6kmYZdHn5tUOQhsw==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; auth=pass (PLAIN) smtp.auth=glewis63@cox.net
Message-ID: <55712F76.20506@gknw.net>
Date: Thu, 04 Jun 2015 22:11:18 -0700
From: Gregg Smith <gls@gknw.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.28) Gecko/20120306 Thunderbird/3.1.20
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: mod_deflate was Re: [VOTE] Release Apache httpd 2.4.13 as GA
References: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>	<55711BE1.7010700@gknw.net> <CACsi250W45VZPje1m3c5S4A-NZ6wLK58hUPOkj3DErtnGZoKXw@mail.gmail.com>
In-Reply-To: <CACsi250W45VZPje1m3c5S4A-NZ6wLK58hUPOkj3DErtnGZoKXw@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

On 6/4/2015 10:01 PM, William A Rowe Jr wrote:
> On Thu, Jun 4, 2015 at 10:47 PM, Gregg Smith<gls@gknw.net>  wrote:
>
>> This is new, not quite sure how I didn't see it a few weeks ago as it's 9
>> weeks old.
>> Who forgot to fill in the number?
>>
>> mod_deflate.c(1283) : warning C4003: not enough actual parameters for
>> macro 'APLOGNO'
>>
> I just rechecked my compilation from near-trunk 6 hours ago, I don't see
> this.
>
> More background, please?  gcc or other compiler rev?  OS?  Revision?
>
> It avoids a lot of needless speculation.

It's not a compiler thing, doesn't matter what OS. Sorry I didn't 
mention it's r1669555, my bad! You have the line number in the posted 
compiler output. However, it's pretty hard to miss as it's in the first 
stanza of the merge and practically hops in your lap.

http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/modules/filters/mod_deflate.c?r1=1661845&r2=1669555




From dev-return-82879-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun  5 05:43:36 2015
Return-Path: <dev-return-82879-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 469B417E1C
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Jun 2015 05:43:36 +0000 (UTC)
Received: (qmail 40024 invoked by uid 500); 5 Jun 2015 05:43:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39956 invoked by uid 500); 5 Jun 2015 05:43:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 39946 invoked by uid 99); 5 Jun 2015 05:43:35 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Jun 2015 05:43:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 68A041A45DE
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 05:43:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.001
X-Spam-Level: *
X-Spam-Status: No, score=1.001 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id zQnpKf_BFWwy for <dev@httpd.apache.org>;
	Fri,  5 Jun 2015 05:43:26 +0000 (UTC)
Received: from 16.mo6.mail-out.ovh.net (16.mo6.mail-out.ovh.net [87.98.139.208])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id B69E120C4B
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 05:43:25 +0000 (UTC)
Received: from mail95.ha.ovh.net (gw6.ovh.net [213.251.189.206])
	by mo6.mail-out.ovh.net (Postfix) with SMTP id 3B4C9FFA3DB
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 07:42:19 +0200 (CEST)
Received: from localhost (HELO queueout) (127.0.0.1)
	by localhost with SMTP; 5 Jun 2015 07:42:19 +0200
Received: from aorleans-552-1-74-182.w92-140.abo.wanadoo.fr (HELO ?127.0.0.1?) (president@piranhaschateauroux.fr@92.140.217.182)
  by ns0.ovh.net with SMTP; 5 Jun 2015 07:42:17 +0200
Message-ID: <557136B8.7020509@wanadoo.fr>
Date: Fri, 05 Jun 2015 07:42:16 +0200
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: mod_deflate was Re: [VOTE] Release Apache httpd 2.4.13 as GA
References: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>	<55711BE1.7010700@gknw.net> <CACsi250W45VZPje1m3c5S4A-NZ6wLK58hUPOkj3DErtnGZoKXw@mail.gmail.com> <55712F76.20506@gknw.net>
In-Reply-To: <55712F76.20506@gknw.net>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 150604-1, 04/06/2015), Outbound message
X-Antivirus-Status: Clean
X-Ovh-Tracer-Id: 3943182949230255018
X-Ovh-Remote: 92.140.217.182 (aorleans-552-1-74-182.w92-140.abo.wanadoo.fr)
X-Ovh-Local: 213.186.33.20 (ns0.ovh.net)
X-OVH-SPAMSTATE: OK
X-OVH-SPAMSCORE: 0
X-OVH-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeekuddrheduucetufdoteggodetrfcurfhrohhfihhlvgemucfqggfjnecuuegrihhlohhuthemuceftddtnecu
X-VR-SPAMSTATE: OK
X-VR-SPAMSCORE: 0
X-VR-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeekuddrheduucetufdoteggodetrfcurfhrohhfihhlvgemucfqggfjnecuuegrihhlohhuthemuceftddtnecu

Le 05/06/2015 07:11, Gregg Smith a crit :
> On 6/4/2015 10:01 PM, William A Rowe Jr wrote:
>> On Thu, Jun 4, 2015 at 10:47 PM, Gregg Smith<gls@gknw.net>  wrote:
>>
>>> This is new, not quite sure how I didn't see it a few weeks ago as 
>>> it's 9
>>> weeks old.
>>> Who forgot to fill in the number?
>>>
>>> mod_deflate.c(1283) : warning C4003: not enough actual parameters for
>>> macro 'APLOGNO'
>>>
>> I just rechecked my compilation from near-trunk 6 hours ago, I don't see
>> this.
>>
>> More background, please?  gcc or other compiler rev?  OS? Revision?
>>
>> It avoids a lot of needless speculation.
>
> It's not a compiler thing, doesn't matter what OS. Sorry I didn't 
> mention it's r1669555, my bad! You have the line number in the posted 
> compiler output. However, it's pretty hard to miss as it's in the 
> first stanza of the merge and practically hops in your lap.
>
> http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/modules/filters/mod_deflate.c?r1=1661845&r2=1669555 
>
>
>
>
>
This has been fixed in trunk in r1619453. ( APLOGNO(02805) )

CJ

From dev-return-82880-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun  5 06:05:41 2015
Return-Path: <dev-return-82880-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 35D2317E8F
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Jun 2015 06:05:41 +0000 (UTC)
Received: (qmail 67497 invoked by uid 500); 5 Jun 2015 06:05:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67436 invoked by uid 500); 5 Jun 2015 06:05:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67426 invoked by uid 99); 5 Jun 2015 06:05:40 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Jun 2015 06:05:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id E21731A45CB
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 06:05:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Crix587qywZG for <dev@httpd.apache.org>;
	Fri,  5 Jun 2015 06:05:29 +0000 (UTC)
Received: from mail-ie0-f180.google.com (mail-ie0-f180.google.com [209.85.223.180])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id B06CE249C8
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 06:05:28 +0000 (UTC)
Received: by iebgx4 with SMTP id gx4so51165045ieb.0
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 23:04:42 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=vD5EPae+10RBQDBo+YzWGioQwJJWMcaZUSqRD3dxKvI=;
        b=fhmeo7E4lgIpJ+3tQfXfhx8JFr3ktLi2nYoEHKH0U1qsOMmm1UZTd5OCjkByjmYGz3
         ha1Q/7ZVGKRqL3VFL/PVFTI2RACy/JwCuz3O1zk50bZUztGcARrTM1LSkmnfMcbrHtoO
         sV0oietdjE7Rl5A2dK0zeaB6XOZ9abSv917hTaMASa2OZoy65wmqiBBBPzy+Bj4soc0w
         KwuKtFa/hW+BWqoV9rqMw0tobcq/XFAFKidme7FKL2e6+OgLNCm79TcPqFbfVC7JyokQ
         CAIzKejAxMP+WN3ihEUUmWRiO4CSiujZPhefubfN1FdxN+jaLjPJR9QcbCXIk16cd1d2
         TJVA==
X-Gm-Message-State: ALoCoQk+2x1GGuunQAtDxRUYtSRXvqsHTR5aE50yKKJ3TAAlGgNQ+CeJ1J39pZ84mFVMbPhCRNlU
MIME-Version: 1.0
X-Received: by 10.42.144.131 with SMTP id b3mr8512383icv.35.1433484282382;
 Thu, 04 Jun 2015 23:04:42 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Thu, 4 Jun 2015 23:04:42 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <55712F76.20506@gknw.net>
References: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
	<55711BE1.7010700@gknw.net>
	<CACsi250W45VZPje1m3c5S4A-NZ6wLK58hUPOkj3DErtnGZoKXw@mail.gmail.com>
	<55712F76.20506@gknw.net>
Date: Fri, 5 Jun 2015 01:04:42 -0500
Message-ID: <CACsi253y4Qx=rVFMMvLm2HyGV7EAT008e8Xuka9K2qHisiw-hA@mail.gmail.com>
Subject: Re: mod_deflate was Re: [VOTE] Release Apache httpd 2.4.13 as GA
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=90e6ba1efd287165cd0517bf113a

--90e6ba1efd287165cd0517bf113a
Content-Type: text/plain; charset=UTF-8

I'm not compiling -Wall... so

/opt/apr15/build-1/libtool --silent --mode=compile gcc -std=gnu99
-I/usr/include/libxml2 -g -O2 -pthread      -DLINUX -D_REENTRANT
-D_GNU_SOURCE     -I. -I/home/wrowe/dev/httpd-2.4/os/unix
-I/home/wrowe/dev/httpd-2.4/include -I/opt/apr15/include/apr-1
-I/usr/local/ssl/include -I/usr/local/include
-I/home/wrowe/dev/httpd-2.4/modules/aaa
-I/home/wrowe/dev/httpd-2.4/modules/cache
-I/home/wrowe/dev/httpd-2.4/modules/core
-I/home/wrowe/dev/httpd-2.4/modules/database
-I/home/wrowe/dev/httpd-2.4/modules/filters
-I/home/wrowe/dev/httpd-2.4/modules/ldap -I/home/wrowe/dev/httpd-2.4/server
-I/home/wrowe/dev/httpd-2.4/modules/loggers
-I/home/wrowe/dev/httpd-2.4/modules/lua
-I/home/wrowe/dev/httpd-2.4/modules/proxy
-I/home/wrowe/dev/httpd-2.4/modules/session
-I/home/wrowe/dev/httpd-2.4/modules/ssl
-I/home/wrowe/dev/httpd-2.4/modules/test -I/home/wrowe/dev/httpd-2.4/server
-I/home/wrowe/dev/httpd-2.4/modules/arch/unix
-I/home/wrowe/dev/httpd-2.4/modules/dav/main
-I/home/wrowe/dev/httpd-2.4/modules/generators
-I/home/wrowe/dev/httpd-2.4/modules/mappers -prefer-pic -c mod_deflate.c &&
touch mod_deflate.slo
/opt/apr15/build-1/libtool --silent --mode=link gcc -std=gnu99
-I/usr/include/libxml2 -g -O2 -pthread     -L/usr/local/ssl/lib      -o
mod_deflate.la -rpath /opt/apache24/modules -module -avoid-version
 mod_deflate.lo -lz

no noise on compilation.  I'm not debating it isn't there, just that my
compiler settings did not throw it at me.

On Fri, Jun 5, 2015 at 12:11 AM, Gregg Smith <gls@gknw.net> wrote:

> On 6/4/2015 10:01 PM, William A Rowe Jr wrote:
>
>> On Thu, Jun 4, 2015 at 10:47 PM, Gregg Smith<gls@gknw.net>  wrote:
>>
>>  This is new, not quite sure how I didn't see it a few weeks ago as it's 9
>>> weeks old.
>>> Who forgot to fill in the number?
>>>
>>> mod_deflate.c(1283) : warning C4003: not enough actual parameters for
>>> macro 'APLOGNO'
>>>
>>>  I just rechecked my compilation from near-trunk 6 hours ago, I don't see
>> this.
>>
>> More background, please?  gcc or other compiler rev?  OS?  Revision?
>>
>> It avoids a lot of needless speculation.
>>
>
> It's not a compiler thing, doesn't matter what OS. Sorry I didn't mention
> it's r1669555, my bad! You have the line number in the posted compiler
> output. However, it's pretty hard to miss as it's in the first stanza of
> the merge and practically hops in your lap.
>
>
> http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/modules/filters/mod_deflate.c?r1=1661845&r2=1669555
>
>
>
>

--90e6ba1efd287165cd0517bf113a
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">I&#39;m not compiling -Wall... so=C2=A0<div><br></div><div=
><div>/opt/apr15/build-1/libtool --silent --mode=3Dcompile gcc -std=3Dgnu99=
 -I/usr/include/libxml2 -g -O2 -pthread =C2=A0 =C2=A0 =C2=A0-DLINUX -D_REEN=
TRANT -D_GNU_SOURCE =C2=A0 =C2=A0 -I. -I/home/wrowe/dev/httpd-2.4/os/unix -=
I/home/wrowe/dev/httpd-2.4/include -I/opt/apr15/include/apr-1 -I/usr/local/=
ssl/include -I/usr/local/include -I/home/wrowe/dev/httpd-2.4/modules/aaa -I=
/home/wrowe/dev/httpd-2.4/modules/cache -I/home/wrowe/dev/httpd-2.4/modules=
/core -I/home/wrowe/dev/httpd-2.4/modules/database -I/home/wrowe/dev/httpd-=
2.4/modules/filters -I/home/wrowe/dev/httpd-2.4/modules/ldap -I/home/wrowe/=
dev/httpd-2.4/server -I/home/wrowe/dev/httpd-2.4/modules/loggers -I/home/wr=
owe/dev/httpd-2.4/modules/lua -I/home/wrowe/dev/httpd-2.4/modules/proxy -I/=
home/wrowe/dev/httpd-2.4/modules/session -I/home/wrowe/dev/httpd-2.4/module=
s/ssl -I/home/wrowe/dev/httpd-2.4/modules/test -I/home/wrowe/dev/httpd-2.4/=
server -I/home/wrowe/dev/httpd-2.4/modules/arch/unix -I/home/wrowe/dev/http=
d-2.4/modules/dav/main -I/home/wrowe/dev/httpd-2.4/modules/generators -I/ho=
me/wrowe/dev/httpd-2.4/modules/mappers -prefer-pic -c mod_deflate.c &amp;&a=
mp; touch mod_deflate.slo</div><div>/opt/apr15/build-1/libtool --silent --m=
ode=3Dlink gcc -std=3Dgnu99 -I/usr/include/libxml2 -g -O2 -pthread =C2=A0 =
=C2=A0 -L/usr/local/ssl/lib =C2=A0 =C2=A0 =C2=A0-o <a href=3D"http://mod_de=
flate.la">mod_deflate.la</a> -rpath /opt/apache24/modules -module -avoid-ve=
rsion =C2=A0mod_deflate.lo -lz</div></div><div><br></div><div>no noise on c=
ompilation.=C2=A0 I&#39;m not debating it isn&#39;t there, just that my com=
piler settings did not throw it at me.</div></div><div class=3D"gmail_extra=
"><br><div class=3D"gmail_quote">On Fri, Jun 5, 2015 at 12:11 AM, Gregg Smi=
th <span dir=3D"ltr">&lt;<a href=3D"mailto:gls@gknw.net" target=3D"_blank">=
gls@gknw.net</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" sty=
le=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div c=
lass=3D"HOEnZb"><div class=3D"h5">On 6/4/2015 10:01 PM, William A Rowe Jr w=
rote:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
On Thu, Jun 4, 2015 at 10:47 PM, Gregg Smith&lt;<a href=3D"mailto:gls@gknw.=
net" target=3D"_blank">gls@gknw.net</a>&gt;=C2=A0 wrote:<br>
<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
This is new, not quite sure how I didn&#39;t see it a few weeks ago as it&#=
39;s 9<br>
weeks old.<br>
Who forgot to fill in the number?<br>
<br>
mod_deflate.c(1283) : warning C4003: not enough actual parameters for<br>
macro &#39;APLOGNO&#39;<br>
<br>
</blockquote>
I just rechecked my compilation from near-trunk 6 hours ago, I don&#39;t se=
e<br>
this.<br>
<br>
More background, please?=C2=A0 gcc or other compiler rev?=C2=A0 OS?=C2=A0 R=
evision?<br>
<br>
It avoids a lot of needless speculation.<br>
</blockquote>
<br></div></div>
It&#39;s not a compiler thing, doesn&#39;t matter what OS. Sorry I didn&#39=
;t mention it&#39;s r1669555, my bad! You have the line number in the poste=
d compiler output. However, it&#39;s pretty hard to miss as it&#39;s in the=
 first stanza of the merge and practically hops in your lap.<br>
<br>
<a href=3D"http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/modules/=
filters/mod_deflate.c?r1=3D1661845&amp;r2=3D1669555" target=3D"_blank">http=
://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/modules/filters/mod_def=
late.c?r1=3D1661845&amp;r2=3D1669555</a><br>
<br>
<br>
<br>
</blockquote></div><br></div>

--90e6ba1efd287165cd0517bf113a--

From dev-return-82881-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun  5 06:06:01 2015
Return-Path: <dev-return-82881-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BDBD117E90
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Jun 2015 06:06:01 +0000 (UTC)
Received: (qmail 68635 invoked by uid 500); 5 Jun 2015 06:06:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68569 invoked by uid 500); 5 Jun 2015 06:06:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68559 invoked by uid 99); 5 Jun 2015 06:06:01 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Jun 2015 06:06:01 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 98CDC1A45CB
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 06:06:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.979
X-Spam-Level: **
X-Spam-Status: No, score=2.979 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id oHciKwfroZwN for <dev@httpd.apache.org>;
	Fri,  5 Jun 2015 06:05:59 +0000 (UTC)
Received: from mail-ig0-f170.google.com (mail-ig0-f170.google.com [209.85.213.170])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 2159B24F8D
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 06:05:59 +0000 (UTC)
Received: by igbpi8 with SMTP id pi8so8290648igb.0
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 23:05:58 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=uwQ50cB3lFwsdMz7owp5ZG2aUTWcxXaTavEbVp3dHS4=;
        b=OI93R5sQuR3zA7PrkJESCjkFsFAtLllo29wjz0DicEk+EcLctZH0QyvQ4cTN0WsI2v
         v5S6KFnRqLfeYyDeXU2cYGg+KCBs2rYMVnJZLeGnplOdSY6wbYAR4TDkgBoz4eznn/Ui
         Yd0MhToZBTeUmyyt17Cnri5uB+OAWxDPyV2/ouR6236refOkflJS3wxewrqGYvq27dj5
         hKffkhALbC0a9hQUJ/ObXR9SQ3uQ1qaeMQDOzgbfP5HG5GumhGFjH6GCVkY6Rs6/di2J
         8CYRfKw5bQ7/S/j65QS/OotsQl8+KCbrCVFj/2qvLKRb5OGlopDSJr4sJROmcaRBS25q
         Ksgw==
X-Gm-Message-State: ALoCoQlgVPyE6Ij2PRmWOES5JySRUGdYNlKKfogiHrh/q/5dCReIVaIDu9cQj9EiGGAaRY63kP26
MIME-Version: 1.0
X-Received: by 10.50.50.130 with SMTP id c2mr1050913igo.19.1433484358135; Thu,
 04 Jun 2015 23:05:58 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Thu, 4 Jun 2015 23:05:58 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <557136B8.7020509@wanadoo.fr>
References: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
	<55711BE1.7010700@gknw.net>
	<CACsi250W45VZPje1m3c5S4A-NZ6wLK58hUPOkj3DErtnGZoKXw@mail.gmail.com>
	<55712F76.20506@gknw.net>
	<557136B8.7020509@wanadoo.fr>
Date: Fri, 5 Jun 2015 01:05:58 -0500
Message-ID: <CACsi253i5S0wMuf2hoJit4PzJM+hzNvB6aJYzQ6o4s14ZESNmA@mail.gmail.com>
Subject: Re: mod_deflate was Re: [VOTE] Release Apache httpd 2.4.13 as GA
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7b86dd26f54bcc0517bf1599

--047d7b86dd26f54bcc0517bf1599
Content-Type: text/plain; charset=UTF-8

On Fri, Jun 5, 2015 at 12:42 AM, Christophe JAILLET <
christophe.jaillet@wanadoo.fr> wrote:
>
> This has been fixed in trunk in r1619453. ( APLOGNO(02805) )


Would you propose the backport?  TIA!

--047d7b86dd26f54bcc0517bf1599
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On F=
ri, Jun 5, 2015 at 12:42 AM, Christophe JAILLET <span dir=3D"ltr">&lt;<a hr=
ef=3D"mailto:christophe.jaillet@wanadoo.fr" target=3D"_blank">christophe.ja=
illet@wanadoo.fr</a>&gt;</span> wrote:<blockquote class=3D"gmail_quote" sty=
le=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">
This has been fixed in trunk in r1619453. ( APLOGNO(02805) )</blockquote><d=
iv><br></div><div>Would you propose the backport?=C2=A0 TIA!=C2=A0</div></d=
iv><br></div></div>

--047d7b86dd26f54bcc0517bf1599--

From dev-return-82882-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun  5 06:06:50 2015
Return-Path: <dev-return-82882-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7D1C517E99
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Jun 2015 06:06:50 +0000 (UTC)
Received: (qmail 70183 invoked by uid 500); 5 Jun 2015 06:06:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70105 invoked by uid 500); 5 Jun 2015 06:06:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 70094 invoked by uid 99); 5 Jun 2015 06:06:45 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Jun 2015 06:06:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 7CF4ACB9B8
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 06:06:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id O9U9p8bVXlHP for <dev@httpd.apache.org>;
	Fri,  5 Jun 2015 06:06:37 +0000 (UTC)
Received: from mail-ig0-f176.google.com (mail-ig0-f176.google.com [209.85.213.176])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 6CF1A275E0
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 06:06:37 +0000 (UTC)
Received: by igbzc4 with SMTP id zc4so8276692igb.0
        for <dev@httpd.apache.org>; Thu, 04 Jun 2015 23:06:30 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=JGctwas4r1mhp0KLoyhi79WtZD/uqe1Af6P31xmHN8s=;
        b=bfAnz1goupFKUVpHY9Pn/Ov464wZd7Xj7huKnEEUMi/91Ra7XW0GQWm91QckOSFuxR
         qazOeL3PMOXd8InBjmZCGPMxbZs2HAYU9FHeraXCD1rgBwm9UNpbP++8c+exkPV/NWME
         E768pl3BW1+Iq7k95xrlh03SC+gGtsRnf/E7NfWVWcVq0q6P18a1//rbC7Vd565nHyah
         L/CPm0xPlq5dQaonzo6TgkhNHgQJ+2Mq7XO5sAfn9VF30DbfaECTL9YKWzoNyOaI/4QN
         6fRJpNSrHaQtjqIi6DBv8u7sx5CdqNHUd0NTWW9dRjuonCvC5nCb/3f+EHeL2N+/1SNo
         UTxw==
X-Gm-Message-State: ALoCoQlsTkWFAEU/lkr4hwrRInLlswZRy6wXwYMsiomPaLio0CNDLKVnm1nPoqxle+YQ048bkHNc
MIME-Version: 1.0
X-Received: by 10.43.139.6 with SMTP id iu6mr8734664icc.32.1433484390807; Thu,
 04 Jun 2015 23:06:30 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Thu, 4 Jun 2015 23:06:30 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <CACsi253i5S0wMuf2hoJit4PzJM+hzNvB6aJYzQ6o4s14ZESNmA@mail.gmail.com>
References: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
	<55711BE1.7010700@gknw.net>
	<CACsi250W45VZPje1m3c5S4A-NZ6wLK58hUPOkj3DErtnGZoKXw@mail.gmail.com>
	<55712F76.20506@gknw.net>
	<557136B8.7020509@wanadoo.fr>
	<CACsi253i5S0wMuf2hoJit4PzJM+hzNvB6aJYzQ6o4s14ZESNmA@mail.gmail.com>
Date: Fri, 5 Jun 2015 01:06:30 -0500
Message-ID: <CACsi250mbzg-62DL2eHOeWp-+9oJjutF4=xXTGw-t9gBeQZdXg@mail.gmail.com>
Subject: Re: mod_deflate was Re: [VOTE] Release Apache httpd 2.4.13 as GA
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11c30868e7fdae0517bf176f

--001a11c30868e7fdae0517bf176f
Content-Type: text/plain; charset=UTF-8

On Fri, Jun 5, 2015 at 1:05 AM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:

> On Fri, Jun 5, 2015 at 12:42 AM, Christophe JAILLET <
> christophe.jaillet@wanadoo.fr> wrote:
>>
>> This has been fixed in trunk in r1619453. ( APLOGNO(02805) )
>
>
> Would you propose the backport?  TIA!
>

And... I see you did :)  Thanks again.

--001a11c30868e7fdae0517bf176f
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On F=
ri, Jun 5, 2015 at 1:05 AM, William A Rowe Jr <span dir=3D"ltr">&lt;<a href=
=3D"mailto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>&g=
t;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0=
 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div cl=
ass=3D"gmail_extra"><div class=3D"gmail_quote"><span class=3D"">On Fri, Jun=
 5, 2015 at 12:42 AM, Christophe JAILLET <span dir=3D"ltr">&lt;<a href=3D"m=
ailto:christophe.jaillet@wanadoo.fr" target=3D"_blank">christophe.jaillet@w=
anadoo.fr</a>&gt;</span> wrote:<blockquote class=3D"gmail_quote" style=3D"m=
argin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">
This has been fixed in trunk in r1619453. ( APLOGNO(02805) )</blockquote><d=
iv><br></div></span><div>Would you propose the backport?=C2=A0 TIA!=C2=A0</=
div></div></div></div></blockquote><div><br></div><div>And... I see you did=
 :) =C2=A0Thanks again.=C2=A0</div></div></div></div>

--001a11c30868e7fdae0517bf176f--

From dev-return-82883-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun  5 12:16:35 2015
Return-Path: <dev-return-82883-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E3AEF10B81
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Jun 2015 12:16:34 +0000 (UTC)
Received: (qmail 18990 invoked by uid 500); 5 Jun 2015 12:16:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18919 invoked by uid 500); 5 Jun 2015 12:16:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18900 invoked by uid 99); 5 Jun 2015 12:16:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Jun 2015 12:16:00 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mamfelt@gmail.com designates 209.85.160.169 as permitted sender)
Received: from [209.85.160.169] (HELO mail-yk0-f169.google.com) (209.85.160.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Jun 2015 12:13:45 +0000
Received: by yked142 with SMTP id d142so23937018yke.3;
        Fri, 05 Jun 2015 05:15:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        bh=enmc3C7YWIvt2QHmbS+Y/o6zu6/ql6zNJ5fmA1I3s8I=;
        b=h2+4uZNk6DCaXGC6tZtUIcTtFrjT7pq9I0LVVGYXhBIlvArRF6YUZCS075wApX6zny
         dgazseFK72TAdMDmTRXq9LdqkM9XnjroB5/mavoT9FiVBuRu8XzR+oGdBF1F98uv2D1s
         20hcXXJVmzQghqSfmr3yR1aQRdznZI35VpnrKc8bfIFdUV6O9Dgc/79T13fr2L0x3s8t
         GYkolW426HQz2tAfzufqJqoEskC5477isk5+MIMKuPY8kmXO99lZb3TAuDu8GhmwSl6z
         NS0M6Ct6IUDzZjBuhyD4HbJNMdxsEg31LmDbRleEfJU3emMcF9so8TfETTJVMNFw8lgz
         uF5w==
MIME-Version: 1.0
X-Received: by 10.236.8.5 with SMTP id 5mr2770746yhq.179.1433506533187; Fri,
 05 Jun 2015 05:15:33 -0700 (PDT)
Received: by 10.13.193.69 with HTTP; Fri, 5 Jun 2015 05:15:33 -0700 (PDT)
In-Reply-To: <CAFMGiz9p61O09CpZ=ymA_pNTxEYVQJMsPRpXJDA30MVXTozrFA@mail.gmail.com>
References: <CAA=k7mVA2JAQiqqGgnxsu6RYMHvr7swf7nbE0F5v2Ex50BqrNg@mail.gmail.com>
	<CAFMGiz9p61O09CpZ=ymA_pNTxEYVQJMsPRpXJDA30MVXTozrFA@mail.gmail.com>
Date: Fri, 5 Jun 2015 14:15:33 +0200
Message-ID: <CAN9c_NTK8uqWo+8VYRx7OafJkrHJSAwK6xQjpyQUO3TrKvr2Ow@mail.gmail.com>
Subject: Re: httpd and OpenSSL 1.0.2
From: Michael Felt <mamfelt@gmail.com>
To: dev@httpd.apache.org
Cc: Mario Brandt <jblond@gmail.com>, users@httpd.apache.org
Content-Type: multipart/alternative; boundary=089e0118241ab1a4140517c43f13
X-Virus-Checked: Checked by ClamAV on apache.org

--089e0118241ab1a4140517c43f13
Content-Type: text/plain; charset=UTF-8

Along the lines of "to be continued" - IMHO httpd should be one of the
early adopters of not allowing linkage to versions of openssl that cannot
support TLS1.2.

I have built (on AIX) against libreSSL (v2.1.6) with some private additions
for AIX (that will be verified and improved upon by openbsd in the soon to
be released libreSSL 2.2 version).

Basically, there are only two defines that were 'missing'. One was rather
'obscure' it what it is suppossed to be doing (i.e., looking in the openssl
code) - the other was downright 'dangerous" because it permits 'any
external so-called enthrophy generator' to be added and used for randomness
- because it is, or at least was, part of the openSSL libraries. (the
approach of libreSSL was to completely remove it, hence a missing #define).

Again - to be continued. and asap - in a separate post I will post the
differences to get it to link against libreSSL (p.s. only mod_ssl needs
this afaik).

On Wed, May 27, 2015 at 3:29 PM, Tom Browder <tom.browder@gmail.com> wrote:

> On May 27, 2015 5:26 AM, "Mario Brandt" <jblond@gmail.com> wrote:
> > Hi Tom,
> > I saw you on the httpd dev mailing list about that topic. How did you
> > manage to build apache against 1.0.2?
> >
> > Cause if I try that I get in my VM
> >
> > /opt/apache2/modules/mod_ssl.so: undefined symbol: SSL_CONF_CTX_finish
> >
> > or on my real server
> >
> > /opt/apache2/modules/mod_ssl.so: undefined symbol: SSL_CONF_CTX_free
> >
> > OpenSSL
> > ./config --prefix=/usr zlib-dynamic --openssldir=/etc/ssl shared no-ssl2
> > make depend
> > make
> > sudo make install
> >
> >
> > apache
> > ./configure --prefix=/opt/apache2 --enable-pie
> > --enable-mods-shared=all --enable-so --disable-include --enable-lua
> > --enable-deflate --enable-headers --enable-expires --enable-ssl=shared
> > --enable-mpms-shared=all --with-mpm=event --enable-rewrite
> > --with-z=$HOME/apache24/httpd-2.4.12/srclib/zlib --enable-module=ssl
> > --enable-fcgid --with-included-apr
> > --with-openssl=$HOME/apache24/openssl-1.0.2a
> > --enable-ssl-staticlib-deps
> >
> > with the 1.0.1m it works all fine
> > seehttps://
> github.com/JBlond/debian_build_apache24/blob/master/build_apache.sh
> >
> >
> > Please tell me how you got it working.
>
> Mario, I did get it working, but I did have a bit more effort to make
> the latest openssl work.  Taking a quick look at your blog I believe I
> can help, but I'll explain my solution in a follow-up message so this
> thread is on the public mailing lists.
>
> I feel I must explain that I'm using a Debian 7, 64-bit server.  It
> might help if we could know your server info as other architectures
> may require more or other tweaks.
>
> Finally, the best I can probably do is show you my configure options
> which may conflict with yours.
>
> TO BE CONTINUED....
>
> Best regards,
>
> -Tom
>

--089e0118241ab1a4140517c43f13
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div><div><div>Along the lines of &quot;to be continued&qu=
ot; - IMHO httpd should be one of the early adopters of not allowing linkag=
e to versions of openssl that cannot support TLS1.2.<br><br></div>I have bu=
ilt (on AIX) against libreSSL (v2.1.6) with some private additions for AIX =
(that will be verified and improved upon by openbsd in the soon to be relea=
sed libreSSL 2.2 version).<br><br></div>Basically, there are only two defin=
es that were &#39;missing&#39;. One was rather &#39;obscure&#39; it what it=
 is suppossed to be doing (i.e., looking in the openssl code) - the other w=
as downright &#39;dangerous&quot; because it permits &#39;any external so-c=
alled enthrophy generator&#39; to be added and used for randomness - becaus=
e it is, or at least was, part of the openSSL libraries. (the approach of l=
ibreSSL was to completely remove it, hence a missing #define).<br><br></div=
>Again - to be continued. and asap - in a separate post I will post the dif=
ferences to get it to link against libreSSL (p.s. only mod_ssl needs this a=
faik).<br></div><div class=3D"gmail_extra"><br><div class=3D"gmail_quote">O=
n Wed, May 27, 2015 at 3:29 PM, Tom Browder <span dir=3D"ltr">&lt;<a href=
=3D"mailto:tom.browder@gmail.com" target=3D"_blank">tom.browder@gmail.com</=
a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0=
 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">On May 27, 2015 5:26=
 AM, &quot;Mario Brandt&quot; &lt;<a href=3D"mailto:jblond@gmail.com">jblon=
d@gmail.com</a>&gt; wrote:<br>
&gt; Hi Tom,<br>
&gt; I saw you on the httpd dev mailing list about that topic. How did you<=
br>
&gt; manage to build apache against 1.0.2?<br>
&gt;<br>
&gt; Cause if I try that I get in my VM<br>
&gt;<br>
&gt; /opt/apache2/modules/mod_ssl.so: undefined symbol: SSL_CONF_CTX_finish=
<br>
&gt;<br>
&gt; or on my real server<br>
&gt;<br>
&gt; /opt/apache2/modules/mod_ssl.so: undefined symbol: SSL_CONF_CTX_free<b=
r>
&gt;<br>
&gt; OpenSSL<br>
&gt; ./config --prefix=3D/usr zlib-dynamic --openssldir=3D/etc/ssl shared n=
o-ssl2<br>
&gt; make depend<br>
&gt; make<br>
&gt; sudo make install<br>
&gt;<br>
&gt;<br>
&gt; apache<br>
&gt; ./configure --prefix=3D/opt/apache2 --enable-pie<br>
&gt; --enable-mods-shared=3Dall --enable-so --disable-include --enable-lua<=
br>
&gt; --enable-deflate --enable-headers --enable-expires --enable-ssl=3Dshar=
ed<br>
&gt; --enable-mpms-shared=3Dall --with-mpm=3Devent --enable-rewrite<br>
&gt; --with-z=3D$HOME/apache24/httpd-2.4.12/srclib/zlib --enable-module=3Ds=
sl<br>
&gt; --enable-fcgid --with-included-apr<br>
&gt; --with-openssl=3D$HOME/apache24/openssl-1.0.2a<br>
&gt; --enable-ssl-staticlib-deps<br>
&gt;<br>
&gt; with the 1.0.1m it works all fine<br>
&gt; seehttps://<a href=3D"http://github.com/JBlond/debian_build_apache24/b=
lob/master/build_apache.sh" target=3D"_blank">github.com/JBlond/debian_buil=
d_apache24/blob/master/build_apache.sh</a><br>
&gt;<br>
&gt;<br>
&gt; Please tell me how you got it working.<br>
<br>
Mario, I did get it working, but I did have a bit more effort to make<br>
the latest openssl work.=C2=A0 Taking a quick look at your blog I believe I=
<br>
can help, but I&#39;ll explain my solution in a follow-up message so this<b=
r>
thread is on the public mailing lists.<br>
<br>
I feel I must explain that I&#39;m using a Debian 7, 64-bit server.=C2=A0 I=
t<br>
might help if we could know your server info as other architectures<br>
may require more or other tweaks.<br>
<br>
Finally, the best I can probably do is show you my configure options<br>
which may conflict with yours.<br>
<br>
TO BE CONTINUED....<br>
<br>
Best regards,<br>
<br>
-Tom<br>
</blockquote></div><br></div>

--089e0118241ab1a4140517c43f13--

From dev-return-82884-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun  5 12:39:15 2015
Return-Path: <dev-return-82884-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A312D10C47
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Jun 2015 12:39:15 +0000 (UTC)
Received: (qmail 64767 invoked by uid 500); 5 Jun 2015 12:39:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64704 invoked by uid 500); 5 Jun 2015 12:39:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64694 invoked by uid 99); 5 Jun 2015 12:39:14 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Jun 2015 12:39:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 757991821FA
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 12:39:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id i4Nsw4GbYu5w for <dev@httpd.apache.org>;
	Fri,  5 Jun 2015 12:39:06 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 7AEDE275E7
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 12:39:06 +0000 (UTC)
Received: from delight.fritz.box (unknown [84.189.82.158])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id C4BA515A0632
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 14:38:56 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: ALPN patch comments
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVOToLZn+OyUhPNTrEQew_isZ82jZEUoJQjg11BVDgOdwA@mail.gmail.com>
Date: Fri, 5 Jun 2015 14:38:55 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <6254F7CB-AF70-4B22-8E0B-9D053C136838@greenbytes.de>
References: <CAKQ1sVMuQ9T0+BqZGMeSjfzWHG7pg_UsBfOZ0ORbubW_uw5Fpw@mail.gmail.com> <CALK=YjN867KUSJZG1Xv=7YoQ18YM8V4BKO9FMmriY6ofwgiyGg@mail.gmail.com> <CAKQ1sVMrGZif-HJpWWcmafipm9LJnRyyB5pdqYSM8CSH41DeeQ@mail.gmail.com> <CAKQ1sVOmgqQUg1ditN2x3PLeJWd=oyJvLq_L6quyPSkoTadbZg@mail.gmail.com> <13AA0595-AAA5-4150-8FFD-CABC8E780EB6@greenbytes.de> <678C2263-D9C4-4D3A-8C96-B77843490253@gbiv.com> <CAKQ1sVOToLZn+OyUhPNTrEQew_isZ82jZEUoJQjg11BVDgOdwA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)


> Am 05.06.2015 um 01:37 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Fri, Jun 5, 2015 at 1:03 AM, Roy T. Fielding <fielding@gbiv.com> =
wrote:
>>=20
>> Hence, we might need a configurable way to ignore a client's ALPN, =
though I doubt that
>> "SSLalpn off" is the right way to express that.  Likewise, neither is =
SSLAlpnPreference.
>> The server protocol(s) preference should be independent of the =
session/connection protocol.
>> Our internal configuration and use of ALPN should be based on the =
overall configuration, not a
>> configuration specific to the SSL code.  Many configurations won't =
include ALPN.
>=20
> Maybe we can reuse the Protocol directive then...

Something like the one below maybe. But this is 2.6/3.0 music. What do =
we do for 2.4?

cheers, Stefan
=E2=80=94=E2=80=94
# Listen directives define which transport protocols are active
Listen 443
Listen 1234 ssh

# Protocols lists the ALPN identifiers allowed on connections in =
preferred order
# ProtocolTransports defaults to the union of transports the server =
listens to
Protocols h2 spdy/3.1 http/1.1
ProtocolTransports tls ssh clear =09

# vhosts may limit this down or change order (but not extend it?)
<vhost *>
  ServerName test1.example.org
  Protocols h2 http/1.1
  ProtocolTransports tls
</vhost>
<vhost *>
  ServerName test2.example.org
  Protocols *
  ProtocolTransports ssh
</vhost>

Modules with protocol support need to register the ALPN ids plus a =
callback at core where they become available at the base server? =
Callbacks  are invoked for selected protocol with selected protocol id.

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82885-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun  5 15:11:24 2015
Return-Path: <dev-return-82885-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 20B87183A1
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Jun 2015 15:11:24 +0000 (UTC)
Received: (qmail 10334 invoked by uid 500); 5 Jun 2015 15:11:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10268 invoked by uid 500); 5 Jun 2015 15:11:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10258 invoked by uid 99); 5 Jun 2015 15:11:23 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Jun 2015 15:11:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 3E166CBB78
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 15:11:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id aCcEbjp2G-22 for <dev@httpd.apache.org>;
	Fri,  5 Jun 2015 15:11:14 +0000 (UTC)
Received: from mail-wi0-f175.google.com (mail-wi0-f175.google.com [209.85.212.175])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id EDA3C24CE9
	for <dev@httpd.apache.org>; Fri,  5 Jun 2015 15:11:13 +0000 (UTC)
Received: by wiwd19 with SMTP id d19so24340765wiw.0
        for <dev@httpd.apache.org>; Fri, 05 Jun 2015 08:11:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :content-type;
        bh=4XDEN6Uall+K3MMgo7HI1nihsPLa3Jwuzqis2LxbKQY=;
        b=uf8/OAt7NkUT+OpR1AzTvk5WD7rSVvEcQmOq3QUiBW1cKVAy5UtORUsJRPkVYWix/l
         WMhlk6zd4lT2KfrDfYbAHIHlFUDB/jLOVuG+PCj+7sg+kHmp68gLVjklaBP60+hJHp22
         82GWs6EuP+FUQvjUUcgsKEdT8+BebUlmlRdkmSs4B0ngBnqedEhFQIM2rx9DJ9AhtbFF
         6trteT0UZztV3rUkStPbIr7+jW6iEZ/UcX/s/ElNhNi+kWoVz+6HwJbp3JtsY2dhyyjS
         T0c1SaclCKpdme7YhPnuCDsdTJQgn9mn1dywVSGwl1vMlMO5VlQOKH3qAL+k4xPyLY58
         WeQw==
X-Received: by 10.180.88.99 with SMTP id bf3mr63145932wib.75.1433517073682;
 Fri, 05 Jun 2015 08:11:13 -0700 (PDT)
MIME-Version: 1.0
References: <mihphd$b59$1@ger.gmane.org> <CAKQ1sVOO0JJdWG9dQ3YyOe9uqdNd1J2V3DqB25JFAcOon771sQ@mail.gmail.com>
 <9ACD5B67AAC5594CB6268234CF29CF9AA38F73EF@ORSMSX113.amr.corp.intel.com>
 <9ACD5B67AAC5594CB6268234CF29CF9AA390DD0B@ORSMSX113.amr.corp.intel.com>
 <CAKQ1sVOLYuzSuYxD+VAHLHHcJOgWxEXaFSsVB1PBCbEW60fTBw@mail.gmail.com>
 <28E5EAC0-6003-4CA1-9FC9-F08696A7B3C4@jaguNET.com> <CACsi253mRY5t098ikXESyr3WdThz_9gorRnDV2XhJ+qM53RaKQ@mail.gmail.com>
 <CAKUrXK7S1xbKysMF90BGFRUTZzj4TL+vh+a+zFN0UxjzLup99Q@mail.gmail.com>
 <CAKQ1sVNzn9dzfa1EgsHmm=Yq8G=fX6Z-UWrnqwUzsXvEsYeagw@mail.gmail.com> <9ACD5B67AAC5594CB6268234CF29CF9AA3910D0C@ORSMSX113.amr.corp.intel.com>
In-Reply-To: <9ACD5B67AAC5594CB6268234CF29CF9AA3910D0C@ORSMSX113.amr.corp.intel.com>
From: Eric Covener <covener@gmail.com>
Date: Fri, 05 Jun 2015 15:11:02 +0000
Message-ID: <CALK=YjNOKeJ_svT11eoPpcOKs=vgJzbZcfVZhdGXrnsMZndvhA@mail.gmail.com>
Subject: Re: SO_REUSEPORT
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=f46d04428eaef4d93a0517c6b3d2

--f46d04428eaef4d93a0517c6b3d2
Content-Type: text/plain; charset=UTF-8

I'm trying to review & understand how this affects process management for
things like MinSpareThreads/MaxSpareThreads e.g.

-    else if (idle_thread_count < min_spare_threads) {
+    else if (idle_thread_count < min_spare_threads / num_buckets) {
         /* terminate the free list */
         if (free_length == 0) { /* scoreboard is f

-    if (idle_thread_count > max_spare_threads) {
+    if (idle_thread_count > max_spare_threads / num_buckets) {
         /* Kill off one child */

If I wanted between 100 and 200 spare threads available to do some slow
stuff like proxy or CGI,  would we really scale it back by the # of buckets
or am I misunderstanding?

On Sun, May 17, 2015 at 4:31 PM Lu, Yingqi <yingqi.lu@intel.com> wrote:

> Hi Yann,
>
> Thank you very much for your help!
>
> Yingqi
>
> -----Original Message-----
> From: Yann Ylavic [mailto:ylavic.dev@gmail.com]
> Sent: Saturday, May 16, 2015 3:37 AM
> To: httpd
> Subject: Re: SO_REUSEPORT
>
> On Fri, May 15, 2015 at 5:12 PM, Jeff Trawick <trawick@gmail.com> wrote:
> > On Fri, May 15, 2015 at 11:02 AM, William A Rowe Jr <wrowe@rowe-clan.net
> >
> > wrote:
> >>
> >> My chief concern was that the phrase "Common Log" has a specific meaning
> >> to us.
> >>
> >> ap_mpm_common_log_startup() or something else descriptive would be a
> >> better name, but our crew is famous for not being terrific namers of
> things
> >> :)
> >>
> >> Did this compile with no warnings?  It seems statics were used without
> >> being explicitly initialized, and I don't have my copy of K&R to check
> that
> >> these are always NULL, but guessing that's so.
> >
> >
> > yes; but ISTR that NetWare is the reason for explicit initialization in
> some
> > of our multi-platform code; I dunno the rhyme
>
> s/ap_log_common/ap_log_mpm_common/ in r1679714 and added to backport
> proposal.
>
> Regarding globals/statics explicit initializations (implicit
> initialization to {0} is required by the C standard), I don't think it
> is necessary/suitable since and it may move these variables from the
> .bss to the .data section, the former being quicker to initialize (as
> a whole) at load time (though explicit initializations to {0} usually
> go to .bss too but it depends on the compiler and/or flags, and we
> don't explicitely need .data for those).
> So I did not change the code wrt this...
>

--f46d04428eaef4d93a0517c6b3d2
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">I&#39;m trying to review &amp; understand how this affects=
 process management for things like MinSpareThreads/MaxSpareThreads e.g.<br=
><br><div>- =C2=A0 =C2=A0else if (idle_thread_count &lt; min_spare_threads)=
 {</div><div>+ =C2=A0 =C2=A0else if (idle_thread_count &lt; min_spare_threa=
ds / num_buckets) {</div><div>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0/* terminat=
e the free list */</div><div>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0if (free_len=
gth =3D=3D 0) { /* scoreboard is f<br><br></div><div>- =C2=A0 =C2=A0if (idl=
e_thread_count &gt; max_spare_threads) {</div><div>+ =C2=A0 =C2=A0if (idle_=
thread_count &gt; max_spare_threads / num_buckets) {</div><div>=C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0/* Kill off one child */</div><div><br>If I wanted =
between 100 and 200 spare threads available to do some slow stuff like prox=
y or CGI, =C2=A0would we really scale it back by the # of buckets or am I m=
isunderstanding?</div></div><br><div class=3D"gmail_quote"><div dir=3D"ltr"=
>On Sun, May 17, 2015 at 4:31 PM Lu, Yingqi &lt;<a href=3D"mailto:yingqi.lu=
@intel.com">yingqi.lu@intel.com</a>&gt; wrote:<br></div><blockquote class=
=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padd=
ing-left:1ex">Hi Yann,<br>
<br>
Thank you very much for your help!<br>
<br>
Yingqi<br>
<br>
-----Original Message-----<br>
From: Yann Ylavic [mailto:<a href=3D"mailto:ylavic.dev@gmail.com" target=3D=
"_blank">ylavic.dev@gmail.com</a>]<br>
Sent: Saturday, May 16, 2015 3:37 AM<br>
To: httpd<br>
Subject: Re: SO_REUSEPORT<br>
<br>
On Fri, May 15, 2015 at 5:12 PM, Jeff Trawick &lt;<a href=3D"mailto:trawick=
@gmail.com" target=3D"_blank">trawick@gmail.com</a>&gt; wrote:<br>
&gt; On Fri, May 15, 2015 at 11:02 AM, William A Rowe Jr &lt;<a href=3D"mai=
lto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>&gt;<br>
&gt; wrote:<br>
&gt;&gt;<br>
&gt;&gt; My chief concern was that the phrase &quot;Common Log&quot; has a =
specific meaning<br>
&gt;&gt; to us.<br>
&gt;&gt;<br>
&gt;&gt; ap_mpm_common_log_startup() or something else descriptive would be=
 a<br>
&gt;&gt; better name, but our crew is famous for not being terrific namers =
of things<br>
&gt;&gt; :)<br>
&gt;&gt;<br>
&gt;&gt; Did this compile with no warnings?=C2=A0 It seems statics were use=
d without<br>
&gt;&gt; being explicitly initialized, and I don&#39;t have my copy of K&am=
p;R to check that<br>
&gt;&gt; these are always NULL, but guessing that&#39;s so.<br>
&gt;<br>
&gt;<br>
&gt; yes; but ISTR that NetWare is the reason for explicit initialization i=
n some<br>
&gt; of our multi-platform code; I dunno the rhyme<br>
<br>
s/ap_log_common/ap_log_mpm_common/ in r1679714 and added to backport propos=
al.<br>
<br>
Regarding globals/statics explicit initializations (implicit<br>
initialization to {0} is required by the C standard), I don&#39;t think it<=
br>
is necessary/suitable since and it may move these variables from the<br>
.bss to the .data section, the former being quicker to initialize (as<br>
a whole) at load time (though explicit initializations to {0} usually<br>
go to .bss too but it depends on the compiler and/or flags, and we<br>
don&#39;t explicitely need .data for those).<br>
So I did not change the code wrt this...<br>
</blockquote></div>

--f46d04428eaef4d93a0517c6b3d2--

From dev-return-82886-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun  5 15:49:47 2015
Return-Path: <dev-return-82886-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A89F51854B
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Jun 2015 15:49:47 +0000 (UTC)
Received: (qmail 53036 invoked by uid 500); 5 Jun 2015 15:49:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 52954 invoked by uid 500); 5 Jun 2015 15:49:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 52944 invoked by uid 99); 5 Jun 2015 15:49:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Jun 2015 15:49:47 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of covener@gmail.com designates 209.85.220.178 as permitted sender)
Received: from [209.85.220.178] (HELO mail-qk0-f178.google.com) (209.85.220.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Jun 2015 15:47:33 +0000
Received: by qkoo18 with SMTP id o18so42641370qko.1
        for <dev@httpd.apache.org>; Fri, 05 Jun 2015 08:48:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :content-type;
        bh=o++tv5FHFVllCjx6jktBZi/r+71nSXPLizRQIBV9Ywo=;
        b=yPDd3MS4J0HB2zazXDDLByv8F0vcZtbLTk470pE6s1dBpSOZOpIFdxS1LVBFt3Wc4A
         l3EXGxFicaQiYyU5IG99uS0FIVM0TKAYAkh3pdyuY2TCR5MlSbBJ3DXvHZxi6Sjp7797
         ZAfUbjzkPMCEn0K3Y9EI6iI6sP/k5EEOhfmz3H8QzI5ypA5mbkcJbJLyb1IDqNzZQAnH
         Yofx5RWQQJzEOdflOgWhwAiKcQpLqQRVCWzhzZ4RY0kCAtLcYFHYNU2fXB8icfjaK+9Q
         Xx9tjnwccvVSYkWCph39HqbZZsHEBcsRYYmCYVzwRvDjiMNpHwumsQK7OFsb3H7B2Tnt
         pX4Q==
X-Received: by 10.55.17.95 with SMTP id b92mr7933942qkh.16.1433519316132; Fri,
 05 Jun 2015 08:48:36 -0700 (PDT)
MIME-Version: 1.0
References: <CAKQ1sVMuQ9T0+BqZGMeSjfzWHG7pg_UsBfOZ0ORbubW_uw5Fpw@mail.gmail.com>
 <CALK=YjN867KUSJZG1Xv=7YoQ18YM8V4BKO9FMmriY6ofwgiyGg@mail.gmail.com>
 <CAKQ1sVMrGZif-HJpWWcmafipm9LJnRyyB5pdqYSM8CSH41DeeQ@mail.gmail.com>
 <CAKQ1sVOmgqQUg1ditN2x3PLeJWd=oyJvLq_L6quyPSkoTadbZg@mail.gmail.com>
 <13AA0595-AAA5-4150-8FFD-CABC8E780EB6@greenbytes.de> <678C2263-D9C4-4D3A-8C96-B77843490253@gbiv.com>
 <CAKQ1sVOToLZn+OyUhPNTrEQew_isZ82jZEUoJQjg11BVDgOdwA@mail.gmail.com> <6254F7CB-AF70-4B22-8E0B-9D053C136838@greenbytes.de>
In-Reply-To: <6254F7CB-AF70-4B22-8E0B-9D053C136838@greenbytes.de>
From: Eric Covener <covener@gmail.com>
Date: Fri, 05 Jun 2015 15:48:25 +0000
Message-ID: <CALK=YjOZoBhODRVaQ49F7-bVRBd8KbBQck1p+tf-Jo8vXa=TkA@mail.gmail.com>
Subject: Re: ALPN patch comments
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a113ad0369dea010517c73953
X-Virus-Checked: Checked by ClamAV on apache.org

--001a113ad0369dea010517c73953
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Fri, Jun 5, 2015 at 8:39 AM Stefan Eissing <stefan.eissing@greenbytes.de=
>
wrote:

>
> > Am 05.06.2015 um 01:37 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
> >
> > On Fri, Jun 5, 2015 at 1:03 AM, Roy T. Fielding <fielding@gbiv.com>
> wrote:
> >>
> >> Hence, we might need a configurable way to ignore a client's ALPN,
> though I doubt that
> >> "SSLalpn off" is the right way to express that.  Likewise, neither is
> SSLAlpnPreference.
> >> The server protocol(s) preference should be independent of the
> session/connection protocol.
> >> Our internal configuration and use of ALPN should be based on the
> overall configuration, not a
> >> configuration specific to the SSL code.  Many configurations won't
> include ALPN.
> >
> > Maybe we can reuse the Protocol directive then...
>
> Something like the one below maybe. But this is 2.6/3.0 music. What do we
> do for 2.4?
>
> cheers, Stefan
> =E2=80=94=E2=80=94
> # Listen directives define which transport protocols are active
> Listen 443
> Listen 1234 ssh
>
> # Protocols lists the ALPN identifiers allowed on connections in preferre=
d
> order
> # ProtocolTransports defaults to the union of transports the server
> listens to
> Protocols h2 spdy/3.1 http/1.1
> ProtocolTransports tls ssh clear
>
> # vhosts may limit this down or change order (but not extend it?)
> <vhost *>
>   ServerName test1.example.org
>   Protocols h2 http/1.1
>   ProtocolTransports tls
> </vhost>
> <vhost *>
>   ServerName test2.example.org
>   Protocols *
>   ProtocolTransports ssh
> </vhost>
>
> Modules with protocol support need to register the ALPN ids plus a
> callback at core where they become available at the base server? Callback=
s
> are invoked for selected protocol with selected protocol id.
>
>
I think "Protocols" and moving the registration in the patch to the core is
a good compromise.  If the requirement anyone has interest in working on is
h2 over tls, then at the moment the only effect will be driving the ALPN
negotiation.

--001a113ad0369dea010517c73953
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><br><br><div class=3D"gmail_quote"><div dir=3D"ltr">On Fri=
, Jun 5, 2015 at 8:39 AM Stefan Eissing &lt;<a href=3D"mailto:stefan.eissin=
g@greenbytes.de">stefan.eissing@greenbytes.de</a>&gt; wrote:<br></div><bloc=
kquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #cc=
c solid;padding-left:1ex"><br>
&gt; Am 05.06.2015 um 01:37 schrieb Yann Ylavic &lt;<a href=3D"mailto:ylavi=
c.dev@gmail.com" target=3D"_blank">ylavic.dev@gmail.com</a>&gt;:<br>
&gt;<br>
&gt; On Fri, Jun 5, 2015 at 1:03 AM, Roy T. Fielding &lt;<a href=3D"mailto:=
fielding@gbiv.com" target=3D"_blank">fielding@gbiv.com</a>&gt; wrote:<br>
&gt;&gt;<br>
&gt;&gt; Hence, we might need a configurable way to ignore a client&#39;s A=
LPN, though I doubt that<br>
&gt;&gt; &quot;SSLalpn off&quot; is the right way to express that.=C2=A0 Li=
kewise, neither is SSLAlpnPreference.<br>
&gt;&gt; The server protocol(s) preference should be independent of the ses=
sion/connection protocol.<br>
&gt;&gt; Our internal configuration and use of ALPN should be based on the =
overall configuration, not a<br>
&gt;&gt; configuration specific to the SSL code.=C2=A0 Many configurations =
won&#39;t include ALPN.<br>
&gt;<br>
&gt; Maybe we can reuse the Protocol directive then...<br>
<br>
Something like the one below maybe. But this is 2.6/3.0 music. What do we d=
o for 2.4?<br>
<br>
cheers, Stefan<br>
=E2=80=94=E2=80=94<br>
# Listen directives define which transport protocols are active<br>
Listen 443<br>
Listen 1234 ssh<br>
<br>
# Protocols lists the ALPN identifiers allowed on connections in preferred =
order<br>
# ProtocolTransports defaults to the union of transports the server listens=
 to<br>
Protocols h2 spdy/3.1 http/1.1<br>
ProtocolTransports tls ssh clear<br>
<br>
# vhosts may limit this down or change order (but not extend it?)<br>
&lt;vhost *&gt;<br>
=C2=A0 ServerName <a href=3D"http://test1.example.org" target=3D"_blank">te=
st1.example.org</a><br>
=C2=A0 Protocols h2 http/1.1<br>
=C2=A0 ProtocolTransports tls<br>
&lt;/vhost&gt;<br>
&lt;vhost *&gt;<br>
=C2=A0 ServerName <a href=3D"http://test2.example.org" target=3D"_blank">te=
st2.example.org</a><br>
=C2=A0 Protocols *<br>
=C2=A0 ProtocolTransports ssh<br>
&lt;/vhost&gt;<br>
<br>
Modules with protocol support need to register the ALPN ids plus a callback=
 at core where they become available at the base server? Callbacks=C2=A0 ar=
e invoked for selected protocol with selected protocol id.<br><br></blockqu=
ote><div><br>I think &quot;Protocols&quot; and moving the registration in t=
he patch to the core is a good compromise.=C2=A0 If the requirement anyone =
has interest in working on is h2 over tls, then at the moment the only effe=
ct will be driving the ALPN negotiation. <br></div></div></div>

--001a113ad0369dea010517c73953--

From dev-return-82887-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun  5 18:32:22 2015
Return-Path: <dev-return-82887-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 28F7A18C87
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  5 Jun 2015 18:32:22 +0000 (UTC)
Received: (qmail 71336 invoked by uid 500); 5 Jun 2015 18:32:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 71257 invoked by uid 500); 5 Jun 2015 18:32:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 71247 invoked by uid 99); 5 Jun 2015 18:32:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Jun 2015 18:32:21 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-ig0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 05 Jun 2015 18:30:06 +0000
Received: by igbhj9 with SMTP id hj9so21770122igb.1
        for <dev@httpd.apache.org>; Fri, 05 Jun 2015 11:31:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=DPOphrivEzEkC92DZPN4tEckfk2/C68oUgaocXLf7cE=;
        b=XDW9WozHS2l01AVvNiqEDtiogSo302eWn+fGqNoNhMYA2QGgn2Al313PWSXtdRxCxv
         9vLW9SEp7MxEov1USXwbq8n9UGntaYgsQUS55SWPJUo8bSdfhKhZ0qYlqxzioqtlaC8x
         n3+kSQxXEuJPFHlF7B9iMkQjDpuRBu1Rx6ZrYM1rXziw0kF6ZW7j/2LSURYpVPwpav9r
         CUafAVlcn6IwnTTbfFhRwesZFf3mXylp7NTa1DoFEO9VXaBkCKDTll05i5MdKtmICgE/
         w8gXhcLRr054yiKXWPs9AXY/wcpBhqKjvqNi63rXimYvjK7yGdu6WdkgzNfDHiPCkf3z
         k5Fg==
MIME-Version: 1.0
X-Received: by 10.50.47.50 with SMTP id a18mr8187417ign.46.1433529114123; Fri,
 05 Jun 2015 11:31:54 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Fri, 5 Jun 2015 11:31:54 -0700 (PDT)
In-Reply-To: <CALK=YjNOKeJ_svT11eoPpcOKs=vgJzbZcfVZhdGXrnsMZndvhA@mail.gmail.com>
References: <mihphd$b59$1@ger.gmane.org>
	<CAKQ1sVOO0JJdWG9dQ3YyOe9uqdNd1J2V3DqB25JFAcOon771sQ@mail.gmail.com>
	<9ACD5B67AAC5594CB6268234CF29CF9AA38F73EF@ORSMSX113.amr.corp.intel.com>
	<9ACD5B67AAC5594CB6268234CF29CF9AA390DD0B@ORSMSX113.amr.corp.intel.com>
	<CAKQ1sVOLYuzSuYxD+VAHLHHcJOgWxEXaFSsVB1PBCbEW60fTBw@mail.gmail.com>
	<28E5EAC0-6003-4CA1-9FC9-F08696A7B3C4@jaguNET.com>
	<CACsi253mRY5t098ikXESyr3WdThz_9gorRnDV2XhJ+qM53RaKQ@mail.gmail.com>
	<CAKUrXK7S1xbKysMF90BGFRUTZzj4TL+vh+a+zFN0UxjzLup99Q@mail.gmail.com>
	<CAKQ1sVNzn9dzfa1EgsHmm=Yq8G=fX6Z-UWrnqwUzsXvEsYeagw@mail.gmail.com>
	<9ACD5B67AAC5594CB6268234CF29CF9AA3910D0C@ORSMSX113.amr.corp.intel.com>
	<CALK=YjNOKeJ_svT11eoPpcOKs=vgJzbZcfVZhdGXrnsMZndvhA@mail.gmail.com>
Date: Fri, 5 Jun 2015 20:31:54 +0200
Message-ID: <CAKQ1sVPkWGDdgTK83Er=Sd5JQ+DJDOnC_rpB_QY12ku+mEb-=A@mail.gmail.com>
Subject: Re: SO_REUSEPORT
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Jun 5, 2015 at 5:11 PM, Eric Covener <covener@gmail.com> wrote:
> I'm trying to review & understand how this affects process management for
> things like MinSpareThreads/MaxSpareThreads e.g.
>
> -    else if (idle_thread_count < min_spare_threads) {
> +    else if (idle_thread_count < min_spare_threads / num_buckets) {
>          /* terminate the free list */
>          if (free_length == 0) { /* scoreboard is f
>
> -    if (idle_thread_count > max_spare_threads) {
> +    if (idle_thread_count > max_spare_threads / num_buckets) {
>          /* Kill off one child */
>
> If I wanted between 100 and 200 spare threads available to do some slow
> stuff like proxy or CGI,  would we really scale it back by the # of buckets
> or am I misunderstanding?

perform_idle_server_maintenance() is now called for each bucket in the
main loop, so this won't change the number of threads maintained per
loop.

From dev-return-82888-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun  6 14:48:43 2015
Return-Path: <dev-return-82888-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5BB5810796
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  6 Jun 2015 14:48:43 +0000 (UTC)
Received: (qmail 78612 invoked by uid 500); 6 Jun 2015 14:48:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 78518 invoked by uid 500); 6 Jun 2015 14:48:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 78508 invoked by uid 99); 6 Jun 2015 14:48:42 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Jun 2015 14:48:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 6FB98CBEE8
	for <dev@httpd.apache.org>; Sat,  6 Jun 2015 14:48:42 +0000 (UTC)
X-Quarantine-ID: <m5Z8g1xWvnSp>
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Amavis-Alert: BAD HEADER SECTION, Improper folded header field made up
	entirely of whitespace (char 20 hex): X-Spam-Report: ...that system
	for details.\n \n Content previ[...]
X-Spam-Flag: NO
X-Spam-Score: -0.001
X-Spam-Level:
X-Spam-Status: No, score=-0.001 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id m5Z8g1xWvnSp for <dev@httpd.apache.org>;
	Sat,  6 Jun 2015 14:48:41 +0000 (UTC)
Received: from s6.mail.rcig.net (s6.mail.rcig.net [216.87.38.206])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 80D8C274BA
	for <dev@httpd.apache.org>; Sat,  6 Jun 2015 14:48:41 +0000 (UTC)
Received: from 23-117-14-203.lightspeed.stlsmo.sbcglobal.net ([23.117.14.203]:9992 helo=[192.168.0.2])
	by s6.mail.rcig.net with esmtpa (Exim 4.72)
	(envelope-from <DRuggeri@primary.net>)
	id 1Z1FOi-0005iT-Qv
	for dev@httpd.apache.org; Sat, 06 Jun 2015 09:48:33 -0500
Message-ID: <55730836.2030106@primary.net>
Date: Sat, 06 Jun 2015 09:48:22 -0500
From: Daniel Ruggeri <DRuggeri@primary.net>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: [VOTE] Release Apache httpd 2.4.13 as GA
References: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com> <f94d6b3685a3adfe4ccad93bcecc08ac@ausics.net>
In-Reply-To: <f94d6b3685a3adfe4ccad93bcecc08ac@ausics.net>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-ACL-Warn: X-The email account used to send this email was: druggeri@primary.net




On 6/4/2015 8:43 PM, Noel Butler wrote:
> I disagree with this removal, it will cause more problems then benefits
> IMHO, make it a recommendation to use SSLCertificateFile, but not an
> essential requirement, perhaps log it, and log it only once, not per
> every domain, not throw them to std out.

+1

FWIW, I think Kaspar had a driving technical reason for its deprecation,
but I can't seem to find the original email talking about it.

-- 
Daniel Ruggeri

From dev-return-82889-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun  6 20:56:46 2015
Return-Path: <dev-return-82889-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CB62010F11
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  6 Jun 2015 20:56:46 +0000 (UTC)
Received: (qmail 64921 invoked by uid 500); 6 Jun 2015 20:56:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64844 invoked by uid 500); 6 Jun 2015 20:56:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64832 invoked by uid 99); 6 Jun 2015 20:56:45 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Jun 2015 20:56:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 9EC701A46F9
	for <dev@httpd.apache.org>; Sat,  6 Jun 2015 20:56:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 8gK86CXlcNSK for <dev@httpd.apache.org>;
	Sat,  6 Jun 2015 20:56:29 +0000 (UTC)
Received: from mail-in2.apple.com (mail-out2.apple.com [17.151.62.25])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 5739527619
	for <dev@httpd.apache.org>; Sat,  6 Jun 2015 20:56:29 +0000 (UTC)
Received: from relay3.apple.com (relay3.apple.com [17.128.113.83])
	by mail-in2.apple.com (Apple Secure Mail Relay) with SMTP id B6.13.19360.77E53755; Sat,  6 Jun 2015 13:56:23 -0700 (PDT)
X-AuditID: 11973e11-f79186d000004ba0-50-55735e77a558
Received: from russet.apple.com (russet.apple.com [17.171.2.67])
	(using TLS with cipher DES-CBC3-SHA (168/168 bits))
	(Client did not present a certificate)
	by relay3.apple.com (Apple SCV relay) with SMTP id 7B.D9.13711.48E53755; Sat,  6 Jun 2015 13:56:36 -0700 (PDT)
Received: from [17.168.182.195] (unknown [17.168.182.195])
 by russet.apple.com (Oracle Communications Messaging Server 7.0.5.30.0 64bit
 (built Oct 22 2013)) with ESMTPSA id <0NPJ00EV0JHXJJ20@russet.apple.com> for
 dev@httpd.apache.org; Sat, 06 Jun 2015 13:56:21 -0700 (PDT)
Content-type: text/plain; charset=utf-8
MIME-version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: [VOTE] Release Apache httpd 2.4.13 as GA
From: Leif Hedstrom <zwoop@apache.org>
In-reply-to: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
Date: Sat, 06 Jun 2015 16:56:20 -0400
Content-transfer-encoding: quoted-printable
Message-id: <5453A2BD-8B5A-4586-BCFB-219871677412@apache.org>
References: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
To: dev@httpd.apache.org, Jim Jagielski <jim@jaguNET.com>
X-Mailer: Apple Mail (2.2098)
X-Brightmail-Tracker: H4sIAAAAAAAAA+NgFlrELMWRmVeSWpSXmKPExsUi2FAYrFseVxxq8Pi/kMXunzvZHRg9Wq5G
	BjBGcdmkpOZklqUW6dslcGWcenufqWAFS8XruatYGxhXM3cxcnJICJhI7J6+F8oWk7hwbz1b
	FyMXh5DAXkaJL+eb4Iq+dO5lgUhMYJL4tKybFcKZxiRx7eZu9i5GDg5mAXWJKVNyQRp4BfQk
	5lxfwAZiCwuYSvz5OZEdxGYTUJN48nk9C0g5p4C9xKkWbZAwi4CqxItTP8F2MQtoSzx5d4EV
	YoytxPpHz8HGCAnYSez5PIEJxBYRsJR41buKGWSMhICsxNetciDXSAi8ZJV4OGENywRGoVkI
	B81CctAsJBsWMDKvYhTKTczM0c3MM9JLLCjISdVLzs/dxAgK1Ol2gjsYj6+yOsQowMGoxMNb
	4F8UKsSaWFZcmXuIUZqDRUmcl1cHKCSQnliSmp2aWpBaFF9UmpNafIiRiYNTqoFxZoNKhPHm
	T9/8njg+d4if+X09T5jY7KrqinUCrr/Wriu7u5bvf0fQJ7NF5j8a3vBZGIeeq7uo1a5aGnL0
	u2UuT2ucwiQ7U+2gi/zHFi/8m6i0Monh9tW11mwbVi6xnBD9jt8kT9tmk5fH9vM7JvfeZ1mT
	3JXR4Rjk+Uo9VKZy4YXJatIOZ94osRRnJBpqMRcVJwIAoJmxmzUCAAA=
X-Brightmail-Tracker: H4sIAAAAAAAAA+NgFprKLMWRmVeSWpSXmKPExsUiuJrJWbclrjjU4NxWBYvdP3eyOzB6tFyN
	DGCM4rJJSc3JLEst0rdL4Mo49fY+U8EKlorXc1exNjCuZu5i5OSQEDCR+NK5lwXCFpO4cG89
	WxcjF4eQwAQmiU/LulkhnGlMEtdu7mbvYuTgYBZQl5gyJRekgVdAT2LO9QVsILawgKnEn58T
	2UFsNgE1iSef17OAlHMK2EucatEGCbMIqEq8OPUTbC+zgLbEk3cXWCHG2Eqsf/QcbIyQgJ3E
	ns8TmEBsEQFLiVe9q5hBxkgIyEp83So3gZF/FsINs5DcMAvJ0AWMzKsYBYpScxIrjfUSCwpy
	UvWS83M3MYICq6EweAfjn2VWhxgFOBiVeHglfItChVgTy4orcw8xSnAwK4nwvtctDhXiTUms
	rEotyo8vKs1JLT7EKM3BoiTO6+QAVC2QnliSmp2aWpBaBJNl4uCUamCseikzI0XS6mfeNkYh
	yeLK+cLPZpmcZeTU/255Ycr9BfrLXaomCCoJTTwXcOmR/j01+SuM+xVNf9z3s4m+W1O/N7P5
	sUfj/59rJvX7fPZW55i1zdWn+o7zlNVH9n8ub1N/clTk1TeZLV+3t/YfuafkzNGSc7aCUcL7
	4OHbp08/55vhvOLKQhdWJZbijERDLeai4kQAvaQt0SgCAAA=


> On Jun 4, 2015, at 12:33 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
> The pre-release test tarballs for Apache httpd 2.4.13 can be found
> at the usual place:
>=20
> 	http://httpd.apache.org/dev/dist/
>=20
> I'm calling a VOTE on releasing these as Apache httpd 2.4.13 GA.
>=20
> [ ] +1: Good to go
> [ ] +0: meh
> [ ] -1: Danger Will Robinson. And why.
>=20


Tested on Fedora 21 (64-bit), builds and runs without problems with PHP =
v5.5.9. Signature and checksums verifies.

+1 from me (not binding).

=E2=80=94 Leif



From dev-return-82890-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun  6 22:31:40 2015
Return-Path: <dev-return-82890-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C853C172CF
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  6 Jun 2015 22:31:40 +0000 (UTC)
Received: (qmail 51721 invoked by uid 500); 6 Jun 2015 22:31:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51639 invoked by uid 500); 6 Jun 2015 22:31:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51628 invoked by uid 99); 6 Jun 2015 22:31:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Jun 2015 22:31:40 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.178 as permitted sender)
Received: from [209.85.223.178] (HELO mail-ie0-f178.google.com) (209.85.223.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 06 Jun 2015 22:29:26 +0000
Received: by iebgx4 with SMTP id gx4so77733663ieb.0
        for <dev@httpd.apache.org>; Sat, 06 Jun 2015 15:31:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=0rK9n5T4K02yBYeT8eiWEB7uhQZIHsYkL4dd6ZCYZiE=;
        b=I6WffVJKn3iCkUzym7BoFoXgMCEDEP6i0kX8Os+Bf1UbeI6ObUex9W3f5CIjlb5a5q
         N8rd2ocC+ysHnt838BHEvfV8Jrf7fSXbB10Zfaj6z3hRPatuVv3QXIZAx+TNE9gAhpit
         THWLygMNPPgHe6Zdf7+NDfy0wKRrMwhhAeomOabEsCdtxp0M5/gsO5QjNmefsi6urPKy
         fYY/fM7kffinZEEZ8pJWgYydcJAdh0pcfOYbmbiESILygP8a0bR12lqzoXn7XLPQyGOw
         MmKkq1xozDX7km7u+6MlpR6J0kVX6W/uSzUIvJDsvEAR9McDeOs5HTDiDuaRu8PhzPMZ
         fyKw==
MIME-Version: 1.0
X-Received: by 10.107.15.149 with SMTP id 21mr12729760iop.44.1433629873833;
 Sat, 06 Jun 2015 15:31:13 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Sat, 6 Jun 2015 15:31:13 -0700 (PDT)
In-Reply-To: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
References: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
Date: Sun, 7 Jun 2015 00:31:13 +0200
Message-ID: <CAKQ1sVP7iOJWoLpjw6mWODxyxnhTVB32-RMM-ZV_DqwjXR1GPg@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.13 as GA
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Jun 4, 2015 at 6:33 PM, Jim Jagielski <jim@jagunet.com> wrote:
> The pre-release test tarballs for Apache httpd 2.4.13 can be found
> at the usual place:
>
>         http://httpd.apache.org/dev/dist/
>
> I'm calling a VOTE on releasing these as Apache httpd 2.4.13 GA.
>
> [X] +1: Good to go

No regression with event and worker, included apr-1.5.2 and apr-util-1.5.4.

Tested systems:

* Debian 8 - full 64bit:
- linux-amd64 3.16.7-ckt11-1
- libc6-amd64 2.19-18
- libtool 2.4.2-1.11
- autoconf 2.69-8
- automake 1.14.1-4
- gcc 4.9.2-10
- libssl 1.0.1k-3
- libpcre3 8.35-3.3

* Debian 7 - full 64bit:
- linux-amd64 3.2.68-1+deb7u1
- libc6-amd64 2.13-38+deb7u8
- libtool 2.4.2-1.1
- autoconf 2.69-1
- automake 1.11.6-1
- gcc 4.7.2-5
- libssl 1.0.1e-2+deb7u16
- libpcre3 8.30-5

* Debian 6 - full 64bit:
- linux-amd64 3.2.68-1+deb7u1~bpo60+1
- libc6 2.11.3-4+deb6u6
- libtool 2.2.6b-2
- autoconf 2.67-2
- automake 1.11.1-1+squeeze1
- gcc 4.4.5-8
- libssl 0.9.8o-4squeeze20 and openssl-1.0.1m (built)
- libpcre3 8.02-1.1

* Debian 6 - 32bit system, 64bit kernel:
- linux-amd64 3.2.52 (built)
- libc6-amd64 2.11.3-4+deb6u6
- libtool 2.2.6b-2
- autoconf 2.67-2
- automake 1.11.1-1+squeeze1
- gcc 4.3.5-4
- libssl 0.9.8o-4squeeze20
- libpcre3 8.02-1.1

Thanks for RMing,
Yann.

PS: I have the following tests failures on Debian 8 which do not occur
on other versions (not a regression though, same on 2.4.12).

t/ssl/pr12355.t ..................... 1/10 # Failed test 3 in
t/ssl/pr12355.t at line 28
# Failed test 4 in t/ssl/pr12355.t at line 29
t/ssl/pr12355.t ..................... 5/10 # Failed test 7 in
t/ssl/pr12355.t at line 38
# Failed test 8 in t/ssl/pr12355.t at line 39
t/ssl/pr12355.t ..................... Failed 4/10 subtests
t/ssl/pr43738.t ..................... 1/4 # Failed test 1 in
t/ssl/pr43738.t at line 21
# Failed test 2 in t/ssl/pr43738.t at line 22
t/ssl/pr43738.t ..................... Failed 2/4 subtests

From dev-return-82891-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun  7 07:15:15 2015
Return-Path: <dev-return-82891-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 96FD617BBD
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  7 Jun 2015 07:15:15 +0000 (UTC)
Received: (qmail 88911 invoked by uid 500); 7 Jun 2015 07:15:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 88854 invoked by uid 500); 7 Jun 2015 07:15:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 88845 invoked by uid 99); 7 Jun 2015 07:15:14 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Jun 2015 07:15:14 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id 8ECA61A035C
	for <dev@httpd.apache.org>; Sun,  7 Jun 2015 07:15:14 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id 10ABA60692; Sun,  7 Jun 2015 07:15:14 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2015/06/07]
Message-Id: <20150607071514.10ABA60692@asf-bz1-us-mid.priv.apache.org>
Date: Sun,  7 Jun 2015 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 7483|Ass|Enh|2002-03-26|Add FileAction directive to assign a cgi interpret|
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|12680|New|Enh|2002-09-16|Digest authentication with integrity protection   |
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|18497|New|Min|2003-03-30|configure --help gives wrong default for sysconfdi|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21253|New|Nor|2003-07-01|Mime magic doesn't continue if type is specifed fo|
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22138|Inf|Cri|2003-08-05|Webdav is not preccessing special chars right.    |
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Nor|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42001|New|Cri|2007-03-30|LINUX : Could not set LDAP_OPT_X_TLS to LDAP_OPT_X|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Opn|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|httpd fails to start if log directory does not exi|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43532|Inf|Cri|2007-10-02|Error while compiling Apache 2.2.3 on HPUX        |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44736|New|Cri|2008-04-01|mod_proxy_balancer looses it's mind on reloads.   |
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|New|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45926|Inf|Nor|2008-10-01|Unable to start apache 2.2.9                      |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46054|New|Nor|2008-10-21|Running httpd returns the error "bad user name nob|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46421|New|Maj|2008-12-19|module mod_authz_dbd - doesn't work when multiple |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Nor|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46724|Inf|Cri|2009-02-17|WinXP SP3 - Apache crashes on startup in libapr-1.|
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47241|New|Min|2009-05-22|Error in rewriting with character ':'             |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47289|New|Nor|2009-05-30|Can't build with dynamic libraries on Mac OS 10.4 |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|Inf|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48309|New|Maj|2009-11-30|libapreq2-2.12: "make test" fails at request.t and|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|New|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Nor|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51842|New|Enh|2011-09-18|Suggesting a new action for the Header directive: |
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Enh|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52523|New|Nor|2012-01-25|Headers from mod_expires are wrongly set for redir|
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52756|Inf|Trv|2012-02-24|proxy_html_module LoadModule line not created in h|
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52820|New|Min|2012-03-04|SSLProtocol/SSLProxyProtocol doesn't iterate prope|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52855|Opn|Maj|2012-03-08|mod_ftp does not build against 2.4.x              |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53121|New|Nor|2012-04-22|Confusing documentation, gzip and deflate         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54364|New|Nor|2012-12-31|Add ref to mod_fcgid docs                         |
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54587|Opn|Nor|2013-02-19|LDAPConnectionPoolTimeout does not work in all cas|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55147|New|Nor|2013-06-26|"Header always" w/ cache different in 2.4         |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55420|New|Nor|2013-08-14|Integer underflow in lock timeout computation     |
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55449|New|Maj|2013-08-19|AH01185: worker slotmem_create failed --> slotmem |
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55808|New|Nor|2013-11-21|File integrity verification using MD5 and SHA1    |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|New|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55841|New|Nor|2013-12-04|Misleading news items on bugfix releases ("This ve|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55897|New|Nor|2013-12-17|[PATCH]patch with SO_REUSEPORT support            |
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|Inf|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56035|New|Nor|2014-01-20|Issue with LimitRequestBody                       |
|56040|New|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56226|New|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56241|New|Min|2014-03-10|SNI sends warning upon name not found, RFC 6066 di|
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56687|New|Nor|2014-07-01|ProxySourceAddress failed to bind socket to local |
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56729|New|Reg|2014-07-16|Can't use HTTP 1.1 Keep-Alive with mod_reqtimeout |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|Inf|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56823|New|Nor|2014-08-07|returning 200 status when ap_get_brigade failed   |
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56872|New|Nor|2014-08-19|Small request bodies bypass DeflateInflateLimitReq|
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56898|New|Nor|2014-08-28|Headers in err_headers_out are not returned when a|
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57109|New|Nor|2014-10-17|GPG verification examples are wrong               |
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57120|New|Nor|2014-10-21|Disable SSLv3 by default (POODLE)                 |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57177|New|Nor|2014-11-03|terminated by signal ILL in server/scoreboard.c li|
|57207|New|Nor|2014-11-13|[mod_ssl] Add a way to retrieve email in alternati|
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|New|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57358|New|Nor|2014-12-17|Incorrect If-Match handling                       |
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57375|New|Enh|2014-12-19|Support LibreSSL as an alternative toolkit for mod|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Nor|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57524|New|Nor|2015-02-02|Opcode and other fields calculated wrong in mod_lu|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57694|New|Nor|2015-03-12|Crash using SSL certificate with pathlen constrain|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|New|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57795|Opn|Maj|2015-04-07|mod_proxy_wstunnel sometimes does not connect and |
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|Inf|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
|57868|New|Nor|2015-04-28|SIGSEV when lacking correct DB access permissions |
|57876|New|Reg|2015-04-30|logresolve.exe on any Windows immediately crashes |
|57878|New|Nor|2015-04-30|Using UTF-8 for all languages, and avoiding html-e|
|57895|New|Min|2015-05-05|missing m4a mimeType in mime.types                |
|57911|New|Min|2015-05-09|Rewrite documentation unclear or wrong about what |
|57927|New|Maj|2015-05-13|Segmentation Fault at proxy_util.c:994            |
|57933|New|Min|2015-05-18|apr_port_t returns constant                       |
|57941|New|Nor|2015-05-21|config.status: line 331: syntax error near unexpec|
|57949|New|Enh|2015-05-25|new mod_ssl environment variable SSL_{CLIENT|SERVE|
|57950|New|Nor|2015-05-26|[patch] buildconf change hint in build to newer ap|
|57960|New|Nor|2015-05-27|PUT truncates response body; status_line appears t|
|57968|New|Nor|2015-05-28|SetHandler converts proxy:unix:/path/TO/app to low|
|57976|New|Cri|2015-05-30|Server threads stale when sending 500 status with |
|57978|New|Nor|2015-06-01|unix:/ works with any number of / slashes  except |
|57979|New|Nor|2015-06-01|can not turn change log level for mod_filter      |
|57992|New|Nor|2015-06-03|https://bz.apache.org/bugzilla/token.cgi?t=ADzWKnl|
|57993|New|Nor|2015-06-03|https://bz.apache.org/bugzilla/token.cgi?t=ADzWKnl|
|57996|New|Nor|2015-06-03|Symlinks erroneously not followed when target inod|
|57997|New|Nor|2015-06-03|Threads started during child_init don't block sign|
|57999|New|Nor|2015-06-04|ap_getparents() may remove start slash of uri     |
|58001|New|Enh|2015-06-04|Implement Forwarded header (RFC 7239) to mod_proxy|
|58007|New|Nor|2015-06-06|400 Bad Request with fully qualified domain name o|
+-----+---+---+----------+--------------------------------------------------+
| Total 1504 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-82892-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun  7 11:50:44 2015
Return-Path: <dev-return-82892-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6886817F73
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  7 Jun 2015 11:50:44 +0000 (UTC)
Received: (qmail 65235 invoked by uid 500); 7 Jun 2015 11:50:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65169 invoked by uid 500); 7 Jun 2015 11:50:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65159 invoked by uid 99); 7 Jun 2015 11:50:43 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Jun 2015 11:50:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 636CBCC235
	for <dev@httpd.apache.org>; Sun,  7 Jun 2015 11:50:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.473
X-Spam-Level:
X-Spam-Status: No, score=0.473 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RDNS_DYNAMIC=0.363, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	STOX_REPLY_TYPE=0.212] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id F5ACko2d-flX for <dev@httpd.apache.org>;
	Sun,  7 Jun 2015 11:50:42 +0000 (UTC)
Received: from land10web.com (a80-101-236-247.adsl.xs4all.nl [80.101.236.247])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 28BA842AAA
	for <dev@httpd.apache.org>; Sun,  7 Jun 2015 11:50:42 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1433677849;
	bh=ag7he/UITHjV36hhUjmFPKJ/NGUDLnFeH5p3eC3ViKg=;
	h=From:To:References:In-Reply-To:Subject:Date;
	b=MgqbdnelfMjuJaSzvVWW8NC7YG8SxE/Z1DBmLR6VATR1SeEwF0buhMAr8Oii5Rain
	 /121qP8cmDF1Xqm/Nv6vZjYO5Fr5QYTORCfWhwdNK2MyzUrjMLLdWoqD4mVwrlVF40
	 OQpXyfqCF8PCV9np0+lG85k9Tcf0omyVQBIa66tw=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <A77D978CD5294D82A4D701A9D00F8815@father>
From: "Steffen" <info@apachelounge.com>
To: <dev@httpd.apache.org>
References: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
In-Reply-To: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.13 as GA
Date: Sun, 7 Jun 2015 13:50:13 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

No regression seen on Win32/64 Windows  VC14, VC11.

Note:
mod_status gives:  Server load: -1.00 -1.00 -1.00 , it does not work 
Windows.

-----Original Message----- 
From: Jim Jagielski
Sent: Thursday, June 4, 2015 6:33 PM Newsgroups: gmane.comp.apache.devel
To: httpd
Subject: [VOTE] Release Apache httpd 2.4.13 as GA

The pre-release test tarballs for Apache httpd 2.4.13 can be found
at the usual place:

http://httpd.apache.org/dev/dist/

I'm calling a VOTE on releasing these as Apache httpd 2.4.13 GA.

[ ] +1: Good to go
[ ] +0: meh
[ ] -1: Danger Will Robinson. And why.

Vote will last the normal 72 hrs.

NOTE: The *-deps are only there for convenience.

Thx! 


From dev-return-82893-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun  7 17:20:27 2015
Return-Path: <dev-return-82893-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DA09A18575
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  7 Jun 2015 17:20:27 +0000 (UTC)
Received: (qmail 8654 invoked by uid 500); 7 Jun 2015 17:20:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 8592 invoked by uid 500); 7 Jun 2015 17:20:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 8488 invoked by uid 99); 7 Jun 2015 17:20:26 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 07 Jun 2015 17:20:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id BBEB9C1271
	for <dev@httpd.apache.org>; Sun,  7 Jun 2015 17:20:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.011
X-Spam-Level:
X-Spam-Status: No, score=-0.011 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id WoQRg0cFvav8 for <dev@httpd.apache.org>;
	Sun,  7 Jun 2015 17:20:23 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 2065B42AAA
	for <dev@httpd.apache.org>; Sun,  7 Jun 2015 17:20:22 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t57HKLs9003671
	for <dev@httpd.apache.org>; Sun, 7 Jun 2015 19:20:22 +0200 (CEST)
Message-ID: <55747D55.804@kippdata.de>
Date: Sun, 07 Jun 2015 19:20:21 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: [VOTE] Release Apache httpd 2.4.13 as GA
References: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
In-Reply-To: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

  Am 04.06.2015 um 18:33 schrieb Jim Jagielski:
> The pre-release test tarballs for Apache httpd 2.4.13 can be found
> at the usual place:
>
> 	http://httpd.apache.org/dev/dist/
>
> I'm calling a VOTE on releasing these as Apache httpd 2.4.13 GA.
>
> [X] +1: Good to go
> [ ] +0: meh
> [ ] -1: Danger Will Robinson. And why.
>
> Vote will last the normal 72 hrs.

+1 to release, thanks for RMing.

In short: No regressions found.

Detailed report:

- Sigs and hashes OK
- contents of tarballs identical
- contents of tag and tarballs identical
   except for expected deltas
   (we could cleanup some m4 files in apr-util/xml/expat/conftools
    at the end of buildconf, no regression)

Built on

- Solaris 10 Sparc as 32 Bit Binaries
- SLES 10+11 (64 Bits)
- RHEL 6 (64 Bits)
- FreeBSD 9.1

On FreeBSD 2.4.12 runs on one machine for the ASF. No obvious problems 
showed up.

For all platforms except FreeBSD built

- with default (shared) and static modules
- with module sets none, few, most, all, reallyall and default
   (always mod_privileges disabled)
- using --enable-load-all-modules
- against "included" APR/APU from deps tarball,
   plus external APR/APU 1.5.2/1.5.4

- using external libraries
   - expat 2.1.0
   - pcre 8.37
   - openssl 1.0.1m
   - lua 5.2.4
   - distcache 1.5.1
   - libxml2 2.9.2

- Tool chain:
     - platform gcc except for Solaris
       (gcc 4.1.2 for Solaris 8 and 4.9.2 for Solaris 10)
     - CFLAGS: -O2 -g -Wall -fno-strict-aliasing
               (and -mpcu=v9 on Solaris)

All builds succeeded
   - one compiler warning
server/mpm/event/event.c:1438: warning: 'last' may be used uninitialized 
in this function

Tested for

- Solaris 10 (32), SLES 10+11 (64), RHEL 6 (64)
- MPMs prefork, worker, event
- default (shared) and static modules
- log levels info, debug and trace8
- module set reallyall (121 modules plus MPMs)

The following test failures were seen:

a Test 4 or 5 in t/modules/dav.t:
   Happens for 33 out of 324 runs.
   Creation, modified and now times not in the correct order.
   This seems to be a system issue, all tests done on NFS,
   many tested on virtualized guests.
   Not a regression.

b Various tests in t/apache/expr_string.t: (6, 11, 14, 17, 20 ,23)
   Happens for 65 out of 324 runs (almost all on SLES 10, 6 on RHEL6
   and 2 on Solaris).
   The failure is always on line 68, where the error_log contents
   are checked.
   Not a regression.

c Tests 55-57 of t/modules/cgi.t testing contents of ScriptLog.
   The tests fail for "reallyall" modules.
   Likely similar than what I observed for 2.4.12.
   Fix probably by porting r1651085 from mod_cgi to mod_cgid.
   Not a regression.

On FreeBSD I see the following failures:

t/apache/limits.t                 (Wstat: 0 Tests: 12 Failed: 1)
   Failed test:  8
t/modules/aaa.t                   (Wstat: 0 Tests: 40 Failed: 3)
   Failed tests:  23-24, 27
t/ssl/pr12355.t                   (Wstat: 0 Tests: 10 Failed: 4)
   Failed tests:  3-4, 7-8
t/ssl/pr43738.t                   (Wstat: 0 Tests: 4 Failed: 2)
   Failed tests:  1-2

Since I don't have result from previous releases this is just for 
information.

Regards,

Rainer

From dev-return-82894-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun  8 01:34:15 2015
Return-Path: <dev-return-82894-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DB9D618EDE
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Jun 2015 01:34:15 +0000 (UTC)
Received: (qmail 71424 invoked by uid 500); 8 Jun 2015 01:34:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 71343 invoked by uid 500); 8 Jun 2015 01:34:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 71333 invoked by uid 99); 8 Jun 2015 01:34:15 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Jun 2015 01:34:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 08638182937
	for <dev@httpd.apache.org>; Mon,  8 Jun 2015 01:34:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.88
X-Spam-Level: **
X-Spam-Status: No, score=2.88 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id nwWGkZ6RllWI for <dev@httpd.apache.org>;
	Mon,  8 Jun 2015 01:34:07 +0000 (UTC)
Received: from mail-yk0-f182.google.com (mail-yk0-f182.google.com [209.85.160.182])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 71B8824965
	for <dev@httpd.apache.org>; Mon,  8 Jun 2015 01:34:06 +0000 (UTC)
Received: by ykfl8 with SMTP id l8so46299641ykf.1
        for <dev@httpd.apache.org>; Sun, 07 Jun 2015 18:34:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=H2XWcoSSyx1SWEo6kFkMFAWXxLP91FbjkoCz8JDIlk0=;
        b=U+AO52dZd4CJiNy0hfopiuaKAlBV6JE5QA88r+kmvF0hF6xy8jmZMxQ3QftDWp3T/0
         VK6nduoYM2UtHXIn0UN+jJcFuC/Dh/kh30FIn6VnO/US2x2Qjto1oIUVCZD51ZjJIzCq
         gFmCTcoypzi7hCwrBKFb1NbzoAX6nGIO7bhu2rTzHQud5GPviredjzy45rc4oN5ia1Os
         azs35Oq3MkrzFGgSTADrVpsLcKhR65XNb1SgnZPyuB9o5d7hW2vFhZ7sziuu9pc2B3Ve
         4E+rFcI6ZyUgHQ8LHoDQfMaT5pyxszc9OYGCGJtkdh0yb+z9bAmrvOlSYZ3zaZHl3mr7
         TXMw==
MIME-Version: 1.0
X-Received: by 10.13.219.198 with SMTP id d189mr13201476ywe.61.1433727245519;
 Sun, 07 Jun 2015 18:34:05 -0700 (PDT)
Received: by 10.13.206.195 with HTTP; Sun, 7 Jun 2015 18:34:05 -0700 (PDT)
In-Reply-To: <55747D55.804@kippdata.de>
References: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
	<55747D55.804@kippdata.de>
Date: Sun, 7 Jun 2015 21:34:05 -0400
Message-ID: <CAKUrXK4M5mVd8CDzr9ntGk_G8viaqONFfU9DQyWyyL+m0n270Q@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.13 as GA
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a114fc1582c91c40517f7a3d0

--001a114fc1582c91c40517f7a3d0
Content-Type: text/plain; charset=UTF-8

On Sun, Jun 7, 2015 at 1:20 PM, Rainer Jung <rainer.jung@kippdata.de> wrote:

>  Am 04.06.2015 um 18:33 schrieb Jim Jagielski:
>
>> The pre-release test tarballs for Apache httpd 2.4.13 can be found
>> at the usual place:
>>
>>         http://httpd.apache.org/dev/dist/
>>
>> I'm calling a VOTE on releasing these as Apache httpd 2.4.13 GA.
>>
>> [X] +1: Good to go
>> [ ] +0: meh
>> [ ] -1: Danger Will Robinson. And why.
>>
>> Vote will last the normal 72 hrs.
>>
>
> +1 to release, thanks for RMing.
>
> In short: No regressions found.
>
> Detailed report:
>
> - Sigs and hashes OK
> - contents of tarballs identical
> - contents of tag and tarballs identical
>   except for expected deltas
>   (we could cleanup some m4 files in apr-util/xml/expat/conftools
>    at the end of buildconf, no regression)
>
> Built on
>
> - Solaris 10 Sparc as 32 Bit Binaries
> - SLES 10+11 (64 Bits)
> - RHEL 6 (64 Bits)
> - FreeBSD 9.1
>
> On FreeBSD 2.4.12 runs on one machine for the ASF. No obvious problems
> showed up.
>
> For all platforms except FreeBSD built
>
> - with default (shared) and static modules
> - with module sets none, few, most, all, reallyall and default
>   (always mod_privileges disabled)
> - using --enable-load-all-modules
> - against "included" APR/APU from deps tarball,
>   plus external APR/APU 1.5.2/1.5.4
>
> - using external libraries
>   - expat 2.1.0
>   - pcre 8.37
>   - openssl 1.0.1m
>   - lua 5.2.4
>   - distcache 1.5.1
>   - libxml2 2.9.2
>
> - Tool chain:
>     - platform gcc except for Solaris
>       (gcc 4.1.2 for Solaris 8 and 4.9.2 for Solaris 10)
>     - CFLAGS: -O2 -g -Wall -fno-strict-aliasing
>               (and -mpcu=v9 on Solaris)
>
> All builds succeeded
>   - one compiler warning
> server/mpm/event/event.c:1438: warning: 'last' may be used uninitialized
> in this function
>
> Tested for
>
> - Solaris 10 (32), SLES 10+11 (64), RHEL 6 (64)
> - MPMs prefork, worker, event
> - default (shared) and static modules
> - log levels info, debug and trace8
> - module set reallyall (121 modules plus MPMs)
>
> The following test failures were seen:
>
> a Test 4 or 5 in t/modules/dav.t:
>   Happens for 33 out of 324 runs.
>   Creation, modified and now times not in the correct order.
>   This seems to be a system issue, all tests done on NFS,
>   many tested on virtualized guests.
>   Not a regression.
>
> b Various tests in t/apache/expr_string.t: (6, 11, 14, 17, 20 ,23)
>   Happens for 65 out of 324 runs (almost all on SLES 10, 6 on RHEL6
>   and 2 on Solaris).
>   The failure is always on line 68, where the error_log contents
>   are checked.
>   Not a regression.
>
> c Tests 55-57 of t/modules/cgi.t testing contents of ScriptLog.
>   The tests fail for "reallyall" modules.
>

Are both cgi and cgid loaded in the test config?  I saw 55-57 fail in that
situation.


>   Likely similar than what I observed for 2.4.12.
>   Fix probably by porting r1651085 from mod_cgi to mod_cgid.
>   Not a regression.
>
> On FreeBSD I see the following failures:
>
> t/apache/limits.t                 (Wstat: 0 Tests: 12 Failed: 1)
>   Failed test:  8
>

10.1: limits.t hangs for me after testing 7/12 if I have the kernel accept
filter loaded; passes fine otherwise

(presumably "hang" is just temporary, until the testcase is timed out)



> t/modules/aaa.t                   (Wstat: 0 Tests: 40 Failed: 3)
>   Failed tests:  23-24, 27
>

I don't see that with or without accept filter loaded


> t/ssl/pr12355.t                   (Wstat: 0 Tests: 10 Failed: 4)
>   Failed tests:  3-4, 7-8
>

ditto (tested only with accept filter unloaded)


> t/ssl/pr43738.t                   (Wstat: 0 Tests: 4 Failed: 2)
>   Failed tests:  1-2
>

ditto (tested only with accept filter unloaded)

My overall results with both prefork and event, no accept filter:

Test Summary Report
-------------------
t/ssl/pr12355.t                   (Wstat: 0 Tests: 10 Failed: 4)
  Failed tests:  3-4, 7-8
t/ssl/pr43738.t                   (Wstat: 0 Tests: 4 Failed: 2)
  Failed tests:  1-2

I don't have a Lua lib installed; I don't see any other skips but PHP and
SSLv2.


> Since I don't have result from previous releases this is just for
> information.
>

2.4.12 on 10.1, no accept filter, event or prefork:

Test Summary Report
-------------------
t/ssl/pr12355.t                   (Wstat: 0 Tests: 10 Failed: 4)
  Failed tests:  3-4, 7-8
t/ssl/pr43738.t                   (Wstat: 0 Tests: 4 Failed: 2)
  Failed tests:  1-2

If the kernel accept filter module is loaded, limits.t hangs.


[X] +1: Good to go


> Regards,
>
> Rainer
>



-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a114fc1582c91c40517f7a3d0
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On S=
un, Jun 7, 2015 at 1:20 PM, Rainer Jung <span dir=3D"ltr">&lt;<a href=3D"ma=
ilto:rainer.jung@kippdata.de" target=3D"_blank">rainer.jung@kippdata.de</a>=
&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px=
 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);bor=
der-left-style:solid;padding-left:1ex"><span class=3D"">=C2=A0Am 04.06.2015=
 um 18:33 schrieb Jim Jagielski:<br>
</span><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;=
border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:=
solid;padding-left:1ex"><span class=3D"">
The pre-release test tarballs for Apache httpd 2.4.13 can be found<br>
at the usual place:<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 <a href=3D"http://httpd.apache.org/dev/dist/" t=
arget=3D"_blank">http://httpd.apache.org/dev/dist/</a><br>
<br>
I&#39;m calling a VOTE on releasing these as Apache httpd 2.4.13 GA.<br>
<br></span>
[X] +1: Good to go<span class=3D""><br>
[ ] +0: meh<br>
[ ] -1: Danger Will Robinson. And why.<br>
<br>
Vote will last the normal 72 hrs.<br>
</span></blockquote>
<br>
+1 to release, thanks for RMing.<br>
<br>
In short: No regressions found.<br>
<br>
Detailed report:<br>
<br>
- Sigs and hashes OK<br>
- contents of tarballs identical<br>
- contents of tag and tarballs identical<br>
=C2=A0 except for expected deltas<br>
=C2=A0 (we could cleanup some m4 files in apr-util/xml/expat/conftools<br>
=C2=A0 =C2=A0at the end of buildconf, no regression)<br>
<br>
Built on<br>
<br>
- Solaris 10 Sparc as 32 Bit Binaries<br>
- SLES 10+11 (64 Bits)<br>
- RHEL 6 (64 Bits)<br>
- FreeBSD 9.1<br>
<br>
On FreeBSD 2.4.12 runs on one machine for the ASF. No obvious problems show=
ed up.<br>
<br>
For all platforms except FreeBSD built<br>
<br>
- with default (shared) and static modules<br>
- with module sets none, few, most, all, reallyall and default<br>
=C2=A0 (always mod_privileges disabled)<br>
- using --enable-load-all-modules<br>
- against &quot;included&quot; APR/APU from deps tarball,<br>
=C2=A0 plus external APR/APU 1.5.2/1.5.4<br>
<br>
- using external libraries<br>
=C2=A0 - expat 2.1.0<br>
=C2=A0 - pcre 8.37<br>
=C2=A0 - openssl 1.0.1m<br>
=C2=A0 - lua 5.2.4<br>
=C2=A0 - distcache 1.5.1<br>
=C2=A0 - libxml2 2.9.2<br>
<br>
- Tool chain:<br>
=C2=A0 =C2=A0 - platform gcc except for Solaris<br>
=C2=A0 =C2=A0 =C2=A0 (gcc 4.1.2 for Solaris 8 and 4.9.2 for Solaris 10)<br>
=C2=A0 =C2=A0 - CFLAGS: -O2 -g -Wall -fno-strict-aliasing<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 (and -mpcu=3Dv9 on Solaris=
)<br>
<br>
All builds succeeded<br>
=C2=A0 - one compiler warning<br>
server/mpm/event/event.c:1438: warning: &#39;last&#39; may be used uninitia=
lized in this function<br>
<br>
Tested for<br>
<br>
- Solaris 10 (32), SLES 10+11 (64), RHEL 6 (64)<br>
- MPMs prefork, worker, event<br>
- default (shared) and static modules<br>
- log levels info, debug and trace8<br>
- module set reallyall (121 modules plus MPMs)<br>
<br>
The following test failures were seen:<br>
<br>
a Test 4 or 5 in t/modules/dav.t:<br>
=C2=A0 Happens for 33 out of 324 runs.<br>
=C2=A0 Creation, modified and now times not in the correct order.<br>
=C2=A0 This seems to be a system issue, all tests done on NFS,<br>
=C2=A0 many tested on virtualized guests.<br>
=C2=A0 Not a regression.<br>
<br>
b Various tests in t/apache/expr_string.t: (6, 11, 14, 17, 20 ,23)<br>
=C2=A0 Happens for 65 out of 324 runs (almost all on SLES 10, 6 on RHEL6<br=
>
=C2=A0 and 2 on Solaris).<br>
=C2=A0 The failure is always on line 68, where the error_log contents<br>
=C2=A0 are checked.<br>
=C2=A0 Not a regression.<br>
<br>
c Tests 55-57 of t/modules/cgi.t testing contents of ScriptLog.<br>
=C2=A0 The tests fail for &quot;reallyall&quot; modules.<br></blockquote><d=
iv><br></div><div>Are both cgi and cgid loaded in the test config?=C2=A0 I =
saw 55-57 fail in that situation.</div><div>=C2=A0</div><blockquote class=
=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;bo=
rder-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex">
=C2=A0 Likely similar than what I observed for 2.4.12.<br>
=C2=A0 Fix probably by porting r1651085 from mod_cgi to mod_cgid.<br>
=C2=A0 Not a regression.<br>
<br>
On FreeBSD I see the following failures:<br>
<br>
t/apache/limits.t=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0(Wstat: 0 Tests: 12 Failed: 1)<br>
=C2=A0 Failed test:=C2=A0 8<br></blockquote><div><br></div><div>10.1: limit=
s.t hangs for me after testing 7/12 if I have the kernel accept filter load=
ed; passes fine otherwise</div><div><br></div><div>(presumably &quot;hang&q=
uot; is just temporary, until the testcase is timed out)</div><div><br></di=
v><div>=C2=A0</div><blockquote class=3D"gmail_quote" style=3D"margin:0px 0p=
x 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border=
-left-style:solid;padding-left:1ex">
t/modules/aaa.t=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0(Wstat: 0 Tests: 40 Failed: 3)<br>
=C2=A0 Failed tests:=C2=A0 23-24, 27<br></blockquote><div><br></div><div>I =
don&#39;t see that with or without accept filter loaded</div><div>=C2=A0</d=
iv><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;bord=
er-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:soli=
d;padding-left:1ex">
t/ssl/pr12355.t=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0(Wstat: 0 Tests: 10 Failed: 4)<br>
=C2=A0 Failed tests:=C2=A0 3-4, 7-8<br></blockquote><div><br></div><div>dit=
to (tested only with accept filter unloaded)</div><div>=C2=A0</div><blockqu=
ote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-wid=
th:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-l=
eft:1ex">
t/ssl/pr43738.t=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0(Wstat: 0 Tests: 4 Failed: 2)<br>
=C2=A0 Failed tests:=C2=A0 1-2<br></blockquote><div><br></div><div>ditto=C2=
=A0(tested only with=C2=A0accept filter unloaded)</div><div><br></div><div>=
My overall results with both prefork and event, no accept filter:<br></div>=
<div><br></div><div><div>Test Summary Report</div><div>-------------------<=
/div><div>t/ssl/pr12355.t =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 (Wstat: 0 Tests: 10 Failed: 4)<br></div><div>=C2=A0 Failed te=
sts: =C2=A03-4, 7-8</div><div>t/ssl/pr43738.t =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 (Wstat: 0 Tests: 4 Failed: 2)</div><div>=
=C2=A0 Failed tests: =C2=A01-2</div></div><div><br></div><div>I don&#39;t h=
ave a Lua lib installed; I don&#39;t see any other skips but PHP and SSLv2.=
</div><div><br></div><blockquote class=3D"gmail_quote" style=3D"margin:0px =
0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);bord=
er-left-style:solid;padding-left:1ex">
<br>
Since I don&#39;t have result from previous releases this is just for infor=
mation.<br></blockquote><div><br></div><div>2.4.12 on 10.1, no accept filte=
r, event or prefork:</div><div><br></div><div><div>Test Summary Report</div=
><div>-------------------</div><div>t/ssl/pr12355.t =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 (Wstat: 0 Tests: 10 Failed: 4)</d=
iv><div>=C2=A0 Failed tests: =C2=A03-4, 7-8</div><div>t/ssl/pr43738.t =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 (Wstat: 0 Tests=
: 4 Failed: 2)</div><div>=C2=A0 Failed tests: =C2=A01-2</div></div><div><br=
></div><div>If the kernel accept filter module is loaded, limits.t hangs.</=
div><div><br></div><div><br></div><div>[X] +1: Good to go<br></div><div><br=
></div><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;=
border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:=
solid;padding-left:1ex">
<br>
Regards,<br>
<br>
Rainer<br>
</blockquote></div><br><br clear=3D"all"><div><br></div>-- <br><div class=
=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien..=
.<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyham=
mock.com/</a><div><br></div></div></div>
</div></div>

--001a114fc1582c91c40517f7a3d0--

From dev-return-82895-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun  8 05:12:46 2015
Return-Path: <dev-return-82895-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 35FB917512
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Jun 2015 05:12:46 +0000 (UTC)
Received: (qmail 28373 invoked by uid 500); 8 Jun 2015 05:12:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28302 invoked by uid 500); 8 Jun 2015 05:12:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28292 invoked by uid 99); 8 Jun 2015 05:12:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Jun 2015 05:12:40 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rainer.jung@kippdata.de designates 195.227.30.149 as permitted sender)
Received: from [195.227.30.149] (HELO mailserver.kippdata.de) (195.227.30.149)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Jun 2015 05:10:26 +0000
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t585CDJ1007718
	for <dev@httpd.apache.org>; Mon, 8 Jun 2015 07:12:14 +0200 (CEST)
Message-ID: <5575242D.2040001@kippdata.de>
Date: Mon, 08 Jun 2015 07:12:13 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: [VOTE] Release Apache httpd 2.4.13 as GA
References: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>	<55747D55.804@kippdata.de> <CAKUrXK4M5mVd8CDzr9ntGk_G8viaqONFfU9DQyWyyL+m0n270Q@mail.gmail.com>
In-Reply-To: <CAKUrXK4M5mVd8CDzr9ntGk_G8viaqONFfU9DQyWyyL+m0n270Q@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Am 08.06.2015 um 03:34 schrieb Jeff Trawick:
> On Sun, Jun 7, 2015 at 1:20 PM, Rainer Jung <rainer.jung@kippdata.de
> <mailto:rainer.jung@kippdata.de>> wrote:
...
>     On FreeBSD I see the following failures:
>
>     t/apache/limits.t                 (Wstat: 0 Tests: 12 Failed: 1)
>        Failed test:  8
>
>
> 10.1: limits.t hangs for me after testing 7/12 if I have the kernel
> accept filter loaded; passes fine otherwise
>
> (presumably "hang" is just temporary, until the testcase is timed out)

Correct, it hangs for me as well, but just waiting long enough the test 
times our and proceeds.

>     t/modules/aaa.t                   (Wstat: 0 Tests: 40 Failed: 3)
>        Failed tests:  23-24, 27
>
>
> I don't see that with or without accept filter loaded

OK, I analyzed that: my test install failed to install HTTP::Cookies. 
That resulted in a failure to reset the UA in t/modules/aaa.t when 
switching to form based auth checks. The old UA still had redirect 
support active and thus the test failed, because it tested conditions on 
the wrong response. The failure to create a new UA was hidden, because 
Apache-Test/lib/Apache/TestRequest.pm uses

     172     eval { $UA ||= __PACKAGE__->new(%$args); };

and the eval hides the error (likely on purpose for other situations).

>     t/ssl/pr12355.t                   (Wstat: 0 Tests: 10 Failed: 4)
>        Failed tests:  3-4, 7-8
>
>
> ditto (tested only with accept filter unloaded)
>
>     t/ssl/pr43738.t                   (Wstat: 0 Tests: 4 Failed: 2)
>        Failed tests:  1-2
>
>
> ditto (tested only with accept filter unloaded)

The failures have to do with renegotiations on POST. I see

[Mon Jun 08 05:00:10.525918 2015] [ssl:trace4] [pid 41020:tid 
34396698624] ssl_engine_io.c(2059): [client 127.0.0.1:57206] OpenSSL: 
I/O error, 5 bytes expected to read on BIO#80
2369be0 [mem: 813817003]
[Mon Jun 08 05:00:10.525934 2015] [ssl:debug] [pid 41020:tid 
34396698624] ssl_engine_kernel.c(802): [client 127.0.0.1:57206] AH02260: 
Performing full renegotiation: complete handshake protocol (client does 
support secure renegotiation)

then a reneg handshake but finally:

[Mon Jun 08 05:00:10.527224 2015] [ssl:error] [pid 41020:tid 
34396698624] [client 127.0.0.1:57206] AH02261: Re-negotiation handshake 
failed
[Mon Jun 08 05:00:10.527250 2015] [ssl:error] [pid 41020:tid 
34396698624] SSL Library Error: error:1408A0C1:SSL 
routines:SSL3_GET_CLIENT_HELLO:no shared cipher -- Too restrictive 
SSLCipherSuite or using DSA server certificate?

The config for the test case wants

SSLCipherSuite RC4-MD5

That it fails is a bit strange, because the https communication in 
principle works and the OpenSSL used does support that cipher.

Rainer

From dev-return-82896-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun  8 13:43:34 2015
Return-Path: <dev-return-82896-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3909918606
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Jun 2015 13:43:34 +0000 (UTC)
Received: (qmail 44755 invoked by uid 500); 8 Jun 2015 13:43:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 44693 invoked by uid 500); 8 Jun 2015 13:43:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 44682 invoked by uid 99); 8 Jun 2015 13:43:33 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Jun 2015 13:43:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 627BCC095F
	for <dev@httpd.apache.org>; Mon,  8 Jun 2015 13:43:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id x6PjMexz4NP7 for <dev@httpd.apache.org>;
	Mon,  8 Jun 2015 13:43:32 +0000 (UTC)
Received: from mail-ig0-f171.google.com (mail-ig0-f171.google.com [209.85.213.171])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 10B6424965
	for <dev@httpd.apache.org>; Mon,  8 Jun 2015 13:43:32 +0000 (UTC)
Received: by igbhj9 with SMTP id hj9so59511109igb.1
        for <dev@httpd.apache.org>; Mon, 08 Jun 2015 06:43:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=ug6arA0BYfZRcfDXFLaXboVArIWnpS2Zn8N8X4D/bnk=;
        b=aWBYWLSX6BG+WCRZNXzbuFfXLL6eNf/9SSPe5cpThzEkvdOyQFp+4JQLlSHd6szpDK
         YxEVlLYE53iLsozL0jqnjUoCQnergB0CTNzmsMJBmFMlOTDgUdwbncgCOfsl2IcUj3Fy
         Rtj290bbwI5vV3JBXVgO12QrBs25Q4O/DjG4WFBAiOlEYhTDk1cL0Bg6WnkMOjfQmFtG
         eJhSKkcNx1p+P87OeK0VLaHIi02L9X6zVqsRq26A03CaSum8LkWcaL4X8Gc0vvxm7oC5
         Uf1pTSyeyPUlJIANu8rmI7c8sxG36Ts6J9flvtR5vBn6EuCe9nST49A3rcc7vUsAzXcS
         h7DA==
MIME-Version: 1.0
X-Received: by 10.107.15.149 with SMTP id 21mr21165795iop.44.1433771005442;
 Mon, 08 Jun 2015 06:43:25 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Mon, 8 Jun 2015 06:43:25 -0700 (PDT)
Date: Mon, 8 Jun 2015 15:43:25 +0200
Message-ID: <CAKQ1sVNvy2q60=V5cHcC+dBbC+xB296sfvH8fLiyvE1mGTJ6sQ@mail.gmail.com>
Subject: RFC 7540 (HTTP/2) wrt reusable connections and SNI
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

It was raised by Stefan Eissing in [1] that HTTP/2 (not surprisingly)
encourages UA/clients to reuse established connections even for
differents hostnames, provided they "resolve to the same IP address
and wildcard certs or matching alternate names in the certificate to
match".

This obviously is not compatible with our strict checking of the SNI
against the Host header...

And I also fail to see how this will help servers with different
(configured) SSL parameters (like SSLProtocol,
SSLVerify{Client,Depth}, SSLCA*, ...), some of which cannot be
renegotiated "due to current limitations in OpenSSL" according to the
comment in the corresponding mod_ssl code.

What's the point of SNI if it can be used to select the correct vhost
before the handshake (modulo the port...), but TLS must possibly be
renegotiated later for subsequent requests??

Thoughts?

[1] https://bz.apache.org/bugzilla/show_bug.cgi?id=58007#c9

From dev-return-82897-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun  8 13:57:13 2015
Return-Path: <dev-return-82897-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7AD7A1866D
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Jun 2015 13:57:13 +0000 (UTC)
Received: (qmail 64748 invoked by uid 500); 8 Jun 2015 13:57:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64664 invoked by uid 500); 8 Jun 2015 13:57:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64653 invoked by uid 99); 8 Jun 2015 13:57:09 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Jun 2015 13:57:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 6BD77CC78B
	for <dev@httpd.apache.org>; Mon,  8 Jun 2015 13:57:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.879
X-Spam-Level: **
X-Spam-Status: No, score=2.879 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 06jhMryCBoj7 for <dev@httpd.apache.org>;
	Mon,  8 Jun 2015 13:57:09 +0000 (UTC)
Received: from mail-yk0-f174.google.com (mail-yk0-f174.google.com [209.85.160.174])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id ACBCD27621
	for <dev@httpd.apache.org>; Mon,  8 Jun 2015 13:57:08 +0000 (UTC)
Received: by yken206 with SMTP id n206so52264210yke.2
        for <dev@httpd.apache.org>; Mon, 08 Jun 2015 06:57:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :content-type;
        bh=xIo/g3RE6Ji4k+uXZQgUlIKOGsv633G0g/uuCsQWT4Q=;
        b=hWPf2K0icGDeDOldkl4AgUjJ5W6xTZeKOf5mC/uvfepXIP0ZKWSgzVsRWG45a/hGWM
         jdezXSMs7kqi4SBtCBVsBpFs3PclK08rCC5T+83tHm29bSUQi+1+8GzHjOMFKhJvrWq2
         zZ5nzwbeM07EjrfgJt7u04WfsmJ/A3JDOCas1EG5VoJPmRvafcNj5n3cAIN9v9FkjZde
         HjZoshdort9UXtE/YZ108fEbJPuvRwncHTfuInwDcF9poAVGY6BhBkmN3wZAIxlyyHTL
         VcF/mgCksbtnFDB98geDPV8Ax4RMRghwCHVDqLJfw0d1oaWrg4IHo+NODPvF2enEy0af
         aoWQ==
X-Received: by 10.170.111.205 with SMTP id d196mr18710169ykb.31.1433771827687;
 Mon, 08 Jun 2015 06:57:07 -0700 (PDT)
MIME-Version: 1.0
References: <CAKQ1sVNvy2q60=V5cHcC+dBbC+xB296sfvH8fLiyvE1mGTJ6sQ@mail.gmail.com>
In-Reply-To: <CAKQ1sVNvy2q60=V5cHcC+dBbC+xB296sfvH8fLiyvE1mGTJ6sQ@mail.gmail.com>
From: Eric Covener <covener@gmail.com>
Date: Mon, 08 Jun 2015 13:56:57 +0000
Message-ID: <CALK=YjMZtL1cL=KbA_mE7LUGUJUzss6zZAqtPFxmjp408PW+4g@mail.gmail.com>
Subject: Re: RFC 7540 (HTTP/2) wrt reusable connections and SNI
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a1137a46c7a77db0518020453

--001a1137a46c7a77db0518020453
Content-Type: text/plain; charset=UTF-8

>
> What's the point of SNI if it can be used to select the correct vhost
> before the handshake (modulo the port...), but TLS must possibly be
> renegotiated later for subsequent requests?
>

In configs that use separate certificates, it gets you the correct one, and
these are n/a to the coalescing problem

In configs that use the same certificate, I guess it gets you slightly
different TLS parameters.  If you use HTTP/2, you'll have to forego these
and per-dir renegotiations.

Maybe the latter should just be deprecated, it seems like they cause
constant problems

--001a1137a46c7a77db0518020453
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_quote"><blockquote class=3D"gmail_quot=
e" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">=
What&#39;s the point of SNI if it can be used to select the correct vhost<b=
r>
before the handshake (modulo the port...), but TLS must possibly be<br>
renegotiated later for subsequent requests?<br></blockquote><div><br>In con=
figs that use separate certificates, it gets you the correct one, and these=
 are n/a to the coalescing problem<br><br>In configs that use the same cert=
ificate, I guess it gets you slightly different TLS parameters.=C2=A0 If yo=
u use HTTP/2, you&#39;ll have to forego these and per-dir renegotiations. =
=C2=A0<br><br>Maybe the latter should just be deprecated, it seems like the=
y cause constant problems<br><br><br></div></div></div>

--001a1137a46c7a77db0518020453--

From dev-return-82898-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun  8 15:40:18 2015
Return-Path: <dev-return-82898-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E9EF518AB5
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Jun 2015 15:40:17 +0000 (UTC)
Received: (qmail 10878 invoked by uid 500); 8 Jun 2015 15:40:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10816 invoked by uid 500); 8 Jun 2015 15:40:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10806 invoked by uid 99); 8 Jun 2015 15:40:17 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Jun 2015 15:40:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 979E3C0944
	for <dev@httpd.apache.org>; Mon,  8 Jun 2015 15:40:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.662
X-Spam-Level: ***
X-Spam-Status: No, score=3.662 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_MSPIKE_BL=0.01,
	RCVD_IN_MSPIKE_L3=2.999, SPF_NEUTRAL=0.652, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id fIjlWz03IQAf for <dev@httpd.apache.org>;
	Mon,  8 Jun 2015 15:40:08 +0000 (UTC)
Received: from resqmta-ch2-09v.sys.comcast.net (resqmta-ch2-09v.sys.comcast.net [69.252.207.41])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id C239727621
	for <dev@httpd.apache.org>; Mon,  8 Jun 2015 15:40:07 +0000 (UTC)
Received: from resomta-ch2-11v.sys.comcast.net ([69.252.207.107])
	by resqmta-ch2-09v.sys.comcast.net with comcast
	id drfg1q0042Ka2Q501rg1oe; Mon, 08 Jun 2015 15:40:01 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-11v.sys.comcast.net with comcast
	id drg01q0061cCKD901rg04g; Mon, 08 Jun 2015 15:40:01 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: [VOTE] Release Apache httpd 2.4.13 as GA
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
Date: Mon, 8 Jun 2015 11:39:59 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <780DF1B4-4ED3-4F78-A98A-8966D9848002@jaguNET.com>
References: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1433778001;
	bh=OFVrC+SsXDCni8AN4OSGz5guVAUgmr+qnvS3pi4ZeN8=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=NpErH0yxqLzhTLfa6rzJMRBRHPegTCvfFj2xlDf8GzgmuJrZ++NOHBtb0Xpi6DmCP
	 lvkkx7SPkFzKHazvoYX2RxWUBymL/GHiUEfxDO8zTWcna1vNuNTFT3aZRB9cn6UlY7
	 xrDtTuvcwcz3a7hKJNc5YUnC+8C+oed8vgCgwnPqWX4BdLlwLYPHa2LrP68QVqjF2x
	 reCaxXNHhwua1TEr1KZ5RfTxzG9LL7zPC6PMT9EnDxmm3pj1mHcjpCtvnATq52TBA6
	 ZTgvMnXh3cX86FKLlBitoym5FqFY0FgUpZm/9OEMJpCAtP8SvFgFD9ILrgzgP+nt01
	 NGiitL9xLDGNQ==


> On Jun 4, 2015, at 12:33 PM, Jim Jagielski <jim@jaguNET.com> wrote:
> 
> The pre-release test tarballs for Apache httpd 2.4.13 can be found
> at the usual place:
> 
> 	http://httpd.apache.org/dev/dist/
> 
> I'm calling a VOTE on releasing these as Apache httpd 2.4.13 GA.
> 
> [X] +1: Good to go

Fed 20, x86_64
CentOS 6, x86_64
OS X 10.10.3, , x86_64
FreeBSD 9, x86_64


From dev-return-82899-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun  8 16:14:47 2015
Return-Path: <dev-return-82899-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2D46C18CE9
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Jun 2015 16:14:47 +0000 (UTC)
Received: (qmail 3204 invoked by uid 500); 8 Jun 2015 16:14:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3131 invoked by uid 500); 8 Jun 2015 16:14:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3121 invoked by uid 99); 8 Jun 2015 16:14:46 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Jun 2015 16:14:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 23852C095F
	for <dev@httpd.apache.org>; Mon,  8 Jun 2015 16:14:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id FqXTjCdeeDG2 for <dev@httpd.apache.org>;
	Mon,  8 Jun 2015 16:14:37 +0000 (UTC)
Received: from mail-ig0-f173.google.com (mail-ig0-f173.google.com [209.85.213.173])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 2BA5E2761D
	for <dev@httpd.apache.org>; Mon,  8 Jun 2015 16:14:37 +0000 (UTC)
Received: by igbhj9 with SMTP id hj9so63181269igb.1
        for <dev@httpd.apache.org>; Mon, 08 Jun 2015 09:13:51 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=F6BN5JTZMIAlfgEeINGQyxepKr51SIcHifUBxqJoV6A=;
        b=DJllYfEabAf9M7Jw9HUB+0K5iHP83kkkVQy9NNETp/qsVpIAE4o+OriFgToMOD+gGA
         wQ7m1NqmcEbPvJUe2FWJpuFmruSoGiRi9dvfyMt5I/tJ88VFnIvULiTSJe3QV/1xNsHP
         guL5DhB45Faf7Qds+2hFmfM/7lspXF+QU0XVnQzHJHb0Z+PrysSUhyZ3Ab+VljWXU/tt
         tf6lL3kqn37FRMWjlvlOsXljua+HHhpts5q+NRuAUbasDsTO2u7RrEPjbkLH6pWCSC4w
         d8jzwjtNqruOlxnsh3BF2JExzTpU+QhEgI5QJ6QVvgRUmKgjgtGyfr67S5gyC0/vdCx8
         PWpA==
X-Gm-Message-State: ALoCoQmvvpGsFkFokPwVNI1ta1RYbXtXsmS58gvNKh1N48qARFYCuZg9tpHwFj06jQI7kd/Yz/sj
MIME-Version: 1.0
X-Received: by 10.42.144.131 with SMTP id b3mr24528062icv.35.1433780031518;
 Mon, 08 Jun 2015 09:13:51 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Mon, 8 Jun 2015 09:13:51 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
References: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com>
Date: Mon, 8 Jun 2015 11:13:51 -0500
Message-ID: <CACsi251p7RmnEBieV+fPPXTO4Ta-JSQnvt2L6xBLdYk2FcV_2w@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.13 as GA
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=90e6ba1efd28772b37051803ed1c

--90e6ba1efd28772b37051803ed1c
Content-Type: text/plain; charset=UTF-8

On Thu, Jun 4, 2015 at 11:33 AM, Jim Jagielski <jim@jagunet.com> wrote:

> The pre-release test tarballs for Apache httpd 2.4.13 can be found
> at the usual place:
>
>         http://httpd.apache.org/dev/dist/
>
> I'm calling a VOTE on releasing these as Apache httpd 2.4.13 GA.
>
> [X] -1: Danger Will Robinson. And why.
>

httpd project policies prevent me from explaining "why", which has been
explained in confidence.  This is simply a vote, releases don't get 'vetos'.

--90e6ba1efd28772b37051803ed1c
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
hu, Jun 4, 2015 at 11:33 AM, Jim Jagielski <span dir=3D"ltr">&lt;<a href=3D=
"mailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt;</span> w=
rote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;borde=
r-left:1px #ccc solid;padding-left:1ex">The pre-release test tarballs for A=
pache httpd 2.4.13 can be found<br>
at the usual place:<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 <a href=3D"http://httpd.apache.org/dev/dist/" t=
arget=3D"_blank">http://httpd.apache.org/dev/dist/</a><br>
<br>
I&#39;m calling a VOTE on releasing these as Apache httpd 2.4.13 GA.<br>
<br>[X] -1: Danger Will Robinson. And why.<br></blockquote><div><br></div><=
div>httpd project policies prevent me from explaining &quot;why&quot;, whic=
h has been=C2=A0</div><div>explained in confidence.=C2=A0 This is simply a =
vote, releases don&#39;t get &#39;vetos&#39;.</div><div><br></div></div></d=
iv></div>

--90e6ba1efd28772b37051803ed1c--

From dev-return-82900-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun  8 16:58:49 2015
Return-Path: <dev-return-82900-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B7E9518EB6
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Jun 2015 16:58:49 +0000 (UTC)
Received: (qmail 6387 invoked by uid 500); 8 Jun 2015 16:58:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6312 invoked by uid 500); 8 Jun 2015 16:58:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6302 invoked by uid 99); 8 Jun 2015 16:58:43 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Jun 2015 16:58:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 01E17CC86C
	for <dev@httpd.apache.org>; Mon,  8 Jun 2015 16:58:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.663
X-Spam-Level:
X-Spam-Status: No, score=0.663 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_MSPIKE_BL=0.01,
	RCVD_IN_MSPIKE_L3=0.001, SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id eFKW---4Xtlu for <dev@httpd.apache.org>;
	Mon,  8 Jun 2015 16:58:36 +0000 (UTC)
Received: from resqmta-ch2-06v.sys.comcast.net (resqmta-ch2-06v.sys.comcast.net [69.252.207.38])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 3C810275E9
	for <dev@httpd.apache.org>; Mon,  8 Jun 2015 16:58:36 +0000 (UTC)
Received: from resomta-ch2-13v.sys.comcast.net ([69.252.207.109])
	by resqmta-ch2-06v.sys.comcast.net with comcast
	id dsxN1q0062N9P4d01syVlv; Mon, 08 Jun 2015 16:58:29 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-13v.sys.comcast.net with comcast
	id dsyU1q00j1cCKD901syV2M; Mon, 08 Jun 2015 16:58:29 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: [VOTE] Release Apache httpd 2.4.13 as GA
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CACsi251p7RmnEBieV+fPPXTO4Ta-JSQnvt2L6xBLdYk2FcV_2w@mail.gmail.com>
Date: Mon, 8 Jun 2015 12:58:28 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <48997CFC-3161-4EEE-90B0-A86F6B10A487@jaguNET.com>
References: <90A5B082-9A20-419A-92DC-C16AEA74A7E6@jaguNET.com> <CACsi251p7RmnEBieV+fPPXTO4Ta-JSQnvt2L6xBLdYk2FcV_2w@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1433782709;
	bh=8vkjtsZ9B+LAbdlAgjuEFjhWjwTb8QjmXDWb3NalOq8=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=MEhgLU71BhnBjjVMIlJ40tL+ZSEQ2n4VaO/NSEBDx8j4q8GO/bqm5iHIDTTlT37VM
	 /W8/uolgw0dcaqemcBM2898bRLlakGVFVzWiDzCyolXvifbfi3HcntD4TQBO12Tcls
	 RFa4S4kWrQDeB17KBPicUTr8u46265UB1UtZFMrC7pmtNOxlIc2gYqHfSO/DCy4dKO
	 u5CPpkSKCG1nIr2329LaiVJb+mqJe9fVhHbsYS1a9LRM+2AhEOdShx630kvgD1s8Qn
	 6COR9wK+DpxJRmMoARksykSyUjpbvM0gsLMAky7p9zt7kbGrT/ja1B+9NnXoHnf6Lp
	 BctBScK3dVPHw==

Due to some possible last-minute changes, I am REVOKING
this VOTE.

From dev-return-82901-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun  8 17:18:58 2015
Return-Path: <dev-return-82901-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 805EB18FCC
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  8 Jun 2015 17:18:58 +0000 (UTC)
Received: (qmail 58433 invoked by uid 500); 8 Jun 2015 17:18:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58354 invoked by uid 500); 8 Jun 2015 17:18:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58343 invoked by uid 99); 8 Jun 2015 17:18:57 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 08 Jun 2015 17:18:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 7B5A8181A3C
	for <dev@httpd.apache.org>; Mon,  8 Jun 2015 17:18:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.999
X-Spam-Level: **
X-Spam-Status: No, score=2.999 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id lHfdswYcabDY for <dev@httpd.apache.org>;
	Mon,  8 Jun 2015 17:18:49 +0000 (UTC)
Received: from mail-ie0-f176.google.com (mail-ie0-f176.google.com [209.85.223.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id C515A24D86
	for <dev@httpd.apache.org>; Mon,  8 Jun 2015 17:18:48 +0000 (UTC)
Received: by ieclw1 with SMTP id lw1so102856542iec.3
        for <dev@httpd.apache.org>; Mon, 08 Jun 2015 10:17:57 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=q849RZjUkd6MELLA051yRAfGsAHeLZ4E20RTJ6GXifE=;
        b=InDpAoLsUupIcdw2wZGdpzABkHyz8puCN9wXSivBUen4G1dMgO6nPL1gv9EzMQ8dB4
         LHzeBd4DsWmCX18erQvwgJIuUfp7x0ITRDJ2YMiHgmTq+DB0FTezshV/9IAsIqhkStGV
         zmCava+0BO2jTLkxkaBdis9uSOjy2p1s/DpPJpGZwcCB2K0LhbXJtCJPzxnezhtinMWO
         UJoxYpwm6SfERhsQI+7+UElBRe+Kwrsk+knj3CFnaO3qteVEqhe/xtQVIYCNIigL+h0x
         Yueo505kFKnWrXs4FPBBNtILLj+Lk7PZtL/j5jRVhgxerTtbYjG/NceiULFISN6rDkqo
         vR7Q==
X-Gm-Message-State: ALoCoQnAqMa81Pb+S01WavMP/O9ofq/Or+6FJRxucJq64lsS5pRf/qwEqPzGV6Dtu79nUsqQyyzS
MIME-Version: 1.0
X-Received: by 10.42.144.131 with SMTP id b3mr24849760icv.35.1433783877396;
 Mon, 08 Jun 2015 10:17:57 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Mon, 8 Jun 2015 10:17:57 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
Date: Mon, 8 Jun 2015 12:17:57 -0500
Message-ID: <CACsi251j-dNvtJ6O2JOkbfjSrjBnhPJgOPwULTzf987WfiJOpw@mail.gmail.com>
Subject: STATUS and Backport Review efficiency
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=90e6ba1efd28b2abbb051804d2aa

--90e6ba1efd28b2abbb051804d2aa
Content-Type: text/plain; charset=UTF-8

I've noticed this happening more and more often...

http://httpd.markmail.org/search/?q=+list%3Aorg.apache.httpd.cvs+%22vote+discarded%22

Here's one arbitrary example - there are many committers implicated here...


--- httpd/httpd/branches/2.4.x/STATUS (original) +++
httpd/httpd/branches/2.4.x/STATUS Sat May 16 10:17:05 2015 @@ -205,10
+205,17 @@ PATCHES PROPOSED TO BACKPORT FROM TRUNK:
http://svn.apache.org/r1640763 http://svn.apache.org/r1643179
http://svn.apache.org/r1656368 - 2.4.x patch:
http://people.apache.org/~jim/patches/httpd-2.4.x-ap_listeners_buckets-v2.patch
- +1: ylavic, jim + http://svn.apache.org/r1679714 + 2.4.x patch:
http://people.apache.org/~ylavic/httpd-2.4.x-ap_listeners_buckets-v3.patch
+ +1: ylavic wrowe: the statics are not explicitly initialized for clarity
ap_log_common is horribly named, perhaps ap_log_mpm_common()? + ylavic: v3
with s/ap_log_common/ap_log_mpm_common/ (jim's *vote discarded*). + globals
(including statics) not initialized are implicitely
initialized to zero + per C standard, and go to .bss (zeroed as a whole at
load time),
whereas the ones + explicitly initialized (even to 0 depending on the
compiler/flags)
go to .data and + have each to be set to their init value (which may take
some
cycles at load time). + I personaly don't see explicit initializations to
{0} as a win
(even for clarity...).

*) http: Make ap_die() robust against any HTTP error code and not modify
response status (finally logged) when nothing is to be done. PR 56035.


In this example, the patch was enhanced and the original reviewers' efforts
were thrown away. It's a shame to waste the limited review cycles.

Moving forwards, can we please do two things.  1) retain the original patch
and vote in the STATUS, adding a revised patch below the vote that can be
reviewed, and 2) show the changelog of patch 1 vs. patch 2 so that the
original reviewer doesn't have to bisect two patches to determine whether
the change had any measurable effect on the original patch review?

We might start an
http://svn.apache.org/repos/asf/httpd/httpd/patches/backports/2.[24].x/
tree, so that viewvc can be helpful in this respect, instead of multiple
patches residing in our individual public_html/ trees. WDYAT?

All of this is to say that we should pay extra close attention to
correctness when we first submit a backport patch proposal, and request 3)
is to please not use STATUS as a discussion tool.  If the
comment/observation doesn't fit in 240 characters (3 lines), it probably
belongs on the list instead, or can be a short note in STATUS with a long
explanation on dev.

--90e6ba1efd28b2abbb051804d2aa
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">I&#39;ve noticed this happening more and more often...<div=
><br></div><div><a href=3D"http://httpd.markmail.org/search/?q=3D+list%3Aor=
g.apache.httpd.cvs+%22vote+discarded%22">http://httpd.markmail.org/search/?=
q=3D+list%3Aorg.apache.httpd.cvs+%22vote+discarded%22</a><br></div><div><br=
></div><div>Here&#39;s one arbitrary example - there are many committers im=
plicated here...</div><div><br></div><div><br></div><div><p style=3D"paddin=
g:0px;margin:0px;color:rgb(0,0,0);font-family:Arial,Helvetica,&#39;Luxi San=
s&#39;,sans-serif;font-size:14.3999996185303px;white-space:pre">--- httpd/h=
ttpd/branches/2.4.x/STATUS (original)
+++ httpd/httpd/branches/2.4.x/STATUS Sat May 16 10:17:05 2015
@@ -205,10 +205,17 @@ PATCHES PROPOSED TO BACKPORT FROM TRUNK:
                   <a class=3D"" href=3D"http://svn.apache.org/r1640763" re=
l=3D"nofollow" style=3D"color:rgb(0,0,153)">http://svn.apache.org/r1640763<=
/a>
                   <a class=3D"" href=3D"http://svn.apache.org/r1643179" re=
l=3D"nofollow" style=3D"color:rgb(0,0,153)">http://svn.apache.org/r1643179<=
/a>
                   <a class=3D"" href=3D"http://svn.apache.org/r1656368" re=
l=3D"nofollow" style=3D"color:rgb(0,0,153)">http://svn.apache.org/r1656368<=
/a>
-     2.4.x patch:<br><a class=3D"" href=3D"http://people.apache.org/~jim/p=
atches/httpd-2.4.x-ap_listeners_buckets-v2.patch" rel=3D"nofollow" style=3D=
"color:rgb(0,0,153)">http://people.apache.org/~jim/patches/httpd-2.4.x-ap_l=
isteners_buckets-v2.patch</a>
-     +1: ylavic, jim
+                  <a class=3D"" href=3D"http://svn.apache.org/r1679714" re=
l=3D"nofollow" style=3D"color:rgb(0,0,153)">http://svn.apache.org/r1679714<=
/a>
+     2.4.x patch:<br><a class=3D"" href=3D"http://people.apache.org/~ylavi=
c/httpd-2.4.x-ap_listeners_buckets-v3.patch" rel=3D"nofollow" style=3D"colo=
r:rgb(0,0,153)">http://people.apache.org/~ylavic/httpd-2.4.x-ap_listeners_b=
uckets-v3.patch</a>
+     +1: ylavic
      wrowe: the statics are not explicitly initialized for clarity
             ap_log_common is horribly named, perhaps ap_log_mpm_common()?
+     ylavic: v3 with s/ap_log_common/ap_log_mpm_common/ (jim&#39;s <strong=
 style=3D"padding:2px;background-color:rgb(221,255,118)">vote discarded</st=
rong>).
+             globals (including statics) not initialized are implicitely<b=
r>initialized to zero
+             per C standard, and go to .bss (zeroed as a whole at load tim=
e),<br>whereas the ones
+             explicitly initialized (even to 0 depending on the compiler/f=
lags)<br>go to .data and
+             have each to be set to their init value (which may take some<=
br>cycles at load time).
+             I personaly don&#39;t see explicit initializations to {0} as =
a win<br>(even for clarity...).

</p><p style=3D"padding:0px;margin:0px;color:rgb(0,0,0);font-family:Arial,H=
elvetica,&#39;Luxi Sans&#39;,sans-serif;font-size:14.3999996185303px;white-=
space:pre">   *) http: Make ap_die() robust against any HTTP error code and=
 not modify
      response status (finally logged) when nothing is to be done. PR 56035=
.
</p></div><div><br></div><div><br></div><div>In this example, the patch was=
 enhanced and the original reviewers&#39; efforts were thrown away. It&#39;=
s a shame to waste the limited review cycles.</div><div><br></div><div>Movi=
ng forwards, can we please do two things. =C2=A01) retain the original patc=
h and vote in the STATUS, adding a revised patch below the vote that can be=
 reviewed, and 2) show the changelog of patch 1 vs. patch 2 so that the ori=
ginal reviewer doesn&#39;t have to bisect two patches to determine whether =
the change had any measurable effect on the original patch review?</div><di=
v><br></div><div>We might start an <a href=3D"http://svn.apache.org/repos/a=
sf/httpd/httpd/patches/backports/2.[24].x/">http://svn.apache.org/repos/asf=
/httpd/httpd/patches/backports/2.[24].x/</a> tree, so that viewvc can be he=
lpful in this respect, instead of multiple patches residing in our individu=
al public_html/ trees. WDYAT?</div><div><br></div><div>All of this is to sa=
y that we should pay extra close attention to correctness when we first sub=
mit a backport patch proposal, and request 3) is to please not use STATUS a=
s a discussion tool.=C2=A0 If the comment/observation doesn&#39;t fit in 24=
0 characters (3 lines), it probably belongs on the list instead, or can be =
a short note in STATUS with a long explanation on dev.</div><div><br></div>=
<div><br></div><div><br></div><div><br></div><div><br></div><div><br></div>=
</div>

--90e6ba1efd28b2abbb051804d2aa--

From dev-return-82902-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun  9 09:21:35 2015
Return-Path: <dev-return-82902-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 713FC173BD
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Jun 2015 09:21:35 +0000 (UTC)
Received: (qmail 13204 invoked by uid 500); 9 Jun 2015 09:21:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 13140 invoked by uid 500); 9 Jun 2015 09:21:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 13130 invoked by uid 99); 9 Jun 2015 09:21:34 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Jun 2015 09:21:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 4126ECCB4F
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 09:21:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.011
X-Spam-Level:
X-Spam-Status: No, score=-0.011 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id pjv6Fe1ETUhg for <dev@httpd.apache.org>;
	Tue,  9 Jun 2015 09:21:33 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id B938927627
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 09:21:32 +0000 (UTC)
Received: from delight.greenbytes.de (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id C178015A0473
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 11:21:23 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: RFC 7540 (HTTP/2) wrt reusable connections and SNI
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CALK=YjMZtL1cL=KbA_mE7LUGUJUzss6zZAqtPFxmjp408PW+4g@mail.gmail.com>
Date: Tue, 9 Jun 2015 11:21:23 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <9C4D4BCE-BB58-4500-8C3A-DC7871886DD0@greenbytes.de>
References: <CAKQ1sVNvy2q60=V5cHcC+dBbC+xB296sfvH8fLiyvE1mGTJ6sQ@mail.gmail.com> <CALK=YjMZtL1cL=KbA_mE7LUGUJUzss6zZAqtPFxmjp408PW+4g@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)

Btw. I have the first report from a user that gets 400 answers in =
browsers when mod_h2 is active because the browser reused the connection =
for another host.

Also from RFC 7540, 9.2.1
"A deployment of HTTP/2 over TLS 1.2 MUST disable renegotiation.=E2=80=9C

(Once the h2 session is established, renegotiation may appear before =
that.)

This is all a result of the =E2=80=9Esecuring the web=E2=80=9C thinking =
where now HTTP and TLS requirements get interwoven and layers are mixed. =
Which means for httpd that mod_ssl and mod_h2 need to talk to each other =
more.

So, when a vhost allows all kinds of renegotiations / parameters, that =
should be fine and continue being useful when the connection talks =
HTTP/1. But when h2 is active, some sort of policy restriction needs to =
be applied (to make it fully standard compliant).

Any ideas how to tackle this are appreciated.

> Am 08.06.2015 um 15:56 schrieb Eric Covener <covener@gmail.com>:
>=20
> What's the point of SNI if it can be used to select the correct vhost
> before the handshake (modulo the port...), but TLS must possibly be
> renegotiated later for subsequent requests?
>=20
> In configs that use separate certificates, it gets you the correct =
one, and these are n/a to the coalescing problem
>=20
> In configs that use the same certificate, I guess it gets you slightly =
different TLS parameters.  If you use HTTP/2, you'll have to forego =
these and per-dir renegotiations. =20
>=20
> Maybe the latter should just be deprecated, it seems like they cause =
constant problems
>=20
>=20

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82903-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun  9 10:06:10 2015
Return-Path: <dev-return-82903-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C4B08175CC
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Jun 2015 10:06:10 +0000 (UTC)
Received: (qmail 18825 invoked by uid 500); 9 Jun 2015 10:06:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18759 invoked by uid 500); 9 Jun 2015 10:06:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18749 invoked by uid 99); 9 Jun 2015 10:06:09 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Jun 2015 10:06:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 18EF7182224
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 10:06:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id XbHrNAQ8MJra for <dev@httpd.apache.org>;
	Tue,  9 Jun 2015 10:06:03 +0000 (UTC)
Received: from mail-ig0-f181.google.com (mail-ig0-f181.google.com [209.85.213.181])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id B9451453CD
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 10:06:02 +0000 (UTC)
Received: by igbhj9 with SMTP id hj9so9168027igb.1
        for <dev@httpd.apache.org>; Tue, 09 Jun 2015 03:06:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=I6z+8kqvBoQpsz5hae+TlkgHc5b5tbe26A7bH1xntXQ=;
        b=sXukmskYwBL9el4UYgs1LVnsCUKtFF9Uj8BXs5b5T6sS8lAs1BLWpvK6i+fuxSXhDj
         z72X00zyc0Ge7ngR3RsklCgZmeRcR13fodFGq22bA48XRF22bOHVFtH1qK5975fo6/XV
         g22E8bfWRxeH+hiyb0ZGxJlEAIKlXFA4QLs29W2olriVSsV5Mm3XyQWWZsyg/mFNLoE4
         ikPEFhfrjsofLgQ9YEgjLLiV5rcOu79X9P3zKoEE7bWKrYM9VQISYCdQiFIIH/5gu8dE
         14sj2BuuH4w5U4odFAD38YQLDGc69P+h6vlifezCX5UYh9Dnf3+suD93+6A37+/eEhKe
         MfFA==
MIME-Version: 1.0
X-Received: by 10.107.150.73 with SMTP id y70mr25447182iod.21.1433844362428;
 Tue, 09 Jun 2015 03:06:02 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Tue, 9 Jun 2015 03:06:02 -0700 (PDT)
In-Reply-To: <9C4D4BCE-BB58-4500-8C3A-DC7871886DD0@greenbytes.de>
References: <CAKQ1sVNvy2q60=V5cHcC+dBbC+xB296sfvH8fLiyvE1mGTJ6sQ@mail.gmail.com>
	<CALK=YjMZtL1cL=KbA_mE7LUGUJUzss6zZAqtPFxmjp408PW+4g@mail.gmail.com>
	<9C4D4BCE-BB58-4500-8C3A-DC7871886DD0@greenbytes.de>
Date: Tue, 9 Jun 2015 12:06:02 +0200
Message-ID: <CAKQ1sVOSUyVoiQLFi8bZiH4UROdf7-HN9MV6oa7vhavi_dRa-Q@mail.gmail.com>
Subject: Re: RFC 7540 (HTTP/2) wrt reusable connections and SNI
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Tue, Jun 9, 2015 at 11:21 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
>
> Also from RFC 7540, 9.2.1
> "A deployment of HTTP/2 over TLS 1.2 MUST disable renegotiation.=E2=80=9C
>
> (Once the h2 session is established, renegotiation may appear before that=
.)
>
> This is all a result of the =E2=80=9Esecuring the web=E2=80=9C thinking w=
here now HTTP and TLS requirements get interwoven and layers are mixed.

<sarcasm>
Security by mixing layers, how ironic!
Surely HTTP/2 will secure those who want to share private and valuable
informations (secretly), as to the web...
It could have been that, though.
</sarcasm>

PS: nothing personal Stefan, just about the new protocol I'm trying to dige=
st...

From dev-return-82904-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun  9 10:10:05 2015
Return-Path: <dev-return-82904-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B2345175E7
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Jun 2015 10:10:05 +0000 (UTC)
Received: (qmail 29146 invoked by uid 500); 9 Jun 2015 10:10:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29074 invoked by uid 500); 9 Jun 2015 10:10:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29064 invoked by uid 99); 9 Jun 2015 10:10:05 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Jun 2015 10:10:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id CF1BB1A491B
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 10:10:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id DlX7nshLYLXc for <dev@httpd.apache.org>;
	Tue,  9 Jun 2015 10:09:57 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 433EA42AD6
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 10:09:57 +0000 (UTC)
Received: from delight.greenbytes.de (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 3A76115A01AB
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 12:09:48 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: RFC 7540 (HTTP/2) wrt reusable connections and SNI
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVOSUyVoiQLFi8bZiH4UROdf7-HN9MV6oa7vhavi_dRa-Q@mail.gmail.com>
Date: Tue, 9 Jun 2015 12:09:47 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <E67401C6-3897-4294-99D6-1D4DB5435265@greenbytes.de>
References: <CAKQ1sVNvy2q60=V5cHcC+dBbC+xB296sfvH8fLiyvE1mGTJ6sQ@mail.gmail.com> <CALK=YjMZtL1cL=KbA_mE7LUGUJUzss6zZAqtPFxmjp408PW+4g@mail.gmail.com> <9C4D4BCE-BB58-4500-8C3A-DC7871886DD0@greenbytes.de> <CAKQ1sVOSUyVoiQLFi8bZiH4UROdf7-HN9MV6oa7vhavi_dRa-Q@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)

Yann, I am with you and feel at least unease about this mixing.

But the RFC has been approved and browsers will adhere to it. So if we =
do not enforce some policies in the server, connections will fail for =
mysterious reasons. And tickets will be raised...


> Am 09.06.2015 um 12:06 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Tue, Jun 9, 2015 at 11:21 AM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>>=20
>> Also from RFC 7540, 9.2.1
>> "A deployment of HTTP/2 over TLS 1.2 MUST disable renegotiation.=E2=80=9C=

>>=20
>> (Once the h2 session is established, renegotiation may appear before =
that.)
>>=20
>> This is all a result of the =E2=80=9Esecuring the web=E2=80=9C =
thinking where now HTTP and TLS requirements get interwoven and layers =
are mixed.
>=20
> <sarcasm>
> Security by mixing layers, how ironic!
> Surely HTTP/2 will secure those who want to share private and valuable
> informations (secretly), as to the web...
> It could have been that, though.
> </sarcasm>
>=20
> PS: nothing personal Stefan, just about the new protocol I'm trying to =
digest...

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82905-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun  9 10:43:17 2015
Return-Path: <dev-return-82905-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 68291176D8
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Jun 2015 10:43:17 +0000 (UTC)
Received: (qmail 63038 invoked by uid 500); 9 Jun 2015 10:43:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62974 invoked by uid 500); 9 Jun 2015 10:43:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62964 invoked by uid 99); 9 Jun 2015 10:43:06 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Jun 2015 10:43:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 0C030182224
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 10:43:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id pheqwRmGB_fM for <dev@httpd.apache.org>;
	Tue,  9 Jun 2015 10:43:00 +0000 (UTC)
Received: from mail-ie0-f170.google.com (mail-ie0-f170.google.com [209.85.223.170])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id B476C43ACE
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 10:42:59 +0000 (UTC)
Received: by iesa3 with SMTP id a3so10998089ies.2
        for <dev@httpd.apache.org>; Tue, 09 Jun 2015 03:42:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=t9PFAwBOhrdw3/XdsmIRbn6xuWTxqcDltSMb47KuYP0=;
        b=GTg2RWIylJWz0W5EHypO4wI/P7tQVhmUUfB/xNOmLMk8KgUYPsEO5x0sK/tn7d3sQA
         3LwsDpBWEUFZZKHblDV2gwUblvjjdvRpcPpUd7gFl+osw2sr5j0BeaCE2mdXZAzKoSrL
         FquAJJEZJejPzz7A7O6p2S3qeZ+VzQG7tRzwPjwwXQOVqLSsyrZgUDR9ey0t97aqSX+c
         5AU70RpaVq67CLls8Zbg1jVELHQdnwQt5hHGQEP+b9DisUYtPl4EG6JFovMpjv6FEquJ
         PzfkX73U9ytCXrBm3PsLoA4mNw9EQ/kHN60rXD5z4YrYJLdEVeOLrYhq/bvamigeKpOz
         49yQ==
MIME-Version: 1.0
X-Received: by 10.107.15.149 with SMTP id 21mr27224250iop.44.1433846579276;
 Tue, 09 Jun 2015 03:42:59 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Tue, 9 Jun 2015 03:42:59 -0700 (PDT)
In-Reply-To: <E67401C6-3897-4294-99D6-1D4DB5435265@greenbytes.de>
References: <CAKQ1sVNvy2q60=V5cHcC+dBbC+xB296sfvH8fLiyvE1mGTJ6sQ@mail.gmail.com>
	<CALK=YjMZtL1cL=KbA_mE7LUGUJUzss6zZAqtPFxmjp408PW+4g@mail.gmail.com>
	<9C4D4BCE-BB58-4500-8C3A-DC7871886DD0@greenbytes.de>
	<CAKQ1sVOSUyVoiQLFi8bZiH4UROdf7-HN9MV6oa7vhavi_dRa-Q@mail.gmail.com>
	<E67401C6-3897-4294-99D6-1D4DB5435265@greenbytes.de>
Date: Tue, 9 Jun 2015 12:42:59 +0200
Message-ID: <CAKQ1sVMYTn7rADsXnxryVDHH5_YUBWrv=1j4U4k2dkmBewHenA@mail.gmail.com>
Subject: Re: RFC 7540 (HTTP/2) wrt reusable connections and SNI
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

It just needed to get out :)

But I agree that since we are to implement the RFC, we must comply,
and find a way to still comply with HTTP/1.
Both checks on SNI and renegotiation occur in the post_read_request
hook, so we should be able to deal with vhost's parameters (configured
Protocols, ProtocolTransports...), and do the right thing.

On Tue, Jun 9, 2015 at 12:09 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> Yann, I am with you and feel at least unease about this mixing.
>
> But the RFC has been approved and browsers will adhere to it. So if we do=
 not enforce some policies in the server, connections will fail for mysteri=
ous reasons. And tickets will be raised...
>
>
>> Am 09.06.2015 um 12:06 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>
>> On Tue, Jun 9, 2015 at 11:21 AM, Stefan Eissing
>> <stefan.eissing@greenbytes.de> wrote:
>>>
>>> Also from RFC 7540, 9.2.1
>>> "A deployment of HTTP/2 over TLS 1.2 MUST disable renegotiation.=E2=80=
=9C
>>>
>>> (Once the h2 session is established, renegotiation may appear before th=
at.)
>>>
>>> This is all a result of the =E2=80=9Esecuring the web=E2=80=9C thinking=
 where now HTTP and TLS requirements get interwoven and layers are mixed.
>>
>> <sarcasm>
>> Security by mixing layers, how ironic!
>> Surely HTTP/2 will secure those who want to share private and valuable
>> informations (secretly), as to the web...
>> It could have been that, though.
>> </sarcasm>
>>
>> PS: nothing personal Stefan, just about the new protocol I'm trying to d=
igest...
>
> <green/>bytes GmbH
> Hafenweg 16, 48155 M=C3=BCnster, Germany
> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>
>
>

From dev-return-82906-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun  9 13:37:42 2015
Return-Path: <dev-return-82906-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0B08F17D0A
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Jun 2015 13:37:42 +0000 (UTC)
Received: (qmail 22625 invoked by uid 500); 9 Jun 2015 13:37:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 22564 invoked by uid 500); 9 Jun 2015 13:37:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 22554 invoked by uid 99); 9 Jun 2015 13:37:41 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Jun 2015 13:37:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 2B72B182224
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 13:37:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.011
X-Spam-Level:
X-Spam-Status: No, score=-0.011 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 0m85MF_pweX4 for <dev@httpd.apache.org>;
	Tue,  9 Jun 2015 13:37:40 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 9CBC827633
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 13:37:39 +0000 (UTC)
Received: from delight.greenbytes.de (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 3826615A03EC
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 15:37:37 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Subject: thread/mpm advice
Message-Id: <251056D0-115C-4D64-B430-A60E1231CA61@greenbytes.de>
Date: Tue, 9 Jun 2015 15:37:36 +0200
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
X-Mailer: Apple Mail (2.2098)

Hi Knowledgeable List!

someone reported issues with mod_h2 in relation to some =
mod_proxy/mod_rewrite setup of his. I added several test cases and all =
seems fine. Then I found out that he is running on a mpm_prefork =
configuration...

My understanding is that one uses mpm_prefork when threads are to be =
avoided. This is not what mod_h2 is about and so I consider disabling =
the module in a prefork configuration. My thinking: if threads are not a =
problem, why not run worker/event?

Do you have any advice for mod_h2 here? Are there other mpms where the =
module should disable itself?=20

Thanks for the help,

  Stefan

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82907-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun  9 14:29:30 2015
Return-Path: <dev-return-82907-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DC1ED17F8E
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Jun 2015 14:29:29 +0000 (UTC)
Received: (qmail 42239 invoked by uid 500); 9 Jun 2015 14:29:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 42174 invoked by uid 500); 9 Jun 2015 14:29:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 42162 invoked by uid 99); 9 Jun 2015 14:29:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Jun 2015 14:29:29 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.33] (HELO resqmta-ch2-01v.sys.comcast.net) (69.252.207.33)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Jun 2015 14:27:13 +0000
Received: from resomta-ch2-19v.sys.comcast.net ([69.252.207.115])
	by resqmta-ch2-01v.sys.comcast.net with comcast
	id eEUc1q0072VvR6D01EUgKA; Tue, 09 Jun 2015 14:28:40 +0000
Received: from [192.168.199.10] ([69.251.80.74])
	by resomta-ch2-19v.sys.comcast.net with comcast
	id eEUf1q00W1cCKD901EUgzB; Tue, 09 Jun 2015 14:28:40 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: thread/mpm advice
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <251056D0-115C-4D64-B430-A60E1231CA61@greenbytes.de>
Date: Tue, 9 Jun 2015 10:28:39 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <82C5BF9B-729F-4430-803E-FF2F119EA625@jaguNET.com>
References: <251056D0-115C-4D64-B430-A60E1231CA61@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1433860120;
	bh=x+vyEDMkZYB3LyKKCj3Tc+9obzRL36UZZEAp/9vM0nc=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=JE+Hy5Igqo75rt4wB/M5MzAoaWYSPQ9xhYgZDCTMimlwb3CiW2W5nrOfGH2JTxJ5l
	 2rVMgNe5Pk2HyqBh/SV93eIlbTBA2tJVvvgGkw+bGUtRpatBKjmHv7+lxkKpSAAGyp
	 5TTLXdST3zWp1rphy4SRm+OAds2uRhy0HuXrZVdSoDkQjWeoeqMCOILLlTgzSRTdVu
	 FphfxaMej+4XRfv7UH6anpmZuBx5mUT2a0P9DdUXk5M8RbzvBmrImwzPAa6Efqt/Hj
	 qI2Vd38jwD9FWAz0anEVooNtIKsMpSieQqHjAVuaabi0t/ujtA6G9zORxc2iaCZTFl
	 jPOzCxsg0f2jg==
X-Virus-Checked: Checked by ClamAV on apache.org

Prefork is the only (unix) MPM which is non-threaded.

> On Jun 9, 2015, at 9:37 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
> Hi Knowledgeable List!
>=20
> someone reported issues with mod_h2 in relation to some =
mod_proxy/mod_rewrite setup of his. I added several test cases and all =
seems fine. Then I found out that he is running on a mpm_prefork =
configuration...
>=20
> My understanding is that one uses mpm_prefork when threads are to be =
avoided. This is not what mod_h2 is about and so I consider disabling =
the module in a prefork configuration. My thinking: if threads are not a =
problem, why not run worker/event?
>=20
> Do you have any advice for mod_h2 here? Are there other mpms where the =
module should disable itself?=20
>=20
> Thanks for the help,
>=20
>  Stefan
>=20
> <green/>bytes GmbH
> Hafenweg 16, 48155 M=C3=BCnster, Germany
> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>=20
>=20
>=20


From dev-return-82908-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun  9 15:05:16 2015
Return-Path: <dev-return-82908-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B651418115
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Jun 2015 15:05:16 +0000 (UTC)
Received: (qmail 35100 invoked by uid 500); 9 Jun 2015 15:05:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35028 invoked by uid 500); 9 Jun 2015 15:05:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35018 invoked by uid 99); 9 Jun 2015 15:05:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Jun 2015 15:05:16 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of minfrin@sharp.fm designates 80.168.143.5 as permitted sender)
Received: from [80.168.143.5] (HELO monica.sharp.fm) (80.168.143.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Jun 2015 15:03:01 +0000
Received: from [10.105.13.213] (unknown [5.56.169.82])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 3091482A45
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 16:04:49 +0100 (BST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: thread/mpm advice
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <251056D0-115C-4D64-B430-A60E1231CA61@greenbytes.de>
Date: Tue, 9 Jun 2015 17:04:47 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <D244F0FB-F429-4FB9-AD86-598542E86E1E@sharp.fm>
References: <251056D0-115C-4D64-B430-A60E1231CA61@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
X-Virus-Checked: Checked by ClamAV on apache.org

On 09 Jun 2015, at 3:37 PM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:

> My understanding is that one uses mpm_prefork when threads are to be =
avoided. This is not what mod_h2 is about and so I consider disabling =
the module in a prefork configuration. My thinking: if threads are not a =
problem, why not run worker/event?

Getting prefork to work would be a good thing.

The prefork MPM is the =E2=80=9Ctank=E2=80=9D MPM - regardless of what =
the client does, regardless of what code is being spawned by httpd, any =
leak/crash affects that connection only.

mod_h2 might not be fully featured or fully performant under prefork, =
but that=E2=80=99s fine in theory.

Regards,
Graham
=E2=80=94


From dev-return-82909-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun  9 15:12:51 2015
Return-Path: <dev-return-82909-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2EDBE18189
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Jun 2015 15:12:51 +0000 (UTC)
Received: (qmail 65208 invoked by uid 500); 9 Jun 2015 15:12:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65146 invoked by uid 500); 9 Jun 2015 15:12:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65136 invoked by uid 99); 9 Jun 2015 15:12:50 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Jun 2015 15:12:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 44F9ECCBE8
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 15:12:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 9WtxRdv4NIYQ for <dev@httpd.apache.org>;
	Tue,  9 Jun 2015 15:12:40 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 1039227621
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 15:12:40 +0000 (UTC)
Received: from delight.greenbytes.de (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id D3E0015A01AB
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 17:12:36 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: thread/mpm advice
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <D244F0FB-F429-4FB9-AD86-598542E86E1E@sharp.fm>
Date: Tue, 9 Jun 2015 17:12:36 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <E450EA80-663B-4B3A-A30A-C431E5784AEC@greenbytes.de>
References: <251056D0-115C-4D64-B430-A60E1231CA61@greenbytes.de> <D244F0FB-F429-4FB9-AD86-598542E86E1E@sharp.fm>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)

Graham and Jim, thanks for the advice.

As to prefork: as long as APR has threads and mutex and all these fine =
things, I am pretty certain the mod_h2 itself does not have a problem =
with prefork.

The concern I have is: if people use prefork to have code running which =
is not thread-safe, that will not make it safe in mod_h2. Or if people =
use prefork as an indication to avoid mutex and other sync helpers, they =
will be surprised.

I am just adding a WARNING log on startup (once) that says that mod_h2 =
in prefork might be a source of unpleasant surprises. But I leave mod_h2 =
running.=20

//Stefan


> Am 09.06.2015 um 17:04 schrieb Graham Leggett <minfrin@sharp.fm>:
>=20
> On 09 Jun 2015, at 3:37 PM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
>> My understanding is that one uses mpm_prefork when threads are to be =
avoided. This is not what mod_h2 is about and so I consider disabling =
the module in a prefork configuration. My thinking: if threads are not a =
problem, why not run worker/event?
>=20
> Getting prefork to work would be a good thing.
>=20
> The prefork MPM is the =E2=80=9Ctank=E2=80=9D MPM - regardless of what =
the client does, regardless of what code is being spawned by httpd, any =
leak/crash affects that connection only.
>=20
> mod_h2 might not be fully featured or fully performant under prefork, =
but that=E2=80=99s fine in theory.
>=20
> Regards,
> Graham
> =E2=80=94
>=20

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82910-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun  9 15:47:27 2015
Return-Path: <dev-return-82910-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E1DC018360
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Jun 2015 15:47:27 +0000 (UTC)
Received: (qmail 88501 invoked by uid 500); 9 Jun 2015 15:47:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 88437 invoked by uid 500); 9 Jun 2015 15:47:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 88427 invoked by uid 99); 9 Jun 2015 15:47:27 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Jun 2015 15:47:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id CDB98C0518
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 15:47:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.998
X-Spam-Level: **
X-Spam-Status: No, score=2.998 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 7_sJAmZBiQhp for <dev@httpd.apache.org>;
	Tue,  9 Jun 2015 15:47:25 +0000 (UTC)
Received: from mail-ie0-f181.google.com (mail-ie0-f181.google.com [209.85.223.181])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 89F882030F
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 15:47:24 +0000 (UTC)
Received: by iebgx4 with SMTP id gx4so17099648ieb.0
        for <dev@httpd.apache.org>; Tue, 09 Jun 2015 08:46:32 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type;
        bh=vzxk+vW1w5l2CFlWQW7gC5eG3oRiQagT/89vuZ4Y4JI=;
        b=Uvqm/n8gcVbCSpD83w83UnEjI87XuSaWLk319Z5bwfOWXeaWvAsbdKl1Dk/klpiexV
         cieEZxkUUCYxyhSp6IoqkiSMfYOTBTwgHwoPMUxAs+ohHM8/RASIoQjj/xACUKauPeht
         DyGr236JFBith+fbj8bgKoE7i9RA1HLpi9U1mqPK501Zn3hDGnPHFl+oD7pptFNhGsuB
         zIeJnb6+13QCNeQXHdOsbVqETehiB/3BbMy9hGMpTwlYNg1iTm50+JiVp0DQ/yiWtnQz
         xtS0Ny9X0E1MnsCYowF2yHwZschg7utoAbnjGgNJBhcWUmywRZvAw/yk7rQycZvgnbL+
         zUuw==
X-Gm-Message-State: ALoCoQkvjLni1e0d4xATw31mN0mIL1lnPCPoc/pdMPed1Ow2Fxxl79xsAfDKHpD780x8/wWKOyTx
MIME-Version: 1.0
X-Received: by 10.43.140.5 with SMTP id iy5mr30905222icc.77.1433864792395;
 Tue, 09 Jun 2015 08:46:32 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Tue, 9 Jun 2015 08:46:32 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <20150609154102.4F8F5AC006B@hades.apache.org>
References: <20150609154102.4F8F5AC006B@hades.apache.org>
Date: Tue, 9 Jun 2015 10:46:32 -0500
Message-ID: <CACsi251WwRMVGNNGuxv5eP9a6DbS+JxYa=1nwqNUPydaZcEG8A@mail.gmail.com>
Subject: Re: svn commit: r1684457 - /httpd/httpd/branches/2.2.x/STATUS
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Cc: cvs@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a11c2c5889b6ab0051817a998

--001a11c2c5889b6ab0051817a998
Content-Type: text/plain; charset=UTF-8

I don't entirely understand the patch CHANGES, however...

On Tue, Jun 9, 2015 at 10:41 AM, <wrowe@apache.org> wrote:

>  PATCHES ACCEPTED TO BACKPORT FROM TRUNK:
>    [ start all new proposals below, under PATCHES PROPOSED. ]
>
>     * mod_ssl: bring SNI behavior into better conformance with RFC 6066
>       (also addresses PR 56241)
>       trunk patch: https://svn.apache.org/r1585090
>                    (partial, w/o startup warnings changes)
>       2.4.x patch: https://svn.apache.org/r1588424
>                    (backported to 2.4.10)
>       2.2.x patch:
> http://people.apache.org/~ylavic/httpd-2.2.x-no_sni_warning.patch
> +     +1: ylavic, jorton, wrowe
>

The patch claims both adjusting alerts and changing startup behavior...

--- CHANGES	(revision 1684331)
+++ CHANGES	(working copy)
@@ -1,6 +1,11 @@
                                                          -*- coding: utf-8 -*-
 Changes with Apache 2.2.30

+  *) mod_ssl: bring SNI behavior into better conformance with RFC 6066:
+     no longer send warning-level unrecognized_name(112) alerts,
+     and limit startup warnings to cases where an OpenSSL version
+     without TLS extension support is used. PR 56241. [Kaspar Brand]
+
   *) http: Make ap_die() robust against any HTTP error code and not modify
      response status (finally logged) when nothing is to be done.
[Yann Ylavic]


But the patch contains only the first change to code.

@@ -1962,7 +1962,21 @@ int ssl_callback_ServerNameIndication(SSL *ssl, in
                               "No matching SSL virtual host for servername "
                               "%s found (using default/first virtual host)",
                               servername);
-                return SSL_TLSEXT_ERR_ALERT_WARNING;



Everything else is commentary.  When you backport, Yann, would you correct
the message?

--001a11c2c5889b6ab0051817a998
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">I don&#39;t entirely understand the patch CHANGES, however=
...<br><div class=3D"gmail_extra"><br><div class=3D"gmail_quote">On Tue, Ju=
n 9, 2015 at 10:41 AM,  <span dir=3D"ltr">&lt;<a href=3D"mailto:wrowe@apach=
e.org" target=3D"_blank">wrowe@apache.org</a>&gt;</span> wrote:<br><blockqu=
ote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-wid=
th:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-l=
eft:1ex">=C2=A0PATCHES ACCEPTED TO BACKPORT FROM TRUNK:<br>
=C2=A0 =C2=A0[ start all new proposals below, under PATCHES PROPOSED. ]<br>
<br>=C2=A0 =C2=A0 * mod_ssl: bring SNI behavior into better conformance wit=
h RFC 6066<br>
=C2=A0 =C2=A0 =C2=A0 (also addresses PR 56241)<br>
=C2=A0 =C2=A0 =C2=A0 trunk patch: <a href=3D"https://svn.apache.org/r158509=
0" target=3D"_blank">https://svn.apache.org/r1585090</a><br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(parti=
al, w/o startup warnings changes)<br>=C2=A0 =C2=A0 =C2=A0 2.4.x patch: <a h=
ref=3D"https://svn.apache.org/r1588424" target=3D"_blank">https://svn.apach=
e.org/r1588424</a><br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(backp=
orted to 2.4.10)<br>
=C2=A0 =C2=A0 =C2=A0 2.2.x patch: <a href=3D"http://people.apache.org/~ylav=
ic/httpd-2.2.x-no_sni_warning.patch" target=3D"_blank">http://people.apache=
.org/~ylavic/httpd-2.2.x-no_sni_warning.patch</a><br>+=C2=A0 =C2=A0 =C2=A0+=
1: ylavic, jorton, wrowe<br></blockquote><div><br></div><div>The patch clai=
ms both adjusting alerts and changing startup behavior...</div><pre style=
=3D"color:rgb(0,0,0);word-wrap:break-word;white-space:pre-wrap">--- CHANGES=
	(revision 1684331)
+++ CHANGES	(working copy)
@@ -1,6 +1,11 @@
                                                          -*- coding: utf-8=
 -*-
 Changes with Apache 2.2.30
=20
+  *) mod_ssl: bring SNI behavior into better conformance with RFC 6066:
+     no longer send warning-level unrecognized_name(112) alerts,
+     and limit startup warnings to cases where an OpenSSL version
+     without TLS extension support is used. PR 56241. [Kaspar Brand]
+
   *) http: Make ap_die() robust against any HTTP error code and not modify
      response status (finally logged) when nothing is to be done. [Yann Yl=
avic]=C2=A0</pre><div><br></div><div>But the patch contains only the first =
change to code.</div><div><br></div><div><pre style=3D"color:rgb(0,0,0);wor=
d-wrap:break-word;white-space:pre-wrap">@@ -1962,7 +1962,21 @@ int ssl_call=
back_ServerNameIndication(SSL *ssl, in
                               &quot;No matching SSL virtual host for serve=
rname &quot;
                               &quot;%s found (using default/first virtual =
host)&quot;,
                               servername);
-                return SSL_TLSEXT_ERR_ALERT_WARNING;
</pre></div><div><br></div><div><br></div><div>Everything else is commentar=
y.=C2=A0 When you backport, Yann, would you correct the message?</div></div=
></div></div>

--001a11c2c5889b6ab0051817a998--

From dev-return-82911-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun  9 16:14:30 2015
Return-Path: <dev-return-82911-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 914EE1846D
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Jun 2015 16:14:30 +0000 (UTC)
Received: (qmail 60771 invoked by uid 500); 9 Jun 2015 16:14:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 60694 invoked by uid 500); 9 Jun 2015 16:14:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 60684 invoked by uid 99); 9 Jun 2015 16:14:30 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Jun 2015 16:14:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 9748C1A4910
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 16:14:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id PTSNk6eyNGn3 for <dev@httpd.apache.org>;
	Tue,  9 Jun 2015 16:14:22 +0000 (UTC)
Received: from mail-ig0-f194.google.com (mail-ig0-f194.google.com [209.85.213.194])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 4790242AD6
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 16:14:22 +0000 (UTC)
Received: by igdj8 with SMTP id j8so2018332igd.0
        for <dev@httpd.apache.org>; Tue, 09 Jun 2015 09:13:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=ul93XdF56AYVSKNV5jduuFIXmJDHmlKyb1W1I4Q8PyE=;
        b=kVf9Kwqs0enBb/dzzBZO5j9frkaH3Vv5/kIuZk49EIQV53bMjUvIx6z2HMnLdfSiPR
         Y8zyCyQjQp6Gy8ImWiFVeJctNpc8ZpOd7pqoKGEmqog2sYuzR3qAxbr8xUnG65C3zhSu
         wGB3VwcEqv2jVL3MfD+78glB06+/WPvLQE6DxTSfy3Ig3DcyE0yg6NMra9fdFCYrLgcF
         zYAxin9OefSFCgGtc1BzaW2jlVRgAsV5TBE/NwXUmfJXisnUnwVW886SLPlwmezvOC01
         osBJkW0TVYeN+Rmmmie+hV3o4N7eyTDU25oBEJUbPZ+ZkpKRTgANeClC/eizwau6w4pi
         Ui9A==
MIME-Version: 1.0
X-Received: by 10.50.142.9 with SMTP id rs9mr21196274igb.17.1433866411185;
 Tue, 09 Jun 2015 09:13:31 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Tue, 9 Jun 2015 09:13:31 -0700 (PDT)
In-Reply-To: <CACsi251WwRMVGNNGuxv5eP9a6DbS+JxYa=1nwqNUPydaZcEG8A@mail.gmail.com>
References: <20150609154102.4F8F5AC006B@hades.apache.org>
	<CACsi251WwRMVGNNGuxv5eP9a6DbS+JxYa=1nwqNUPydaZcEG8A@mail.gmail.com>
Date: Tue, 9 Jun 2015 18:13:31 +0200
Message-ID: <CAKQ1sVMHR8xpkNW+Dcc8J3xUGZodZZcBSRN-S-96VnpgJ+EbwQ@mail.gmail.com>
Subject: Re: svn commit: r1684457 - /httpd/httpd/branches/2.2.x/STATUS
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Tue, Jun 9, 2015 at 5:46 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
> I don't entirely understand the patch CHANGES, however...
>
> On Tue, Jun 9, 2015 at 10:41 AM, <wrowe@apache.org> wrote:
>>
>>  PATCHES ACCEPTED TO BACKPORT FROM TRUNK:
>>    [ start all new proposals below, under PATCHES PROPOSED. ]
>>
>>     * mod_ssl: bring SNI behavior into better conformance with RFC 6066
>>       (also addresses PR 56241)
>>       trunk patch: https://svn.apache.org/r1585090
>>                    (partial, w/o startup warnings changes)
>>       2.4.x patch: https://svn.apache.org/r1588424
>>                    (backported to 2.4.10)
>>       2.2.x patch:
>> http://people.apache.org/~ylavic/httpd-2.2.x-no_sni_warning.patch
>> +     +1: ylavic, jorton, wrowe
>
>
> The patch claims both adjusting alerts and changing startup behavior...

The CHANGES entry is, but not the patch (and STATUS entry), as per:

>>       trunk patch: https://svn.apache.org/r1585090
>>                    (partial, w/o startup warnings changes)

above.

>
> Everything else is commentary.  When you backport, Yann, would you correct
> the message?

Done in r1684462.
Thanks for noticing.

From dev-return-82912-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun  9 17:44:18 2015
Return-Path: <dev-return-82912-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6396518848
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Jun 2015 17:44:18 +0000 (UTC)
Received: (qmail 47449 invoked by uid 500); 9 Jun 2015 17:44:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 47380 invoked by uid 500); 9 Jun 2015 17:44:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 47370 invoked by uid 99); 9 Jun 2015 17:44:17 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Jun 2015 17:44:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id A96D1182901
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 17:44:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=gbiv.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id nRhlgdWh8LKg for <dev@httpd.apache.org>;
	Tue,  9 Jun 2015 17:44:09 +0000 (UTC)
Received: from homiemail-a106.g.dreamhost.com (sub4.mail.dreamhost.com [69.163.253.135])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id C962143CD7
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 17:44:08 +0000 (UTC)
Received: from homiemail-a106.g.dreamhost.com (localhost [127.0.0.1])
	by homiemail-a106.g.dreamhost.com (Postfix) with ESMTP id 45FA72005D008
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 10:44:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed; d=gbiv.com; h=content-type
	:mime-version:subject:from:in-reply-to:date
	:content-transfer-encoding:message-id:references:to; s=gbiv.com;
	 bh=L9HWld8sDTf3Mvk7KQ4qgcP35A0=; b=FmEL4MvgUo2AVgvBPUO8HVuElp5F
	hpkLTOulU4Chl41vQFQ7qP0QLX5pzmkAFF0eapNTG6Q39YsCXJGuzJmzYKHkpcZI
	8kVuaLxcHdwdRE17vx+kkm/0yPCBvlc545r495g5SEYf/4CCoq9ak8XhBaCbzDQf
	m3g5ukDbjdo3fn8=
Received: from [192.168.1.18] (ip68-228-83-124.oc.oc.cox.net [68.228.83.124])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	(Authenticated sender: fielding@gbiv.com)
	by homiemail-a106.g.dreamhost.com (Postfix) with ESMTPSA id 2C8362005D006
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 10:44:02 -0700 (PDT)
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: RFC 7540 (HTTP/2) wrt reusable connections and SNI
From: "Roy T. Fielding" <fielding@gbiv.com>
In-Reply-To: <CAKQ1sVMYTn7rADsXnxryVDHH5_YUBWrv=1j4U4k2dkmBewHenA@mail.gmail.com>
Date: Tue, 9 Jun 2015 10:43:59 -0700
Content-Transfer-Encoding: quoted-printable
Message-Id: <6C244058-7C6C-4370-B247-5ECC569B1F09@gbiv.com>
References: <CAKQ1sVNvy2q60=V5cHcC+dBbC+xB296sfvH8fLiyvE1mGTJ6sQ@mail.gmail.com> <CALK=YjMZtL1cL=KbA_mE7LUGUJUzss6zZAqtPFxmjp408PW+4g@mail.gmail.com> <9C4D4BCE-BB58-4500-8C3A-DC7871886DD0@greenbytes.de> <CAKQ1sVOSUyVoiQLFi8bZiH4UROdf7-HN9MV6oa7vhavi_dRa-Q@mail.gmail.com> <E67401C6-3897-4294-99D6-1D4DB5435265@greenbytes.de> <CAKQ1sVMYTn7rADsXnxryVDHH5_YUBWrv=1j4U4k2dkmBewHenA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)

> On Jun 9, 2015, at 3:42 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>=20
> It just needed to get out :)
>=20
> But I agree that since we are to implement the RFC, we must comply,
> and find a way to still comply with HTTP/1.
> Both checks on SNI and renegotiation occur in the post_read_request
> hook, so we should be able to deal with vhost's parameters (configured
> Protocols, ProtocolTransports...), and do the right thing.
>=20
> On Tue, Jun 9, 2015 at 12:09 PM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> Yann, I am with you and feel at least unease about this mixing.
>>=20
>> But the RFC has been approved and browsers will adhere to it. So if =
we do not enforce some policies in the server, connections will fail for =
mysterious reasons. And tickets will be raised...

Well, don't be too hasty.  There are a number of requirements in the RFC =
that
have nothing to do with HTTP and should be summarily ignored in the core =
implementation.
There are other requirements in the RFC that might turn out to be wrong =
or unnecessary,
just as we found in RFC2068, and it is our task to implement what works =
and change
the RFCs later.

However, the server as a whole should be configurable to be compliant =
(by default)
in the relevant code.  All of the requirements around TLS, for example, =
need to be
available in the SSL configs, but it is not h2's responsibility to =
ensure that it
has an RFC7540-compliant TLS config.  That is the admin's =
responsibility/choice.

WRT renegotiation, it is fair to say that the WG punted on the idea due =
to lack of time.
If someone figures out a way to safely renegotiate an h2 connection (and =
all of its
streams), then go ahead and implement it, describe it in an I-D, and =
submit it to
the httpbis WG.  There is nothing wrong with Apache leading by example.

Cheers,

....Roy


From dev-return-82913-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun  9 19:55:56 2015
Return-Path: <dev-return-82913-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A3DDA18DEF
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Jun 2015 19:55:56 +0000 (UTC)
Received: (qmail 53386 invoked by uid 500); 9 Jun 2015 19:55:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53313 invoked by uid 500); 9 Jun 2015 19:55:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53302 invoked by uid 99); 9 Jun 2015 19:55:56 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Jun 2015 19:55:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A8FD7CCCDD
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 19:55:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id nZk8N0odjqTR for <dev@httpd.apache.org>;
	Tue,  9 Jun 2015 19:55:47 +0000 (UTC)
Received: from mail-yk0-f181.google.com (mail-yk0-f181.google.com [209.85.160.181])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 2BD7242AD6
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 19:55:47 +0000 (UTC)
Received: by yked142 with SMTP id d142so13025635yke.3
        for <dev@httpd.apache.org>; Tue, 09 Jun 2015 12:55:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=nd7ELQzEoOa1P+4Y6fj+1uIpdrrcNSciWj3EuEyDXh0=;
        b=qlGSGGmAH9m0YUcPGZgLhL3ebgWpjzKyw0IzYhWD0eCGoRBfyH4uhLC8eauqLxihqC
         We5TjDTh+Rwi/gv8Dw6KEGXK7PBrYXt1+rGf4Qot1oArsKQFql0XaNKtXK2XzDZaZjxs
         nSEaECQVr7O2bKm4gPz20WfR6mSQuRdYUEzzxhiG3zeS2S2eODzseHT03heDMkNppfaX
         /LE9hO3VZVflfXK/7YS6bPFghtQhNgBRkgQXEybTEyUxcKV5/e63yTNeOoadZX2hUp3N
         cRHAN2Ug+9BtO7i9/0nolAi7mdNdgq1HcfdXfRvxmPGQz2IK2oKJ5e2vavb/rQlxyRQc
         OSEw==
MIME-Version: 1.0
X-Received: by 10.13.195.66 with SMTP id f63mr24638225ywd.107.1433879741048;
 Tue, 09 Jun 2015 12:55:41 -0700 (PDT)
Received: by 10.13.193.69 with HTTP; Tue, 9 Jun 2015 12:55:41 -0700 (PDT)
Date: Tue, 9 Jun 2015 21:55:41 +0200
Message-ID: <CAN9c_NSb2Vo+n9nhD=+0b687zbnagGNUqpSZAFBRwvJFfp6s9A@mail.gmail.com>
Subject: Apache-Test pre-requisites
From: Michael Felt <mamfelt@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a114d5b969dae2605181b24ac

--001a114d5b969dae2605181b24ac
Content-Type: text/plain; charset=UTF-8

My apologies for asking - but I am sure there are extra perl mods that need
to be installed before Apache-Test will operate as expected.

Unfortunately, it does not seem to demand them, and I have forgotten the
extra mods I loaded to get 100's of tests compared to the 13 I am getting
now.

I had hoped CPAN would tell me, but unfortunately, no.

cpan> install Apache::Test
CPAN: Storable loaded ok
Fetching with LWP:
  ftp://download.xs4all.nl/pub/mirror/CPAN/authors/01mailrc.txt.gz
Going to read /var/perl/.cpan/sources/authors/01mailrc.txt.gz
Fetching with LWP:
  ftp://download.xs4all.nl/pub/mirror/CPAN/modules/02packages.details.txt.gz
Going to read /var/perl/.cpan/sources/modules/02packages.details.txt.gz
  Database was generated on Tue, 09 Jun 2015 17:17:02 GMT

  There's a new CPAN.pm version (v2.10) available!
  [Current version is v1.7601]
  You might want to try
    install Bundle::CPAN
    reload cpan
  without quitting the current session. It should be a seamless upgrade
  while we are running...

Fetching with LWP:
  ftp://download.xs4all.nl/pub/mirror/CPAN/modules/03modlist.data.gz
Going to read /var/perl/.cpan/sources/modules/03modlist.data.gz
Going to write /var/perl/.cpan/Metadata
Apache::Test is up to date.

Reminders are welcome!

Michael

Tests are ending with:
Failed 2/13 test scripts, 84.62% okay. 7/43 subtests failed, 83.72% okay.

whereas before I was gettign numbers such as:

Failed 18/109 test programs. 247/4555 subtests failed.

And I have also had all test successful... But do not have those saved.

Mainly I am looking at 2/13 and 7/43 compared to 18/109 and 247/4555

--001a114d5b969dae2605181b24ac
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div><div><div><div><div><div><div><div>My apologies for a=
sking - but I am sure there are extra perl mods that need to be installed b=
efore Apache-Test will operate as expected.<br><br></div>Unfortunately, it =
does not seem to demand them, and I have forgotten the extra mods I loaded =
to get 100&#39;s of tests compared to the 13 I am getting now.<br><br></div=
>I had hoped CPAN would tell me, but unfortunately, no.<br><br>cpan&gt; ins=
tall Apache::Test<br>CPAN: Storable loaded ok<br>Fetching with LWP:<br>=C2=
=A0 <a href=3D"ftp://download.xs4all.nl/pub/mirror/CPAN/authors/01mailrc.tx=
t.gz">ftp://download.xs4all.nl/pub/mirror/CPAN/authors/01mailrc.txt.gz</a><=
br>Going to read /var/perl/.cpan/sources/authors/01mailrc.txt.gz<br>Fetchin=
g with LWP:<br>=C2=A0 <a href=3D"ftp://download.xs4all.nl/pub/mirror/CPAN/m=
odules/02packages.details.txt.gz">ftp://download.xs4all.nl/pub/mirror/CPAN/=
modules/02packages.details.txt.gz</a><br>Going to read /var/perl/.cpan/sour=
ces/modules/02packages.details.txt.gz<br>=C2=A0 Database was generated on T=
ue, 09 Jun 2015 17:17:02 GMT<br><br>=C2=A0 There&#39;s a new CPAN.pm versio=
n (v2.10) available!<br>=C2=A0 [Current version is v1.7601]<br>=C2=A0 You m=
ight want to try<br>=C2=A0=C2=A0=C2=A0 install Bundle::CPAN<br>=C2=A0=C2=A0=
=C2=A0 reload cpan<br>=C2=A0 without quitting the current session. It shoul=
d be a seamless upgrade<br>=C2=A0 while we are running...<br><br>Fetching w=
ith LWP:<br>=C2=A0 <a href=3D"ftp://download.xs4all.nl/pub/mirror/CPAN/modu=
les/03modlist.data.gz">ftp://download.xs4all.nl/pub/mirror/CPAN/modules/03m=
odlist.data.gz</a><br>Going to read /var/perl/.cpan/sources/modules/03modli=
st.data.gz<br>Going to write /var/perl/.cpan/Metadata<br>Apache::Test is up=
 to date.<br><br></div>Reminders are welcome!<br><br></div>Michael<br><br><=
/div>Tests are ending with:<br>Failed 2/13 test scripts, 84.62% okay. 7/43 =
subtests failed, 83.72% okay.<br><br></div>whereas before I was gettign num=
bers such as:<br><br>Failed 18/109 test programs. 247/4555 subtests failed.=
<br><br></div>And I have also had all test successful... But do not have th=
ose saved.<br><br></div>Mainly I am looking at 2/13 and 7/43 compared to 18=
/109 and 247/4555<br><div><div><br></div></div></div>

--001a114d5b969dae2605181b24ac--

From dev-return-82914-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun  9 20:32:04 2015
Return-Path: <dev-return-82914-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4DA8018F47
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  9 Jun 2015 20:32:04 +0000 (UTC)
Received: (qmail 36552 invoked by uid 500); 9 Jun 2015 20:32:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36493 invoked by uid 500); 9 Jun 2015 20:32:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36483 invoked by uid 99); 9 Jun 2015 20:32:03 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 09 Jun 2015 20:32:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 6A298CCCDC
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 20:32:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.979
X-Spam-Level: **
X-Spam-Status: No, score=2.979 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id iBydzJufuWlK for <dev@httpd.apache.org>;
	Tue,  9 Jun 2015 20:32:02 +0000 (UTC)
Received: from mail-ig0-f174.google.com (mail-ig0-f174.google.com [209.85.213.174])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 928EC47BD4
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 20:32:01 +0000 (UTC)
Received: by igbhj9 with SMTP id hj9so21109294igb.1
        for <dev@httpd.apache.org>; Tue, 09 Jun 2015 13:32:01 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=JiDKWuEDsI9DudbUvCyDNCNLaZkqF8OOsq5+CW2TQow=;
        b=eCZ353cjr4MTp9Vc5SdwyXsZlLTdSYkvYPcP1H6J3wWl8iqkNiNPhlXGjzP5rLN5h+
         N1RDd4+n95iwKKT0ez+jEyjsg/CeXpNAEwAhFsHhwqOI9Q8rCaVv8ftP1izvKNz/IqVm
         ZiQD3ETXyk3JHYMqEbP4I55wh82YuB3DhzzI+19+F5cW5yfkNs3bTqWkA1u0DgIzF0dW
         uhaUEyXO1pQZ8i107oNmu9tvwFQVEWw96tgWVguP0oWKHtdSaEdlBUYBK87f0psX+RSV
         jkaKjVQ5xOltd0w4yv1DjKLQX5ZX5FqDPqQq/B4ix/QCKd9WrvBmx76PG6eNyr0uue0b
         iNTg==
X-Gm-Message-State: ALoCoQkmJojZZIGdS9JG8YjHqksKHSvCCp1ZVBueu8ZGIvcXBugri3V7TFYAVc7xIfjeEsIi33Ki
MIME-Version: 1.0
X-Received: by 10.43.140.5 with SMTP id iy5mr755269icc.77.1433881921052; Tue,
 09 Jun 2015 13:32:01 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Tue, 9 Jun 2015 13:32:01 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
Date: Tue, 9 Jun 2015 15:32:01 -0500
Message-ID: <CACsi251wFnbi32CmyG9R4vGWj9CZo+=0kh+7w5sa4Ckqm_CdrA@mail.gmail.com>
Subject: Review of 2.2.x security patch sought.
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11c2c5888e1ab305181ba631

--001a11c2c5888e1ab305181ba631
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Committers,

we ended up short on reviewers in the security list, and are proceeding
shortly with 2.4.14.

I can't proceed with 2.2.30 until I get a third set of eyeballs on the
2.2.30-dev backport,
could someone offer to review ASAP?  I will be tagging once the backport is
approved,
no other changes to 2.2.x. branch until 2.2.31-dev.

The defect is considered Low severity based on httpd team's initial
assessment.
The other patch coming in a moment doesn't apply to 2.2.x at all.

On Tue, Jun 9, 2015 at 3:26 PM, <wrowe@apache.org> wrote:

> Adjust URL for public consumption
>
> Modified:
>     httpd/httpd/branches/2.2.x/STATUS
>
> Modified: httpd/httpd/branches/2.2.x/STATUS
> URL:
> http://svn.apache.org/viewvc/httpd/httpd/branches/2.2.x/STATUS?rev=3D1684=
520&r1=3D1684519&r2=3D1684520&view=3Ddiff
>
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D
> --- httpd/httpd/branches/2.2.x/STATUS (original)
> +++ httpd/httpd/branches/2.2.x/STATUS Tue Jun  9 20:26:47 2015
> @@ -109,12 +109,12 @@ RELEASE SHOWSTOPPERS:
>    Reported by: R=C3=83=C2=A9gis Leroy
>
>    trunk
> +    http://svn.apache.org/r1484852
> +    http://svn.apache.org/r1684513
>    2.4.x branch
> +    http://svn.apache.org/r1684515
>    2.2.x branch
> +
> http://people.apache.org/~wrowe/httpd-2.2.x-ap_http_filter-chunked-v6.pat=
ch
>    +1: ylavic, wrowe
>    jim notes: test framework errors due to 413->400 error change [test
> adjusted]
>
>
>
>

--001a11c2c5888e1ab305181ba631
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Committers,<div><br></div><div>we ended up short on review=
ers in the security list, and are proceeding shortly with 2.4.14.</div><div=
><br></div><div>I can&#39;t proceed with 2.2.30 until I get a third set of =
eyeballs on the 2.2.30-dev backport,</div><div>could someone offer to revie=
w ASAP?=C2=A0 I will be tagging once the backport is approved,</div><div>no=
 other changes to 2.2.x. branch until 2.2.31-dev.</div><div><br></div><div>=
The defect is considered Low severity based on httpd team&#39;s initial ass=
essment.</div><div>The other patch coming in a moment doesn&#39;t apply to =
2.2.x at all.</div><div><br></div><div class=3D"gmail_extra"><div class=3D"=
gmail_quote">On Tue, Jun 9, 2015 at 3:26 PM,  <span dir=3D"ltr">&lt;<a href=
=3D"mailto:wrowe@apache.org" target=3D"_blank">wrowe@apache.org</a>&gt;</sp=
an> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;=
border-left:1px #ccc solid;padding-left:1ex">Adjust URL for public consumpt=
ion<br>
<br>
Modified:<br>
=C2=A0 =C2=A0 httpd/httpd/branches/2.2.x/STATUS<br>
<br>
Modified: httpd/httpd/branches/2.2.x/STATUS<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/branches/2.2.x/STA=
TUS?rev=3D1684520&amp;r1=3D1684519&amp;r2=3D1684520&amp;view=3Ddiff" target=
=3D"_blank">http://svn.apache.org/viewvc/httpd/httpd/branches/2.2.x/STATUS?=
rev=3D1684520&amp;r1=3D1684519&amp;r2=3D1684520&amp;view=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/branches/2.2.x/STATUS (original)<br>
+++ httpd/httpd/branches/2.2.x/STATUS Tue Jun=C2=A0 9 20:26:47 2015<br>
@@ -109,12 +109,12 @@ RELEASE SHOWSTOPPERS:<br>
=C2=A0 =C2=A0Reported by: R=C3=83=C2=A9gis Leroy<br>
<br>
=C2=A0 =C2=A0trunk<br>+=C2=A0 =C2=A0 <a href=3D"http://svn.apache.org/r1484=
852" target=3D"_blank">http://svn.apache.org/r1484852</a><br>
+=C2=A0 =C2=A0 <a href=3D"http://svn.apache.org/r1684513" target=3D"_blank"=
>http://svn.apache.org/r1684513</a><br>
=C2=A0 =C2=A02.4.x branch<br>+=C2=A0 =C2=A0 <a href=3D"http://svn.apache.or=
g/r1684515" target=3D"_blank">http://svn.apache.org/r1684515</a><br>
=C2=A0 =C2=A02.2.x branch<br>+=C2=A0 =C2=A0 <a href=3D"http://people.apache=
.org/~wrowe/httpd-2.2.x-ap_http_filter-chunked-v6.patch" target=3D"_blank">=
http://people.apache.org/~wrowe/httpd-2.2.x-ap_http_filter-chunked-v6.patch=
</a><br>
=C2=A0 =C2=A0+1: ylavic, wrowe<br>
=C2=A0 =C2=A0jim notes: test framework errors due to 413-&gt;400 error chan=
ge [test adjusted]<br>
<br>
<br>
<br>
</blockquote></div><br></div></div>

--001a11c2c5888e1ab305181ba631--

From dev-return-82915-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 10 03:55:10 2015
Return-Path: <dev-return-82915-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3D2DF18174
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Jun 2015 03:55:10 +0000 (UTC)
Received: (qmail 74351 invoked by uid 500); 10 Jun 2015 03:55:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 74266 invoked by uid 500); 10 Jun 2015 03:55:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 74256 invoked by uid 99); 10 Jun 2015 03:55:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Jun 2015 03:55:09 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ben@reser.org designates 50.197.89.41 as permitted sender)
Received: from [50.197.89.41] (HELO mail.brain.org) (50.197.89.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Jun 2015 03:52:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by mail.brain.org (Postfix) with ESMTP id 8C4A1179E28D
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 20:54:40 -0700 (PDT)
X-Virus-Scanned: Debian amavisd-new at fornix.brain.org
Received: from mail.brain.org ([127.0.0.1])
	by localhost (fornix.brain.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rZVOijZWXbJT for <dev@httpd.apache.org>;
	Tue,  9 Jun 2015 20:54:40 -0700 (PDT)
Received: from kong.brain.org (kong.brain.org [IPv6:2001:470:e966:5:5a55:caff:fef4:5c8b])
	(using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
	(No client certificate requested)
	by mail.brain.org (Postfix) with ESMTPSA id 34540179E0A5
	for <dev@httpd.apache.org>; Tue,  9 Jun 2015 20:54:40 -0700 (PDT)
Message-ID: <5577B4F3.7000102@reser.org>
Date: Tue, 09 Jun 2015 20:54:27 -0700
From: Ben Reser <ben@reser.org>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: STATUS and Backport Review efficiency
References: <CACsi251j-dNvtJ6O2JOkbfjSrjBnhPJgOPwULTzf987WfiJOpw@mail.gmail.com>
In-Reply-To: <CACsi251j-dNvtJ6O2JOkbfjSrjBnhPJgOPwULTzf987WfiJOpw@mail.gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 6/8/15 10:17 AM, William A Rowe Jr wrote:
> In this example, the patch was enhanced and the original reviewers' efforts
> were thrown away. It's a shame to waste the limited review cycles.
> 
> Moving forwards, can we please do two things.  1) retain the original patch and
> vote in the STATUS, adding a revised patch below the vote that can be reviewed,
> and 2) show the changelog of patch 1 vs. patch 2 so that the original reviewer
> doesn't have to bisect two patches to determine whether the change had any
> measurable effect on the original patch review?
> 
> We might start an
> http://svn.apache.org/repos/asf/httpd/httpd/patches/backports/2.[24].x/ tree,
> so that viewvc can be helpful in this respect, instead of multiple patches
> residing in our individual public_html/ trees. WDYAT?
> 
> All of this is to say that we should pay extra close attention to correctness
> when we first submit a backport patch proposal, and request 3) is to please not
> use STATUS as a discussion tool.  If the comment/observation doesn't fit in 240
> characters (3 lines), it probably belongs on the list instead, or can be a
> short note in STATUS with a long explanation on dev.

This would be a lot less painful if the httpd project would actually use SVN
for managing these patches.  The the SVN project does this.  Here's an example
of a SVN STATUS entry (from the 1.8.x release branch):
[[[
 * r1654932, r1654933, r1654934, r1654937
   Fix issue #4554, "0 file length reported in FSFS".
   Justification:
     This causes 'svnadmin dump' to create corrupted output that fails to
     load and we provide no way to detect that problem other than loading
     the respective dump.  We also want to prevent further instances of
     that issue to be added to the repository.
   Notes:
     r1561419 has been removed from this change set and proposed for a
     separate backport because it is not a necessary part of the #4554 fix.
   Branch:
     ^/subversion/branches/1.8.x-issue4554-v2
   Votes:
     +1: rhuijben
     +1: stefan2 (before -v2 branch)
     +0: danielsh (hard to review all potential causes of expanded_size==0 in
                   7*3*2 cases (1.11.8)  (file/dir/prop rep)  (plain/delta))
]]]

The first line is the trunk revisions being backported.  However, these changes
do not cleanly merge from trunk onto 1.8.x.  So a backport branch was made.
The change was merged and any conflicts resolved (or possibly other changes).
This particular change is a tad unusual in that a second backport branch was
made.  Usually any modifications just mean additional changes on the branch and
the vote split would notice which branch changes weren't included in the review.

The workflow for the httpd project would look something like this (presuming
you start with the 2.4.x branch checked out in your $PWD):

svn cp ^/httpd/httpd/branches/2.4.x
^/httpd/httpd/branches/2.4.x-ap-listeners-buckets
svn switch ^/httpd/httpd/branches/2.4.x-ap-listeners-buckets
svn merge -c 'r1640763, r1643179, r1656368' ^/httpd/httpd/trunk .
# handle conflicts or anything needed.
svn ci
# Further changes repeat the merge/commit.
svn switch ^/httpd/httpd/branches/2.4.x

Then when approved you merge the branch onto the release branch like so onto
the 2.4.x branch (presuming you start with 2.4.x branch checked out in your $PWD):

svn merge ^/httpd/httpd/branches/2.4.x-ap-listeners-buckets .
svn rm ^/httpd/httpd/branches/2.4.x-ap-listeners-buckets


Using this workflow resolves almost all of your requests.

1) You can preserve votes easily by noting when someone didn't vote for new
revisions on the branch and moving their vote to a separate line.
2) You have history, no need to try and track the history in the STATUS file.
3) This doesn't resolve this issue and the SVN project somewhat does the same
as you can see above.  But I think it helps because it's far less confusing
about what everyone reviewed and what their comments are about.

From dev-return-82916-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 10 12:24:06 2015
Return-Path: <dev-return-82916-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5692417318
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Jun 2015 12:24:06 +0000 (UTC)
Received: (qmail 48607 invoked by uid 500); 10 Jun 2015 12:24:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48532 invoked by uid 500); 10 Jun 2015 12:24:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48522 invoked by uid 99); 10 Jun 2015 12:24:05 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Jun 2015 12:24:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 03A58C0940
	for <dev@httpd.apache.org>; Wed, 10 Jun 2015 12:24:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Xu_pOUDH7gHd for <dev@httpd.apache.org>;
	Wed, 10 Jun 2015 12:24:04 +0000 (UTC)
Received: from che.mayfirst.org (che.mayfirst.org [209.234.253.108])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 8186321240
	for <dev@httpd.apache.org>; Wed, 10 Jun 2015 12:24:03 +0000 (UTC)
Received: from fifthhorseman.net (c-73-128-23-123.hsd1.md.comcast.net [73.128.23.123])
	by che.mayfirst.org (Postfix) with ESMTPSA id 46077F984;
	Wed, 10 Jun 2015 08:23:53 -0400 (EDT)
Received: by fifthhorseman.net (Postfix, from userid 1000)
	id 2856D1FF5D; Wed, 10 Jun 2015 08:23:40 -0400 (EDT)
From: Daniel Kahn Gillmor <dkg@fifthhorseman.net>
To: "Roy T. Fielding" <fielding@gbiv.com>, dev@httpd.apache.org
Subject: Re: RFC 7540 (HTTP/2) wrt reusable connections and SNI
In-Reply-To: <6C244058-7C6C-4370-B247-5ECC569B1F09@gbiv.com>
References: <CAKQ1sVNvy2q60=V5cHcC+dBbC+xB296sfvH8fLiyvE1mGTJ6sQ@mail.gmail.com> <CALK=YjMZtL1cL=KbA_mE7LUGUJUzss6zZAqtPFxmjp408PW+4g@mail.gmail.com> <9C4D4BCE-BB58-4500-8C3A-DC7871886DD0@greenbytes.de> <CAKQ1sVOSUyVoiQLFi8bZiH4UROdf7-HN9MV6oa7vhavi_dRa-Q@mail.gmail.com> <E67401C6-3897-4294-99D6-1D4DB5435265@greenbytes.de> <CAKQ1sVMYTn7rADsXnxryVDHH5_YUBWrv=1j4U4k2dkmBewHenA@mail.gmail.com> <6C244058-7C6C-4370-B247-5ECC569B1F09@gbiv.com>
User-Agent: Notmuch/0.20.1 (http://notmuchmail.org) Emacs/24.4.1 (x86_64-pc-linux-gnu)
Date: Wed, 10 Jun 2015 08:23:40 -0400
Message-ID: <87zj47px9v.fsf@alice.fifthhorseman.net>
MIME-Version: 1.0
Content-Type: text/plain

On Tue 2015-06-09 13:43:59 -0400, Roy T. Fielding wrote:
> WRT renegotiation, it is fair to say that the WG punted on the idea
> due to lack of time.  If someone figures out a way to safely
> renegotiate an h2 connection (and all of its streams), then go ahead
> and implement it, describe it in an I-D, and submit it to the httpbis
> WG.  There is nothing wrong with Apache leading by example.

As a heads-up: in the TLS WG, we are strongly considering banning
renegotiation altogether in TLS 1.3.  We are working on an alternate
mechanism for clients that need to re-authenticate after having
requested a a resource over an unauthenticated channel, but it will
probably not be a full TLS renegotiation.

         --dkg

From dev-return-82917-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 10 14:42:21 2015
Return-Path: <dev-return-82917-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2AE78178EB
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Jun 2015 14:42:21 +0000 (UTC)
Received: (qmail 2829 invoked by uid 500); 10 Jun 2015 14:42:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 2757 invoked by uid 500); 10 Jun 2015 14:42:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 2747 invoked by uid 99); 10 Jun 2015 14:42:20 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Jun 2015 14:42:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 4DBCB1827EA
	for <dev@httpd.apache.org>; Wed, 10 Jun 2015 14:42:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.011
X-Spam-Level:
X-Spam-Status: No, score=-0.011 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id JKNf8-GfnqXM for <dev@httpd.apache.org>;
	Wed, 10 Jun 2015 14:42:19 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 091452762B
	for <dev@httpd.apache.org>; Wed, 10 Jun 2015 14:42:18 +0000 (UTC)
Received: from delight.greenbytes.de (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 0FF2E15A0448
	for <dev@httpd.apache.org>; Wed, 10 Jun 2015 16:41:40 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Subject: SNI Host: header mismatch
Message-Id: <6A48855E-B573-4946-8BC7-AE914B94BE90@greenbytes.de>
Date: Wed, 10 Jun 2015 16:41:39 +0200
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
X-Mailer: Apple Mail (2.2098)

Today I had the second user which got "400 Bad Request" when using =
mod_h2 with a wildcard certificate. So, I was thinking how to possibly =
fix the code in mod_ssl.

The mostly harmless approach is the addition of a configuration =
directive that admins may use to explicitly allow multiple host requests =
on a SNI connection. Which would mean that both the config of the SNI =
host and the config of the request host have "SSLSNIVHostMatch off".

The case where no Host header is provided or no SNI is used I propose to =
leave unaffected, e.g. continue to fail.

Any thoughts?

//Stefan


<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82918-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 10 15:30:34 2015
Return-Path: <dev-return-82918-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 483EE17ACE
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Jun 2015 15:30:34 +0000 (UTC)
Received: (qmail 34223 invoked by uid 500); 10 Jun 2015 15:30:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 34147 invoked by uid 500); 10 Jun 2015 15:30:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 34137 invoked by uid 99); 10 Jun 2015 15:30:33 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Jun 2015 15:30:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 451371A49C8
	for <dev@httpd.apache.org>; Wed, 10 Jun 2015 15:30:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id R8gir2JvQ-uK for <dev@httpd.apache.org>;
	Wed, 10 Jun 2015 15:30:27 +0000 (UTC)
Received: from mail-ig0-f172.google.com (mail-ig0-f172.google.com [209.85.213.172])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 0181B43CD7
	for <dev@httpd.apache.org>; Wed, 10 Jun 2015 15:30:27 +0000 (UTC)
Received: by igbhj9 with SMTP id hj9so38232314igb.1
        for <dev@httpd.apache.org>; Wed, 10 Jun 2015 08:30:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=jUcU9j3lnMxla38vSB6fSJxOJld05D6+nOnC/4ZHfuM=;
        b=MOwEiTpbTX7JH4XJ/tyyVKQGiHgx0KVx3J8j2QYlS61b0xCtGSnqF5GH7Cc+Evh72L
         2DvnCoKoEYGXs7rPKWoGz9yP+F0J8UPP9PuKdR9Eqw9nHF3Jz0aLim46lujtP39s3nSE
         4zBj+pLBeJKIxRSZrGWo6vN4dqiObFg8B8bNllNV9moPwqq3gPoZVPLRvYsL7FD+XDhE
         zwS9GN1QeDVbLbIKe5jx06ZjAtXWitCcFaI+IWYwgeTpjPAHMa2F6xnUVNowrQpqkRuX
         wsFekcfZr+pTkE8T4wW3OD2Vcbsji9lAvUPCxTXjiegANMPWqR41ennWNWouz0uW3xvQ
         m7NQ==
MIME-Version: 1.0
X-Received: by 10.43.162.136 with SMTP id mk8mr5505625icc.28.1433950226641;
 Wed, 10 Jun 2015 08:30:26 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Wed, 10 Jun 2015 08:30:26 -0700 (PDT)
In-Reply-To: <6A48855E-B573-4946-8BC7-AE914B94BE90@greenbytes.de>
References: <6A48855E-B573-4946-8BC7-AE914B94BE90@greenbytes.de>
Date: Wed, 10 Jun 2015 17:30:26 +0200
Message-ID: <CAKQ1sVPBxaHCMCzjf3p-pTpPhQk-dcrASvy6Zs-wgpqYD=YVXg@mail.gmail.com>
Subject: Re: SNI Host: header mismatch
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Jun 10, 2015 at 4:41 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> Today I had the second user which got "400 Bad Request" when using mod_h2=
 with a wildcard certificate. So, I was thinking how to possibly fix the co=
de in mod_ssl.
>
> The mostly harmless approach is the addition of a configuration directive=
 that admins may use to explicitly allow multiple host requests on a SNI co=
nnection. Which would mean that both the config of the SNI host and the con=
fig of the request host have "SSLSNIVHostMatch off".
>
> The case where no Host header is provided or no SNI is used I propose to =
leave unaffected, e.g. continue to fail.
>
> Any thoughts?

Maybe matching against the ServerName and ServerAlias(es) instead of
the Host header, so that the admin can still have a control on it...

From dev-return-82919-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 10 15:31:56 2015
Return-Path: <dev-return-82919-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0927017AEE
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Jun 2015 15:31:56 +0000 (UTC)
Received: (qmail 40733 invoked by uid 500); 10 Jun 2015 15:31:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 40668 invoked by uid 500); 10 Jun 2015 15:31:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 40658 invoked by uid 99); 10 Jun 2015 15:31:52 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Jun 2015 15:31:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id E91CECD007
	for <dev@httpd.apache.org>; Wed, 10 Jun 2015 15:31:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.131
X-Spam-Level:
X-Spam-Status: No, score=-0.131 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H4=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=ptc.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 8EaKheaHhB3m for <dev@httpd.apache.org>;
	Wed, 10 Jun 2015 15:31:45 +0000 (UTC)
Received: from mx2.ptc.com (mx2.ptc.com [12.11.148.189])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id EBC2C27621
	for <dev@httpd.apache.org>; Wed, 10 Jun 2015 15:31:44 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
  d=ptc.com; s=ptc; t=1433950305; x=1465486305;
  h=message-id:date:from:mime-version:to:subject:references:
   in-reply-to:content-transfer-encoding;
  bh=EzgXXj6MkWbbARoTYtfKc7Xk7A08YivmOnUC3B8v5KA=;
  b=i/vX1pvjmF0Oe3d7e74PF8k9RELm5U2vpXA3IQnsEuda4+xRO6WNO4QM
   C6CjsxDKYWSfjOwZaAQhOJot8Yp/r62ArKVJBzBQLf4uKcUr2Y744dGyP
   uZfmT/vuDOKBg+9QEkUV+olyYKo1Kj303/gyBirxXhDhPm5TxaeXZ7tcf
   c=;
X-IronPort-AV: E=Sophos;i="5.13,588,1427774400"; 
   d="scan'208";a="18103422"
Received: from hq-x10prdhub2.ptcnet.ptc.com ([132.253.198.28])
  by mx2-int.ptc.com with ESMTP/TLS/AES128-SHA; 10 Jun 2015 11:31:36 -0400
Received: from awang.ptcnet.ptc.com (132.253.8.73) by
 HQ-X10PRDHUB2.ptcnet.ptc.com (132.253.201.252) with Microsoft SMTP Server id
 14.3.123.3; Wed, 10 Jun 2015 11:31:36 -0400
Message-ID: <55785857.2040909@ptc.com>
Date: Wed, 10 Jun 2015 10:31:35 -0500
From: Andy Wang <awang@ptc.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: <dev@httpd.apache.org>
Subject: httpd 2.4 and windows "hangs" and AcceptFilter solution
References: <552E9491.7050802@ptc.com>
In-Reply-To: <552E9491.7050802@ptc.com>
X-Forwarded-Message-Id: <552E9491.7050802@ptc.com>
Content-Type: text/plain; charset="utf-8"; format=flowed
Content-Transfer-Encoding: 7bit
X-Originating-IP: [132.253.8.73]

I originally asked this on user@httpd and didn't get a response, so 
thought I'd redirect to dev and see if anyone can explain why this would 
occur if you have time.  I have to admit, it's a curiosity to me, that I 
just don't want to let go until I understand it and what research I've 
done into AcceptEx doesn't seem to be giving me any more insight.

--- original message ---

We've come across numerous cases where apache httpd 2.4 (I'm using
2.4.12 but I don't believe this is version specific) hang using the
default configuration options.

There are two cases
1) we have an InstallAnywhere installer that launches httpd during
install time to do some initial work.  When the installanywhere
installer starts httpd.exe (it does it via cmd.exe) httpd does not
respond to requests.  If you kill the installanywhere installer, then
all of the sudden httpd starts responding
2) certain IE 11 client requests hang httpd 2.4.

I've wireshark'ed #2 and at some point, an http GET gets an ACK and
nothing more.  I've peeked a little bit at the process threads with
processexplorer (unfortunately i'm not a windows developer, so I'm not
entirely familiar with the low level windows stuff) and everyhting looks
like it's okay and simply waiting for requests.

What I found after googling and testing is AcceptFilter http|https none
prevents both of those problems.  I've not yet tried connect to see if
that works either.

But what I'm really wondering about is, can anyone explain, especially
in #2, what it is about AcceptFilter http none that actually resolves
these types of issues?

Thanks,
Andy





From dev-return-82920-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 10 15:48:45 2015
Return-Path: <dev-return-82920-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D4F6017BC6
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Jun 2015 15:48:44 +0000 (UTC)
Received: (qmail 96942 invoked by uid 500); 10 Jun 2015 15:48:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 96855 invoked by uid 500); 10 Jun 2015 15:48:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 96844 invoked by uid 99); 10 Jun 2015 15:48:44 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Jun 2015 15:48:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id E0700CD0D7
	for <dev@httpd.apache.org>; Wed, 10 Jun 2015 15:48:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id a2uc-MsyNyRO for <dev@httpd.apache.org>;
	Wed, 10 Jun 2015 15:48:36 +0000 (UTC)
Received: from mail-ie0-f172.google.com (mail-ie0-f172.google.com [209.85.223.172])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 4E6C527619
	for <dev@httpd.apache.org>; Wed, 10 Jun 2015 15:48:36 +0000 (UTC)
Received: by iebgx4 with SMTP id gx4so37191522ieb.0
        for <dev@httpd.apache.org>; Wed, 10 Jun 2015 08:48:35 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=m4kaSGSda3X9mZi7XjRZx/7TxWdFmqTc/CFbqdl4nvE=;
        b=VWZ6im9FZAILM2b8epxWNOBkdiqZ4xtmOvK7BqXrxJpp2LgxIcOcKWu3MQlJ7tkYJw
         oDeTfQVT44Hb2GLWAQCUC+BRaf0WhletS4B3RRUFkDV0XOahUN7KqsLAbwtpvSpHA+mZ
         07aobFeuIajDoYZpOkknwvFEF7r3q76omnhPnNixlvStVTUSbsqXtxdJWsaVKmnnRxpB
         ceU6gFrwPduCwUTvnpmHReBUltkQVk4TTb/hDvj4SaczkrzEMWQ9YAKnESakyzb/C/Xh
         za3GwUdeY8cxJ2/G6iIWlGTWc9MF90Nq2WWdl0BBSz9fdBpOm8xeIVyw/sZ1n34F+dbF
         jclg==
X-Gm-Message-State: ALoCoQmA3JMvGSmkc3pluTPTeqnWwMighntw547gQT6tXM32jrYyV2W5ZE5tLwJ40YPyI4VFldGK
MIME-Version: 1.0
X-Received: by 10.42.144.131 with SMTP id b3mr5628685icv.35.1433951315607;
 Wed, 10 Jun 2015 08:48:35 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Wed, 10 Jun 2015 08:48:35 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <55785857.2040909@ptc.com>
References: <552E9491.7050802@ptc.com>
	<55785857.2040909@ptc.com>
Date: Wed, 10 Jun 2015 10:48:35 -0500
Message-ID: <CACsi252U-HHYCSVShQLSp0TO8acsJ7Eq8zvcLrjJLWxtz=qqfw@mail.gmail.com>
Subject: Re: httpd 2.4 and windows "hangs" and AcceptFilter solution
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=90e6ba1efd28cb05d905182bce6a

--90e6ba1efd28cb05d905182bce6a
Content-Type: text/plain; charset=UTF-8

It turns off all advanced socket mechanics for accepting connections.  That
means
it won't pre-fetch data.  Because of how cobbled-together the WinSock
network
stack drivers (third parties, included) were, there are many things that
break
sendfile (disable sendfile) or socket reuse (disable advanced accept logic).

In other words, if you need reliability on some pretty crazy installations
of
Windows with lots of out-of-date drivers, your solution is the way to go.
They
are for performance, there is no reason to turn these on in low-traffic
cases.


On Wed, Jun 10, 2015 at 10:31 AM, Andy Wang <awang@ptc.com> wrote:

> I originally asked this on user@httpd and didn't get a response, so
> thought I'd redirect to dev and see if anyone can explain why this would
> occur if you have time.  I have to admit, it's a curiosity to me, that I
> just don't want to let go until I understand it and what research I've done
> into AcceptEx doesn't seem to be giving me any more insight.
>
> --- original message ---
>
> We've come across numerous cases where apache httpd 2.4 (I'm using
> 2.4.12 but I don't believe this is version specific) hang using the
> default configuration options.
>
> There are two cases
> 1) we have an InstallAnywhere installer that launches httpd during
> install time to do some initial work.  When the installanywhere
> installer starts httpd.exe (it does it via cmd.exe) httpd does not
> respond to requests.  If you kill the installanywhere installer, then
> all of the sudden httpd starts responding
> 2) certain IE 11 client requests hang httpd 2.4.
>
> I've wireshark'ed #2 and at some point, an http GET gets an ACK and
> nothing more.  I've peeked a little bit at the process threads with
> processexplorer (unfortunately i'm not a windows developer, so I'm not
> entirely familiar with the low level windows stuff) and everyhting looks
> like it's okay and simply waiting for requests.
>
> What I found after googling and testing is AcceptFilter http|https none
> prevents both of those problems.  I've not yet tried connect to see if
> that works either.
>
> But what I'm really wondering about is, can anyone explain, especially
> in #2, what it is about AcceptFilter http none that actually resolves
> these types of issues?
>
> Thanks,
> Andy
>
>
>
>
>

--90e6ba1efd28cb05d905182bce6a
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">It turns off all advanced socket mechanics for accepting c=
onnections.=C2=A0 That means<div>it won&#39;t pre-fetch data.=C2=A0 Because=
 of how cobbled-together the WinSock network</div><div>stack drivers (third=
 parties, included) were, there are many things that break</div><div>sendfi=
le (disable sendfile) or socket reuse (disable advanced accept logic).</div=
><div><br></div><div>In other words, if you need reliability on some pretty=
 crazy installations of</div><div>Windows with lots of out-of-date drivers,=
 your solution is the way to go.=C2=A0 They</div><div>are for performance, =
there is no reason to turn these on in low-traffic cases.</div><div><br></d=
iv></div><div class=3D"gmail_extra"><br><div class=3D"gmail_quote">On Wed, =
Jun 10, 2015 at 10:31 AM, Andy Wang <span dir=3D"ltr">&lt;<a href=3D"mailto=
:awang@ptc.com" target=3D"_blank">awang@ptc.com</a>&gt;</span> wrote:<br><b=
lockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px =
#ccc solid;padding-left:1ex">I originally asked this on user@httpd and didn=
&#39;t get a response, so thought I&#39;d redirect to dev and see if anyone=
 can explain why this would occur if you have time.=C2=A0 I have to admit, =
it&#39;s a curiosity to me, that I just don&#39;t want to let go until I un=
derstand it and what research I&#39;ve done into AcceptEx doesn&#39;t seem =
to be giving me any more insight.<br>
<br>
--- original message ---<br>
<br>
We&#39;ve come across numerous cases where apache httpd 2.4 (I&#39;m using<=
br>
2.4.12 but I don&#39;t believe this is version specific) hang using the<br>
default configuration options.<br>
<br>
There are two cases<br>
1) we have an InstallAnywhere installer that launches httpd during<br>
install time to do some initial work.=C2=A0 When the installanywhere<br>
installer starts httpd.exe (it does it via cmd.exe) httpd does not<br>
respond to requests.=C2=A0 If you kill the installanywhere installer, then<=
br>
all of the sudden httpd starts responding<br>
2) certain IE 11 client requests hang httpd 2.4.<br>
<br>
I&#39;ve wireshark&#39;ed #2 and at some point, an http GET gets an ACK and=
<br>
nothing more.=C2=A0 I&#39;ve peeked a little bit at the process threads wit=
h<br>
processexplorer (unfortunately i&#39;m not a windows developer, so I&#39;m =
not<br>
entirely familiar with the low level windows stuff) and everyhting looks<br=
>
like it&#39;s okay and simply waiting for requests.<br>
<br>
What I found after googling and testing is AcceptFilter http|https none<br>
prevents both of those problems.=C2=A0 I&#39;ve not yet tried connect to se=
e if<br>
that works either.<br>
<br>
But what I&#39;m really wondering about is, can anyone explain, especially<=
br>
in #2, what it is about AcceptFilter http none that actually resolves<br>
these types of issues?<br>
<br>
Thanks,<br>
Andy<br>
<br>
<br>
<br>
<br>
</blockquote></div><br></div>

--90e6ba1efd28cb05d905182bce6a--

From dev-return-82921-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 10 15:49:07 2015
Return-Path: <dev-return-82921-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 63DA717BD1
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Jun 2015 15:49:07 +0000 (UTC)
Received: (qmail 1072 invoked by uid 500); 10 Jun 2015 15:49:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1010 invoked by uid 500); 10 Jun 2015 15:49:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1000 invoked by uid 99); 10 Jun 2015 15:49:06 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Jun 2015 15:49:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 782A1C0940
	for <dev@httpd.apache.org>; Wed, 10 Jun 2015 15:49:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id bCC7pdR3YCit for <dev@httpd.apache.org>;
	Wed, 10 Jun 2015 15:49:00 +0000 (UTC)
Received: from mail-ig0-f173.google.com (mail-ig0-f173.google.com [209.85.213.173])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 33F7E43E5C
	for <dev@httpd.apache.org>; Wed, 10 Jun 2015 15:49:00 +0000 (UTC)
Received: by igbsb11 with SMTP id sb11so36555916igb.0
        for <dev@httpd.apache.org>; Wed, 10 Jun 2015 08:48:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=ha3ERubDQ4pAbAjOlcZqQDIMn2Q9mlRfdH/wc2QTIro=;
        b=io5tC68UJUSE5/ERs1fcw16nc4uybvQJpJR3OBTIoBcBFqjYUWsxU26YBpWUjezP0i
         H5+oHbZr3JW+4ZkLix4gnyOrP8CqpjZ4H4XhuiXHzhi0xVL4Y4s/1lPJRlyXPkBjteG0
         Khte8AKpvDGi2WypOzAfH9cxxn7qkulIgGTTS5w/Xk8jkjRh08zMZ6Bg2Jbkw5J3aqv7
         h4zw2324lrb1FcFFcBW9T3tFZqUpDa9B/RW+aaKrlNu9r4nGtSsWSdud+ZNzRFqGHCok
         lgQlxDY5OricfD5s6iyfCpQUTstKBTBPsh6i007hF1mTmtk4DNp07ZJG3CyMRBIrLrzG
         1QTA==
MIME-Version: 1.0
X-Received: by 10.43.162.136 with SMTP id mk8mr5599864icc.28.1433951333096;
 Wed, 10 Jun 2015 08:48:53 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Wed, 10 Jun 2015 08:48:53 -0700 (PDT)
In-Reply-To: <CAKQ1sVPBxaHCMCzjf3p-pTpPhQk-dcrASvy6Zs-wgpqYD=YVXg@mail.gmail.com>
References: <6A48855E-B573-4946-8BC7-AE914B94BE90@greenbytes.de>
	<CAKQ1sVPBxaHCMCzjf3p-pTpPhQk-dcrASvy6Zs-wgpqYD=YVXg@mail.gmail.com>
Date: Wed, 10 Jun 2015 17:48:53 +0200
Message-ID: <CAKQ1sVNcZZKfitUiKBX7BW_zGwJprOQ21Nv_xyVCu3mU+PKZdQ@mail.gmail.com>
Subject: Re: SNI Host: header mismatch
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Jun 10, 2015 at 5:30 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Wed, Jun 10, 2015 at 4:41 PM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> Today I had the second user which got "400 Bad Request" when using mod_h=
2 with a wildcard certificate. So, I was thinking how to possibly fix the c=
ode in mod_ssl.
>>
>> The mostly harmless approach is the addition of a configuration directiv=
e that admins may use to explicitly allow multiple host requests on a SNI c=
onnection. Which would mean that both the config of the SNI host and the co=
nfig of the request host have "SSLSNIVHostMatch off".
>>
>> The case where no Host header is provided or no SNI is used I propose to=
 leave unaffected, e.g. continue to fail.
>>
>> Any thoughts?
>
> Maybe matching against the ServerName and ServerAlias(es) instead of
> the Host header, so that the admin can still have a control on it...

E.g. by using ap_matches_request_vhost(r, SNI, 0).

From dev-return-82922-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 10 16:10:50 2015
Return-Path: <dev-return-82922-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 15B6B17D25
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Jun 2015 16:10:50 +0000 (UTC)
Received: (qmail 59283 invoked by uid 500); 10 Jun 2015 16:10:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59215 invoked by uid 500); 10 Jun 2015 16:10:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59201 invoked by uid 99); 10 Jun 2015 16:10:49 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Jun 2015 16:10:49 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id C16121827EA
	for <dev@httpd.apache.org>; Wed, 10 Jun 2015 16:10:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id zmxAkS4Hrw28 for <dev@httpd.apache.org>;
	Wed, 10 Jun 2015 16:10:44 +0000 (UTC)
Received: from mail-ie0-f180.google.com (mail-ie0-f180.google.com [209.85.223.180])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id D300342AC5
	for <dev@httpd.apache.org>; Wed, 10 Jun 2015 16:10:43 +0000 (UTC)
Received: by iebmu5 with SMTP id mu5so37594755ieb.1
        for <dev@httpd.apache.org>; Wed, 10 Jun 2015 09:09:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=Fi1NBfy3tSN7iDKgHOPrHm+c/x+BSyoMij7slvFB6Ow=;
        b=lJHZl6TfC9EpOrGafN1GBRAvQppTkeSnOoFtH9IposPGJ8hfFHPl7R5q+dy3F+sCFe
         dpIN/jBVOW3SdjSay8uUD6IOymeLTDmWxgUAvbN9xfSSljjX+fyFnYaakr4E1c9iXy8c
         h5FQ4PbD3flWAeTleVqT431NprPIMo+6/q1buTJImGto8sunB6vT8I2gWX2Fr48u0XdQ
         atLjp8wfA41Cwme6cZD66ru2JCAkqGWD3/CRXr2s4egJccK/YslVOMNk/Vg630kz7lqV
         i5/yBL6hSLH5sSrVQLH+zSStkQ/6kNslfvKH6LOBMUQ6Hi2mpxOJG1Oi1MnEzVo5xwW1
         A0ew==
MIME-Version: 1.0
X-Received: by 10.50.141.164 with SMTP id rp4mr29037483igb.2.1433952592493;
 Wed, 10 Jun 2015 09:09:52 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Wed, 10 Jun 2015 09:09:52 -0700 (PDT)
In-Reply-To: <CAKQ1sVNcZZKfitUiKBX7BW_zGwJprOQ21Nv_xyVCu3mU+PKZdQ@mail.gmail.com>
References: <6A48855E-B573-4946-8BC7-AE914B94BE90@greenbytes.de>
	<CAKQ1sVPBxaHCMCzjf3p-pTpPhQk-dcrASvy6Zs-wgpqYD=YVXg@mail.gmail.com>
	<CAKQ1sVNcZZKfitUiKBX7BW_zGwJprOQ21Nv_xyVCu3mU+PKZdQ@mail.gmail.com>
Date: Wed, 10 Jun 2015 18:09:52 +0200
Message-ID: <CAKQ1sVMXkG33C1R7vw28bCvk+eh_W0-Zpy1o=wnijaB7BkBpxQ@mail.gmail.com>
Subject: Re: SNI Host: header mismatch
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Jun 10, 2015 at 5:48 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Wed, Jun 10, 2015 at 5:30 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote=
:
>> On Wed, Jun 10, 2015 at 4:41 PM, Stefan Eissing
>> <stefan.eissing@greenbytes.de> wrote:
>>> Today I had the second user which got "400 Bad Request" when using mod_=
h2 with a wildcard certificate. So, I was thinking how to possibly fix the =
code in mod_ssl.
>>>
>>> The mostly harmless approach is the addition of a configuration directi=
ve that admins may use to explicitly allow multiple host requests on a SNI =
connection. Which would mean that both the config of the SNI host and the c=
onfig of the request host have "SSLSNIVHostMatch off".
>>>
>>> The case where no Host header is provided or no SNI is used I propose t=
o leave unaffected, e.g. continue to fail.
>>>
>>> Any thoughts?
>>
>> Maybe matching against the ServerName and ServerAlias(es) instead of
>> the Host header, so that the admin can still have a control on it...
>
> E.g. by using ap_matches_request_vhost(r, SNI, 0).

Or likewise with the SAN (SubjectAltName(s) of the server certificate).
=3D> SSLSNIHostMatch on/vhost/SAN and possibly off (I'd prefer we had not t=
o...).

From dev-return-82923-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 10 16:22:12 2015
Return-Path: <dev-return-82923-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0AF1717DB3
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Jun 2015 16:22:12 +0000 (UTC)
Received: (qmail 98887 invoked by uid 500); 10 Jun 2015 16:22:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 98820 invoked by uid 500); 10 Jun 2015 16:22:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 98810 invoked by uid 99); 10 Jun 2015 16:22:11 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Jun 2015 16:22:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id DA288C0F5C
	for <dev@httpd.apache.org>; Wed, 10 Jun 2015 16:22:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.13
X-Spam-Level:
X-Spam-Status: No, score=-0.13 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H4=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=ptc.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id CFBGOy2SeByx for <dev@httpd.apache.org>;
	Wed, 10 Jun 2015 16:22:02 +0000 (UTC)
Received: from mx2.ptc.com (mx2.ptc.com [12.11.148.189])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id ACE8521544
	for <dev@httpd.apache.org>; Wed, 10 Jun 2015 16:22:01 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
  d=ptc.com; s=ptc; t=1433953322; x=1465489322;
  h=message-id:date:from:mime-version:to:subject:references:
   in-reply-to:content-transfer-encoding;
  bh=Ts3qPyb2Aw+9gaGAXN6B3wqLdzf4fYVkATJMpHdpc94=;
  b=qMxzaUkMrdDOIoMk5pknQ/Dy2m55ea1lfH2e4CKAxqWZJ255SYU+Y4ZJ
   80ebaAUrLdM/7tM2RN+Fbrjr2ulVUnQHMlNFtw1xRdZPeT+oFJiKDiS8M
   R8p0b6c1dvXlg84af3XtZE5KmU5eBIP9uMDOsmLEdbXgVTrQeES8UTVjl
   A=;
X-IronPort-AV: E=Sophos;i="5.13,588,1427774400"; 
   d="scan'208";a="18105635"
Received: from hq-x10prdhub2.ptcnet.ptc.com ([132.253.198.28])
  by mx2-int.ptc.com with ESMTP/TLS/AES128-SHA; 10 Jun 2015 12:20:54 -0400
Received: from awang.ptcnet.ptc.com (132.253.8.73) by
 HQ-X10PRDHUB2.ptcnet.ptc.com (132.253.201.252) with Microsoft SMTP Server id
 14.3.123.3; Wed, 10 Jun 2015 12:20:53 -0400
Message-ID: <557863E4.6040602@ptc.com>
Date: Wed, 10 Jun 2015 11:20:52 -0500
From: Andy Wang <awang@ptc.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: <dev@httpd.apache.org>
Subject: Re: httpd 2.4 and windows "hangs" and AcceptFilter solution
References: <552E9491.7050802@ptc.com>	<55785857.2040909@ptc.com> <CACsi252U-HHYCSVShQLSp0TO8acsJ7Eq8zvcLrjJLWxtz=qqfw@mail.gmail.com>
In-Reply-To: <CACsi252U-HHYCSVShQLSp0TO8acsJ7Eq8zvcLrjJLWxtz=qqfw@mail.gmail.com>
Content-Type: text/plain; charset="utf-8"; format=flowed
Content-Transfer-Encoding: 7bit
X-Originating-IP: [132.253.8.73]

Yeah, that much I more or less get.

What I really don't understand is what can a client do (IE11) that would 
regularly cause httpd.exe to hang with AcceptEx.  This is reproducible 
on every single machine I've ever tried, including completely vanilla 
virtual machines, or pretty straightforward physical machines with intel 
NICs and no additional stack drivers.  That seems like a pretty hideous 
architecture if a regular non-malicious client requests could end up 
causing the web server to simply stop responding.

The InstallAnywhere problem I mentioned is also reliably reproduced on 
every single Windows system I've tried this on (about a dozen different 
systems with different configurations - virtual and physical).  This is 
the one I especially can't understand.  How would launching httpd.exe 
from a installer process (java.exe specifically) prevent it from 
responding to requests.

Andy

On 06/10/2015 10:48 AM, William A Rowe Jr wrote:
> It turns off all advanced socket mechanics for accepting connections.
> That means
> it won't pre-fetch data.  Because of how cobbled-together the WinSock
> network
> stack drivers (third parties, included) were, there are many things that
> break
> sendfile (disable sendfile) or socket reuse (disable advanced accept logic).
>
> In other words, if you need reliability on some pretty crazy
> installations of
> Windows with lots of out-of-date drivers, your solution is the way to
> go.  They
> are for performance, there is no reason to turn these on in low-traffic
> cases.
>
>
> On Wed, Jun 10, 2015 at 10:31 AM, Andy Wang <awang@ptc.com
> <mailto:awang@ptc.com>> wrote:
>
>     I originally asked this on user@httpd and didn't get a response, so
>     thought I'd redirect to dev and see if anyone can explain why this
>     would occur if you have time.  I have to admit, it's a curiosity to
>     me, that I just don't want to let go until I understand it and what
>     research I've done into AcceptEx doesn't seem to be giving me any
>     more insight.
>
>     --- original message ---
>
>     We've come across numerous cases where apache httpd 2.4 (I'm using
>     2.4.12 but I don't believe this is version specific) hang using the
>     default configuration options.
>
>     There are two cases
>     1) we have an InstallAnywhere installer that launches httpd during
>     install time to do some initial work.  When the installanywhere
>     installer starts httpd.exe (it does it via cmd.exe) httpd does not
>     respond to requests.  If you kill the installanywhere installer, then
>     all of the sudden httpd starts responding
>     2) certain IE 11 client requests hang httpd 2.4.
>
>     I've wireshark'ed #2 and at some point, an http GET gets an ACK and
>     nothing more.  I've peeked a little bit at the process threads with
>     processexplorer (unfortunately i'm not a windows developer, so I'm not
>     entirely familiar with the low level windows stuff) and everyhting looks
>     like it's okay and simply waiting for requests.
>
>     What I found after googling and testing is AcceptFilter http|https none
>     prevents both of those problems.  I've not yet tried connect to see if
>     that works either.
>
>     But what I'm really wondering about is, can anyone explain, especially
>     in #2, what it is about AcceptFilter http none that actually resolves
>     these types of issues?
>
>     Thanks,
>     Andy
>
>
>
>
>

From dev-return-82924-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 10 20:53:30 2015
Return-Path: <dev-return-82924-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5106E18A0E
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Jun 2015 20:53:30 +0000 (UTC)
Received: (qmail 39069 invoked by uid 500); 10 Jun 2015 20:53:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39007 invoked by uid 500); 10 Jun 2015 20:53:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38997 invoked by uid 99); 10 Jun 2015 20:53:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Jun 2015 20:53:29 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of wrowe@rowe-clan.net designates 209.85.213.178 as permitted sender)
Received: from [209.85.213.178] (HELO mail-ig0-f178.google.com) (209.85.213.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Jun 2015 20:51:14 +0000
Received: by igblz2 with SMTP id lz2so41890873igb.1
        for <dev@httpd.apache.org>; Wed, 10 Jun 2015 13:52:17 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=976TksnwviQQ+3iPRklAQ8fbL37E8L52Tb2KcBhY/Hc=;
        b=c4JIAc95zgW52D2dTLASrdeD7+yeWGY+Yc0wB9sh7H5wVmSuqIqtpt67+OoUKntxev
         jQSAG08ah5kxEZ8UJGsuoidZm5SCz4mwH6YSVXIR7YYB+XyMKRU35cBrLiZ1B1aJBkwi
         04xsFbT4lpP4jWJdG+PNgGaI2o7iCM3rsCgJTO9dHOxSKeMaJ7aVDakEFE4WlTxOI3Nb
         x9qBFqqfEL7F+2iZAybkGRZRLUKfnVfMEAOkXOC7vDz0NeiMmhE4cO9kfCxq53ISaHyZ
         2DyyZ2z2kk53W5AlEY6JOs/q/aQwSpJwiF2IrYvlPBZYLvE34gQlFwr5fmjveEFfKTP/
         rkbg==
X-Gm-Message-State: ALoCoQn1frJfBlyDiCVvzTyLI5C8f4zqHJPhsTYDR9ju/vQlsuRDSbnIIWjG+sM97h8WmZu0oF2v
MIME-Version: 1.0
X-Received: by 10.42.144.131 with SMTP id b3mr7053859icv.35.1433969536805;
 Wed, 10 Jun 2015 13:52:16 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Wed, 10 Jun 2015 13:52:16 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
Received: by 10.107.190.195 with HTTP; Wed, 10 Jun 2015 13:52:16 -0700 (PDT)
In-Reply-To: <557863E4.6040602@ptc.com>
References: <552E9491.7050802@ptc.com>
	<55785857.2040909@ptc.com>
	<CACsi252U-HHYCSVShQLSp0TO8acsJ7Eq8zvcLrjJLWxtz=qqfw@mail.gmail.com>
	<557863E4.6040602@ptc.com>
Date: Wed, 10 Jun 2015 15:52:16 -0500
Message-ID: <CACsi250zBc3i3eJR_qTOG8ymBWocazrrXNdq7LoBqjUgkqVWvQ@mail.gmail.com>
Subject: Re: httpd 2.4 and windows "hangs" and AcceptFilter solution
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=90e6ba1efd28dc47780518300c9d
X-Virus-Checked: Checked by ClamAV on apache.org

--90e6ba1efd28dc47780518300c9d
Content-Type: text/plain; charset=UTF-8

Can you reproduce using the real network driver?  The loopback/localhost
interface is famously junk.
 On Jun 10, 2015 11:22 AM, "Andy Wang" <awang@ptc.com> wrote:

> Yeah, that much I more or less get.
>
> What I really don't understand is what can a client do (IE11) that would
> regularly cause httpd.exe to hang with AcceptEx.  This is reproducible on
> every single machine I've ever tried, including completely vanilla virtual
> machines, or pretty straightforward physical machines with intel NICs and
> no additional stack drivers.  That seems like a pretty hideous architecture
> if a regular non-malicious client requests could end up causing the web
> server to simply stop responding.
>
> The InstallAnywhere problem I mentioned is also reliably reproduced on
> every single Windows system I've tried this on (about a dozen different
> systems with different configurations - virtual and physical).  This is the
> one I especially can't understand.  How would launching httpd.exe from a
> installer process (java.exe specifically) prevent it from responding to
> requests.
>
> Andy
>
> On 06/10/2015 10:48 AM, William A Rowe Jr wrote:
>
>> It turns off all advanced socket mechanics for accepting connections.
>> That means
>> it won't pre-fetch data.  Because of how cobbled-together the WinSock
>> network
>> stack drivers (third parties, included) were, there are many things that
>> break
>> sendfile (disable sendfile) or socket reuse (disable advanced accept
>> logic).
>>
>> In other words, if you need reliability on some pretty crazy
>> installations of
>> Windows with lots of out-of-date drivers, your solution is the way to
>> go.  They
>> are for performance, there is no reason to turn these on in low-traffic
>> cases.
>>
>>
>> On Wed, Jun 10, 2015 at 10:31 AM, Andy Wang <awang@ptc.com
>> <mailto:awang@ptc.com>> wrote:
>>
>>     I originally asked this on user@httpd and didn't get a response, so
>>     thought I'd redirect to dev and see if anyone can explain why this
>>     would occur if you have time.  I have to admit, it's a curiosity to
>>     me, that I just don't want to let go until I understand it and what
>>     research I've done into AcceptEx doesn't seem to be giving me any
>>     more insight.
>>
>>     --- original message ---
>>
>>     We've come across numerous cases where apache httpd 2.4 (I'm using
>>     2.4.12 but I don't believe this is version specific) hang using the
>>     default configuration options.
>>
>>     There are two cases
>>     1) we have an InstallAnywhere installer that launches httpd during
>>     install time to do some initial work.  When the installanywhere
>>     installer starts httpd.exe (it does it via cmd.exe) httpd does not
>>     respond to requests.  If you kill the installanywhere installer, then
>>     all of the sudden httpd starts responding
>>     2) certain IE 11 client requests hang httpd 2.4.
>>
>>     I've wireshark'ed #2 and at some point, an http GET gets an ACK and
>>     nothing more.  I've peeked a little bit at the process threads with
>>     processexplorer (unfortunately i'm not a windows developer, so I'm not
>>     entirely familiar with the low level windows stuff) and everyhting
>> looks
>>     like it's okay and simply waiting for requests.
>>
>>     What I found after googling and testing is AcceptFilter http|https
>> none
>>     prevents both of those problems.  I've not yet tried connect to see if
>>     that works either.
>>
>>     But what I'm really wondering about is, can anyone explain, especially
>>     in #2, what it is about AcceptFilter http none that actually resolves
>>     these types of issues?
>>
>>     Thanks,
>>     Andy
>>
>>
>>
>>
>>
>>

--90e6ba1efd28dc47780518300c9d
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">Can you reproduce using the real network driver?=C2=A0 The l=
oopback/localhost interface is famously junk.<br>
</p>
<div class=3D"gmail_quote">On Jun 10, 2015 11:22 AM, &quot;Andy Wang&quot; =
&lt;<a href=3D"mailto:awang@ptc.com">awang@ptc.com</a>&gt; wrote:<br type=
=3D"attribution"><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8=
ex;border-left:1px #ccc solid;padding-left:1ex">Yeah, that much I more or l=
ess get.<br>
<br>
What I really don&#39;t understand is what can a client do (IE11) that woul=
d regularly cause httpd.exe to hang with AcceptEx.=C2=A0 This is reproducib=
le on every single machine I&#39;ve ever tried, including completely vanill=
a virtual machines, or pretty straightforward physical machines with intel =
NICs and no additional stack drivers.=C2=A0 That seems like a pretty hideou=
s architecture if a regular non-malicious client requests could end up caus=
ing the web server to simply stop responding.<br>
<br>
The InstallAnywhere problem I mentioned is also reliably reproduced on ever=
y single Windows system I&#39;ve tried this on (about a dozen different sys=
tems with different configurations - virtual and physical).=C2=A0 This is t=
he one I especially can&#39;t understand.=C2=A0 How would launching httpd.e=
xe from a installer process (java.exe specifically) prevent it from respond=
ing to requests.<br>
<br>
Andy<br>
<br>
On 06/10/2015 10:48 AM, William A Rowe Jr wrote:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
It turns off all advanced socket mechanics for accepting connections.<br>
That means<br>
it won&#39;t pre-fetch data.=C2=A0 Because of how cobbled-together the WinS=
ock<br>
network<br>
stack drivers (third parties, included) were, there are many things that<br=
>
break<br>
sendfile (disable sendfile) or socket reuse (disable advanced accept logic)=
.<br>
<br>
In other words, if you need reliability on some pretty crazy<br>
installations of<br>
Windows with lots of out-of-date drivers, your solution is the way to<br>
go.=C2=A0 They<br>
are for performance, there is no reason to turn these on in low-traffic<br>
cases.<br>
<br>
<br>
On Wed, Jun 10, 2015 at 10:31 AM, Andy Wang &lt;<a href=3D"mailto:awang@ptc=
.com" target=3D"_blank">awang@ptc.com</a><br>
&lt;mailto:<a href=3D"mailto:awang@ptc.com" target=3D"_blank">awang@ptc.com=
</a>&gt;&gt; wrote:<br>
<br>
=C2=A0 =C2=A0 I originally asked this on user@httpd and didn&#39;t get a re=
sponse, so<br>
=C2=A0 =C2=A0 thought I&#39;d redirect to dev and see if anyone can explain=
 why this<br>
=C2=A0 =C2=A0 would occur if you have time.=C2=A0 I have to admit, it&#39;s=
 a curiosity to<br>
=C2=A0 =C2=A0 me, that I just don&#39;t want to let go until I understand i=
t and what<br>
=C2=A0 =C2=A0 research I&#39;ve done into AcceptEx doesn&#39;t seem to be g=
iving me any<br>
=C2=A0 =C2=A0 more insight.<br>
<br>
=C2=A0 =C2=A0 --- original message ---<br>
<br>
=C2=A0 =C2=A0 We&#39;ve come across numerous cases where apache httpd 2.4 (=
I&#39;m using<br>
=C2=A0 =C2=A0 2.4.12 but I don&#39;t believe this is version specific) hang=
 using the<br>
=C2=A0 =C2=A0 default configuration options.<br>
<br>
=C2=A0 =C2=A0 There are two cases<br>
=C2=A0 =C2=A0 1) we have an InstallAnywhere installer that launches httpd d=
uring<br>
=C2=A0 =C2=A0 install time to do some initial work.=C2=A0 When the installa=
nywhere<br>
=C2=A0 =C2=A0 installer starts httpd.exe (it does it via cmd.exe) httpd doe=
s not<br>
=C2=A0 =C2=A0 respond to requests.=C2=A0 If you kill the installanywhere in=
staller, then<br>
=C2=A0 =C2=A0 all of the sudden httpd starts responding<br>
=C2=A0 =C2=A0 2) certain IE 11 client requests hang httpd 2.4.<br>
<br>
=C2=A0 =C2=A0 I&#39;ve wireshark&#39;ed #2 and at some point, an http GET g=
ets an ACK and<br>
=C2=A0 =C2=A0 nothing more.=C2=A0 I&#39;ve peeked a little bit at the proce=
ss threads with<br>
=C2=A0 =C2=A0 processexplorer (unfortunately i&#39;m not a windows develope=
r, so I&#39;m not<br>
=C2=A0 =C2=A0 entirely familiar with the low level windows stuff) and every=
hting looks<br>
=C2=A0 =C2=A0 like it&#39;s okay and simply waiting for requests.<br>
<br>
=C2=A0 =C2=A0 What I found after googling and testing is AcceptFilter http|=
https none<br>
=C2=A0 =C2=A0 prevents both of those problems.=C2=A0 I&#39;ve not yet tried=
 connect to see if<br>
=C2=A0 =C2=A0 that works either.<br>
<br>
=C2=A0 =C2=A0 But what I&#39;m really wondering about is, can anyone explai=
n, especially<br>
=C2=A0 =C2=A0 in #2, what it is about AcceptFilter http none that actually =
resolves<br>
=C2=A0 =C2=A0 these types of issues?<br>
<br>
=C2=A0 =C2=A0 Thanks,<br>
=C2=A0 =C2=A0 Andy<br>
<br>
<br>
<br>
<br>
<br>
</blockquote>
</blockquote></div>

--90e6ba1efd28dc47780518300c9d--

From dev-return-82925-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 10 21:13:53 2015
Return-Path: <dev-return-82925-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A090D18B10
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Jun 2015 21:13:53 +0000 (UTC)
Received: (qmail 94686 invoked by uid 500); 10 Jun 2015 21:13:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94620 invoked by uid 500); 10 Jun 2015 21:13:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94550 invoked by uid 99); 10 Jun 2015 21:13:53 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Jun 2015 21:13:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id B4F0DCD19B
	for <dev@httpd.apache.org>; Wed, 10 Jun 2015 21:13:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.13
X-Spam-Level:
X-Spam-Status: No, score=-0.13 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H4=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=ptc.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id oAO2fqknTerw for <dev@httpd.apache.org>;
	Wed, 10 Jun 2015 21:13:44 +0000 (UTC)
Received: from mx1.ptc.com (mx1.ptc.com [12.11.148.188])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id EC22520F24
	for <dev@httpd.apache.org>; Wed, 10 Jun 2015 21:13:43 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
  d=ptc.com; s=ptc; t=1433970824; x=1465506824;
  h=message-id:date:from:mime-version:to:subject:references:
   in-reply-to:content-transfer-encoding;
  bh=Vxfa4BFXf8zaoWMNnm7B/lrRsTPEcbKhhI5ANMCTVfA=;
  b=dHJ1BNoSnz5NUK2wUUjG/eCEWegXTJ7l03Cz99gorWyV9Ai/25Y/1OKS
   pDoLH6DlK7Ke+fcqPnIJ6fqUMUP1whtDO/UGoWEkVBAAnMHV7Z8QqQ31D
   DJGoTS8uR6mdwWWX/gJqf1HApb9Z3bvm5iCpM0ydmR0PL44pjNu8bLygQ
   Y=;
X-IronPort-AV: E=Sophos;i="5.13,589,1427774400"; 
   d="scan'208";a="83014248"
Received: from hq-x10prdhub2.ptcnet.ptc.com ([132.253.198.28])
  by mx1-int.ptc.com with ESMTP/TLS/AES128-SHA; 10 Jun 2015 17:13:17 -0400
Received: from awang.ptcnet.ptc.com (132.253.8.73) by
 HQ-X10PRDHUB2.ptcnet.ptc.com (132.253.201.252) with Microsoft SMTP Server id
 14.3.123.3; Wed, 10 Jun 2015 17:13:17 -0400
Message-ID: <5578A857.5090709@ptc.com>
Date: Wed, 10 Jun 2015 16:12:55 -0500
From: Andy Wang <awang@ptc.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: <dev@httpd.apache.org>
Subject: Re: httpd 2.4 and windows "hangs" and AcceptFilter solution
References: <552E9491.7050802@ptc.com>	<55785857.2040909@ptc.com>	<CACsi252U-HHYCSVShQLSp0TO8acsJ7Eq8zvcLrjJLWxtz=qqfw@mail.gmail.com>	<557863E4.6040602@ptc.com> <CACsi250zBc3i3eJR_qTOG8ymBWocazrrXNdq7LoBqjUgkqVWvQ@mail.gmail.com>
In-Reply-To: <CACsi250zBc3i3eJR_qTOG8ymBWocazrrXNdq7LoBqjUgkqVWvQ@mail.gmail.com>
Content-Type: text/plain; charset="utf-8"; format=flowed
Content-Transfer-Encoding: 7bit
X-Originating-IP: [132.253.8.73]

I can reproduce the first case with the installer, pretty much ondemand 
using our installer stuff.  I've tried reproducing it by ripping out the 
actions that do the Runtime.exec() to call httpd.exe into a separate 
standalone program, and the problem doesn't occur there.  Go figure. 
But when this occurs httpd.exe is unresponsive to localhost AND remote 
traffic immediately.  I think I can get one or maybe 2 requests in and 
out before it additional connections simply hang until a network 
timeout.  Wireshark shows the request is ACKed but that's it.

My initial thought was that something cause the process to be blocked, 
but from what I can tell from Process Explorer/Process Monitor the 
threads look correct and are simply waiting for a request.

The internet explorer 11 case, I've not seen myself, just from reports 
of other developers I've worked with. It occurs from automated tests, 
and these are mostly remote clients running IE11.

Andy

On 06/10/2015 03:52 PM, William A Rowe Jr wrote:
> Can you reproduce using the real network driver?  The loopback/localhost
> interface is famously junk.
>
> On Jun 10, 2015 11:22 AM, "Andy Wang" <awang@ptc.com
> <mailto:awang@ptc.com>> wrote:
>
>     Yeah, that much I more or less get.
>
>     What I really don't understand is what can a client do (IE11) that
>     would regularly cause httpd.exe to hang with AcceptEx.  This is
>     reproducible on every single machine I've ever tried, including
>     completely vanilla virtual machines, or pretty straightforward
>     physical machines with intel NICs and no additional stack drivers.
>     That seems like a pretty hideous architecture if a regular
>     non-malicious client requests could end up causing the web server to
>     simply stop responding.
>
>     The InstallAnywhere problem I mentioned is also reliably reproduced
>     on every single Windows system I've tried this on (about a dozen
>     different systems with different configurations - virtual and
>     physical).  This is the one I especially can't understand.  How
>     would launching httpd.exe from a installer process (java.exe
>     specifically) prevent it from responding to requests.
>
>     Andy
>
>     On 06/10/2015 10:48 AM, William A Rowe Jr wrote:
>
>         It turns off all advanced socket mechanics for accepting
>         connections.
>         That means
>         it won't pre-fetch data.  Because of how cobbled-together the
>         WinSock
>         network
>         stack drivers (third parties, included) were, there are many
>         things that
>         break
>         sendfile (disable sendfile) or socket reuse (disable advanced
>         accept logic).
>
>         In other words, if you need reliability on some pretty crazy
>         installations of
>         Windows with lots of out-of-date drivers, your solution is the
>         way to
>         go.  They
>         are for performance, there is no reason to turn these on in
>         low-traffic
>         cases.
>
>
>         On Wed, Jun 10, 2015 at 10:31 AM, Andy Wang <awang@ptc.com
>         <mailto:awang@ptc.com>
>         <mailto:awang@ptc.com <mailto:awang@ptc.com>>> wrote:
>
>              I originally asked this on user@httpd and didn't get a
>         response, so
>              thought I'd redirect to dev and see if anyone can explain
>         why this
>              would occur if you have time.  I have to admit, it's a
>         curiosity to
>              me, that I just don't want to let go until I understand it
>         and what
>              research I've done into AcceptEx doesn't seem to be giving
>         me any
>              more insight.
>
>              --- original message ---
>
>              We've come across numerous cases where apache httpd 2.4
>         (I'm using
>              2.4.12 but I don't believe this is version specific) hang
>         using the
>              default configuration options.
>
>              There are two cases
>              1) we have an InstallAnywhere installer that launches httpd
>         during
>              install time to do some initial work.  When the installanywhere
>              installer starts httpd.exe (it does it via cmd.exe) httpd
>         does not
>              respond to requests.  If you kill the installanywhere
>         installer, then
>              all of the sudden httpd starts responding
>              2) certain IE 11 client requests hang httpd 2.4.
>
>              I've wireshark'ed #2 and at some point, an http GET gets an
>         ACK and
>              nothing more.  I've peeked a little bit at the process
>         threads with
>              processexplorer (unfortunately i'm not a windows developer,
>         so I'm not
>              entirely familiar with the low level windows stuff) and
>         everyhting looks
>              like it's okay and simply waiting for requests.
>
>              What I found after googling and testing is AcceptFilter
>         http|https none
>              prevents both of those problems.  I've not yet tried
>         connect to see if
>              that works either.
>
>              But what I'm really wondering about is, can anyone explain,
>         especially
>              in #2, what it is about AcceptFilter http none that
>         actually resolves
>              these types of issues?
>
>              Thanks,
>              Andy
>
>
>
>
>

From dev-return-82926-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 10 23:36:08 2015
Return-Path: <dev-return-82926-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1B8EA18FA3
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 10 Jun 2015 23:36:08 +0000 (UTC)
Received: (qmail 42005 invoked by uid 500); 10 Jun 2015 23:36:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 41938 invoked by uid 500); 10 Jun 2015 23:36:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 41928 invoked by uid 99); 10 Jun 2015 23:36:07 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 10 Jun 2015 23:36:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 3AE811A4A34
	for <dev@httpd.apache.org>; Wed, 10 Jun 2015 23:36:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.663
X-Spam-Level:
X-Spam-Status: No, score=0.663 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_MSPIKE_BL=0.01,
	RCVD_IN_MSPIKE_L3=0.001, SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id IRxZlUHnoj9F for <dev@httpd.apache.org>;
	Wed, 10 Jun 2015 23:36:00 +0000 (UTC)
Received: from resqmta-ch2-05v.sys.comcast.net (resqmta-ch2-05v.sys.comcast.net [69.252.207.37])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id D5C6021544
	for <dev@httpd.apache.org>; Wed, 10 Jun 2015 23:35:59 +0000 (UTC)
Received: from resomta-ch2-16v.sys.comcast.net ([69.252.207.112])
	by resqmta-ch2-05v.sys.comcast.net with comcast
	id enbA1q0042S2Q5R01nbse2; Wed, 10 Jun 2015 23:35:52 +0000
Received: from [192.168.199.4] ([71.200.70.209])
	by resomta-ch2-16v.sys.comcast.net with comcast
	id enbr1q00H4Wuz8v01nbrVo; Wed, 10 Jun 2015 23:35:52 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: Notice: Intent to T&R 2.4.14 June 11 (Thurs)
Message-Id: <E387B1F0-F2B6-44AE-949C-FE9D756213A1@jaguNET.com>
Date: Wed, 10 Jun 2015 19:35:51 -0400
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1433979352;
	bh=6WYm3cWYN9d080AHc3fnoajgYvYAbbwZlTWH6uvjEbA=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=F0/TdZqQOKamH6Tt+1VdN6qoR/IPmdNGwDDGyPzDhrNVHEsKDQBURVWF6hND3Z4qV
	 eiApe5LMHG34urOksE4R9Ma2FsrGFJJqZd6pP8JGG7HT/mwZjOt5XmEv4Nkdk8xDgB
	 Gc7ONtzZdB0otoTVD8CqPaQIjnCit60sLhelDNkLisPjsr77D+JDWkz012IEqY6KgR
	 7yudgo+TshCLLGG6viKY/xt0LNsZUGku3hvC9zZ71TlFCeAaTTKmbgPjEe8Z0Ipfc1
	 9yLrpoLm7XNINt4tXAJVO2XKpiA5AgggwO1iXaif2ZjWwKBkm2R56zt1cZVn3EyC2b
	 2ucTV0p9ravUQ==

Subj sez it all.

From dev-return-82927-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 11 02:47:04 2015
Return-Path: <dev-return-82927-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5389F1847B
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Jun 2015 02:47:04 +0000 (UTC)
Received: (qmail 94894 invoked by uid 500); 11 Jun 2015 02:47:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94821 invoked by uid 500); 11 Jun 2015 02:47:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94810 invoked by uid 99); 11 Jun 2015 02:47:03 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 02:47:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E74FCC0940
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 02:47:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.892
X-Spam-Level: *
X-Spam-Status: No, score=1.892 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id rcG8OHQTjH_2 for <dev@httpd.apache.org>;
	Thu, 11 Jun 2015 02:46:55 +0000 (UTC)
Received: from mail-ie0-f173.google.com (mail-ie0-f173.google.com [209.85.223.173])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 6667227623
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 02:46:55 +0000 (UTC)
Received: by iebgx4 with SMTP id gx4so45484821ieb.0
        for <dev@httpd.apache.org>; Wed, 10 Jun 2015 19:46:03 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=0vhE2fIv+pJ+yQadXEuIPv4kHoqLp8KMQzXqOqMrZ+U=;
        b=Luk/OMjr8p3IIEwBSOnKR36HcaAzaO/CdzEhst1GH+dWiYj4jEw2es4chmwT3XPxCr
         JD2F0Im8f/HODjwzegVT4s+TTjL4/FXIgHthHsRj5Fc/18ZzS5Toa6AXqXr0r3dPF0pF
         ARruOOtUSQoG1ELcmzPUvnsQqFFuVdtoOj1i06Bgxq2JYXXsHsNz5nr2Lfshw2nYWvZB
         AZuuEEphCm3Hr8CAl5KR/dFgmrr3bPxz/23MXOmGqFGSoQzw5R4PUBeTy44gTO+YU8D8
         uvTyw4c58+ebcxsPoOA6lNem+7O09eQHctBFlXeWbcyuXVH1z41ZfiVGhY1lvWxFr4N4
         5BAw==
X-Gm-Message-State: ALoCoQlHSOOhVPiWHznSfX+1gBxTKiW2+5ejMWlL7EjJhhkDnexCzkFeAt3+Eh5/Vfsis8MTH3wc
MIME-Version: 1.0
X-Received: by 10.107.152.14 with SMTP id a14mr8005695ioe.92.1433990763261;
 Wed, 10 Jun 2015 19:46:03 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Wed, 10 Jun 2015 19:46:03 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <5578A857.5090709@ptc.com>
References: <552E9491.7050802@ptc.com>
	<55785857.2040909@ptc.com>
	<CACsi252U-HHYCSVShQLSp0TO8acsJ7Eq8zvcLrjJLWxtz=qqfw@mail.gmail.com>
	<557863E4.6040602@ptc.com>
	<CACsi250zBc3i3eJR_qTOG8ymBWocazrrXNdq7LoBqjUgkqVWvQ@mail.gmail.com>
	<5578A857.5090709@ptc.com>
Date: Wed, 10 Jun 2015 21:46:03 -0500
Message-ID: <CACsi253238dqnbrGHynTheW6piLGHgeJFUvC6_BH13T=YFfbkw@mail.gmail.com>
Subject: Re: httpd 2.4 and windows "hangs" and AcceptFilter solution
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11409f180e4dd1051834fe0c

--001a11409f180e4dd1051834fe0c
Content-Type: text/plain; charset=UTF-8

On Wed, Jun 10, 2015 at 4:12 PM, Andy Wang <awang@ptc.com> wrote:

> I can reproduce the first case with the installer, pretty much ondemand
> using our installer stuff.  I've tried reproducing it by ripping out the
> actions that do the Runtime.exec() to call httpd.exe into a separate
> standalone program, and the problem doesn't occur there.  Go figure. But
> when this occurs httpd.exe is unresponsive to localhost AND remote traffic
> immediately.  I think I can get one or maybe 2 requests in and out before
> it additional connections simply hang until a network timeout.  Wireshark
> shows the request is ACKed but that's it.
>
> My initial thought was that something cause the process to be blocked, but
> from what I can tell from Process Explorer/Process Monitor the threads look
> correct and are simply waiting for a request.
>

This sounds like a permissions problem.


> The internet explorer 11 case, I've not seen myself, just from reports of
> other developers I've worked with. It occurs from automated tests, and
> these are mostly remote clients running IE11.


It is possible that the 'data' mode (that ships the first packet(s) into
buffers upon receiving data) is somehow incompatible with a broken IE11
handshake.

--001a11409f180e4dd1051834fe0c
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On W=
ed, Jun 10, 2015 at 4:12 PM, Andy Wang <span dir=3D"ltr">&lt;<a href=3D"mai=
lto:awang@ptc.com" target=3D"_blank">awang@ptc.com</a>&gt;</span> wrote:<br=
><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1=
px #ccc solid;padding-left:1ex">I can reproduce the first case with the ins=
taller, pretty much ondemand using our installer stuff.=C2=A0 I&#39;ve trie=
d reproducing it by ripping out the actions that do the Runtime.exec() to c=
all httpd.exe into a separate standalone program, and the problem doesn&#39=
;t occur there.=C2=A0 Go figure. But when this occurs httpd.exe is unrespon=
sive to localhost AND remote traffic immediately.=C2=A0 I think I can get o=
ne or maybe 2 requests in and out before it additional connections simply h=
ang until a network timeout.=C2=A0 Wireshark shows the request is ACKed but=
 that&#39;s it.<br>
<br>
My initial thought was that something cause the process to be blocked, but =
from what I can tell from Process Explorer/Process Monitor the threads look=
 correct and are simply waiting for a request.<br></blockquote><div><br></d=
iv><div>This sounds like a permissions problem.=C2=A0</div><div>=C2=A0</div=
><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1=
px #ccc solid;padding-left:1ex">
The internet explorer 11 case, I&#39;ve not seen myself, just from reports =
of other developers I&#39;ve worked with. It occurs from automated tests, a=
nd these are mostly remote clients running IE11.</blockquote><div><br></div=
><div>It is possible that the &#39;data&#39; mode (that ships the first pac=
ket(s) into buffers upon receiving data) is somehow incompatible with a bro=
ken IE11 handshake.=C2=A0</div></div></div></div>

--001a11409f180e4dd1051834fe0c--

From dev-return-82928-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 11 02:55:09 2015
Return-Path: <dev-return-82928-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3CCDF184B7
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Jun 2015 02:55:09 +0000 (UTC)
Received: (qmail 2629 invoked by uid 500); 11 Jun 2015 02:55:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 2566 invoked by uid 500); 11 Jun 2015 02:55:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 2556 invoked by uid 99); 11 Jun 2015 02:55:08 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 02:55:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 4419BCD289
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 02:55:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.892
X-Spam-Level: *
X-Spam-Status: No, score=1.892 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id GXDbaM38mrx8 for <dev@httpd.apache.org>;
	Thu, 11 Jun 2015 02:55:00 +0000 (UTC)
Received: from mail-ie0-f182.google.com (mail-ie0-f182.google.com [209.85.223.182])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 69B0743E5C
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 02:55:00 +0000 (UTC)
Received: by iesa3 with SMTP id a3so45631192ies.2
        for <dev@httpd.apache.org>; Wed, 10 Jun 2015 19:54:54 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=41dAfqkmwiN2sn9P2bnbrOUkm/kSxwwApmqKRusCUuc=;
        b=l97zMy+zcyyag0UyPt1wo9pSCxYNhEG7iCbpFwY1RgUIXurXgnswVGZg88/XmSa9sr
         EOs4BjbmGiezTlGnuQQC5tc6pCV/hqlwMRjkcLRgDDQUZKCbvjNbRjqvBLFDBc8H2DHm
         6JV5Ir/vefdK2qkk6EMrAOcJkKv3OWOJNQuqwS7ckSknzEn2BRPcFJuOUFfIr50HpmTJ
         xYR/Xkoy5mmNwnOacfyA31g6EZWR1TzHWtfP5zYhZs+bBSJbgtf7tzXbYt5II+mwJVQo
         ZJJnZzQ+G2vreWFKmBPvGxbcDfARehFXIQRaLWTh7cSM6+rgFBS73obtj1MxNTT7r/lr
         3KfQ==
X-Gm-Message-State: ALoCoQlfqZ/SmdJTjaUMMz+7zPU3/C1/MIJ/MCkQqbdjDQ/arDbSWIgTffAWlqlH22d5UkmkvKrc
MIME-Version: 1.0
X-Received: by 10.50.90.179 with SMTP id bx19mr31752326igb.43.1433991294503;
 Wed, 10 Jun 2015 19:54:54 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Wed, 10 Jun 2015 19:54:54 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <CACsi251wFnbi32CmyG9R4vGWj9CZo+=0kh+7w5sa4Ckqm_CdrA@mail.gmail.com>
References: <CACsi251wFnbi32CmyG9R4vGWj9CZo+=0kh+7w5sa4Ckqm_CdrA@mail.gmail.com>
Date: Wed, 10 Jun 2015 21:54:54 -0500
Message-ID: <CACsi250Fp0_9+zkRH613_1VTB6EYS_dUX2_Mdpz_imddMwBiwA@mail.gmail.com>
Subject: Re: Review of 2.2.x security patch sought.
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7bea4294b8a8af0518351dd4

--047d7bea4294b8a8af0518351dd4
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Just a quick /nag that I'm happy to roll 2.2.30 in conjunction with 2.4.14,
so that we present both to the community at the same time, and simplify
the announcement.  This patch still needs a third +1 to be adopted (it is
already in trunk, and in the 2.4.14 Jim will be tagging & rolling shortly).

Apologies for being short on details until the announcement, but in short,
the way httpd interpreted chunk headers didn't follow the RFC.  This may
lead to similar circumstances as were exploited with CVE-2005-2088.
The project currently rates this risk as low, but as security vendors, such
as Watchfire, mapped how other backend and proxy implementations
interacted with httpd itself, CVE-2005-2088 was upgraded to medium
severity.  That is a possibility and the reason for requesting review of th=
e
2.2 backport, on an expedited basis.







On Tue, Jun 9, 2015 at 3:32 PM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:

> Committers,
>
> we ended up short on reviewers in the security list, and are proceeding
> shortly with 2.4.14.
>
> I can't proceed with 2.2.30 until I get a third set of eyeballs on the
> 2.2.30-dev backport,
> could someone offer to review ASAP?  I will be tagging once the backport
> is approved,
> no other changes to 2.2.x. branch until 2.2.31-dev.
>
> The defect is considered Low severity based on httpd team's initial
> assessment.
> The other patch coming in a moment doesn't apply to 2.2.x at all.
>
> On Tue, Jun 9, 2015 at 3:26 PM, <wrowe@apache.org> wrote:
>
>> Adjust URL for public consumption
>>
>> Modified:
>>     httpd/httpd/branches/2.2.x/STATUS
>>
>> Modified: httpd/httpd/branches/2.2.x/STATUS
>> URL:
>> http://svn.apache.org/viewvc/httpd/httpd/branches/2.2.x/STATUS?rev=3D168=
4520&r1=3D1684519&r2=3D1684520&view=3Ddiff
>>
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D
>> --- httpd/httpd/branches/2.2.x/STATUS (original)
>> +++ httpd/httpd/branches/2.2.x/STATUS Tue Jun  9 20:26:47 2015
>> @@ -109,12 +109,12 @@ RELEASE SHOWSTOPPERS:
>>    Reported by: R=C3=83=C2=A9gis Leroy
>>
>>    trunk
>> +    http://svn.apache.org/r1484852
>> +    http://svn.apache.org/r1684513
>>    2.4.x branch
>> +    http://svn.apache.org/r1684515
>>    2.2.x branch
>> +
>> http://people.apache.org/~wrowe/httpd-2.2.x-ap_http_filter-chunked-v6.pa=
tch
>>    +1: ylavic, wrowe
>>    jim notes: test framework errors due to 413->400 error change [test
>> adjusted]
>>
>>
>>
>>
>

--047d7bea4294b8a8af0518351dd4
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Just a quick /nag that I&#39;m happy to roll 2.2.30 in con=
junction with 2.4.14,=C2=A0<div>so that we present both to the community at=
 the same time, and simplify</div><div>the announcement.=C2=A0 This patch s=
till needs a third +1 to be adopted (it is</div><div>already in trunk, and =
in the 2.4.14 Jim will be tagging &amp; rolling shortly).</div><div><br></d=
iv><div>Apologies for being short on details until the announcement, but in=
 short,=C2=A0</div><div>the way httpd interpreted chunk headers didn&#39;t =
follow the RFC.=C2=A0 This may</div><div>lead to similar circumstances as w=
ere exploited with CVE-2005-2088.</div><div>The project currently rates thi=
s risk as low, but as security vendors, such</div><div>as Watchfire, mapped=
 how other backend and proxy implementations=C2=A0</div><div>interacted wit=
h httpd itself, CVE-2005-2088 was upgraded to medium=C2=A0</div><div>severi=
ty.=C2=A0 That is a possibility and the reason for requesting review of the=
</div><div>2.2 backport, on an expedited basis.</div><div><br></div><div><b=
r></div><div><br></div><div><br></div><div><br></div><div><br></div></div><=
div class=3D"gmail_extra"><br><div class=3D"gmail_quote">On Tue, Jun 9, 201=
5 at 3:32 PM, William A Rowe Jr <span dir=3D"ltr">&lt;<a href=3D"mailto:wro=
we@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>&gt;</span> wrot=
e:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-l=
eft:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr">Committers,<div><br><=
/div><div>we ended up short on reviewers in the security list, and are proc=
eeding shortly with 2.4.14.</div><div><br></div><div>I can&#39;t proceed wi=
th 2.2.30 until I get a third set of eyeballs on the 2.2.30-dev backport,</=
div><div>could someone offer to review ASAP?=C2=A0 I will be tagging once t=
he backport is approved,</div><div>no other changes to 2.2.x. branch until =
2.2.31-dev.</div><div><br></div><div>The defect is considered Low severity =
based on httpd team&#39;s initial assessment.</div><div>The other patch com=
ing in a moment doesn&#39;t apply to 2.2.x at all.</div><div><br></div><div=
 class=3D"gmail_extra"><div class=3D"gmail_quote">On Tue, Jun 9, 2015 at 3:=
26 PM,  <span dir=3D"ltr">&lt;<a href=3D"mailto:wrowe@apache.org" target=3D=
"_blank">wrowe@apache.org</a>&gt;</span> wrote:<br><blockquote class=3D"gma=
il_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-lef=
t:1ex">Adjust URL for public consumption<br>
<br>
Modified:<br>
=C2=A0 =C2=A0 httpd/httpd/branches/2.2.x/STATUS<br>
<br>
Modified: httpd/httpd/branches/2.2.x/STATUS<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/branches/2.2.x/STA=
TUS?rev=3D1684520&amp;r1=3D1684519&amp;r2=3D1684520&amp;view=3Ddiff" target=
=3D"_blank">http://svn.apache.org/viewvc/httpd/httpd/branches/2.2.x/STATUS?=
rev=3D1684520&amp;r1=3D1684519&amp;r2=3D1684520&amp;view=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/branches/2.2.x/STATUS (original)<br>
+++ httpd/httpd/branches/2.2.x/STATUS Tue Jun=C2=A0 9 20:26:47 2015<br>
@@ -109,12 +109,12 @@ RELEASE SHOWSTOPPERS:<br>
=C2=A0 =C2=A0Reported by: R=C3=83=C2=A9gis Leroy<br>
<br>
=C2=A0 =C2=A0trunk<br>+=C2=A0 =C2=A0 <a href=3D"http://svn.apache.org/r1484=
852" target=3D"_blank">http://svn.apache.org/r1484852</a><br>
+=C2=A0 =C2=A0 <a href=3D"http://svn.apache.org/r1684513" target=3D"_blank"=
>http://svn.apache.org/r1684513</a><br>
=C2=A0 =C2=A02.4.x branch<br>+=C2=A0 =C2=A0 <a href=3D"http://svn.apache.or=
g/r1684515" target=3D"_blank">http://svn.apache.org/r1684515</a><br>
=C2=A0 =C2=A02.2.x branch<br>+=C2=A0 =C2=A0 <a href=3D"http://people.apache=
.org/~wrowe/httpd-2.2.x-ap_http_filter-chunked-v6.patch" target=3D"_blank">=
http://people.apache.org/~wrowe/httpd-2.2.x-ap_http_filter-chunked-v6.patch=
</a><br>
=C2=A0 =C2=A0+1: ylavic, wrowe<br>
=C2=A0 =C2=A0jim notes: test framework errors due to 413-&gt;400 error chan=
ge [test adjusted]<br>
<br>
<br>
<br>
</blockquote></div><br></div></div>
</blockquote></div><br></div>

--047d7bea4294b8a8af0518351dd4--

From dev-return-82929-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 11 09:27:34 2015
Return-Path: <dev-return-82929-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4021617383
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Jun 2015 09:27:34 +0000 (UTC)
Received: (qmail 53240 invoked by uid 500); 11 Jun 2015 09:27:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53167 invoked by uid 500); 11 Jun 2015 09:27:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53156 invoked by uid 99); 11 Jun 2015 09:27:33 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 09:27:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 05686C095F
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 09:27:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.261
X-Spam-Level: ***
X-Spam-Status: No, score=3.261 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RDNS_DYNAMIC=0.363, SPF_HELO_PASS=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id rrJXaWK2itI0 for <dev@httpd.apache.org>;
	Thu, 11 Jun 2015 09:27:31 +0000 (UTC)
Received: from land10web.com (a80-101-236-247.adsl.xs4all.nl [80.101.236.247])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 6E23F42B0E
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 09:27:31 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1434014858;
	bh=Fk0UuSK5AtBSwFMmjSYljf6wNVD9ld9l8rBOxQfRA3c=;
	h=From:To:References:In-Reply-To:Subject:Date;
	b=sUVO5BktbcHf8F41+fiQbtYBIu7pdtv2nIlHezRVjj3cEPIBZnyachk6HI2QEP8PB
	 R9lfjjmazdhD/Zy6eaSvHjGsQwWwsmgxiB8DUA8Low9qUOrhItsbwDYn1T7vWDBE4w
	 QgEEJqkFbyNJ6kASrqaGpj/nlhVju5g+BBdFci/s=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <391221C823A2480098DB91286F7B4563@father>
From: "Steffen" <info@apachelounge.com>
To: <dev@httpd.apache.org>
References: <CACsi251wFnbi32CmyG9R4vGWj9CZo+=0kh+7w5sa4Ckqm_CdrA@mail.gmail.com> <CACsi250Fp0_9+zkRH613_1VTB6EYS_dUX2_Mdpz_imddMwBiwA@mail.gmail.com>
In-Reply-To: <CACsi250Fp0_9+zkRH613_1VTB6EYS_dUX2_Mdpz_imddMwBiwA@mail.gmail.com>
Subject: Roll 2.2.30 in conjunction with 2.4.14
Date: Thu, 11 Jun 2015 11:26:58 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_005D_01D0A439.876C7EB0"
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

This is a multi-part message in MIME format.

------=_NextPart_000_005D_01D0A439.876C7EB0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

Not so happy to roll 2.2.30 in conjunction with 2.4.14.

It does not stimulate pp to upgrade to 2.4., it suggest that the =
httpd-project gives 2.2 (legacy) the same priority as 2.4.

Better first 2.4 and after some time 2.2. I do not agree with the =
argument to simplify the announcement.



From: William A Rowe Jr=20
Sent: Thursday, June 11, 2015 4:54 AM
Newsgroups: gmane.comp.apache.devel
To: httpd=20
Subject: Re: Review of 2.2.x security patch sought.

Just a quick /nag that I'm happy to roll 2.2.30 in conjunction with =
2.4.14, =20
so that we present both to the community at the same time, and simplify
the announcement.  This patch still needs a third +1 to be adopted (it =
is
already in trunk, and in the 2.4.14 Jim will be tagging & rolling =
shortly).

...
...
...
------=_NextPart_000_005D_01D0A439.876C7EB0
Content-Type: text/html;
	charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

<HTML><HEAD></HEAD>
<BODY dir=3Dltr>
<DIV dir=3Dltr>
<DIV style=3D"FONT-SIZE: 10pt; FONT-FAMILY: 'Arial'; COLOR: #000000">
<DIV>Not so happy to roll <FONT face=3DCalibri><FONT=20
style=3D"FONT-SIZE: 12pt">2.2.30 in conjunction with =
2.4.14.</FONT></FONT></DIV>
<DIV><FONT size=3D3 face=3DCalibri></FONT>&nbsp;</DIV>
<DIV><FONT size=3D3 face=3DCalibri>It does not stimulate pp to upgrade =
to 2.4.,=20
it</FONT><FONT size=3D3 face=3DCalibri> suggest that the httpd-project =
gives 2.2=20
(legacy) the same priority as 2.4.</FONT></DIV>
<DIV><FONT size=3D3 face=3DCalibri></FONT>&nbsp;</DIV>
<DIV><FONT size=3D3 face=3DCalibri>Better first 2.4 and after some time =
2.2. I do=20
not agree with the argument to simplify the announcement.</FONT></DIV>
<DIV><FONT size=3D3 face=3DCalibri></FONT>&nbsp;</DIV>
<DIV><FONT size=3D3 face=3DCalibri></FONT>&nbsp;</DIV>
<DIV=20
style=3D'FONT-SIZE: small; TEXT-DECORATION: none; FONT-FAMILY: =
"Calibri"; FONT-WEIGHT: normal; COLOR: #000000; FONT-STYLE: normal; =
DISPLAY: inline'>
<DIV style=3D"FONT: 10pt tahoma">
<DIV>&nbsp;</DIV>
<DIV style=3D"BACKGROUND: #f5f5f5">
<DIV style=3D"font-color: black"><B>From:</B> <A =
title=3Dwrowe@rowe-clan.net=20
href=3D"mailto:wrowe@rowe-clan.net">William A Rowe Jr</A> </DIV>
<DIV><B>Sent:</B> Thursday, June 11, 2015 4:54 AM</DIV>
<DIV><B>Newsgroups:</B> gmane.comp.apache.devel</DIV>
<DIV><B>To:</B> <A title=3Ddev@httpd.apache.org=20
href=3D"mailto:dev@httpd.apache.org">httpd</A> </DIV>
<DIV><B>Subject:</B> Re: Review of 2.2.x security patch=20
sought.</DIV></DIV></DIV>
<DIV>&nbsp;</DIV></DIV>
<DIV=20
style=3D'FONT-SIZE: small; TEXT-DECORATION: none; FONT-FAMILY: =
"Calibri"; FONT-WEIGHT: normal; COLOR: #000000; FONT-STYLE: normal; =
DISPLAY: inline'>
<DIV dir=3Dltr>Just a quick /nag that I'm happy to roll 2.2.30 in =
conjunction with=20
2.4.14,&nbsp;=20
<DIV>so that we present both to the community at the same time, and=20
simplify</DIV>
<DIV>the announcement.&nbsp; This patch still needs a third +1 to be =
adopted (it=20
is</DIV>
<DIV>already in trunk, and in the 2.4.14 Jim will be tagging &amp; =
rolling=20
shortly).</DIV>
<DIV><FONT size=3D2 face=3DArial></FONT>&nbsp;</DIV>
<DIV><FONT size=3D2 face=3DArial>...</FONT></DIV>
<DIV><FONT size=3D2 face=3DArial>...</FONT></DIV>
<DIV><FONT size=3D2=20
face=3DArial>...</FONT></DIV></DIV></DIV></DIV></DIV></BODY></HTML>

------=_NextPart_000_005D_01D0A439.876C7EB0--


From dev-return-82930-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 11 11:32:39 2015
Return-Path: <dev-return-82930-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F27A017716
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Jun 2015 11:32:38 +0000 (UTC)
Received: (qmail 7387 invoked by uid 500); 11 Jun 2015 11:32:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 7322 invoked by uid 500); 11 Jun 2015 11:32:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 7312 invoked by uid 99); 11 Jun 2015 11:32:38 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 11:32:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 22DEF181BE0
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 11:32:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id vuxXIFIoSllp for <dev@httpd.apache.org>;
	Thu, 11 Jun 2015 11:32:37 +0000 (UTC)
Received: from mail-wi0-f174.google.com (mail-wi0-f174.google.com [209.85.212.174])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 16E3820FF7
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 11:32:37 +0000 (UTC)
Received: by wiwd19 with SMTP id d19so72426510wiw.0
        for <dev@httpd.apache.org>; Thu, 11 Jun 2015 04:32:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:reply-to:user-agent:mime-version:to:subject
         :content-type:content-transfer-encoding;
        bh=52CEKaACdCVJqAqMXqlUe9R7OuvQCu/peEfm7LU3ZYc=;
        b=u9L1Jd0PUmt9/Bj0OsuWzJ0pjhTKstj5Rl1aZy84rIrx2KUZuQml7f0jjKc4LPwIjx
         /SH/NzoSvXnYEj7t6FA203ehJAYsxl4qL9J7odM8sjcf0KvG+eR4ygKnUmtH2t/ZWum7
         7fmL6JFbwLs/JjmBHWwzGN2f0AE+1Fi+wkMSb3Mu0l9bZGacoU7tSDK6HEEKHH2hU2YB
         AGce28dLq9siYhOxgOT9w3LHBC2p+zcmDtfAzEsbpJxsjrQAounHegMjMWNopGnhL7Qr
         0C2qIiVTBk6TkHd/6H3fCSa+m4OPFiUtdJzRw0ZUI7fsX7QKQbv8bhbD85gKPL+S70FG
         QcIA==
X-Received: by 10.180.81.70 with SMTP id y6mr29185413wix.14.1434022356852;
        Thu, 11 Jun 2015 04:32:36 -0700 (PDT)
Received: from [10.129.15.238] (caron.approach.be. [188.118.19.81])
        by mx.google.com with ESMTPSA id o6sm12411583wiz.24.2015.06.11.04.32.35
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Thu, 11 Jun 2015 04:32:36 -0700 (PDT)
Message-ID: <557971A7.206@gmail.com>
Date: Thu, 11 Jun 2015 13:31:51 +0200
From: Nick Gearls <nickgearls@gmail.com>
Reply-To: nickgearls@gmail.com
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: Development Apache <dev@httpd.apache.org>
Subject: Bug 57641
Content-Type: text/plain; charset=iso-8859-15; format=flowed
Content-Transfer-Encoding: 7bit

Hi all,

Can anybody have a look at this trivial bug waiting for months?
The bug is obvious and the fix is a one line change.

Thanks a lot

From dev-return-82931-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 11 12:58:16 2015
Return-Path: <dev-return-82931-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5B5F317A14
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Jun 2015 12:58:16 +0000 (UTC)
Received: (qmail 69046 invoked by uid 500); 11 Jun 2015 12:58:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68977 invoked by uid 500); 11 Jun 2015 12:58:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68967 invoked by uid 99); 11 Jun 2015 12:58:15 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 12:58:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 78402C0613
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 12:58:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.664
X-Spam-Level:
X-Spam-Status: No, score=0.664 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_MSPIKE_BL=0.01,
	RCVD_IN_MSPIKE_L3=0.001, SPF_NEUTRAL=0.652, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 2kycjSyQxirN for <dev@httpd.apache.org>;
	Thu, 11 Jun 2015 12:58:06 +0000 (UTC)
Received: from resqmta-po-05v.sys.comcast.net (resqmta-po-05v.sys.comcast.net [96.114.154.164])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 16A1A42B0E
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 12:58:05 +0000 (UTC)
Received: from resomta-po-19v.sys.comcast.net ([96.114.154.243])
	by resqmta-po-05v.sys.comcast.net with comcast
	id f0vN1q0075FMDhs010wx0T; Thu, 11 Jun 2015 12:56:57 +0000
Received: from [192.168.199.4] ([71.200.70.209])
	by resomta-po-19v.sys.comcast.net with comcast
	id f0ww1q00B4Wuz8v010wxHn; Thu, 11 Jun 2015 12:56:57 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: Notice: Intent to T&R 2.4.14 June 11 (Thurs)
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <E387B1F0-F2B6-44AE-949C-FE9D756213A1@jaguNET.com>
Date: Thu, 11 Jun 2015 08:56:55 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <1A7C4FBA-F6BC-40A5-9B39-6A9ACA8407D5@jaguNET.com>
References: <E387B1F0-F2B6-44AE-949C-FE9D756213A1@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1434027417;
	bh=jc1pUKs+Bv+d77X3x5dOKoAWd0l5/exEGry0l9AG5wU=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=KXXdyVBGwVRvbJp6tQzTNbFrDhQHCEe3ZADHUEx4Hq363PFPOVolcVuVMHC3MVDt4
	 ihk520PA7wzSXWvE81Bvt5gdx2s9eWQmWd30yXfJZN3G4aTVZpuRqre67Yodkc9Ya3
	 isnxN/JKuEwy0cFZm1ySXggIYKexcpK6Gi+J9UGuroOb4zrUwC6f5OVRcXflxmL+BX
	 yOtAtm52UXGtXA0JE/jKcjnN2ys/664Kqp7vt6HfTftueh5CYGt1kaXRlhJ1ocwhNH
	 AoQmAIe/10wiuo3LnOPwG/OcE88jAZ7aVaATn2GtcgOtGdsKOvrdE8FuJS4OgrOimh
	 U7CVkJjuoBLQQ==

It would be great to include:

	http://svn.apache.org/r1667386

in this.

> On Jun 10, 2015, at 7:35 PM, Jim Jagielski <jim@jaguNET.com> wrote:
> 
> Subj sez it all.


From dev-return-82932-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 11 13:08:43 2015
Return-Path: <dev-return-82932-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DE0B917A6E
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Jun 2015 13:08:42 +0000 (UTC)
Received: (qmail 981 invoked by uid 500); 11 Jun 2015 13:08:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 905 invoked by uid 500); 11 Jun 2015 13:08:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 895 invoked by uid 99); 11 Jun 2015 13:08:42 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 13:08:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id CAC29181BE0
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 13:08:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id JAkqsJddb24g for <dev@httpd.apache.org>;
	Thu, 11 Jun 2015 13:08:33 +0000 (UTC)
Received: from mail-ig0-f181.google.com (mail-ig0-f181.google.com [209.85.213.181])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 2ED4D20F5D
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 13:08:32 +0000 (UTC)
Received: by igbsb11 with SMTP id sb11so5458319igb.0
        for <dev@httpd.apache.org>; Thu, 11 Jun 2015 06:07:40 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=8nhKl3vsAMSfdOb+D9EoIHWlkLAAInC6v9ND9RTBRyM=;
        b=Jkoo/OxsUn/J9d/wwDIdbugu7lRP5Ahp+ilj01nj098aSGfCsMUMYL/g07wMgzL4OI
         VRQL1orHSvhnpVL1OkPrtGlv5o1Leu0qjO+0J2z35QPEaxihWcqNpcYm+bAx5g2qVt2k
         JcJdRukmNw6HzaHEna260UnfOikRZQbi4c4fbt/IXtQMMuXjebq98VcHIBR7QxL8tovV
         L+SJdWfpmSiHxOPLIkmFfk3KAyr9sN8gh/U1UOSGeD0/X4yRC2WrUzsKZcuYnCbrioBE
         GSMqVAR5RS3pkePWdJhwU1wprY6ZSPsP4KxL0TSKUZ46UrOpukvybViv7TPRsYhDtm1C
         kD1A==
X-Gm-Message-State: ALoCoQkOuiesIHKV/TI9O0ndSXmkjA2cbN6+cKFEKtq/sszZt/DmmuDzijOkfqWbZ7aTo6TWOPvV
MIME-Version: 1.0
X-Received: by 10.43.139.6 with SMTP id iu6mr11032244icc.32.1434028060014;
 Thu, 11 Jun 2015 06:07:40 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Thu, 11 Jun 2015 06:07:39 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
Received: by 10.107.190.195 with HTTP; Thu, 11 Jun 2015 06:07:39 -0700 (PDT)
In-Reply-To: <391221C823A2480098DB91286F7B4563@father>
References: <CACsi251wFnbi32CmyG9R4vGWj9CZo+=0kh+7w5sa4Ckqm_CdrA@mail.gmail.com>
	<CACsi250Fp0_9+zkRH613_1VTB6EYS_dUX2_Mdpz_imddMwBiwA@mail.gmail.com>
	<391221C823A2480098DB91286F7B4563@father>
Date: Thu, 11 Jun 2015 08:07:39 -0500
Message-ID: <CACsi252jKJDt1gzmkkysia062eR0YOPXC_NYkQ=+_vfzupwc-w@mail.gmail.com>
Subject: Re: Roll 2.2.30 in conjunction with 2.4.14
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11c308681db77a05183dad84

--001a11c308681db77a05183dad84
Content-Type: text/plain; charset=UTF-8

I believe the opposite, that the announcement 2.4 contains enhancements,
bug fixes, and security fixes, and 2.2 legacy containing security fixes
will set user expectations.  A later 2.2 announce muddies the waters when
users ponder if it is 'current' and sufficient.  We have language in both
files to clarify this, but still...

Another way to put it is that 2.2.30 shouldn't be a headline and receive
its own announcement, but sit as a sidebar of our significant public
message that 2.4 release is out.

But withholding a security fix for legacy server users?  Sounds like a way
to earn distrust of the user community, not reassure them that 2.4.14 is
the best version available.  Whose interest does that serve?

Not ours, it leaves the risk in place between 2.2 and 2.4 instances because
request splitting attacks require agents to interpret request length
indications differently.  Updating every affected server is the responsible
action by the user, and a security release is rarely a smart moment in time
to perform a major upgrade (config changes etc) without proper testing of
those configs and services.
 On Jun 11, 2015 4:27 AM, "Steffen" <info@apachelounge.com> wrote:

>   Not so happy to roll 2.2.30 in conjunction with 2.4.14.
>
> It does not stimulate pp to upgrade to 2.4., it suggest that the
> httpd-project gives 2.2 (legacy) the same priority as 2.4.
>
> Better first 2.4 and after some time 2.2. I do not agree with the argument
> to simplify the announcement.
>
>
>
>  *From:* William A Rowe Jr <wrowe@rowe-clan.net>
> *Sent:* Thursday, June 11, 2015 4:54 AM
> *Newsgroups:* gmane.comp.apache.devel
> *To:* httpd <dev@httpd.apache.org>
> *Subject:* Re: Review of 2.2.x security patch sought.
>
>  Just a quick /nag that I'm happy to roll 2.2.30 in conjunction with
> 2.4.14,
> so that we present both to the community at the same time, and simplify
> the announcement.  This patch still needs a third +1 to be adopted (it is
> already in trunk, and in the 2.4.14 Jim will be tagging & rolling shortly).
>
> ...
> ...
> ...
>

--001a11c308681db77a05183dad84
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">I believe the opposite, that the announcement 2.4 contains e=
nhancements, bug fixes, and security fixes, and 2.2 legacy containing secur=
ity fixes will set user expectations.=C2=A0 A later 2.2 announce muddies th=
e waters when users ponder if it is &#39;current&#39; and sufficient.=C2=A0=
 We have language in both files to clarify this, but still...</p>
<p dir=3D"ltr">Another way to put it is that 2.2.30 shouldn&#39;t be a head=
line and receive its own announcement, but sit as a sidebar of our signific=
ant public message that 2.4 release is out.</p>
<p dir=3D"ltr">But withholding a security fix for legacy server users?=C2=
=A0 Sounds like a way to earn distrust of the user community, not reassure =
them that 2.4.14 is the best version available.=C2=A0 Whose interest does t=
hat serve?</p>
<p dir=3D"ltr">Not ours, it leaves the risk in place between 2.2 and 2.4 in=
stances because request splitting attacks require agents to interpret reque=
st length indications differently.=C2=A0 Updating every affected server is =
the responsible action by the user, and a security release is rarely a smar=
t moment in time to perform a major upgrade (config changes etc) without pr=
oper testing of those configs and services.<br>
</p>
<div class=3D"gmail_quote">On Jun 11, 2015 4:27 AM, &quot;Steffen&quot; &lt=
;<a href=3D"mailto:info@apachelounge.com">info@apachelounge.com</a>&gt; wro=
te:<br type=3D"attribution"><blockquote class=3D"gmail_quote" style=3D"marg=
in:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">
<div dir=3D"ltr">
<div dir=3D"ltr">
<div style=3D"FONT-SIZE:10pt;FONT-FAMILY:&#39;Arial&#39;;COLOR:#000000">
<div>Not so happy to roll <font face=3D"Calibri"><font style=3D"FONT-SIZE:1=
2pt">2.2.30 in conjunction with 2.4.14.</font></font></div>
<div><font size=3D"3" face=3D"Calibri"></font>=C2=A0</div>
<div><font size=3D"3" face=3D"Calibri">It does not stimulate pp to upgrade =
to 2.4.,=20
it</font><font size=3D"3" face=3D"Calibri"> suggest that the httpd-project =
gives 2.2=20
(legacy) the same priority as 2.4.</font></div>
<div><font size=3D"3" face=3D"Calibri"></font>=C2=A0</div>
<div><font size=3D"3" face=3D"Calibri">Better first 2.4 and after some time=
 2.2. I do=20
not agree with the argument to simplify the announcement.</font></div>
<div><font size=3D"3" face=3D"Calibri"></font>=C2=A0</div>
<div><font size=3D"3" face=3D"Calibri"></font>=C2=A0</div>
<div style=3D"FONT-SIZE:small;TEXT-DECORATION:none;FONT-FAMILY:&quot;Calibr=
i&quot;;FONT-WEIGHT:normal;COLOR:#000000;FONT-STYLE:normal;DISPLAY:inline">
<div style=3D"FONT:10pt tahoma">
<div>=C2=A0</div>
<div style=3D"BACKGROUND:#f5f5f5">
<div><b>From:</b> <a title=3D"wrowe@rowe-clan.net" href=3D"mailto:wrowe@row=
e-clan.net" target=3D"_blank">William A Rowe Jr</a> </div>
<div><b>Sent:</b> Thursday, June 11, 2015 4:54 AM</div>
<div><b>Newsgroups:</b> gmane.comp.apache.devel</div>
<div><b>To:</b> <a title=3D"dev@httpd.apache.org" href=3D"mailto:dev@httpd.=
apache.org" target=3D"_blank">httpd</a> </div>
<div><b>Subject:</b> Re: Review of 2.2.x security patch=20
sought.</div></div></div>
<div>=C2=A0</div></div>
<div style=3D"FONT-SIZE:small;TEXT-DECORATION:none;FONT-FAMILY:&quot;Calibr=
i&quot;;FONT-WEIGHT:normal;COLOR:#000000;FONT-STYLE:normal;DISPLAY:inline">
<div dir=3D"ltr">Just a quick /nag that I&#39;m happy to roll 2.2.30 in con=
junction with=20
2.4.14,=C2=A0=20
<div>so that we present both to the community at the same time, and=20
simplify</div>
<div>the announcement.=C2=A0 This patch still needs a third +1 to be adopte=
d (it=20
is</div>
<div>already in trunk, and in the 2.4.14 Jim will be tagging &amp; rolling=
=20
shortly).</div>
<div><font size=3D"2" face=3D"Arial"></font>=C2=A0</div>
<div><font size=3D"2" face=3D"Arial">...</font></div>
<div><font size=3D"2" face=3D"Arial">...</font></div>
<div><font size=3D"2" face=3D"Arial">...</font></div></div></div></div></di=
v></div>
</blockquote></div>

--001a11c308681db77a05183dad84--

From dev-return-82933-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 11 13:15:21 2015
Return-Path: <dev-return-82933-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 883FC17AE1
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Jun 2015 13:15:21 +0000 (UTC)
Received: (qmail 33069 invoked by uid 500); 11 Jun 2015 13:15:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32984 invoked by uid 500); 11 Jun 2015 13:15:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32974 invoked by uid 99); 11 Jun 2015 13:15:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 13:15:21 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.193 as permitted sender)
Received: from [209.85.223.193] (HELO mail-ie0-f193.google.com) (209.85.223.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 13:13:07 +0000
Received: by ierx19 with SMTP id x19so1519556ier.3
        for <dev@httpd.apache.org>; Thu, 11 Jun 2015 06:14:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=zNjcfVtN+LSh4PK5KegPhZKuefsClC1SrQdm+SbDj5M=;
        b=jsl10NioSh3pZ5buHmnOOO76te7dGSmhEtdg5P4WqixH9UO3+qkKZJsCXUiSJY2OWg
         8xBMBmx+UP0KSnFBmxHsr8agdJR6tzyWotwfG4rfK7k5cbigEbYPdsonKQ1N89BLJ3jX
         32Y/igh1qatxIgZ+e5NPXSrmeERwqgIyw+/4CUjlvK1DjR5kLRP+bD1QdHFteyo7Rb2U
         tN4Lh2b0/NLnymZwHoY900pb8pOOAzr4cX35ucI5xc0x1/PWN4xa6UafuqOGva291JB0
         0WS2EzoIRjhYA81nR08OFmDhQUWQkN9Bg6e93WeP/z/XxPtPQphYpP2p9IyUDdchg3k5
         MrRg==
MIME-Version: 1.0
X-Received: by 10.43.66.5 with SMTP id xo5mr10516609icb.57.1434028494781; Thu,
 11 Jun 2015 06:14:54 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Thu, 11 Jun 2015 06:14:54 -0700 (PDT)
In-Reply-To: <1A7C4FBA-F6BC-40A5-9B39-6A9ACA8407D5@jaguNET.com>
References: <E387B1F0-F2B6-44AE-949C-FE9D756213A1@jaguNET.com>
	<1A7C4FBA-F6BC-40A5-9B39-6A9ACA8407D5@jaguNET.com>
Date: Thu, 11 Jun 2015 15:14:54 +0200
Message-ID: <CAKQ1sVMKjfbPM8tBUoaWQezO8WcmSS-TJjDqksMHxtqS4kDtWA@mail.gmail.com>
Subject: Re: Notice: Intent to T&R 2.4.14 June 11 (Thurs)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Promoted in r1684879.

On Thu, Jun 11, 2015 at 2:56 PM, Jim Jagielski <jim@jagunet.com> wrote:
> It would be great to include:
>
>         http://svn.apache.org/r1667386
>
> in this.
>
>> On Jun 10, 2015, at 7:35 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>>
>> Subj sez it all.
>

From dev-return-82934-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 11 13:22:06 2015
Return-Path: <dev-return-82934-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E620017B1E
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Jun 2015 13:22:06 +0000 (UTC)
Received: (qmail 48628 invoked by uid 500); 11 Jun 2015 13:22:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48555 invoked by uid 500); 11 Jun 2015 13:22:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48545 invoked by uid 99); 11 Jun 2015 13:22:06 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 13:22:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id D5C2BCD450
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 13:22:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.792
X-Spam-Level: *
X-Spam-Status: No, score=1.792 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id vk3u6wHtQsEg for <dev@httpd.apache.org>;
	Thu, 11 Jun 2015 13:21:59 +0000 (UTC)
Received: from mail-yh0-f43.google.com (mail-yh0-f43.google.com [209.85.213.43])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 5001142B0E
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 13:21:59 +0000 (UTC)
Received: by yhid80 with SMTP id d80so2410504yhi.1
        for <dev@httpd.apache.org>; Thu, 11 Jun 2015 06:21:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :content-type;
        bh=7p7IhohkT9bgk5CLJABjSzumb4f72MJQGb3H4sSLAvA=;
        b=PunoYpP62osvbgRQP6msIl9qaAW0Jpm8vbCIMn9lyQNIAmtqkMiIrReN0L8UQiCErj
         IDs16zhGz7z9lxkhu4tiuhtWULhYfxH0fZArQBfIjfc2neTMOmK4ZOwFMj4uCKateas+
         5cu9BuKt7yd+kFj3M6dGYpbRXNSzau8ZWLTdOTaIdlB9eYUDXC5Uqh/db8ECN8iOoBdo
         eF6CXe7tzFdr9nL3Pmop+ZDNGkRDtmT3dOfpu49qo7SJlnDPsmmNUavGBj+cUWrnOidU
         F2WhqnVyAfhnY+8psAvLd0yZ54Tk8G6iDQ4Pwvgq7HH5HDemijuq5Ow3S3EXPK7FNKD5
         /grw==
X-Received: by 10.129.128.199 with SMTP id q190mr11553025ywf.117.1434028918887;
 Thu, 11 Jun 2015 06:21:58 -0700 (PDT)
MIME-Version: 1.0
References: <CACsi251wFnbi32CmyG9R4vGWj9CZo+=0kh+7w5sa4Ckqm_CdrA@mail.gmail.com>
 <CACsi250Fp0_9+zkRH613_1VTB6EYS_dUX2_Mdpz_imddMwBiwA@mail.gmail.com>
 <391221C823A2480098DB91286F7B4563@father> <CACsi252jKJDt1gzmkkysia062eR0YOPXC_NYkQ=+_vfzupwc-w@mail.gmail.com>
In-Reply-To: <CACsi252jKJDt1gzmkkysia062eR0YOPXC_NYkQ=+_vfzupwc-w@mail.gmail.com>
From: Eric Covener <covener@gmail.com>
Date: Thu, 11 Jun 2015 13:21:48 +0000
Message-ID: <CALK=YjM+hWqU+gEvfxwVVh83_juyzYitJf=Dthmpo7LTo7DTaA@mail.gmail.com>
Subject: Re: Roll 2.2.30 in conjunction with 2.4.14
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=94eb2c0338104edf1c05183de0a7

--94eb2c0338104edf1c05183de0a7
Content-Type: text/plain; charset=UTF-8

On Thu, Jun 11, 2015 at 9:08 AM William A Rowe Jr <wrowe@rowe-clan.net>
wrote:

> But withholding a security fix for legacy server users?  Sounds like a way
> to earn distrust of the user community, not reassure them that 2.4.14 is
> the best version available.
>
+1

--94eb2c0338104edf1c05183de0a7
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><br><br><div class=3D"gmail_quote"><div dir=3D"ltr">On Thu=
, Jun 11, 2015 at 9:08 AM William A Rowe Jr &lt;<a href=3D"mailto:wrowe@row=
e-clan.net">wrowe@rowe-clan.net</a>&gt; wrote:</div><blockquote class=3D"gm=
ail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-le=
ft:1ex">
<p dir=3D"ltr">But withholding a security fix for legacy server users?=C2=
=A0 Sounds like a way to earn distrust of the user community, not reassure =
them that 2.4.14 is the best version available.</p></blockquote><div>+1<br>=
=C2=A0</div></div></div>

--94eb2c0338104edf1c05183de0a7--

From dev-return-82935-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 11 13:22:53 2015
Return-Path: <dev-return-82935-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 417E217B2E
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Jun 2015 13:22:53 +0000 (UTC)
Received: (qmail 50264 invoked by uid 500); 11 Jun 2015 13:22:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50172 invoked by uid 500); 11 Jun 2015 13:22:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50162 invoked by uid 99); 11 Jun 2015 13:22:52 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 13:22:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id F0B0C181BE0
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 13:22:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.664
X-Spam-Level:
X-Spam-Status: No, score=0.664 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_MSPIKE_BL=0.01,
	RCVD_IN_MSPIKE_L3=0.001, SPF_NEUTRAL=0.652, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id BTeadIE5dT7G for <dev@httpd.apache.org>;
	Thu, 11 Jun 2015 13:22:42 +0000 (UTC)
Received: from resqmta-po-08v.sys.comcast.net (resqmta-po-08v.sys.comcast.net [96.114.154.167])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 62D2524965
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 13:22:41 +0000 (UTC)
Received: from resomta-po-16v.sys.comcast.net ([96.114.154.240])
	by resqmta-po-08v.sys.comcast.net with comcast
	id f1Mo1q0075BUCh4011NaYF; Thu, 11 Jun 2015 13:22:34 +0000
Received: from [192.168.199.4] ([71.200.70.209])
	by resomta-po-16v.sys.comcast.net with comcast
	id f1NZ1q0044Wuz8v011NZqZ; Thu, 11 Jun 2015 13:22:34 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: Notice: Intent to T&R 2.4.14 June 11 (Thurs)
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVMKjfbPM8tBUoaWQezO8WcmSS-TJjDqksMHxtqS4kDtWA@mail.gmail.com>
Date: Thu, 11 Jun 2015 09:22:32 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <4016D486-B939-483F-8216-3C4BEDB4D303@jaguNET.com>
References: <E387B1F0-F2B6-44AE-949C-FE9D756213A1@jaguNET.com> <1A7C4FBA-F6BC-40A5-9B39-6A9ACA8407D5@jaguNET.com> <CAKQ1sVMKjfbPM8tBUoaWQezO8WcmSS-TJjDqksMHxtqS4kDtWA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1434028954;
	bh=zTFupJlr7rk8e/mruyTIvsd0pfs0fQ1nRojb4H0bxpg=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=tGR1hDdRVv357gXms41ePl6nLACeVLPcuJfv1MdPIY5DPszIR5RpjtItNvQFKtcFm
	 KJn18Uwbp2wjBPeSMi+g7KU9xqJzC5JBvxpVBjIZ3Vcqb62zu0fp7qWgTHBtavp5t8
	 e0gQWIlNllQpFsTtsU35Xzx0ZUGBtyCsMDT9sE+Hl9G4/asAJAkG8xKqEqXYVRh5/3
	 Uh5VY87XMN0FkExorOri6jseUBDOYNnoCQ2RTuYFG0Ktel7gHP5kyYv92NBqELkQ+E
	 nu6LIj5n2OKNX+nkYiA/xEzEE8wMoL1uHm7XjFhKHBUty9LQa+L5Qz+wBpxrRyAN9e
	 fw+rKoyDsmKGA==

Thx!
> On Jun 11, 2015, at 9:14 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> 
> Promoted in r1684879.
> 
> On Thu, Jun 11, 2015 at 2:56 PM, Jim Jagielski <jim@jagunet.com> wrote:
>> It would be great to include:
>> 
>>        http://svn.apache.org/r1667386
>> 
>> in this.
>> 
>>> On Jun 10, 2015, at 7:35 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>>> 
>>> Subj sez it all.
>> 


From dev-return-82936-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 11 13:48:44 2015
Return-Path: <dev-return-82936-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1760717C02
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Jun 2015 13:48:44 +0000 (UTC)
Received: (qmail 24389 invoked by uid 500); 11 Jun 2015 13:48:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 24300 invoked by uid 500); 11 Jun 2015 13:48:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 24290 invoked by uid 99); 11 Jun 2015 13:48:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 13:48:43 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of prvs=597b3f41e=awang@ptc.com designates 12.11.148.189 as permitted sender)
Received: from [12.11.148.189] (HELO mx2.ptc.com) (12.11.148.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 13:46:28 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
  d=ptc.com; s=ptc; t=1434030516; x=1465566516;
  h=message-id:date:from:mime-version:to:subject:references:
   in-reply-to:content-transfer-encoding;
  bh=xb8JQTUF9o6ZaVY9f1HZ3mbZNILlK8oDr3HdwvDRCVc=;
  b=QtJ8t8Dqh3aMsanrtBX7G04tn7KCUk5szEnw/BQ/IHN3emE9PxBz5xMX
   9DL9A1CGYw1bVZBBo+YpmEb0VQtveyurwNN/o+iHTri624/lGofGt5TJc
   UR4IT84h3XV5/6R0d9I9IWRrVLwV2jvEBVqkywczbaqEmWylsi75rswNC
   g=;
X-IronPort-AV: E=Sophos;i="5.13,595,1427774400"; 
   d="scan'208";a="18246562"
Received: from hq-x10prdhub2.ptcnet.ptc.com ([132.253.198.28])
  by mx2-int.ptc.com with ESMTP/TLS/AES128-SHA; 11 Jun 2015 09:48:15 -0400
Received: from awang.ptcnet.ptc.com (132.253.8.73) by
 HQ-X10PRDHUB2.ptcnet.ptc.com (132.253.201.252) with Microsoft SMTP Server id
 14.3.123.3; Thu, 11 Jun 2015 09:48:15 -0400
Message-ID: <5579919E.6000304@ptc.com>
Date: Thu, 11 Jun 2015 08:48:14 -0500
From: Andy Wang <awang@ptc.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: <dev@httpd.apache.org>
Subject: Re: httpd 2.4 and windows "hangs" and AcceptFilter solution
References: <552E9491.7050802@ptc.com>	<55785857.2040909@ptc.com>	<CACsi252U-HHYCSVShQLSp0TO8acsJ7Eq8zvcLrjJLWxtz=qqfw@mail.gmail.com>	<557863E4.6040602@ptc.com>	<CACsi250zBc3i3eJR_qTOG8ymBWocazrrXNdq7LoBqjUgkqVWvQ@mail.gmail.com>	<5578A857.5090709@ptc.com> <CACsi253238dqnbrGHynTheW6piLGHgeJFUvC6_BH13T=YFfbkw@mail.gmail.com>
In-Reply-To: <CACsi253238dqnbrGHynTheW6piLGHgeJFUvC6_BH13T=YFfbkw@mail.gmail.com>
Content-Type: text/plain; charset="utf-8"; format=flowed
Content-Transfer-Encoding: 7bit
X-Originating-IP: [132.253.8.73]
X-Virus-Checked: Checked by ClamAV on apache.org



On 06/10/2015 09:46 PM, William A Rowe Jr wrote:
> On Wed, Jun 10, 2015 at 4:12 PM, Andy Wang <awang@ptc.com
> <mailto:awang@ptc.com>> wrote:
>
>     I can reproduce the first case with the installer, pretty much
>     ondemand using our installer stuff.  I've tried reproducing it by
>     ripping out the actions that do the Runtime.exec() to call httpd.exe
>     into a separate standalone program, and the problem doesn't occur
>     there.  Go figure. But when this occurs httpd.exe is unresponsive to
>     localhost AND remote traffic immediately.  I think I can get one or
>     maybe 2 requests in and out before it additional connections simply
>     hang until a network timeout.  Wireshark shows the request is ACKed
>     but that's it.
>
>     My initial thought was that something cause the process to be
>     blocked, but from what I can tell from Process Explorer/Process
>     Monitor the threads look correct and are simply waiting for a request.
>
>
> This sounds like a permissions problem.
>

Pleading windows ignorance here, but what kind of permissions problem? 
Both processes are elevated to administrator via UAC (or with UAC 
disabled) and literally as soon as you kill the parent java.exe process, 
it starts to work.

One of the other windows guys here, theorized that it has to do with 
inherited handles but he couldn't really work out why.  He's not a 
winsock expert though.

>     The internet explorer 11 case, I've not seen myself, just from
>     reports of other developers I've worked with. It occurs from
>     automated tests, and these are mostly remote clients running IE11.
>
>
> It is possible that the 'data' mode (that ships the first packet(s) into
> buffers upon receiving data) is somehow incompatible with a broken IE11
> handshake.

Yeah, i wish this was reproducible more on demand so I can grab the 
packet capture.

From dev-return-82937-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 11 14:03:48 2015
Return-Path: <dev-return-82937-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 26A2D17C8F
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Jun 2015 14:03:48 +0000 (UTC)
Received: (qmail 57915 invoked by uid 500); 11 Jun 2015 14:03:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57847 invoked by uid 500); 11 Jun 2015 14:03:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57837 invoked by uid 99); 11 Jun 2015 14:03:47 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 14:03:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 0634ECD439
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 14:03:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.892
X-Spam-Level: *
X-Spam-Status: No, score=1.892 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id Z-Y8roc4VSKu for <dev@httpd.apache.org>;
	Thu, 11 Jun 2015 14:03:39 +0000 (UTC)
Received: from mail-ie0-f181.google.com (mail-ie0-f181.google.com [209.85.223.181])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 70BF0261AF
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 14:03:39 +0000 (UTC)
Received: by iesa3 with SMTP id a3so6357713ies.2
        for <dev@httpd.apache.org>; Thu, 11 Jun 2015 07:02:53 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=bv8KtvC3Ci7JdrVITheqHv/sS6RsRlO3jd2g66kcxK8=;
        b=AzjfopA48bnrBwsksUTyQGcJapG8fuyBl7jp1fqLaUtZaydkD18bwnDmK/6mOmnRQQ
         svtCx6k/NqUrSikiCCcNFj5NoHCG1T/t55M6vl52GK/Yk46hzMh2v//9BBRBhiRXU28Q
         HDv7+HdUm0hCkf+XO82i4JAR+0LXTKZrzRVIp2t7zttH0FX/GHKKNe1F3DCRDx8MX65X
         7aQtcA8xBDFB82DVASklb7IlDB5ilEOTLY9JVHxVTwR1TSv3OlujkTbUOe2cJck3ZMTw
         EQX72QLizieca425MKSvtTNTU+NPQxLLFspr/GOQFyC8bloqhJBEyvPobwZEbP4H8u0y
         NRug==
X-Gm-Message-State: ALoCoQmtwhD7HKHoDS9XawshVbvawcWQlN89VvclozJmxGocLxn1Rk82PG0xauZpEshlc0hInfp/
MIME-Version: 1.0
X-Received: by 10.50.13.10 with SMTP id d10mr35274414igc.20.1434031373849;
 Thu, 11 Jun 2015 07:02:53 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Thu, 11 Jun 2015 07:02:53 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <5579919E.6000304@ptc.com>
References: <552E9491.7050802@ptc.com>
	<55785857.2040909@ptc.com>
	<CACsi252U-HHYCSVShQLSp0TO8acsJ7Eq8zvcLrjJLWxtz=qqfw@mail.gmail.com>
	<557863E4.6040602@ptc.com>
	<CACsi250zBc3i3eJR_qTOG8ymBWocazrrXNdq7LoBqjUgkqVWvQ@mail.gmail.com>
	<5578A857.5090709@ptc.com>
	<CACsi253238dqnbrGHynTheW6piLGHgeJFUvC6_BH13T=YFfbkw@mail.gmail.com>
	<5579919E.6000304@ptc.com>
Date: Thu, 11 Jun 2015 09:02:53 -0500
Message-ID: <CACsi251bVCOq74AsJfKGXSpCRKZrFqXNJ3qj3XcHEcmibQdPgw@mail.gmail.com>
Subject: Re: httpd 2.4 and windows "hangs" and AcceptFilter solution
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e01184874a2b01905183e72b8

--089e01184874a2b01905183e72b8
Content-Type: text/plain; charset=UTF-8

On Thu, Jun 11, 2015 at 8:48 AM, Andy Wang <awang@ptc.com> wrote:

>
> Pleading windows ignorance here, but what kind of permissions problem?
> Both processes are elevated to administrator via UAC (or with UAC disabled)
> and literally as soon as you kill the parent java.exe process, it starts to
> work.
>

Sounds telling.  Can you get your installer to stall without invoking
httpd.exe - and then attempt to start httpd outside of the installer on the
same machine?  Something going on within the installer may be interacting
with the winsock stack.  If so, with the installer frozen the problem
should occur outside of the installer process, I'd expect.


> One of the other windows guys here, theorized that it has to do with
> inherited handles but he couldn't really work out why.  He's not a winsock
> expert though.


A possibility.  There is the -X (-DONE_PROCESS) startup flag to rule that
out.

--089e01184874a2b01905183e72b8
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
hu, Jun 11, 2015 at 8:48 AM, Andy Wang <span dir=3D"ltr">&lt;<a href=3D"mai=
lto:awang@ptc.com" target=3D"_blank">awang@ptc.com</a>&gt;</span> wrote:<br=
><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border=
-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;=
padding-left:1ex"><br>
Pleading windows ignorance here, but what kind of permissions problem? Both=
 processes are elevated to administrator via UAC (or with UAC disabled) and=
 literally as soon as you kill the parent java.exe process, it starts to wo=
rk.<br></blockquote><div><br></div><div>Sounds telling.=C2=A0 Can you get y=
our installer to stall without invoking httpd.exe - and then attempt to sta=
rt httpd outside of the installer on the same machine?=C2=A0 Something goin=
g on within the installer may be interacting with the winsock stack.=C2=A0 =
If so, with the installer frozen the problem should occur outside of the in=
staller process, I&#39;d expect.</div><div>=C2=A0</div><blockquote class=3D=
"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;borde=
r-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex">
One of the other windows guys here, theorized that it has to do with inheri=
ted handles but he couldn&#39;t really work out why.=C2=A0 He&#39;s not a w=
insock expert though.</blockquote><div><br></div><div>A possibility.=C2=A0 =
There is the -X (-DONE_PROCESS) startup flag to rule that out.=C2=A0</div><=
/div><br></div></div>

--089e01184874a2b01905183e72b8--

From dev-return-82938-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 11 14:08:41 2015
Return-Path: <dev-return-82938-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 813FD17CE9
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Jun 2015 14:08:41 +0000 (UTC)
Received: (qmail 77337 invoked by uid 500); 11 Jun 2015 14:08:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 77271 invoked by uid 500); 11 Jun 2015 14:08:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 77260 invoked by uid 99); 11 Jun 2015 14:08:41 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 14:08:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 9874A181BE0
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 14:08:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 0D0a15k40m_F for <dev@httpd.apache.org>;
	Thu, 11 Jun 2015 14:08:34 +0000 (UTC)
Received: from resqmta-po-06v.sys.comcast.net (resqmta-po-06v.sys.comcast.net [96.114.154.165])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id BA37242AD4
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 14:08:33 +0000 (UTC)
Received: from resomta-po-05v.sys.comcast.net ([96.114.154.229])
	by resqmta-po-06v.sys.comcast.net with comcast
	id f26y1q0044xDoy80128ZvG; Thu, 11 Jun 2015 14:08:33 +0000
Received: from [192.168.199.4] ([71.200.70.209])
	by resomta-po-05v.sys.comcast.net with comcast
	id f28V1q00H4Wuz8v0128YMx; Thu, 11 Jun 2015 14:08:33 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: [VOTE] Release Apache httpd 2.4.14 as GA
Message-Id: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
Date: Thu, 11 Jun 2015 10:08:28 -0400
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1434031713;
	bh=RwMSyqW84Ah+m3mUuePaYwHOgTr4rlHawhfpKbVGe7E=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=M+xAwCN+K4FDDAYNkUL4pYklKHHuFzD9pbm6/6H+NFspF5s91a+MClh9l4ofCibXy
	 3e1XP8aImiLHS1iTtnNfg93J8KhFOISbevtjjzLihJt09yCVzo0DRes9IlocUzeGOV
	 8KM2MYT21QpOCPe/3vaeOhMri4zgDPmE3oj0b6qao3nsMXZtDiiflFaw9tiOkjv7RN
	 3/l0fm02GK4OJaYvgwQQbwFX60iJ1Wk//MNr9A/xjRY+ls0RZ+1MJ5J+KSbqWnNXQ6
	 FAG0x1omiyup5ezjatK8D7DzZX29N4/jdbc70kdAwXF1uQEhAR3kgljAt1/kvwuQ3f
	 OZMqd86DMIvfw==

The pre-release test tarballs for Apache httpd 2.4.14 can be found
at the usual place:

	http://httpd.apache.org/dev/dist/

I'm calling a VOTE on releasing these as Apache httpd 2.4.14 GA.

[ ] +1: Good to go
[ ] +0: meh
[ ] -1: Danger Will Robinson. And why.

Vote will last the normal 72 hrs.

NOTE: The *-deps are only there for convenience.

Thx!

From dev-return-82939-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 11 14:34:24 2015
Return-Path: <dev-return-82939-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AF14517E03
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Jun 2015 14:34:24 +0000 (UTC)
Received: (qmail 49703 invoked by uid 500); 11 Jun 2015 14:34:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49626 invoked by uid 500); 11 Jun 2015 14:34:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49616 invoked by uid 99); 11 Jun 2015 14:34:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 14:34:23 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stefan.eissing@greenbytes.de designates 217.91.35.233 as permitted sender)
Received: from [217.91.35.233] (HELO mail.greenbytes.de) (217.91.35.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 14:32:09 +0000
Received: from delight.greenbytes.de (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 9462315A0058
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 16:33:25 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: SNI Host: header mismatch
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVMXkG33C1R7vw28bCvk+eh_W0-Zpy1o=wnijaB7BkBpxQ@mail.gmail.com>
Date: Thu, 11 Jun 2015 16:33:28 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <718405ED-C623-44CA-BFE7-BC899CA088FD@greenbytes.de>
References: <6A48855E-B573-4946-8BC7-AE914B94BE90@greenbytes.de> <CAKQ1sVPBxaHCMCzjf3p-pTpPhQk-dcrASvy6Zs-wgpqYD=YVXg@mail.gmail.com> <CAKQ1sVNcZZKfitUiKBX7BW_zGwJprOQ21Nv_xyVCu3mU+PKZdQ@mail.gmail.com> <CAKQ1sVMXkG33C1R7vw28bCvk+eh_W0-Zpy1o=wnijaB7BkBpxQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
X-Virus-Checked: Checked by ClamAV on apache.org

Two things:

1. the minimal thing to fix the situation is to return 421 instead of =
400. H2 clients will then open a new TLS connection for the request =
host. I don't know if this breaks any HTTP/1 clients, however it should =
not.

2. Given that we answer not matching combinations with 421, the admin =
should be given the opportunity to allow this via some directive. This =
makes it easier for her to do "anti-sharding" for h2 clients.=20

ap_matches_request_vhost() / ServerAlias is not the right choice, if I =
understand it correctly, since the non-matching request is really =
intended for another vhost and not just a using a fancy name for the =
real SNI one.

If there were named SSL configurations, httpd could allow connection =
reuse for all vhosts with the same SSL config. Alternatively, is there a =
good way to check that two vhosts use the same certificate (key)? That =
could work as well.

I will make a tiny patch for the 421 code, add that to mod_h2's sandbox =
and make a ticket.

//Stefan

> Am 10.06.2015 um 18:09 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Wed, Jun 10, 2015 at 5:48 PM, Yann Ylavic <ylavic.dev@gmail.com> =
wrote:
>> On Wed, Jun 10, 2015 at 5:30 PM, Yann Ylavic <ylavic.dev@gmail.com> =
wrote:
>>> On Wed, Jun 10, 2015 at 4:41 PM, Stefan Eissing
>>> <stefan.eissing@greenbytes.de> wrote:
>>>> Today I had the second user which got "400 Bad Request" when using =
mod_h2 with a wildcard certificate. So, I was thinking how to possibly =
fix the code in mod_ssl.
>>>>=20
>>>> The mostly harmless approach is the addition of a configuration =
directive that admins may use to explicitly allow multiple host requests =
on a SNI connection. Which would mean that both the config of the SNI =
host and the config of the request host have "SSLSNIVHostMatch off".
>>>>=20
>>>> The case where no Host header is provided or no SNI is used I =
propose to leave unaffected, e.g. continue to fail.
>>>>=20
>>>> Any thoughts?
>>>=20
>>> Maybe matching against the ServerName and ServerAlias(es) instead of
>>> the Host header, so that the admin can still have a control on it...
>>=20
>> E.g. by using ap_matches_request_vhost(r, SNI, 0).
>=20
> Or likewise with the SAN (SubjectAltName(s) of the server =
certificate).
> =3D> SSLSNIHostMatch on/vhost/SAN and possibly off (I'd prefer we had =
not to...).

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-82940-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 11 15:57:17 2015
Return-Path: <dev-return-82940-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 83A71181E0
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Jun 2015 15:57:17 +0000 (UTC)
Received: (qmail 84406 invoked by uid 500); 11 Jun 2015 15:57:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84330 invoked by uid 500); 11 Jun 2015 15:57:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84320 invoked by uid 99); 11 Jun 2015 15:57:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 15:57:16 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.195 as permitted sender)
Received: from [209.85.213.195] (HELO mail-ig0-f195.google.com) (209.85.213.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 15:55:02 +0000
Received: by igdj8 with SMTP id j8so2641963igd.0
        for <dev@httpd.apache.org>; Thu, 11 Jun 2015 08:56:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=QIU2bcA+oKFimJWVI6KA1vV1G6MAfiraocASayIJ/KY=;
        b=ZV2u2E2D+vfELHWA9PVll/i6u5pBT/hrkdfSfaAiPNaAq9Xs5ksvReeLaozkVywosz
         lAcebtyqCr33KFPYEULYKdeWTcX3GfFuZr2WQtxVZ7TqwTMt+TAVNBZA3B2oigGpr8O7
         ilQgs28lULSErRWe6kTXHjOqEGKv+cCqo99L28c5z+/v/QLVIcim5w4RpSLB0Kqm264D
         tv7wi1nYelPvK6d4SCMfWZndaw0dwwKKwLLr8I5a6qA3yQeZdnvCXyMRbJdHeXeFtVJf
         2Mxh+ITf6fokOZ2/ugtIwQ8D4T6Ue3zlyygFqEoyvpK1PpKuv/X58XQ66yP7y+Tk3wK3
         Jzgw==
MIME-Version: 1.0
X-Received: by 10.50.176.228 with SMTP id cl4mr13968493igc.2.1434038210628;
 Thu, 11 Jun 2015 08:56:50 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Thu, 11 Jun 2015 08:56:50 -0700 (PDT)
In-Reply-To: <718405ED-C623-44CA-BFE7-BC899CA088FD@greenbytes.de>
References: <6A48855E-B573-4946-8BC7-AE914B94BE90@greenbytes.de>
	<CAKQ1sVPBxaHCMCzjf3p-pTpPhQk-dcrASvy6Zs-wgpqYD=YVXg@mail.gmail.com>
	<CAKQ1sVNcZZKfitUiKBX7BW_zGwJprOQ21Nv_xyVCu3mU+PKZdQ@mail.gmail.com>
	<CAKQ1sVMXkG33C1R7vw28bCvk+eh_W0-Zpy1o=wnijaB7BkBpxQ@mail.gmail.com>
	<718405ED-C623-44CA-BFE7-BC899CA088FD@greenbytes.de>
Date: Thu, 11 Jun 2015 17:56:50 +0200
Message-ID: <CAKQ1sVPN=KcnhTm4JO6J+EJGBevkZ=4PQxm1vtE_M9P+PM3Frw@mail.gmail.com>
Subject: Re: SNI Host: header mismatch
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Jun 11, 2015 at 4:33 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> Two things:
>
> 1. the minimal thing to fix the situation is to return 421 instead of 400. H2 clients will then open a new TLS connection for the request host. I don't know if this breaks any HTTP/1 clients, however it should not.

I think this should be OK, HTTP/1 clients are prepared to received
unknown error codes AFAICT.

>
> 2. Given that we answer not matching combinations with 421, the admin should be given the opportunity to allow this via some directive. This makes it easier for her to do "anti-sharding" for h2 clients.
>
> ap_matches_request_vhost() / ServerAlias is not the right choice, if I understand it correctly, since the non-matching request is really intended for another vhost and not just a using a fancy name for the real SNI one.
>
> If there were named SSL configurations, httpd could allow connection reuse for all vhosts with the same SSL config. Alternatively, is there a good way to check that two vhosts use the same certificate (key)? That could work as well.

That's why I (also) proposed to check the SNI against the current
vhost's certificate's subject CN and/or AltNames (for wildcard certs).
AIUI, the client should not reuse connections unless one of those matches.

Why wouldn't that work?

Regards,
Yann.

From dev-return-82941-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 11 16:08:49 2015
Return-Path: <dev-return-82941-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 80F4A18292
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Jun 2015 16:08:49 +0000 (UTC)
Received: (qmail 31249 invoked by uid 500); 11 Jun 2015 16:08:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 31166 invoked by uid 500); 11 Jun 2015 16:08:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 31156 invoked by uid 99); 11 Jun 2015 16:08:48 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 16:08:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 8ABACC0613
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 16:08:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.009
X-Spam-Level:
X-Spam-Status: No, score=-0.009 tagged_above=-999 required=6.31
	tests=[T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 72xchhjOYuHB for <dev@httpd.apache.org>;
	Thu, 11 Jun 2015 16:08:38 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id E741627606
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 16:08:37 +0000 (UTC)
Received: from [192.168.178.55] (unknown [84.189.80.41])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id B1BDC15A0058
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 18:08:29 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: SNI Host: header mismatch
Message-Id: <0DC2853F-6376-4E56-9F62-49E4E13278F9@greenbytes.de>
Date: Thu, 11 Jun 2015 18:08:28 +0200
References: <6A48855E-B573-4946-8BC7-AE914B94BE90@greenbytes.de> <CAKQ1sVPBxaHCMCzjf3p-pTpPhQk-dcrASvy6Zs-wgpqYD=YVXg@mail.gmail.com> <CAKQ1sVNcZZKfitUiKBX7BW_zGwJprOQ21Nv_xyVCu3mU+PKZdQ@mail.gmail.com> <CAKQ1sVMXkG33C1R7vw28bCvk+eh_W0-Zpy1o=wnijaB7BkBpxQ@mail.gmail.com> <718405ED-C623-44CA-BFE7-BC899CA088FD@greenbytes.de> <CAKQ1sVPN=KcnhTm4JO6J+EJGBevkZ=4PQxm1vtE_M9P+PM3Frw@mail.gmail.com>
In-Reply-To: <CAKQ1sVPN=KcnhTm4JO6J+EJGBevkZ=4PQxm1vtE_M9P+PM3Frw@mail.gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
X-Mailer: iPhone Mail (12F70)

Yes, it will work with the cert checks, not without. Sorry, if that was conf=
using.=20



> Am 11.06.2015 um 17:56 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Thu, Jun 11, 2015 at 4:33 PM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> Two things:
>>=20
>> 1. the minimal thing to fix the situation is to return 421 instead of 400=
. H2 clients will then open a new TLS connection for the request host. I don=
't know if this breaks any HTTP/1 clients, however it should not.
>=20
> I think this should be OK, HTTP/1 clients are prepared to received
> unknown error codes AFAICT.
>=20
>>=20
>> 2. Given that we answer not matching combinations with 421, the admin sho=
uld be given the opportunity to allow this via some directive. This makes it=
 easier for her to do "anti-sharding" for h2 clients.
>>=20
>> ap_matches_request_vhost() / ServerAlias is not the right choice, if I un=
derstand it correctly, since the non-matching request is really intended for=
 another vhost and not just a using a fancy name for the real SNI one.
>>=20
>> If there were named SSL configurations, httpd could allow connection reus=
e for all vhosts with the same SSL config. Alternatively, is there a good wa=
y to check that two vhosts use the same certificate (key)? That could work a=
s well.
>=20
> That's why I (also) proposed to check the SNI against the current
> vhost's certificate's subject CN and/or AltNames (for wildcard certs).
> AIUI, the client should not reuse connections unless one of those matches.=

>=20
> Why wouldn't that work?
>=20
> Regards,
> Yann.

From dev-return-82942-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 11 16:09:41 2015
Return-Path: <dev-return-82942-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6F2C518298
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Jun 2015 16:09:41 +0000 (UTC)
Received: (qmail 32551 invoked by uid 500); 11 Jun 2015 16:09:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32461 invoked by uid 500); 11 Jun 2015 16:09:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32451 invoked by uid 99); 11 Jun 2015 16:09:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 16:09:40 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of prvs=597b3f41e=awang@ptc.com designates 12.11.148.188 as permitted sender)
Received: from [12.11.148.188] (HELO mx1.ptc.com) (12.11.148.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 16:07:25 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
  d=ptc.com; s=ptc; t=1434038974; x=1465574974;
  h=message-id:date:from:mime-version:to:subject:references:
   in-reply-to:content-transfer-encoding;
  bh=nu8Mt9z8WSaW2CtWldApnsbeE1AMHcb/dFygvGhHQzU=;
  b=Tl26P9omn9V2pyrG9wi58q4uR3BD+zxJGHu83kbjIRbSo1Y/ZDtgzwj0
   1CbsE2SrCnUqRqasXw3W2QLWxqLeTqPZQj0JsV2to7iADVFOVg3tQDIis
   1AMWH4tYlR4l1/ncgvoeu/LXMoXJKjaMXwO/TrRwzlN73dhLqz6w3xauX
   c=;
X-IronPort-AV: E=Sophos;i="5.13,595,1427774400"; 
   d="scan'208";a="83237201"
Received: from hq-x10prdhub2.ptcnet.ptc.com ([132.253.198.28])
  by mx1-int.ptc.com with ESMTP/TLS/AES128-SHA; 11 Jun 2015 12:09:12 -0400
Received: from awang.ptcnet.ptc.com (132.253.8.73) by
 HQ-X10PRDHUB2.ptcnet.ptc.com (132.253.201.252) with Microsoft SMTP Server id
 14.3.123.3; Thu, 11 Jun 2015 12:09:12 -0400
Message-ID: <5579B2A7.5080304@ptc.com>
Date: Thu, 11 Jun 2015 11:09:11 -0500
From: Andy Wang <awang@ptc.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: <dev@httpd.apache.org>
Subject: Re: httpd 2.4 and windows "hangs" and AcceptFilter solution
References: <552E9491.7050802@ptc.com>	<55785857.2040909@ptc.com>	<CACsi252U-HHYCSVShQLSp0TO8acsJ7Eq8zvcLrjJLWxtz=qqfw@mail.gmail.com>	<557863E4.6040602@ptc.com>	<CACsi250zBc3i3eJR_qTOG8ymBWocazrrXNdq7LoBqjUgkqVWvQ@mail.gmail.com>	<5578A857.5090709@ptc.com>	<CACsi253238dqnbrGHynTheW6piLGHgeJFUvC6_BH13T=YFfbkw@mail.gmail.com>	<5579919E.6000304@ptc.com> <CACsi251bVCOq74AsJfKGXSpCRKZrFqXNJ3qj3XcHEcmibQdPgw@mail.gmail.com>
In-Reply-To: <CACsi251bVCOq74AsJfKGXSpCRKZrFqXNJ3qj3XcHEcmibQdPgw@mail.gmail.com>
Content-Type: text/plain; charset="utf-8"; format=flowed
Content-Transfer-Encoding: 7bit
X-Originating-IP: [132.253.8.73]
X-Virus-Checked: Checked by ClamAV on apache.org



On 06/11/2015 09:02 AM, William A Rowe Jr wrote:
>
> Sounds telling.  Can you get your installer to stall without invoking
> httpd.exe - and then attempt to start httpd outside of the installer on
> the same machine?  Something going on within the installer may be
> interacting with the winsock stack.  If so, with the installer frozen
> the problem should occur outside of the installer process, I'd expect.
>

The installer never actually stalls either. it continues to process a 
few things and then eventually it needs to make a request to httpd to 
make sure it's up.  At that point, the installer hangs waiting for 
response.  the interesting thing is the TCP handshake and GET request 
are both actually completed, so there's no other timeout.  So the 
process primary thread is "hung" because of that.  However all other 
threads are perfectly fine (JMX monitoring can connect to it, i can get 
jstack thread dumps, etc etc)

The only thing that appers to be hanging is httpd.exe but even then it's 
not hung in the sense that anything is blocked.. 
processexplorer/monitor show everything to be simply waiting for 
requests that the windows tcp stack simply isn't passing to it.

>     One of the other windows guys here, theorized that it has to do with
>     inherited handles but he couldn't really work out why.  He's not a
>     winsock expert though.
>
>
> A possibility.  There is the -X (-DONE_PROCESS) startup flag to rule
> that out.
>

If I get some free time, I nmight try to reproduce this and document 
some of the above thread analysis. It's not  ahuge problem for me. 
We've been deploying httpd 2.2.x with Win32DisableAcceptEx configured 
the whole time.  When I migrated to 2.4.x I didn't move tha tforward to 
the Acceptfilter configuration because i didn't know for sure why we 
needed it and i thought, hey new httpd.exe version, why not try and see 
what happens.

From dev-return-82943-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 11 16:50:46 2015
Return-Path: <dev-return-82943-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8359218424
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Jun 2015 16:50:46 +0000 (UTC)
Received: (qmail 29141 invoked by uid 500); 11 Jun 2015 16:50:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29075 invoked by uid 500); 11 Jun 2015 16:50:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29065 invoked by uid 99); 11 Jun 2015 16:50:45 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 16:50:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C72F71A4A0D
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 16:50:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=sevenval.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id n4zyiIBYB0Wg for <dev@httpd.apache.org>;
	Thu, 11 Jun 2015 16:50:38 +0000 (UTC)
Received: from mail-ig0-f179.google.com (mail-ig0-f179.google.com [209.85.213.179])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 5C9B820F5D
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 16:50:37 +0000 (UTC)
Received: by igbhj9 with SMTP id hj9so57919143igb.1
        for <dev@httpd.apache.org>; Thu, 11 Jun 2015 09:50:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=sevenval.com; s=google;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=EL+iRVlRRufXsgHM1A4DnKh5+GoDJig5hI1eJShUosM=;
        b=iPG76Ukp4GVC++a9fRnY9wJWJg9Xxb6QQOnI0K/wunKiVwBrOn+rjdGowYwMiXUArN
         A62df4FJOwVB7b31P1bfGCRh2gw1JsCjo1oyrjLAWmxkCTyfks28mISs7/1RgI1LNtI3
         29XV2AmkQmDV0755z4sFJgYKyiiUEwBMCK2ac=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=EL+iRVlRRufXsgHM1A4DnKh5+GoDJig5hI1eJShUosM=;
        b=LiYF9GtEq4bVeCO4tH1QAngxeB1nn6E5EmP2YiiBJCBcseJRKW1sFRSFsjbaXehcUh
         ywf+3XxvjdTHgXmQXl6iV03VrlqBVeflQsitLAJkeS1v5N0OSfMrN1d4tCtuUc5uYDTW
         v/PWdpVbLB5sNe5z/CK+abGGAhvMYxB6lHOeor6x4GhMnV7BHufwB82nUg4YOmp3WCkQ
         q4OnwLrdZyJLIcovdi7IwSJPdDUj78UFHo3sXlqrz9xogvqJ8lOGPAg98j45TuT2CI6F
         toleVpcnLeWzIqo1J1Bxk7YuG7QjfiVhwqhERc6dXlKTDjc0MUARlDRgQo/FFiI2LKQk
         aLSA==
X-Gm-Message-State: ALoCoQlyoANMVSJlDzu073NgSnfgw2xWWIhc6l4/ybpMYflm7s8y7z4pM4ttPsMcvAuDLObe3JY3
MIME-Version: 1.0
X-Received: by 10.50.41.8 with SMTP id b8mr35793329igl.38.1434041430035; Thu,
 11 Jun 2015 09:50:30 -0700 (PDT)
Received: by 10.50.85.234 with HTTP; Thu, 11 Jun 2015 09:50:29 -0700 (PDT)
In-Reply-To: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
Date: Thu, 11 Jun 2015 18:50:29 +0200
Message-ID: <CAN-a7TENLshmQ1jh9sAaUa2G95cfHYnrr14K6uZ8QDRu01skMg@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Rainer Canavan <rainer.canavan@sevenval.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Hi,

is the commit message incorrect or the CHANGES file concerning CVE-2015-3183?

The commit message at
https://github.com/apache/httpd/commit/cd2b7a26c776b0754fb98426a67804fd48118708
uses CVE-2015-3183 for the "Replacement of ap_some_auth_required",
while the CHANGES uses it for "Remove apr_brigade_flatten()"

I'm have no idea if that would qualify the CVE to get REJECTED.

regards,


rainer

From dev-return-82944-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 11 17:54:43 2015
Return-Path: <dev-return-82944-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C751A1877B
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Jun 2015 17:54:43 +0000 (UTC)
Received: (qmail 89764 invoked by uid 500); 11 Jun 2015 17:54:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89672 invoked by uid 500); 11 Jun 2015 17:54:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89662 invoked by uid 99); 11 Jun 2015 17:54:38 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 17:54:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id AF8DB1A5457
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 17:54:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id wzAviqCGeRgr for <dev@httpd.apache.org>;
	Thu, 11 Jun 2015 17:54:29 +0000 (UTC)
Received: from mail-ie0-f169.google.com (mail-ie0-f169.google.com [209.85.223.169])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 401D820F5D
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 17:54:28 +0000 (UTC)
Received: by iebgx4 with SMTP id gx4so9996230ieb.0
        for <dev@httpd.apache.org>; Thu, 11 Jun 2015 10:54:21 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=2edYUuYg0TEK7iKOoY3ELI9JJYh+01tB7lGAKuilr+0=;
        b=IraPQARcbGpt8HSkYtX5z3aWgb+RcImsYyMZqnvmjhMnH8YTlaxll4snM+C55lHl5j
         1aCbzZaAUDM27rQVn50Cz2/p6islL/PSditegV46558onIMcQPjgnn3wATlmcry6hE5u
         3h8L2l12/mKx0za5hNYgJRBtP1BtEV5R7ZmVa28Hg/CYmP8QiHGpSw5t5nMSMzg/ooAC
         +5Zxtntef73yHVt5X1l8HWz7RRxv4LRxGdmlM7iVmauimj6IptxPKj1vxtz0c6bwpGdi
         36q+7whkJ/Bfe7pZcf9F+dsh7yJgnpp4OuBIpym4Hk8eJnEnDT7ZmQhxvFL9TMn1HxAe
         HvHg==
X-Gm-Message-State: ALoCoQnyp/QreaqaPHOdHuoGoj5t1WwmctKDkI8OQ36IG+tV7tc/K9+Ccp7n2p6xoJoK6+QF8T6N
MIME-Version: 1.0
X-Received: by 10.43.140.5 with SMTP id iy5mr12362263icc.77.1434045261244;
 Thu, 11 Jun 2015 10:54:21 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Thu, 11 Jun 2015 10:54:21 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <5579B2A7.5080304@ptc.com>
References: <552E9491.7050802@ptc.com>
	<55785857.2040909@ptc.com>
	<CACsi252U-HHYCSVShQLSp0TO8acsJ7Eq8zvcLrjJLWxtz=qqfw@mail.gmail.com>
	<557863E4.6040602@ptc.com>
	<CACsi250zBc3i3eJR_qTOG8ymBWocazrrXNdq7LoBqjUgkqVWvQ@mail.gmail.com>
	<5578A857.5090709@ptc.com>
	<CACsi253238dqnbrGHynTheW6piLGHgeJFUvC6_BH13T=YFfbkw@mail.gmail.com>
	<5579919E.6000304@ptc.com>
	<CACsi251bVCOq74AsJfKGXSpCRKZrFqXNJ3qj3XcHEcmibQdPgw@mail.gmail.com>
	<5579B2A7.5080304@ptc.com>
Date: Thu, 11 Jun 2015 12:54:21 -0500
Message-ID: <CACsi250pH0p3Do8PwypywB9fCywQUT46zRCzTyxyNaDyddYebA@mail.gmail.com>
Subject: Re: httpd 2.4 and windows "hangs" and AcceptFilter solution
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11c2c5886384bb051841ae5a

--001a11c2c5886384bb051841ae5a
Content-Type: text/plain; charset=UTF-8

On Thu, Jun 11, 2015 at 11:09 AM, Andy Wang <awang@ptc.com> wrote:

>
> On 06/11/2015 09:02 AM, William A Rowe Jr wrote:
>
>>
>> Sounds telling.  Can you get your installer to stall without invoking
>> httpd.exe - and then attempt to start httpd outside of the installer on
>> the same machine?  Something going on within the installer may be
>> interacting with the winsock stack.  If so, with the installer frozen
>> the problem should occur outside of the installer process, I'd expect.
>>
>>
> The installer never actually stalls either. it continues to process a few
> things and then eventually it needs to make a request to httpd to make sure
> it's up.  At that point, the installer hangs waiting for response.  the
> interesting thing is the TCP handshake and GET request are both actually
> completed, so there's no other timeout.  So the process primary thread is
> "hung" because of that.  However all other threads are perfectly fine (JMX
> monitoring can connect to it, i can get jstack thread dumps, etc etc)
>
> The only thing that appers to be hanging is httpd.exe but even then it's
> not hung in the sense that anything is blocked.. processexplorer/monitor
> show everything to be simply waiting for requests that the windows tcp
> stack simply isn't passing to it.


Got all that, I suggested you stall it deliberately.  Comment out
invocation of httpd.exe; then put a 20 minute 'sleep' in the installer
logic when it would typically query the browser.

While running the installer package, now try using httpd.exe with the same
config, etc outside of the installer entirely, and see if it responds.
This will indicate if there is something in the installer that has messed
up the network stack.


>      One of the other windows guys here, theorized that it has to do with
>>     inherited handles but he couldn't really work out why.  He's not a
>>     winsock expert though.
>>
>>
>> A possibility.  There is the -X (-DONE_PROCESS) startup flag to rule
>> that out.
>>
>>
> If I get some free time, I nmight try to reproduce this and document some
> of the above thread analysis. It's not  ahuge problem for me. We've been
> deploying httpd 2.2.x with Win32DisableAcceptEx configured the whole time.
> When I migrated to 2.4.x I didn't move tha tforward to the Acceptfilter
> configuration because i didn't know for sure why we needed it and i
> thought, hey new httpd.exe version, why not try and see what happens.
>

Yes, AcceptFilter none is semantically identical to Win32DisableAcceptEx.
Otherwise, AcceptEx() is used in one of two different modes to ensure that
a packet of data was received before signalling httpd that a connection is
established.

--001a11c2c5886384bb051841ae5a
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
hu, Jun 11, 2015 at 11:09 AM, Andy Wang <span dir=3D"ltr">&lt;<a href=3D"ma=
ilto:awang@ptc.com" target=3D"_blank">awang@ptc.com</a>&gt;</span> wrote:<b=
r><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:=
1px #ccc solid;padding-left:1ex"><span class=3D""><br>
On 06/11/2015 09:02 AM, William A Rowe Jr wrote:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
<br>
Sounds telling.=C2=A0 Can you get your installer to stall without invoking<=
br>
httpd.exe - and then attempt to start httpd outside of the installer on<br>
the same machine?=C2=A0 Something going on within the installer may be<br>
interacting with the winsock stack.=C2=A0 If so, with the installer frozen<=
br>
the problem should occur outside of the installer process, I&#39;d expect.<=
br>
<br>
</blockquote>
<br></span>
The installer never actually stalls either. it continues to process a few t=
hings and then eventually it needs to make a request to httpd to make sure =
it&#39;s up.=C2=A0 At that point, the installer hangs waiting for response.=
=C2=A0 the interesting thing is the TCP handshake and GET request are both =
actually completed, so there&#39;s no other timeout.=C2=A0 So the process p=
rimary thread is &quot;hung&quot; because of that.=C2=A0 However all other =
threads are perfectly fine (JMX monitoring can connect to it, i can get jst=
ack thread dumps, etc etc)<br>
<br>
The only thing that appers to be hanging is httpd.exe but even then it&#39;=
s not hung in the sense that anything is blocked.. processexplorer/monitor =
show everything to be simply waiting for requests that the windows tcp stac=
k simply isn&#39;t passing to it.</blockquote><div><br></div><div>Got all t=
hat, I suggested you stall it deliberately.=C2=A0 Comment out invocation of=
 httpd.exe; then put a 20 minute &#39;sleep&#39; in the installer logic whe=
n it would typically query the browser.</div><div><br></div><div>While runn=
ing the installer package, now try using httpd.exe with the same config, et=
c outside of the installer entirely, and see if it responds.=C2=A0 This wil=
l indicate if there is something in the installer that has messed up the ne=
twork stack.</div><div>=C2=A0</div><blockquote class=3D"gmail_quote" style=
=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><span cl=
ass=3D"">
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
=C2=A0 =C2=A0 One of the other windows guys here, theorized that it has to =
do with<br>
=C2=A0 =C2=A0 inherited handles but he couldn&#39;t really work out why.=C2=
=A0 He&#39;s not a<br>
=C2=A0 =C2=A0 winsock expert though.<br>
<br>
<br>
A possibility.=C2=A0 There is the -X (-DONE_PROCESS) startup flag to rule<b=
r>
that out.<br>
<br>
</blockquote>
<br></span>
If I get some free time, I nmight try to reproduce this and document some o=
f the above thread analysis. It&#39;s not=C2=A0 ahuge problem for me. We&#3=
9;ve been deploying httpd 2.2.x with Win32DisableAcceptEx configured the wh=
ole time.=C2=A0 When I migrated to 2.4.x I didn&#39;t move tha tforward to =
the Acceptfilter configuration because i didn&#39;t know for sure why we ne=
eded it and i thought, hey new httpd.exe version, why not try and see what =
happens.<br>
</blockquote></div><br></div><div class=3D"gmail_extra">Yes, AcceptFilter n=
one is semantically identical to Win32DisableAcceptEx.=C2=A0 Otherwise, Acc=
eptEx() is used in one of two different modes to ensure that a packet of da=
ta was received before signalling httpd that a connection is established.</=
div><div class=3D"gmail_extra"><br></div></div>

--001a11c2c5886384bb051841ae5a--

From dev-return-82945-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 11 18:50:56 2015
Return-Path: <dev-return-82945-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F0E68189CD
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Jun 2015 18:50:56 +0000 (UTC)
Received: (qmail 95589 invoked by uid 500); 11 Jun 2015 18:50:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 95499 invoked by uid 500); 11 Jun 2015 18:50:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 95489 invoked by uid 99); 11 Jun 2015 18:50:56 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 18:50:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id ED8E21822E7
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 18:50:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id Wf41E2bNcHPA for <dev@httpd.apache.org>;
	Thu, 11 Jun 2015 18:50:45 +0000 (UTC)
Received: from mail-ig0-f175.google.com (mail-ig0-f175.google.com [209.85.213.175])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id B77AD27606
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 18:50:45 +0000 (UTC)
Received: by igbpi8 with SMTP id pi8so59448833igb.0
        for <dev@httpd.apache.org>; Thu, 11 Jun 2015 11:50:00 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=D3LWX6nbmoDvJ0o9dYglT2PZj30qC8qLnOkhJbbQ8oY=;
        b=KzdP4L0SVe1YCgTjiLX0oqE0ng4StZJw+M8uuCSxF57tg/BS/9GZe4i/Dtw7OTe6X7
         69VSTFQFs0BBSbI0obfSbTpqYunGwSQ6YBl94yTwn4mv9p7qaJ2wyvZwjbNzTw6yzMrx
         b0+HyGkJF7F9KcUNMW/YMqEY2y71MZHjYu8hDicBUoalfmzS/Hifk8g+aVcgo77YNBwZ
         yyEjULU6rR/gUSbu3DqLsFcUmCXuo15X4EDoKV+CRbvCpyc8baiDQno+JfLkpj+BvBzi
         liPjF6SUbR8D5QmASCpEuYy6rn47fz/w33DCzivtskneahhfwWxa0T5A9N7LA5pZHyUV
         No0w==
X-Gm-Message-State: ALoCoQkKWSOIHxakmqJnm9ocACFl5Xh3FKfLYoQb0w49YXPP5ceH8mYZIZ6r6lWSI5vTff+cKa3/
MIME-Version: 1.0
X-Received: by 10.43.140.5 with SMTP id iy5mr12620110icc.77.1434048600027;
 Thu, 11 Jun 2015 11:50:00 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Thu, 11 Jun 2015 11:49:59 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <CAN-a7TENLshmQ1jh9sAaUa2G95cfHYnrr14K6uZ8QDRu01skMg@mail.gmail.com>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
	<CAN-a7TENLshmQ1jh9sAaUa2G95cfHYnrr14K6uZ8QDRu01skMg@mail.gmail.com>
Date: Thu, 11 Jun 2015 13:49:59 -0500
Message-ID: <CACsi252=_D-2iJx9HQ=aLJ-96Xxghxo+z_VNaDLw_V_1eCHQ1g@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11c2c5886562df0518427527

--001a11c2c5886562df0518427527
Content-Type: text/plain; charset=UTF-8

This is corrected in SVN, see

http://svn.apache.org/viewvc/httpd/httpd/trunk/server/request.c?view=log

Unsure why this edit didn't carry on to the github mirror.

On Thu, Jun 11, 2015 at 11:50 AM, Rainer Canavan <
rainer.canavan@sevenval.com> wrote:

> Hi,
>
> is the commit message incorrect or the CHANGES file concerning
> CVE-2015-3183?
>
> The commit message at
>
> https://github.com/apache/httpd/commit/cd2b7a26c776b0754fb98426a67804fd48118708
> uses CVE-2015-3183 for the "Replacement of ap_some_auth_required",
> while the CHANGES uses it for "Remove apr_brigade_flatten()"
>
> I'm have no idea if that would qualify the CVE to get REJECTED.
>
> regards,
>
>
> rainer
>

--001a11c2c5886562df0518427527
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">This is corrected in SVN, see<div><br></div><div><a href=
=3D"http://svn.apache.org/viewvc/httpd/httpd/trunk/server/request.c?view=3D=
log">http://svn.apache.org/viewvc/httpd/httpd/trunk/server/request.c?view=
=3Dlog</a><br></div><div><br></div><div>Unsure why this edit didn&#39;t car=
ry on to the github mirror.</div><div class=3D"gmail_extra"><br><div class=
=3D"gmail_quote">On Thu, Jun 11, 2015 at 11:50 AM, Rainer Canavan <span dir=
=3D"ltr">&lt;<a href=3D"mailto:rainer.canavan@sevenval.com" target=3D"_blan=
k">rainer.canavan@sevenval.com</a>&gt;</span> wrote:<br><blockquote class=
=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padd=
ing-left:1ex">Hi,<br>
<br>
is the commit message incorrect or the CHANGES file concerning CVE-2015-318=
3?<br>
<br>
The commit message at<br>
<a href=3D"https://github.com/apache/httpd/commit/cd2b7a26c776b0754fb98426a=
67804fd48118708" target=3D"_blank">https://github.com/apache/httpd/commit/c=
d2b7a26c776b0754fb98426a67804fd48118708</a><br>
uses CVE-2015-3183 for the &quot;Replacement of ap_some_auth_required&quot;=
,<br>
while the CHANGES uses it for &quot;Remove apr_brigade_flatten()&quot;<br>
<br>
I&#39;m have no idea if that would qualify the CVE to get REJECTED.<br>
<br>
regards,<br>
<br>
<br>
rainer<br>
</blockquote></div><br></div></div>

--001a11c2c5886562df0518427527--

From dev-return-82946-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 11 20:03:30 2015
Return-Path: <dev-return-82946-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F175518C6B
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 11 Jun 2015 20:03:30 +0000 (UTC)
Received: (qmail 55963 invoked by uid 500); 11 Jun 2015 20:03:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55894 invoked by uid 500); 11 Jun 2015 20:03:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 55882 invoked by uid 99); 11 Jun 2015 20:03:29 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 11 Jun 2015 20:03:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 43CE6CD40F
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 20:03:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.13
X-Spam-Level:
X-Spam-Status: No, score=-0.13 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H4=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=ptc.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id e1C-l84HNvk8 for <dev@httpd.apache.org>;
	Thu, 11 Jun 2015 20:03:21 +0000 (UTC)
Received: from mx1.ptc.com (mx1.ptc.com [12.11.148.188])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id CB73D42B0E
	for <dev@httpd.apache.org>; Thu, 11 Jun 2015 20:03:20 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
  d=ptc.com; s=ptc; t=1434053001; x=1465589001;
  h=message-id:date:from:mime-version:to:subject:references:
   in-reply-to:content-transfer-encoding;
  bh=dF9S7lRh2Ys7ogHKHRP9MGJT55emFmevu6CmdPFbgnY=;
  b=fxXgXS2OF/9cTZ3LrqbjuSYOj1w8tyE/5lt2ZObBifkltBShZyLYN2rl
   VN7bgJb9W/N+WBtfq0V/4MFLoxQHRD6IpPDyvjAasVTOPCF8gvoS5Y7uS
   UZTV01+DTA8He2TJ0X74secBg1HfquDRVc/NHSnDoEdFdID/Bi6wGRqaV
   U=;
X-IronPort-AV: E=Sophos;i="5.13,597,1427774400"; 
   d="scan'208";a="83308871"
Received: from hq-x10prdhub1.ptcnet.ptc.com ([132.253.198.27])
  by mx1-int.ptc.com with ESMTP/TLS/AES128-SHA; 11 Jun 2015 16:02:20 -0400
Received: from awang.ptcnet.ptc.com (132.253.8.73) by
 HQ-X10PRDHUB1.ptcnet.ptc.com (132.253.201.252) with Microsoft SMTP Server id
 14.3.123.3; Thu, 11 Jun 2015 16:02:19 -0400
Message-ID: <5579E94B.3080200@ptc.com>
Date: Thu, 11 Jun 2015 15:02:19 -0500
From: Andy Wang <awang@ptc.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: <dev@httpd.apache.org>
Subject: Re: httpd 2.4 and windows "hangs" and AcceptFilter solution
References: <552E9491.7050802@ptc.com>	<55785857.2040909@ptc.com>	<CACsi252U-HHYCSVShQLSp0TO8acsJ7Eq8zvcLrjJLWxtz=qqfw@mail.gmail.com>	<557863E4.6040602@ptc.com>	<CACsi250zBc3i3eJR_qTOG8ymBWocazrrXNdq7LoBqjUgkqVWvQ@mail.gmail.com>	<5578A857.5090709@ptc.com>	<CACsi253238dqnbrGHynTheW6piLGHgeJFUvC6_BH13T=YFfbkw@mail.gmail.com>	<5579919E.6000304@ptc.com>	<CACsi251bVCOq74AsJfKGXSpCRKZrFqXNJ3qj3XcHEcmibQdPgw@mail.gmail.com>	<5579B2A7.5080304@ptc.com> <CACsi250pH0p3Do8PwypywB9fCywQUT46zRCzTyxyNaDyddYebA@mail.gmail.com>
In-Reply-To: <CACsi250pH0p3Do8PwypywB9fCywQUT46zRCzTyxyNaDyddYebA@mail.gmail.com>
Content-Type: text/plain; charset="utf-8"; format=flowed
Content-Transfer-Encoding: 7bit
X-Originating-IP: [132.253.8.73]



On 06/11/2015 12:54 PM, William A Rowe Jr wrote:
> On Thu, Jun 11, 2015 at 11:09 AM, Andy Wang <awang@ptc.com
> <mailto:awang@ptc.com>> wrote:
>
>
>     On 06/11/2015 09:02 AM, William A Rowe Jr wrote:
>
>
>         Sounds telling.  Can you get your installer to stall without
>         invoking
>         httpd.exe - and then attempt to start httpd outside of the
>         installer on
>         the same machine?  Something going on within the installer may be
>         interacting with the winsock stack.  If so, with the installer
>         frozen
>         the problem should occur outside of the installer process, I'd
>         expect.
>
>
>     The installer never actually stalls either. it continues to process
>     a few things and then eventually it needs to make a request to httpd
>     to make sure it's up.  At that point, the installer hangs waiting
>     for response.  the interesting thing is the TCP handshake and GET
>     request are both actually completed, so there's no other timeout.
>     So the process primary thread is "hung" because of that.  However
>     all other threads are perfectly fine (JMX monitoring can connect to
>     it, i can get jstack thread dumps, etc etc)
>
>     The only thing that appers to be hanging is httpd.exe but even then
>     it's not hung in the sense that anything is blocked..
>     processexplorer/monitor show everything to be simply waiting for
>     requests that the windows tcp stack simply isn't passing to it.
>
>
> Got all that, I suggested you stall it deliberately.  Comment out
> invocation of httpd.exe; then put a 20 minute 'sleep' in the installer
> logic when it would typically query the browser.
>
> While running the installer package, now try using httpd.exe with the
> same config, etc outside of the installer entirely, and see if it
> responds.  This will indicate if there is something in the installer
> that has messed up the network stack.
>

Aahh i see what you mean.  I haven't done your exact reproduction, but I 
have done similar cases where I have had separate httpd.exe processes 
running on the same system.

Oh.
just typing that got me thinking.  Our installer code does some really 
skanky stuff, with simply a socket check to see if the port is 
connectable.  I wonder if it's possible it doesn't properly close the 
socket.  I've never run an httpd.exe on the same port in parallel to the 
install.

You got me thinking of things to try now when I have time.

That said, if it is that easy to break AcceptEx, doesn't this seem like 
a DoS just waiting to happen?  Is Acceptex really that fragile?

From dev-return-82947-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 12 01:38:23 2015
Return-Path: <dev-return-82947-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 27A99179BD
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Jun 2015 01:38:23 +0000 (UTC)
Received: (qmail 61525 invoked by uid 500); 12 Jun 2015 01:38:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 61386 invoked by uid 500); 12 Jun 2015 01:38:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 61146 invoked by uid 99); 12 Jun 2015 01:38:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 01:38:21 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of noel.butler@ausics.net designates 27.33.160.23 as permitted sender)
Received: from [27.33.160.23] (HELO mail.ausics.net) (27.33.160.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 01:36:06 +0000
Received: from mail.ausics.net (valhalla.ausics.net [10.10.0.10])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.ausics.net (Postfix) with ESMTPSA id 625DEC0EE2D
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 11:37:50 +1000 (AEST)
Received: from G0RwlRhmkYC8ml0banlc/NiDoc/v6Av2X6fjN5H3hng=
 (Rk52E/HNDVjpCHmnO6b4h1mPEbz58nt3)
 by mail.ausics.net
 with HTTP (HTTP/1.1 POST); Fri, 12 Jun 2015 11:37:50 +1000
MIME-Version: 1.0
Content-Type: multipart/alternative;
 boundary="=_251d025a53db2801a23287d90070f632"
Date: Fri, 12 Jun 2015 11:37:50 +1000
From: Noel Butler <noel.butler@ausics.net>
To: dev@httpd.apache.org
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
In-Reply-To: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
Message-ID: <026bf2441049b9ba0a21aca944f1f424@ausics.net>
X-Sender: noel.butler@ausics.net
User-Agent: Roundcube Webmail
X-Virus-Checked: Checked by ClamAV on apache.org

--=_251d025a53db2801a23287d90070f632
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII

 

On 12/06/2015 00:08, Jim Jagielski wrote: 

> I'm calling a VOTE on releasing these as Apache httpd 2.4.14 GA.
> 
> [ ] +1: Good to go
> [ ] +0: meh
> [ ] -1: Danger Will Robinson. And why.

-1 

"The SSLCertificateChainFile directive () is deprecated,
SSLCertificateFile should be used instead" 

The constant warnings on start, stop, and even reload for every single
SSL host is unacceptable. 

This should never have been contemplated for a "point" release anyway. 

Clearly no consideration has been given to the headaches and collateral
damage this will cause, some hosts have tens of thousands of SSL hosts,
even a server reload will flood the hell out of them, most system/CP
scripts look for a specific, or no output, after reload, this results in
unexpected output and will trigger alarms, likely causing many systems
to think " oh there was a problem adding this host, so I wont continue
adding them into anything else and fail the entire new customer process"
again, creating serious problems for those required to maintain these
things. 

It might be fine and dandy for a stand alone single SSL host server that
is manually managed, but dont forget many hosts run up to 2+K hosts on a
single server with many of them SSL, that is a lot of change when you
have a server room half full of them, not to mention any inhouse
scripting or control panels that will need to be modified to cater for
such changes to create the new certs and deal with it all. 

I for one will not place this release on any production servers. My
recommendation is that chainfile remain as it is - at the very least for
the 2.4 series, and if it is not enough to stop or delay this release to
revert, then I sincerely hope it is changed in trunk for the next. 

 
--=_251d025a53db2801a23287d90070f632
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html; charset=UTF-8

<html><head><meta http-equiv=3D"Content-Type" content=3D"text/html; charset=
=3DUTF-8" /></head><body style=3D'font-size: 10pt'>
<p>On 12/06/2015 00:08, Jim Jagielski wrote:</p>
<blockquote type=3D"cite" style=3D"padding: 0 0.4em; border-left: #1010ff 2=
px solid; margin: 0"><!-- html ignored --><!-- head ignored --><!-- meta ig=
nored -->
<div class=3D"pre" style=3D"margin: 0; padding: 0; font-family: monospace">=
<br /> I'm calling a VOTE on releasing these as Apache httpd 2.4.14 GA.<br =
/><br /> [ ] +1: Good to go<br /> [ ] +0: meh<br /> [ ] -1: Danger Will Rob=
inson. And why.<br /><br /></div>
</blockquote>
<p>-1</p>
<p>"The SSLCertificateChainFile directive () is deprecated, SSLCertificateF=
ile should be used instead"</p>
<p>The constant warnings on start, stop, and even reload for every single S=
SL host is&nbsp;unacceptable.</p>
<p>This should never have been contemplated for a "point" release anyway.</=
p>
<p>Clearly no consideration has been given to the headaches and collateral =
damage this will cause, some hosts have tens of thousands of SSL hosts, eve=
n a server reload will flood the hell out of them, most system/CP scripts l=
ook for a specific, or no output, after reload, this results in unexpected =
output and will trigger alarms, likely causing many systems to think " oh t=
here was a problem adding this host, so I wont continue adding them into an=
ything else and fail the entire new customer process" again, creating serio=
us problems for those required to maintain these things.</p>
<p>&nbsp;</p>
<p>It might be fine and dandy for a stand alone single SSL host server that=
 is manually managed, but dont forget many hosts run up to 2+K hosts on a s=
ingle server with many of them SSL, that is a lot of change when you have a=
 server room half full of them, not to mention any inhouse scripting or con=
trol panels that will need to be modified to cater for such changes to crea=
te the new certs and deal with it all.</p>
<p>&nbsp;</p>
<p>I for one will not place this release on any production servers. My reco=
mmendation is that chainfile remain as it is - at the very least for the 2=
=2E4 series, and if it is not enough to stop or delay this release to rever=
t, then I sincerely hope it is changed in trunk for the next.</p>
<p>&nbsp;</p>
</body></html>

--=_251d025a53db2801a23287d90070f632--


From dev-return-82948-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 12 11:27:03 2015
Return-Path: <dev-return-82948-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 43860187C8
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Jun 2015 11:27:03 +0000 (UTC)
Received: (qmail 16102 invoked by uid 500); 12 Jun 2015 11:27:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16028 invoked by uid 500); 12 Jun 2015 11:27:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16016 invoked by uid 99); 12 Jun 2015 11:27:02 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 11:27:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id DFBD018221F
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 11:27:01 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.801
X-Spam-Level: *
X-Spam-Status: No, score=1.801 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, KAM_LAZY_DOMAIN_SECURITY=1,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id sf24z_LuCk99 for <dev@httpd.apache.org>;
	Fri, 12 Jun 2015 11:26:53 +0000 (UTC)
Received: from mo4.mail-out.ovh.net (mo4.mail-out.ovh.net [178.32.228.4])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 973A521659
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 11:26:52 +0000 (UTC)
Received: from mail242.ha.ovh.net (gw6.ovh.net [213.251.189.206])
	by mo4.mail-out.ovh.net (Postfix) with SMTP id 384ECFFA016
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 13:26:45 +0200 (CEST)
Received: from localhost (HELO queueout) (127.0.0.1)
	by localhost with SMTP; 12 Jun 2015 13:26:44 +0200
Received: from aorleans-552-1-116-106.w92-140.abo.wanadoo.fr (HELO ?127.0.0.1?) (president@piranhaschateauroux.fr@92.140.187.106)
  by ns0.ovh.net with SMTP; 12 Jun 2015 13:26:40 +0200
Message-ID: <557AC1EF.5070709@wanadoo.fr>
Date: Fri, 12 Jun 2015 13:26:39 +0200
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1685052 - in /httpd/httpd/trunk: CHANGES modules/ssl/ssl_engine_config.c
References: <20150612090734.A311AAC0608@hades.apache.org>
In-Reply-To: <20150612090734.A311AAC0608@hades.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 150612-0, 12/06/2015), Outbound message
X-Antivirus-Status: Clean
X-Ovh-Tracer-Id: 13974669645722622890
X-Ovh-Remote: 92.140.187.106 (aorleans-552-1-116-106.w92-140.abo.wanadoo.fr)
X-Ovh-Local: 213.186.33.20 (ns0.ovh.net)
X-OVH-SPAMSTATE: OK
X-OVH-SPAMSCORE: 0
X-OVH-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeekuddrjeduucetufdoteggodetrfcurfhrohhfihhlvgemucfqggfjnecuuegrihhlohhuthemuceftddtnecu
X-VR-SPAMSTATE: OK
X-VR-SPAMSCORE: 0
X-VR-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeekuddrjeduucetufdoteggodetrfcurfhrohhfihhlvgemucfqggfjnecuuegrihhlohhuthemuceftddtnecu

Hi,

should this warning at startup be an issue, why not just remove it in 
2.4.x and keep it in trunk?
Having the depreciation written in doc (and in migration note for 2.4 -> 
2.6/3.0 one day) could be enough, no?


BTW, the apr_pstrdup(ap_pglobal, "1") could be just "1".

CJ

Le 12/06/2015 11:07, ylavic@apache.org a crit :
> Author: ylavic
> Date: Fri Jun 12 09:07:34 2015
> New Revision: 1685052
>
> URL: http://svn.apache.org/r1685052
> Log:
> mod_ssl: Warn about deprecated SSLCertificateChainFile once at startup,
> on first usage only.
>
> Modified:
>      httpd/httpd/trunk/CHANGES
>      httpd/httpd/trunk/modules/ssl/ssl_engine_config.c
>
> Modified: httpd/httpd/trunk/CHANGES
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/CHANGES?rev=1685052&r1=1685051&r2=1685052&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/CHANGES [utf-8] (original)
> +++ httpd/httpd/trunk/CHANGES [utf-8] Fri Jun 12 09:07:34 2015
> @@ -1,6 +1,9 @@
>                                                            -*- coding: utf-8 -*-
>   Changes with Apache 2.5.0
>   
> +  *) mod_ssl: Warn about deprecated SSLCertificateChainFile once at startup,
> +     on first usage only.  [Yann Ylavic]
> +
>     *) mod_substitute: Fix configuraton merge order.
>        PR 57641 [<Marc.Stern approach.be>]
>   
>
> Modified: httpd/httpd/trunk/modules/ssl/ssl_engine_config.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ssl/ssl_engine_config.c?rev=1685052&r1=1685051&r2=1685052&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/ssl/ssl_engine_config.c (original)
> +++ httpd/httpd/trunk/modules/ssl/ssl_engine_config.c Fri Jun 12 09:07:34 2015
> @@ -839,13 +839,22 @@ const char *ssl_cmd_SSLCertificateChainF
>                                               const char *arg)
>   {
>       SSLSrvConfigRec *sc = mySrvConfig(cmd->server);
> +    void *once = NULL;
>       const char *err;
>   
> -    ap_log_error(APLOG_MARK, APLOG_WARNING|APLOG_STARTUP, 0, NULL,
> -                 APLOGNO(02559)
> -                 "The SSLCertificateChainFile directive (%s:%d) is deprecated, "
> -                 "SSLCertificateFile should be used instead",
> -                 cmd->directive->filename, cmd->directive->line_num);
> +    apr_pool_userdata_get(&once, "ssl_cmd_SSLCertificateChainFile",
> +                          ap_pglobal);
> +    if (!once) {
> +        ap_log_error(APLOG_MARK, APLOG_WARNING|APLOG_STARTUP, 0, NULL,
> +                     APLOGNO(02559)
> +                     "The SSLCertificateChainFile directive (%s:%d) is "
> +                     "deprecated, SSLCertificateFile should be used instead",
> +                     cmd->directive->filename, cmd->directive->line_num);
> +
> +        apr_pool_userdata_set("ssl_cmd_SSLCertificateChainFile",
> +                              apr_pstrdup(ap_pglobal, "1"), NULL,
> +                              ap_pglobal);
> +    }
>   
>       if ((err = ssl_cmd_check_file(cmd, &arg))) {
>           return err;
>
>
>


From dev-return-82949-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 12 11:50:40 2015
Return-Path: <dev-return-82949-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CCA051887A
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Jun 2015 11:50:40 +0000 (UTC)
Received: (qmail 50427 invoked by uid 500); 12 Jun 2015 11:50:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50368 invoked by uid 500); 12 Jun 2015 11:50:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50358 invoked by uid 99); 12 Jun 2015 11:50:40 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 11:50:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id A1AFDC0C6F
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 11:50:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id RU0DiJokk7BE for <dev@httpd.apache.org>;
	Fri, 12 Jun 2015 11:50:39 +0000 (UTC)
Received: from mail-ig0-f177.google.com (mail-ig0-f177.google.com [209.85.213.177])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id D9285429A8
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 11:50:38 +0000 (UTC)
Received: by igbzc4 with SMTP id zc4so10144541igb.0
        for <dev@httpd.apache.org>; Fri, 12 Jun 2015 04:49:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Hs2LnPmQT/BqIe/lXOveEZbZQS2hj8l1fu5O/lYiBT8=;
        b=zkQcOWiXY8vaH2kMko8F6hkjElF2Dp1i46jDPc4Nx7EM0p9Qw5IgbkeJlODdJvBuhQ
         PVmpXPb2lhwdRLmx8NWMXIO7pLTC9TEwS799PSxVxNfiEBz/uPwh0OWC7yHQk6Cl+mt+
         7KpBl+z0uPHz0GWFS+HM3DMfeolMN28s34UeIpBzKCV5oS1DqXRyF+mIlrKJzIhnSJDW
         8CPkEAECRXjDq0iHfNhqHvmvZOrasaTPGW4AUq4zk/98X3S9fazkfoYfMIXgsnI9xz0B
         tYRlcws+WMNKTBcDP/l0pwuO737TGkcwXvb4bZptI0lM48iVS5gS9EWWoB292uBEsnBI
         QH5A==
MIME-Version: 1.0
X-Received: by 10.50.141.164 with SMTP id rp4mr3803939igb.2.1434109787335;
 Fri, 12 Jun 2015 04:49:47 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Fri, 12 Jun 2015 04:49:47 -0700 (PDT)
In-Reply-To: <557AC1EF.5070709@wanadoo.fr>
References: <20150612090734.A311AAC0608@hades.apache.org>
	<557AC1EF.5070709@wanadoo.fr>
Date: Fri, 12 Jun 2015 13:49:47 +0200
Message-ID: <CAKQ1sVM2Vz9W9oPHGWkSYvRv_rw=8pcZ2KKO-Mwh3PBg7uEAcg@mail.gmail.com>
Subject: Re: svn commit: r1685052 - in /httpd/httpd/trunk: CHANGES modules/ssl/ssl_engine_config.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Hi Christophe,

On Fri, Jun 12, 2015 at 1:26 PM, Christophe JAILLET
<christophe.jaillet@wanadoo.fr> wrote:
>
> should this warning at startup be an issue, why not just remove it in 2.4.x
> and keep it in trunk?
> Having the depreciation written in doc (and in migration note for 2.4 ->
> 2.6/3.0 one day) could be enough, no?

Probably, but the (only one) warning per startup can possibly
encourage users to look at the doc :)
Let's see what others say.

>
>
> BTW, the apr_pstrdup(ap_pglobal, "1") could be just "1".

I'm not sure, if mod_ssl is loaded dynamically, "1" could possibly be
un/reloaded with it (.text section)...

Regards,
Yann.

From dev-return-82950-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 12 12:11:38 2015
Return-Path: <dev-return-82950-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D34F418943
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Jun 2015 12:11:38 +0000 (UTC)
Received: (qmail 95870 invoked by uid 500); 12 Jun 2015 12:11:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 95795 invoked by uid 500); 12 Jun 2015 12:11:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 95785 invoked by uid 99); 12 Jun 2015 12:11:38 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 12:11:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 0232518221F
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 12:11:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.901
X-Spam-Level: **
X-Spam-Status: No, score=2.901 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id Fsz-9FYj_SsX for <dev@httpd.apache.org>;
	Fri, 12 Jun 2015 12:11:27 +0000 (UTC)
Received: from mail-yh0-f48.google.com (mail-yh0-f48.google.com [209.85.213.48])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id CF52B24B1A
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 12:11:26 +0000 (UTC)
Received: by yhak3 with SMTP id k3so13061631yha.2
        for <dev@httpd.apache.org>; Fri, 12 Jun 2015 05:11:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=RUmLDNzzoU+r9ai0hyJefsdq3mB/xKClWg1EyEHZM/M=;
        b=zZTsiCPRosRKMRpCg40dUmi/pllLQ21w0kRr+phulamuMasBFRR0/ZJa4wTKyroiTH
         yugQ7vB6Lk0KShOWc6SFpS9/dcM7C41ILRVmM+FpRrhH073HYihZ2poaDUy+ofZfMCx4
         ER6Rian5ywwCFLcYT9cMS4F1zyVZVSdo+1kPLqgNc1hwvMTkU98E+6YzG98UvS8adBer
         ggQAv5DsmggU144HUYM35hotVWh3JjlsLAbNkshtxWswgrNVQPwX1PbhoH+SGw3ERFGf
         1NJUkqdu30JOXhz77yYt3wfpYS3TQO4P9S1gTYX4qJMsduqefjjs1UQ7LID2d+1w7bNT
         y7Dg==
MIME-Version: 1.0
X-Received: by 10.13.243.65 with SMTP id c62mr18030010ywf.114.1434111079502;
 Fri, 12 Jun 2015 05:11:19 -0700 (PDT)
Received: by 10.13.206.195 with HTTP; Fri, 12 Jun 2015 05:11:19 -0700 (PDT)
In-Reply-To: <20150612090734.A311AAC0608@hades.apache.org>
References: <20150612090734.A311AAC0608@hades.apache.org>
Date: Fri, 12 Jun 2015 08:11:19 -0400
Message-ID: <CAKUrXK7HXgJUz8TOuhogyovZJb7=w06rZDJgHUXvLU=QOT3kDg@mail.gmail.com>
Subject: Re: svn commit: r1685052 - in /httpd/httpd/trunk: CHANGES modules/ssl/ssl_engine_config.c
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=94eb2c036328765caa0518510178

--94eb2c036328765caa0518510178
Content-Type: text/plain; charset=UTF-8

On Fri, Jun 12, 2015 at 5:07 AM, <ylavic@apache.org> wrote:

> Author: ylavic
> Date: Fri Jun 12 09:07:34 2015
> New Revision: 1685052
>
> URL: http://svn.apache.org/r1685052
> Log:
> mod_ssl: Warn about deprecated SSLCertificateChainFile once at startup,
> on first usage only.
>
> Modified:
>     httpd/httpd/trunk/CHANGES
>     httpd/httpd/trunk/modules/ssl/ssl_engine_config.c
>
> Modified: httpd/httpd/trunk/CHANGES
> URL:
> http://svn.apache.org/viewvc/httpd/httpd/trunk/CHANGES?rev=1685052&r1=1685051&r2=1685052&view=diff
>
> ==============================================================================
> --- httpd/httpd/trunk/CHANGES [utf-8] (original)
> +++ httpd/httpd/trunk/CHANGES [utf-8] Fri Jun 12 09:07:34 2015
> @@ -1,6 +1,9 @@
>                                                           -*- coding:
> utf-8 -*-
>  Changes with Apache 2.5.0
>
> +  *) mod_ssl: Warn about deprecated SSLCertificateChainFile once at
> startup,
> +     on first usage only.  [Yann Ylavic]
> +
>    *) mod_substitute: Fix configuraton merge order.
>       PR 57641 [<Marc.Stern approach.be>]
>
>
> Modified: httpd/httpd/trunk/modules/ssl/ssl_engine_config.c
> URL:
> http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ssl/ssl_engine_config.c?rev=1685052&r1=1685051&r2=1685052&view=diff
>
> ==============================================================================
> --- httpd/httpd/trunk/modules/ssl/ssl_engine_config.c (original)
> +++ httpd/httpd/trunk/modules/ssl/ssl_engine_config.c Fri Jun 12 09:07:34
> 2015
> @@ -839,13 +839,22 @@ const char *ssl_cmd_SSLCertificateChainF
>                                              const char *arg)
>  {
>      SSLSrvConfigRec *sc = mySrvConfig(cmd->server);
> +    void *once = NULL;
>      const char *err;
>
> -    ap_log_error(APLOG_MARK, APLOG_WARNING|APLOG_STARTUP, 0, NULL,
> -                 APLOGNO(02559)
> -                 "The SSLCertificateChainFile directive (%s:%d) is
> deprecated, "
> -                 "SSLCertificateFile should be used instead",
> -                 cmd->directive->filename, cmd->directive->line_num);
> +    apr_pool_userdata_get(&once, "ssl_cmd_SSLCertificateChainFile",
> +                          ap_pglobal);
> +    if (!once) {
> +        ap_log_error(APLOG_MARK, APLOG_WARNING|APLOG_STARTUP, 0, NULL,
> +                     APLOGNO(02559)
> +                     "The SSLCertificateChainFile directive (%s:%d) is "
> +                     "deprecated, SSLCertificateFile should be used
> instead",
> +                     cmd->directive->filename, cmd->directive->line_num);
> +
> +        apr_pool_userdata_set("ssl_cmd_SSLCertificateChainFile",
> +                              apr_pstrdup(ap_pglobal, "1"), NULL,
> +                              ap_pglobal);
> +    }
>
> IMHO the  ap_retained_data_get/create APIs make this "nicer" than this
older pattern.

    retained = ap_retained_data_get(userdata_key);
    if (!retained) {
        retained = ap_retained_data_create(userdata_key, sizeof(*retained))



     if ((err = ssl_cmd_check_file(cmd, &arg))) {
>          return err;
>
>
>


-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--94eb2c036328765caa0518510178
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On F=
ri, Jun 12, 2015 at 5:07 AM,  <span dir=3D"ltr">&lt;<a href=3D"mailto:ylavi=
c@apache.org" target=3D"_blank">ylavic@apache.org</a>&gt;</span> wrote:<br>=
<blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-=
left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;p=
adding-left:1ex">Author: ylavic<br>
Date: Fri Jun 12 09:07:34 2015<br>
New Revision: 1685052<br>
<br>
URL: <a href=3D"http://svn.apache.org/r1685052" rel=3D"noreferrer" target=
=3D"_blank">http://svn.apache.org/r1685052</a><br>
Log:<br>
mod_ssl: Warn about deprecated SSLCertificateChainFile once at startup,<br>
on first usage only.<br>
<br>
Modified:<br>
=C2=A0 =C2=A0 httpd/httpd/trunk/CHANGES<br>
=C2=A0 =C2=A0 httpd/httpd/trunk/modules/ssl/ssl_engine_config.c<br>
<br>
Modified: httpd/httpd/trunk/CHANGES<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/trunk/CHANGES?rev=
=3D1685052&amp;r1=3D1685051&amp;r2=3D1685052&amp;view=3Ddiff" rel=3D"norefe=
rrer" target=3D"_blank">http://svn.apache.org/viewvc/httpd/httpd/trunk/CHAN=
GES?rev=3D1685052&amp;r1=3D1685051&amp;r2=3D1685052&amp;view=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/trunk/CHANGES [utf-8] (original)<br>
+++ httpd/httpd/trunk/CHANGES [utf-8] Fri Jun 12 09:07:34 2015<br>
@@ -1,6 +1,9 @@<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 -*- coding: utf-8 -=
*-<br>
=C2=A0Changes with Apache 2.5.0<br>
<br>
+=C2=A0 *) mod_ssl: Warn about deprecated SSLCertificateChainFile once at s=
tartup,<br>
+=C2=A0 =C2=A0 =C2=A0on first usage only.=C2=A0 [Yann Ylavic]<br>
+<br>
=C2=A0 =C2=A0*) mod_substitute: Fix configuraton merge order.<br>
=C2=A0 =C2=A0 =C2=A0 PR 57641 [&lt;Marc.Stern <a href=3D"http://approach.be=
" rel=3D"noreferrer" target=3D"_blank">approach.be</a>&gt;]<br>
<br>
<br>
Modified: httpd/httpd/trunk/modules/ssl/ssl_engine_config.c<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ssl/=
ssl_engine_config.c?rev=3D1685052&amp;r1=3D1685051&amp;r2=3D1685052&amp;vie=
w=3Ddiff" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc=
/httpd/httpd/trunk/modules/ssl/ssl_engine_config.c?rev=3D1685052&amp;r1=3D1=
685051&amp;r2=3D1685052&amp;view=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/trunk/modules/ssl/ssl_engine_config.c (original)<br>
+++ httpd/httpd/trunk/modules/ssl/ssl_engine_config.c Fri Jun 12 09:07:34 2=
015<br>
@@ -839,13 +839,22 @@ const char *ssl_cmd_SSLCertificateChainF<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0const char *arg)<br>
=C2=A0{<br>
=C2=A0 =C2=A0 =C2=A0SSLSrvConfigRec *sc =3D mySrvConfig(cmd-&gt;server);<br=
>
+=C2=A0 =C2=A0 void *once =3D NULL;<br>
=C2=A0 =C2=A0 =C2=A0const char *err;<br>
<br>
-=C2=A0 =C2=A0 ap_log_error(APLOG_MARK, APLOG_WARNING|APLOG_STARTUP, 0, NUL=
L,<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0APLOGNO(0255=
9)<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0&quot;The SS=
LCertificateChainFile directive (%s:%d) is deprecated, &quot;<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0&quot;SSLCer=
tificateFile should be used instead&quot;,<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0cmd-&gt;dire=
ctive-&gt;filename, cmd-&gt;directive-&gt;line_num);<br>
+=C2=A0 =C2=A0 apr_pool_userdata_get(&amp;once, &quot;ssl_cmd_SSLCertificat=
eChainFile&quot;,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 ap_pglobal);<br>
+=C2=A0 =C2=A0 if (!once) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 ap_log_error(APLOG_MARK, APLOG_WARNING|APLOG_S=
TARTUP, 0, NULL,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0APLOGNO(02559)<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0&quot;The SSLCertificateChainFile directive (%s:%d) is &quot;<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0&quot;deprecated, SSLCertificateFile should be used instead&quot;,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0cmd-&gt;directive-&gt;filename, cmd-&gt;directive-&gt;line_num);<br>
+<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 apr_pool_userdata_set(&quot;ssl_cmd_SSLCertifi=
cateChainFile&quot;,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 apr_pstrdup(ap_pglobal, &quot;1&quot;), NUL=
L,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 ap_pglobal);<br>
+=C2=A0 =C2=A0 }<br>
<br></blockquote><div>IMHO the =C2=A0ap_retained_data_get/create APIs make =
this &quot;nicer&quot; than this older pattern.</div><div><br></div><div><d=
iv>=C2=A0 =C2=A0 retained =3D ap_retained_data_get(userdata_key);</div><div=
>=C2=A0 =C2=A0 if (!retained) {</div><div>=C2=A0 =C2=A0 =C2=A0 =C2=A0 retai=
ned =3D ap_retained_data_create(userdata_key, sizeof(*retained))</div></div=
><div><br></div><div><br></div><div><br></div><blockquote class=3D"gmail_qu=
ote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-co=
lor:rgb(204,204,204);border-left-style:solid;padding-left:1ex">
=C2=A0 =C2=A0 =C2=A0if ((err =3D ssl_cmd_check_file(cmd, &amp;arg))) {<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0return err;<br>
<br>
<br>
</blockquote></div><br><br clear=3D"all"><div><br></div>-- <br><div class=
=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien..=
.<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyham=
mock.com/</a><div><br></div></div></div>
</div></div>

--94eb2c036328765caa0518510178--

From dev-return-82951-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 12 12:17:04 2015
Return-Path: <dev-return-82951-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C8BE518966
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Jun 2015 12:17:04 +0000 (UTC)
Received: (qmail 10233 invoked by uid 500); 12 Jun 2015 12:17:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10155 invoked by uid 500); 12 Jun 2015 12:17:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10145 invoked by uid 99); 12 Jun 2015 12:17:04 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 12:17:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id E058B18221F
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 12:17:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.209
X-Spam-Level:
X-Spam-Status: No, score=-1.209 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id zroalc2d4SqE for <dev@httpd.apache.org>;
	Fri, 12 Jun 2015 12:17:03 +0000 (UTC)
Received: from mail-ie0-f181.google.com (mail-ie0-f181.google.com [209.85.223.181])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 7414024960
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 12:17:02 +0000 (UTC)
Received: by iebmu5 with SMTP id mu5so23249637ieb.1
        for <dev@httpd.apache.org>; Fri, 12 Jun 2015 05:17:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=el4NaWP68qGkyUPlyeir2qpIkkEPFPrgWKiieJOXUuc=;
        b=ISOtSDcLJhecBxYMim/qJntiXTsolhmUkvGUAtTjPzgoB+KGSBkZ600qAH4HMPzieS
         DWDmKtKnkfXO109YZzKXTcsEspkS1ul4Gsh4c+6IdguRICyqOGBS1Kr6a1tVrl2/XqIB
         6RSoM3qMf5lfFM7tRxs4VK23Em/ywRetjPHO0UHnY6do0/mp9xA6mbL1DLstCC+kZ/U3
         6dlrrN2dHqBZNfr5cxwYdbA01SAsc8G06cKk/92YLxOvNGZVt89Ym65cDaoJgu8hDz2d
         lccunYh/ZzHN43qRubypE34vNadojDuhDw55RAcm+T5P9mbLvB6J9D2VKnpXiSl7MVCI
         yMyw==
MIME-Version: 1.0
X-Received: by 10.42.203.4 with SMTP id fg4mr15853989icb.52.1434111421498;
 Fri, 12 Jun 2015 05:17:01 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Fri, 12 Jun 2015 05:17:01 -0700 (PDT)
In-Reply-To: <CAKUrXK7HXgJUz8TOuhogyovZJb7=w06rZDJgHUXvLU=QOT3kDg@mail.gmail.com>
References: <20150612090734.A311AAC0608@hades.apache.org>
	<CAKUrXK7HXgJUz8TOuhogyovZJb7=w06rZDJgHUXvLU=QOT3kDg@mail.gmail.com>
Date: Fri, 12 Jun 2015 14:17:01 +0200
Message-ID: <CAKQ1sVP1se056ydRQywem2KRU=UjvB5U13zzrGDaG4hR7rpm6g@mail.gmail.com>
Subject: Re: svn commit: r1685052 - in /httpd/httpd/trunk: CHANGES modules/ssl/ssl_engine_config.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Jun 12, 2015 at 2:11 PM, Jeff Trawick <trawick@gmail.com> wrote:
>
> IMHO the  ap_retained_data_get/create APIs make this "nicer" than this older
> pattern.

Ah yes, good catch, I just did not think about it.

>
>     retained = ap_retained_data_get(userdata_key);
>     if (!retained) {
>         retained = ap_retained_data_create(userdata_key, sizeof(*retained))

Will change to use that instead in a follow up.
Unless the warning should be removed completely...

From dev-return-82952-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 12 13:37:01 2015
Return-Path: <dev-return-82952-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F2B2318B88
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Jun 2015 13:37:00 +0000 (UTC)
Received: (qmail 89611 invoked by uid 500); 12 Jun 2015 13:37:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89548 invoked by uid 500); 12 Jun 2015 13:37:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89538 invoked by uid 99); 12 Jun 2015 13:37:00 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 13:37:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id CCEC5CD731
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 13:36:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.011
X-Spam-Level:
X-Spam-Status: No, score=-0.011 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id onE56bIYXh32 for <dev@httpd.apache.org>;
	Fri, 12 Jun 2015 13:36:58 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 17FE6429A8
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 13:36:57 +0000 (UTC)
Received: from [195.227.30.209] (notebook-rj [195.227.30.209])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t5CDaoCS026668
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 15:36:51 +0200 (CEST)
Message-ID: <557AE06B.4080503@kippdata.de>
Date: Fri, 12 Jun 2015 15:36:43 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1685052 - in /httpd/httpd/trunk: CHANGES modules/ssl/ssl_engine_config.c
References: <20150612090734.A311AAC0608@hades.apache.org>	<557AC1EF.5070709@wanadoo.fr> <CAKQ1sVM2Vz9W9oPHGWkSYvRv_rw=8pcZ2KKO-Mwh3PBg7uEAcg@mail.gmail.com>
In-Reply-To: <CAKQ1sVM2Vz9W9oPHGWkSYvRv_rw=8pcZ2KKO-Mwh3PBg7uEAcg@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 12.06.2015 um 13:49 schrieb Yann Ylavic:
> Hi Christophe,
>
> On Fri, Jun 12, 2015 at 1:26 PM, Christophe JAILLET
> <christophe.jaillet@wanadoo.fr> wrote:
>>
>> should this warning at startup be an issue, why not just remove it in 2.4.x
>> and keep it in trunk?
>> Having the depreciation written in doc (and in migration note for 2.4 ->
>> 2.6/3.0 one day) could be enough, no?
>
> Probably, but the (only one) warning per startup can possibly
> encourage users to look at the doc :)
> Let's see what others say.

I don't have a strong opinion, but if we want to remove the directive in 
the next version, then it would help to keep the deprecation logging to 
make people aware and reduce the migration complains a bit.

Logging only once instead of for each certificate is IMHO enough and 
much better.

As to if the current situation in 2.4.14 is a problem or should be 
tolerated (lots of log output for people with huge numbers of 
certificates) I'm quite undecided.

Regards,

Rainer


From dev-return-82953-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 12 14:08:07 2015
Return-Path: <dev-return-82953-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A72A918CB5
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Jun 2015 14:08:07 +0000 (UTC)
Received: (qmail 64433 invoked by uid 500); 12 Jun 2015 14:08:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64368 invoked by uid 500); 12 Jun 2015 14:08:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64358 invoked by uid 99); 12 Jun 2015 14:08:07 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 14:08:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B843418221F
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 14:08:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id QPwRs-lQSIHQ for <dev@httpd.apache.org>;
	Fri, 12 Jun 2015 14:07:59 +0000 (UTC)
Received: from mail-ie0-f180.google.com (mail-ie0-f180.google.com [209.85.223.180])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id C140C42AD6
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 14:07:58 +0000 (UTC)
Received: by iesa3 with SMTP id a3so25346122ies.2
        for <dev@httpd.apache.org>; Fri, 12 Jun 2015 07:07:58 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=jLkmMSIfNvi1bSHxQmUeWXVlTAQv+noWKW2sBIgpOWo=;
        b=cGsW39C2P1z1WB0Or0Nc27jwaSTOxrCFuvHp0APUcBhkdxM/96T7aFSmUI6nKpPbhz
         uOs2Y4/pfBwGQNivwHvRjrPRiMSOqFS+StVDP7BmaEyR+xAW/dFtGwtJlrUuP4fU5v7i
         enLFeWQAsLdcomWWcQUZhjFwAizFdMQnJ9J/OUQ6Zh9IpWxbvsO8UDK1QMi59vro9oft
         obGz0W7A2Gnst1LAqaAcR7LQ/T/btRJp9ZQvhELF9QJwoigT8GmnO1/v27VACc5HBcE/
         /AQFxLEUDSOy3M5sVZjC/dVhyPGkUVsrcAVBD6GN0TZ8YJhqnjTC5J0AWsBuhxR24O8q
         nB0w==
X-Gm-Message-State: ALoCoQmPjwlOcp+/VZ1w5MtkL16pVx3mgLjmkKSkod17mXBFGm11EdPemXzyD9y9yu/Po0J+bD6w
MIME-Version: 1.0
X-Received: by 10.50.50.130 with SMTP id c2mr4563425igo.19.1434118078364; Fri,
 12 Jun 2015 07:07:58 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Fri, 12 Jun 2015 07:07:58 -0700 (PDT)
X-Originating-IP: [103.19.212.22]
In-Reply-To: <557AE06B.4080503@kippdata.de>
References: <20150612090734.A311AAC0608@hades.apache.org>
	<557AC1EF.5070709@wanadoo.fr>
	<CAKQ1sVM2Vz9W9oPHGWkSYvRv_rw=8pcZ2KKO-Mwh3PBg7uEAcg@mail.gmail.com>
	<557AE06B.4080503@kippdata.de>
Date: Fri, 12 Jun 2015 09:07:58 -0500
Message-ID: <CACsi253RU5jM-yKeasiiSvjLs6aKAkvSGvJ5hwYETdFUD+wZeQ@mail.gmail.com>
Subject: Re: svn commit: r1685052 - in /httpd/httpd/trunk: CHANGES modules/ssl/ssl_engine_config.c
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7b86dd26a09c12051852a2c4

--047d7b86dd26a09c12051852a2c4
Content-Type: text/plain; charset=UTF-8

On Fri, Jun 12, 2015 at 8:36 AM, Rainer Jung <rainer.jung@kippdata.de>
wrote:

> Am 12.06.2015 um 13:49 schrieb Yann Ylavic:
>
>> Hi Christophe,
>>
>> On Fri, Jun 12, 2015 at 1:26 PM, Christophe JAILLET
>> <christophe.jaillet@wanadoo.fr> wrote:
>>
>>>
>>> should this warning at startup be an issue, why not just remove it in
>>> 2.4.x
>>> and keep it in trunk?
>>> Having the depreciation written in doc (and in migration note for 2.4 ->
>>> 2.6/3.0 one day) could be enough, no?
>>>
>>
>> Probably, but the (only one) warning per startup can possibly
>> encourage users to look at the doc :)
>> Let's see what others say.
>>
>
> I don't have a strong opinion, but if we want to remove the directive in
> the next version, then it would help to keep the deprecation logging to
> make people aware and reduce the migration complains a bit.
>
> Logging only once instead of for each certificate is IMHO enough and much
> better.
>

Agreed, although this is never a [warn], it's [info] at strongest.


> As to if the current situation in 2.4.14 is a problem or should be
> tolerated (lots of log output for people with huge numbers of certificates)
> I'm quite undecided.
>

Trivial patch, easily applied by the tiny few who would be affected, so I
don't think it has any impact on the 2.4.14 readiness for GA.

Bill

Patch: message received and acknowledged;

--- modules/ssl/ssl_engine_config.c     (revision 8078)
+++ modules/ssl/ssl_engine_config.c     (working copy)
@@ -862,7 +862,7 @@
     SSLSrvConfigRec *sc = mySrvConfig(cmd->server);
     const char *err;

-    ap_log_error(APLOG_MARK, APLOG_WARNING|APLOG_STARTUP, 0, NULL,
+    ap_log_error(APLOG_MARK, APLOG_DEBUG|APLOG_STARTUP, 0, NULL,
                  APLOGNO(02559)
                  "The SSLCertificateChainFile directive (%s:%d) is
deprecated, "
                  "SSLCertificateFile should be used instead",

--047d7b86dd26a09c12051852a2c4
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On F=
ri, Jun 12, 2015 at 8:36 AM, Rainer Jung <span dir=3D"ltr">&lt;<a href=3D"m=
ailto:rainer.jung@kippdata.de" target=3D"_blank">rainer.jung@kippdata.de</a=
>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0p=
x 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);bo=
rder-left-style:solid;padding-left:1ex"><span>Am 12.06.2015 um 13:49 schrie=
b Yann Ylavic:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-=
left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;p=
adding-left:1ex">
Hi Christophe,<br>
<br>
On Fri, Jun 12, 2015 at 1:26 PM, Christophe JAILLET<br>
&lt;<a href=3D"mailto:christophe.jaillet@wanadoo.fr" target=3D"_blank">chri=
stophe.jaillet@wanadoo.fr</a>&gt; wrote:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-=
left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;p=
adding-left:1ex">
<br>
should this warning at startup be an issue, why not just remove it in 2.4.x=
<br>
and keep it in trunk?<br>
Having the depreciation written in doc (and in migration note for 2.4 -&gt;=
<br>
2.6/3.0 one day) could be enough, no?<br>
</blockquote>
<br>
Probably, but the (only one) warning per startup can possibly<br>
encourage users to look at the doc :)<br>
Let&#39;s see what others say.<br>
</blockquote>
<br></span>
I don&#39;t have a strong opinion, but if we want to remove the directive i=
n the next version, then it would help to keep the deprecation logging to m=
ake people aware and reduce the migration complains a bit.<br>
<br>
Logging only once instead of for each certificate is IMHO enough and much b=
etter.<br></blockquote><div><br></div><div>Agreed, although this is never a=
 [warn], it&#39;s [info] at strongest.</div><div>=C2=A0</div><blockquote cl=
ass=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px=
;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1e=
x">
As to if the current situation in 2.4.14 is a problem or should be tolerate=
d (lots of log output for people with huge numbers of certificates) I&#39;m=
 quite undecided.<br></blockquote><div><br></div><div>Trivial patch, easily=
 applied by the tiny few who would be affected, so I don&#39;t think it has=
 any impact on the 2.4.14 readiness for GA.</div><div><br></div><div>Bill</=
div></div><br></div><div class=3D"gmail_extra">Patch: message received and =
acknowledged;</div><div class=3D"gmail_extra"><br></div><div class=3D"gmail=
_extra"><div class=3D"gmail_extra">--- modules/ssl/ssl_engine_config.c =C2=
=A0 =C2=A0 (revision 8078)</div><div class=3D"gmail_extra">+++ modules/ssl/=
ssl_engine_config.c =C2=A0 =C2=A0 (working copy)</div><div class=3D"gmail_e=
xtra">@@ -862,7 +862,7 @@</div><div class=3D"gmail_extra">=C2=A0 =C2=A0 =C2=
=A0SSLSrvConfigRec *sc =3D mySrvConfig(cmd-&gt;server);</div><div class=3D"=
gmail_extra">=C2=A0 =C2=A0 =C2=A0const char *err;</div><div class=3D"gmail_=
extra">=C2=A0</div><div class=3D"gmail_extra">- =C2=A0 =C2=A0ap_log_error(A=
PLOG_MARK, APLOG_WARNING|APLOG_STARTUP, 0, NULL,</div><div class=3D"gmail_e=
xtra">+ =C2=A0 =C2=A0ap_log_error(APLOG_MARK, APLOG_DEBUG|APLOG_STARTUP, 0,=
 NULL,</div><div class=3D"gmail_extra">=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 APLOGNO(02559)</div><div class=3D"gmail_extra">=
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 &quot;The SS=
LCertificateChainFile directive (%s:%d) is deprecated, &quot;</div><div cla=
ss=3D"gmail_extra">=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 &quot;SSLCertificateFile should be used instead&quot;,</div><div><br=
></div></div></div>

--047d7b86dd26a09c12051852a2c4--

From dev-return-82954-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 12 16:35:46 2015
Return-Path: <dev-return-82954-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8E64C18421
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Jun 2015 16:35:46 +0000 (UTC)
Received: (qmail 53788 invoked by uid 500); 12 Jun 2015 16:35:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53727 invoked by uid 500); 12 Jun 2015 16:35:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53717 invoked by uid 99); 12 Jun 2015 16:35:45 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 16:35:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id D2021C092D
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 16:35:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.99
X-Spam-Level: **
X-Spam-Status: No, score=2.99 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_HELO_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id LAVOF3GeCrVj for <dev@httpd.apache.org>;
	Fri, 12 Jun 2015 16:35:30 +0000 (UTC)
Received: from mx1.cpanel.net (mx1.cpanel.net [208.74.121.68])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 4AC0E24CE8
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 16:35:30 +0000 (UTC)
Received: from ng1.cptxoffice.net ([208.74.121.102]:16628 helo=[10.1.4.91])
	by mx1.cpanel.net with esmtpsa (TLSv1:DHE-RSA-AES256-SHA:256)
	(Exim 4.85)
	(envelope-from <jacob.perkins@cpanel.net>)
	id 1Z3RvM-0004RJ-PP
	for dev@httpd.apache.org; Fri, 12 Jun 2015 11:35:20 -0500
Content-Type: multipart/signed; boundary="Apple-Mail=_988740BE-DBBF-4CC8-90D4-DE4F8C0F3ACE"; protocol="application/pgp-signature"; micalg=pgp-sha512
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
X-Pgp-Agent: GPGMail 2.5
From: Jacob Perkins <jacob.perkins@cpanel.net>
In-Reply-To: <026bf2441049b9ba0a21aca944f1f424@ausics.net>
Date: Fri, 12 Jun 2015 11:35:19 -0500
Message-Id: <FDFA1EA4-A0E9-478E-984B-033122E844E0@cpanel.net>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com> <026bf2441049b9ba0a21aca944f1f424@ausics.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - mx1.cpanel.net
X-AntiAbuse: Original Domain - httpd.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - cpanel.net
X-Get-Message-Sender-Via: mx1.cpanel.net: authenticated_id: jacob.perkins@cpanel.net


--Apple-Mail=_988740BE-DBBF-4CC8-90D4-DE4F8C0F3ACE
Content-Type: multipart/alternative;
	boundary="Apple-Mail=_53661FAC-3D6B-483E-B579-1A16BA6A3471"


--Apple-Mail=_53661FAC-3D6B-483E-B579-1A16BA6A3471
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=utf-8

+1 to Noels comments.  We have a ton of servers running Apache 2.4 with =
our control panel.  Doing this in a point release will cause us to have =
to change our product instead of doing a regular Apache release.

When you have a server with 10k+ SSL vhosts, this can cause massive, =
unexpected problems. I have a feeling that this will cause massive =
headaches with all those running Apache 2.4.
=E2=80=94
Jacob Perkins
Product Owner
cPanel Inc.

jacob.perkins@cpanel.net <mailto:jacob.perkins@cpanel.net>
Office:  713-529-0800 x 4046
Cell:  713-560-8655

> On Jun 11, 2015, at 8:37 PM, Noel Butler <noel.butler@ausics.net> =
wrote:
>=20
> On 12/06/2015 00:08, Jim Jagielski wrote:
>=20
>>=20
>> I'm calling a VOTE on releasing these as Apache httpd 2.4.14 GA.
>>=20
>> [ ] +1: Good to go
>> [ ] +0: meh
>> [ ] -1: Danger Will Robinson. And why.
>>=20
> -1
>=20
> "The SSLCertificateChainFile directive () is deprecated, =
SSLCertificateFile should be used instead"
>=20
> The constant warnings on start, stop, and even reload for every single =
SSL host is unacceptable.
>=20
> This should never have been contemplated for a "point" release anyway.
>=20
> Clearly no consideration has been given to the headaches and =
collateral damage this will cause, some hosts have tens of thousands of =
SSL hosts, even a server reload will flood the hell out of them, most =
system/CP scripts look for a specific, or no output, after reload, this =
results in unexpected output and will trigger alarms, likely causing =
many systems to think " oh there was a problem adding this host, so I =
wont continue adding them into anything else and fail the entire new =
customer process" again, creating serious problems for those required to =
maintain these things.
>=20
>=20
> It might be fine and dandy for a stand alone single SSL host server =
that is manually managed, but dont forget many hosts run up to 2+K hosts =
on a single server with many of them SSL, that is a lot of change when =
you have a server room half full of them, not to mention any inhouse =
scripting or control panels that will need to be modified to cater for =
such changes to create the new certs and deal with it all.
>=20
>=20
> I for one will not place this release on any production servers. My =
recommendation is that chainfile remain as it is - at the very least for =
the 2.4 series, and if it is not enough to stop or delay this release to =
revert, then I sincerely hope it is changed in trunk for the next.
>=20
>=20


--Apple-Mail=_53661FAC-3D6B-483E-B579-1A16BA6A3471
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html;
	charset=utf-8

<html><head><meta http-equiv=3D"Content-Type" content=3D"text/html =
charset=3Dutf-8"></head><body style=3D"word-wrap: break-word; =
-webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" =
class=3D"">+1 to Noels comments. &nbsp;We have a ton of servers running =
Apache 2.4 with our control panel. &nbsp;Doing this in a point release =
will cause us to have to change our product instead of doing a regular =
Apache release. &nbsp;<div class=3D""><br class=3D""></div><div =
class=3D"">When you have a server with 10k+ SSL vhosts, this can cause =
massive, unexpected problems. I have a feeling that this will cause =
massive headaches with all those running Apache 2.4.<div =
apple-content-edited=3D"true" class=3D""><div style=3D"color: rgb(0, 0, =
0); font-family: Helvetica; font-size: 12px; font-style: normal; =
font-variant: normal; font-weight: normal; letter-spacing: normal; =
line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D"">=E2=80=94</div><div style=3D"color: =
rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: =
normal; font-variant: normal; font-weight: normal; letter-spacing: =
normal; line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D"">Jacob Perkins<br class=3D""></div><div =
style=3D"color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; =
font-style: normal; font-variant: normal; font-weight: normal; =
letter-spacing: normal; line-height: normal; text-align: -webkit-auto; =
text-indent: 0px; text-transform: none; white-space: normal; =
word-spacing: 0px; -webkit-text-stroke-width: 0px; orphans: 2; widows: =
2; word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D"">Product Owner</div><div style=3D"color: =
rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: =
normal; font-variant: normal; font-weight: normal; letter-spacing: =
normal; line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D""><b class=3D""><font color=3D"#ff7c00" =
class=3D"">cPanel Inc.</font></b></div><div style=3D"color: rgb(0, 0, =
0); font-family: Helvetica; font-size: 12px; font-style: normal; =
font-variant: normal; font-weight: normal; letter-spacing: normal; =
line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D""><br class=3D""></div><div style=3D"color: =
rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: =
normal; font-variant: normal; font-weight: normal; letter-spacing: =
normal; line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D""><a href=3D"mailto:jacob.perkins@cpanel.net"=
 class=3D"">jacob.perkins@cpanel.net</a></div><div style=3D"color: =
rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: =
normal; font-variant: normal; font-weight: normal; letter-spacing: =
normal; line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D"">Office: &nbsp;713-529-0800 =
x&nbsp;4046</div><div style=3D"color: rgb(0, 0, 0); font-family: =
Helvetica; font-size: 12px; font-style: normal; font-variant: normal; =
font-weight: normal; letter-spacing: normal; line-height: normal; =
text-align: -webkit-auto; text-indent: 0px; text-transform: none; =
white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; =
orphans: 2; widows: 2; word-wrap: break-word; -webkit-nbsp-mode: space; =
-webkit-line-break: after-white-space;" class=3D"">Cell: =
&nbsp;713-560-8655</div>
</div>
<br class=3D""><div><blockquote type=3D"cite" class=3D""><div =
class=3D"">On Jun 11, 2015, at 8:37 PM, Noel Butler &lt;<a =
href=3D"mailto:noel.butler@ausics.net" =
class=3D"">noel.butler@ausics.net</a>&gt; wrote:</div><br =
class=3D"Apple-interchange-newline"><div class=3D""><meta =
http-equiv=3D"Content-Type" content=3D"text/html; charset=3DUTF-8" =
class=3D""><div style=3D"font-size: 10pt" class=3D""><p class=3D"">On =
12/06/2015 00:08, Jim Jagielski wrote:</p>
<blockquote type=3D"cite" style=3D"padding: 0 0.4em; border-left: =
#1010ff 2px solid; margin: 0" class=3D""><!-- html ignored --><!-- head =
ignored --><!-- meta ignored -->
<div class=3D"pre" style=3D"margin: 0; padding: 0; font-family: =
monospace"><br class=3D""> I'm calling a VOTE on releasing these as =
Apache httpd 2.4.14 GA.<br class=3D""><br class=3D""> [ ] +1: Good to =
go<br class=3D""> [ ] +0: meh<br class=3D""> [ ] -1: Danger Will =
Robinson. And why.<br class=3D""><br class=3D""></div>
</blockquote><p class=3D"">-1</p><p class=3D"">"The =
SSLCertificateChainFile directive () is deprecated, SSLCertificateFile =
should be used instead"</p><p class=3D"">The constant warnings on start, =
stop, and even reload for every single SSL host =
is&nbsp;unacceptable.</p><p class=3D"">This should never have been =
contemplated for a "point" release anyway.</p><p class=3D"">Clearly no =
consideration has been given to the headaches and collateral damage this =
will cause, some hosts have tens of thousands of SSL hosts, even a =
server reload will flood the hell out of them, most system/CP scripts =
look for a specific, or no output, after reload, this results in =
unexpected output and will trigger alarms, likely causing many systems =
to think " oh there was a problem adding this host, so I wont continue =
adding them into anything else and fail the entire new customer process" =
again, creating serious problems for those required to maintain these =
things.</p><div class=3D"">&nbsp;<br =
class=3D"webkit-block-placeholder"></div><p class=3D"">It might be fine =
and dandy for a stand alone single SSL host server that is manually =
managed, but dont forget many hosts run up to 2+K hosts on a single =
server with many of them SSL, that is a lot of change when you have a =
server room half full of them, not to mention any inhouse scripting or =
control panels that will need to be modified to cater for such changes =
to create the new certs and deal with it all.</p><div class=3D"">&nbsp;<br=
 class=3D"webkit-block-placeholder"></div><p class=3D"">I for one will =
not place this release on any production servers. My recommendation is =
that chainfile remain as it is - at the very least for the 2.4 series, =
and if it is not enough to stop or delay this release to revert, then I =
sincerely hope it is changed in trunk for the next.</p><div =
class=3D"">&nbsp;<br class=3D"webkit-block-placeholder"></div>
</div>
</div></blockquote></div><br class=3D""></div></body></html>=

--Apple-Mail=_53661FAC-3D6B-483E-B579-1A16BA6A3471--

--Apple-Mail=_988740BE-DBBF-4CC8-90D4-DE4F8C0F3ACE
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
	filename=signature.asc
Content-Type: application/pgp-signature;
	name=signature.asc
Content-Description: Message signed with OpenPGP using GPGMail

-----BEGIN PGP SIGNATURE-----
Comment: GPGTools - https://gpgtools.org

iQEcBAEBCgAGBQJVewpHAAoJEIo8JcFLoqwq2kcH/RBIApEQYYtir7LvfQPOwWan
giH8HVzm0EWstTli8Bo+f/glGHQ8x9Ehk9cMjutd9Wgr7Q+VQC0tovdTaIk99BSn
VuMCZClPJ/u4szfxIFE0UdIYJ/plVCdmd0YuRwFN5ftTENpcq4YSFXMoWZJ1LQsj
0bUkHDaYfiJSwCvivsbi7CHNbbkXRqiI563xwnU7FIkY0aLma2kacqg8VKzCY71q
XNT4ApxAqnnWRo++XHtdcw9RKgOyQfclrLBRbsUoZbhvMHgjeRBYWnqAyiW1Dv3W
rOQp2L/KTRZoEWKDfLcBtHRb7X7HKQ0UNv2aPwzmJ/zjr4d8WgOTVBfSDpmOeY4=
=4gDM
-----END PGP SIGNATURE-----

--Apple-Mail=_988740BE-DBBF-4CC8-90D4-DE4F8C0F3ACE--

From dev-return-82955-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 12 16:49:24 2015
Return-Path: <dev-return-82955-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A4C7A184F5
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Jun 2015 16:49:24 +0000 (UTC)
Received: (qmail 1768 invoked by uid 500); 12 Jun 2015 16:49:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1706 invoked by uid 500); 12 Jun 2015 16:49:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1696 invoked by uid 99); 12 Jun 2015 16:49:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 16:49:24 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of trawick@gmail.com designates 209.85.160.182 as permitted sender)
Received: from [209.85.160.182] (HELO mail-yk0-f182.google.com) (209.85.160.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 16:47:10 +0000
Received: by ykfr66 with SMTP id r66so20265817ykf.0
        for <dev@httpd.apache.org>; Fri, 12 Jun 2015 09:48:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=xXbzqa+1xoEkGriDSbg8kaXA3LMA3a1O7S56ptrzu4I=;
        b=bjDHsrzPHJlCWqv12UFj2EY3utMT0Y/amr8lzGrD5fcj8iYWBLT+5Ry8KS4O2E2eG6
         apeLbCkgVsbwbEzGbIJ97ernX6zio8u1vsSkp4g0ONZaUtVVGs4GIfxzFMx1SUJTLOU2
         BQ6L6HrqtxWZVt6werpgt09MyAAwLohE6frK/Wc//VzWOogOJPtgKb76bvPrmzj6oZf3
         MJf7KMB7m04GZ2C40dRFGrVIhdx6pTcI6XMDpCGc6VNoKi4CF2gginy/XfCX3fADhfqT
         aWYdvZToaXFvAmxQJ+r7EXgEy91uD3py5psQQGqCOJnwHQSfxW+3nOTrcxCpXp1TjrCh
         Bu3A==
MIME-Version: 1.0
X-Received: by 10.170.91.131 with SMTP id i125mr19874333yka.12.1434127737803;
 Fri, 12 Jun 2015 09:48:57 -0700 (PDT)
Received: by 10.13.206.195 with HTTP; Fri, 12 Jun 2015 09:48:57 -0700 (PDT)
In-Reply-To: <FDFA1EA4-A0E9-478E-984B-033122E844E0@cpanel.net>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
	<026bf2441049b9ba0a21aca944f1f424@ausics.net>
	<FDFA1EA4-A0E9-478E-984B-033122E844E0@cpanel.net>
Date: Fri, 12 Jun 2015 12:48:57 -0400
Message-ID: <CAKUrXK6k92pkqtgA505KV4bQoMy_BBLuB7nUxiYhxT4qERqWPw@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113942ae5fd76f051854e25d
X-Virus-Checked: Checked by ClamAV on apache.org

--001a113942ae5fd76f051854e25d
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Fri, Jun 12, 2015 at 12:35 PM, Jacob Perkins <jacob.perkins@cpanel.net>
wrote:

> +1 to Noels comments.  We have a ton of servers running Apache 2.4 with
> our control panel.  Doing this in a point release will cause us to have t=
o
> change our product instead of doing a regular Apache release.
>
> When you have a server with 10k+ SSL vhosts, this can cause massive,
> unexpected problems. I have a feeling that this will cause massive
> headaches with all those running Apache 2.4.
>

Thanks to Noel's comments, we have dropped this to one message at a quieter
log level for the next 2.4.x release, and we can assist with a tiny patch
to any recent 2.4.x.

It doesn't make sense for us to hold up a release when that change has been
in the last several releases however.  (That's a high barrier for making
progress.)

Make sense?


=E2=80=94
> Jacob Perkins
> Product Owner
> *cPanel Inc.*
>
> jacob.perkins@cpanel.net
> Office:  713-529-0800 x 4046
> Cell:  713-560-8655
>
> On Jun 11, 2015, at 8:37 PM, Noel Butler <noel.butler@ausics.net> wrote:
>
> On 12/06/2015 00:08, Jim Jagielski wrote:
>
>
> I'm calling a VOTE on releasing these as Apache httpd 2.4.14 GA.
>
> [ ] +1: Good to go
> [ ] +0: meh
> [ ] -1: Danger Will Robinson. And why.
>
> -1
>
> "The SSLCertificateChainFile directive () is deprecated,
> SSLCertificateFile should be used instead"
>
> The constant warnings on start, stop, and even reload for every single SS=
L
> host is unacceptable.
>
> This should never have been contemplated for a "point" release anyway.
>
> Clearly no consideration has been given to the headaches and collateral
> damage this will cause, some hosts have tens of thousands of SSL hosts,
> even a server reload will flood the hell out of them, most system/CP
> scripts look for a specific, or no output, after reload, this results in
> unexpected output and will trigger alarms, likely causing many systems to
> think " oh there was a problem adding this host, so I wont continue addin=
g
> them into anything else and fail the entire new customer process" again,
> creating serious problems for those required to maintain these things.
>
>
> It might be fine and dandy for a stand alone single SSL host server that
> is manually managed, but dont forget many hosts run up to 2+K hosts on a
> single server with many of them SSL, that is a lot of change when you hav=
e
> a server room half full of them, not to mention any inhouse scripting or
> control panels that will need to be modified to cater for such changes to
> create the new certs and deal with it all.
>
>
> I for one will not place this release on any production servers. My
> recommendation is that chainfile remain as it is - at the very least for
> the 2.4 series, and if it is not enough to stop or delay this release to
> revert, then I sincerely hope it is changed in trunk for the next.
>
>
>
>


--=20
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a113942ae5fd76f051854e25d
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On F=
ri, Jun 12, 2015 at 12:35 PM, Jacob Perkins <span dir=3D"ltr">&lt;<a href=
=3D"mailto:jacob.perkins@cpanel.net" target=3D"_blank">jacob.perkins@cpanel=
.net</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"ma=
rgin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div style=3D"=
word-wrap:break-word">+1 to Noels comments.=C2=A0 We have a ton of servers =
running Apache 2.4 with our control panel.=C2=A0 Doing this in a point rele=
ase will cause us to have to change our product instead of doing a regular =
Apache release. =C2=A0<div><br></div><div>When you have a server with 10k+ =
SSL vhosts, this can cause massive, unexpected problems. I have a feeling t=
hat this will cause massive headaches with all those running Apache 2.4.</d=
iv></div></blockquote><div><br></div><div>Thanks to Noel&#39;s comments, we=
 have dropped this to one message at a quieter log level for the next 2.4.x=
 release, and we can assist with a tiny patch to any recent 2.4.x.</div><di=
v><br></div><div>It doesn&#39;t make sense for us to hold up a release when=
 that change has been in the last several releases however. =C2=A0(That&#39=
;s a high barrier for making progress.)</div><div><br></div><div>Make sense=
?</div><div><br></div><div><br></div><blockquote class=3D"gmail_quote" styl=
e=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div st=
yle=3D"word-wrap:break-word"><div><div><div style=3D"color:rgb(0,0,0);font-=
family:Helvetica;font-size:12px;font-style:normal;font-variant:normal;font-=
weight:normal;letter-spacing:normal;line-height:normal;text-align:-webkit-a=
uto;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px=
;word-wrap:break-word">=E2=80=94</div><div style=3D"color:rgb(0,0,0);font-f=
amily:Helvetica;font-size:12px;font-style:normal;font-variant:normal;font-w=
eight:normal;letter-spacing:normal;line-height:normal;text-align:-webkit-au=
to;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;=
word-wrap:break-word">Jacob Perkins<br></div><div style=3D"color:rgb(0,0,0)=
;font-family:Helvetica;font-size:12px;font-style:normal;font-variant:normal=
;font-weight:normal;letter-spacing:normal;line-height:normal;text-align:-we=
bkit-auto;text-indent:0px;text-transform:none;white-space:normal;word-spaci=
ng:0px;word-wrap:break-word">Product Owner</div><div style=3D"color:rgb(0,0=
,0);font-family:Helvetica;font-size:12px;font-style:normal;font-variant:nor=
mal;font-weight:normal;letter-spacing:normal;line-height:normal;text-align:=
-webkit-auto;text-indent:0px;text-transform:none;white-space:normal;word-sp=
acing:0px;word-wrap:break-word"><b><font color=3D"#ff7c00">cPanel Inc.</fon=
t></b></div><div style=3D"color:rgb(0,0,0);font-family:Helvetica;font-size:=
12px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacin=
g:normal;line-height:normal;text-align:-webkit-auto;text-indent:0px;text-tr=
ansform:none;white-space:normal;word-spacing:0px;word-wrap:break-word"><br>=
</div><div style=3D"color:rgb(0,0,0);font-family:Helvetica;font-size:12px;f=
ont-style:normal;font-variant:normal;font-weight:normal;letter-spacing:norm=
al;line-height:normal;text-align:-webkit-auto;text-indent:0px;text-transfor=
m:none;white-space:normal;word-spacing:0px;word-wrap:break-word"><a href=3D=
"mailto:jacob.perkins@cpanel.net" target=3D"_blank">jacob.perkins@cpanel.ne=
t</a></div><div style=3D"color:rgb(0,0,0);font-family:Helvetica;font-size:1=
2px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing=
:normal;line-height:normal;text-align:-webkit-auto;text-indent:0px;text-tra=
nsform:none;white-space:normal;word-spacing:0px;word-wrap:break-word">Offic=
e: =C2=A0<a href=3D"tel:713-529-0800%20x%C2%A04046" value=3D"+17135290800" =
target=3D"_blank">713-529-0800 x=C2=A04046</a></div><div style=3D"color:rgb=
(0,0,0);font-family:Helvetica;font-size:12px;font-style:normal;font-variant=
:normal;font-weight:normal;letter-spacing:normal;line-height:normal;text-al=
ign:-webkit-auto;text-indent:0px;text-transform:none;white-space:normal;wor=
d-spacing:0px;word-wrap:break-word">Cell: =C2=A0<a href=3D"tel:713-560-8655=
" value=3D"+17135608655" target=3D"_blank">713-560-8655</a></div>
</div><div><div class=3D"h5">
<br><div><blockquote type=3D"cite"><div>On Jun 11, 2015, at 8:37 PM, Noel B=
utler &lt;<a href=3D"mailto:noel.butler@ausics.net" target=3D"_blank">noel.=
butler@ausics.net</a>&gt; wrote:</div><br><div><div style=3D"font-size:10pt=
"><p>On 12/06/2015 00:08, Jim Jagielski wrote:</p>
<blockquote type=3D"cite" style=3D"padding:0 0.4em;border-left:#1010ff 2px =
solid;margin:0">
<div style=3D"margin:0;padding:0;font-family:monospace"><br> I&#39;m callin=
g a VOTE on releasing these as Apache httpd 2.4.14 GA.<br><br> [ ] +1: Good=
 to go<br> [ ] +0: meh<br> [ ] -1: Danger Will Robinson. And why.<br><br></=
div>
</blockquote><p>-1</p><p>&quot;The SSLCertificateChainFile directive () is =
deprecated, SSLCertificateFile should be used instead&quot;</p><p>The const=
ant warnings on start, stop, and even reload for every single SSL host is=
=C2=A0unacceptable.</p><p>This should never have been contemplated for a &q=
uot;point&quot; release anyway.</p><p>Clearly no consideration has been giv=
en to the headaches and collateral damage this will cause, some hosts have =
tens of thousands of SSL hosts, even a server reload will flood the hell ou=
t of them, most system/CP scripts look for a specific, or no output, after =
reload, this results in unexpected output and will trigger alarms, likely c=
ausing many systems to think &quot; oh there was a problem adding this host=
, so I wont continue adding them into anything else and fail the entire new=
 customer process&quot; again, creating serious problems for those required=
 to maintain these things.</p><div>=C2=A0<br></div><p>It might be fine and =
dandy for a stand alone single SSL host server that is manually managed, bu=
t dont forget many hosts run up to 2+K hosts on a single server with many o=
f them SSL, that is a lot of change when you have a server room half full o=
f them, not to mention any inhouse scripting or control panels that will ne=
ed to be modified to cater for such changes to create the new certs and dea=
l with it all.</p><div>=C2=A0<br></div><p>I for one will not place this rel=
ease on any production servers. My recommendation is that chainfile remain =
as it is - at the very least for the 2.4 series, and if it is not enough to=
 stop or delay this release to revert, then I sincerely hope it is changed =
in trunk for the next.</p><div>=C2=A0<br></div>
</div>
</div></blockquote></div><br></div></div></div></div></blockquote></div><br=
><br clear=3D"all"><div><br></div>-- <br><div class=3D"gmail_signature"><di=
v dir=3D"ltr">Born in Roswell... married an alien...<br><a href=3D"http://e=
mptyhammock.com/" target=3D"_blank">http://emptyhammock.com/</a><div><br></=
div></div></div>
</div></div>

--001a113942ae5fd76f051854e25d--

From dev-return-82956-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 12 16:57:49 2015
Return-Path: <dev-return-82956-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CA07318566
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Jun 2015 16:57:49 +0000 (UTC)
Received: (qmail 26183 invoked by uid 500); 12 Jun 2015 16:57:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 26110 invoked by uid 500); 12 Jun 2015 16:57:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 26100 invoked by uid 99); 12 Jun 2015 16:57:49 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 16:57:49 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id CD798CD83A
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 16:57:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 5oMDGUEkG-Dd for <dev@httpd.apache.org>;
	Fri, 12 Jun 2015 16:57:39 +0000 (UTC)
Received: from mail-yk0-f182.google.com (mail-yk0-f182.google.com [209.85.160.182])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 0CFC1216F0
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 16:57:39 +0000 (UTC)
Received: by ykfl8 with SMTP id l8so20406379ykf.1
        for <dev@httpd.apache.org>; Fri, 12 Jun 2015 09:57:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :content-type;
        bh=bRasEVv9fAjMg7KiPY7tHzHs+8CqkLy+fW4O9Mc2+20=;
        b=hB32N5/DOgyA8SdIfHDg8RUUreJem4us2/VYwbjjUFFwCFTflXrZ7QHow1amrYGQBa
         IiGvKp7kLS147xc42PPdUL7JOfaNInWdmfVikvcZu2SVGXyQDbp9XgqbZ7UdBmb02GyY
         M7onFnMUaVbbdOkgTF91A95gf5yM1vwUH2Mw1Hu60cw9o5QuN50tfSs2pk4uRT2OW7Zv
         Os39/IPik22v1PBG+MLDvAhnqUZPsNynbk15JqCnp64IsDIBQem4O3fLDHumPODhI6Nj
         tjW56kwRWMP7YJv6g0TBi09mmK+wYOTuwL4rHKi/4xTJ8XgFO1NFltyxxMKXBugXxwST
         XjuA==
X-Received: by 10.170.123.131 with SMTP id p125mr2808951ykb.14.1434128258182;
 Fri, 12 Jun 2015 09:57:38 -0700 (PDT)
MIME-Version: 1.0
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
 <026bf2441049b9ba0a21aca944f1f424@ausics.net> <FDFA1EA4-A0E9-478E-984B-033122E844E0@cpanel.net>
 <CAKUrXK6k92pkqtgA505KV4bQoMy_BBLuB7nUxiYhxT4qERqWPw@mail.gmail.com>
In-Reply-To: <CAKUrXK6k92pkqtgA505KV4bQoMy_BBLuB7nUxiYhxT4qERqWPw@mail.gmail.com>
From: Eric Covener <covener@gmail.com>
Date: Fri, 12 Jun 2015 16:57:27 +0000
Message-ID: <CALK=YjM9cSw=-Gd0uw_vd22JGgmheKMeuu_gxKUbZ_dUb_0kvQ@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11379dc66435420518550131

--001a11379dc66435420518550131
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

There seems to be a 2.4.8 component and an actual 2.4.13 component. Did the
2.4.13 fix make it more frequent?

On Fri, Jun 12, 2015 at 12:49 PM Jeff Trawick <trawick@gmail.com> wrote:

> On Fri, Jun 12, 2015 at 12:35 PM, Jacob Perkins <jacob.perkins@cpanel.net=
>
> wrote:
>
>> +1 to Noels comments.  We have a ton of servers running Apache 2.4 with
>> our control panel.  Doing this in a point release will cause us to have =
to
>> change our product instead of doing a regular Apache release.
>>
>> When you have a server with 10k+ SSL vhosts, this can cause massive,
>> unexpected problems. I have a feeling that this will cause massive
>> headaches with all those running Apache 2.4.
>>
>
> Thanks to Noel's comments, we have dropped this to one message at a
> quieter log level for the next 2.4.x release, and we can assist with a ti=
ny
> patch to any recent 2.4.x.
>
> It doesn't make sense for us to hold up a release when that change has
> been in the last several releases however.  (That's a high barrier for
> making progress.)
>
> Make sense?
>
>
> =E2=80=94
>> Jacob Perkins
>> Product Owner
>> *cPanel Inc.*
>>
>> jacob.perkins@cpanel.net
>> Office:  713-529-0800 x 4046
>> Cell:  713-560-8655
>>
>> On Jun 11, 2015, at 8:37 PM, Noel Butler <noel.butler@ausics.net> wrote:
>>
>> On 12/06/2015 00:08, Jim Jagielski wrote:
>>
>>
>> I'm calling a VOTE on releasing these as Apache httpd 2.4.14 GA.
>>
>> [ ] +1: Good to go
>> [ ] +0: meh
>> [ ] -1: Danger Will Robinson. And why.
>>
>> -1
>>
>> "The SSLCertificateChainFile directive () is deprecated,
>> SSLCertificateFile should be used instead"
>>
>> The constant warnings on start, stop, and even reload for every single
>> SSL host is unacceptable.
>>
>> This should never have been contemplated for a "point" release anyway.
>>
>> Clearly no consideration has been given to the headaches and collateral
>> damage this will cause, some hosts have tens of thousands of SSL hosts,
>> even a server reload will flood the hell out of them, most system/CP
>> scripts look for a specific, or no output, after reload, this results in
>> unexpected output and will trigger alarms, likely causing many systems t=
o
>> think " oh there was a problem adding this host, so I wont continue addi=
ng
>> them into anything else and fail the entire new customer process" again,
>> creating serious problems for those required to maintain these things.
>>
>>
>> It might be fine and dandy for a stand alone single SSL host server that
>> is manually managed, but dont forget many hosts run up to 2+K hosts on a
>> single server with many of them SSL, that is a lot of change when you ha=
ve
>> a server room half full of them, not to mention any inhouse scripting or
>> control panels that will need to be modified to cater for such changes t=
o
>> create the new certs and deal with it all.
>>
>>
>> I for one will not place this release on any production servers. My
>> recommendation is that chainfile remain as it is - at the very least for
>> the 2.4 series, and if it is not enough to stop or delay this release to
>> revert, then I sincerely hope it is changed in trunk for the next.
>>
>>
>>
>>
>
>
> --
> Born in Roswell... married an alien...
> http://emptyhammock.com/
>
>

--001a11379dc66435420518550131
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">There seems to be a 2.4.8 component and an actual 2.4.13 c=
omponent. Did the 2.4.13 fix make it more frequent?<br></div><br><div class=
=3D"gmail_quote"><div dir=3D"ltr">On Fri, Jun 12, 2015 at 12:49 PM Jeff Tra=
wick &lt;<a href=3D"mailto:trawick@gmail.com">trawick@gmail.com</a>&gt; wro=
te:<br></div><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;b=
order-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div class=3D"=
gmail_extra"><div class=3D"gmail_quote">On Fri, Jun 12, 2015 at 12:35 PM, J=
acob Perkins <span dir=3D"ltr">&lt;<a href=3D"mailto:jacob.perkins@cpanel.n=
et" target=3D"_blank">jacob.perkins@cpanel.net</a>&gt;</span> wrote:<br><bl=
ockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #=
ccc solid;padding-left:1ex"><div style=3D"word-wrap:break-word">+1 to Noels=
 comments.=C2=A0 We have a ton of servers running Apache 2.4 with our contr=
ol panel.=C2=A0 Doing this in a point release will cause us to have to chan=
ge our product instead of doing a regular Apache release. =C2=A0<div><br></=
div><div>When you have a server with 10k+ SSL vhosts, this can cause massiv=
e, unexpected problems. I have a feeling that this will cause massive heada=
ches with all those running Apache 2.4.</div></div></blockquote><div><br></=
div></div></div></div><div dir=3D"ltr"><div class=3D"gmail_extra"><div clas=
s=3D"gmail_quote"><div>Thanks to Noel&#39;s comments, we have dropped this =
to one message at a quieter log level for the next 2.4.x release, and we ca=
n assist with a tiny patch to any recent 2.4.x.</div><div><br></div><div>It=
 doesn&#39;t make sense for us to hold up a release when that change has be=
en in the last several releases however. =C2=A0(That&#39;s a high barrier f=
or making progress.)</div><div><br></div><div>Make sense?</div></div></div>=
</div><div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote=
"><div><br></div><div><br></div><blockquote class=3D"gmail_quote" style=3D"=
margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div style=
=3D"word-wrap:break-word"><div><div><div style=3D"color:rgb(0,0,0);font-fam=
ily:Helvetica;font-size:12px;font-style:normal;font-variant:normal;font-wei=
ght:normal;letter-spacing:normal;line-height:normal;text-align:-webkit-auto=
;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;wo=
rd-wrap:break-word">=E2=80=94</div><div style=3D"color:rgb(0,0,0);font-fami=
ly:Helvetica;font-size:12px;font-style:normal;font-variant:normal;font-weig=
ht:normal;letter-spacing:normal;line-height:normal;text-align:-webkit-auto;=
text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;wor=
d-wrap:break-word">Jacob Perkins<br></div><div style=3D"color:rgb(0,0,0);fo=
nt-family:Helvetica;font-size:12px;font-style:normal;font-variant:normal;fo=
nt-weight:normal;letter-spacing:normal;line-height:normal;text-align:-webki=
t-auto;text-indent:0px;text-transform:none;white-space:normal;word-spacing:=
0px;word-wrap:break-word">Product Owner</div><div style=3D"color:rgb(0,0,0)=
;font-family:Helvetica;font-size:12px;font-style:normal;font-variant:normal=
;font-weight:normal;letter-spacing:normal;line-height:normal;text-align:-we=
bkit-auto;text-indent:0px;text-transform:none;white-space:normal;word-spaci=
ng:0px;word-wrap:break-word"><b><font color=3D"#ff7c00">cPanel Inc.</font><=
/b></div><div style=3D"color:rgb(0,0,0);font-family:Helvetica;font-size:12p=
x;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:n=
ormal;line-height:normal;text-align:-webkit-auto;text-indent:0px;text-trans=
form:none;white-space:normal;word-spacing:0px;word-wrap:break-word"><br></d=
iv><div style=3D"color:rgb(0,0,0);font-family:Helvetica;font-size:12px;font=
-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;=
line-height:normal;text-align:-webkit-auto;text-indent:0px;text-transform:n=
one;white-space:normal;word-spacing:0px;word-wrap:break-word"><a href=3D"ma=
ilto:jacob.perkins@cpanel.net" target=3D"_blank">jacob.perkins@cpanel.net</=
a></div><div style=3D"color:rgb(0,0,0);font-family:Helvetica;font-size:12px=
;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:no=
rmal;line-height:normal;text-align:-webkit-auto;text-indent:0px;text-transf=
orm:none;white-space:normal;word-spacing:0px;word-wrap:break-word">Office: =
=C2=A0<a href=3D"tel:713-529-0800%20x%C2%A04046" value=3D"+17135290800" tar=
get=3D"_blank">713-529-0800 x=C2=A04046</a></div><div style=3D"color:rgb(0,=
0,0);font-family:Helvetica;font-size:12px;font-style:normal;font-variant:no=
rmal;font-weight:normal;letter-spacing:normal;line-height:normal;text-align=
:-webkit-auto;text-indent:0px;text-transform:none;white-space:normal;word-s=
pacing:0px;word-wrap:break-word">Cell: =C2=A0<a href=3D"tel:713-560-8655" v=
alue=3D"+17135608655" target=3D"_blank">713-560-8655</a></div>
</div><div><div>
<br><div><blockquote type=3D"cite"><div>On Jun 11, 2015, at 8:37 PM, Noel B=
utler &lt;<a href=3D"mailto:noel.butler@ausics.net" target=3D"_blank">noel.=
butler@ausics.net</a>&gt; wrote:</div><br><div><div style=3D"font-size:10pt=
"><p>On 12/06/2015 00:08, Jim Jagielski wrote:</p>
<blockquote type=3D"cite" style=3D"padding:0 0.4em;border-left:#1010ff 2px =
solid;margin:0">
<div style=3D"margin:0;padding:0;font-family:monospace"><br> I&#39;m callin=
g a VOTE on releasing these as Apache httpd 2.4.14 GA.<br><br> [ ] +1: Good=
 to go<br> [ ] +0: meh<br> [ ] -1: Danger Will Robinson. And why.<br><br></=
div>
</blockquote><p>-1</p><p>&quot;The SSLCertificateChainFile directive () is =
deprecated, SSLCertificateFile should be used instead&quot;</p><p>The const=
ant warnings on start, stop, and even reload for every single SSL host is=
=C2=A0unacceptable.</p><p>This should never have been contemplated for a &q=
uot;point&quot; release anyway.</p><p>Clearly no consideration has been giv=
en to the headaches and collateral damage this will cause, some hosts have =
tens of thousands of SSL hosts, even a server reload will flood the hell ou=
t of them, most system/CP scripts look for a specific, or no output, after =
reload, this results in unexpected output and will trigger alarms, likely c=
ausing many systems to think &quot; oh there was a problem adding this host=
, so I wont continue adding them into anything else and fail the entire new=
 customer process&quot; again, creating serious problems for those required=
 to maintain these things.</p><div>=C2=A0<br></div><p>It might be fine and =
dandy for a stand alone single SSL host server that is manually managed, bu=
t dont forget many hosts run up to 2+K hosts on a single server with many o=
f them SSL, that is a lot of change when you have a server room half full o=
f them, not to mention any inhouse scripting or control panels that will ne=
ed to be modified to cater for such changes to create the new certs and dea=
l with it all.</p><div>=C2=A0<br></div><p>I for one will not place this rel=
ease on any production servers. My recommendation is that chainfile remain =
as it is - at the very least for the 2.4 series, and if it is not enough to=
 stop or delay this release to revert, then I sincerely hope it is changed =
in trunk for the next.</p><div>=C2=A0<br></div>
</div>
</div></blockquote></div><br></div></div></div></div></blockquote></div></d=
iv></div><div dir=3D"ltr"><div class=3D"gmail_extra"><br><br clear=3D"all">=
<div><br></div>-- <br><div><div dir=3D"ltr">Born in Roswell... married an a=
lien...<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://em=
ptyhammock.com/</a><div><br></div></div></div>
</div></div></blockquote></div>

--001a11379dc66435420518550131--

From dev-return-82957-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 12 16:58:43 2015
Return-Path: <dev-return-82957-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3AED91857D
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Jun 2015 16:58:43 +0000 (UTC)
Received: (qmail 30724 invoked by uid 500); 12 Jun 2015 16:58:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 30656 invoked by uid 500); 12 Jun 2015 16:58:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 30646 invoked by uid 99); 12 Jun 2015 16:58:42 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 16:58:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 3B18418221F
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 16:58:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.791
X-Spam-Level: *
X-Spam-Status: No, score=1.791 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ChmF6ooR0BIO for <dev@httpd.apache.org>;
	Fri, 12 Jun 2015 16:58:41 +0000 (UTC)
Received: from mail-yh0-f48.google.com (mail-yh0-f48.google.com [209.85.213.48])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 6B0E9429A8
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 16:58:41 +0000 (UTC)
Received: by yhak3 with SMTP id k3so16153053yha.2
        for <dev@httpd.apache.org>; Fri, 12 Jun 2015 09:58:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :content-type;
        bh=NBvqVm4lxAgFk50QRFT/u33w8WPJL792a6dqiFnztus=;
        b=jVNQQoPwEOeNc0AQltf8oz+7wY5JPV/M1y6erhp2fIt+WYYA0dPiuERV0imyZDrvQu
         uo4HdsnuXSKFk2+SmB4mYLOPBiAo4Jz/eOaQVmE5swkrqvP55xGLHoaMMjEvET3NlMqU
         kto1CdrZ6W2fhdP9Th7LyKY0U2gXjEP3lquEr0X2F5zTy9wrBqHX2nM1dpDf8EmsuHRP
         HmYOml/bAMoDhD3o87l/tzegl5gpYcf5uCD9KaTDnCIOvroSlMTvKlkvNrR+LKaaDxtz
         pyAv5dIPDPKfeC0d0Si3P41D3OArTlrXUXwEnTcRb/vaGQJ9Xgsp9MemyFiIsM7bZX9r
         RLRw==
X-Received: by 10.13.228.71 with SMTP id n68mr20147367ywe.165.1434128321117;
 Fri, 12 Jun 2015 09:58:41 -0700 (PDT)
MIME-Version: 1.0
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
 <026bf2441049b9ba0a21aca944f1f424@ausics.net> <FDFA1EA4-A0E9-478E-984B-033122E844E0@cpanel.net>
 <CAKUrXK6k92pkqtgA505KV4bQoMy_BBLuB7nUxiYhxT4qERqWPw@mail.gmail.com> <CALK=YjM9cSw=-Gd0uw_vd22JGgmheKMeuu_gxKUbZ_dUb_0kvQ@mail.gmail.com>
In-Reply-To: <CALK=YjM9cSw=-Gd0uw_vd22JGgmheKMeuu_gxKUbZ_dUb_0kvQ@mail.gmail.com>
From: Eric Covener <covener@gmail.com>
Date: Fri, 12 Jun 2015 16:58:30 +0000
Message-ID: <CALK=YjNtjcWnnbiFOtDyh3020wWrAMyFCOR_vPoda8+oC6_78A@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=94eb2c034fc82483930518550516

--94eb2c034fc82483930518550516
Content-Type: text/plain; charset=UTF-8

>
> It doesn't make sense for us to hold up a release when that change has
>> been in the last several releases however.  (That's a high barrier for
>> making progress.)
>>
>>
There seems to be a 2.4.8 component and an actual 2.4.13 component. Did the
2.4.13 fix make it more frequent.

(fixing my top-post)

--94eb2c034fc82483930518550516
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_quote"><blockquote class=3D"gmail_quot=
e" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">=
<div class=3D"gmail_quote"><blockquote class=3D"gmail_quote" style=3D"margi=
n:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr">=
<div class=3D"gmail_extra"><div class=3D"gmail_quote"><div>It doesn&#39;t m=
ake sense for us to hold up a release when that change has been in the last=
 several releases however. =C2=A0(That&#39;s a high barrier for making prog=
ress.)<br></div><div><br></div></div></div></div></blockquote></div></block=
quote><div>=C2=A0</div><div>There seems to be a 2.4.8 component and an actu=
al 2.4.13 component. Did the 2.4.13 fix make it more frequent.<br><br>(fixi=
ng my top-post)</div></div></div>

--94eb2c034fc82483930518550516--

From dev-return-82958-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 12 17:03:25 2015
Return-Path: <dev-return-82958-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 138DC185A7
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Jun 2015 17:03:25 +0000 (UTC)
Received: (qmail 39204 invoked by uid 500); 12 Jun 2015 17:03:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39128 invoked by uid 500); 12 Jun 2015 17:03:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 39118 invoked by uid 99); 12 Jun 2015 17:03:24 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 17:03:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 25225C092D
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 17:03:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.739
X-Spam-Level: ***
X-Spam-Status: No, score=3.739 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, KAM_INFOUSMEBIZ=0.75, SPF_HELO_PASS=-0.001,
	SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id sbEx4No-Ap6c for <dev@httpd.apache.org>;
	Fri, 12 Jun 2015 17:03:12 +0000 (UTC)
Received: from mx1.cpanel.net (mx1.cpanel.net [208.74.121.68])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 55A3921659
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 17:03:12 +0000 (UTC)
Received: from ng1.cptxoffice.net ([208.74.121.102]:28233 helo=[10.1.4.91])
	by mx1.cpanel.net with esmtpsa (TLSv1:DHE-RSA-AES256-SHA:256)
	(Exim 4.85)
	(envelope-from <jacob.perkins@cpanel.net>)
	id 1Z3SMD-000CYh-Mm
	for dev@httpd.apache.org; Fri, 12 Jun 2015 12:03:05 -0500
Content-Type: multipart/signed; boundary="Apple-Mail=_83CF19DC-569D-4678-9AA5-E061DAAC41FB"; protocol="application/pgp-signature"; micalg=pgp-sha512
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
X-Pgp-Agent: GPGMail 2.5
From: Jacob Perkins <jacob.perkins@cpanel.net>
In-Reply-To: <CAKUrXK6k92pkqtgA505KV4bQoMy_BBLuB7nUxiYhxT4qERqWPw@mail.gmail.com>
Date: Fri, 12 Jun 2015 12:03:04 -0500
Message-Id: <A7FDCA6A-2DDB-4966-8DA7-0F3F3EAEE91C@cpanel.net>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com> <026bf2441049b9ba0a21aca944f1f424@ausics.net> <FDFA1EA4-A0E9-478E-984B-033122E844E0@cpanel.net> <CAKUrXK6k92pkqtgA505KV4bQoMy_BBLuB7nUxiYhxT4qERqWPw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - mx1.cpanel.net
X-AntiAbuse: Original Domain - httpd.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - cpanel.net
X-Get-Message-Sender-Via: mx1.cpanel.net: authenticated_id: jacob.perkins@cpanel.net


--Apple-Mail=_83CF19DC-569D-4678-9AA5-E061DAAC41FB
Content-Type: multipart/alternative;
	boundary="Apple-Mail=_8A9CED5F-0BE1-422D-90DC-6AFED0A2061E"


--Apple-Mail=_8A9CED5F-0BE1-422D-90DC-6AFED0A2061E
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=utf-8

Hi Jeff,

Thanks for the response.  You=E2=80=99re right, this does look to be in =
Apache 2.2.12 at this time.  I was taking this from CHANGES, and it =
states:
Changes with Apache 2.4.13

  *) mod_ssl: make sure to consistently output SSLCertificateChainFile
     deprecation warnings, when encountered in a VirtualHost block.
     [Falco Schwarz <hiding falco.me>]

This is why I was so concerned.  Having this drop to one output should =
help, but it still may cause concerns for scripts that expect 0 output =
from a restart service script.

=E2=80=94
Jacob Perkins
Product Owner
cPanel Inc.

jacob.perkins@cpanel.net <mailto:jacob.perkins@cpanel.net>
Office:  713-529-0800 x 4046
Cell:  713-560-8655

> On Jun 12, 2015, at 11:48 AM, Jeff Trawick <trawick@gmail.com> wrote:
>=20
> On Fri, Jun 12, 2015 at 12:35 PM, Jacob Perkins =
<jacob.perkins@cpanel.net <mailto:jacob.perkins@cpanel.net>> wrote:
> +1 to Noels comments.  We have a ton of servers running Apache 2.4 =
with our control panel.  Doing this in a point release will cause us to =
have to change our product instead of doing a regular Apache release.
>=20
> When you have a server with 10k+ SSL vhosts, this can cause massive, =
unexpected problems. I have a feeling that this will cause massive =
headaches with all those running Apache 2.4.
>=20
> Thanks to Noel's comments, we have dropped this to one message at a =
quieter log level for the next 2.4.x release, and we can assist with a =
tiny patch to any recent 2.4.x.
>=20
> It doesn't make sense for us to hold up a release when that change has =
been in the last several releases however.  (That's a high barrier for =
making progress.)
>=20
> Make sense?
>=20
>=20
> =E2=80=94
> Jacob Perkins
> Product Owner
> cPanel Inc.
>=20
> jacob.perkins@cpanel.net <mailto:jacob.perkins@cpanel.net>
> Office:  713-529-0800 x=C2=A04046 <tel:713-529-0800%20x%C2%A04046>
> Cell:  713-560-8655 <tel:713-560-8655>
>=20
>> On Jun 11, 2015, at 8:37 PM, Noel Butler <noel.butler@ausics.net =
<mailto:noel.butler@ausics.net>> wrote:
>>=20
>> On 12/06/2015 00:08, Jim Jagielski wrote:
>>=20
>>>=20
>>> I'm calling a VOTE on releasing these as Apache httpd 2.4.14 GA.
>>>=20
>>> [ ] +1: Good to go
>>> [ ] +0: meh
>>> [ ] -1: Danger Will Robinson. And why.
>>>=20
>> -1
>>=20
>> "The SSLCertificateChainFile directive () is deprecated, =
SSLCertificateFile should be used instead"
>>=20
>> The constant warnings on start, stop, and even reload for every =
single SSL host is unacceptable.
>>=20
>> This should never have been contemplated for a "point" release =
anyway.
>>=20
>> Clearly no consideration has been given to the headaches and =
collateral damage this will cause, some hosts have tens of thousands of =
SSL hosts, even a server reload will flood the hell out of them, most =
system/CP scripts look for a specific, or no output, after reload, this =
results in unexpected output and will trigger alarms, likely causing =
many systems to think " oh there was a problem adding this host, so I =
wont continue adding them into anything else and fail the entire new =
customer process" again, creating serious problems for those required to =
maintain these things.
>>=20
>>=20
>> It might be fine and dandy for a stand alone single SSL host server =
that is manually managed, but dont forget many hosts run up to 2+K hosts =
on a single server with many of them SSL, that is a lot of change when =
you have a server room half full of them, not to mention any inhouse =
scripting or control panels that will need to be modified to cater for =
such changes to create the new certs and deal with it all.
>>=20
>>=20
>> I for one will not place this release on any production servers. My =
recommendation is that chainfile remain as it is - at the very least for =
the 2.4 series, and if it is not enough to stop or delay this release to =
revert, then I sincerely hope it is changed in trunk for the next.
>>=20
>>=20
>=20
>=20
>=20
>=20
> --
> Born in Roswell... married an alien...
> http://emptyhammock.com/ <http://emptyhammock.com/>

--Apple-Mail=_8A9CED5F-0BE1-422D-90DC-6AFED0A2061E
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html;
	charset=utf-8

<html><head><meta http-equiv=3D"Content-Type" content=3D"text/html =
charset=3Dutf-8"></head><body style=3D"word-wrap: break-word; =
-webkit-nbsp-mode: space; -webkit-line-break: after-white-space;" =
class=3D"">Hi Jeff,<div class=3D""><br class=3D""></div><div =
class=3D"">Thanks for the response. &nbsp;You=E2=80=99re right, this =
does look to be in Apache 2.2.12 at this time. &nbsp;I was taking this =
from CHANGES, and it states:</div><div class=3D""><div class=3D"">Changes =
with Apache 2.4.13</div><div class=3D""><br class=3D""></div><div =
class=3D""><div class=3D"">&nbsp; *) mod_ssl: make sure to consistently =
output SSLCertificateChainFile</div><div class=3D"">&nbsp; &nbsp; =
&nbsp;deprecation warnings, when encountered in a VirtualHost =
block.</div><div class=3D"">&nbsp; &nbsp; &nbsp;[Falco Schwarz =
&lt;hiding <a href=3D"http://falco.me" =
class=3D"">falco.me</a>&gt;]</div></div><div class=3D""><br =
class=3D"webkit-block-placeholder"></div><div class=3D"">This is why I =
was so concerned. &nbsp;Having this drop to one output should help, but =
it still may cause concerns for scripts that expect 0 output from a =
restart service script.</div><div class=3D"">
<div style=3D"color: rgb(0, 0, 0); font-family: Helvetica; font-size: =
12px; font-style: normal; font-variant: normal; font-weight: normal; =
letter-spacing: normal; line-height: normal; text-align: -webkit-auto; =
text-indent: 0px; text-transform: none; white-space: normal; =
word-spacing: 0px; -webkit-text-stroke-width: 0px; orphans: 2; widows: =
2; word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D""><br =
class=3D"Apple-interchange-newline">=E2=80=94</div><div style=3D"color: =
rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: =
normal; font-variant: normal; font-weight: normal; letter-spacing: =
normal; line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D"">Jacob Perkins<br class=3D""></div><div =
style=3D"color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; =
font-style: normal; font-variant: normal; font-weight: normal; =
letter-spacing: normal; line-height: normal; text-align: -webkit-auto; =
text-indent: 0px; text-transform: none; white-space: normal; =
word-spacing: 0px; -webkit-text-stroke-width: 0px; orphans: 2; widows: =
2; word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D"">Product Owner</div><div style=3D"color: =
rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: =
normal; font-variant: normal; font-weight: normal; letter-spacing: =
normal; line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D""><b class=3D""><font color=3D"#ff7c00" =
class=3D"">cPanel Inc.</font></b></div><div style=3D"color: rgb(0, 0, =
0); font-family: Helvetica; font-size: 12px; font-style: normal; =
font-variant: normal; font-weight: normal; letter-spacing: normal; =
line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D""><br class=3D""></div><div style=3D"color: =
rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: =
normal; font-variant: normal; font-weight: normal; letter-spacing: =
normal; line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D""><a href=3D"mailto:jacob.perkins@cpanel.net"=
 class=3D"">jacob.perkins@cpanel.net</a></div><div style=3D"color: =
rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: =
normal; font-variant: normal; font-weight: normal; letter-spacing: =
normal; line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; =
-webkit-text-stroke-width: 0px; orphans: 2; widows: 2; word-wrap: =
break-word; -webkit-nbsp-mode: space; -webkit-line-break: =
after-white-space;" class=3D"">Office: &nbsp;713-529-0800 =
x&nbsp;4046</div><div style=3D"color: rgb(0, 0, 0); font-family: =
Helvetica; font-size: 12px; font-style: normal; font-variant: normal; =
font-weight: normal; letter-spacing: normal; line-height: normal; =
text-align: -webkit-auto; text-indent: 0px; text-transform: none; =
white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; =
orphans: 2; widows: 2; word-wrap: break-word; -webkit-nbsp-mode: space; =
-webkit-line-break: after-white-space;" class=3D"">Cell: =
&nbsp;713-560-8655</div>
</div>
<br class=3D""><div><blockquote type=3D"cite" class=3D""><div =
class=3D"">On Jun 12, 2015, at 11:48 AM, Jeff Trawick &lt;<a =
href=3D"mailto:trawick@gmail.com" class=3D"">trawick@gmail.com</a>&gt; =
wrote:</div><br class=3D"Apple-interchange-newline"><div class=3D""><div =
dir=3D"ltr" style=3D"font-family: Helvetica; font-size: 12px; =
font-style: normal; font-variant: normal; font-weight: normal; =
letter-spacing: normal; line-height: normal; orphans: auto; text-align: =
start; text-indent: 0px; text-transform: none; white-space: normal; =
widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;" =
class=3D""><div class=3D"gmail_extra"><div class=3D"gmail_quote">On Fri, =
Jun 12, 2015 at 12:35 PM, Jacob Perkins<span =
class=3D"Apple-converted-space">&nbsp;</span><span dir=3D"ltr" =
class=3D"">&lt;<a href=3D"mailto:jacob.perkins@cpanel.net" =
target=3D"_blank" class=3D"">jacob.perkins@cpanel.net</a>&gt;</span><span =
class=3D"Apple-converted-space">&nbsp;</span>wrote:<br =
class=3D""><blockquote class=3D"gmail_quote" style=3D"margin: 0px 0px =
0px 0.8ex; border-left-width: 1px; border-left-color: rgb(204, 204, =
204); border-left-style: solid; padding-left: 1ex;"><div =
style=3D"word-wrap: break-word;" class=3D"">+1 to Noels comments.&nbsp; =
We have a ton of servers running Apache 2.4 with our control =
panel.&nbsp; Doing this in a point release will cause us to have to =
change our product instead of doing a regular Apache release. &nbsp;<div =
class=3D""><br class=3D""></div><div class=3D"">When you have a server =
with 10k+ SSL vhosts, this can cause massive, unexpected problems. I =
have a feeling that this will cause massive headaches with all those =
running Apache 2.4.</div></div></blockquote><div class=3D""><br =
class=3D""></div><div class=3D"">Thanks to Noel's comments, we have =
dropped this to one message at a quieter log level for the next 2.4.x =
release, and we can assist with a tiny patch to any recent =
2.4.x.</div><div class=3D""><br class=3D""></div><div class=3D"">It =
doesn't make sense for us to hold up a release when that change has been =
in the last several releases however. &nbsp;(That's a high barrier for =
making progress.)</div><div class=3D""><br class=3D""></div><div =
class=3D"">Make sense?</div><div class=3D""><br class=3D""></div><div =
class=3D""><br class=3D""></div><blockquote class=3D"gmail_quote" =
style=3D"margin: 0px 0px 0px 0.8ex; border-left-width: 1px; =
border-left-color: rgb(204, 204, 204); border-left-style: solid; =
padding-left: 1ex;"><div style=3D"word-wrap: break-word;" class=3D""><div =
class=3D""><div class=3D""><div style=3D"font-family: Helvetica; =
font-size: 12px; font-style: normal; font-variant: normal; font-weight: =
normal; letter-spacing: normal; line-height: normal; text-align: =
-webkit-auto; text-indent: 0px; text-transform: none; white-space: =
normal; word-spacing: 0px; word-wrap: break-word;" =
class=3D"">=E2=80=94</div><div style=3D"font-family: Helvetica; =
font-size: 12px; font-style: normal; font-variant: normal; font-weight: =
normal; letter-spacing: normal; line-height: normal; text-align: =
-webkit-auto; text-indent: 0px; text-transform: none; white-space: =
normal; word-spacing: 0px; word-wrap: break-word;" class=3D"">Jacob =
Perkins<br class=3D""></div><div style=3D"font-family: Helvetica; =
font-size: 12px; font-style: normal; font-variant: normal; font-weight: =
normal; letter-spacing: normal; line-height: normal; text-align: =
-webkit-auto; text-indent: 0px; text-transform: none; white-space: =
normal; word-spacing: 0px; word-wrap: break-word;" class=3D"">Product =
Owner</div><div style=3D"font-family: Helvetica; font-size: 12px; =
font-style: normal; font-variant: normal; font-weight: normal; =
letter-spacing: normal; line-height: normal; text-align: -webkit-auto; =
text-indent: 0px; text-transform: none; white-space: normal; =
word-spacing: 0px; word-wrap: break-word;" class=3D""><b class=3D""><font =
color=3D"#ff7c00" class=3D"">cPanel Inc.</font></b></div><div =
style=3D"font-family: Helvetica; font-size: 12px; font-style: normal; =
font-variant: normal; font-weight: normal; letter-spacing: normal; =
line-height: normal; text-align: -webkit-auto; text-indent: 0px; =
text-transform: none; white-space: normal; word-spacing: 0px; word-wrap: =
break-word;" class=3D""><br class=3D""></div><div style=3D"font-family: =
Helvetica; font-size: 12px; font-style: normal; font-variant: normal; =
font-weight: normal; letter-spacing: normal; line-height: normal; =
text-align: -webkit-auto; text-indent: 0px; text-transform: none; =
white-space: normal; word-spacing: 0px; word-wrap: break-word;" =
class=3D""><a href=3D"mailto:jacob.perkins@cpanel.net" target=3D"_blank" =
class=3D"">jacob.perkins@cpanel.net</a></div><div style=3D"font-family: =
Helvetica; font-size: 12px; font-style: normal; font-variant: normal; =
font-weight: normal; letter-spacing: normal; line-height: normal; =
text-align: -webkit-auto; text-indent: 0px; text-transform: none; =
white-space: normal; word-spacing: 0px; word-wrap: break-word;" =
class=3D"">Office: &nbsp;<a href=3D"tel:713-529-0800%20x%C2%A04046" =
value=3D"+17135290800" target=3D"_blank" class=3D"">713-529-0800 =
x&nbsp;4046</a></div><div style=3D"font-family: Helvetica; font-size: =
12px; font-style: normal; font-variant: normal; font-weight: normal; =
letter-spacing: normal; line-height: normal; text-align: -webkit-auto; =
text-indent: 0px; text-transform: none; white-space: normal; =
word-spacing: 0px; word-wrap: break-word;" class=3D"">Cell: &nbsp;<a =
href=3D"tel:713-560-8655" value=3D"+17135608655" target=3D"_blank" =
class=3D"">713-560-8655</a></div></div><div class=3D""><div =
class=3D"h5"><br class=3D""><div class=3D""><blockquote type=3D"cite" =
class=3D""><div class=3D"">On Jun 11, 2015, at 8:37 PM, Noel Butler =
&lt;<a href=3D"mailto:noel.butler@ausics.net" target=3D"_blank" =
class=3D"">noel.butler@ausics.net</a>&gt; wrote:</div><br class=3D""><div =
class=3D""><div style=3D"font-size: 10pt;" class=3D""><p class=3D"">On =
12/06/2015 00:08, Jim Jagielski wrote:</p><blockquote type=3D"cite" =
style=3D"padding: 0px 0.4em; border-left-color: rgb(16, 16, 255); =
border-left-width: 2px; border-left-style: solid; margin: 0px;" =
class=3D""><div style=3D"margin: 0px; padding: 0px; font-family: =
monospace;" class=3D""><br class=3D"">I'm calling a VOTE on releasing =
these as Apache httpd 2.4.14 GA.<br class=3D""><br class=3D"">[ ] +1: =
Good to go<br class=3D"">[ ] +0: meh<br class=3D"">[ ] -1: Danger Will =
Robinson. And why.<br class=3D""><br class=3D""></div></blockquote><p =
class=3D"">-1</p><p class=3D"">"The SSLCertificateChainFile directive () =
is deprecated, SSLCertificateFile should be used instead"</p><p =
class=3D"">The constant warnings on start, stop, and even reload for =
every single SSL host is&nbsp;unacceptable.</p><p class=3D"">This should =
never have been contemplated for a "point" release anyway.</p><p =
class=3D"">Clearly no consideration has been given to the headaches and =
collateral damage this will cause, some hosts have tens of thousands of =
SSL hosts, even a server reload will flood the hell out of them, most =
system/CP scripts look for a specific, or no output, after reload, this =
results in unexpected output and will trigger alarms, likely causing =
many systems to think " oh there was a problem adding this host, so I =
wont continue adding them into anything else and fail the entire new =
customer process" again, creating serious problems for those required to =
maintain these things.</p><div class=3D"">&nbsp;<br class=3D""></div><p =
class=3D"">It might be fine and dandy for a stand alone single SSL host =
server that is manually managed, but dont forget many hosts run up to =
2+K hosts on a single server with many of them SSL, that is a lot of =
change when you have a server room half full of them, not to mention any =
inhouse scripting or control panels that will need to be modified to =
cater for such changes to create the new certs and deal with it =
all.</p><div class=3D"">&nbsp;<br class=3D""></div><p class=3D"">I for =
one will not place this release on any production servers. My =
recommendation is that chainfile remain as it is - at the very least for =
the 2.4 series, and if it is not enough to stop or delay this release to =
revert, then I sincerely hope it is changed in trunk for the =
next.</p><div class=3D"">&nbsp;<br =
class=3D""></div></div></div></blockquote></div><br =
class=3D""></div></div></div></div></blockquote></div><br class=3D""><br =
clear=3D"all" class=3D""><div class=3D""><br class=3D""></div>--<span =
class=3D"Apple-converted-space">&nbsp;</span><br class=3D""><div =
class=3D"gmail_signature"><div dir=3D"ltr" class=3D"">Born in Roswell... =
married an alien...<br class=3D""><a href=3D"http://emptyhammock.com/" =
target=3D"_blank" =
class=3D"">http://emptyhammock.com/</a></div></div></div></div></div></blo=
ckquote></div><br class=3D""></div></body></html>=

--Apple-Mail=_8A9CED5F-0BE1-422D-90DC-6AFED0A2061E--

--Apple-Mail=_83CF19DC-569D-4678-9AA5-E061DAAC41FB
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
	filename=signature.asc
Content-Type: application/pgp-signature;
	name=signature.asc
Content-Description: Message signed with OpenPGP using GPGMail

-----BEGIN PGP SIGNATURE-----
Comment: GPGTools - https://gpgtools.org

iQEcBAEBCgAGBQJVexDIAAoJEIo8JcFLoqwqsjQH/izjKD2yP6bR79RTdODXyTeG
/GN9g4hkogdrgLOC4bbFIRSM0Opg68LWqknOxng8fpuMm1IDmmm7VrFeHBjJKS/N
GoxTWfLiUAIJhExw7k5xYTqLhiEpTjnyCh+QVhHdxVnOAUDlj5S8TVyep14IAp/2
wOdlVANpM6kqa3mTVUytbafwjqIhWeIYyrj43Cl/wu2rl6sAkgLelIv3ZOgE+QFL
nYgKQhsroGV7PhdMesY7yc4bT/YeH8Q5PiwUIcLOkMK3y7rhY50UvLHbdDdpF/XT
aUK2mkeLaoCdicQVt/d/gbS1dU8s1ZJ8pEW3IyIaGDefU2VwaABZ7MQDyWzH0H4=
=hEz0
-----END PGP SIGNATURE-----

--Apple-Mail=_83CF19DC-569D-4678-9AA5-E061DAAC41FB--

From dev-return-82959-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 12 17:10:45 2015
Return-Path: <dev-return-82959-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 876F118604
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Jun 2015 17:10:45 +0000 (UTC)
Received: (qmail 61006 invoked by uid 500); 12 Jun 2015 17:10:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 60930 invoked by uid 500); 12 Jun 2015 17:10:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 60920 invoked by uid 99); 12 Jun 2015 17:10:44 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 17:10:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 41AFE1A5525
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 17:10:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id tIqVtlBwXpql for <dev@httpd.apache.org>;
	Fri, 12 Jun 2015 17:10:35 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 7F51F453C8
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 17:10:35 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t5CHAWDD029727
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 19:10:32 +0200 (CEST)
Message-ID: <557B1284.3060509@kippdata.de>
Date: Fri, 12 Jun 2015 19:10:28 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>	<026bf2441049b9ba0a21aca944f1f424@ausics.net>	<FDFA1EA4-A0E9-478E-984B-033122E844E0@cpanel.net> <CAKUrXK6k92pkqtgA505KV4bQoMy_BBLuB7nUxiYhxT4qERqWPw@mail.gmail.com>
In-Reply-To: <CAKUrXK6k92pkqtgA505KV4bQoMy_BBLuB7nUxiYhxT4qERqWPw@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 12.06.2015 um 18:48 schrieb Jeff Trawick:
> On Fri, Jun 12, 2015 at 12:35 PM, Jacob Perkins
> <jacob.perkins@cpanel.net <mailto:jacob.perkins@cpanel.net>> wrote:
>
>     +1 to Noels comments.  We have a ton of servers running Apache 2.4
>     with our control panel.  Doing this in a point release will cause us
>     to have to change our product instead of doing a regular Apache
>     release.
>
>     When you have a server with 10k+ SSL vhosts, this can cause massive,
>     unexpected problems. I have a feeling that this will cause massive
>     headaches with all those running Apache 2.4.
>
>
> Thanks to Noel's comments, we have dropped this to one message at a
> quieter log level for the next 2.4.x release, and we can assist with a
> tiny patch to any recent 2.4.x.
>
> It doesn't make sense for us to hold up a release when that change has
> been in the last several releases however.  (That's a high barrier for
> making progress.)
>
> Make sense?

Agreed, I forgot about that, the warning exists since 2.4.9 in March 
2014. So from my project member point of view you are totally right.

Rainer

From dev-return-82960-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 12 17:12:04 2015
Return-Path: <dev-return-82960-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B8DA01861F
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Jun 2015 17:12:04 +0000 (UTC)
Received: (qmail 65798 invoked by uid 500); 12 Jun 2015 17:12:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65730 invoked by uid 500); 12 Jun 2015 17:12:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65720 invoked by uid 99); 12 Jun 2015 17:12:04 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 17:12:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C7DF81A5525
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 17:12:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.891
X-Spam-Level: *
X-Spam-Status: No, score=1.891 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id M6yQ992JAsFg for <dev@httpd.apache.org>;
	Fri, 12 Jun 2015 17:12:02 +0000 (UTC)
Received: from mail-ie0-f169.google.com (mail-ie0-f169.google.com [209.85.223.169])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id D171224B1A
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 17:12:01 +0000 (UTC)
Received: by iebmu5 with SMTP id mu5so28354792ieb.1
        for <dev@httpd.apache.org>; Fri, 12 Jun 2015 10:12:00 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=Lg63bgkh3Aeg3Bv6tGvHSvOBFL7BapSYb9zHLQKwaso=;
        b=J7i6wrtVD6+2Jsjk73oDsOzuVzrcw2Kh4xdrogIH2/JkwQF6rcU/hEMO7lMVj+HkrH
         yqzNqWrflC9AzJ15vAbBebDGVj70VoxEpu5Xug5WzUGDT8dgasNacg8mZ+sb02CEjQXD
         RvNAuIaNvwj+moZozwwx1vGqeSvNJwowOf6HzQzmgjcP5R2uv+Rm0ljsHmHH4I5j21J6
         9TM8uNsYu7aBhUB8HzziZhlOoQcrakZzaVa9dzBczzzSYnTewBJaBtzGURKEuBPfnvTQ
         Ed8AkG8hD9hYaqL/cJZqSzlF5M8N3dl286NkulFSgKdaCmocFLIur0LY9lskJZ/5r2xy
         OvGg==
X-Gm-Message-State: ALoCoQk6b5tBg280nyC8YSy9ACwfHdQ47eZMvFIHeE2INry6cqX6Gv02O5JWCXnReqIJ4KTo8jYX
MIME-Version: 1.0
X-Received: by 10.50.114.5 with SMTP id jc5mr5702392igb.43.1434129120736; Fri,
 12 Jun 2015 10:12:00 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Fri, 12 Jun 2015 10:12:00 -0700 (PDT)
X-Originating-IP: [103.19.212.22]
In-Reply-To: <CALK=YjNtjcWnnbiFOtDyh3020wWrAMyFCOR_vPoda8+oC6_78A@mail.gmail.com>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
	<026bf2441049b9ba0a21aca944f1f424@ausics.net>
	<FDFA1EA4-A0E9-478E-984B-033122E844E0@cpanel.net>
	<CAKUrXK6k92pkqtgA505KV4bQoMy_BBLuB7nUxiYhxT4qERqWPw@mail.gmail.com>
	<CALK=YjM9cSw=-Gd0uw_vd22JGgmheKMeuu_gxKUbZ_dUb_0kvQ@mail.gmail.com>
	<CALK=YjNtjcWnnbiFOtDyh3020wWrAMyFCOR_vPoda8+oC6_78A@mail.gmail.com>
Date: Fri, 12 Jun 2015 12:12:00 -0500
Message-ID: <CACsi250BE7eTVNnLuJg2km8rdv9kn2MGWUm3GOPsGA+g2JtGKw@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7b414172ce261b05185534a5

--047d7b414172ce261b05185534a5
Content-Type: text/plain; charset=UTF-8

Revision 1678233 - (view) (download) (annotate) - [select for diffs]
Modified Thu May 7 16:26:43 2015 UTC (5 weeks, 1 day ago) by jim
File length: 57106 byte(s)
Diff to previous 1674655 (colored)
Merge r1676085 from trunk:

consistently output SSLCertificateChainFile deprecation warnings
Submitted by: kbrand
Reviewed/backported by: jim

sent the warnings to the console/main server error log, rather than a
specific server error log file.  Because this is during config parsing, it
that may have previously been a bit bucket.  So this could be perceived as
a regression although the logic and log file activity was there for some
time.



On Fri, Jun 12, 2015 at 11:58 AM, Eric Covener <covener@gmail.com> wrote:

> It doesn't make sense for us to hold up a release when that change has
>>> been in the last several releases however.  (That's a high barrier for
>>> making progress.)
>>>
>>>
> There seems to be a 2.4.8 component and an actual 2.4.13 component. Did
> the 2.4.13 fix make it more frequent.
>
> (fixing my top-post)
>

--047d7b414172ce261b05185534a5
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div>Revision 1678233 - (view) (download) (annotate) - [se=
lect for diffs]=C2=A0</div><div>Modified Thu May 7 16:26:43 2015 UTC (5 wee=
ks, 1 day ago) by jim=C2=A0</div><div>File length: 57106 byte(s)=C2=A0</div=
><div>Diff to previous 1674655 (colored)</div><div>Merge r1676085 from trun=
k:</div><div><br></div><div>consistently output SSLCertificateChainFile dep=
recation warnings</div><div>Submitted by: kbrand</div><div>Reviewed/backpor=
ted by: jim</div><div><br></div><div>sent the warnings to the console/main =
server error log, rather than a specific server error log file.=C2=A0 Becau=
se this is during config parsing, it that may have previously been a bit bu=
cket.=C2=A0 So this could be perceived as a regression although the logic a=
nd log file activity was there for some time.</div><div><br></div><div><br>=
</div></div><div class=3D"gmail_extra"><br><div class=3D"gmail_quote">On Fr=
i, Jun 12, 2015 at 11:58 AM, Eric Covener <span dir=3D"ltr">&lt;<a href=3D"=
mailto:covener@gmail.com" target=3D"_blank">covener@gmail.com</a>&gt;</span=
> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;bo=
rder-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div class=3D"g=
mail_quote"><span class=3D""><blockquote class=3D"gmail_quote" style=3D"mar=
gin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div class=3D"g=
mail_quote"><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;bo=
rder-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div class=3D"g=
mail_extra"><div class=3D"gmail_quote"><div>It doesn&#39;t make sense for u=
s to hold up a release when that change has been in the last several releas=
es however. =C2=A0(That&#39;s a high barrier for making progress.)<br></div=
><div><br></div></div></div></div></blockquote></div></blockquote><div>=C2=
=A0</div></span><div>There seems to be a 2.4.8 component and an actual 2.4.=
13 component. Did the 2.4.13 fix make it more frequent.<br><br>(fixing my t=
op-post)</div></div></div>
</blockquote></div><br></div>

--047d7b414172ce261b05185534a5--

From dev-return-82961-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 12 17:26:04 2015
Return-Path: <dev-return-82961-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 79E3D18697
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Jun 2015 17:26:04 +0000 (UTC)
Received: (qmail 94909 invoked by uid 500); 12 Jun 2015 17:26:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94842 invoked by uid 500); 12 Jun 2015 17:26:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94831 invoked by uid 99); 12 Jun 2015 17:26:04 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 17:26:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 411C1C092D
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 17:26:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.011
X-Spam-Level:
X-Spam-Status: No, score=-0.011 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Zv91SMAaJ1xS for <dev@httpd.apache.org>;
	Fri, 12 Jun 2015 17:26:01 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 563FE21544
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 17:26:01 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t5CHPqkH029851
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 19:25:52 +0200 (CEST)
Message-ID: <557B161C.8060309@kippdata.de>
Date: Fri, 12 Jun 2015 19:25:48 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>	<026bf2441049b9ba0a21aca944f1f424@ausics.net>	<FDFA1EA4-A0E9-478E-984B-033122E844E0@cpanel.net>	<CAKUrXK6k92pkqtgA505KV4bQoMy_BBLuB7nUxiYhxT4qERqWPw@mail.gmail.com>	<CALK=YjM9cSw=-Gd0uw_vd22JGgmheKMeuu_gxKUbZ_dUb_0kvQ@mail.gmail.com>	<CALK=YjNtjcWnnbiFOtDyh3020wWrAMyFCOR_vPoda8+oC6_78A@mail.gmail.com> <CACsi250BE7eTVNnLuJg2km8rdv9kn2MGWUm3GOPsGA+g2JtGKw@mail.gmail.com>
In-Reply-To: <CACsi250BE7eTVNnLuJg2km8rdv9kn2MGWUm3GOPsGA+g2JtGKw@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 12.06.2015 um 19:12 schrieb William A Rowe Jr:
> Revision 1678233 - (view) (download) (annotate) - [select for diffs]
> Modified Thu May 7 16:26:43 2015 UTC (5 weeks, 1 day ago) by jim
> File length: 57106 byte(s)
> Diff to previous 1674655 (colored)
> Merge r1676085 from trunk:
>
> consistently output SSLCertificateChainFile deprecation warnings
> Submitted by: kbrand
> Reviewed/backported by: jim
>
> sent the warnings to the console/main server error log, rather than a
> specific server error log file.  Because this is during config parsing,
> it that may have previously been a bit bucket.  So this could be
> perceived as a regression although the logic and log file activity was
> there for some time.

Indeed there was a discussion thread for r1562500 in 2014 during which 
Falco Schwarz reported, that he did *not* get the log message a anywhere 
(neither console, not log files) when he had the directive only in 
VirtualHosts. After the 2.4.13 change it seems to be new, that you get 
the message massively on console, if you have the directive in frequent 
use inside VHosts. That might well be perceived as a regression.

The 2.4.13 change replaced cmd->server in ap_log_error by NULL. The log 
level "APLOG_WARNING|APLOG_STARTUP" was not changed.

Rainer


From dev-return-82962-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 12 17:26:45 2015
Return-Path: <dev-return-82962-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2848F1869B
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Jun 2015 17:26:45 +0000 (UTC)
Received: (qmail 96102 invoked by uid 500); 12 Jun 2015 17:26:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 96029 invoked by uid 500); 12 Jun 2015 17:26:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 96019 invoked by uid 99); 12 Jun 2015 17:26:44 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 17:26:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 3980C1A54FD
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 17:26:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 044YHPefJohB for <dev@httpd.apache.org>;
	Fri, 12 Jun 2015 17:26:30 +0000 (UTC)
Received: from mail-yk0-f170.google.com (mail-yk0-f170.google.com [209.85.160.170])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id D2DAE21544
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 17:26:29 +0000 (UTC)
Received: by ykdx132 with SMTP id x132so3909716ykd.2
        for <dev@httpd.apache.org>; Fri, 12 Jun 2015 10:26:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=PTqriladpbBBD5NHzMRTv8NGmdHKCDlTWd7lfzDQ+Mo=;
        b=Du1tQDCUFaKB5uZX0nBDTVbTBbXOLvF491W0Kc1bZLDa8kZWBPZKlXVyRRN6KyUbFL
         WtQoM+jJiDluNGdku4PCF7kQiTSSPIk8v+JLKtpfm0aO5fIPhZsHdLiGNU+EskQF4RZC
         vLlgnDjJLkMHRsXmMHDzpJzlWluAUeQnuhqlbyWUwWBspQimJ4A1ic2yCSn82eH8qFuP
         ZJMbv01FMVbTavpzY0yduwDPoOH4Qy4/0gVBiQuCrtEiU6vB8oOl8MinBQo7ILD32aTp
         NCn3gqCEzMvjrCb/A2b9ZLKfkhCmoLpKDRAH6kEuTAknDCNSsSRXecDBeohekst2TNid
         h1Ng==
MIME-Version: 1.0
X-Received: by 10.13.245.69 with SMTP id e66mr19587586ywf.128.1434129983291;
 Fri, 12 Jun 2015 10:26:23 -0700 (PDT)
Received: by 10.13.206.195 with HTTP; Fri, 12 Jun 2015 10:26:23 -0700 (PDT)
In-Reply-To: <CALK=YjNtjcWnnbiFOtDyh3020wWrAMyFCOR_vPoda8+oC6_78A@mail.gmail.com>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
	<026bf2441049b9ba0a21aca944f1f424@ausics.net>
	<FDFA1EA4-A0E9-478E-984B-033122E844E0@cpanel.net>
	<CAKUrXK6k92pkqtgA505KV4bQoMy_BBLuB7nUxiYhxT4qERqWPw@mail.gmail.com>
	<CALK=YjM9cSw=-Gd0uw_vd22JGgmheKMeuu_gxKUbZ_dUb_0kvQ@mail.gmail.com>
	<CALK=YjNtjcWnnbiFOtDyh3020wWrAMyFCOR_vPoda8+oC6_78A@mail.gmail.com>
Date: Fri, 12 Jun 2015 13:26:23 -0400
Message-ID: <CAKUrXK4STUxQZGpjZxR9YfNuo+cLawXu5KpiUOQD75oRh8M19A@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=94eb2c0885be3746c005185568c7

--94eb2c0885be3746c005185568c7
Content-Type: text/plain; charset=UTF-8

On Fri, Jun 12, 2015 at 12:58 PM, Eric Covener <covener@gmail.com> wrote:

> It doesn't make sense for us to hold up a release when that change has
>>> been in the last several releases however.  (That's a high barrier for
>>> making progress.)
>>>
>>>
> There seems to be a 2.4.8 component and an actual 2.4.13 component. Did
> the 2.4.13 fix make it more frequent.
>
> (fixing my top-post)
>

Hmmm, I have one situation with a 2.4.11-dev server that spits it out once
for each (similarly configured) vhost, so I may have been unlucky earlier
than some others.



-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--94eb2c0885be3746c005185568c7
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On F=
ri, Jun 12, 2015 at 12:58 PM, Eric Covener <span dir=3D"ltr">&lt;<a href=3D=
"mailto:covener@gmail.com" target=3D"_blank">covener@gmail.com</a>&gt;</spa=
n> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;b=
order-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div class=3D"=
gmail_quote"><span class=3D""><blockquote class=3D"gmail_quote" style=3D"ma=
rgin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div class=3D"=
gmail_quote"><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;b=
order-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div class=3D"=
gmail_extra"><div class=3D"gmail_quote"><div>It doesn&#39;t make sense for =
us to hold up a release when that change has been in the last several relea=
ses however. =C2=A0(That&#39;s a high barrier for making progress.)<br></di=
v><div><br></div></div></div></div></blockquote></div></blockquote><div>=C2=
=A0</div></span><div>There seems to be a 2.4.8 component and an actual 2.4.=
13 component. Did the 2.4.13 fix make it more frequent.<br><br>(fixing my t=
op-post)</div></div></div></blockquote><div><br></div><div>Hmmm, I have one=
 situation with a 2.4.11-dev server that spits it out once for each (simila=
rly configured) vhost, so I may have been unlucky earlier than some others.=
</div><div><br></div></div><br clear=3D"all"><div><br></div>-- <br><div cla=
ss=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien=
...<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyh=
ammock.com/</a><div><br></div></div></div>
</div></div>

--94eb2c0885be3746c005185568c7--

From dev-return-82963-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 12 17:31:16 2015
Return-Path: <dev-return-82963-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D03B1186B4
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Jun 2015 17:31:16 +0000 (UTC)
Received: (qmail 1544 invoked by uid 500); 12 Jun 2015 17:31:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1474 invoked by uid 500); 12 Jun 2015 17:31:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1458 invoked by uid 99); 12 Jun 2015 17:31:16 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 17:31:16 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 948FF1A5527
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 17:31:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id V7umudcbkU_u for <dev@httpd.apache.org>;
	Fri, 12 Jun 2015 17:31:08 +0000 (UTC)
Received: from mail-yk0-f173.google.com (mail-yk0-f173.google.com [209.85.160.173])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id C5A7C43DCE
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 17:31:07 +0000 (UTC)
Received: by ykfr66 with SMTP id r66so20778421ykf.0
        for <dev@httpd.apache.org>; Fri, 12 Jun 2015 10:31:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=mQvDaxwfH9emZWynC0+iaGVv8rge74vH8zlAYi5CpMw=;
        b=TgT/cS/n85lcHlmQ4LuHjtV+KolhFgUn+6Ea4eEMiegzTcjP7w+zPfzFtMv51mnaTr
         r+fmLXShItCWMJDcJHBXRFy36bJFopQEliLjosJs3GH3d9PFomVXNnsKg2uHG0/Q0ACP
         GQvzlk13QkDoNTj7qDI75KPyS3kH3bd6ZATmiXtPf0Gl0XA15mi3+IjQW3oESeuvxTEa
         0O96rzFH0aBzF8cjoc4qpUsQAWYhYkHNss1XQDlFd2VPyW6h9biJR4gCZ+U1tQM37nrn
         9ZWsFgYwm2OmpmJtexsLhjWRUsz9OAQdUqjwBgQhZyKZfLa9ZdwYMOU9p4VsoinFQ4k5
         hPLg==
MIME-Version: 1.0
X-Received: by 10.129.57.131 with SMTP id g125mr20370169ywa.5.1434130267542;
 Fri, 12 Jun 2015 10:31:07 -0700 (PDT)
Received: by 10.13.206.195 with HTTP; Fri, 12 Jun 2015 10:31:07 -0700 (PDT)
In-Reply-To: <557B161C.8060309@kippdata.de>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
	<026bf2441049b9ba0a21aca944f1f424@ausics.net>
	<FDFA1EA4-A0E9-478E-984B-033122E844E0@cpanel.net>
	<CAKUrXK6k92pkqtgA505KV4bQoMy_BBLuB7nUxiYhxT4qERqWPw@mail.gmail.com>
	<CALK=YjM9cSw=-Gd0uw_vd22JGgmheKMeuu_gxKUbZ_dUb_0kvQ@mail.gmail.com>
	<CALK=YjNtjcWnnbiFOtDyh3020wWrAMyFCOR_vPoda8+oC6_78A@mail.gmail.com>
	<CACsi250BE7eTVNnLuJg2km8rdv9kn2MGWUm3GOPsGA+g2JtGKw@mail.gmail.com>
	<557B161C.8060309@kippdata.de>
Date: Fri, 12 Jun 2015 13:31:07 -0400
Message-ID: <CAKUrXK4i9gpbs+RjU9912LuwjbbFex5W-YY1LcO95TB5AKvehA@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a114c7884289a4a051855795b

--001a114c7884289a4a051855795b
Content-Type: text/plain; charset=UTF-8

On Fri, Jun 12, 2015 at 1:25 PM, Rainer Jung <rainer.jung@kippdata.de>
wrote:

> Am 12.06.2015 um 19:12 schrieb William A Rowe Jr:
>
>> Revision 1678233 - (view) (download) (annotate) - [select for diffs]
>> Modified Thu May 7 16:26:43 2015 UTC (5 weeks, 1 day ago) by jim
>> File length: 57106 byte(s)
>> Diff to previous 1674655 (colored)
>> Merge r1676085 from trunk:
>>
>> consistently output SSLCertificateChainFile deprecation warnings
>> Submitted by: kbrand
>> Reviewed/backported by: jim
>>
>> sent the warnings to the console/main server error log, rather than a
>> specific server error log file.  Because this is during config parsing,
>> it that may have previously been a bit bucket.  So this could be
>> perceived as a regression although the logic and log file activity was
>> there for some time.
>>
>
> Indeed there was a discussion thread for r1562500 in 2014 during which
> Falco Schwarz reported, that he did *not* get the log message a anywhere
> (neither console, not log files) when he had the directive only in
> VirtualHosts. After the 2.4.13 change it seems to be new, that you get the
> message massively on console, if you have the directive in frequent use
> inside VHosts. That might well be perceived as a regression.
>
> The 2.4.13 change replaced cmd->server in ap_log_error by NULL. The log
> level "APLOG_WARNING|APLOG_STARTUP" was not changed.
>
> Rainer
>
>
I definitely have the old code and the SPAM...  I wonder if before you
didn't see it if you didn't have vhost-specific logs configured, and now
you see it regardless?

-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a114c7884289a4a051855795b
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On F=
ri, Jun 12, 2015 at 1:25 PM, Rainer Jung <span dir=3D"ltr">&lt;<a href=3D"m=
ailto:rainer.jung@kippdata.de" target=3D"_blank">rainer.jung@kippdata.de</a=
>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 =
0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><span class=3D"">Am 1=
2.06.2015 um 19:12 schrieb William A Rowe Jr:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
Revision 1678233 - (view) (download) (annotate) - [select for diffs]<br>
Modified Thu May 7 16:26:43 2015 UTC (5 weeks, 1 day ago) by jim<br>
File length: 57106 byte(s)<br>
Diff to previous 1674655 (colored)<br>
Merge r1676085 from trunk:<br>
<br>
consistently output SSLCertificateChainFile deprecation warnings<br>
Submitted by: kbrand<br>
Reviewed/backported by: jim<br>
<br>
sent the warnings to the console/main server error log, rather than a<br>
specific server error log file.=C2=A0 Because this is during config parsing=
,<br>
it that may have previously been a bit bucket.=C2=A0 So this could be<br>
perceived as a regression although the logic and log file activity was<br>
there for some time.<br>
</blockquote>
<br></span>
Indeed there was a discussion thread for r1562500 in 2014 during which Falc=
o Schwarz reported, that he did *not* get the log message a anywhere (neith=
er console, not log files) when he had the directive only in VirtualHosts. =
After the 2.4.13 change it seems to be new, that you get the message massiv=
ely on console, if you have the directive in frequent use inside VHosts. Th=
at might well be perceived as a regression.<br>
<br>
The 2.4.13 change replaced cmd-&gt;server in ap_log_error by NULL. The log =
level &quot;APLOG_WARNING|APLOG_STARTUP&quot; was not changed.<span class=
=3D"HOEnZb"><font color=3D"#888888"><br>
<br>
Rainer<br>
<br>
</font></span></blockquote></div><br>I definitely have the old code and the=
 SPAM...=C2=A0 I wonder if before you didn&#39;t see it if you didn&#39;t h=
ave vhost-specific logs configured, and now you see it regardless?</div><di=
v class=3D"gmail_extra"><div><br></div>-- <br><div class=3D"gmail_signature=
"><div dir=3D"ltr">Born in Roswell... married an alien...<br><a href=3D"htt=
p://emptyhammock.com/" target=3D"_blank">http://emptyhammock.com/</a><div><=
br></div></div></div>
</div></div>

--001a114c7884289a4a051855795b--

From dev-return-82964-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 12 17:35:15 2015
Return-Path: <dev-return-82964-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3CA33186D2
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Jun 2015 17:35:15 +0000 (UTC)
Received: (qmail 8225 invoked by uid 500); 12 Jun 2015 17:35:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 8149 invoked by uid 500); 12 Jun 2015 17:35:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 8139 invoked by uid 99); 12 Jun 2015 17:35:14 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 17:35:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 4E5C818221F
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 17:35:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id xEBTBr8OZXa5 for <dev@httpd.apache.org>;
	Fri, 12 Jun 2015 17:35:06 +0000 (UTC)
Received: from mail-yk0-f179.google.com (mail-yk0-f179.google.com [209.85.160.179])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 1492A21544
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 17:35:06 +0000 (UTC)
Received: by ykaz81 with SMTP id z81so20855301yka.3
        for <dev@httpd.apache.org>; Fri, 12 Jun 2015 10:35:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=kdcogZZpcc16BZyVQv6G6CmlI+DPeNWz5JRbqznH73M=;
        b=mjFxsHe/b5CVO0zl1YET2HdxGqg48LXzzZWTD1NgEriQyOe13wPgD3V058sju9XfKb
         0MQBC8tW95Fu9WRSZeeWVjjHQpTzJCDH+lpxHZ6qvjouX0bX3c5H+dMXjHoVbnbCd1b/
         BfDnUuXgPhtNIJZOQLFkKcpZgY5KghLsjI9hYGgWkN+2iyw0YXrorFO8tLBEJWbbkOGO
         3v6NtiGDhgj8ET2ffGs4w7dG3c3TJrUUGq2y2WahzQhiSUwDmyU56s/dby4aqk8u5Htv
         MP/CkihcjYd+GAPQW4fPg0fQ8J2MvGyjBz0gP4CjfK+1zyxUd9aB50rQ0PNMIX2QhUQX
         HkaA==
MIME-Version: 1.0
X-Received: by 10.170.141.4 with SMTP id i4mr20323004ykc.32.1434130505219;
 Fri, 12 Jun 2015 10:35:05 -0700 (PDT)
Received: by 10.13.206.195 with HTTP; Fri, 12 Jun 2015 10:35:05 -0700 (PDT)
In-Reply-To: <CAKUrXK4i9gpbs+RjU9912LuwjbbFex5W-YY1LcO95TB5AKvehA@mail.gmail.com>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
	<026bf2441049b9ba0a21aca944f1f424@ausics.net>
	<FDFA1EA4-A0E9-478E-984B-033122E844E0@cpanel.net>
	<CAKUrXK6k92pkqtgA505KV4bQoMy_BBLuB7nUxiYhxT4qERqWPw@mail.gmail.com>
	<CALK=YjM9cSw=-Gd0uw_vd22JGgmheKMeuu_gxKUbZ_dUb_0kvQ@mail.gmail.com>
	<CALK=YjNtjcWnnbiFOtDyh3020wWrAMyFCOR_vPoda8+oC6_78A@mail.gmail.com>
	<CACsi250BE7eTVNnLuJg2km8rdv9kn2MGWUm3GOPsGA+g2JtGKw@mail.gmail.com>
	<557B161C.8060309@kippdata.de>
	<CAKUrXK4i9gpbs+RjU9912LuwjbbFex5W-YY1LcO95TB5AKvehA@mail.gmail.com>
Date: Fri, 12 Jun 2015 13:35:05 -0400
Message-ID: <CAKUrXK5Y3m6icfWLrZ-JG5UgQiEfKxA11+ToE2_3K1uOtLm4gQ@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11395ee053457c0518558741

--001a11395ee053457c0518558741
Content-Type: text/plain; charset=UTF-8

On Fri, Jun 12, 2015 at 1:31 PM, Jeff Trawick <trawick@gmail.com> wrote:

> On Fri, Jun 12, 2015 at 1:25 PM, Rainer Jung <rainer.jung@kippdata.de>
> wrote:
>
>> Am 12.06.2015 um 19:12 schrieb William A Rowe Jr:
>>
>>> Revision 1678233 - (view) (download) (annotate) - [select for diffs]
>>> Modified Thu May 7 16:26:43 2015 UTC (5 weeks, 1 day ago) by jim
>>> File length: 57106 byte(s)
>>> Diff to previous 1674655 (colored)
>>> Merge r1676085 from trunk:
>>>
>>> consistently output SSLCertificateChainFile deprecation warnings
>>> Submitted by: kbrand
>>> Reviewed/backported by: jim
>>>
>>> sent the warnings to the console/main server error log, rather than a
>>> specific server error log file.  Because this is during config parsing,
>>> it that may have previously been a bit bucket.  So this could be
>>> perceived as a regression although the logic and log file activity was
>>> there for some time.
>>>
>>
>> Indeed there was a discussion thread for r1562500 in 2014 during which
>> Falco Schwarz reported, that he did *not* get the log message a anywhere
>> (neither console, not log files) when he had the directive only in
>> VirtualHosts. After the 2.4.13 change it seems to be new, that you get the
>> message massively on console, if you have the directive in frequent use
>> inside VHosts. That might well be perceived as a regression.
>>
>> The 2.4.13 change replaced cmd->server in ap_log_error by NULL. The log
>> level "APLOG_WARNING|APLOG_STARTUP" was not changed.
>>
>> Rainer
>>
>>
> I definitely have the old code and the SPAM...  I wonder if before you
> didn't see it if you didn't have vhost-specific logs configured, and now
> you see it regardless?
>

so weird:

With the old code, I have globally "LogLevel debug" and in a vhost
"LogLevel warn" ; if I comment out that vhost's "LogLevel" I don't see the
message even though I have ErrorLog in the vhost and *should* inherit the
global LogLevel.


> --
> Born in Roswell... married an alien...
> http://emptyhammock.com/
>
>


-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a11395ee053457c0518558741
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On F=
ri, Jun 12, 2015 at 1:31 PM, Jeff Trawick <span dir=3D"ltr">&lt;<a href=3D"=
mailto:trawick@gmail.com" target=3D"_blank">trawick@gmail.com</a>&gt;</span=
> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;bo=
rder-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div class=3D"g=
mail_extra"><div><div class=3D"h5"><div class=3D"gmail_quote">On Fri, Jun 1=
2, 2015 at 1:25 PM, Rainer Jung <span dir=3D"ltr">&lt;<a href=3D"mailto:rai=
ner.jung@kippdata.de" target=3D"_blank">rainer.jung@kippdata.de</a>&gt;</sp=
an> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;=
border-left:1px #ccc solid;padding-left:1ex"><span>Am 12.06.2015 um 19:12 s=
chrieb William A Rowe Jr:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
Revision 1678233 - (view) (download) (annotate) - [select for diffs]<br>
Modified Thu May 7 16:26:43 2015 UTC (5 weeks, 1 day ago) by jim<br>
File length: 57106 byte(s)<br>
Diff to previous 1674655 (colored)<br>
Merge r1676085 from trunk:<br>
<br>
consistently output SSLCertificateChainFile deprecation warnings<br>
Submitted by: kbrand<br>
Reviewed/backported by: jim<br>
<br>
sent the warnings to the console/main server error log, rather than a<br>
specific server error log file.=C2=A0 Because this is during config parsing=
,<br>
it that may have previously been a bit bucket.=C2=A0 So this could be<br>
perceived as a regression although the logic and log file activity was<br>
there for some time.<br>
</blockquote>
<br></span>
Indeed there was a discussion thread for r1562500 in 2014 during which Falc=
o Schwarz reported, that he did *not* get the log message a anywhere (neith=
er console, not log files) when he had the directive only in VirtualHosts. =
After the 2.4.13 change it seems to be new, that you get the message massiv=
ely on console, if you have the directive in frequent use inside VHosts. Th=
at might well be perceived as a regression.<br>
<br>
The 2.4.13 change replaced cmd-&gt;server in ap_log_error by NULL. The log =
level &quot;APLOG_WARNING|APLOG_STARTUP&quot; was not changed.<span><font c=
olor=3D"#888888"><br>
<br>
Rainer<br>
<br>
</font></span></blockquote></div><br></div></div>I definitely have the old =
code and the SPAM...=C2=A0 I wonder if before you didn&#39;t see it if you =
didn&#39;t have vhost-specific logs configured, and now you see it regardle=
ss?</div></div></blockquote><div><br></div><div>so weird:</div><div><br></d=
iv><div>With the old code, I have globally &quot;LogLevel debug&quot; and i=
n a vhost &quot;LogLevel warn&quot; ; if I comment out that vhost&#39;s &qu=
ot;LogLevel&quot; I don&#39;t see the message even though I have ErrorLog i=
n the vhost and *should* inherit the global LogLevel.</div><div><br></div><=
blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px=
 #ccc solid;padding-left:1ex"><div dir=3D"ltr"><span class=3D""><div class=
=3D"gmail_extra"><div><br></div>-- <br><div><div dir=3D"ltr">Born in Roswel=
l... married an alien...<br><a href=3D"http://emptyhammock.com/" target=3D"=
_blank">http://emptyhammock.com/</a><div><br></div></div></div>
</div></span></div>
</blockquote></div><br><br clear=3D"all"><div><br></div>-- <br><div class=
=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien..=
.<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyham=
mock.com/</a><div><br></div></div></div>
</div></div>

--001a11395ee053457c0518558741--

From dev-return-82965-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 12 17:44:08 2015
Return-Path: <dev-return-82965-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CC0DA18740
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Jun 2015 17:44:08 +0000 (UTC)
Received: (qmail 31819 invoked by uid 500); 12 Jun 2015 17:44:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 31757 invoked by uid 500); 12 Jun 2015 17:44:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 31747 invoked by uid 99); 12 Jun 2015 17:44:08 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 17:44:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id CE83EC092D
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 17:44:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.901
X-Spam-Level: **
X-Spam-Status: No, score=2.901 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id OQcHTSWHu9m8 for <dev@httpd.apache.org>;
	Fri, 12 Jun 2015 17:43:58 +0000 (UTC)
Received: from mail-yk0-f180.google.com (mail-yk0-f180.google.com [209.85.160.180])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 80A2321659
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 17:43:58 +0000 (UTC)
Received: by ykfr66 with SMTP id r66so20924826ykf.0
        for <dev@httpd.apache.org>; Fri, 12 Jun 2015 10:43:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=BaI7CLAyxJ5wiqmQvUD6Dukdo8pC+HYqws/bK0qr4UU=;
        b=eF/48rC7y1FoHw3G3tGrJ68iUxg7d9cGM3rloES4P/nWzc9rrX1XTuWp4k09mbwJns
         S//mMcD7kWeSFFmtJplGiIBp8dWDoZ6tNa7HkA6OilPfBFmvjHENw5M7i+T54s2ciJ/c
         X+DiXknoxQLmh/O8MvKx8jSnpZ+NLcLPBS+gEszg1XOErL3vWiQzdOODeR8u/5nx95Ke
         rcVN9wxrp2B5dy+BNaFfO3uWq6GXK//WXVlm7ZCuceGsV7l4e8tMvXwLFMfCh4Oyad4O
         cZtsZ8mBJsxPlB/UX9K3q5jjf/XKHUYbwOTBG+IrxIrmwR54/A7vdLhbV2DnAHVp0/0u
         tllw==
MIME-Version: 1.0
X-Received: by 10.13.243.65 with SMTP id c62mr19974282ywf.114.1434131031790;
 Fri, 12 Jun 2015 10:43:51 -0700 (PDT)
Received: by 10.13.206.195 with HTTP; Fri, 12 Jun 2015 10:43:51 -0700 (PDT)
In-Reply-To: <CAKUrXK5Y3m6icfWLrZ-JG5UgQiEfKxA11+ToE2_3K1uOtLm4gQ@mail.gmail.com>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
	<026bf2441049b9ba0a21aca944f1f424@ausics.net>
	<FDFA1EA4-A0E9-478E-984B-033122E844E0@cpanel.net>
	<CAKUrXK6k92pkqtgA505KV4bQoMy_BBLuB7nUxiYhxT4qERqWPw@mail.gmail.com>
	<CALK=YjM9cSw=-Gd0uw_vd22JGgmheKMeuu_gxKUbZ_dUb_0kvQ@mail.gmail.com>
	<CALK=YjNtjcWnnbiFOtDyh3020wWrAMyFCOR_vPoda8+oC6_78A@mail.gmail.com>
	<CACsi250BE7eTVNnLuJg2km8rdv9kn2MGWUm3GOPsGA+g2JtGKw@mail.gmail.com>
	<557B161C.8060309@kippdata.de>
	<CAKUrXK4i9gpbs+RjU9912LuwjbbFex5W-YY1LcO95TB5AKvehA@mail.gmail.com>
	<CAKUrXK5Y3m6icfWLrZ-JG5UgQiEfKxA11+ToE2_3K1uOtLm4gQ@mail.gmail.com>
Date: Fri, 12 Jun 2015 13:43:51 -0400
Message-ID: <CAKUrXK539QQrTyFTpCQEO0DXKYgFaEBzPe_qM_D0Cha1jja70A@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=94eb2c036328b617f7051855a690

--94eb2c036328b617f7051855a690
Content-Type: text/plain; charset=UTF-8

On Fri, Jun 12, 2015 at 1:35 PM, Jeff Trawick <trawick@gmail.com> wrote:

> On Fri, Jun 12, 2015 at 1:31 PM, Jeff Trawick <trawick@gmail.com> wrote:
>
>> On Fri, Jun 12, 2015 at 1:25 PM, Rainer Jung <rainer.jung@kippdata.de>
>> wrote:
>>
>>> Am 12.06.2015 um 19:12 schrieb William A Rowe Jr:
>>>
>>>> Revision 1678233 - (view) (download) (annotate) - [select for diffs]
>>>> Modified Thu May 7 16:26:43 2015 UTC (5 weeks, 1 day ago) by jim
>>>> File length: 57106 byte(s)
>>>> Diff to previous 1674655 (colored)
>>>> Merge r1676085 from trunk:
>>>>
>>>> consistently output SSLCertificateChainFile deprecation warnings
>>>> Submitted by: kbrand
>>>> Reviewed/backported by: jim
>>>>
>>>> sent the warnings to the console/main server error log, rather than a
>>>> specific server error log file.  Because this is during config parsing,
>>>> it that may have previously been a bit bucket.  So this could be
>>>> perceived as a regression although the logic and log file activity was
>>>> there for some time.
>>>>
>>>
>>> Indeed there was a discussion thread for r1562500 in 2014 during which
>>> Falco Schwarz reported, that he did *not* get the log message a anywhere
>>> (neither console, not log files) when he had the directive only in
>>> VirtualHosts. After the 2.4.13 change it seems to be new, that you get the
>>> message massively on console, if you have the directive in frequent use
>>> inside VHosts. That might well be perceived as a regression.
>>>
>>> The 2.4.13 change replaced cmd->server in ap_log_error by NULL. The log
>>> level "APLOG_WARNING|APLOG_STARTUP" was not changed.
>>>
>>> Rainer
>>>
>>>
>> I definitely have the old code and the SPAM...  I wonder if before you
>> didn't see it if you didn't have vhost-specific logs configured, and now
>> you see it regardless?
>>
>
> so weird:
>
> With the old code, I have globally "LogLevel debug" and in a vhost
> "LogLevel warn" ; if I comment out that vhost's "LogLevel" I don't see the
> message even though I have ErrorLog in the vhost and *should* inherit the
> global LogLevel.
>
>
>> --
>> Born in Roswell... married an alien...
>> http://emptyhammock.com/
>>
>>
>
>
> --
> Born in Roswell... married an alien...
> http://emptyhammock.com/
>
>
I'm a flip-flopper who didn't understand the subtlety of this before...  I
say "regression", though I think it is acceptable to have a tiny
recommended patch for those affected.

As for why one or more messages hits the console for something to be dealt
with by the time you upgrade to an as-yet-non-existing future release
stream, I don't have any justification.

-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--94eb2c036328b617f7051855a690
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On F=
ri, Jun 12, 2015 at 1:35 PM, Jeff Trawick <span dir=3D"ltr">&lt;<a href=3D"=
mailto:trawick@gmail.com" target=3D"_blank">trawick@gmail.com</a>&gt;</span=
> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;bo=
rder-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div class=3D"g=
mail_extra"><div class=3D"gmail_quote"><div><div class=3D"h5">On Fri, Jun 1=
2, 2015 at 1:31 PM, Jeff Trawick <span dir=3D"ltr">&lt;<a href=3D"mailto:tr=
awick@gmail.com" target=3D"_blank">trawick@gmail.com</a>&gt;</span> wrote:<=
br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left=
:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div class=3D"gmail_extr=
a"><div><div><div class=3D"gmail_quote">On Fri, Jun 12, 2015 at 1:25 PM, Ra=
iner Jung <span dir=3D"ltr">&lt;<a href=3D"mailto:rainer.jung@kippdata.de" =
target=3D"_blank">rainer.jung@kippdata.de</a>&gt;</span> wrote:<br><blockqu=
ote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc s=
olid;padding-left:1ex"><span>Am 12.06.2015 um 19:12 schrieb William A Rowe =
Jr:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
Revision 1678233 - (view) (download) (annotate) - [select for diffs]<br>
Modified Thu May 7 16:26:43 2015 UTC (5 weeks, 1 day ago) by jim<br>
File length: 57106 byte(s)<br>
Diff to previous 1674655 (colored)<br>
Merge r1676085 from trunk:<br>
<br>
consistently output SSLCertificateChainFile deprecation warnings<br>
Submitted by: kbrand<br>
Reviewed/backported by: jim<br>
<br>
sent the warnings to the console/main server error log, rather than a<br>
specific server error log file.=C2=A0 Because this is during config parsing=
,<br>
it that may have previously been a bit bucket.=C2=A0 So this could be<br>
perceived as a regression although the logic and log file activity was<br>
there for some time.<br>
</blockquote>
<br></span>
Indeed there was a discussion thread for r1562500 in 2014 during which Falc=
o Schwarz reported, that he did *not* get the log message a anywhere (neith=
er console, not log files) when he had the directive only in VirtualHosts. =
After the 2.4.13 change it seems to be new, that you get the message massiv=
ely on console, if you have the directive in frequent use inside VHosts. Th=
at might well be perceived as a regression.<br>
<br>
The 2.4.13 change replaced cmd-&gt;server in ap_log_error by NULL. The log =
level &quot;APLOG_WARNING|APLOG_STARTUP&quot; was not changed.<span><font c=
olor=3D"#888888"><br>
<br>
Rainer<br>
<br>
</font></span></blockquote></div><br></div></div>I definitely have the old =
code and the SPAM...=C2=A0 I wonder if before you didn&#39;t see it if you =
didn&#39;t have vhost-specific logs configured, and now you see it regardle=
ss?</div></div></blockquote><div><br></div></div></div><div>so weird:</div>=
<div><br></div><div>With the old code, I have globally &quot;LogLevel debug=
&quot; and in a vhost &quot;LogLevel warn&quot; ; if I comment out that vho=
st&#39;s &quot;LogLevel&quot; I don&#39;t see the message even though I hav=
e ErrorLog in the vhost and *should* inherit the global LogLevel.</div><spa=
n class=3D""><div><br></div><blockquote class=3D"gmail_quote" style=3D"marg=
in:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"=
><span><div class=3D"gmail_extra"><div><br></div>-- <br><div><div dir=3D"lt=
r">Born in Roswell... married an alien...<br><a href=3D"http://emptyhammock=
.com/" target=3D"_blank">http://emptyhammock.com/</a><div><br></div></div><=
/div>
</div></span></div>
</blockquote></span></div><span class=3D""><br><br clear=3D"all"><div><br><=
/div>-- <br><div><div dir=3D"ltr">Born in Roswell... married an alien...<br=
><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyhammock=
.com/</a><div><br></div></div></div>
</span></div></div>
</blockquote></div><br>I&#39;m a flip-flopper who didn&#39;t understand the=
 subtlety of this before...=C2=A0 I say &quot;regression&quot;, though I th=
ink it is acceptable to have a tiny recommended patch for those affected.</=
div><div class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">As for =
why one or more messages hits the console for something to be dealt with by=
 the time you upgrade to an as-yet-non-existing future release stream, I do=
n&#39;t have any justification.<br clear=3D"all"><div><br></div>-- <br><div=
 class=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an a=
lien...<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://em=
ptyhammock.com/</a><div><br></div></div></div>
</div></div>

--94eb2c036328b617f7051855a690--

From dev-return-82966-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 12 21:38:25 2015
Return-Path: <dev-return-82966-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3E6B518292
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 12 Jun 2015 21:38:25 +0000 (UTC)
Received: (qmail 50722 invoked by uid 500); 12 Jun 2015 21:38:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50658 invoked by uid 500); 12 Jun 2015 21:38:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50648 invoked by uid 99); 12 Jun 2015 21:38:24 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 12 Jun 2015 21:38:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 883061A5515
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 21:38:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id ec9ktHEZNohA for <dev@httpd.apache.org>;
	Fri, 12 Jun 2015 21:38:12 +0000 (UTC)
Received: from resqmta-ch2-01v.sys.comcast.net (resqmta-ch2-01v.sys.comcast.net [69.252.207.33])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 842E824D0F
	for <dev@httpd.apache.org>; Fri, 12 Jun 2015 21:38:11 +0000 (UTC)
Received: from resomta-ch2-07v.sys.comcast.net ([69.252.207.103])
	by resqmta-ch2-01v.sys.comcast.net with comcast
	id fZdt1q0062EPM3101Ze46a; Fri, 12 Jun 2015 21:38:04 +0000
Received: from [192.168.199.4] ([71.200.70.209])
	by resomta-ch2-07v.sys.comcast.net with comcast
	id fZe31q00Q4Wuz8v01Ze4j4; Fri, 12 Jun 2015 21:38:04 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
Date: Fri, 12 Jun 2015 17:38:03 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <B1CB998B-E816-4861-9C2A-B66E86D67F8B@jaguNET.com>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1434145084;
	bh=Fj90p9mfiaW/vfcvgZ22700NYvaPgUG/GfLOup4JSBQ=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=WWnR/E2d5VsFXeB9GBGwaRsIdoxISsMbo1405MsMNz+G6e7t375YqWgMfxew8ynAr
	 jgvVq2acHn/0L4qlhP379yySaDp4ed0D14N6PKbbm3/YA7RvWCa49PrEePACEbQWAE
	 gB7U6g/2bUcORkpi5lK2KqdEdteGYvfY7p1blQP7Uv9AY1dfg91v71JbCGNxCVFyvV
	 j2w0VjWm0KAbNW+5Dy6bbywZ+ZxRf2to9ZifIxwHj70dqFyoKLj9iu0pdVTqAo3aKb
	 Y97naCrwhyyb5SP1QRl+t0NlG75xuDaZlQE75gcFlf12P4M+Pf168CSJ44Z9UuhjbT
	 g6JG9SamT4FyA==


> On Jun 11, 2015, at 10:08 AM, Jim Jagielski <jim@jaguNET.com> wrote:
> 
> The pre-release test tarballs for Apache httpd 2.4.14 can be found
> at the usual place:
> 
> 	http://httpd.apache.org/dev/dist/
> 
> I'm calling a VOTE on releasing these as Apache httpd 2.4.14 GA.
> 
> [X] +1: Good to go


Go for release:

  o OSX 10.10.3/Xcode 6.3.2, x86_64
  o Fedora 20, x86_64
  o CentOS 6, x86_64
  o FreeBSD 10, x86_64

From dev-return-82967-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 13 06:32:10 2015
Return-Path: <dev-return-82967-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5039B18DD9
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Jun 2015 06:32:10 +0000 (UTC)
Received: (qmail 621 invoked by uid 500); 13 Jun 2015 06:32:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 561 invoked by uid 500); 13 Jun 2015 06:32:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 551 invoked by uid 99); 13 Jun 2015 06:32:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 06:32:09 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.170 as permitted sender)
Received: from [209.85.223.170] (HELO mail-ie0-f170.google.com) (209.85.223.170)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 06:29:55 +0000
Received: by iecrd14 with SMTP id rd14so4293737iec.3
        for <dev@httpd.apache.org>; Fri, 12 Jun 2015 23:31:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=faZcvc3mmvD3msPZtIRebnV6jPLaVwNEl/ykZLS6bEs=;
        b=A7Ww6+lVDnvVQ3jA3A9vGGxY3eKv52mS5RD7ExKh57UhxiYI4jyXvMSP+ppnmIf7BY
         1lU1V5veqKSO7eIM+ocZI5ZARi8XbRheSxjJMRNtyFMGBy08E6ovh4xy4IApQad3udxu
         eRd9v4+ccmLeKQi2MhZHWw9cl0mWDj0kMQ6R6avZ64q62H7/gpCp7qvlZHwIBVx+MLtO
         LevNYvLjmmdzylsieSX4OieIcHSIzTnrCk0xksGF1+vSbRgry3/toN97sd0I7L7e9S/1
         gzVgQqeDxzUDsKm/iq3feEjCk+RGkijNvuDEI6SW7mOSqaBth3rM3EF3626w6xZLnrj6
         hVTA==
MIME-Version: 1.0
X-Received: by 10.43.66.5 with SMTP id xo5mr19811436icb.57.1434177103435; Fri,
 12 Jun 2015 23:31:43 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Fri, 12 Jun 2015 23:31:43 -0700 (PDT)
In-Reply-To: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
Date: Sat, 13 Jun 2015 08:31:43 +0200
Message-ID: <CAKQ1sVM5P8xxG9mZzNU0AEqi0A=NMGZ5S-gyvTTu7fhwQehwuA@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Jun 11, 2015 at 4:08 PM, Jim Jagielski <jim@jagunet.com> wrote:
>
> [X] +1: Good to go

No regression with event and worker, included apr-1.5.2 and apr-util-1.5.4.

Tested systems:

* Debian 8 - amd64
* Debian 7 - amd64
* Debian 6 - amd64
* Debian 6 - amd64 - mixed 32/64bit system/kernel:

Thanks Jim,
Yann.

From dev-return-82968-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 13 10:11:16 2015
Return-Path: <dev-return-82968-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1D7BD17305
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Jun 2015 10:11:16 +0000 (UTC)
Received: (qmail 73122 invoked by uid 500); 13 Jun 2015 10:11:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 73045 invoked by uid 500); 13 Jun 2015 10:11:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 73035 invoked by uid 99); 13 Jun 2015 10:11:15 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 10:11:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 3D275182204
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 10:11:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id uYyyolP3khOx for <dev@httpd.apache.org>;
	Sat, 13 Jun 2015 10:11:02 +0000 (UTC)
Received: from mail-yh0-f44.google.com (mail-yh0-f44.google.com [209.85.213.44])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id A287E43BAB
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 10:11:02 +0000 (UTC)
Received: by yhpn97 with SMTP id n97so21449661yhp.0
        for <dev@httpd.apache.org>; Sat, 13 Jun 2015 03:10:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=BLocV4SKEFAO9HYSZAHLMIvlTIyS3+1jo28L02qBOnQ=;
        b=YKNCiZnYnoeuyDpI8F6OeIRumcpq5cZcb7j9Gt1nCLgrCm0a7KrhVBb1hzPRhqsyJz
         kN3LcuNXklQ1EVTiA+JW2W86yrsOeAPFfEL3lOKXUw6IfqgjyEmYvsa2XINt8j8QdG4J
         ILadJ706FfuPBLaVN2pVUS9vD+vKA29+ouW7wWQuu2stYiQTXAqpC2LMK+qw0ERoP4g9
         b5onYvhepy0c3wQoUJDEqnWbr9K90XM7ddXIf+RHqus98S7eFVrsgu/3oT7D5HM86Ys6
         bC9HF11mo86oVp23bk5PgS6ldf4XLPR6umD7wK5NRfKEKK6bQ/nlMLUaMQO115ztVjyv
         DHFA==
MIME-Version: 1.0
X-Received: by 10.170.77.194 with SMTP id t185mr23861558ykt.44.1434190256192;
 Sat, 13 Jun 2015 03:10:56 -0700 (PDT)
Received: by 10.13.193.69 with HTTP; Sat, 13 Jun 2015 03:10:56 -0700 (PDT)
In-Reply-To: <CAN9c_NSb2Vo+n9nhD=+0b687zbnagGNUqpSZAFBRwvJFfp6s9A@mail.gmail.com>
References: <CAN9c_NSb2Vo+n9nhD=+0b687zbnagGNUqpSZAFBRwvJFfp6s9A@mail.gmail.com>
Date: Sat, 13 Jun 2015 12:10:56 +0200
Message-ID: <CAN9c_NQCaHQpwX+5WsvvCS=g3mdQY-hQV_YruOOZ7=TY3LZ9=w@mail.gmail.com>
Subject: Re: Apache-Test pre-requisites
From: Michael Felt <mamfelt@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a113a4cf4c2c4f905186370bc

--001a113a4cf4c2c4f905186370bc
Content-Type: text/plain; charset=UTF-8

Just a link to the "Howto setup Apache::Test" would be sufficient. The
README in the project sends me to mod_perl info, not a list of perl mods
needed to be added -- and unfortunately the Apache::Test does not "include"
a dependency list either - or CPAN could do this all automatically.

On Tue, Jun 9, 2015 at 9:55 PM, Michael Felt <mamfelt@gmail.com> wrote:

> My apologies for asking - but I am sure there are extra perl mods that
> need to be installed before Apache-Test will operate as expected.
>
> Unfortunately, it does not seem to demand them, and I have forgotten the
> extra mods I loaded to get 100's of tests compared to the 13 I am getting
> now.
>
> I had hoped CPAN would tell me, but unfortunately, no.
>
> cpan> install Apache::Test
> CPAN: Storable loaded ok
> Fetching with LWP:
>   ftp://download.xs4all.nl/pub/mirror/CPAN/authors/01mailrc.txt.gz
> Going to read /var/perl/.cpan/sources/authors/01mailrc.txt.gz
> Fetching with LWP:
>
> ftp://download.xs4all.nl/pub/mirror/CPAN/modules/02packages.details.txt.gz
> Going to read /var/perl/.cpan/sources/modules/02packages.details.txt.gz
>   Database was generated on Tue, 09 Jun 2015 17:17:02 GMT
>
>   There's a new CPAN.pm version (v2.10) available!
>   [Current version is v1.7601]
>   You might want to try
>     install Bundle::CPAN
>     reload cpan
>   without quitting the current session. It should be a seamless upgrade
>   while we are running...
>
> Fetching with LWP:
>   ftp://download.xs4all.nl/pub/mirror/CPAN/modules/03modlist.data.gz
> Going to read /var/perl/.cpan/sources/modules/03modlist.data.gz
> Going to write /var/perl/.cpan/Metadata
> Apache::Test is up to date.
>
> Reminders are welcome!
>
> Michael
>
> Tests are ending with:
> Failed 2/13 test scripts, 84.62% okay. 7/43 subtests failed, 83.72% okay.
>
> whereas before I was gettign numbers such as:
>
> Failed 18/109 test programs. 247/4555 subtests failed.
>
> And I have also had all test successful... But do not have those saved.
>
> Mainly I am looking at 2/13 and 7/43 compared to 18/109 and 247/4555
>
>

--001a113a4cf4c2c4f905186370bc
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Just a link to the &quot;Howto setup Apache::Test&quot; wo=
uld be sufficient. The README in the project sends me to mod_perl info, not=
 a list of perl mods needed to be added -- and unfortunately the Apache::Te=
st does not &quot;include&quot; a dependency list either - or CPAN could do=
 this all automatically.<br></div><div class=3D"gmail_extra"><br><div class=
=3D"gmail_quote">On Tue, Jun 9, 2015 at 9:55 PM, Michael Felt <span dir=3D"=
ltr">&lt;<a href=3D"mailto:mamfelt@gmail.com" target=3D"_blank">mamfelt@gma=
il.com</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"=
margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir=3D"=
ltr"><div><div><div><div><div><div><div><div>My apologies for asking - but =
I am sure there are extra perl mods that need to be installed before Apache=
-Test will operate as expected.<br><br></div>Unfortunately, it does not see=
m to demand them, and I have forgotten the extra mods I loaded to get 100&#=
39;s of tests compared to the 13 I am getting now.<br><br></div>I had hoped=
 CPAN would tell me, but unfortunately, no.<br><br>cpan&gt; install Apache:=
:Test<br>CPAN: Storable loaded ok<br>Fetching with LWP:<br>=C2=A0 <a href=
=3D"ftp://download.xs4all.nl/pub/mirror/CPAN/authors/01mailrc.txt.gz" targe=
t=3D"_blank">ftp://download.xs4all.nl/pub/mirror/CPAN/authors/01mailrc.txt.=
gz</a><br>Going to read /var/perl/.cpan/sources/authors/01mailrc.txt.gz<br>=
Fetching with LWP:<br>=C2=A0 <a href=3D"ftp://download.xs4all.nl/pub/mirror=
/CPAN/modules/02packages.details.txt.gz" target=3D"_blank">ftp://download.x=
s4all.nl/pub/mirror/CPAN/modules/02packages.details.txt.gz</a><br>Going to =
read /var/perl/.cpan/sources/modules/02packages.details.txt.gz<br>=C2=A0 Da=
tabase was generated on Tue, 09 Jun 2015 17:17:02 GMT<br><br>=C2=A0 There&#=
39;s a new CPAN.pm version (v2.10) available!<br>=C2=A0 [Current version is=
 v1.7601]<br>=C2=A0 You might want to try<br>=C2=A0=C2=A0=C2=A0 install Bun=
dle::CPAN<br>=C2=A0=C2=A0=C2=A0 reload cpan<br>=C2=A0 without quitting the =
current session. It should be a seamless upgrade<br>=C2=A0 while we are run=
ning...<br><br>Fetching with LWP:<br>=C2=A0 <a href=3D"ftp://download.xs4al=
l.nl/pub/mirror/CPAN/modules/03modlist.data.gz" target=3D"_blank">ftp://dow=
nload.xs4all.nl/pub/mirror/CPAN/modules/03modlist.data.gz</a><br>Going to r=
ead /var/perl/.cpan/sources/modules/03modlist.data.gz<br>Going to write /va=
r/perl/.cpan/Metadata<br>Apache::Test is up to date.<br><br></div>Reminders=
 are welcome!<br><br></div>Michael<br><br></div>Tests are ending with:<br>F=
ailed 2/13 test scripts, 84.62% okay. 7/43 subtests failed, 83.72% okay.<br=
><br></div>whereas before I was gettign numbers such as:<br><br>Failed 18/1=
09 test programs. 247/4555 subtests failed.<br><br></div>And I have also ha=
d all test successful... But do not have those saved.<br><br></div>Mainly I=
 am looking at 2/13 and 7/43 compared to 18/109 and 247/4555<br><div><div><=
br></div></div></div>
</blockquote></div><br></div>

--001a113a4cf4c2c4f905186370bc--

From dev-return-82969-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 13 10:23:35 2015
Return-Path: <dev-return-82969-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5075817335
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Jun 2015 10:23:35 +0000 (UTC)
Received: (qmail 87712 invoked by uid 500); 13 Jun 2015 10:23:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 87633 invoked by uid 500); 13 Jun 2015 10:23:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 87622 invoked by uid 99); 13 Jun 2015 10:23:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 10:23:33 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rainer.jung@kippdata.de designates 195.227.30.149 as permitted sender)
Received: from [195.227.30.149] (HELO mailserver.kippdata.de) (195.227.30.149)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 10:21:20 +0000
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t5DAN73V005868
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 12:23:07 +0200 (CEST)
Message-ID: <557C0486.2090900@kippdata.de>
Date: Sat, 13 Jun 2015 12:23:02 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: Apache-Test pre-requisites
References: <CAN9c_NSb2Vo+n9nhD=+0b687zbnagGNUqpSZAFBRwvJFfp6s9A@mail.gmail.com> <CAN9c_NQCaHQpwX+5WsvvCS=g3mdQY-hQV_YruOOZ7=TY3LZ9=w@mail.gmail.com>
In-Reply-To: <CAN9c_NQCaHQpwX+5WsvvCS=g3mdQY-hQV_YruOOZ7=TY3LZ9=w@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Michael,

Am 13.06.2015 um 12:10 schrieb Michael Felt:
> Just a link to the "Howto setup Apache::Test" would be sufficient. The
> README in the project sends me to mod_perl info, not a list of perl mods
> needed to be added -- and unfortunately the Apache::Test does not
> "include" a dependency list either - or CPAN could do this all
> automatically.

Try cpan command

install Bundle::ApacheTest

to install prerequisites.

See also

http://search.cpan.org/~shay/Apache-Test-1.39/lib/Bundle/ApacheTest.pm

Regards,

Rainer

> On Tue, Jun 9, 2015 at 9:55 PM, Michael Felt <mamfelt@gmail.com
> <mailto:mamfelt@gmail.com>> wrote:
>
>     My apologies for asking - but I am sure there are extra perl mods
>     that need to be installed before Apache-Test will operate as expected.
>
>     Unfortunately, it does not seem to demand them, and I have forgotten
>     the extra mods I loaded to get 100's of tests compared to the 13 I
>     am getting now.
>
>     I had hoped CPAN would tell me, but unfortunately, no.
>
>     cpan> install Apache::Test
>     CPAN: Storable loaded ok
>     Fetching with LWP:
>     ftp://download.xs4all.nl/pub/mirror/CPAN/authors/01mailrc.txt.gz
>     Going to read /var/perl/.cpan/sources/authors/01mailrc.txt.gz
>     Fetching with LWP:
>     ftp://download.xs4all.nl/pub/mirror/CPAN/modules/02packages.details.txt.gz
>     Going to read /var/perl/.cpan/sources/modules/02packages.details.txt.gz
>        Database was generated on Tue, 09 Jun 2015 17:17:02 GMT
>
>        There's a new CPAN.pm version (v2.10) available!
>        [Current version is v1.7601]
>        You might want to try
>          install Bundle::CPAN
>          reload cpan
>        without quitting the current session. It should be a seamless upgrade
>        while we are running...
>
>     Fetching with LWP:
>     ftp://download.xs4all.nl/pub/mirror/CPAN/modules/03modlist.data.gz
>     Going to read /var/perl/.cpan/sources/modules/03modlist.data.gz
>     Going to write /var/perl/.cpan/Metadata
>     Apache::Test is up to date.
>
>     Reminders are welcome!
>
>     Michael
>
>     Tests are ending with:
>     Failed 2/13 test scripts, 84.62% okay. 7/43 subtests failed, 83.72%
>     okay.
>
>     whereas before I was gettign numbers such as:
>
>     Failed 18/109 test programs. 247/4555 subtests failed.
>
>     And I have also had all test successful... But do not have those saved.
>
>     Mainly I am looking at 2/13 and 7/43 compared to 18/109 and 247/4555

From dev-return-82970-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 13 10:27:12 2015
Return-Path: <dev-return-82970-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 76C8617348
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Jun 2015 10:27:12 +0000 (UTC)
Received: (qmail 90845 invoked by uid 500); 13 Jun 2015 10:27:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 90774 invoked by uid 500); 13 Jun 2015 10:27:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 90764 invoked by uid 99); 13 Jun 2015 10:27:11 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 10:27:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 91151182204
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 10:27:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id UQPGPi5qndON for <dev@httpd.apache.org>;
	Sat, 13 Jun 2015 10:27:02 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id C329C21659
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 10:27:01 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t5DAQx6b005890
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 12:27:00 +0200 (CEST)
Message-ID: <557C056F.5060802@kippdata.de>
Date: Sat, 13 Jun 2015 12:26:55 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
Reply-To: dev@httpd.apache.org
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: Apache-Test pre-requisites
References: <CAN9c_NSb2Vo+n9nhD=+0b687zbnagGNUqpSZAFBRwvJFfp6s9A@mail.gmail.com> <CAN9c_NQCaHQpwX+5WsvvCS=g3mdQY-hQV_YruOOZ7=TY3LZ9=w@mail.gmail.com> <557C0486.2090900@kippdata.de>
In-Reply-To: <557C0486.2090900@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 13.06.2015 um 12:23 schrieb Rainer Jung:
> Hi Michael,
>
> Am 13.06.2015 um 12:10 schrieb Michael Felt:
>> Just a link to the "Howto setup Apache::Test" would be sufficient. The
>> README in the project sends me to mod_perl info, not a list of perl mods
>> needed to be added -- and unfortunately the Apache::Test does not
>> "include" a dependency list either - or CPAN could do this all
>> automatically.
>
> Try cpan command
>
> install Bundle::ApacheTest
>
> to install prerequisites.
>
> See also
>
> http://search.cpan.org/~shay/Apache-Test-1.39/lib/Bundle/ApacheTest.pm

There's some more info in the README file you can find after checking out

http://svn.apache.org/repos/asf/httpd/test/framework/trunk/

or browsing via

http://svn.apache.org/viewvc/httpd/test/framework/trunk/

Regards,

Rainer

From dev-return-82971-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 13 11:34:01 2015
Return-Path: <dev-return-82971-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5E21F17442
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Jun 2015 11:34:01 +0000 (UTC)
Received: (qmail 63624 invoked by uid 500); 13 Jun 2015 11:34:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63550 invoked by uid 500); 13 Jun 2015 11:34:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63540 invoked by uid 99); 13 Jun 2015 11:34:00 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 11:34:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5E52B1A5591
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 11:34:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.474
X-Spam-Level: **
X-Spam-Status: No, score=2.474 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_BADIPHTTP=2, RDNS_DYNAMIC=0.363, SPF_HELO_PASS=-0.001,
	SPF_PASS=-0.001, STOX_REPLY_TYPE=0.212, WEIRD_PORT=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id G4P3f4KWjbcl for <dev@httpd.apache.org>;
	Sat, 13 Jun 2015 11:33:59 +0000 (UTC)
Received: from land10web.com (a80-101-236-247.adsl.xs4all.nl [80.101.236.247])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 9F4A424B1A
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 11:33:58 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1434195253;
	bh=IQ4967PdY5FzpYHBiR0fYJCQ/co4FUJSx1Oode3b/9I=;
	h=From:To:References:In-Reply-To:Subject:Date;
	b=Od69lkXg720mPKHQfgXUpw5tEKZbwFk8XAFeHrMx0Nnw5LwAhchPCya5kHXYPYTie
	 jI1g0rrfXxYus/vLLvAZ3pmX9zrS2AHLHYgk82VSMHWSSGV90SVyHwoyWl/h14kwWz
	 qVGpI7Rl3+7OY3Ap9LVPmlq1VExStRlwd0PtX24c=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <C8CFFE6DEF254EC2BBC171776451AFAA@father>
From: "Steffen" <info@apachelounge.com>
To: <dev@httpd.apache.org>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
In-Reply-To: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
Date: Sat, 13 Jun 2015 13:33:59 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

Regression: All works fine except a Proxy Pass  to Sambar server, was 
working ok with 2.4.12.

ProxyPasses to other servers the Sambar works fine.

ProxyPass         /sysadmin http://127.0.0.1:81/sysadmin
ProxyPassReverse /sysadmin http://127.0.0.1:81/sysadmin

Calling with http://127.0.0.1:8080/sysadmin/ gives AH01110: error reading 
response :

[Sat Jun 13 13:23:08.010826 2015] [authz_core:debug] [pid 5684:tid 1128] 
mod_authz_core.c(834): [client ::1:51072] AH01628: authorization result: 
granted (no directives)
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128] 
mod_proxy.c(1157): [client ::1:51072] AH01143: Running scheme http handler 
(attempt 0)
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128] 
proxy_util.c(2145): AH00942: HTTP: has acquired connection for (127.0.0.1)
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128] 
proxy_util.c(2199): [client ::1:51072] AH00944: connecting 
http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128] 
proxy_util.c(2408): [client ::1:51072] AH00947: connected /sysadmin/ to 
127.0.0.1:81
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128] 
proxy_util.c(2782): AH02824: HTTP: connection established with 127.0.0.1:81 
(127.0.0.1)
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128] 
proxy_util.c(2936): AH00962: HTTP: connection complete to 127.0.0.1:81 
(127.0.0.1)
[Sat Jun 13 13:23:08.010826 2015] [proxy_http:error] [pid 5684:tid 1128] 
(20014)Internal error (specific information not available): [client 
::1:51072] AH01110: error reading response
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128] 
proxy_util.c(2160): AH00943: HTTP: has released connection for (127.0.0.1)
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128] 
proxy_util.c(2878): [remote 127.0.0.1:81] AH02642: proxy: connection 
shutdown



-----Original Message----- 
From: Jim Jagielski
Sent: Thursday, June 11, 2015 4:08 PM Newsgroups: gmane.comp.apache.devel
To: httpd
Subject: [VOTE] Release Apache httpd 2.4.14 as GA

The pre-release test tarballs for Apache httpd 2.4.14 can be found
at the usual place:

http://httpd.apache.org/dev/dist/

I'm calling a VOTE on releasing these as Apache httpd 2.4.14 GA.

[ ] +1: Good to go
[ ] +0: meh
[ ] -1: Danger Will Robinson. And why.

Vote will last the normal 72 hrs.

NOTE: The *-deps are only there for convenience.

Thx! 


From dev-return-82972-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 13 12:32:04 2015
Return-Path: <dev-return-82972-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 088161751E
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Jun 2015 12:32:04 +0000 (UTC)
Received: (qmail 2491 invoked by uid 500); 13 Jun 2015 12:32:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 2418 invoked by uid 500); 13 Jun 2015 12:32:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 2408 invoked by uid 99); 13 Jun 2015 12:32:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 12:32:03 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_HELO_PASS,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of info@apachelounge.com designates 80.101.236.247 as permitted sender)
Received: from [80.101.236.247] (HELO land10web.com) (80.101.236.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 12:29:48 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1434198731;
	bh=4GdQjabcC522bRwAFqjT6DXHLlQIFo1qsvPveqGJfvo=;
	h=From:To:References:In-Reply-To:Subject:Date;
	b=2S78kTfZPjfVneyIjI+/PzhPp/ctH9G3fAvWR7plNG5yvHNhiXvs83kCUS2NSW7zj
	 65LGRmTYI9k8pPqkkvt5Ir4HEMABdVb8qvEmMwC1EdMth8a4sGNouoTD/9/yBTwEiM
	 hfXgBXK89fVwBcuU3a9ed7Z7L4sS/zxQ0VrzmFQA=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <CC79AF480F174707ACF9A64818E37383@father>
From: "Steffen" <info@apachelounge.com>
To: <dev@httpd.apache.org>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com> <C8CFFE6DEF254EC2BBC171776451AFAA@father>
In-Reply-To: <C8CFFE6DEF254EC2BBC171776451AFAA@father>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
Date: Sat, 13 Jun 2015 14:31:22 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331
X-Virus-Checked: Checked by ClamAV on apache.org

Tested with 2.4.13 tarball, then no error.

-----Original Message----- 
From: Steffen
Sent: Saturday, June 13, 2015 1:33 PM Newsgroups: gmane.comp.apache.devel
To: dev@httpd.apache.org
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA

Regression: All works fine except a Proxy Pass  to Sambar server, was
working ok with 2.4.12.

ProxyPasses to other servers the Sambar works fine.

ProxyPass         /sysadmin http://127.0.0.1:81/sysadmin
ProxyPassReverse /sysadmin http://127.0.0.1:81/sysadmin

Calling with http://127.0.0.1:8080/sysadmin/ gives AH01110: error reading
response :

[Sat Jun 13 13:23:08.010826 2015] [authz_core:debug] [pid 5684:tid 1128]
mod_authz_core.c(834): [client ::1:51072] AH01628: authorization result:
granted (no directives)
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
mod_proxy.c(1157): [client ::1:51072] AH01143: Running scheme http handler
(attempt 0)
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
proxy_util.c(2145): AH00942: HTTP: has acquired connection for (127.0.0.1)
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
proxy_util.c(2199): [client ::1:51072] AH00944: connecting
http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
proxy_util.c(2408): [client ::1:51072] AH00947: connected /sysadmin/ to
127.0.0.1:81
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
proxy_util.c(2782): AH02824: HTTP: connection established with 127.0.0.1:81
(127.0.0.1)
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
proxy_util.c(2936): AH00962: HTTP: connection complete to 127.0.0.1:81
(127.0.0.1)
[Sat Jun 13 13:23:08.010826 2015] [proxy_http:error] [pid 5684:tid 1128]
(20014)Internal error (specific information not available): [client
::1:51072] AH01110: error reading response
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
proxy_util.c(2160): AH00943: HTTP: has released connection for (127.0.0.1)
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
proxy_util.c(2878): [remote 127.0.0.1:81] AH02642: proxy: connection
shutdown



-----Original Message----- 
From: Jim Jagielski
Sent: Thursday, June 11, 2015 4:08 PM Newsgroups: gmane.comp.apache.devel
To: httpd
Subject: [VOTE] Release Apache httpd 2.4.14 as GA

The pre-release test tarballs for Apache httpd 2.4.14 can be found
at the usual place:

http://httpd.apache.org/dev/dist/

I'm calling a VOTE on releasing these as Apache httpd 2.4.14 GA.

[ ] +1: Good to go
[ ] +0: meh
[ ] -1: Danger Will Robinson. And why.

Vote will last the normal 72 hrs.

NOTE: The *-deps are only there for convenience.

Thx!

From dev-return-82973-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 13 13:14:53 2015
Return-Path: <dev-return-82973-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F2A01175AD
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Jun 2015 13:14:53 +0000 (UTC)
Received: (qmail 27883 invoked by uid 500); 13 Jun 2015 13:14:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 27816 invoked by uid 500); 13 Jun 2015 13:14:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 27806 invoked by uid 99); 13 Jun 2015 13:14:53 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 13:14:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 119A2C06B6
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 13:14:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 4.901
X-Spam-Level: ****
X-Spam-Status: No, score=4.901 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, KAM_BADIPHTTP=2, SPF_PASS=-0.001, URIBL_BLOCKED=0.001,
	WEIRD_PORT=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 1LqxQUCKQSvZ for <dev@httpd.apache.org>;
	Sat, 13 Jun 2015 13:14:45 +0000 (UTC)
Received: from mail-yk0-f173.google.com (mail-yk0-f173.google.com [209.85.160.173])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 502AC21659
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 13:14:45 +0000 (UTC)
Received: by ykfl8 with SMTP id l8so29979465ykf.1
        for <dev@httpd.apache.org>; Sat, 13 Jun 2015 06:14:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=9/h/eFXiK1v6OuGcuEJjDVYDyR7RrE022rWwWDYvC0w=;
        b=UTJ+Mnb3j5MJFZ20PVGvaKl5JjMVM/X5eKfzg459S8wFDDrCMAEvYYTw4PLN3/hop8
         zsBD/4bQCVUvaEkg7wbLDUrGZInKYkTOYAfuHb7No8e/9xtGPyooLRrwNBck6/jr6/T/
         EJJHDkq7LpZKASd4KTuDs3s+GdDjtCufukGmVSzAYBQjF25h/cUO2FVJSyM7D2dU6WmE
         IMm/x5an6yV7MU9fHotrE0z4XI46nvFdlviVpUJWouc8e9YePpwgA56+X4GouvoGAHXl
         hKHQkkMde2IkL29R0fPpAxMcWCJxUY1nGWQj1qutfOeWa5IP8+PcifkQ88WAbN9JBHRr
         ocyA==
MIME-Version: 1.0
X-Received: by 10.13.243.65 with SMTP id c62mr24154897ywf.114.1434201284525;
 Sat, 13 Jun 2015 06:14:44 -0700 (PDT)
Received: by 10.13.206.195 with HTTP; Sat, 13 Jun 2015 06:14:44 -0700 (PDT)
In-Reply-To: <CC79AF480F174707ACF9A64818E37383@father>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
	<C8CFFE6DEF254EC2BBC171776451AFAA@father>
	<CC79AF480F174707ACF9A64818E37383@father>
Date: Sat, 13 Jun 2015 09:14:44 -0400
Message-ID: <CAKUrXK6-xA6GfJrxzz6JFERF3T1+dd22R0ORrQxYM5PNrTvOBw@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=94eb2c03632819c3cd0518660263

--94eb2c03632819c3cd0518660263
Content-Type: text/plain; charset=UTF-8

On Sat, Jun 13, 2015 at 8:31 AM, Steffen <info@apachelounge.com> wrote:

> Tested with 2.4.13 tarball, then no error.
>

Wow...

Is anything written to the error log when you try proxy to the Sambar
server?  If my guess about the related code is correct, you'll need
LogLevel Info (or debug or trace) to see all the relevant messages.



>
> -----Original Message----- From: Steffen
> Sent: Saturday, June 13, 2015 1:33 PM Newsgroups: gmane.comp.apache.devel
> To: dev@httpd.apache.org
> Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
>
>
> Regression: All works fine except a Proxy Pass  to Sambar server, was
> working ok with 2.4.12.
>
> ProxyPasses to other servers the Sambar works fine.
>
> ProxyPass         /sysadmin http://127.0.0.1:81/sysadmin
> ProxyPassReverse /sysadmin http://127.0.0.1:81/sysadmin
>
> Calling with http://127.0.0.1:8080/sysadmin/ gives AH01110: error reading
> response :
>
> [Sat Jun 13 13:23:08.010826 2015] [authz_core:debug] [pid 5684:tid 1128]
> mod_authz_core.c(834): [client ::1:51072] AH01628: authorization result:
> granted (no directives)
> [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
> mod_proxy.c(1157): [client ::1:51072] AH01143: Running scheme http handler
> (attempt 0)
> [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
> proxy_util.c(2145): AH00942: HTTP: has acquired connection for (127.0.0.1)
> [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
> proxy_util.c(2199): [client ::1:51072] AH00944: connecting
> http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81
> [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
> proxy_util.c(2408): [client ::1:51072] AH00947: connected /sysadmin/ to
> 127.0.0.1:81
> [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
> proxy_util.c(2782): AH02824: HTTP: connection established with
> 127.0.0.1:81
> (127.0.0.1)
> [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
> proxy_util.c(2936): AH00962: HTTP: connection complete to 127.0.0.1:81
> (127.0.0.1)
> [Sat Jun 13 13:23:08.010826 2015] [proxy_http:error] [pid 5684:tid 1128]
> (20014)Internal error (specific information not available): [client
> ::1:51072] AH01110: error reading response
> [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
> proxy_util.c(2160): AH00943: HTTP: has released connection for (127.0.0.1)
> [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
> proxy_util.c(2878): [remote 127.0.0.1:81] AH02642: proxy: connection
> shutdown
>
>
>
> -----Original Message----- From: Jim Jagielski
> Sent: Thursday, June 11, 2015 4:08 PM Newsgroups: gmane.comp.apache.devel
> To: httpd
> Subject: [VOTE] Release Apache httpd 2.4.14 as GA
>
> The pre-release test tarballs for Apache httpd 2.4.14 can be found
> at the usual place:
>
> http://httpd.apache.org/dev/dist/
>
> I'm calling a VOTE on releasing these as Apache httpd 2.4.14 GA.
>
> [ ] +1: Good to go
> [ ] +0: meh
> [ ] -1: Danger Will Robinson. And why.
>
> Vote will last the normal 72 hrs.
>
> NOTE: The *-deps are only there for convenience.
>
> Thx!
>



-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--94eb2c03632819c3cd0518660263
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On S=
at, Jun 13, 2015 at 8:31 AM, Steffen <span dir=3D"ltr">&lt;<a href=3D"mailt=
o:info@apachelounge.com" target=3D"_blank">info@apachelounge.com</a>&gt;</s=
pan> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex=
;border-left:1px #ccc solid;padding-left:1ex">Tested with 2.4.13 tarball, t=
hen no error.<br></blockquote><div><br></div><div>Wow... =C2=A0</div><div><=
br></div><div>Is anything written to the error log when you try proxy to th=
e Sambar server?=C2=A0 If my guess about the related code is correct, you&#=
39;ll need LogLevel Info (or debug or trace) to see all the relevant messag=
es.</div><div><br></div><div>=C2=A0</div><blockquote class=3D"gmail_quote" =
style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">
<br>
-----Original Message----- From: Steffen<br>
Sent: Saturday, June 13, 2015 1:33 PM Newsgroups: gmane.comp.apache.devel<b=
r>
To: <a href=3D"mailto:dev@httpd.apache.org" target=3D"_blank">dev@httpd.apa=
che.org</a><br>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA<div class=3D"HOEnZb">=
<div class=3D"h5"><br>
<br>
Regression: All works fine except a Proxy Pass=C2=A0 to Sambar server, was<=
br>
working ok with 2.4.12.<br>
<br>
ProxyPasses to other servers the Sambar works fine.<br>
<br>
ProxyPass=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0/sysadmin <a href=3D"http://127.=
0.0.1:81/sysadmin" rel=3D"noreferrer" target=3D"_blank">http://127.0.0.1:81=
/sysadmin</a><br>
ProxyPassReverse /sysadmin <a href=3D"http://127.0.0.1:81/sysadmin" rel=3D"=
noreferrer" target=3D"_blank">http://127.0.0.1:81/sysadmin</a><br>
<br>
Calling with <a href=3D"http://127.0.0.1:8080/sysadmin/" rel=3D"noreferrer"=
 target=3D"_blank">http://127.0.0.1:8080/sysadmin/</a> gives AH01110: error=
 reading<br>
response :<br>
<br>
[Sat Jun 13 13:23:08.010826 2015] [authz_core:debug] [pid 5684:tid 1128]<br=
>
mod_authz_core.c(834): [client ::1:51072] AH01628: authorization result:<br=
>
granted (no directives)<br>
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]<br>
mod_proxy.c(1157): [client ::1:51072] AH01143: Running scheme http handler<=
br>
(attempt 0)<br>
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]<br>
proxy_util.c(2145): AH00942: HTTP: has acquired connection for (127.0.0.1)<=
br>
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]<br>
proxy_util.c(2199): [client ::1:51072] AH00944: connecting<br>
<a href=3D"http://127.0.0.1:81/sysadmin/" rel=3D"noreferrer" target=3D"_bla=
nk">http://127.0.0.1:81/sysadmin/</a> to <a href=3D"http://127.0.0.1:81" re=
l=3D"noreferrer" target=3D"_blank">127.0.0.1:81</a><br>
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]<br>
proxy_util.c(2408): [client ::1:51072] AH00947: connected /sysadmin/ to<br>
<a href=3D"http://127.0.0.1:81" rel=3D"noreferrer" target=3D"_blank">127.0.=
0.1:81</a><br>
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]<br>
proxy_util.c(2782): AH02824: HTTP: connection established with <a href=3D"h=
ttp://127.0.0.1:81" rel=3D"noreferrer" target=3D"_blank">127.0.0.1:81</a><b=
r>
(127.0.0.1)<br>
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]<br>
proxy_util.c(2936): AH00962: HTTP: connection complete to <a href=3D"http:/=
/127.0.0.1:81" rel=3D"noreferrer" target=3D"_blank">127.0.0.1:81</a><br>
(127.0.0.1)<br>
[Sat Jun 13 13:23:08.010826 2015] [proxy_http:error] [pid 5684:tid 1128]<br=
>
(20014)Internal error (specific information not available): [client<br>
::1:51072] AH01110: error reading response<br>
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]<br>
proxy_util.c(2160): AH00943: HTTP: has released connection for (127.0.0.1)<=
br>
[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]<br>
proxy_util.c(2878): [remote <a href=3D"http://127.0.0.1:81" rel=3D"noreferr=
er" target=3D"_blank">127.0.0.1:81</a>] AH02642: proxy: connection<br>
shutdown<br>
<br>
<br>
<br>
-----Original Message----- From: Jim Jagielski<br>
Sent: Thursday, June 11, 2015 4:08 PM Newsgroups: gmane.comp.apache.devel<b=
r>
To: httpd<br>
Subject: [VOTE] Release Apache httpd 2.4.14 as GA<br>
<br>
The pre-release test tarballs for Apache httpd 2.4.14 can be found<br>
at the usual place:<br>
<br>
<a href=3D"http://httpd.apache.org/dev/dist/" rel=3D"noreferrer" target=3D"=
_blank">http://httpd.apache.org/dev/dist/</a><br>
<br>
I&#39;m calling a VOTE on releasing these as Apache httpd 2.4.14 GA.<br>
<br>
[ ] +1: Good to go<br>
[ ] +0: meh<br>
[ ] -1: Danger Will Robinson. And why.<br>
<br>
Vote will last the normal 72 hrs.<br>
<br>
NOTE: The *-deps are only there for convenience.<br>
<br>
Thx!<br>
</div></div></blockquote></div><br><br clear=3D"all"><div><br></div>-- <br>=
<div class=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married =
an alien...<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http:=
//emptyhammock.com/</a><div><br></div></div></div>
</div></div>

--94eb2c03632819c3cd0518660263--

From dev-return-82974-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 13 13:25:08 2015
Return-Path: <dev-return-82974-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2D99C175CA
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Jun 2015 13:25:08 +0000 (UTC)
Received: (qmail 33162 invoked by uid 500); 13 Jun 2015 13:25:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 33078 invoked by uid 500); 13 Jun 2015 13:25:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 33068 invoked by uid 99); 13 Jun 2015 13:25:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 13:25:02 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of trawick@gmail.com designates 209.85.160.174 as permitted sender)
Received: from [209.85.160.174] (HELO mail-yk0-f174.google.com) (209.85.160.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 13:22:48 +0000
Received: by ykfl8 with SMTP id l8so30049774ykf.1
        for <dev@httpd.apache.org>; Sat, 13 Jun 2015 06:24:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=vzuuI19d2v2gxYMgbq7DN1XDfKABJ0mSzCYHsyMePr0=;
        b=W5Mawcp78KkA0G85WXbUEoIj/xpZSeBpjBh497xHrOezBkqa+sgKFcRotxUcI4HZpX
         n9eEWEPNps2nJV+FhuFlRjSlmUGzLg6rJSfU5JCcV2QVEId/SKl1syk862EMh5ddARVl
         QveZb/6eIuT9gGIxZlaTK3YefPw4g0M2NO9LmvKnntxGzIcYOzniDxKsy7DsrNjKorw8
         LhpVGqUtZVnAKANlT/Zp/EHMHDXfm7FV+HUcba/kdG/hecvj0lnp8ISWGzx1GkzkjjHh
         RRHjDl3w4JFP8WznyEiq01YjJFAn7UBjwNO7PCdEPIiz6f7E0T0mcT9EESr9E7bWGcf9
         aNMQ==
MIME-Version: 1.0
X-Received: by 10.129.119.7 with SMTP id s7mr23952572ywc.87.1434201876388;
 Sat, 13 Jun 2015 06:24:36 -0700 (PDT)
Received: by 10.13.206.195 with HTTP; Sat, 13 Jun 2015 06:24:36 -0700 (PDT)
In-Reply-To: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
Date: Sat, 13 Jun 2015 09:24:36 -0400
Message-ID: <CAKUrXK4j6Uqc5jVqKih4yXhBc7X8XDh_TE5t=Vo=e2uKMmYVdw@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1149008c60df4405186625a2
X-Virus-Checked: Checked by ClamAV on apache.org

--001a1149008c60df4405186625a2
Content-Type: text/plain; charset=UTF-8

On Thu, Jun 11, 2015 at 10:08 AM, Jim Jagielski <jim@jagunet.com> wrote:

> The pre-release test tarballs for Apache httpd 2.4.14 can be found
> at the usual place:
>
>         http://httpd.apache.org/dev/dist/
>
> I'm calling a VOTE on releasing these as Apache httpd 2.4.14 GA.
>
> [ ] +1: Good to go
> [ ] +0: meh
> [ ] -1: Danger Will Robinson. And why.
>
>
CentOS 7, 64-bit: HTTP::DAV skipped; event and prefork tested, no failures

FreeBSD 10.1, 32-bit: lua skipped, accept filter not loaded, event and
prefork tested

Test Summary Report
-------------------
t/ssl/pr12355.t                   (Wstat: 0 Tests: 10 Failed: 4)
  Failed tests:  3-4, 7-8
t/ssl/pr43738.t                   (Wstat: 0 Tests: 4 Failed: 2)
  Failed tests:  1-2

(same as with 2.4.13)

My vote: -1 for now :(

Steffen's apparent regression between 2.4.13 and 2.4.14 needs to be
investigated if he is able to assist further.  Other than that, I am
concerned about the console message issue with lots of SSL-enabled vhosts
but no per-vhost LogLevel (no deprecation messages before, lots now) but I
think that could be addressed in a recommended patch.

-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a1149008c60df4405186625a2
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
hu, Jun 11, 2015 at 10:08 AM, Jim Jagielski <span dir=3D"ltr">&lt;<a href=
=3D"mailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt;</span=
> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0=
.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-s=
tyle:solid;padding-left:1ex">The pre-release test tarballs for Apache httpd=
 2.4.14 can be found<br>
at the usual place:<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 <a href=3D"http://httpd.apache.org/dev/dist/" r=
el=3D"noreferrer" target=3D"_blank">http://httpd.apache.org/dev/dist/</a><b=
r>
<br>
I&#39;m calling a VOTE on releasing these as Apache httpd 2.4.14 GA.<br>
<br>
[ ] +1: Good to go<br>
[ ] +0: meh<br>
[ ] -1: Danger Will Robinson. And why.<br>
<br></blockquote><div><br></div><div><div>CentOS 7, 64-bit: HTTP::DAV skipp=
ed; event and prefork tested, no failures</div><div><br></div><div>FreeBSD =
10.1, 32-bit: lua skipped, accept filter not loaded, event and prefork test=
ed</div><div><br></div><div>Test Summary Report</div><div>-----------------=
--</div><div>t/ssl/pr12355.t =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 (Wstat: 0 Tests: 10 Failed: 4)</div><div>=C2=A0 Failed te=
sts: =C2=A03-4, 7-8</div><div>t/ssl/pr43738.t =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 (Wstat: 0 Tests: 4 Failed: 2)</div><div>=
=C2=A0 Failed tests: =C2=A01-2</div><div><br></div><div>(same as with 2.4.1=
3)</div></div><div><br></div><div>My vote: -1 for now :(</div><div><br></di=
v><div>Steffen&#39;s apparent regression between 2.4.13 and 2.4.14 needs to=
 be investigated if he is able to assist further.=C2=A0 Other than that, I =
am concerned about the console message issue with lots of SSL-enabled vhost=
s but no per-vhost LogLevel (no deprecation messages before, lots now) but =
I think that could be addressed in a recommended patch.</div></div><div><br=
></div>-- <br><div class=3D"gmail_signature"><div dir=3D"ltr">Born in Roswe=
ll... married an alien...<br><a href=3D"http://emptyhammock.com/" target=3D=
"_blank">http://emptyhammock.com/</a><div><br></div></div></div>
</div></div>

--001a1149008c60df4405186625a2--

From dev-return-82975-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 13 13:37:17 2015
Return-Path: <dev-return-82975-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C587D1761B
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Jun 2015 13:37:17 +0000 (UTC)
Received: (qmail 45342 invoked by uid 500); 13 Jun 2015 13:37:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 45241 invoked by uid 500); 13 Jun 2015 13:37:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 45231 invoked by uid 99); 13 Jun 2015 13:37:17 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 13:37:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id DFDD4CDAE1
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 13:37:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 5.263
X-Spam-Level: *****
X-Spam-Status: No, score=5.263 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, KAM_BADIPHTTP=2, RDNS_DYNAMIC=0.363,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001,
	WEIRD_PORT=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id jV3EG9j_7oAe for <dev@httpd.apache.org>;
	Sat, 13 Jun 2015 13:37:07 +0000 (UTC)
Received: from land10web.com (a80-101-236-247.adsl.xs4all.nl [80.101.236.247])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 3074620B86
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 13:37:07 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1434202641;
	bh=qfuC0qSr78OD8R8tgZH3iVejuaChISq4Y81WIU1mmxg=;
	h=From:To:References:In-Reply-To:Subject:Date;
	b=bNP29cPLviTtFpvnr9oHOk/hml8TDKaO7raXZiqWGdAPgYeREfHdu87LWorTifPAQ
	 s7mtNHdIWBco68rfmj2+gnoZQdkyTgcXkeV8wO9j4r3p8pv7Tx9BpQF/rZQSAXPPVm
	 lNl1dI1roVeDhNL/1s+Z7dpjwmBv8kfzwAJ2rGTg=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <2F083565602A4619AB28D9C432EBE49B@father>
From: "Steffen" <info@apachelounge.com>
To: <dev@httpd.apache.org>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com><C8CFFE6DEF254EC2BBC171776451AFAA@father><CC79AF480F174707ACF9A64818E37383@father> <CAKUrXK6-xA6GfJrxzz6JFERF3T1+dd22R0ORrQxYM5PNrTvOBw@mail.gmail.com>
In-Reply-To: <CAKUrXK6-xA6GfJrxzz6JFERF3T1+dd22R0ORrQxYM5PNrTvOBw@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
Date: Sat, 13 Jun 2015 15:36:04 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0038_01D0A5EE.A8CF45E0"
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

This is a multi-part message in MIME format.

------=_NextPart_000_0038_01D0A5EE.A8CF45E0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

Debug 2.4.14 was already in my first post.

The 2.4.13 (no error)  and 2.4.14 debug level error.log:

Apache/2.4.13 (Win32)
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

[Sat Jun 13 15:23:23.031198 2015] [authz_core:debug] [pid 9208:tid 1168] =
mod_authz_core.c(834): [client 127.0.0.1:54501] AH01628: authorization =
result: granted (no directives)
[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168] =
mod_proxy.c(1157): [client 127.0.0.1:54501] AH01143: Running scheme http =
handler (attempt 0)
[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168] =
proxy_util.c(2145): AH00942: HTTP: has acquired connection for =
(127.0.0.1)
[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168] =
proxy_util.c(2199): [client 127.0.0.1:54501] AH00944: connecting =
http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81
[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168] =
proxy_util.c(2408): [client 127.0.0.1:54501] AH00947: connected =
/sysadmin/ to 127.0.0.1:81
[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168] =
proxy_util.c(2782): AH02824: HTTP: connection established with =
127.0.0.1:81 (127.0.0.1)
[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168] =
proxy_util.c(2936): AH00962: HTTP: connection complete to 127.0.0.1:81 =
(127.0.0.1)
[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168] =
proxy_util.c(2160): AH00943: http: has released connection for =
(127.0.0.1)



Apache/2.4.14 (Win32)
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

[Sat Jun 13 15:20:54.616551 2015] [authz_core:debug] [pid 4676:tid 1152] =
mod_authz_core.c(834): [client 127.0.0.1:54430] AH01628: authorization =
result: granted (no directives)
[Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152] =
mod_proxy.c(1157): [client 127.0.0.1:54430] AH01143: Running scheme http =
handler (attempt 0)
[Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152] =
proxy_util.c(2145): AH00942: HTTP: has acquired connection for =
(127.0.0.1)
[Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152] =
proxy_util.c(2199): [client 127.0.0.1:54430] AH00944: connecting =
http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81
[Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152] =
proxy_util.c(2408): [client 127.0.0.1:54430] AH00947: connected =
/sysadmin/ to 127.0.0.1:81
[Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152] =
proxy_util.c(2782): AH02824: HTTP: connection established with =
127.0.0.1:81 (127.0.0.1)
[Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152] =
proxy_util.c(2936): AH00962: HTTP: connection complete to 127.0.0.1:81 =
(127.0.0.1)
[Sat Jun 13 15:20:54.616551 2015] [proxy_http:error] [pid 4676:tid 1152] =
(20014)Internal error (specific information not available): [client =
127.0.0.1:54430] AH01110: error reading response
[Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152] =
proxy_util.c(2160): AH00943: HTTP: has released connection for =
(127.0.0.1)


From: Jeff Trawick=20
Sent: Saturday, June 13, 2015 3:14 PM
Newsgroups: gmane.comp.apache.devel
To: Apache HTTP Server Development List=20
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA

On Sat, Jun 13, 2015 at 8:31 AM, Steffen <info@apachelounge.com> wrote:

  Tested with 2.4.13 tarball, then no error.


Wow... =20

Is anything written to the error log when you try proxy to the Sambar =
server?  If my guess about the related code is correct, you'll need =
LogLevel Info (or debug or trace) to see all the relevant messages.



  -----Original Message----- From: Steffen
  Sent: Saturday, June 13, 2015 1:33 PM Newsgroups: =
gmane.comp.apache.devel
  To: dev@httpd.apache.org
  Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA=20


  Regression: All works fine except a Proxy Pass  to Sambar server, was
  working ok with 2.4.12.

  ProxyPasses to other servers the Sambar works fine.

  ProxyPass         /sysadmin http://127.0.0.1:81/sysadmin
  ProxyPassReverse /sysadmin http://127.0.0.1:81/sysadmin

  Calling with http://127.0.0.1:8080/sysadmin/ gives AH01110: error =
reading
  response :

  [Sat Jun 13 13:23:08.010826 2015] [authz_core:debug] [pid 5684:tid =
1128]
  mod_authz_core.c(834): [client ::1:51072] AH01628: authorization =
result:
  granted (no directives)
  [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
  mod_proxy.c(1157): [client ::1:51072] AH01143: Running scheme http =
handler
  (attempt 0)
  [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
  proxy_util.c(2145): AH00942: HTTP: has acquired connection for =
(127.0.0.1)
  [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
  proxy_util.c(2199): [client ::1:51072] AH00944: connecting
  http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81
  [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
  proxy_util.c(2408): [client ::1:51072] AH00947: connected /sysadmin/ =
to
  127.0.0.1:81
  [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
  proxy_util.c(2782): AH02824: HTTP: connection established with =
127.0.0.1:81
  (127.0.0.1)
  [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
  proxy_util.c(2936): AH00962: HTTP: connection complete to 127.0.0.1:81
  (127.0.0.1)
  [Sat Jun 13 13:23:08.010826 2015] [proxy_http:error] [pid 5684:tid =
1128]
  (20014)Internal error (specific information not available): [client
  ::1:51072] AH01110: error reading response
  [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
  proxy_util.c(2160): AH00943: HTTP: has released connection for =
(127.0.0.1)
  [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
  proxy_util.c(2878): [remote 127.0.0.1:81] AH02642: proxy: connection
  shutdown



  -----Original Message----- From: Jim Jagielski
  Sent: Thursday, June 11, 2015 4:08 PM Newsgroups: =
gmane.comp.apache.devel
  To: httpd
  Subject: [VOTE] Release Apache httpd 2.4.14 as GA

  The pre-release test tarballs for Apache httpd 2.4.14 can be found
  at the usual place:

  http://httpd.apache.org/dev/dist/

  I'm calling a VOTE on releasing these as Apache httpd 2.4.14 GA.

  [ ] +1: Good to go
  [ ] +0: meh
  [ ] -1: Danger Will Robinson. And why.

  Vote will last the normal 72 hrs.

  NOTE: The *-deps are only there for convenience.

  Thx!





--=20

Born in Roswell... married an alien...
http://emptyhammock.com/=20

------=_NextPart_000_0038_01D0A5EE.A8CF45E0
Content-Type: text/html;
	charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

<HTML><HEAD></HEAD>
<BODY dir=3Dltr>
<DIV dir=3Dltr>
<DIV style=3D"FONT-SIZE: 10pt; FONT-FAMILY: 'Arial'; COLOR: #000000">
<DIV>Debug 2.4.14 was already in my first post.</DIV>
<DIV>&nbsp;</DIV>
<DIV>The 2.4.13 (no error)&nbsp; and 2.4.14 debug level error.log:</DIV>
<DIV>&nbsp;</DIV>
<DIV>Apache/2.4.13 (Win32)</DIV>
<DIV>=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D</DIV>
<DIV>&nbsp;</DIV>
<DIV>[Sat Jun 13 15:23:23.031198 2015] [authz_core:debug] [pid 9208:tid =
1168]=20
mod_authz_core.c(834): [client 127.0.0.1:54501] AH01628: authorization =
result:=20
granted (no directives)</DIV>
<DIV>[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168] =

mod_proxy.c(1157): [client 127.0.0.1:54501] AH01143: Running scheme http =
handler=20
(attempt 0)</DIV>
<DIV>[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168] =

proxy_util.c(2145): AH00942: HTTP: has acquired connection for =
(127.0.0.1)</DIV>
<DIV>[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168] =

proxy_util.c(2199): [client 127.0.0.1:54501] AH00944: connecting <A=20
href=3D"http://127.0.0.1:81/sysadmin/">http://127.0.0.1:81/sysadmin/</A> =
to=20
127.0.0.1:81</DIV>
<DIV>[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168] =

proxy_util.c(2408): [client 127.0.0.1:54501] AH00947: connected =
/sysadmin/ to=20
127.0.0.1:81</DIV>
<DIV>[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168] =

proxy_util.c(2782): AH02824: HTTP: connection established with =
127.0.0.1:81=20
(127.0.0.1)</DIV>
<DIV>[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168] =

proxy_util.c(2936): AH00962: HTTP: connection complete to 127.0.0.1:81=20
(127.0.0.1)</DIV>
<DIV>[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168] =

proxy_util.c(2160): AH00943: http: has released connection for =
(127.0.0.1)</DIV>
<DIV>&nbsp;</DIV>
<DIV>&nbsp;</DIV>
<DIV>&nbsp;</DIV>
<DIV>Apache/2.4.14 (Win32)</DIV>
<DIV>=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D</DIV>
<DIV>&nbsp;</DIV>
<DIV>[Sat Jun 13 15:20:54.616551 2015] [authz_core:debug] [pid 4676:tid =
1152]=20
mod_authz_core.c(834): [client 127.0.0.1:54430] AH01628: authorization =
result:=20
granted (no directives)</DIV>
<DIV>[Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152] =

mod_proxy.c(1157): [client 127.0.0.1:54430] AH01143: Running scheme http =
handler=20
(attempt 0)</DIV>
<DIV>[Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152] =

proxy_util.c(2145): AH00942: HTTP: has acquired connection for =
(127.0.0.1)</DIV>
<DIV>[Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152] =

proxy_util.c(2199): [client 127.0.0.1:54430] AH00944: connecting <A=20
href=3D"http://127.0.0.1:81/sysadmin/">http://127.0.0.1:81/sysadmin/</A> =
to=20
127.0.0.1:81</DIV>
<DIV>[Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152] =

proxy_util.c(2408): [client 127.0.0.1:54430] AH00947: connected =
/sysadmin/ to=20
127.0.0.1:81</DIV>
<DIV>[Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152] =

proxy_util.c(2782): AH02824: HTTP: connection established with =
127.0.0.1:81=20
(127.0.0.1)</DIV>
<DIV>[Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152] =

proxy_util.c(2936): AH00962: HTTP: connection complete to 127.0.0.1:81=20
(127.0.0.1)</DIV>
<DIV>[Sat Jun 13 15:20:54.616551 2015] [proxy_http:error] [pid 4676:tid =
1152]=20
(20014)Internal error (specific information not available): [client=20
127.0.0.1:54430] AH01110: error reading response</DIV>
<DIV>[Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152] =

proxy_util.c(2160): AH00943: HTTP: has released connection for =
(127.0.0.1)</DIV>
<DIV>&nbsp;</DIV>
<DIV=20
style=3D'FONT-SIZE: small; TEXT-DECORATION: none; FONT-FAMILY: =
"Calibri"; FONT-WEIGHT: normal; COLOR: #000000; FONT-STYLE: normal; =
DISPLAY: inline'>
<DIV style=3D"FONT: 10pt tahoma">
<DIV>&nbsp;</DIV>
<DIV style=3D"BACKGROUND: #f5f5f5">
<DIV style=3D"font-color: black"><B>From:</B> <A =
title=3Dtrawick@gmail.com=20
href=3D"mailto:trawick@gmail.com">Jeff Trawick</A> </DIV>
<DIV><B>Sent:</B> Saturday, June 13, 2015 3:14 PM</DIV>
<DIV><B>Newsgroups:</B> gmane.comp.apache.devel</DIV>
<DIV><B>To:</B> <A title=3Ddev@httpd.apache.org=20
href=3D"mailto:dev@httpd.apache.org">Apache HTTP Server Development =
List</A>=20
</DIV>
<DIV><B>Subject:</B> Re: [VOTE] Release Apache httpd 2.4.14 as=20
GA</DIV></DIV></DIV>
<DIV>&nbsp;</DIV></DIV>
<DIV=20
style=3D'FONT-SIZE: small; TEXT-DECORATION: none; FONT-FAMILY: =
"Calibri"; FONT-WEIGHT: normal; COLOR: #000000; FONT-STYLE: normal; =
DISPLAY: inline'>
<DIV dir=3Dltr>
<DIV class=3Dgmail_extra>
<DIV class=3Dgmail_quote>On Sat, Jun 13, 2015 at 8:31 AM, Steffen <SPAN=20
dir=3Dltr>&lt;<A href=3D"mailto:info@apachelounge.com"=20
target=3D_blank>info@apachelounge.com</A>&gt;</SPAN> wrote:<BR>
<BLOCKQUOTE class=3Dgmail_quote=20
style=3D"PADDING-LEFT: 1ex; MARGIN: 0px 0px 0px 0.8ex; BORDER-LEFT: #ccc =
1px solid">Tested=20
  with 2.4.13 tarball, then no error.<BR></BLOCKQUOTE>
<DIV>&nbsp;</DIV>
<DIV>Wow...&nbsp; </DIV>
<DIV>&nbsp;</DIV>
<DIV>Is anything written to the error log when you try proxy to the =
Sambar=20
server?&nbsp; If my guess about the related code is correct, you'll need =

LogLevel Info (or debug or trace) to see all the relevant =
messages.</DIV>
<DIV>&nbsp;</DIV>
<DIV>&nbsp;</DIV>
<BLOCKQUOTE class=3Dgmail_quote=20
style=3D"PADDING-LEFT: 1ex; MARGIN: 0px 0px 0px 0.8ex; BORDER-LEFT: #ccc =
1px solid"><BR>-----Original=20
  Message----- From: Steffen<BR>Sent: Saturday, June 13, 2015 1:33 PM=20
  Newsgroups: gmane.comp.apache.devel<BR>To: <A=20
  href=3D"mailto:dev@httpd.apache.org"=20
  target=3D_blank>dev@httpd.apache.org</A><BR>Subject: Re: [VOTE] =
Release Apache=20
  httpd 2.4.14 as GA=20
  <DIV class=3DHOEnZb>
  <DIV class=3Dh5><BR><BR>Regression: All works fine except a Proxy =
Pass&nbsp; to=20
  Sambar server, was<BR>working ok with 2.4.12.<BR><BR>ProxyPasses to =
other=20
  servers the Sambar works=20
  fine.<BR><BR>ProxyPass&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =

  /sysadmin <A href=3D"http://127.0.0.1:81/sysadmin" rel=3Dnoreferrer=20
  target=3D_blank>http://127.0.0.1:81/sysadmin</A><BR>ProxyPassReverse =
/sysadmin=20
  <A href=3D"http://127.0.0.1:81/sysadmin" rel=3Dnoreferrer=20
  target=3D_blank>http://127.0.0.1:81/sysadmin</A><BR><BR>Calling with =
<A=20
  href=3D"http://127.0.0.1:8080/sysadmin/" rel=3Dnoreferrer=20
  target=3D_blank>http://127.0.0.1:8080/sysadmin/</A> gives AH01110: =
error=20
  reading<BR>response :<BR><BR>[Sat Jun 13 13:23:08.010826 2015]=20
  [authz_core:debug] [pid 5684:tid 1128]<BR>mod_authz_core.c(834): =
[client=20
  ::1:51072] AH01628: authorization result:<BR>granted (no =
directives)<BR>[Sat=20
  Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid=20
  1128]<BR>mod_proxy.c(1157): [client ::1:51072] AH01143: Running scheme =
http=20
  handler<BR>(attempt 0)<BR>[Sat Jun 13 13:23:08.010826 2015] =
[proxy:debug] [pid=20
  5684:tid 1128]<BR>proxy_util.c(2145): AH00942: HTTP: has acquired =
connection=20
  for (127.0.0.1)<BR>[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] =
[pid=20
  5684:tid 1128]<BR>proxy_util.c(2199): [client ::1:51072] AH00944:=20
  connecting<BR><A href=3D"http://127.0.0.1:81/sysadmin/" =
rel=3Dnoreferrer=20
  target=3D_blank>http://127.0.0.1:81/sysadmin/</A> to <A=20
  href=3D"http://127.0.0.1:81" rel=3Dnoreferrer=20
  target=3D_blank>127.0.0.1:81</A><BR>[Sat Jun 13 13:23:08.010826 2015]=20
  [proxy:debug] [pid 5684:tid 1128]<BR>proxy_util.c(2408): [client =
::1:51072]=20
  AH00947: connected /sysadmin/ to<BR><A href=3D"http://127.0.0.1:81"=20
  rel=3Dnoreferrer target=3D_blank>127.0.0.1:81</A><BR>[Sat Jun 13 =
13:23:08.010826=20
  2015] [proxy:debug] [pid 5684:tid 1128]<BR>proxy_util.c(2782): =
AH02824: HTTP:=20
  connection established with <A href=3D"http://127.0.0.1:81" =
rel=3Dnoreferrer=20
  target=3D_blank>127.0.0.1:81</A><BR>(127.0.0.1)<BR>[Sat Jun 13 =
13:23:08.010826=20
  2015] [proxy:debug] [pid 5684:tid 1128]<BR>proxy_util.c(2936): =
AH00962: HTTP:=20
  connection complete to <A href=3D"http://127.0.0.1:81" =
rel=3Dnoreferrer=20
  target=3D_blank>127.0.0.1:81</A><BR>(127.0.0.1)<BR>[Sat Jun 13 =
13:23:08.010826=20
  2015] [proxy_http:error] [pid 5684:tid 1128]<BR>(20014)Internal error=20
  (specific information not available): [client<BR>::1:51072] AH01110: =
error=20
  reading response<BR>[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] =
[pid=20
  5684:tid 1128]<BR>proxy_util.c(2160): AH00943: HTTP: has released =
connection=20
  for (127.0.0.1)<BR>[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] =
[pid=20
  5684:tid 1128]<BR>proxy_util.c(2878): [remote <A =
href=3D"http://127.0.0.1:81"=20
  rel=3Dnoreferrer target=3D_blank>127.0.0.1:81</A>] AH02642: proxy:=20
  connection<BR>shutdown<BR><BR><BR><BR>-----Original Message----- From: =
Jim=20
  Jagielski<BR>Sent: Thursday, June 11, 2015 4:08 PM Newsgroups:=20
  gmane.comp.apache.devel<BR>To: httpd<BR>Subject: [VOTE] Release Apache =
httpd=20
  2.4.14 as GA<BR><BR>The pre-release test tarballs for Apache httpd =
2.4.14 can=20
  be found<BR>at the usual place:<BR><BR><A=20
  href=3D"http://httpd.apache.org/dev/dist/" rel=3Dnoreferrer=20
  target=3D_blank>http://httpd.apache.org/dev/dist/</A><BR><BR>I'm =
calling a VOTE=20
  on releasing these as Apache httpd 2.4.14 GA.<BR><BR>[ ] +1: Good to =
go<BR>[ ]=20
  +0: meh<BR>[ ] -1: Danger Will Robinson. And why.<BR><BR>Vote will =
last the=20
  normal 72 hrs.<BR><BR>NOTE: The *-deps are only there for=20
  convenience.<BR><BR>Thx!<BR></DIV></DIV></BLOCKQUOTE></DIV><BR><BR =
clear=3Dall>
<DIV>&nbsp;</DIV>-- <BR>
<DIV class=3Dgmail_signature>
<DIV dir=3Dltr>Born in Roswell... married an alien...<BR><A=20
href=3D"http://emptyhammock.com/" =
target=3D_blank>http://emptyhammock.com/</A>=20
<DIV>&nbsp;</DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></BODY></HTML>=


------=_NextPart_000_0038_01D0A5EE.A8CF45E0--


From dev-return-82976-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 13 14:22:01 2015
Return-Path: <dev-return-82976-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 79F9F176E7
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Jun 2015 14:22:01 +0000 (UTC)
Received: (qmail 77480 invoked by uid 500); 13 Jun 2015 14:22:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 77417 invoked by uid 500); 13 Jun 2015 14:22:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 77401 invoked by uid 99); 13 Jun 2015 14:22:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 14:22:00 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of trawick@gmail.com designates 209.85.213.50 as permitted sender)
Received: from [209.85.213.50] (HELO mail-yh0-f50.google.com) (209.85.213.50)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 14:19:46 +0000
Received: by yhak3 with SMTP id k3so22667420yha.2
        for <dev@httpd.apache.org>; Sat, 13 Jun 2015 07:21:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=92iiPO19ox4k2fQulC1JaHi9vsukbv8iLH0AShCBKSM=;
        b=AcsO9qAlQa+g6HueZGaEXX0Mu/jNfM7yVTmDLQ7+qCWVAVvvaF4xuQejbJOyPEUIpp
         pEY/qsSVW3xwFNdua7GKonDVw28UBdkguX41+Xfhcv3h6zqcQGZ804FHv73IEeoZRXHu
         EWFcmM9fk9vWuIEyhkDQL+YohUKc24Of+24KHaPlKbN1R90QD5luumGezgWBrzfN8KoM
         OpJKd+yBbp+BSHWQFmu+HrKt4lP1OOYvSRms1TID3rxunMtDPn7iEA5Dt6pp0M0C9/qf
         5zfGP/AQLMWJdd8nFu2eJaA35lkZLUZ5ZlYRWhkbxX3LNOom1sF0c5DWSzkA/CZ+OotO
         otFQ==
MIME-Version: 1.0
X-Received: by 10.170.190.68 with SMTP id h65mr24314139yke.3.1434205293971;
 Sat, 13 Jun 2015 07:21:33 -0700 (PDT)
Received: by 10.13.206.195 with HTTP; Sat, 13 Jun 2015 07:21:33 -0700 (PDT)
In-Reply-To: <2F083565602A4619AB28D9C432EBE49B@father>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
	<C8CFFE6DEF254EC2BBC171776451AFAA@father>
	<CC79AF480F174707ACF9A64818E37383@father>
	<CAKUrXK6-xA6GfJrxzz6JFERF3T1+dd22R0ORrQxYM5PNrTvOBw@mail.gmail.com>
	<2F083565602A4619AB28D9C432EBE49B@father>
Date: Sat, 13 Jun 2015 10:21:33 -0400
Message-ID: <CAKUrXK5k+5Jq10mK_Jf6LRudJ9QGwWoeS9140bkm08x0z+r7Tg@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11396412150f87051866f1ee
X-Virus-Checked: Checked by ClamAV on apache.org

--001a11396412150f87051866f1ee
Content-Type: text/plain; charset=UTF-8

On Sat, Jun 13, 2015 at 9:36 AM, Steffen <info@apachelounge.com> wrote:

>   Debug 2.4.14 was already in my first post.
>

sorry!


>
> The 2.4.13 (no error)  and 2.4.14 debug level error.log:
>
> Apache/2.4.13 (Win32)
> ================
>
> [Sat Jun 13 15:23:23.031198 2015] [authz_core:debug] [pid 9208:tid 1168]
> mod_authz_core.c(834): [client 127.0.0.1:54501] AH01628: authorization
> result: granted (no directives)
> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
> mod_proxy.c(1157): [client 127.0.0.1:54501] AH01143: Running scheme http
> handler (attempt 0)
> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
> proxy_util.c(2145): AH00942: HTTP: has acquired connection for (127.0.0.1)
> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
> proxy_util.c(2199): [client 127.0.0.1:54501] AH00944: connecting
> http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81
> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
> proxy_util.c(2408): [client 127.0.0.1:54501] AH00947: connected
> /sysadmin/ to 127.0.0.1:81
> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
> proxy_util.c(2782): AH02824: HTTP: connection established with
> 127.0.0.1:81 (127.0.0.1)
> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
> proxy_util.c(2936): AH00962: HTTP: connection complete to 127.0.0.1:81
> (127.0.0.1)
> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
> proxy_util.c(2160): AH00943: http: has released connection for (127.0.0.1)
>
>
>
> Apache/2.4.14 (Win32)
> =================
>
> [Sat Jun 13 15:20:54.616551 2015] [authz_core:debug] [pid 4676:tid 1152]
> mod_authz_core.c(834): [client 127.0.0.1:54430] AH01628: authorization
> result: granted (no directives)
> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
> mod_proxy.c(1157): [client 127.0.0.1:54430] AH01143: Running scheme http
> handler (attempt 0)
> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
> proxy_util.c(2145): AH00942: HTTP: has acquired connection for (127.0.0.1)
> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
> proxy_util.c(2199): [client 127.0.0.1:54430] AH00944: connecting
> http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81
> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
> proxy_util.c(2408): [client 127.0.0.1:54430] AH00947: connected
> /sysadmin/ to 127.0.0.1:81
> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
> proxy_util.c(2782): AH02824: HTTP: connection established with
> 127.0.0.1:81 (127.0.0.1)
> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
> proxy_util.c(2936): AH00962: HTTP: connection complete to 127.0.0.1:81
> (127.0.0.1)
> [Sat Jun 13 15:20:54.616551 2015] [proxy_http:error] [pid 4676:tid 1152]
> (20014)Internal error (specific information not available): [client
> 127.0.0.1:54430] AH01110: error reading response
> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
> proxy_util.c(2160): AH00943: HTTP: has released connection for (127.0.0.1)
>
>

AH01110 reading backend server response...

Just looking for APR_EGENERAL in modified code that doesn't have a log
message, I guess it is chunked and we hit this APR_EGENERAL ("Internal
error"):

+        else {
+            /* Should not happen */
+            return APR_EGENERAL;
+ }

Any better guesses out there?



>
>  *From:* Jeff Trawick <trawick@gmail.com>
> *Sent:* Saturday, June 13, 2015 3:14 PM
> *Newsgroups:* gmane.comp.apache.devel
> *To:* Apache HTTP Server Development List <dev@httpd.apache.org>
> *Subject:* Re: [VOTE] Release Apache httpd 2.4.14 as GA
>
>   On Sat, Jun 13, 2015 at 8:31 AM, Steffen <info@apachelounge.com> wrote:
>
>> Tested with 2.4.13 tarball, then no error.
>>
>
> Wow...
>
> Is anything written to the error log when you try proxy to the Sambar
> server?  If my guess about the related code is correct, you'll need
> LogLevel Info (or debug or trace) to see all the relevant messages.
>
>
>
>>
>> -----Original Message----- From: Steffen
>> Sent: Saturday, June 13, 2015 1:33 PM Newsgroups: gmane.comp.apache.devel
>> To: dev@httpd.apache.org
>> Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
>>
>>
>> Regression: All works fine except a Proxy Pass  to Sambar server, was
>> working ok with 2.4.12.
>>
>> ProxyPasses to other servers the Sambar works fine.
>>
>> ProxyPass         /sysadmin http://127.0.0.1:81/sysadmin
>> ProxyPassReverse /sysadmin http://127.0.0.1:81/sysadmin
>>
>> Calling with http://127.0.0.1:8080/sysadmin/ gives AH01110: error reading
>> response :
>>
>> [Sat Jun 13 13:23:08.010826 2015] [authz_core:debug] [pid 5684:tid 1128]
>> mod_authz_core.c(834): [client ::1:51072] AH01628: authorization result:
>> granted (no directives)
>> [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
>> mod_proxy.c(1157): [client ::1:51072] AH01143: Running scheme http handler
>> (attempt 0)
>> [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
>> proxy_util.c(2145): AH00942: HTTP: has acquired connection for (127.0.0.1)
>> [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
>> proxy_util.c(2199): [client ::1:51072] AH00944: connecting
>> http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81
>> [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
>> proxy_util.c(2408): [client ::1:51072] AH00947: connected /sysadmin/ to
>> 127.0.0.1:81
>> [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
>> proxy_util.c(2782): AH02824: HTTP: connection established with
>> 127.0.0.1:81
>> (127.0.0.1)
>> [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
>> proxy_util.c(2936): AH00962: HTTP: connection complete to 127.0.0.1:81
>> (127.0.0.1)
>> [Sat Jun 13 13:23:08.010826 2015] [proxy_http:error] [pid 5684:tid 1128]
>> (20014)Internal error (specific information not available): [client
>> ::1:51072] AH01110: error reading response
>> [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
>> proxy_util.c(2160): AH00943: HTTP: has released connection for (127.0.0.1)
>> [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
>> proxy_util.c(2878): [remote 127.0.0.1:81] AH02642: proxy: connection
>> shutdown
>>
>>
>>
>> -----Original Message----- From: Jim Jagielski
>> Sent: Thursday, June 11, 2015 4:08 PM Newsgroups: gmane.comp.apache.devel
>> To: httpd
>> Subject: [VOTE] Release Apache httpd 2.4.14 as GA
>>
>> The pre-release test tarballs for Apache httpd 2.4.14 can be found
>> at the usual place:
>>
>> http://httpd.apache.org/dev/dist/
>>
>> I'm calling a VOTE on releasing these as Apache httpd 2.4.14 GA.
>>
>> [ ] +1: Good to go
>> [ ] +0: meh
>> [ ] -1: Danger Will Robinson. And why.
>>
>> Vote will last the normal 72 hrs.
>>
>> NOTE: The *-deps are only there for convenience.
>>
>> Thx!
>>
>
>
>
> --
>  Born in Roswell... married an alien...
> http://emptyhammock.com/
>
>



-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a11396412150f87051866f1ee
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On S=
at, Jun 13, 2015 at 9:36 AM, Steffen <span dir=3D"ltr">&lt;<a href=3D"mailt=
o:info@apachelounge.com" target=3D"_blank">info@apachelounge.com</a>&gt;</s=
pan> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0p=
x 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-lef=
t-style:solid;padding-left:1ex">
<div dir=3D"ltr">
<div dir=3D"ltr">
<div style=3D"font-size:10pt;font-family:Arial;color:rgb(0,0,0)">
<div>Debug 2.4.14 was already in my first post.</div></div></div></div></bl=
ockquote><div><br></div><div>sorry!</div><div>=C2=A0<br></div><blockquote c=
lass=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-width:1p=
x;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1=
ex"><div dir=3D"ltr"><div dir=3D"ltr"><div style=3D"font-size:10pt;font-fam=
ily:Arial;color:rgb(0,0,0)">
<div>=C2=A0</div>
<div>The 2.4.13 (no error)=C2=A0 and 2.4.14 debug level error.log:</div>
<div>=C2=A0</div>
<div>Apache/2.4.13 (Win32)</div>
<div>=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D</div>
<div>=C2=A0</div>
<div>[Sat Jun 13 15:23:23.031198 2015] [authz_core:debug] [pid 9208:tid 116=
8]=20
mod_authz_core.c(834): [client <a href=3D"http://127.0.0.1:54501" target=3D=
"_blank">127.0.0.1:54501</a>] AH01628: authorization result:=20
granted (no directives)</div>
<div>[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]=20
mod_proxy.c(1157): [client <a href=3D"http://127.0.0.1:54501" target=3D"_bl=
ank">127.0.0.1:54501</a>] AH01143: Running scheme http handler=20
(attempt 0)</div>
<div>[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]=20
proxy_util.c(2145): AH00942: HTTP: has acquired connection for (127.0.0.1)<=
/div>
<div>[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]=20
proxy_util.c(2199): [client <a href=3D"http://127.0.0.1:54501" target=3D"_b=
lank">127.0.0.1:54501</a>] AH00944: connecting <a href=3D"http://127.0.0.1:=
81/sysadmin/" target=3D"_blank">http://127.0.0.1:81/sysadmin/</a> to=20
<a href=3D"http://127.0.0.1:81" target=3D"_blank">127.0.0.1:81</a></div>
<div>[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]=20
proxy_util.c(2408): [client <a href=3D"http://127.0.0.1:54501" target=3D"_b=
lank">127.0.0.1:54501</a>] AH00947: connected /sysadmin/ to=20
<a href=3D"http://127.0.0.1:81" target=3D"_blank">127.0.0.1:81</a></div>
<div>[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]=20
proxy_util.c(2782): AH02824: HTTP: connection established with <a href=3D"h=
ttp://127.0.0.1:81" target=3D"_blank">127.0.0.1:81</a>=20
(127.0.0.1)</div>
<div>[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]=20
proxy_util.c(2936): AH00962: HTTP: connection complete to <a href=3D"http:/=
/127.0.0.1:81" target=3D"_blank">127.0.0.1:81</a>=20
(127.0.0.1)</div>
<div>[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]=20
proxy_util.c(2160): AH00943: http: has released connection for (127.0.0.1)<=
/div>
<div>=C2=A0</div>
<div>=C2=A0</div>
<div>=C2=A0</div>
<div>Apache/2.4.14 (Win32)</div>
<div>=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D</div>
<div>=C2=A0</div>
<div>[Sat Jun 13 15:20:54.616551 2015] [authz_core:debug] [pid 4676:tid 115=
2]=20
mod_authz_core.c(834): [client <a href=3D"http://127.0.0.1:54430" target=3D=
"_blank">127.0.0.1:54430</a>] AH01628: authorization result:=20
granted (no directives)</div>
<div>[Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]=20
mod_proxy.c(1157): [client <a href=3D"http://127.0.0.1:54430" target=3D"_bl=
ank">127.0.0.1:54430</a>] AH01143: Running scheme http handler=20
(attempt 0)</div>
<div>[Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]=20
proxy_util.c(2145): AH00942: HTTP: has acquired connection for (127.0.0.1)<=
/div>
<div>[Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]=20
proxy_util.c(2199): [client <a href=3D"http://127.0.0.1:54430" target=3D"_b=
lank">127.0.0.1:54430</a>] AH00944: connecting <a href=3D"http://127.0.0.1:=
81/sysadmin/" target=3D"_blank">http://127.0.0.1:81/sysadmin/</a> to=20
<a href=3D"http://127.0.0.1:81" target=3D"_blank">127.0.0.1:81</a></div>
<div>[Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]=20
proxy_util.c(2408): [client <a href=3D"http://127.0.0.1:54430" target=3D"_b=
lank">127.0.0.1:54430</a>] AH00947: connected /sysadmin/ to=20
<a href=3D"http://127.0.0.1:81" target=3D"_blank">127.0.0.1:81</a></div>
<div>[Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]=20
proxy_util.c(2782): AH02824: HTTP: connection established with <a href=3D"h=
ttp://127.0.0.1:81" target=3D"_blank">127.0.0.1:81</a>=20
(127.0.0.1)</div>
<div>[Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]=20
proxy_util.c(2936): AH00962: HTTP: connection complete to <a href=3D"http:/=
/127.0.0.1:81" target=3D"_blank">127.0.0.1:81</a>=20
(127.0.0.1)</div>
<div>[Sat Jun 13 15:20:54.616551 2015] [proxy_http:error] [pid 4676:tid 115=
2]=20
(20014)Internal error (specific information not available): [client=20
<a href=3D"http://127.0.0.1:54430" target=3D"_blank">127.0.0.1:54430</a>] A=
H01110: error reading response</div>
<div>[Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]=20
proxy_util.c(2160): AH00943: HTTP: has released connection for (127.0.0.1)<=
/div>
<div>=C2=A0</div></div></div></div></blockquote><div><br></div>AH01110 read=
ing backend server response...<br><br>Just looking for APR_EGENERAL in modi=
fied code that doesn&#39;t have a log message, I guess it is chunked and we=
 hit this APR_EGENERAL (&quot;Internal error&quot;):<br><br>+ =C2=A0 =C2=A0=
 =C2=A0 =C2=A0else {<br>+ =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0/* Shoul=
d not happen */<br>+ =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0return APR_EG=
ENERAL; <br>+ }<div><br></div><div>Any better guesses out there?</div><div>=
<br></div><div>=C2=A0</div><blockquote class=3D"gmail_quote" style=3D"margi=
n:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204=
);border-left-style:solid;padding-left:1ex"><div dir=3D"ltr"><div dir=3D"lt=
r"><div style=3D"font-size:10pt;font-family:Arial;color:rgb(0,0,0)">
<div style=3D"font-size:small;text-decoration:none;font-family:Calibri;font=
-weight:normal;color:rgb(0,0,0);font-style:normal;display:inline">
<div style=3D"font-style:normal;font-variant:normal;font-weight:normal;font=
-stretch:normal;font-size:10pt;line-height:normal;font-family:tahoma">
<div>=C2=A0</div>
<div style=3D"background:rgb(245,245,245)">
<div><b>From:</b> <a title=3D"trawick@gmail.com" href=3D"mailto:trawick@gma=
il.com" target=3D"_blank">Jeff Trawick</a> </div>
<div><b>Sent:</b> Saturday, June 13, 2015 3:14 PM</div>
<div><b>Newsgroups:</b> gmane.comp.apache.devel</div>
<div><b>To:</b> <a title=3D"dev@httpd.apache.org" href=3D"mailto:dev@httpd.=
apache.org" target=3D"_blank">Apache HTTP Server Development List</a>=20
</div><div><div class=3D"h5">
<div><b>Subject:</b> Re: [VOTE] Release Apache httpd 2.4.14 as=20
GA</div></div></div></div></div>
<div>=C2=A0</div></div><div><div class=3D"h5">
<div style=3D"font-size:small;text-decoration:none;font-family:Calibri;font=
-weight:normal;color:rgb(0,0,0);font-style:normal;display:inline">
<div dir=3D"ltr">
<div class=3D"gmail_extra">
<div class=3D"gmail_quote">On Sat, Jun 13, 2015 at 8:31 AM, Steffen <span d=
ir=3D"ltr">&lt;<a href=3D"mailto:info@apachelounge.com" target=3D"_blank">i=
nfo@apachelounge.com</a>&gt;</span> wrote:<br>
<blockquote class=3D"gmail_quote" style=3D"padding-left:1ex;margin:0px 0px =
0px 0.8ex;border-left-color:rgb(204,204,204);border-left-width:1px;border-l=
eft-style:solid">Tested=20
  with 2.4.13 tarball, then no error.<br></blockquote>
<div>=C2=A0</div>
<div>Wow...=C2=A0 </div>
<div>=C2=A0</div>
<div>Is anything written to the error log when you try proxy to the Sambar=
=20
server?=C2=A0 If my guess about the related code is correct, you&#39;ll nee=
d=20
LogLevel Info (or debug or trace) to see all the relevant messages.</div>
<div>=C2=A0</div>
<div>=C2=A0</div>
<blockquote class=3D"gmail_quote" style=3D"padding-left:1ex;margin:0px 0px =
0px 0.8ex;border-left-color:rgb(204,204,204);border-left-width:1px;border-l=
eft-style:solid"><br>-----Original=20
  Message----- From: Steffen<br>Sent: Saturday, June 13, 2015 1:33 PM=20
  Newsgroups: gmane.comp.apache.devel<br>To: <a href=3D"mailto:dev@httpd.ap=
ache.org" target=3D"_blank">dev@httpd.apache.org</a><br>Subject: Re: [VOTE]=
 Release Apache=20
  httpd 2.4.14 as GA=20
  <div>
  <div><br><br>Regression: All works fine except a Proxy Pass=C2=A0 to=20
  Sambar server, was<br>working ok with 2.4.12.<br><br>ProxyPasses to other=
=20
  servers the Sambar works=20
  fine.<br><br>ProxyPass=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=20
  /sysadmin <a href=3D"http://127.0.0.1:81/sysadmin" rel=3D"noreferrer" tar=
get=3D"_blank">http://127.0.0.1:81/sysadmin</a><br>ProxyPassReverse /sysadm=
in=20
  <a href=3D"http://127.0.0.1:81/sysadmin" rel=3D"noreferrer" target=3D"_bl=
ank">http://127.0.0.1:81/sysadmin</a><br><br>Calling with <a href=3D"http:/=
/127.0.0.1:8080/sysadmin/" rel=3D"noreferrer" target=3D"_blank">http://127.=
0.0.1:8080/sysadmin/</a> gives AH01110: error=20
  reading<br>response :<br><br>[Sat Jun 13 13:23:08.010826 2015]=20
  [authz_core:debug] [pid 5684:tid 1128]<br>mod_authz_core.c(834): [client=
=20
  ::1:51072] AH01628: authorization result:<br>granted (no directives)<br>[=
Sat=20
  Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid=20
  1128]<br>mod_proxy.c(1157): [client ::1:51072] AH01143: Running scheme ht=
tp=20
  handler<br>(attempt 0)<br>[Sat Jun 13 13:23:08.010826 2015] [proxy:debug]=
 [pid=20
  5684:tid 1128]<br>proxy_util.c(2145): AH00942: HTTP: has acquired connect=
ion=20
  for (127.0.0.1)<br>[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid=
=20
  5684:tid 1128]<br>proxy_util.c(2199): [client ::1:51072] AH00944:=20
  connecting<br><a href=3D"http://127.0.0.1:81/sysadmin/" rel=3D"noreferrer=
" target=3D"_blank">http://127.0.0.1:81/sysadmin/</a> to <a href=3D"http://=
127.0.0.1:81" rel=3D"noreferrer" target=3D"_blank">127.0.0.1:81</a><br>[Sat=
 Jun 13 13:23:08.010826 2015]=20
  [proxy:debug] [pid 5684:tid 1128]<br>proxy_util.c(2408): [client ::1:5107=
2]=20
  AH00947: connected /sysadmin/ to<br><a href=3D"http://127.0.0.1:81" rel=
=3D"noreferrer" target=3D"_blank">127.0.0.1:81</a><br>[Sat Jun 13 13:23:08.=
010826=20
  2015] [proxy:debug] [pid 5684:tid 1128]<br>proxy_util.c(2782): AH02824: H=
TTP:=20
  connection established with <a href=3D"http://127.0.0.1:81" rel=3D"norefe=
rrer" target=3D"_blank">127.0.0.1:81</a><br>(127.0.0.1)<br>[Sat Jun 13 13:2=
3:08.010826=20
  2015] [proxy:debug] [pid 5684:tid 1128]<br>proxy_util.c(2936): AH00962: H=
TTP:=20
  connection complete to <a href=3D"http://127.0.0.1:81" rel=3D"noreferrer"=
 target=3D"_blank">127.0.0.1:81</a><br>(127.0.0.1)<br>[Sat Jun 13 13:23:08.=
010826=20
  2015] [proxy_http:error] [pid 5684:tid 1128]<br>(20014)Internal error=20
  (specific information not available): [client<br>::1:51072] AH01110: erro=
r=20
  reading response<br>[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid=
=20
  5684:tid 1128]<br>proxy_util.c(2160): AH00943: HTTP: has released connect=
ion=20
  for (127.0.0.1)<br>[Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid=
=20
  5684:tid 1128]<br>proxy_util.c(2878): [remote <a href=3D"http://127.0.0.1=
:81" rel=3D"noreferrer" target=3D"_blank">127.0.0.1:81</a>] AH02642: proxy:=
=20
  connection<br>shutdown<br><br><br><br>-----Original Message----- From: Ji=
m=20
  Jagielski<br>Sent: Thursday, June 11, 2015 4:08 PM Newsgroups:=20
  gmane.comp.apache.devel<br>To: httpd<br>Subject: [VOTE] Release Apache ht=
tpd=20
  2.4.14 as GA<br><br>The pre-release test tarballs for Apache httpd 2.4.14=
 can=20
  be found<br>at the usual place:<br><br><a href=3D"http://httpd.apache.org=
/dev/dist/" rel=3D"noreferrer" target=3D"_blank">http://httpd.apache.org/de=
v/dist/</a><br><br>I&#39;m calling a VOTE=20
  on releasing these as Apache httpd 2.4.14 GA.<br><br>[ ] +1: Good to go<b=
r>[ ]=20
  +0: meh<br>[ ] -1: Danger Will Robinson. And why.<br><br>Vote will last t=
he=20
  normal 72 hrs.<br><br>NOTE: The *-deps are only there for=20
  convenience.<br><br>Thx!<br></div></div></blockquote></div><br><br clear=
=3D"all">
<div>=C2=A0</div>-- <br>
<div>
<div dir=3D"ltr">Born in Roswell... married an alien...<br><a href=3D"http:=
//emptyhammock.com/" target=3D"_blank">http://emptyhammock.com/</a>=20
<div>=C2=A0</div></div></div></div></div></div></div></div></div></div></di=
v>
</blockquote></div><br><br clear=3D"all"><div><br></div>-- <br><div class=
=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien..=
.<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyham=
mock.com/</a><div><br></div></div></div>
</div></div>

--001a11396412150f87051866f1ee--

From dev-return-82977-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 13 16:51:28 2015
Return-Path: <dev-return-82977-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 593C317A02
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Jun 2015 16:51:28 +0000 (UTC)
Received: (qmail 75350 invoked by uid 500); 13 Jun 2015 16:51:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75283 invoked by uid 500); 13 Jun 2015 16:51:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75273 invoked by uid 99); 13 Jun 2015 16:51:27 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 16:51:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 6C9E9182204
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 16:51:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.991
X-Spam-Level: *
X-Spam-Status: No, score=1.991 tagged_above=-999 required=6.31
	tests=[KAM_BADIPHTTP=2, SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01,
	URIBL_BLOCKED=0.001, WEIRD_PORT=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id vm0jnV76mueY for <dev@httpd.apache.org>;
	Sat, 13 Jun 2015 16:51:14 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id A456422FF6
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 16:51:13 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t5DGp5uq007993
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 18:51:05 +0200 (CEST)
Message-ID: <557C5F75.3090006@kippdata.de>
Date: Sat, 13 Jun 2015 18:51:01 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com><C8CFFE6DEF254EC2BBC171776451AFAA@father><CC79AF480F174707ACF9A64818E37383@father> <CAKUrXK6-xA6GfJrxzz6JFERF3T1+dd22R0ORrQxYM5PNrTvOBw@mail.gmail.com> <2F083565602A4619AB28D9C432EBE49B@father>
In-Reply-To: <2F083565602A4619AB28D9C432EBE49B@father>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit

Hi Steffen,

any chance you can reproduce the problem with a slightly patched 2.4.14 
to get additional log output around the suspect code?

The patch would be

Index: modules/http/http_filters.c
===================================================================
--- modules/http/http_filters.c (revision 1685283)
+++ modules/http/http_filters.c (working copy)
@@ -514,6 +514,9 @@
                      rv = parse_chunk_size(ctx, buffer, len,
 
f->r->server->limit_req_fieldsize);
                      if (rv != APR_SUCCESS) {
+                        ap_log_rerror(APLOG_MARK, APLOG_ERR, rv, f->r, 
APLOGNO(99999)
+                                      "Error parsing chunk size, buffer 
%*.*s, limit %d",
+                                      len, len, buffer, 
f->r->server->limit_req_fieldsize);
                          if (rv != APR_ENOSPC) {
                              http_error = HTTP_BAD_REQUEST;
                          }

It will *not* fix the problem but should give us enough additional info 
to find out why it is happening.

It would be great if you could patch your 2.4.14, rebuild and rerun the 
Sambar test.

Thanks a bunch!

Rainer

Am 13.06.2015 um 15:36 schrieb Steffen:
> Debug 2.4.14 was already in my first post.
> The 2.4.13 (no error)  and 2.4.14 debug level error.log:
> Apache/2.4.13 (Win32)
> ================
> [Sat Jun 13 15:23:23.031198 2015] [authz_core:debug] [pid 9208:tid 1168]
> mod_authz_core.c(834): [client 127.0.0.1:54501] AH01628: authorization
> result: granted (no directives)
> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
> mod_proxy.c(1157): [client 127.0.0.1:54501] AH01143: Running scheme http
> handler (attempt 0)
> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
> proxy_util.c(2145): AH00942: HTTP: has acquired connection for (127.0.0.1)
> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
> proxy_util.c(2199): [client 127.0.0.1:54501] AH00944: connecting
> http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81
> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
> proxy_util.c(2408): [client 127.0.0.1:54501] AH00947: connected
> /sysadmin/ to 127.0.0.1:81
> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
> proxy_util.c(2782): AH02824: HTTP: connection established with
> 127.0.0.1:81 (127.0.0.1)
> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
> proxy_util.c(2936): AH00962: HTTP: connection complete to 127.0.0.1:81
> (127.0.0.1)
> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
> proxy_util.c(2160): AH00943: http: has released connection for (127.0.0.1)
> Apache/2.4.14 (Win32)
> =================
> [Sat Jun 13 15:20:54.616551 2015] [authz_core:debug] [pid 4676:tid 1152]
> mod_authz_core.c(834): [client 127.0.0.1:54430] AH01628: authorization
> result: granted (no directives)
> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
> mod_proxy.c(1157): [client 127.0.0.1:54430] AH01143: Running scheme http
> handler (attempt 0)
> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
> proxy_util.c(2145): AH00942: HTTP: has acquired connection for (127.0.0.1)
> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
> proxy_util.c(2199): [client 127.0.0.1:54430] AH00944: connecting
> http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81
> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
> proxy_util.c(2408): [client 127.0.0.1:54430] AH00947: connected
> /sysadmin/ to 127.0.0.1:81
> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
> proxy_util.c(2782): AH02824: HTTP: connection established with
> 127.0.0.1:81 (127.0.0.1)
> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
> proxy_util.c(2936): AH00962: HTTP: connection complete to 127.0.0.1:81
> (127.0.0.1)
> [Sat Jun 13 15:20:54.616551 2015] [proxy_http:error] [pid 4676:tid 1152]
> (20014)Internal error (specific information not available): [client
> 127.0.0.1:54430] AH01110: error reading response
> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
> proxy_util.c(2160): AH00943: HTTP: has released connection for (127.0.0.1)
> *From:* Jeff Trawick <mailto:trawick@gmail.com>
> *Sent:* Saturday, June 13, 2015 3:14 PM
> *Newsgroups:* gmane.comp.apache.devel
> *To:* Apache HTTP Server Development List <mailto:dev@httpd.apache.org>
> *Subject:* Re: [VOTE] Release Apache httpd 2.4.14 as GA
> On Sat, Jun 13, 2015 at 8:31 AM, Steffen <info@apachelounge.com
> <mailto:info@apachelounge.com>> wrote:
>
>     Tested with 2.4.13 tarball, then no error.
>
> Wow...
> Is anything written to the error log when you try proxy to the Sambar
> server?  If my guess about the related code is correct, you'll need
> LogLevel Info (or debug or trace) to see all the relevant messages.
>
>
>     -----Original Message----- From: Steffen
>     Sent: Saturday, June 13, 2015 1:33 PM Newsgroups:
>     gmane.comp.apache.devel
>     To: dev@httpd.apache.org <mailto:dev@httpd.apache.org>
>     Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
>
>
>     Regression: All works fine except a Proxy Pass  to Sambar server, was
>     working ok with 2.4.12.
>
>     ProxyPasses to other servers the Sambar works fine.
>
>     ProxyPass /sysadmin http://127.0.0.1:81/sysadmin
>     ProxyPassReverse /sysadmin http://127.0.0.1:81/sysadmin
>
>     Calling with http://127.0.0.1:8080/sysadmin/ gives AH01110: error
>     reading
>     response :
>
>     [Sat Jun 13 13:23:08.010826 2015] [authz_core:debug] [pid 5684:tid 1128]
>     mod_authz_core.c(834): [client ::1:51072] AH01628: authorization result:
>     granted (no directives)
>     [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
>     mod_proxy.c(1157): [client ::1:51072] AH01143: Running scheme http
>     handler
>     (attempt 0)
>     [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
>     proxy_util.c(2145): AH00942: HTTP: has acquired connection for
>     (127.0.0.1)
>     [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
>     proxy_util.c(2199): [client ::1:51072] AH00944: connecting
>     http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81 <http://127.0.0.1:81>
>     [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
>     proxy_util.c(2408): [client ::1:51072] AH00947: connected /sysadmin/ to
>     127.0.0.1:81 <http://127.0.0.1:81>
>     [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
>     proxy_util.c(2782): AH02824: HTTP: connection established with
>     127.0.0.1:81 <http://127.0.0.1:81>
>     (127.0.0.1)
>     [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
>     proxy_util.c(2936): AH00962: HTTP: connection complete to
>     127.0.0.1:81 <http://127.0.0.1:81>
>     (127.0.0.1)
>     [Sat Jun 13 13:23:08.010826 2015] [proxy_http:error] [pid 5684:tid 1128]
>     (20014)Internal error (specific information not available): [client
>     ::1:51072] AH01110: error reading response
>     [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
>     proxy_util.c(2160): AH00943: HTTP: has released connection for
>     (127.0.0.1)
>     [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 1128]
>     proxy_util.c(2878): [remote 127.0.0.1:81 <http://127.0.0.1:81>]
>     AH02642: proxy: connection
>     shutdown
>
>
>
>     -----Original Message----- From: Jim Jagielski
>     Sent: Thursday, June 11, 2015 4:08 PM Newsgroups:
>     gmane.comp.apache.devel
>     To: httpd
>     Subject: [VOTE] Release Apache httpd 2.4.14 as GA
>
>     The pre-release test tarballs for Apache httpd 2.4.14 can be found
>     at the usual place:
>
>     http://httpd.apache.org/dev/dist/
>
>     I'm calling a VOTE on releasing these as Apache httpd 2.4.14 GA.
>
>     [ ] +1: Good to go
>     [ ] +0: meh
>     [ ] -1: Danger Will Robinson. And why.
>
>     Vote will last the normal 72 hrs.
>
>     NOTE: The *-deps are only there for convenience.
>
>     Thx!
>
>
>
> --
> Born in Roswell... married an alien...
> http://emptyhammock.com/

-- 
kippdata
informationstechnologie GmbH   Tel: 0228 98549 -0
Bornheimer Str. 33a            Fax: 0228 98549 -50
53111 Bonn                     www.kippdata.de

HRB 8018 Amtsgericht Bonn / USt.-IdNr. DE 196 457 417
Geschftsfhrer: Dr. Thomas Hfer, Rainer Jung, Sven Maurmann

From dev-return-82978-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 13 17:35:58 2015
Return-Path: <dev-return-82978-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 517A017ADF
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Jun 2015 17:35:58 +0000 (UTC)
Received: (qmail 28653 invoked by uid 500); 13 Jun 2015 17:35:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28578 invoked by uid 500); 13 Jun 2015 17:35:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28568 invoked by uid 99); 13 Jun 2015 17:35:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 17:35:57 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_HELO_PASS,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of info@apachelounge.com designates 80.101.236.247 as permitted sender)
Received: from [80.101.236.247] (HELO land10web.com) (80.101.236.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 17:33:43 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1434216965;
	bh=767cIosGJPm9/o/6jbn99VIcQ5U6DYZXi4M6PFbzGbg=;
	h=From:To:Subject:Date;
	b=Sj81U8mXNAOp/Oo5ph5BHBJTzkOrQpWpWWBtZJVbO1pomAI8ADC8InTYDZ9mv81cn
	 6zZj4HN6ss7KDMrVnm7/PuTBOVsBvofDnv3lcpDkLdPVF0mns53+/LN3znuF/l2tCo
	 mJd13C5ucCk6aVL1peD4nH/PR1mKsRbEiQdEeOA8=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=127.0.0.1;
From: Steffen <info@apachelounge.com>
To:  <dev@httpd.apache.org>
Subject: Re: ********* Re: [VOTE] Release Apache httpd 2.4.14 as GA
Date: Sat, 13 Jun 2015 19:35:43 +0200
Message-ID: <557c69ef.7f0.20b8.5028@land10.nl>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
X-Originating-IP: 127.0.0.1
X-Mailer: SurgeWeb - Ajax Webmail Client
X-Virus-Checked: Checked by ClamAV on apache.org


Done:


[http:error] [pid 6440:tid 1160] (22)Invalid argument: [remote 
127.0.0.1:81] AH99999: Error parsing chunk size, buffer 4c7     \r\n, 
limit 8190
[proxy_http:error] [pid 6440:tid 1160] (20014)Internal error (specific 
information not available): [client ::1:62059] AH01110: error reading 
response, referer: http://localhost:8080/syshelp/

[http:error] [pid 6440:tid 1172] (22)Invalid argument: [remote 
127.0.0.1:81] AH99999: Error parsing chunk size, buffer 5a5     \r\n, 
limit 8190
 [proxy_http:error] [pid 6440:tid 1172] (20014)Internal error 
(specific information not available): [client ::1:62058] AH01110: 
error reading response, referer: http://localhost:8080/syshelp/



On Saturday 13/06/2015 at 18:51, Rainer Jung  wrote:
> Hi Steffen,
>
> any chance you can reproduce the problem with a slightly patched 
> 2.4.14 to get additional log output around the suspect code?
>
> The patch would be
>
> Index: modules/http/http_filters.c
> ===================================================================
> --- modules/http/http_filters.c (revision 1685283)
> +++ modules/http/http_filters.c (working copy)
> @@ -514,6 +514,9 @@
>                                            rv = parse_chunk_size(ctx, 
> buffer, len,
>
> f->r->server->limit_req_fieldsize);
>                                            if (rv != APR_SUCCESS) {
> +                        ap_log_rerror(APLOG_MARK, APLOG_ERR, rv, 
> f->r, APLOGNO(99999)
> +                                      "Error parsing chunk size, 
> buffer %*.*s, limit %d",
> +                                      len, len, buffer, 
> f->r->server->limit_req_fieldsize);
>                                                    if (rv != 
> APR_ENOSPC) {
>                                                            http_error 
> = HTTP_BAD_REQUEST;
>                                                    }
>
> It will *not* fix the problem but should give us enough additional 
> info to find out why it is happening.
>
> It would be great if you could patch your 2.4.14, rebuild and rerun 
> the Sambar test.
>
> Thanks a bunch!
>
> Rainer
>
> Am 13.06.2015 um 15:36 schrieb Steffen:
>>
>> Debug 2.4.14 was already in my first post.
>> The 2.4.13 (no error)  and 2.4.14 debug level error.log:
>> Apache/2.4.13 (Win32)
>> ================
>> [Sat Jun 13 15:23:23.031198 2015] [authz_core:debug] [pid 9208:tid 
>> 1168]
>> mod_authz_core.c(834): [client 127.0.0.1:54501] AH01628: authorization
>> result: granted (no directives)
>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>> mod_proxy.c(1157): [client 127.0.0.1:54501] AH01143: Running scheme 
>> http
>> handler (attempt 0)
>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>> proxy_util.c(2145): AH00942: HTTP: has acquired connection for 
>> (127.0.0.1)
>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>> proxy_util.c(2199): [client 127.0.0.1:54501] AH00944: connecting
>> http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81
>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>> proxy_util.c(2408): [client 127.0.0.1:54501] AH00947: connected
>> /sysadmin/ to 127.0.0.1:81
>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>> proxy_util.c(2782): AH02824: HTTP: connection established with
>> 127.0.0.1:81 (127.0.0.1)
>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>> proxy_util.c(2936): AH00962: HTTP: connection complete to 127.0.0.1:81
>> (127.0.0.1)
>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>> proxy_util.c(2160): AH00943: http: has released connection for 
>> (127.0.0.1)
>> Apache/2.4.14 (Win32)
>> =================
>> [Sat Jun 13 15:20:54.616551 2015] [authz_core:debug] [pid 4676:tid 
>> 1152]
>> mod_authz_core.c(834): [client 127.0.0.1:54430] AH01628: authorization
>> result: granted (no directives)
>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>> mod_proxy.c(1157): [client 127.0.0.1:54430] AH01143: Running scheme 
>> http
>> handler (attempt 0)
>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>> proxy_util.c(2145): AH00942: HTTP: has acquired connection for 
>> (127.0.0.1)
>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>> proxy_util.c(2199): [client 127.0.0.1:54430] AH00944: connecting
>> http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81
>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>> proxy_util.c(2408): [client 127.0.0.1:54430] AH00947: connected
>> /sysadmin/ to 127.0.0.1:81
>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>> proxy_util.c(2782): AH02824: HTTP: connection established with
>> 127.0.0.1:81 (127.0.0.1)
>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>> proxy_util.c(2936): AH00962: HTTP: connection complete to 127.0.0.1:81
>> (127.0.0.1)
>> [Sat Jun 13 15:20:54.616551 2015] [proxy_http:error] [pid 4676:tid 
>> 1152]
>> (20014)Internal error (specific information not available): [client
>> 127.0.0.1:54430] AH01110: error reading response
>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>> proxy_util.c(2160): AH00943: HTTP: has released connection for 
>> (127.0.0.1)
>> *From:* Jeff Trawick <mailto:trawick@gmail.com>
>> *Sent:* Saturday, June 13, 2015 3:14 PM
>> *Newsgroups:* gmane.comp.apache.devel
>> *To:* Apache HTTP Server Development List 
>> <mailto:dev@httpd.apache.org>
>> *Subject:* Re: [VOTE] Release Apache httpd 2.4.14 as GA
>> On Sat, Jun 13, 2015 at 8:31 AM, Steffen <info@apachelounge.com
>> <mailto:info@apachelounge.com>> wrote:
>>
>>          Tested with 2.4.13 tarball, then no error.
>>
>> Wow...
>> Is anything written to the error log when you try proxy to the Sambar
>> server?  If my guess about the related code is correct, you'll need
>> LogLevel Info (or debug or trace) to see all the relevant messages.
>>
>>
>>          -----Original Message----- From: Steffen
>>          Sent: Saturday, June 13, 2015 1:33 PM Newsgroups:
>>          gmane.comp.apache.devel
>>          To: dev@httpd.apache.org <mailto:dev@httpd.apache.org>
>>          Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
>>
>>
>>          Regression: All works fine except a Proxy Pass  to Sambar 
>> server, was
>>          working ok with 2.4.12.
>>
>>          ProxyPasses to other servers the Sambar works fine.
>>
>>          ProxyPass /sysadmin http://127.0.0.1:81/sysadmin
>>          ProxyPassReverse /sysadmin http://127.0.0.1:81/sysadmin
>>
>>          Calling with http://127.0.0.1:8080/sysadmin/ gives AH01110: 
>> error
>>          reading
>>          response :
>>
>>          [Sat Jun 13 13:23:08.010826 2015] [authz_core:debug] [pid 
>> 5684:tid 1128]
>>          mod_authz_core.c(834): [client ::1:51072] AH01628: 
>> authorization result:
>>          granted (no directives)
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 
>> 1128]
>>          mod_proxy.c(1157): [client ::1:51072] AH01143: Running scheme 
>> http
>>          handler
>>          (attempt 0)
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 
>> 1128]
>>          proxy_util.c(2145): AH00942: HTTP: has acquired connection 
>> for
>>          (127.0.0.1)
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 
>> 1128]
>>          proxy_util.c(2199): [client ::1:51072] AH00944: connecting
>>      http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81 
>> <http://127.0.0.1:81>
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 
>> 1128]
>>          proxy_util.c(2408): [client ::1:51072] AH00947: connected 
>> /sysadmin/ to
>>          127.0.0.1:81 <http://127.0.0.1:81>
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 
>> 1128]
>>          proxy_util.c(2782): AH02824: HTTP: connection established 
>> with
>>          127.0.0.1:81 <http://127.0.0.1:81>
>>          (127.0.0.1)
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 
>> 1128]
>>          proxy_util.c(2936): AH00962: HTTP: connection complete to
>>          127.0.0.1:81 <http://127.0.0.1:81>
>>          (127.0.0.1)
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy_http:error] [pid 
>> 5684:tid 1128]
>>          (20014)Internal error (specific information not available): 
>> [client
>>          ::1:51072] AH01110: error reading response
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 
>> 1128]
>>          proxy_util.c(2160): AH00943: HTTP: has released connection 
>> for
>>          (127.0.0.1)
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 
>> 1128]
>>          proxy_util.c(2878): [remote 127.0.0.1:81 
>> <http://127.0.0.1:81>]
>>          AH02642: proxy: connection
>>          shutdown
>>
>>
>>
>>          -----Original Message----- From: Jim Jagielski
>>          Sent: Thursday, June 11, 2015 4:08 PM Newsgroups:
>>          gmane.comp.apache.devel
>>          To: httpd
>>          Subject: [VOTE] Release Apache httpd 2.4.14 as GA
>>
>>          The pre-release test tarballs for Apache httpd 2.4.14 can be 
>> found
>>          at the usual place:
>>
>>      http://httpd.apache.org/dev/dist/
>>
>>          I'm calling a VOTE on releasing these as Apache httpd 2.4.14 
>> GA.
>>
>>          [ ] +1: Good to go
>>          [ ] +0: meh
>>          [ ] -1: Danger Will Robinson. And why.
>>
>>          Vote will last the normal 72 hrs.
>>
>>          NOTE: The *-deps are only there for convenience.
>>
>>          Thx!
>>
>>
>>
>> --
>> Born in Roswell... married an alien...
>> http://emptyhammock.com/
>
> --
> kippdata
> informationstechnologie GmbH   Tel: 0228 98549 -0
> Bornheimer Str. 33a            Fax: 0228 98549 -50
> 53111 Bonn http://www.kippdata.de
>
> HRB 8018 Amtsgericht Bonn / USt.-IdNr. DE 196 457 417
> Geschftsfhrer: Dr. Thomas Hfer, Rainer Jung, Sven Maurmann




From dev-return-82979-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 13 18:16:56 2015
Return-Path: <dev-return-82979-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4BE6D17BAE
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Jun 2015 18:16:56 +0000 (UTC)
Received: (qmail 81181 invoked by uid 500); 13 Jun 2015 18:16:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 81116 invoked by uid 500); 13 Jun 2015 18:16:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 81106 invoked by uid 99); 13 Jun 2015 18:16:55 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 18:16:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 628A3182204
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 18:16:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.263
X-Spam-Level: **
X-Spam-Status: No, score=2.263 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_BADIPHTTP=2, RDNS_DYNAMIC=0.363, SPF_HELO_PASS=-0.001,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001, WEIRD_PORT=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id Dk-fH-BYjTQo for <dev@httpd.apache.org>;
	Sat, 13 Jun 2015 18:16:45 +0000 (UTC)
Received: from land10web.com (a80-101-236-247.adsl.xs4all.nl [80.101.236.247])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 272D2204D8
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 18:16:45 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1434219418;
	bh=tYPCt8xNJo5+fKMyWaHCZr1R5qPo6BMtMWPgzGlZ5x4=;
	h=From:To:References:In-Reply-To:Subject:Date;
	b=JZ5eZXU4g3n1I+KHodfwE3idJBfF5isl4FCVuZLfyimsdibHV1HHGJNwJxt9v7ndo
	 dQWDadigwE8MllK4FFPbgwnHhjpeUi2lnWssNNrxStGPgQxV0MGeSVmr1Tkc82wyQ7
	 qEpl1u2FdTIjGftQ/TpTcDnwwfe/vL5AJDO1W4PM=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <7137ACF6C8404662B1AE1F7C51937938@father>
From: "Steffen" <info@apachelounge.com>
To: <dev@httpd.apache.org>
References: <557c69ef.7f0.20b8.5028@land10.nl>
In-Reply-To: <557c69ef.7f0.20b8.5028@land10.nl>
Subject: Re: ********* Re: [VOTE] Release Apache httpd 2.4.14 as GA
Date: Sat, 13 Jun 2015 20:16:15 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="UTF-8";
	reply-type=response
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

When I disable compression in Sambar then it is fine, like with 2.4.13 and 
below.

-----Original Message----- 
From: Steffen
Sent: Saturday, June 13, 2015 7:35 PM Newsgroups: gmane.comp.apache.devel
To: dev@httpd.apache.org
Subject: Re: ********* Re: [VOTE] Release Apache httpd 2.4.14 as GA


Done:


[http:error] [pid 6440:tid 1160] (22)Invalid argument: [remote
127.0.0.1:81] AH99999: Error parsing chunk size, buffer 4c7     \r\n,
limit 8190
[proxy_http:error] [pid 6440:tid 1160] (20014)Internal error (specific
information not available): [client ::1:62059] AH01110: error reading
response, referer: http://localhost:8080/syshelp/

[http:error] [pid 6440:tid 1172] (22)Invalid argument: [remote
127.0.0.1:81] AH99999: Error parsing chunk size, buffer 5a5     \r\n,
limit 8190
[proxy_http:error] [pid 6440:tid 1172] (20014)Internal error
(specific information not available): [client ::1:62058] AH01110:
error reading response, referer: http://localhost:8080/syshelp/



On Saturday 13/06/2015 at 18:51, Rainer Jung  wrote:
> Hi Steffen,
>
> any chance you can reproduce the problem with a slightly patched 2.4.14 to 
> get additional log output around the suspect code?
>
> The patch would be
>
> Index: modules/http/http_filters.c
> ===================================================================
> --- modules/http/http_filters.c (revision 1685283)
> +++ modules/http/http_filters.c (working copy)
> @@ -514,6 +514,9 @@
>                                            rv = parse_chunk_size(ctx, 
> buffer, len,
>
> f->r->server->limit_req_fieldsize);
>                                            if (rv != APR_SUCCESS) {
> +                        ap_log_rerror(APLOG_MARK, APLOG_ERR, rv, f->r, 
> APLOGNO(99999)
> +                                      "Error parsing chunk size, buffer 
> %*.*s, limit %d",
> +                                      len, len, buffer, 
> f->r->server->limit_req_fieldsize);
>                                                    if (rv != APR_ENOSPC) {
>                                                            http_error = 
> HTTP_BAD_REQUEST;
>                                                    }
>
> It will *not* fix the problem but should give us enough additional info to 
> find out why it is happening.
>
> It would be great if you could patch your 2.4.14, rebuild and rerun the 
> Sambar test.
>
> Thanks a bunch!
>
> Rainer
>
> Am 13.06.2015 um 15:36 schrieb Steffen:
>>
>> Debug 2.4.14 was already in my first post.
>> The 2.4.13 (no error)  and 2.4.14 debug level error.log:
>> Apache/2.4.13 (Win32)
>> ================
>> [Sat Jun 13 15:23:23.031198 2015] [authz_core:debug] [pid 9208:tid 1168]
>> mod_authz_core.c(834): [client 127.0.0.1:54501] AH01628: authorization
>> result: granted (no directives)
>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>> mod_proxy.c(1157): [client 127.0.0.1:54501] AH01143: Running scheme http
>> handler (attempt 0)
>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>> proxy_util.c(2145): AH00942: HTTP: has acquired connection for 
>> (127.0.0.1)
>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>> proxy_util.c(2199): [client 127.0.0.1:54501] AH00944: connecting
>> http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81
>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>> proxy_util.c(2408): [client 127.0.0.1:54501] AH00947: connected
>> /sysadmin/ to 127.0.0.1:81
>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>> proxy_util.c(2782): AH02824: HTTP: connection established with
>> 127.0.0.1:81 (127.0.0.1)
>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>> proxy_util.c(2936): AH00962: HTTP: connection complete to 127.0.0.1:81
>> (127.0.0.1)
>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>> proxy_util.c(2160): AH00943: http: has released connection for 
>> (127.0.0.1)
>> Apache/2.4.14 (Win32)
>> =================
>> [Sat Jun 13 15:20:54.616551 2015] [authz_core:debug] [pid 4676:tid 1152]
>> mod_authz_core.c(834): [client 127.0.0.1:54430] AH01628: authorization
>> result: granted (no directives)
>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>> mod_proxy.c(1157): [client 127.0.0.1:54430] AH01143: Running scheme http
>> handler (attempt 0)
>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>> proxy_util.c(2145): AH00942: HTTP: has acquired connection for 
>> (127.0.0.1)
>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>> proxy_util.c(2199): [client 127.0.0.1:54430] AH00944: connecting
>> http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81
>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>> proxy_util.c(2408): [client 127.0.0.1:54430] AH00947: connected
>> /sysadmin/ to 127.0.0.1:81
>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>> proxy_util.c(2782): AH02824: HTTP: connection established with
>> 127.0.0.1:81 (127.0.0.1)
>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>> proxy_util.c(2936): AH00962: HTTP: connection complete to 127.0.0.1:81
>> (127.0.0.1)
>> [Sat Jun 13 15:20:54.616551 2015] [proxy_http:error] [pid 4676:tid 1152]
>> (20014)Internal error (specific information not available): [client
>> 127.0.0.1:54430] AH01110: error reading response
>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>> proxy_util.c(2160): AH00943: HTTP: has released connection for 
>> (127.0.0.1)
>> *From:* Jeff Trawick <mailto:trawick@gmail.com>
>> *Sent:* Saturday, June 13, 2015 3:14 PM
>> *Newsgroups:* gmane.comp.apache.devel
>> *To:* Apache HTTP Server Development List <mailto:dev@httpd.apache.org>
>> *Subject:* Re: [VOTE] Release Apache httpd 2.4.14 as GA
>> On Sat, Jun 13, 2015 at 8:31 AM, Steffen <info@apachelounge.com
>> <mailto:info@apachelounge.com>> wrote:
>>
>>          Tested with 2.4.13 tarball, then no error.
>>
>> Wow...
>> Is anything written to the error log when you try proxy to the Sambar
>> server?  If my guess about the related code is correct, you'll need
>> LogLevel Info (or debug or trace) to see all the relevant messages.
>>
>>
>>          -----Original Message----- From: Steffen
>>          Sent: Saturday, June 13, 2015 1:33 PM Newsgroups:
>>          gmane.comp.apache.devel
>>          To: dev@httpd.apache.org <mailto:dev@httpd.apache.org>
>>          Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
>>
>>
>>          Regression: All works fine except a Proxy Pass  to Sambar 
>> server, was
>>          working ok with 2.4.12.
>>
>>          ProxyPasses to other servers the Sambar works fine.
>>
>>          ProxyPass /sysadmin http://127.0.0.1:81/sysadmin
>>          ProxyPassReverse /sysadmin http://127.0.0.1:81/sysadmin
>>
>>          Calling with http://127.0.0.1:8080/sysadmin/ gives AH01110: 
>> error
>>          reading
>>          response :
>>
>>          [Sat Jun 13 13:23:08.010826 2015] [authz_core:debug] [pid 
>> 5684:tid 1128]
>>          mod_authz_core.c(834): [client ::1:51072] AH01628: authorization 
>> result:
>>          granted (no directives)
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 
>> 1128]
>>          mod_proxy.c(1157): [client ::1:51072] AH01143: Running scheme 
>> http
>>          handler
>>          (attempt 0)
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 
>> 1128]
>>          proxy_util.c(2145): AH00942: HTTP: has acquired connection for
>>          (127.0.0.1)
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 
>> 1128]
>>          proxy_util.c(2199): [client ::1:51072] AH00944: connecting
>>      http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81 <http://127.0.0.1:81>
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 
>> 1128]
>>          proxy_util.c(2408): [client ::1:51072] AH00947: connected 
>> /sysadmin/ to
>>          127.0.0.1:81 <http://127.0.0.1:81>
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 
>> 1128]
>>          proxy_util.c(2782): AH02824: HTTP: connection established with
>>          127.0.0.1:81 <http://127.0.0.1:81>
>>          (127.0.0.1)
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 
>> 1128]
>>          proxy_util.c(2936): AH00962: HTTP: connection complete to
>>          127.0.0.1:81 <http://127.0.0.1:81>
>>          (127.0.0.1)
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy_http:error] [pid 
>> 5684:tid 1128]
>>          (20014)Internal error (specific information not available): 
>> [client
>>          ::1:51072] AH01110: error reading response
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 
>> 1128]
>>          proxy_util.c(2160): AH00943: HTTP: has released connection for
>>          (127.0.0.1)
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid 
>> 1128]
>>          proxy_util.c(2878): [remote 127.0.0.1:81 <http://127.0.0.1:81>]
>>          AH02642: proxy: connection
>>          shutdown
>>
>>
>>
>>          -----Original Message----- From: Jim Jagielski
>>          Sent: Thursday, June 11, 2015 4:08 PM Newsgroups:
>>          gmane.comp.apache.devel
>>          To: httpd
>>          Subject: [VOTE] Release Apache httpd 2.4.14 as GA
>>
>>          The pre-release test tarballs for Apache httpd 2.4.14 can be 
>> found
>>          at the usual place:
>>
>>      http://httpd.apache.org/dev/dist/
>>
>>          I'm calling a VOTE on releasing these as Apache httpd 2.4.14 GA.
>>
>>          [ ] +1: Good to go
>>          [ ] +0: meh
>>          [ ] -1: Danger Will Robinson. And why.
>>
>>          Vote will last the normal 72 hrs.
>>
>>          NOTE: The *-deps are only there for convenience.
>>
>>          Thx!
>>
>>
>>
>> --
>> Born in Roswell... married an alien...
>> http://emptyhammock.com/
>
> --
> kippdata
> informationstechnologie GmbH   Tel: 0228 98549 -0
> Bornheimer Str. 33a            Fax: 0228 98549 -50
> 53111 Bonn http://www.kippdata.de
>
> HRB 8018 Amtsgericht Bonn / USt.-IdNr. DE 196 457 417
> Geschftsfhrer: Dr. Thomas Hfer, Rainer Jung, Sven Maurmann




From dev-return-82980-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 13 18:30:32 2015
Return-Path: <dev-return-82980-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A4A4717C15
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Jun 2015 18:30:32 +0000 (UTC)
Received: (qmail 1144 invoked by uid 500); 13 Jun 2015 18:30:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1073 invoked by uid 500); 13 Jun 2015 18:30:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1063 invoked by uid 99); 13 Jun 2015 18:30:32 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 18:30:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id B3654CDB15
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 18:30:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.475
X-Spam-Level: **
X-Spam-Status: No, score=2.475 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_BADIPHTTP=2, RDNS_DYNAMIC=0.363, SPF_HELO_PASS=-0.001,
	SPF_PASS=-0.001, STOX_REPLY_TYPE=0.212, URIBL_BLOCKED=0.001,
	WEIRD_PORT=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id PT-lm4PtASED for <dev@httpd.apache.org>;
	Sat, 13 Jun 2015 18:30:22 +0000 (UTC)
Received: from land10web.com (a80-101-236-247.adsl.xs4all.nl [80.101.236.247])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 39D2D24D0F
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 18:30:21 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1434220234;
	bh=SZ7gsFj3u5a7NwsTYayZTPYCFhE/rnskajeccCNvdI0=;
	h=From:To:References:In-Reply-To:Subject:Date;
	b=viVnJ47HvnRsGmyHtMsigpzxWIBEOtE8F35M5ITcMDJfDIKXLrcoxn7YDz5mBLCux
	 jSi6K+DodpNZxAqiZJf72jbj6TPOxPs8DxGjb1M+vugb+NLkiWVLCczHH6ooMNuKRB
	 8ZkPC4J3P63GwC0RoMfo9I/Q+daQKxSkQsMWGtjs=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <158F9D2B1D5B4FDAA98666FB77136027@father>
From: "Steffen" <info@apachelounge.com>
To: <dev@httpd.apache.org>
References: <557c69ef.7f0.20b8.5028@land10.nl> <7137ACF6C8404662B1AE1F7C51937938@father>
In-Reply-To: <7137ACF6C8404662B1AE1F7C51937938@father>
Subject: Re: ********* Re: [VOTE] Release Apache httpd 2.4.14 as GA
Date: Sat, 13 Jun 2015 20:30:22 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="UTF-8";
	reply-type=original
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

Not all works with compression disabled in the backend,
there are pages that still does not work:

[http:error] [pid 6728:tid 1160] (22)Invalid argument: [remote 127.0.0.1:81]
AH99999: Error parsing chunk size, buffer 1f0     \r\n, limit 8190
[proxy_http:error] [pid 6728:tid 1160] (20014)Internal error (specific
information not available): [client ::1:63586] AH01110: error reading
response
[http:error] [pid 6728:tid 1172] (22)Invalid argument: [remote 127.0.0.1:81]
AH99999: Error parsing chunk size, buffer 1766    \r\n, limit 8190

-----Original Message----- 
From: Steffen
Sent: Saturday, June 13, 2015 8:16 PM Newsgroups: gmane.comp.apache.devel
To: dev@httpd.apache.org
Subject: Re: ********* Re: [VOTE] Release Apache httpd 2.4.14 as GA

When I disable compression in Sambar then it is fine, like with 2.4.13 and
below.

-----Original Message----- 
From: Steffen
Sent: Saturday, June 13, 2015 7:35 PM Newsgroups: gmane.comp.apache.devel
To: dev@httpd.apache.org
Subject: Re: ********* Re: [VOTE] Release Apache httpd 2.4.14 as GA


Done:


[http:error] [pid 6440:tid 1160] (22)Invalid argument: [remote
127.0.0.1:81] AH99999: Error parsing chunk size, buffer 4c7     \r\n,
limit 8190
[proxy_http:error] [pid 6440:tid 1160] (20014)Internal error (specific
information not available): [client ::1:62059] AH01110: error reading
response, referer: http://localhost:8080/syshelp/

[http:error] [pid 6440:tid 1172] (22)Invalid argument: [remote
127.0.0.1:81] AH99999: Error parsing chunk size, buffer 5a5     \r\n,
limit 8190
[proxy_http:error] [pid 6440:tid 1172] (20014)Internal error
(specific information not available): [client ::1:62058] AH01110:
error reading response, referer: http://localhost:8080/syshelp/



On Saturday 13/06/2015 at 18:51, Rainer Jung  wrote:
> Hi Steffen,
>
> any chance you can reproduce the problem with a slightly patched 2.4.14 to
> get additional log output around the suspect code?
>
> The patch would be
>
> Index: modules/http/http_filters.c
> ===================================================================
> --- modules/http/http_filters.c (revision 1685283)
> +++ modules/http/http_filters.c (working copy)
> @@ -514,6 +514,9 @@
>                                            rv = parse_chunk_size(ctx,
> buffer, len,
>
> f->r->server->limit_req_fieldsize);
>                                            if (rv != APR_SUCCESS) {
> +                        ap_log_rerror(APLOG_MARK, APLOG_ERR, rv, f->r,
> APLOGNO(99999)
> +                                      "Error parsing chunk size, buffer
> %*.*s, limit %d",
> +                                      len, len, buffer,
> f->r->server->limit_req_fieldsize);
>                                                    if (rv != APR_ENOSPC) {
>                                                            http_error =
> HTTP_BAD_REQUEST;
>                                                    }
>
> It will *not* fix the problem but should give us enough additional info to
> find out why it is happening.
>
> It would be great if you could patch your 2.4.14, rebuild and rerun the
> Sambar test.
>
> Thanks a bunch!
>
> Rainer
>
> Am 13.06.2015 um 15:36 schrieb Steffen:
>>
>> Debug 2.4.14 was already in my first post.
>> The 2.4.13 (no error)  and 2.4.14 debug level error.log:
>> Apache/2.4.13 (Win32)
>> ================
>> [Sat Jun 13 15:23:23.031198 2015] [authz_core:debug] [pid 9208:tid 1168]
>> mod_authz_core.c(834): [client 127.0.0.1:54501] AH01628: authorization
>> result: granted (no directives)
>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>> mod_proxy.c(1157): [client 127.0.0.1:54501] AH01143: Running scheme http
>> handler (attempt 0)
>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>> proxy_util.c(2145): AH00942: HTTP: has acquired connection for
>> (127.0.0.1)
>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>> proxy_util.c(2199): [client 127.0.0.1:54501] AH00944: connecting
>> http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81
>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>> proxy_util.c(2408): [client 127.0.0.1:54501] AH00947: connected
>> /sysadmin/ to 127.0.0.1:81
>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>> proxy_util.c(2782): AH02824: HTTP: connection established with
>> 127.0.0.1:81 (127.0.0.1)
>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>> proxy_util.c(2936): AH00962: HTTP: connection complete to 127.0.0.1:81
>> (127.0.0.1)
>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>> proxy_util.c(2160): AH00943: http: has released connection for
>> (127.0.0.1)
>> Apache/2.4.14 (Win32)
>> =================
>> [Sat Jun 13 15:20:54.616551 2015] [authz_core:debug] [pid 4676:tid 1152]
>> mod_authz_core.c(834): [client 127.0.0.1:54430] AH01628: authorization
>> result: granted (no directives)
>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>> mod_proxy.c(1157): [client 127.0.0.1:54430] AH01143: Running scheme http
>> handler (attempt 0)
>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>> proxy_util.c(2145): AH00942: HTTP: has acquired connection for
>> (127.0.0.1)
>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>> proxy_util.c(2199): [client 127.0.0.1:54430] AH00944: connecting
>> http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81
>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>> proxy_util.c(2408): [client 127.0.0.1:54430] AH00947: connected
>> /sysadmin/ to 127.0.0.1:81
>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>> proxy_util.c(2782): AH02824: HTTP: connection established with
>> 127.0.0.1:81 (127.0.0.1)
>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>> proxy_util.c(2936): AH00962: HTTP: connection complete to 127.0.0.1:81
>> (127.0.0.1)
>> [Sat Jun 13 15:20:54.616551 2015] [proxy_http:error] [pid 4676:tid 1152]
>> (20014)Internal error (specific information not available): [client
>> 127.0.0.1:54430] AH01110: error reading response
>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>> proxy_util.c(2160): AH00943: HTTP: has released connection for
>> (127.0.0.1)
>> *From:* Jeff Trawick <mailto:trawick@gmail.com>
>> *Sent:* Saturday, June 13, 2015 3:14 PM
>> *Newsgroups:* gmane.comp.apache.devel
>> *To:* Apache HTTP Server Development List <mailto:dev@httpd.apache.org>
>> *Subject:* Re: [VOTE] Release Apache httpd 2.4.14 as GA
>> On Sat, Jun 13, 2015 at 8:31 AM, Steffen <info@apachelounge.com
>> <mailto:info@apachelounge.com>> wrote:
>>
>>          Tested with 2.4.13 tarball, then no error.
>>
>> Wow...
>> Is anything written to the error log when you try proxy to the Sambar
>> server?  If my guess about the related code is correct, you'll need
>> LogLevel Info (or debug or trace) to see all the relevant messages.
>>
>>
>>          -----Original Message----- From: Steffen
>>          Sent: Saturday, June 13, 2015 1:33 PM Newsgroups:
>>          gmane.comp.apache.devel
>>          To: dev@httpd.apache.org <mailto:dev@httpd.apache.org>
>>          Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
>>
>>
>>          Regression: All works fine except a Proxy Pass  to Sambar
>> server, was
>>          working ok with 2.4.12.
>>
>>          ProxyPasses to other servers the Sambar works fine.
>>
>>          ProxyPass /sysadmin http://127.0.0.1:81/sysadmin
>>          ProxyPassReverse /sysadmin http://127.0.0.1:81/sysadmin
>>
>>          Calling with http://127.0.0.1:8080/sysadmin/ gives AH01110:
>> error
>>          reading
>>          response :
>>
>>          [Sat Jun 13 13:23:08.010826 2015] [authz_core:debug] [pid
>> 5684:tid 1128]
>>          mod_authz_core.c(834): [client ::1:51072] AH01628: authorization
>> result:
>>          granted (no directives)
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid
>> 1128]
>>          mod_proxy.c(1157): [client ::1:51072] AH01143: Running scheme
>> http
>>          handler
>>          (attempt 0)
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid
>> 1128]
>>          proxy_util.c(2145): AH00942: HTTP: has acquired connection for
>>          (127.0.0.1)
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid
>> 1128]
>>          proxy_util.c(2199): [client ::1:51072] AH00944: connecting
>>      http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81 <http://127.0.0.1:81>
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid
>> 1128]
>>          proxy_util.c(2408): [client ::1:51072] AH00947: connected
>> /sysadmin/ to
>>          127.0.0.1:81 <http://127.0.0.1:81>
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid
>> 1128]
>>          proxy_util.c(2782): AH02824: HTTP: connection established with
>>          127.0.0.1:81 <http://127.0.0.1:81>
>>          (127.0.0.1)
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid
>> 1128]
>>          proxy_util.c(2936): AH00962: HTTP: connection complete to
>>          127.0.0.1:81 <http://127.0.0.1:81>
>>          (127.0.0.1)
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy_http:error] [pid
>> 5684:tid 1128]
>>          (20014)Internal error (specific information not available):
>> [client
>>          ::1:51072] AH01110: error reading response
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid
>> 1128]
>>          proxy_util.c(2160): AH00943: HTTP: has released connection for
>>          (127.0.0.1)
>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid
>> 1128]
>>          proxy_util.c(2878): [remote 127.0.0.1:81 <http://127.0.0.1:81>]
>>          AH02642: proxy: connection
>>          shutdown
>>
>>
>>
>>          -----Original Message----- From: Jim Jagielski
>>          Sent: Thursday, June 11, 2015 4:08 PM Newsgroups:
>>          gmane.comp.apache.devel
>>          To: httpd
>>          Subject: [VOTE] Release Apache httpd 2.4.14 as GA
>>
>>          The pre-release test tarballs for Apache httpd 2.4.14 can be
>> found
>>          at the usual place:
>>
>>      http://httpd.apache.org/dev/dist/
>>
>>          I'm calling a VOTE on releasing these as Apache httpd 2.4.14 GA.
>>
>>          [ ] +1: Good to go
>>          [ ] +0: meh
>>          [ ] -1: Danger Will Robinson. And why.
>>
>>          Vote will last the normal 72 hrs.
>>
>>          NOTE: The *-deps are only there for convenience.
>>
>>          Thx!
>>
>>
>>
>> --
>> Born in Roswell... married an alien...
>> http://emptyhammock.com/
>
> --
> kippdata
> informationstechnologie GmbH   Tel: 0228 98549 -0
> Bornheimer Str. 33a            Fax: 0228 98549 -50
> 53111 Bonn http://www.kippdata.de
>
> HRB 8018 Amtsgericht Bonn / USt.-IdNr. DE 196 457 417
> Geschftsfhrer: Dr. Thomas Hfer, Rainer Jung, Sven Maurmann



From dev-return-82981-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 13 18:50:07 2015
Return-Path: <dev-return-82981-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8ECE017C4F
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Jun 2015 18:50:07 +0000 (UTC)
Received: (qmail 15805 invoked by uid 500); 13 Jun 2015 18:50:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15717 invoked by uid 500); 13 Jun 2015 18:50:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15707 invoked by uid 99); 13 Jun 2015 18:50:07 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 18:50:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 9431B1A55AD
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 18:50:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 4.902
X-Spam-Level: ****
X-Spam-Status: No, score=4.902 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, KAM_BADIPHTTP=2, URIBL_BLOCKED=0.001,
	WEIRD_PORT=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id I7419D7McTK7 for <dev@httpd.apache.org>;
	Sat, 13 Jun 2015 18:49:57 +0000 (UTC)
Received: from mail-yh0-f49.google.com (mail-yh0-f49.google.com [209.85.213.49])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 5118242AF1
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 18:49:57 +0000 (UTC)
Received: by yhpn97 with SMTP id n97so24186911yhp.0
        for <dev@httpd.apache.org>; Sat, 13 Jun 2015 11:49:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Z321Hpoc7FK5nHYqc7gAbb9UUugah5uu5iDC46/YDWg=;
        b=IFkBOk5E8ZBVpfIuN0ObceYpuKuw8IwEjUjcOTqmR2rUmSFoSLK4RJqZ3+lmwNGnhc
         KO28yf2SNMf2HlioUkU7ytXx0zYBNqyVeCPDLMXh51ikKmKHY6YH/acmDoiyzH9kM2Hp
         X5fo/FQON1LUp+AYJTVxPF1RcnMCeHRdM/ywpYK/wQtMoq7cF9arbN6TN4RRclEDR1z3
         HMgiuSXkQcff6q2zFDkNMG6yFHcSt2iOZ1C+Qtw3x7Cyj1uYkTyPvJgg8z4Tog6Ncr8L
         umgszBUrxP+faWOrbZYGobCRmPV+Jd3APVTYf+qUKEp1c3XlFReGFfEgnpBsa8FG5Awv
         NVxg==
MIME-Version: 1.0
X-Received: by 10.13.245.69 with SMTP id e66mr25237383ywf.128.1434221345681;
 Sat, 13 Jun 2015 11:49:05 -0700 (PDT)
Received: by 10.13.206.195 with HTTP; Sat, 13 Jun 2015 11:49:05 -0700 (PDT)
In-Reply-To: <557c69ef.7f0.20b8.5028@land10.nl>
References: <557c69ef.7f0.20b8.5028@land10.nl>
Date: Sat, 13 Jun 2015 14:49:05 -0400
Message-ID: <CAKUrXK5LoYnMXecuA6aGOcgeQtRf4rvQsWo2UVz3FHs0e8Hjfg@mail.gmail.com>
Subject: Re: ********* Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=94eb2c0885bed6b7bc05186aad02

--94eb2c0885bed6b7bc05186aad02
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Sat, Jun 13, 2015 at 1:35 PM, Steffen <info@apachelounge.com> wrote:

>
> Done:
>
>
> [http:error] [pid 6440:tid 1160] (22)Invalid argument: [remote
> 127.0.0.1:81] AH99999: Error parsing chunk size, buffer 4c7     \r\n,
> limit 8190
> [proxy_http:error] [pid 6440:tid 1160] (20014)Internal error (specific
> information not available): [client ::1:62059] AH01110: error reading
> response, referer: http://localhost:8080/syshelp/
>
> [http:error] [pid 6440:tid 1172] (22)Invalid argument: [remote
> 127.0.0.1:81] AH99999: Error parsing chunk size, buffer 5a5     \r\n,
> limit 8190
> [proxy_http:error] [pid 6440:tid 1172] (20014)Internal error (specific
> information not available): [client ::1:62058] AH01110: error reading
> response, referer: http://localhost:8080/syshelp/
>
>
I imagine that this would be fixed by the patch below:

Index: modules/http/http_filters.c
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
--- modules/http/http_filters.c (revision 1685298)
+++ modules/http/http_filters.c (working copy)
@@ -71,6 +71,7 @@
         BODY_CHUNK, /* chunk expected */
         BODY_CHUNK_PART, /* chunk digits */
         BODY_CHUNK_EXT, /* chunk extension */
+        BODY_CHUNK_CR, /* got space, expect space or CR or LF */
         BODY_CHUNK_LF, /* got CR, expect LF after digits/extension */
         BODY_CHUNK_DATA, /* data constrained by chunked encoding */
         BODY_CHUNK_END, /* chunked data terminating CRLF */
@@ -134,6 +135,11 @@
             ctx->chunk_used =3D 0;
         }

+        if (c =3D=3D ' ' && ctx->state =3D=3D BODY_CHUNK_CR) {
+            i++;
+            continue;
+        }
+
         if (c =3D=3D LF) {
             if (ctx->remaining) {
                 ctx->state =3D BODY_CHUNK_DATA;
@@ -165,6 +171,12 @@
         else if (ctx->state =3D=3D BODY_CHUNK_PART) {
             int xvalue;

+            if (c =3D=3D ' ') {
+                ctx->state =3D BODY_CHUNK_CR;
+                i++;
+                continue;
+            }
+
             /* ignore leading zeros */
             if (!ctx->remaining && c =3D=3D '0') {
                 i++;

Those that know the original patch would presumably have a better way to
code this.

I recall that httpd 1.3 generally added whitespace after the chunk size as
an optimization (pre-allocating space in BUFF for the largest possible
chunk size I guess).  Is it appropriate to allow whitespace both before and
after?  The patch above only allows it after.



>
> On Saturday 13/06/2015 at 18:51, Rainer Jung  wrote:
>
>> Hi Steffen,
>>
>> any chance you can reproduce the problem with a slightly patched 2.4.14
>> to get additional log output around the suspect code?
>>
>> The patch would be
>>
>> Index: modules/http/http_filters.c
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>> --- modules/http/http_filters.c (revision 1685283)
>> +++ modules/http/http_filters.c (working copy)
>> @@ -514,6 +514,9 @@
>>                                            rv =3D parse_chunk_size(ctx,
>> buffer, len,
>>
>> f->r->server->limit_req_fieldsize);
>>                                            if (rv !=3D APR_SUCCESS) {
>> +                        ap_log_rerror(APLOG_MARK, APLOG_ERR, rv, f->r,
>> APLOGNO(99999)
>> +                                      "Error parsing chunk size, buffer
>> %*.*s, limit %d",
>> +                                      len, len, buffer,
>> f->r->server->limit_req_fieldsize);
>>                                                    if (rv !=3D APR_ENOSP=
C) {
>>                                                            http_error =
=3D
>> HTTP_BAD_REQUEST;
>>                                                    }
>>
>> It will *not* fix the problem but should give us enough additional info
>> to find out why it is happening.
>>
>> It would be great if you could patch your 2.4.14, rebuild and rerun the
>> Sambar test.
>>
>> Thanks a bunch!
>>
>> Rainer
>>
>> Am 13.06.2015 um 15:36 schrieb Steffen:
>>
>>>
>>> Debug 2.4.14 was already in my first post.
>>> The 2.4.13 (no error)  and 2.4.14 debug level error.log:
>>> Apache/2.4.13 (Win32)
>>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>>> [Sat Jun 13 15:23:23.031198 2015] [authz_core:debug] [pid 9208:tid 1168=
]
>>> mod_authz_core.c(834): [client 127.0.0.1:54501] AH01628: authorization
>>> result: granted (no directives)
>>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>>> mod_proxy.c(1157): [client 127.0.0.1:54501] AH01143: Running scheme htt=
p
>>> handler (attempt 0)
>>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>>> proxy_util.c(2145): AH00942: HTTP: has acquired connection for
>>> (127.0.0.1)
>>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>>> proxy_util.c(2199): [client 127.0.0.1:54501] AH00944: connecting
>>> http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81
>>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>>> proxy_util.c(2408): [client 127.0.0.1:54501] AH00947: connected
>>> /sysadmin/ to 127.0.0.1:81
>>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>>> proxy_util.c(2782): AH02824: HTTP: connection established with
>>> 127.0.0.1:81 (127.0.0.1)
>>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>>> proxy_util.c(2936): AH00962: HTTP: connection complete to 127.0.0.1:81
>>> (127.0.0.1)
>>> [Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]
>>> proxy_util.c(2160): AH00943: http: has released connection for
>>> (127.0.0.1)
>>> Apache/2.4.14 (Win32)
>>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>>> [Sat Jun 13 15:20:54.616551 2015] [authz_core:debug] [pid 4676:tid 1152=
]
>>> mod_authz_core.c(834): [client 127.0.0.1:54430] AH01628: authorization
>>> result: granted (no directives)
>>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>>> mod_proxy.c(1157): [client 127.0.0.1:54430] AH01143: Running scheme htt=
p
>>> handler (attempt 0)
>>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>>> proxy_util.c(2145): AH00942: HTTP: has acquired connection for
>>> (127.0.0.1)
>>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>>> proxy_util.c(2199): [client 127.0.0.1:54430] AH00944: connecting
>>> http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81
>>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>>> proxy_util.c(2408): [client 127.0.0.1:54430] AH00947: connected
>>> /sysadmin/ to 127.0.0.1:81
>>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>>> proxy_util.c(2782): AH02824: HTTP: connection established with
>>> 127.0.0.1:81 (127.0.0.1)
>>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>>> proxy_util.c(2936): AH00962: HTTP: connection complete to 127.0.0.1:81
>>> (127.0.0.1)
>>> [Sat Jun 13 15:20:54.616551 2015] [proxy_http:error] [pid 4676:tid 1152=
]
>>> (20014)Internal error (specific information not available): [client
>>> 127.0.0.1:54430] AH01110: error reading response
>>> [Sat Jun 13 15:20:54.616551 2015] [proxy:debug] [pid 4676:tid 1152]
>>> proxy_util.c(2160): AH00943: HTTP: has released connection for
>>> (127.0.0.1)
>>> *From:* Jeff Trawick <mailto:trawick@gmail.com>
>>> *Sent:* Saturday, June 13, 2015 3:14 PM
>>> *Newsgroups:* gmane.comp.apache.devel
>>> *To:* Apache HTTP Server Development List <mailto:dev@httpd.apache.org>
>>> *Subject:* Re: [VOTE] Release Apache httpd 2.4.14 as GA
>>> On Sat, Jun 13, 2015 at 8:31 AM, Steffen <info@apachelounge.com
>>> <mailto:info@apachelounge.com>> wrote:
>>>
>>>          Tested with 2.4.13 tarball, then no error.
>>>
>>> Wow...
>>> Is anything written to the error log when you try proxy to the Sambar
>>> server?  If my guess about the related code is correct, you'll need
>>> LogLevel Info (or debug or trace) to see all the relevant messages.
>>>
>>>
>>>          -----Original Message----- From: Steffen
>>>          Sent: Saturday, June 13, 2015 1:33 PM Newsgroups:
>>>          gmane.comp.apache.devel
>>>          To: dev@httpd.apache.org <mailto:dev@httpd.apache.org>
>>>          Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
>>>
>>>
>>>          Regression: All works fine except a Proxy Pass  to Sambar
>>> server, was
>>>          working ok with 2.4.12.
>>>
>>>          ProxyPasses to other servers the Sambar works fine.
>>>
>>>          ProxyPass /sysadmin http://127.0.0.1:81/sysadmin
>>>          ProxyPassReverse /sysadmin http://127.0.0.1:81/sysadmin
>>>
>>>          Calling with http://127.0.0.1:8080/sysadmin/ gives AH01110:
>>> error
>>>          reading
>>>          response :
>>>
>>>          [Sat Jun 13 13:23:08.010826 2015] [authz_core:debug] [pid
>>> 5684:tid 1128]
>>>          mod_authz_core.c(834): [client ::1:51072] AH01628:
>>> authorization result:
>>>          granted (no directives)
>>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid
>>> 1128]
>>>          mod_proxy.c(1157): [client ::1:51072] AH01143: Running scheme
>>> http
>>>          handler
>>>          (attempt 0)
>>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid
>>> 1128]
>>>          proxy_util.c(2145): AH00942: HTTP: has acquired connection for
>>>          (127.0.0.1)
>>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid
>>> 1128]
>>>          proxy_util.c(2199): [client ::1:51072] AH00944: connecting
>>>      http://127.0.0.1:81/sysadmin/ to 127.0.0.1:81 <http://127.0.0.1:81=
>
>>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid
>>> 1128]
>>>          proxy_util.c(2408): [client ::1:51072] AH00947: connected
>>> /sysadmin/ to
>>>          127.0.0.1:81 <http://127.0.0.1:81>
>>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid
>>> 1128]
>>>          proxy_util.c(2782): AH02824: HTTP: connection established with
>>>          127.0.0.1:81 <http://127.0.0.1:81>
>>>          (127.0.0.1)
>>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid
>>> 1128]
>>>          proxy_util.c(2936): AH00962: HTTP: connection complete to
>>>          127.0.0.1:81 <http://127.0.0.1:81>
>>>          (127.0.0.1)
>>>          [Sat Jun 13 13:23:08.010826 2015] [proxy_http:error] [pid
>>> 5684:tid 1128]
>>>          (20014)Internal error (specific information not available):
>>> [client
>>>          ::1:51072] AH01110: error reading response
>>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid
>>> 1128]
>>>          proxy_util.c(2160): AH00943: HTTP: has released connection for
>>>          (127.0.0.1)
>>>          [Sat Jun 13 13:23:08.010826 2015] [proxy:debug] [pid 5684:tid
>>> 1128]
>>>          proxy_util.c(2878): [remote 127.0.0.1:81 <http://127.0.0.1:81>=
]
>>>          AH02642: proxy: connection
>>>          shutdown
>>>
>>>
>>>
>>>          -----Original Message----- From: Jim Jagielski
>>>          Sent: Thursday, June 11, 2015 4:08 PM Newsgroups:
>>>          gmane.comp.apache.devel
>>>          To: httpd
>>>          Subject: [VOTE] Release Apache httpd 2.4.14 as GA
>>>
>>>          The pre-release test tarballs for Apache httpd 2.4.14 can be
>>> found
>>>          at the usual place:
>>>
>>>      http://httpd.apache.org/dev/dist/
>>>
>>>          I'm calling a VOTE on releasing these as Apache httpd 2.4.14 G=
A.
>>>
>>>          [ ] +1: Good to go
>>>          [ ] +0: meh
>>>          [ ] -1: Danger Will Robinson. And why.
>>>
>>>          Vote will last the normal 72 hrs.
>>>
>>>          NOTE: The *-deps are only there for convenience.
>>>
>>>          Thx!
>>>
>>>
>>>
>>> --
>>> Born in Roswell... married an alien...
>>> http://emptyhammock.com/
>>>
>>
>> --
>> kippdata
>> informationstechnologie GmbH   Tel: 0228 98549 -0
>> Bornheimer Str. 33a            Fax: 0228 98549 -50
>> 53111 Bonn http://www.kippdata.de
>>
>> HRB 8018 Amtsgericht Bonn / USt.-IdNr. DE 196 457 417
>> Gesch=C3=A4ftsf=C3=BChrer: Dr. Thomas H=C3=B6fer, Rainer Jung, Sven Maur=
mann
>>
>
>
>
>


--=20
Born in Roswell... married an alien...
http://emptyhammock.com/

--94eb2c0885bed6b7bc05186aad02
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On S=
at, Jun 13, 2015 at 1:35 PM, Steffen <span dir=3D"ltr">&lt;<a href=3D"mailt=
o:info@apachelounge.com" target=3D"_blank">info@apachelounge.com</a>&gt;</s=
pan> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0p=
x 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-lef=
t-style:solid;padding-left:1ex"><br>
Done:<br>
<br>
<br>
[http:error] [pid 6440:tid 1160] (22)Invalid argument: [remote <a href=3D"h=
ttp://127.0.0.1:81" rel=3D"noreferrer" target=3D"_blank">127.0.0.1:81</a>] =
AH99999: Error parsing chunk size, buffer 4c7=C2=A0 =C2=A0 =C2=A0\r\n, limi=
t 8190<br>
[proxy_http:error] [pid 6440:tid 1160] (20014)Internal error (specific info=
rmation not available): [client ::1:62059] AH01110: error reading response,=
 referer: <a href=3D"http://localhost:8080/syshelp/" rel=3D"noreferrer" tar=
get=3D"_blank">http://localhost:8080/syshelp/</a><br>
<br>
[http:error] [pid 6440:tid 1172] (22)Invalid argument: [remote <a href=3D"h=
ttp://127.0.0.1:81" rel=3D"noreferrer" target=3D"_blank">127.0.0.1:81</a>] =
AH99999: Error parsing chunk size, buffer 5a5=C2=A0 =C2=A0 =C2=A0\r\n, limi=
t 8190<br>
[proxy_http:error] [pid 6440:tid 1172] (20014)Internal error (specific info=
rmation not available): [client ::1:62058] AH01110: error reading response,=
 referer: <a href=3D"http://localhost:8080/syshelp/" rel=3D"noreferrer" tar=
get=3D"_blank">http://localhost:8080/syshelp/</a><br>
<br></blockquote><div><br></div><div>I imagine that this would be fixed by =
the patch below:</div><div><br></div><div>Index: modules/http/http_filters.=
c</div><div>=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D</div><div>-=
-- modules/http/http_filters.c<span class=3D"" style=3D"white-space:pre">	<=
/span>(revision 1685298)</div><div>+++ modules/http/http_filters.c<span cla=
ss=3D"" style=3D"white-space:pre">	</span>(working copy)</div><div>@@ -71,6=
 +71,7 @@</div><div>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0BODY_CHUNK, /* chunk =
expected */</div><div>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0BODY_CHUNK_PART, /*=
 chunk digits */</div><div>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0BODY_CHUNK_EXT=
, /* chunk extension */</div><div>+ =C2=A0 =C2=A0 =C2=A0 =C2=A0BODY_CHUNK_C=
R, /* got space, expect space or CR or LF */</div><div>=C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0BODY_CHUNK_LF, /* got CR, expect LF after digits/extension */=
</div><div>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0BODY_CHUNK_DATA, /* data const=
rained by chunked encoding */</div><div>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0B=
ODY_CHUNK_END, /* chunked data terminating CRLF */</div><div>@@ -134,6 +135=
,11 @@</div><div>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0ctx-&gt;ch=
unk_used =3D 0;</div><div>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0}</div><div>=C2=
=A0</div><div>+ =C2=A0 =C2=A0 =C2=A0 =C2=A0if (c =3D=3D &#39; &#39; &amp;&a=
mp; ctx-&gt;state =3D=3D BODY_CHUNK_CR) {</div><div>+ =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0i++;</div><div>+ =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0continue;</div><div>+ =C2=A0 =C2=A0 =C2=A0 =C2=A0}</div><div>+</div><div=
>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0if (c =3D=3D LF) {</div><div>=C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0if (ctx-&gt;remaining) {</div><div>=
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0ctx-&gt;state=
 =3D BODY_CHUNK_DATA;</div><div>@@ -165,6 +171,12 @@</div><div>=C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0else if (ctx-&gt;state =3D=3D BODY_CHUNK_PART) {</d=
iv><div>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0int xvalue;</div><d=
iv>=C2=A0</div><div>+ =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0if (c =3D=3D=
 &#39; &#39;) {</div><div>+ =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0ctx-&gt;state =3D BODY_CHUNK_CR;</div><div>+ =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0i++;</div><div>+ =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0continue;</div><div>+ =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0}</div><div>+</div><div>=C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0/* ignore leading zeros */</div><div>=C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0if (!ctx-&gt;remaining &amp;&amp; c =3D=3D &=
#39;0&#39;) {</div><div>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0i++;=C2=A0</div><div><br></div><div>Those that know the origin=
al patch would presumably have a better way to code this.</div><div><br></d=
iv><div>I recall that httpd 1.3 generally added whitespace after the chunk =
size as an optimization (pre-allocating space in BUFF for the largest possi=
ble chunk size I guess).=C2=A0 Is it appropriate to allow whitespace both b=
efore and after?=C2=A0 The patch above only allows it after.</div><div><br>=
</div><div><br></div><blockquote class=3D"gmail_quote" style=3D"margin:0px =
0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);bord=
er-left-style:solid;padding-left:1ex">
<br>
<br>
On Saturday 13/06/2015 at 18:51, Rainer Jung=C2=A0 wrote:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-=
left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;p=
adding-left:1ex">
Hi Steffen,<br>
<br>
any chance you can reproduce the problem with a slightly patched 2.4.14 to =
get additional log output around the suspect code?<br>
<br>
The patch would be<br>
<br>
Index: modules/http/http_filters.c<br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<br>
--- modules/http/http_filters.c (revision 1685283)<br>
+++ modules/http/http_filters.c (working copy)<br>
@@ -514,6 +514,9 @@<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0rv =3D parse_chunk_size(ctx, buffer, len,<br>
<br>
f-&gt;r-&gt;server-&gt;limit_req_fieldsize);<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0if (rv !=3D APR_SUCCESS) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 ap_log_rerror(APLOG_MARK, APLOG_ERR, rv, f-&gt;r, APLOGNO(99999)=
<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 &quot;Error par=
sing chunk size, buffer %*.*s, limit %d&quot;,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 len, len, buffe=
r, f-&gt;r-&gt;server-&gt;limit_req_fieldsize);<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0if (rv !=3D APR_ENOSPC) {<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0http_error =
=3D HTTP_BAD_REQUEST;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0}<br>
<br>
It will *not* fix the problem but should give us enough additional info to =
find out why it is happening.<br>
<br>
It would be great if you could patch your 2.4.14, rebuild and rerun the Sam=
bar test.<br>
<br>
Thanks a bunch!<br>
<br>
Rainer<br>
<br>
Am 13.06.2015 um 15:36 schrieb Steffen:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-=
left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;p=
adding-left:1ex">
<br>
Debug 2.4.14 was already in my first post.<br>
The 2.4.13 (no error)=C2=A0 and 2.4.14 debug level error.log:<br>
Apache/2.4.13 (Win32)<br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<br>
[Sat Jun 13 15:23:23.031198 2015] [authz_core:debug] [pid 9208:tid 1168]<br=
>
mod_authz_core.c(834): [client <a href=3D"http://127.0.0.1:54501" rel=3D"no=
referrer" target=3D"_blank">127.0.0.1:54501</a>] AH01628: authorization<br>
result: granted (no directives)<br>
[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]<br>
mod_proxy.c(1157): [client <a href=3D"http://127.0.0.1:54501" rel=3D"norefe=
rrer" target=3D"_blank">127.0.0.1:54501</a>] AH01143: Running scheme http<b=
r>
handler (attempt 0)<br>
[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]<br>
proxy_util.c(2145): AH00942: HTTP: has acquired connection for (127.0.0.1)<=
br>
[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]<br>
proxy_util.c(2199): [client <a href=3D"http://127.0.0.1:54501" rel=3D"noref=
errer" target=3D"_blank">127.0.0.1:54501</a>] AH00944: connecting<br>
<a href=3D"http://127.0.0.1:81/sysadmin/" rel=3D"noreferrer" target=3D"_bla=
nk">http://127.0.0.1:81/sysadmin/</a> to <a href=3D"http://127.0.0.1:81" re=
l=3D"noreferrer" target=3D"_blank">127.0.0.1:81</a><br>
[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]<br>
proxy_util.c(2408): [client <a href=3D"http://127.0.0.1:54501" rel=3D"noref=
errer" target=3D"_blank">127.0.0.1:54501</a>] AH00947: connected<br>
/sysadmin/ to <a href=3D"http://127.0.0.1:81" rel=3D"noreferrer" target=3D"=
_blank">127.0.0.1:81</a><br>
[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]<br>
proxy_util.c(2782): AH02824: HTTP: connection established with<br>
<a href=3D"http://127.0.0.1:81" rel=3D"noreferrer" target=3D"_blank">127.0.=
0.1:81</a> (127.0.0.1)<br>
[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]<br>
proxy_util.c(2936): AH00962: HTTP: connection complete to <a href=3D"http:/=
/127.0.0.1:81" rel=3D"noreferrer" target=3D"_blank">127.0.0.1:81</a><br>
(127.0.0.1)<br>
[Sat Jun 13 15:23:23.031198 2015] [proxy:debug] [pid 9208:tid 1168]<br>
proxy_util.c(2160): AH00943: http: has released connection for (127.0.0.1)<=
br>
Apache/2.4.14 (Win32)<br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<br>
[Sat Jun 13 15:20:54.<a href=3D"tel:616551%202015" value=3D"+16165512015" t=
arget=3D"_blank">616551 2015</a>] [authz_core:debug] [pid 4676:tid 1152]<br=
>
mod_authz_core.c(834): [client <a href=3D"http://127.0.0.1:54430" rel=3D"no=
referrer" target=3D"_blank">127.0.0.1:54430</a>] AH01628: authorization<br>
result: granted (no directives)<br>
[Sat Jun 13 15:20:54.<a href=3D"tel:616551%202015" value=3D"+16165512015" t=
arget=3D"_blank">616551 2015</a>] [proxy:debug] [pid 4676:tid 1152]<br>
mod_proxy.c(1157): [client <a href=3D"http://127.0.0.1:54430" rel=3D"norefe=
rrer" target=3D"_blank">127.0.0.1:54430</a>] AH01143: Running scheme http<b=
r>
handler (attempt 0)<br>
[Sat Jun 13 15:20:54.<a href=3D"tel:616551%202015" value=3D"+16165512015" t=
arget=3D"_blank">616551 2015</a>] [proxy:debug] [pid 4676:tid 1152]<br>
proxy_util.c(2145): AH00942: HTTP: has acquired connection for (127.0.0.1)<=
br>
[Sat Jun 13 15:20:54.<a href=3D"tel:616551%202015" value=3D"+16165512015" t=
arget=3D"_blank">616551 2015</a>] [proxy:debug] [pid 4676:tid 1152]<br>
proxy_util.c(2199): [client <a href=3D"http://127.0.0.1:54430" rel=3D"noref=
errer" target=3D"_blank">127.0.0.1:54430</a>] AH00944: connecting<br>
<a href=3D"http://127.0.0.1:81/sysadmin/" rel=3D"noreferrer" target=3D"_bla=
nk">http://127.0.0.1:81/sysadmin/</a> to <a href=3D"http://127.0.0.1:81" re=
l=3D"noreferrer" target=3D"_blank">127.0.0.1:81</a><br>
[Sat Jun 13 15:20:54.<a href=3D"tel:616551%202015" value=3D"+16165512015" t=
arget=3D"_blank">616551 2015</a>] [proxy:debug] [pid 4676:tid 1152]<br>
proxy_util.c(2408): [client <a href=3D"http://127.0.0.1:54430" rel=3D"noref=
errer" target=3D"_blank">127.0.0.1:54430</a>] AH00947: connected<br>
/sysadmin/ to <a href=3D"http://127.0.0.1:81" rel=3D"noreferrer" target=3D"=
_blank">127.0.0.1:81</a><br>
[Sat Jun 13 15:20:54.<a href=3D"tel:616551%202015" value=3D"+16165512015" t=
arget=3D"_blank">616551 2015</a>] [proxy:debug] [pid 4676:tid 1152]<br>
proxy_util.c(2782): AH02824: HTTP: connection established with<br>
<a href=3D"http://127.0.0.1:81" rel=3D"noreferrer" target=3D"_blank">127.0.=
0.1:81</a> (127.0.0.1)<br>
[Sat Jun 13 15:20:54.<a href=3D"tel:616551%202015" value=3D"+16165512015" t=
arget=3D"_blank">616551 2015</a>] [proxy:debug] [pid 4676:tid 1152]<br>
proxy_util.c(2936): AH00962: HTTP: connection complete to <a href=3D"http:/=
/127.0.0.1:81" rel=3D"noreferrer" target=3D"_blank">127.0.0.1:81</a><br>
(127.0.0.1)<br>
[Sat Jun 13 15:20:54.<a href=3D"tel:616551%202015" value=3D"+16165512015" t=
arget=3D"_blank">616551 2015</a>] [proxy_http:error] [pid 4676:tid 1152]<br=
>
(20014)Internal error (specific information not available): [client<br>
<a href=3D"http://127.0.0.1:54430" rel=3D"noreferrer" target=3D"_blank">127=
.0.0.1:54430</a>] AH01110: error reading response<br>
[Sat Jun 13 15:20:54.<a href=3D"tel:616551%202015" value=3D"+16165512015" t=
arget=3D"_blank">616551 2015</a>] [proxy:debug] [pid 4676:tid 1152]<br>
proxy_util.c(2160): AH00943: HTTP: has released connection for (127.0.0.1)<=
br>
*From:* Jeff Trawick &lt;mailto:<a href=3D"mailto:trawick@gmail.com" target=
=3D"_blank">trawick@gmail.com</a>&gt;<br>
*Sent:* Saturday, June 13, 2015 3:14 PM<br>
*Newsgroups:* gmane.comp.apache.devel<br>
*To:* Apache HTTP Server Development List &lt;mailto:<a href=3D"mailto:dev@=
httpd.apache.org" target=3D"_blank">dev@httpd.apache.org</a>&gt;<br>
*Subject:* Re: [VOTE] Release Apache httpd 2.4.14 as GA<br>
On Sat, Jun 13, 2015 at 8:31 AM, Steffen &lt;<a href=3D"mailto:info@apachel=
ounge.com" target=3D"_blank">info@apachelounge.com</a><br>
&lt;mailto:<a href=3D"mailto:info@apachelounge.com" target=3D"_blank">info@=
apachelounge.com</a>&gt;&gt; wrote:<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Tested with 2.4.13 tarball, then no error=
.<br>
<br>
Wow...<br>
Is anything written to the error log when you try proxy to the Sambar<br>
server?=C2=A0 If my guess about the related code is correct, you&#39;ll nee=
d<br>
LogLevel Info (or debug or trace) to see all the relevant messages.<br>
<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0-----Original Message----- From: Steffen<=
br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Sent: Saturday, June 13, 2015 1:33 PM New=
sgroups:<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0gmane.comp.apache.devel<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0To: <a href=3D"mailto:dev@httpd.apache.or=
g" target=3D"_blank">dev@httpd.apache.org</a> &lt;mailto:<a href=3D"mailto:=
dev@httpd.apache.org" target=3D"_blank">dev@httpd.apache.org</a>&gt;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Subject: Re: [VOTE] Release Apache httpd =
2.4.14 as GA<br>
<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Regression: All works fine except a Proxy=
 Pass=C2=A0 to Sambar server, was<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0working ok with 2.4.12.<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0ProxyPasses to other servers the Sambar w=
orks fine.<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0ProxyPass /sysadmin <a href=3D"http://127=
.0.0.1:81/sysadmin" rel=3D"noreferrer" target=3D"_blank">http://127.0.0.1:8=
1/sysadmin</a><br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0ProxyPassReverse /sysadmin <a href=3D"htt=
p://127.0.0.1:81/sysadmin" rel=3D"noreferrer" target=3D"_blank">http://127.=
0.0.1:81/sysadmin</a><br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Calling with <a href=3D"http://127.0.0.1:=
8080/sysadmin/" rel=3D"noreferrer" target=3D"_blank">http://127.0.0.1:8080/=
sysadmin/</a> gives AH01110: error<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0reading<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0response :<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0[Sat Jun 13 13:23:08.010826 2015] [authz_=
core:debug] [pid 5684:tid 1128]<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0mod_authz_core.c(834): [client ::1:51072]=
 AH01628: authorization result:<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0granted (no directives)<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0[Sat Jun 13 13:23:08.010826 2015] [proxy:=
debug] [pid 5684:tid 1128]<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0mod_proxy.c(1157): [client ::1:51072] AH0=
1143: Running scheme http<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0handler<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(attempt 0)<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0[Sat Jun 13 13:23:08.010826 2015] [proxy:=
debug] [pid 5684:tid 1128]<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0proxy_util.c(2145): AH00942: HTTP: has ac=
quired connection for<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(127.0.0.1)<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0[Sat Jun 13 13:23:08.010826 2015] [proxy:=
debug] [pid 5684:tid 1128]<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0proxy_util.c(2199): [client ::1:51072] AH=
00944: connecting<br>
=C2=A0 =C2=A0 =C2=A0<a href=3D"http://127.0.0.1:81/sysadmin/" rel=3D"norefe=
rrer" target=3D"_blank">http://127.0.0.1:81/sysadmin/</a> to <a href=3D"htt=
p://127.0.0.1:81" rel=3D"noreferrer" target=3D"_blank">127.0.0.1:81</a> &lt=
;<a href=3D"http://127.0.0.1:81" rel=3D"noreferrer" target=3D"_blank">http:=
//127.0.0.1:81</a>&gt;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0[Sat Jun 13 13:23:08.010826 2015] [proxy:=
debug] [pid 5684:tid 1128]<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0proxy_util.c(2408): [client ::1:51072] AH=
00947: connected /sysadmin/ to<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0<a href=3D"http://127.0.0.1:81" rel=3D"no=
referrer" target=3D"_blank">127.0.0.1:81</a> &lt;<a href=3D"http://127.0.0.=
1:81" rel=3D"noreferrer" target=3D"_blank">http://127.0.0.1:81</a>&gt;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0[Sat Jun 13 13:23:08.010826 2015] [proxy:=
debug] [pid 5684:tid 1128]<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0proxy_util.c(2782): AH02824: HTTP: connec=
tion established with<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0<a href=3D"http://127.0.0.1:81" rel=3D"no=
referrer" target=3D"_blank">127.0.0.1:81</a> &lt;<a href=3D"http://127.0.0.=
1:81" rel=3D"noreferrer" target=3D"_blank">http://127.0.0.1:81</a>&gt;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(127.0.0.1)<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0[Sat Jun 13 13:23:08.010826 2015] [proxy:=
debug] [pid 5684:tid 1128]<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0proxy_util.c(2936): AH00962: HTTP: connec=
tion complete to<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0<a href=3D"http://127.0.0.1:81" rel=3D"no=
referrer" target=3D"_blank">127.0.0.1:81</a> &lt;<a href=3D"http://127.0.0.=
1:81" rel=3D"noreferrer" target=3D"_blank">http://127.0.0.1:81</a>&gt;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(127.0.0.1)<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0[Sat Jun 13 13:23:08.010826 2015] [proxy_=
http:error] [pid 5684:tid 1128]<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(20014)Internal error (specific informati=
on not available): [client<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0::1:51072] AH01110: error reading respons=
e<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0[Sat Jun 13 13:23:08.010826 2015] [proxy:=
debug] [pid 5684:tid 1128]<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0proxy_util.c(2160): AH00943: HTTP: has re=
leased connection for<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(127.0.0.1)<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0[Sat Jun 13 13:23:08.010826 2015] [proxy:=
debug] [pid 5684:tid 1128]<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0proxy_util.c(2878): [remote <a href=3D"ht=
tp://127.0.0.1:81" rel=3D"noreferrer" target=3D"_blank">127.0.0.1:81</a> &l=
t;<a href=3D"http://127.0.0.1:81" rel=3D"noreferrer" target=3D"_blank">http=
://127.0.0.1:81</a>&gt;]<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0AH02642: proxy: connection<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0shutdown<br>
<br>
<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0-----Original Message----- From: Jim Jagi=
elski<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Sent: Thursday, June 11, 2015 4:08 PM New=
sgroups:<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0gmane.comp.apache.devel<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0To: httpd<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Subject: [VOTE] Release Apache httpd 2.4.=
14 as GA<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0The pre-release test tarballs for Apache =
httpd 2.4.14 can be found<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0at the usual place:<br>
<br>
=C2=A0 =C2=A0 =C2=A0<a href=3D"http://httpd.apache.org/dev/dist/" rel=3D"no=
referrer" target=3D"_blank">http://httpd.apache.org/dev/dist/</a><br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0I&#39;m calling a VOTE on releasing these=
 as Apache httpd 2.4.14 GA.<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0[ ] +1: Good to go<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0[ ] +0: meh<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0[ ] -1: Danger Will Robinson. And why.<br=
>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Vote will last the normal 72 hrs.<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0NOTE: The *-deps are only there for conve=
nience.<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Thx!<br>
<br>
<br><span class=3D""><font color=3D"#888888">
<br>
--<br>
Born in Roswell... married an alien...<br>
<a href=3D"http://emptyhammock.com/" rel=3D"noreferrer" target=3D"_blank">h=
ttp://emptyhammock.com/</a><br>
</font></span></blockquote><span class=3D""><font color=3D"#888888">
<br>
--<br>
kippdata<br>
informationstechnologie GmbH=C2=A0 =C2=A0Tel: 0228 98549 -0<br>
Bornheimer Str. 33a=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Fax: 0228 9854=
9 -50<br>
53111 Bonn <a href=3D"http://www.kippdata.de" rel=3D"noreferrer" target=3D"=
_blank">http://www.kippdata.de</a><br>
<br>
HRB 8018 Amtsgericht Bonn / USt.-IdNr. DE 196 457 417<br>
Gesch=C3=A4ftsf=C3=BChrer: Dr. Thomas H=C3=B6fer, Rainer Jung, Sven Maurman=
n<br>
</font></span></blockquote>
<br>
<br>
<br>
</blockquote></div><br><br clear=3D"all"><div><br></div>-- <br><div class=
=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien..=
.<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyham=
mock.com/</a><div><br></div></div></div>
</div></div>

--94eb2c0885bed6b7bc05186aad02--

From dev-return-82982-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 13 18:53:28 2015
Return-Path: <dev-return-82982-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4EB7417C5C
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Jun 2015 18:53:28 +0000 (UTC)
Received: (qmail 17509 invoked by uid 500); 13 Jun 2015 18:53:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 17429 invoked by uid 500); 13 Jun 2015 18:53:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 17419 invoked by uid 99); 13 Jun 2015 18:53:27 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 18:53:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 60855CDB9F
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 18:53:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.88
X-Spam-Level: **
X-Spam-Status: No, score=2.88 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id HVelc3aWpnRp for <dev@httpd.apache.org>;
	Sat, 13 Jun 2015 18:53:16 +0000 (UTC)
Received: from mail-yh0-f45.google.com (mail-yh0-f45.google.com [209.85.213.45])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 4353C2164D
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 18:53:16 +0000 (UTC)
Received: by yhpn97 with SMTP id n97so24205338yhp.0
        for <dev@httpd.apache.org>; Sat, 13 Jun 2015 11:53:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=73h7BBpWi0ETbG4eiSjxKRLe5ElXBVJ6oXCzRRUbKRg=;
        b=G60bYUzjJYYkdnS1h9qibggfHxdbP07wV/QQtNxE0Yw7UwUvoD754s0t8iGrb2c7Tr
         LHwrYL8muxuAdx8kuHm9TicA8gmVE6EnDx0kPFfCJmx1PvrWuX8vh3McdcOL2aZ5cd/A
         Q9tIhnsphI0EHncENiL0o72ihIEFGuzMt9GniuMaosLA/sbkzhM82yFlNLOCjDEt2m2D
         OkC3AxaQzHzicLoUQgaap3W7YNBgLcIukX4Bc1iYjoqee+qk0eykSAInM0N9FrDcE4Ap
         wuMCSI7eIwQQXOQEU42VweiJr0e+tZDh2iqoPFcj47gRBHoXHxff+wA/HQ51DmNn8b4k
         hr0A==
MIME-Version: 1.0
X-Received: by 10.13.243.65 with SMTP id c62mr25495731ywf.114.1434221589591;
 Sat, 13 Jun 2015 11:53:09 -0700 (PDT)
Received: by 10.13.206.195 with HTTP; Sat, 13 Jun 2015 11:53:09 -0700 (PDT)
In-Reply-To: <CAKUrXK4j6Uqc5jVqKih4yXhBc7X8XDh_TE5t=Vo=e2uKMmYVdw@mail.gmail.com>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
	<CAKUrXK4j6Uqc5jVqKih4yXhBc7X8XDh_TE5t=Vo=e2uKMmYVdw@mail.gmail.com>
Date: Sat, 13 Jun 2015 14:53:09 -0400
Message-ID: <CAKUrXK4CeW2R0qTN83wfRe-vemcbd_vJoVYtgGQerSuEPOLmOg@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=94eb2c036328607ce605186abcbc

--94eb2c036328607ce605186abcbc
Content-Type: text/plain; charset=UTF-8

On Sat, Jun 13, 2015 at 9:24 AM, Jeff Trawick <trawick@gmail.com> wrote:

> On Thu, Jun 11, 2015 at 10:08 AM, Jim Jagielski <jim@jagunet.com> wrote:
>
>> The pre-release test tarballs for Apache httpd 2.4.14 can be found
>> at the usual place:
>>
>>         http://httpd.apache.org/dev/dist/
>>
>> I'm calling a VOTE on releasing these as Apache httpd 2.4.14 GA.
>>
>> [ ] +1: Good to go
>> [ ] +0: meh
>> [ ] -1: Danger Will Robinson. And why.
>>
>>
> CentOS 7, 64-bit: HTTP::DAV skipped; event and prefork tested, no failures
>
> FreeBSD 10.1, 32-bit: lua skipped, accept filter not loaded, event and
> prefork tested
>
> Test Summary Report
> -------------------
> t/ssl/pr12355.t                   (Wstat: 0 Tests: 10 Failed: 4)
>   Failed tests:  3-4, 7-8
> t/ssl/pr43738.t                   (Wstat: 0 Tests: 4 Failed: 2)
>   Failed tests:  1-2
>
> (same as with 2.4.13)
>
> My vote: -1 for now :(
>

That won't change :(  I don't think we can proxy to httpd 1.3[-based]
servers anymore and accept chunked responses.


> Steffen's apparent regression between 2.4.13 and 2.4.14 needs to be
> investigated if he is able to assist further.  Other than that, I am
> concerned about the console message issue with lots of SSL-enabled vhosts
> but no per-vhost LogLevel (no deprecation messages before, lots now) but I
> think that could be addressed in a recommended patch.
>
>


-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--94eb2c036328607ce605186abcbc
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On S=
at, Jun 13, 2015 at 9:24 AM, Jeff Trawick <span dir=3D"ltr">&lt;<a href=3D"=
mailto:trawick@gmail.com" target=3D"_blank">trawick@gmail.com</a>&gt;</span=
> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;bo=
rder-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div class=3D"g=
mail_extra"><div class=3D"gmail_quote"><span class=3D"">On Thu, Jun 11, 201=
5 at 10:08 AM, Jim Jagielski <span dir=3D"ltr">&lt;<a href=3D"mailto:jim@ja=
gunet.com" target=3D"_blank">jim@jagunet.com</a>&gt;</span> wrote:<br><bloc=
kquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-left-=
width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;paddin=
g-left:1ex">The pre-release test tarballs for Apache httpd 2.4.14 can be fo=
und<br>
at the usual place:<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 <a href=3D"http://httpd.apache.org/dev/dist/" r=
el=3D"noreferrer" target=3D"_blank">http://httpd.apache.org/dev/dist/</a><b=
r>
<br>
I&#39;m calling a VOTE on releasing these as Apache httpd 2.4.14 GA.<br>
<br>
[ ] +1: Good to go<br>
[ ] +0: meh<br>
[ ] -1: Danger Will Robinson. And why.<br>
<br></blockquote><div><br></div></span><div><div>CentOS 7, 64-bit: HTTP::DA=
V skipped; event and prefork tested, no failures</div><div><br></div><div>F=
reeBSD 10.1, 32-bit: lua skipped, accept filter not loaded, event and prefo=
rk tested</div><div><br></div><div>Test Summary Report</div><div>----------=
---------</div><div>t/ssl/pr12355.t =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 (Wstat: 0 Tests: 10 Failed: 4)</div><div>=C2=A0 Fa=
iled tests: =C2=A03-4, 7-8</div><div>t/ssl/pr43738.t =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 (Wstat: 0 Tests: 4 Failed: 2)</di=
v><div>=C2=A0 Failed tests: =C2=A01-2</div><div><br></div><div>(same as wit=
h 2.4.13)</div></div><div><br></div><div>My vote: -1 for now :(</div></div>=
</div></div></blockquote><div><br></div><div>That won&#39;t change :( =C2=
=A0I don&#39;t think we can proxy to httpd 1.3[-based] servers anymore and =
accept chunked responses.</div><div><br></div><blockquote class=3D"gmail_qu=
ote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex=
"><div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote"><d=
iv><br></div><div>Steffen&#39;s apparent regression between 2.4.13 and 2.4.=
14 needs to be investigated if he is able to assist further.=C2=A0 Other th=
an that, I am concerned about the console message issue with lots of SSL-en=
abled vhosts but no per-vhost LogLevel (no deprecation messages before, lot=
s now) but I think that could be addressed in a recommended patch.</div></d=
iv><span class=3D""><div><br></div></span></div></div></blockquote></div><b=
r><br clear=3D"all"><div><br></div>-- <br><div class=3D"gmail_signature"><d=
iv dir=3D"ltr">Born in Roswell... married an alien...<br><a href=3D"http://=
emptyhammock.com/" target=3D"_blank">http://emptyhammock.com/</a><div><br><=
/div></div></div>
</div></div>

--94eb2c036328607ce605186abcbc--

From dev-return-82983-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 13 22:07:37 2015
Return-Path: <dev-return-82983-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 46F17181D8
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Jun 2015 22:07:37 +0000 (UTC)
Received: (qmail 20337 invoked by uid 500); 13 Jun 2015 22:07:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 20261 invoked by uid 500); 13 Jun 2015 22:07:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 20251 invoked by uid 99); 13 Jun 2015 22:07:31 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 22:07:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 59F83182204
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 22:07:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 2RHVJQS8c8ng for <dev@httpd.apache.org>;
	Sat, 13 Jun 2015 22:07:25 +0000 (UTC)
Received: from mail-ig0-f174.google.com (mail-ig0-f174.google.com [209.85.213.174])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id C323842AF1
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 22:07:24 +0000 (UTC)
Received: by igbpi8 with SMTP id pi8so32224495igb.0
        for <dev@httpd.apache.org>; Sat, 13 Jun 2015 15:06:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=jtaXMBdX/T9kJHSrW2iZa9NS53XcMHjmjtCvzYDG/P8=;
        b=vmFvs8KzRiOW2Q1JzDhpC+JLMZUIydJYRpDhH/+/MURVwrms4C/YHSy0b8yMgeHc00
         SFhb5MCb9YqBhlsKy1VV8j7UOJoZ04lFii14WIf0bsZd9bA0PwejJt3smGcPSGxkabjt
         QYZx/kwxjvlHRvoTPepXgeZIeFv/OxImhH+1PR3sWk+59OEfBsCyuPPRDdViS/mKPGpu
         918WVIWD3HAJZP8zHq9bRuksTC5PB46KeKZCX2YyNEdmRckHJOZn3qoXjYmJrSzOzZhU
         B4oGXh7A2u/0Vm9yk88JIiplwaMNTv9/jGdX97+GH4Vxi2DussC2yc+/VXnOGT/9imp4
         vzsA==
MIME-Version: 1.0
X-Received: by 10.107.46.226 with SMTP id u95mr26346661iou.68.1434233199278;
 Sat, 13 Jun 2015 15:06:39 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Sat, 13 Jun 2015 15:06:39 -0700 (PDT)
In-Reply-To: <557C5F75.3090006@kippdata.de>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
	<C8CFFE6DEF254EC2BBC171776451AFAA@father>
	<CC79AF480F174707ACF9A64818E37383@father>
	<CAKUrXK6-xA6GfJrxzz6JFERF3T1+dd22R0ORrQxYM5PNrTvOBw@mail.gmail.com>
	<2F083565602A4619AB28D9C432EBE49B@father>
	<557C5F75.3090006@kippdata.de>
Date: Sun, 14 Jun 2015 00:06:39 +0200
Message-ID: <CAKQ1sVMnb-iemsVok9k300GHmwRjr5+hCbESCMyY=e9PExoKPA@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/mixed; boundary=001a113763e25eb05905186d7030

--001a113763e25eb05905186d7030
Content-Type: text/plain; charset=UTF-8

On Sat, Jun 13, 2015 at 6:51 PM, Rainer Jung <rainer.jung@kippdata.de> wrote:
>
> any chance you can reproduce the problem with a slightly patched 2.4.14 to
> get additional log output around the suspect code?
>
> The patch would be
>
> Index: modules/http/http_filters.c
> ===================================================================
> --- modules/http/http_filters.c (revision 1685283)
> +++ modules/http/http_filters.c (working copy)
> @@ -514,6 +514,9 @@
>                      rv = parse_chunk_size(ctx, buffer, len,
>
> f->r->server->limit_req_fieldsize);
>                      if (rv != APR_SUCCESS) {
> +                        ap_log_rerror(APLOG_MARK, APLOG_ERR, rv, f->r,
> APLOGNO(99999)
> +                                      "Error parsing chunk size, buffer
> %*.*s, limit %d",
> +                                      len, len, buffer,
> f->r->server->limit_req_fieldsize);
>                          if (rv != APR_ENOSPC) {
>                              http_error = HTTP_BAD_REQUEST;
>                          }

Hmm, it seems that the backported patch in r1684515 is not the
proposed/voted v5, where AH01590 would normally have been logged here.
Bill, looks like v4 was applied instead... Attached is the diff on
http_filter.c between the two patches.

BTW, v5 does not address the regression encountered by Steffen either:
space(s) between the chunk-size and the CRLF which are not allowed
anymore.
This is not really RFC compliant, but I guess we have to be lenient here...

I did not look at pr12355.t and pr43738.t yet, however those passed in
my tests, so it's probably something different.
Jeff, any idea where these failures can come from?
What do -v and the logs say?

--001a113763e25eb05905186d7030
Content-Type: application/x-download; 
	name="http_filters.c-2.4.x-v5_vs_v4.patch"
Content-Disposition: attachment; 
	filename="http_filters.c-2.4.x-v5_vs_v4.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_iavkse3e0

LS0tIG1vZHVsZXMvaHR0cC9odHRwX2ZpbHRlcnMuYy52NAkyMDE1LTA1LTMxIDIxOjMzOjExLjE3
MTk2OTQzMyArMDIwMAorKysgbW9kdWxlcy9odHRwL2h0dHBfZmlsdGVycy5jLnY1CTIwMTUtMDUt
MzEgMjE6MzI6MjcuMzk5MTM1MzkwICswMjAwCkBAIC00NTIsNyArNDUyLDYgQEAgYXByX3N0YXR1
c190IGFwX2h0dHBfZmlsdGVyKGFwX2ZpbHRlcl90CiAgICAgICAgICAgICAgICAgQVBSX0JSSUdB
REVfSU5TRVJUX1RBSUwoYmIsIGUpOwogCiAgICAgICAgICAgICAgICAgcnYgPSBhcF9wYXNzX2Jy
aWdhZGUoZi0+Yy0+b3V0cHV0X2ZpbHRlcnMsIGJiKTsKLSAgICAgICAgICAgICAgICBhcHJfYnJp
Z2FkZV9jbGVhbnVwKGJiKTsKICAgICAgICAgICAgICAgICBpZiAocnYgIT0gQVBSX1NVQ0NFU1Mp
IHsKICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFQX0ZJTFRFUl9FUlJPUjsKICAgICAgICAg
ICAgICAgICB9CkBAIC01MDMsMjEgKzUwMiwyNiBAQCBhcHJfc3RhdHVzX3QgYXBfaHR0cF9maWx0
ZXIoYXBfZmlsdGVyX3QKICAgICAgICAgICAgICAgICBhcHJfc2l6ZV90IGxlbjsKIAogICAgICAg
ICAgICAgICAgIGlmICghQVBSX0JVQ0tFVF9JU19NRVRBREFUQShlKSkgeworICAgICAgICAgICAg
ICAgICAgICBpbnQgcGFyc2luZyA9IDA7CisKICAgICAgICAgICAgICAgICAgICAgcnYgPSBhcHJf
YnVja2V0X3JlYWQoZSwgJmJ1ZmZlciwgJmxlbiwgQVBSX0JMT0NLX1JFQUQpOworCisgICAgICAg
ICAgICAgICAgICAgIGlmIChydiA9PSBBUFJfU1VDQ0VTUykgeworICAgICAgICAgICAgICAgICAg
ICAgICAgcGFyc2luZyA9IDE7CisgICAgICAgICAgICAgICAgICAgICAgICBydiA9IHBhcnNlX2No
dW5rX3NpemUoY3R4LCBidWZmZXIsIGxlbiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgZi0+ci0+c2VydmVyLT5saW1pdF9yZXFfZmllbGRzaXplKTsKKyAgICAgICAgICAgICAgICAg
ICAgfQogICAgICAgICAgICAgICAgICAgICBpZiAocnYgIT0gQVBSX1NVQ0NFU1MpIHsKICAgICAg
ICAgICAgICAgICAgICAgICAgIGFwX2xvZ19yZXJyb3IoQVBMT0dfTUFSSywgQVBMT0dfSU5GTywg
cnYsIGYtPnIsIEFQTE9HTk8oMDE1OTApCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICJFcnJvciByZWFkaW5nIGNodW5rICVzICIsCisgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICJFcnJvciByZWFkaW5nL3BhcnNpbmcgY2h1bmsgJXMgIiwKICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKEFQUl9FTk9TUEMgPT0gcnYpID8gIihv
dmVyZmxvdykiIDogIiIpOwotICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ2OwotICAg
ICAgICAgICAgICAgICAgICB9Ci0KLSAgICAgICAgICAgICAgICAgICAgcnYgPSBwYXJzZV9jaHVu
a19zaXplKGN0eCwgYnVmZmVyLCBsZW4sCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBmLT5yLT5zZXJ2ZXItPmxpbWl0X3JlcV9maWVsZHNpemUpOwotICAgICAgICAg
ICAgICAgICAgICBpZiAocnYgIT0gQVBSX1NVQ0NFU1MpIHsKLSAgICAgICAgICAgICAgICAgICAg
ICAgIGlmIChydiAhPSBBUFJfRU5PU1BDKSB7Ci0gICAgICAgICAgICAgICAgICAgICAgICAgICAg
aHR0cF9lcnJvciA9IEhUVFBfQkFEX1JFUVVFU1Q7CisgICAgICAgICAgICAgICAgICAgICAgICBp
ZiAocGFyc2luZykgeworICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydiAhPSBBUFJf
RU5PU1BDKSB7CisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0dHBfZXJyb3IgPSBI
VFRQX0JBRF9SRVFVRVNUOworICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmFpbF9vdXRfb25fZXJyb3IoY3R4LCBmLCBodHRw
X2Vycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgIH0KLSAgICAgICAgICAgICAgICAgICAg
ICAgIHJldHVybiBiYWlsX291dF9vbl9lcnJvcihjdHgsIGYsIGh0dHBfZXJyb3IpOworICAgICAg
ICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ2OwogICAgICAgICAgICAgICAgICAgICB9CiAgICAg
ICAgICAgICAgICAgfQogCkBAIC02MzIsNyArNjM2LDcgQEAgYXByX3N0YXR1c190IGFwX2h0dHBf
ZmlsdGVyKGFwX2ZpbHRlcl90CiAgICAgICAgIH0KICAgICAgICAgZGVmYXVsdDogewogICAgICAg
ICAgICAgLyogU2hvdWxkIG5vdCBoYXBwZW4gKi8KLSAgICAgICAgICAgIGFwX2xvZ19yZXJyb3Io
QVBMT0dfTUFSSywgQVBMT0dfRVJSLCAwLCBmLT5yLCBBUExPR05PKDAyOTAxKQorICAgICAgICAg
ICAgYXBfbG9nX3JlcnJvcihBUExPR19NQVJLLCBBUExPR19JTkZPLCAwLCBmLT5yLCBBUExPR05P
KDAyOTAxKQogICAgICAgICAgICAgICAgICAgICAgICAgICAiVW5leHBlY3RlZCBib2R5IHN0YXRl
ICglaSkiLCAoaW50KWN0eC0+c3RhdGUpOwogICAgICAgICAgICAgcmV0dXJuIEFQUl9FR0VORVJB
TDsKICAgICAgICAgfQo=
--001a113763e25eb05905186d7030--

From dev-return-82984-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 13 23:19:05 2015
Return-Path: <dev-return-82984-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F3F56182FA
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Jun 2015 23:19:04 +0000 (UTC)
Received: (qmail 69017 invoked by uid 500); 13 Jun 2015 23:19:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68952 invoked by uid 500); 13 Jun 2015 23:19:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68942 invoked by uid 99); 13 Jun 2015 23:19:04 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 23:19:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 1C2E3C06B6
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 23:19:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 4.901
X-Spam-Level: ****
X-Spam-Status: No, score=4.901 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, KAM_BADIPHTTP=2, SPF_PASS=-0.001, URIBL_BLOCKED=0.001,
	WEIRD_PORT=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id wonJ8H4o5KKd for <dev@httpd.apache.org>;
	Sat, 13 Jun 2015 23:18:53 +0000 (UTC)
Received: from mail-yh0-f42.google.com (mail-yh0-f42.google.com [209.85.213.42])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id D4A0F453CD
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 23:18:52 +0000 (UTC)
Received: by yhpn97 with SMTP id n97so25256573yhp.0
        for <dev@httpd.apache.org>; Sat, 13 Jun 2015 16:18:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=RNduVUkp7e8kuJEgXlGWBau8XmpflazsX+v+HXYA7Hc=;
        b=GjwCzuV6jse/4tE6VB7RJVM3JCt/jka4zIIBHRnIhvyDl95m87241i+svO3bqmtYzv
         +za3A8XxNTJWRJqOWbnkzxr6LZZlEE4fYKHxMcFSOfNbkgZw/8IQdU5A0jbJIOaFg3hM
         yQJG5tE/WESbdO8B1YwAycMDqu0DNlPNDfNAiG26wKmMv18wTlJnkJBla/WGtbhOEBJu
         0cgTgUnQZqXvpy/ov5G42lP1SVt4xsxTu2DSNS6qt3praHesr+uYlwMtxtf9KpmEEAOp
         9vuZP7CitlCHOyO0jdL9U1dfKfdMwuxJyL8pMwiF6377BGxm8fl2VGMUmN4ciba7A71j
         bMzQ==
MIME-Version: 1.0
X-Received: by 10.170.91.131 with SMTP id i125mr26610376yka.12.1434237480725;
 Sat, 13 Jun 2015 16:18:00 -0700 (PDT)
Received: by 10.13.206.195 with HTTP; Sat, 13 Jun 2015 16:18:00 -0700 (PDT)
In-Reply-To: <CAKQ1sVMnb-iemsVok9k300GHmwRjr5+hCbESCMyY=e9PExoKPA@mail.gmail.com>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
	<C8CFFE6DEF254EC2BBC171776451AFAA@father>
	<CC79AF480F174707ACF9A64818E37383@father>
	<CAKUrXK6-xA6GfJrxzz6JFERF3T1+dd22R0ORrQxYM5PNrTvOBw@mail.gmail.com>
	<2F083565602A4619AB28D9C432EBE49B@father>
	<557C5F75.3090006@kippdata.de>
	<CAKQ1sVMnb-iemsVok9k300GHmwRjr5+hCbESCMyY=e9PExoKPA@mail.gmail.com>
Date: Sat, 13 Jun 2015 19:18:00 -0400
Message-ID: <CAKUrXK64FspHE3sC+U_+R2EhLNL3HYWgnKK8cW4wCEWh8kGEYw@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113942ae8ff18005186e6f53

--001a113942ae8ff18005186e6f53
Content-Type: text/plain; charset=UTF-8

On Sat, Jun 13, 2015 at 6:06 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> On Sat, Jun 13, 2015 at 6:51 PM, Rainer Jung <rainer.jung@kippdata.de>
> wrote:
> >
> > any chance you can reproduce the problem with a slightly patched 2.4.14
> to
> > get additional log output around the suspect code?
> >
> > The patch would be
> >
> > Index: modules/http/http_filters.c
> > ===================================================================
> > --- modules/http/http_filters.c (revision 1685283)
> > +++ modules/http/http_filters.c (working copy)
> > @@ -514,6 +514,9 @@
> >                      rv = parse_chunk_size(ctx, buffer, len,
> >
> > f->r->server->limit_req_fieldsize);
> >                      if (rv != APR_SUCCESS) {
> > +                        ap_log_rerror(APLOG_MARK, APLOG_ERR, rv, f->r,
> > APLOGNO(99999)
> > +                                      "Error parsing chunk size, buffer
> > %*.*s, limit %d",
> > +                                      len, len, buffer,
> > f->r->server->limit_req_fieldsize);
> >                          if (rv != APR_ENOSPC) {
> >                              http_error = HTTP_BAD_REQUEST;
> >                          }
>
> Hmm, it seems that the backported patch in r1684515 is not the
> proposed/voted v5, where AH01590 would normally have been logged here.
> Bill, looks like v4 was applied instead... Attached is the diff on
> http_filter.c between the two patches.
>
> BTW, v5 does not address the regression encountered by Steffen either:
> space(s) between the chunk-size and the CRLF which are not allowed
> anymore.
> This is not really RFC compliant, but I guess we have to be lenient here...
>
> I did not look at pr12355.t and pr43738.t yet, however those passed in
> my tests, so it's probably something different.
>

Just in case it wasn't clear, these aren't regressions.  I get them with
prior releases on FreeBSD 10.1 also.

I don't know if it is the Perl stack or OpenSSL or ??? that results in the
consistent failure.  (This FreeBSD has a significantly newer Perl stack
from system packages than CentOS 7.)  IIUC, Rainer has been reporting
intermittent failures on various platforms for a while.



> Jeff, any idea where these failures can come from?
> What do -v and the logs say?
>

pr12355.t only:

# testing : renegotiation on POST works
# expected: 200
# received: 500
not ok 3
# testing : request body matches response
# expected: 'hello world'
# received: 'Status read failed:  at
/usr/local/lib/perl5/site_perl/Net/HTTP/Methods.pm line 289.
# '
not ok 4
...
# testing : renegotiation on POST works
# expected: 200
# received: 500
not ok 7
# testing : request body matches response
# expected: 'xxxxxx...
# received: 'Status read failed:  at
/usr/local/lib/perl5/site_perl/Net/HTTP/Methods.pm line 289.
# '
not ok 8

I think this is the underlying failure I'm seeing, possibly for both
testcases:

Sat Jun 13 23:08:55.005710 2015] [ssl:error] [pid 3745] [client
127.0.0.1:44064] AH02261: Re-negotiation handshake failed
[Sat Jun 13 23:08:55.005743 2015] [ssl:error] [pid 3745] SSL Library Error:
error:1408A0C1:SSL routines:SSL3_GET_CLIENT_HELLO:no shared cipher -- Too
restrictive SSLCipherSuite or using DSA server certificate?



-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a113942ae8ff18005186e6f53
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On S=
at, Jun 13, 2015 at 6:06 PM, Yann Ylavic <span dir=3D"ltr">&lt;<a href=3D"m=
ailto:ylavic.dev@gmail.com" target=3D"_blank">ylavic.dev@gmail.com</a>&gt;<=
/span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px =
0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-l=
eft-style:solid;padding-left:1ex"><span class=3D"">On Sat, Jun 13, 2015 at =
6:51 PM, Rainer Jung &lt;<a href=3D"mailto:rainer.jung@kippdata.de">rainer.=
jung@kippdata.de</a>&gt; wrote:<br>
&gt;<br>
&gt; any chance you can reproduce the problem with a slightly patched 2.4.1=
4 to<br>
&gt; get additional log output around the suspect code?<br>
&gt;<br>
&gt; The patch would be<br>
&gt;<br>
&gt; Index: modules/http/http_filters.c<br>
&gt; =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<br>
&gt; --- modules/http/http_filters.c (revision 1685283)<br>
&gt; +++ modules/http/http_filters.c (working copy)<br>
&gt; @@ -514,6 +514,9 @@<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 rv =3D parse_chunk_size(ctx, buffer, len,<br>
&gt;<br>
&gt; f-&gt;r-&gt;server-&gt;limit_req_fieldsize);<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 if (rv !=3D APR_SUCCESS) {<br>
&gt; +=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 ap_log_rerror(APLOG_MARK, APLOG_ERR, rv, f-&gt;r,<br>
&gt; APLOGNO(99999)<br>
&gt; +=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 &quot;Error=
 parsing chunk size, buffer<br>
&gt; %*.*s, limit %d&quot;,<br>
&gt; +=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 len, len, b=
uffer,<br>
&gt; f-&gt;r-&gt;server-&gt;limit_req_fieldsize);<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 if (rv !=3D APR_ENOSPC) {<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 http_error =3D HTTP_BAD_REQUEST;<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 }<br>
<br>
</span>Hmm, it seems that the backported patch in r1684515 is not the<br>
proposed/voted v5, where AH01590 would normally have been logged here.<br>
Bill, looks like v4 was applied instead... Attached is the diff on<br>
http_filter.c between the two patches.<br>
<br>
BTW, v5 does not address the regression encountered by Steffen either:<br>
space(s) between the chunk-size and the CRLF which are not allowed<br>
anymore.<br>
This is not really RFC compliant, but I guess we have to be lenient here...=
<br>
<br>
I did not look at pr12355.t and pr43738.t yet, however those passed in<br>
my tests, so it&#39;s probably something different.<br></blockquote><div><b=
r></div><div>Just in case it wasn&#39;t clear, these aren&#39;t regressions=
.=C2=A0 I get them with prior releases on FreeBSD 10.1 also.</div><div><br>=
</div><div>I don&#39;t know if it is the Perl stack or OpenSSL or ??? that =
results in the consistent failure. =C2=A0(This FreeBSD has a significantly =
newer Perl stack from system packages than CentOS 7.) =C2=A0IIUC, Rainer ha=
s been reporting intermittent failures on various platforms for a while.</d=
iv><div><br></div><div>=C2=A0<br></div><blockquote class=3D"gmail_quote" st=
yle=3D"margin:0px 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb=
(204,204,204);border-left-style:solid;padding-left:1ex">
Jeff, any idea where these failures can come from?<br>
What do -v and the logs say?<br>
</blockquote></div><div class=3D"gmail_extra"><br></div>pr12355.t only:</di=
v><div class=3D"gmail_extra"><br></div><div class=3D"gmail_extra"><div clas=
s=3D"gmail_extra"># testing : renegotiation on POST works</div><div class=
=3D"gmail_extra"># expected: 200</div><div class=3D"gmail_extra"># received=
: 500</div><div class=3D"gmail_extra">not ok 3</div><div class=3D"gmail_ext=
ra"># testing : request body matches response</div><div class=3D"gmail_extr=
a"># expected: &#39;hello world&#39;</div><div class=3D"gmail_extra"># rece=
ived: &#39;Status read failed: =C2=A0at /usr/local/lib/perl5/site_perl/Net/=
HTTP/Methods.pm line 289.</div><div class=3D"gmail_extra"># &#39;</div><div=
 class=3D"gmail_extra">not ok 4</div><div class=3D"gmail_extra">...</div><d=
iv class=3D"gmail_extra"># testing : renegotiation on POST works</div><div =
class=3D"gmail_extra"># expected: 200</div><div class=3D"gmail_extra"># rec=
eived: 500</div><div class=3D"gmail_extra">not ok 7</div><div><div># testin=
g : request body matches response</div><div># expected: &#39;xxxxxx...</div=
></div><div><div># received: &#39;Status read failed: =C2=A0at /usr/local/l=
ib/perl5/site_perl/Net/HTTP/Methods.pm line 289.</div><div># &#39;</div><di=
v>not ok 8</div></div><div><br></div><div>I think this is the underlying fa=
ilure I&#39;m seeing, possibly for both testcases:</div><div><br></div><div=
><div>Sat Jun 13 23:08:55.005710 2015] [ssl:error] [pid 3745] [client <a hr=
ef=3D"http://127.0.0.1:44064">127.0.0.1:44064</a>] AH02261: Re-negotiation =
handshake failed</div><div>[Sat Jun 13 23:08:55.005743 2015] [ssl:error] [p=
id 3745] SSL Library Error: error:1408A0C1:SSL routines:SSL3_GET_CLIENT_HEL=
LO:no shared cipher -- Too restrictive SSLCipherSuite or using DSA server c=
ertificate?</div></div><div><br></div><div><br></div><div><br></div>-- <br>=
<div class=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married =
an alien...<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http:=
//emptyhammock.com/</a><div><br></div></div></div>
</div></div>

--001a113942ae8ff18005186e6f53--

From dev-return-82985-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 13 23:42:34 2015
Return-Path: <dev-return-82985-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AB31918360
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Jun 2015 23:42:34 +0000 (UTC)
Received: (qmail 90661 invoked by uid 500); 13 Jun 2015 23:42:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 90595 invoked by uid 500); 13 Jun 2015 23:42:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 90585 invoked by uid 99); 13 Jun 2015 23:42:34 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 23:42:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id C4E96182204
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 23:42:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id RzM65sWxZivc for <dev@httpd.apache.org>;
	Sat, 13 Jun 2015 23:42:33 +0000 (UTC)
Received: from mail-ig0-f181.google.com (mail-ig0-f181.google.com [209.85.213.181])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 656BC20343
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 23:42:32 +0000 (UTC)
Received: by igboe5 with SMTP id oe5so7157200igb.1
        for <dev@httpd.apache.org>; Sat, 13 Jun 2015 16:42:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=O8EwZJhxBGIlGoxWwFp44botu/j4qVkH/Y/ac3nVllY=;
        b=smubbCNTOl2z2eXFCbYUvCcthD7feK2CZoKiAlQ73HsqWYMpNAjWvEIxrDs512ivBR
         5aEESxN7CFSbf0d0Wju/Qq+EsM80qIvRNFr4fjZ4CtVPRt0Z2WTLsYpeF7grmQRdOe9c
         zihL8R2lrV6b9vzQ8/iAZ3nPiZh5u2PaUZNQMwBskVOneKBbaj2HvR7i0vMzQKsYqbwo
         4AwLe852bh5XP78qTosNlCh7NIDKRyG9BHFR13I9MhkZO733cNtaWVbSNAmkoNcQk4/G
         Xya4vBgLEnXuCmAixLc4MIWl7PK6789YYc/4lXKe9W14GhyRW0WAKkE4d5Y0xQJWW1nh
         espA==
MIME-Version: 1.0
X-Received: by 10.107.15.213 with SMTP id 82mr3884216iop.44.1434238951371;
 Sat, 13 Jun 2015 16:42:31 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Sat, 13 Jun 2015 16:42:31 -0700 (PDT)
In-Reply-To: <CAKUrXK64FspHE3sC+U_+R2EhLNL3HYWgnKK8cW4wCEWh8kGEYw@mail.gmail.com>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
	<C8CFFE6DEF254EC2BBC171776451AFAA@father>
	<CC79AF480F174707ACF9A64818E37383@father>
	<CAKUrXK6-xA6GfJrxzz6JFERF3T1+dd22R0ORrQxYM5PNrTvOBw@mail.gmail.com>
	<2F083565602A4619AB28D9C432EBE49B@father>
	<557C5F75.3090006@kippdata.de>
	<CAKQ1sVMnb-iemsVok9k300GHmwRjr5+hCbESCMyY=e9PExoKPA@mail.gmail.com>
	<CAKUrXK64FspHE3sC+U_+R2EhLNL3HYWgnKK8cW4wCEWh8kGEYw@mail.gmail.com>
Date: Sun, 14 Jun 2015 01:42:31 +0200
Message-ID: <CAKQ1sVPqC4Uw6awQ1Ow6h+bQCBYJrDSAwr7Vc9mVUz24qUzykg@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Sun, Jun 14, 2015 at 1:18 AM, Jeff Trawick <trawick@gmail.com> wrote:
> On Sat, Jun 13, 2015 at 6:06 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>> I did not look at pr12355.t and pr43738.t yet, however those passed in
>> my tests, so it's probably something different.
>
>
> Just in case it wasn't clear, these aren't regressions.  I get them with
> prior releases on FreeBSD 10.1 also.

Ah ok, those are possibly the same as I reported in [1] for the 2.4.13
vote (in the Post Scriptum, about latest stable debian 8).

>
> I don't know if it is the Perl stack or OpenSSL or ??? that results in the
> consistent failure.  (This FreeBSD has a significantly newer Perl stack from
> system packages than CentOS 7.)  IIUC, Rainer has been reporting
> intermittent failures on various platforms for a while.

It seems to be related to latest OpenSSL, maybe RC5 isn't handled anymore?


[1] https://mail-archives.apache.org/mod_mbox/httpd-dev/201506.mbox/%3CCAKQ1sVP7iOJWoLpjw6mWODxyxnhTVB32-RMM-ZV_DqwjXR1GPg@mail.gmail.com%3E

From dev-return-82986-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 13 23:53:34 2015
Return-Path: <dev-return-82986-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 879CC1837F
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 13 Jun 2015 23:53:34 +0000 (UTC)
Received: (qmail 97450 invoked by uid 500); 13 Jun 2015 23:53:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97388 invoked by uid 500); 13 Jun 2015 23:53:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97378 invoked by uid 99); 13 Jun 2015 23:53:33 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 13 Jun 2015 23:53:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 8169ECDC0A
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 23:53:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.209
X-Spam-Level:
X-Spam-Status: No, score=-1.209 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id HvKGS1IKQ8XN for <dev@httpd.apache.org>;
	Sat, 13 Jun 2015 23:53:33 +0000 (UTC)
Received: from mail-ig0-f171.google.com (mail-ig0-f171.google.com [209.85.213.171])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id B3C9043BAB
	for <dev@httpd.apache.org>; Sat, 13 Jun 2015 23:53:32 +0000 (UTC)
Received: by igboe5 with SMTP id oe5so7231034igb.1
        for <dev@httpd.apache.org>; Sat, 13 Jun 2015 16:52:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=qYqOqGThaxnHKpsk6mC4/ZPKFnx6I1bK4VRvL361SZQ=;
        b=zaHn7AJ1mhYY9M/drcnudoPTYErGG3Et39uk6s3KbSmYba7ilX4uof9wfFu75X/iCt
         XzKCFJ6sDD0IoGqtGnAARDWARyQo+fN+NY3yt/BZLZA6RMr9cwfdYFMysjTe411kLjhc
         FrxunQWlYJQT0R5BT85UbHQNoexq/l1hPQdG/9BqTaSDDbB0JBYnuvy5t6miE1aSzJda
         CrFICCvXlJKaUUMMvRffyiFHD6b5i3lSytWPP2149Ixvc7+SK+IZDRZfzg6q8d8kRQKZ
         ac7E5EL+fM0di/q5KNKg2yS2sUmPbES8lkczR9xe8U4Av5RNHnUd1NfJ+pUc4a9T8dl5
         7SbQ==
MIME-Version: 1.0
X-Received: by 10.43.162.136 with SMTP id mk8mr23046649icc.28.1434239561354;
 Sat, 13 Jun 2015 16:52:41 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Sat, 13 Jun 2015 16:52:41 -0700 (PDT)
In-Reply-To: <CAKUrXK5LoYnMXecuA6aGOcgeQtRf4rvQsWo2UVz3FHs0e8Hjfg@mail.gmail.com>
References: <557c69ef.7f0.20b8.5028@land10.nl>
	<CAKUrXK5LoYnMXecuA6aGOcgeQtRf4rvQsWo2UVz3FHs0e8Hjfg@mail.gmail.com>
Date: Sun, 14 Jun 2015 01:52:41 +0200
Message-ID: <CAKQ1sVMnaiOO5QLy2rBnFLCYcTtJC7UUCba=YMafvJPBwLh8UA@mail.gmail.com>
Subject: Re: ********* Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Sat, Jun 13, 2015 at 8:49 PM, Jeff Trawick <trawick@gmail.com> wrote:
>
> Those that know the original patch would presumably have a better way to
> code this.
>
> I recall that httpd 1.3 generally added whitespace after the chunk size as
> an optimization (pre-allocating space in BUFF for the largest possible chunk
> size I guess).  Is it appropriate to allow whitespace both before and after?
> The patch above only allows it after.

Committed in r1685345, by allowing both space and tab, before and
after the chunk-size.
Thinking more about it, I see no reason to allow spaces before
(especially if there is no compatibility issue), we probably should
revert that part.
Opinions?

From dev-return-82987-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 14 00:18:28 2015
Return-Path: <dev-return-82987-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 142CE18406
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Jun 2015 00:18:28 +0000 (UTC)
Received: (qmail 20575 invoked by uid 500); 14 Jun 2015 00:18:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 20500 invoked by uid 500); 14 Jun 2015 00:18:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 20490 invoked by uid 99); 14 Jun 2015 00:18:27 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Jun 2015 00:18:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 266C4CDBE9
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 00:18:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.881
X-Spam-Level: **
X-Spam-Status: No, score=2.881 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id ymwzAk9-0XC0 for <dev@httpd.apache.org>;
	Sun, 14 Jun 2015 00:18:20 +0000 (UTC)
Received: from mail-yk0-f174.google.com (mail-yk0-f174.google.com [209.85.160.174])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id C78A643BAB
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 00:18:19 +0000 (UTC)
Received: by ykaz81 with SMTP id z81so34302284yka.3
        for <dev@httpd.apache.org>; Sat, 13 Jun 2015 17:18:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=7I/gDSqhX06IwJ01UmbHSBCx2Kz6jvFS598QXjuiDnI=;
        b=JE8w4hgPsDbPGDI+VIl0i4Kb9ijYXWLwVQCSRI/y8o4ASV0pjepQdKZmfR8nOUSegE
         qUK7dD93il4SBsUhXosHIMT74Slf3mN/MVDVO3kdxJk/cMKADxt82vsA0xkzXXo+W7M4
         LvfvJGYlyN7tfRj1P5o12EZ5MAjRxi2beD+k1JBTSrPnMp0Aw6NS/subZcdL33fe2I2d
         FfZ5rBxA0bh6PmGuLg2IRhd+iiF1v2wXwGGOcIFoktfs/jdBrD31C+grLdn2Xu8xIY/4
         axRqq85Q4XuAJgmVmZFwtkHUYdv2aNs4M6u0v1ssP0Gl+kr7ukvltLRnnBojpZ245Owd
         7hqQ==
MIME-Version: 1.0
X-Received: by 10.129.119.7 with SMTP id s7mr26238536ywc.87.1434241092792;
 Sat, 13 Jun 2015 17:18:12 -0700 (PDT)
Received: by 10.13.206.195 with HTTP; Sat, 13 Jun 2015 17:18:12 -0700 (PDT)
In-Reply-To: <CAKQ1sVMnaiOO5QLy2rBnFLCYcTtJC7UUCba=YMafvJPBwLh8UA@mail.gmail.com>
References: <557c69ef.7f0.20b8.5028@land10.nl>
	<CAKUrXK5LoYnMXecuA6aGOcgeQtRf4rvQsWo2UVz3FHs0e8Hjfg@mail.gmail.com>
	<CAKQ1sVMnaiOO5QLy2rBnFLCYcTtJC7UUCba=YMafvJPBwLh8UA@mail.gmail.com>
Date: Sat, 13 Jun 2015 20:18:12 -0400
Message-ID: <CAKUrXK7rMMHwb76kXA99VAa3S_=ZjZYvDxx7zrapjqtpK=Hnpw@mail.gmail.com>
Subject: Re: ********* Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1149008cdbb8ce05186f467e

--001a1149008cdbb8ce05186f467e
Content-Type: text/plain; charset=UTF-8

On Sat, Jun 13, 2015 at 7:52 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> On Sat, Jun 13, 2015 at 8:49 PM, Jeff Trawick <trawick@gmail.com> wrote:
> >
> > Those that know the original patch would presumably have a better way to
> > code this.
> >
> > I recall that httpd 1.3 generally added whitespace after the chunk size
> as
> > an optimization (pre-allocating space in BUFF for the largest possible
> chunk
> > size I guess).  Is it appropriate to allow whitespace both before and
> after?
> > The patch above only allows it after.
>
> Committed in r1685345, by allowing both space and tab, before and
> after the chunk-size.
> Thinking more about it, I see no reason to allow spaces before
> (especially if there is no compatibility issue), we probably should
> revert that part.
> Opinions?
>

2.2 doesn't accept space or tab before the chunk size, so we don't need to
accept that.

2.2 does accept spaces and tabs after the chunk size, so we do need to
accept that.

-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a1149008cdbb8ce05186f467e
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On S=
at, Jun 13, 2015 at 7:52 PM, Yann Ylavic <span dir=3D"ltr">&lt;<a href=3D"m=
ailto:ylavic.dev@gmail.com" target=3D"_blank">ylavic.dev@gmail.com</a>&gt;<=
/span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8=
ex;border-left:1px #ccc solid;padding-left:1ex"><span class=3D"">On Sat, Ju=
n 13, 2015 at 8:49 PM, Jeff Trawick &lt;<a href=3D"mailto:trawick@gmail.com=
">trawick@gmail.com</a>&gt; wrote:<br>
&gt;<br>
&gt; Those that know the original patch would presumably have a better way =
to<br>
&gt; code this.<br>
&gt;<br>
&gt; I recall that httpd 1.3 generally added whitespace after the chunk siz=
e as<br>
&gt; an optimization (pre-allocating space in BUFF for the largest possible=
 chunk<br>
&gt; size I guess).=C2=A0 Is it appropriate to allow whitespace both before=
 and after?<br>
&gt; The patch above only allows it after.<br>
<br>
</span>Committed in r1685345, by allowing both space and tab, before and<br=
>
after the chunk-size.<br>
Thinking more about it, I see no reason to allow spaces before<br>
(especially if there is no compatibility issue), we probably should<br>
revert that part.<br>
Opinions?<br>
</blockquote></div><br>2.2 doesn&#39;t accept space or tab before the chunk=
 size, so we don&#39;t need to accept that.</div><div class=3D"gmail_extra"=
><br></div><div class=3D"gmail_extra">2.2 does accept spaces and tabs after=
 the chunk size, so we do need to accept that.</div><div class=3D"gmail_ext=
ra"><div><br></div>-- <br><div class=3D"gmail_signature"><div dir=3D"ltr">B=
orn in Roswell... married an alien...<br><a href=3D"http://emptyhammock.com=
/" target=3D"_blank">http://emptyhammock.com/</a><div><br></div></div></div=
>
</div></div>

--001a1149008cdbb8ce05186f467e--

From dev-return-82988-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 14 00:25:37 2015
Return-Path: <dev-return-82988-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8283418442
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Jun 2015 00:25:37 +0000 (UTC)
Received: (qmail 25673 invoked by uid 500); 14 Jun 2015 00:25:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 25598 invoked by uid 500); 14 Jun 2015 00:25:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 25588 invoked by uid 99); 14 Jun 2015 00:25:37 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Jun 2015 00:25:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 9711BC092D
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 00:25:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.209
X-Spam-Level:
X-Spam-Status: No, score=-1.209 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id RSagPcDJz34Y for <dev@httpd.apache.org>;
	Sun, 14 Jun 2015 00:25:35 +0000 (UTC)
Received: from mail-ie0-f169.google.com (mail-ie0-f169.google.com [209.85.223.169])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 2E8B7204D8
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 00:25:35 +0000 (UTC)
Received: by iebgx4 with SMTP id gx4so43313864ieb.0
        for <dev@httpd.apache.org>; Sat, 13 Jun 2015 17:25:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=VXVbSiuYQ8VT8LMKT5mWmskuZF+PkkLY8jA10tcUavM=;
        b=s6MN9Y4dBaKaguCU25ZD+4KXsGGoc9dWLuTk+bFWsdXri51zIpkZLMfLXWSnPfbeG1
         bpzzj1zVu2OR/1dNUAef2r7G1y6dDNOZq9J6n/LbRuHMvPmYk8UqVbAE9jnrjgGa1uQ2
         R3T4jHlZa2fe5tzHaIqnjibR2+CrHS6dWILCU8KnHPoX70dG/6FSn8HAxE2GbhXy2sWJ
         PSbD8fMHKBKRbkpdASLkSnK1zc/d155Lw8RZMEPUrSj/XcK93+7hJw/DSJgjEsyxFDQF
         aoXu31mg6nGwEcG5WXNDuDdJ86+qq6kTToGjw9+yj9fih1VtdJnsa1ACu6v51L/aANXU
         O5eg==
MIME-Version: 1.0
X-Received: by 10.43.162.136 with SMTP id mk8mr23119111icc.28.1434241527910;
 Sat, 13 Jun 2015 17:25:27 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Sat, 13 Jun 2015 17:25:27 -0700 (PDT)
In-Reply-To: <CAKUrXK7rMMHwb76kXA99VAa3S_=ZjZYvDxx7zrapjqtpK=Hnpw@mail.gmail.com>
References: <557c69ef.7f0.20b8.5028@land10.nl>
	<CAKUrXK5LoYnMXecuA6aGOcgeQtRf4rvQsWo2UVz3FHs0e8Hjfg@mail.gmail.com>
	<CAKQ1sVMnaiOO5QLy2rBnFLCYcTtJC7UUCba=YMafvJPBwLh8UA@mail.gmail.com>
	<CAKUrXK7rMMHwb76kXA99VAa3S_=ZjZYvDxx7zrapjqtpK=Hnpw@mail.gmail.com>
Date: Sun, 14 Jun 2015 02:25:27 +0200
Message-ID: <CAKQ1sVORe6azkpk9i3RX-HNzJDctKPbrm1+hCkU_qROr+bVmaw@mail.gmail.com>
Subject: Re: ********* Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Sun, Jun 14, 2015 at 2:18 AM, Jeff Trawick <trawick@gmail.com> wrote:
> On Sat, Jun 13, 2015 at 7:52 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>> On Sat, Jun 13, 2015 at 8:49 PM, Jeff Trawick <trawick@gmail.com> wrote:
>> >
>> > Those that know the original patch would presumably have a better way to
>> > code this.
>> >
>> > I recall that httpd 1.3 generally added whitespace after the chunk size
>> > as
>> > an optimization (pre-allocating space in BUFF for the largest possible
>> > chunk
>> > size I guess).  Is it appropriate to allow whitespace both before and
>> > after?
>> > The patch above only allows it after.
>>
>> Committed in r1685345, by allowing both space and tab, before and
>> after the chunk-size.
>> Thinking more about it, I see no reason to allow spaces before
>> (especially if there is no compatibility issue), we probably should
>> revert that part.
>> Opinions?
>
>
> 2.2 doesn't accept space or tab before the chunk size, so we don't need to
> accept that.

OK, fixed in r1685347.

From dev-return-82989-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 14 00:43:21 2015
Return-Path: <dev-return-82989-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9971B18495
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Jun 2015 00:43:21 +0000 (UTC)
Received: (qmail 51942 invoked by uid 500); 14 Jun 2015 00:43:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51864 invoked by uid 500); 14 Jun 2015 00:43:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51854 invoked by uid 99); 14 Jun 2015 00:43:20 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Jun 2015 00:43:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 7D7C6C092D
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 00:43:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.88
X-Spam-Level: **
X-Spam-Status: No, score=2.88 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 7NQdOBUzKoUL for <dev@httpd.apache.org>;
	Sun, 14 Jun 2015 00:43:11 +0000 (UTC)
Received: from mail-yk0-f177.google.com (mail-yk0-f177.google.com [209.85.160.177])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 551A022EF8
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 00:43:11 +0000 (UTC)
Received: by ykaz81 with SMTP id z81so34450223yka.3
        for <dev@httpd.apache.org>; Sat, 13 Jun 2015 17:43:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=dc71gYRwri/vBw2hrcrouIzvy7lJqGQ/l5yDAbeNggM=;
        b=Cqe/HBS2gpJjhoGJK0CoKQ2q2HB7HDzNwdeoiyh6ZUxSjx2fem2P6dSG9G31Qwq8kq
         cC/WQHT6aSpAopXxc4lFhGd0s1Pnlw466mRcoyr8okSm0KqSQ7OPILUfB6Xz54e0xfOr
         pYaYkQTJSskz60IHfSRUSRX/2nqk7kVgUPSDmnffwrlOnc87gIcAK+Cx+hEqhJzbDmHI
         lCLZJ/h1NNlkdtd4KQUtg5JyhqhV9+SrvT17aU/kfU88zTZRedR0bKmgHdHrirbF5Ycw
         yoybA/XwviYVINRlMMtnQDSIQY5lul449RnPeGCWO46rBeQvWOrXDMLSORwpW2RR0/Ib
         30EA==
MIME-Version: 1.0
X-Received: by 10.170.131.201 with SMTP id x192mr26408898ykb.118.1434242584101;
 Sat, 13 Jun 2015 17:43:04 -0700 (PDT)
Received: by 10.13.206.195 with HTTP; Sat, 13 Jun 2015 17:43:04 -0700 (PDT)
In-Reply-To: <CAKQ1sVORe6azkpk9i3RX-HNzJDctKPbrm1+hCkU_qROr+bVmaw@mail.gmail.com>
References: <557c69ef.7f0.20b8.5028@land10.nl>
	<CAKUrXK5LoYnMXecuA6aGOcgeQtRf4rvQsWo2UVz3FHs0e8Hjfg@mail.gmail.com>
	<CAKQ1sVMnaiOO5QLy2rBnFLCYcTtJC7UUCba=YMafvJPBwLh8UA@mail.gmail.com>
	<CAKUrXK7rMMHwb76kXA99VAa3S_=ZjZYvDxx7zrapjqtpK=Hnpw@mail.gmail.com>
	<CAKQ1sVORe6azkpk9i3RX-HNzJDctKPbrm1+hCkU_qROr+bVmaw@mail.gmail.com>
Date: Sat, 13 Jun 2015 20:43:04 -0400
Message-ID: <CAKUrXK65C5oQzAn_C5A_b_OyCaTpY6AV0505ds818U2VP=Cr2g@mail.gmail.com>
Subject: Re: ********* Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113a7ed2bf49d805186f9f7f

--001a113a7ed2bf49d805186f9f7f
Content-Type: text/plain; charset=UTF-8

On Sat, Jun 13, 2015 at 8:25 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> On Sun, Jun 14, 2015 at 2:18 AM, Jeff Trawick <trawick@gmail.com> wrote:
> > On Sat, Jun 13, 2015 at 7:52 PM, Yann Ylavic <ylavic.dev@gmail.com>
> wrote:
> >>
> >> On Sat, Jun 13, 2015 at 8:49 PM, Jeff Trawick <trawick@gmail.com>
> wrote:
> >> >
> >> > Those that know the original patch would presumably have a better way
> to
> >> > code this.
> >> >
> >> > I recall that httpd 1.3 generally added whitespace after the chunk
> size
> >> > as
> >> > an optimization (pre-allocating space in BUFF for the largest possible
> >> > chunk
> >> > size I guess).  Is it appropriate to allow whitespace both before and
> >> > after?
> >> > The patch above only allows it after.
> >>
> >> Committed in r1685345, by allowing both space and tab, before and
> >> after the chunk-size.
> >> Thinking more about it, I see no reason to allow spaces before
> >> (especially if there is no compatibility issue), we probably should
> >> revert that part.
> >> Opinions?
> >
> >
> > 2.2 doesn't accept space or tab before the chunk size, so we don't need
> to
> > accept that.
>
> OK, fixed in r1685347.
>

Works for me :)

-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a113a7ed2bf49d805186f9f7f
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On S=
at, Jun 13, 2015 at 8:25 PM, Yann Ylavic <span dir=3D"ltr">&lt;<a href=3D"m=
ailto:ylavic.dev@gmail.com" target=3D"_blank">ylavic.dev@gmail.com</a>&gt;<=
/span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8=
ex;border-left:1px #ccc solid;padding-left:1ex"><span class=3D"">On Sun, Ju=
n 14, 2015 at 2:18 AM, Jeff Trawick &lt;<a href=3D"mailto:trawick@gmail.com=
">trawick@gmail.com</a>&gt; wrote:<br>
&gt; On Sat, Jun 13, 2015 at 7:52 PM, Yann Ylavic &lt;<a href=3D"mailto:yla=
vic.dev@gmail.com">ylavic.dev@gmail.com</a>&gt; wrote:<br>
&gt;&gt;<br>
&gt;&gt; On Sat, Jun 13, 2015 at 8:49 PM, Jeff Trawick &lt;<a href=3D"mailt=
o:trawick@gmail.com">trawick@gmail.com</a>&gt; wrote:<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; Those that know the original patch would presumably have a be=
tter way to<br>
&gt;&gt; &gt; code this.<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; I recall that httpd 1.3 generally added whitespace after the =
chunk size<br>
&gt;&gt; &gt; as<br>
&gt;&gt; &gt; an optimization (pre-allocating space in BUFF for the largest=
 possible<br>
&gt;&gt; &gt; chunk<br>
&gt;&gt; &gt; size I guess).=C2=A0 Is it appropriate to allow whitespace bo=
th before and<br>
&gt;&gt; &gt; after?<br>
&gt;&gt; &gt; The patch above only allows it after.<br>
&gt;&gt;<br>
&gt;&gt; Committed in r1685345, by allowing both space and tab, before and<=
br>
&gt;&gt; after the chunk-size.<br>
&gt;&gt; Thinking more about it, I see no reason to allow spaces before<br>
&gt;&gt; (especially if there is no compatibility issue), we probably shoul=
d<br>
&gt;&gt; revert that part.<br>
&gt;&gt; Opinions?<br>
&gt;<br>
&gt;<br>
&gt; 2.2 doesn&#39;t accept space or tab before the chunk size, so we don&#=
39;t need to<br>
&gt; accept that.<br>
<br>
</span>OK, fixed in r1685347.<br>
</blockquote></div><div class=3D"gmail_extra"><br></div>Works for me :)<br>=
<div><br></div>-- <br><div class=3D"gmail_signature"><div dir=3D"ltr">Born =
in Roswell... married an alien...<br><a href=3D"http://emptyhammock.com/" t=
arget=3D"_blank">http://emptyhammock.com/</a><div><br></div></div></div>
</div></div>

--001a113a7ed2bf49d805186f9f7f--

From dev-return-82990-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 14 00:46:53 2015
Return-Path: <dev-return-82990-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9E68C184B6
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Jun 2015 00:46:53 +0000 (UTC)
Received: (qmail 55789 invoked by uid 500); 14 Jun 2015 00:46:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55715 invoked by uid 500); 14 Jun 2015 00:46:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 55705 invoked by uid 99); 14 Jun 2015 00:46:53 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Jun 2015 00:46:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id A805F1827FA
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 00:46:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.88
X-Spam-Level: **
X-Spam-Status: No, score=2.88 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id x_LYZ4TIUMWO for <dev@httpd.apache.org>;
	Sun, 14 Jun 2015 00:46:42 +0000 (UTC)
Received: from mail-yh0-f41.google.com (mail-yh0-f41.google.com [209.85.213.41])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 2E0F82164D
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 00:46:42 +0000 (UTC)
Received: by yhan67 with SMTP id n67so25520911yha.3
        for <dev@httpd.apache.org>; Sat, 13 Jun 2015 17:46:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=0FIH7O8jXuGGbRG4ho14eOMlqs9YaxEgCe7JrvJkhLs=;
        b=jv3t+lBX72tQ8RX1tG4zcscN0437mrpQ7Ck8bgy3dc58OFIeR8x+KCk9B1oByQuF0k
         On5peNtTyl+GJzBqAg6lxobngqoJaPggcpVR33EPByRjpPiKdCS2mysP5Sly0hT5n9I1
         pQ+E4/0o6KtqWaiiW7/u0dmE6UNcBFeztb52v6zRx5e3Xwpw91jrmjMT42O3+NvkCeI1
         qvu43IzPV5QKDezx8V332H537tvllJeY02jxqHglnX7YVUOLJoUXLXLWV/qa0TWxGogs
         WJBIod32K6CHCS8iYWy+EL4Cvn865NFyZl8yW7oR+LptE15Q+f0D2Y//Q3X1i3Yh0QpV
         2Ugg==
MIME-Version: 1.0
X-Received: by 10.13.218.71 with SMTP id c68mr26800057ywe.126.1434242794783;
 Sat, 13 Jun 2015 17:46:34 -0700 (PDT)
Received: by 10.13.206.195 with HTTP; Sat, 13 Jun 2015 17:46:34 -0700 (PDT)
In-Reply-To: <CAKQ1sVPqC4Uw6awQ1Ow6h+bQCBYJrDSAwr7Vc9mVUz24qUzykg@mail.gmail.com>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
	<C8CFFE6DEF254EC2BBC171776451AFAA@father>
	<CC79AF480F174707ACF9A64818E37383@father>
	<CAKUrXK6-xA6GfJrxzz6JFERF3T1+dd22R0ORrQxYM5PNrTvOBw@mail.gmail.com>
	<2F083565602A4619AB28D9C432EBE49B@father>
	<557C5F75.3090006@kippdata.de>
	<CAKQ1sVMnb-iemsVok9k300GHmwRjr5+hCbESCMyY=e9PExoKPA@mail.gmail.com>
	<CAKUrXK64FspHE3sC+U_+R2EhLNL3HYWgnKK8cW4wCEWh8kGEYw@mail.gmail.com>
	<CAKQ1sVPqC4Uw6awQ1Ow6h+bQCBYJrDSAwr7Vc9mVUz24qUzykg@mail.gmail.com>
Date: Sat, 13 Jun 2015 20:46:34 -0400
Message-ID: <CAKUrXK6X5iDrOEG+vXmC-eBN2hSd99mPkmUqasfQwry77mgPFw@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=94eb2c0819264e0be505186facaa

--94eb2c0819264e0be505186facaa
Content-Type: text/plain; charset=UTF-8

On Sat, Jun 13, 2015 at 7:42 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> On Sun, Jun 14, 2015 at 1:18 AM, Jeff Trawick <trawick@gmail.com> wrote:
> > On Sat, Jun 13, 2015 at 6:06 PM, Yann Ylavic <ylavic.dev@gmail.com>
> wrote:
> >>
> >> I did not look at pr12355.t and pr43738.t yet, however those passed in
> >> my tests, so it's probably something different.
> >
> >
> > Just in case it wasn't clear, these aren't regressions.  I get them with
> > prior releases on FreeBSD 10.1 also.
>
> Ah ok, those are possibly the same as I reported in [1] for the 2.4.13
> vote (in the Post Scriptum, about latest stable debian 8).
>
> >
> > I don't know if it is the Perl stack or OpenSSL or ??? that results in
> the
> > consistent failure.  (This FreeBSD has a significantly newer Perl stack
> from
> > system packages than CentOS 7.)  IIUC, Rainer has been reporting
> > intermittent failures on various platforms for a while.
>
> It seems to be related to latest OpenSSL, maybe RC5 isn't handled anymore?
>

I just tried on Fedora 22...

For both the Perl interpreter/lib versions and OpenSSL versions, it seems
to be essentially

CentOS 7 < FreeBSD 10.1 < Fedora 22

and the one in the middle is the only one where I see the issue.

The CentOS and Fedora builds of OpenSSL are FIPS-enabled; I don't know how
that affects the enabled ciphers.


>
> [1]
> https://mail-archives.apache.org/mod_mbox/httpd-dev/201506.mbox/%3CCAKQ1sVP7iOJWoLpjw6mWODxyxnhTVB32-RMM-ZV_DqwjXR1GPg@mail.gmail.com%3E
>



-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--94eb2c0819264e0be505186facaa
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On S=
at, Jun 13, 2015 at 7:42 PM, Yann Ylavic <span dir=3D"ltr">&lt;<a href=3D"m=
ailto:ylavic.dev@gmail.com" target=3D"_blank">ylavic.dev@gmail.com</a>&gt;<=
/span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8=
ex;border-left:1px #ccc solid;padding-left:1ex"><span class=3D"">On Sun, Ju=
n 14, 2015 at 1:18 AM, Jeff Trawick &lt;<a href=3D"mailto:trawick@gmail.com=
">trawick@gmail.com</a>&gt; wrote:<br>
&gt; On Sat, Jun 13, 2015 at 6:06 PM, Yann Ylavic &lt;<a href=3D"mailto:yla=
vic.dev@gmail.com">ylavic.dev@gmail.com</a>&gt; wrote:<br>
&gt;&gt;<br>
</span><span class=3D"">&gt;&gt; I did not look at pr12355.t and pr43738.t =
yet, however those passed in<br>
&gt;&gt; my tests, so it&#39;s probably something different.<br>
&gt;<br>
&gt;<br>
&gt; Just in case it wasn&#39;t clear, these aren&#39;t regressions.=C2=A0 =
I get them with<br>
&gt; prior releases on FreeBSD 10.1 also.<br>
<br>
</span>Ah ok, those are possibly the same as I reported in [1] for the 2.4.=
13<br>
vote (in the Post Scriptum, about latest stable debian 8).<br>
<span class=3D""><br>
&gt;<br>
&gt; I don&#39;t know if it is the Perl stack or OpenSSL or ??? that result=
s in the<br>
&gt; consistent failure.=C2=A0 (This FreeBSD has a significantly newer Perl=
 stack from<br>
&gt; system packages than CentOS 7.)=C2=A0 IIUC, Rainer has been reporting<=
br>
&gt; intermittent failures on various platforms for a while.<br>
<br>
</span>It seems to be related to latest OpenSSL, maybe RC5 isn&#39;t handle=
d anymore?<br></blockquote><div><br></div><div>I just tried on Fedora 22...=
</div><div><br></div><div>For both the Perl interpreter/lib versions and Op=
enSSL versions, it seems to be essentially</div><div><br></div><div>CentOS =
7 &lt; FreeBSD 10.1 &lt; Fedora 22</div><div><br></div><div>and the one in =
the middle is the only one where I see the issue.</div><div><br></div><div>=
The CentOS and Fedora builds of OpenSSL are FIPS-enabled; I don&#39;t know =
how that affects the enabled ciphers.</div><div><br></div><blockquote class=
=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padd=
ing-left:1ex">
<br>
<br>
[1] <a href=3D"https://mail-archives.apache.org/mod_mbox/httpd-dev/201506.m=
box/%3CCAKQ1sVP7iOJWoLpjw6mWODxyxnhTVB32-RMM-ZV_DqwjXR1GPg@mail.gmail.com%3=
E" rel=3D"noreferrer" target=3D"_blank">https://mail-archives.apache.org/mo=
d_mbox/httpd-dev/201506.mbox/%3CCAKQ1sVP7iOJWoLpjw6mWODxyxnhTVB32-RMM-ZV_Dq=
wjXR1GPg@mail.gmail.com%3E</a><br>
</blockquote></div><br><br clear=3D"all"><div><br></div>-- <br><div class=
=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien..=
.<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyham=
mock.com/</a><div><br></div></div></div>
</div></div>

--94eb2c0819264e0be505186facaa--

From dev-return-82991-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 14 01:27:22 2015
Return-Path: <dev-return-82991-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C5AD21858B
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Jun 2015 01:27:22 +0000 (UTC)
Received: (qmail 92589 invoked by uid 500); 14 Jun 2015 01:27:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92494 invoked by uid 500); 14 Jun 2015 01:27:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92484 invoked by uid 99); 14 Jun 2015 01:27:22 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Jun 2015 01:27:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id C3F251827FA
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 01:27:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.209
X-Spam-Level:
X-Spam-Status: No, score=-1.209 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id bPJFdpdtPRKn for <dev@httpd.apache.org>;
	Sun, 14 Jun 2015 01:27:21 +0000 (UTC)
Received: from mail-ig0-f171.google.com (mail-ig0-f171.google.com [209.85.213.171])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id BD25143BAB
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 01:27:20 +0000 (UTC)
Received: by igblz2 with SMTP id lz2so30971009igb.1
        for <dev@httpd.apache.org>; Sat, 13 Jun 2015 18:27:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=G34RD5swNBoS9dnQmEewfTxYjpVk02AzXwEEQXirupo=;
        b=XWdeq0oOmrlRvEIFmU2YNJSCyA8UHHtjZviS41eAWXvLahtWNzxqZmrKEliMoUgyVH
         nq7olGN3ih/eBgyQjnMohD6uBHdK6XFumvYSxOFAAS0lZoACAbRpr+l1ctvG6L4UWRuH
         VYAQjiw1Ly+1BaNc0PfjhEdWhe8m8c0+tBvLf16ls8TueHcqEO0JujKKvNTmiyojwv3U
         s2GQKsjm+kXld7o/ndV9n52pyI17+9rNSLrhgfpEl1QD3iBhf/TiXinc2UXHcEQv6dN+
         oOPM8qahSik6FrHGj9Ww6CYJSYxKZQdCslaJskrRq/K0FYdkrSwyqYEJuwM6NGwrqy4z
         Kplw==
MIME-Version: 1.0
X-Received: by 10.50.62.148 with SMTP id y20mr12698616igr.17.1434245240431;
 Sat, 13 Jun 2015 18:27:20 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Sat, 13 Jun 2015 18:27:20 -0700 (PDT)
In-Reply-To: <CAKUrXK65C5oQzAn_C5A_b_OyCaTpY6AV0505ds818U2VP=Cr2g@mail.gmail.com>
References: <557c69ef.7f0.20b8.5028@land10.nl>
	<CAKUrXK5LoYnMXecuA6aGOcgeQtRf4rvQsWo2UVz3FHs0e8Hjfg@mail.gmail.com>
	<CAKQ1sVMnaiOO5QLy2rBnFLCYcTtJC7UUCba=YMafvJPBwLh8UA@mail.gmail.com>
	<CAKUrXK7rMMHwb76kXA99VAa3S_=ZjZYvDxx7zrapjqtpK=Hnpw@mail.gmail.com>
	<CAKQ1sVORe6azkpk9i3RX-HNzJDctKPbrm1+hCkU_qROr+bVmaw@mail.gmail.com>
	<CAKUrXK65C5oQzAn_C5A_b_OyCaTpY6AV0505ds818U2VP=Cr2g@mail.gmail.com>
Date: Sun, 14 Jun 2015 03:27:20 +0200
Message-ID: <CAKQ1sVNnF_xhnXRLyLfwBfkXh9ALYv-obiNSUddD8chTLeAkng@mail.gmail.com>
Subject: Re: ********* Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Sun, Jun 14, 2015 at 2:43 AM, Jeff Trawick <trawick@gmail.com> wrote:
> On Sat, Jun 13, 2015 at 8:25 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>> On Sun, Jun 14, 2015 at 2:18 AM, Jeff Trawick <trawick@gmail.com> wrote:
>> > On Sat, Jun 13, 2015 at 7:52 PM, Yann Ylavic <ylavic.dev@gmail.com>
>> > wrote:
>> >>
>> >> On Sat, Jun 13, 2015 at 8:49 PM, Jeff Trawick <trawick@gmail.com>
>> >> wrote:
>> >> >
>> >> > Those that know the original patch would presumably have a better way
>> >> > to
>> >> > code this.
>> >> >
>> >> > I recall that httpd 1.3 generally added whitespace after the chunk
>> >> > size
>> >> > as
>> >> > an optimization (pre-allocating space in BUFF for the largest
>> >> > possible
>> >> > chunk
>> >> > size I guess).  Is it appropriate to allow whitespace both before and
>> >> > after?
>> >> > The patch above only allows it after.
>> >>
>> >> Committed in r1685345, by allowing both space and tab, before and
>> >> after the chunk-size.
>> >> Thinking more about it, I see no reason to allow spaces before
>> >> (especially if there is no compatibility issue), we probably should
>> >> revert that part.
>> >> Opinions?
>> >
>> >
>> > 2.2 doesn't accept space or tab before the chunk size, so we don't need
>> > to
>> > accept that.
>>
>> OK, fixed in r1685347.
>
>
> Works for me :)

Backports to 2.4.x and 2.2.x proposed.
Thanks!

From dev-return-82992-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 14 07:15:15 2015
Return-Path: <dev-return-82992-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B979618A81
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Jun 2015 07:15:15 +0000 (UTC)
Received: (qmail 92014 invoked by uid 500); 14 Jun 2015 07:15:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91954 invoked by uid 500); 14 Jun 2015 07:15:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91945 invoked by uid 99); 14 Jun 2015 07:15:15 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Jun 2015 07:15:15 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id D15511A0503
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 07:15:14 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id 5CA2160393; Sun, 14 Jun 2015 07:15:14 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2015/06/14]
Message-Id: <20150614071514.5CA2160393@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 14 Jun 2015 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 7483|Ass|Enh|2002-03-26|Add FileAction directive to assign a cgi interpret|
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|12680|New|Enh|2002-09-16|Digest authentication with integrity protection   |
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|18497|New|Min|2003-03-30|configure --help gives wrong default for sysconfdi|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21253|New|Nor|2003-07-01|Mime magic doesn't continue if type is specifed fo|
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22138|Inf|Cri|2003-08-05|Webdav is not preccessing special chars right.    |
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Nor|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42001|New|Cri|2007-03-30|LINUX : Could not set LDAP_OPT_X_TLS to LDAP_OPT_X|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Opn|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|httpd fails to start if log directory does not exi|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43532|Inf|Cri|2007-10-02|Error while compiling Apache 2.2.3 on HPUX        |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44736|New|Cri|2008-04-01|mod_proxy_balancer looses it's mind on reloads.   |
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|New|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45926|Inf|Nor|2008-10-01|Unable to start apache 2.2.9                      |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46054|New|Nor|2008-10-21|Running httpd returns the error "bad user name nob|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46421|New|Maj|2008-12-19|module mod_authz_dbd - doesn't work when multiple |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Nor|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46724|Inf|Cri|2009-02-17|WinXP SP3 - Apache crashes on startup in libapr-1.|
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47241|New|Min|2009-05-22|Error in rewriting with character ':'             |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47289|New|Nor|2009-05-30|Can't build with dynamic libraries on Mac OS 10.4 |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|Inf|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48309|New|Maj|2009-11-30|libapreq2-2.12: "make test" fails at request.t and|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|New|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Nor|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51842|New|Enh|2011-09-18|Suggesting a new action for the Header directive: |
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Enh|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52523|New|Nor|2012-01-25|Headers from mod_expires are wrongly set for redir|
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52756|Inf|Trv|2012-02-24|proxy_html_module LoadModule line not created in h|
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52820|New|Min|2012-03-04|SSLProtocol/SSLProxyProtocol doesn't iterate prope|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52855|Opn|Maj|2012-03-08|mod_ftp does not build against 2.4.x              |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53121|New|Nor|2012-04-22|Confusing documentation, gzip and deflate         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54364|New|Nor|2012-12-31|Add ref to mod_fcgid docs                         |
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54587|Opn|Nor|2013-02-19|LDAPConnectionPoolTimeout does not work in all cas|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55147|New|Nor|2013-06-26|"Header always" w/ cache different in 2.4         |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55420|New|Nor|2013-08-14|Integer underflow in lock timeout computation     |
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55449|New|Maj|2013-08-19|AH01185: worker slotmem_create failed --> slotmem |
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55808|New|Nor|2013-11-21|File integrity verification using MD5 and SHA1    |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|New|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55841|New|Nor|2013-12-04|Misleading news items on bugfix releases ("This ve|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55897|New|Nor|2013-12-17|[PATCH]patch with SO_REUSEPORT support            |
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|Inf|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56035|New|Nor|2014-01-20|Issue with LimitRequestBody                       |
|56040|New|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56226|New|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56687|New|Nor|2014-07-01|ProxySourceAddress failed to bind socket to local |
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56729|New|Reg|2014-07-16|Can't use HTTP 1.1 Keep-Alive with mod_reqtimeout |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|Inf|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56823|New|Nor|2014-08-07|returning 200 status when ap_get_brigade failed   |
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56872|New|Nor|2014-08-19|Small request bodies bypass DeflateInflateLimitReq|
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56898|New|Nor|2014-08-28|Headers in err_headers_out are not returned when a|
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57109|New|Nor|2014-10-17|GPG verification examples are wrong               |
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57120|New|Nor|2014-10-21|Disable SSLv3 by default (POODLE)                 |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57177|New|Nor|2014-11-03|terminated by signal ILL in server/scoreboard.c li|
|57207|New|Nor|2014-11-13|[mod_ssl] Add a way to retrieve email in alternati|
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|New|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57358|New|Nor|2014-12-17|Incorrect If-Match handling                       |
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57375|New|Enh|2014-12-19|Support LibreSSL as an alternative toolkit for mod|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Nor|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57524|New|Nor|2015-02-02|Opcode and other fields calculated wrong in mod_lu|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57694|New|Nor|2015-03-12|Crash using SSL certificate with pathlen constrain|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|New|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57795|Opn|Maj|2015-04-07|mod_proxy_wstunnel sometimes does not connect and |
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|Inf|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
|57868|New|Nor|2015-04-28|SIGSEV when lacking correct DB access permissions |
|57876|New|Reg|2015-04-30|logresolve.exe on any Windows immediately crashes |
|57878|New|Nor|2015-04-30|Using UTF-8 for all languages, and avoiding html-e|
|57895|New|Min|2015-05-05|missing m4a mimeType in mime.types                |
|57911|New|Min|2015-05-09|Rewrite documentation unclear or wrong about what |
|57927|New|Maj|2015-05-13|Segmentation Fault at proxy_util.c:994            |
|57933|New|Min|2015-05-18|apr_port_t returns constant                       |
|57941|New|Nor|2015-05-21|config.status: line 331: syntax error near unexpec|
|57949|New|Enh|2015-05-25|new mod_ssl environment variable SSL_{CLIENT|SERVE|
|57950|New|Nor|2015-05-26|[patch] buildconf change hint in build to newer ap|
|57960|New|Nor|2015-05-27|PUT truncates response body; status_line appears t|
|57968|New|Nor|2015-05-28|SetHandler converts proxy:unix:/path/TO/app to low|
|57976|New|Cri|2015-05-30|Server threads stale when sending 500 status with |
|57978|New|Nor|2015-06-01|unix:/ works with any number of / slashes  except |
|57979|New|Nor|2015-06-01|can not turn change log level for mod_filter      |
|57992|New|Nor|2015-06-03|https://bz.apache.org/bugzilla/token.cgi?t=ADzWKnl|
|57993|New|Nor|2015-06-03|https://bz.apache.org/bugzilla/token.cgi?t=ADzWKnl|
|57996|New|Nor|2015-06-03|Symlinks erroneously not followed when target inod|
|57997|New|Nor|2015-06-03|Threads started during child_init don't block sign|
|57999|New|Nor|2015-06-04|ap_getparents() may remove start slash of uri     |
|58001|New|Enh|2015-06-04|Implement Forwarded header (RFC 7239) to mod_proxy|
|58007|New|Nor|2015-06-06|400 Bad Request with fully qualified domain name o|
|58020|New|Nor|2015-06-11|When user authenticates with certificate which has|
|58024|New|Nor|2015-06-11|(Graceful) Restart does not work after adding a Ba|
|58025|New|Enh|2015-06-11|mod_authz_dbd : new dbd-query and AuthzDBDQuery op|
|58026|New|Nor|2015-06-11|return 421 status code when SNI and Host: header d|
+-----+---+---+----------+--------------------------------------------------+
| Total 1507 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-82993-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 14 09:09:49 2015
Return-Path: <dev-return-82993-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0B84D18C34
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Jun 2015 09:09:49 +0000 (UTC)
Received: (qmail 73787 invoked by uid 500); 14 Jun 2015 09:09:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 73713 invoked by uid 500); 14 Jun 2015 09:09:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 73702 invoked by uid 99); 14 Jun 2015 09:09:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Jun 2015 09:09:48 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ohauer@gmx.de designates 212.227.17.20 as permitted sender)
Received: from [212.227.17.20] (HELO mout.gmx.net) (212.227.17.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Jun 2015 09:07:32 +0000
Received: from [192.168.0.100] ([87.139.233.65]) by mail.gmx.com (mrgmx101)
 with ESMTPSA (Nemesis) id 0MAUpK-1Yteri0U70-00BdYb for
 <dev@httpd.apache.org>; Sun, 14 Jun 2015 11:09:20 +0200
Message-ID: <557D44C6.9000403@gmx.de>
Date: Sun, 14 Jun 2015 11:09:26 +0200
From: olli hauer <ohauer@gmx.de>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>	<C8CFFE6DEF254EC2BBC171776451AFAA@father>	<CC79AF480F174707ACF9A64818E37383@father>	<CAKUrXK6-xA6GfJrxzz6JFERF3T1+dd22R0ORrQxYM5PNrTvOBw@mail.gmail.com>	<2F083565602A4619AB28D9C432EBE49B@father>	<557C5F75.3090006@kippdata.de>	<CAKQ1sVMnb-iemsVok9k300GHmwRjr5+hCbESCMyY=e9PExoKPA@mail.gmail.com>	<CAKUrXK64FspHE3sC+U_+R2EhLNL3HYWgnKK8cW4wCEWh8kGEYw@mail.gmail.com>	<CAKQ1sVPqC4Uw6awQ1Ow6h+bQCBYJrDSAwr7Vc9mVUz24qUzykg@mail.gmail.com> <CAKUrXK6X5iDrOEG+vXmC-eBN2hSd99mPkmUqasfQwry77mgPFw@mail.gmail.com>
In-Reply-To: <CAKUrXK6X5iDrOEG+vXmC-eBN2hSd99mPkmUqasfQwry77mgPFw@mail.gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit
X-Provags-ID:  V03:K0:RiD7qVgxkk6RJX2UOvWKnJCWQSt1mNxLyuT20V3d4GFkc4SYPxx
 p7uK+fLVRLG6QGmVC4+h5rCEGl97OohnQ8Vn0UeIfJWVuvBg7IYqUGspGrJSXrqtitRuqA4
 eONX2XIB4Bp8WoBTPt3/gCrut32Kv1nY44YK7qbxJopeY1ahVlhBkrIKISEw4NUitRIqSGf
 pZnYspFyKlTRxE+PYaXTQ==
X-UI-Out-Filterresults: notjunk:1;
X-Virus-Checked: Checked by ClamAV on apache.org

On 2015-06-14 02:46, Jeff Trawick wrote:
> On Sat, Jun 13, 2015 at 7:42 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> 
>> On Sun, Jun 14, 2015 at 1:18 AM, Jeff Trawick <trawick@gmail.com> wrote:
>>> On Sat, Jun 13, 2015 at 6:06 PM, Yann Ylavic <ylavic.dev@gmail.com>
>> wrote:
>>>>
>>>> I did not look at pr12355.t and pr43738.t yet, however those passed in
>>>> my tests, so it's probably something different.
>>>
>>>
>>> Just in case it wasn't clear, these aren't regressions.  I get them with
>>> prior releases on FreeBSD 10.1 also.
>>
>> Ah ok, those are possibly the same as I reported in [1] for the 2.4.13
>> vote (in the Post Scriptum, about latest stable debian 8).
>>
>>>
>>> I don't know if it is the Perl stack or OpenSSL or ??? that results in
>> the
>>> consistent failure.  (This FreeBSD has a significantly newer Perl stack
>> from
>>> system packages than CentOS 7.)  IIUC, Rainer has been reporting
>>> intermittent failures on various platforms for a while.
>>
>> It seems to be related to latest OpenSSL, maybe RC5 isn't handled anymore?
>>
> 
> I just tried on Fedora 22...
> 
> For both the Perl interpreter/lib versions and OpenSSL versions, it seems
> to be essentially
> 
> CentOS 7 < FreeBSD 10.1 < Fedora 22
> 
> and the one in the middle is the only one where I see the issue.
> 
> The CentOS and Fedora builds of OpenSSL are FIPS-enabled; I don't know how
> that affects the enabled ciphers.
> 

>From OpenSSL CHANGES (happed already with 0.9.7i in 2005)
     The patented RC5 and MDC2 algorithms will now be disabled unless
     "enable-rc5" and "enable-mdc2", respectively, are specified.

And from src/crypto/openssl/Makefile
OPTIONS= ... no-md2 no-rc5 ...

OpenSSL is build in FreeBSD base with
... -DOPENSSL_NO_DEPRECATED -DOPENSSL_NO_MD2 -DOPENSSL_NO_RC5 ...

So is assume tests for RC5 and MD2 will always fail.






From dev-return-82994-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 14 09:33:48 2015
Return-Path: <dev-return-82994-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D779018CD9
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Jun 2015 09:33:48 +0000 (UTC)
Received: (qmail 93072 invoked by uid 500); 14 Jun 2015 09:33:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92978 invoked by uid 500); 14 Jun 2015 09:33:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92968 invoked by uid 99); 14 Jun 2015 09:33:48 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Jun 2015 09:33:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E1DAFC09BE
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 09:33:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 3tb-pnN-wdUG for <dev@httpd.apache.org>;
	Sun, 14 Jun 2015 09:33:42 +0000 (UTC)
Received: from mail-ig0-f178.google.com (mail-ig0-f178.google.com [209.85.213.178])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id C70892162C
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 09:33:41 +0000 (UTC)
Received: by igboe5 with SMTP id oe5so11086909igb.1
        for <dev@httpd.apache.org>; Sun, 14 Jun 2015 02:33:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=t4hktl9VLb6gKprPi4j9qkyTPnU9nX2yl6ZyW3cbplw=;
        b=IXZOcDeRdtIZPKYjr9e4d+JTTdsGutc1NiqHsQBrOd3aJDo9SCg/FQBYmlELkzZ+TW
         LO1MOiA4FPBHkT7kpF6Qtf02V0Ui/v5aqnfpryhNL4sCHga+9gVIX6EBFgVTyD6sv+HB
         5uQaSlrHTuuCdsuigxEm0vV8Nm6CxKiXceRNX+ths71AvpP3bTi7vzX2hjDygBf7v1p/
         d4cw/eggePyNP4xS0da4nB/5kAbed/u6cBg5M1cvXWbnJYZp3TYMttyOZGsklnAi6/n1
         V8hb9Cfjo1McEfPXMnKvcdkicBP7kXfN93yq4DNmCGEsLq96V86vtb8VvcEBamn4i6d5
         PHFQ==
MIME-Version: 1.0
X-Received: by 10.42.203.4 with SMTP id fg4mr24347012icb.52.1434274421267;
 Sun, 14 Jun 2015 02:33:41 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Sun, 14 Jun 2015 02:33:41 -0700 (PDT)
In-Reply-To: <557D44C6.9000403@gmx.de>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
	<C8CFFE6DEF254EC2BBC171776451AFAA@father>
	<CC79AF480F174707ACF9A64818E37383@father>
	<CAKUrXK6-xA6GfJrxzz6JFERF3T1+dd22R0ORrQxYM5PNrTvOBw@mail.gmail.com>
	<2F083565602A4619AB28D9C432EBE49B@father>
	<557C5F75.3090006@kippdata.de>
	<CAKQ1sVMnb-iemsVok9k300GHmwRjr5+hCbESCMyY=e9PExoKPA@mail.gmail.com>
	<CAKUrXK64FspHE3sC+U_+R2EhLNL3HYWgnKK8cW4wCEWh8kGEYw@mail.gmail.com>
	<CAKQ1sVPqC4Uw6awQ1Ow6h+bQCBYJrDSAwr7Vc9mVUz24qUzykg@mail.gmail.com>
	<CAKUrXK6X5iDrOEG+vXmC-eBN2hSd99mPkmUqasfQwry77mgPFw@mail.gmail.com>
	<557D44C6.9000403@gmx.de>
Date: Sun, 14 Jun 2015 11:33:41 +0200
Message-ID: <CAKQ1sVOh__nzTVOeOhbb1gOCnJhKHvPioxbKY2zUH3vRW=85kA@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Sun, Jun 14, 2015 at 11:09 AM, olli hauer <ohauer@gmx.de> wrote:
> On 2015-06-14 02:46, Jeff Trawick wrote:
>> On Sat, Jun 13, 2015 at 7:42 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>>> On Sun, Jun 14, 2015 at 1:18 AM, Jeff Trawick <trawick@gmail.com> wrote:
>>>> On Sat, Jun 13, 2015 at 6:06 PM, Yann Ylavic <ylavic.dev@gmail.com>
>>> wrote:
>>>>>
>>>>> I did not look at pr12355.t and pr43738.t yet, however those passed in
>>>>> my tests, so it's probably something different.
>>>>
>>>>
>>>> Just in case it wasn't clear, these aren't regressions.  I get them with
>>>> prior releases on FreeBSD 10.1 also.
>>>
>>> Ah ok, those are possibly the same as I reported in [1] for the 2.4.13
>>> vote (in the Post Scriptum, about latest stable debian 8).
>>>
>>>>
>>>> I don't know if it is the Perl stack or OpenSSL or ??? that results in
>>> the
>>>> consistent failure.  (This FreeBSD has a significantly newer Perl stack
>>> from
>>>> system packages than CentOS 7.)  IIUC, Rainer has been reporting
>>>> intermittent failures on various platforms for a while.
>>>
>>> It seems to be related to latest OpenSSL, maybe RC5 isn't handled anymore?
>>>
>>
>> I just tried on Fedora 22...
>>
>> For both the Perl interpreter/lib versions and OpenSSL versions, it seems
>> to be essentially
>>
>> CentOS 7 < FreeBSD 10.1 < Fedora 22
>>
>> and the one in the middle is the only one where I see the issue.
>>
>> The CentOS and Fedora builds of OpenSSL are FIPS-enabled; I don't know how
>> that affects the enabled ciphers.
>>
>
> From OpenSSL CHANGES (happed already with 0.9.7i in 2005)
>      The patented RC5 and MDC2 algorithms will now be disabled unless
>      "enable-rc5" and "enable-mdc2", respectively, are specified.
>
> And from src/crypto/openssl/Makefile
> OPTIONS= ... no-md2 no-rc5 ...
>
> OpenSSL is build in FreeBSD base with
> ... -DOPENSSL_NO_DEPRECATED -DOPENSSL_NO_MD2 -DOPENSSL_NO_RC5 ...
>
> So is assume tests for RC5 and MD2 will always fail.

Sorry for the noise about RC5, I was misleaded by a typo in
ssl/pr12355.t which talks about RC5-MD5 where RC4-MD5 is probably
meant (the test seems for force a renegotiation by using exclusively
either RC4-SHA or RC4-MD5).
So that was a wrong track.

However on Debian 8 (Jessie) where I can reproduce the failures here
for pr12355.t and pr43738.t, openssl is configured/compiled with
no_ssl3 (same on FreeBSD 10.1?).
This is more likely the cause, will dig a bit further into this...

Thanks for the ./configure hint anyway.

From dev-return-82995-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 14 09:55:33 2015
Return-Path: <dev-return-82995-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D988C18D52
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Jun 2015 09:55:33 +0000 (UTC)
Received: (qmail 10021 invoked by uid 500); 14 Jun 2015 09:55:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 9940 invoked by uid 500); 14 Jun 2015 09:55:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 9930 invoked by uid 99); 14 Jun 2015 09:55:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Jun 2015 09:55:28 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-ig0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Jun 2015 09:53:13 +0000
Received: by igbsb11 with SMTP id sb11so33694314igb.0
        for <dev@httpd.apache.org>; Sun, 14 Jun 2015 02:54:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=cf7gVlCbSb9jekH7TcjiSxjJ4DRLa7skAVgAeD3Oz3I=;
        b=GF7bFJenWTY1IKaf05GMbh2OwIU+gmTecSJ8ixJJtVk2Q9xwSqznDuecH9ZTgUgem1
         AEWqagZa2MBPGHyXeyeXmqTRLif/ij/pR9muMiQj9gbeSYoDRSc6Nd7+iqIvZVAe+A6O
         tAqkucEgXOQmwKMxEHbrDFGoICo7xGgHY34GuM8+Skb0kBCDPK+cVitL8lZgw9HyfZhI
         MF71yYz+d+b7984AdZ5taT1x7DU4KvCwIefm0IBchl6qTSwUisDCdZA4L036GLGQiIbX
         EAMwojQRvFFb6zLAAuCbTAW1Z7YjHBpe1qgorRGs/n9rwa5t84iiXG9CdNri1r7QSX3t
         IVEg==
MIME-Version: 1.0
X-Received: by 10.50.62.148 with SMTP id y20mr14132372igr.17.1434275656110;
 Sun, 14 Jun 2015 02:54:16 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Sun, 14 Jun 2015 02:54:16 -0700 (PDT)
Date: Sun, 14 Jun 2015 11:54:16 +0200
Message-ID: <CAKQ1sVNdzPCO_d5+nP6LUWg+gS6bAA=r=semHA3Y7UJuxeF6WA@mail.gmail.com>
Subject: SSLCertificateChainFile deprecation, still (was: svn commit: r1685371
 - /httpd/httpd/branches/2.4.x/STATUS)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Sun, Jun 14, 2015 at 11:29 AM,  <gsmith@apache.org> wrote:
> Author: gsmith
> Date: Sun Jun 14 09:29:50 2015
> New Revision: 1685371
>
> URL: http://svn.apache.org/r1685371
> Log:
> -1 vote w/ comment
>
> Modified:
>     httpd/httpd/branches/2.4.x/STATUS
>
> Modified: httpd/httpd/branches/2.4.x/STATUS
> URL: http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/STATUS?rev=1685371&r1=1685370&r2=1685371&view=diff
> ==============================================================================
> --- httpd/httpd/branches/2.4.x/STATUS (original)
> +++ httpd/httpd/branches/2.4.x/STATUS Sun Jun 14 09:29:50 2015
> @@ -207,6 +207,8 @@ PATCHES PROPOSED TO BACKPORT FROM TRUNK:
>       2.4.x patch: http://people.apache.org/~ylavic/httpd-2.4.x-deprecated_SSLCertificateChainFile_once.patch
>                    trunk works (modulo CHANGES, above is a review patch only)
>       +1: ylavic, trawick
> +     -1: gsmith, Tested, don't work! APLOG_INFO|APLOG_STARTUP will not work
> +                 together. Similar APLOG_* caveat as APLOG_TOCLIENT.

Indeed...
So, AIUI, it won't be logged unless httpd is started with -e info or more.
Isn't that finally what we want since [warn] seems to high?

From dev-return-82996-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 14 13:43:55 2015
Return-Path: <dev-return-82996-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D7ACB18E3D
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Jun 2015 13:43:55 +0000 (UTC)
Received: (qmail 37341 invoked by uid 500); 14 Jun 2015 13:38:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28914 invoked by uid 500); 14 Jun 2015 13:38:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 21105 invoked by uid 99); 14 Jun 2015 11:33:43 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Jun 2015 11:33:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 38870C09BE
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 11:33:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.892
X-Spam-Level: *
X-Spam-Status: No, score=1.892 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_BL_SPAMCOP_NET=2,
	RCVD_IN_MSPIKE_H2=-1.108] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 8wVGZ9A0imnS for <dev@httpd.apache.org>;
	Sun, 14 Jun 2015 11:33:36 +0000 (UTC)
Received: from fed1rmfepo101.cox.net (fed1rmfepo101.cox.net [68.230.241.143])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 147C343DF9
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 11:33:35 +0000 (UTC)
Received: from fed1rmimpo209 ([68.230.241.160]) by fed1rmfepo101.cox.net
          (InterMail vM.8.01.05.15 201-2260-151-145-20131218) with ESMTP
          id <20150614113329.XNMW5755.fed1rmfepo101.cox.net@fed1rmimpo209>
          for <dev@httpd.apache.org>; Sun, 14 Jun 2015 07:33:29 -0400
Received: from [192.168.1.33] ([98.176.34.113])
	by fed1rmimpo209 with cox
	id gBZT1q00j2STVfm01BZUtW; Sun, 14 Jun 2015 07:33:29 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020204.557D6689.004A,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=2.0 cv=Q/0MFfKa c=1 sm=1
 a=8xCO7h6kmYZdHn5tUOQhsw==:17 a=1zd1egijY_QA:10 a=IkcTkHD0fZMA:10
 a=LrjODJgKAAAA:8 a=mV9VRH-2AAAA:8 a=wtqmxEXcVLtH8ey7SIAA:9 a=QEXdDO2ut3YA:10
 a=8xCO7h6kmYZdHn5tUOQhsw==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; auth=pass (PLAIN) smtp.auth=glewis63@cox.net
Message-ID: <557D661F.6040301@gknw.net>
Date: Sun, 14 Jun 2015 04:31:43 -0700
From: Gregg Smith <gls@gknw.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.28) Gecko/20120306 Thunderbird/3.1.20
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: SSLCertificateChainFile deprecation, still (was: svn commit:
 r1685371 - /httpd/httpd/branches/2.4.x/STATUS)
References: <CAKQ1sVNdzPCO_d5+nP6LUWg+gS6bAA=r=semHA3Y7UJuxeF6WA@mail.gmail.com>
In-Reply-To: <CAKQ1sVNdzPCO_d5+nP6LUWg+gS6bAA=r=semHA3Y7UJuxeF6WA@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

On 6/14/2015 2:54 AM, Yann Ylavic wrote:
> On Sun, Jun 14, 2015 at 11:29 AM,<gsmith@apache.org>  wrote:
>> Author: gsmith
>> Date: Sun Jun 14 09:29:50 2015
>> New Revision: 1685371
>>
>> URL: http://svn.apache.org/r1685371
>> Log:
>> -1 vote w/ comment
>>
>> Modified:
>>      httpd/httpd/branches/2.4.x/STATUS
>>
>> Modified: httpd/httpd/branches/2.4.x/STATUS
>> URL: http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/STATUS?rev=1685371&r1=1685370&r2=1685371&view=diff
>> ==============================================================================
>> --- httpd/httpd/branches/2.4.x/STATUS (original)
>> +++ httpd/httpd/branches/2.4.x/STATUS Sun Jun 14 09:29:50 2015
>> @@ -207,6 +207,8 @@ PATCHES PROPOSED TO BACKPORT FROM TRUNK:
>>        2.4.x patch: http://people.apache.org/~ylavic/httpd-2.4.x-deprecated_SSLCertificateChainFile_once.patch
>>                     trunk works (modulo CHANGES, above is a review patch only)
>>        +1: ylavic, trawick
>> +     -1: gsmith, Tested, don't work! APLOG_INFO|APLOG_STARTUP will not work
>> +                 together. Similar APLOG_* caveat as APLOG_TOCLIENT.
> Indeed...
> So, AIUI, it won't be logged unless httpd is started with -e info or more.
> Isn't that finally what we want since [warn] seems to high?

Ok, yes that does work, this has been a day of learning.

However doing so I think the original intent is now lost which is to 
inform the user of SSLCertificateChainFile's deprecation. The 
unfortunate result of which was the hundreds/thousands of warnings 3 
times over on servers with many ssl hosts. At least I got it three times 
per host, but I only have a few. It also didn't take a -e warn to get it.

Now however should I want to follow up and use -e info, it's a game of 
what-a-mole cause it will only tell me the first place in my config it's 
at, not all of them. So essentially I would have to fix one, start again 
with -e to find the next. Let's assume I don't have search & replace or 
have included many conf files and do not have find in files at my disposal.

I think we can do both, not require a -e and simply inform the user 
(just once at startup) of SSLCertificateChainFile's deprecation and then 
give them list with -e info should they care to follow up on it.

I have reverted my -1 and will move out of the way. 2.4.14 is kaput with 
the chunk size regression so we have a small window.

As my day must end now, this is untested. But wouldn't this be a 
compromise to both? They will normally be gently informed (once) but -e 
info will inundated them with every line in every file they are using 
SSLCertificateChainFile in. In this case at lease they have requested it.

http://people.apache.org/~gsmith/proposal/sslcertificatechainfile_compromise.diff









From dev-return-82997-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 14 17:17:23 2015
Return-Path: <dev-return-82997-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EB3AF17B3E
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Jun 2015 17:17:22 +0000 (UTC)
Received: (qmail 30714 invoked by uid 500); 14 Jun 2015 17:17:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 30628 invoked by uid 500); 14 Jun 2015 17:17:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 30618 invoked by uid 99); 14 Jun 2015 17:17:22 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Jun 2015 17:17:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id F120F1801DF
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 17:17:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.011
X-Spam-Level:
X-Spam-Status: No, score=-0.011 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 0rOHLd_uNKq9 for <dev@httpd.apache.org>;
	Sun, 14 Jun 2015 17:17:19 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 59BB624D0F
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 17:17:19 +0000 (UTC)
Received: from [10.0.110.6] ([172.16.1.20])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t5EHHCKd015841
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 19:17:12 +0200 (CEST)
Message-ID: <557DB712.3070205@kippdata.de>
Date: Sun, 14 Jun 2015 19:17:06 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
In-Reply-To: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 11.06.2015 um 16:08 schrieb Jim Jagielski:
> The pre-release test tarballs for Apache httpd 2.4.14 can be found
> at the usual place:
>
> 	http://httpd.apache.org/dev/dist/
>
> I'm calling a VOTE on releasing these as Apache httpd 2.4.14 GA.
>
> [ ] +1: Good to go
> [ ] +0: meh
> [X] -1: Danger Will Robinson. And why.

Not an easy call.

-1 but even more thanks for RMing.

Negative vote due to:

- chance of breaking chunked encoding due to spec intolerance.
   Proxy example reported by Steffen plus
   at least anecdotal evidence by Jeff (Apache 1.3 backends).

- mass occurrence of SSLCertificateChainFile deprecation warning

IMHO it would be better to tolerate white space in chunk header, as 
suggested by Yann now in STATUS.

Concerning the deprecation warnings I'm not sure what the current 
consensus for best behavior is. I think we want only one log message, 
not one per VHosts. Probably undecided currently:

- log level of this one message (IMHO: WARNING)
- send it to log file only or also to console (IMHO: log file only)
- should we indicate in the message, that here might be other places 
using SSLCertificateChainFile as well? (IMHO yes)
- should we log all the other places, but only to log file and with info 
or debug log level? (IMHO no, because it could be quite a lot and 
switching to debug would make it invisible for most people; find/grep is 
not that hard)

Test using test suite:

In short: No regressions found.

Detailed report:

- Sigs and hashes OK
- contents of tarballs identical
- contents of tag and tarballs identical
   except for expected deltas
   (we could cleanup some m4 files in apr-util/xml/expat/conftools
    at the end of buildconf, no regression)

Built on

- Solaris 8+10 Sparc as 32 Bit Binaries
- SLES 10+11 (64 Bits)
- RHEL 6 (64 Bits)

For all platforms built

- with default (shared), shared and static modules
- with module sets none, few, most, all, reallyall and default
   (always mod_privileges disabled)
- using --enable-load-all-modules
- against "included" APR/APU from deps tarball,
   plus external APR/APU 1.5.2/1.5.4

- using external libraries
   - expat 2.1.0
   - pcre 8.37
   - openssl 1.0.1n
   - lua 5.2.4
   - distcache 1.5.1
   - libxml2 2.9.2

- Tool chain:
     - platform gcc except for Solaris
       (gcc 4.1.2 for Solaris 8 and 4.9.2 for Solaris 10)
     - CFLAGS: -O2 -g -Wall -fno-strict-aliasing
               (and -mpcu=v9 on Solaris)

All builds succeeded
   - two compiler warnings
server/mpm/event/event.c:1438: warning: 'last' may be used uninitialized 
in this function
ssl/ssl_util_stapling.c:657: warning: 'ok' may be used uninitialized in 
this function
Tested for

- Solaris 8+10 (32), SLES 10+11 (64), RHEL 6 (64)
- MPMs prefork, worker, event
   (except event on Solaris8, unsupported)
- default, shared and static modules
- log levels info, debug and trace8
- module set reallyall (121 modules plus MPMs)

The following test failures were seen:

a Test 4 or 5 in t/modules/dav.t:
   Happens for 27 out of 364 runs.
   Creation, modified and now times not in the correct order.
   This seems to be a system issue, all tests done on NFS,
   many tested on virtualized guests.
   Not a regression.

b Various tests in t/apache/expr_string.t: (6, 11, 14, 17, 20 ,23)
   Happens for 63 out of 364 runs (almost all on SLES 10, 6 on RHEL6
   and 1 on Solaris 8).
   The failure is always on line 68, where the error_log contents
   are checked.
   Not a regression.

c Tests 55-57 of t/modules/cgi.t testing contents of ScriptLog.
   Likely similar than what I observed for 2.4.12.
   Fix probably by porting r1651085 from mod_cgi to mod_cgid.
   Not a regression.

Regards,

Rainer

From dev-return-82998-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 14 17:19:12 2015
Return-Path: <dev-return-82998-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3921F17B4F
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Jun 2015 17:19:12 +0000 (UTC)
Received: (qmail 34474 invoked by uid 500); 14 Jun 2015 17:19:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 34406 invoked by uid 500); 14 Jun 2015 17:19:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 34396 invoked by uid 99); 14 Jun 2015 17:19:11 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Jun 2015 17:19:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 5C01DCDD4F
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 17:19:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.429
X-Spam-Level:
X-Spam-Status: No, score=-0.429 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.428, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 5X8mf16Dbif4 for <dev@httpd.apache.org>;
	Sun, 14 Jun 2015 17:19:10 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id D66B642AA6
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 17:19:09 +0000 (UTC)
Received: from [10.0.110.6] ([172.16.1.20])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t5EHJ38I015871
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 19:19:03 +0200 (CEST)
Message-ID: <557DB781.2040200@kippdata.de>
Date: Sun, 14 Jun 2015 19:18:57 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
Reply-To: dev@httpd.apache.org
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com> <557DB712.3070205@kippdata.de>
In-Reply-To: <557DB712.3070205@kippdata.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 14.06.2015 um 19:17 schrieb Rainer Jung:
>> [X] -1: Danger Will Robinson. And why.
>
> Not an easy call.
>
> -1 but even more thanks for RMing.
>
> Negative vote due to:
>
> - chance of breaking chunked encoding due to spec intolerance.

s/spec/space/ - Sorry.

>    Proxy example reported by Steffen plus
>    at least anecdotal evidence by Jeff (Apache 1.3 backends).
>
> - mass occurrence of SSLCertificateChainFile deprecation warning

From dev-return-82999-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 14 17:45:19 2015
Return-Path: <dev-return-82999-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8662817C52
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Jun 2015 17:45:19 +0000 (UTC)
Received: (qmail 66265 invoked by uid 500); 14 Jun 2015 17:45:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 66188 invoked by uid 500); 14 Jun 2015 17:45:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 66178 invoked by uid 99); 14 Jun 2015 17:45:19 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Jun 2015 17:45:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id A5A901801DF
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 17:45:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id PwJ0s2bYmJWd for <dev@httpd.apache.org>;
	Sun, 14 Jun 2015 17:45:09 +0000 (UTC)
Received: from resqmta-ch2-10v.sys.comcast.net (resqmta-ch2-10v.sys.comcast.net [69.252.207.42])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 31BB224CEA
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 17:45:08 +0000 (UTC)
Received: from resomta-ch2-06v.sys.comcast.net ([69.252.207.102])
	by resqmta-ch2-10v.sys.comcast.net with comcast
	id gHjl1q0032D5gil01Hk1Nf; Sun, 14 Jun 2015 17:44:01 +0000
Received: from [192.168.199.4] ([71.200.70.209])
	by resomta-ch2-06v.sys.comcast.net with comcast
	id gHjz1q00J4Wuz8v01Hk0VX; Sun, 14 Jun 2015 17:44:01 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
Date: Sun, 14 Jun 2015 13:43:59 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <714CE159-0359-4A5E-9E39-ECE86D0B7386@jaguNET.com>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1434303841;
	bh=vh1O1RfEhpEHyrcbAPJfd1GDR9fRC4fcbZuavRDPUUo=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=PKxGtejPyOwiDKqykt7MnIR+k4+VNwL0k3UTj2hOKRsmBk/W2bf2+RI5+X7c5Inxs
	 TxQ88bxeOeLfTOTo0xWL6zVkr5VvpWB4Dom45VYGSuzKxHDwOVCn9hrrFrLpZ94QLC
	 bXwjNqqDF7v5k+Fqsrfpu+GVupQshpazv7GF/9bYGlRC5foLIYJjFMUX4vdhpQvt9y
	 nKYoUqqy3kz8yEAaaE69efYX5sDCm9KDP6iylsznADG2JCyTIOnzhAEERt7rZBBG3g
	 eiKwGhuU5roNLaDH4JEVHxIIylET9fpdR4AJnfQl6zUwndW6eNkhvzGC8sum26rlPE
	 E/rpIioSPz+8g==

I am canceling this vote... The breakage due to the chunked
stuff is the reason.

THIS is the reason I don't like "last-minute" changes that
(1) touch a LOT of code or a major code path and (2) has an
extremely limited QA history. We should also patch the test
framework to test for this.

Let's patch this and I will T&R 2.4.15 this week.

> On Jun 11, 2015, at 10:08 AM, Jim Jagielski <jim@jaguNET.com> wrote:
> 
> The pre-release test tarballs for Apache httpd 2.4.14 can be found
> at the usual place:
> 
> 	http://httpd.apache.org/dev/dist/
> 
> I'm calling a VOTE on releasing these as Apache httpd 2.4.14 GA.
> 
> [ ] +1: Good to go
> [ ] +0: meh
> [ ] -1: Danger Will Robinson. And why.
> 
> Vote will last the normal 72 hrs.
> 
> NOTE: The *-deps are only there for convenience.
> 
> Thx!


From dev-return-83000-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 14 20:09:57 2015
Return-Path: <dev-return-83000-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 08DA317F54
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Jun 2015 20:09:57 +0000 (UTC)
Received: (qmail 19922 invoked by uid 500); 14 Jun 2015 20:09:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 19861 invoked by uid 500); 14 Jun 2015 20:09:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 19851 invoked by uid 99); 14 Jun 2015 20:09:56 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Jun 2015 20:09:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E8E9EC09BE
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 20:09:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id O0-Txltq-n_a for <dev@httpd.apache.org>;
	Sun, 14 Jun 2015 20:09:48 +0000 (UTC)
Received: from mail-ig0-f177.google.com (mail-ig0-f177.google.com [209.85.213.177])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 1F7882162C
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 20:09:48 +0000 (UTC)
Received: by igblz2 with SMTP id lz2so38199910igb.1
        for <dev@httpd.apache.org>; Sun, 14 Jun 2015 13:08:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=bSsumLjXQ5P1UuTtmuuuSksJmAqGLMrRBFkZkW29Du8=;
        b=RLXDlbXgenHNy1UY6pwGq0j9AujjvCmHP76ka1eNm9XQVfEjBKBFcghbJ6E+6dYdon
         +TcAMkU7obNqTbZI/d1JYfS2MHInTHurlytnmmL1dUPP9WwCGfcLafKn/FcaMMstK+6m
         B/pzqyCMEpvVqlkrW6nhzByeSODDk0KCdOii4rcf5CsPylEiKxXnlEufJanvbzFSZmkT
         IYU3ukwJBYsl+tYMIgKpdSGzjJqX8r3tRGa0UYb4nrBqlIVhh/Z3Rh8JOajpo9J+IjVn
         JrG5w4NtcsGDVLyhXgqaegNWJvGIWPT96+TUNDbwc1IssiXBJK1UaLAcMxen6F30iLkh
         smow==
MIME-Version: 1.0
X-Received: by 10.42.203.4 with SMTP id fg4mr26351780icb.52.1434312536308;
 Sun, 14 Jun 2015 13:08:56 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Sun, 14 Jun 2015 13:08:56 -0700 (PDT)
In-Reply-To: <714CE159-0359-4A5E-9E39-ECE86D0B7386@jaguNET.com>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
	<714CE159-0359-4A5E-9E39-ECE86D0B7386@jaguNET.com>
Date: Sun, 14 Jun 2015 22:08:56 +0200
Message-ID: <CAKQ1sVN2-s5FKHYPqWhnxB3F0nV7tjs05cS+Xa29R4TwkZiaig@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/mixed; boundary=20cf303f6406395ed705187fe9e3

--20cf303f6406395ed705187fe9e3
Content-Type: text/plain; charset=UTF-8

On Sun, Jun 14, 2015 at 7:43 PM, Jim Jagielski <jim@jagunet.com> wrote:
> We should also patch the test
> framework to test for this.

It seems that I can't commit on ^/httpd/test/framework, test patch attached...

--20cf303f6406395ed705187fe9e3
Content-Type: application/x-download; 
	name="framework-chunk_trailing_spaces.patch"
Content-Disposition: attachment; 
	filename="framework-chunk_trailing_spaces.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_iawwl3fo0

SW5kZXg6IHQvYXBhY2hlL2NodW5raW5wdXQudAo9PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSB0L2FwYWNoZS9jaHVu
a2lucHV0LnQJKHJldmlzaW9uIDE2ODU0NTIpCisrKyB0L2FwYWNoZS9jaHVua2lucHV0LnQJKHdv
cmtpbmcgY29weSkKQEAgLTYsNiArNiw3IEBAIHVzZSBBcGFjaGU6OlRlc3RVdGlsOwogdXNlIEFw
YWNoZTo6VGVzdFJlcXVlc3QgKCk7CiAKIG15IEB0ZXN0X3N0cmluZ3MgPSAoIjAiLAorICAgICAg
ICAgICAgICAgICAgICAiQSAgICBcclxuMTIzNDU2Nzg5MFxyXG4wIiwKICAgICAgICAgICAgICAg
ICAgICAgIkFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBIiwKICAgICAgICAgICAg
ICAgICAgICAgKTsKIG15IEByZXFfc3RyaW5ncyA9ICAoIi9lY2hvX3Bvc3RfY2h1bmsiLApAQCAt
MTksNiArMjAsOCBAQCBteSBAcmVzcF9zdHJpbmdzOwogaWYgKGhhdmVfYXBhY2hlKDEpKSB7CiAg
ICBAcmVzcF9zdHJpbmdzID0gKCJIVFRQLzEuMSAyMDAgT0siLAogICAgICAgICAgICAgICAgICAg
ICAiSFRUUC8xLjEgNDA0IE5vdCBGb3VuZCIsCisgICAgICAgICAgICAgICAgICAgICJIVFRQLzEu
MSAyMDAgT0siLAorICAgICAgICAgICAgICAgICAgICAiSFRUUC8xLjEgNDA0IE5vdCBGb3VuZCIs
CiAgICAgICAgICAgICAgICAgICAgICJIVFRQLzEuMSA0MDAgQmFkIFJlcXVlc3QiLAogICAgICAg
ICAgICAgICAgICAgICAiSFRUUC8xLjEgNDAwIEJhZCBSZXF1ZXN0IiwKIAkJICAgKTsKQEAgLTI2
LDYgKzI5LDggQEAgaWYgKGhhdmVfYXBhY2hlKDEpKSB7CiBlbHNlIHsKICAgIEByZXNwX3N0cmlu
Z3MgPSAoIkhUVFAvMS4xIDIwMCBPSyIsCiAgICAgICAgICAgICAgICAgICAgICJIVFRQLzEuMSA0
MDQgTm90IEZvdW5kIiwKKyAgICAgICAgICAgICAgICAgICAgIkhUVFAvMS4xIDIwMCBPSyIsCisg
ICAgICAgICAgICAgICAgICAgICJIVFRQLzEuMSA0MDQgTm90IEZvdW5kIiwKICAgICAgICAgICAg
ICAgICAgICAgIkhUVFAvMS4xIDQxMyBSZXF1ZXN0IEVudGl0eSBUb28gTGFyZ2UiLAogICAgICAg
ICAgICAgICAgICAgICAiSFRUUC8xLjEgNDEzIFJlcXVlc3QgRW50aXR5IFRvbyBMYXJnZSIsCiAg
ICAgICAgICAgICAgICAgICAgKTsK
--20cf303f6406395ed705187fe9e3--

From dev-return-83001-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 14 21:37:12 2015
Return-Path: <dev-return-83001-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 83FA7180BF
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Jun 2015 21:37:12 +0000 (UTC)
Received: (qmail 14774 invoked by uid 500); 14 Jun 2015 21:37:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14711 invoked by uid 500); 14 Jun 2015 21:37:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14701 invoked by uid 99); 14 Jun 2015 21:37:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Jun 2015 21:37:07 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.181 as permitted sender)
Received: from [209.85.223.181] (HELO mail-ie0-f181.google.com) (209.85.223.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Jun 2015 21:34:52 +0000
Received: by iesa3 with SMTP id a3so51487275ies.2
        for <dev@httpd.apache.org>; Sun, 14 Jun 2015 14:36:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=ZMZSKY1ibCmWrlTJWVmypjXK7eW5sKbOBIU+7KNgcuY=;
        b=sQO44l9N8+BgIcl6bri5Byr1kjORdA09ADisxdZpul3wDL+eH2BZuKD+bwQGZyC+ht
         KaB1Kj+o2bCafjBJh3xkiCr/AovlGiMjRze7PY+6AZd9nwLIP58cyfGlxJVWaRM+PiKx
         EAkwJerduEeithMy5IxNswE6piIwDTvIThhU3+NRFkShBRS+WakeuxuOs4lt8y01qdJn
         gyRli/8jlXvYReRdTjpWwrUuxUCofIrXqe3NEHUYurgOE1VETN+bbxF2zSfQpSBXf61p
         42ag+rkXp2SxGLav6jXGU30gmzwV1ACBDYqlEYbPZNK2zDDL1jqTqBx9rON12SXVY18I
         OrBA==
MIME-Version: 1.0
X-Received: by 10.42.203.4 with SMTP id fg4mr26580003icb.52.1434317800390;
 Sun, 14 Jun 2015 14:36:40 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Sun, 14 Jun 2015 14:36:40 -0700 (PDT)
In-Reply-To: <CAKQ1sVN2-s5FKHYPqWhnxB3F0nV7tjs05cS+Xa29R4TwkZiaig@mail.gmail.com>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
	<714CE159-0359-4A5E-9E39-ECE86D0B7386@jaguNET.com>
	<CAKQ1sVN2-s5FKHYPqWhnxB3F0nV7tjs05cS+Xa29R4TwkZiaig@mail.gmail.com>
Date: Sun, 14 Jun 2015 23:36:40 +0200
Message-ID: <CAKQ1sVN-dpKuyxb1fwAiu1J0cTLwx--h2eejZ2ijc223=_YQmA@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Sun, Jun 14, 2015 at 10:08 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Sun, Jun 14, 2015 at 7:43 PM, Jim Jagielski <jim@jagunet.com> wrote:
>> We should also patch the test
>> framework to test for this.
>
> It seems that I can't commit on ^/httpd/test/framework, test patch attached...

Applied in r1685463 (with more chunk-size tests).

From dev-return-83002-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 14 21:59:11 2015
Return-Path: <dev-return-83002-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 472CE18117
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 14 Jun 2015 21:59:11 +0000 (UTC)
Received: (qmail 32120 invoked by uid 500); 14 Jun 2015 21:59:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32060 invoked by uid 500); 14 Jun 2015 21:59:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32050 invoked by uid 99); 14 Jun 2015 21:59:10 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 14 Jun 2015 21:59:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 409581A55E1
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 21:56:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id LnO9FtKyZJAx for <dev@httpd.apache.org>;
	Sun, 14 Jun 2015 21:56:29 +0000 (UTC)
Received: from mail-ie0-f174.google.com (mail-ie0-f174.google.com [209.85.223.174])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 2EB5924F0A
	for <dev@httpd.apache.org>; Sun, 14 Jun 2015 21:56:29 +0000 (UTC)
Received: by iecrd14 with SMTP id rd14so20191034iec.3
        for <dev@httpd.apache.org>; Sun, 14 Jun 2015 14:56:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=zsWhYFjk/QOPe1e2MoBN1+s4Cc6kr9KbDySYMKoKRlA=;
        b=Flsnyss4a9/IeZ36sS994al3Qy6vR2vhD3QoqYQtGbi0CGf74SyMiSnVy3aixiB1gY
         EOlZmJeIVJqQCW5D74vIViH8ZroCZWhUA6u+pkShUzl9MA6jvrBWfejesO0ZlRiJorP8
         J3Q9ILA24v5+gQWjiBRv9jZwg+vF0DInRI0MLDcYkJ4vRRcOT3/HxcMA3yMaXF7dr3Se
         TRe6LXBd/r2jyzHyjtJTgDs/Vq0GpfxBpXP20K3773qj3VIx2r5vyGh9KqFriJPBormo
         jOCtdmldumf7r0/dXYGoVCGob3Ca/7n9hNMzLzGxcr8uyr+rD5hs0bUFzpZ5bImYy50z
         DRCQ==
MIME-Version: 1.0
X-Received: by 10.43.162.136 with SMTP id mk8mr26672972icc.28.1434318988276;
 Sun, 14 Jun 2015 14:56:28 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Sun, 14 Jun 2015 14:56:28 -0700 (PDT)
In-Reply-To: <557D661F.6040301@gknw.net>
References: <CAKQ1sVNdzPCO_d5+nP6LUWg+gS6bAA=r=semHA3Y7UJuxeF6WA@mail.gmail.com>
	<557D661F.6040301@gknw.net>
Date: Sun, 14 Jun 2015 23:56:28 +0200
Message-ID: <CAKQ1sVNpU81PkSZWWGjqFyQ5bBi7-pM661aQ0i0HO6v-HtRBVQ@mail.gmail.com>
Subject: Re: SSLCertificateChainFile deprecation, still (was: svn commit:
 r1685371 - /httpd/httpd/branches/2.4.x/STATUS)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Sun, Jun 14, 2015 at 1:31 PM, Gregg Smith <gls@gknw.net> wrote:
>
> http://people.apache.org/~gsmith/proposal/sslcertificatechainfile_compromise.diff

I'm fine with this approach too.
We have to decide whether a single [warn] is acceptable or not since
it may still confuse startup monitors, which was a point raised in the
[Vote] thread.
I agree that the current patch proposed in STATUS is nearly the same
as not noticing the user since it requires -e info in the command-line
for anything to be visible, but I'm afraid any warning won't be
accepted now...

From dev-return-83003-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 15 00:37:53 2015
Return-Path: <dev-return-83003-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5C7A91830C
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Jun 2015 00:37:53 +0000 (UTC)
Received: (qmail 53950 invoked by uid 500); 15 Jun 2015 00:37:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53878 invoked by uid 500); 15 Jun 2015 00:37:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53868 invoked by uid 99); 15 Jun 2015 00:37:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 00:37:52 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of wrowe@rowe-clan.net designates 209.85.213.182 as permitted sender)
Received: from [209.85.213.182] (HELO mail-ig0-f182.google.com) (209.85.213.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 00:35:37 +0000
Received: by igbiq7 with SMTP id iq7so7489963igb.1
        for <dev@httpd.apache.org>; Sun, 14 Jun 2015 17:37:25 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=fnW73XpbJErBmv2TwnYtB6tC5pSUdEc2IdpGT48lvhc=;
        b=DCHVBPPx0rOlYWrEdZ1GLHt/FR3uSM4ZfbQQ5eePb2F4M6WWbDupFC9PnwaCDxOvVZ
         6yNQhHdfF+iLzZXXq/z905+TnBKil/3murvViTa4i8hSerE8nz/Oa2SJZzbd7UYiTXZI
         rRpzgSNf0KzW+si6D1NizxnRVzKvz8F+AyluQ7gjYkA41uTMcZwVLSlqntBXBt21NRBA
         QxkWFdVXlppJI4e6yKt6Q6GTIT3si4Ctp68a23Y871Vn+EMQEqI04NrgxqOCi3d9da61
         pg3VaiLK5UQMVvkO2JGfd52gf3WPn6O1vR5bx4+douQZ9xF7vjragF0oY934dAKvHIHW
         xqvQ==
X-Gm-Message-State: ALoCoQkkJOkHCponSmjYALUV1JY4RqeLkqYQypIMbV3LbWfK14fn8XzbE08KOqsyhtENk6pYv9pS
MIME-Version: 1.0
X-Received: by 10.50.61.234 with SMTP id t10mr17409462igr.19.1434328645216;
 Sun, 14 Jun 2015 17:37:25 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Sun, 14 Jun 2015 17:37:25 -0700 (PDT)
X-Originating-IP: [70.194.163.192]
Received: by 10.107.190.195 with HTTP; Sun, 14 Jun 2015 17:37:25 -0700 (PDT)
In-Reply-To: <714CE159-0359-4A5E-9E39-ECE86D0B7386@jaguNET.com>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com>
	<714CE159-0359-4A5E-9E39-ECE86D0B7386@jaguNET.com>
Date: Sun, 14 Jun 2015 19:37:25 -0500
Message-ID: <CACsi251J+pMM1MtAVWx_amG3gT+=EURZYEUug4LpzhozomgenA@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7bdc07e263c5aa051883a9be
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7bdc07e263c5aa051883a9be
Content-Type: text/plain; charset=UTF-8

On Jun 14, 2015 12:45 PM, "Jim Jagielski" <jim@jagunet.com> wrote:
>
> I am canceling this vote... The breakage due to the chunked
> stuff is the reason.
>
> THIS is the reason I don't like "last-minute" changes that
> (1) touch a LOT of code or a major code path and (2) has an
> extremely limited QA history. We should also patch the test
> framework to test for this.

This is the reason I dont like security patches, but they are a fact of
life.  Sadly this one would not have been discovered without the breadth of
interop testing that a release vote entails.

Mad props to Steffan for identifying this bug, outstanding!  Thank you.

> Let's patch this and I will T&R 2.4.15 this week.

+1.  More interop testing in the meantime is most welcomed.

--047d7bdc07e263c5aa051883a9be
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">On Jun 14, 2015 12:45 PM, &quot;Jim Jagielski&quot; &lt;<a h=
ref=3D"mailto:jim@jagunet.com">jim@jagunet.com</a>&gt; wrote:<br>
&gt;<br>
&gt; I am canceling this vote... The breakage due to the chunked<br>
&gt; stuff is the reason.<br>
&gt;<br>
&gt; THIS is the reason I don&#39;t like &quot;last-minute&quot; changes th=
at<br>
&gt; (1) touch a LOT of code or a major code path and (2) has an<br>
&gt; extremely limited QA history. We should also patch the test<br>
&gt; framework to test for this.</p>
<p dir=3D"ltr">This is the reason I dont like security patches, but they ar=
e a fact of life.=C2=A0 Sadly this one would not have been discovered witho=
ut the breadth of interop testing that a release vote entails.</p>
<p dir=3D"ltr">Mad props to Steffan for identifying this bug, outstanding!=
=C2=A0 Thank you.</p>
<p dir=3D"ltr">&gt; Let&#39;s patch this and I will T&amp;R 2.4.15 this wee=
k.</p>
<p dir=3D"ltr">+1.=C2=A0 More interop testing in the meantime is most welco=
med.</p>

--047d7bdc07e263c5aa051883a9be--

From dev-return-83004-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 15 01:16:14 2015
Return-Path: <dev-return-83004-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 75B0D18366
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Jun 2015 01:16:14 +0000 (UTC)
Received: (qmail 75179 invoked by uid 500); 15 Jun 2015 01:16:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75103 invoked by uid 500); 15 Jun 2015 01:16:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75093 invoked by uid 99); 15 Jun 2015 01:16:13 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 01:16:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 930E7CDDD1
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 01:16:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.001
X-Spam-Level: ***
X-Spam-Status: No, score=3.001 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_BL_SPAMCOP_NET=2,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id tSZ1cz_ncClN for <dev@httpd.apache.org>;
	Mon, 15 Jun 2015 01:16:04 +0000 (UTC)
Received: from fed1rmfepo102.cox.net (fed1rmfepo102.cox.net [68.230.241.144])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 7634424CEA
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 01:16:03 +0000 (UTC)
Received: from fed1rmimpo210 ([68.230.241.161]) by fed1rmfepo102.cox.net
          (InterMail vM.8.01.05.15 201-2260-151-145-20131218) with ESMTP
          id <20150615011555.ZIZP2095.fed1rmfepo102.cox.net@fed1rmimpo210>
          for <dev@httpd.apache.org>; Sun, 14 Jun 2015 21:15:55 -0400
Received: from [192.168.1.33] ([98.176.34.113])
	by fed1rmimpo210 with cox
	id gRFv1q0032STVfm01RFviG; Sun, 14 Jun 2015 21:15:55 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020204.557E274B.00DC,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=2.0 cv=NtAPhbhJ c=1 sm=1
 a=8xCO7h6kmYZdHn5tUOQhsw==:17 a=1zd1egijY_QA:10 a=IkcTkHD0fZMA:10
 a=LrjODJgKAAAA:8 a=mV9VRH-2AAAA:8 a=sru7UTOEvAEtWx6qI3IA:9 a=QEXdDO2ut3YA:10
 a=8xCO7h6kmYZdHn5tUOQhsw==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; auth=pass (PLAIN) smtp.auth=glewis63@cox.net
Message-ID: <557E26E2.9060107@gknw.net>
Date: Sun, 14 Jun 2015 18:14:10 -0700
From: Gregg Smith <gls@gknw.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.28) Gecko/20120306 Thunderbird/3.1.20
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: SSLCertificateChainFile deprecation, still (was: svn commit:
 r1685371 - /httpd/httpd/branches/2.4.x/STATUS)
References: <CAKQ1sVNdzPCO_d5+nP6LUWg+gS6bAA=r=semHA3Y7UJuxeF6WA@mail.gmail.com>	<557D661F.6040301@gknw.net> <CAKQ1sVNpU81PkSZWWGjqFyQ5bBi7-pM661aQ0i0HO6v-HtRBVQ@mail.gmail.com>
In-Reply-To: <CAKQ1sVNpU81PkSZWWGjqFyQ5bBi7-pM661aQ0i0HO6v-HtRBVQ@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

On 6/14/2015 2:56 PM, Yann Ylavic wrote:
> On Sun, Jun 14, 2015 at 1:31 PM, Gregg Smith<gls@gknw.net>  wrote:
>> http://people.apache.org/~gsmith/proposal/sslcertificatechainfile_compromise.diff
> I'm fine with this approach too.
> We have to decide whether a single [warn] is acceptable or not since
> it may still confuse startup monitors, which was a point raised in the
> [Vote] thread.
> I agree that the current patch proposed in STATUS is nearly the same
> as not noticing the user since it requires -e info in the command-line
> for anything to be visible, but I'm afraid any warning won't be
> accepted now...

It's a lose/lose situation either way. I didn't pick up on the startup 
monitors part of the thread.

We are almost back to the way it was before the warning, I guess this is 
fine. No will know the better unless they go fishing for some other 
problem that may arise. At the very minimum it's something at least, 
should not make waves and i would bet everyone knows about it now unless 
2.4.15 is their first.

You have my vote, sorry for the trouble.


From dev-return-83005-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 15 01:38:27 2015
Return-Path: <dev-return-83005-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 25D261839D
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Jun 2015 01:38:27 +0000 (UTC)
Received: (qmail 89841 invoked by uid 500); 15 Jun 2015 01:38:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89759 invoked by uid 500); 15 Jun 2015 01:38:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89749 invoked by uid 99); 15 Jun 2015 01:38:26 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 01:38:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 1F403C09BE
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 01:38:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.107
X-Spam-Level:
X-Spam-Status: No, score=-0.107 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_MSPIKE_H2=-1.108,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Z284jfuSYlKo for <dev@httpd.apache.org>;
	Mon, 15 Jun 2015 01:38:17 +0000 (UTC)
Received: from eastrmfepo202.cox.net (eastrmfepo202.cox.net [68.230.241.217])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 2217343DF9
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 01:38:16 +0000 (UTC)
Received: from eastrmimpo305 ([68.230.241.237]) by eastrmfepo202.cox.net
          (InterMail vM.8.01.05.15 201-2260-151-145-20131218) with ESMTP
          id <20150615013810.QQDX20038.eastrmfepo202.cox.net@eastrmimpo305>
          for <dev@httpd.apache.org>; Sun, 14 Jun 2015 21:38:10 -0400
Received: from [192.168.1.33] ([98.176.34.113])
	by eastrmimpo305 with cox
	id gRe91q00S2STVfm01Re9zV; Sun, 14 Jun 2015 21:38:10 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020205.557E2C82.0079,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=2.0 cv=WLihqAQR c=1 sm=1
 a=8xCO7h6kmYZdHn5tUOQhsw==:17 a=1zd1egijY_QA:10 a=IkcTkHD0fZMA:10
 a=LrjODJgKAAAA:8 a=mV9VRH-2AAAA:8 a=jn3KjCGen0rrCfBywdYA:9 a=QEXdDO2ut3YA:10
 a=8xCO7h6kmYZdHn5tUOQhsw==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; auth=pass (PLAIN) smtp.auth=glewis63@cox.net
Message-ID: <557E2C18.6030404@gknw.net>
Date: Sun, 14 Jun 2015 18:36:24 -0700
From: Gregg Smith <gls@gknw.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.28) Gecko/20120306 Thunderbird/3.1.20
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: SSLCertificateChainFile deprecation, still (was: svn commit:
 r1685371 - /httpd/httpd/branches/2.4.x/STATUS)
References: <CAKQ1sVNdzPCO_d5+nP6LUWg+gS6bAA=r=semHA3Y7UJuxeF6WA@mail.gmail.com>	<557D661F.6040301@gknw.net> <CAKQ1sVNpU81PkSZWWGjqFyQ5bBi7-pM661aQ0i0HO6v-HtRBVQ@mail.gmail.com> <557E26E2.9060107@gknw.net>
In-Reply-To: <557E26E2.9060107@gknw.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

On 6/14/2015 6:14 PM, Gregg Smith wrote:
> On 6/14/2015 2:56 PM, Yann Ylavic wrote:
>> On Sun, Jun 14, 2015 at 1:31 PM, Gregg Smith<gls@gknw.net>  wrote:
>>> http://people.apache.org/~gsmith/proposal/sslcertificatechainfile_compromise.diff 
>>>
>> I'm fine with this approach too.
>> We have to decide whether a single [warn] is acceptable or not since
>> it may still confuse startup monitors, which was a point raised in the
>> [Vote] thread.
>> I agree that the current patch proposed in STATUS is nearly the same
>> as not noticing the user since it requires -e info in the command-line
>> for anything to be visible, but I'm afraid any warning won't be
>> accepted now...
>
> It's a lose/lose situation either way. I didn't pick up on the startup 
> monitors part of the thread.
>
> We are almost back to the way it was before the warning, I guess this 
> is fine. No will know the better unless they go fishing for some other 
> problem that may arise. At the very minimum it's something at least, 
> should not make waves and i would bet everyone knows about it now 
> unless 2.4.15 is their first.

If this is their first, probably ought to remove this in httpd-ssl.conf also

#   Server Certificate Chain:
#   Point SSLCertificateChainFile at a file containing the
#   concatenation of PEM encoded CA certificates which form the
#   certificate chain for the server certificate. Alternatively
#   the referenced file can be the same as SSLCertificateFile
#   when the CA certificates are directly appended to the server
#   certificate for convenience.
#SSLCertificateChainFile "@rel_sysconfdir@/server-ca.crt"





From dev-return-83006-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 15 01:44:10 2015
Return-Path: <dev-return-83006-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2264C183AD
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Jun 2015 01:44:10 +0000 (UTC)
Received: (qmail 96877 invoked by uid 500); 15 Jun 2015 01:44:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 96802 invoked by uid 500); 15 Jun 2015 01:44:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 96792 invoked by uid 99); 15 Jun 2015 01:44:09 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 01:44:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 0731FC09BE
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 01:44:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.991
X-Spam-Level: **
X-Spam-Status: No, score=2.991 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01,
	UNPARSEABLE_RELAY=0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id pRCQjpaKsWuk for <dev@httpd.apache.org>;
	Mon, 15 Jun 2015 01:44:00 +0000 (UTC)
Received: from mail.ausics.net (valhalla.ausics.net [27.33.160.23])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id D4E5222F22
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 01:43:59 +0000 (UTC)
Received: from mail.ausics.net (valhalla.ausics.net [10.10.0.10])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.ausics.net (Postfix) with ESMTPSA id AFBF8C0EE35
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 11:43:49 +1000 (AEST)
Received: from 8wUC+PTNzGA2BbFc6omRlpqonKfzoy0rdS5s+RQu6Ro=
 (0gDwkakEQd9bdEgkLEjcr++Zy2rnifTN)
 by mail.ausics.net
 with HTTP (HTTP/1.1 POST); Mon, 15 Jun 2015 11:43:49 +1000
MIME-Version: 1.0
Content-Type: multipart/alternative;
 boundary="=_0355c6aed46de3866d23dc431adbcaf4"
Date: Mon, 15 Jun 2015 11:43:49 +1000
From: Noel Butler <noel.butler@ausics.net>
To: dev@httpd.apache.org
Subject: Re: SSLCertificateChainFile deprecation, still
In-Reply-To: <CAKQ1sVNpU81PkSZWWGjqFyQ5bBi7-pM661aQ0i0HO6v-HtRBVQ@mail.gmail.com>
References: <CAKQ1sVNdzPCO_d5+nP6LUWg+gS6bAA=r=semHA3Y7UJuxeF6WA@mail.gmail.com>
 <557D661F.6040301@gknw.net>
 <CAKQ1sVNpU81PkSZWWGjqFyQ5bBi7-pM661aQ0i0HO6v-HtRBVQ@mail.gmail.com>
Message-ID: <e7b1010ea515b668ea0d743846510053@ausics.net>
X-Sender: noel.butler@ausics.net
User-Agent: Roundcube Webmail

--=_0355c6aed46de3866d23dc431adbcaf4
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII

 

On 15/06/2015 07:56, Yann Ylavic wrote: 

> On Sun, Jun 14, 2015 at 1:31 PM, Gregg Smith <gls@gknw.net> wrote: 
> 
>> http://people.apache.org/~gsmith/proposal/sslcertificatechainfile_compromise.diff [1]
> 
> I'm fine with this approach too.
> We have to decide whether a single [warn] is acceptable or not since
> it may still confuse startup monitors, which was a point raised in the
> [Vote] thread.
> I agree that the current patch proposed in STATUS is nearly the same
> as not noticing the user since it requires -e info in the command-line
> for anything to be visible, but I'm afraid any warning won't be
> accepted now...

A Single warn to LOG is good, perhaps even a single warn to console on
daemon START only - and only if this means it does NOT appear in any
reloads or ever again until the server is stop/started, if it does,
abandon the idea. 

Not sure if the single console warn on START will affect cpanel, I don't
think it would since it likely part of system startup and no scripting
would be looking for any output, Jacob might want to chime in on that
one though. 

 

Links:
------
[1]
http://people.apache.org/~gsmith/proposal/sslcertificatechainfile_compromise.diff
--=_0355c6aed46de3866d23dc431adbcaf4
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html; charset=UTF-8

<html><head><meta http-equiv=3D"Content-Type" content=3D"text/html; charset=
=3DUTF-8" /></head><body style=3D'font-size: 10pt'>
<p>On 15/06/2015 07:56, Yann Ylavic wrote:</p>
<blockquote type=3D"cite" style=3D"padding: 0 0.4em; border-left: #1010ff 2=
px solid; margin: 0"><!-- html ignored --><!-- head ignored --><!-- meta ig=
nored -->
<div class=3D"pre" style=3D"margin: 0; padding: 0; font-family: monospace">=
On Sun, Jun 14, 2015 at 1:31 PM, Gregg Smith &lt;<a href=3D"mailto:gls@gknw=
=2Enet">gls@gknw.net</a>&gt; wrote:
<blockquote type=3D"cite" style=3D"padding: 0 0.4em; border-left: #1010ff 2=
px solid; margin: 0"><br /><a href=3D"http://people.apache.org/~gsmith/prop=
osal/sslcertificatechainfile_compromise.diff">http://people.apache.org/~gsm=
ith/proposal/sslcertificatechainfile_compromise.diff</a></blockquote>
<br /> I'm fine with this approach too.<br /> We have to decide whether a s=
ingle [warn] is acceptable or not since<br /> it may still confuse startup =
monitors, which was a point raised in the<br /> [Vote] thread.<br /> I agre=
e that the current patch proposed in STATUS is nearly the same<br /> as not=
 noticing the user since it requires -e info in the command-line<br /> for =
anything to be visible, but I'm afraid any warning won't be<br /> accepted =
now...</div>
</blockquote>
<p>&nbsp;</p>
<p>A Single warn to LOG is good, perhaps even a single warn to console on d=
aemon START only - and only if this means it does NOT appear in any reloads=
 or ever again until the server is stop/started, if it does, abandon the id=
ea.</p>
<p>Not sure if the single console warn on START will affect cpanel, I don't=
 think it would since it likely part of system startup and no scripting wou=
ld be looking for any output, Jacob might want to chime in on that one thou=
gh.</p>
<p>&nbsp;</p>
</body></html>

--=_0355c6aed46de3866d23dc431adbcaf4--


From dev-return-83007-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 15 12:56:43 2015
Return-Path: <dev-return-83007-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 65D8F176B8
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Jun 2015 12:56:43 +0000 (UTC)
Received: (qmail 61162 invoked by uid 500); 15 Jun 2015 12:56:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 61107 invoked by uid 500); 15 Jun 2015 12:56:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 61097 invoked by uid 99); 15 Jun 2015 12:56:42 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 12:56:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 8A1451A5642
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 12:56:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id dhV3gC3Bs8La for <dev@httpd.apache.org>;
	Mon, 15 Jun 2015 12:56:32 +0000 (UTC)
Received: from resqmta-ch2-06v.sys.comcast.net (resqmta-ch2-06v.sys.comcast.net [69.252.207.38])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id A2A18455D8
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 12:56:32 +0000 (UTC)
Received: from resomta-ch2-14v.sys.comcast.net ([69.252.207.110])
	by resqmta-ch2-06v.sys.comcast.net with comcast
	id gcw21q0032PT3Qt01cwY6C; Mon, 15 Jun 2015 12:56:32 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-14v.sys.comcast.net with comcast
	id gcwX1q00J2U0RYt01cwXb3; Mon, 15 Jun 2015 12:56:32 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: [VOTE] Release Apache httpd 2.4.14 as GA
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CACsi251J+pMM1MtAVWx_amG3gT+=EURZYEUug4LpzhozomgenA@mail.gmail.com>
Date: Mon, 15 Jun 2015 08:56:31 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <DB933A1C-503B-42FD-9F57-2152E0DE409F@jaguNET.com>
References: <4019E8BC-0484-422A-9AE8-94C3CA0B7225@jaguNET.com> <714CE159-0359-4A5E-9E39-ECE86D0B7386@jaguNET.com> <CACsi251J+pMM1MtAVWx_amG3gT+=EURZYEUug4LpzhozomgenA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1434372992;
	bh=tNL1zCmRX7AfQSMUZtMrQnxIaMXxXLZgvSKvBv1f36Q=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=nYs2EH6wFY5Kr9zM2PQIwJhB+1TA6Lo/HP9emwbbe24BBgKTCfdUkAY8wCWvKuNP5
	 GYEgo7RLD22M0ck4GqKA7UgQSWWDuOZB1fYafLtuBXSNswIv9v3Mn0Rg87Ew7lMYEX
	 ZfIqAJyjNZanJdAyBvUlkQolrWg0mV2aBxfyfyf0R+65JdR0EelMwgsQLelm6+gZoV
	 TvVEumndgOPdxcEOzX3w6BlppKiRbhbJ2j1vJ9/b9Tu2TSdCAbydX5RglwD+fybYsn
	 OqgAjq9ELa/3hVr+Hlmxx6Db3AXRtG+SvSekP6He3EmB674VPjM2btrQSDovHbcuV0
	 WJLCT0s18iNsQ==


> On Jun 14, 2015, at 8:37 PM, William A Rowe Jr <wrowe@rowe-clan.net> =
wrote:
>=20
> On Jun 14, 2015 12:45 PM, "Jim Jagielski" <jim@jagunet.com> wrote:
> >
> > I am canceling this vote... The breakage due to the chunked
> > stuff is the reason.
> >
> > THIS is the reason I don't like "last-minute" changes that
> > (1) touch a LOT of code or a major code path and (2) has an
> > extremely limited QA history. We should also patch the test
> > framework to test for this.
>=20
> This is the reason I dont like security patches, but they are a fact =
of life.  Sadly this one would not have been discovered without the =
breadth of interop testing that a release vote entails.
>=20

Oh agreed. But for a low-severity vuln, this is kinda embarrassing.=

From dev-return-83008-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 15 12:57:24 2015
Return-Path: <dev-return-83008-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1DCB5176C1
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Jun 2015 12:57:24 +0000 (UTC)
Received: (qmail 63131 invoked by uid 500); 15 Jun 2015 12:57:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63053 invoked by uid 500); 15 Jun 2015 12:57:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63043 invoked by uid 99); 15 Jun 2015 12:57:18 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 12:57:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 3EFBA1A55E8
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 12:57:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id fblcCBkxqCz0 for <dev@httpd.apache.org>;
	Mon, 15 Jun 2015 12:57:08 +0000 (UTC)
Received: from resqmta-ch2-08v.sys.comcast.net (resqmta-ch2-08v.sys.comcast.net [69.252.207.40])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id C92E124F0A
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 12:57:07 +0000 (UTC)
Received: from resomta-ch2-14v.sys.comcast.net ([69.252.207.110])
	by resqmta-ch2-08v.sys.comcast.net with comcast
	id gcx61q0012PT3Qt01cx6Je; Mon, 15 Jun 2015 12:57:06 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-14v.sys.comcast.net with comcast
	id gcwX1q00J2U0RYt01cx6lz; Mon, 15 Jun 2015 12:57:06 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: SSLCertificateChainFile deprecation, still
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <e7b1010ea515b668ea0d743846510053@ausics.net>
Date: Mon, 15 Jun 2015 08:57:06 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <4DBB2A09-70ED-4719-9C98-B5CFCD660BD3@jaguNET.com>
References: <CAKQ1sVNdzPCO_d5+nP6LUWg+gS6bAA=r=semHA3Y7UJuxeF6WA@mail.gmail.com> <557D661F.6040301@gknw.net> <CAKQ1sVNpU81PkSZWWGjqFyQ5bBi7-pM661aQ0i0HO6v-HtRBVQ@mail.gmail.com> <e7b1010ea515b668ea0d743846510053@ausics.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1434373026;
	bh=ZUwPtKSYsnicbqZguUOOwzDSStIvp5YF22pGd8Gznxg=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=lZa01IZSJ2Cvii/V2A50+bcFKQ877lAnFpxOlnegCIUbxWzc+GjKlQ+wpzjKcZAZb
	 vBAqitgpapopyoSKQ4pGHH+l7jOW2ZtsJwlenhfTRE+x0zBQTfWW7U33CHyR2m+SQ7
	 QJ2HIGke77AXxXav3pBklkX4P9ytXiu81sQqX5L7ZbforS4708kB0JISC6pZArN3z5
	 ZO+2IGCyq477/z+7mDAS45zQKgN+sibqCXiSNjrOPGtGJaQnWYO28uNu3/te+rmkqU
	 HwOx3D70dBkbT+oieGrIIZudSea1w0bdN26buzPS5o4sZx5YtouzI9oISQpal4qkCT
	 DrKa/sJWo7tYg==

Well, we have time now to Do This Right in 2.4.15, so....

> On Jun 14, 2015, at 9:43 PM, Noel Butler <noel.butler@ausics.net> =
wrote:
>=20
> On 15/06/2015 07:56, Yann Ylavic wrote:
>=20
>> On Sun, Jun 14, 2015 at 1:31 PM, Gregg Smith <gls@gknw.net> wrote:
>>>=20
>>> =
http://people.apache.org/~gsmith/proposal/sslcertificatechainfile_compromi=
se.diff
>>=20
>> I'm fine with this approach too.
>> We have to decide whether a single [warn] is acceptable or not since
>> it may still confuse startup monitors, which was a point raised in =
the
>> [Vote] thread.
>> I agree that the current patch proposed in STATUS is nearly the same
>> as not noticing the user since it requires -e info in the =
command-line
>> for anything to be visible, but I'm afraid any warning won't be
>> accepted now...
> =20
> A Single warn to LOG is good, perhaps even a single warn to console on =
daemon START only - and only if this means it does NOT appear in any =
reloads or ever again until the server is stop/started, if it does, =
abandon the idea.
>=20
> Not sure if the single console warn on START will affect cpanel, I =
don't think it would since it likely part of system startup and no =
scripting would be looking for any output, Jacob might want to chime in =
on that one though.
>=20
> =20


From dev-return-83009-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 15 13:13:49 2015
Return-Path: <dev-return-83009-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C21741777D
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Jun 2015 13:13:49 +0000 (UTC)
Received: (qmail 10904 invoked by uid 500); 15 Jun 2015 13:13:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10835 invoked by uid 500); 15 Jun 2015 13:13:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10824 invoked by uid 99); 15 Jun 2015 13:13:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 13:13:49 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of covener@gmail.com designates 209.85.213.46 as permitted sender)
Received: from [209.85.213.46] (HELO mail-yh0-f46.google.com) (209.85.213.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 13:11:35 +0000
Received: by yhpn97 with SMTP id n97so42091669yhp.0
        for <dev@httpd.apache.org>; Mon, 15 Jun 2015 06:12:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :content-type;
        bh=EIM3o619h8OEe6SyxrzQdVWK5L9go8SlPOC/LvrThkM=;
        b=e+7HetNsZsyLPawrCYubccrrY9AKi9U6+Bd98ryWB4xzOIXX2J52OPkJwhtgXWgLAN
         RVKnbe2ewZs+Km2F9akXPVuJL1yZf3+YX+MmaHPtK8ufI46t0XDtE25Gop2SFSg5Lj1X
         dyMPKm3ae3+vUjk5RFw/Gh5tsR4W8I2YLLdmckmU3/BsAUMhOoJ+l4D8Wd9e4uQaO8dj
         Ug+MLicIS9zEDV8VbXDY2wedJPI1uix60TKydAMhcURnJ2emRjD9cESgv9aCrzAjlh11
         q9dgg0mZUDmns2KBIWw2coSxf4T17dO4+a8J0Sa7dgXeMAiYwaAiFtGRS04c+Msn6BQc
         meHQ==
X-Received: by 10.129.148.4 with SMTP id l4mr34724903ywg.142.1434373957826;
 Mon, 15 Jun 2015 06:12:37 -0700 (PDT)
MIME-Version: 1.0
References: <CAKQ1sVNdzPCO_d5+nP6LUWg+gS6bAA=r=semHA3Y7UJuxeF6WA@mail.gmail.com>
 <557D661F.6040301@gknw.net> <CAKQ1sVNpU81PkSZWWGjqFyQ5bBi7-pM661aQ0i0HO6v-HtRBVQ@mail.gmail.com>
 <e7b1010ea515b668ea0d743846510053@ausics.net> <4DBB2A09-70ED-4719-9C98-B5CFCD660BD3@jaguNET.com>
In-Reply-To: <4DBB2A09-70ED-4719-9C98-B5CFCD660BD3@jaguNET.com>
From: Eric Covener <covener@gmail.com>
Date: Mon, 15 Jun 2015 13:12:27 +0000
Message-ID: <CALK=YjNEJ5BORzjHiNf20XuYESq9zW5A6u+rSzfbPxRs8LNJSw@mail.gmail.com>
Subject: Re: SSLCertificateChainFile deprecation, still
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=94eb2c07ea283b3c2b05188e3671
X-Virus-Checked: Checked by ClamAV on apache.org

--94eb2c07ea283b3c2b05188e3671
Content-Type: text/plain; charset=UTF-8

Anyone else inclined to just remove the message? It's a deprecation that
didn't happen on a release boundary. AFAICT there's no reason to change how
you run your server unless you use two different cert chains and then you'd
find the info in the manual.

On Mon, Jun 15, 2015 at 8:57 AM Jim Jagielski <jim@jagunet.com> wrote:

> Well, we have time now to Do This Right in 2.4.15, so....
>
> > On Jun 14, 2015, at 9:43 PM, Noel Butler <noel.butler@ausics.net> wrote:
> >
> > On 15/06/2015 07:56, Yann Ylavic wrote:
> >
> >> On Sun, Jun 14, 2015 at 1:31 PM, Gregg Smith <gls@gknw.net> wrote:
> >>>
> >>>
> http://people.apache.org/~gsmith/proposal/sslcertificatechainfile_compromise.diff
> >>
> >> I'm fine with this approach too.
> >> We have to decide whether a single [warn] is acceptable or not since
> >> it may still confuse startup monitors, which was a point raised in the
> >> [Vote] thread.
> >> I agree that the current patch proposed in STATUS is nearly the same
> >> as not noticing the user since it requires -e info in the command-line
> >> for anything to be visible, but I'm afraid any warning won't be
> >> accepted now...
> >
> > A Single warn to LOG is good, perhaps even a single warn to console on
> daemon START only - and only if this means it does NOT appear in any
> reloads or ever again until the server is stop/started, if it does, abandon
> the idea.
> >
> > Not sure if the single console warn on START will affect cpanel, I don't
> think it would since it likely part of system startup and no scripting
> would be looking for any output, Jacob might want to chime in on that one
> though.
> >
> >
>
>

--94eb2c07ea283b3c2b05188e3671
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Anyone else inclined to just remove the message? It&#39;s =
a deprecation that didn&#39;t happen on a release boundary. AFAICT there&#3=
9;s no reason to change how you run your server unless you use two differen=
t cert chains and then you&#39;d find the info in the manual.<br></div><br>=
<div class=3D"gmail_quote"><div dir=3D"ltr">On Mon, Jun 15, 2015 at 8:57 AM=
 Jim Jagielski &lt;<a href=3D"mailto:jim@jagunet.com">jim@jagunet.com</a>&g=
t; wrote:<br></div><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 =
.8ex;border-left:1px #ccc solid;padding-left:1ex">Well, we have time now to=
 Do This Right in 2.4.15, so....<br>
<br>
&gt; On Jun 14, 2015, at 9:43 PM, Noel Butler &lt;<a href=3D"mailto:noel.bu=
tler@ausics.net" target=3D"_blank">noel.butler@ausics.net</a>&gt; wrote:<br=
>
&gt;<br>
&gt; On 15/06/2015 07:56, Yann Ylavic wrote:<br>
&gt;<br>
&gt;&gt; On Sun, Jun 14, 2015 at 1:31 PM, Gregg Smith &lt;<a href=3D"mailto=
:gls@gknw.net" target=3D"_blank">gls@gknw.net</a>&gt; wrote:<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; <a href=3D"http://people.apache.org/~gsmith/proposal/sslcertif=
icatechainfile_compromise.diff" rel=3D"noreferrer" target=3D"_blank">http:/=
/people.apache.org/~gsmith/proposal/sslcertificatechainfile_compromise.diff=
</a><br>
&gt;&gt;<br>
&gt;&gt; I&#39;m fine with this approach too.<br>
&gt;&gt; We have to decide whether a single [warn] is acceptable or not sin=
ce<br>
&gt;&gt; it may still confuse startup monitors, which was a point raised in=
 the<br>
&gt;&gt; [Vote] thread.<br>
&gt;&gt; I agree that the current patch proposed in STATUS is nearly the sa=
me<br>
&gt;&gt; as not noticing the user since it requires -e info in the command-=
line<br>
&gt;&gt; for anything to be visible, but I&#39;m afraid any warning won&#39=
;t be<br>
&gt;&gt; accepted now...<br>
&gt;<br>
&gt; A Single warn to LOG is good, perhaps even a single warn to console on=
 daemon START only - and only if this means it does NOT appear in any reloa=
ds or ever again until the server is stop/started, if it does, abandon the =
idea.<br>
&gt;<br>
&gt; Not sure if the single console warn on START will affect cpanel, I don=
&#39;t think it would since it likely part of system startup and no scripti=
ng would be looking for any output, Jacob might want to chime in on that on=
e though.<br>
&gt;<br>
&gt;<br>
<br>
</blockquote></div>

--94eb2c07ea283b3c2b05188e3671--

From dev-return-83010-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 15 13:43:19 2015
Return-Path: <dev-return-83010-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B497F17893
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Jun 2015 13:43:19 +0000 (UTC)
Received: (qmail 96931 invoked by uid 500); 15 Jun 2015 13:43:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 96844 invoked by uid 500); 15 Jun 2015 13:43:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 96834 invoked by uid 99); 15 Jun 2015 13:43:19 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 13:43:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E0D3BC09BE
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 13:43:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.456
X-Spam-Level:
X-Spam-Status: No, score=-0.456 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_MSPIKE_H2=-1.108,
	SPF_NEUTRAL=0.652] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Pz2eQVJfnUuM for <dev@httpd.apache.org>;
	Mon, 15 Jun 2015 13:43:11 +0000 (UTC)
Received: from resqmta-ch2-03v.sys.comcast.net (resqmta-ch2-03v.sys.comcast.net [69.252.207.35])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 263CD22F22
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 13:43:11 +0000 (UTC)
Received: from resomta-ch2-20v.sys.comcast.net ([69.252.207.116])
	by resqmta-ch2-03v.sys.comcast.net with comcast
	id gdgz1q0052XD5SV01dj4Tx; Mon, 15 Jun 2015 13:43:04 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-20v.sys.comcast.net with comcast
	id gdj31q00B2U0RYt01dj3kk; Mon, 15 Jun 2015 13:43:04 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: SSLCertificateChainFile deprecation, still
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CALK=YjNEJ5BORzjHiNf20XuYESq9zW5A6u+rSzfbPxRs8LNJSw@mail.gmail.com>
Date: Mon, 15 Jun 2015 09:43:03 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <204506BA-3776-47DC-9FA0-42F25C74F4E3@jaguNET.com>
References: <CAKQ1sVNdzPCO_d5+nP6LUWg+gS6bAA=r=semHA3Y7UJuxeF6WA@mail.gmail.com> <557D661F.6040301@gknw.net> <CAKQ1sVNpU81PkSZWWGjqFyQ5bBi7-pM661aQ0i0HO6v-HtRBVQ@mail.gmail.com> <e7b1010ea515b668ea0d743846510053@ausics.net> <4DBB2A09-70ED-4719-9C98-B5CFCD660BD3@jaguNET.com> <CALK=YjNEJ5BORzjHiNf20XuYESq9zW5A6u+rSzfbPxRs8LNJSw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1434375784;
	bh=4mkhbecVN4v3U9QNkusLm6DdI57LdeJli9+TBSmBiYE=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=UfKTwX1eRM/dPv9wRj8sYCp7nzcyUfJixnk5aZXBgujR6/5AUvRHhM2dGYsMDozHx
	 20ZorwYSW8GGxudlZ89scum5LFaO5cn3xzk8mNFy13GnTgboQgaCwbcdfTee0G32Zi
	 CZqqw3lZr4Z+0vxzBrcIcZacA1dzGJSccHxHkGDIg5irulO9IdA2vxkikBpwtCKXjH
	 1jFHOJXwH5lOr/Qgp6nNUmeXfOKq8G5lBIdkBn2AT7IBfQ1fcrNFMPRoD6RRvYHmvX
	 1ZAiwrM15cCweDgdYJIO/OgGLqG855gQrIC1fflhvDcS3cBqUC1UqYz9szAufwhTEM
	 RFYkHT4RnnvOw==


> On Jun 15, 2015, at 9:12 AM, Eric Covener <covener@gmail.com> wrote:
> 
> Anyone else inclined to just remove the message?

I'm +1 for that.


From dev-return-83011-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 15 14:54:53 2015
Return-Path: <dev-return-83011-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D781417C46
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Jun 2015 14:54:53 +0000 (UTC)
Received: (qmail 59741 invoked by uid 500); 15 Jun 2015 14:54:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59655 invoked by uid 500); 15 Jun 2015 14:54:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59645 invoked by uid 99); 15 Jun 2015 14:54:53 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 14:54:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id AF65FC09BE
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 14:54:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.979
X-Spam-Level: **
X-Spam-Status: No, score=2.979 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Od5NkDkJmb5C for <dev@httpd.apache.org>;
	Mon, 15 Jun 2015 14:54:52 +0000 (UTC)
Received: from mail-ig0-f179.google.com (mail-ig0-f179.google.com [209.85.213.179])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id B198545CB9
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 14:54:51 +0000 (UTC)
Received: by igblz2 with SMTP id lz2so52199737igb.1
        for <dev@httpd.apache.org>; Mon, 15 Jun 2015 07:54:51 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=nDnQdIs1aXKXR2sBjpxjZYSdtniAlAhbb32KisrT6YA=;
        b=UxgTtgqPeyyG09W4FRXbrP5guIwN4KW/DpgyagvBym+QsbQgzuf2V1nbFXHTAXXSi5
         HwrmE7t+uEVH8tWGSWPa1p2uMoFMkbRxFYxRsox1YI3la7DIv94hvInuFuj8LjBqIrOF
         CFGu4UIcT1jiV0Gt5j4xIYHkX0e/TmVOG4f16zJgyUG0K1gl92HN7A5DMrmf1HFfVNHA
         /pTrrI9HQSfXJvftNAp4cDx0OOChBGjrbzycnzQoUtSSsSkQJXqmDl1NxTxwIYcUNymT
         Fdhj2akjZpNpzMi/bwa37QnohdY7ik3y8WnsylCrgiLkt49iyBPIDxhN5vgSFhRNmqRO
         hecQ==
X-Gm-Message-State: ALoCoQmlRA0pYRM3JsG6hKEE/yOXrLyR34/nlbbTuHd2q+Ihy1CCnLqduChTjH/dhBALjthU3wRe
MIME-Version: 1.0
X-Received: by 10.50.13.10 with SMTP id d10mr21455209igc.20.1434380091290;
 Mon, 15 Jun 2015 07:54:51 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Mon, 15 Jun 2015 07:54:51 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <CALK=YjNEJ5BORzjHiNf20XuYESq9zW5A6u+rSzfbPxRs8LNJSw@mail.gmail.com>
References: <CAKQ1sVNdzPCO_d5+nP6LUWg+gS6bAA=r=semHA3Y7UJuxeF6WA@mail.gmail.com>
	<557D661F.6040301@gknw.net>
	<CAKQ1sVNpU81PkSZWWGjqFyQ5bBi7-pM661aQ0i0HO6v-HtRBVQ@mail.gmail.com>
	<e7b1010ea515b668ea0d743846510053@ausics.net>
	<4DBB2A09-70ED-4719-9C98-B5CFCD660BD3@jaguNET.com>
	<CALK=YjNEJ5BORzjHiNf20XuYESq9zW5A6u+rSzfbPxRs8LNJSw@mail.gmail.com>
Date: Mon, 15 Jun 2015 09:54:51 -0500
Message-ID: <CACsi253q=WkCYd3VJ3xXpH1OhOEWkRPS2GufqT_iHx2WOQOW0Q@mail.gmail.com>
Subject: Re: SSLCertificateChainFile deprecation, still
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e01184874d08f3205188fa3e3

--089e01184874d08f3205188fa3e3
Content-Type: text/plain; charset=UTF-8

On Mon, Jun 15, 2015 at 8:12 AM, Eric Covener <covener@gmail.com> wrote:

> Anyone else inclined to just remove the message? It's a deprecation that
> didn't happen on a release boundary. AFAICT there's no reason to change how
> you run your server unless you use two different cert chains and then you'd
> find the info in the manual.
>

+1, this is highly irregular.  Our general statement is that config changes
are not strictly necessary on subversion updates of httpd.  (Securing your
SSLCipherList notwithstanding.)

Bill

--089e01184874d08f3205188fa3e3
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Jun 15, 2015 at 8:12 AM, Eric Covener <span dir=3D"ltr">&lt;<a href=3D"=
mailto:covener@gmail.com" target=3D"_blank">covener@gmail.com</a>&gt;</span=
> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;bo=
rder-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr">Anyone else inc=
lined to just remove the message? It&#39;s a deprecation that didn&#39;t ha=
ppen on a release boundary. AFAICT there&#39;s no reason to change how you =
run your server unless you use two different cert chains and then you&#39;d=
 find the info in the manual.</div></blockquote><div><br></div><div>+1, thi=
s is highly irregular.=C2=A0 Our general statement is that config changes a=
re not strictly necessary on subversion updates of httpd. =C2=A0(Securing y=
our SSLCipherList notwithstanding.)</div><div><br></div><div>Bill=C2=A0</di=
v></div></div></div>

--089e01184874d08f3205188fa3e3--

From dev-return-83012-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 15 15:10:21 2015
Return-Path: <dev-return-83012-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 19C0E17D07
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Jun 2015 15:10:21 +0000 (UTC)
Received: (qmail 12659 invoked by uid 500); 15 Jun 2015 15:10:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12602 invoked by uid 500); 15 Jun 2015 15:10:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12592 invoked by uid 99); 15 Jun 2015 15:10:20 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 15:10:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 8A7381A5689
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 15:10:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id kMiBsPiEvdOJ for <dev@httpd.apache.org>;
	Mon, 15 Jun 2015 15:10:11 +0000 (UTC)
Received: from mail-yh0-f48.google.com (mail-yh0-f48.google.com [209.85.213.48])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id A0C1D4545A
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 15:10:11 +0000 (UTC)
Received: by yhak3 with SMTP id k3so44610597yha.2
        for <dev@httpd.apache.org>; Mon, 15 Jun 2015 08:10:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Z/Uf28JZOm66Q6xgJE2L/B7hJhrOPxLzj4IxjEzLkds=;
        b=vlI5SijTBPk5HbGPGOyfVvkl6VQApq4PNJ5s9kuUs273LidZIYy22ejxAoKq6L+33+
         Vcy93aUIQKkA8MYUi4f7kEJ2QOxIFF97RQzEQmGVj2hpZlP2TT2v4wMs0pollSR78EC7
         iFAz+ILtLoFqLZwezlYR2kNAXfuFac97qMO0TEhngqlARj4CEus02Cl2wM19qfjUEfoy
         uLmHdqM961fhBSGxyVQdhmZ3KEReyIT8/WW7BbXjWtPYWQ832tIs9/ol740/rR/CWZ8g
         Nkz9K+GhSUTZUvuIpRKT8OPYSckUnKG/VAFAgM7FcCxCDs8OWLs8wB0phfpuoBPIq+BC
         02Ng==
MIME-Version: 1.0
X-Received: by 10.170.131.201 with SMTP id x192mr34408244ykb.118.1434381011189;
 Mon, 15 Jun 2015 08:10:11 -0700 (PDT)
Received: by 10.13.241.133 with HTTP; Mon, 15 Jun 2015 08:10:11 -0700 (PDT)
In-Reply-To: <CACsi253q=WkCYd3VJ3xXpH1OhOEWkRPS2GufqT_iHx2WOQOW0Q@mail.gmail.com>
References: <CAKQ1sVNdzPCO_d5+nP6LUWg+gS6bAA=r=semHA3Y7UJuxeF6WA@mail.gmail.com>
	<557D661F.6040301@gknw.net>
	<CAKQ1sVNpU81PkSZWWGjqFyQ5bBi7-pM661aQ0i0HO6v-HtRBVQ@mail.gmail.com>
	<e7b1010ea515b668ea0d743846510053@ausics.net>
	<4DBB2A09-70ED-4719-9C98-B5CFCD660BD3@jaguNET.com>
	<CALK=YjNEJ5BORzjHiNf20XuYESq9zW5A6u+rSzfbPxRs8LNJSw@mail.gmail.com>
	<CACsi253q=WkCYd3VJ3xXpH1OhOEWkRPS2GufqT_iHx2WOQOW0Q@mail.gmail.com>
Date: Mon, 15 Jun 2015 11:10:11 -0400
Message-ID: <CAKUrXK4N2mD2fJ1YiPHwfvyC9tmGpaHhjfP+s-+0rTW4afi3gg@mail.gmail.com>
Subject: Re: SSLCertificateChainFile deprecation, still
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113a7ed2a5062505188fda88

--001a113a7ed2a5062505188fda88
Content-Type: text/plain; charset=UTF-8

On Mon, Jun 15, 2015 at 10:54 AM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:

> On Mon, Jun 15, 2015 at 8:12 AM, Eric Covener <covener@gmail.com> wrote:
>
>> Anyone else inclined to just remove the message? It's a deprecation that
>> didn't happen on a release boundary. AFAICT there's no reason to change how
>> you run your server unless you use two different cert chains and then you'd
>> find the info in the manual.
>>
>
> +1, this is highly irregular.  Our general statement is that config
> changes are not strictly necessary on subversion updates of httpd.
>  (Securing your SSLCipherList notwithstanding.)
>
> Bill
>

+1, but IMO the whole idea should be revisited.

Storing intermediate certificates separately is a problem when you have
multiple certificates with different algorithms.  (Which server cert(s)
do/does the intermediate cert file go with?)

For cases where there's no ambiguity, we have a trade-off between

1) being able to get rid of the directive since the intermediate certs
don't necessarily need to be stored separately
2) a future migration headache, if not nightmare, for sites with many
vhosts where different users manage the certs

We need to favor #2.

For cases where there is an ambiguity, we should deprecate being able to
configure that, and visibly warn that there's a likely problem ASAP.

-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a113a7ed2a5062505188fda88
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Jun 15, 2015 at 10:54 AM, William A Rowe Jr <span dir=3D"ltr">&lt;<a hr=
ef=3D"mailto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>=
&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0=
 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div =
class=3D"gmail_extra"><div class=3D"gmail_quote"><span class=3D"">On Mon, J=
un 15, 2015 at 8:12 AM, Eric Covener <span dir=3D"ltr">&lt;<a href=3D"mailt=
o:covener@gmail.com" target=3D"_blank">covener@gmail.com</a>&gt;</span> wro=
te:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-=
left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr">Anyone else inclined=
 to just remove the message? It&#39;s a deprecation that didn&#39;t happen =
on a release boundary. AFAICT there&#39;s no reason to change how you run y=
our server unless you use two different cert chains and then you&#39;d find=
 the info in the manual.</div></blockquote><div><br></div></span><div>+1, t=
his is highly irregular.=C2=A0 Our general statement is that config changes=
 are not strictly necessary on subversion updates of httpd. =C2=A0(Securing=
 your SSLCipherList notwithstanding.)</div><div><br></div><div>Bill=C2=A0</=
div></div></div></div>
</blockquote></div><br>+1, but IMO the whole idea should be revisited.</div=
><div class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">Storing in=
termediate certificates separately is a problem when you have multiple cert=
ificates with different algorithms. =C2=A0(Which server cert(s) do/does the=
 intermediate cert file go with?)</div><div class=3D"gmail_extra"><br></div=
><div class=3D"gmail_extra">For cases where there&#39;s no ambiguity, we ha=
ve a trade-off between</div><div class=3D"gmail_extra"><br></div><div class=
=3D"gmail_extra">1) being able to get rid of the directive since the interm=
ediate certs don&#39;t necessarily need to be stored separately</div><div c=
lass=3D"gmail_extra">2) a future migration headache, if not nightmare, for =
sites with many vhosts where different users manage the certs</div><div cla=
ss=3D"gmail_extra"><br></div><div class=3D"gmail_extra">We need to favor #2=
.</div><div class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">For =
cases where there is an ambiguity, we should deprecate being able to config=
ure that, and visibly warn that there&#39;s a likely problem ASAP.<br clear=
=3D"all"><div><br></div>-- <br><div class=3D"gmail_signature"><div dir=3D"l=
tr">Born in Roswell... married an alien...<br><a href=3D"http://emptyhammoc=
k.com/" target=3D"_blank">http://emptyhammock.com/</a><div><br></div></div>=
</div>
</div></div>

--001a113a7ed2a5062505188fda88--

From dev-return-83013-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 15 16:33:42 2015
Return-Path: <dev-return-83013-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 28D9318134
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Jun 2015 16:33:42 +0000 (UTC)
Received: (qmail 65010 invoked by uid 500); 15 Jun 2015 16:33:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64933 invoked by uid 500); 15 Jun 2015 16:33:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64923 invoked by uid 99); 15 Jun 2015 16:33:41 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 16:33:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 345261A5698
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 16:33:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id jfcVpDUkpSpv for <dev@httpd.apache.org>;
	Mon, 15 Jun 2015 16:33:32 +0000 (UTC)
Received: from mail-ie0-f175.google.com (mail-ie0-f175.google.com [209.85.223.175])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 69C2E429A9
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 16:33:32 +0000 (UTC)
Received: by iesa3 with SMTP id a3so66152363ies.2
        for <dev@httpd.apache.org>; Mon, 15 Jun 2015 09:33:32 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=yRGvxVmMPVrpfSUOAhDsssShCnONaIqDM6socsLW1IE=;
        b=Qt3GQQXqiDvxYBJRKGh99sQuLxJVBb42RmkzK0M34fjuPzSbflTIxZ6q7A2PV5cCO6
         Ynyb0nhI5dSANHPdb3ugGbmQf9KYk1b6gsWygXpBSlL6XJs3lTJZbn77F8fCeFmN4xdF
         B8CKyZJi46Soiiu1gF5o1DcJhCBfEEQG70o+rZkekV62MxHGHmUh39qjXdX+U1HnA0aH
         HN9hBuFD3CKeMsdYFtX1ld15f6h6+vI4oMzDTMiZUK6LZPBUjyJsDhhdrbTmf6ekMLb3
         nT1YWGwCmAi86K66oW/lfeXUoLt5tyKbm8U/AAbUbTeVrvh/A8kdMGkVQgX591UKIp0+
         4GzA==
X-Gm-Message-State: ALoCoQlgbSRtHKVhzvEw/nx5dWtwS5AnhPe2xGIp6oGWZCDqoXj6ajqjsioz+0v0hvAi8YuMUe18
MIME-Version: 1.0
X-Received: by 10.50.61.234 with SMTP id t10mr21924981igr.19.1434386011960;
 Mon, 15 Jun 2015 09:33:31 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Mon, 15 Jun 2015 09:33:31 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
Date: Mon, 15 Jun 2015 11:33:31 -0500
Message-ID: <CACsi250v5NigStvfr1bYY_RTQDd-gmymSgc2O=zjBARwyd0fhQ@mail.gmail.com>
Subject: TWS ";" LWS permitted by RFC 7230 4.1.1? Apparently, no.
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7bdc07e2b6d26c0518910428

--047d7bdc07e2b6d26c0518910428
Content-Type: text/plain; charset=UTF-8

Reviewing the spec, I cannot find where Sambar server is permitted to
insert whitespace. I further reviewed the ABNF appendix, and it does not
appear there, either.

The spec seems unambiguous;

chunk          = chunk-size [ chunk-ext ] CRLF
                 chunk-data CRLF
chunk-size     = 1*HEXDIG
last-chunk     = 1*("0") [ chunk-ext ] CRLF


There is no opportunity to use whitespace outside of chunk-ext.


chunk-ext      = *( ";" chunk-ext-name [ "=" chunk-ext-val ] )
chunk-ext-name = token
chunk-ext-val  = token / quoted-string


The rules in section 3.2.3 have become extremely strict;


3.2.3 <https://tools.ietf.org/html/rfc7230#section-3.2.3>.  Whitespace

   This specification uses three rules to denote the use of linear
   whitespace: OWS (optional whitespace), RWS (required whitespace), and
   BWS ("bad" whitespace).

   The OWS rule is used where zero or more linear whitespace octets
   might appear.  For protocol elements where optional whitespace is
   preferred to improve readability, a sender SHOULD generate the
   optional whitespace as a single SP; otherwise, a sender SHOULD NOT
   generate optional whitespace except as needed to white out invalid or
   unwanted protocol elements during in-place message filtering.

   The RWS rule is used when at least one linear whitespace octet is
   required to separate field tokens.  A sender SHOULD generate RWS as a
   single SP.

   The BWS rule is used where the grammar allows optional whitespace
   only for historical reasons.  A sender MUST NOT generate BWS in
   messages.  A recipient MUST parse for such bad whitespace and remove
   it before interpreting the protocol element.


And section 3.6.1 of RFC2616 made no accommodation for whitespace, in
the first place.


I think Sambar is wrong and we should not be supporting this.


If we make provision to support this, we should be disallowing

by default and add a directive to change the behavior.


Thoughts?

--047d7bdc07e2b6d26c0518910428
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Reviewing the spec, I cannot find where Sambar server is p=
ermitted to insert whitespace. I further reviewed the ABNF appendix, and it=
 does not appear there, either.<div><br></div><div>The spec seems unambiguo=
us;</div><div><br></div><div><pre class=3D"" style=3D"font-size:13.33333301=
54419px;margin-top:0px;margin-bottom:0px;color:rgb(0,0,0)">chunk          =
=3D chunk-size [ chunk-ext ] CRLF
                 chunk-data CRLF
chunk-size     =3D 1*HEXDIG
last-chunk     =3D 1*(&quot;0&quot;) [ chunk-ext ] CRLF</pre><pre class=3D"=
" style=3D"font-size:13.3333330154419px;margin-top:0px;margin-bottom:0px;co=
lor:rgb(0,0,0)"><br></pre><pre class=3D"" style=3D"font-size:13.33333301544=
19px;margin-top:0px;margin-bottom:0px;color:rgb(0,0,0)">There is no opportu=
nity to use whitespace outside of chunk-ext.</pre><pre class=3D"" style=3D"=
font-size:13.3333330154419px;margin-top:0px;margin-bottom:0px;color:rgb(0,0=
,0)"><br></pre><pre class=3D"" style=3D"font-size:13.3333330154419px;margin=
-top:0px;margin-bottom:0px;color:rgb(0,0,0)"><pre class=3D"" style=3D"font-=
size:13.3333330154419px;margin-top:0px;margin-bottom:0px">chunk-ext      =
=3D *( &quot;;&quot; chunk-ext-name [ &quot;=3D&quot; chunk-ext-val ] )
chunk-ext-name =3D token
chunk-ext-val  =3D token / quoted-string</pre><pre class=3D"" style=3D"font=
-size:13.3333330154419px;margin-top:0px;margin-bottom:0px"><br></pre><pre c=
lass=3D"" style=3D"font-size:13.3333330154419px;margin-top:0px;margin-botto=
m:0px">The rules in section 3.2.3 have become extremely strict;</pre><pre c=
lass=3D"" style=3D"font-size:13.3333330154419px;margin-top:0px;margin-botto=
m:0px"><br></pre><pre class=3D"" style=3D"font-size:13.3333330154419px;marg=
in-top:0px;margin-bottom:0px"><pre class=3D"" style=3D"font-size:13.3333330=
154419px;margin-top:0px;margin-bottom:0px"><span class=3D"h4" style=3D"line=
-height:0pt;display:inline;font-size:1em;font-weight:bold"><a class=3D"" na=
me=3D"section-3.2.3" href=3D"https://tools.ietf.org/html/rfc7230#section-3.=
2.3" style=3D"color:black;text-decoration:none" rel=3D"noreferrer">3.2.3</a=
>.  Whitespace</span>

   This specification uses three rules to denote the use of linear
   whitespace: OWS (optional whitespace), RWS (required whitespace), and
   BWS (&quot;bad&quot; whitespace).

   The OWS rule is used where zero or more linear whitespace octets
   might appear.  For protocol elements where optional whitespace is
   preferred to improve readability, a sender SHOULD generate the
   optional whitespace as a single SP; otherwise, a sender SHOULD NOT
   generate optional whitespace except as needed to white out invalid or
   unwanted protocol elements during in-place message filtering.

   The RWS rule is used when at least one linear whitespace octet is
   required to separate field tokens.  A sender SHOULD generate RWS as a
   single SP.

   The BWS rule is used where the grammar allows optional whitespace
   only for historical reasons.  A sender MUST NOT generate BWS in
   messages.  A recipient MUST parse for such bad whitespace and remove
   it before interpreting the protocol element.</pre><pre class=3D"" style=
=3D"font-size:13.3333330154419px;margin-top:0px;margin-bottom:0px"><br></pr=
e><pre class=3D"" style=3D"font-size:13.3333330154419px;margin-top:0px;marg=
in-bottom:0px">And section 3.6.1 of RFC2616 made no accommodation for white=
space, in the first place.</pre><pre class=3D"" style=3D"font-size:13.33333=
30154419px;margin-top:0px;margin-bottom:0px"><br></pre><pre class=3D"" styl=
e=3D"font-size:13.3333330154419px;margin-top:0px;margin-bottom:0px">I think=
 Sambar is wrong and we should not be supporting this.</pre><pre class=3D""=
 style=3D"font-size:13.3333330154419px;margin-top:0px;margin-bottom:0px"><b=
r></pre><pre class=3D"" style=3D"font-size:13.3333330154419px;margin-top:0p=
x;margin-bottom:0px">If we make provision to support this, we should be dis=
allowing</pre><pre class=3D"" style=3D"font-size:13.3333330154419px;margin-=
top:0px;margin-bottom:0px">by default and add a directive to change the beh=
avior.</pre><pre class=3D"" style=3D"font-size:13.3333330154419px;margin-to=
p:0px;margin-bottom:0px"><br></pre><pre class=3D"" style=3D"font-size:13.33=
33330154419px;margin-top:0px;margin-bottom:0px">Thoughts?</pre></pre></pre>=
</div></div>

--047d7bdc07e2b6d26c0518910428--

From dev-return-83014-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 15 17:00:48 2015
Return-Path: <dev-return-83014-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2E961182A5
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Jun 2015 17:00:48 +0000 (UTC)
Received: (qmail 33641 invoked by uid 500); 15 Jun 2015 17:00:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 33573 invoked by uid 500); 15 Jun 2015 17:00:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 33563 invoked by uid 99); 15 Jun 2015 17:00:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 17:00:47 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of trawick@gmail.com designates 209.85.160.181 as permitted sender)
Received: from [209.85.160.181] (HELO mail-yk0-f181.google.com) (209.85.160.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 16:58:33 +0000
Received: by ykfl8 with SMTP id l8so61522614ykf.1
        for <dev@httpd.apache.org>; Mon, 15 Jun 2015 10:00:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=NFg3DasNtVp4/si6zfVwrEYBsv3XaSMydiKwtCHasV0=;
        b=LYZKOd1byWI3PBJvpBUARye5U41fJH8sP5X7uWhnEt6wjTHrxsYoQsF7R2DI1vE88o
         ADQpHGa28BGhS7l7slOm+BXP42DIlKgPklLdsqit1galGFgxRwoPh2VNhwbh3Qs6uSkR
         KnL7i8+gH61SGIRePxjJgbb8W/CoUn489IwJAY1jOTBtwDTQ3tjS8qLwndCNZj/wjZQS
         1Asye/eT/GjnHtDT9lbAAsF6PLip19Zh+U3sN+5Mp/t3z1jexmKzc08do9m4RO5mEd1v
         IJ1SlRTR0UxSuGmcf1+/CIujn0N8Selu1f8DuFIhLPRzSTKkrEr+Y1CFNTyIs0XPafAW
         oz6w==
MIME-Version: 1.0
X-Received: by 10.129.97.213 with SMTP id v204mr35374407ywb.56.1434387621393;
 Mon, 15 Jun 2015 10:00:21 -0700 (PDT)
Received: by 10.13.241.133 with HTTP; Mon, 15 Jun 2015 10:00:21 -0700 (PDT)
In-Reply-To: <CACsi250v5NigStvfr1bYY_RTQDd-gmymSgc2O=zjBARwyd0fhQ@mail.gmail.com>
References: <CACsi250v5NigStvfr1bYY_RTQDd-gmymSgc2O=zjBARwyd0fhQ@mail.gmail.com>
Date: Mon, 15 Jun 2015 13:00:21 -0400
Message-ID: <CAKUrXK4AjLy+KQYj8A4TrhG+S2TEhBqABz3T1gUCCPJ6k-OHqQ@mail.gmail.com>
Subject: Re: TWS ";" LWS permitted by RFC 7230 4.1.1? Apparently, no.
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11492eeca4b96705189164c8
X-Virus-Checked: Checked by ClamAV on apache.org

--001a11492eeca4b96705189164c8
Content-Type: text/plain; charset=UTF-8

On Mon, Jun 15, 2015 at 12:33 PM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:

> Reviewing the spec, I cannot find where Sambar server is permitted to
> insert whitespace. I further reviewed the ABNF appendix, and it does not
> appear there, either.
>
> The spec seems unambiguous;
>
> chunk          = chunk-size [ chunk-ext ] CRLF
>                  chunk-data CRLF
> chunk-size     = 1*HEXDIG
> last-chunk     = 1*("0") [ chunk-ext ] CRLF
>
>
> There is no opportunity to use whitespace outside of chunk-ext.
>
>
> chunk-ext      = *( ";" chunk-ext-name [ "=" chunk-ext-val ] )
> chunk-ext-name = token
> chunk-ext-val  = token / quoted-string
>
>
> The rules in section 3.2.3 have become extremely strict;
>
>
> 3.2.3 <https://tools.ietf.org/html/rfc7230#section-3.2.3>.  Whitespace
>
>    This specification uses three rules to denote the use of linear
>    whitespace: OWS (optional whitespace), RWS (required whitespace), and
>    BWS ("bad" whitespace).
>
>    The OWS rule is used where zero or more linear whitespace octets
>    might appear.  For protocol elements where optional whitespace is
>    preferred to improve readability, a sender SHOULD generate the
>    optional whitespace as a single SP; otherwise, a sender SHOULD NOT
>    generate optional whitespace except as needed to white out invalid or
>    unwanted protocol elements during in-place message filtering.
>
>    The RWS rule is used when at least one linear whitespace octet is
>    required to separate field tokens.  A sender SHOULD generate RWS as a
>    single SP.
>
>    The BWS rule is used where the grammar allows optional whitespace
>    only for historical reasons.  A sender MUST NOT generate BWS in
>    messages.  A recipient MUST parse for such bad whitespace and remove
>    it before interpreting the protocol element.
>
>
> And section 3.6.1 of RFC2616 made no accommodation for whitespace, in the first place.
>
>
> I think Sambar is wrong and we should not be supporting this.
>
>
> If we make provision to support this, we should be disallowing
>
> by default and add a directive to change the behavior.
>
>
> Thoughts?
>
>
1.3 (or 1.3-based servers) put whitespace there.
1.3.x, 2.0.x, 2.2.x, and 2.4.x (for all released x so far) accepts
whitespace there.
We can't change that by default in a stable branch.

This could be perhaps implemented in conjunction with sf's HttpStrict (?)
stuff in trunk (I have no clue what that does in practice, but it sounds
right).


-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a11492eeca4b96705189164c8
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Jun 15, 2015 at 12:33 PM, William A Rowe Jr <span dir=3D"ltr">&lt;<a hr=
ef=3D"mailto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>=
&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0=
 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr">Revie=
wing the spec, I cannot find where Sambar server is permitted to insert whi=
tespace. I further reviewed the ABNF appendix, and it does not appear there=
, either.<div><br></div><div>The spec seems unambiguous;</div><div><br></di=
v><div><pre style=3D"font-size:13.3333330154419px;margin-top:0px;margin-bot=
tom:0px;color:rgb(0,0,0)">chunk          =3D chunk-size [ chunk-ext ] CRLF
                 chunk-data CRLF
chunk-size     =3D 1*HEXDIG
last-chunk     =3D 1*(&quot;0&quot;) [ chunk-ext ] CRLF</pre><pre style=3D"=
font-size:13.3333330154419px;margin-top:0px;margin-bottom:0px;color:rgb(0,0=
,0)"><br></pre><pre style=3D"font-size:13.3333330154419px;margin-top:0px;ma=
rgin-bottom:0px;color:rgb(0,0,0)">There is no opportunity to use whitespace=
 outside of chunk-ext.</pre><pre style=3D"font-size:13.3333330154419px;marg=
in-top:0px;margin-bottom:0px;color:rgb(0,0,0)"><br></pre><pre style=3D"font=
-size:13.3333330154419px;margin-top:0px;margin-bottom:0px;color:rgb(0,0,0)"=
><pre style=3D"font-size:13.3333330154419px;margin-top:0px;margin-bottom:0p=
x">chunk-ext      =3D *( &quot;;&quot; chunk-ext-name [ &quot;=3D&quot; chu=
nk-ext-val ] )
chunk-ext-name =3D token
chunk-ext-val  =3D token / quoted-string</pre><pre style=3D"font-size:13.33=
33330154419px;margin-top:0px;margin-bottom:0px"><br></pre><pre style=3D"fon=
t-size:13.3333330154419px;margin-top:0px;margin-bottom:0px">The rules in se=
ction 3.2.3 have become extremely strict;</pre><pre style=3D"font-size:13.3=
333330154419px;margin-top:0px;margin-bottom:0px"><br></pre><pre style=3D"fo=
nt-size:13.3333330154419px;margin-top:0px;margin-bottom:0px"><pre style=3D"=
font-size:13.3333330154419px;margin-top:0px;margin-bottom:0px"><span style=
=3D"line-height:0pt;display:inline;font-size:1em;font-weight:bold"><a name=
=3D"14df811d230f6034_section-3.2.3" href=3D"https://tools.ietf.org/html/rfc=
7230#section-3.2.3" style=3D"color:black;text-decoration:none" rel=3D"noref=
errer" target=3D"_blank">3.2.3</a>.  Whitespace</span>

   This specification uses three rules to denote the use of linear
   whitespace: OWS (optional whitespace), RWS (required whitespace), and
   BWS (&quot;bad&quot; whitespace).

   The OWS rule is used where zero or more linear whitespace octets
   might appear.  For protocol elements where optional whitespace is
   preferred to improve readability, a sender SHOULD generate the
   optional whitespace as a single SP; otherwise, a sender SHOULD NOT
   generate optional whitespace except as needed to white out invalid or
   unwanted protocol elements during in-place message filtering.

   The RWS rule is used when at least one linear whitespace octet is
   required to separate field tokens.  A sender SHOULD generate RWS as a
   single SP.

   The BWS rule is used where the grammar allows optional whitespace
   only for historical reasons.  A sender MUST NOT generate BWS in
   messages.  A recipient MUST parse for such bad whitespace and remove
   it before interpreting the protocol element.</pre><pre style=3D"font-siz=
e:13.3333330154419px;margin-top:0px;margin-bottom:0px"><br></pre><pre style=
=3D"font-size:13.3333330154419px;margin-top:0px;margin-bottom:0px">And sect=
ion 3.6.1 of RFC2616 made no accommodation for whitespace, in the first pla=
ce.</pre><pre style=3D"font-size:13.3333330154419px;margin-top:0px;margin-b=
ottom:0px"><br></pre><pre style=3D"font-size:13.3333330154419px;margin-top:=
0px;margin-bottom:0px">I think Sambar is wrong and we should not be support=
ing this.</pre><pre style=3D"font-size:13.3333330154419px;margin-top:0px;ma=
rgin-bottom:0px"><br></pre><pre style=3D"font-size:13.3333330154419px;margi=
n-top:0px;margin-bottom:0px">If we make provision to support this, we shoul=
d be disallowing</pre><pre style=3D"font-size:13.3333330154419px;margin-top=
:0px;margin-bottom:0px">by default and add a directive to change the behavi=
or.</pre><pre style=3D"font-size:13.3333330154419px;margin-top:0px;margin-b=
ottom:0px"><br></pre><pre style=3D"font-size:13.3333330154419px;margin-top:=
0px;margin-bottom:0px">Thoughts?</pre></pre></pre></div></div>
</blockquote></div><div class=3D"gmail_extra"><br></div>1.3 (or 1.3-based s=
ervers) put whitespace there.</div><div class=3D"gmail_extra">1.3.x, 2.0.x,=
 2.2.x, and 2.4.x (for all released x so far) accepts whitespace there.</di=
v><div class=3D"gmail_extra">We can&#39;t change that by default in a stabl=
e branch.<br></div><div class=3D"gmail_extra"><br></div><div class=3D"gmail=
_extra">This could be perhaps implemented in conjunction with sf&#39;s Http=
Strict (?) stuff in trunk (I have no clue what that does in practice, but i=
t sounds right).</div><div class=3D"gmail_extra"><br clear=3D"all"><div><br=
></div>-- <br><div class=3D"gmail_signature"><div dir=3D"ltr">Born in Roswe=
ll... married an alien...<br><a href=3D"http://emptyhammock.com/" target=3D=
"_blank">http://emptyhammock.com/</a><div><br></div></div></div>
</div></div>

--001a11492eeca4b96705189164c8--

From dev-return-83015-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 15 17:04:45 2015
Return-Path: <dev-return-83015-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 65109182CB
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Jun 2015 17:04:45 +0000 (UTC)
Received: (qmail 40820 invoked by uid 500); 15 Jun 2015 17:04:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 40752 invoked by uid 500); 15 Jun 2015 17:04:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 40742 invoked by uid 99); 15 Jun 2015 17:04:44 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 17:04:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 72DB11A563D
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 17:04:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Q3C2xVug9cSM for <dev@httpd.apache.org>;
	Mon, 15 Jun 2015 17:04:37 +0000 (UTC)
Received: from mail-yk0-f176.google.com (mail-yk0-f176.google.com [209.85.160.176])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id BDFF4429A9
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 17:04:36 +0000 (UTC)
Received: by ykaz81 with SMTP id z81so61721903yka.3
        for <dev@httpd.apache.org>; Mon, 15 Jun 2015 10:04:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=AOSg7rKo4qCM2wTx9cavLtAqPH50im/QGqq7qC4qkuE=;
        b=ogmEVljBysSo9+v41mZmtmmDZum8fA0bOJFpPxPLDm6WzSLuMuUixWEi1BnUZSyFIX
         S6ZlmmlB8nrtpOtHBvYVwdVAIzJFofCLLfPMRuOOUvln07QDl0yudTNdSmA7voTwaPWM
         ed3MCAVaoWOkjioyWZyPsuF8IuPEzxFdns/6lVnNrZDy6lFpGpoOv7Jly5FSwV/MPDx5
         FiPCuFG7ska0QHqevh6imrs+mOtEDVbHYOgfgRPfm31KD2ghY3wk19omZn8h7vv/WOJt
         ejdB3yZjEpZP4sf5TMwsV56k3lEzpp4Bu9YJALDlctqUaHhSoiyfqHSVeqaghJIQqVOc
         kVxw==
MIME-Version: 1.0
X-Received: by 10.170.141.4 with SMTP id i4mr35868370ykc.32.1434387870070;
 Mon, 15 Jun 2015 10:04:30 -0700 (PDT)
Received: by 10.13.241.133 with HTTP; Mon, 15 Jun 2015 10:04:30 -0700 (PDT)
In-Reply-To: <CAKUrXK4N2mD2fJ1YiPHwfvyC9tmGpaHhjfP+s-+0rTW4afi3gg@mail.gmail.com>
References: <CAKQ1sVNdzPCO_d5+nP6LUWg+gS6bAA=r=semHA3Y7UJuxeF6WA@mail.gmail.com>
	<557D661F.6040301@gknw.net>
	<CAKQ1sVNpU81PkSZWWGjqFyQ5bBi7-pM661aQ0i0HO6v-HtRBVQ@mail.gmail.com>
	<e7b1010ea515b668ea0d743846510053@ausics.net>
	<4DBB2A09-70ED-4719-9C98-B5CFCD660BD3@jaguNET.com>
	<CALK=YjNEJ5BORzjHiNf20XuYESq9zW5A6u+rSzfbPxRs8LNJSw@mail.gmail.com>
	<CACsi253q=WkCYd3VJ3xXpH1OhOEWkRPS2GufqT_iHx2WOQOW0Q@mail.gmail.com>
	<CAKUrXK4N2mD2fJ1YiPHwfvyC9tmGpaHhjfP+s-+0rTW4afi3gg@mail.gmail.com>
Date: Mon, 15 Jun 2015 13:04:30 -0400
Message-ID: <CAKUrXK5d7h-DE8oVryvTm+87jyPjdUhQp-qpY6xtZDyzBc-sfg@mail.gmail.com>
Subject: Re: SSLCertificateChainFile deprecation, still
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11395ee0773dfa051891733e

--001a11395ee0773dfa051891733e
Content-Type: text/plain; charset=UTF-8

On Mon, Jun 15, 2015 at 11:10 AM, Jeff Trawick <trawick@gmail.com> wrote:

> On Mon, Jun 15, 2015 at 10:54 AM, William A Rowe Jr <wrowe@rowe-clan.net>
> wrote:
>
>> On Mon, Jun 15, 2015 at 8:12 AM, Eric Covener <covener@gmail.com> wrote:
>>
>>> Anyone else inclined to just remove the message? It's a deprecation that
>>> didn't happen on a release boundary. AFAICT there's no reason to change how
>>> you run your server unless you use two different cert chains and then you'd
>>> find the info in the manual.
>>>
>>
>> +1, this is highly irregular.  Our general statement is that config
>> changes are not strictly necessary on subversion updates of httpd.
>>  (Securing your SSLCipherList notwithstanding.)
>>
>> Bill
>>
>
> +1, but IMO the whole idea should be revisited.
>
> Storing intermediate certificates separately is a problem when you have
> multiple certificates with different algorithms.  (Which server cert(s)
> do/does the intermediate cert file go with?)
>
> For cases where there's no ambiguity, we have a trade-off between
>
> 1) being able to get rid of the directive since the intermediate certs
> don't necessarily need to be stored separately
> 2) a future migration headache, if not nightmare, for sites with many
> vhosts where different users manage the certs
>
> We need to favor #2.
>
> For cases where there is an ambiguity, we should deprecate being able to
> configure that, and visibly warn that there's a likely problem ASAP.
>

well, "a likely problem" can't be right, unless they just configured it and
it doesn't work correctly yet :)

-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a11395ee0773dfa051891733e
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Jun 15, 2015 at 11:10 AM, Jeff Trawick <span dir=3D"ltr">&lt;<a href=3D=
"mailto:trawick@gmail.com" target=3D"_blank">trawick@gmail.com</a>&gt;</spa=
n> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;b=
order-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div class=3D"=
gmail_extra"><div><div class=3D"h5"><div class=3D"gmail_quote">On Mon, Jun =
15, 2015 at 10:54 AM, William A Rowe Jr <span dir=3D"ltr">&lt;<a href=3D"ma=
ilto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>&gt;</sp=
an> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;=
border-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><div class=3D=
"gmail_extra"><div class=3D"gmail_quote"><span>On Mon, Jun 15, 2015 at 8:12=
 AM, Eric Covener <span dir=3D"ltr">&lt;<a href=3D"mailto:covener@gmail.com=
" target=3D"_blank">covener@gmail.com</a>&gt;</span> wrote:<br><blockquote =
class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid=
;padding-left:1ex"><div dir=3D"ltr">Anyone else inclined to just remove the=
 message? It&#39;s a deprecation that didn&#39;t happen on a release bounda=
ry. AFAICT there&#39;s no reason to change how you run your server unless y=
ou use two different cert chains and then you&#39;d find the info in the ma=
nual.</div></blockquote><div><br></div></span><div>+1, this is highly irreg=
ular.=C2=A0 Our general statement is that config changes are not strictly n=
ecessary on subversion updates of httpd. =C2=A0(Securing your SSLCipherList=
 notwithstanding.)</div><div><br></div><div>Bill=C2=A0</div></div></div></d=
iv>
</blockquote></div><br></div></div>+1, but IMO the whole idea should be rev=
isited.</div><div class=3D"gmail_extra"><br></div><div class=3D"gmail_extra=
">Storing intermediate certificates separately is a problem when you have m=
ultiple certificates with different algorithms. =C2=A0(Which server cert(s)=
 do/does the intermediate cert file go with?)</div><div class=3D"gmail_extr=
a"><br></div><div class=3D"gmail_extra">For cases where there&#39;s no ambi=
guity, we have a trade-off between</div><div class=3D"gmail_extra"><br></di=
v><div class=3D"gmail_extra">1) being able to get rid of the directive sinc=
e the intermediate certs don&#39;t necessarily need to be stored separately=
</div><div class=3D"gmail_extra">2) a future migration headache, if not nig=
htmare, for sites with many vhosts where different users manage the certs</=
div><div class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">We need=
 to favor #2.</div><div class=3D"gmail_extra"><br></div><div class=3D"gmail=
_extra">For cases where there is an ambiguity, we should deprecate being ab=
le to configure that, and visibly warn that there&#39;s a likely problem AS=
AP.</div></div></blockquote><div><br></div><div>well, &quot;a likely proble=
m&quot; can&#39;t be right, unless they just configured it and it doesn&#39=
;t work correctly yet :)</div><div><br></div></div>-- <br><div class=3D"gma=
il_signature"><div dir=3D"ltr">Born in Roswell... married an alien...<br><a=
 href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyhammock.co=
m/</a><div><br></div></div></div>
</div></div>

--001a11395ee0773dfa051891733e--

From dev-return-83016-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 15 17:24:41 2015
Return-Path: <dev-return-83016-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B60FA183BA
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Jun 2015 17:24:41 +0000 (UTC)
Received: (qmail 14887 invoked by uid 500); 15 Jun 2015 17:24:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14795 invoked by uid 500); 15 Jun 2015 17:24:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14775 invoked by uid 99); 15 Jun 2015 17:24:41 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 17:24:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id BE993C0953
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 17:24:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.02
X-Spam-Level:
X-Spam-Status: No, score=-0.02 tagged_above=-999 required=6.31
	tests=[RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id XzRUyAQg8aSp for <dev@httpd.apache.org>;
	Mon, 15 Jun 2015 17:24:32 +0000 (UTC)
Received: from mout.gmx.net (mout.gmx.net [212.227.15.15])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 14FA520DC7
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 17:24:32 +0000 (UTC)
Received: from [192.168.0.100] ([87.139.233.65]) by mail.gmx.com (mrgmx002)
 with ESMTPSA (Nemesis) id 0M92lh-1YsCrE1xcL-00CQ77 for
 <dev@httpd.apache.org>; Mon, 15 Jun 2015 19:24:25 +0200
Message-ID: <557F0A42.2020002@gmx.de>
Date: Mon, 15 Jun 2015 19:24:18 +0200
From: olli hauer <ohauer@gmx.de>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: SSLCertificateChainFile deprecation, still (was: svn commit:
 r1685371 - /httpd/httpd/branches/2.4.x/STATUS)
References: <CAKQ1sVNdzPCO_d5+nP6LUWg+gS6bAA=r=semHA3Y7UJuxeF6WA@mail.gmail.com>	<557D661F.6040301@gknw.net> <CAKQ1sVNpU81PkSZWWGjqFyQ5bBi7-pM661aQ0i0HO6v-HtRBVQ@mail.gmail.com> <557E26E2.9060107@gknw.net> <557E2C18.6030404@gknw.net>
In-Reply-To: <557E2C18.6030404@gknw.net>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit
X-Provags-ID:  V03:K0:H+js8vb94fYKoH+lmNDsoKcTeQnKZTE457h+j5E5zAcO264Tyxu
 Aukw54f57YABRKAokRUhLYzG6C3i3i+kM/hPcxl4Koxb6ev9J9rmRfX/icVKK30rOLunpfU
 K0b7SuwbrMjeb0u5iaPZC/7RlZ3kap0qY1IDZ00DqDVzhphh/zORsAHVn7Cc+GKQsw6+24+
 TkGBnIuEBcvRzNTC4a2Lw==
X-UI-Out-Filterresults: notjunk:1;V01:K0:yUbkv3PhID0=:w94GO1+JcXQwYJypN9KPRX
 j1o6okLr/9mqiKmWHYp+DjvKan7w1TaqffxL5e1v2J19J2lc9rUDLEsVEVMLvF6RHW5DGX5hQ
 vHcsijRpYTA25Lxa7u9BQKKxYUlStpjYJvl9Y7Q59Gj4PeUbHwqr3DXCAzqseF3XRnNFbmzpZ
 rZDGi2BN7gGdn5ksOj5IaY8nxaE8DnSUsDU4meJB+SIi52ssV3kxm2jMpgLogJUBQDhdRQCED
 8grsJ68SDC3E8ZK+ctEImZ8CisZN+XB9HfBahfR5jlOAlKCNoh9MbSEA31uFnH3YPsYPyQyNI
 Q+ZJDtpGhupxcmJ9GYxfYHvEXs4qkY8NaeicFRY8ad4l/j2jIOJf9K4RKJScKsV3hWe8zgauP
 Szb10BcZhk/hrQ1kmApJnRNN94cf8z51FfXofIqEdep4kj/LYmEpfIVUv++fyf8LGnAwlHU4b
 14254AYJt8yup8biCZSagd8UGmod9IuejssyouthqVWCpsyeQIxKSsb7gepyzqL618jm3gCcs
 bKnhv984R8V5fDd1iZcozOapEuK9fJUDefczSqS5iQkGfejaHNUxdz+8TXHP5kRSfNT1t7OYa
 BBjcFvCn71wiGev/fdGF+3ncgnClFCW7JW5LVpZFZOJR5otX32hjBwpR1mjSSJ2onXktKUNLO
 XxCdkwEFFrExCjnD5OTw6UJGcqz9YOjeSQPHQC4iopVkPyScjtPSnzkBWMdSODkg334c=

On 2015-06-15 03:36, Gregg Smith wrote:
> On 6/14/2015 6:14 PM, Gregg Smith wrote:
>> On 6/14/2015 2:56 PM, Yann Ylavic wrote:
>>> On Sun, Jun 14, 2015 at 1:31 PM, Gregg Smith<gls@gknw.net>  wrote:
>>>> http://people.apache.org/~gsmith/proposal/sslcertificatechainfile_compromise.diff
>>> I'm fine with this approach too.
>>> We have to decide whether a single [warn] is acceptable or not since
>>> it may still confuse startup monitors, which was a point raised in the
>>> [Vote] thread.
>>> I agree that the current patch proposed in STATUS is nearly the same
>>> as not noticing the user since it requires -e info in the command-line
>>> for anything to be visible, but I'm afraid any warning won't be
>>> accepted now...
>>
>> It's a lose/lose situation either way. I didn't pick up on the startup monitors part of the thread.
>>
>> We are almost back to the way it was before the warning, I guess this is fine. No will know the better unless they go fishing for some other problem that may arise. At the very minimum it's something at least, should not make waves and i would bet everyone knows about it now unless 2.4.15 is their first.
> 
> If this is their first, probably ought to remove this in httpd-ssl.conf also
> 
> #   Server Certificate Chain:
> #   Point SSLCertificateChainFile at a file containing the
> #   concatenation of PEM encoded CA certificates which form the
> #   certificate chain for the server certificate. Alternatively
> #   the referenced file can be the same as SSLCertificateFile
> #   when the CA certificates are directly appended to the server
> #   certificate for convenience.
> #SSLCertificateChainFile "@rel_sysconfdir@/server-ca.crt"
> 

It is a valid statement, so I think it would be better to keep it and replace the description with something like

# This directive is deprecated, please concatenate the
# intermediate CA to the SSLCertificateFile.
#SSLCertificateChainFile "@rel_sysconfdir@/server-ca.crt"

As a side note, even I've read the Release Notes I was thankful to see my console was trashed with the deprecation warning ;)

What I miss is a section on httpd.apache.org/docs/2.4/ with a link list what has changed since which release.
For example there are section "New features with Apache .." and "Upgrading to 2.4 from 2.2" but no section like

 Deprecated / Important changes between 2.4.x and 2.4.y
  - mod_cgi: use of the magic mime-type is deprecated
  - mod_ssl: SSLCertificateChainFile is deprecated
             SSLRequire is deprecated
  - mod_ldap: (ldaps://) support has been deprecated to be replaced with TLS
  - mod_access_compat: deprecated by the new authz refactoring
  - ...


I'm really not a good technical writer, but if such a list is welcome I will try to do my best to send a patch


From dev-return-83017-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 15 17:56:24 2015
Return-Path: <dev-return-83017-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9E45018567
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Jun 2015 17:56:24 +0000 (UTC)
Received: (qmail 2997 invoked by uid 500); 15 Jun 2015 17:56:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 2911 invoked by uid 500); 15 Jun 2015 17:56:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 2901 invoked by uid 99); 15 Jun 2015 17:56:24 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 17:56:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 44274C2B97
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 17:52:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.353
X-Spam-Level: *
X-Spam-Status: No, score=1.353 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RDNS_DYNAMIC=0.363,
	SPF_HELO_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id UvrpCWzVpcEy for <dev@httpd.apache.org>;
	Mon, 15 Jun 2015 17:52:08 +0000 (UTC)
Received: from nebula.c8h10n4o2.org.uk (nebula.c8h10n4o2.org.uk [80.68.88.207])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 9C648216F2
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 17:52:08 +0000 (UTC)
Received: from 188.30.161.251.threembb.co.uk ([188.30.161.251])
	by nebula.c8h10n4o2.org.uk with esmtpsa (TLS1.2:ECDHE_RSA_AES_256_CBC_SHA1:256)
	(Exim 4.84)
	(envelope-from <isoma@c8h10n4o2.org.uk>)
	id 1Z4YYB-0001mm-43
	for dev@httpd.apache.org; Mon, 15 Jun 2015 18:51:59 +0100
User-Agent: K-9 Mail for Android
In-Reply-To: <CALK=YjNEJ5BORzjHiNf20XuYESq9zW5A6u+rSzfbPxRs8LNJSw@mail.gmail.com>
References: <CAKQ1sVNdzPCO_d5+nP6LUWg+gS6bAA=r=semHA3Y7UJuxeF6WA@mail.gmail.com> <557D661F.6040301@gknw.net> <CAKQ1sVNpU81PkSZWWGjqFyQ5bBi7-pM661aQ0i0HO6v-HtRBVQ@mail.gmail.com> <e7b1010ea515b668ea0d743846510053@ausics.net> <4DBB2A09-70ED-4719-9C98-B5CFCD660BD3@jaguNET.com> <CALK=YjNEJ5BORzjHiNf20XuYESq9zW5A6u+rSzfbPxRs8LNJSw@mail.gmail.com>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Content-Type: text/plain;
 charset=UTF-8
Subject: Re: SSLCertificateChainFile deprecation, still
From: Tim Bannister <isoma@c8h10n4o2.org.uk>
Date: Mon, 15 Jun 2015 17:51:50 +0000
To: dev@httpd.apache.org
Message-ID: <2CB5CAD0-AFA0-4B15-A7CA-2CDAA55FF199@c8h10n4o2.org.uk>

On 15 June 2015 14:12:27 UTC+01:00, Eric Covener <covener@gmail.com> wrote:
>Anyone else inclined to just remove the message? It's a deprecation
>that didn't happen on a release boundary. AFAICT there's no reason to change
>how you run your server unless you use two different cert chains and then
>you'd find the info in the manual. 


I think that suggestion is a good approach if the SSLCertificateChainFile directive can remain available for the full lifespan of 2.4.x

-- 
Tim Bannister  isoma@c8h10n4o2.org.uk

From dev-return-83018-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 15 17:59:17 2015
Return-Path: <dev-return-83018-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BA9201859F
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Jun 2015 17:59:17 +0000 (UTC)
Received: (qmail 11618 invoked by uid 500); 15 Jun 2015 17:59:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 11553 invoked by uid 500); 15 Jun 2015 17:59:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 11544 invoked by uid 99); 15 Jun 2015 17:59:17 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 17:59:17 +0000
Received: from gauss.localdomain (v4-8613417b.pool.vitroconnect.de [134.19.65.123])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id ECE541A0503
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 17:59:16 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 9D6E6343
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 19:59:14 +0200 (CEST)
Message-ID: <557F1272.9090807@apache.org>
Date: Mon, 15 Jun 2015 19:59:14 +0200
From: Ruediger Pluem <rpluem@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:36.0) Gecko/20100101 Firefox/36.0 SeaMonkey/2.33.1
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: TWS ";" LWS permitted by RFC 7230 4.1.1? Apparently, no.
References: <CACsi250v5NigStvfr1bYY_RTQDd-gmymSgc2O=zjBARwyd0fhQ@mail.gmail.com> <CAKUrXK4AjLy+KQYj8A4TrhG+S2TEhBqABz3T1gUCCPJ6k-OHqQ@mail.gmail.com>
In-Reply-To: <CAKUrXK4AjLy+KQYj8A4TrhG+S2TEhBqABz3T1gUCCPJ6k-OHqQ@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 06/15/2015 07:00 PM, Jeff Trawick wrote:
> On Mon, Jun 15, 2015 at 12:33 PM, William A Rowe Jr <wrowe@rowe-clan.net <mailto:wrowe@rowe-clan.net>> wrote:
> 

> 
> 1.3 (or 1.3-based servers) put whitespace there.
> 1.3.x, 2.0.x, 2.2.x, and 2.4.x (for all released x so far) accepts whitespace there.
> We can't change that by default in a stable branch.
> 
> This could be perhaps implemented in conjunction with sf's HttpStrict (?) stuff in trunk (I have no clue what that does
> in practice, but it sounds right).

+1

Regards

Rdiger

From dev-return-83019-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 15 18:26:00 2015
Return-Path: <dev-return-83019-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E3A651869E
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Jun 2015 18:26:00 +0000 (UTC)
Received: (qmail 75311 invoked by uid 500); 15 Jun 2015 18:26:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75233 invoked by uid 500); 15 Jun 2015 18:26:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75221 invoked by uid 99); 15 Jun 2015 18:26:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 18:26:00 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of minfrin@sharp.fm designates 80.168.143.5 as permitted sender)
Received: from [80.168.143.5] (HELO monica.sharp.fm) (80.168.143.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 18:23:45 +0000
Received: from [192.168.88.155] (unknown [192.168.88.155])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 08AA9829F9
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 19:25:32 +0100 (BST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: TWS ";" LWS permitted by RFC 7230 4.1.1? Apparently, no.
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <CAKUrXK4AjLy+KQYj8A4TrhG+S2TEhBqABz3T1gUCCPJ6k-OHqQ@mail.gmail.com>
Date: Mon, 15 Jun 2015 20:25:31 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <659EEB14-36C9-4CC1-BB37-7B8CAFB49DE2@sharp.fm>
References: <CACsi250v5NigStvfr1bYY_RTQDd-gmymSgc2O=zjBARwyd0fhQ@mail.gmail.com> <CAKUrXK4AjLy+KQYj8A4TrhG+S2TEhBqABz3T1gUCCPJ6k-OHqQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
X-Virus-Checked: Checked by ClamAV on apache.org

On 15 Jun 2015, at 7:00 PM, Jeff Trawick <trawick@gmail.com> wrote:

> 1.3 (or 1.3-based servers) put whitespace there.
> 1.3.x, 2.0.x, 2.2.x, and 2.4.x (for all released x so far) accepts =
whitespace there.
> We can't change that by default in a stable branch.

+1.

We need to be liberal in what we accept. I don=E2=80=99t even think a =
=E2=80=9Cstrict=E2=80=9D mode serves much purpose.

Regards,
Graham
=E2=80=94


From dev-return-83020-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 15 18:35:41 2015
Return-Path: <dev-return-83020-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C908B1870B
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Jun 2015 18:35:41 +0000 (UTC)
Received: (qmail 94304 invoked by uid 500); 15 Jun 2015 18:35:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94242 invoked by uid 500); 15 Jun 2015 18:35:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94232 invoked by uid 99); 15 Jun 2015 18:35:41 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 18:35:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A5BF5CE08A
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 18:35:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id u2Dp98sHGRVp for <dev@httpd.apache.org>;
	Mon, 15 Jun 2015 18:35:32 +0000 (UTC)
Received: from mail-ig0-f171.google.com (mail-ig0-f171.google.com [209.85.213.171])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id B45924545A
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 18:35:31 +0000 (UTC)
Received: by igbzc4 with SMTP id zc4so61376714igb.0
        for <dev@httpd.apache.org>; Mon, 15 Jun 2015 11:35:31 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=KLG/4S2FR/uggFfit0yTJb8F1E9sMBesJEHHT/hlWrc=;
        b=Mxm87hMUfCfBUVPgUrFQ/+rt0CkpfQbOICMOUxrx/eOgaSjlWIhRTsCyWEW39qKGVJ
         qpXXWNGoCZ6t2tE8G1KqiQ0e/wg3HWbRFxRlKDqmsEUda7Io636MwHEYXGxb3BuhIjjR
         NJLvCdK9RG+xJ49sbGUg6arapUcYrdAEHUreAGm/JH2qoZs8EqZapLAX+9hwYjP1QgnO
         vZyhp7a6rFQHVgOcHmKAUATMt3Bmk7/ERiFf6JG4ct70cEbAUoG7alcsoRXjCMM7ccz5
         OX4jjcHUUy2ySJhS4KGb5nHt0vfGQsvOwa4kjiB+wMAouxWiTULdiJeuOJqFxnQdA0By
         VWFQ==
X-Gm-Message-State: ALoCoQnu1/upozQ26z3oICD+cWZR+mA9NWVIxjq771aXsUQdMTJpetHf7RWJxywMzpFk63yFJig5
MIME-Version: 1.0
X-Received: by 10.42.144.131 with SMTP id b3mr31788618icv.35.1434393331323;
 Mon, 15 Jun 2015 11:35:31 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Mon, 15 Jun 2015 11:35:31 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
Received: by 10.107.190.195 with HTTP; Mon, 15 Jun 2015 11:35:31 -0700 (PDT)
In-Reply-To: <659EEB14-36C9-4CC1-BB37-7B8CAFB49DE2@sharp.fm>
References: <CACsi250v5NigStvfr1bYY_RTQDd-gmymSgc2O=zjBARwyd0fhQ@mail.gmail.com>
	<CAKUrXK4AjLy+KQYj8A4TrhG+S2TEhBqABz3T1gUCCPJ6k-OHqQ@mail.gmail.com>
	<659EEB14-36C9-4CC1-BB37-7B8CAFB49DE2@sharp.fm>
Date: Mon, 15 Jun 2015 13:35:31 -0500
Message-ID: <CACsi252Dc7sS5dcO75qyQnzk0u8Fi_DBgnF+1XRvnZu-=um=XA@mail.gmail.com>
Subject: Re: TWS ";" LWS permitted by RFC 7230 4.1.1? Apparently, no.
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=90e6ba1efd28fb6dc7051892b879

--90e6ba1efd28fb6dc7051892b879
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Jun 15, 2015 1:26 PM, "Graham Leggett" <minfrin@sharp.fm> wrote:
>
> On 15 Jun 2015, at 7:00 PM, Jeff Trawick <trawick@gmail.com> wrote:
>
> > 1.3 (or 1.3-based servers) put whitespace there.
> > 1.3.x, 2.0.x, 2.2.x, and 2.4.x (for all released x so far) accepts
whitespace there.
> > We can't change that by default in a stable branch.
>
> +1.
>
> We need to be liberal in what we accept. I don=E2=80=99t even think a =E2=
=80=9Cstrict=E2=80=9D
mode serves much purpose.

That 'thinking' by many server authors created the stack of CVE-2005 issues
identified by Watchfire as low, medium and worse severities.

This is not metadata.  It is transport-layer data.  And we have precedent
for closing vulnerabilities in 2005, and the several SSL vendors have done
similar.

That said, httpd 2 has always done the right thing with respect to not
passing hop-by-hop data verbatim.  So we are in a bit better position than
some, and this mitigates the surface area of the attack.

The recent enhancements to further protect from split requests is also
reassuring.

--90e6ba1efd28fb6dc7051892b879
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">On Jun 15, 2015 1:26 PM, &quot;Graham Leggett&quot; &lt;<a h=
ref=3D"mailto:minfrin@sharp.fm">minfrin@sharp.fm</a>&gt; wrote:<br>
&gt;<br>
&gt; On 15 Jun 2015, at 7:00 PM, Jeff Trawick &lt;<a href=3D"mailto:trawick=
@gmail.com">trawick@gmail.com</a>&gt; wrote:<br>
&gt;<br>
&gt; &gt; 1.3 (or 1.3-based servers) put whitespace there.<br>
&gt; &gt; 1.3.x, 2.0.x, 2.2.x, and 2.4.x (for all released x so far) accept=
s whitespace there.<br>
&gt; &gt; We can&#39;t change that by default in a stable branch.<br>
&gt;<br>
&gt; +1.<br>
&gt;<br>
&gt; We need to be liberal in what we accept. I don=E2=80=99t even think a =
=E2=80=9Cstrict=E2=80=9D mode serves much purpose.</p>
<p dir=3D"ltr">That &#39;thinking&#39; by many server authors created the s=
tack of CVE-2005 issues identified by Watchfire as low, medium and worse se=
verities.</p>
<p dir=3D"ltr">This is not metadata.=C2=A0 It is transport-layer data.=C2=
=A0 And we have precedent for closing vulnerabilities in 2005, and the seve=
ral SSL vendors have done similar.</p>
<p dir=3D"ltr">That said, httpd 2 has always done the right thing with resp=
ect to not passing hop-by-hop data verbatim.=C2=A0 So we are in a bit bette=
r position than some, and this mitigates the surface area of the attack.</p=
>
<p dir=3D"ltr">The recent enhancements to further protect from split reques=
ts is also reassuring.<br><br></p>

--90e6ba1efd28fb6dc7051892b879--

From dev-return-83021-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 15 20:18:47 2015
Return-Path: <dev-return-83021-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B2A4C18B16
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Jun 2015 20:18:47 +0000 (UTC)
Received: (qmail 54936 invoked by uid 500); 15 Jun 2015 20:18:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54870 invoked by uid 500); 15 Jun 2015 20:18:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54860 invoked by uid 99); 15 Jun 2015 20:18:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 20:18:41 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.40] (HELO resqmta-ch2-08v.sys.comcast.net) (69.252.207.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 20:16:25 +0000
Received: from resomta-ch2-04v.sys.comcast.net ([69.252.207.100])
	by resqmta-ch2-08v.sys.comcast.net with comcast
	id gkGh1q00A2AWL2D01kHsqm; Mon, 15 Jun 2015 20:17:52 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-04v.sys.comcast.net with comcast
	id gkHr1q00Z2U0RYt01kHsmP; Mon, 15 Jun 2015 20:17:52 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: TWS ";" LWS permitted by RFC 7230 4.1.1? Apparently, no.
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKUrXK4AjLy+KQYj8A4TrhG+S2TEhBqABz3T1gUCCPJ6k-OHqQ@mail.gmail.com>
Date: Mon, 15 Jun 2015 16:17:51 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <54FFE4AE-7761-48A8-97BD-737FB53E22AC@jaguNET.com>
References: <CACsi250v5NigStvfr1bYY_RTQDd-gmymSgc2O=zjBARwyd0fhQ@mail.gmail.com> <CAKUrXK4AjLy+KQYj8A4TrhG+S2TEhBqABz3T1gUCCPJ6k-OHqQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1434399472;
	bh=21HhJCNMY+/1NBI88CVeIm6e8oYqaKjoiAnJZgvZLJw=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=gp1ef8kY+CYdYtkA4lgC3S0iPPGYhxoRUnlPSDJT6dBcFWoS+j/9lRdGkOKsAA9Jp
	 Sq3qBw1tA4DE5gnNkbCcToUzG0VbyrLa4lOSxT/WQ/sniOH4bFTmL+EvOCYqA8/TDA
	 HF/NLEIDgfOlLLdJmlp91CBde3a9lXjQOnDqgkXhA8jOoK2heZrlyklV31l9t1ehA5
	 KrvR1HfRUfKx9WAtLOOfApUTHxjkQnWjzoK9Dd8shcEyJTaG/1eKIrDkCDB1kyiXdx
	 J+QyKfEB8ApSMGQqGkCW0+pPt/UVHUXBcnVwqxeTjGqlOIdkQTlkLjqrx5LrT8OIkC
	 tMWlW9VEvFs6w==
X-Virus-Checked: Checked by ClamAV on apache.org


>=20
> 1.3 (or 1.3-based servers) put whitespace there.
> 1.3.x, 2.0.x, 2.2.x, and 2.4.x (for all released x so far) accepts =
whitespace there.
> We can't change that by default in a stable branch.
>=20

++1


From dev-return-83022-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 15 23:11:04 2015
Return-Path: <dev-return-83022-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D677A173CD
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 15 Jun 2015 23:11:04 +0000 (UTC)
Received: (qmail 73503 invoked by uid 500); 15 Jun 2015 23:11:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 73443 invoked by uid 500); 15 Jun 2015 23:11:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 73433 invoked by uid 99); 15 Jun 2015 23:11:04 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 15 Jun 2015 23:11:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D1335182811
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 23:11:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.099
X-Spam-Level:
X-Spam-Status: No, score=-0.099 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=gbiv.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id kLZwzUgL1VBf for <dev@httpd.apache.org>;
	Mon, 15 Jun 2015 23:10:48 +0000 (UTC)
Received: from homiemail-a33.g.dreamhost.com (sub4.mail.dreamhost.com [69.163.253.135])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 2C70B20DC7
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 23:10:48 +0000 (UTC)
Received: from homiemail-a33.g.dreamhost.com (localhost [127.0.0.1])
	by homiemail-a33.g.dreamhost.com (Postfix) with ESMTP id 092C459407D
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 16:10:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed; d=gbiv.com; h=content-type
	:mime-version:subject:from:in-reply-to:date
	:content-transfer-encoding:message-id:references:to; s=gbiv.com;
	 bh=l0EbD3ju3YKpEwFp7mHJ0D98jD0=; b=bqmfdylZWRdqiWcshw8UqSwdOjPP
	TU0hHYl2m09044nsuBzInbhoQDzIUbdtRIjLOgghcJA6M3N8uCH0oBsbtMfZp/6c
	/X9M5G4M7uof5TR4e/hVcemSzCpq2Cvrt2QinZozqI/QSaMzKSO2q+lXRc6bSEyD
	jWYZKBBhJ0HXaZc=
Received: from [192.168.1.2] (ip68-228-83-124.oc.oc.cox.net [68.228.83.124])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	(Authenticated sender: fielding@gbiv.com)
	by homiemail-a33.g.dreamhost.com (Postfix) with ESMTPSA id EC7D359405E
	for <dev@httpd.apache.org>; Mon, 15 Jun 2015 16:10:10 -0700 (PDT)
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: TWS ";" LWS permitted by RFC 7230 4.1.1? Apparently, no.
From: "Roy T. Fielding" <fielding@gbiv.com>
In-Reply-To: <CACsi250v5NigStvfr1bYY_RTQDd-gmymSgc2O=zjBARwyd0fhQ@mail.gmail.com>
Date: Mon, 15 Jun 2015 16:10:10 -0700
Content-Transfer-Encoding: quoted-printable
Message-Id: <4D5BC7FA-76AB-417A-8733-9023B669FB0C@gbiv.com>
References: <CACsi250v5NigStvfr1bYY_RTQDd-gmymSgc2O=zjBARwyd0fhQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)

> On Jun 15, 2015, at 9:33 AM, William A Rowe Jr <wrowe@rowe-clan.net> =
wrote:
>=20
> Reviewing the spec, I cannot find where Sambar server is permitted to =
insert whitespace. I further reviewed the ABNF appendix, and it does not =
appear there, either.

Right, this was a deliberate decision to reduce the number of infinite =
stream possibilities.
We can still read a few SP and discard for robustness, but it should be =
limited to the same
few characters as leading zeros.

Sambar Server has been EOL for 7 years with no available source code for =
review, so it's
behavior is no longer relevant to the standard.

....Roy


From dev-return-83023-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 16 10:10:43 2015
Return-Path: <dev-return-83023-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4C39418AC0
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 16 Jun 2015 10:10:43 +0000 (UTC)
Received: (qmail 22633 invoked by uid 500); 16 Jun 2015 10:10:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 22554 invoked by uid 500); 16 Jun 2015 10:10:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 22544 invoked by uid 99); 16 Jun 2015 10:10:42 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Jun 2015 10:10:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id ADC21182829
	for <dev@httpd.apache.org>; Tue, 16 Jun 2015 10:10:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.473
X-Spam-Level:
X-Spam-Status: No, score=0.473 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RDNS_DYNAMIC=0.363, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	STOX_REPLY_TYPE=0.212] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id fwmBB9tCynEA for <dev@httpd.apache.org>;
	Tue, 16 Jun 2015 10:10:40 +0000 (UTC)
Received: from land10web.com (a80-101-236-247.adsl.xs4all.nl [80.101.236.247])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 454164545A
	for <dev@httpd.apache.org>; Tue, 16 Jun 2015 10:10:40 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1434449440;
	bh=57kFEEUeAaXO7tFWWA8nsuvrIMDkdG9+z9YlMpjOJj8=;
	h=From:To:References:In-Reply-To:Subject:Date;
	b=qLXvhbziX7dlG2H5nbcC1PNg1Sdzl6TpScTME5aYqlbB/KhYMqZwErqBdrHaM7ysH
	 NbzgdH90WVDl3Ubiqm9NBaQLQMDBSI8feTZpZath0MUvnv8Ag08BWV1n0kEq4GNwOM
	 8R8mOkzs4v8g1R3s5IuZKwehGiLAX4dAf15Sjf5k=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <FB1A6FB8F6F046AAA243E9583A4CA9BD@father>
From: "Steffen" <info@apachelounge.com>
To: <dev@httpd.apache.org>
References: <557c69ef.7f0.20b8.5028@land10.nl><CAKUrXK5LoYnMXecuA6aGOcgeQtRf4rvQsWo2UVz3FHs0e8Hjfg@mail.gmail.com><CAKQ1sVMnaiOO5QLy2rBnFLCYcTtJC7UUCba=YMafvJPBwLh8UA@mail.gmail.com><CAKUrXK7rMMHwb76kXA99VAa3S_=ZjZYvDxx7zrapjqtpK=Hnpw@mail.gmail.com><CAKQ1sVORe6azkpk9i3RX-HNzJDctKPbrm1+hCkU_qROr+bVmaw@mail.gmail.com><CAKUrXK65C5oQzAn_C5A_b_OyCaTpY6AV0505ds818U2VP=Cr2g@mail.gmail.com> <CAKQ1sVNnF_xhnXRLyLfwBfkXh9ALYv-obiNSUddD8chTLeAkng@mail.gmail.com>
In-Reply-To: <CAKQ1sVNnF_xhnXRLyLfwBfkXh9ALYv-obiNSUddD8chTLeAkng@mail.gmail.com>
Subject: Re: ********* Re: [VOTE] Release Apache httpd 2.4.14 as GA
Date: Tue, 16 Jun 2015 12:10:01 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="utf-8";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

Works with 2.4.x patch: 
http://people.apache.org/~ylavic/httpd-2.4.x-ap_http_filter_chunked.patch

-----Original Message----- 
From: Yann Ylavic
Sent: Sunday, June 14, 2015 3:27 AM Newsgroups: gmane.comp.apache.devel
To: dev@httpd.apache.org
Subject: Re: ********* Re: [VOTE] Release Apache httpd 2.4.14 as GA

On Sun, Jun 14, 2015 at 2:43 AM, Jeff Trawick <trawick@gmail.com> wrote:
> On Sat, Jun 13, 2015 at 8:25 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>> On Sun, Jun 14, 2015 at 2:18 AM, Jeff Trawick <trawick@gmail.com> wrote:
>> > On Sat, Jun 13, 2015 at 7:52 PM, Yann Ylavic <ylavic.dev@gmail.com>
>> > wrote:
>> >>
>> >> On Sat, Jun 13, 2015 at 8:49 PM, Jeff Trawick <trawick@gmail.com>
>> >> wrote:
>> >> >
>> >> > Those that know the original patch would presumably have a better 
>> >> > way
>> >> > to
>> >> > code this.
>> >> >
>> >> > I recall that httpd 1.3 generally added whitespace after the chunk
>> >> > size
>> >> > as
>> >> > an optimization (pre-allocating space in BUFF for the largest
>> >> > possible
>> >> > chunk
>> >> > size I guess).  Is it appropriate to allow whitespace both before 
>> >> > and
>> >> > after?
>> >> > The patch above only allows it after.
>> >>
>> >> Committed in r1685345, by allowing both space and tab, before and
>> >> after the chunk-size.
>> >> Thinking more about it, I see no reason to allow spaces before
>> >> (especially if there is no compatibility issue), we probably should
>> >> revert that part.
>> >> Opinions?
>> >
>> >
>> > 2.2 doesn't accept space or tab before the chunk size, so we don't need
>> > to
>> > accept that.
>>
>> OK, fixed in r1685347.
>
>
> Works for me :)

Backports to 2.4.x and 2.2.x proposed.
Thanks! 


From dev-return-83024-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 16 11:39:13 2015
Return-Path: <dev-return-83024-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 44E9D18D41
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 16 Jun 2015 11:39:13 +0000 (UTC)
Received: (qmail 7500 invoked by uid 500); 16 Jun 2015 11:39:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 7438 invoked by uid 500); 16 Jun 2015 11:39:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 7428 invoked by uid 99); 16 Jun 2015 11:39:12 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Jun 2015 11:39:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 62177CE2D7
	for <dev@httpd.apache.org>; Tue, 16 Jun 2015 11:39:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id Y8P2ziNZaAjL for <dev@httpd.apache.org>;
	Tue, 16 Jun 2015 11:39:06 +0000 (UTC)
Received: from mail-ig0-f171.google.com (mail-ig0-f171.google.com [209.85.213.171])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 5808A4E5D9
	for <dev@httpd.apache.org>; Tue, 16 Jun 2015 11:39:06 +0000 (UTC)
Received: by igblz2 with SMTP id lz2so11707480igb.1
        for <dev@httpd.apache.org>; Tue, 16 Jun 2015 04:39:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=rQQMGc00JCSw4VVeaOxFd827c2pPDvGa5T9los3hAMk=;
        b=IMt4GCtYgCYMc+hdtBT6SmSG5XbPt6OJarxA9EbBZhPuVcYzhTbnLMxLHQ+bftUIoV
         7kEs7zC0O47A3drA9HhIWihn/MLez3B2ZbBGiJ3+seByvqkGLcU6O4aGxhKlNOSDzF6G
         o62HxmvW6OnfZt4BaphvF+sVipVDQbHcFUvbUinAO/yKI1jw8nkVGDOKIEa0hRky//bN
         JUShKQVaOReojMbs44Fr2McMxwJBndsBNyRRbOX6OJSnMZZdi1SttEQduMBJzTlz6Dpy
         yWVi1EMjNM+zNmHt0/Qg8Z8LcGxkA9fHiZjpz934QDgcBgzKrbAIhxSkNmQps9S6fCHH
         7ElQ==
MIME-Version: 1.0
X-Received: by 10.50.62.148 with SMTP id y20mr6539098igr.17.1434454740279;
 Tue, 16 Jun 2015 04:39:00 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Tue, 16 Jun 2015 04:39:00 -0700 (PDT)
In-Reply-To: <557F0A42.2020002@gmx.de>
References: <CAKQ1sVNdzPCO_d5+nP6LUWg+gS6bAA=r=semHA3Y7UJuxeF6WA@mail.gmail.com>
	<557D661F.6040301@gknw.net>
	<CAKQ1sVNpU81PkSZWWGjqFyQ5bBi7-pM661aQ0i0HO6v-HtRBVQ@mail.gmail.com>
	<557E26E2.9060107@gknw.net>
	<557E2C18.6030404@gknw.net>
	<557F0A42.2020002@gmx.de>
Date: Tue, 16 Jun 2015 13:39:00 +0200
Message-ID: <CAKQ1sVNd1cLJw_VDeGA6KRNkNZ8S85s4=YtfRw1YPWrXfBZgow@mail.gmail.com>
Subject: Re: SSLCertificateChainFile deprecation, still (was: svn commit:
 r1685371 - /httpd/httpd/branches/2.4.x/STATUS)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Mon, Jun 15, 2015 at 7:24 PM, olli hauer <ohauer@gmx.de> wrote:
>
> As a side note, even I've read the Release Notes I was thankful to see my console was trashed with the deprecation warning ;)
>
> What I miss is a section on httpd.apache.org/docs/2.4/ with a link list what has changed since which release.
> For example there are section "New features with Apache .." and "Upgrading to 2.4 from 2.2" but no section like
>
>  Deprecated / Important changes between 2.4.x and 2.4.y
>   - mod_cgi: use of the magic mime-type is deprecated
>   - mod_ssl: SSLCertificateChainFile is deprecated
>              SSLRequire is deprecated
>   - mod_ldap: (ldaps://) support has been deprecated to be replaced with TLS
>   - mod_access_compat: deprecated by the new authz refactoring
>   - ...
>
>
> I'm really not a good technical writer, but if such a list is welcome I will try to do my best to send a patch

A patch for a dedicated section or a sub one in "Upgrading to 2.4 from
2.2" in very welcome ;)

From dev-return-83025-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 16 13:53:21 2015
Return-Path: <dev-return-83025-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6E203183AE
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 16 Jun 2015 13:53:21 +0000 (UTC)
Received: (qmail 50052 invoked by uid 500); 16 Jun 2015 13:53:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49980 invoked by uid 500); 16 Jun 2015 13:53:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49969 invoked by uid 99); 16 Jun 2015 13:53:20 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Jun 2015 13:53:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id CEE291A5708
	for <dev@httpd.apache.org>; Tue, 16 Jun 2015 13:53:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id j2RlBJHkWF7Z for <dev@httpd.apache.org>;
	Tue, 16 Jun 2015 13:53:05 +0000 (UTC)
Received: from mail-ig0-f177.google.com (mail-ig0-f177.google.com [209.85.213.177])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 88A0727DD4
	for <dev@httpd.apache.org>; Tue, 16 Jun 2015 13:53:04 +0000 (UTC)
Received: by igbos3 with SMTP id os3so44039113igb.0
        for <dev@httpd.apache.org>; Tue, 16 Jun 2015 06:53:03 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=oP3oUREt1oS+3HCd6Dn2I2c/0i6JzHiqQ13xhr4K92Y=;
        b=hBnk5sO9dt0K0PYCapDqiaBQTMYF/6iRx2jJ+g7QkQUB99MxhZWwJ0FkCDqHPj0pz4
         W65k4gMrBYOToO4Y5dTpdMsOTDVeJH13eSVeuXhdo0yGCSnMm57OcWkPJ2iJyTejESJK
         oMprVA093ElOWiYOEFHwXez8O7GeVCLTBrFpBp1iToq5oZ0q9ZY3s3Rg/fEIy6D+9d4R
         nbllQKXS3fT+b9Zk38eKcPCw9rwusJz+8KkRze/LOKmO5943yl9rRSJ+2QhLSwG7lUv3
         8QFN/0/QbFZUfT/8rLODcwvLqUAYLfVUPZuLqOalQJa3nc60s5WJZOS4AfuIZdpx4LDm
         NBiA==
X-Gm-Message-State: ALoCoQkP4imFPbcu4+ks7yYF9Ghu60AZ+yROFPx623KZsrFGTkpDDhiYe6mKlD3WOIHm3GzEd5Zc
MIME-Version: 1.0
X-Received: by 10.50.13.10 with SMTP id d10mr28058819igc.20.1434462783453;
 Tue, 16 Jun 2015 06:53:03 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Tue, 16 Jun 2015 06:53:03 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
Received: by 10.107.190.195 with HTTP; Tue, 16 Jun 2015 06:53:03 -0700 (PDT)
In-Reply-To: <4D5BC7FA-76AB-417A-8733-9023B669FB0C@gbiv.com>
References: <CACsi250v5NigStvfr1bYY_RTQDd-gmymSgc2O=zjBARwyd0fhQ@mail.gmail.com>
	<4D5BC7FA-76AB-417A-8733-9023B669FB0C@gbiv.com>
Date: Tue, 16 Jun 2015 08:53:03 -0500
Message-ID: <CACsi2528LYL_izaNdFp7axp8CTD1CtuohdAkgz7ommRwvTDHhw@mail.gmail.com>
Subject: Re: TWS ";" LWS permitted by RFC 7230 4.1.1? Apparently, no.
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e01184874a704f10518a2e4a6

--089e01184874a704f10518a2e4a6
Content-Type: text/plain; charset=UTF-8

On Jun 15, 2015 6:11 PM, "Roy T. Fielding" <fielding@gbiv.com> wrote:
>
> > On Jun 15, 2015, at 9:33 AM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:
> >
> > Reviewing the spec, I cannot find where Sambar server is permitted to
insert whitespace. I further reviewed the ABNF appendix, and it does not
appear there, either.
>
> Right, this was a deliberate decision to reduce the number of infinite
stream possibilities.
> We can still read a few SP and discard for robustness, but it should be
limited to the same
> few characters as leading zeros.

So as things stand, this is BWS (or just drop the W :)  As such we don't
pass it through verbatim, so we are honoring the BWS contract of not
repeating the mistake.  With HttpStrict on head, we can return to Yann's
original proposal of treating such headers as errors.

> Sambar Server has been EOL for 7 years with no available source code for
review, so it's
> behavior is no longer relevant to the standard.

+1

--089e01184874a704f10518a2e4a6
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr"><br>
On Jun 15, 2015 6:11 PM, &quot;Roy T. Fielding&quot; &lt;<a href=3D"mailto:=
fielding@gbiv.com">fielding@gbiv.com</a>&gt; wrote:<br>
&gt;<br>
&gt; &gt; On Jun 15, 2015, at 9:33 AM, William A Rowe Jr &lt;<a href=3D"mai=
lto:wrowe@rowe-clan.net">wrowe@rowe-clan.net</a>&gt; wrote:<br>
&gt; &gt;<br>
&gt; &gt; Reviewing the spec, I cannot find where Sambar server is permitte=
d to insert whitespace. I further reviewed the ABNF appendix, and it does n=
ot appear there, either.<br>
&gt;<br>
&gt; Right, this was a deliberate decision to reduce the number of infinite=
 stream possibilities.<br>
&gt; We can still read a few SP and discard for robustness, but it should b=
e limited to the same<br>
&gt; few characters as leading zeros.</p>
<p dir=3D"ltr">So as things stand, this is BWS (or just drop the W :)=C2=A0=
 As such we don&#39;t pass it through verbatim, so we are honoring the BWS =
contract of not repeating the mistake.=C2=A0 With HttpStrict on head, we ca=
n return to Yann&#39;s original proposal of treating such headers as errors=
.</p>
<p dir=3D"ltr">&gt; Sambar Server has been EOL for 7 years with no availabl=
e source code for review, so it&#39;s<br>
&gt; behavior is no longer relevant to the standard.</p>
<p dir=3D"ltr">+1</p>

--089e01184874a704f10518a2e4a6--

From dev-return-83026-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 16 14:19:34 2015
Return-Path: <dev-return-83026-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 240E41850C
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 16 Jun 2015 14:19:34 +0000 (UTC)
Received: (qmail 24658 invoked by uid 500); 16 Jun 2015 14:19:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 24582 invoked by uid 500); 16 Jun 2015 14:19:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 24572 invoked by uid 99); 16 Jun 2015 14:19:33 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Jun 2015 14:19:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 40AF2C08EB
	for <dev@httpd.apache.org>; Tue, 16 Jun 2015 14:19:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.991
X-Spam-Level:
X-Spam-Status: No, score=0.991 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, T_RP_MATCHES_RCVD=-0.01,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id RBYcAs7vLArs for <dev@httpd.apache.org>;
	Tue, 16 Jun 2015 14:19:27 +0000 (UTC)
Received: from mx1.cyber.ee (mx1.cyber.ee [195.50.202.72])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 29AD6214DE
	for <dev@httpd.apache.org>; Tue, 16 Jun 2015 14:19:27 +0000 (UTC)
Date: Tue, 16 Jun 2015 17:18:56 +0300 (EEST)
From: Meelis Roos <mroos@cyber.ee>
To: dev@httpd.apache.org
Subject: OCSP validation of client leaf certificates only
Message-ID: <alpine.DEB.2.11.1506161718370.5176@people.cyber.ee>
User-Agent: Alpine 2.11 (DEB 23 2013-08-11)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed

Hello.

We (Cybernetica AS) would like to add a feature to the Apache httpd mod_ssl 
module. This mail is about asking for advice and feasibility.

We have a client who has a probem with CA chains. They have a local CA, local 
CA issues client certificates. Local CA has working OCSP responder and the 
client certs have AIA extemsion with OCSP URL. The CA chain continues up to 
other organizations and at least one upper level subCA has no OCSP responder 
that can answer about its validity (Root CA has no OCSP for its client subca 
certificates).

In this situation, it seems impossible to enable OCSP client certificate 
checking. If we enable SSLOCSPEnable, OCSP is required for all certs in the 
client-supplied chain up to trusted root. This is a problem with multiple 
popular browsers - at least Safari and Chrome send full cert chain from client 
cert to root cert, and it cannot be verified. Firefox sends cert chain only up 
to the CA advertised by mod_ssl and this works (buth they can not create a site 
working with single browser only).

So we propose to write a patch to mod_ssl to add a configuration option for 
OCSP to enable only leaf certificate checking, not the full chain (or checking 
up to toe CA advertised to clients, not the root CA) - similarly to 
"SSLCARevocationCheck leaf" (and please tell me if there is a better approach).

Now, my question - if we implement it accordingly to Apache coding conventions, 
is this a kind of feature that would be accepted to Apache httpd upstream?

-- 
Meelis Roos <mroos@cyber.ee>
security engineer
Cybernetica AS
Estonia

From dev-return-83027-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 16 17:22:38 2015
Return-Path: <dev-return-83027-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B9EC518DD8
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 16 Jun 2015 17:22:38 +0000 (UTC)
Received: (qmail 46526 invoked by uid 500); 16 Jun 2015 17:22:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46452 invoked by uid 500); 16 Jun 2015 17:22:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46442 invoked by uid 99); 16 Jun 2015 17:22:38 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Jun 2015 17:22:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id B2E9A1A5B7A
	for <dev@httpd.apache.org>; Tue, 16 Jun 2015 17:22:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id iArBzBllRX1D for <dev@httpd.apache.org>;
	Tue, 16 Jun 2015 17:22:31 +0000 (UTC)
Received: from resqmta-ch2-11v.sys.comcast.net (resqmta-ch2-11v.sys.comcast.net [69.252.207.43])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 9D009215CB
	for <dev@httpd.apache.org>; Tue, 16 Jun 2015 17:22:30 +0000 (UTC)
Received: from resomta-ch2-08v.sys.comcast.net ([69.252.207.104])
	by resqmta-ch2-11v.sys.comcast.net with comcast
	id h5Jx1q00B2Fh1PH015NN5R; Tue, 16 Jun 2015 17:22:22 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-08v.sys.comcast.net with comcast
	id h5NM1q00W2U0RYt015NN0j; Tue, 16 Jun 2015 17:22:22 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: TWS ";" LWS permitted by RFC 7230 4.1.1? Apparently, no.
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <54FFE4AE-7761-48A8-97BD-737FB53E22AC@jaguNET.com>
Date: Tue, 16 Jun 2015 13:22:21 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <389F061E-8BED-47FE-B55F-0B2F40F5AF83@jaguNET.com>
References: <CACsi250v5NigStvfr1bYY_RTQDd-gmymSgc2O=zjBARwyd0fhQ@mail.gmail.com> <CAKUrXK4AjLy+KQYj8A4TrhG+S2TEhBqABz3T1gUCCPJ6k-OHqQ@mail.gmail.com> <54FFE4AE-7761-48A8-97BD-737FB53E22AC@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1434475342;
	bh=TnIKmbIMrnwqFrkyf9Ejoa21La53TXp99UsIFUPgRFI=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=Fdebzs/WAl2C6Eeo9yIhz79I31jteBgvH2H4sjr6gpBFC0+NZi3vhOgyb8LDnpjLJ
	 UC+a6HJVI+fNZ1cQsgpaxY4oha0bOtH2Y1AJquJkf1bg2f5pwkkqtQYmOKHN+P29L2
	 jF5fz8WfiepUAubYiTGAx4y3xOJzHmcn+5SBI6Lr60wF1e4vdtZDopESAXMXhWPPYM
	 Sx64OkLvXNA2/As1XEz0GU/prxJXcuUb2a3Mq0xnYxZwCsSk/jZuVHqTwIpwBFzCj5
	 YgHI8y+Mb+wLwgsuA2EJGWcEPTJRppqLVjiAyMjIkBQSsrstl9W4xd9zxvDOZ+cR+R
	 wgqjqQvJSmh+A==

Sooo.... in order to get 2.4.15 out, it would be nice to have
a patch :)

From dev-return-83028-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 16 17:31:28 2015
Return-Path: <dev-return-83028-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E18EF18E58
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 16 Jun 2015 17:31:27 +0000 (UTC)
Received: (qmail 83943 invoked by uid 500); 16 Jun 2015 17:31:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83883 invoked by uid 500); 16 Jun 2015 17:31:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 83872 invoked by uid 99); 16 Jun 2015 17:31:27 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Jun 2015 17:31:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 020FBC0953
	for <dev@httpd.apache.org>; Tue, 16 Jun 2015 17:31:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.208
X-Spam-Level:
X-Spam-Status: No, score=-1.208 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id druFHzKpreG8 for <dev@httpd.apache.org>;
	Tue, 16 Jun 2015 17:31:22 +0000 (UTC)
Received: from mail-ig0-f176.google.com (mail-ig0-f176.google.com [209.85.213.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 4E66624CEA
	for <dev@httpd.apache.org>; Tue, 16 Jun 2015 17:31:21 +0000 (UTC)
Received: by igbzc4 with SMTP id zc4so84278982igb.0
        for <dev@httpd.apache.org>; Tue, 16 Jun 2015 10:31:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=ECRoHtaixXc1ClqkgTbEMa/aypinm2l3NqPMFouGGAk=;
        b=VO8YnPrL0BwdWHsQILD1zqSU8LOKMHy2jSSkOzZllV5AHUykjNBn5psUIRDDH94ORb
         1yBScWAG7wBcEYIbZUKpV53pnyQzEvLLR1STK9ntQGHeknsLkTIFTsBwgMR4RnbToqFu
         m3dP15nCXuGrmrvPHLf10NIVdrKhldSda/LKONbTmZ/1/WVHwDWz88QI4R0G02aowN8H
         ziKmZJd7NGUjZMi2evgNK0xIKV/coa7oKez3djP17N44wLXNOz00agCmQ3mdhUveyqGs
         4mKgV5fm8OnAS2th/lM3IaKDKOvRtdjAncixbJMj+BeFDMWkAMsJFXgLt2gZ33XksWXs
         ZO7w==
MIME-Version: 1.0
X-Received: by 10.107.137.22 with SMTP id l22mr2026951iod.21.1434475874121;
 Tue, 16 Jun 2015 10:31:14 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Tue, 16 Jun 2015 10:31:14 -0700 (PDT)
In-Reply-To: <389F061E-8BED-47FE-B55F-0B2F40F5AF83@jaguNET.com>
References: <CACsi250v5NigStvfr1bYY_RTQDd-gmymSgc2O=zjBARwyd0fhQ@mail.gmail.com>
	<CAKUrXK4AjLy+KQYj8A4TrhG+S2TEhBqABz3T1gUCCPJ6k-OHqQ@mail.gmail.com>
	<54FFE4AE-7761-48A8-97BD-737FB53E22AC@jaguNET.com>
	<389F061E-8BED-47FE-B55F-0B2F40F5AF83@jaguNET.com>
Date: Tue, 16 Jun 2015 19:31:14 +0200
Message-ID: <CAKQ1sVPgW6MBCS-Jp0aZ4uB3YVUHZ354RgdTFk2mLpW6+tkEEQ@mail.gmail.com>
Subject: Re: TWS ";" LWS permitted by RFC 7230 4.1.1? Apparently, no.
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Tue, Jun 16, 2015 at 7:22 PM, Jim Jagielski <jim@jagunet.com> wrote:
> Sooo.... in order to get 2.4.15 out, it would be nice to have
> a patch :)

Isn't the one proposed in STATUS suitable (section SHOWSTOPPERS)?
It has been positively tested by Steffen in [1] and also passes the
new framework tests from [2].

[1] http://mail-archives.apache.org/mod_mbox/httpd-dev/201506.mbox/%3CFB1A6FB8F6F046AAA243E9583A4CA9BD%40father%3E
[2] http://svn.apache.org/r1685463

From dev-return-83029-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 16 18:09:32 2015
Return-Path: <dev-return-83029-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3973118029
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 16 Jun 2015 18:09:32 +0000 (UTC)
Received: (qmail 86115 invoked by uid 500); 16 Jun 2015 18:09:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86048 invoked by uid 500); 16 Jun 2015 18:09:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86038 invoked by uid 99); 16 Jun 2015 18:09:31 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Jun 2015 18:09:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 25F141A563E
	for <dev@httpd.apache.org>; Tue, 16 Jun 2015 18:09:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id ZvL188juNxlc for <dev@httpd.apache.org>;
	Tue, 16 Jun 2015 18:09:23 +0000 (UTC)
Received: from mail-ig0-f177.google.com (mail-ig0-f177.google.com [209.85.213.177])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 3D97925016
	for <dev@httpd.apache.org>; Tue, 16 Jun 2015 18:09:22 +0000 (UTC)
Received: by igbsb11 with SMTP id sb11so20126428igb.0
        for <dev@httpd.apache.org>; Tue, 16 Jun 2015 11:09:21 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=C6yTdkbcHZ+8GAEN0RaoF1FHAKoNJ2YiYK8uoI8/3bM=;
        b=XgMWt8lyUOmrNGDThU+JfdQRs+uHy6yGBGdRnGRYiqM8NCK4J/m+0RzMryObcMB7Z6
         +b5xEF+tWWd1+pUx+2NFCyYGxBUnMWv5yWSLCTgYRgGaVAaIfZ+Cw/w7Kv7EpUxBeBS2
         jm30nhjq2MfsjP+MccFBu9cZjzJlOiJigy4pagDzELHnOBLsT54AxjBPdFIJ+eB/0eDU
         avtjPg4S+5yz8Mru3CBTb/iHF1lPDKW55HlpqOfUGXZpJPBZplO8bskVyourGxHzXC2F
         HBJlADX5nX6xTafMvreFnZmAHpDo2tC5Anw4BJAU4/yiztocgQQgOPGg+vYFnJCmMg6p
         eGvw==
X-Gm-Message-State: ALoCoQkaJB/atu4pnHv0h+IgbTv3bd1ECSmMo96UGuSan440jOVCSxBCqlMdafopiuDrKTGBiicd
MIME-Version: 1.0
X-Received: by 10.107.152.14 with SMTP id a14mr2212491ioe.92.1434478161156;
 Tue, 16 Jun 2015 11:09:21 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Tue, 16 Jun 2015 11:09:20 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <CAKQ1sVPgW6MBCS-Jp0aZ4uB3YVUHZ354RgdTFk2mLpW6+tkEEQ@mail.gmail.com>
References: <CACsi250v5NigStvfr1bYY_RTQDd-gmymSgc2O=zjBARwyd0fhQ@mail.gmail.com>
	<CAKUrXK4AjLy+KQYj8A4TrhG+S2TEhBqABz3T1gUCCPJ6k-OHqQ@mail.gmail.com>
	<54FFE4AE-7761-48A8-97BD-737FB53E22AC@jaguNET.com>
	<389F061E-8BED-47FE-B55F-0B2F40F5AF83@jaguNET.com>
	<CAKQ1sVPgW6MBCS-Jp0aZ4uB3YVUHZ354RgdTFk2mLpW6+tkEEQ@mail.gmail.com>
Date: Tue, 16 Jun 2015 13:09:20 -0500
Message-ID: <CACsi25250e0Maht_=3qQMytHRvrrP+gyb8WVhS1PqZm3oumuGw@mail.gmail.com>
Subject: Re: TWS ";" LWS permitted by RFC 7230 4.1.1? Apparently, no.
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11409f183c46b30518a679a3

--001a11409f183c46b30518a679a3
Content-Type: text/plain; charset=UTF-8

Note in STATUS I've requested that you split the approved patch from
security@ that seemed to be lost in long and winding patch versioning from
the spaces accepted.  A patch should correct one thing, not several, it
makes these too difficult to review when folks have a small window of free
time.  Your proposed rolled-up patch didn't correspond to trunk, and the
'parsing' flag seems unnecessary.  Two error messages would have been
easier on reviewers anyways.

Hopefully all constructive criticism easily agreed to?



On Tue, Jun 16, 2015 at 12:31 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> On Tue, Jun 16, 2015 at 7:22 PM, Jim Jagielski <jim@jagunet.com> wrote:
> > Sooo.... in order to get 2.4.15 out, it would be nice to have
> > a patch :)
>
> Isn't the one proposed in STATUS suitable (section SHOWSTOPPERS)?
> It has been positively tested by Steffen in [1] and also passes the
> new framework tests from [2].
>
> [1]
> http://mail-archives.apache.org/mod_mbox/httpd-dev/201506.mbox/%3CFB1A6FB8F6F046AAA243E9583A4CA9BD%40father%3E
> [2] http://svn.apache.org/r1685463
>

--001a11409f183c46b30518a679a3
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Note in STATUS I&#39;ve requested that you split the appro=
ved patch from security@ that seemed to be lost in long and winding patch v=
ersioning from the spaces accepted.=C2=A0 A patch should correct one thing,=
 not several, it makes these too difficult to review when folks have a smal=
l window of free time.=C2=A0 Your proposed rolled-up patch didn&#39;t corre=
spond to trunk, and the &#39;parsing&#39; flag seems unnecessary.=C2=A0 Two=
 error messages would have been easier on reviewers anyways.<div><br></div>=
<div>Hopefully all constructive criticism easily agreed to?<br><div><br></d=
iv><div><br></div></div></div><div class=3D"gmail_extra"><br><div class=3D"=
gmail_quote">On Tue, Jun 16, 2015 at 12:31 PM, Yann Ylavic <span dir=3D"ltr=
">&lt;<a href=3D"mailto:ylavic.dev@gmail.com" target=3D"_blank">ylavic.dev@=
gmail.com</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=
=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><span cl=
ass=3D"">On Tue, Jun 16, 2015 at 7:22 PM, Jim Jagielski &lt;<a href=3D"mail=
to:jim@jagunet.com">jim@jagunet.com</a>&gt; wrote:<br>
&gt; Sooo.... in order to get 2.4.15 out, it would be nice to have<br>
&gt; a patch :)<br>
<br>
</span>Isn&#39;t the one proposed in STATUS suitable (section SHOWSTOPPERS)=
?<br>
It has been positively tested by Steffen in [1] and also passes the<br>
new framework tests from [2].<br>
<br>
[1] <a href=3D"http://mail-archives.apache.org/mod_mbox/httpd-dev/201506.mb=
ox/%3CFB1A6FB8F6F046AAA243E9583A4CA9BD%40father%3E" rel=3D"noreferrer" targ=
et=3D"_blank">http://mail-archives.apache.org/mod_mbox/httpd-dev/201506.mbo=
x/%3CFB1A6FB8F6F046AAA243E9583A4CA9BD%40father%3E</a><br>
[2] <a href=3D"http://svn.apache.org/r1685463" rel=3D"noreferrer" target=3D=
"_blank">http://svn.apache.org/r1685463</a><br>
</blockquote></div><br></div>

--001a11409f183c46b30518a679a3--

From dev-return-83030-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 16 19:51:10 2015
Return-Path: <dev-return-83030-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F14F1185BD
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 16 Jun 2015 19:51:10 +0000 (UTC)
Received: (qmail 26594 invoked by uid 500); 16 Jun 2015 19:51:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 26523 invoked by uid 500); 16 Jun 2015 19:51:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 26513 invoked by uid 99); 16 Jun 2015 19:51:10 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Jun 2015 19:51:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 05713182829
	for <dev@httpd.apache.org>; Tue, 16 Jun 2015 19:51:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0
X-Spam-Level:
X-Spam-Status: No, score=0 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id xhZqdC-3JMtv for <dev@httpd.apache.org>;
	Tue, 16 Jun 2015 19:51:02 +0000 (UTC)
Received: from mout.gmx.net (mout.gmx.net [212.227.15.15])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 90399216F2
	for <dev@httpd.apache.org>; Tue, 16 Jun 2015 19:51:01 +0000 (UTC)
Received: from [192.168.0.100] ([87.139.233.65]) by mail.gmx.com (mrgmx003)
 with ESMTPSA (Nemesis) id 0M8ehf-1YscrF0ckN-00wDZ2 for
 <dev@httpd.apache.org>; Tue, 16 Jun 2015 21:50:54 +0200
Message-ID: <55807E1D.6070201@gmx.de>
Date: Tue, 16 Jun 2015 21:50:53 +0200
From: olli hauer <ohauer@gmx.de>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: SSLCertificateChainFile deprecation, still (was: svn commit:
 r1685371 - /httpd/httpd/branches/2.4.x/STATUS)
References: <CAKQ1sVNdzPCO_d5+nP6LUWg+gS6bAA=r=semHA3Y7UJuxeF6WA@mail.gmail.com>	<557D661F.6040301@gknw.net>	<CAKQ1sVNpU81PkSZWWGjqFyQ5bBi7-pM661aQ0i0HO6v-HtRBVQ@mail.gmail.com>	<557E26E2.9060107@gknw.net>	<557E2C18.6030404@gknw.net>	<557F0A42.2020002@gmx.de> <CAKQ1sVNd1cLJw_VDeGA6KRNkNZ8S85s4=YtfRw1YPWrXfBZgow@mail.gmail.com>
In-Reply-To: <CAKQ1sVNd1cLJw_VDeGA6KRNkNZ8S85s4=YtfRw1YPWrXfBZgow@mail.gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit
X-Provags-ID:  V03:K0:LehlC3+8GehjNJa1EbfzVYiuKS1axtIH+h+OaiIW4YH14WWtEI8
 OJ44QDNLCpYwwtqmeSfbo1Z0u6nm7c1SBLmAG+odn1GeJmMb9WO6eWzn48hzRE1ElkIscL0
 a1uTDGLoN0eTG6bijCu7AOb1oXXEsJ994CTUhMQTANndXEBU5QBXXssW8IMSxd5YHWbhjP1
 75RH44b/resBRbMrh8NbQ==
X-UI-Out-Filterresults: notjunk:1;V01:K0:qzTZbYHzm/Y=:zVQe64sIYiMwbL11rE2HkO
 Tq02MYmdKwTO85FMiL6i1aqU1kwUsxUEeiIa5Ir2vgmepwy5gYRay18fwSfXEU1GTCYeTeJuj
 Zv1tgq+ucKB7V7qJN/WWPiB5Fkf+8BXKVKzfEOEnC0kDb8bbrs8YSRxMqpkZ8SNKT9geEaP2T
 7E72JSMn+B6iwttwmTGPjERfdcJtBuRnF/kWKaWnXz0TJdlEbo7CyfokmkmHwuqnGjW3557Wy
 HUm+wudUHAP5PtTJgbYfPby3zM0tV8CtjiXZuWFFiwQqat9Ol9ZBFYGAy9hMwS7GkZGmRwDwh
 BV/3OiEQ1shMF1AtxaKHH9qxmD3orjvM1rg18R5z0tb80fR1eOgjedrbGYczIUHiAa9ZEv3If
 DnSbt0dGGZMwPFE+gnYjPW0LvQMb+SQ9Qm+iYmXYHKcoGgzFBeuQ6dEanNLhV2xAcaVnGCMLq
 9N7ojb+8HsFkc77/E0F6fqFLFP670M0bXGJ0WjoWjDiLShe4mhrJ350Fpqp3JDp4w9+e72uZb
 WLBG6cI0CG807yLlXYxjFzfPAzA8Rr8khvLCsK9aA9m0EgHyvnwi+/Z3ccFjyr8HkSWCY1OEU
 LxKAQIML/v72Ytgt/DDEq0V+87i55oVww1rimPrISO35OfZk0aJ+9rSvfxFdmHirtis2ZLiDp
 XHnXSdaYpwH0uiAoq+9YqWM9DWP4WZMWSIY/zwd4/t9b/3eRv/KUVgqmyYHFQDJmRxFU=

On 2015-06-16 13:39, Yann Ylavic wrote:
> On Mon, Jun 15, 2015 at 7:24 PM, olli hauer <ohauer@gmx.de> wrote:
>>
>> As a side note, even I've read the Release Notes I was thankful to see my console was trashed with the deprecation warning ;)
>>
>> What I miss is a section on httpd.apache.org/docs/2.4/ with a link list what has changed since which release.
>> For example there are section "New features with Apache .." and "Upgrading to 2.4 from 2.2" but no section like
>>
>>  Deprecated / Important changes between 2.4.x and 2.4.y
>>   - mod_cgi: use of the magic mime-type is deprecated
>>   - mod_ssl: SSLCertificateChainFile is deprecated
>>              SSLRequire is deprecated
>>   - mod_ldap: (ldaps://) support has been deprecated to be replaced with TLS
>>   - mod_access_compat: deprecated by the new authz refactoring
>>   - ...
>>
>>
>> I'm really not a good technical writer, but if such a list is welcome I will try to do my best to send a patch
> 
> A patch for a dedicated section or a sub one in "Upgrading to 2.4 from
> 2.2" in very welcome ;)
> 

OK, will try, but it will take some time, I think extending the misc section can be a good place.

Should I also note doc changes only existing in 2.4.x and not in trunk like r1485752?

From dev-return-83031-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 16 20:51:34 2015
Return-Path: <dev-return-83031-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4E90F189E0
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 16 Jun 2015 20:51:34 +0000 (UTC)
Received: (qmail 32994 invoked by uid 500); 16 Jun 2015 20:51:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32923 invoked by uid 500); 16 Jun 2015 20:51:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32913 invoked by uid 99); 16 Jun 2015 20:51:33 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Jun 2015 20:51:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 9A3E2C0953
	for <dev@httpd.apache.org>; Tue, 16 Jun 2015 20:51:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Nh3Ostcbag0Q for <dev@httpd.apache.org>;
	Tue, 16 Jun 2015 20:51:26 +0000 (UTC)
Received: from mail-ig0-f182.google.com (mail-ig0-f182.google.com [209.85.213.182])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 73D4D20DC7
	for <dev@httpd.apache.org>; Tue, 16 Jun 2015 20:51:25 +0000 (UTC)
Received: by igblz2 with SMTP id lz2so23119762igb.1
        for <dev@httpd.apache.org>; Tue, 16 Jun 2015 13:50:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=jlH+sSio14EsF3o0TMqKSgTHaMEK/7yDiz0VQh+VWhk=;
        b=XlkD9Kfx0ALhMJbrzUarmopbbH2xROCzSK1RroaBco+XXh7VSNkiGyd4BFJbpPeapM
         6R7/ijU3UnczRKDzinFw1UkL4VTAEXlg07OOE3QW0nMcXhvyP+88cUbQCiXdr07TFY1B
         kSdjh09dvb49F7HNmpWbxzK9RuJp5JgZnDYtB7kDQTLyZcqM07WtIK9ZEQZXMtQEV6m1
         E1mkF02Ktl4I1hnlmNl5bvNu6ax4NzxDcDMzR8ALwtntPUTFBVLuy0nivLjtivezjk1n
         yd/WfOEK/QcpCSYuhovtjGo2udaMs/fA4T6lwM66qQ7hl8uFRiLebOeM/nwl5x9EhoYI
         HwGQ==
MIME-Version: 1.0
X-Received: by 10.43.162.136 with SMTP id mk8mr5004951icc.28.1434487839355;
 Tue, 16 Jun 2015 13:50:39 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Tue, 16 Jun 2015 13:50:39 -0700 (PDT)
In-Reply-To: <CACsi25250e0Maht_=3qQMytHRvrrP+gyb8WVhS1PqZm3oumuGw@mail.gmail.com>
References: <CACsi250v5NigStvfr1bYY_RTQDd-gmymSgc2O=zjBARwyd0fhQ@mail.gmail.com>
	<CAKUrXK4AjLy+KQYj8A4TrhG+S2TEhBqABz3T1gUCCPJ6k-OHqQ@mail.gmail.com>
	<54FFE4AE-7761-48A8-97BD-737FB53E22AC@jaguNET.com>
	<389F061E-8BED-47FE-B55F-0B2F40F5AF83@jaguNET.com>
	<CAKQ1sVPgW6MBCS-Jp0aZ4uB3YVUHZ354RgdTFk2mLpW6+tkEEQ@mail.gmail.com>
	<CACsi25250e0Maht_=3qQMytHRvrrP+gyb8WVhS1PqZm3oumuGw@mail.gmail.com>
Date: Tue, 16 Jun 2015 22:50:39 +0200
Message-ID: <CAKQ1sVO--iZJKPMm7DnsfRNSgc5EHvadhjt-o6-yRc7ejLw6sA@mail.gmail.com>
Subject: Re: TWS ";" LWS permitted by RFC 7230 4.1.1? Apparently, no.
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Tue, Jun 16, 2015 at 8:09 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
> Note in STATUS I've requested that you split the approved patch from
> security@ that seemed to be lost in long and winding patch versioning from
> the spaces accepted.  A patch should correct one thing, not several, it
> makes these too difficult to review when folks have a small window of free
> time.  Your proposed rolled-up patch didn't correspond to trunk, and the
> 'parsing' flag seems unnecessary.  Two error messages would have been easier
> on reviewers anyways.
>
> Hopefully all constructive criticism easily agreed to?

No pb, that's how things go ahead!

I can certainly split the patch (i.e. the two first hunks only address
the 2.4.14's "defect") and commit what's already accepted from patch
v5 (the three remaining hunks).
The latter however includes the 'parsing' flag which is meant
precisely to address the different semantic between trunk and 2.4.x
(so far): in 2.4.x the parsing errors are handled by
bail_out_on_error() whereas in trunk the caller decides (eg. a handler
can return a HTTP status and hence, possibly, an ErrorDocument...).
Without the 'parsing' flag, we'd also have to use two separate log
messages (with a new AH for 2.4.x only), so I think it also helps
commonality between the two codes (that could be addressed by
splitting the same way in trunk though...).

BTW, I do that now.

From dev-return-83032-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 16 21:30:18 2015
Return-Path: <dev-return-83032-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8907118B89
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 16 Jun 2015 21:30:18 +0000 (UTC)
Received: (qmail 30048 invoked by uid 500); 16 Jun 2015 21:30:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29989 invoked by uid 500); 16 Jun 2015 21:30:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29979 invoked by uid 99); 16 Jun 2015 21:30:18 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 16 Jun 2015 21:30:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 6B85F1A5B49
	for <dev@httpd.apache.org>; Tue, 16 Jun 2015 21:30:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id jIFRO7qbJgt0 for <dev@httpd.apache.org>;
	Tue, 16 Jun 2015 21:30:11 +0000 (UTC)
Received: from mail-ig0-f181.google.com (mail-ig0-f181.google.com [209.85.213.181])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 99B3924972
	for <dev@httpd.apache.org>; Tue, 16 Jun 2015 21:30:11 +0000 (UTC)
Received: by igbzc4 with SMTP id zc4so89136045igb.0
        for <dev@httpd.apache.org>; Tue, 16 Jun 2015 14:30:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Lu/gDw+qqOyxJPKpHAlf2xsD1zZljWtQdwcUPJf976U=;
        b=WH/B56jtBNknkY2WJFRwMSAXuZRVGC9TQPpHlCHpGvAzU34cPWaZp+qxh6dJIsXMgv
         NoUinB4zX2Kp3bZP0Z3qKEe6db5z5SeHfKRuaxjFyhlLivT4ef0h8u3u7/rKyGGtVHFZ
         XIcznRKAWsjpkSDIgwp3ZjOk3lptGQkHMby68WFPRB5XYG3UG8sY87f/ZB6jgZoyFQvT
         1mbod1q6alMiGMLBykKsvSiBxBHFFg/eXt6WKN8TKZSSYJkytW8rPX3k0QSXVlMN40u8
         xW+Rpun7IOyl2s1BcnDKTwbr/Vb6R832HpOobT3hTqWEinuIkdTFi0j8TuxJt7LD1XiP
         eW0g==
MIME-Version: 1.0
X-Received: by 10.43.162.136 with SMTP id mk8mr5169496icc.28.1434490211120;
 Tue, 16 Jun 2015 14:30:11 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Tue, 16 Jun 2015 14:30:11 -0700 (PDT)
In-Reply-To: <CAKQ1sVO--iZJKPMm7DnsfRNSgc5EHvadhjt-o6-yRc7ejLw6sA@mail.gmail.com>
References: <CACsi250v5NigStvfr1bYY_RTQDd-gmymSgc2O=zjBARwyd0fhQ@mail.gmail.com>
	<CAKUrXK4AjLy+KQYj8A4TrhG+S2TEhBqABz3T1gUCCPJ6k-OHqQ@mail.gmail.com>
	<54FFE4AE-7761-48A8-97BD-737FB53E22AC@jaguNET.com>
	<389F061E-8BED-47FE-B55F-0B2F40F5AF83@jaguNET.com>
	<CAKQ1sVPgW6MBCS-Jp0aZ4uB3YVUHZ354RgdTFk2mLpW6+tkEEQ@mail.gmail.com>
	<CACsi25250e0Maht_=3qQMytHRvrrP+gyb8WVhS1PqZm3oumuGw@mail.gmail.com>
	<CAKQ1sVO--iZJKPMm7DnsfRNSgc5EHvadhjt-o6-yRc7ejLw6sA@mail.gmail.com>
Date: Tue, 16 Jun 2015 23:30:11 +0200
Message-ID: <CAKQ1sVO=3kagnnL8Wg2uCXHTPcUfHKER2Ob10Ecd9o+2BA-xCw@mail.gmail.com>
Subject: Re: TWS ";" LWS permitted by RFC 7230 4.1.1? Apparently, no.
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Tue, Jun 16, 2015 at 10:50 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Tue, Jun 16, 2015 at 8:09 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
>> Note in STATUS I've requested that you split the approved patch from
>> security@ that seemed to be lost in long and winding patch versioning from
>> the spaces accepted.  A patch should correct one thing, not several, it
>> makes these too difficult to review when folks have a small window of free
>> time.  Your proposed rolled-up patch didn't correspond to trunk, and the
>> 'parsing' flag seems unnecessary.  Two error messages would have been easier
>> on reviewers anyways.
>>
>> Hopefully all constructive criticism easily agreed to?
>
> No pb, that's how things go ahead!
>
> I can certainly split the patch (i.e. the two first hunks only address
> the 2.4.14's "defect") and commit what's already accepted from patch
> v5 (the three remaining hunks).
> The latter however includes the 'parsing' flag which is meant
> precisely to address the different semantic between trunk and 2.4.x
> (so far): in 2.4.x the parsing errors are handled by
> bail_out_on_error() whereas in trunk the caller decides (eg. a handler
> can return a HTTP status and hence, possibly, an ErrorDocument...).
> Without the 'parsing' flag, we'd also have to use two separate log
> messages (with a new AH for 2.4.x only), so I think it also helps
> commonality between the two codes (that could be addressed by
> splitting the same way in trunk though...).
>
> BTW, I do that now.

Done in r1685904 (missing backport) and r1685910 (proposal update).

From dev-return-83033-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 17 09:06:20 2015
Return-Path: <dev-return-83033-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6026A18064
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 17 Jun 2015 09:06:20 +0000 (UTC)
Received: (qmail 98419 invoked by uid 500); 17 Jun 2015 09:06:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 98340 invoked by uid 500); 17 Jun 2015 09:06:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 98329 invoked by uid 99); 17 Jun 2015 09:06:14 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Jun 2015 09:06:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 87782182238
	for <dev@httpd.apache.org>; Wed, 17 Jun 2015 09:06:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id TXB7djq8JALr for <dev@httpd.apache.org>;
	Wed, 17 Jun 2015 09:06:14 +0000 (UTC)
Received: from mail-wg0-f46.google.com (mail-wg0-f46.google.com [74.125.82.46])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 6D0C32159D
	for <dev@httpd.apache.org>; Wed, 17 Jun 2015 09:06:13 +0000 (UTC)
Received: by wgv5 with SMTP id 5so31237574wgv.1
        for <dev@httpd.apache.org>; Wed, 17 Jun 2015 02:06:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=M2Rd1ZeVndv03PfII9R8d/c7AJ8N4RmsLziRWDSLNuA=;
        b=piN/uB6ess5f/vvxBtAO0uEqxUF7hJit8x4MpufIwsLqsQxdKXUMlLPZ9A9vHk5gmY
         vvo8z+5R+MZmoP0IwSnjwSvCieVhb4j72rAEWkDw9FWYSkvIzIRsnHDij4YOCBGFwyie
         bdLoj3zHOLU4BfDCQ5WPDj2R0uQsx4p+SuC1UoKAxwWWQVRw/mIV7U0+mo+WP5GrbD4E
         iEaoi1N/lu/K8+YN3/5Bi4aaueLD+xgki4xud24BblFRhIhj9NMTPWHpQeEVzrbdYAR5
         p3HeQzNQzG9exQSYFmb3T3hlaoMCEy8tSkqNTo/C5ykNqppqqWgOlGPjDj2jnmEQtWc3
         7MYQ==
MIME-Version: 1.0
X-Received: by 10.180.74.144 with SMTP id t16mr15459902wiv.33.1434531967884;
 Wed, 17 Jun 2015 02:06:07 -0700 (PDT)
Received: by 10.27.100.3 with HTTP; Wed, 17 Jun 2015 02:06:07 -0700 (PDT)
In-Reply-To: <557971A7.206@gmail.com>
References: <557971A7.206@gmail.com>
Date: Wed, 17 Jun 2015 11:06:07 +0200
Message-ID: <CAA=k7mWTpJD8WkdrjMsu-DN-QaN5T=ekq4tFkgb5UBoVQLDGSg@mail.gmail.com>
Subject: Re: Bug 57641
From: Mario Brandt <jblond@gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>, nickgearls@gmail.com
Content-Type: text/plain; charset=UTF-8

Hi Nick,

please add a unified diff file to the bug and add the keyword PatchAvailable


Cheers
Mario


On 11 June 2015 at 13:31, Nick Gearls <nickgearls@gmail.com> wrote:
> Hi all,
>
> Can anybody have a look at this trivial bug waiting for months?
> The bug is obvious and the fix is a one line change.
>
> Thanks a lot

From dev-return-83034-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 17 09:14:40 2015
Return-Path: <dev-return-83034-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D1E2E180D0
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 17 Jun 2015 09:14:40 +0000 (UTC)
Received: (qmail 26675 invoked by uid 500); 17 Jun 2015 09:14:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 26615 invoked by uid 500); 17 Jun 2015 09:14:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 26605 invoked by uid 99); 17 Jun 2015 09:14:40 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Jun 2015 09:14:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id DA168CE671
	for <dev@httpd.apache.org>; Wed, 17 Jun 2015 09:14:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id rwFjR8QwoVNt for <dev@httpd.apache.org>;
	Wed, 17 Jun 2015 09:14:39 +0000 (UTC)
Received: from mail-ig0-f171.google.com (mail-ig0-f171.google.com [209.85.213.171])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 37CAA22F03
	for <dev@httpd.apache.org>; Wed, 17 Jun 2015 09:14:39 +0000 (UTC)
Received: by igbos3 with SMTP id os3so63629641igb.0
        for <dev@httpd.apache.org>; Wed, 17 Jun 2015 02:14:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=6HHDhQSfc4cU3g8JcgxtJNHEHovjURJ2R1vbWd2ijC8=;
        b=mxFbOwbszt8eSc5R+ZxqxjhtXi6hqTS2u21DlS5ZzTOZ1pINnPPY7oAzj0/5z/Uq0g
         hOjT+DSvI6nhlTY8u53slwS/YI5lRqGnZvjqy6fw0JcZ9ai+7AiLXYQ/xoAS/wMiDzrE
         n5n/eVUngS4gWNp4AQLyTi6/aWbzMUDZm1N5PjWrrTW8NaIzLwiao0U8mo8J+5wXw6IK
         9pxcqm2+0S/Y7MPt8J9j0UzPVz40S0yVbkqrDlwNWjmLnOuC6gaOVeWRklRDWb1wFp1V
         gfWHwqbPr+DOZiK48TFB4cB8NIj4JmP1UIE1m+uolKpGOTmhJfhhPItgIulxURlmK1lL
         QdFQ==
MIME-Version: 1.0
X-Received: by 10.107.15.153 with SMTP id 25mr4212274iop.44.1434532478750;
 Wed, 17 Jun 2015 02:14:38 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Wed, 17 Jun 2015 02:14:38 -0700 (PDT)
In-Reply-To: <CAA=k7mWTpJD8WkdrjMsu-DN-QaN5T=ekq4tFkgb5UBoVQLDGSg@mail.gmail.com>
References: <557971A7.206@gmail.com>
	<CAA=k7mWTpJD8WkdrjMsu-DN-QaN5T=ekq4tFkgb5UBoVQLDGSg@mail.gmail.com>
Date: Wed, 17 Jun 2015 11:14:38 +0200
Message-ID: <CAKQ1sVO2dKxGOnQorAUQkf3MeE0_82RsveQU8_6hjDy0BP1r3g@mail.gmail.com>
Subject: Re: Bug 57641
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

I have updated the bugzilla ticket since this was committed in
r1684900 and a backport to 2.4.x is already proposed.

Regards,
Yann.

On Wed, Jun 17, 2015 at 11:06 AM, Mario Brandt <jblond@gmail.com> wrote:
> Hi Nick,
>
> please add a unified diff file to the bug and add the keyword PatchAvailable
>
>
> Cheers
> Mario
>
>
> On 11 June 2015 at 13:31, Nick Gearls <nickgearls@gmail.com> wrote:
>> Hi all,
>>
>> Can anybody have a look at this trivial bug waiting for months?
>> The bug is obvious and the fix is a one line change.
>>
>> Thanks a lot

From dev-return-83035-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 17 12:22:08 2015
Return-Path: <dev-return-83035-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4831718762
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 17 Jun 2015 12:22:08 +0000 (UTC)
Received: (qmail 36757 invoked by uid 500); 17 Jun 2015 12:22:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36680 invoked by uid 500); 17 Jun 2015 12:22:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36669 invoked by uid 99); 17 Jun 2015 12:22:07 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Jun 2015 12:22:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 9FDCAC0953
	for <dev@httpd.apache.org>; Wed, 17 Jun 2015 12:22:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.011
X-Spam-Level:
X-Spam-Status: No, score=-0.011 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id ErmE7zjMZ5iH for <dev@httpd.apache.org>;
	Wed, 17 Jun 2015 12:22:05 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 42E4243DCD
	for <dev@httpd.apache.org>; Wed, 17 Jun 2015 12:22:05 +0000 (UTC)
Received: from delight.greenbytes.de (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id DBE8215A00E9
	for <dev@httpd.apache.org>; Wed, 17 Jun 2015 14:21:57 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Subject: sni+alpn, vhost+certs
Message-Id: <98ED7B74-4E17-41F0-90CE-44FE2B1C3DD5@greenbytes.de>
Date: Wed, 17 Jun 2015 14:21:57 +0200
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
X-Mailer: Apple Mail (2.2098)

Seems like a good idea to not place the ALPN patches into 2.4 - yet.

During my tests, I discovered that the order of my vhost definitions =
affected the certificate chosen - when ALPN was in play. After some =
analysis, the following seems to occur. This is to make the mod_ssl =
people here aware and get their opinion on a workaround.

1. connection, setup for base server and defaults
2. client hello arrives
3. ALPN callback is invoked by openssl
4. ALPN protocol is chosen, this triggers the server answer
5. SNI callback is invoked by openssl and sets up vhost info and configs
6. Oops.

Lacking the SNI name and vhost setups, the sendback in 4 seems to =
fallback to the default vhost selection and that certificate is used to =
answer the call.

The issue has been reported by me on the openssl dev list. As a =
workaround for now and compatibility to older openssl versions, I =
propose to add to the ALPN patch something that
a) checks in ALPN callback if vhost has been setup by SNI callback
b) if not, retrieves SNI servername via SSL_get_servername()
c) if servername is returned, setup vhost just like in SNI callback
d) if SNI callback is invoked and vhost has been setup already, nop

Sounds reasonable?

//Stefan

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83036-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 17 12:24:11 2015
Return-Path: <dev-return-83036-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0371618775
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 17 Jun 2015 12:24:11 +0000 (UTC)
Received: (qmail 43861 invoked by uid 500); 17 Jun 2015 12:24:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 43795 invoked by uid 500); 17 Jun 2015 12:24:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 43785 invoked by uid 99); 17 Jun 2015 12:24:10 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Jun 2015 12:24:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 1F98FCE759
	for <dev@httpd.apache.org>; Wed, 17 Jun 2015 12:24:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id RJZ8WRxhcv_e for <dev@httpd.apache.org>;
	Wed, 17 Jun 2015 12:24:00 +0000 (UTC)
Received: from mail-wi0-f181.google.com (mail-wi0-f181.google.com [209.85.212.181])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id CF1A1261A6
	for <dev@httpd.apache.org>; Wed, 17 Jun 2015 12:23:59 +0000 (UTC)
Received: by wiga1 with SMTP id a1so137807919wig.0
        for <dev@httpd.apache.org>; Wed, 17 Jun 2015 05:23:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=8DbUSjSWP7vIzaL1vZtSkv6ZS3Ras6D8OKzCLlP5nmc=;
        b=QngTzajSQj6F7/4ntRSnFe5WRxUV6YXYi6pjls8H+Ef4XaNcMfuwrOQSKHYddBG2xq
         Vc+5+2CzKtYa+ViohMsb/bnEUddyAYCpJPTBxwW/p/utQNsAiTjpTQkDTa+EyPJDRCuo
         YpuwOW6VINvQ2n34gWH1gvH0d6Xu7+UZPE4am7+ROj2EF3KDib6UdgqbS8ZOZx+idw3y
         gM32M2prwxBHZ1gdCIEaBevuq/grGNXDvGFxQZNRFiY2JmMXIz9PQOnWQiBL1FOuOZbx
         lLeBRq3BJs+QI3yzxeR3MRYiPgq5kP4T9+a+V0RxoSkRx+IbY5ldZgO4koib96uQSgzR
         46bw==
MIME-Version: 1.0
X-Received: by 10.194.95.132 with SMTP id dk4mr5524278wjb.88.1434543838627;
 Wed, 17 Jun 2015 05:23:58 -0700 (PDT)
Received: by 10.28.54.146 with HTTP; Wed, 17 Jun 2015 05:23:58 -0700 (PDT)
In-Reply-To: <98ED7B74-4E17-41F0-90CE-44FE2B1C3DD5@greenbytes.de>
References: <98ED7B74-4E17-41F0-90CE-44FE2B1C3DD5@greenbytes.de>
Date: Wed, 17 Jun 2015 08:23:58 -0400
Message-ID: <CALK=YjMCdctGs28pRW6vGcF_hb_ww-xLGeQXQ0qHo+-azQ7wmQ@mail.gmail.com>
Subject: Re: sni+alpn, vhost+certs
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Jun 17, 2015 at 8:21 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> 1. connection, setup for base server and defaults
> 2. client hello arrives
> 3. ALPN callback is invoked by openssl
> 4. ALPN protocol is chosen, this triggers the server answer
> 5. SNI callback is invoked by openssl and sets up vhost info and configs
> 6. Oops.
>
> Lacking the SNI name and vhost setups, the sendback in 4 seems to fallback to the default vhost selection and that certificate is used to answer the call.
>
> The issue has been reported by me on the openssl dev list. As a workaround for now and compatibility to older openssl versions, I propose to add to the ALPN patch something that
> a) checks in ALPN callback if vhost has been setup by SNI callback
> b) if not, retrieves SNI servername via SSL_get_servername()
> c) if servername is returned, setup vhost just like in SNI callback
> d) if SNI callback is invoked and vhost has been setup already, nop
>
> Sounds reasonable?


Seems fair

-- 
Eric Covener
covener@gmail.com

From dev-return-83037-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 17 22:03:31 2015
Return-Path: <dev-return-83037-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CFD0F18156
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 17 Jun 2015 22:03:31 +0000 (UTC)
Received: (qmail 56456 invoked by uid 500); 17 Jun 2015 22:03:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56389 invoked by uid 500); 17 Jun 2015 22:03:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56379 invoked by uid 99); 17 Jun 2015 22:03:30 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Jun 2015 22:03:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id B9A52CE94F
	for <dev@httpd.apache.org>; Wed, 17 Jun 2015 22:03:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.581
X-Spam-Level:
X-Spam-Status: No, score=-0.581 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.58, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id qFJ6OQDAiQmM for <dev@httpd.apache.org>;
	Wed, 17 Jun 2015 22:03:22 +0000 (UTC)
Received: from atvie01s.evermeet.cx (evermeet.cx [77.244.245.66])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id C41AE21021
	for <dev@httpd.apache.org>; Wed, 17 Jun 2015 22:03:21 +0000 (UTC)
Received: from [192.168.9.141] (mail.quickplay.com [66.207.196.66])
	(authenticated bits=0)
	by atvie01s.evermeet.cx (8.14.8/8.14.8) with ESMTP id t5HM3E5G019015
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES128-SHA bits=128 verify=NO)
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 00:03:15 +0200
To: dev@httpd.apache.org
From: "Helmut K. C. Tessarek" <tessarek@evermeet.cx>
Subject: documentation issues for mod_authn_socache
Openpgp: id=28A316664FE8D72CCFD58B23F7832007C11F128D
X-Enigmail-Draft-Status: N1110
Message-ID: <5581EEA0.6060805@evermeet.cx>
Date: Wed, 17 Jun 2015 18:03:12 -0400
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:38.0)
 Gecko/20100101 Thunderbird/38.0.1
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit

Hello,

http://httpd.apache.org/docs/2.4/mod/mod_authn_socache.html

There are 2 things I want to mention:

1) cacheing is not a word. It should be replaced with caching on the entire page
2) AuthnCacheSOCache Directive:  If not set, your platform's default will be used.

There's no indication whatsoever what the platforms' defaults actually are.

Can someone please tell me what the platforms' defaults are?

I'm mostly interested in Linux and MacOSX, but a list would be nice in the docs.

Cheers,
  K. C.

-- 
regards Helmut K. C. Tessarek
lookup http://sks.pkqs.net for KeyID 0xC11F128D

/*
   Thou shalt not follow the NULL pointer for chaos and madness 
   await thee at its end.
*/

From dev-return-83038-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 17 22:51:03 2015
Return-Path: <dev-return-83038-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 22E6018344
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 17 Jun 2015 22:51:03 +0000 (UTC)
Received: (qmail 67550 invoked by uid 500); 17 Jun 2015 22:51:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67486 invoked by uid 500); 17 Jun 2015 22:51:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67476 invoked by uid 99); 17 Jun 2015 22:51:02 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Jun 2015 22:51:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 4BD63CE971
	for <dev@httpd.apache.org>; Wed, 17 Jun 2015 22:51:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.581
X-Spam-Level:
X-Spam-Status: No, score=-0.581 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.58, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id jsfaXEXRud_u for <dev@httpd.apache.org>;
	Wed, 17 Jun 2015 22:50:54 +0000 (UTC)
Received: from atvie01s.evermeet.cx (evermeet.cx [77.244.245.66])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 410F024A27
	for <dev@httpd.apache.org>; Wed, 17 Jun 2015 22:50:54 +0000 (UTC)
Received: from [192.168.9.141] (mail.quickplay.com [66.207.196.66])
	(authenticated bits=0)
	by atvie01s.evermeet.cx (8.14.8/8.14.8) with ESMTP id t5HMoiZ7026027
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES128-SHA bits=128 verify=NO)
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 00:50:45 +0200
To: dev@httpd.apache.org
From: "Helmut K. C. Tessarek" <tessarek@evermeet.cx>
Subject: ap_authn_cache_store call for groups
Openpgp: id=28A316664FE8D72CCFD58B23F7832007C11F128D
X-Enigmail-Draft-Status: N1110
Message-ID: <5581F9C4.4050109@evermeet.cx>
Date: Wed, 17 Jun 2015 18:50:44 -0400
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:38.0)
 Gecko/20100101 Thunderbird/38.0.1
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit

I was looking into caching of user credentials, but I think I might be missing something.

The call ap_authn_cache_store seems to store user credentials which will help, if you have
a directive like 'Require valid-user', but it won't help for directives like 
'Require group admin'.

Am I right?

So in case of an authentication module that uses database queries, all subsequent requests
will still generate SQL statements for the user/group matching. Which means that only half
of the database requests are actually cached.

Can someone please elaborate.

Cheers,
  K. C.

-- 
regards Helmut K. C. Tessarek
lookup http://sks.pkqs.net for KeyID 0xC11F128D

/*
   Thou shalt not follow the NULL pointer for chaos and madness 
   await thee at its end.
*/

From dev-return-83039-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 17 22:56:40 2015
Return-Path: <dev-return-83039-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 980AA18379
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 17 Jun 2015 22:56:40 +0000 (UTC)
Received: (qmail 76372 invoked by uid 500); 17 Jun 2015 22:56:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76307 invoked by uid 500); 17 Jun 2015 22:56:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76297 invoked by uid 99); 17 Jun 2015 22:56:39 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 17 Jun 2015 22:56:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 7A555CE978
	for <dev@httpd.apache.org>; Wed, 17 Jun 2015 22:56:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id VeOMeI7HZu6n for <dev@httpd.apache.org>;
	Wed, 17 Jun 2015 22:56:34 +0000 (UTC)
Received: from mail-yh0-f41.google.com (mail-yh0-f41.google.com [209.85.213.41])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id A33A6249EA
	for <dev@httpd.apache.org>; Wed, 17 Jun 2015 22:56:33 +0000 (UTC)
Received: by yhnv31 with SMTP id v31so18720291yhn.1
        for <dev@httpd.apache.org>; Wed, 17 Jun 2015 15:56:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=ICLDsTpUc3bDET2OxtSlsGna0fo0mewBlyt0YyKv1LA=;
        b=hT8h1wDozYtk1XAL/vcWie2/+vgCACcKR/f7lvHuIWu8hwjDA9OlZ7m9B0QcH0geDb
         voCD9jT7xoZk6ACtRzRebnC2IEchyCaFQlpdF1vcXZ4oEz7BOQ1+AMiP/OCvR8AfdqMU
         syfjrvJIUCihfcht6wiP2eYejhSB/DRAzfpJ0zQmWzCi+h4jJCFn27ICgFSxqE6KYXZA
         bNGWzrS69ty52lhMhdNksOhUIdatlcXLVSGzd6UnFezoPWZQJcKYu33KGaJeKSZsO8UT
         SROX9UJBJ0p4y50MUkCCtdIc628EoNzLu+MiJ44Vxe8Y65uBKxonEt3lGnjZ5DsXIgDO
         v11Q==
MIME-Version: 1.0
X-Received: by 10.13.193.198 with SMTP id c189mr9693457ywd.122.1434581787119;
 Wed, 17 Jun 2015 15:56:27 -0700 (PDT)
Received: by 10.37.83.130 with HTTP; Wed, 17 Jun 2015 15:56:27 -0700 (PDT)
In-Reply-To: <5581F9C4.4050109@evermeet.cx>
References: <5581F9C4.4050109@evermeet.cx>
Date: Wed, 17 Jun 2015 18:56:27 -0400
Message-ID: <CALK=YjNvRCADVHvEC2EgbkAH+MQ7TPABPCPdvj34hfgqrtW3Lw@mail.gmail.com>
Subject: Re: ap_authn_cache_store call for groups
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Jun 17, 2015 at 6:50 PM, Helmut K. C. Tessarek
<tessarek@evermeet.cx> wrote:
> I was looking into caching of user credentials, but I think I might be missing something.
>
> The call ap_authn_cache_store seems to store user credentials which will help, if you have
> a directive like 'Require valid-user', but it won't help for directives like
> 'Require group admin'.
>
> Am I right?
>
> So in case of an authentication module that uses database queries, all subsequent requests
> will still generate SQL statements for the user/group matching. Which means that only half
> of the database requests are actually cached.

Sounds right.  The "authn" in the name is shorthand for authentication
(vs authorization). It seems possible to shoehorn other data into this
cache though, but it's not clear to me what it adds using socache
directly.

From dev-return-83040-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 18 04:49:40 2015
Return-Path: <dev-return-83040-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D785318DB3
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Jun 2015 04:49:40 +0000 (UTC)
Received: (qmail 84658 invoked by uid 500); 18 Jun 2015 04:49:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84577 invoked by uid 500); 18 Jun 2015 04:49:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84565 invoked by uid 99); 18 Jun 2015 04:49:40 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 04:49:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id D37EC1A5C6C
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 04:49:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.011
X-Spam-Level:
X-Spam-Status: No, score=-0.011 tagged_above=-999 required=6.31
	tests=[SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id ZMuSFXp-803s for <dev@httpd.apache.org>;
	Thu, 18 Jun 2015 04:49:31 +0000 (UTC)
Received: from atvie01s.evermeet.cx (evermeet.cx [77.244.245.66])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id AAD5542ADB
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 04:49:30 +0000 (UTC)
Received: from [10.0.0.40] (135-23-85-229.cpe.pppoe.ca [135.23.85.229])
	(authenticated bits=0)
	by atvie01s.evermeet.cx (8.14.8/8.14.8) with ESMTP id t5I4lLNe011375
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES128-SHA bits=128 verify=NO)
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 06:47:22 +0200
Subject: Re: ap_authn_cache_store call for groups
To: dev@httpd.apache.org
References: <5581F9C4.4050109@evermeet.cx>
 <CALK=YjNvRCADVHvEC2EgbkAH+MQ7TPABPCPdvj34hfgqrtW3Lw@mail.gmail.com>
From: "Helmut K. C. Tessarek" <tessarek@evermeet.cx>
Openpgp: id=28A316664FE8D72CCFD58B23F7832007C11F128D
X-Enigmail-Draft-Status: N1110
Message-ID: <55824D58.2040605@evermeet.cx>
Date: Thu, 18 Jun 2015 00:47:20 -0400
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:38.0)
 Gecko/20100101 Thunderbird/38.0.1
MIME-Version: 1.0
In-Reply-To: <CALK=YjNvRCADVHvEC2EgbkAH+MQ7TPABPCPdvj34hfgqrtW3Lw@mail.gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit

On 17.06.15 18:56 , Eric Covener wrote:
> Sounds right.  The "authn" in the name is shorthand for authentication
> (vs authorization). It seems possible to shoehorn other data into this
> cache though, but it's not clear to me what it adds using socache
> directly.

The problem is that I don't know how. I just read the information in
the documentation http://webauth.stanford.edu/manual/mod/mod_authn_socache.html 
how to use it to cache credentials.

I wrote my own caching algorithms for my module, but learned that Apache
provides this funtionality already. Or at least part of it - as in user caching. 
That's why I thought of getting rid of my own caching (which caches users and group
info) and make use of already available functionality.
Why reinvent the wheel?

I just can't figure out how to cache group info.

My module is an authnz module, but I couldn't find an authz_socache variant.
Is there something like that? Are there any examples?

Maybe this is off topic here, but I'd appreciate any pointers.

Cheers,
  K. C.

-- 
regards Helmut K. C. Tessarek
lookup http://sks.pkqs.net for KeyID 0xC11F128D

/*
   Thou shalt not follow the NULL pointer for chaos and madness 
   await thee at its end.
*/

From dev-return-83041-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 18 09:07:56 2015
Return-Path: <dev-return-83041-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9CA8B179C4
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Jun 2015 09:07:56 +0000 (UTC)
Received: (qmail 89991 invoked by uid 500); 18 Jun 2015 09:07:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89925 invoked by uid 500); 18 Jun 2015 09:07:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89915 invoked by uid 99); 18 Jun 2015 09:07:55 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 09:07:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 7AC47182234
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 09:07:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id QnnJscbY4AUz for <dev@httpd.apache.org>;
	Thu, 18 Jun 2015 09:07:48 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 8EA8924CEA
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 09:07:47 +0000 (UTC)
Received: from delight.greenbytes.de (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id CBF8B15A030C
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 11:07:40 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: sni+alpn, vhost+certs
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CALK=YjMCdctGs28pRW6vGcF_hb_ww-xLGeQXQ0qHo+-azQ7wmQ@mail.gmail.com>
Date: Thu, 18 Jun 2015 11:07:39 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <1A5E0EAF-9C58-464A-A5C9-FB429E7084EF@greenbytes.de>
References: <98ED7B74-4E17-41F0-90CE-44FE2B1C3DD5@greenbytes.de> <CALK=YjMCdctGs28pRW6vGcF_hb_ww-xLGeQXQ0qHo+-azQ7wmQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)

I have a patch for this now, but discovered that mod_h2 needs some more:

In the ALPN propose callback, the module needs to know which vhost the
connection is about. And not only that, it needs the server_rec of that
to check its config. If the module is disabled in that vhost, it should
not propose anything.

Since mod_ssl stores the selected server only in its internal context =
and
leaves the base server at the conn_rec untouched, mod_h2 has to make
a workaround to get it.

It retrieves SNI servername via ssl_var_lookup, creates a fake =
request_rec
incokes ap_update_vhost_from_headers().=20

Not very elegant.

a) is there another way?
b) if not, should the server_rec be a parameter to the alpn callback =
functions
c) or, alternatively, should the conn_rec carry that information =
somewhere?

Thanks for the help.


> Am 17.06.2015 um 14:23 schrieb Eric Covener <covener@gmail.com>:
>=20
> On Wed, Jun 17, 2015 at 8:21 AM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> 1. connection, setup for base server and defaults
>> 2. client hello arrives
>> 3. ALPN callback is invoked by openssl
>> 4. ALPN protocol is chosen, this triggers the server answer
>> 5. SNI callback is invoked by openssl and sets up vhost info and =
configs
>> 6. Oops.
>>=20
>> Lacking the SNI name and vhost setups, the sendback in 4 seems to =
fallback to the default vhost selection and that certificate is used to =
answer the call.
>>=20
>> The issue has been reported by me on the openssl dev list. As a =
workaround for now and compatibility to older openssl versions, I =
propose to add to the ALPN patch something that
>> a) checks in ALPN callback if vhost has been setup by SNI callback
>> b) if not, retrieves SNI servername via SSL_get_servername()
>> c) if servername is returned, setup vhost just like in SNI callback
>> d) if SNI callback is invoked and vhost has been setup already, nop
>>=20
>> Sounds reasonable?
>=20
>=20
> Seems fair
>=20
> --=20
> Eric Covener
> covener@gmail.com

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83042-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 18 09:49:58 2015
Return-Path: <dev-return-83042-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 59B2B17B1B
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Jun 2015 09:49:58 +0000 (UTC)
Received: (qmail 3561 invoked by uid 500); 18 Jun 2015 09:49:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3502 invoked by uid 500); 18 Jun 2015 09:49:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3492 invoked by uid 99); 18 Jun 2015 09:49:57 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 09:49:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 462751A5C57
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 09:49:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.012
X-Spam-Level:
X-Spam-Status: No, score=-0.012 tagged_above=-999 required=6.31
	tests=[SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id PGb5_r-M1GQZ for <dev@httpd.apache.org>;
	Thu, 18 Jun 2015 09:49:56 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 4A56B43DA5
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 09:49:56 +0000 (UTC)
Received: from int-mx13.intmail.prod.int.phx2.redhat.com (int-mx13.intmail.prod.int.phx2.redhat.com [10.5.11.26])
	by mx1.redhat.com (Postfix) with ESMTPS id D2E42B7CCA
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 09:49:48 +0000 (UTC)
Received: from ditustat.brq.redhat.com (ditustat.brq.redhat.com [10.34.131.181])
	by int-mx13.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t5I9nlXh010198
	(version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 05:49:48 -0400
Received: from adelton by ditustat.brq.redhat.com with local (Exim 4.85)
	(envelope-from <jpazdziora@redhat.com>)
	id 1Z5WSA-0006I7-K2
	for dev@httpd.apache.org; Thu, 18 Jun 2015 11:49:46 +0200
Date: Thu, 18 Jun 2015 11:49:46 +0200
From: Jan Pazdziora <jpazdziora@redhat.com>
To: dev@httpd.apache.org
Subject: Using UPN from subjectAltName with SSLUserName
Message-ID: <20150618094946.GU18173@redhat.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Organization: Red Hat Czech s.r.o., =?iso-8859-2?Q?Purky?=
 =?iso-8859-2?Q?=F2ova_99=2F71=2C_612_45_Brno=2C_Czech_Republic=3B_registe?=
 =?iso-8859-2?Q?red?= in Brno under identification number CZ27690016
User-Agent: Mutt/1.5.23 (2014-03-12)
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.26


Hello,

I've noticed that support for getting subjectAltName entries Email and
Type landed in 2.4.13, via r1676087.

We've come across another type in subjectAltName, Microsoft Universal
Principal Name (OID 1.3.6.1.4.1.311.20.2.3) which would be useful to
retrieve from the certificate and use for subsequent authorization
and identity operations against Active Directory.

I've filed

	https://bz.apache.org/bugzilla/show_bug.cgi?id=58020
	When user authenticates with certificate which has their
		Microsoft Universal Principal Name in subjectAltName,
		that UPN cannot be used with SSLUserName for further
		access controls

and included a patch which extends the original SAN support to
otherName.

I'd appreciate any comments about suitability of such change, as well
as the implementation. Specifically, I'm not sure if people will
prefer the generic and currently proposed

	SSL_CLIENT_SAN_otherName_n

which gets any value of otherName type, or perhaps going with

	SSL_CLIENT_SAN_UPN_n

and checking the OID just for the UPNs. Based on that decision I plan
to then respin the patch with documentation changes included.

Thank you,

-- 
Jan Pazdziora
Senior Principal Software Engineer, Identity Management Engineering, Red Hat

From dev-return-83043-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 18 10:22:55 2015
Return-Path: <dev-return-83043-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0501F17C70
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Jun 2015 10:22:55 +0000 (UTC)
Received: (qmail 87954 invoked by uid 500); 18 Jun 2015 10:22:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 87880 invoked by uid 500); 18 Jun 2015 10:22:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 87870 invoked by uid 99); 18 Jun 2015 10:22:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 10:22:48 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.179 as permitted sender)
Received: from [209.85.213.179] (HELO mail-ig0-f179.google.com) (209.85.213.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 10:20:33 +0000
Received: by igbiq7 with SMTP id iq7so87786704igb.1
        for <dev@httpd.apache.org>; Thu, 18 Jun 2015 03:22:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=pvtdnCXYTQGXcrSIKNXXv44TE3h3ufAuP6eEhmYQlpU=;
        b=x6K8mrXV1qp7/eU3l4lGm7bRv1n3+LpxBATCJjFjEGRHmhkOAnN+Zy7BLnGCYkyOyG
         zzpFyFqF4zPZFVXB1wVpTpNYqq/c9xCc0p2yD7bgF75yr/h1ZMf66tO2RlToOtoA6bly
         Fc5cp02gHTTdzAO5ZalXA9I7HVZxWa0Om7tmim/16pTlwx0LUo9IQu7fcDiXAtpxdFWP
         q4A2+nh1Ojp8eYirNaXIhhaCbghHHa/sy5tTX6/rQnZdHW0YCfmJ+ZIC8sA+szO0aBie
         SH30SBxdrVJj+y2BzqA6VQmhCGc610rmNpsx11rE0AhScQGLKkrgxeoWBcs6NDu5Zimz
         SV8Q==
MIME-Version: 1.0
X-Received: by 10.50.141.164 with SMTP id rp4mr41568763igb.2.1434622941593;
 Thu, 18 Jun 2015 03:22:21 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Thu, 18 Jun 2015 03:22:21 -0700 (PDT)
In-Reply-To: <20150618094946.GU18173@redhat.com>
References: <20150618094946.GU18173@redhat.com>
Date: Thu, 18 Jun 2015 12:22:21 +0200
Message-ID: <CAKQ1sVPVuX7ntRt=XjSJ6Og1-gYxjkHv_N2aSNy6wR62XJ_gGw@mail.gmail.com>
Subject: Re: Using UPN from subjectAltName with SSLUserName
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Jun 18, 2015 at 11:49 AM, Jan Pazdziora <jpazdziora@redhat.com> wrote:
>
> I'd appreciate any comments about suitability of such change, as well
> as the implementation. Specifically, I'm not sure if people will
> prefer the generic and currently proposed
>
>         SSL_CLIENT_SAN_otherName_n
>
> which gets any value of otherName type, or perhaps going with
>
>         SSL_CLIENT_SAN_UPN_n
>
> and checking the OID just for the UPNs. Based on that decision I plan
> to then respin the patch with documentation changes included.

I think a more generic way would to have something like
SSL_CLIENT_OID_<oid>_n, so that we wouldn't have to add a new field
each time.
In this case, that would be: SSL_CLIENT_OID_1.3.6.1.4.1.311.20.2.3_n.

Regards,
Yann.

From dev-return-83044-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 18 10:47:29 2015
Return-Path: <dev-return-83044-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8BDBB17D60
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Jun 2015 10:47:29 +0000 (UTC)
Received: (qmail 51453 invoked by uid 500); 18 Jun 2015 10:47:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51369 invoked by uid 500); 18 Jun 2015 10:47:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51359 invoked by uid 99); 18 Jun 2015 10:47:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 10:47:28 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.179 as permitted sender)
Received: from [209.85.213.179] (HELO mail-ig0-f179.google.com) (209.85.213.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 10:45:15 +0000
Received: by igboe5 with SMTP id oe5so15233754igb.1
        for <dev@httpd.apache.org>; Thu, 18 Jun 2015 03:47:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=wNNvdGz3ZrqqMPvaJzSOBSMzAXipBfAW0042By2CR+A=;
        b=inKtpOABPK/wnEHsxyYJrhX5M/ncdllgNUPxVKTx8Vfoxk7mAol6K4pzTKTfO3lWk5
         lmmaCiSfqOP33ZLL9EM33HElgJ42uhHagSY3v4Bgy307Lx5diJnFUSK9N7E3cFcerYoD
         Zlx2bYwQN30L9t1brVVuvNeHogqAEZVdgvEv4oZbnLg21UngG1r7gEMDVs79235xt38Y
         74FPP1kXqTK8qXxA7Jl5in1JSNXNci6O3pP0gTX9GC8Krp8GyLKymWtstNRD4pP9H7U6
         1Gqh1GpjxGZnyB0sbohH7U2uP0QHGYjxMdVlr9B854lvK8U9lgEstM0xg4QG4mvh7Xeo
         1PNQ==
MIME-Version: 1.0
X-Received: by 10.107.137.22 with SMTP id l22mr13977899iod.21.1434624422828;
 Thu, 18 Jun 2015 03:47:02 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Thu, 18 Jun 2015 03:47:02 -0700 (PDT)
In-Reply-To: <1A5E0EAF-9C58-464A-A5C9-FB429E7084EF@greenbytes.de>
References: <98ED7B74-4E17-41F0-90CE-44FE2B1C3DD5@greenbytes.de>
	<CALK=YjMCdctGs28pRW6vGcF_hb_ww-xLGeQXQ0qHo+-azQ7wmQ@mail.gmail.com>
	<1A5E0EAF-9C58-464A-A5C9-FB429E7084EF@greenbytes.de>
Date: Thu, 18 Jun 2015 12:47:02 +0200
Message-ID: <CAKQ1sVMDAjg=jDz4ubMY=wyfQbL_WN6FN512a46uxfpPdQ8c3g@mail.gmail.com>
Subject: Re: sni+alpn, vhost+certs
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Jun 18, 2015 at 11:07 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
>
> It retrieves SNI servername via ssl_var_lookup, creates a fake request_rec
> incokes ap_update_vhost_from_headers().
>
> Not very elegant.
>
> a) is there another way?

Maybe define a new ap_get_vhost_from_name() and use it in both
ap_update_vhost_from_headers() and your code.

> b) if not, should the server_rec be a parameter to the alpn callback functions

If that's enough, it looks like a simpler change, though.

> c) or, alternatively, should the conn_rec carry that information somewhere?

Such a base struct is not very easy to change without breaking
compatibility (ABI), that would make any backport to 2.4.x less
acceptable...

Regards,
Yann.

From dev-return-83045-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 18 16:52:29 2015
Return-Path: <dev-return-83045-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E48EC18E04
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Jun 2015 16:52:28 +0000 (UTC)
Received: (qmail 73884 invoked by uid 500); 18 Jun 2015 16:52:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 73823 invoked by uid 500); 18 Jun 2015 16:52:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 73813 invoked by uid 99); 18 Jun 2015 16:52:27 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 16:52:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 700BE1A5CA1
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 16:52:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id vvSzqQ4SLfMj for <dev@httpd.apache.org>;
	Thu, 18 Jun 2015 16:52:20 +0000 (UTC)
Received: from resqmta-ch2-10v.sys.comcast.net (resqmta-ch2-10v.sys.comcast.net [69.252.207.42])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id AF8BA22F03
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 16:52:20 +0000 (UTC)
Received: from resomta-ch2-18v.sys.comcast.net ([69.252.207.114])
	by resqmta-ch2-10v.sys.comcast.net with comcast
	id hsrc1q0052Udklx01ssEGq; Thu, 18 Jun 2015 16:52:14 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-18v.sys.comcast.net with comcast
	id hssD1q0032U0RYt01ssDAr; Thu, 18 Jun 2015 16:52:14 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: Additional LB providers
Message-Id: <954663F0-5579-4C5C-9908-1B5374AB6766@jaguNET.com>
Date: Thu, 18 Jun 2015 12:52:12 -0400
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1434646334;
	bh=JxVyophhp5N3om5S2k33QBVTTO1onihlgqkOzsYqQIc=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=tgTiEp03TwvRa4b0sofK4IPoO3etSFF+wDhzPr4ONLRdu4TrU360lUC9licvhYpvQ
	 bI6teca752HQ5UgbH99RZLRH2UnP39ZXTfbOn9vIWgtVmpLT75Fv4K2G/IQNRzP+3o
	 fwKflGaMpumuto4IhYQzNlWH5F0EGLgHKFGEBQHbWA3xdWt7fIIL0ix5OmGnG9suMM
	 VrMskc4Ty+KpNFbmYm4fzHgK32PbaX2PBoEkxEdMVB18ccTKh3FYXGOK2HDIy9hd6h
	 7vA+3nnIAXPo3FWDvDmHYfG/aulpQyEkH8VX2wsXRo677KYws0AHEuQWUlOdBvZKqt
	 h/1ZZ67LphZYw==

I'm playing around w/ a newish LB provider that balances based
on latency. I'd like to fold it in after I clean it up a bit
but it seems to me that we could also fold in the round-robin
provider in example (after a suitable cleanup) as well as add
in a simply by_random as well.

Comments?

From dev-return-83046-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 18 17:07:42 2015
Return-Path: <dev-return-83046-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 04F1118F12
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Jun 2015 17:07:42 +0000 (UTC)
Received: (qmail 14825 invoked by uid 500); 18 Jun 2015 17:07:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14741 invoked by uid 500); 18 Jun 2015 17:07:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14722 invoked by uid 99); 18 Jun 2015 17:07:41 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 17:07:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 27E131A5BC3
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 17:07:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id oEYYu4T1_IF7 for <dev@httpd.apache.org>;
	Thu, 18 Jun 2015 17:07:40 +0000 (UTC)
Received: from mail-ig0-f180.google.com (mail-ig0-f180.google.com [209.85.213.180])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 4AE54428E3
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 17:07:40 +0000 (UTC)
Received: by igbiq7 with SMTP id iq7so96190549igb.1
        for <dev@httpd.apache.org>; Thu, 18 Jun 2015 10:07:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=OF/GDRpfE7d3btbOqcfwOdEsW8X2STLTMe8wAVo5nps=;
        b=HymY55p1mPWWvW5p/ANTTsrofthGKFRjLb51OGeIqocz9eWVnpdErs6DNU9wdMY0y/
         S0cZ7Y0hVudA7coMieBkSUPFC1QMBGdnwSZ/jS2ipx8IITz8rfFNHyakJmmINcWwbqBJ
         uXnQqeSTKPpSk0BftavBfpQUhmqxHIGtJeXCISuQ3/NXfkCf0bxhppl2VPEpfganPYKh
         WzWykOct7FMPJ7Tnlv+efzcAsXeFEa7wfjCO/N0X6NhGFA+WdE8pWWMPvbpIhurKDQUf
         jBcEv8aq1tYDaE5Nw8l5aBXS13j8o59Z7walpOvS3x8dFV94L/oZtH8133I5Uio1ylfp
         679Q==
MIME-Version: 1.0
X-Received: by 10.42.203.4 with SMTP id fg4mr13729645icb.52.1434647259948;
 Thu, 18 Jun 2015 10:07:39 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Thu, 18 Jun 2015 10:07:39 -0700 (PDT)
Date: Thu, 18 Jun 2015 19:07:39 +0200
Message-ID: <CAKQ1sVN6OQjyMU1B4vUTeCy0ko=YQLBXSbJUJMpzX8+6Evs8cA@mail.gmail.com>
Subject: Re: svn commit: r1686248 - /httpd/httpd/branches/2.4.x/STATUS
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Thu, Jun 18, 2015 at 5:39 PM,  <wrowe@apache.org> wrote:
> Author: wrowe
> Date: Thu Jun 18 15:39:53 2015
> New Revision: 1686248
>
> URL: http://svn.apache.org/r1686248
> Log:
> After addressing a defect, don't discuss, this isn't a forum :)
>
> Note the patch is updated, and delete now-irrelevant comments/votes.

It seems to me that since a -1 needs to be argued, it can't be deleted without..

From dev-return-83047-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 18 17:08:19 2015
Return-Path: <dev-return-83047-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2909C18F3F
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Jun 2015 17:08:19 +0000 (UTC)
Received: (qmail 23632 invoked by uid 500); 18 Jun 2015 17:08:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23574 invoked by uid 500); 18 Jun 2015 17:08:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23564 invoked by uid 99); 18 Jun 2015 17:08:18 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 17:08:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 45957C08D7
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 17:08:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Mneu039V-NWi for <dev@httpd.apache.org>;
	Thu, 18 Jun 2015 17:08:11 +0000 (UTC)
Received: from resqmta-ch2-07v.sys.comcast.net (resqmta-ch2-07v.sys.comcast.net [69.252.207.39])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 78757428E3
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 17:08:11 +0000 (UTC)
Received: from resomta-ch2-12v.sys.comcast.net ([69.252.207.108])
	by resqmta-ch2-07v.sys.comcast.net with comcast
	id ht6j1q0052LrikM01t85pw; Thu, 18 Jun 2015 17:08:05 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-12v.sys.comcast.net with comcast
	id ht841q00L2U0RYt01t85db; Thu, 18 Jun 2015 17:08:05 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: NOTE: Intent to T&R 2.4.15 Tomorrow (Friday, June 19)
Message-Id: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com>
Date: Thu, 18 Jun 2015 13:08:04 -0400
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1434647285;
	bh=6WYm3cWYN9d080AHc3fnoajgYvYAbbwZlTWH6uvjEbA=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=TMlX9Mv1XAjvL3RtRfdeTU+VXug88o1vUPnhPqX2CKCqdbgXJ+9HGKoskRlDWh+Ga
	 SbNC+AYmFAXmRSN0/HKBtycR2Nrgz48mbaMVdmoj5M7EOKk9O+FkEQamSFcKujBHYe
	 kV4OekRg2k70HxpzzXjwdAoCD90DGulvfquppL0PLkJsWcHiknCedoNUywnQkarwsX
	 z8NoxfIL7/QKieQZ8lccpwk4qzQSNa1nO8NX3IaLpxc+yiHPEFntqHnqKUn8V8OyFs
	 y+JSTQta03o1RU2D+Y0N11Hmv4tXakijtTmepGiEK36OHcTIiGeCs+1F0D8Ig6i7T5
	 3Gc26YNPEheCw==

Subj sez it all.

From dev-return-83048-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 18 17:14:59 2015
Return-Path: <dev-return-83048-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C47DF18FE6
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Jun 2015 17:14:59 +0000 (UTC)
Received: (qmail 47000 invoked by uid 500); 18 Jun 2015 17:14:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46928 invoked by uid 500); 18 Jun 2015 17:14:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46918 invoked by uid 99); 18 Jun 2015 17:14:59 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 17:14:59 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id BD6D1182234
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 17:14:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.891
X-Spam-Level: *
X-Spam-Status: No, score=1.891 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id GzckDTMYB_oW for <dev@httpd.apache.org>;
	Thu, 18 Jun 2015 17:14:57 +0000 (UTC)
Received: from mail-ie0-f181.google.com (mail-ie0-f181.google.com [209.85.223.181])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 756C343DA5
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 17:14:57 +0000 (UTC)
Received: by iebmu5 with SMTP id mu5so59093718ieb.1
        for <dev@httpd.apache.org>; Thu, 18 Jun 2015 10:14:12 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=5Yr2Kv1siaM0RNlaJ4suqePHPeDHpfuQheyMCp9Hwl8=;
        b=JXQmbwJYqhJ8hsf0WMzBpMrLGxYvUtXoL9Rgl4dHoU5w9x5lSqW/H8weArAgnXLLeN
         gELG4VDUdxM1pVVuVdj39N6WFG6oYwc2MesCaYT45v3EV3xKSZgVLRID36iWrXFzRAqA
         wgB6svH2ERX/cBZB+dsFSH6N/uUBAdsle4YI+P67elLjcfOHkgYMCpWUTuNoDVAeRDGK
         5wJCj9McCMVB0E7rrwHwBC7jX//8sl0Uu5JrA2WXkrdFt/HAV/n5HTMPEzopfBUH9/he
         Xc5KoHAxRn+yeD2NpsRHzDUigT8m/fq5LuOAXmH5/6Pir3eg7QZLQfcnduichQtyzF3s
         VAUg==
X-Gm-Message-State: ALoCoQn1adTogocEklsUY6s2G0ySjKv+WsIRbtye67UZaSEuzsHyHQsTNqR/jyElSvDk59iwT9Tk
MIME-Version: 1.0
X-Received: by 10.42.144.131 with SMTP id b3mr7005314icv.35.1434647651967;
 Thu, 18 Jun 2015 10:14:11 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Thu, 18 Jun 2015 10:14:11 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <CAKQ1sVN6OQjyMU1B4vUTeCy0ko=YQLBXSbJUJMpzX8+6Evs8cA@mail.gmail.com>
References: <CAKQ1sVN6OQjyMU1B4vUTeCy0ko=YQLBXSbJUJMpzX8+6Evs8cA@mail.gmail.com>
Date: Thu, 18 Jun 2015 12:14:11 -0500
Message-ID: <CACsi25151yHPE2v50JtZJNiEoTkkr9b_8V7szeU-JoNH-SAcLg@mail.gmail.com>
Subject: Re: svn commit: r1686248 - /httpd/httpd/branches/2.4.x/STATUS
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=90e6ba1efd28aceb220518cdef20

--90e6ba1efd28aceb220518cdef20
Content-Type: text/plain; charset=UTF-8

In some cases, perhaps, but this was objection asked-and-answered so my -1
was void.

On Thu, Jun 18, 2015 at 12:07 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> On Thu, Jun 18, 2015 at 5:39 PM,  <wrowe@apache.org> wrote:
> > Author: wrowe
> > Date: Thu Jun 18 15:39:53 2015
> > New Revision: 1686248
> >
> > URL: http://svn.apache.org/r1686248
> > Log:
> > After addressing a defect, don't discuss, this isn't a forum :)
> >
> > Note the patch is updated, and delete now-irrelevant comments/votes.
>
> It seems to me that since a -1 needs to be argued, it can't be deleted
> without..
>

--90e6ba1efd28aceb220518cdef20
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">In some cases, perhaps, but this was objection asked-and-a=
nswered so my -1 was void.</div><div class=3D"gmail_extra"><br><div class=
=3D"gmail_quote">On Thu, Jun 18, 2015 at 12:07 PM, Yann Ylavic <span dir=3D=
"ltr">&lt;<a href=3D"mailto:ylavic.dev@gmail.com" target=3D"_blank">ylavic.=
dev@gmail.com</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" st=
yle=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><span=
 class=3D"">On Thu, Jun 18, 2015 at 5:39 PM,=C2=A0 &lt;<a href=3D"mailto:wr=
owe@apache.org">wrowe@apache.org</a>&gt; wrote:<br>
&gt; Author: wrowe<br>
&gt; Date: Thu Jun 18 15:39:53 2015<br>
&gt; New Revision: 1686248<br>
&gt;<br>
&gt; URL: <a href=3D"http://svn.apache.org/r1686248" rel=3D"noreferrer" tar=
get=3D"_blank">http://svn.apache.org/r1686248</a><br>
&gt; Log:<br>
&gt; After addressing a defect, don&#39;t discuss, this isn&#39;t a forum :=
)<br>
&gt;<br>
&gt; Note the patch is updated, and delete now-irrelevant comments/votes.<b=
r>
<br>
</span>It seems to me that since a -1 needs to be argued, it can&#39;t be d=
eleted without..<br>
</blockquote></div><br></div>

--90e6ba1efd28aceb220518cdef20--

From dev-return-83049-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 18 18:16:48 2015
Return-Path: <dev-return-83049-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A2D9A17545
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Jun 2015 18:16:48 +0000 (UTC)
Received: (qmail 29820 invoked by uid 500); 18 Jun 2015 18:16:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29746 invoked by uid 500); 18 Jun 2015 18:16:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29735 invoked by uid 99); 18 Jun 2015 18:16:48 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 18:16:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C5A9BCEC5D
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 18:16:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.88
X-Spam-Level: **
X-Spam-Status: No, score=2.88 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id vgkYzt8rsc0B for <dev@httpd.apache.org>;
	Thu, 18 Jun 2015 18:16:42 +0000 (UTC)
Received: from mail-yk0-f170.google.com (mail-yk0-f170.google.com [209.85.160.170])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 76B4526216
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 18:16:41 +0000 (UTC)
Received: by ykfr66 with SMTP id r66so72983960ykf.0
        for <dev@httpd.apache.org>; Thu, 18 Jun 2015 11:16:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=fdbHZ+bn6r5ypjxj5L/5dq96NSOXjVn3vNkCbfefLS0=;
        b=kqik6sY71TbSifY58ZUw34M++uk8JTneAFr647Re0aoKNuJTi73BsoFglKCFdgVTpf
         kZthYPptx8SNeYdBjByKTxsoUKyag+RNHwvz2h2OJGuz1118Ux6s2zuQcfvlE4KBpuat
         KgzTf6wvm8R7ZPVtSzJKcBG5yjO8PczdhteCYwJ1CTrbNtwGfGGXv4co0WbISHAEPUBr
         5/1EEMhngKh9teYWgqxcR2B7hkl7x8rtZQn0awQE0U7qqfHxWu6lNxg3DVzmcvXDvtn0
         5bpIa3KD+U0dBb4MnRgaHeOsDCXKjcyT4noY7SrhZJU+yUTpnD8dCGG52YziFMTVe1IP
         zBwQ==
MIME-Version: 1.0
X-Received: by 10.13.243.65 with SMTP id c62mr15044894ywf.114.1434651400595;
 Thu, 18 Jun 2015 11:16:40 -0700 (PDT)
Received: by 10.13.241.133 with HTTP; Thu, 18 Jun 2015 11:16:40 -0700 (PDT)
In-Reply-To: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com>
References: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com>
Date: Thu, 18 Jun 2015 14:16:40 -0400
Message-ID: <CAKUrXK6ePS9aCLPg-C4wG14ubHpnwN9Nntva4SSQw3Ww0Gqz1A@mail.gmail.com>
Subject: Re: NOTE: Intent to T&R 2.4.15 Tomorrow (Friday, June 19)
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=94eb2c0363281bf0740518cecf53

--94eb2c0363281bf0740518cecf53
Content-Type: text/plain; charset=UTF-8

On Thu, Jun 18, 2015 at 1:08 PM, Jim Jagielski <jim@jagunet.com> wrote:

> Subj sez it all.
>

+!

--94eb2c0363281bf0740518cecf53
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
hu, Jun 18, 2015 at 1:08 PM, Jim Jagielski <span dir=3D"ltr">&lt;<a href=3D=
"mailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt;</span> w=
rote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;borde=
r-left:1px #ccc solid;padding-left:1ex">Subj sez it all.<br>
</blockquote></div><br>+!<br clear=3D"all"><div><br></div>
</div></div>

--94eb2c0363281bf0740518cecf53--

From dev-return-83050-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 18 18:46:23 2015
Return-Path: <dev-return-83050-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 50B8E176A9
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Jun 2015 18:46:23 +0000 (UTC)
Received: (qmail 39130 invoked by uid 500); 18 Jun 2015 18:46:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39052 invoked by uid 500); 18 Jun 2015 18:46:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 39042 invoked by uid 99); 18 Jun 2015 18:46:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 18:46:22 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of wrowe@rowe-clan.net designates 209.85.223.171 as permitted sender)
Received: from [209.85.223.171] (HELO mail-ie0-f171.google.com) (209.85.223.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 18:44:08 +0000
Received: by iebmu5 with SMTP id mu5so60691209ieb.1
        for <dev@httpd.apache.org>; Thu, 18 Jun 2015 11:45:54 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=pwAoUQm1H/mbZUg1V6vq47WpvX+2Eqql8b74qAlU4Uw=;
        b=S4du6qqjBCiNcVD/BHLR9gOGZTByQLfz7snl6LaFiskWjzkU1SXsLpk9alLljtJR0J
         lVMmTNGAjchqmMY6GCcmkGlvo4ecmB0pN9t2Iz2LkTrAwjmNG/0IddWdo7Ef3GUdmxVv
         yy7t3WuGus7RHagK4RpYc2C+WB7XGL0OS6d3gFNarK+T5YgEr8l6K5s6ZBeoBghMQv9W
         Dm50VKOz19pcoYAq4UOt7ie3WsqQtTfdARaFVDp0dg9Miwq3qNHjcGsnSymMzcKumGFX
         qkMvh7Rr/qIuqSDJTzCk1mDM2H5IIxRDBIt4iNHHY39t9InOFl7dUNnGIgZDpwcnvEsI
         Syew==
X-Gm-Message-State: ALoCoQkxAcOlPh9vjGwBOKWyTue0wp7sxNFYieIlpzFc/c9Z3pYyn09NvhrEYuWZdkoJ7jyvP9RN
MIME-Version: 1.0
X-Received: by 10.50.50.130 with SMTP id c2mr19836587igo.19.1434653154784;
 Thu, 18 Jun 2015 11:45:54 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Thu, 18 Jun 2015 11:45:54 -0700 (PDT)
X-Originating-IP: [2600:1008:b10a:9074:fecc:506:e7c0:837f]
Received: by 10.107.190.195 with HTTP; Thu, 18 Jun 2015 11:45:54 -0700 (PDT)
In-Reply-To: <CALK=YjM+hWqU+gEvfxwVVh83_juyzYitJf=Dthmpo7LTo7DTaA@mail.gmail.com>
References: <CACsi251wFnbi32CmyG9R4vGWj9CZo+=0kh+7w5sa4Ckqm_CdrA@mail.gmail.com>
	<CACsi250Fp0_9+zkRH613_1VTB6EYS_dUX2_Mdpz_imddMwBiwA@mail.gmail.com>
	<391221C823A2480098DB91286F7B4563@father>
	<CACsi252jKJDt1gzmkkysia062eR0YOPXC_NYkQ=+_vfzupwc-w@mail.gmail.com>
	<CALK=YjM+hWqU+gEvfxwVVh83_juyzYitJf=Dthmpo7LTo7DTaA@mail.gmail.com>
Date: Thu, 18 Jun 2015 13:45:54 -0500
Message-ID: <CACsi2508JsmqRaWweosGRdvPFNO0f2xZCkeJ3PM9DvYieHbk_g@mail.gmail.com>
Subject: Re: Roll 2.2.30 in conjunction with 2.4.14
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7b86dd26ab196a0518cf3788
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b86dd26ab196a0518cf3788
Content-Type: text/plain; charset=UTF-8

On Jun 11, 2015 8:22 AM, "Eric Covener" <covener@gmail.com> wrote:
>
> On Thu, Jun 11, 2015 at 9:08 AM William A Rowe Jr <wrowe@rowe-clan.net>
wrote:
>>
>> But withholding a security fix for legacy server users?  Sounds like a
way to earn distrust of the user community, not reassure them that 2.4.14
is the best version available.
>
> +1

The 2.2 patches are in alignment with the resolved 2.4 security patches
plus relaxed trailing spaces rule. Yann and I have reviewed, still weeks
later 2.2.30 needs one more pair of eyeballs and a third +1 of the 2
patches.

I can T&R in the morning Friday if it has been reviewed, else it will be a
while before I can RM.

--047d7b86dd26ab196a0518cf3788
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">On Jun 11, 2015 8:22 AM, &quot;Eric Covener&quot; &lt;<a hre=
f=3D"mailto:covener@gmail.com">covener@gmail.com</a>&gt; wrote:<br>
&gt;<br>
&gt; On Thu, Jun 11, 2015 at 9:08 AM William A Rowe Jr &lt;<a href=3D"mailt=
o:wrowe@rowe-clan.net">wrowe@rowe-clan.net</a>&gt; wrote:<br>
&gt;&gt;<br>
&gt;&gt; But withholding a security fix for legacy server users?=C2=A0 Soun=
ds like a way to earn distrust of the user community, not reassure them tha=
t 2.4.14 is the best version available.<br>
&gt;<br>
&gt; +1</p>
<p dir=3D"ltr">The 2.2 patches are in alignment with the resolved 2.4 secur=
ity patches plus relaxed trailing spaces rule.  Yann and I have reviewed, s=
till weeks later 2.2.30 needs one more pair of eyeballs and a third +1 of t=
he 2 patches.</p>
<p dir=3D"ltr">I can T&amp;R in the morning Friday if it has been reviewed,=
 else it will be a while before I can RM.</p>

--047d7b86dd26ab196a0518cf3788--

From dev-return-83051-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 18 19:04:04 2015
Return-Path: <dev-return-83051-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0B8C6177CB
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Jun 2015 19:04:04 +0000 (UTC)
Received: (qmail 8540 invoked by uid 500); 18 Jun 2015 19:04:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 8468 invoked by uid 500); 18 Jun 2015 19:04:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 8458 invoked by uid 99); 18 Jun 2015 19:04:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 19:04:03 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ohauer@gmx.de designates 212.227.15.15 as permitted sender)
Received: from [212.227.15.15] (HELO mout.gmx.net) (212.227.15.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 19:01:46 +0000
Received: from [192.168.0.100] ([87.139.233.65]) by mail.gmx.com (mrgmx001)
 with ESMTPSA (Nemesis) id 0LjrDd-1YYXL515Qn-00bvfy for
 <dev@httpd.apache.org>; Thu, 18 Jun 2015 21:03:34 +0200
Message-ID: <55831605.3010801@gmx.de>
Date: Thu, 18 Jun 2015 21:03:33 +0200
From: olli hauer <ohauer@gmx.de>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: NOTE: Intent to T&R 2.4.15 Tomorrow (Friday, June 19)
References: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com>
In-Reply-To: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com>
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: 8bit
X-Provags-ID:  V03:K0:Go7yPPaxnPzccDIkLohlMUrWhifFK7R4ZJYZFePdqANdpOkMSs7
 k3e+Sj1PLvncbG11ed/t8olkztOM+Cr07c8k3V3gNUoczw4If2b2exZr7uaZOHXYunwcMln
 agA+Hjq3mboakJLPqyBQqSLQcGXAm+2EJMjJUWgJ+yEWwy25bKrVRZd/Y36irJFK8NoPsD2
 KNfOzM27K42OCP9eZ03Eg==
X-UI-Out-Filterresults: notjunk:1;V01:K0:3JAuvMjQ4Kk=:F7dJoB3e6/uVb04VBgIPs3
 2z3XtMdaU94UmF+XT2ZPcG+pDV0uV/WYg5iydwUBIHSpWFob9ZFyt5KzoV4UaSPAkNSbalnpB
 rn0V9HcdGcKzxx93WxgBr1D+Dgif3kJwrJeKo0xggJlpcPag1h5aTnEU2IY+Ja+R2xAx2PpIt
 HY8Rymss9WiSY/jbPbs/7xCHGj3JEghOxlfGovDjSRwAdksikEfJz7NYVaj6obZVxuuP0GzOG
 Dl8A0Uukj2WwQ1NmS8Sg9iDqKlhxaFMYNnh5mUXgetwY1Wx/CB0TG/5o/QdbtvevpST/GB8kj
 GkbZibUrI+O3zECnr84vFUMv/XGjhmadXugkWc3x54mcdUJ7TNH0gW8PqawmOOnDi1laUQ9/V
 edEB1nCYFhOqSVx8TZdJLC/x96FCOX2okR6Q2DYoRGUrZXwi3bFmWIUT+7GEZ08htQfzGpGvu
 ULzvWVq9gY0eg53r4sCQSGbbD6hg+ny0RbO6je3l6QeTwm3B0JoOUngMaTNB+6VlTf6FDxNOx
 QqcQiUIsFTyZiLRv5FkeLjdGcpRNZJN2fPg5G/edO02zasL3aPaJXxtbeneVOJGIn6/QQLLV0
 jVNksJRi8ErHBCPTxtQoQ9TQ8zGlBqUIEOPlN/mkNZP6d2XfdHmaY9XB20a9kwKwhiX62PnT2
 79Vk3t1bQRYkj0GZJtBU3RTRrhIISOWAxQybMzah8VV79diMV0Wb7McewYvNm2SxVnQQ=
X-Virus-Checked: Checked by ClamAV on apache.org

On 2015-06-18 19:08, Jim Jagielski wrote:
> Subj sez it all.
> 

I don't know if it is worth to report this, but the on 2.4.12. I don't see the following warnings

Test build 2.4.15 (Last Changed Rev: 1686275)

--- core.lo ---
core.c:5003:1: warning: unused variable 'aplog_module_index' [-Wunused-const-variable]
AP_DECLARE_MODULE(core) = {
^
/usr/ports/www/apache24/work/httpd-2.4.14/include/http_config.h:437:5: note: expanded from macro 'AP_DECLARE_MODULE'
    APLOG_USE_MODULE(foo);                         \
    ^
/usr/ports/www/apache24/work/httpd-2.4.14/include/http_config.h:427:24: note: expanded from macro 'APLOG_USE_MODULE'
    static int * const aplog_module_index = &(foo##_module.module_index)
                       ^
--- http_core.lo ---
http_core.c:320:1: warning: unused variable 'aplog_module_index' [-Wunused-const-variable]
AP_DECLARE_MODULE(http) = {
^
/usr/ports/www/apache24/work/httpd-2.4.14/include/http_config.h:437:5: note: expanded from macro 'AP_DECLARE_MODULE'
    APLOG_USE_MODULE(foo);                         \
    ^
/usr/ports/www/apache24/work/httpd-2.4.14/include/http_config.h:427:24: note: expanded from macro 'APLOG_USE_MODULE'
    static int * const aplog_module_index = &(foo##_module.module_index)
                       ^
--- mod_buffer.slo ---
...



From dev-return-83052-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 18 19:32:33 2015
Return-Path: <dev-return-83052-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3C0C217919
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Jun 2015 19:32:33 +0000 (UTC)
Received: (qmail 98515 invoked by uid 500); 18 Jun 2015 19:32:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 98438 invoked by uid 500); 18 Jun 2015 19:32:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 98428 invoked by uid 99); 18 Jun 2015 19:32:27 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 19:32:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 695E9CEC90
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 19:32:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id FquDiCkVuIEq for <dev@httpd.apache.org>;
	Thu, 18 Jun 2015 19:32:21 +0000 (UTC)
Received: from mail-ig0-f179.google.com (mail-ig0-f179.google.com [209.85.213.179])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id A9AB722F03
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 19:32:21 +0000 (UTC)
Received: by igbzc4 with SMTP id zc4so2835930igb.0
        for <dev@httpd.apache.org>; Thu, 18 Jun 2015 12:32:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=svqhmMuQsvVQ8u2np5SBdzxhZgaSWwFrsIbAHZufvvc=;
        b=fXov6EpaqJoEiOxxQG6iyz2GKn2OiHGJR3Bx7F5A3OGW1npSLeEUG8Jtf9LcuCS9oA
         jJT2RaJBkV8AZ20DpWIx9vGMTxqAdmB4wo7tTT5nwmhgAJxaK+ej+lQSD/dTP3Hoo+FK
         g7gXNfRIVROtQ16kDmMEo2zoYKwFQzOx5YsJOrVnghQieHNe2+TiZET1o6rKX4sCnIQG
         LkflPhIcYM6DRCgVHY3ITOg4nh5ikKDi9NUwc75uzs+h8xQ7YT0nOj1zJmtXcF2vuVKz
         p74k0y1pT+jOwKNjOABUXKsuWr0fNMV7dwRRK/VnZZeUrhwH1eNTuqjK1Sot22PDNdKj
         g+YQ==
MIME-Version: 1.0
X-Received: by 10.50.79.230 with SMTP id m6mr20073435igx.46.1434655941212;
 Thu, 18 Jun 2015 12:32:21 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Thu, 18 Jun 2015 12:32:21 -0700 (PDT)
In-Reply-To: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com>
References: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com>
Date: Thu, 18 Jun 2015 21:32:21 +0200
Message-ID: <CAKQ1sVOcB9DA1CFR8L2KcVboAt1B55eqQm4UWuC4WZpUB8Z=GQ@mail.gmail.com>
Subject: Re: NOTE: Intent to T&R 2.4.15 Tomorrow (Friday, June 19)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Thu, Jun 18, 2015 at 7:08 PM, Jim Jagielski <jim@jagunet.com> wrote:
> Subj sez it all.

+1

Maybe including the gcc warning silenced in r1684057 (proposed in r1686298)?

From dev-return-83053-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 18 19:48:49 2015
Return-Path: <dev-return-83053-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 980F2179EA
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Jun 2015 19:48:49 +0000 (UTC)
Received: (qmail 37316 invoked by uid 500); 18 Jun 2015 19:48:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 37246 invoked by uid 500); 18 Jun 2015 19:48:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 37236 invoked by uid 99); 18 Jun 2015 19:48:49 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 19:48:49 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id A24AE182234
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 19:48:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.208
X-Spam-Level:
X-Spam-Status: No, score=-1.208 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id Gh6bMvcvINEr for <dev@httpd.apache.org>;
	Thu, 18 Jun 2015 19:48:42 +0000 (UTC)
Received: from mail-ie0-f176.google.com (mail-ie0-f176.google.com [209.85.223.176])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 747BD42B0E
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 19:48:42 +0000 (UTC)
Received: by iefd2 with SMTP id d2so5350415ief.2
        for <dev@httpd.apache.org>; Thu, 18 Jun 2015 12:48:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=FjhURkq3dnJ3kDCTx6pnLp7Ng1P0UJUK5eBavg0Swi8=;
        b=qp0Mac9C1MYi7a0AqiKzRGxyvFUBfATGV1QsM0bfnHu7WGAvzHPqpZTN09eJRXIDTC
         vpsm/1TpN2KD/ahQc2L28Lb8y/c7WIzAsD2iSgaEr9EjEqFboJrlGGCulKYAU0WsVTwD
         hk6jqAa4N0rVbWHTFT2HvKMuBrEHMlEg7Si9knZOAP9efKd7FJqcPlAKZM2ls+5+1qph
         THSekQ+iFwIt7VsOVmog8bx1LcFtSqlnsSK1RV4FCG96txXAN1jpLKDJoHuN7iSt/44j
         nybg6Rvnnxoz+rrkoLg3hB85yaDXiebx4B4i7k7uEtDh3zFzE01E26Xlch03GO/pPEGH
         Fkcg==
MIME-Version: 1.0
X-Received: by 10.107.46.226 with SMTP id u95mr16405219iou.68.1434656922142;
 Thu, 18 Jun 2015 12:48:42 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Thu, 18 Jun 2015 12:48:42 -0700 (PDT)
In-Reply-To: <55831605.3010801@gmx.de>
References: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com>
	<55831605.3010801@gmx.de>
Date: Thu, 18 Jun 2015 21:48:42 +0200
Message-ID: <CAKQ1sVNbfzO9GbKd12tG74T8KhUJAdJvr_UjsyKY=mAFwh_Paw@mail.gmail.com>
Subject: Re: NOTE: Intent to T&R 2.4.15 Tomorrow (Friday, June 19)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Thu, Jun 18, 2015 at 9:03 PM, olli hauer <ohauer@gmx.de> wrote:
> On 2015-06-18 19:08, Jim Jagielski wrote:
>> Subj sez it all.
>>
>
> I don't know if it is worth to report this, but the on 2.4.12. I don't see the following warnings

These were not in 2.4.12 with the same compiler (and version)?

From dev-return-83054-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 18 19:54:16 2015
Return-Path: <dev-return-83054-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5A36817A75
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Jun 2015 19:54:16 +0000 (UTC)
Received: (qmail 74536 invoked by uid 500); 18 Jun 2015 19:54:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 74469 invoked by uid 500); 18 Jun 2015 19:54:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 74459 invoked by uid 99); 18 Jun 2015 19:54:15 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 19:54:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 6AFB8C08D7
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 19:54:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id MzZNN8qKadaA for <dev@httpd.apache.org>;
	Thu, 18 Jun 2015 19:54:05 +0000 (UTC)
Received: from mail-yk0-f180.google.com (mail-yk0-f180.google.com [209.85.160.180])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id E4A61428E3
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 19:54:04 +0000 (UTC)
Received: by ykdr198 with SMTP id r198so75480831ykd.3
        for <dev@httpd.apache.org>; Thu, 18 Jun 2015 12:54:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=9lPiy5iUDLpn7x6blte+l36qAi4/hjtVcrooGS2H+6s=;
        b=ZbZcciT9ROQF7gYQ325oP0B/RIXnC+BCn/qmxJ3z2oO0DZSvDWrH5d/Am9E8R9igBv
         +1JpFFrjfXBr4zsNqv8bKIj5bDJkNWZKfUltNyhxOl17CJWOAzwOUlU3uq+iOEMLwGwe
         nYG4oXJR18+F7gy4qJ1bERqx0CJvZqb/skxsHE2gvFVB25JLAyO9RcTurLwJs+PJxXMG
         r31BMLA5BaivQ2iOWcsMLPyg96wcYwc0J/56in55g5gpJnupqCP/iaN316tAkRz5g4V4
         5u0kkpWdAqZ46XgS26SCcMsVsVvOsvjLTLFdwQxIdHOoeN9n8ZNXIYn+EkqnD1HXMrQM
         ZKjA==
MIME-Version: 1.0
X-Received: by 10.170.84.215 with SMTP id b206mr15636675yka.21.1434657244581;
 Thu, 18 Jun 2015 12:54:04 -0700 (PDT)
Received: by 10.13.241.133 with HTTP; Thu, 18 Jun 2015 12:54:04 -0700 (PDT)
In-Reply-To: <55831605.3010801@gmx.de>
References: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com>
	<55831605.3010801@gmx.de>
Date: Thu, 18 Jun 2015 15:54:04 -0400
Message-ID: <CAKUrXK61+54e6GQXTUT--k+___98Qr+W23e3yqAE_wySa-kAfA@mail.gmail.com>
Subject: Re: NOTE: Intent to T&R 2.4.15 Tomorrow (Friday, June 19)
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113a74ac7015d50518d02b0b

--001a113a74ac7015d50518d02b0b
Content-Type: text/plain; charset=UTF-8

On Thu, Jun 18, 2015 at 3:03 PM, olli hauer <ohauer@gmx.de> wrote:

> On 2015-06-18 19:08, Jim Jagielski wrote:
> > Subj sez it all.
> >
>
> I don't know if it is worth to report this, but the on 2.4.12. I don't see
> the following warnings
>

Are you using clang for both compiles?

(I think I saw those for 2.4.12,13,14 on FreeBSD 10.1 + Clang.)



>
> Test build 2.4.15 (Last Changed Rev: 1686275)
>
> --- core.lo ---
> core.c:5003:1: warning: unused variable 'aplog_module_index'
> [-Wunused-const-variable]
> AP_DECLARE_MODULE(core) = {
> ^
> /usr/ports/www/apache24/work/httpd-2.4.14/include/http_config.h:437:5:
> note: expanded from macro 'AP_DECLARE_MODULE'
>     APLOG_USE_MODULE(foo);                         \
>     ^
> /usr/ports/www/apache24/work/httpd-2.4.14/include/http_config.h:427:24:
> note: expanded from macro 'APLOG_USE_MODULE'
>     static int * const aplog_module_index = &(foo##_module.module_index)
>                        ^
> --- http_core.lo ---
> http_core.c:320:1: warning: unused variable 'aplog_module_index'
> [-Wunused-const-variable]
> AP_DECLARE_MODULE(http) = {
> ^
> /usr/ports/www/apache24/work/httpd-2.4.14/include/http_config.h:437:5:
> note: expanded from macro 'AP_DECLARE_MODULE'
>     APLOG_USE_MODULE(foo);                         \
>     ^
> /usr/ports/www/apache24/work/httpd-2.4.14/include/http_config.h:427:24:
> note: expanded from macro 'APLOG_USE_MODULE'
>     static int * const aplog_module_index = &(foo##_module.module_index)
>                        ^
> --- mod_buffer.slo ---
> ...
>
>
>


-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a113a74ac7015d50518d02b0b
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
hu, Jun 18, 2015 at 3:03 PM, olli hauer <span dir=3D"ltr">&lt;<a href=3D"ma=
ilto:ohauer@gmx.de" target=3D"_blank">ohauer@gmx.de</a>&gt;</span> wrote:<b=
r><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:=
1px #ccc solid;padding-left:1ex"><span class=3D"">On 2015-06-18 19:08, Jim =
Jagielski wrote:<br>
&gt; Subj sez it all.<br>
&gt;<br>
<br>
</span>I don&#39;t know if it is worth to report this, but the on 2.4.12. I=
 don&#39;t see the following warnings<br></blockquote><div><br></div><div>A=
re you using clang for both compiles?</div><div><br></div><div>(I think I s=
aw those for 2.4.12,13,14 on FreeBSD 10.1 + Clang.)</div><div><br></div><di=
v>=C2=A0</div><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;=
border-left:1px #ccc solid;padding-left:1ex">
<br>
Test build 2.4.15 (Last Changed Rev: 1686275)<br>
<br>
--- core.lo ---<br>
core.c:5003:1: warning: unused variable &#39;aplog_module_index&#39; [-Wunu=
sed-const-variable]<br>
AP_DECLARE_MODULE(core) =3D {<br>
^<br>
/usr/ports/www/apache24/work/httpd-2.4.14/include/http_config.h:437:5: note=
: expanded from macro &#39;AP_DECLARE_MODULE&#39;<br>
=C2=A0 =C2=A0 APLOG_USE_MODULE(foo);=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0\<br>
=C2=A0 =C2=A0 ^<br>
/usr/ports/www/apache24/work/httpd-2.4.14/include/http_config.h:427:24: not=
e: expanded from macro &#39;APLOG_USE_MODULE&#39;<br>
=C2=A0 =C2=A0 static int * const aplog_module_index =3D &amp;(foo##_module.=
module_index)<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0^<br>
--- http_core.lo ---<br>
http_core.c:320:1: warning: unused variable &#39;aplog_module_index&#39; [-=
Wunused-const-variable]<br>
AP_DECLARE_MODULE(http) =3D {<br>
^<br>
/usr/ports/www/apache24/work/httpd-2.4.14/include/http_config.h:437:5: note=
: expanded from macro &#39;AP_DECLARE_MODULE&#39;<br>
=C2=A0 =C2=A0 APLOG_USE_MODULE(foo);=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0\<br>
=C2=A0 =C2=A0 ^<br>
/usr/ports/www/apache24/work/httpd-2.4.14/include/http_config.h:427:24: not=
e: expanded from macro &#39;APLOG_USE_MODULE&#39;<br>
=C2=A0 =C2=A0 static int * const aplog_module_index =3D &amp;(foo##_module.=
module_index)<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0^<br>
--- mod_buffer.slo ---<br>
...<br>
<br>
<br>
</blockquote></div><br><br clear=3D"all"><div><br></div>-- <br><div class=
=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien..=
.<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyham=
mock.com/</a><div><br></div></div></div>
</div></div>

--001a113a74ac7015d50518d02b0b--

From dev-return-83055-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 18 20:00:50 2015
Return-Path: <dev-return-83055-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 994DB17ACF
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Jun 2015 20:00:50 +0000 (UTC)
Received: (qmail 97946 invoked by uid 500); 18 Jun 2015 20:00:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97874 invoked by uid 500); 18 Jun 2015 20:00:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97864 invoked by uid 99); 18 Jun 2015 20:00:50 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 20:00:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 9E9AA182234
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 20:00:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0
X-Spam-Level:
X-Spam-Status: No, score=0 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id p6p4hxgUBs4l for <dev@httpd.apache.org>;
	Thu, 18 Jun 2015 20:00:40 +0000 (UTC)
Received: from mout.gmx.net (mout.gmx.net [212.227.15.18])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id A2B9F42B0E
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 20:00:39 +0000 (UTC)
Received: from [192.168.0.100] ([87.139.233.65]) by mail.gmx.com (mrgmx003)
 with ESMTPSA (Nemesis) id 0LjZhg-1YYpDC1B9s-00beDO for
 <dev@httpd.apache.org>; Thu, 18 Jun 2015 22:00:38 +0200
Message-ID: <55832365.9050700@gmx.de>
Date: Thu, 18 Jun 2015 22:00:37 +0200
From: olli hauer <ohauer@gmx.de>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: NOTE: Intent to T&R 2.4.15 Tomorrow (Friday, June 19)
References: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com>	<55831605.3010801@gmx.de> <CAKUrXK61+54e6GQXTUT--k+___98Qr+W23e3yqAE_wySa-kAfA@mail.gmail.com>
In-Reply-To: <CAKUrXK61+54e6GQXTUT--k+___98Qr+W23e3yqAE_wySa-kAfA@mail.gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit
X-Provags-ID:  V03:K0:VUQ/f/fnH7+x+Rp+mXhbF3eLReWIRCHf8qEH5oW18bNLGRah8eg
 kNGupGxJNTDilU3d+iMVNQj0MUR/ZeUdHs9ZFjA/LmYJvJpHoTZa7pWD6Z+oqn1ZEyNwVzb
 EYEHEp6EqTwv4F7Ve5Ij9zw3v+v4yKZj3VVPKMLLovWwO8DfSioxtjQg4v2u5/j9JX3wRsD
 KKiDqH2OJwvFkUZsaUymQ==
X-UI-Out-Filterresults: notjunk:1;

On 2015-06-18 21:54, Jeff Trawick wrote:
> On Thu, Jun 18, 2015 at 3:03 PM, olli hauer <ohauer@gmx.de> wrote:
> 
>> On 2015-06-18 19:08, Jim Jagielski wrote:
>>> Subj sez it all.
>>>
>>
>> I don't know if it is worth to report this, but the on 2.4.12. I don't see
>> the following warnings
>>
> 
> Are you using clang for both compiles?
> 
> (I think I saw those for 2.4.12,13,14 on FreeBSD 10.1 + Clang.)
> 
> 

Yes, it is with clang (default on FreeBSD 10.x)

I've just build 2.4.12, 2.4.13 and 2.4.14 + a local patch to match the svn.
The warnings are present on with 2.4.13+ but is not on 2.4.12.


-- 
olli

From dev-return-83056-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 18 20:17:40 2015
Return-Path: <dev-return-83056-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 870E117C02
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Jun 2015 20:17:40 +0000 (UTC)
Received: (qmail 43831 invoked by uid 500); 18 Jun 2015 20:17:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 43758 invoked by uid 500); 18 Jun 2015 20:17:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 43748 invoked by uid 99); 18 Jun 2015 20:17:39 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 20:17:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 01B9BC08D7
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 20:17:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id x7p_cd7MKHDl for <dev@httpd.apache.org>;
	Thu, 18 Jun 2015 20:17:32 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id D2091203A3
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 20:17:31 +0000 (UTC)
Received: from [172.24.0.2] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t5IKHPUX029585
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 22:17:25 +0200 (CEST)
Message-ID: <5583274B.6020509@kippdata.de>
Date: Thu, 18 Jun 2015 22:17:15 +0200
From: Rainer Jung <rainer.jung@kippdata.de>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: NOTE: Intent to T&R 2.4.15 Tomorrow (Friday, June 19)
References: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com>	<55831605.3010801@gmx.de> <CAKUrXK61+54e6GQXTUT--k+___98Qr+W23e3yqAE_wySa-kAfA@mail.gmail.com>
In-Reply-To: <CAKUrXK61+54e6GQXTUT--k+___98Qr+W23e3yqAE_wySa-kAfA@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 18.06.2015 um 21:54 schrieb Jeff Trawick:
> On Thu, Jun 18, 2015 at 3:03 PM, olli hauer <ohauer@gmx.de
> <mailto:ohauer@gmx.de>> wrote:
>
>     On 2015-06-18 19:08, Jim Jagielski wrote:
>     > Subj sez it all.
>     >
>
>     I don't know if it is worth to report this, but the on 2.4.12. I
>     don't see the following warnings
>
>
> Are you using clang for both compiles?
>
> (I think I saw those for 2.4.12,13,14 on FreeBSD 10.1 + Clang.)

At least technically they are correct. aplog_module_index is used only 
in APLOG_MODULE_INDEX and this macro is redefined in core.c to use a 
known constant instead (likely for performance reasons).

And modules/http/http_core.c doesn't have any log statement which is 
probably the reason for not using aplog_module_index in that file.

So those are expected. The warnings don't actually point to a real 
problem except for any warning always make one feel uncomfortable.

The second warning could be silenced by adding a log statement.For the 
first I don't have an easy solution.

Regards,

Rainer

>     Test build 2.4.15 (Last Changed Rev: 1686275)
>
>     --- core.lo ---
>     core.c:5003:1: warning: unused variable 'aplog_module_index'
>     [-Wunused-const-variable]
>     AP_DECLARE_MODULE(core) = {
>     ^
>     /usr/ports/www/apache24/work/httpd-2.4.14/include/http_config.h:437:5:
>     note: expanded from macro 'AP_DECLARE_MODULE'
>          APLOG_USE_MODULE(foo);                         \
>          ^
>     /usr/ports/www/apache24/work/httpd-2.4.14/include/http_config.h:427:24:
>     note: expanded from macro 'APLOG_USE_MODULE'
>          static int * const aplog_module_index =
>     &(foo##_module.module_index)
>                             ^
>     --- http_core.lo ---
>     http_core.c:320:1: warning: unused variable 'aplog_module_index'
>     [-Wunused-const-variable]
>     AP_DECLARE_MODULE(http) = {
>     ^
>     /usr/ports/www/apache24/work/httpd-2.4.14/include/http_config.h:437:5:
>     note: expanded from macro 'AP_DECLARE_MODULE'
>          APLOG_USE_MODULE(foo);                         \
>          ^
>     /usr/ports/www/apache24/work/httpd-2.4.14/include/http_config.h:427:24:
>     note: expanded from macro 'APLOG_USE_MODULE'
>          static int * const aplog_module_index =
>     &(foo##_module.module_index)
>                             ^
>     --- mod_buffer.slo ---
>     ...

From dev-return-83057-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 18 20:39:40 2015
Return-Path: <dev-return-83057-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 292F017D43
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Jun 2015 20:39:40 +0000 (UTC)
Received: (qmail 12727 invoked by uid 500); 18 Jun 2015 20:39:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12649 invoked by uid 500); 18 Jun 2015 20:39:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12637 invoked by uid 99); 18 Jun 2015 20:39:39 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 20:39:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id F14E0CECBF
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 20:39:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.038
X-Spam-Level:
X-Spam-Status: No, score=-0.038 tagged_above=-999 required=6.31
	tests=[RCVD_IN_MSPIKE_H2=-0.038, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id i1nAE_1Jq3zk for <dev@httpd.apache.org>;
	Thu, 18 Jun 2015 20:39:32 +0000 (UTC)
Received: from mout.gmx.net (mout.gmx.net [212.227.15.18])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 9AEA1249EA
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 20:39:31 +0000 (UTC)
Received: from [192.168.0.100] ([87.139.233.65]) by mail.gmx.com (mrgmx001)
 with ESMTPSA (Nemesis) id 0MI5Ve-1Z8QQB3ahi-003xe8 for
 <dev@httpd.apache.org>; Thu, 18 Jun 2015 22:39:29 +0200
Message-ID: <55832C80.4030404@gmx.de>
Date: Thu, 18 Jun 2015 22:39:28 +0200
From: olli hauer <ohauer@gmx.de>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: NOTE: Intent to T&R 2.4.15 Tomorrow (Friday, June 19)
References: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com>	<55831605.3010801@gmx.de> <CAKUrXK61+54e6GQXTUT--k+___98Qr+W23e3yqAE_wySa-kAfA@mail.gmail.com> <5583274B.6020509@kippdata.de>
In-Reply-To: <5583274B.6020509@kippdata.de>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 8bit
X-Provags-ID:  V03:K0:qjS64BgWo1gKvNjE7EF8RRyZ3/nUXeXJ+Ly48hvDpZbv3g5urtD
 8yEIJbsJSwLlczyZeKLw+NYedz0fvvkX5BrVXtbb2jG7z9PTomDRaMgAElkXtmdOSZZzyDS
 TDlreIEndcN21ltZflv1C59alaAwbOEbBqfdjX0ExJqZp2O3y4oD/oEU/z5rTl0iDj+pPjh
 v++yQGWvdGwzCgdsuobNw==
X-UI-Out-Filterresults: notjunk:1;

On 2015-06-18 22:17, Rainer Jung wrote:
> Am 18.06.2015 um 21:54 schrieb Jeff Trawick:
>> On Thu, Jun 18, 2015 at 3:03 PM, olli hauer <ohauer@gmx.de
>> <mailto:ohauer@gmx.de>> wrote:
>>
>>     On 2015-06-18 19:08, Jim Jagielski wrote:
>>     > Subj sez it all.
>>     >
>>
>>     I don't know if it is worth to report this, but the on 2.4.12. I
>>     don't see the following warnings
>>
>>
>> Are you using clang for both compiles?
>>
>> (I think I saw those for 2.4.12,13,14 on FreeBSD 10.1 + Clang.)
> 
> At least technically they are correct. aplog_module_index is used only in APLOG_MODULE_INDEX and this macro is redefined in core.c to use a known constant instead (likely for performance reasons).
> 
> And modules/http/http_core.c doesn't have any log statement which is probably the reason for not using aplog_module_index in that file.
> 
> So those are expected. The warnings don't actually point to a real problem except for any warning always make one feel uncomfortable.
> 
> The second warning could be silenced by adding a log statement.For the first I don't have an easy solution.
> 
> Regards,
> 
> Rainer

Hi Rainer,

Thanks for your explanation!

The warnings are displayed on a couple more modules (mod_buffer, mod_data, mod_logio, mod_version, mod_session_cookie, mod_slotmem_plain, mod_info, mod_dav_fs, mod_vhost_alias, mod_userdir, mod_dir) I showed only a shortened summary snipped.

I can suppress the warnings in the FreeBSD ports tree for 2.4.15 and following releases.

-- 
Regards,
olli


From dev-return-83058-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 18 20:43:51 2015
Return-Path: <dev-return-83058-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A1F9117D91
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 18 Jun 2015 20:43:51 +0000 (UTC)
Received: (qmail 24643 invoked by uid 500); 18 Jun 2015 20:43:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 24554 invoked by uid 500); 18 Jun 2015 20:43:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 24543 invoked by uid 99); 18 Jun 2015 20:43:51 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 18 Jun 2015 20:43:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 75245C08D7
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 20:43:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.208
X-Spam-Level:
X-Spam-Status: No, score=-0.208 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	FREEMAIL_REPLY=1, RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id yKv_hVakQwPP for <dev@httpd.apache.org>;
	Thu, 18 Jun 2015 20:43:40 +0000 (UTC)
Received: from mail-ig0-f172.google.com (mail-ig0-f172.google.com [209.85.213.172])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 05E68428E3
	for <dev@httpd.apache.org>; Thu, 18 Jun 2015 20:43:40 +0000 (UTC)
Received: by igbiq7 with SMTP id iq7so317882igb.1
        for <dev@httpd.apache.org>; Thu, 18 Jun 2015 13:43:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=96qET87kwvlmSuSdixvJ+Ked0aEs1otN22CQgXL+psM=;
        b=CByLap0LT6LCjcYv5FbBetDUjd0vaLIRx+hohUNBNjMlk3Uy/FDFOsCITOCOOAHumI
         nas1YQPq+fq5K6XkbibLYhGX2gNu4L9I0//+ffUjpihyzoslGine0Kk5ijFWplH+tMMK
         3/WaYNSwlT7c2Un97nOqdpkYL1cL+nWVUe1mwmRct/KjoHA1lZM+sJ7nzW/6sEGUbHsB
         6gkQV799R6nYC59jKgbSElL8h5wROyI3UI/oAki/Es6cso6rMUm+B0ZAsdrdQlSxYGCZ
         vvFaMF0rYBRjJhOMzoVkMJNpCPIGQkHyaxmjpt7TOKj2dCeQdWRUMwrKz/Mfg+h2AEBr
         bT4Q==
MIME-Version: 1.0
X-Received: by 10.107.15.153 with SMTP id 25mr15863752iop.44.1434660219598;
 Thu, 18 Jun 2015 13:43:39 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Thu, 18 Jun 2015 13:43:39 -0700 (PDT)
In-Reply-To: <5583274B.6020509@kippdata.de>
References: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com>
	<55831605.3010801@gmx.de>
	<CAKUrXK61+54e6GQXTUT--k+___98Qr+W23e3yqAE_wySa-kAfA@mail.gmail.com>
	<5583274B.6020509@kippdata.de>
Date: Thu, 18 Jun 2015 22:43:39 +0200
Message-ID: <CAKQ1sVN5464wAiQ0GT2LdW=03Jx+6A7FU+2_sYQg=s_ZGXFdTw@mail.gmail.com>
Subject: Re: NOTE: Intent to T&R 2.4.15 Tomorrow (Friday, June 19)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/mixed; boundary=001a113ee4fcc3748a0518d0dc96

--001a113ee4fcc3748a0518d0dc96
Content-Type: text/plain; charset=UTF-8

Since wherever AP_DECLARE_MODULE is used we don't need the
APLOG_USE_MODULE part (ie. the static declaration of
aplog_module_index), that would possibly be better to use a new
AP_DEFINE_MODULE, simply as:

#define AP_DECLARE_MODULE(foo) \
    module AP_MODULE_DECLARE_DATA foo##_module

The attached patch (quite huge since it touches many modules) compiles
with no issue (with gcc which does no warn w/o the patch though).
No missing/undeclared aplog_module_index reported anywhere.

That's mainly (so to preserve the "legacy" AP_DECLARE_MODULE):

Index: include/http_config.h
===================================================================
--- include/http_config.h    (revision 1686298)
+++ include/http_config.h    (working copy)
@@ -427,6 +427,12 @@ struct module_struct {
     static int * const aplog_module_index = &(foo##_module.module_index)

 /**
+ * AP_DEFINE_MODULE is a convenience macro to define the module symbol.
+ */
+#define AP_DEFINE_MODULE(foo) \
+    module AP_MODULE_DECLARE_DATA foo##_module
+
+/**
  * AP_DECLARE_MODULE is a convenience macro that combines a call of
  * APLOG_USE_MODULE with the definition of the module symbol.
  *
@@ -434,8 +440,8 @@ struct module_struct {
  * APLOG_USE_MODULE should be used explicitly instead of AP_DECLARE_MODULE.
  */
 #define AP_DECLARE_MODULE(foo) \
-    APLOG_USE_MODULE(foo);                         \
-    module AP_MODULE_DECLARE_DATA foo##_module
+    APLOG_USE_MODULE(foo);     \
+    APLOG_DEFINE_MODULE(foo)

 /**
  * @defgroup ModuleInit Module structure initializers
--

with the remainder being "s/AP_DECLARE_MODULE/AP_DEFINE_MODULE/g" in
the modules...


On Thu, Jun 18, 2015 at 10:17 PM, Rainer Jung <rainer.jung@kippdata.de> wrote:
> Am 18.06.2015 um 21:54 schrieb Jeff Trawick:
>>
>> On Thu, Jun 18, 2015 at 3:03 PM, olli hauer <ohauer@gmx.de
>> <mailto:ohauer@gmx.de>> wrote:
>>
>>     On 2015-06-18 19:08, Jim Jagielski wrote:
>>     > Subj sez it all.
>>     >
>>
>>     I don't know if it is worth to report this, but the on 2.4.12. I
>>     don't see the following warnings
>>
>>
>> Are you using clang for both compiles?
>>
>> (I think I saw those for 2.4.12,13,14 on FreeBSD 10.1 + Clang.)
>
>
> At least technically they are correct. aplog_module_index is used only in
> APLOG_MODULE_INDEX and this macro is redefined in core.c to use a known
> constant instead (likely for performance reasons).
>
> And modules/http/http_core.c doesn't have any log statement which is
> probably the reason for not using aplog_module_index in that file.
>
> So those are expected. The warnings don't actually point to a real problem
> except for any warning always make one feel uncomfortable.
>
> The second warning could be silenced by adding a log statement.For the first
> I don't have an easy solution.
>
> Regards,
>
> Rainer
>
>
>>     Test build 2.4.15 (Last Changed Rev: 1686275)
>>
>>     --- core.lo ---
>>     core.c:5003:1: warning: unused variable 'aplog_module_index'
>>     [-Wunused-const-variable]
>>     AP_DECLARE_MODULE(core) = {
>>     ^
>>     /usr/ports/www/apache24/work/httpd-2.4.14/include/http_config.h:437:5:
>>     note: expanded from macro 'AP_DECLARE_MODULE'
>>          APLOG_USE_MODULE(foo);                         \
>>          ^
>>
>> /usr/ports/www/apache24/work/httpd-2.4.14/include/http_config.h:427:24:
>>     note: expanded from macro 'APLOG_USE_MODULE'
>>          static int * const aplog_module_index =
>>     &(foo##_module.module_index)
>>                             ^
>>     --- http_core.lo ---
>>     http_core.c:320:1: warning: unused variable 'aplog_module_index'
>>     [-Wunused-const-variable]
>>     AP_DECLARE_MODULE(http) = {
>>     ^
>>     /usr/ports/www/apache24/work/httpd-2.4.14/include/http_config.h:437:5:
>>     note: expanded from macro 'AP_DECLARE_MODULE'
>>          APLOG_USE_MODULE(foo);                         \
>>          ^
>>
>> /usr/ports/www/apache24/work/httpd-2.4.14/include/http_config.h:427:24:
>>     note: expanded from macro 'APLOG_USE_MODULE'
>>          static int * const aplog_module_index =
>>     &(foo##_module.module_index)
>>                             ^
>>     --- mod_buffer.slo ---
>>     ...

--001a113ee4fcc3748a0518d0dc96
Content-Type: application/x-download; 
	name="httpd-2.4.x-AP_DEFINE_MODULE.patch"
Content-Disposition: attachment; 
	filename="httpd-2.4.x-AP_DEFINE_MODULE.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_ib2nn6ra0

SW5kZXg6IGluY2x1ZGUvaHR0cF9jb25maWcuaAo9PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBpbmNsdWRlL2h0dHBf
Y29uZmlnLmgJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBpbmNsdWRlL2h0dHBfY29uZmlnLmgJKHdv
cmtpbmcgY29weSkKQEAgLTQyNyw2ICs0MjcsMTIgQEAgc3RydWN0IG1vZHVsZV9zdHJ1Y3Qgewog
ICAgIHN0YXRpYyBpbnQgKiBjb25zdCBhcGxvZ19tb2R1bGVfaW5kZXggPSAmKGZvbyMjX21vZHVs
ZS5tb2R1bGVfaW5kZXgpCiAKIC8qKgorICogQVBfREVGSU5FX01PRFVMRSBpcyBhIGNvbnZlbmll
bmNlIG1hY3JvIHRvIGRlZmluZSB0aGUgbW9kdWxlIHN5bWJvbC4KKyAqLworI2RlZmluZSBBUF9E
RUZJTkVfTU9EVUxFKGZvbykgXAorICAgIG1vZHVsZSBBUF9NT0RVTEVfREVDTEFSRV9EQVRBIGZv
byMjX21vZHVsZQorCisvKioKICAqIEFQX0RFQ0xBUkVfTU9EVUxFIGlzIGEgY29udmVuaWVuY2Ug
bWFjcm8gdGhhdCBjb21iaW5lcyBhIGNhbGwgb2YKICAqIEFQTE9HX1VTRV9NT0RVTEUgd2l0aCB0
aGUgZGVmaW5pdGlvbiBvZiB0aGUgbW9kdWxlIHN5bWJvbC4KICAqCkBAIC00MzQsOCArNDQwLDgg
QEAgc3RydWN0IG1vZHVsZV9zdHJ1Y3QgewogICogQVBMT0dfVVNFX01PRFVMRSBzaG91bGQgYmUg
dXNlZCBleHBsaWNpdGx5IGluc3RlYWQgb2YgQVBfREVDTEFSRV9NT0RVTEUuCiAgKi8KICNkZWZp
bmUgQVBfREVDTEFSRV9NT0RVTEUoZm9vKSBcCi0gICAgQVBMT0dfVVNFX01PRFVMRShmb28pOyAg
ICAgICAgICAgICAgICAgICAgICAgICBcCi0gICAgbW9kdWxlIEFQX01PRFVMRV9ERUNMQVJFX0RB
VEEgZm9vIyNfbW9kdWxlCisgICAgQVBMT0dfVVNFX01PRFVMRShmb28pOyAgICAgXAorICAgIEFQ
TE9HX0RFRklORV9NT0RVTEUoZm9vKQogCiAvKioKICAqIEBkZWZncm91cCBNb2R1bGVJbml0IE1v
ZHVsZSBzdHJ1Y3R1cmUgaW5pdGlhbGl6ZXJzCkluZGV4OiBtb2R1bGVzL2FhYS9tb2RfYWNjZXNz
X2NvbXBhdC5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvYWFhL21vZF9hY2Nlc3NfY29tcGF0LmMJ
KHJldmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1bGVzL2FhYS9tb2RfYWNjZXNzX2NvbXBhdC5jCSh3
b3JraW5nIGNvcHkpCkBAIC0zNjQsNyArMzY0LDcgQEAgc3RhdGljIHZvaWQgcmVnaXN0ZXJfaG9v
a3MoYXByX3Bvb2xfdCAqcCkKICAgICAgICAgICAgICAgICAgICAgICAgICBBUF9BVVRIX0lOVEVS
TkFMX1BFUl9DT05GKTsKIH0KIAotQVBfREVDTEFSRV9NT0RVTEUoYWNjZXNzX2NvbXBhdCkgPQor
QVBfREVGSU5FX01PRFVMRShhY2Nlc3NfY29tcGF0KSA9CiB7CiAgICAgU1RBTkRBUkQyMF9NT0RV
TEVfU1RVRkYsCiAgICAgY3JlYXRlX2FjY2Vzc19jb21wYXRfZGlyX2NvbmZpZywgICAvKiBkaXIg
Y29uZmlnIGNyZWF0ZXIgKi8KSW5kZXg6IG1vZHVsZXMvYWFhL21vZF9hbGxvd21ldGhvZHMuYwo9
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09Ci0tLSBtb2R1bGVzL2FhYS9tb2RfYWxsb3dtZXRob2RzLmMJKHJldmlzaW9uIDE2
ODYyOTgpCisrKyBtb2R1bGVzL2FhYS9tb2RfYWxsb3dtZXRob2RzLmMJKHdvcmtpbmcgY29weSkK
QEAgLTE0Nyw3ICsxNDcsNyBAQCBzdGF0aWMgY29uc3QgY29tbWFuZF9yZWMgYW1fY21kc1tdID0g
ewogICAgIHtOVUxMfQogfTsKIAotQVBfREVDTEFSRV9NT0RVTEUoYWxsb3dtZXRob2RzKSA9IHsK
K0FQX0RFRklORV9NT0RVTEUoYWxsb3dtZXRob2RzKSA9IHsKICAgICBTVEFOREFSRDIwX01PRFVM
RV9TVFVGRiwKICAgICBhbV9jcmVhdGVfY29uZiwKICAgICBhbV9tZXJnZV9jb25mLApJbmRleDog
bW9kdWxlcy9hYWEvbW9kX2F1dGhfYmFzaWMuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL2FhYS9t
b2RfYXV0aF9iYXNpYy5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9hYWEvbW9kX2F1
dGhfYmFzaWMuYwkod29ya2luZyBjb3B5KQpAQCAtNTA0LDcgKzUwNCw3IEBAIHN0YXRpYyB2b2lk
IHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnApCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBBUFJfSE9PS19NSURETEUpOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShhdXRoX2Jhc2lj
KSA9CitBUF9ERUZJTkVfTU9EVUxFKGF1dGhfYmFzaWMpID0KIHsKICAgICBTVEFOREFSRDIwX01P
RFVMRV9TVFVGRiwKICAgICBjcmVhdGVfYXV0aF9iYXNpY19kaXJfY29uZmlnLCAgLyogZGlyIGNv
bmZpZyBjcmVhdGVyICovCkluZGV4OiBtb2R1bGVzL2FhYS9tb2RfYXV0aF9kaWdlc3QuYwo9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09Ci0tLSBtb2R1bGVzL2FhYS9tb2RfYXV0aF9kaWdlc3QuYwkocmV2aXNpb24gMTY4NjI5
OCkKKysrIG1vZHVsZXMvYWFhL21vZF9hdXRoX2RpZ2VzdC5jCSh3b3JraW5nIGNvcHkpCkBAIC0y
MDU5LDcgKzIwNTksNyBAQCBzdGF0aWMgdm9pZCByZWdpc3Rlcl9ob29rcyhhcHJfcG9vbF90ICpw
KQogCiB9CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKGF1dGhfZGlnZXN0KSA9CitBUF9ERUZJTkVfTU9E
VUxFKGF1dGhfZGlnZXN0KSA9CiB7CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAg
Y3JlYXRlX2RpZ2VzdF9kaXJfY29uZmlnLCAgIC8qIGRpciBjb25maWcgY3JlYXRlciAqLwpJbmRl
eDogbW9kdWxlcy9hYWEvbW9kX2F1dGhfZm9ybS5jCj09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvYWFh
L21vZF9hdXRoX2Zvcm0uYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvYWFhL21vZF9h
dXRoX2Zvcm0uYwkod29ya2luZyBjb3B5KQpAQCAtMTMyMSw3ICsxMzIxLDcgQEAgc3RhdGljIHZv
aWQgcmVnaXN0ZXJfaG9va3MoYXByX3Bvb2xfdCAqIHApCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBBUFJfSE9PS19NSURETEUpOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShhdXRoX2Zv
cm0pID0KK0FQX0RFRklORV9NT0RVTEUoYXV0aF9mb3JtKSA9CiB7CiAgICAgU1RBTkRBUkQyMF9N
T0RVTEVfU1RVRkYsCiAgICAgY3JlYXRlX2F1dGhfZm9ybV9kaXJfY29uZmlnLCAvKiBkaXIgY29u
ZmlnIGNyZWF0ZXIgKi8KSW5kZXg6IG1vZHVsZXMvYWFhL21vZF9hdXRobl9hbm9uLmMKPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PQotLS0gbW9kdWxlcy9hYWEvbW9kX2F1dGhuX2Fub24uYwkocmV2aXNpb24gMTY4NjI5OCkK
KysrIG1vZHVsZXMvYWFhL21vZF9hdXRobl9hbm9uLmMJKHdvcmtpbmcgY29weSkKQEAgLTIwMyw3
ICsyMDMsNyBAQCBzdGF0aWMgdm9pZCByZWdpc3Rlcl9ob29rcyhhcHJfcG9vbF90ICpwKQogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgJmF1dGhuX2Fub25fcHJvdmlkZXIsIEFQX0FVVEhf
SU5URVJOQUxfUEVSX0NPTkYpOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShhdXRobl9hbm9uKSA9
CitBUF9ERUZJTkVfTU9EVUxFKGF1dGhuX2Fub24pID0KIHsKICAgICBTVEFOREFSRDIwX01PRFVM
RV9TVFVGRiwKICAgICBjcmVhdGVfYXV0aG5fYW5vbl9kaXJfY29uZmlnLCAvKiBkaXIgY29uZmln
IGNyZWF0ZXIgKi8KSW5kZXg6IG1vZHVsZXMvYWFhL21vZF9hdXRobl9jb3JlLmMKPT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PQotLS0gbW9kdWxlcy9hYWEvbW9kX2F1dGhuX2NvcmUuYwkocmV2aXNpb24gMTY4NjI5OCkKKysr
IG1vZHVsZXMvYWFhL21vZF9hdXRobl9jb3JlLmMJKHdvcmtpbmcgY29weSkKQEAgLTM3Myw3ICsz
NzMsNyBAQCBzdGF0aWMgdm9pZCByZWdpc3Rlcl9ob29rcyhhcHJfcG9vbF90ICpwKQogICAgICAg
ICAgICAgICAgICAgICAgICAgQVBfQVVUSF9JTlRFUk5BTF9QRVJfQ09ORik7CiB9CiAKLUFQX0RF
Q0xBUkVfTU9EVUxFKGF1dGhuX2NvcmUpID0KK0FQX0RFRklORV9NT0RVTEUoYXV0aG5fY29yZSkg
PQogewogICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAgIGNyZWF0ZV9hdXRobl9jb3Jl
X2Rpcl9jb25maWcsICAgLyogZGlyIGNvbmZpZyBjcmVhdGVyICovCkluZGV4OiBtb2R1bGVzL2Fh
YS9tb2RfYXV0aG5fZGJkLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9hYWEvbW9kX2F1dGhuX2Ri
ZC5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9hYWEvbW9kX2F1dGhuX2RiZC5jCSh3
b3JraW5nIGNvcHkpCkBAIC0zMDIsNyArMzAyLDcgQEAgc3RhdGljIHZvaWQgYXV0aG5fZGJkX2hv
b2tzKGFwcl9wb29sX3QgKnApCiAgICAgYXBfaG9va19vcHRpb25hbF9mbl9yZXRyaWV2ZShvcHRf
cmV0ciwgTlVMTCwgTlVMTCwgQVBSX0hPT0tfTUlERExFKTsKIH0KIAotQVBfREVDTEFSRV9NT0RV
TEUoYXV0aG5fZGJkKSA9CitBUF9ERUZJTkVfTU9EVUxFKGF1dGhuX2RiZCkgPQogewogICAgIFNU
QU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAgIGF1dGhuX2RiZF9jcl9jb25mLApJbmRleDogbW9k
dWxlcy9hYWEvbW9kX2F1dGhuX2RibS5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvYWFhL21vZF9h
dXRobl9kYm0uYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvYWFhL21vZF9hdXRobl9k
Ym0uYwkod29ya2luZyBjb3B5KQpAQCAtMTk2LDcgKzE5Niw3IEBAIHN0YXRpYyB2b2lkIHJlZ2lz
dGVyX2hvb2tzKGFwcl9wb29sX3QgKnApCiAgICAgYXBfaG9va19vcHRpb25hbF9mbl9yZXRyaWV2
ZShvcHRfcmV0ciwgTlVMTCwgTlVMTCwgQVBSX0hPT0tfTUlERExFKTsKIH0KIAotQVBfREVDTEFS
RV9NT0RVTEUoYXV0aG5fZGJtKSA9CitBUF9ERUZJTkVfTU9EVUxFKGF1dGhuX2RibSkgPQogewog
ICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAgIGNyZWF0ZV9hdXRobl9kYm1fZGlyX2Nv
bmZpZywgLyogZGlyIGNvbmZpZyBjcmVhdGVyICovCkluZGV4OiBtb2R1bGVzL2FhYS9tb2RfYXV0
aG5fZmlsZS5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvYWFhL21vZF9hdXRobl9maWxlLmMJKHJl
dmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1bGVzL2FhYS9tb2RfYXV0aG5fZmlsZS5jCSh3b3JraW5n
IGNvcHkpCkBAIC0xODIsNyArMTgyLDcgQEAgc3RhdGljIHZvaWQgcmVnaXN0ZXJfaG9va3MoYXBy
X3Bvb2xfdCAqcCkKICAgICBhcF9ob29rX29wdGlvbmFsX2ZuX3JldHJpZXZlKG9wdF9yZXRyLCBO
VUxMLCBOVUxMLCBBUFJfSE9PS19NSURETEUpOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShhdXRo
bl9maWxlKSA9CitBUF9ERUZJTkVfTU9EVUxFKGF1dGhuX2ZpbGUpID0KIHsKICAgICBTVEFOREFS
RDIwX01PRFVMRV9TVFVGRiwKICAgICBjcmVhdGVfYXV0aG5fZmlsZV9kaXJfY29uZmlnLCAgICAv
KiBkaXIgY29uZmlnIGNyZWF0ZXIgKi8KSW5kZXg6IG1vZHVsZXMvYWFhL21vZF9hdXRobl9zb2Nh
Y2hlLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9hYWEvbW9kX2F1dGhuX3NvY2FjaGUuYwkocmV2
aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvYWFhL21vZF9hdXRobl9zb2NhY2hlLmMJKHdvcmtp
bmcgY29weSkKQEAgLTQ2OCw3ICs0NjgsNyBAQCBzdGF0aWMgdm9pZCByZWdpc3Rlcl9ob29rcyhh
cHJfcG9vbF90ICpwKQogICAgIGFwX2hvb2tfY2hpbGRfaW5pdChhdXRobl9jYWNoZV9jaGlsZF9p
bml0LCBOVUxMLCBOVUxMLCBBUFJfSE9PS19NSURETEUpOwogfQogCi1BUF9ERUNMQVJFX01PRFVM
RShhdXRobl9zb2NhY2hlKSA9CitBUF9ERUZJTkVfTU9EVUxFKGF1dGhuX3NvY2FjaGUpID0KIHsK
ICAgICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBhdXRobl9jYWNoZV9kaXJjZmdfY3Jl
YXRlLApJbmRleDogbW9kdWxlcy9hYWEvbW9kX2F1dGhuel9mY2dpLmMKPT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0g
bW9kdWxlcy9hYWEvbW9kX2F1dGhuel9mY2dpLmMJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1
bGVzL2FhYS9tb2RfYXV0aG56X2ZjZ2kuYwkod29ya2luZyBjb3B5KQpAQCAtMTM1MSw3ICsxMzUx
LDcgQEAgc3RhdGljIHZvaWQgKm1lcmdlX2Rpcl9jb25mKGFwcl9wb29sX3QgKnAsIHZvaWQgKmIK
ICAgICByZXR1cm4gYTsKIH0KIAotQVBfREVDTEFSRV9NT0RVTEUoYXV0aG56X2ZjZ2kpID0KK0FQ
X0RFRklORV9NT0RVTEUoYXV0aG56X2ZjZ2kpID0KIHsKICAgICBTVEFOREFSRDIwX01PRFVMRV9T
VFVGRiwKICAgICBjcmVhdGVfZGlyX2NvbmYsICAgICAgICAgICAgICAgICAvKiBkaXIgY29uZmln
IGNyZWF0ZXIgKi8KSW5kZXg6IG1vZHVsZXMvYWFhL21vZF9hdXRobnpfbGRhcC5jCj09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT0KLS0tIG1vZHVsZXMvYWFhL21vZF9hdXRobnpfbGRhcC5jCShyZXZpc2lvbiAxNjg2Mjk4KQor
KysgbW9kdWxlcy9hYWEvbW9kX2F1dGhuel9sZGFwLmMJKHdvcmtpbmcgY29weSkKQEAgLTE5NDIs
NyArMTk0Miw3IEBAIHN0YXRpYyB2b2lkIHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnApCiAg
ICAgYXBfaG9va19vcHRpb25hbF9mbl9yZXRyaWV2ZShJbXBvcnRVTERBUE9wdEZuLE5VTEwsTlVM
TCxBUFJfSE9PS19NSURETEUpOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShhdXRobnpfbGRhcCkg
PQorQVBfREVGSU5FX01PRFVMRShhdXRobnpfbGRhcCkgPQogewogICAgIFNUQU5EQVJEMjBfTU9E
VUxFX1NUVUZGLAogICAgIGNyZWF0ZV9hdXRobnpfbGRhcF9kaXJfY29uZmlnLCAgIC8qIGRpciBj
b25maWcgY3JlYXRlciAqLwpJbmRleDogbW9kdWxlcy9hYWEvbW9kX2F1dGh6X2NvcmUuYwo9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09Ci0tLSBtb2R1bGVzL2FhYS9tb2RfYXV0aHpfY29yZS5jCShyZXZpc2lvbiAxNjg2Mjk4
KQorKysgbW9kdWxlcy9hYWEvbW9kX2F1dGh6X2NvcmUuYwkod29ya2luZyBjb3B5KQpAQCAtMTE1
MSw3ICsxMTUxLDcgQEAgc3RhdGljIHZvaWQgcmVnaXN0ZXJfaG9va3MoYXByX3Bvb2xfdCAqcCkK
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZhdXRoel9leHByX3Byb3ZpZGVyLCBBUF9B
VVRIX0lOVEVSTkFMX1BFUl9DT05GKTsKIH0KIAotQVBfREVDTEFSRV9NT0RVTEUoYXV0aHpfY29y
ZSkgPQorQVBfREVGSU5FX01PRFVMRShhdXRoel9jb3JlKSA9CiB7CiAgICAgU1RBTkRBUkQyMF9N
T0RVTEVfU1RVRkYsCiAgICAgY3JlYXRlX2F1dGh6X2NvcmVfZGlyX2NvbmZpZywgICAvKiBkaXIg
Y29uZmlnIGNyZWF0ZXIgKi8KSW5kZXg6IG1vZHVsZXMvYWFhL21vZF9hdXRoel9kYmQuYwo9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09Ci0tLSBtb2R1bGVzL2FhYS9tb2RfYXV0aHpfZGJkLmMJKHJldmlzaW9uIDE2ODYyOTgp
CisrKyBtb2R1bGVzL2FhYS9tb2RfYXV0aHpfZGJkLmMJKHdvcmtpbmcgY29weSkKQEAgLTM3OSw3
ICszNzksNyBAQCBzdGF0aWMgdm9pZCBhdXRoel9kYmRfaG9va3MoYXByX3Bvb2xfdCAqcCkKICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFQX0FVVEhfSU5URVJOQUxfUEVSX0NPTkYpOwog
fQogCi1BUF9ERUNMQVJFX01PRFVMRShhdXRoel9kYmQpID0KK0FQX0RFRklORV9NT0RVTEUoYXV0
aHpfZGJkKSA9CiB7CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAgYXV0aHpfZGJk
X2NyX2NmZywKSW5kZXg6IG1vZHVsZXMvYWFhL21vZF9hdXRoel9kYm0uYwo9PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0t
LSBtb2R1bGVzL2FhYS9tb2RfYXV0aHpfZGJtLmMJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1
bGVzL2FhYS9tb2RfYXV0aHpfZGJtLmMJKHdvcmtpbmcgY29weSkKQEAgLTMyNCw3ICszMjQsNyBA
QCBzdGF0aWMgdm9pZCByZWdpc3Rlcl9ob29rcyhhcHJfcG9vbF90ICpwKQogICAgIGFwX2hvb2tf
b3B0aW9uYWxfZm5fcmV0cmlldmUoYXV0aHpfZGJtX2dldGZucywgTlVMTCwgTlVMTCwgQVBSX0hP
T0tfTUlERExFKTsKIH0KIAotQVBfREVDTEFSRV9NT0RVTEUoYXV0aHpfZGJtKSA9CitBUF9ERUZJ
TkVfTU9EVUxFKGF1dGh6X2RibSkgPQogewogICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAog
ICAgIGNyZWF0ZV9hdXRoel9kYm1fZGlyX2NvbmZpZywgLyogZGlyIGNvbmZpZyBjcmVhdGVyICov
CkluZGV4OiBtb2R1bGVzL2FhYS9tb2RfYXV0aHpfZ3JvdXBmaWxlLmMKPT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0g
bW9kdWxlcy9hYWEvbW9kX2F1dGh6X2dyb3VwZmlsZS5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysg
bW9kdWxlcy9hYWEvbW9kX2F1dGh6X2dyb3VwZmlsZS5jCSh3b3JraW5nIGNvcHkpCkBAIC0zMTks
NyArMzE5LDcgQEAgc3RhdGljIHZvaWQgcmVnaXN0ZXJfaG9va3MoYXByX3Bvb2xfdCAqcCkKICAg
ICBhcF9ob29rX29wdGlvbmFsX2ZuX3JldHJpZXZlKGF1dGh6X2dyb3VwZmlsZV9nZXRmbnMsIE5V
TEwsIE5VTEwsIEFQUl9IT09LX01JRERMRSk7CiB9CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKGF1dGh6
X2dyb3VwZmlsZSkgPQorQVBfREVGSU5FX01PRFVMRShhdXRoel9ncm91cGZpbGUpID0KIHsKICAg
ICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBjcmVhdGVfYXV0aHpfZ3JvdXBmaWxlX2Rp
cl9jb25maWcsLyogZGlyIGNvbmZpZyBjcmVhdGVyICovCkluZGV4OiBtb2R1bGVzL2FhYS9tb2Rf
YXV0aHpfaG9zdC5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvYWFhL21vZF9hdXRoel9ob3N0LmMJ
KHJldmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1bGVzL2FhYS9tb2RfYXV0aHpfaG9zdC5jCSh3b3Jr
aW5nIGNvcHkpCkBAIC0zMDQsNyArMzA0LDcgQEAgc3RhdGljIHZvaWQgcmVnaXN0ZXJfaG9va3Mo
YXByX3Bvb2xfdCAqcCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZhdXRoel9sb2Nh
bF9wcm92aWRlciwgQVBfQVVUSF9JTlRFUk5BTF9QRVJfQ09ORik7CiB9CiAKLUFQX0RFQ0xBUkVf
TU9EVUxFKGF1dGh6X2hvc3QpID0KK0FQX0RFRklORV9NT0RVTEUoYXV0aHpfaG9zdCkgPQogewog
ICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAgIE5VTEwsICAgICAgICAgICAgICAgICAg
ICAgICAgICAgLyogZGlyIGNvbmZpZyBjcmVhdGVyICovCkluZGV4OiBtb2R1bGVzL2FhYS9tb2Rf
YXV0aHpfb3duZXIuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL2FhYS9tb2RfYXV0aHpfb3duZXIu
YwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvYWFhL21vZF9hdXRoel9vd25lci5jCSh3
b3JraW5nIGNvcHkpCkBAIC0xNzcsNyArMTc3LDcgQEAgc3RhdGljIHZvaWQgcmVnaXN0ZXJfaG9v
a3MoYXByX3Bvb2xfdCAqcCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFQX0FVVEhf
SU5URVJOQUxfUEVSX0NPTkYpOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShhdXRoel9vd25lcikg
PQorQVBfREVGSU5FX01PRFVMRShhdXRoel9vd25lcikgPQogewogICAgIFNUQU5EQVJEMjBfTU9E
VUxFX1NUVUZGLAogICAgIE5VTEwsICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBkaXIgY29u
ZmlnIGNyZWF0ZXIgKi8KSW5kZXg6IG1vZHVsZXMvYWFhL21vZF9hdXRoel91c2VyLmMKPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PQotLS0gbW9kdWxlcy9hYWEvbW9kX2F1dGh6X3VzZXIuYwkocmV2aXNpb24gMTY4NjI5OCkK
KysrIG1vZHVsZXMvYWFhL21vZF9hdXRoel91c2VyLmMJKHdvcmtpbmcgY29weSkKQEAgLTEzNCw3
ICsxMzQsNyBAQCBzdGF0aWMgdm9pZCByZWdpc3Rlcl9ob29rcyhhcHJfcG9vbF90ICpwKQogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgQVBfQVVUSF9JTlRFUk5BTF9QRVJfQ09ORik7CiB9
CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKGF1dGh6X3VzZXIpID0KK0FQX0RFRklORV9NT0RVTEUoYXV0
aHpfdXNlcikgPQogewogICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAgIGNyZWF0ZV9h
dXRoel91c2VyX2Rpcl9jb25maWcsIC8qIGRpciBjb25maWcgY3JlYXRlciAqLwpJbmRleDogbW9k
dWxlcy9hcmNoL25ldHdhcmUvbW9kX25ldHdhcmUuYwo9PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL2Fy
Y2gvbmV0d2FyZS9tb2RfbmV0d2FyZS5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9h
cmNoL25ldHdhcmUvbW9kX25ldHdhcmUuYwkod29ya2luZyBjb3B5KQpAQCAtMTkxLDcgKzE5MSw3
IEBAIEFQX0lOSVRfVEFLRTIzKCJDR0lNYXBFeHRlbnNpb24iLCBzZXRfZXh0ZW5zaW9uX21hCiB7
IE5VTEwgfQogfTsKIAotQVBfREVDTEFSRV9NT0RVTEUobmV0d2FyZSkgPSB7CitBUF9ERUZJTkVf
TU9EVUxFKG5ldHdhcmUpID0gewogICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICBjcmVh
dGVfbmV0d2FyZV9kaXJfY29uZmlnLCAgICAgLyogY3JlYXRlIHBlci1kaXIgY29uZmlnICovCiAg
ICBtZXJnZV9uZXR3YXJlX2Rpcl9jb25maWdzLCAgICAgLyogbWVyZ2UgcGVyLWRpciBjb25maWcg
Ki8KSW5kZXg6IG1vZHVsZXMvYXJjaC9uZXR3YXJlL21vZF9ud19zc2wuYwo9PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0t
LSBtb2R1bGVzL2FyY2gvbmV0d2FyZS9tb2Rfbndfc3NsLmMJKHJldmlzaW9uIDE2ODYyOTgpCisr
KyBtb2R1bGVzL2FyY2gvbmV0d2FyZS9tb2Rfbndfc3NsLmMJKHdvcmtpbmcgY29weSkKQEAgLTEy
NzMsNyArMTI3Myw3IEBAIHN0YXRpYyB2b2lkIHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnAp
CiAgICAgQVBSX1JFR0lTVEVSX09QVElPTkFMX0ZOKHNzbF9lbmdpbmVfZGlzYWJsZSk7CiB9CiAK
LUFQX0RFQ0xBUkVfTU9EVUxFKG53c3NsKSA9CitBUF9ERUZJTkVfTU9EVUxFKG53c3NsKSA9CiB7
CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAgTlVMTCwgICAgICAgICAgICAgICAg
ICAgICAgIC8qIGRpciBjb25maWcgY3JlYXRlciAqLwpJbmRleDogbW9kdWxlcy9hcmNoL3VuaXgv
bW9kX3ByaXZpbGVnZXMuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL2FyY2gvdW5peC9tb2RfcHJp
dmlsZWdlcy5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9hcmNoL3VuaXgvbW9kX3By
aXZpbGVnZXMuYwkod29ya2luZyBjb3B5KQpAQCAtNTc3LDcgKzU3Nyw3IEBAIHN0YXRpYyBjb25z
dCBjb21tYW5kX3JlYyBwcml2aWxlZ2VzX2NtZHNbXSA9IHsKICNlbmRpZgogICAgIHtOVUxMfQog
fTsKLUFQX0RFQ0xBUkVfTU9EVUxFKHByaXZpbGVnZXMpID0geworQVBfREVGSU5FX01PRFVMRShw
cml2aWxlZ2VzKSA9IHsKICAgICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBwcml2aWxl
Z2VzX2NyZWF0ZV9kaXJfY2ZnLAogICAgIHByaXZpbGVnZXNfbWVyZ2VfZGlyX2NmZywKSW5kZXg6
IG1vZHVsZXMvYXJjaC91bml4L21vZF91bml4ZC5jCj09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvYXJj
aC91bml4L21vZF91bml4ZC5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9hcmNoL3Vu
aXgvbW9kX3VuaXhkLmMJKHdvcmtpbmcgY29weSkKQEAgLTQxNCw3ICs0MTQsNyBAQCBzdGF0aWMg
Y29uc3QgY29tbWFuZF9yZWMgdW5peGRfY21kc1tdID0gewogICAgIHtOVUxMfQogfTsKIAotQVBf
REVDTEFSRV9NT0RVTEUodW5peGQpID0geworQVBfREVGSU5FX01PRFVMRSh1bml4ZCkgPSB7CiAg
ICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAgTlVMTCwKICAgICBOVUxMLApJbmRleDog
bW9kdWxlcy9hcmNoL3dpbjMyL21vZF9pc2FwaS5jCj09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvYXJj
aC93aW4zMi9tb2RfaXNhcGkuYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvYXJjaC93
aW4zMi9tb2RfaXNhcGkuYwkod29ya2luZyBjb3B5KQpAQCAtMTcxNSw3ICsxNzE1LDcgQEAgc3Rh
dGljIHZvaWQgaXNhcGlfaG9va3MoYXByX3Bvb2xfdCAqY29udCkKICAgICBhcF9ob29rX2hhbmRs
ZXIoaXNhcGlfaGFuZGxlciwgTlVMTCwgTlVMTCwgQVBSX0hPT0tfTUlERExFKTsKIH0KIAotQVBf
REVDTEFSRV9NT0RVTEUoaXNhcGkpID0geworQVBfREVGSU5FX01PRFVMRShpc2FwaSkgPSB7CiAg
ICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwKICAgIGNyZWF0ZV9pc2FwaV9kaXJfY29uZmlnLCAg
ICAgLyogY3JlYXRlIHBlci1kaXIgY29uZmlnICovCiAgICBtZXJnZV9pc2FwaV9kaXJfY29uZmln
cywgICAgIC8qIG1lcmdlIHBlci1kaXIgY29uZmlnICovCkluZGV4OiBtb2R1bGVzL2FyY2gvd2lu
MzIvbW9kX3dpbjMyLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9hcmNoL3dpbjMyL21vZF93aW4z
Mi5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9hcmNoL3dpbjMyL21vZF93aW4zMi5j
CSh3b3JraW5nIGNvcHkpCkBAIC01NTAsNyArNTUwLDcgQEAgQVBfSU5JVF9UQUtFMSgiU2NyaXB0
SW50ZXJwcmV0ZXJTb3VyY2UiLCBzZXRfaW50ZXIKIHsgTlVMTCB9CiB9OwogCi1BUF9ERUNMQVJF
X01PRFVMRSh3aW4zMikgPSB7CitBUF9ERUZJTkVfTU9EVUxFKHdpbjMyKSA9IHsKICAgIFNUQU5E
QVJEMjBfTU9EVUxFX1NUVUZGLAogICAgY3JlYXRlX3dpbjMyX2Rpcl9jb25maWcsICAgICAvKiBj
cmVhdGUgcGVyLWRpciBjb25maWcgKi8KICAgIG1lcmdlX3dpbjMyX2Rpcl9jb25maWdzLCAgICAg
LyogbWVyZ2UgcGVyLWRpciBjb25maWcgKi8KSW5kZXg6IG1vZHVsZXMvY2FjaGUvbW9kX2NhY2hl
LmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9jYWNoZS9tb2RfY2FjaGUuYwkocmV2aXNpb24gMTY4
NjI5OCkKKysrIG1vZHVsZXMvY2FjaGUvbW9kX2NhY2hlLmMJKHdvcmtpbmcgY29weSkKQEAgLTI2
NzQsNyArMjY3NCw3IEBAIHN0YXRpYyB2b2lkIHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnAp
CiAgICAgYXBfaG9va19wb3N0X2NvbmZpZyhjYWNoZV9wb3N0X2NvbmZpZywgTlVMTCwgTlVMTCwg
QVBSX0hPT0tfUkVBTExZX0ZJUlNUKTsKIH0KIAotQVBfREVDTEFSRV9NT0RVTEUoY2FjaGUpID0K
K0FQX0RFRklORV9NT0RVTEUoY2FjaGUpID0KIHsKICAgICBTVEFOREFSRDIwX01PRFVMRV9TVFVG
RiwKICAgICBjcmVhdGVfZGlyX2NvbmZpZywgICAgICAvKiBjcmVhdGUgcGVyLWRpcmVjdG9yeSBj
b25maWcgc3RydWN0dXJlICovCkluZGV4OiBtb2R1bGVzL2NhY2hlL21vZF9jYWNoZV9kaXNrLmMK
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PQotLS0gbW9kdWxlcy9jYWNoZS9tb2RfY2FjaGVfZGlzay5jCShyZXZpc2lvbiAx
Njg2Mjk4KQorKysgbW9kdWxlcy9jYWNoZS9tb2RfY2FjaGVfZGlzay5jCSh3b3JraW5nIGNvcHkp
CkBAIC0xNTYwLDcgKzE1NjAsNyBAQCBzdGF0aWMgdm9pZCBkaXNrX2NhY2hlX3JlZ2lzdGVyX2hv
b2soYXByX3Bvb2xfdCAqcAogICAgICAgICAgICAgICAgICAgICAgICAgICZjYWNoZV9kaXNrX3By
b3ZpZGVyKTsKIH0KIAotQVBfREVDTEFSRV9NT0RVTEUoY2FjaGVfZGlzaykgPSB7CitBUF9ERUZJ
TkVfTU9EVUxFKGNhY2hlX2Rpc2spID0gewogICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAog
ICAgIGNyZWF0ZV9kaXJfY29uZmlnLCAgICAgICAgICAvKiBjcmVhdGUgcGVyLWRpcmVjdG9yeSBj
b25maWcgc3RydWN0dXJlICovCiAgICAgbWVyZ2VfZGlyX2NvbmZpZywgICAgICAgICAgIC8qIG1l
cmdlIHBlci1kaXJlY3RvcnkgY29uZmlnIHN0cnVjdHVyZXMgKi8KSW5kZXg6IG1vZHVsZXMvY2Fj
aGUvbW9kX2NhY2hlX3NvY2FjaGUuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL2NhY2hlL21vZF9j
YWNoZV9zb2NhY2hlLmMJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1bGVzL2NhY2hlL21vZF9j
YWNoZV9zb2NhY2hlLmMJKHdvcmtpbmcgY29weSkKQEAgLTE1NjAsNyArMTU2MCw3IEBAIHN0YXRp
YyB2b2lkIGNhY2hlX3NvY2FjaGVfcmVnaXN0ZXJfaG9vayhhcHJfcG9vbF90CiAgICAgYXBfaG9v
a19jaGlsZF9pbml0KHNvY2FjaGVfY2hpbGRfaW5pdCwgTlVMTCwgTlVMTCwgQVBSX0hPT0tfTUlE
RExFKTsKIH0KIAotQVBfREVDTEFSRV9NT0RVTEUoY2FjaGVfc29jYWNoZSkgPSB7IFNUQU5EQVJE
MjBfTU9EVUxFX1NUVUZGLAorQVBfREVGSU5FX01PRFVMRShjYWNoZV9zb2NhY2hlKSA9IHsgU1RB
TkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAgY3JlYXRlX2Rpcl9jb25maWcsICAvKiBjcmVhdGUg
cGVyLWRpcmVjdG9yeSBjb25maWcgc3RydWN0dXJlICovCiAgICAgbWVyZ2VfZGlyX2NvbmZpZywg
LyogbWVyZ2UgcGVyLWRpcmVjdG9yeSBjb25maWcgc3RydWN0dXJlcyAqLwogICAgIGNyZWF0ZV9j
b25maWcsIC8qIGNyZWF0ZSBwZXItc2VydmVyIGNvbmZpZyBzdHJ1Y3R1cmUgKi8KSW5kZXg6IG1v
ZHVsZXMvY2FjaGUvbW9kX2ZpbGVfY2FjaGUuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL2NhY2hl
L21vZF9maWxlX2NhY2hlLmMJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1bGVzL2NhY2hlL21v
ZF9maWxlX2NhY2hlLmMJKHdvcmtpbmcgY29weSkKQEAgLTQwMiw3ICs0MDIsNyBAQCBzdGF0aWMg
dm9pZCByZWdpc3Rlcl9ob29rcyhhcHJfcG9vbF90ICpwKQogCiB9CiAKLUFQX0RFQ0xBUkVfTU9E
VUxFKGZpbGVfY2FjaGUpID0KK0FQX0RFRklORV9NT0RVTEUoZmlsZV9jYWNoZSkgPQogewogICAg
IFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAgIE5VTEwsICAgICAgICAgICAgICAgICAgICAg
LyogY3JlYXRlIHBlci1kaXJlY3RvcnkgY29uZmlnIHN0cnVjdHVyZSAqLwpJbmRleDogbW9kdWxl
cy9jYWNoZS9tb2Rfc29jYWNoZV9kYm0uYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL2NhY2hlL21v
ZF9zb2NhY2hlX2RibS5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9jYWNoZS9tb2Rf
c29jYWNoZV9kYm0uYwkod29ya2luZyBjb3B5KQpAQCAtNTkxLDcgKzU5MSw3IEBAIHN0YXRpYyB2
b2lkIHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnApCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgJnNvY2FjaGVfZGJtKTsKIH0KIAotQVBfREVDTEFSRV9NT0RVTEUoc29jYWNoZV9kYm0pID0g
eworQVBfREVGSU5FX01PRFVMRShzb2NhY2hlX2RibSkgPSB7CiAgICAgU1RBTkRBUkQyMF9NT0RV
TEVfU1RVRkYsCiAgICAgTlVMTCwgTlVMTCwgTlVMTCwgTlVMTCwgTlVMTCwKICAgICByZWdpc3Rl
cl9ob29rcwpJbmRleDogbW9kdWxlcy9jYWNoZS9tb2Rfc29jYWNoZV9kYy5jCj09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0K
LS0tIG1vZHVsZXMvY2FjaGUvbW9kX3NvY2FjaGVfZGMuYwkocmV2aXNpb24gMTY4NjI5OCkKKysr
IG1vZHVsZXMvY2FjaGUvbW9kX3NvY2FjaGVfZGMuYwkod29ya2luZyBjb3B5KQpAQCAtMTkwLDcg
KzE5MCw3IEBAIHN0YXRpYyB2b2lkIHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnApCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgJnNvY2FjaGVfZGMpOwogfQogCi1BUF9ERUNMQVJFX01PRFVM
RShzb2NhY2hlX2RjKSA9IHsKK0FQX0RFRklORV9NT0RVTEUoc29jYWNoZV9kYykgPSB7CiAgICAg
U1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAgTlVMTCwgTlVMTCwgTlVMTCwgTlVMTCwgTlVM
TCwKICAgICByZWdpc3Rlcl9ob29rcwpJbmRleDogbW9kdWxlcy9jYWNoZS9tb2Rfc29jYWNoZV9t
ZW1jYWNoZS5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvY2FjaGUvbW9kX3NvY2FjaGVfbWVtY2Fj
aGUuYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvY2FjaGUvbW9kX3NvY2FjaGVfbWVt
Y2FjaGUuYwkod29ya2luZyBjb3B5KQpAQCAtMzEzLDcgKzMxMyw3IEBAIHN0YXRpYyB2b2lkIHJl
Z2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnApCiAjZW5kaWYKIH0KIAotQVBfREVDTEFSRV9NT0RV
TEUoc29jYWNoZV9tZW1jYWNoZSkgPSB7CitBUF9ERUZJTkVfTU9EVUxFKHNvY2FjaGVfbWVtY2Fj
aGUpID0gewogICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAgIE5VTEwsIE5VTEwsIE5V
TEwsIE5VTEwsIE5VTEwsCiAgICAgcmVnaXN0ZXJfaG9va3MKSW5kZXg6IG1vZHVsZXMvY2FjaGUv
bW9kX3NvY2FjaGVfc2htY2IuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL2NhY2hlL21vZF9zb2Nh
Y2hlX3NobWNiLmMJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1bGVzL2NhY2hlL21vZF9zb2Nh
Y2hlX3NobWNiLmMJKHdvcmtpbmcgY29weSkKQEAgLTEwNjEsNyArMTA2MSw3IEBAIHN0YXRpYyB2
b2lkIHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnApCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgJnNvY2FjaGVfc2htY2IpOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShzb2NhY2hlX3NobWNi
KSA9IHsKK0FQX0RFRklORV9NT0RVTEUoc29jYWNoZV9zaG1jYikgPSB7CiAgICAgU1RBTkRBUkQy
MF9NT0RVTEVfU1RVRkYsCiAgICAgTlVMTCwgTlVMTCwgTlVMTCwgTlVMTCwgTlVMTCwKICAgICBy
ZWdpc3Rlcl9ob29rcwpJbmRleDogbW9kdWxlcy9jbHVzdGVyL21vZF9oZWFydGJlYXQuYwo9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09Ci0tLSBtb2R1bGVzL2NsdXN0ZXIvbW9kX2hlYXJ0YmVhdC5jCShyZXZpc2lvbiAxNjg2
Mjk4KQorKysgbW9kdWxlcy9jbHVzdGVyL21vZF9oZWFydGJlYXQuYwkod29ya2luZyBjb3B5KQpA
QCAtMjE3LDcgKzIxNyw3IEBAIHN0YXRpYyBjb25zdCBjb21tYW5kX3JlYyBoYl9jbWRzW10gPSB7
CiAgICAge05VTEx9CiB9OwogCi1BUF9ERUNMQVJFX01PRFVMRShoZWFydGJlYXQpID0geworQVBf
REVGSU5FX01PRFVMRShoZWFydGJlYXQpID0gewogICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZG
LAogICAgIE5VTEwsICAgICAgICAgICAgICAgICAgICAgICAvKiBjcmVhdGUgcGVyLWRpcmVjdG9y
eSBjb25maWcgc3RydWN0dXJlICovCiAgICAgTlVMTCwgICAgICAgICAgICAgICAgICAgICAgIC8q
IG1lcmdlIHBlci1kaXJlY3RvcnkgY29uZmlnIHN0cnVjdHVyZXMgKi8KSW5kZXg6IG1vZHVsZXMv
Y2x1c3Rlci9tb2RfaGVhcnRtb25pdG9yLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9jbHVzdGVy
L21vZF9oZWFydG1vbml0b3IuYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvY2x1c3Rl
ci9tb2RfaGVhcnRtb25pdG9yLmMJKHdvcmtpbmcgY29weSkKQEAgLTg5Niw3ICs4OTYsNyBAQCBz
dGF0aWMgY29uc3QgY29tbWFuZF9yZWMgaG1fY21kc1tdID0gewogICAgIHtOVUxMfQogfTsKIAot
QVBfREVDTEFSRV9NT0RVTEUoaGVhcnRtb25pdG9yKSA9IHsKK0FQX0RFRklORV9NT0RVTEUoaGVh
cnRtb25pdG9yKSA9IHsKICAgICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBOVUxMLCAg
ICAgICAgICAgICAgICAgICAgICAgLyogY3JlYXRlIHBlci1kaXJlY3RvcnkgY29uZmlnIHN0cnVj
dHVyZSAqLwogICAgIE5VTEwsICAgICAgICAgICAgICAgICAgICAgICAvKiBtZXJnZSBwZXItZGly
ZWN0b3J5IGNvbmZpZyBzdHJ1Y3R1cmVzICovCkluZGV4OiBtb2R1bGVzL2NvcmUvbW9kX21hY3Jv
LmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9jb3JlL21vZF9tYWNyby5jCShyZXZpc2lvbiAxNjg2
Mjk4KQorKysgbW9kdWxlcy9jb3JlL21vZF9tYWNyby5jCSh3b3JraW5nIGNvcHkpCkBAIC05NDgs
NyArOTQ4LDcgQEAgc3RhdGljIHZvaWQgbWFjcm9faG9va3MoYXByX3Bvb2xfdCAqcCkKICAgd291
bGQgYmUgYSBiZXR0ZXIgcGxhY2UgZm9yIHRoaXMgc3R1ZmYuCiAqLwogCi1BUF9ERUNMQVJFX01P
RFVMRShtYWNybykgPSB7CitBUF9ERUZJTkVfTU9EVUxFKG1hY3JvKSA9IHsKICAgICBTVEFOREFS
RDIwX01PRFVMRV9TVFVGRiwgICAgLyogY29tbW9uIHN0dWZmICovCiAgICAgICAgIE5VTEwsICAg
ICAgICAgICAgICAgICAgIC8qIGNyZWF0ZSBwZXItZGlyZWN0b3J5IGNvbmZpZyAqLwogICAgICAg
ICBOVUxMLCAgICAgICAgICAgICAgICAgICAvKiBtZXJnZSBwZXItZGlyZWN0b3J5IGNvbmZpZyBz
dHJ1Y3R1cmVzICovCkluZGV4OiBtb2R1bGVzL2NvcmUvbW9kX3NvLmMKPT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0g
bW9kdWxlcy9jb3JlL21vZF9zby5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9jb3Jl
L21vZF9zby5jCSh3b3JraW5nIGNvcHkpCkBAIC00MzEsNyArNDMxLDcgQEAgc3RhdGljIGNvbnN0
IGNvbW1hbmRfcmVjIHNvX2NtZHNbXSA9IHsKICAgICB7IE5VTEwgfQogfTsKIAotQVBfREVDTEFS
RV9NT0RVTEUoc28pID0geworQVBfREVGSU5FX01PRFVMRShzbykgPSB7CiAgICBTVEFOREFSRDIw
X01PRFVMRV9TVFVGRiwKICAgIE5VTEwsICAgICAgICAgICAgICAgICAvKiBjcmVhdGUgcGVyLWRp
ciBjb25maWcgKi8KICAgIE5VTEwsICAgICAgICAgICAgICAgICAvKiBtZXJnZSBwZXItZGlyIGNv
bmZpZyAqLwpJbmRleDogbW9kdWxlcy9jb3JlL21vZF93YXRjaGRvZy5jCj09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0t
IG1vZHVsZXMvY29yZS9tb2Rfd2F0Y2hkb2cuYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVs
ZXMvY29yZS9tb2Rfd2F0Y2hkb2cuYwkod29ya2luZyBjb3B5KQpAQCAtNjU4LDcgKzY1OCw3IEBA
IHN0YXRpYyB2b2lkIHdkX3JlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnApCiAvKiB0aGUgc3Rh
dGljIGhvb2tzIGludG8gb3VyIG1vZHVsZSBmcm9tIHRoZSBvdGhlciBwYXJ0cyBvZiB0aGUgc2Vy
dmVyLiAgICAgKi8KIC8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqLwogLyotLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSov
Ci1BUF9ERUNMQVJFX01PRFVMRSh3YXRjaGRvZykgPSB7CitBUF9ERUZJTkVfTU9EVUxFKHdhdGNo
ZG9nKSA9IHsKICAgICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBOVUxMLCAgICAgICAg
ICAgICAgICAgICAgICAgLyogY3JlYXRlIHBlci1kaXJlY3RvcnkgY29uZmlnIHN0cnVjdHVyZSAg
ICAqLwogICAgIE5VTEwsICAgICAgICAgICAgICAgICAgICAgICAvKiBtZXJnZSBwZXItZGlyZWN0
b3J5IGNvbmZpZyBzdHJ1Y3R1cmVzICAgICovCkluZGV4OiBtb2R1bGVzL2RhdGFiYXNlL21vZF9k
YmQuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL2RhdGFiYXNlL21vZF9kYmQuYwkocmV2aXNpb24g
MTY4NjI5OCkKKysrIG1vZHVsZXMvZGF0YWJhc2UvbW9kX2RiZC5jCSh3b3JraW5nIGNvcHkpCkBA
IC05ODAsNyArOTgwLDcgQEAgc3RhdGljIHZvaWQgZGJkX2hvb2tzKGFwcl9wb29sX3QgKnBvb2wp
CiAgICAgYXByX2RiZF9pbml0KHBvb2wpOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShkYmQpID0g
eworQVBfREVGSU5FX01PRFVMRShkYmQpID0gewogICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZG
LAogICAgIE5VTEwsCiAgICAgTlVMTCwKSW5kZXg6IG1vZHVsZXMvZGF2L2ZzL21vZF9kYXZfZnMu
Ywo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL2Rhdi9mcy9tb2RfZGF2X2ZzLmMJKHJldmlzaW9uIDE2
ODYyOTgpCisrKyBtb2R1bGVzL2Rhdi9mcy9tb2RfZGF2X2ZzLmMJKHdvcmtpbmcgY29weSkKQEAg
LTk2LDcgKzk2LDcgQEAgc3RhdGljIHZvaWQgcmVnaXN0ZXJfaG9va3MoYXByX3Bvb2xfdCAqcCkK
ICAgICBkYXZfZnNfcmVnaXN0ZXIocCk7CiB9CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKGRhdl9mcykg
PQorQVBfREVGSU5FX01PRFVMRShkYXZfZnMpID0KIHsKICAgICBTVEFOREFSRDIwX01PRFVMRV9T
VFVGRiwKICAgICBOVUxMLCAgICAgICAgICAgICAgICAgICAgICAgIC8qIGRpciBjb25maWcgY3Jl
YXRlciAqLwpJbmRleDogbW9kdWxlcy9kYXYvbG9jay9tb2RfZGF2X2xvY2suYwo9PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
Ci0tLSBtb2R1bGVzL2Rhdi9sb2NrL21vZF9kYXZfbG9jay5jCShyZXZpc2lvbiAxNjg2Mjk4KQor
KysgbW9kdWxlcy9kYXYvbG9jay9tb2RfZGF2X2xvY2suYwkod29ya2luZyBjb3B5KQpAQCAtOTIs
NyArOTIsNyBAQCBzdGF0aWMgdm9pZCByZWdpc3Rlcl9ob29rcyhhcHJfcG9vbF90ICpwKQogICAg
ICAgICAgICAgICAgICAgICAgICAgICZkYXZfaG9va3NfbG9ja3NfZ2VuZXJpYyk7CiB9CiAKLUFQ
X0RFQ0xBUkVfTU9EVUxFKGRhdl9sb2NrKSA9CitBUF9ERUZJTkVfTU9EVUxFKGRhdl9sb2NrKSA9
CiB7CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAgZGF2X2xvY2tfY3JlYXRlX2Rp
cl9jb25maWcsICAgICAvKiBkaXIgY29uZmlnIGNyZWF0ZXIgKi8KSW5kZXg6IG1vZHVsZXMvZGVi
dWdnaW5nL21vZF9idWNrZXRlZXIuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL2RlYnVnZ2luZy9t
b2RfYnVja2V0ZWVyLmMJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1bGVzL2RlYnVnZ2luZy9t
b2RfYnVja2V0ZWVyLmMJKHdvcmtpbmcgY29weSkKQEAgLTE3Niw3ICsxNzYsNyBAQCBzdGF0aWMg
Y29uc3QgY29tbWFuZF9yZWMgYnVja2V0ZWVyX2ZpbHRlcl9jbWRzW10gPQogICAgIHtOVUxMfQog
fTsKIAotQVBfREVDTEFSRV9NT0RVTEUoYnVja2V0ZWVyKSA9IHsKK0FQX0RFRklORV9NT0RVTEUo
YnVja2V0ZWVyKSA9IHsKICAgICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBOVUxMLAog
ICAgIE5VTEwsCkluZGV4OiBtb2R1bGVzL2RlYnVnZ2luZy9tb2RfZHVtcGlvLmMKPT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PQotLS0gbW9kdWxlcy9kZWJ1Z2dpbmcvbW9kX2R1bXBpby5jCShyZXZpc2lvbiAxNjg2Mjk4KQor
KysgbW9kdWxlcy9kZWJ1Z2dpbmcvbW9kX2R1bXBpby5jCSh3b3JraW5nIGNvcHkpCkBAIC0yMzks
NyArMjM5LDcgQEAgc3RhdGljIGNvbnN0IGNvbW1hbmRfcmVjIGR1bXBpb19jbWRzW10gPSB7CiAg
ICAgeyBOVUxMIH0KIH07CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKGR1bXBpbykgPSB7CitBUF9ERUZJ
TkVfTU9EVUxFKGR1bXBpbykgPSB7CiAgICAgICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAog
ICAgICAgICBOVUxMLCAgICAgICAgICAgICAgICAgICAvKiBjcmVhdGUgcGVyLWRpciAgICBjb25m
aWcgc3RydWN0dXJlcyAqLwogICAgICAgICBOVUxMLCAgICAgICAgICAgICAgICAgICAvKiBtZXJn
ZSAgcGVyLWRpciAgICBjb25maWcgc3RydWN0dXJlcyAqLwpJbmRleDogbW9kdWxlcy9lY2hvL21v
ZF9lY2hvLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9lY2hvL21vZF9lY2hvLmMJKHJldmlzaW9u
IDE2ODYyOTgpCisrKyBtb2R1bGVzL2VjaG8vbW9kX2VjaG8uYwkod29ya2luZyBjb3B5KQpAQCAt
MjA4LDcgKzIwOCw3IEBAIHN0YXRpYyB2b2lkIHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnAp
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQVBSX0hPT0tfTUlERExFKTsKIH0KIAot
QVBfREVDTEFSRV9NT0RVTEUoZWNobykgPSB7CitBUF9ERUZJTkVfTU9EVUxFKGVjaG8pID0gewog
ICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAgIE5VTEwsICAgICAgICAgICAgICAgICAg
ICAgICAvKiBjcmVhdGUgcGVyLWRpcmVjdG9yeSBjb25maWcgc3RydWN0dXJlICovCiAgICAgTlVM
TCwgICAgICAgICAgICAgICAgICAgICAgIC8qIG1lcmdlIHBlci1kaXJlY3RvcnkgY29uZmlnIHN0
cnVjdHVyZXMgKi8KSW5kZXg6IG1vZHVsZXMvZXhhbXBsZXMvbW9kX2Nhc2VfZmlsdGVyLmMKPT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PQotLS0gbW9kdWxlcy9leGFtcGxlcy9tb2RfY2FzZV9maWx0ZXIuYwkocmV2aXNpb24g
MTY4NjI5OCkKKysrIG1vZHVsZXMvZXhhbXBsZXMvbW9kX2Nhc2VfZmlsdGVyLmMJKHdvcmtpbmcg
Y29weSkKQEAgLTEyNyw3ICsxMjcsNyBAQCBzdGF0aWMgdm9pZCBDYXNlRmlsdGVyUmVnaXN0ZXJI
b29rcyhhcHJfcG9vbF90ICpwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQVBfRlRZ
UEVfUkVTT1VSQ0UpOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShjYXNlX2ZpbHRlcikgPQorQVBf
REVGSU5FX01PRFVMRShjYXNlX2ZpbHRlcikgPQogewogICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NU
VUZGLAogICAgIE5VTEwsCkluZGV4OiBtb2R1bGVzL2V4YW1wbGVzL21vZF9jYXNlX2ZpbHRlcl9p
bi5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvZXhhbXBsZXMvbW9kX2Nhc2VfZmlsdGVyX2luLmMJ
KHJldmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1bGVzL2V4YW1wbGVzL21vZF9jYXNlX2ZpbHRlcl9p
bi5jCSh3b3JraW5nIGNvcHkpCkBAIC0xNDgsNyArMTQ4LDcgQEAgc3RhdGljIHZvaWQgQ2FzZUZp
bHRlckluUmVnaXN0ZXJIb29rcyhhcHJfcG9vbF90ICoKICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgQVBfRlRZUEVfUkVTT1VSQ0UpOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShjYXNlX2Zp
bHRlcl9pbikgPQorQVBfREVGSU5FX01PRFVMRShjYXNlX2ZpbHRlcl9pbikgPQogewogICAgIFNU
QU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAgIE5VTEwsCkluZGV4OiBtb2R1bGVzL2V4YW1wbGVz
L21vZF9leGFtcGxlX2hvb2tzLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9leGFtcGxlcy9tb2Rf
ZXhhbXBsZV9ob29rcy5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9leGFtcGxlcy9t
b2RfZXhhbXBsZV9ob29rcy5jCSh3b3JraW5nIGNvcHkpCkBAIC0xNTIxLDcgKzE1MjEsNyBAQCBz
dGF0aWMgY29uc3QgY29tbWFuZF9yZWMgeF9jbWRzW10gPQogICogTW9kdWxlIGRlZmluaXRpb24g
Zm9yIGNvbmZpZ3VyYXRpb24uICBJZiBhIHBhcnRpY3VsYXIgY2FsbGJhY2sgaXMgbm90CiAgKiBu
ZWVkZWQsIHJlcGxhY2UgaXRzIHJvdXRpbmUgbmFtZSBiZWxvdyB3aXRoIHRoZSB3b3JkIE5VTEwu
CiAgKi8KLUFQX0RFQ0xBUkVfTU9EVUxFKGV4YW1wbGVfaG9va3MpID0KK0FQX0RFRklORV9NT0RV
TEUoZXhhbXBsZV9ob29rcykgPQogewogICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAg
IHhfY3JlYXRlX2Rpcl9jb25maWcsICAgIC8qIHBlci1kaXJlY3RvcnkgY29uZmlnIGNyZWF0b3Ig
Ki8KSW5kZXg6IG1vZHVsZXMvZXhhbXBsZXMvbW9kX2V4YW1wbGVfaXBjLmMKPT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQot
LS0gbW9kdWxlcy9leGFtcGxlcy9tb2RfZXhhbXBsZV9pcGMuYwkocmV2aXNpb24gMTY4NjI5OCkK
KysrIG1vZHVsZXMvZXhhbXBsZXMvbW9kX2V4YW1wbGVfaXBjLmMJKHdvcmtpbmcgY29weSkKQEAg
LTM0NSw3ICszNDUsNyBAQCBzdGF0aWMgdm9pZCBleGlwY19yZWdpc3Rlcl9ob29rcyhhcHJfcG9v
bF90ICpwKQogfQogCiAvKiBEaXNwYXRjaCBsaXN0IGZvciBBUEkgaG9va3MgKi8KLUFQX0RFQ0xB
UkVfTU9EVUxFKGV4YW1wbGVfaXBjKSA9IHsKK0FQX0RFRklORV9NT0RVTEUoZXhhbXBsZV9pcGMp
ID0gewogICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAgIE5VTEwsICAgICAgICAgICAg
ICAgICAgLyogY3JlYXRlIHBlci1kaXIgICAgY29uZmlnIHN0cnVjdHVyZXMgKi8KICAgICBOVUxM
LCAgICAgICAgICAgICAgICAgIC8qIG1lcmdlICBwZXItZGlyICAgIGNvbmZpZyBzdHJ1Y3R1cmVz
ICovCkluZGV4OiBtb2R1bGVzL2ZpbHRlcnMvbW9kX2J1ZmZlci5jCj09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1v
ZHVsZXMvZmlsdGVycy9tb2RfYnVmZmVyLmMJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1bGVz
L2ZpbHRlcnMvbW9kX2J1ZmZlci5jCSh3b3JraW5nIGNvcHkpCkBAIC0zMzcsNyArMzM3LDcgQEAg
c3RhdGljIHZvaWQgcmVnaXN0ZXJfaG9va3MoYXByX3Bvb2xfdCAqcCkgewogICAgICAgICAgICAg
QVBfRlRZUEVfQ09OVEVOVF9TRVQpOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShidWZmZXIpID0g
eworQVBfREVGSU5FX01PRFVMRShidWZmZXIpID0gewogICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NU
VUZGLAogICAgIGNyZWF0ZV9idWZmZXJfY29uZmlnLCAvKiBjcmVhdGUgcGVyLWRpcmVjdG9yeSBj
b25maWcgc3RydWN0dXJlICovCiAgICAgbWVyZ2VfYnVmZmVyX2NvbmZpZywgLyogbWVyZ2UgcGVy
LWRpcmVjdG9yeSBjb25maWcgc3RydWN0dXJlcyAqLwpJbmRleDogbW9kdWxlcy9maWx0ZXJzL21v
ZF9jaGFyc2V0X2xpdGUuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL2ZpbHRlcnMvbW9kX2NoYXJz
ZXRfbGl0ZS5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9maWx0ZXJzL21vZF9jaGFy
c2V0X2xpdGUuYwkod29ya2luZyBjb3B5KQpAQCAtMTEyOSw3ICsxMTI5LDcgQEAgc3RhdGljIHZv
aWQgY2hhcnNldF9yZWdpc3Rlcl9ob29rcyhhcHJfcG9vbF90ICpwKQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBBUF9GVFlQRV9SRVNPVVJDRSk7CiB9CiAKLUFQX0RFQ0xBUkVfTU9EVUxF
KGNoYXJzZXRfbGl0ZSkgPQorQVBfREVGSU5FX01PRFVMRShjaGFyc2V0X2xpdGUpID0KIHsKICAg
ICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBjcmVhdGVfY2hhcnNldF9kaXJfY29uZiwK
SW5kZXg6IG1vZHVsZXMvZmlsdGVycy9tb2RfZGF0YS5jCj09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMv
ZmlsdGVycy9tb2RfZGF0YS5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9maWx0ZXJz
L21vZF9kYXRhLmMJKHdvcmtpbmcgY29weSkKQEAgLTI0NSw3ICsyNDUsNyBAQCBzdGF0aWMgdm9p
ZCByZWdpc3Rlcl9ob29rcyhhcHJfcG9vbF90ICpwKQogICAgIGFwX3JlZ2lzdGVyX291dHB1dF9m
aWx0ZXIoREFUQV9GSUxURVIsIGRhdGFfb3V0X2ZpbHRlciwgTlVMTCwKICAgICAgICAgICAgIEFQ
X0ZUWVBFX1JFU09VUkNFKTsKIH0KLUFQX0RFQ0xBUkVfTU9EVUxFKGRhdGEpID0geyBTVEFOREFS
RDIwX01PRFVMRV9TVFVGRiwKK0FQX0RFRklORV9NT0RVTEUoZGF0YSkgPSB7IFNUQU5EQVJEMjBf
TU9EVUxFX1NUVUZGLAogICAgIE5VTEwsICAvKiBjcmVhdGUgcGVyLWRpcmVjdG9yeSBjb25maWcg
c3RydWN0dXJlICovCiAgICAgTlVMTCwgLyogbWVyZ2UgcGVyLWRpcmVjdG9yeSBjb25maWcgc3Ry
dWN0dXJlcyAqLwogICAgIE5VTEwsIC8qIGNyZWF0ZSBwZXItc2VydmVyIGNvbmZpZyBzdHJ1Y3R1
cmUgKi8KSW5kZXg6IG1vZHVsZXMvZmlsdGVycy9tb2RfZGVmbGF0ZS5jCj09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0t
IG1vZHVsZXMvZmlsdGVycy9tb2RfZGVmbGF0ZS5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9k
dWxlcy9maWx0ZXJzL21vZF9kZWZsYXRlLmMJKHdvcmtpbmcgY29weSkKQEAgLTE5MDIsNyArMTkw
Miw3IEBAIHN0YXRpYyBjb25zdCBjb21tYW5kX3JlYyBkZWZsYXRlX2ZpbHRlcl9jbWRzW10gPSB7
CiAgICAge05VTEx9CiB9OwogCi1BUF9ERUNMQVJFX01PRFVMRShkZWZsYXRlKSA9IHsKK0FQX0RF
RklORV9NT0RVTEUoZGVmbGF0ZSkgPSB7CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAg
ICAgY3JlYXRlX2RlZmxhdGVfZGlyY29uZiwgICAgICAgLyogZGlyIGNvbmZpZyBjcmVhdGVyICov
CiAgICAgTlVMTCwgICAgICAgICAgICAgICAgICAgICAgICAgLyogZGlyIG1lcmdlciAtLS0gZGVm
YXVsdCBpcyB0byBvdmVycmlkZSAqLwpJbmRleDogbW9kdWxlcy9maWx0ZXJzL21vZF9leHRfZmls
dGVyLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9maWx0ZXJzL21vZF9leHRfZmlsdGVyLmMJKHJl
dmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1bGVzL2ZpbHRlcnMvbW9kX2V4dF9maWx0ZXIuYwkod29y
a2luZyBjb3B5KQpAQCAtOTM3LDcgKzkzNyw3IEBAIHN0YXRpYyBhcHJfc3RhdHVzX3QgZWZfaW5w
dXRfZmlsdGVyKGFwX2ZpbHRlcl90ICpmCiAgICAgcmV0dXJuIHJ2OwogfQogCi1BUF9ERUNMQVJF
X01PRFVMRShleHRfZmlsdGVyKSA9CitBUF9ERUZJTkVfTU9EVUxFKGV4dF9maWx0ZXIpID0KIHsK
ICAgICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBjcmVhdGVfZWZfZGlyX2NvbmYsCklu
ZGV4OiBtb2R1bGVzL2ZpbHRlcnMvbW9kX2ZpbHRlci5jCj09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMv
ZmlsdGVycy9tb2RfZmlsdGVyLmMJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1bGVzL2ZpbHRl
cnMvbW9kX2ZpbHRlci5jCSh3b3JraW5nIGNvcHkpCkBAIC03NTYsNyArNzU2LDcgQEAgc3RhdGlj
IGNvbnN0IGNvbW1hbmRfcmVjIGZpbHRlcl9jbWRzW10gPSB7CiAgICAgeyBOVUxMIH0KIH07CiAK
LUFQX0RFQ0xBUkVfTU9EVUxFKGZpbHRlcikgPSB7CitBUF9ERUZJTkVfTU9EVUxFKGZpbHRlcikg
PSB7CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAgZmlsdGVyX2NvbmZpZywKICAg
ICBmaWx0ZXJfbWVyZ2UsCkluZGV4OiBtb2R1bGVzL2ZpbHRlcnMvbW9kX2luY2x1ZGUuYwo9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09Ci0tLSBtb2R1bGVzL2ZpbHRlcnMvbW9kX2luY2x1ZGUuYwkocmV2aXNpb24gMTY4NjI5
OCkKKysrIG1vZHVsZXMvZmlsdGVycy9tb2RfaW5jbHVkZS5jCSh3b3JraW5nIGNvcHkpCkBAIC00
MjA3LDcgKzQyMDcsNyBAQCBzdGF0aWMgdm9pZCByZWdpc3Rlcl9ob29rcyhhcHJfcG9vbF90ICpw
KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQVBfRlRZUEVfUkVTT1VSQ0UpOwogfQog
Ci1BUF9ERUNMQVJFX01PRFVMRShpbmNsdWRlKSA9CitBUF9ERUZJTkVfTU9EVUxFKGluY2x1ZGUp
ID0KIHsKICAgICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBjcmVhdGVfaW5jbHVkZXNf
ZGlyX2NvbmZpZywgICAvKiBkaXIgY29uZmlnIGNyZWF0ZXIgKi8KSW5kZXg6IG1vZHVsZXMvZmls
dGVycy9tb2RfcHJveHlfaHRtbC5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvZmlsdGVycy9tb2Rf
cHJveHlfaHRtbC5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9maWx0ZXJzL21vZF9w
cm94eV9odG1sLmMJKHdvcmtpbmcgY29weSkKQEAgLTEyNzAsNyArMTI3MCw3IEBAIHN0YXRpYyB2
b2lkIHByb3h5X2h0bWxfaG9va3MoYXByX3Bvb2xfdCAqcCkKICAgICBhcF9ob29rX2luc2VydF9m
aWx0ZXIocHJveHlfaHRtbF9pbnNlcnQsIE5VTEwsIGFzelN1Y2MsIEFQUl9IT09LX01JRERMRSk7
CiB9CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKHByb3h5X2h0bWwpID0geworQVBfREVGSU5FX01PRFVM
RShwcm94eV9odG1sKSA9IHsKICAgICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBwcm94
eV9odG1sX2NvbmZpZywKICAgICBwcm94eV9odG1sX21lcmdlLApJbmRleDogbW9kdWxlcy9maWx0
ZXJzL21vZF9yYXRlbGltaXQuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL2ZpbHRlcnMvbW9kX3Jh
dGVsaW1pdC5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9maWx0ZXJzL21vZF9yYXRl
bGltaXQuYwkod29ya2luZyBjb3B5KQpAQCAtMzAyLDcgKzMwMiw3IEBAIHN0YXRpYyB2b2lkIHJl
Z2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBOVUxMLCBBUF9GVFlQRV9QUk9UT0NPTCArIDMpOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShy
YXRlbGltaXQpID0geworQVBfREVGSU5FX01PRFVMRShyYXRlbGltaXQpID0gewogICAgIFNUQU5E
QVJEMjBfTU9EVUxFX1NUVUZGLAogICAgIE5VTEwsICAgICAgICAgICAgICAgICAgICAgICAvKiBj
cmVhdGUgcGVyLWRpcmVjdG9yeSBjb25maWcgc3RydWN0dXJlICovCiAgICAgTlVMTCwgICAgICAg
ICAgICAgICAgICAgICAgIC8qIG1lcmdlIHBlci1kaXJlY3RvcnkgY29uZmlnIHN0cnVjdHVyZXMg
Ki8KSW5kZXg6IG1vZHVsZXMvZmlsdGVycy9tb2RfcmVmbGVjdG9yLmMKPT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0g
bW9kdWxlcy9maWx0ZXJzL21vZF9yZWZsZWN0b3IuYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1v
ZHVsZXMvZmlsdGVycy9tb2RfcmVmbGVjdG9yLmMJKHdvcmtpbmcgY29weSkKQEAgLTIxNSw3ICsy
MTUsNyBAQCBzdGF0aWMgY29uc3QgY29tbWFuZF9yZWMgcmVmbGVjdG9yX2NtZHNbXSA9IHsKICAg
ICB7TlVMTH0KIH07CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKHJlZmxlY3RvcikgPSB7CitBUF9ERUZJ
TkVfTU9EVUxFKHJlZmxlY3RvcikgPSB7CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAg
ICAgY3JlYXRlX3JlZmxlY3Rvcl9kaXJfY29uZmlnLAogICAgIG1lcmdlX3JlZmxlY3Rvcl9kaXJf
Y29uZmlnLApJbmRleDogbW9kdWxlcy9maWx0ZXJzL21vZF9yZXF0aW1lb3V0LmMKPT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PQotLS0gbW9kdWxlcy9maWx0ZXJzL21vZF9yZXF0aW1lb3V0LmMJKHJldmlzaW9uIDE2ODYyOTgp
CisrKyBtb2R1bGVzL2ZpbHRlcnMvbW9kX3JlcXRpbWVvdXQuYwkod29ya2luZyBjb3B5KQpAQCAt
NjI5LDcgKzYyOSw3IEBAIHN0YXRpYyBjb25zdCBjb21tYW5kX3JlYyByZXF0aW1lb3V0X2NtZHNb
XSA9IHsKICAgICB7TlVMTH0KIH07CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKHJlcXRpbWVvdXQpID0g
eworQVBfREVGSU5FX01PRFVMRShyZXF0aW1lb3V0KSA9IHsKICAgICBTVEFOREFSRDIwX01PRFVM
RV9TVFVGRiwKICAgICBOVUxMLCAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGNyZWF0ZSBw
ZXItZGlyIGNvbmZpZyBzdHJ1Y3R1cmVzICovCiAgICAgTlVMTCwgICAgICAgICAgICAgICAgICAg
ICAgICAgICAvKiBtZXJnZSAgcGVyLWRpciBjb25maWcgc3RydWN0dXJlcyAqLwpJbmRleDogbW9k
dWxlcy9maWx0ZXJzL21vZF9yZXF1ZXN0LmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9maWx0ZXJz
L21vZF9yZXF1ZXN0LmMJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1bGVzL2ZpbHRlcnMvbW9k
X3JlcXVlc3QuYwkod29ya2luZyBjb3B5KQpAQCAtMzg1LDcgKzM4NSw3IEBAIHN0YXRpYyB2b2lk
IHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnApCiAgICAgQVBSX1JFR0lTVEVSX09QVElPTkFM
X0ZOKGFwX3JlcXVlc3RfcmVtb3ZlX2ZpbHRlcik7CiB9CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKHJl
cXVlc3QpID0geworQVBfREVGSU5FX01PRFVMRShyZXF1ZXN0KSA9IHsKICAgICBTVEFOREFSRDIw
X01PRFVMRV9TVFVGRiwKICAgICBjcmVhdGVfcmVxdWVzdF9kaXJfY29uZmlnLCAvKiBjcmVhdGUg
cGVyLWRpcmVjdG9yeSBjb25maWcgc3RydWN0dXJlICovCiAgICAgbWVyZ2VfcmVxdWVzdF9kaXJf
Y29uZmlnLCAgLyogbWVyZ2UgcGVyLWRpcmVjdG9yeSBjb25maWcgc3RydWN0dXJlcyAqLwpJbmRl
eDogbW9kdWxlcy9maWx0ZXJzL21vZF9zZWQuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL2ZpbHRl
cnMvbW9kX3NlZC5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9maWx0ZXJzL21vZF9z
ZWQuYwkod29ya2luZyBjb3B5KQpAQCAtNTI2LDcgKzUyNiw3IEBAIHN0YXRpYyB2b2lkIHJlZ2lz
dGVyX2hvb2tzKGFwcl9wb29sX3QgKnApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFQ
X0ZUWVBFX1JFU09VUkNFKTsKIH0KIAotQVBfREVDTEFSRV9NT0RVTEUoc2VkKSA9IHsKK0FQX0RF
RklORV9NT0RVTEUoc2VkKSA9IHsKICAgICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBj
cmVhdGVfc2VkX2Rpcl9jb25maWcsICAgICAgLyogZGlyIGNvbmZpZyBjcmVhdGVyICovCiAgICAg
TlVMTCwgICAgICAgICAgICAgICAgICAgICAgIC8qIGRpciBtZXJnZXIgLS0tIGRlZmF1bHQgaXMg
dG8gb3ZlcnJpZGUgKi8KSW5kZXg6IG1vZHVsZXMvZmlsdGVycy9tb2Rfc3Vic3RpdHV0ZS5jCj09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT0KLS0tIG1vZHVsZXMvZmlsdGVycy9tb2Rfc3Vic3RpdHV0ZS5jCShyZXZpc2lvbiAx
Njg2Mjk4KQorKysgbW9kdWxlcy9maWx0ZXJzL21vZF9zdWJzdGl0dXRlLmMJKHdvcmtpbmcgY29w
eSkKQEAgLTY5OCw3ICs2OTgsNyBAQCBzdGF0aWMgY29uc3QgY29tbWFuZF9yZWMgc3Vic3RpdHV0
ZV9jbWRzW10gPSB7CiAgICAge05VTEx9CiB9OwogCi1BUF9ERUNMQVJFX01PRFVMRShzdWJzdGl0
dXRlKSA9IHsKK0FQX0RFRklORV9NT0RVTEUoc3Vic3RpdHV0ZSkgPSB7CiAgICAgU1RBTkRBUkQy
MF9NT0RVTEVfU1RVRkYsCiAgICAgY3JlYXRlX3N1YnN0aXR1dGVfZGNmZywgICAgIC8qIGRpciBj
b25maWcgY3JlYXRlciAqLwogICAgIG1lcmdlX3N1YnN0aXR1dGVfZGNmZywgICAgICAvKiBkaXIg
bWVyZ2VyIC0tLSBkZWZhdWx0IGlzIHRvIG92ZXJyaWRlICovCkluZGV4OiBtb2R1bGVzL2ZpbHRl
cnMvbW9kX3htbDJlbmMuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL2ZpbHRlcnMvbW9kX3htbDJl
bmMuYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvZmlsdGVycy9tb2RfeG1sMmVuYy5j
CSh3b3JraW5nIGNvcHkpCkBAIC02MTYsNyArNjE2LDcgQEAgc3RhdGljIHZvaWQqIHhtbDJlbmNf
bWVyZ2UoYXByX3Bvb2xfdCogcG9vbCwgdm9pZCoKICAgICByZXR1cm4gcmV0OwogfQogCi1BUF9E
RUNMQVJFX01PRFVMRSh4bWwyZW5jKSA9IHsKK0FQX0RFRklORV9NT0RVTEUoeG1sMmVuYykgPSB7
CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAgeG1sMmVuY19jb25maWcsCiAgICAg
eG1sMmVuY19tZXJnZSwKSW5kZXg6IG1vZHVsZXMvZ2VuZXJhdG9ycy9tb2RfYXNpcy5jCj09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT0KLS0tIG1vZHVsZXMvZ2VuZXJhdG9ycy9tb2RfYXNpcy5jCShyZXZpc2lvbiAxNjg2Mjk4
KQorKysgbW9kdWxlcy9nZW5lcmF0b3JzL21vZF9hc2lzLmMJKHdvcmtpbmcgY29weSkKQEAgLTEx
Niw3ICsxMTYsNyBAQCBzdGF0aWMgdm9pZCByZWdpc3Rlcl9ob29rcyhhcHJfcG9vbF90ICpwKQog
ICAgIGFwX2hvb2tfaGFuZGxlcihhc2lzX2hhbmRsZXIsTlVMTCxOVUxMLEFQUl9IT09LX01JRERM
RSk7CiB9CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKGFzaXMpID0KK0FQX0RFRklORV9NT0RVTEUoYXNp
cykgPQogewogICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAgIE5VTEwsICAgICAgICAg
ICAgICAvKiBjcmVhdGUgcGVyLWRpcmVjdG9yeSBjb25maWcgc3RydWN0dXJlICovCkluZGV4OiBt
b2R1bGVzL2dlbmVyYXRvcnMvbW9kX2F1dG9pbmRleC5jCj09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMv
Z2VuZXJhdG9ycy9tb2RfYXV0b2luZGV4LmMJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1bGVz
L2dlbmVyYXRvcnMvbW9kX2F1dG9pbmRleC5jCSh3b3JraW5nIGNvcHkpCkBAIC0yMzI1LDcgKzIz
MjUsNyBAQCBzdGF0aWMgdm9pZCByZWdpc3Rlcl9ob29rcyhhcHJfcG9vbF90ICpwKQogICAgIGFw
X2hvb2tfaGFuZGxlcihoYW5kbGVfYXV0b2luZGV4LE5VTEwsTlVMTCxBUFJfSE9PS19NSURETEUp
OwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShhdXRvaW5kZXgpID0KK0FQX0RFRklORV9NT0RVTEUo
YXV0b2luZGV4KSA9CiB7CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAgY3JlYXRl
X2F1dG9pbmRleF9jb25maWcsICAgIC8qIGRpciBjb25maWcgY3JlYXRlciAqLwpJbmRleDogbW9k
dWxlcy9nZW5lcmF0b3JzL21vZF9jZ2kuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL2dlbmVyYXRv
cnMvbW9kX2NnaS5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9nZW5lcmF0b3JzL21v
ZF9jZ2kuYwkod29ya2luZyBjb3B5KQpAQCAtMTI3Myw3ICsxMjczLDcgQEAgc3RhdGljIHZvaWQg
cmVnaXN0ZXJfaG9va3MoYXByX3Bvb2xfdCAqcCkKICAgICBhcF9ob29rX3Bvc3RfY29uZmlnKGNn
aV9wb3N0X2NvbmZpZywgYXN6UHJlLCBOVUxMLCBBUFJfSE9PS19SRUFMTFlfRklSU1QpOwogfQog
Ci1BUF9ERUNMQVJFX01PRFVMRShjZ2kpID0KK0FQX0RFRklORV9NT0RVTEUoY2dpKSA9CiB7CiAg
ICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAgTlVMTCwgICAgICAgICAgICAgICAgICAg
ICAgICAvKiBkaXIgY29uZmlnIGNyZWF0ZXIgKi8KSW5kZXg6IG1vZHVsZXMvZ2VuZXJhdG9ycy9t
b2RfY2dpZC5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvZ2VuZXJhdG9ycy9tb2RfY2dpZC5jCShy
ZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9nZW5lcmF0b3JzL21vZF9jZ2lkLmMJKHdvcmtp
bmcgY29weSkKQEAgLTE5NDksNyArMTk0OSw3IEBAIHN0YXRpYyB2b2lkIHJlZ2lzdGVyX2hvb2so
YXByX3Bvb2xfdCAqcCkKICAgICBhcF9ob29rX2hhbmRsZXIoY2dpZF9oYW5kbGVyLCBOVUxMLCBO
VUxMLCBBUFJfSE9PS19NSURETEUpOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShjZ2lkKSA9IHsK
K0FQX0RFRklORV9NT0RVTEUoY2dpZCkgPSB7CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYs
CiAgICAgY3JlYXRlX2NnaWRfZGlyY29uZiwgLyogZGlyIGNvbmZpZyBjcmVhdGVyICovCiAgICAg
TlVMTCwgLyogZGlyIG1lcmdlciAtLS0gZGVmYXVsdCBpcyB0byBvdmVycmlkZSAqLwpJbmRleDog
bW9kdWxlcy9nZW5lcmF0b3JzL21vZF9pbmZvLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9nZW5l
cmF0b3JzL21vZF9pbmZvLmMJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1bGVzL2dlbmVyYXRv
cnMvbW9kX2luZm8uYwkod29ya2luZyBjb3B5KQpAQCAtMTAwMCw3ICsxMDAwLDcgQEAgc3RhdGlj
IHZvaWQgcmVnaXN0ZXJfaG9va3MoYXByX3Bvb2xfdCAqIHApCiAgICAgYXBfaG9va19jaGVja19j
b25maWcoY2hlY2tfY29uZmlnLCBOVUxMLCBOVUxMLCBBUFJfSE9PS19GSVJTVCk7CiB9CiAKLUFQ
X0RFQ0xBUkVfTU9EVUxFKGluZm8pID0geworQVBfREVGSU5FX01PRFVMRShpbmZvKSA9IHsKICAg
ICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBOVUxMLCAgICAgICAgICAgICAgICAgICAg
ICAgLyogZGlyIGNvbmZpZyBjcmVhdGVyICovCiAgICAgTlVMTCwgICAgICAgICAgICAgICAgICAg
ICAgIC8qIGRpciBtZXJnZXIgLS0tIGRlZmF1bHQgaXMgdG8gb3ZlcnJpZGUgKi8KSW5kZXg6IG1v
ZHVsZXMvZ2VuZXJhdG9ycy9tb2Rfc3RhdHVzLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9nZW5l
cmF0b3JzL21vZF9zdGF0dXMuYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvZ2VuZXJh
dG9ycy9tb2Rfc3RhdHVzLmMJKHdvcmtpbmcgY29weSkKQEAgLTk3NSw3ICs5NzUsNyBAQCBzdGF0
aWMgdm9pZCByZWdpc3Rlcl9ob29rcyhhcHJfcG9vbF90ICpwKQogI2VuZGlmCiB9CiAKLUFQX0RF
Q0xBUkVfTU9EVUxFKHN0YXR1cykgPQorQVBfREVGSU5FX01PRFVMRShzdGF0dXMpID0KIHsKICAg
ICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBOVUxMLCAgICAgICAgICAgICAgICAgICAg
ICAgLyogZGlyIGNvbmZpZyBjcmVhdGVyICovCkluZGV4OiBtb2R1bGVzL2dlbmVyYXRvcnMvbW9k
X3N1ZXhlYy5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvZ2VuZXJhdG9ycy9tb2Rfc3VleGVjLmMJ
KHJldmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1bGVzL2dlbmVyYXRvcnMvbW9kX3N1ZXhlYy5jCSh3
b3JraW5nIGNvcHkpCkBAIC0xMjcsNyArMTI3LDcgQEAgc3RhdGljIHZvaWQgc3VleGVjX2hvb2tz
KGFwcl9wb29sX3QgKnApCiAgICAgYXBfaG9va19wb3N0X2NvbmZpZyhzdWV4ZWNfcG9zdF9jb25m
aWcsTlVMTCxOVUxMLEFQUl9IT09LX01JRERMRSk7CiB9CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKHN1
ZXhlYykgPQorQVBfREVGSU5FX01PRFVMRShzdWV4ZWMpID0KIHsKICAgICBTVEFOREFSRDIwX01P
RFVMRV9TVFVGRiwKICAgICBjcmVhdGVfbWNvbmZpZ19mb3JfZGlyZWN0b3J5LCAgIC8qIGNyZWF0
ZSBwZXItZGlyIGNvbmZpZyAqLwpJbmRleDogbW9kdWxlcy9odHRwL2h0dHBfY29yZS5jCj09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT0KLS0tIG1vZHVsZXMvaHR0cC9odHRwX2NvcmUuYwkocmV2aXNpb24gMTY4NjI5OCkKKysr
IG1vZHVsZXMvaHR0cC9odHRwX2NvcmUuYwkod29ya2luZyBjb3B5KQpAQCAtMzE3LDcgKzMxNyw3
IEBAIHN0YXRpYyB2b2lkIHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnApCiAgICAgYXBfbWV0
aG9kX3JlZ2lzdHJ5X2luaXQocCk7CiB9CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKGh0dHApID0gewor
QVBfREVGSU5FX01PRFVMRShodHRwKSA9IHsKICAgICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwK
ICAgICBOVUxMLCAgICAgICAgICAgICAgLyogY3JlYXRlIHBlci1kaXJlY3RvcnkgY29uZmlnIHN0
cnVjdHVyZSAqLwogICAgIE5VTEwsICAgICAgICAgICAgICAvKiBtZXJnZSBwZXItZGlyZWN0b3J5
IGNvbmZpZyBzdHJ1Y3R1cmVzICovCkluZGV4OiBtb2R1bGVzL2h0dHAvbW9kX21pbWUuYwo9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09Ci0tLSBtb2R1bGVzL2h0dHAvbW9kX21pbWUuYwkocmV2aXNpb24gMTY4NjI5OCkKKysr
IG1vZHVsZXMvaHR0cC9tb2RfbWltZS5jCSh3b3JraW5nIGNvcHkpCkBAIC0xMDE1LDcgKzEwMTUs
NyBAQCBzdGF0aWMgdm9pZCByZWdpc3Rlcl9ob29rcyhhcHJfcG9vbF90ICpwKQogICAgICAqLwog
fQogCi1BUF9ERUNMQVJFX01PRFVMRShtaW1lKSA9IHsKK0FQX0RFRklORV9NT0RVTEUobWltZSkg
PSB7CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAgY3JlYXRlX21pbWVfZGlyX2Nv
bmZpZywgICAgIC8qIGNyZWF0ZSBwZXItZGlyZWN0b3J5IGNvbmZpZyBzdHJ1Y3R1cmUgKi8KICAg
ICBtZXJnZV9taW1lX2Rpcl9jb25maWdzLCAgICAgLyogbWVyZ2UgcGVyLWRpcmVjdG9yeSBjb25m
aWcgc3RydWN0dXJlcyAqLwpJbmRleDogbW9kdWxlcy9sZGFwL3V0aWxfbGRhcC5jCj09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT0KLS0tIG1vZHVsZXMvbGRhcC91dGlsX2xkYXAuYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1v
ZHVsZXMvbGRhcC91dGlsX2xkYXAuYwkod29ya2luZyBjb3B5KQpAQCAtMzE5OCw3ICszMTk4LDcg
QEAgc3RhdGljIHZvaWQgdXRpbF9sZGFwX3JlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnAKICAg
ICBhcF9ob29rX2NoaWxkX2luaXQodXRpbF9sZGFwX2NoaWxkX2luaXQsIE5VTEwsIE5VTEwsIEFQ
Ul9IT09LX01JRERMRSk7CiB9CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKGxkYXApID0geworQVBfREVG
SU5FX01PRFVMRShsZGFwKSA9IHsKICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAgdXRp
bF9sZGFwX2NyZWF0ZV9kaXJfY29uZmlnLCAvKiBjcmVhdGUgZGlyIGNvbmZpZyAqLwogICAgTlVM
TCwgICAgICAgICAgICAgICAgICAgICAgICAvKiBtZXJnZSBkaXIgY29uZmlnICovCkluZGV4OiBt
b2R1bGVzL2xvZ2dlcnMvbW9kX2xvZ19jb25maWcuYwo9PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL2xv
Z2dlcnMvbW9kX2xvZ19jb25maWcuYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvbG9n
Z2Vycy9tb2RfbG9nX2NvbmZpZy5jCSh3b3JraW5nIGNvcHkpCkBAIC0xODExLDcgKzE4MTEsNyBA
QCBzdGF0aWMgdm9pZCByZWdpc3Rlcl9ob29rcyhhcHJfcG9vbF90ICpwKQogICAgIEFQUl9SRUdJ
U1RFUl9PUFRJT05BTF9GTihhcF9sb2dfc2V0X3dyaXRlcik7CiB9CiAKLUFQX0RFQ0xBUkVfTU9E
VUxFKGxvZ19jb25maWcpID0KK0FQX0RFRklORV9NT0RVTEUobG9nX2NvbmZpZykgPQogewogICAg
IFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAgIE5VTEwsICAgICAgICAgICAgICAgICAgICAg
ICAvKiBjcmVhdGUgcGVyLWRpciBjb25maWcgKi8KSW5kZXg6IG1vZHVsZXMvbG9nZ2Vycy9tb2Rf
bG9nX2RlYnVnLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9sb2dnZXJzL21vZF9sb2dfZGVidWcu
YwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvbG9nZ2Vycy9tb2RfbG9nX2RlYnVnLmMJ
KHdvcmtpbmcgY29weSkKQEAgLTI3MCw3ICsyNzAsNyBAQCBzdGF0aWMgdm9pZCByZWdpc3Rlcl9o
b29rcyhhcHJfcG9vbF90ICpwKQogICAgIGFwX2hvb2tfaW5zZXJ0X2ZpbHRlcihsb2dfZGVidWdf
aW5zZXJ0X2ZpbHRlciwgTlVMTCwgTlVMTCwgQVBSX0hPT0tfRklSU1QpOwogfQogCi1BUF9ERUNM
QVJFX01PRFVMRShsb2dfZGVidWcpID0KK0FQX0RFRklORV9NT0RVTEUobG9nX2RlYnVnKSA9CiB7
CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAgbG9nX2RlYnVnX2NyZWF0ZV9kY29u
ZiwgICAgIC8qIGNyZWF0ZSBwZXItZGlyIGNvbmZpZyAqLwpJbmRleDogbW9kdWxlcy9sb2dnZXJz
L21vZF9sb2dfZm9yZW5zaWMuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL2xvZ2dlcnMvbW9kX2xv
Z19mb3JlbnNpYy5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9sb2dnZXJzL21vZF9s
b2dfZm9yZW5zaWMuYwkod29ya2luZyBjb3B5KQpAQCAtMjc3LDcgKzI3Nyw3IEBAIHN0YXRpYyB2
b2lkIHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnApCiAgICAgYXBfaG9va19sb2dfdHJhbnNh
Y3Rpb24obG9nX2FmdGVyLE5VTEwsTlVMTCxBUFJfSE9PS19SRUFMTFlfTEFTVCk7CiB9CiAKLUFQ
X0RFQ0xBUkVfTU9EVUxFKGxvZ19mb3JlbnNpYykgPQorQVBfREVGSU5FX01PRFVMRShsb2dfZm9y
ZW5zaWMpID0KIHsKICAgICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBOVUxMLCAgICAg
ICAgICAgICAgICAgICAgICAgLyogY3JlYXRlIHBlci1kaXIgY29uZmlnICovCkluZGV4OiBtb2R1
bGVzL2xvZ2dlcnMvbW9kX2xvZ2lvLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9sb2dnZXJzL21v
ZF9sb2dpby5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9sb2dnZXJzL21vZF9sb2dp
by5jCSh3b3JraW5nIGNvcHkpCkBAIC0yNjUsNyArMjY1LDcgQEAgc3RhdGljIHZvaWQgcmVnaXN0
ZXJfaG9va3MoYXByX3Bvb2xfdCAqcCkKICAgICBBUFJfUkVHSVNURVJfT1BUSU9OQUxfRk4oYXBf
bG9naW9fZ2V0X2xhc3RfYnl0ZXMpOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShsb2dpbykgPQor
QVBfREVGSU5FX01PRFVMRShsb2dpbykgPQogewogICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZG
LAogICAgIGNyZWF0ZV9sb2dpb19kaXJjb25mLCAgICAgICAvKiBjcmVhdGUgcGVyLWRpciBjb25m
aWcgKi8gCkluZGV4OiBtb2R1bGVzL2x1YS9tb2RfbHVhLmMKPT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gbW9kdWxl
cy9sdWEvbW9kX2x1YS5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9sdWEvbW9kX2x1
YS5jCSh3b3JraW5nIGNvcHkpCkBAIC0yMTYxLDcgKzIxNjEsNyBAQCBzdGF0aWMgdm9pZCBsdWFf
cmVnaXN0ZXJfaG9va3MoYXByX3Bvb2xfdCAqcCkKICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBBUFJfSE9PS19GSVJTVCk7CiB9CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKGx1YSkgPSB7CitBUF9E
RUZJTkVfTU9EVUxFKGx1YSkgPSB7CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAg
Y3JlYXRlX2Rpcl9jb25maWcsICAgICAgICAgIC8qIGNyZWF0ZSBwZXItZGlyICAgIGNvbmZpZyBz
dHJ1Y3R1cmVzICovCiAgICAgbWVyZ2VfZGlyX2NvbmZpZywgICAgICAgICAgIC8qIG1lcmdlICBw
ZXItZGlyICAgIGNvbmZpZyBzdHJ1Y3R1cmVzICovCkluZGV4OiBtb2R1bGVzL21hcHBlcnMvbW9k
X2FjdGlvbnMuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL21hcHBlcnMvbW9kX2FjdGlvbnMuYwko
cmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvbWFwcGVycy9tb2RfYWN0aW9ucy5jCSh3b3Jr
aW5nIGNvcHkpCkBAIC0yMTQsNyArMjE0LDcgQEAgc3RhdGljIHZvaWQgcmVnaXN0ZXJfaG9va3Mo
YXByX3Bvb2xfdCAqcCkKICAgICBhcF9ob29rX2hhbmRsZXIoYWN0aW9uX2hhbmRsZXIsTlVMTCxO
VUxMLEFQUl9IT09LX0xBU1QpOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShhY3Rpb25zKSA9CitB
UF9ERUZJTkVfTU9EVUxFKGFjdGlvbnMpID0KIHsKICAgICBTVEFOREFSRDIwX01PRFVMRV9TVFVG
RiwKICAgICBjcmVhdGVfYWN0aW9uX2Rpcl9jb25maWcsICAgLyogZGlyIGNvbmZpZyBjcmVhdGVy
ICovCkluZGV4OiBtb2R1bGVzL21hcHBlcnMvbW9kX2FsaWFzLmMKPT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gbW9k
dWxlcy9tYXBwZXJzL21vZF9hbGlhcy5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9t
YXBwZXJzL21vZF9hbGlhcy5jCSh3b3JraW5nIGNvcHkpCkBAIC03MTksNyArNzE5LDcgQEAgc3Rh
dGljIHZvaWQgcmVnaXN0ZXJfaG9va3MoYXByX3Bvb2xfdCAqcCkKICAgICBhcF9ob29rX2ZpeHVw
cyhmaXh1cF9yZWRpcixOVUxMLE5VTEwsQVBSX0hPT0tfTUlERExFKTsKIH0KIAotQVBfREVDTEFS
RV9NT0RVTEUoYWxpYXMpID0KK0FQX0RFRklORV9NT0RVTEUoYWxpYXMpID0KIHsKICAgICBTVEFO
REFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBjcmVhdGVfYWxpYXNfZGlyX2NvbmZpZywgICAgICAg
LyogZGlyIGNvbmZpZyBjcmVhdGVyICovCkluZGV4OiBtb2R1bGVzL21hcHBlcnMvbW9kX2Rpci5j
Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT0KLS0tIG1vZHVsZXMvbWFwcGVycy9tb2RfZGlyLmMJKHJldmlzaW9uIDE2ODYy
OTgpCisrKyBtb2R1bGVzL21hcHBlcnMvbW9kX2Rpci5jCSh3b3JraW5nIGNvcHkpCkBAIC0zOTgs
NyArMzk4LDcgQEAgc3RhdGljIHZvaWQgcmVnaXN0ZXJfaG9va3MoYXByX3Bvb2xfdCAqcCkKICAg
ICBhcF9ob29rX2ZpeHVwcyhkaXJfZml4dXBzLE5VTEwsTlVMTCxBUFJfSE9PS19MQVNUKTsKIH0K
IAotQVBfREVDTEFSRV9NT0RVTEUoZGlyKSA9IHsKK0FQX0RFRklORV9NT0RVTEUoZGlyKSA9IHsK
ICAgICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBjcmVhdGVfZGlyX2NvbmZpZywgICAg
ICAgICAgLyogY3JlYXRlIHBlci1kaXJlY3RvcnkgY29uZmlnIHN0cnVjdHVyZSAqLwogICAgIG1l
cmdlX2Rpcl9jb25maWdzLCAgICAgICAgICAvKiBtZXJnZSBwZXItZGlyZWN0b3J5IGNvbmZpZyBz
dHJ1Y3R1cmVzICovCkluZGV4OiBtb2R1bGVzL21hcHBlcnMvbW9kX2ltYWdlbWFwLmMKPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PQotLS0gbW9kdWxlcy9tYXBwZXJzL21vZF9pbWFnZW1hcC5jCShyZXZpc2lvbiAxNjg2Mjk4
KQorKysgbW9kdWxlcy9tYXBwZXJzL21vZF9pbWFnZW1hcC5jCSh3b3JraW5nIGNvcHkpCkBAIC04
OTEsNyArODkxLDcgQEAgc3RhdGljIHZvaWQgcmVnaXN0ZXJfaG9va3MoYXByX3Bvb2xfdCAqcCkK
ICAgICBhcF9ob29rX2hhbmRsZXIoaW1hcF9oYW5kbGVyLE5VTEwsTlVMTCxBUFJfSE9PS19NSURE
TEUpOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShpbWFnZW1hcCkgPQorQVBfREVGSU5FX01PRFVM
RShpbWFnZW1hcCkgPQogewogICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAgIGNyZWF0
ZV9pbWFwX2Rpcl9jb25maWcsICAgICAvKiBkaXIgY29uZmlnIGNyZWF0ZXIgKi8KSW5kZXg6IG1v
ZHVsZXMvbWFwcGVycy9tb2RfbmVnb3RpYXRpb24uYwo9PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL21h
cHBlcnMvbW9kX25lZ290aWF0aW9uLmMJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1bGVzL21h
cHBlcnMvbW9kX25lZ290aWF0aW9uLmMJKHdvcmtpbmcgY29weSkKQEAgLTMyMjEsNyArMzIyMSw3
IEBAIHN0YXRpYyB2b2lkIHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnApCiAgICAgYXBfaG9v
a19oYW5kbGVyKGhhbmRsZV9tYXBfZmlsZSxOVUxMLE5VTEwsQVBSX0hPT0tfTUlERExFKTsKIH0K
IAotQVBfREVDTEFSRV9NT0RVTEUobmVnb3RpYXRpb24pID0KK0FQX0RFRklORV9NT0RVTEUobmVn
b3RpYXRpb24pID0KIHsKICAgICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBjcmVhdGVf
bmVnX2Rpcl9jb25maWcsICAgICAgLyogZGlyIGNvbmZpZyBjcmVhdG9yICovCkluZGV4OiBtb2R1
bGVzL21hcHBlcnMvbW9kX3Jld3JpdGUuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL21hcHBlcnMv
bW9kX3Jld3JpdGUuYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvbWFwcGVycy9tb2Rf
cmV3cml0ZS5jCSh3b3JraW5nIGNvcHkpCkBAIC01MTkwLDcgKzUxOTAsNyBAQCBzdGF0aWMgdm9p
ZCByZWdpc3Rlcl9ob29rcyhhcHJfcG9vbF90ICpwKQogfQogCiAgICAgLyogdGhlIG1haW4gY29u
ZmlnIHN0cnVjdHVyZSAqLwotQVBfREVDTEFSRV9NT0RVTEUocmV3cml0ZSkgPSB7CitBUF9ERUZJ
TkVfTU9EVUxFKHJld3JpdGUpID0gewogICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICBj
b25maWdfcGVyZGlyX2NyZWF0ZSwgICAgICAgIC8qIGNyZWF0ZSBwZXItZGlyICAgIGNvbmZpZyBz
dHJ1Y3R1cmVzICovCiAgICBjb25maWdfcGVyZGlyX21lcmdlLCAgICAgICAgIC8qIG1lcmdlICBw
ZXItZGlyICAgIGNvbmZpZyBzdHJ1Y3R1cmVzICovCkluZGV4OiBtb2R1bGVzL21hcHBlcnMvbW9k
X3NwZWxpbmcuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL21hcHBlcnMvbW9kX3NwZWxpbmcuYwko
cmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvbWFwcGVycy9tb2Rfc3BlbGluZy5jCSh3b3Jr
aW5nIGNvcHkpCkBAIC01MjEsNyArNTIxLDcgQEAgc3RhdGljIHZvaWQgcmVnaXN0ZXJfaG9va3Mo
YXByX3Bvb2xfdCAqcCkKICAgICBhcF9ob29rX2ZpeHVwcyhjaGVja19zcGVsaW5nLE5VTEwsTlVM
TCxBUFJfSE9PS19MQVNUKTsKIH0KIAotQVBfREVDTEFSRV9NT0RVTEUoc3BlbGluZykgPQorQVBf
REVGSU5FX01PRFVMRShzcGVsaW5nKSA9CiB7CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYs
CiAgICAgY3JlYXRlX21jb25maWdfZm9yX2RpcmVjdG9yeSwgIC8qIGNyZWF0ZSBwZXItZGlyIGNv
bmZpZyAqLwpJbmRleDogbW9kdWxlcy9tYXBwZXJzL21vZF91c2VyZGlyLmMKPT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQot
LS0gbW9kdWxlcy9tYXBwZXJzL21vZF91c2VyZGlyLmMJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBt
b2R1bGVzL21hcHBlcnMvbW9kX3VzZXJkaXIuYwkod29ya2luZyBjb3B5KQpAQCAtMzc5LDcgKzM3
OSw3IEBAIHN0YXRpYyB2b2lkIHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnApCiAjZW5kaWYK
IH0KIAotQVBfREVDTEFSRV9NT0RVTEUodXNlcmRpcikgPSB7CitBUF9ERUZJTkVfTU9EVUxFKHVz
ZXJkaXIpID0gewogICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAgIE5VTEwsICAgICAg
ICAgICAgICAgICAgICAgICAvKiBkaXIgY29uZmlnIGNyZWF0ZXIgKi8KICAgICBOVUxMLCAgICAg
ICAgICAgICAgICAgICAgICAgLyogZGlyIG1lcmdlciAtLS0gZGVmYXVsdCBpcyB0byBvdmVycmlk
ZSAqLwpJbmRleDogbW9kdWxlcy9tYXBwZXJzL21vZF92aG9zdF9hbGlhcy5jCj09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0K
LS0tIG1vZHVsZXMvbWFwcGVycy9tb2Rfdmhvc3RfYWxpYXMuYwkocmV2aXNpb24gMTY4NjI5OCkK
KysrIG1vZHVsZXMvbWFwcGVycy9tb2Rfdmhvc3RfYWxpYXMuYwkod29ya2luZyBjb3B5KQpAQCAt
NDQ0LDcgKzQ0NCw3IEBAIHN0YXRpYyB2b2lkIHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnAp
CiAgICAgYXBfaG9va190cmFuc2xhdGVfbmFtZShtdmFfdHJhbnNsYXRlLCBhc3pQcmUsIE5VTEws
IEFQUl9IT09LX01JRERMRSk7CiB9CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKHZob3N0X2FsaWFzKSA9
CitBUF9ERUZJTkVfTU9EVUxFKHZob3N0X2FsaWFzKSA9CiB7CiAgICAgU1RBTkRBUkQyMF9NT0RV
TEVfU1RVRkYsCiAgICAgTlVMTCwgICAgICAgICAgICAgICAgICAgICAgIC8qIGRpciBjb25maWcg
Y3JlYXRlciAqLwpJbmRleDogbW9kdWxlcy9tZXRhZGF0YS9tb2RfY2Vybl9tZXRhLmMKPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PQotLS0gbW9kdWxlcy9tZXRhZGF0YS9tb2RfY2Vybl9tZXRhLmMJKHJldmlzaW9uIDE2ODYy
OTgpCisrKyBtb2R1bGVzL21ldGFkYXRhL21vZF9jZXJuX21ldGEuYwkod29ya2luZyBjb3B5KQpA
QCAtMzU5LDcgKzM1OSw3IEBAIHN0YXRpYyB2b2lkIHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3Qg
KnApCiAgICAgYXBfaG9va19maXh1cHMoYWRkX2Nlcm5fbWV0YV9kYXRhLE5VTEwsTlVMTCxBUFJf
SE9PS19NSURETEUpOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShjZXJuX21ldGEpID0KK0FQX0RF
RklORV9NT0RVTEUoY2Vybl9tZXRhKSA9CiB7CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYs
CiAgICAgY3JlYXRlX2Nlcm5fbWV0YV9kaXJfY29uZmlnLCAvKiBkaXIgY29uZmlnIGNyZWF0ZXIg
Ki8KSW5kZXg6IG1vZHVsZXMvbWV0YWRhdGEvbW9kX2Vudi5jCj09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVs
ZXMvbWV0YWRhdGEvbW9kX2Vudi5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9tZXRh
ZGF0YS9tb2RfZW52LmMJKHdvcmtpbmcgY29weSkKQEAgLTE2Nyw3ICsxNjcsNyBAQCBzdGF0aWMg
dm9pZCByZWdpc3Rlcl9ob29rcyhhcHJfcG9vbF90ICpwKQogICAgIGFwX2hvb2tfZml4dXBzKGZp
eHVwX2Vudl9tb2R1bGUsIE5VTEwsIE5VTEwsIEFQUl9IT09LX01JRERMRSk7CiB9CiAKLUFQX0RF
Q0xBUkVfTU9EVUxFKGVudikgPQorQVBfREVGSU5FX01PRFVMRShlbnYpID0KIHsKICAgICBTVEFO
REFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBjcmVhdGVfZW52X2Rpcl9jb25maWcsICAgICAgLyog
ZGlyIGNvbmZpZyBjcmVhdGVyICovCkluZGV4OiBtb2R1bGVzL21ldGFkYXRhL21vZF9leHBpcmVz
LmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9tZXRhZGF0YS9tb2RfZXhwaXJlcy5jCShyZXZpc2lv
biAxNjg2Mjk4KQorKysgbW9kdWxlcy9tZXRhZGF0YS9tb2RfZXhwaXJlcy5jCSh3b3JraW5nIGNv
cHkpCkBAIC01NTksNyArNTU5LDcgQEAgc3RhdGljIHZvaWQgcmVnaXN0ZXJfaG9va3MoYXByX3Bv
b2xfdCAqcCkKICAgICBhcF9ob29rX2luc2VydF9maWx0ZXIoZXhwaXJlc19pbnNlcnRfZmlsdGVy
LCBOVUxMLCBOVUxMLCBBUFJfSE9PS19NSURETEUpOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShl
eHBpcmVzKSA9CitBUF9ERUZJTkVfTU9EVUxFKGV4cGlyZXMpID0KIHsKICAgICBTVEFOREFSRDIw
X01PRFVMRV9TVFVGRiwKICAgICBjcmVhdGVfZGlyX2V4cGlyZXNfY29uZmlnLCAgLyogZGlyIGNv
bmZpZyBjcmVhdGVyICovCkluZGV4OiBtb2R1bGVzL21ldGFkYXRhL21vZF9oZWFkZXJzLmMKPT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PQotLS0gbW9kdWxlcy9tZXRhZGF0YS9tb2RfaGVhZGVycy5jCShyZXZpc2lvbiAxNjg2
Mjk4KQorKysgbW9kdWxlcy9tZXRhZGF0YS9tb2RfaGVhZGVycy5jCSh3b3JraW5nIGNvcHkpCkBA
IC0xMDA3LDcgKzEwMDcsNyBAQCBzdGF0aWMgdm9pZCByZWdpc3Rlcl9ob29rcyhhcHJfcG9vbF90
ICpwKQogICAgIGFwX2hvb2tfcG9zdF9yZWFkX3JlcXVlc3QoYXBfaGVhZGVyc19lYXJseSwgTlVM
TCwgTlVMTCwgQVBSX0hPT0tfRklSU1QpOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShoZWFkZXJz
KSA9CitBUF9ERUZJTkVfTU9EVUxFKGhlYWRlcnMpID0KIHsKICAgICBTVEFOREFSRDIwX01PRFVM
RV9TVFVGRiwKICAgICBjcmVhdGVfaGVhZGVyc19kaXJfY29uZmlnLCAgLyogZGlyIGNvbmZpZyBj
cmVhdGVyICovCkluZGV4OiBtb2R1bGVzL21ldGFkYXRhL21vZF9pZGVudC5jCj09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0K
LS0tIG1vZHVsZXMvbWV0YWRhdGEvbW9kX2lkZW50LmMJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBt
b2R1bGVzL21ldGFkYXRhL21vZF9pZGVudC5jCSh3b3JraW5nIGNvcHkpCkBAIC0zMzIsNyArMzMy
LDcgQEAgc3RhdGljIHZvaWQgcmVnaXN0ZXJfaG9va3MoYXByX3Bvb2xfdCAqcCkKICAgICBBUFJf
UkVHSVNURVJfT1BUSU9OQUxfRk4oYXBfaWRlbnRfbG9va3VwKTsKIH0KIAotQVBfREVDTEFSRV9N
T0RVTEUoaWRlbnQpID0KK0FQX0RFRklORV9NT0RVTEUoaWRlbnQpID0KIHsKICAgICBTVEFOREFS
RDIwX01PRFVMRV9TVFVGRiwKICAgICBjcmVhdGVfaWRlbnRfZGlyX2NvbmZpZywgICAgICAgLyog
ZGlyIGNvbmZpZyBjcmVhdGVyICovCkluZGV4OiBtb2R1bGVzL21ldGFkYXRhL21vZF9taW1lX21h
Z2ljLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9tZXRhZGF0YS9tb2RfbWltZV9tYWdpYy5jCShy
ZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9tZXRhZGF0YS9tb2RfbWltZV9tYWdpYy5jCSh3
b3JraW5nIGNvcHkpCkBAIC0yNDU5LDcgKzI0NTksNyBAQCBzdGF0aWMgdm9pZCByZWdpc3Rlcl9o
b29rcyhhcHJfcG9vbF90ICpwKQogICogQXBhY2hlIEFQSSBtb2R1bGUgaW50ZXJmYWNlCiAgKi8K
IAotQVBfREVDTEFSRV9NT0RVTEUobWltZV9tYWdpYykgPQorQVBfREVGSU5FX01PRFVMRShtaW1l
X21hZ2ljKSA9CiB7CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAgTlVMTCwgICAg
ICAgICAgICAgICAgICAgICAgLyogZGlyIGNvbmZpZyBjcmVhdG9yICovCkluZGV4OiBtb2R1bGVz
L21ldGFkYXRhL21vZF9yZW1vdGVpcC5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvbWV0YWRhdGEv
bW9kX3JlbW90ZWlwLmMJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1bGVzL21ldGFkYXRhL21v
ZF9yZW1vdGVpcC5jCSh3b3JraW5nIGNvcHkpCkBAIC00MzYsNyArNDM2LDcgQEAgc3RhdGljIHZv
aWQgcmVnaXN0ZXJfaG9va3MoYXByX3Bvb2xfdCAqcCkKICAgICBhcF9ob29rX3Bvc3RfcmVhZF9y
ZXF1ZXN0KHJlbW90ZWlwX21vZGlmeV9yZXF1ZXN0LCBOVUxMLCBOVUxMLCBBUFJfSE9PS19GSVJT
VCk7CiB9CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKHJlbW90ZWlwKSA9IHsKK0FQX0RFRklORV9NT0RV
TEUocmVtb3RlaXApID0gewogICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAgIE5VTEws
ICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBjcmVhdGUgcGVyLWRpcmVjdG9yeSBjb25maWcg
c3RydWN0dXJlICovCiAgICAgTlVMTCwgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIG1lcmdl
IHBlci1kaXJlY3RvcnkgY29uZmlnIHN0cnVjdHVyZXMgKi8KSW5kZXg6IG1vZHVsZXMvbWV0YWRh
dGEvbW9kX3NldGVudmlmLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9tZXRhZGF0YS9tb2Rfc2V0
ZW52aWYuYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvbWV0YWRhdGEvbW9kX3NldGVu
dmlmLmMJKHdvcmtpbmcgY29weSkKQEAgLTYzNyw3ICs2MzcsNyBAQCBzdGF0aWMgdm9pZCByZWdp
c3Rlcl9ob29rcyhhcHJfcG9vbF90ICpwKQogICAgIGFwX2Fzc2VydChpc19oZWFkZXJfcmVnZXhf
cmVnZXggIT0gTlVMTCk7CiB9CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKHNldGVudmlmKSA9CitBUF9E
RUZJTkVfTU9EVUxFKHNldGVudmlmKSA9CiB7CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYs
CiAgICAgY3JlYXRlX3NldGVudmlmX2NvbmZpZ19kaXIsIC8qIGRpciBjb25maWcgY3JlYXRlciAq
LwpJbmRleDogbW9kdWxlcy9tZXRhZGF0YS9tb2RfdW5pcXVlX2lkLmMKPT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0g
bW9kdWxlcy9tZXRhZGF0YS9tb2RfdW5pcXVlX2lkLmMJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBt
b2R1bGVzL21ldGFkYXRhL21vZF91bmlxdWVfaWQuYwkod29ya2luZyBjb3B5KQpAQCAtMzk3LDcg
KzM5Nyw3IEBAIHN0YXRpYyB2b2lkIHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnApCiAgICAg
YXBfaG9va19nZW5lcmF0ZV9sb2dfaWQoZ2VuZXJhdGVfbG9nX2lkLCBOVUxMLCBOVUxMLCBBUFJf
SE9PS19NSURETEUpOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRSh1bmlxdWVfaWQpID0geworQVBf
REVGSU5FX01PRFVMRSh1bmlxdWVfaWQpID0gewogICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZG
LAogICAgIE5VTEwsICAgICAgICAgICAgICAgICAgICAgICAvKiBkaXIgY29uZmlnIGNyZWF0ZXIg
Ki8KICAgICBOVUxMLCAgICAgICAgICAgICAgICAgICAgICAgLyogZGlyIG1lcmdlciAtLS0gZGVm
YXVsdCBpcyB0byBvdmVycmlkZSAqLwpJbmRleDogbW9kdWxlcy9tZXRhZGF0YS9tb2RfdXNlcnRy
YWNrLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9tZXRhZGF0YS9tb2RfdXNlcnRyYWNrLmMJKHJl
dmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1bGVzL21ldGFkYXRhL21vZF91c2VydHJhY2suYwkod29y
a2luZyBjb3B5KQpAQCAtNDQ5LDcgKzQ0OSw3IEBAIHN0YXRpYyB2b2lkIHJlZ2lzdGVyX2hvb2tz
KGFwcl9wb29sX3QgKnApCiAgICAgYXBfaG9va19maXh1cHMoc3BvdF9jb29raWUsTlVMTCxOVUxM
LEFQUl9IT09LX1JFQUxMWV9GSVJTVCk7CiB9CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKHVzZXJ0cmFj
aykgPSB7CitBUF9ERUZJTkVfTU9EVUxFKHVzZXJ0cmFjaykgPSB7CiAgICAgU1RBTkRBUkQyMF9N
T0RVTEVfU1RVRkYsCiAgICAgbWFrZV9jb29raWVfZGlyLCAgICAgICAgICAgIC8qIGRpciBjb25m
aWcgY3JlYXRlciAqLwogICAgIE5VTEwsICAgICAgICAgICAgICAgICAgICAgICAvKiBkaXIgbWVy
Z2VyIC0tLSBkZWZhdWx0IGlzIHRvIG92ZXJyaWRlICovCkluZGV4OiBtb2R1bGVzL21ldGFkYXRh
L21vZF92ZXJzaW9uLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9tZXRhZGF0YS9tb2RfdmVyc2lv
bi5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9tZXRhZGF0YS9tb2RfdmVyc2lvbi5j
CSh3b3JraW5nIGNvcHkpCkBAIC0zMDEsNyArMzAxLDcgQEAgc3RhdGljIGNvbnN0IGNvbW1hbmRf
cmVjIHZlcnNpb25fY21kc1tdID0gewogICAgIHsgTlVMTCB9CiB9OwogCi1BUF9ERUNMQVJFX01P
RFVMRSh2ZXJzaW9uKSA9CitBUF9ERUZJTkVfTU9EVUxFKHZlcnNpb24pID0KIHsKICAgICBTVEFO
REFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBOVUxMLCAgICAgICAgICAgICAvKiBkaXIgY29uZmln
IGNyZWF0ZXIgKi8KSW5kZXg6IG1vZHVsZXMvcHJveHkvYmFsYW5jZXJzL21vZF9sYm1ldGhvZF9i
eWJ1c3luZXNzLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9wcm94eS9iYWxhbmNlcnMvbW9kX2xi
bWV0aG9kX2J5YnVzeW5lc3MuYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvcHJveHkv
YmFsYW5jZXJzL21vZF9sYm1ldGhvZF9ieWJ1c3luZXNzLmMJKHdvcmtpbmcgY29weSkKQEAgLTE0
OSw3ICsxNDksNyBAQCBzdGF0aWMgdm9pZCByZWdpc3Rlcl9ob29rKGFwcl9wb29sX3QgKnApCiAg
ICAgYXBfcmVnaXN0ZXJfcHJvdmlkZXIocCwgUFJPWFlfTEJNRVRIT0QsICJieWJ1c3luZXNzIiwg
IjAiLCAmYnlidXN5bmVzcyk7CiB9CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKGxibWV0aG9kX2J5YnVz
eW5lc3MpID0geworQVBfREVGSU5FX01PRFVMRShsYm1ldGhvZF9ieWJ1c3luZXNzKSA9IHsKICAg
ICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBOVUxMLCAgICAgICAvKiBjcmVhdGUgcGVy
LWRpcmVjdG9yeSBjb25maWcgc3RydWN0dXJlICovCiAgICAgTlVMTCwgICAgICAgLyogbWVyZ2Ug
cGVyLWRpcmVjdG9yeSBjb25maWcgc3RydWN0dXJlcyAqLwpJbmRleDogbW9kdWxlcy9wcm94eS9i
YWxhbmNlcnMvbW9kX2xibWV0aG9kX2J5cmVxdWVzdHMuYwo9PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVz
L3Byb3h5L2JhbGFuY2Vycy9tb2RfbGJtZXRob2RfYnlyZXF1ZXN0cy5jCShyZXZpc2lvbiAxNjg2
Mjk4KQorKysgbW9kdWxlcy9wcm94eS9iYWxhbmNlcnMvbW9kX2xibWV0aG9kX2J5cmVxdWVzdHMu
Ywkod29ya2luZyBjb3B5KQpAQCAtMTg5LDcgKzE4OSw3IEBAIHN0YXRpYyB2b2lkIHJlZ2lzdGVy
X2hvb2soYXByX3Bvb2xfdCAqcCkKICAgICBhcF9yZWdpc3Rlcl9wcm92aWRlcihwLCBQUk9YWV9M
Qk1FVEhPRCwgImJ5cmVxdWVzdHMiLCAiMCIsICZieXJlcXVlc3RzKTsKIH0KIAotQVBfREVDTEFS
RV9NT0RVTEUobGJtZXRob2RfYnlyZXF1ZXN0cykgPSB7CitBUF9ERUZJTkVfTU9EVUxFKGxibWV0
aG9kX2J5cmVxdWVzdHMpID0gewogICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAgIE5V
TEwsICAgICAgIC8qIGNyZWF0ZSBwZXItZGlyZWN0b3J5IGNvbmZpZyBzdHJ1Y3R1cmUgKi8KICAg
ICBOVUxMLCAgICAgICAvKiBtZXJnZSBwZXItZGlyZWN0b3J5IGNvbmZpZyBzdHJ1Y3R1cmVzICov
CkluZGV4OiBtb2R1bGVzL3Byb3h5L2JhbGFuY2Vycy9tb2RfbGJtZXRob2RfYnl0cmFmZmljLmMK
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PQotLS0gbW9kdWxlcy9wcm94eS9iYWxhbmNlcnMvbW9kX2xibWV0aG9kX2J5dHJh
ZmZpYy5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9wcm94eS9iYWxhbmNlcnMvbW9k
X2xibWV0aG9kX2J5dHJhZmZpYy5jCSh3b3JraW5nIGNvcHkpCkBAIC0xNTgsNyArMTU4LDcgQEAg
c3RhdGljIHZvaWQgcmVnaXN0ZXJfaG9vayhhcHJfcG9vbF90ICpwKQogICAgIGFwX3JlZ2lzdGVy
X3Byb3ZpZGVyKHAsIFBST1hZX0xCTUVUSE9ELCAiYnl0cmFmZmljIiwgIjAiLCAmYnl0cmFmZmlj
KTsKIH0KIAotQVBfREVDTEFSRV9NT0RVTEUobGJtZXRob2RfYnl0cmFmZmljKSA9IHsKK0FQX0RF
RklORV9NT0RVTEUobGJtZXRob2RfYnl0cmFmZmljKSA9IHsKICAgICBTVEFOREFSRDIwX01PRFVM
RV9TVFVGRiwKICAgICBOVUxMLCAgICAgICAvKiBjcmVhdGUgcGVyLWRpcmVjdG9yeSBjb25maWcg
c3RydWN0dXJlICovCiAgICAgTlVMTCwgICAgICAgLyogbWVyZ2UgcGVyLWRpcmVjdG9yeSBjb25m
aWcgc3RydWN0dXJlcyAqLwpJbmRleDogbW9kdWxlcy9wcm94eS9iYWxhbmNlcnMvbW9kX2xibWV0
aG9kX2hlYXJ0YmVhdC5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvcHJveHkvYmFsYW5jZXJzL21v
ZF9sYm1ldGhvZF9oZWFydGJlYXQuYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvcHJv
eHkvYmFsYW5jZXJzL21vZF9sYm1ldGhvZF9oZWFydGJlYXQuYwkod29ya2luZyBjb3B5KQpAQCAt
NDU1LDcgKzQ1NSw3IEBAIHN0YXRpYyBjb25zdCBjb21tYW5kX3JlYyBjbWRzW10gPSB7CiAgICAg
e05VTEx9CiB9OwogCi1BUF9ERUNMQVJFX01PRFVMRShsYm1ldGhvZF9oZWFydGJlYXQpID0gewor
QVBfREVGSU5FX01PRFVMRShsYm1ldGhvZF9oZWFydGJlYXQpID0gewogICAgIFNUQU5EQVJEMjBf
TU9EVUxFX1NUVUZGLAogICAgIE5VTEwsICAgICAgICAgICAgICAgICAgICAgICAvKiBjcmVhdGUg
cGVyLWRpcmVjdG9yeSBjb25maWcgc3RydWN0dXJlICovCiAgICAgTlVMTCwgICAgICAgICAgICAg
ICAgICAgICAgIC8qIG1lcmdlIHBlci1kaXJlY3RvcnkgY29uZmlnIHN0cnVjdHVyZXMgKi8KSW5k
ZXg6IG1vZHVsZXMvcHJveHkvZXhhbXBsZXMvbW9kX2xibWV0aG9kX3JyLmMKPT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQot
LS0gbW9kdWxlcy9wcm94eS9leGFtcGxlcy9tb2RfbGJtZXRob2RfcnIuYwkocmV2aXNpb24gMTY4
NjI5OCkKKysrIG1vZHVsZXMvcHJveHkvZXhhbXBsZXMvbW9kX2xibWV0aG9kX3JyLmMJKHdvcmtp
bmcgY29weSkKQEAgLTEyMyw3ICsxMjMsNyBAQCBzdGF0aWMgdm9pZCBhcF9wcm94eV9ycl9yZWdp
c3Rlcl9ob29rKGFwcl9wb29sX3QgKgogICAgIGFwX3JlZ2lzdGVyX3Byb3ZpZGVyKHAsIFBST1hZ
X0xCTUVUSE9ELCAicm91bmRyb2JpbiIsICIwIiwgJnJvdW5kcm9iaW4pOwogfQogCi1BUF9ERUNM
QVJFX01PRFVMRShwcm94eV9iYWxhbmNlcl9ycikgPSB7CitBUF9ERUZJTkVfTU9EVUxFKHByb3h5
X2JhbGFuY2VyX3JyKSA9IHsKICAgICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBOVUxM
LCAgICAgICAvKiBjcmVhdGUgcGVyLWRpcmVjdG9yeSBjb25maWcgc3RydWN0dXJlICovCiAgICAg
TlVMTCwgICAgICAgLyogbWVyZ2UgcGVyLWRpcmVjdG9yeSBjb25maWcgc3RydWN0dXJlcyAqLwpJ
bmRleDogbW9kdWxlcy9wcm94eS9tb2RfcHJveHkuYwo9PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL3By
b3h5L21vZF9wcm94eS5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9wcm94eS9tb2Rf
cHJveHkuYwkod29ya2luZyBjb3B5KQpAQCAtMjc2Miw3ICsyNzYyLDcgQEAgc3RhdGljIHZvaWQg
cmVnaXN0ZXJfaG9va3MoYXByX3Bvb2xfdCAqcCkKICAgICBwcm94eV91dGlsX3JlZ2lzdGVyX2hv
b2tzKHApOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShwcm94eSkgPQorQVBfREVGSU5FX01PRFVM
RShwcm94eSkgPQogewogICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAgIGNyZWF0ZV9w
cm94eV9kaXJfY29uZmlnLCAgICAvKiBjcmVhdGUgcGVyLWRpcmVjdG9yeSBjb25maWcgc3RydWN0
dXJlICovCkluZGV4OiBtb2R1bGVzL3Byb3h5L21vZF9wcm94eV9hanAuYwo9PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0t
LSBtb2R1bGVzL3Byb3h5L21vZF9wcm94eV9hanAuYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1v
ZHVsZXMvcHJveHkvbW9kX3Byb3h5X2FqcC5jCSh3b3JraW5nIGNvcHkpCkBAIC04MTQsNyArODE0
LDcgQEAgc3RhdGljIHZvaWQgYXBfcHJveHlfaHR0cF9yZWdpc3Rlcl9ob29rKGFwcl9wb29sX3QK
ICAgICBwcm94eV9ob29rX2Nhbm9uX2hhbmRsZXIocHJveHlfYWpwX2Nhbm9uLCBOVUxMLCBOVUxM
LCBBUFJfSE9PS19GSVJTVCk7CiB9CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKHByb3h5X2FqcCkgPSB7
CitBUF9ERUZJTkVfTU9EVUxFKHByb3h5X2FqcCkgPSB7CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVf
U1RVRkYsCiAgICAgTlVMTCwgICAgICAgICAgICAgICAgICAgICAgIC8qIGNyZWF0ZSBwZXItZGly
ZWN0b3J5IGNvbmZpZyBzdHJ1Y3R1cmUgKi8KICAgICBOVUxMLCAgICAgICAgICAgICAgICAgICAg
ICAgLyogbWVyZ2UgcGVyLWRpcmVjdG9yeSBjb25maWcgc3RydWN0dXJlcyAqLwpJbmRleDogbW9k
dWxlcy9wcm94eS9tb2RfcHJveHlfYmFsYW5jZXIuYwo9PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL3By
b3h5L21vZF9wcm94eV9iYWxhbmNlci5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9w
cm94eS9tb2RfcHJveHlfYmFsYW5jZXIuYwkod29ya2luZyBjb3B5KQpAQCAtMTcwNyw3ICsxNzA3
LDcgQEAgc3RhdGljIHZvaWQgYXBfcHJveHlfYmFsYW5jZXJfcmVnaXN0ZXJfaG9vayhhcHJfcG8K
ICAgICBwcm94eV9ob29rX2Nhbm9uX2hhbmRsZXIocHJveHlfYmFsYW5jZXJfY2Fub24sIE5VTEws
IE5VTEwsIEFQUl9IT09LX0ZJUlNUKTsKIH0KIAotQVBfREVDTEFSRV9NT0RVTEUocHJveHlfYmFs
YW5jZXIpID0geworQVBfREVGSU5FX01PRFVMRShwcm94eV9iYWxhbmNlcikgPSB7CiAgICAgU1RB
TkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAgTlVMTCwgICAgICAgLyogY3JlYXRlIHBlci1kaXJl
Y3RvcnkgY29uZmlnIHN0cnVjdHVyZSAqLwogICAgIE5VTEwsICAgICAgIC8qIG1lcmdlIHBlci1k
aXJlY3RvcnkgY29uZmlnIHN0cnVjdHVyZXMgKi8KSW5kZXg6IG1vZHVsZXMvcHJveHkvbW9kX3By
b3h5X2Nvbm5lY3QuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL3Byb3h5L21vZF9wcm94eV9jb25u
ZWN0LmMJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1bGVzL3Byb3h5L21vZF9wcm94eV9jb25u
ZWN0LmMJKHdvcmtpbmcgY29weSkKQEAgLTUwNyw3ICs1MDcsNyBAQCBzdGF0aWMgY29uc3QgY29t
bWFuZF9yZWMgY21kc1tdID0KICAgICB7TlVMTH0KIH07CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKHBy
b3h5X2Nvbm5lY3QpID0geworQVBfREVGSU5FX01PRFVMRShwcm94eV9jb25uZWN0KSA9IHsKICAg
ICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBOVUxMLCAgICAgICAvKiBjcmVhdGUgcGVy
LWRpcmVjdG9yeSBjb25maWcgc3RydWN0dXJlICovCiAgICAgTlVMTCwgICAgICAgLyogbWVyZ2Ug
cGVyLWRpcmVjdG9yeSBjb25maWcgc3RydWN0dXJlcyAqLwpJbmRleDogbW9kdWxlcy9wcm94eS9t
b2RfcHJveHlfZXhwcmVzcy5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvcHJveHkvbW9kX3Byb3h5
X2V4cHJlc3MuYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvcHJveHkvbW9kX3Byb3h5
X2V4cHJlc3MuYwkod29ya2luZyBjb3B5KQpAQCAtMjExLDcgKzIxMSw3IEBAIHN0YXRpYyB2b2lk
IHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnApCiAKIC8qIHRoZSBtYWluIGNvbmZpZyBzdHJ1
Y3R1cmUgKi8KIAotQVBfREVDTEFSRV9NT0RVTEUocHJveHlfZXhwcmVzcykgPQorQVBfREVGSU5F
X01PRFVMRShwcm94eV9leHByZXNzKSA9CiB7CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYs
CiAgICAgTlVMTCwgICAgICAgICAgIC8qIGNyZWF0ZSBwZXItZGlyIGNvbmZpZyBzdHJ1Y3R1cmVz
ICovCkluZGV4OiBtb2R1bGVzL3Byb3h5L21vZF9wcm94eV9mY2dpLmMKPT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0g
bW9kdWxlcy9wcm94eS9tb2RfcHJveHlfZmNnaS5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9k
dWxlcy9wcm94eS9tb2RfcHJveHlfZmNnaS5jCSh3b3JraW5nIGNvcHkpCkBAIC05NDEsNyArOTQx
LDcgQEAgc3RhdGljIHZvaWQgcmVnaXN0ZXJfaG9va3MoYXByX3Bvb2xfdCAqcCkKICAgICBwcm94
eV9ob29rX2Nhbm9uX2hhbmRsZXIocHJveHlfZmNnaV9jYW5vbiwgTlVMTCwgTlVMTCwgQVBSX0hP
T0tfRklSU1QpOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShwcm94eV9mY2dpKSA9IHsKK0FQX0RF
RklORV9NT0RVTEUocHJveHlfZmNnaSkgPSB7CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYs
CiAgICAgTlVMTCwgICAgICAgICAgICAgICAgICAgICAgIC8qIGNyZWF0ZSBwZXItZGlyZWN0b3J5
IGNvbmZpZyBzdHJ1Y3R1cmUgKi8KICAgICBOVUxMLCAgICAgICAgICAgICAgICAgICAgICAgLyog
bWVyZ2UgcGVyLWRpcmVjdG9yeSBjb25maWcgc3RydWN0dXJlcyAqLwpJbmRleDogbW9kdWxlcy9w
cm94eS9tb2RfcHJveHlfZmRwYXNzLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9wcm94eS9tb2Rf
cHJveHlfZmRwYXNzLmMJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1bGVzL3Byb3h5L21vZF9w
cm94eV9mZHBhc3MuYwkod29ya2luZyBjb3B5KQpAQCAtMjM0LDcgKzIzNCw3IEBAIHN0YXRpYyB2
b2lkIHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnApCiAgICAgcHJveHlfaG9va19jYW5vbl9o
YW5kbGVyKHByb3h5X2ZkcGFzc19jYW5vbiwgTlVMTCwgTlVMTCwgQVBSX0hPT0tfRklSU1QpOwog
fQogCi1BUF9ERUNMQVJFX01PRFVMRShwcm94eV9mZHBhc3MpID0geworQVBfREVGSU5FX01PRFVM
RShwcm94eV9mZHBhc3MpID0gewogICAgIFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAgIE5V
TEwsICAgICAgICAgICAgICAgICAgICAgICAvKiBjcmVhdGUgcGVyLWRpcmVjdG9yeSBjb25maWcg
c3RydWN0dXJlICovCiAgICAgTlVMTCwgICAgICAgICAgICAgICAgICAgICAgIC8qIG1lcmdlIHBl
ci1kaXJlY3RvcnkgY29uZmlnIHN0cnVjdHVyZXMgKi8KSW5kZXg6IG1vZHVsZXMvcHJveHkvbW9k
X3Byb3h5X2Z0cC5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvcHJveHkvbW9kX3Byb3h5X2Z0cC5j
CShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9wcm94eS9tb2RfcHJveHlfZnRwLmMJKHdv
cmtpbmcgY29weSkKQEAgLTIxMTUsNyArMjExNSw3IEBAIHN0YXRpYyBjb25zdCBjb21tYW5kX3Jl
YyBwcm94eV9mdHBfY21kc1tdID0KIH07CiAKIAotQVBfREVDTEFSRV9NT0RVTEUocHJveHlfZnRw
KSA9IHsKK0FQX0RFRklORV9NT0RVTEUocHJveHlfZnRwKSA9IHsKICAgICBTVEFOREFSRDIwX01P
RFVMRV9TVFVGRiwKICAgICBjcmVhdGVfcHJveHlfZnRwX2Rpcl9jb25maWcsLyogY3JlYXRlIHBl
ci1kaXJlY3RvcnkgY29uZmlnIHN0cnVjdHVyZSAqLwogICAgIG1lcmdlX3Byb3h5X2Z0cF9kaXJf
Y29uZmlnLCAvKiBtZXJnZSBwZXItZGlyZWN0b3J5IGNvbmZpZyBzdHJ1Y3R1cmVzICovCkluZGV4
OiBtb2R1bGVzL3Byb3h5L21vZF9wcm94eV9odHRwLmMKPT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9w
cm94eS9tb2RfcHJveHlfaHR0cC5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9wcm94
eS9tb2RfcHJveHlfaHR0cC5jCSh3b3JraW5nIGNvcHkpCkBAIC0yMDgyLDcgKzIwODIsNyBAQCBz
dGF0aWMgdm9pZCBhcF9wcm94eV9odHRwX3JlZ2lzdGVyX2hvb2soYXByX3Bvb2xfdAogICAgIHdh
cm5fcnggPSBhcF9wcmVnY29tcChwLCAiWzAtOV17M31bIFx0XStbXiBcdF0rWyBcdF0rXCJbXlwi
XSpcIihbIFx0XStcIihbXlwiXSspXCIpPyIsIDApOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShw
cm94eV9odHRwKSA9IHsKK0FQX0RFRklORV9NT0RVTEUocHJveHlfaHR0cCkgPSB7CiAgICAgU1RB
TkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAgTlVMTCwgICAgICAgICAgICAgIC8qIGNyZWF0ZSBw
ZXItZGlyZWN0b3J5IGNvbmZpZyBzdHJ1Y3R1cmUgKi8KICAgICBOVUxMLCAgICAgICAgICAgICAg
LyogbWVyZ2UgcGVyLWRpcmVjdG9yeSBjb25maWcgc3RydWN0dXJlcyAqLwpJbmRleDogbW9kdWxl
cy9wcm94eS9tb2RfcHJveHlfc2NnaS5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvcHJveHkvbW9k
X3Byb3h5X3NjZ2kuYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvcHJveHkvbW9kX3By
b3h5X3NjZ2kuYwkod29ya2luZyBjb3B5KQpAQCAtNjYyLDcgKzY2Miw3IEBAIHN0YXRpYyB2b2lk
IHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnApCiB9CiAKIAotQVBfREVDTEFSRV9NT0RVTEUo
cHJveHlfc2NnaSkgPSB7CitBUF9ERUZJTkVfTU9EVUxFKHByb3h5X3NjZ2kpID0gewogICAgIFNU
QU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAgIGNyZWF0ZV9zY2dpX2NvbmZpZywgIC8qIGNyZWF0
ZSBwZXItZGlyZWN0b3J5IGNvbmZpZyBzdHJ1Y3R1cmUgKi8KICAgICBtZXJnZV9zY2dpX2NvbmZp
ZywgICAvKiBtZXJnZSBwZXItZGlyZWN0b3J5IGNvbmZpZyBzdHJ1Y3R1cmVzICovCkluZGV4OiBt
b2R1bGVzL3Byb3h5L21vZF9wcm94eV93c3R1bm5lbC5jCj09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMv
cHJveHkvbW9kX3Byb3h5X3dzdHVubmVsLmMJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1bGVz
L3Byb3h5L21vZF9wcm94eV93c3R1bm5lbC5jCSh3b3JraW5nIGNvcHkpCkBAIC00MDYsNyArNDA2
LDcgQEAgc3RhdGljIHZvaWQgYXBfcHJveHlfaHR0cF9yZWdpc3Rlcl9ob29rKGFwcl9wb29sX3QK
ICAgICBwcm94eV9ob29rX2Nhbm9uX2hhbmRsZXIocHJveHlfd3N0dW5uZWxfY2Fub24sIE5VTEws
IE5VTEwsIEFQUl9IT09LX0ZJUlNUKTsKIH0KIAotQVBfREVDTEFSRV9NT0RVTEUocHJveHlfd3N0
dW5uZWwpID0geworQVBfREVGSU5FX01PRFVMRShwcm94eV93c3R1bm5lbCkgPSB7CiAgICAgU1RB
TkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAgTlVMTCwgICAgICAgICAgICAgICAgICAgICAgIC8q
IGNyZWF0ZSBwZXItZGlyZWN0b3J5IGNvbmZpZyBzdHJ1Y3R1cmUgKi8KICAgICBOVUxMLCAgICAg
ICAgICAgICAgICAgICAgICAgLyogbWVyZ2UgcGVyLWRpcmVjdG9yeSBjb25maWcgc3RydWN0dXJl
cyAqLwpJbmRleDogbW9kdWxlcy9zZXNzaW9uL21vZF9zZXNzaW9uLmMKPT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0g
bW9kdWxlcy9zZXNzaW9uL21vZF9zZXNzaW9uLmMJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBtb2R1
bGVzL3Nlc3Npb24vbW9kX3Nlc3Npb24uYwkod29ya2luZyBjb3B5KQpAQCAtNjU3LDcgKzY1Nyw3
IEBAIHN0YXRpYyB2b2lkIHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKiBwKQogICAgIEFQUl9S
RUdJU1RFUl9PUFRJT05BTF9GTihhcF9zZXNzaW9uX3NhdmUpOwogfQogCi1BUF9ERUNMQVJFX01P
RFVMRShzZXNzaW9uKSA9CitBUF9ERUZJTkVfTU9EVUxFKHNlc3Npb24pID0KIHsKICAgICBTVEFO
REFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBjcmVhdGVfc2Vzc2lvbl9kaXJfY29uZmlnLCAgIC8q
IGRpciBjb25maWcgY3JlYXRlciAqLwpJbmRleDogbW9kdWxlcy9zZXNzaW9uL21vZF9zZXNzaW9u
X2Nvb2tpZS5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvc2Vzc2lvbi9tb2Rfc2Vzc2lvbl9jb29r
aWUuYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvc2Vzc2lvbi9tb2Rfc2Vzc2lvbl9j
b29raWUuYwkod29ya2luZyBjb3B5KQpAQCAtMjcxLDcgKzI3MSw3IEBAIHN0YXRpYyB2b2lkIHJl
Z2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKiBwKQogICAgIGFwX2hvb2tfc2Vzc2lvbl9zYXZlKHNl
c3Npb25fY29va2llX3NhdmUsIE5VTEwsIE5VTEwsIEFQUl9IT09LX01JRERMRSk7CiB9CiAKLUFQ
X0RFQ0xBUkVfTU9EVUxFKHNlc3Npb25fY29va2llKSA9CitBUF9ERUZJTkVfTU9EVUxFKHNlc3Np
b25fY29va2llKSA9CiB7CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAgY3JlYXRl
X3Nlc3Npb25fY29va2llX2Rpcl9jb25maWcsIC8qIGRpciBjb25maWcgY3JlYXRlciAqLwpJbmRl
eDogbW9kdWxlcy9zZXNzaW9uL21vZF9zZXNzaW9uX2NyeXB0by5jCj09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1v
ZHVsZXMvc2Vzc2lvbi9tb2Rfc2Vzc2lvbl9jcnlwdG8uYwkocmV2aXNpb24gMTY4NjI5OCkKKysr
IG1vZHVsZXMvc2Vzc2lvbi9tb2Rfc2Vzc2lvbl9jcnlwdG8uYwkod29ya2luZyBjb3B5KQpAQCAt
NjM1LDcgKzYzNSw3IEBAIHN0YXRpYyB2b2lkIHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKiBw
KQogICAgIGFwX2hvb2tfcG9zdF9jb25maWcoc2Vzc2lvbl9jcnlwdG9faW5pdCwgTlVMTCwgTlVM
TCwgQVBSX0hPT0tfTEFTVCk7CiB9CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKHNlc3Npb25fY3J5cHRv
KSA9CitBUF9ERUZJTkVfTU9EVUxFKHNlc3Npb25fY3J5cHRvKSA9CiB7CiAgICAgU1RBTkRBUkQy
MF9NT0RVTEVfU1RVRkYsCiAgICAgY3JlYXRlX3Nlc3Npb25fY3J5cHRvX2Rpcl9jb25maWcsIC8q
IGRpciBjb25maWcgY3JlYXRlciAqLwpJbmRleDogbW9kdWxlcy9zZXNzaW9uL21vZF9zZXNzaW9u
X2RiZC5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvc2Vzc2lvbi9tb2Rfc2Vzc2lvbl9kYmQuYwko
cmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvc2Vzc2lvbi9tb2Rfc2Vzc2lvbl9kYmQuYwko
d29ya2luZyBjb3B5KQpAQCAtNjI1LDcgKzYyNSw3IEBAIHN0YXRpYyB2b2lkIHJlZ2lzdGVyX2hv
b2tzKGFwcl9wb29sX3QgKiBwKQogICAgIGFwX2hvb2tfbW9uaXRvcihzZXNzaW9uX2RiZF9tb25p
dG9yLCBOVUxMLCBOVUxMLCBBUFJfSE9PS19NSURETEUpOwogfQogCi1BUF9ERUNMQVJFX01PRFVM
RShzZXNzaW9uX2RiZCkgPQorQVBfREVGSU5FX01PRFVMRShzZXNzaW9uX2RiZCkgPQogewogICAg
IFNUQU5EQVJEMjBfTU9EVUxFX1NUVUZGLAogICAgIGNyZWF0ZV9zZXNzaW9uX2RiZF9kaXJfY29u
ZmlnLCAvKiBkaXIgY29uZmlnIGNyZWF0ZXIgKi8KSW5kZXg6IG1vZHVsZXMvc2xvdG1lbS9tb2Rf
c2xvdG1lbV9wbGFpbi5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvc2xvdG1lbS9tb2Rfc2xvdG1l
bV9wbGFpbi5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9zbG90bWVtL21vZF9zbG90
bWVtX3BsYWluLmMJKHdvcmtpbmcgY29weSkKQEAgLTMzMSw3ICszMzEsNyBAQCBzdGF0aWMgdm9p
ZCBhcF9zbG90bWVtX3BsYWluX3JlZ2lzdGVyX2hvb2soYXByX3BvbwogICAgIGFwX2hvb2tfcHJl
X2NvbmZpZyhwcmVfY29uZmlnLCBOVUxMLCBOVUxMLCBBUFJfSE9PS19NSURETEUpOwogfQogCi1B
UF9ERUNMQVJFX01PRFVMRShzbG90bWVtX3BsYWluKSA9IHsKK0FQX0RFRklORV9NT0RVTEUoc2xv
dG1lbV9wbGFpbikgPSB7CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAgTlVMTCwg
ICAgICAgICAgICAgICAgICAgICAgICAvKiBjcmVhdGUgcGVyLWRpcmVjdG9yeSBjb25maWcgc3Ry
dWN0dXJlICovCiAgICAgTlVMTCwgICAgICAgICAgICAgICAgICAgICAgICAvKiBtZXJnZSBwZXIt
ZGlyZWN0b3J5IGNvbmZpZyBzdHJ1Y3R1cmVzICovCkluZGV4OiBtb2R1bGVzL3Nsb3RtZW0vbW9k
X3Nsb3RtZW1fc2htLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy9zbG90bWVtL21vZF9zbG90bWVt
X3NobS5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy9zbG90bWVtL21vZF9zbG90bWVt
X3NobS5jCSh3b3JraW5nIGNvcHkpCkBAIC03NjgsNyArNzY4LDcgQEAgc3RhdGljIHZvaWQgYXBf
c2xvdG1lbV9zaG1fcmVnaXN0ZXJfaG9vayhhcHJfcG9vbF8KICAgICBhcF9ob29rX3ByZV9jb25m
aWcocHJlX2NvbmZpZywgTlVMTCwgTlVMTCwgQVBSX0hPT0tfTUlERExFKTsKIH0KIAotQVBfREVD
TEFSRV9NT0RVTEUoc2xvdG1lbV9zaG0pID0geworQVBfREVGSU5FX01PRFVMRShzbG90bWVtX3No
bSkgPSB7CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAgTlVMTCwgICAgICAgICAg
ICAgICAgICAgICAgIC8qIGNyZWF0ZSBwZXItZGlyZWN0b3J5IGNvbmZpZyBzdHJ1Y3R1cmUgKi8K
ICAgICBOVUxMLCAgICAgICAgICAgICAgICAgICAgICAgLyogbWVyZ2UgcGVyLWRpcmVjdG9yeSBj
b25maWcgc3RydWN0dXJlcyAqLwpJbmRleDogbW9kdWxlcy90ZXN0L21vZF9kaWFsdXAuYwo9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09Ci0tLSBtb2R1bGVzL3Rlc3QvbW9kX2RpYWx1cC5jCShyZXZpc2lvbiAxNjg2Mjk4KQor
KysgbW9kdWxlcy90ZXN0L21vZF9kaWFsdXAuYwkod29ya2luZyBjb3B5KQpAQCAtMjk0LDcgKzI5
NCw3IEBAIHN0YXRpYyBjb25zdCBjb21tYW5kX3JlYyBkaWFsdXBfY21kc1tdID0KICAgICB7TlVM
TH0KIH07CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKGRpYWx1cCkgPQorQVBfREVGSU5FX01PRFVMRShk
aWFsdXApID0KIHsKICAgICBTVEFOREFSRDIwX01PRFVMRV9TVFVGRiwKICAgICBkaWFsdXBfZGNm
Z19jcmVhdGUsCkluZGV4OiBtb2R1bGVzL3Rlc3QvbW9kX29wdGlvbmFsX2ZuX2V4cG9ydC5jCj09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT0KLS0tIG1vZHVsZXMvdGVzdC9tb2Rfb3B0aW9uYWxfZm5fZXhwb3J0LmMJKHJldmlz
aW9uIDE2ODYyOTgpCisrKyBtb2R1bGVzL3Rlc3QvbW9kX29wdGlvbmFsX2ZuX2V4cG9ydC5jCSh3
b3JraW5nIGNvcHkpCkBAIC0zNiw3ICszNiw3IEBAIHN0YXRpYyB2b2lkIEV4cG9ydFJlZ2lzdGVy
SG9va3MoYXByX3Bvb2xfdCAqcCkKICAgICBBUFJfUkVHSVNURVJfT1BUSU9OQUxfRk4oVGVzdE9w
dGlvbmFsRm4pOwogfQogCi1BUF9ERUNMQVJFX01PRFVMRShvcHRpb25hbF9mbl9leHBvcnQpID0K
K0FQX0RFRklORV9NT0RVTEUob3B0aW9uYWxfZm5fZXhwb3J0KSA9CiB7CiAgICAgU1RBTkRBUkQy
MF9NT0RVTEVfU1RVRkYsCiAgICAgTlVMTCwKSW5kZXg6IG1vZHVsZXMvdGVzdC9tb2Rfb3B0aW9u
YWxfZm5faW1wb3J0LmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy90ZXN0L21vZF9vcHRpb25hbF9m
bl9pbXBvcnQuYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvdGVzdC9tb2Rfb3B0aW9u
YWxfZm5faW1wb3J0LmMJKHdvcmtpbmcgY29weSkKQEAgLTQzLDcgKzQzLDcgQEAgc3RhdGljIHZv
aWQgSW1wb3J0UmVnaXN0ZXJIb29rcyhhcHJfcG9vbF90ICpwKQogICAgIGFwX2hvb2tfb3B0aW9u
YWxfZm5fcmV0cmlldmUoSW1wb3J0Rm5SZXRyaWV2ZSxOVUxMLE5VTEwsQVBSX0hPT0tfTUlERExF
KTsKIH0KIAotQVBfREVDTEFSRV9NT0RVTEUob3B0aW9uYWxfZm5faW1wb3J0KSA9CitBUF9ERUZJ
TkVfTU9EVUxFKG9wdGlvbmFsX2ZuX2ltcG9ydCkgPQogewogICAgIFNUQU5EQVJEMjBfTU9EVUxF
X1NUVUZGLAogICAgIE5VTEwsCkluZGV4OiBtb2R1bGVzL3Rlc3QvbW9kX29wdGlvbmFsX2hvb2tf
ZXhwb3J0LmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PQotLS0gbW9kdWxlcy90ZXN0L21vZF9vcHRpb25hbF9ob29rX2V4
cG9ydC5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgbW9kdWxlcy90ZXN0L21vZF9vcHRpb25hbF9o
b29rX2V4cG9ydC5jCSh3b3JraW5nIGNvcHkpCkBAIC0zMiw3ICszMiw3IEBAIHN0YXRpYyB2b2lk
IEV4cG9ydFJlZ2lzdGVySG9va3MoYXByX3Bvb2xfdCAqcCkKICAgICBhcF9ob29rX2xvZ190cmFu
c2FjdGlvbihFeHBvcnRMb2dUcmFuc2FjdGlvbixOVUxMLE5VTEwsQVBSX0hPT0tfTUlERExFKTsK
IH0KIAotQVBfREVDTEFSRV9NT0RVTEUob3B0aW9uYWxfaG9va19leHBvcnQpID0KK0FQX0RFRklO
RV9NT0RVTEUob3B0aW9uYWxfaG9va19leHBvcnQpID0KIHsKICAgICBTVEFOREFSRDIwX01PRFVM
RV9TVFVGRiwKICAgICBOVUxMLApJbmRleDogbW9kdWxlcy90ZXN0L21vZF9vcHRpb25hbF9ob29r
X2ltcG9ydC5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT0KLS0tIG1vZHVsZXMvdGVzdC9tb2Rfb3B0aW9uYWxfaG9va19p
bXBvcnQuYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIG1vZHVsZXMvdGVzdC9tb2Rfb3B0aW9uYWxf
aG9va19pbXBvcnQuYwkod29ya2luZyBjb3B5KQpAQCAtMzMsNyArMzMsNyBAQCBzdGF0aWMgdm9p
ZCBJbXBvcnRSZWdpc3Rlckhvb2tzKGFwcl9wb29sX3QgKnApCiAgICAgICAgICAgICAgICAgICAg
ICBOVUxMLEFQUl9IT09LX01JRERMRSk7CiB9CiAKLUFQX0RFQ0xBUkVfTU9EVUxFKG9wdGlvbmFs
X2hvb2tfaW1wb3J0KSA9CitBUF9ERUZJTkVfTU9EVUxFKG9wdGlvbmFsX2hvb2tfaW1wb3J0KSA9
CiB7CiAgICAgU1RBTkRBUkQyMF9NT0RVTEVfU1RVRkYsCiAgICAgTlVMTCwKSW5kZXg6IHNlcnZl
ci9jb3JlLmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PQotLS0gc2VydmVyL2NvcmUuYwkocmV2aXNpb24gMTY4NjI5OCkK
KysrIHNlcnZlci9jb3JlLmMJKHdvcmtpbmcgY29weSkKQEAgLTUwMDAsNyArNTAwMCw3IEBAIHN0
YXRpYyB2b2lkIHJlZ2lzdGVyX2hvb2tzKGFwcl9wb29sX3QgKnApCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgTlVMTCwgQVBfRlRZUEVfUkVTT1VSQ0UgLSAxMCk7CiB9CiAKLUFQ
X0RFQ0xBUkVfTU9EVUxFKGNvcmUpID0geworQVBfREVGSU5FX01PRFVMRShjb3JlKSA9IHsKICAg
ICBNUE0yMF9NT0RVTEVfU1RVRkYsCiAgICAgQVBfUExBVEZPUk1fUkVXUklURV9BUkdTX0hPT0ss
IC8qIGhvb2sgdG8gcnVuIGJlZm9yZSBhcGFjaGUgcGFyc2VzIGFyZ3MgKi8KICAgICBjcmVhdGVf
Y29yZV9kaXJfY29uZmlnLCAgICAgICAvKiBjcmVhdGUgcGVyLWRpcmVjdG9yeSBjb25maWcgc3Ry
dWN0dXJlICovCkluZGV4OiBzZXJ2ZXIvbXBtL2V2ZW50L2V2ZW50LmMKPT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0g
c2VydmVyL21wbS9ldmVudC9ldmVudC5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgc2VydmVyL21w
bS9ldmVudC9ldmVudC5jCSh3b3JraW5nIGNvcHkpCkBAIC0zNTA3LDcgKzM1MDcsNyBAQCBzdGF0
aWMgY29uc3QgY29tbWFuZF9yZWMgZXZlbnRfY21kc1tdID0gewogICAgIHtOVUxMfQogfTsKIAot
QVBfREVDTEFSRV9NT0RVTEUobXBtX2V2ZW50KSA9IHsKK0FQX0RFRklORV9NT0RVTEUobXBtX2V2
ZW50KSA9IHsKICAgICBNUE0yMF9NT0RVTEVfU1RVRkYsCiAgICAgTlVMTCwgICAgICAgICAgICAg
ICAgICAgICAgIC8qIGhvb2sgdG8gcnVuIGJlZm9yZSBhcGFjaGUgcGFyc2VzIGFyZ3MgKi8KICAg
ICBOVUxMLCAgICAgICAgICAgICAgICAgICAgICAgLyogY3JlYXRlIHBlci1kaXJlY3RvcnkgY29u
ZmlnIHN0cnVjdHVyZSAqLwpJbmRleDogc2VydmVyL21wbS9tcG10X29zMi9tcG10X29zMi5jCj09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT0KLS0tIHNlcnZlci9tcG0vbXBtdF9vczIvbXBtdF9vczIuYwkocmV2aXNpb24gMTY4
NjI5OCkKKysrIHNlcnZlci9tcG0vbXBtdF9vczIvbXBtdF9vczIuYwkod29ya2luZyBjb3B5KQpA
QCAtNjA0LDcgKzYwNCw3IEBAIEFQX0lOSVRfVEFLRTEoIlNjb3JlQm9hcmRGaWxlIiwgaWdub3Jl
X2NtZCwgTlVMTCwKIHsgTlVMTCB9CiB9OwogCi1BUF9ERUNMQVJFX01PRFVMRShtcG1fbXBtdF9v
czIpID0geworQVBfREVGSU5FX01PRFVMRShtcG1fbXBtdF9vczIpID0gewogICAgIE1QTTIwX01P
RFVMRV9TVFVGRiwKICAgICBOVUxMLCAgICAgICAgICAgIC8qIGhvb2sgdG8gcnVuIGJlZm9yZSBh
cGFjaGUgcGFyc2VzIGFyZ3MgKi8KICAgICBOVUxMLCAgICAgICAgICAgIC8qIGNyZWF0ZSBwZXIt
ZGlyZWN0b3J5IGNvbmZpZyBzdHJ1Y3R1cmUgKi8KSW5kZXg6IHNlcnZlci9tcG0vbmV0d2FyZS9t
cG1fbmV0d2FyZS5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIHNlcnZlci9tcG0vbmV0d2FyZS9tcG1fbmV0d2Fy
ZS5jCShyZXZpc2lvbiAxNjg2Mjk4KQorKysgc2VydmVyL21wbS9uZXR3YXJlL21wbV9uZXR3YXJl
LmMJKHdvcmtpbmcgY29weSkKQEAgLTEzNTcsNyArMTM1Nyw3IEBAIEFQX0lOSVRfVEFLRTEoIk1h
eFRocmVhZHMiLCBzZXRfdGhyZWFkX2xpbWl0LCBOVUxMCiB7IE5VTEwgfQogfTsKIAotQVBfREVD
TEFSRV9NT0RVTEUobXBtX25ldHdhcmUpID0geworQVBfREVGSU5FX01PRFVMRShtcG1fbmV0d2Fy
ZSkgPSB7CiAgICAgTVBNMjBfTU9EVUxFX1NUVUZGLAogICAgIG5ldHdhcmVfcmV3cml0ZV9hcmdz
LCAgIC8qIGhvb2sgdG8gcnVuIGJlZm9yZSBhcGFjaGUgcGFyc2VzIGFyZ3MgKi8KICAgICBOVUxM
LCAgICAgICAgICAgICAgICAgICAvKiBjcmVhdGUgcGVyLWRpcmVjdG9yeSBjb25maWcgc3RydWN0
dXJlICovCkluZGV4OiBzZXJ2ZXIvbXBtL3ByZWZvcmsvcHJlZm9yay5jCj09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0t
IHNlcnZlci9tcG0vcHJlZm9yay9wcmVmb3JrLmMJKHJldmlzaW9uIDE2ODYyOTgpCisrKyBzZXJ2
ZXIvbXBtL3ByZWZvcmsvcHJlZm9yay5jCSh3b3JraW5nIGNvcHkpCkBAIC0xNTQwLDcgKzE1NDAs
NyBAQCBBUF9HUkFDRUZVTF9TSFVURE9XTl9USU1FT1VUX0NPTU1BTkQsCiB7IE5VTEwgfQogfTsK
IAotQVBfREVDTEFSRV9NT0RVTEUobXBtX3ByZWZvcmspID0geworQVBfREVGSU5FX01PRFVMRSht
cG1fcHJlZm9yaykgPSB7CiAgICAgTVBNMjBfTU9EVUxFX1NUVUZGLAogICAgIE5VTEwsICAgICAg
ICAgICAgICAgICAgICAgICAvKiBob29rIHRvIHJ1biBiZWZvcmUgYXBhY2hlIHBhcnNlcyBhcmdz
ICovCiAgICAgTlVMTCwgICAgICAgICAgICAgICAgICAgICAgIC8qIGNyZWF0ZSBwZXItZGlyZWN0
b3J5IGNvbmZpZyBzdHJ1Y3R1cmUgKi8KSW5kZXg6IHNlcnZlci9tcG0vd2lubnQvbXBtX3dpbm50
LmMKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PQotLS0gc2VydmVyL21wbS93aW5udC9tcG1fd2lubnQuYwkocmV2aXNpb24g
MTY4NjI5OCkKKysrIHNlcnZlci9tcG0vd2lubnQvbXBtX3dpbm50LmMJKHdvcmtpbmcgY29weSkK
QEAgLTE3NjIsNyArMTc2Miw3IEBAIHN0YXRpYyB2b2lkIHdpbm50X2hvb2tzKGFwcl9wb29sX3Qg
KnApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQVBSX0hPT0tfTUlERExFKTsK
IH0KIAotQVBfREVDTEFSRV9NT0RVTEUobXBtX3dpbm50KSA9IHsKK0FQX0RFRklORV9NT0RVTEUo
bXBtX3dpbm50KSA9IHsKICAgICBNUE0yMF9NT0RVTEVfU1RVRkYsCiAgICAgd2lubnRfcmV3cml0
ZV9hcmdzLCAgICAvKiBob29rIHRvIHJ1biBiZWZvcmUgYXBhY2hlIHBhcnNlcyBhcmdzICovCiAg
ICAgTlVMTCwgICAgICAgICAgICAgICAgICAvKiBjcmVhdGUgcGVyLWRpcmVjdG9yeSBjb25maWcg
c3RydWN0dXJlICovCkluZGV4OiBzZXJ2ZXIvbXBtL3dvcmtlci93b3JrZXIuYwo9PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
Ci0tLSBzZXJ2ZXIvbXBtL3dvcmtlci93b3JrZXIuYwkocmV2aXNpb24gMTY4NjI5OCkKKysrIHNl
cnZlci9tcG0vd29ya2VyL3dvcmtlci5jCSh3b3JraW5nIGNvcHkpCkBAIC0yNDA2LDcgKzI0MDYs
NyBAQCBBUF9HUkFDRUZVTF9TSFVURE9XTl9USU1FT1VUX0NPTU1BTkQsCiB7IE5VTEwgfQogfTsK
IAotQVBfREVDTEFSRV9NT0RVTEUobXBtX3dvcmtlcikgPSB7CitBUF9ERUZJTkVfTU9EVUxFKG1w
bV93b3JrZXIpID0gewogICAgIE1QTTIwX01PRFVMRV9TVFVGRiwKICAgICBOVUxMLCAgICAgICAg
ICAgICAgICAgICAgICAgLyogaG9vayB0byBydW4gYmVmb3JlIGFwYWNoZSBwYXJzZXMgYXJncyAq
LwogICAgIE5VTEwsICAgICAgICAgICAgICAgICAgICAgICAvKiBjcmVhdGUgcGVyLWRpcmVjdG9y
eSBjb25maWcgc3RydWN0dXJlICovCg==
--001a113ee4fcc3748a0518d0dc96--

From dev-return-83059-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 19 09:32:49 2015
Return-Path: <dev-return-83059-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 78C09177D2
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 19 Jun 2015 09:32:49 +0000 (UTC)
Received: (qmail 11181 invoked by uid 500); 19 Jun 2015 09:32:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 11111 invoked by uid 500); 19 Jun 2015 09:32:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 11101 invoked by uid 99); 19 Jun 2015 09:32:48 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 09:32:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 6534918019D
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 09:32:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.012
X-Spam-Level:
X-Spam-Status: No, score=-0.012 tagged_above=-999 required=6.31
	tests=[SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ItFA-S-Nsq5x for <dev@httpd.apache.org>;
	Fri, 19 Jun 2015 09:32:47 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 8A0C827610
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 09:32:47 +0000 (UTC)
Received: from int-mx10.intmail.prod.int.phx2.redhat.com (int-mx10.intmail.prod.int.phx2.redhat.com [10.5.11.23])
	by mx1.redhat.com (Postfix) with ESMTPS id 8C856358A10
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 09:32:10 +0000 (UTC)
Received: from dhcp-24-191.brq.redhat.com (ovpn-204-94.brq.redhat.com [10.40.204.94])
	by int-mx10.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t5J9W9ok010804
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 05:32:10 -0400
Message-ID: <5583E198.8060300@redhat.com>
Date: Fri, 19 Jun 2015 11:32:08 +0200
From: =?UTF-8?B?SmFuIEthbHXFvmE=?= <jkaluza@redhat.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.6.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: Using UPN from subjectAltName with SSLUserName
References: <20150618094946.GU18173@redhat.com> <CAKQ1sVPVuX7ntRt=XjSJ6Og1-gYxjkHv_N2aSNy6wR62XJ_gGw@mail.gmail.com>
In-Reply-To: <CAKQ1sVPVuX7ntRt=XjSJ6Og1-gYxjkHv_N2aSNy6wR62XJ_gGw@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.23

On 06/18/2015 12:22 PM, Yann Ylavic wrote:
> On Thu, Jun 18, 2015 at 11:49 AM, Jan Pazdziora <jpazdziora@redhat.com> wrote:
>>
>> I'd appreciate any comments about suitability of such change, as well
>> as the implementation. Specifically, I'm not sure if people will
>> prefer the generic and currently proposed
>>
>>          SSL_CLIENT_SAN_otherName_n
>>
>> which gets any value of otherName type, or perhaps going with
>>
>>          SSL_CLIENT_SAN_UPN_n
>>
>> and checking the OID just for the UPNs. Based on that decision I plan
>> to then respin the patch with documentation changes included.
>
> I think a more generic way would to have something like
> SSL_CLIENT_OID_<oid>_n, so that we wouldn't have to add a new field
> each time.
> In this case, that would be: SSL_CLIENT_OID_1.3.6.1.4.1.311.20.2.3_n.

I think that's nice idea. I can probably work on that. The only question 
is if we would like to have this generic way as additional feature, or 
we really want to use it instead of the SSL_CLIENT_SAN_otherName_n as 
proposed by Jan.

I think that the common cases should have non-generic variable. The 
question is if otherName is the common case.

Ideas?

> Regards,
> Yann.
>

Regards,
Jan Kaluza


From dev-return-83060-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 19 09:56:35 2015
Return-Path: <dev-return-83060-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A7A661793F
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 19 Jun 2015 09:56:35 +0000 (UTC)
Received: (qmail 54839 invoked by uid 500); 19 Jun 2015 09:56:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54756 invoked by uid 500); 19 Jun 2015 09:56:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54745 invoked by uid 99); 19 Jun 2015 09:56:35 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 09:56:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 91019CEFA0
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 09:56:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id YUHd9nFX8b1i for <dev@httpd.apache.org>;
	Fri, 19 Jun 2015 09:56:34 +0000 (UTC)
Received: from mail-ie0-f179.google.com (mail-ie0-f179.google.com [209.85.223.179])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id D2CB242B0E
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 09:56:33 +0000 (UTC)
Received: by iebgx4 with SMTP id gx4so71493757ieb.0
        for <dev@httpd.apache.org>; Fri, 19 Jun 2015 02:56:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=KpRkCwSKwB4uTOJlfE+uJnkt6pjVPOZ6me36NllYZmo=;
        b=XKIKd/1eRcbjgyaps/VsvBa4SNZB+yrYNA+6Y1XuA56l7bdyv6KNb5GgH5M+2VXxyl
         +G5cuQOOzuJoou4NDF64b7q5yy4hb8X710CHAsRz4z1LpxRePB1q3aaK28sZclUN3o8o
         /+y0XmuNtnocUK8vSl7iGXkheTUL3yQhgxu2iys7MGPLY4Xs9ffVIm1Ya2fn//uG0wDt
         barmWnea4uItu9g4dUEF8eCwtTsDs+z+i/yd8ndF0KizgnjnR9k3qrxAfS1NZReWXxZQ
         pEQl7rjjaVH1rrL4DJ+CBU4vWtDnB2i1BpRcwXw0yR+vr19A7myGuU6XBEp971/i1NN0
         X1gQ==
MIME-Version: 1.0
X-Received: by 10.107.46.226 with SMTP id u95mr20037879iou.68.1434707793466;
 Fri, 19 Jun 2015 02:56:33 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Fri, 19 Jun 2015 02:56:33 -0700 (PDT)
In-Reply-To: <5583E198.8060300@redhat.com>
References: <20150618094946.GU18173@redhat.com>
	<CAKQ1sVPVuX7ntRt=XjSJ6Og1-gYxjkHv_N2aSNy6wR62XJ_gGw@mail.gmail.com>
	<5583E198.8060300@redhat.com>
Date: Fri, 19 Jun 2015 11:56:33 +0200
Message-ID: <CAKQ1sVNkGTO-HiVRUrwf-hf75N3rDyoBdw_EkQFHD8N6oWZ3AQ@mail.gmail.com>
Subject: Re: Using UPN from subjectAltName with SSLUserName
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Fri, Jun 19, 2015 at 11:32 AM, Jan Kalu=C5=BEa <jkaluza@redhat.com> wrot=
e:
> On 06/18/2015 12:22 PM, Yann Ylavic wrote:
>>
>> On Thu, Jun 18, 2015 at 11:49 AM, Jan Pazdziora <jpazdziora@redhat.com>
>> wrote:
>>>
>>>
>>> I'd appreciate any comments about suitability of such change, as well
>>> as the implementation. Specifically, I'm not sure if people will
>>> prefer the generic and currently proposed
>>>
>>>          SSL_CLIENT_SAN_otherName_n
>>>
>>> which gets any value of otherName type, or perhaps going with
>>>
>>>          SSL_CLIENT_SAN_UPN_n
>>>
>>> and checking the OID just for the UPNs. Based on that decision I plan
>>> to then respin the patch with documentation changes included.
>>
>>
>> I think a more generic way would to have something like
>> SSL_CLIENT_OID_<oid>_n, so that we wouldn't have to add a new field
>> each time.
>> In this case, that would be: SSL_CLIENT_OID_1.3.6.1.4.1.311.20.2.3_n.
>
>
> I think that's nice idea. I can probably work on that. The only question =
is
> if we would like to have this generic way as additional feature, or we
> really want to use it instead of the SSL_CLIENT_SAN_otherName_n as propos=
ed
> by Jan.
>
> I think that the common cases should have non-generic variable. The quest=
ion
> is if otherName is the common case.

Depends on whether one needs it or not I guess :)

>
> Ideas?

Instead of SSL_CLIENT_OID_, we could also have something like
SSL_CLIENT__<oid|shortname|fullname>__n since the underlying mod_ssl
code handles both (IIRC).
I don't know if SAN_otherName/UPN have a short/long name though, but many h=
ave.

From dev-return-83061-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 19 10:27:51 2015
Return-Path: <dev-return-83061-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B4A5F17A8E
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 19 Jun 2015 10:27:51 +0000 (UTC)
Received: (qmail 1495 invoked by uid 500); 19 Jun 2015 10:27:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1425 invoked by uid 500); 19 Jun 2015 10:27:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1414 invoked by uid 99); 19 Jun 2015 10:27:51 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 10:27:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id C2D1AC08D7
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 10:27:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.208
X-Spam-Level:
X-Spam-Status: No, score=-1.208 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Y_H0nGlLlHDz for <dev@httpd.apache.org>;
	Fri, 19 Jun 2015 10:27:43 +0000 (UTC)
Received: from mail-ig0-f175.google.com (mail-ig0-f175.google.com [209.85.213.175])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 9101624CEA
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 10:27:42 +0000 (UTC)
Received: by igboe5 with SMTP id oe5so12469559igb.1
        for <dev@httpd.apache.org>; Fri, 19 Jun 2015 03:27:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=tQZF8T2djgjRm2/PEI2+DWTMwVsRKANdjaeXflOmVGE=;
        b=NdFa41NE2UJ4ao6ZoLwEneAeKK7rcCJ9tOWonODoWLo2PF5GpQ+8eFh5diOgU6EWx8
         iFKggSYkFOrHJWW4xInDfAXrv3N8rsWFclpMdXz9kwe0N6X5uZ7MsZA9YTL8Kg9hbZm1
         B92xWY4a96xJjxB4vlA2WpnJU9sRkoamWm0yGwd54Ubiz13u5Hktp+jMNyjLFXUr5AZN
         4f6FwoHR29fgGv+DtdMBZ2tpeb0Tvp38hUzvnEXw6QuW27/lToMqTHiuh1rvxB7ZEPR2
         lvxraMunLRC3coDfvA74xNivX7e78GefynguBUUsL8GcJz5mfsH+7Gqw0liGt+JjEbdk
         l0TQ==
MIME-Version: 1.0
X-Received: by 10.42.203.4 with SMTP id fg4mr17552149icb.52.1434709661486;
 Fri, 19 Jun 2015 03:27:41 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Fri, 19 Jun 2015 03:27:41 -0700 (PDT)
In-Reply-To: <CAKQ1sVNkGTO-HiVRUrwf-hf75N3rDyoBdw_EkQFHD8N6oWZ3AQ@mail.gmail.com>
References: <20150618094946.GU18173@redhat.com>
	<CAKQ1sVPVuX7ntRt=XjSJ6Og1-gYxjkHv_N2aSNy6wR62XJ_gGw@mail.gmail.com>
	<5583E198.8060300@redhat.com>
	<CAKQ1sVNkGTO-HiVRUrwf-hf75N3rDyoBdw_EkQFHD8N6oWZ3AQ@mail.gmail.com>
Date: Fri, 19 Jun 2015 12:27:41 +0200
Message-ID: <CAKQ1sVN_2kPzhyXGD74DfuP+fDsm4izMyh6Krj8=d3TQRCMw_w@mail.gmail.com>
Subject: Re: Using UPN from subjectAltName with SSLUserName
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Jun 19, 2015 at 11:56 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
> Instead of SSL_CLIENT_OID_, we could also have something like
> SSL_CLIENT__<oid|shortname|fullname>__n since the underlying mod_ssl
> code handles both (IIRC).
> I don't know if SAN_otherName/UPN have a short/long name though, but many have.

Nope, SAN as an oid/long/short name, but no fancy name for its inner fields.
But since openssl.cnf (man x509v3_config) accepts things like
"subjectAltName=email:my@other.address,RID:1.2.3.4,otherName:my.other.name",
maybe we can do something...

From dev-return-83062-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 19 11:52:17 2015
Return-Path: <dev-return-83062-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A761817CF5
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 19 Jun 2015 11:52:17 +0000 (UTC)
Received: (qmail 56262 invoked by uid 500); 19 Jun 2015 11:52:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56175 invoked by uid 500); 19 Jun 2015 11:52:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56165 invoked by uid 99); 19 Jun 2015 11:52:17 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 11:52:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id ABA5D18019D
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 11:52:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id w06UE2UCB3MS for <dev@httpd.apache.org>;
	Fri, 19 Jun 2015 11:52:08 +0000 (UTC)
Received: from resqmta-ch2-07v.sys.comcast.net (resqmta-ch2-07v.sys.comcast.net [69.252.207.39])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id D02EF2763D
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 11:52:07 +0000 (UTC)
Received: from resomta-ch2-03v.sys.comcast.net ([69.252.207.99])
	by resqmta-ch2-07v.sys.comcast.net with comcast
	id iBrT1q00429Cfhx01Bs1y5; Fri, 19 Jun 2015 11:52:01 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-03v.sys.comcast.net with comcast
	id iBs01q0062U0RYt01Bs0hd; Fri, 19 Jun 2015 11:52:01 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: NOTE: Intent to T&R 2.4.15 Tomorrow (Friday, June 19)
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com>
Date: Fri, 19 Jun 2015 07:52:00 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <7F190525-9213-4813-9EA2-76B98A220101@jaguNET.com>
References: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1434714721;
	bh=9PN8u43lT2DREYWD5Jgvo0K/p4aaqwYiXc5JswIAUeA=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=loFBWV23tsrup2KFnAkUdpkEv1ga6aji25L3zFGWZO3SDnVESXd08Q4OTrU0NuxqY
	 FpLAxkV0mkMElvUzQuznvSrt1jwpBpzn8WibhaBECjNY8cKM/2MLolCvRby7SX+M/G
	 3V5E18YwTsqwFrak4Vs9zXcbShgnafXRwNN+qs2WLuzGknw4s/FZb6M92fKyyw60dm
	 b4uuloBiCD2ePxVtSG5Xv7T7ccOEZWz9pEUAVgzBBdSEfzih/dh1ALPsWhKdNWxwQ3
	 +4vLuoMKdfo0CC2lXmJz7ZsBvuqT8vrIpQbsPas7SHRGXMTD06i7e0USv+dQYmdQQ3
	 T9aOcf735B/9w==

Just a reminder...

I plan on doing so by 12:30pm, Eastern.

> On Jun 18, 2015, at 1:08 PM, Jim Jagielski <jim@jaguNET.com> wrote:
> 
> Subj sez it all.


From dev-return-83063-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 19 11:58:51 2015
Return-Path: <dev-return-83063-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BF1E617D20
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 19 Jun 2015 11:58:51 +0000 (UTC)
Received: (qmail 67077 invoked by uid 500); 19 Jun 2015 11:58:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67009 invoked by uid 500); 19 Jun 2015 11:58:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 66998 invoked by uid 99); 19 Jun 2015 11:58:51 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 11:58:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C9BFACEFEA
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 11:58:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id OYMjIFlO4tmS for <dev@httpd.apache.org>;
	Fri, 19 Jun 2015 11:58:45 +0000 (UTC)
Received: from mail-ig0-f170.google.com (mail-ig0-f170.google.com [209.85.213.170])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id D8DC342B0E
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 11:58:44 +0000 (UTC)
Received: by igbqq3 with SMTP id qq3so13947125igb.0
        for <dev@httpd.apache.org>; Fri, 19 Jun 2015 04:58:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=150Eg3KbHXyAULbi3XaZSgCq3Gv0qTOfC98YNQLq6+Q=;
        b=OZBGohbzbNk+G6TsO0AJicQzqjK3WuoAkxnsCWWCgPRAryq06Np9mdVLajKoQe1Gry
         PbBC/xgW6ecYawSak1swGZVmjBBDGqAgTOldAZ63EmcVMrGaWYGo62ZPpq1iF6+3WIj+
         fIfQKbEeHcS/lIE9s3Vpr2MMOjP17Zrz9ig2Q7A13h98pmrVp3onGitAlODr3N535ri1
         +MMzjBSBsAJQe6VOxofWPS7SIG6GjF1tN2eBnjWDU1HgbLA9kG7+/QN/Zw0HvTtcAK3i
         ep7ZFujFUZN95wk/KysguY/w5JQt/OBG5UpRy90PH15SBy4Y3LSc0jIf9uL999vLQ2J6
         se3A==
MIME-Version: 1.0
X-Received: by 10.43.66.5 with SMTP id xo5mr11054612icb.57.1434715124563; Fri,
 19 Jun 2015 04:58:44 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Fri, 19 Jun 2015 04:58:44 -0700 (PDT)
In-Reply-To: <7F190525-9213-4813-9EA2-76B98A220101@jaguNET.com>
References: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com>
	<7F190525-9213-4813-9EA2-76B98A220101@jaguNET.com>
Date: Fri, 19 Jun 2015 13:58:44 +0200
Message-ID: <CAKQ1sVPSvLGNhN6MSKdTxv4LuuX+nFbn8PR1QhGMpE_rtB8MLw@mail.gmail.com>
Subject: Re: NOTE: Intent to T&R 2.4.15 Tomorrow (Friday, June 19)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Someone to (easy) vote for the warning issue fixed in r1684057?

On Fri, Jun 19, 2015 at 1:52 PM, Jim Jagielski <jim@jagunet.com> wrote:
> Just a reminder...
>
> I plan on doing so by 12:30pm, Eastern.
>
>> On Jun 18, 2015, at 1:08 PM, Jim Jagielski <jim@jaguNET.com> wrote:
>>
>> Subj sez it all.
>

From dev-return-83064-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 19 12:08:11 2015
Return-Path: <dev-return-83064-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8FF3517D7E
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 19 Jun 2015 12:08:11 +0000 (UTC)
Received: (qmail 92860 invoked by uid 500); 19 Jun 2015 12:08:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92786 invoked by uid 500); 19 Jun 2015 12:08:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92776 invoked by uid 99); 19 Jun 2015 12:08:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 12:08:11 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.37] (HELO resqmta-ch2-05v.sys.comcast.net) (69.252.207.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 12:05:54 +0000
Received: from resomta-ch2-16v.sys.comcast.net ([69.252.207.112])
	by resqmta-ch2-05v.sys.comcast.net with comcast
	id iC6m1q0062S2Q5R01C7MzQ; Fri, 19 Jun 2015 12:07:21 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-16v.sys.comcast.net with comcast
	id iC7L1q00E2U0RYt01C7L0g; Fri, 19 Jun 2015 12:07:21 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Test failure... 2.4.15-dev
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <7F190525-9213-4813-9EA2-76B98A220101@jaguNET.com>
Date: Fri, 19 Jun 2015 08:07:20 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <7F71F1C2-8A31-4DB2-B698-08D87597AC08@jaguNET.com>
References: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com> <7F190525-9213-4813-9EA2-76B98A220101@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1434715641;
	bh=SYjxNVGCI3lEAtFWkLUhN7nMMKHMvsqD6JufWXoeCvM=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=HL/sE/+FA9fF4TLhUn+Bm1tV8wrGeBYFXYQgP+tVo8gMh4qPUq+xUb4EVJ/Gy3Y06
	 Rch1jy1em228S8zi/qHOIh47tioPvOyX983WRIVnV0/ZxXX/Z9M9cyCylcEQQnilsW
	 eud20CcWhYMYI2Y4UjK+DQ+EbyMb+Cwra4RjZ0nAfr1g11szjyM+Zz+jrGEMOepPrf
	 b4foX3Lz5g+p+BlymNv7Y1BBChRTc15octytYP5NeUOVxw31GbL6YCJcRzFy+ehcvu
	 yx8cyV9Pbqxr7XamXeVqfUQf8lnYE41ZL+xPl89NQOuQEe8WlPa/x52hbnaiJvuOr9
	 +Ki7K1YbWi8dA==
X-Virus-Checked: Checked by ClamAV on apache.org

This is on Darwin... will test on others.

t/protocol/nntp-like.t ..
1..10
# Running under perl version 5.020002 for darwin
# Current time local: Fri Jun 19 08:04:27 2015
# Current time GMT:   Fri Jun 19 12:04:27 2015
# Using Test.pm version 1.26
# Using Apache/Test.pm version 1.40
testing mod_nntp_like_ssl
<and it hangs here>

Output of error.log:
[Fri Jun 19 08:04:26.979537 2015] [authz_core:debug] [pid 68656:tid =
4408729600] mod_authz_core.c(834): [client 127.0.0.1:63084] AH01628: =
authorization result: granted (no directives)
[Fri Jun 19 08:04:27.403899 2015] [ssl:info] [pid 68656:tid 4409266176] =
[client 127.0.0.1:63086] AH01964: Connection to child 1 established =
(server localhost:8531)
[Fri Jun 19 08:04:27.405429 2015] [ssl:debug] [pid 68656:tid 4409266176] =
ssl_engine_kernel.c(1919): [client 127.0.0.1:63086] AH02043: SSL virtual =
host for servername localhost found
[Fri Jun 19 08:04:27.406885 2015] [ssl:info] [pid 68656:tid 4409266176] =
[client 127.0.0.1:63086] AH02008: SSL library error 1 in handshake =
(server localhost:8531)
[Fri Jun 19 08:04:27.406935 2015] [ssl:info] [pid 68656:tid 4409266176] =
SSL Library Error: error:14094415:SSL routines:ssl3_read_bytes:sslv3 =
alert certificate expired (SSL alert number 45)
[Fri Jun 19 08:04:27.406967 2015] [ssl:info] [pid 68656:tid 4409266176] =
[client 127.0.0.1:63086] AH01998: Connection closed to child 1 with =
abortive shutdown (server localhost:8531)
[Fri Jun 19 08:04:27.418033 2015] [ssl:info] [pid 68658:tid 4408729600] =
[client 127.0.0.1:63087] AH01964: Connection to child 128 established =
(server localhost:8531)
[Fri Jun 19 08:04:27.418641 2015] [ssl:debug] [pid 68658:tid 4408729600] =
ssl_engine_kernel.c(1947): [client 127.0.0.1:63087] AH02645: Server name =
not provided via TLS extension (using default/first virtual host)
[Fri Jun 19 08:04:27.420032 2015] [ssl:info] [pid 68658:tid 4408729600] =
[client 127.0.0.1:63087] AH02008: SSL library error 1 in handshake =
(server localhost:8531)
[Fri Jun 19 08:04:27.420091 2015] [ssl:info] [pid 68658:tid 4408729600] =
SSL Library Error: error:14094415:SSL routines:ssl3_read_bytes:sslv3 =
alert certificate expired (SSL alert number 45)
[Fri Jun 19 08:04:27.420111 2015] [ssl:info] [pid 68658:tid 4408729600] =
[client 127.0.0.1:63087] AH01998: Connection closed to child 128 with =
abortive shutdown (server localhost:8531)
[Fri Jun 19 08:04:27.431174 2015] [ssl:info] [pid 68656:tid 4409802752] =
[client 127.0.0.1:63088] AH01964: Connection to child 2 established =
(server localhost:8531)
[Fri Jun 19 08:04:27.431301 2015] [ssl:info] [pid 68656:tid 4409802752] =
[client 127.0.0.1:63088] AH02008: SSL library error 1 in handshake =
(server localhost:8531)
[Fri Jun 19 08:04:27.431333 2015] [ssl:info] [pid 68656:tid 4409802752] =
SSL Library Error: error:140760FC:SSL =
routines:SSL23_GET_CLIENT_HELLO:unknown protocol -- speaking not SSL to =
HTTPS port!?
[Fri Jun 19 08:04:27.431342 2015] [ssl:info] [pid 68656:tid 4409802752] =
[client 127.0.0.1:63088] AH01998: Connection closed to child 2 with =
abortive shutdown (server localhost:8531)=

From dev-return-83065-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 19 12:13:18 2015
Return-Path: <dev-return-83065-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 493E017DAB
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 19 Jun 2015 12:13:18 +0000 (UTC)
Received: (qmail 6791 invoked by uid 500); 19 Jun 2015 12:13:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6724 invoked by uid 500); 19 Jun 2015 12:13:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6714 invoked by uid 99); 19 Jun 2015 12:13:17 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 12:13:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5EE0E1A5D72
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 12:13:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id YbvNfB7TNBA6 for <dev@httpd.apache.org>;
	Fri, 19 Jun 2015 12:13:06 +0000 (UTC)
Received: from resqmta-ch2-06v.sys.comcast.net (resqmta-ch2-06v.sys.comcast.net [69.252.207.38])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 5C42224C28
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 12:13:05 +0000 (UTC)
Received: from resomta-ch2-15v.sys.comcast.net ([69.252.207.111])
	by resqmta-ch2-06v.sys.comcast.net with comcast
	id iCCY1q0082Qkjl901CCyZQ; Fri, 19 Jun 2015 12:12:58 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-15v.sys.comcast.net with comcast
	id iCCx1q00M2U0RYt01CCxdw; Fri, 19 Jun 2015 12:12:58 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: Test failure... 2.4.15-dev
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <7F71F1C2-8A31-4DB2-B698-08D87597AC08@jaguNET.com>
Date: Fri, 19 Jun 2015 08:12:57 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <300CE31F-A78E-4C73-8527-D23389B4EDA0@jaguNET.com>
References: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com> <7F190525-9213-4813-9EA2-76B98A220101@jaguNET.com> <7F71F1C2-8A31-4DB2-B698-08D87597AC08@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1434715978;
	bh=BkLMh1PXG4UBi1CxS4zfTEm+H5nD98NiMaLMSC5SS4Q=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=Mk4NPBncpzApG75Q7Sd6+LoXyw1+90gZktNFo+Vdge8Qe8oCbOYwagsKsCgVjJ6N/
	 VeEs3pg5kdCz94XgYyr5lR2524zihZSXZIFYFo1V+qgXzzehbW4MydAKXiiy4xVQU9
	 wGxGmL1Pa1/k20UxAKtH9lqw+SGsJxjkpG4SH53ehF232TuDDvJgt479lnhgTDAB+R
	 tousQ0LuC8rIQ7StKGMA7YipCKmNKf0mxcqzcIHsHE6DENdXYSykTdNck1NRGbMRXO
	 XhMcHaA2wqoWfacURXaeCeaFiRnZxtO5dBtLwldcWD2feprZGGGVzRhPY2V16m88RR
	 kyu5F5X7N7f3w==

Also on trunk...

> On Jun 19, 2015, at 8:07 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
> This is on Darwin... will test on others.
>=20
> t/protocol/nntp-like.t ..
> 1..10
> # Running under perl version 5.020002 for darwin
> # Current time local: Fri Jun 19 08:04:27 2015
> # Current time GMT:   Fri Jun 19 12:04:27 2015
> # Using Test.pm version 1.26
> # Using Apache/Test.pm version 1.40
> testing mod_nntp_like_ssl
> <and it hangs here>
>=20
> Output of error.log:
> [Fri Jun 19 08:04:26.979537 2015] [authz_core:debug] [pid 68656:tid =
4408729600] mod_authz_core.c(834): [client 127.0.0.1:63084] AH01628: =
authorization result: granted (no directives)
> [Fri Jun 19 08:04:27.403899 2015] [ssl:info] [pid 68656:tid =
4409266176] [client 127.0.0.1:63086] AH01964: Connection to child 1 =
established (server localhost:8531)
> [Fri Jun 19 08:04:27.405429 2015] [ssl:debug] [pid 68656:tid =
4409266176] ssl_engine_kernel.c(1919): [client 127.0.0.1:63086] AH02043: =
SSL virtual host for servername localhost found
> [Fri Jun 19 08:04:27.406885 2015] [ssl:info] [pid 68656:tid =
4409266176] [client 127.0.0.1:63086] AH02008: SSL library error 1 in =
handshake (server localhost:8531)
> [Fri Jun 19 08:04:27.406935 2015] [ssl:info] [pid 68656:tid =
4409266176] SSL Library Error: error:14094415:SSL =
routines:ssl3_read_bytes:sslv3 alert certificate expired (SSL alert =
number 45)
> [Fri Jun 19 08:04:27.406967 2015] [ssl:info] [pid 68656:tid =
4409266176] [client 127.0.0.1:63086] AH01998: Connection closed to child =
1 with abortive shutdown (server localhost:8531)
> [Fri Jun 19 08:04:27.418033 2015] [ssl:info] [pid 68658:tid =
4408729600] [client 127.0.0.1:63087] AH01964: Connection to child 128 =
established (server localhost:8531)
> [Fri Jun 19 08:04:27.418641 2015] [ssl:debug] [pid 68658:tid =
4408729600] ssl_engine_kernel.c(1947): [client 127.0.0.1:63087] AH02645: =
Server name not provided via TLS extension (using default/first virtual =
host)
> [Fri Jun 19 08:04:27.420032 2015] [ssl:info] [pid 68658:tid =
4408729600] [client 127.0.0.1:63087] AH02008: SSL library error 1 in =
handshake (server localhost:8531)
> [Fri Jun 19 08:04:27.420091 2015] [ssl:info] [pid 68658:tid =
4408729600] SSL Library Error: error:14094415:SSL =
routines:ssl3_read_bytes:sslv3 alert certificate expired (SSL alert =
number 45)
> [Fri Jun 19 08:04:27.420111 2015] [ssl:info] [pid 68658:tid =
4408729600] [client 127.0.0.1:63087] AH01998: Connection closed to child =
128 with abortive shutdown (server localhost:8531)
> [Fri Jun 19 08:04:27.431174 2015] [ssl:info] [pid 68656:tid =
4409802752] [client 127.0.0.1:63088] AH01964: Connection to child 2 =
established (server localhost:8531)
> [Fri Jun 19 08:04:27.431301 2015] [ssl:info] [pid 68656:tid =
4409802752] [client 127.0.0.1:63088] AH02008: SSL library error 1 in =
handshake (server localhost:8531)
> [Fri Jun 19 08:04:27.431333 2015] [ssl:info] [pid 68656:tid =
4409802752] SSL Library Error: error:140760FC:SSL =
routines:SSL23_GET_CLIENT_HELLO:unknown protocol -- speaking not SSL to =
HTTPS port!?
> [Fri Jun 19 08:04:27.431342 2015] [ssl:info] [pid 68656:tid =
4409802752] [client 127.0.0.1:63088] AH01998: Connection closed to child =
2 with abortive shutdown (server localhost:8531)


From dev-return-83066-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 19 12:56:23 2015
Return-Path: <dev-return-83066-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 13A4217F00
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 19 Jun 2015 12:56:23 +0000 (UTC)
Received: (qmail 98195 invoked by uid 500); 19 Jun 2015 12:56:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 98116 invoked by uid 500); 19 Jun 2015 12:56:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 98107 invoked by uid 99); 19 Jun 2015 12:56:22 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 12:56:22 +0000
Received: from gauss.localdomain (v4-8613417b.pool.vitroconnect.de [134.19.65.123])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 79B721A0094
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 12:56:21 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 4A5D5343
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 14:56:22 +0200 (CEST)
Message-ID: <55841176.7070809@apache.org>
Date: Fri, 19 Jun 2015 14:56:22 +0200
From: Ruediger Pluem <rpluem@apache.org>
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:36.0) Gecko/20100101 Firefox/36.0 SeaMonkey/2.33.1
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: Test failure... 2.4.15-dev
References: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com> <7F190525-9213-4813-9EA2-76B98A220101@jaguNET.com> <7F71F1C2-8A31-4DB2-B698-08D87597AC08@jaguNET.com> <300CE31F-A78E-4C73-8527-D23389B4EDA0@jaguNET.com>
In-Reply-To: <300CE31F-A78E-4C73-8527-D23389B4EDA0@jaguNET.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit

Maybe the test certs in your test suite need regeneration, because they are expired?

Regards

Rdiger

On 06/19/2015 02:12 PM, Jim Jagielski wrote:
> Also on trunk...
> 
>> On Jun 19, 2015, at 8:07 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>>
>> This is on Darwin... will test on others.
>>
>> t/protocol/nntp-like.t ..
>> 1..10
>> # Running under perl version 5.020002 for darwin
>> # Current time local: Fri Jun 19 08:04:27 2015
>> # Current time GMT:   Fri Jun 19 12:04:27 2015
>> # Using Test.pm version 1.26
>> # Using Apache/Test.pm version 1.40
>> testing mod_nntp_like_ssl
>> <and it hangs here>
>>
>> Output of error.log:
>> [Fri Jun 19 08:04:26.979537 2015] [authz_core:debug] [pid 68656:tid 4408729600] mod_authz_core.c(834): [client 127.0.0.1:63084] AH01628: authorization result: granted (no directives)
>> [Fri Jun 19 08:04:27.403899 2015] [ssl:info] [pid 68656:tid 4409266176] [client 127.0.0.1:63086] AH01964: Connection to child 1 established (server localhost:8531)
>> [Fri Jun 19 08:04:27.405429 2015] [ssl:debug] [pid 68656:tid 4409266176] ssl_engine_kernel.c(1919): [client 127.0.0.1:63086] AH02043: SSL virtual host for servername localhost found
>> [Fri Jun 19 08:04:27.406885 2015] [ssl:info] [pid 68656:tid 4409266176] [client 127.0.0.1:63086] AH02008: SSL library error 1 in handshake (server localhost:8531)
>> [Fri Jun 19 08:04:27.406935 2015] [ssl:info] [pid 68656:tid 4409266176] SSL Library Error: error:14094415:SSL routines:ssl3_read_bytes:sslv3 alert certificate expired (SSL alert number 45)
>> [Fri Jun 19 08:04:27.406967 2015] [ssl:info] [pid 68656:tid 4409266176] [client 127.0.0.1:63086] AH01998: Connection closed to child 1 with abortive shutdown (server localhost:8531)
>> [Fri Jun 19 08:04:27.418033 2015] [ssl:info] [pid 68658:tid 4408729600] [client 127.0.0.1:63087] AH01964: Connection to child 128 established (server localhost:8531)
>> [Fri Jun 19 08:04:27.418641 2015] [ssl:debug] [pid 68658:tid 4408729600] ssl_engine_kernel.c(1947): [client 127.0.0.1:63087] AH02645: Server name not provided via TLS extension (using default/first virtual host)
>> [Fri Jun 19 08:04:27.420032 2015] [ssl:info] [pid 68658:tid 4408729600] [client 127.0.0.1:63087] AH02008: SSL library error 1 in handshake (server localhost:8531)
>> [Fri Jun 19 08:04:27.420091 2015] [ssl:info] [pid 68658:tid 4408729600] SSL Library Error: error:14094415:SSL routines:ssl3_read_bytes:sslv3 alert certificate expired (SSL alert number 45)
>> [Fri Jun 19 08:04:27.420111 2015] [ssl:info] [pid 68658:tid 4408729600] [client 127.0.0.1:63087] AH01998: Connection closed to child 128 with abortive shutdown (server localhost:8531)
>> [Fri Jun 19 08:04:27.431174 2015] [ssl:info] [pid 68656:tid 4409802752] [client 127.0.0.1:63088] AH01964: Connection to child 2 established (server localhost:8531)
>> [Fri Jun 19 08:04:27.431301 2015] [ssl:info] [pid 68656:tid 4409802752] [client 127.0.0.1:63088] AH02008: SSL library error 1 in handshake (server localhost:8531)
>> [Fri Jun 19 08:04:27.431333 2015] [ssl:info] [pid 68656:tid 4409802752] SSL Library Error: error:140760FC:SSL routines:SSL23_GET_CLIENT_HELLO:unknown protocol -- speaking not SSL to HTTPS port!?
>> [Fri Jun 19 08:04:27.431342 2015] [ssl:info] [pid 68656:tid 4409802752] [client 127.0.0.1:63088] AH01998: Connection closed to child 2 with abortive shutdown (server localhost:8531)
> 
> 

From dev-return-83067-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 19 12:59:16 2015
Return-Path: <dev-return-83067-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CDDF717F14
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 19 Jun 2015 12:59:16 +0000 (UTC)
Received: (qmail 6514 invoked by uid 500); 19 Jun 2015 12:59:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6433 invoked by uid 500); 19 Jun 2015 12:59:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6423 invoked by uid 99); 19 Jun 2015 12:59:16 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 12:59:16 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id DD937C019C
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 12:59:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id vy2-dEMWNeo3 for <dev@httpd.apache.org>;
	Fri, 19 Jun 2015 12:59:06 +0000 (UTC)
Received: from mail-ig0-f182.google.com (mail-ig0-f182.google.com [209.85.213.182])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 8B63926199
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 12:59:06 +0000 (UTC)
Received: by igbiq7 with SMTP id iq7so13478831igb.1
        for <dev@httpd.apache.org>; Fri, 19 Jun 2015 05:59:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=UD5iKOab7eIZcwVbTmbT8q9SjLv9v2UgXftYLWVmzY0=;
        b=Ds1wSqjPM/koF65sMzW+0UvnSgO6ey8XizhbrAt0grmQpZuOOnvrGF5GoTBe20No92
         uSmsBxK8l0YgRqYFt4s/cnRj9T0mh4wuzbprSvzncKcshQTj4uEJEJBAkm9jff4+cxYG
         v206Run8uAupAAAtELznnfXhftHBOwbLfcwf7UVqXgkqf1Z8uyHEAZ/8BLt7Bqjt73EL
         A+PIm5bY1zwCMciXVWhu7oT0F03iwHrKSSgJrmmVtJ92Fz0plZBMk43R0m4VmTLA2mgk
         OY1pwW2YB8k3EZN+SAVmPp7RFfxwGj0vhP0G7HZw54x7FmU/t1/Bj0mwKv1tPsldxZUo
         U9Ag==
MIME-Version: 1.0
X-Received: by 10.107.15.153 with SMTP id 25mr20315407iop.44.1434718740022;
 Fri, 19 Jun 2015 05:59:00 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Fri, 19 Jun 2015 05:58:59 -0700 (PDT)
In-Reply-To: <300CE31F-A78E-4C73-8527-D23389B4EDA0@jaguNET.com>
References: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com>
	<7F190525-9213-4813-9EA2-76B98A220101@jaguNET.com>
	<7F71F1C2-8A31-4DB2-B698-08D87597AC08@jaguNET.com>
	<300CE31F-A78E-4C73-8527-D23389B4EDA0@jaguNET.com>
Date: Fri, 19 Jun 2015 14:58:59 +0200
Message-ID: <CAKQ1sVO2SRV9wZDuTuHjQtkXPAqZDTnNT06uNKczbj9GW+2jCQ@mail.gmail.com>
Subject: Re: Test failure... 2.4.15-dev
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On my box:
t/protocol/nntp-like.t .............. skipped: deferred accept()
prohibits testing with 2.1

Any (new) differ accept in Darwin?

On Fri, Jun 19, 2015 at 2:12 PM, Jim Jagielski <jim@jagunet.com> wrote:
> Also on trunk...
>
>> On Jun 19, 2015, at 8:07 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>>
>> This is on Darwin... will test on others.
>>
>> t/protocol/nntp-like.t ..
>> 1..10
>> # Running under perl version 5.020002 for darwin
>> # Current time local: Fri Jun 19 08:04:27 2015
>> # Current time GMT:   Fri Jun 19 12:04:27 2015
>> # Using Test.pm version 1.26
>> # Using Apache/Test.pm version 1.40
>> testing mod_nntp_like_ssl
>> <and it hangs here>
>>
>> Output of error.log:
>> [Fri Jun 19 08:04:26.979537 2015] [authz_core:debug] [pid 68656:tid 4408729600] mod_authz_core.c(834): [client 127.0.0.1:63084] AH01628: authorization result: granted (no directives)
>> [Fri Jun 19 08:04:27.403899 2015] [ssl:info] [pid 68656:tid 4409266176] [client 127.0.0.1:63086] AH01964: Connection to child 1 established (server localhost:8531)
>> [Fri Jun 19 08:04:27.405429 2015] [ssl:debug] [pid 68656:tid 4409266176] ssl_engine_kernel.c(1919): [client 127.0.0.1:63086] AH02043: SSL virtual host for servername localhost found
>> [Fri Jun 19 08:04:27.406885 2015] [ssl:info] [pid 68656:tid 4409266176] [client 127.0.0.1:63086] AH02008: SSL library error 1 in handshake (server localhost:8531)
>> [Fri Jun 19 08:04:27.406935 2015] [ssl:info] [pid 68656:tid 4409266176] SSL Library Error: error:14094415:SSL routines:ssl3_read_bytes:sslv3 alert certificate expired (SSL alert number 45)
>> [Fri Jun 19 08:04:27.406967 2015] [ssl:info] [pid 68656:tid 4409266176] [client 127.0.0.1:63086] AH01998: Connection closed to child 1 with abortive shutdown (server localhost:8531)
>> [Fri Jun 19 08:04:27.418033 2015] [ssl:info] [pid 68658:tid 4408729600] [client 127.0.0.1:63087] AH01964: Connection to child 128 established (server localhost:8531)
>> [Fri Jun 19 08:04:27.418641 2015] [ssl:debug] [pid 68658:tid 4408729600] ssl_engine_kernel.c(1947): [client 127.0.0.1:63087] AH02645: Server name not provided via TLS extension (using default/first virtual host)
>> [Fri Jun 19 08:04:27.420032 2015] [ssl:info] [pid 68658:tid 4408729600] [client 127.0.0.1:63087] AH02008: SSL library error 1 in handshake (server localhost:8531)
>> [Fri Jun 19 08:04:27.420091 2015] [ssl:info] [pid 68658:tid 4408729600] SSL Library Error: error:14094415:SSL routines:ssl3_read_bytes:sslv3 alert certificate expired (SSL alert number 45)
>> [Fri Jun 19 08:04:27.420111 2015] [ssl:info] [pid 68658:tid 4408729600] [client 127.0.0.1:63087] AH01998: Connection closed to child 128 with abortive shutdown (server localhost:8531)
>> [Fri Jun 19 08:04:27.431174 2015] [ssl:info] [pid 68656:tid 4409802752] [client 127.0.0.1:63088] AH01964: Connection to child 2 established (server localhost:8531)
>> [Fri Jun 19 08:04:27.431301 2015] [ssl:info] [pid 68656:tid 4409802752] [client 127.0.0.1:63088] AH02008: SSL library error 1 in handshake (server localhost:8531)
>> [Fri Jun 19 08:04:27.431333 2015] [ssl:info] [pid 68656:tid 4409802752] SSL Library Error: error:140760FC:SSL routines:SSL23_GET_CLIENT_HELLO:unknown protocol -- speaking not SSL to HTTPS port!?
>> [Fri Jun 19 08:04:27.431342 2015] [ssl:info] [pid 68656:tid 4409802752] [client 127.0.0.1:63088] AH01998: Connection closed to child 2 with abortive shutdown (server localhost:8531)
>

From dev-return-83068-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 19 13:00:19 2015
Return-Path: <dev-return-83068-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6B21E17F46
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 19 Jun 2015 13:00:19 +0000 (UTC)
Received: (qmail 10998 invoked by uid 500); 19 Jun 2015 13:00:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10928 invoked by uid 500); 19 Jun 2015 13:00:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10918 invoked by uid 99); 19 Jun 2015 13:00:18 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 13:00:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 4E224CEFCD
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 13:00:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.162
X-Spam-Level: ***
X-Spam-Status: No, score=3.162 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_MSPIKE_BL=0.01,
	RCVD_IN_MSPIKE_L3=2.499, SPF_NEUTRAL=0.652, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id LaxCFg2KgD0U for <dev@httpd.apache.org>;
	Fri, 19 Jun 2015 13:00:07 +0000 (UTC)
Received: from resqmta-ch2-05v.sys.comcast.net (resqmta-ch2-05v.sys.comcast.net [69.252.207.37])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id A64A428019
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 13:00:06 +0000 (UTC)
Received: from resomta-ch2-02v.sys.comcast.net ([69.252.207.98])
	by resqmta-ch2-05v.sys.comcast.net with comcast
	id iCy61q00127uzMh01Czzw7; Fri, 19 Jun 2015 12:59:59 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-02v.sys.comcast.net with comcast
	id iCzy1q00P2U0RYt01CzyHW; Fri, 19 Jun 2015 12:59:59 +0000
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: Test failure... 2.4.15-dev
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <55841176.7070809@apache.org>
Date: Fri, 19 Jun 2015 08:59:58 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <B25AB593-7839-4AD0-8658-DE620F5201F0@jaguNET.com>
References: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com> <7F190525-9213-4813-9EA2-76B98A220101@jaguNET.com> <7F71F1C2-8A31-4DB2-B698-08D87597AC08@jaguNET.com> <300CE31F-A78E-4C73-8527-D23389B4EDA0@jaguNET.com> <55841176.7070809@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1434718799;
	bh=i9GkBDxtoOEOjLxE07H+Pr58qOqjUMbzaiWx5kIgaqw=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=UTsfv+8D8TG8a+KQQsdRhZVAAZqryN3DufPF8vKpuSPVOGvRSXOmls0e3jE6AwUpD
	 hfJXz60FTU81riv1pL7XxjLDegbdqVL6XYyMA0LBvjcnfNvzA8QvMMw6Qr7FGh1xlO
	 tktv4wLbCLwaQIazO5ywUYEJ+rnWFjiD/dXgqHj5YhnHJPeMUikn5j+ZFmFj9Pi4Cs
	 69z64JMh3mFNce5xf00XOjmbQdt/tz4UbUc39IwK6xmo1otSx484Pzo4tNIyMClhoS
	 /UAynHA6fCBUxtDSC+mzTa/Q+PmFt/ctFITtW1/oteDRJFEgD1Efco6T31ZgK/H9NK
	 NzoG1EZsmmkNA==

I do a full t/TEST clean

> On Jun 19, 2015, at 8:56 AM, Ruediger Pluem <rpluem@apache.org> wrote:
>=20
> Maybe the test certs in your test suite need regeneration, because =
they are expired?
>=20
> Regards
>=20
> R=FCdiger
>=20
> On 06/19/2015 02:12 PM, Jim Jagielski wrote:
>> Also on trunk...
>>=20
>>> On Jun 19, 2015, at 8:07 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>>>=20
>>> This is on Darwin... will test on others.
>>>=20
>>> t/protocol/nntp-like.t ..
>>> 1..10
>>> # Running under perl version 5.020002 for darwin
>>> # Current time local: Fri Jun 19 08:04:27 2015
>>> # Current time GMT:   Fri Jun 19 12:04:27 2015
>>> # Using Test.pm version 1.26
>>> # Using Apache/Test.pm version 1.40
>>> testing mod_nntp_like_ssl
>>> <and it hangs here>
>>>=20
>>> Output of error.log:
>>> [Fri Jun 19 08:04:26.979537 2015] [authz_core:debug] [pid 68656:tid =
4408729600] mod_authz_core.c(834): [client 127.0.0.1:63084] AH01628: =
authorization result: granted (no directives)
>>> [Fri Jun 19 08:04:27.403899 2015] [ssl:info] [pid 68656:tid =
4409266176] [client 127.0.0.1:63086] AH01964: Connection to child 1 =
established (server localhost:8531)
>>> [Fri Jun 19 08:04:27.405429 2015] [ssl:debug] [pid 68656:tid =
4409266176] ssl_engine_kernel.c(1919): [client 127.0.0.1:63086] AH02043: =
SSL virtual host for servername localhost found
>>> [Fri Jun 19 08:04:27.406885 2015] [ssl:info] [pid 68656:tid =
4409266176] [client 127.0.0.1:63086] AH02008: SSL library error 1 in =
handshake (server localhost:8531)
>>> [Fri Jun 19 08:04:27.406935 2015] [ssl:info] [pid 68656:tid =
4409266176] SSL Library Error: error:14094415:SSL =
routines:ssl3_read_bytes:sslv3 alert certificate expired (SSL alert =
number 45)
>>> [Fri Jun 19 08:04:27.406967 2015] [ssl:info] [pid 68656:tid =
4409266176] [client 127.0.0.1:63086] AH01998: Connection closed to child =
1 with abortive shutdown (server localhost:8531)
>>> [Fri Jun 19 08:04:27.418033 2015] [ssl:info] [pid 68658:tid =
4408729600] [client 127.0.0.1:63087] AH01964: Connection to child 128 =
established (server localhost:8531)
>>> [Fri Jun 19 08:04:27.418641 2015] [ssl:debug] [pid 68658:tid =
4408729600] ssl_engine_kernel.c(1947): [client 127.0.0.1:63087] AH02645: =
Server name not provided via TLS extension (using default/first virtual =
host)
>>> [Fri Jun 19 08:04:27.420032 2015] [ssl:info] [pid 68658:tid =
4408729600] [client 127.0.0.1:63087] AH02008: SSL library error 1 in =
handshake (server localhost:8531)
>>> [Fri Jun 19 08:04:27.420091 2015] [ssl:info] [pid 68658:tid =
4408729600] SSL Library Error: error:14094415:SSL =
routines:ssl3_read_bytes:sslv3 alert certificate expired (SSL alert =
number 45)
>>> [Fri Jun 19 08:04:27.420111 2015] [ssl:info] [pid 68658:tid =
4408729600] [client 127.0.0.1:63087] AH01998: Connection closed to child =
128 with abortive shutdown (server localhost:8531)
>>> [Fri Jun 19 08:04:27.431174 2015] [ssl:info] [pid 68656:tid =
4409802752] [client 127.0.0.1:63088] AH01964: Connection to child 2 =
established (server localhost:8531)
>>> [Fri Jun 19 08:04:27.431301 2015] [ssl:info] [pid 68656:tid =
4409802752] [client 127.0.0.1:63088] AH02008: SSL library error 1 in =
handshake (server localhost:8531)
>>> [Fri Jun 19 08:04:27.431333 2015] [ssl:info] [pid 68656:tid =
4409802752] SSL Library Error: error:140760FC:SSL =
routines:SSL23_GET_CLIENT_HELLO:unknown protocol -- speaking not SSL to =
HTTPS port!?
>>> [Fri Jun 19 08:04:27.431342 2015] [ssl:info] [pid 68656:tid =
4409802752] [client 127.0.0.1:63088] AH01998: Connection closed to child =
2 with abortive shutdown (server localhost:8531)
>>=20
>>=20


From dev-return-83069-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 19 13:13:08 2015
Return-Path: <dev-return-83069-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 856A317FA4
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 19 Jun 2015 13:13:08 +0000 (UTC)
Received: (qmail 42372 invoked by uid 500); 19 Jun 2015 13:13:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 42308 invoked by uid 500); 19 Jun 2015 13:13:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 42298 invoked by uid 99); 19 Jun 2015 13:13:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 13:13:08 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.39] (HELO resqmta-ch2-07v.sys.comcast.net) (69.252.207.39)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 13:10:52 +0000
Received: from resomta-ch2-18v.sys.comcast.net ([69.252.207.114])
	by resqmta-ch2-07v.sys.comcast.net with comcast
	id iDB81q0092Udklx01DBJRw; Fri, 19 Jun 2015 13:11:18 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-18v.sys.comcast.net with comcast
	id iDBJ1q00G2U0RYt01DBJhz; Fri, 19 Jun 2015 13:11:18 +0000
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: Test failure... 2.4.15-dev
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <B25AB593-7839-4AD0-8658-DE620F5201F0@jaguNET.com>
Date: Fri, 19 Jun 2015 09:11:18 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <A721F291-54C7-4F5A-AC3D-C254C8788980@jaguNET.com>
References: <FF13D3C1-C3CD-49A3-8EEC-96AFEA6815C3@jaguNET.com> <7F190525-9213-4813-9EA2-76B98A220101@jaguNET.com> <7F71F1C2-8A31-4DB2-B698-08D87597AC08@jaguNET.com> <300CE31F-A78E-4C73-8527-D23389B4EDA0@jaguNET.com> <55841176.7070809@apache.org> <B25AB593-7839-4AD0-8658-DE620F5201F0@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1434719478;
	bh=7S/xLMWG+5v2GexhYaPzA+BuNylaWAFNjK1KEEXq2Cs=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=JME8GG/a9dV4h10GPoLXmDLOjuS9WP9EAx3LS3R+PzGoLWt5rcvYE0ZT/JQvvuIDY
	 vqQj0SsFRFd8g97SkHyFWA9erfNbF1qu+NUMNJvUm00LdPoE1JC1A5D+/uqdxxvg20
	 sXdZkafSzQxtNNbplUATiVR/FaDwOVfMqaX6D+fRJtP70sLl7SbdbL9aC6Xmvdk1vr
	 qo9TeUz7AGTZ6K37KWw+sfE1sGumFWRx3QVAZxAqk09vkGn8vN8UUB0E8w9HdV3eew
	 wTnbtGP+jEKzbUj1AiQPu2Zgh3Yr7GclLbY4xJJQW1hvWek8LLbeFmCC/n13VeoZ6x
	 /yz7FADAPUOVg==
X-Virus-Checked: Checked by ClamAV on apache.org

Which, I see, does NOT rm and regen the certs... The certs themselves
are only good for 365 days.

This seems wrong :)

Anyway, after trashing the certs, test passes OK. Sorry for the
false alarm.

> On Jun 19, 2015, at 8:59 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>=20
> I do a full t/TEST clean
>=20
>> On Jun 19, 2015, at 8:56 AM, Ruediger Pluem <rpluem@apache.org> =
wrote:
>>=20
>> Maybe the test certs in your test suite need regeneration, because =
they are expired?
>>=20
>> Regards
>>=20
>> R=FCdiger
>>=20
>> On 06/19/2015 02:12 PM, Jim Jagielski wrote:
>>> Also on trunk...
>>>=20
>>>> On Jun 19, 2015, at 8:07 AM, Jim Jagielski <jim@jaguNET.com> wrote:
>>>>=20
>>>> This is on Darwin... will test on others.
>>>>=20
>>>> t/protocol/nntp-like.t ..
>>>> 1..10
>>>> # Running under perl version 5.020002 for darwin
>>>> # Current time local: Fri Jun 19 08:04:27 2015
>>>> # Current time GMT:   Fri Jun 19 12:04:27 2015
>>>> # Using Test.pm version 1.26
>>>> # Using Apache/Test.pm version 1.40
>>>> testing mod_nntp_like_ssl
>>>> <and it hangs here>
>>>>=20
>>>> Output of error.log:
>>>> [Fri Jun 19 08:04:26.979537 2015] [authz_core:debug] [pid 68656:tid =
4408729600] mod_authz_core.c(834): [client 127.0.0.1:63084] AH01628: =
authorization result: granted (no directives)
>>>> [Fri Jun 19 08:04:27.403899 2015] [ssl:info] [pid 68656:tid =
4409266176] [client 127.0.0.1:63086] AH01964: Connection to child 1 =
established (server localhost:8531)
>>>> [Fri Jun 19 08:04:27.405429 2015] [ssl:debug] [pid 68656:tid =
4409266176] ssl_engine_kernel.c(1919): [client 127.0.0.1:63086] AH02043: =
SSL virtual host for servername localhost found
>>>> [Fri Jun 19 08:04:27.406885 2015] [ssl:info] [pid 68656:tid =
4409266176] [client 127.0.0.1:63086] AH02008: SSL library error 1 in =
handshake (server localhost:8531)
>>>> [Fri Jun 19 08:04:27.406935 2015] [ssl:info] [pid 68656:tid =
4409266176] SSL Library Error: error:14094415:SSL =
routines:ssl3_read_bytes:sslv3 alert certificate expired (SSL alert =
number 45)
>>>> [Fri Jun 19 08:04:27.406967 2015] [ssl:info] [pid 68656:tid =
4409266176] [client 127.0.0.1:63086] AH01998: Connection closed to child =
1 with abortive shutdown (server localhost:8531)
>>>> [Fri Jun 19 08:04:27.418033 2015] [ssl:info] [pid 68658:tid =
4408729600] [client 127.0.0.1:63087] AH01964: Connection to child 128 =
established (server localhost:8531)
>>>> [Fri Jun 19 08:04:27.418641 2015] [ssl:debug] [pid 68658:tid =
4408729600] ssl_engine_kernel.c(1947): [client 127.0.0.1:63087] AH02645: =
Server name not provided via TLS extension (using default/first virtual =
host)
>>>> [Fri Jun 19 08:04:27.420032 2015] [ssl:info] [pid 68658:tid =
4408729600] [client 127.0.0.1:63087] AH02008: SSL library error 1 in =
handshake (server localhost:8531)
>>>> [Fri Jun 19 08:04:27.420091 2015] [ssl:info] [pid 68658:tid =
4408729600] SSL Library Error: error:14094415:SSL =
routines:ssl3_read_bytes:sslv3 alert certificate expired (SSL alert =
number 45)
>>>> [Fri Jun 19 08:04:27.420111 2015] [ssl:info] [pid 68658:tid =
4408729600] [client 127.0.0.1:63087] AH01998: Connection closed to child =
128 with abortive shutdown (server localhost:8531)
>>>> [Fri Jun 19 08:04:27.431174 2015] [ssl:info] [pid 68656:tid =
4409802752] [client 127.0.0.1:63088] AH01964: Connection to child 2 =
established (server localhost:8531)
>>>> [Fri Jun 19 08:04:27.431301 2015] [ssl:info] [pid 68656:tid =
4409802752] [client 127.0.0.1:63088] AH02008: SSL library error 1 in =
handshake (server localhost:8531)
>>>> [Fri Jun 19 08:04:27.431333 2015] [ssl:info] [pid 68656:tid =
4409802752] SSL Library Error: error:140760FC:SSL =
routines:SSL23_GET_CLIENT_HELLO:unknown protocol -- speaking not SSL to =
HTTPS port!?
>>>> [Fri Jun 19 08:04:27.431342 2015] [ssl:info] [pid 68656:tid =
4409802752] [client 127.0.0.1:63088] AH01998: Connection closed to child =
2 with abortive shutdown (server localhost:8531)
>>>=20
>>>=20
>=20


From dev-return-83070-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 19 13:51:38 2015
Return-Path: <dev-return-83070-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 46AE0180DF
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 19 Jun 2015 13:51:38 +0000 (UTC)
Received: (qmail 24886 invoked by uid 500); 19 Jun 2015 13:51:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 24816 invoked by uid 500); 19 Jun 2015 13:51:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 24806 invoked by uid 99); 19 Jun 2015 13:51:37 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 13:51:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 691731A5C46
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 13:51:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id ib_8XD_4SVSb for <dev@httpd.apache.org>;
	Fri, 19 Jun 2015 13:51:36 +0000 (UTC)
Received: from mail-yh0-f49.google.com (mail-yh0-f49.google.com [209.85.213.49])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 95BA342B0E
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 13:51:36 +0000 (UTC)
Received: by yhak3 with SMTP id k3so78386852yha.2
        for <dev@httpd.apache.org>; Fri, 19 Jun 2015 06:51:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=RbDvqndZzSB+Viazz/84s5V13vO3npFnrGdRP+t5M+U=;
        b=dJlwz3oGy+CFNehMl8u68E/oi37q8eG/QmfWlSv2XlkbGuyKA2ALbFa5vQzymlITUw
         2//bxOE+0/lEq9QL3eujfsSrrE7Pi+3vTME6xzD67vV57Yxawu9XXTu3rXpeLMQQLrR+
         G9caPFdM7zWPB9EPh2AEpFaW0aWNC8yeRqUZohULqSbDVSruHIlhtEzP96bL1EzE2vV6
         t99ngoCE+tULkExZVTX5B7yC5NugB3jJxC0MpTB4ao/dT0lMDNxApLUZGI61pzuZO3px
         OhSuSzliNuRQuhBwNI2vtBbyxtBcpP1FryZhv4o7FbzHrqSrZiFR4quTEjZNQpNQfQg1
         i9fg==
MIME-Version: 1.0
X-Received: by 10.13.193.198 with SMTP id c189mr19015932ywd.122.1434721889869;
 Fri, 19 Jun 2015 06:51:29 -0700 (PDT)
Received: by 10.37.83.130 with HTTP; Fri, 19 Jun 2015 06:51:29 -0700 (PDT)
Date: Fri, 19 Jun 2015 09:51:29 -0400
Message-ID: <CALK=YjP4=Enkvm9yFhBLD=pvGMESu+1TBuNw_5U2Z5uu2JwU+w@mail.gmail.com>
Subject: option to block async write completion?
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

I have a proprietary module that uses a proprietary library. The
library needs an EOR cleanup that must run on the same thread as the
handler.  During async write completion it will often happen on the
wrong thread.

There's already a path for forcing a blocking write of a particular
bucket, so it is a one-liner to add a new condition.  But I am having
trouble deciding how to best flip this on -- add a new request_rec
field? Use a request note? Some kind of other way for a module to
influence the core output filter directly?

This is the neighborhood in core_filters.c:

511         if (APR_BUCKET_IS_FLUSH(bucket)
512             || non_file_bytes_in_brigade >= THRESHOLD_MAX_BUFFER
513             || morphing_bucket_in_brigade
514             || eor_buckets_in_brigade > MAX_REQUESTS_IN_PIPELINE) {
515             /* this segment of the brigade MUST be sent before returning. */
516
517             if (loglevel >= APLOG_TRACE6) {
518                 char *reason = APR_BUCKET_IS_FLUSH(bucket) ?
519                                "FLUSH bucket" :
520                                (non_file_bytes_in_brigade >=
THRESHOLD_MAX_BUFFER) ?

Thanks for any ideas.   I would default to adding a request_rec field,
but we have been bitten by just extending request_rec and that is not
really addressed yet so I am hesitant.  I don't know how expensive a
note lookup is, but it seems bad to do anything un-necesary per-bucet.

From dev-return-83071-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 19 13:54:26 2015
Return-Path: <dev-return-83071-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1FBAA180F4
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 19 Jun 2015 13:54:26 +0000 (UTC)
Received: (qmail 32978 invoked by uid 500); 19 Jun 2015 13:54:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32907 invoked by uid 500); 19 Jun 2015 13:54:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32895 invoked by uid 99); 19 Jun 2015 13:54:25 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 13:54:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 7397ACF025
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 13:54:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id wOUW0tx8MV1o for <dev@httpd.apache.org>;
	Fri, 19 Jun 2015 13:54:23 +0000 (UTC)
Received: from mail-yh0-f54.google.com (mail-yh0-f54.google.com [209.85.213.54])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 3218A20D7C
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 13:54:23 +0000 (UTC)
Received: by yhan67 with SMTP id n67so78452279yha.3
        for <dev@httpd.apache.org>; Fri, 19 Jun 2015 06:54:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        bh=L2ZmH4C4DD1z/sSBuR3zm2G62ULbQa+bdjjvkzK4VO0=;
        b=1EmxqmQ/v8i+c3bGZYZiZY+kMogkYeTlpiZX7mmvokGkKrdla/hirXLnAI/sWQACZe
         KVUXcVjGQzKNgKIzY7EX5nioDEIfDvg43Q7LdC2Hs7ARSAoaEOY4lvoesPWQpvVwxMd3
         m/04gGDC2yorMDlRrci+PaVpjPX4VbnWz7EVM+paRmP5IaYiue2uPQVDLEcpz0FD8TrF
         +AsQ0Ep01+6zHzvHIyb/vY0o3gF2LyaU9V+BG4BY1G15gQ79XHvS+WYJof9kqjakZ5lH
         /YxLBQP1CePBKn91CzYPgAfTUTAObYVjIR6nBXbfxbjiP4/uIYP661q6JcD5xzZyokF+
         rOag==
X-Received: by 10.13.211.197 with SMTP id v188mr18939994ywd.120.1434722055771;
        Fri, 19 Jun 2015 06:54:15 -0700 (PDT)
Received: from ?IPv6:2606:a000:b541:6700:c13f:ec64:f1fe:4f1c? ([2606:a000:b541:6700:c13f:ec64:f1fe:4f1c])
        by mx.google.com with ESMTPSA id t125sm8802518ywd.55.2015.06.19.06.54.15
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Fri, 19 Jun 2015 06:54:15 -0700 (PDT)
Message-ID: <55841F04.5030803@gmail.com>
Date: Fri, 19 Jun 2015 09:54:12 -0400
From: Jeff Trawick <trawick@gmail.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: option to block async write completion?
References: <CALK=YjP4=Enkvm9yFhBLD=pvGMESu+1TBuNw_5U2Z5uu2JwU+w@mail.gmail.com>
In-Reply-To: <CALK=YjP4=Enkvm9yFhBLD=pvGMESu+1TBuNw_5U2Z5uu2JwU+w@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

On 06/19/2015 09:51 AM, Eric Covener wrote:
> I have a proprietary module that uses a proprietary library. The
> library needs an EOR cleanup that must run on the same thread as the
> handler.  During async write completion it will often happen on the
> wrong thread.

Can ap_hook_{suspend_resume}_connection() allow you to remove that 
requirement?

>
> There's already a path for forcing a blocking write of a particular
> bucket, so it is a one-liner to add a new condition.  But I am having
> trouble deciding how to best flip this on -- add a new request_rec
> field? Use a request note? Some kind of other way for a module to
> influence the core output filter directly?
>
> This is the neighborhood in core_filters.c:
>
> 511         if (APR_BUCKET_IS_FLUSH(bucket)
> 512             || non_file_bytes_in_brigade >= THRESHOLD_MAX_BUFFER
> 513             || morphing_bucket_in_brigade
> 514             || eor_buckets_in_brigade > MAX_REQUESTS_IN_PIPELINE) {
> 515             /* this segment of the brigade MUST be sent before returning. */
> 516
> 517             if (loglevel >= APLOG_TRACE6) {
> 518                 char *reason = APR_BUCKET_IS_FLUSH(bucket) ?
> 519                                "FLUSH bucket" :
> 520                                (non_file_bytes_in_brigade >=
> THRESHOLD_MAX_BUFFER) ?
>
> Thanks for any ideas.   I would default to adding a request_rec field,
> but we have been bitten by just extending request_rec and that is not
> really addressed yet so I am hesitant.  I don't know how expensive a
> note lookup is, but it seems bad to do anything un-necesary per-bucet.


From dev-return-83072-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 19 13:54:59 2015
Return-Path: <dev-return-83072-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0C0D6180F9
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 19 Jun 2015 13:54:59 +0000 (UTC)
Received: (qmail 34374 invoked by uid 500); 19 Jun 2015 13:54:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 34301 invoked by uid 500); 19 Jun 2015 13:54:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 34291 invoked by uid 99); 19 Jun 2015 13:54:58 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 13:54:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 2308D1A5D6D
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 13:54:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.209
X-Spam-Level:
X-Spam-Status: No, score=-1.209 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id NOFfXOT-bmO1 for <dev@httpd.apache.org>;
	Fri, 19 Jun 2015 13:54:57 +0000 (UTC)
Received: from mail-yh0-f47.google.com (mail-yh0-f47.google.com [209.85.213.47])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id E0D5B20F3F
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 13:54:56 +0000 (UTC)
Received: by yhnv31 with SMTP id v31so52620962yhn.1
        for <dev@httpd.apache.org>; Fri, 19 Jun 2015 06:54:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        bh=hu2a1C6pNQSSVb87+PwE7JljEX8dwRBuuI0Z8/VePOs=;
        b=bpHqUWa3J+iq9OIzLDK596rPp9YtfY/KijhVSIwU8YYZQ9TBWtAMCliAtwqYSY6eiz
         rnCV5O9vazMOdYPiac/d1De8tq7mnjdFnab9iKc8EzquNwlei+rFkeoLD1qj3jCoIr5w
         CH+rghFi17h5gtKgU5rlln/eMwL93j+rqM1o+/BqTkojouu/XDXd8wad4tByuTYF6K6q
         t9G/sFhQvmRGExtnH/RYBgiBQv9VMLJLkWNdwcbpXYG61V4oc3BMaius6HNGAb+3AOer
         8y35yt7Ynu3LI07zrY8uLtcfomZX9f8JRQ3S15C6CqXOJbv+p2PAL2J2A13a/MBui+6f
         04FA==
X-Received: by 10.170.131.141 with SMTP id x135mr4163103ykb.118.1434722090245;
        Fri, 19 Jun 2015 06:54:50 -0700 (PDT)
Received: from ?IPv6:2606:a000:b541:6700:c13f:ec64:f1fe:4f1c? ([2606:a000:b541:6700:c13f:ec64:f1fe:4f1c])
        by mx.google.com with ESMTPSA id d74sm8804656ywb.6.2015.06.19.06.54.49
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Fri, 19 Jun 2015 06:54:50 -0700 (PDT)
Message-ID: <55841F27.6070502@gmail.com>
Date: Fri, 19 Jun 2015 09:54:47 -0400
From: Jeff Trawick <trawick@gmail.com>
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: option to block async write completion?
References: <CALK=YjP4=Enkvm9yFhBLD=pvGMESu+1TBuNw_5U2Z5uu2JwU+w@mail.gmail.com> <55841F04.5030803@gmail.com>
In-Reply-To: <55841F04.5030803@gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

On 06/19/2015 09:54 AM, Jeff Trawick wrote:
> On 06/19/2015 09:51 AM, Eric Covener wrote:
>> I have a proprietary module that uses a proprietary library. The
>> library needs an EOR cleanup that must run on the same thread as the
>> handler.  During async write completion it will often happen on the
>> wrong thread.
>
> Can ap_hook_{suspend_resume}_connection() allow you to remove that 
> requirement?
"{suspend|resume}"


From dev-return-83073-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 19 13:56:10 2015
Return-Path: <dev-return-83073-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7E9A218109
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 19 Jun 2015 13:56:10 +0000 (UTC)
Received: (qmail 38793 invoked by uid 500); 19 Jun 2015 13:56:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38716 invoked by uid 500); 19 Jun 2015 13:56:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38706 invoked by uid 99); 19 Jun 2015 13:56:09 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 13:56:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 87229CF026
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 13:56:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 7aggX0aAMy5G for <dev@httpd.apache.org>;
	Fri, 19 Jun 2015 13:56:09 +0000 (UTC)
Received: from mail-yh0-f45.google.com (mail-yh0-f45.google.com [209.85.213.45])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 4BE2F20D7C
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 13:56:08 +0000 (UTC)
Received: by yhak3 with SMTP id k3so78477737yha.2
        for <dev@httpd.apache.org>; Fri, 19 Jun 2015 06:56:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=tIY/g28n20hBRQ21KFOnnYcvr8+itaKRI4/+cuHSL3M=;
        b=mpaCumOGbRDeuevvMJfsDlODdX5z9YUKqiBCsfT/hv/Au0ue03FGseBZsYCmunDnj/
         j2Ej4HrhWzR2bkOBV76NWX8OD0TBjhjmEPm5zAMk94x9NEd30AeUgBAHICl0qXYzLdy4
         AoHH8z1/Cdlz02PG1dQt+uQrD4gGdW8P1okSNEPSxXqPvSJsc66rGo/ph7sOu1N0whm9
         aSBtU5i1pGbIfzUOJT2/e+pXgdeybCC250/b6BAo4Tlzd7O7LmPP4SkK6khh1NafJCXr
         3gz5Au29D7rgCzUq9A5BkjZsdc/+iRBy7yytkv7bHAN0BDR9onYOImb/7RaDbhWsuC7W
         FQvg==
MIME-Version: 1.0
X-Received: by 10.129.148.4 with SMTP id l4mr20532627ywg.142.1434722167463;
 Fri, 19 Jun 2015 06:56:07 -0700 (PDT)
Received: by 10.37.83.130 with HTTP; Fri, 19 Jun 2015 06:56:07 -0700 (PDT)
In-Reply-To: <55841F04.5030803@gmail.com>
References: <CALK=YjP4=Enkvm9yFhBLD=pvGMESu+1TBuNw_5U2Z5uu2JwU+w@mail.gmail.com>
	<55841F04.5030803@gmail.com>
Date: Fri, 19 Jun 2015 09:56:07 -0400
Message-ID: <CALK=YjPh4vdLuoriL0bw_oak=n+11QkBi5X7UOZWkxawA=hz1g@mail.gmail.com>
Subject: Re: option to block async write completion?
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Jun 19, 2015 at 9:54 AM, Jeff Trawick <trawick@gmail.com> wrote:
> Can ap_hook_{suspend_resume}_connection() allow you to remove that
> requirement?

I don't think so -- at least not easily.  It's effectively fopen() and
close() for a special kind of file (that's being served)

From dev-return-83074-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 19 14:02:37 2015
Return-Path: <dev-return-83074-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 372771814F
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 19 Jun 2015 14:02:37 +0000 (UTC)
Received: (qmail 69772 invoked by uid 500); 19 Jun 2015 14:02:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 69703 invoked by uid 500); 19 Jun 2015 14:02:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 69693 invoked by uid 99); 19 Jun 2015 14:02:36 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 14:02:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id CB941CF028
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 14:02:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 5yM2bUFNZXKM for <dev@httpd.apache.org>;
	Fri, 19 Jun 2015 14:02:35 +0000 (UTC)
Received: from mail-ig0-f169.google.com (mail-ig0-f169.google.com [209.85.213.169])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 3339A249EA
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 14:02:35 +0000 (UTC)
Received: by igbiq7 with SMTP id iq7so14806393igb.1
        for <dev@httpd.apache.org>; Fri, 19 Jun 2015 07:02:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=bFWcFbApFWacuUwZ3b2IpwKpHqq8/zUW+EY7S488oTY=;
        b=ZqnZVRfs+rjvn4U7u6s4iqBEwu2PklRDi/eiAIXgCWhGs8uVeSn9Ewzx2lmy3/6JBn
         YcVbwC51ViQOUsmHBQiqCtFI49XzoAqWXGpvgCw7IovFliEO3g70v8X45hvAonoHxC7Q
         /9wy7ES0ICA5RrYBJRwuKSR6jW1H3s3yd1yPeDnp5C3KfncDmzAnO1s6M1vPqKA9JwcF
         EaHBq/oBxnaa72SXoF0xljOlbIzyF6WnGLUhBcu2lq0qNRl0GC50EYHN2c61vmmJH1TW
         ztfYCuabbwXe+VSHegmtqeyCJ8WUiMoFpjyun22ZPmh5aEJ1X53sFfuBjWih40yEHHtx
         ltFw==
MIME-Version: 1.0
X-Received: by 10.107.46.226 with SMTP id u95mr21512399iou.68.1434722548726;
 Fri, 19 Jun 2015 07:02:28 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Fri, 19 Jun 2015 07:02:28 -0700 (PDT)
In-Reply-To: <CALK=YjP4=Enkvm9yFhBLD=pvGMESu+1TBuNw_5U2Z5uu2JwU+w@mail.gmail.com>
References: <CALK=YjP4=Enkvm9yFhBLD=pvGMESu+1TBuNw_5U2Z5uu2JwU+w@mail.gmail.com>
Date: Fri, 19 Jun 2015 16:02:28 +0200
Message-ID: <CAKQ1sVNBNvY8hbtnLL+7NJoH7efzsDnxj1_WSm4i=tQPwLMH7A@mail.gmail.com>
Subject: Re: option to block async write completion?
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Jun 19, 2015 at 3:51 PM, Eric Covener <covener@gmail.com> wrote:
>
> Thanks for any ideas.

Maybe make MAX_REQUESTS_IN_PIPELINE configurable and use 1 in your case?

From dev-return-83075-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 19 14:03:26 2015
Return-Path: <dev-return-83075-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 843EC1815E
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 19 Jun 2015 14:03:26 +0000 (UTC)
Received: (qmail 71232 invoked by uid 500); 19 Jun 2015 14:03:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 71175 invoked by uid 500); 19 Jun 2015 14:03:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 71159 invoked by uid 99); 19 Jun 2015 14:03:26 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 14:03:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 9A0071A5BFA
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 14:03:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.209
X-Spam-Level:
X-Spam-Status: No, score=-1.209 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id dP4aIERpFqY8 for <dev@httpd.apache.org>;
	Fri, 19 Jun 2015 14:03:25 +0000 (UTC)
Received: from mail-yk0-f175.google.com (mail-yk0-f175.google.com [209.85.160.175])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id DE54224971
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 14:03:24 +0000 (UTC)
Received: by ykar6 with SMTP id r6so92361358yka.2
        for <dev@httpd.apache.org>; Fri, 19 Jun 2015 07:03:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=k9USj94fWZlqQz6fbtIrojLbSJ9wk8viOC3HBtE8Fgk=;
        b=Gr4DLypAQ2pM/Tt0At6/pEEQKgR7G0gea80R7teraBOn/THak6wompk0glNoHYk+qa
         WAeDZLkwKZ8d7ht02pGyrJGewQ/nr8u6aMAbrJ/RQvXAcAG1hTyIMrVZIzpFPMyAFn9g
         lJFDdxVTMPMLN1ia5DBNc+uC6t+1FsKDT5Srq2tBXsNpfQWXp/y83uVvvoFEITVx7tf5
         3Zy88zK8hg2Lqtj9jng8tz77vKhFy9gcdcS45mGlhsY2dOy+WcqI/wqBOSa1yr863qEU
         ByQgj0dpBYR6jMIs406cBmBYSQ8GakdzBI2ANHTfqFKTKCdwXuNBPH0YEoWQBWQKTGEi
         +4KQ==
MIME-Version: 1.0
X-Received: by 10.170.36.131 with SMTP id 125mr20093229yke.1.1434722604182;
 Fri, 19 Jun 2015 07:03:24 -0700 (PDT)
Received: by 10.37.83.130 with HTTP; Fri, 19 Jun 2015 07:03:24 -0700 (PDT)
In-Reply-To: <CAKQ1sVNBNvY8hbtnLL+7NJoH7efzsDnxj1_WSm4i=tQPwLMH7A@mail.gmail.com>
References: <CALK=YjP4=Enkvm9yFhBLD=pvGMESu+1TBuNw_5U2Z5uu2JwU+w@mail.gmail.com>
	<CAKQ1sVNBNvY8hbtnLL+7NJoH7efzsDnxj1_WSm4i=tQPwLMH7A@mail.gmail.com>
Date: Fri, 19 Jun 2015 10:03:24 -0400
Message-ID: <CALK=YjO06+fZ+2bW6YO1c-PVfDko1e=yLxYbfrjVxm3ieabaeQ@mail.gmail.com>
Subject: Re: option to block async write completion?
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Jun 19, 2015 at 10:02 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> Maybe make MAX_REQUESTS_IN_PIPELINE configurable and use 1 in your case?

that's interesting, will check it out.

From dev-return-83076-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 19 14:51:29 2015
Return-Path: <dev-return-83076-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8DDD3182EC
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 19 Jun 2015 14:51:29 +0000 (UTC)
Received: (qmail 508 invoked by uid 500); 19 Jun 2015 14:51:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 445 invoked by uid 500); 19 Jun 2015 14:51:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 430 invoked by uid 99); 19 Jun 2015 14:51:28 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 14:51:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 639751A5D97
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 14:51:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.788
X-Spam-Level:
X-Spam-Status: No, score=0.788 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id X_u1hytcrzB9 for <dev@httpd.apache.org>;
	Fri, 19 Jun 2015 14:51:26 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 82F6D42B0E
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 14:51:26 +0000 (UTC)
Received: from int-mx11.intmail.prod.int.phx2.redhat.com (int-mx11.intmail.prod.int.phx2.redhat.com [10.5.11.24])
	by mx1.redhat.com (Postfix) with ESMTPS id EC85B2F6689
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 14:51:18 +0000 (UTC)
Received: from ditustat.brq.redhat.com (ditustat.brq.redhat.com [10.34.131.181])
	by int-mx11.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t5JEpGFJ019566
	(version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 10:51:18 -0400
Received: from adelton by ditustat.brq.redhat.com with local (Exim 4.85)
	(envelope-from <jpazdziora@redhat.com>)
	id 1Z5xdU-0004Yg-DA
	for dev@httpd.apache.org; Fri, 19 Jun 2015 16:51:16 +0200
Date: Fri, 19 Jun 2015 16:51:16 +0200
From: Jan Pazdziora <jpazdziora@redhat.com>
To: dev@httpd.apache.org
Subject: Re: Using UPN from subjectAltName with SSLUserName
Message-ID: <20150619145116.GK18173@redhat.com>
References: <20150618094946.GU18173@redhat.com>
 <CAKQ1sVPVuX7ntRt=XjSJ6Og1-gYxjkHv_N2aSNy6wR62XJ_gGw@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="CUfgB8w4ZwR/yMy5"
Content-Disposition: inline
In-Reply-To: <CAKQ1sVPVuX7ntRt=XjSJ6Og1-gYxjkHv_N2aSNy6wR62XJ_gGw@mail.gmail.com>
Organization: Red Hat Czech s.r.o., =?iso-8859-2?Q?Purky?=
 =?iso-8859-2?Q?=F2ova_99=2F71=2C_612_45_Brno=2C_Czech_Republic=3B_registe?=
 =?iso-8859-2?Q?red?= in Brno under identification number CZ27690016
User-Agent: Mutt/1.5.23 (2014-03-12)
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.24


--CUfgB8w4ZwR/yMy5
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

On Thu, Jun 18, 2015 at 12:22:21PM +0200, Yann Ylavic wrote:
> On Thu, Jun 18, 2015 at 11:49 AM, Jan Pazdziora <jpazdziora@redhat.com> wrote:
> >
> > I'd appreciate any comments about suitability of such change, as well
> > as the implementation. Specifically, I'm not sure if people will
> > prefer the generic and currently proposed
> >
> >         SSL_CLIENT_SAN_otherName_n
> >
> > which gets any value of otherName type, or perhaps going with
> >
> >         SSL_CLIENT_SAN_UPN_n
> >
> > and checking the OID just for the UPNs. Based on that decision I plan
> > to then respin the patch with documentation changes included.
> 
> I think a more generic way would to have something like
> SSL_CLIENT_OID_<oid>_n, so that we wouldn't have to add a new field
> each time.
> In this case, that would be: SSL_CLIENT_OID_1.3.6.1.4.1.311.20.2.3_n.

Please find attached a patch which makes it possible to use

	SSL_CLIENT_SAN_otherName_1.3.6.1.4.1.311.20.2.3_0

or

	SSL_CLIENT_SAN_otherName_0

In the first case we use OBJ_create to create the object and then
compare its nid to OBJ_obj2nid result. In the second form we ignore
the OID.

I went with the SAN_otherName rather than OID to make it clear where
we get the value from. Of course, of you think that
SSL_CLIENT_OID_1.3.6.1.4.1.311.20.2.3_n better and the correct place
to look for it is always in name->d.otherName, it should be easy to
change the name.

-- 
Jan Pazdziora
Senior Principal Software Engineer, Identity Management Engineering, Red Hat

--CUfgB8w4ZwR/yMy5
Content-Type: text/plain; charset=us-ascii
Content-Disposition: attachment; filename="bz-32806.patch2"

Index: modules/ssl/ssl_engine_vars.c
===================================================================
--- modules/ssl/ssl_engine_vars.c	(revision 1686420)
+++ modules/ssl/ssl_engine_vars.c	(working copy)
@@ -663,8 +663,9 @@
 
 static char *ssl_var_lookup_ssl_cert_san(apr_pool_t *p, X509 *xs, char *var)
 {
-    int type, numlen;
+    int type, numlen, nid = NID_undef;
     apr_array_header_t *entries;
+    char *ptr;
 
     if (strcEQn(var, "Email_", 6)) {
         type = GEN_EMAIL;
@@ -674,6 +675,17 @@
         type = GEN_DNS;
         var += 4;
     }
+    else if (strcEQn(var, "otherName_", 10)) {
+        type = GEN_OTHERNAME;
+        var += 10;
+        ptr = strchr(var, '_');
+        if (ptr) {
+            char *oid_str;
+            oid_str = apr_pstrndup(p, var, (ptr - var));
+            nid = OBJ_create(oid_str, NULL, NULL);
+            var = ptr + 1;
+        }
+    }
     else
         return NULL;
 
@@ -682,7 +694,7 @@
     if ((numlen < 1) || (numlen > 4) || (numlen != strlen(var)))
         return NULL;
 
-    if (modssl_X509_getSAN(p, xs, type, atoi(var), &entries))
+    if (modssl_X509_getSAN(p, xs, type, nid, atoi(var), &entries))
        /* return the first entry from this 1-element array */
        return APR_ARRAY_IDX(entries, 0, char *);
     else
@@ -1032,10 +1044,10 @@
     /* subjectAltName entries of the server certificate */
     xs = SSL_get_certificate(ssl);
     if (xs) {
-        if (modssl_X509_getSAN(p, xs, GEN_EMAIL, -1, &entries)) {
+        if (modssl_X509_getSAN(p, xs, GEN_EMAIL, NID_undef, -1, &entries)) {
             extract_san_array(t, "SSL_SERVER_SAN_Email", entries, p);
         }
-        if (modssl_X509_getSAN(p, xs, GEN_DNS, -1, &entries)) {
+        if (modssl_X509_getSAN(p, xs, GEN_DNS, NID_undef, -1, &entries)) {
             extract_san_array(t, "SSL_SERVER_SAN_DNS", entries, p);
         }
         /* no need to free xs (refcount does not increase) */
@@ -1044,10 +1056,10 @@
     /* subjectAltName entries of the client certificate */
     xs = SSL_get_peer_certificate(ssl);
     if (xs) {
-        if (modssl_X509_getSAN(p, xs, GEN_EMAIL, -1, &entries)) {
+        if (modssl_X509_getSAN(p, xs, GEN_EMAIL, NID_undef, -1, &entries)) {
             extract_san_array(t, "SSL_CLIENT_SAN_Email", entries, p);
         }
-        if (modssl_X509_getSAN(p, xs, GEN_DNS, -1, &entries)) {
+        if (modssl_X509_getSAN(p, xs, GEN_DNS, NID_undef, -1, &entries)) {
             extract_san_array(t, "SSL_CLIENT_SAN_DNS", entries, p);
         }
         X509_free(xs);
Index: modules/ssl/ssl_util_ssl.c
===================================================================
--- modules/ssl/ssl_util_ssl.c	(revision 1686420)
+++ modules/ssl/ssl_util_ssl.c	(working copy)
@@ -258,8 +258,9 @@
  * of the n-th occurrence of that type only. Currently supported types:
  * GEN_EMAIL (rfc822Name)
  * GEN_DNS (dNSName)
+ * GEN_OTHERNAME (otherName)
  */
-BOOL modssl_X509_getSAN(apr_pool_t *p, X509 *x509, int type, int idx,
+BOOL modssl_X509_getSAN(apr_pool_t *p, X509 *x509, int type, int nid, int idx,
                         apr_array_header_t **entries)
 {
     STACK_OF(GENERAL_NAME) *names;
@@ -287,10 +288,19 @@
                             APR_ARRAY_PUSH(*entries, const char *) = utf8str;
                         }
                         break;
+                    case GEN_OTHERNAME:
+                        if (name->d.otherName && name->d.otherName->value
+                            && (nid == NID_undef
+                                || nid == OBJ_obj2nid(name->d.otherName->type_id))) {
+                            utf8str = asn1_string_to_utf8(p, name->d.otherName->value->value.asn1_string);
+                            if (utf8str) {
+                                APR_ARRAY_PUSH(*entries, const char *) = utf8str;
+                            }
+                        }
+                        break;
                     default:
                         /*
                          * Not implemented right now:
-                         * GEN_OTHERNAME (otherName)
                          * GEN_X400 (x400Address)
                          * GEN_DIRNAME (directoryName)
                          * GEN_EDIPARTY (ediPartyName)
@@ -320,7 +330,7 @@
 
     /* First, the DNS-IDs (dNSName entries in the subjectAltName extension) */
     if (!x509 ||
-        (modssl_X509_getSAN(p, x509, GEN_DNS, -1, ids) == FALSE && !*ids)) {
+        (modssl_X509_getSAN(p, x509, GEN_DNS, NID_undef, -1, ids) == FALSE && !*ids)) {
         *ids = NULL;
         return FALSE;
     }
Index: modules/ssl/ssl_util_ssl.h
===================================================================
--- modules/ssl/ssl_util_ssl.h	(revision 1686420)
+++ modules/ssl/ssl_util_ssl.h	(working copy)
@@ -65,7 +65,7 @@
 BOOL        modssl_X509_getBC(X509 *, int *, int *);
 char       *modssl_X509_NAME_ENTRY_to_string(apr_pool_t *p, X509_NAME_ENTRY *xsne);
 char       *modssl_X509_NAME_to_string(apr_pool_t *, X509_NAME *, int);
-BOOL        modssl_X509_getSAN(apr_pool_t *, X509 *, int, int, apr_array_header_t **);
+BOOL        modssl_X509_getSAN(apr_pool_t *, X509 *, int, int, int, apr_array_header_t **);
 BOOL        modssl_X509_match_name(apr_pool_t *, X509 *, const char *, BOOL, server_rec *);
 char       *modssl_SSL_SESSION_id2sz(unsigned char *, int, char *, int);
 

--CUfgB8w4ZwR/yMy5--

From dev-return-83077-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 19 16:43:19 2015
Return-Path: <dev-return-83077-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 170F21875D
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 19 Jun 2015 16:43:19 +0000 (UTC)
Received: (qmail 86677 invoked by uid 500); 19 Jun 2015 16:43:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86608 invoked by uid 500); 19 Jun 2015 16:43:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86598 invoked by uid 99); 19 Jun 2015 16:43:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 16:43:18 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of wrowe@rowe-clan.net designates 209.85.213.178 as permitted sender)
Received: from [209.85.213.178] (HELO mail-ig0-f178.google.com) (209.85.213.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 16:41:03 +0000
Received: by igblz2 with SMTP id lz2so16959567igb.1
        for <dev@httpd.apache.org>; Fri, 19 Jun 2015 09:42:50 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=hJDThOHL2zmXlPUlzUFzxcGRSq9E+QkhiLCWk4vfioE=;
        b=Vde+zQBMi4iKZw1RXpivcuhyQBGg2HXYjvOZ58FEG4S8P16q+JeE7CZGBKiE2zwLmq
         emmGYgmgcwcXsi+z/lXPo3Yo6nxaFq3vHFclCrq7R6Omffe1VFpaCdNv3l/9FBLr0wHK
         iV4ybufadrtv8/mYLsLLqv9TegAlEkHKrCnnKEp1r7rX1iQVyqTX/HqGJd6Shf/Nhxgp
         LVEh8KoPkE3ChxNvDnqCkl65qDkHZ3zDcAI3myHoJnQZbBtSKsKNkGVNd4VTq+aOqCNh
         OQ8DP/t48OG42z3rIVD2N1HsC4P6c3+MAQQIncZgp6/xaQZPJcGJw8SSC0hJ9Z2qjKi1
         CZ7A==
X-Gm-Message-State: ALoCoQmtrJwjI492ToOxK9APF9DuWryafUq6VWQF3yhW6K9MaaedYcPCgEuoHMWIe/KrCsFXlHCW
MIME-Version: 1.0
X-Received: by 10.107.152.14 with SMTP id a14mr22714644ioe.92.1434732170806;
 Fri, 19 Jun 2015 09:42:50 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Fri, 19 Jun 2015 09:42:50 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
Received: by 10.107.190.195 with HTTP; Fri, 19 Jun 2015 09:42:50 -0700 (PDT)
Date: Fri, 19 Jun 2015 11:42:50 -0500
Message-ID: <CACsi251-+6G3SNLPyEx9gfd0smvy2rx=pi5USXD5ESJWH6ihng@mail.gmail.com>
Subject: Last call... STATUS needing one sec fix vote [was Re: Roll 2.2.30]
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11409f1863a5dc0518e19d81
X-Virus-Checked: Checked by ClamAV on apache.org

--001a11409f1863a5dc0518e19d81
Content-Type: text/plain; charset=UTF-8

On Jun 18, 2015 1:45 PM, "William A Rowe Jr" <wrowe@rowe-clan.net> wrote:
>
> On Jun 11, 2015 8:22 AM, "Eric Covener" <covener@gmail.com> wrote:
> >
> > On Thu, Jun 11, 2015 at 9:08 AM William A Rowe Jr <wrowe@rowe-clan.net>
wrote:
> >>
> >> But withholding a security fix for legacy server users?  Sounds like a
way to earn distrust of the user community, not reassure them that 2.4.14
is the best version available.
> >
> > +1
>
> The 2.2 patches are in alignment with the resolved 2.4 security patches
plus relaxed trailing spaces rule. Yann and I have reviewed, still weeks
later 2.2.30 needs one more pair of eyeballs and a third +1 of the 2
patches.
>
> I can T&R in the morning Friday if it has been reviewed, else it will be
a while before I can RM.

If there is a vote in the next 90 minutes, I'll proceed, otherwise I can
proceed sometime next week after missing +1 is cast.

--001a11409f1863a5dc0518e19d81
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr"><br>
On Jun 18, 2015 1:45 PM, &quot;William A Rowe Jr&quot; &lt;<a href=3D"mailt=
o:wrowe@rowe-clan.net">wrowe@rowe-clan.net</a>&gt; wrote:<br>
&gt;<br>
&gt; On Jun 11, 2015 8:22 AM, &quot;Eric Covener&quot; &lt;<a href=3D"mailt=
o:covener@gmail.com">covener@gmail.com</a>&gt; wrote:<br>
&gt; &gt;<br>
&gt; &gt; On Thu, Jun 11, 2015 at 9:08 AM William A Rowe Jr &lt;<a href=3D"=
mailto:wrowe@rowe-clan.net">wrowe@rowe-clan.net</a>&gt; wrote:<br>
&gt; &gt;&gt;<br>
&gt; &gt;&gt; But withholding a security fix for legacy server users?=C2=A0=
 Sounds like a way to earn distrust of the user community, not reassure the=
m that 2.4.14 is the best version available.<br>
&gt; &gt;<br>
&gt; &gt; +1<br>
&gt;<br>
&gt; The 2.2 patches are in alignment with the resolved 2.4 security patche=
s plus relaxed trailing spaces rule. Yann and I have reviewed, still weeks =
later 2.2.30 needs one more pair of eyeballs and a third +1 of the 2 patche=
s.<br>
&gt;<br>
&gt; I can T&amp;R in the morning Friday if it has been reviewed, else it w=
ill be a while before I can RM.</p>
<p dir=3D"ltr">If there is a vote in the next 90 minutes, I&#39;ll proceed,=
 otherwise I can proceed sometime next week after missing +1 is cast.</p>

--001a11409f1863a5dc0518e19d81--

From dev-return-83078-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 19 16:50:29 2015
Return-Path: <dev-return-83078-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 89525187AF
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 19 Jun 2015 16:50:29 +0000 (UTC)
Received: (qmail 98561 invoked by uid 500); 19 Jun 2015 16:50:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 98492 invoked by uid 500); 19 Jun 2015 16:50:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 98482 invoked by uid 99); 19 Jun 2015 16:50:28 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 16:50:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 745AFCF06C
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 16:50:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id GJJ6v_2ZcXbv for <dev@httpd.apache.org>;
	Fri, 19 Jun 2015 16:50:21 +0000 (UTC)
Received: from resqmta-ch2-03v.sys.comcast.net (resqmta-ch2-03v.sys.comcast.net [69.252.207.35])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 20C7720F3F
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 16:50:21 +0000 (UTC)
Received: from resomta-ch2-19v.sys.comcast.net ([69.252.207.115])
	by resqmta-ch2-03v.sys.comcast.net with comcast
	id iGom1q0032VvR6D01GqDLS; Fri, 19 Jun 2015 16:50:13 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-19v.sys.comcast.net with comcast
	id iGqC1q00T2U0RYt01GqDD8; Fri, 19 Jun 2015 16:50:13 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: [VOTE] Release Apache httpd 2.4.15 as GA
Message-Id: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
Date: Fri, 19 Jun 2015 12:50:12 -0400
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1434732613;
	bh=9Lcmp4t7c4M7ofjHxqnhr9qCD0fzAEHh1xU2UXp3R/Y=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=Lr5xoutjHHer5vO9OTbeebptelFewgkbsXpDlH5xRYRclohHFebAImo+sLNB4+Dlo
	 2UOYJfARyo37V+VoehlDqGOmFpaf7UX+NZYqUNXD7PiSKm0Ml3h05anjbepsnw6CDz
	 YW/Zyb4A/gczKJbEodXonemvfPHfaozKk4ATNq8MSFOV+DksiaBUi5D6B8vvlH1S/3
	 C7MedHnDPKSUUH1GkPK1eZibBBQJ576RO+0br1ZwENoxUdSeI5QaKWsMsTPSCjp/td
	 xeAQRRnpGASBW5vK4JnahCcIcrlGNf4fGIOJfW+pMMEsld4XvDFreGL4U2ItIOtf+Y
	 fKfWIf87Vm1FA==

The pre-release test tarballs for Apache httpd 2.4.15 can be found
at the usual place:

	http://httpd.apache.org/dev/dist/

I'm calling a VOTE on releasing these as Apache httpd 2.4.15 GA.

[ ] +1: Good to go
[ ] +0: meh
[ ] -1: Danger Will Robinson. And why.

Vote will last the normal 72 hrs.

NOTE: The *-deps are only there for convenience.

Thx!

PS: Hopefully, 3rd time's the charm!

From dev-return-83079-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 19 20:42:07 2015
Return-Path: <dev-return-83079-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7F78C184FE
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 19 Jun 2015 20:42:07 +0000 (UTC)
Received: (qmail 23113 invoked by uid 500); 19 Jun 2015 20:42:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23044 invoked by uid 500); 19 Jun 2015 20:42:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23034 invoked by uid 99); 19 Jun 2015 20:42:06 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 19 Jun 2015 20:42:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 512AE18019D
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 20:42:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 7uQtDzC2NMii for <dev@httpd.apache.org>;
	Fri, 19 Jun 2015 20:42:00 +0000 (UTC)
Received: from mail-yh0-f49.google.com (mail-yh0-f49.google.com [209.85.213.49])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id D32A743D92
	for <dev@httpd.apache.org>; Fri, 19 Jun 2015 20:41:59 +0000 (UTC)
Received: by yhan67 with SMTP id n67so84970330yha.3
        for <dev@httpd.apache.org>; Fri, 19 Jun 2015 13:41:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=ICHAoIQtWPU3eaRIiqFq2JAstjllnFlQv//GDloKC7s=;
        b=w6so/ALfXvYKcdfAMKZ+c+xjDqFWh3BsdIIu8sShROh0DXwXQawpVYT66auqDpwR8+
         rsv4rBuC3G1GJFxpkbuh2ZmRAx3hwVsQmW5tbkxFE0hoENnbln3ukNmgH/zC2NPT+5R2
         A8TSadpnXVTAndzxkQbgnfBB6onfib4QrdJ5opBZy/FXDI0HTgHqLsoEI6MeWOm6Sl7z
         wDLSMGIEwNqMP5NB/sTUCZBT9W+dpyf0whxv8uNcfeFWS5bCrw1gJPM8df8Qo8bFnXja
         bJLdtjD+MQPKzEPXMXEvqh6tdb1pnCbp9vsQ6JypjkUNH+VGm2P/y9IwxiiuJoOK9x8J
         DHhg==
MIME-Version: 1.0
X-Received: by 10.129.34.135 with SMTP id i129mr20828428ywi.104.1434746519613;
 Fri, 19 Jun 2015 13:41:59 -0700 (PDT)
Received: by 10.37.83.130 with HTTP; Fri, 19 Jun 2015 13:41:59 -0700 (PDT)
In-Reply-To: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
Date: Fri, 19 Jun 2015 16:41:59 -0400
Message-ID: <CALK=YjMz=cPVwszmkFzKHB6LgwsticJH400pKjk4TbQ2YXfc6g@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Jun 19, 2015 at 12:50 PM, Jim Jagielski <jim@jagunet.com> wrote:
> [ ] +1: Good to go

+1 AIX/xlc/PPC64 100% pass

From dev-return-83080-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 20 12:01:46 2015
Return-Path: <dev-return-83080-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DD67217B01
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 20 Jun 2015 12:01:46 +0000 (UTC)
Received: (qmail 73348 invoked by uid 500); 20 Jun 2015 12:01:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 73278 invoked by uid 500); 20 Jun 2015 12:01:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 73268 invoked by uid 99); 20 Jun 2015 12:01:46 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 20 Jun 2015 12:01:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id AE4AACF225
	for <dev@httpd.apache.org>; Sat, 20 Jun 2015 12:01:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.381
X-Spam-Level: ***
X-Spam-Status: No, score=3.381 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, KAM_LAZY_DOMAIN_SECURITY=1,
	RCVD_IN_MSPIKE_H4=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	RP_MATCHES_RCVD=-0.599] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id bdaKnBGD67tu for <dev@httpd.apache.org>;
	Sat, 20 Jun 2015 12:01:45 +0000 (UTC)
Received: from mail-gw3-out.broadcom.com (mail-gw3-out.broadcom.com [216.31.210.64])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id DE47143DCE
	for <dev@httpd.apache.org>; Sat, 20 Jun 2015 12:01:44 +0000 (UTC)
X-IronPort-AV: E=Sophos;i="5.13,649,1427785200"; 
   d="scan'208,217";a="67815901"
Received: from irvexchcas07.broadcom.com (HELO IRVEXCHCAS07.corp.ad.broadcom.com) ([10.9.208.55])
  by mail-gw3-out.broadcom.com with ESMTP; 20 Jun 2015 05:14:52 -0700
Received: from IRVEXCHMB08.corp.ad.broadcom.com ([fe80::cc87:e982:573e:33e4])
 by IRVEXCHCAS07.corp.ad.broadcom.com ([::1]) with mapi id 14.03.0235.001;
 Sat, 20 Jun 2015 05:01:38 -0700
From: Marcos Camargo <mcamargo@broadcom.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: SSI for CGI output ...
Thread-Topic: SSI for CGI output ...
Thread-Index: AdCrUNu8sxx1YZA/SMarTdCLlwNrtw==
Date: Sat, 20 Jun 2015 12:01:36 +0000
Message-ID: <39748D56D2332F449801298DBB0A1127105013C5@IRVEXCHMB08.corp.ad.broadcom.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.9.208.64]
Content-Type: multipart/alternative;
	boundary="_000_39748D56D2332F449801298DBB0A1127105013C5IRVEXCHMB08corp_"
MIME-Version: 1.0

--_000_39748D56D2332F449801298DBB0A1127105013C5IRVEXCHMB08corp_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Is it possible to have SSI parse CGI output? I would like to include the he=
ader and footer using the include command available in SSI inside a CGI scr=
ipt. How do I do that? Do I have to specify a different Content-type?

Thanks,

Marc


--_000_39748D56D2332F449801298DBB0A1127105013C5IRVEXCHMB08corp_
Content-Type: text/html; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" xmlns=3D"http:=
//www.w3.org/TR/REC-html40">
<head>
<meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dus-ascii"=
>
<meta name=3D"Generator" content=3D"Microsoft Word 14 (filtered medium)">
<style><!--
/* Font Definitions */
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:"Calibri","sans-serif";
	color:windowtext;}
.MsoChpDefault
	{mso-style-type:export-only;
	font-family:"Calibri","sans-serif";}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext=3D"edit" spidmax=3D"1026" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext=3D"edit">
<o:idmap v:ext=3D"edit" data=3D"1" />
</o:shapelayout></xml><![endif]-->
</head>
<body lang=3D"EN-US" link=3D"blue" vlink=3D"purple">
<div class=3D"WordSection1">
<p class=3D"MsoNormal">Is it possible to have SSI parse CGI output? I would=
 like to include the header and footer using the include command available =
in SSI inside a CGI script. How do I do that? Do I have to specify a differ=
ent Content-type?<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">Thanks,<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal">Marc<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
</div>
</body>
</html>

--_000_39748D56D2332F449801298DBB0A1127105013C5IRVEXCHMB08corp_--

From dev-return-83081-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 20 12:51:14 2015
Return-Path: <dev-return-83081-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6903517C00
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 20 Jun 2015 12:51:14 +0000 (UTC)
Received: (qmail 34753 invoked by uid 500); 20 Jun 2015 12:51:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 34693 invoked by uid 500); 20 Jun 2015 12:51:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 34683 invoked by uid 99); 20 Jun 2015 12:51:13 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 20 Jun 2015 12:51:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 01AF71A5967
	for <dev@httpd.apache.org>; Sat, 20 Jun 2015 12:51:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.864
X-Spam-Level: ***
X-Spam-Status: No, score=3.864 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_LINKBAIT=2.5,
	RDNS_DYNAMIC=0.363, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id VILgZGUZFMKy for <dev@httpd.apache.org>;
	Sat, 20 Jun 2015 12:51:05 +0000 (UTC)
Received: from gungnir.webthing.com (209-20-83-52.slicehost.net [209.20.83.52])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 04CB324A28
	for <dev@httpd.apache.org>; Sat, 20 Jun 2015 12:51:04 +0000 (UTC)
Received: from baldur (cpc14-newt30-2-0-cust22.newt.cable.virginm.net [92.232.45.23])
	by gungnir.webthing.com (Postfix) with ESMTPSA id 2AFDF801F9
	for <dev@httpd.apache.org>; Sat, 20 Jun 2015 12:50:57 +0000 (UTC)
Date: Sat, 20 Jun 2015 13:50:51 +0100
From: Nick Kew <nick@webthing.com>
To: dev@httpd.apache.org
Subject: Re: SSI for CGI output ...
Message-ID: <20150620135051.4a9d2def@baldur>
In-Reply-To: <39748D56D2332F449801298DBB0A1127105013C5@IRVEXCHMB08.corp.ad.broadcom.com>
References: <39748D56D2332F449801298DBB0A1127105013C5@IRVEXCHMB08.corp.ad.broadcom.com>
X-Mailer: Claws Mail 3.7.4 (GTK+ 2.20.1; i486-pc-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

On Sat, 20 Jun 2015 12:01:36 +0000
Marcos Camargo <mcamargo@broadcom.com> wrote:

> Is it possible to have SSI parse CGI output? 

Yes.

If you want a longer answer, you'll have to explain what leads
you to suppose there might be a problem with it.  Unless you've
been reading tutorials for 1998 (or earlier) Apache releases?

-- 
Nick Kew

From dev-return-83082-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 20 15:45:30 2015
Return-Path: <dev-return-83082-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1BDA21805B
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 20 Jun 2015 15:45:30 +0000 (UTC)
Received: (qmail 85351 invoked by uid 500); 20 Jun 2015 15:45:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 85295 invoked by uid 500); 20 Jun 2015 15:45:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 85285 invoked by uid 99); 20 Jun 2015 15:45:29 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 20 Jun 2015 15:45:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C458A1A5971
	for <dev@httpd.apache.org>; Sat, 20 Jun 2015 15:45:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.991
X-Spam-Level:
X-Spam-Status: No, score=0.991 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, T_RP_MATCHES_RCVD=-0.01,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id BYWXRMotd2UI for <dev@httpd.apache.org>;
	Sat, 20 Jun 2015 15:45:23 +0000 (UTC)
Received: from mail-gw3-out.broadcom.com (mail-gw3-out.broadcom.com [216.31.210.64])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 36CBD43D92
	for <dev@httpd.apache.org>; Sat, 20 Jun 2015 15:45:23 +0000 (UTC)
X-IronPort-AV: E=Sophos;i="5.13,649,1427785200"; 
   d="scan'208";a="67826021"
Received: from irvexchcas05.broadcom.com (HELO IRVEXCHCAS05.corp.ad.broadcom.com) ([10.9.208.26])
  by mail-gw3-out.broadcom.com with ESMTP; 20 Jun 2015 08:58:37 -0700
Received: from IRVEXCHMB08.corp.ad.broadcom.com ([fe80::cc87:e982:573e:33e4])
 by IRVEXCHCAS05.corp.ad.broadcom.com ([::1]) with mapi id 14.03.0235.001;
 Sat, 20 Jun 2015 08:45:22 -0700
From: Marcos Camargo <mcamargo@broadcom.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: SSI for CGI output ...
Thread-Topic: SSI for CGI output ...
Thread-Index: AdCrUNu8sxx1YZA/SMarTdCLlwNrtwAQY1WAAAigojA=
Date: Sat, 20 Jun 2015 15:45:21 +0000
Message-ID: <39748D56D2332F449801298DBB0A1127105016CC@IRVEXCHMB08.corp.ad.broadcom.com>
References: <39748D56D2332F449801298DBB0A1127105013C5@IRVEXCHMB08.corp.ad.broadcom.com>
 <20150620135051.4a9d2def@baldur>
In-Reply-To: <20150620135051.4a9d2def@baldur>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.9.208.64]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

Nick,

Thanks for replying. I tried and I don't see the file included. I can't fin=
d any documentation on how to do it. My question is, if it is possible then=
 how do I do it?

Marc

-----Original Message-----
From: Nick Kew [mailto:nick@webthing.com]=20
Sent: Saturday, June 20, 2015 5:51 AM
To: dev@httpd.apache.org
Subject: Re: SSI for CGI output ...

On Sat, 20 Jun 2015 12:01:36 +0000
Marcos Camargo <mcamargo@broadcom.com> wrote:

> Is it possible to have SSI parse CGI output?=20

Yes.

If you want a longer answer, you'll have to explain what leads you to suppo=
se there might be a problem with it.  Unless you've been reading tutorials =
for 1998 (or earlier) Apache releases?

--
Nick Kew

From dev-return-83083-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 20 16:10:15 2015
Return-Path: <dev-return-83083-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A5C84180DE
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 20 Jun 2015 16:10:15 +0000 (UTC)
Received: (qmail 17682 invoked by uid 500); 20 Jun 2015 16:10:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 17626 invoked by uid 500); 20 Jun 2015 16:10:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 17616 invoked by uid 99); 20 Jun 2015 16:10:15 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 20 Jun 2015 16:10:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C32D1CF27B
	for <dev@httpd.apache.org>; Sat, 20 Jun 2015 16:10:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.382
X-Spam-Level:
X-Spam-Status: No, score=0.382 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_MSPIKE_H4=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RP_MATCHES_RCVD=-0.599, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id TO9fb7AP4YQ9 for <dev@httpd.apache.org>;
	Sat, 20 Jun 2015 16:10:10 +0000 (UTC)
Received: from mail-gw1-out.broadcom.com (mail-gw1-out.broadcom.com [216.31.210.62])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 4962024CEA
	for <dev@httpd.apache.org>; Sat, 20 Jun 2015 16:10:08 +0000 (UTC)
X-IronPort-AV: E=Sophos;i="5.13,649,1427785200"; 
   d="scan'208";a="68109093"
Received: from irvexchcas07.broadcom.com (HELO IRVEXCHCAS07.corp.ad.broadcom.com) ([10.9.208.55])
  by mail-gw1-out.broadcom.com with ESMTP; 20 Jun 2015 10:04:37 -0700
Received: from IRVEXCHMB08.corp.ad.broadcom.com ([fe80::cc87:e982:573e:33e4])
 by IRVEXCHCAS07.corp.ad.broadcom.com ([::1]) with mapi id 14.03.0235.001;
 Sat, 20 Jun 2015 09:10:01 -0700
From: Marcos Camargo <mcamargo@broadcom.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: SSI for CGI output ...
Thread-Topic: SSI for CGI output ...
Thread-Index: AdCrUNu8sxx1YZA/SMarTdCLlwNrtwAQY1WAAAigojAAEH6hoA==
Date: Sat, 20 Jun 2015 16:10:01 +0000
Message-ID: <39748D56D2332F449801298DBB0A112710501769@IRVEXCHMB08.corp.ad.broadcom.com>
References: <39748D56D2332F449801298DBB0A1127105013C5@IRVEXCHMB08.corp.ad.broadcom.com>
 <20150620135051.4a9d2def@baldur>
 <39748D56D2332F449801298DBB0A1127105016CC@IRVEXCHMB08.corp.ad.broadcom.com>
In-Reply-To: <39748D56D2332F449801298DBB0A1127105016CC@IRVEXCHMB08.corp.ad.broadcom.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.9.208.64]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

I am not seeing the file being included in my webpage. This is what I have =
as far as code and setup

This is my content type:
Content-type: text/html

This is the code in perl script:
       print qq(<!--#include virtual=3D"logo.inc" -->\n);

This is my .htacess
Options +Includes
XBitHack on

I could not find any documentation on how to do SSI in CGI output.

Thanks,

Marc

-----Original Message-----
From: Marcos Camargo [mailto:mcamargo@broadcom.com]=20
Sent: Saturday, June 20, 2015 8:45 AM
To: dev@httpd.apache.org
Subject: RE: SSI for CGI output ...

Nick,

Thanks for replying. I tried and I don't see the file included. I can't fin=
d any documentation on how to do it. My question is, if it is possible then=
 how do I do it?

Marc

-----Original Message-----
From: Nick Kew [mailto:nick@webthing.com]=20
Sent: Saturday, June 20, 2015 5:51 AM
To: dev@httpd.apache.org
Subject: Re: SSI for CGI output ...

On Sat, 20 Jun 2015 12:01:36 +0000
Marcos Camargo <mcamargo@broadcom.com> wrote:

> Is it possible to have SSI parse CGI output?=20

Yes.

If you want a longer answer, you'll have to explain what leads you to suppo=
se there might be a problem with it.  Unless you've been reading tutorials =
for 1998 (or earlier) Apache releases?

--
Nick Kew

From dev-return-83084-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 20 20:48:41 2015
Return-Path: <dev-return-83084-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2FD9E186CD
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 20 Jun 2015 20:48:41 +0000 (UTC)
Received: (qmail 6546 invoked by uid 500); 20 Jun 2015 20:48:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6467 invoked by uid 500); 20 Jun 2015 20:48:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6457 invoked by uid 99); 20 Jun 2015 20:48:40 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 20 Jun 2015 20:48:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 24149C019C
	for <dev@httpd.apache.org>; Sat, 20 Jun 2015 20:48:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.88
X-Spam-Level: **
X-Spam-Status: No, score=2.88 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id gjsbBzlCvLdt for <dev@httpd.apache.org>;
	Sat, 20 Jun 2015 20:48:33 +0000 (UTC)
Received: from mail-yk0-f182.google.com (mail-yk0-f182.google.com [209.85.160.182])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 99FC324E9B
	for <dev@httpd.apache.org>; Sat, 20 Jun 2015 20:48:32 +0000 (UTC)
Received: by ykdy1 with SMTP id y1so2796030ykd.2
        for <dev@httpd.apache.org>; Sat, 20 Jun 2015 13:48:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=XPCzjrA7sWBG/oXKHMDkBt+WBaDh+BYa9eqiouDAo1U=;
        b=aXZsAhmWkOIB7SFBykP70N2Z88OjkuNsrIsCaQksaKIToiUI2Qp1OX+TYwgu/HuwhE
         55puZrIwRhSOGZzVXlhVGWykXDYZe3/sjmA5x1Kj5XYXQfbHNaTgJ9n8mYyoOAcXlFX1
         ezvqlS21dEFX8koo+5cLBpUKMAAR5UEvi34yg4r8AbX7ojBYLjUrm3IKvXCr2sAFn2Iq
         nI/ck958utj2PCJD5YMsU99IuSSOM+yrqDGkEb+hVDXt9/tmL52gKOEl/EfUo6NsDX1w
         2ytpi2pP2pIx4wGftGY7orHHOfgdd8NbtA+Snyf7in+ZPziSdT+5W6asYaInoMls0mUs
         6HUA==
MIME-Version: 1.0
X-Received: by 10.129.97.5 with SMTP id v5mr4167036ywb.56.1434833305653; Sat,
 20 Jun 2015 13:48:25 -0700 (PDT)
Received: by 10.13.241.133 with HTTP; Sat, 20 Jun 2015 13:48:25 -0700 (PDT)
In-Reply-To: <20150619163916.4B09EAC0095@hades.apache.org>
References: <20150619163916.4B09EAC0095@hades.apache.org>
Date: Sat, 20 Jun 2015 16:48:25 -0400
Message-ID: <CAKUrXK7dzSZBtuTX-Vv1hvtr2EeiwfXd3h9Dy28uQhA284ykqA@mail.gmail.com>
Subject: Re: svn commit: r1686446 - in /httpd/test/framework/trunk/t/ssl:
 pr12355.t pr43738.t
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a114758527ed67e0518f92930

--001a114758527ed67e0518f92930
Content-Type: text/plain; charset=UTF-8

On Fri, Jun 19, 2015 at 12:39 PM, <rjung@apache.org> wrote:

> Author: rjung
> Date: Fri Jun 19 16:39:15 2015
> New Revision: 1686446
>
> URL: http://svn.apache.org/r1686446
> Log:
> These tests need to use MD5 ciphers, which are
> by default disabled in modern Perl HTTPS support.
> Allow all ciphers here, so it should work as
> long as the underlying OpenSSL has it in "ALL".
>
> Adding this option to the LWP::UserAgent should
> be transparent for older Perl or module versions
> that don't know about it.
>

Awesome, thanks!


>
> Modified:
>     httpd/test/framework/trunk/t/ssl/pr12355.t
>     httpd/test/framework/trunk/t/ssl/pr43738.t
>
> Modified: httpd/test/framework/trunk/t/ssl/pr12355.t
> URL:
> http://svn.apache.org/viewvc/httpd/test/framework/trunk/t/ssl/pr12355.t?rev=1686446&r1=1686445&r2=1686446&view=diff
>
> ==============================================================================
> --- httpd/test/framework/trunk/t/ssl/pr12355.t (original)
> +++ httpd/test/framework/trunk/t/ssl/pr12355.t Fri Jun 19 16:39:15 2015
> @@ -7,6 +7,7 @@ use Apache::TestUtil;
>
>  plan tests => 10, need 'ssl', need_min_apache_version('2.0');
>
> +Apache::TestRequest::user_agent( ssl_opts => { SSL_cipher_list => 'ALL'});
>  Apache::TestRequest::user_agent_keepalive(1);
>  Apache::TestRequest::scheme('https');
>
>
> Modified: httpd/test/framework/trunk/t/ssl/pr43738.t
> URL:
> http://svn.apache.org/viewvc/httpd/test/framework/trunk/t/ssl/pr43738.t?rev=1686446&r1=1686445&r2=1686446&view=diff
>
> ==============================================================================
> --- httpd/test/framework/trunk/t/ssl/pr43738.t (original)
> +++ httpd/test/framework/trunk/t/ssl/pr43738.t Fri Jun 19 16:39:15 2015
> @@ -9,6 +9,7 @@ plan tests => 4,
>      need 'ssl', need_module('actions'),
>      need_min_apache_version('2.2.7');
>
> +Apache::TestRequest::user_agent( ssl_opts => { SSL_cipher_list => 'ALL'});
>  Apache::TestRequest::user_agent_keepalive(1);
>  Apache::TestRequest::scheme('https');
>
>
>
>


-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a114758527ed67e0518f92930
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On F=
ri, Jun 19, 2015 at 12:39 PM,  <span dir=3D"ltr">&lt;<a href=3D"mailto:rjun=
g@apache.org" target=3D"_blank">rjung@apache.org</a>&gt;</span> wrote:<br><=
blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px=
 #ccc solid;padding-left:1ex">Author: rjung<br>
Date: Fri Jun 19 16:39:15 2015<br>
New Revision: 1686446<br>
<br>
URL: <a href=3D"http://svn.apache.org/r1686446" rel=3D"noreferrer" target=
=3D"_blank">http://svn.apache.org/r1686446</a><br>
Log:<br>
These tests need to use MD5 ciphers, which are<br>
by default disabled in modern Perl HTTPS support.<br>
Allow all ciphers here, so it should work as<br>
long as the underlying OpenSSL has it in &quot;ALL&quot;.<br>
<br>
Adding this option to the LWP::UserAgent should<br>
be transparent for older Perl or module versions<br>
that don&#39;t know about it.<br></blockquote><div><br></div><div>Awesome, =
thanks!</div><div>=C2=A0</div><blockquote class=3D"gmail_quote" style=3D"ma=
rgin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">
<br>
Modified:<br>
=C2=A0 =C2=A0 httpd/test/framework/trunk/t/ssl/pr12355.t<br>
=C2=A0 =C2=A0 httpd/test/framework/trunk/t/ssl/pr43738.t<br>
<br>
Modified: httpd/test/framework/trunk/t/ssl/pr12355.t<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/test/framework/trunk/t/s=
sl/pr12355.t?rev=3D1686446&amp;r1=3D1686445&amp;r2=3D1686446&amp;view=3Ddif=
f" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc/httpd/=
test/framework/trunk/t/ssl/pr12355.t?rev=3D1686446&amp;r1=3D1686445&amp;r2=
=3D1686446&amp;view=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/test/framework/trunk/t/ssl/pr12355.t (original)<br>
+++ httpd/test/framework/trunk/t/ssl/pr12355.t Fri Jun 19 16:39:15 2015<br>
@@ -7,6 +7,7 @@ use Apache::TestUtil;<br>
<br>
=C2=A0plan tests =3D&gt; 10, need &#39;ssl&#39;, need_min_apache_version(&#=
39;2.0&#39;);<br>
<br>
+Apache::TestRequest::user_agent( ssl_opts =3D&gt; { SSL_cipher_list =3D&gt=
; &#39;ALL&#39;});<br>
=C2=A0Apache::TestRequest::user_agent_keepalive(1);<br>
=C2=A0Apache::TestRequest::scheme(&#39;https&#39;);<br>
<br>
<br>
Modified: httpd/test/framework/trunk/t/ssl/pr43738.t<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/test/framework/trunk/t/s=
sl/pr43738.t?rev=3D1686446&amp;r1=3D1686445&amp;r2=3D1686446&amp;view=3Ddif=
f" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc/httpd/=
test/framework/trunk/t/ssl/pr43738.t?rev=3D1686446&amp;r1=3D1686445&amp;r2=
=3D1686446&amp;view=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/test/framework/trunk/t/ssl/pr43738.t (original)<br>
+++ httpd/test/framework/trunk/t/ssl/pr43738.t Fri Jun 19 16:39:15 2015<br>
@@ -9,6 +9,7 @@ plan tests =3D&gt; 4,<br>
=C2=A0 =C2=A0 =C2=A0need &#39;ssl&#39;, need_module(&#39;actions&#39;),<br>
=C2=A0 =C2=A0 =C2=A0need_min_apache_version(&#39;2.2.7&#39;);<br>
<br>
+Apache::TestRequest::user_agent( ssl_opts =3D&gt; { SSL_cipher_list =3D&gt=
; &#39;ALL&#39;});<br>
=C2=A0Apache::TestRequest::user_agent_keepalive(1);<br>
=C2=A0Apache::TestRequest::scheme(&#39;https&#39;);<br>
<br>
<br>
<br>
</blockquote></div><br><br clear=3D"all"><div><br></div>-- <br><div class=
=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien..=
.<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyham=
mock.com/</a><div><br></div></div></div>
</div></div>

--001a114758527ed67e0518f92930--

From dev-return-83085-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 02:32:32 2015
Return-Path: <dev-return-83085-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3F88E18B45
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 02:32:32 +0000 (UTC)
Received: (qmail 42517 invoked by uid 500); 21 Jun 2015 02:32:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 42449 invoked by uid 500); 21 Jun 2015 02:32:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 42439 invoked by uid 99); 21 Jun 2015 02:32:31 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 02:32:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id EC7D61828E3
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 02:32:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.99
X-Spam-Level: **
X-Spam-Status: No, score=2.99 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01,
	UNPARSEABLE_RELAY=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id M7MKlsGB6QWP for <dev@httpd.apache.org>;
	Sun, 21 Jun 2015 02:32:28 +0000 (UTC)
Received: from mail.ausics.net (valhalla.ausics.net [27.33.160.23])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id F327F24E9B
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 02:32:27 +0000 (UTC)
Received: from mail.ausics.net (valhalla.ausics.net [10.10.0.10])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.ausics.net (Postfix) with ESMTPSA id E785DC0EC4E
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 12:32:15 +1000 (AEST)
Received: from ZQ7at5XZ+SY04Ae65WgHSScyyJLXAqIw72kcaKzRNAg=
 (NOznTETsnYySfjr4CI8AHIwmSVeYw8As)
 by mail.ausics.net
 with HTTP (HTTP/1.1 POST); Sun, 21 Jun 2015 12:32:15 +1000
MIME-Version: 1.0
Content-Type: multipart/alternative;
 boundary="=_c196460b65b56ce7b6c722d132bbd2d2"
Date: Sun, 21 Jun 2015 12:32:15 +1000
From: Noel Butler <noel.butler@ausics.net>
To: dev@httpd.apache.org
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
In-Reply-To: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
Message-ID: <d083b0667a2c2f1b837e6339f1061aee@ausics.net>
X-Sender: noel.butler@ausics.net
User-Agent: Roundcube Webmail

--=_c196460b65b56ce7b6c722d132bbd2d2
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII

 

On 20/06/2015 02:50, Jim Jagielski wrote: 

> I'm calling a VOTE on releasing these as Apache httpd 2.4.15 GA.

using included apr 1.5.2 and apr-util 1.5.4 and with mysql (mariadb) 

+1 Slackware 13.1 -> 14.1 

> PS: Hopefully, 3rd time's the charm!

:) 

 
--=_c196460b65b56ce7b6c722d132bbd2d2
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html; charset=UTF-8

<html><head><meta http-equiv=3D"Content-Type" content=3D"text/html; charset=
=3DUTF-8" /></head><body style=3D'font-size: 10pt'>
<p>On 20/06/2015 02:50, Jim Jagielski wrote:</p>
<blockquote type=3D"cite" style=3D"padding: 0 0.4em; border-left: #1010ff 2=
px solid; margin: 0">
<div class=3D"pre" style=3D"margin: 0; padding: 0; font-family: monospace">=
<br /><br /> I'm calling a VOTE on releasing these as Apache httpd 2.4.15 G=
A.<br /><br /><br /></div>
</blockquote>
<div class=3D"pre" style=3D"margin: 0; padding: 0; font-family: monospace">=
&nbsp;</div>
<div class=3D"pre" style=3D"margin: 0; padding: 0; font-family: monospace">=
using included apr 1.5.2 and apr-util 1.5.4 and with mysql (mariadb)</div>
<div class=3D"pre" style=3D"margin: 0; padding: 0; font-family: monospace">=
&nbsp;</div>
<div class=3D"pre" style=3D"margin: 0; padding: 0; font-family: monospace">=
+1 Slackware 13.1 -&gt; 14.1</div>
<div class=3D"pre" style=3D"margin: 0; padding: 0; font-family: monospace">=
&nbsp;</div>
<div class=3D"pre" style=3D"margin: 0; padding: 0; font-family: monospace">=
&nbsp;</div>
<blockquote type=3D"cite" style=3D"padding: 0 0.4em; border-left: #1010ff 2=
px solid; margin: 0">
<div class=3D"pre" style=3D"margin: 0; padding: 0; font-family: monospace">=
<br /><br /> PS: Hopefully, 3rd time's the charm!</div>
</blockquote>
<p>:)&nbsp;</p>
<p>&nbsp;</p>
</body></html>

--=_c196460b65b56ce7b6c722d132bbd2d2--


From dev-return-83086-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 03:51:08 2015
Return-Path: <dev-return-83086-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 034F718C3F
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 03:51:08 +0000 (UTC)
Received: (qmail 82263 invoked by uid 500); 21 Jun 2015 03:51:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 82194 invoked by uid 500); 21 Jun 2015 03:51:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 82185 invoked by uid 99); 21 Jun 2015 03:51:07 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 03:51:07 +0000
Received: from [192.168.201.236] (c-73-181-14-238.hsd1.co.comcast.net [73.181.14.238])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id E4DCC1A0040
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 03:51:06 +0000 (UTC)
From: Leif Hedstrom <zwoop@apache.org>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (1.0)
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
Message-Id: <386092D4-9711-4ED1-B37F-172D0CB43FBA@apache.org>
Date: Sat, 20 Jun 2015 21:51:06 -0600
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
In-Reply-To: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
X-Mailer: iPad Mail (12F69)



> On Jun 19, 2015, at 10:50 AM, Jim Jagielski <jim@jaguNET.com> wrote:
> 
> The pre-release test tarballs for Apache httpd 2.4.15 can be found
> at the usual place:
> 
>    http://httpd.apache.org/dev/dist/
> 
> I'm calling a VOTE on releasing these as Apache httpd 2.4.15 GA.
> 
> [ ] +1: Good to go
> [ ] +0: meh
> [ ] -1: Danger Will Robinson. And why.


Tested on Fedora 21-64bit. No problems.

+1


Leif
> 
> Vote will last the normal 72 hrs.
> 
> NOTE: The *-deps are only there for convenience.
> 
> Thx!
> 
> PS: Hopefully, 3rd time's the charm!

From dev-return-83087-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 06:55:17 2015
Return-Path: <dev-return-83087-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EE73A18E55
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 06:55:16 +0000 (UTC)
Received: (qmail 61261 invoked by uid 500); 21 Jun 2015 06:55:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 61195 invoked by uid 500); 21 Jun 2015 06:55:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 61185 invoked by uid 99); 21 Jun 2015 06:55:11 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 06:55:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id F40A518395E
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 06:55:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.11
X-Spam-Level:
X-Spam-Status: No, score=-0.11 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=velox.ch header.b=bQubxfuK;
	dkim=pass (2048-bit key) header.d=velox.ch header.b=avhWZQ1k
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id XKKA3ivx2eGz for <dev@httpd.apache.org>;
	Sun, 21 Jun 2015 06:55:09 +0000 (UTC)
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 25B7121115
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 06:55:08 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t5L6t1TH016411
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 08:55:02 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1434869702;
	bh=bnxF+LzxoiBTAimoLZ58EI6yLQtyURO/q7geOFRrfDA=;
	h=From:Subject:To:References:Date:In-Reply-To;
	b=bQubxfuKeYUGYTPIY49Ck6yQ6cKtBko+21P8/f6K8Bh/U2hT0O1p2VtSCrfN5HIs0
	 VpVkrnF3pYo3npFwHGzQz4HuZ94RI0oUksd6GkOYb9baRGYcOkaFlEulX2+qk4L0iu
	 qQ7IivtI4zvWVGfKKur4KxX0eqH2PYvVq0OUQ8Z/f5er3SFPN0aQS5fw92rcgHD5au
	 4zwbLMHwJmm3e4PomjJL3sfmwPMe1WXAO4DvoXqA8YotgMhA0to9Br24WWqX1aLkmg
	 aPM8QiBoSqI8SxttKLI88gfpXkY7axeZ66GhTEfMTA2y4nE4uXFvNPRM9swFSc9MEh
	 F86L+Ro5hne8A==
From: Kaspar Brand <httpd-dev.2014@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1434869700;
	bh=bnxF+LzxoiBTAimoLZ58EI6yLQtyURO/q7geOFRrfDA=;
	h=From:Subject:To:References:Date:In-Reply-To;
	b=avhWZQ1kujmTGcwbZw2c22qLefFK133zWLlNBBrXg6wqeCbMM4CGszEHnkftso7WF
	 dtu+YV77drRjRiwrb1hGsWc/LbUASd6QHUleTqX/BBLR1NFNk/YO5/LT1LLdIotJrw
	 0F6AsKJFCZjhDgIySMvPa1596sJrzC12BoMC17RDSl10Pf8ECa1XojWkhMwpqYldbv
	 M1e4zx/7BX7C7SFLBDvH8lfxGPpyyBd/8heA4d+T6l6AJLTiZYAq1rHapecpIDwH1m
	 iZJlMP8ZhMtdu/Zvi0dWDigk+1Vp/0YUkreiq/mbf4sm7gLSfZlh4VOuzmFkONbhu/
	 1krfeioJ97syw==
Subject: Re: Using UPN from subjectAltName with SSLUserName
To: dev@httpd.apache.org
References: <20150618094946.GU18173@redhat.com>
 <CAKQ1sVPVuX7ntRt=XjSJ6Og1-gYxjkHv_N2aSNy6wR62XJ_gGw@mail.gmail.com>
 <20150619145116.GK18173@redhat.com>
Message-ID: <55865FC6.4070802@velox.ch>
Date: Sun, 21 Jun 2015 08:55:02 +0200
MIME-Version: 1.0
In-Reply-To: <20150619145116.GK18173@redhat.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit

On 19.06.2015 16:51, Jan Pazdziora wrote:
> On Thu, Jun 18, 2015 at 12:22:21PM +0200, Yann Ylavic wrote:
>> I think a more generic way would to have something like
>> SSL_CLIENT_OID_<oid>_n, so that we wouldn't have to add a new field
>> each time.
>> In this case, that would be: SSL_CLIENT_OID_1.3.6.1.4.1.311.20.2.3_n.

The point with the otherName SAN type is that it's yet another bag of
potentially arbitrary ASN.1 stuff, actually (not just simple strings, as
is the case for rfc822Name or dNSName):

   GeneralName ::= CHOICE {
        otherName                       [0]     OtherName,
        rfc822Name                      [1]     IA5String,
        dNSName                         [2]     IA5String,
        x400Address                     [3]     ORAddress,
        directoryName                   [4]     Name,
        ediPartyName                    [5]     EDIPartyName,
        uniformResourceIdentifier       [6]     IA5String,
        iPAddress                       [7]     OCTET STRING,
        registeredID                    [8]     OBJECT IDENTIFIER }

   OtherName ::= SEQUENCE {
        type-id    OBJECT IDENTIFIER,
        value      [0] EXPLICIT ANY DEFINED BY type-id }
                                ^^^^^^^^^^^^^^^^^^^^^^

(See RFC 7299 section 3.14 for the otherName forms defined by the PKIX
WG in the past.)

While Microsoft's UPN happens to be a very simple case (the value is
just a bare UTF8String here), this need not be true for other forms
of otherName.

Adding support for msUPN seems useful, but it's really something which
needs special-case coding in ssl_util_ssl.c:modssl_X509_getSAN(). I
suggest using SSL_{CLIENT,SERVER}_SAN_OTHER_msUPN_* for the variable
name(s), to make it clear that it's a subjectAltName entry of type
otherName. Then, in the code for GEN_OTHERNAME, specifically look for
this otherName form via "NID_ms_upn" - as only in this case, you
can be sure to expect a simple UTF8String in otherName->value
(strongSwan's openssl_x509.c might be a source of inspiration for coding
this).

Note that for exposing the msUPN variables with StdEnvVars, you also
need to adapt ssl_engine_vars.c:modssl_var_extract_san_entries().

Kaspar

From dev-return-83088-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 07:15:16 2015
Return-Path: <dev-return-83088-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 305AF18E86
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 07:15:16 +0000 (UTC)
Received: (qmail 69961 invoked by uid 500); 21 Jun 2015 07:15:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 69884 invoked by uid 500); 21 Jun 2015 07:15:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 69875 invoked by uid 99); 21 Jun 2015 07:15:15 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 07:15:15 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id F05CE1A043E
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 07:15:14 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id 778EC605D0; Sun, 21 Jun 2015 07:15:14 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2015/06/21]
Message-Id: <20150621071514.778EC605D0@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 21 Jun 2015 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 7483|Ass|Enh|2002-03-26|Add FileAction directive to assign a cgi interpret|
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|12680|New|Enh|2002-09-16|Digest authentication with integrity protection   |
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|18497|New|Min|2003-03-30|configure --help gives wrong default for sysconfdi|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21253|New|Nor|2003-07-01|Mime magic doesn't continue if type is specifed fo|
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22138|Inf|Cri|2003-08-05|Webdav is not preccessing special chars right.    |
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Nor|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42001|New|Cri|2007-03-30|LINUX : Could not set LDAP_OPT_X_TLS to LDAP_OPT_X|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Opn|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|httpd fails to start if log directory does not exi|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43532|Inf|Cri|2007-10-02|Error while compiling Apache 2.2.3 on HPUX        |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44736|New|Cri|2008-04-01|mod_proxy_balancer looses it's mind on reloads.   |
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|New|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45926|Inf|Nor|2008-10-01|Unable to start apache 2.2.9                      |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46054|New|Nor|2008-10-21|Running httpd returns the error "bad user name nob|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46421|New|Maj|2008-12-19|module mod_authz_dbd - doesn't work when multiple |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Nor|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46724|Inf|Cri|2009-02-17|WinXP SP3 - Apache crashes on startup in libapr-1.|
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47241|New|Min|2009-05-22|Error in rewriting with character ':'             |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47289|New|Nor|2009-05-30|Can't build with dynamic libraries on Mac OS 10.4 |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|Inf|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48309|New|Maj|2009-11-30|libapreq2-2.12: "make test" fails at request.t and|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|New|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Nor|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51842|New|Enh|2011-09-18|Suggesting a new action for the Header directive: |
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Enh|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52523|New|Nor|2012-01-25|Headers from mod_expires are wrongly set for redir|
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52756|Inf|Trv|2012-02-24|proxy_html_module LoadModule line not created in h|
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52820|New|Min|2012-03-04|SSLProtocol/SSLProxyProtocol doesn't iterate prope|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52855|Opn|Maj|2012-03-08|mod_ftp does not build against 2.4.x              |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53121|New|Nor|2012-04-22|Confusing documentation, gzip and deflate         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54364|New|Nor|2012-12-31|Add ref to mod_fcgid docs                         |
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54587|Opn|Nor|2013-02-19|LDAPConnectionPoolTimeout does not work in all cas|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55147|New|Nor|2013-06-26|"Header always" w/ cache different in 2.4         |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55420|New|Nor|2013-08-14|Integer underflow in lock timeout computation     |
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55449|New|Maj|2013-08-19|AH01185: worker slotmem_create failed --> slotmem |
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55808|New|Nor|2013-11-21|File integrity verification using MD5 and SHA1    |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|New|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55841|New|Nor|2013-12-04|Misleading news items on bugfix releases ("This ve|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55897|New|Nor|2013-12-17|[PATCH]patch with SO_REUSEPORT support            |
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|Inf|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56040|New|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56226|New|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56687|New|Nor|2014-07-01|ProxySourceAddress failed to bind socket to local |
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56729|New|Reg|2014-07-16|Can't use HTTP 1.1 Keep-Alive with mod_reqtimeout |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|Inf|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56823|New|Nor|2014-08-07|returning 200 status when ap_get_brigade failed   |
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56872|New|Nor|2014-08-19|Small request bodies bypass DeflateInflateLimitReq|
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56898|New|Nor|2014-08-28|Headers in err_headers_out are not returned when a|
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57109|New|Nor|2014-10-17|GPG verification examples are wrong               |
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57120|New|Nor|2014-10-21|Disable SSLv3 by default (POODLE)                 |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57207|New|Nor|2014-11-13|[mod_ssl] Add a way to retrieve email in alternati|
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|New|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57358|New|Nor|2014-12-17|Incorrect If-Match handling                       |
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57375|New|Enh|2014-12-19|Support LibreSSL as an alternative toolkit for mod|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Nor|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57524|New|Nor|2015-02-02|Opcode and other fields calculated wrong in mod_lu|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57694|New|Nor|2015-03-12|Crash using SSL certificate with pathlen constrain|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|New|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57795|Opn|Maj|2015-04-07|mod_proxy_wstunnel sometimes does not connect and |
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|Inf|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
|57868|New|Nor|2015-04-28|SIGSEV when lacking correct DB access permissions |
|57876|New|Reg|2015-04-30|logresolve.exe on any Windows immediately crashes |
|57878|New|Nor|2015-04-30|Using UTF-8 for all languages, and avoiding html-e|
|57895|New|Min|2015-05-05|missing m4a mimeType in mime.types                |
|57911|New|Min|2015-05-09|Rewrite documentation unclear or wrong about what |
|57927|New|Maj|2015-05-13|Segmentation Fault at proxy_util.c:994            |
|57933|New|Min|2015-05-18|apr_port_t returns constant                       |
|57941|New|Nor|2015-05-21|config.status: line 331: syntax error near unexpec|
|57949|New|Enh|2015-05-25|new mod_ssl environment variable SSL_{CLIENT|SERVE|
|57950|New|Nor|2015-05-26|[patch] buildconf change hint in build to newer ap|
|57960|New|Nor|2015-05-27|PUT truncates response body; status_line appears t|
|57968|New|Nor|2015-05-28|SetHandler converts proxy:unix:/path/TO/app to low|
|57976|New|Cri|2015-05-30|Server threads stale when sending 500 status with |
|57978|New|Nor|2015-06-01|unix:/ works with any number of / slashes  except |
|57979|New|Nor|2015-06-01|can not turn change log level for mod_filter      |
|57992|New|Nor|2015-06-03|https://bz.apache.org/bugzilla/token.cgi?t=ADzWKnl|
|57993|New|Nor|2015-06-03|https://bz.apache.org/bugzilla/token.cgi?t=ADzWKnl|
|57996|New|Nor|2015-06-03|Symlinks erroneously not followed when target inod|
|57997|New|Nor|2015-06-03|Threads started during child_init don't block sign|
|57999|New|Nor|2015-06-04|ap_getparents() may remove start slash of uri     |
|58001|New|Enh|2015-06-04|Implement Forwarded header (RFC 7239) to mod_proxy|
|58007|New|Nor|2015-06-06|400 Bad Request with fully qualified domain name o|
|58020|New|Nor|2015-06-11|When user authenticates with certificate which has|
|58024|New|Nor|2015-06-11|(Graceful) Restart does not work after adding a Ba|
|58025|New|Enh|2015-06-11|mod_authz_dbd : new dbd-query and AuthzDBDQuery op|
|58026|New|Nor|2015-06-11|return 421 status code when SNI and Host: header d|
|58044|New|Cri|2015-06-16|Error sintax 'lua_dump'                           |
|58050|New|Nor|2015-06-17|ErrorDocument does not always work                |
+-----+---+---+----------+--------------------------------------------------+
| Total 1507 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-83089-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 12:07:39 2015
Return-Path: <dev-return-83089-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C4AC01814E
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 12:07:39 +0000 (UTC)
Received: (qmail 10944 invoked by uid 500); 21 Jun 2015 12:07:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10866 invoked by uid 500); 21 Jun 2015 12:07:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10856 invoked by uid 99); 21 Jun 2015 12:07:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 12:07:39 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of trawick@gmail.com designates 209.85.160.176 as permitted sender)
Received: from [209.85.160.176] (HELO mail-yk0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 12:05:25 +0000
Received: by ykdt186 with SMTP id t186so11536948ykd.0
        for <dev@httpd.apache.org>; Sun, 21 Jun 2015 05:07:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=cNBqIoO8oFvfZHdtMeXDwDDY3F+5CGjP53w5vyH1zZs=;
        b=mfLDTA8a5eRosbiWQE/V8kQy8AT2VLAEIMSLp+wtPcMMlzu6CI5xwoChGZ8nPnafPy
         CYnUeTCM8j2wZSTj8mT4TFAD7t12s3/BnaI0ifKatQoNyv3S/U9aNRmznCl0KH4gWGT7
         6x7+ilS/6hR7ojdnNH71hxgHeJ6Kdfoo7wM6Lfmt5/PjfVSH57uUrNV+LwmIBG6sXuDI
         AsMmNGk+fPvYKyE6Edrf+Jj3LwHvYlnZQI52VA/FzPubTd7jg6UIroDLZ9WHA0pqrMH9
         scCI9RUDPatlRt5t0zXXlnmhV295iZbtVmCjDOCLYd6j8T+QFzs534U6y3JlxR0Rqjtx
         ySTg==
MIME-Version: 1.0
X-Received: by 10.170.131.141 with SMTP id x135mr14537362ykb.118.1434888433165;
 Sun, 21 Jun 2015 05:07:13 -0700 (PDT)
Received: by 10.13.241.133 with HTTP; Sun, 21 Jun 2015 05:07:12 -0700 (PDT)
In-Reply-To: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
Date: Sun, 21 Jun 2015 08:07:12 -0400
Message-ID: <CAKUrXK5s8sPwnLuG1TT72RSFmF8uhvCvP0h1G9fgF093MkHMDg@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11397af859ec6f051905ff73
X-Virus-Checked: Checked by ClamAV on apache.org

--001a11397af859ec6f051905ff73
Content-Type: text/plain; charset=UTF-8

On Fri, Jun 19, 2015 at 12:50 PM, Jim Jagielski <jim@jagunet.com> wrote:

> The pre-release test tarballs for Apache httpd 2.4.15 can be found
> at the usual place:
>
>         http://httpd.apache.org/dev/dist/
>
> I'm calling a VOTE on releasing these as Apache httpd 2.4.15 GA.
>
>
[X] +1: Good to go

Test suite passed with prefork and event on:

CentOS 7 64-bit
FreeBSD 10.1, 32-bit, kernel accept filter not loaded
Fedora 22, 64-bit
Ubuntu 12, 32-bit*
Ubuntu 15, 32-bit*

*silly failure of t/filter/case.t due to an expected Perl doc file not
being installed

Built with cmake 3.1.3 and VS 2012 x64 on Windows, and served pages

-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a11397af859ec6f051905ff73
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On F=
ri, Jun 19, 2015 at 12:50 PM, Jim Jagielski <span dir=3D"ltr">&lt;<a href=
=3D"mailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt;</span=
> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0=
.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-s=
tyle:solid;padding-left:1ex">The pre-release test tarballs for Apache httpd=
 2.4.15 can be found<br>
at the usual place:<br>
<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 <a href=3D"http://httpd.apache.org/dev/dist/" r=
el=3D"noreferrer" target=3D"_blank">http://httpd.apache.org/dev/dist/</a><b=
r>
<br>
I&#39;m calling a VOTE on releasing these as Apache httpd 2.4.15 GA.<br>
<br></blockquote><div><br></div><div>[X] +1: Good to go<br></div><div><br><=
/div><div>Test suite passed with prefork and event on:</div><div><br></div>=
<div>CentOS 7 64-bit<br></div><div>FreeBSD 10.1, 32-bit, kernel accept filt=
er not loaded<br></div><div>Fedora 22, 64-bit<br></div><div>Ubuntu 12, 32-b=
it*<br></div><div>Ubuntu 15, 32-bit*<br></div><div><br></div><div>*silly fa=
ilure of t/filter/case.t due to an expected Perl doc file not being install=
ed</div><div><br></div><div>Built with cmake 3.1.3 and VS 2012 x64 on Windo=
ws, and served pages</div><div><br></div></div>-- <br><div class=3D"gmail_s=
ignature"><div dir=3D"ltr">Born in Roswell... married an alien...<br><a hre=
f=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyhammock.com/</=
a><div><br></div></div></div>
</div></div>

--001a11397af859ec6f051905ff73--

From dev-return-83090-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 14:47:30 2015
Return-Path: <dev-return-83090-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6C93F18405
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 14:47:30 +0000 (UTC)
Received: (qmail 10836 invoked by uid 500); 21 Jun 2015 14:47:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10777 invoked by uid 500); 21 Jun 2015 14:47:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10766 invoked by uid 99); 21 Jun 2015 14:47:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 14:47:29 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.175 as permitted sender)
Received: from [209.85.223.175] (HELO mail-ie0-f175.google.com) (209.85.223.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 14:45:16 +0000
Received: by iefd2 with SMTP id d2so44357047ief.2
        for <dev@httpd.apache.org>; Sun, 21 Jun 2015 07:47:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=zYSvJrr4ytV0VAabSLpecwKJALm/6pUa6dk/DPiapss=;
        b=DP0MRZ2EH3OVfcJ7cNdFrywIlg4Lp76zJn6EfXbtxtsLy7wWKc/lFhe2MElrbUiItG
         BUAg22hOgxHAmwFBTUpXkFdpC4bHILQ6hqJzToqfFFxc9dcpTL1L02cmGxtfkeJiHQeL
         vFIhT4V1ZNV9BCLdZHa7LpFEGcxakUPOFB8C+6nWvOk5oBi+iMEs2GRf5imcvnukE7Tr
         XkvSHDB1vTESgUNQanYLHrfVc0ix39xQzaPMu7OIEnOXmy0NYWUa9ER1BdxV129Mf2Z/
         XDC0LKL6wOSQ8kSkUK1lVjwD/uQ4spsen2Pnf9e63/qUhYLmtjq9vGeJsx0sbEBvk3k7
         4hOg==
MIME-Version: 1.0
X-Received: by 10.50.62.148 with SMTP id y20mr15730923igr.17.1434898023398;
 Sun, 21 Jun 2015 07:47:03 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Sun, 21 Jun 2015 07:47:03 -0700 (PDT)
In-Reply-To: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
Date: Sun, 21 Jun 2015 16:47:03 +0200
Message-ID: <CAKQ1sVNQaNKeLCzskp8gNwyvaZ=RQ+aUHgST__u19dhPr0Ee8A@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Jun 19, 2015 at 6:50 PM, Jim Jagielski <jim@jagunet.com> wrote:
>
> I'm calling a VOTE on releasing these as Apache httpd 2.4.15 GA.
>
> [X] +1: Good to go

No regression, with event and worker, included apr-1.5.2 and apr-util-1.5.4.

Tested systems:

* Debian 8 - 64bit,
* Debian 7 - 64bit,
* Debian 6 - 64bit,
* Debian 6 - mixed 32/64bit system/kernel.

Thanks Jim for RM'ing,
Yann.

From dev-return-83091-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 15:08:10 2015
Return-Path: <dev-return-83091-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5FADB18479
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 15:08:10 +0000 (UTC)
Received: (qmail 35852 invoked by uid 500); 21 Jun 2015 15:08:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35782 invoked by uid 500); 21 Jun 2015 15:08:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35772 invoked by uid 99); 21 Jun 2015 15:08:09 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 15:08:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id E866118395E
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 15:08:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id HR1M17hWQjEY for <dev@httpd.apache.org>;
	Sun, 21 Jun 2015 15:07:59 +0000 (UTC)
Received: from mail-yk0-f169.google.com (mail-yk0-f169.google.com [209.85.160.169])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 9A39D42AF1
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 15:07:59 +0000 (UTC)
Received: by ykdr198 with SMTP id r198so118335628ykd.3
        for <dev@httpd.apache.org>; Sun, 21 Jun 2015 08:07:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=6XRD/hVzWreT5t7E7EIJ7MjPrjJAl7qSWvyprTh3fmw=;
        b=Cltw76Proj2gQRhe3ksGNMqnMeLE2YWIrbn1JzfpaEmxebKcS5cgQZlcak5GgIWw24
         tL78ZuARVpVvGKKIP2aWqHL/EplMbj8RZf+V0MgemnA9GlNTcHNfMOK0Gk2sL+YC4mft
         QRESVYHBrqCNNmONC8mxGr56xQKa0yhMU3MEcP7gUqlEQ1wQZXLSK6pHVUZvdCU3yDNM
         DLWmkjCpGiNIlEsD2feKlBvWyKmfUo8+yBmugpmowNZZOPzYU0pPi34D7jV4HHx2bquy
         ipzlgvMj4Aw7rO6hQB6fuznDlg9Qsj+8xSP8r7fhMTrmDr+OlPvVAS8reFn/dp33F5hJ
         0O7A==
MIME-Version: 1.0
X-Received: by 10.170.151.85 with SMTP id s82mr31441337ykc.31.1434899273467;
 Sun, 21 Jun 2015 08:07:53 -0700 (PDT)
Received: by 10.37.83.130 with HTTP; Sun, 21 Jun 2015 08:07:53 -0700 (PDT)
In-Reply-To: <425B805C-23FA-4658-BD53-4271A0FA5571@greenbytes.de>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de>
	<1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm>
	<29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de>
	<CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com>
	<CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com>
	<D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de>
	<E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com>
	<AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de>
	<2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com>
	<06084E9C-1819-4ADF-BD88-18A94C843009@greenbytes.de>
	<6FB93AAA-2BE9-4D4A-8415-551D0A16F1EB@jaguNET.com>
	<425B805C-23FA-4658-BD53-4271A0FA5571@greenbytes.de>
Date: Sun, 21 Jun 2015 11:07:53 -0400
Message-ID: <CALK=YjMPFzC5Z=LCNCvKUUPWCRRsGOcxHg3=Uj6B0RrBhXER4A@mail.gmail.com>
Subject: Re: buckets across threads - question
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

re: https://github.com/icing/mod_h2/issues/28 has this design further evolv=
ed?

Is there a way to make the deep copy un-necessary by injecting your
own bucket_alloc created with a pool with a threadsafe allocator very
early?  It seems like all of the buckets are created in the h2 thread
after you've had a chance to manipulate stuff.



On Tue, Mar 31, 2015 at 2:57 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> Thanks, Jim!
>
>
>
>> Am 31.03.2015 um 19:29 schrieb Jim Jagielski <jim@jaguNET.com>:
>>
>> What I did is used the alpn patch as a guide and updated trunk
>> to add the functionality:
>>
>>    http://svn.apache.org/r1670397
>>
>> I'll give it a few days to work out and then propose for a
>> 2.4 backport.
>>
>>> On Mar 31, 2015, at 1:13 PM, Stefan Eissing <stefan.eissing@greenbytes.=
de> wrote:
>>>
>>> I think the old NPN patch is in trunk. The ALPN not AFAIK. I undertstan=
d there is a trunk first policy, but it'd be good to get it at least going =
there... thanks.
>>>
>>> Stefan
>>>
>>>
>>>
>>> Am 31.03.2015 um 18:22 schrieb Jim Jagielski <jim@jaguNET.com>:
>>>
>>>>>
>>>>> PS. As a small quid-pro-quo and because you were asking about a possi=
bly 2.4.13: there has so far not been a volunteer to integrate the ALPN pat=
ch I adapted from mod_spdy. It would be great if someone could take a look =
at it. It is the biggest obstacle so far for experimenters (early sufferers=
) of mod_h2 and it would be very nice to have it out of the way.
>>>>
>>>> I'll take a look. It's not currently in trunk, is that right?
>>



--=20
Eric Covener
covener@gmail.com

From dev-return-83092-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 16:58:15 2015
Return-Path: <dev-return-83092-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4A9F918620
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 16:58:15 +0000 (UTC)
Received: (qmail 43677 invoked by uid 500); 21 Jun 2015 16:58:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 43609 invoked by uid 500); 21 Jun 2015 16:58:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 43599 invoked by uid 99); 21 Jun 2015 16:58:09 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 16:58:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 6D96618395E
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 16:58:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.012
X-Spam-Level:
X-Spam-Status: No, score=-0.012 tagged_above=-999 required=6.31
	tests=[SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id IMa6c2wS_L8S for <dev@httpd.apache.org>;
	Sun, 21 Jun 2015 16:58:06 +0000 (UTC)
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 3922A254C6
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 16:58:06 +0000 (UTC)
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
To: dev@httpd.apache.org
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
From: Reindl Harald <h.reindl@thelounge.net>
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
X-Enigmail-Draft-Status: N1110
Organization: the lounge interactive design
Message-ID: <5586ECF8.8040000@thelounge.net>
Date: Sun, 21 Jun 2015 18:57:28 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.0.1
MIME-Version: 1.0
In-Reply-To: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="82EvN4Ou7IfDiLrKxRvNsirvtUE4Clqg8"

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--82EvN4Ou7IfDiLrKxRvNsirvtUE4Clqg8
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: quoted-printable

-1

just rebuilt my httpd rpm with the=20
http://httpd.apache.org/dev/dist/httpd-2.4.15.tar.bz2 on my testserver=20
and all vhosts are coming with a 404 page and nothing in the errorlog

first i thought it's a https problem cause by a self signed wildcard=20
certificate, but the same after remove the mod_rewrite redirction
________________________________

"LogLevel debug core:debug" is not much helpful with only 1 line for=20
each request

[Sun Jun 21 18:50:46.972582 2015] [headers:debug] [pid 25479]=20
mod_headers.c(899): AH01503: headers: ap_headers_error_filter()
________________________________

it is in fact that configuration file which suddenly triggers at *every* =

request instead just mask several unwanted software even if it would=20
exist on the machine

[root@testserver:~]$ cat conf/httpd-deny.conf
<Directory               "/var/www/cgi-bin">
  AllowOverride           None
  Options                 None
  Require                 all denied
</Directory>
<Files                   ~ "^\.ht">
  Require                 all denied
</Files>
RedirectMatch 404 ^/.*\.svn/(.*)$
RedirectMatch 404 ^/.*CVS/(.*)$
RedirectMatch 404 ^/.*\.asax$
RedirectMatch 404 ^/.*\.ascx$
RedirectMatch 404 ^/.*\.ashx$
RedirectMatch 404 ^/.*\.asmx$
RedirectMatch 404 ^/.*\.asp$
RedirectMatch 404 ^/.*\.aspx$
RedirectMatch 404 ^/.*\.axd$
RedirectMatch 404 ^/.*\.back$
RedirectMatch 404 ^/.*\.bak$
RedirectMatch 404 ^/.*\.bat$
RedirectMatch 404 ^/.*\.cfm$
RedirectMatch 404 ^/.*\.cmd$
RedirectMatch 404 ^/.*\.csproj$
RedirectMatch 404 ^/.*\.dll$
RedirectMatch 404 ^/.*\.DS_Store$
RedirectMatch 404 ^/.*\.exe$
RedirectMatch 404 ^/.*\.FBCIndex$
RedirectMatch 404 ^/.*\.ini$
RedirectMatch 404 ^/.*\.jhtml$
RedirectMatch 404 ^/.*\.jsp$
RedirectMatch 404 ^/.*\.log$
RedirectMatch 404 ^/.*\.mdf$
RedirectMatch 404 ^/.*\.ocx$
RedirectMatch 404 ^/.*\.py$
RedirectMatch 404 ^/.*\.rb$
RedirectMatch 404 ^/.*\.sh$
RedirectMatch 404 ^/.*\.sql$
RedirectMatch 404 ^/.*\.vbproj$
RedirectMatch 404 ^/.*\.webinfo$
RedirectMatch 404 ^/.*admin-bak/(.*)$
RedirectMatch 404 ^/.*~admin/(.*)$
RedirectMatch 404 ^/.*backups/(.*)$
RedirectMatch 404 ^/.*backup/(.*)$
RedirectMatch 404 ^/.*_backup/(.*)$
RedirectMatch 404 ^/.*bak/(.*)$
RedirectMatch 404 ^/.*_errors/(.*)$
RedirectMatch 404 ^/.*htbin/(.*)$
RedirectMatch 404 ^/.*iisadmin/(.*)$
RedirectMatch 404 ^/.*iisprotect/(.*)$
RedirectMatch 404 ^/.*iissamples/(.*)$
RedirectMatch 404 ^/.*incoming/(.*)$
RedirectMatch 404 ^/.*Install/(.*)$
RedirectMatch 404 ^/.*logs/(.*)$
RedirectMatch 404 ^/.*Log/(.*)$
RedirectMatch 404 ^/.*LOG/(.*)$
RedirectMatch 404 ^/.*lost\+found/(.*)$
RedirectMatch 404 ^/.*oldfiles/(.*)$
RedirectMatch 404 ^/.*_passwords/(.*)$
RedirectMatch 404 ^/.*_private/(.*)$
RedirectMatch 404 ^/.*sslkeys/(.*)$
RedirectMatch 404 ^/.*sysbackup/(.*)$
RedirectMatch 404 ^/.*sysbackup/(.*)$
RedirectMatch 404 ^/.*temp/(.*)$
RedirectMatch 404 ^/.*_vti_bin/(.*)$
RedirectMatch 404 ^/.*_vti_bot/(.*)$
RedirectMatch 404 ^/.*_vti_log/(.*)$
RedirectMatch 404 ^/.*_vti_pvt/(.*)$
RedirectMatch 404 ^/.*_vti_shm/(.*)$
RedirectMatch 404 ^/.*_vti_txt/(.*)$
RedirectMatch 404 ^/.*webmaster_logs/(.*)$
RedirectMatch 404 ^/.*wwwlog/(.*)$
RedirectMatch 404 ^/.*~
RedirectMatch 404 ^/.*Administration/(.*)$
RedirectMatch 404 ^/.*AdvWebAdmin/(.*)$
RedirectMatch 404 ^/.*asp/(.*)$
RedirectMatch 404 ^/.*aspx/(.*)$
RedirectMatch 404 ^/.*authadmin/(.*)$
RedirectMatch 404 ^/.*BizTalkServerRepository/(.*)$
RedirectMatch 404 ^/.*blindblog/(.*)$
RedirectMatch 404 ^/.*cbblog/(.*)$
RedirectMatch 404 ^/.*ccards/(.*)$
RedirectMatch 404 ^/.*centreon/(.*)$
RedirectMatch 404 ^/.*certificate/(.*)$
RedirectMatch 404 ^/.*cgi-auth/(.*)$
RedirectMatch 404 ^/.*cgi-bin2/(.*)$
RedirectMatch 404 ^/.*cgi-bin/(.*)$
RedirectMatch 404 ^/.*cgi-csc/(.*)$
RedirectMatch 404 ^/.*cgi-isapi/(.*)$
RedirectMatch 404 ^/.*cgi-lib/(.*)$
RedirectMatch 404 ^/.*cgi-local/(.*)$
RedirectMatch 404 ^/.*cgi-public/(.*)$
RedirectMatch 404 ^/.*cgi-shl/(.*)$
RedirectMatch 404 ^/.*cgi-shl/(.*)$
RedirectMatch 404 ^/.*cgi-shop/(.*)$
RedirectMatch 404 ^/.*cgi-sys/(.*)$
RedirectMatch 404 ^/.*cgi-weddico/(.*)$
RedirectMatch 404 ^/.*cgi-win/(.*)$
RedirectMatch 404 ^/.*cgiwin/(.*)$
RedirectMatch 404 ^/.*commoncgi/(.*)$
RedirectMatch 404 ^/.*console/(.*)$
RedirectMatch 404 ^/.*ControlManager/(.*)$
RedirectMatch 404 ^/.*cs-dns/(.*)$
RedirectMatch 404 ^/.*cs-whois/(.*)$
RedirectMatch 404 ^/.*cvstrac/(.*)$
RedirectMatch 404 ^/.*database-admin/(.*)$
RedirectMatch 404 ^/.*databaseadmin/(.*)$
RedirectMatch 404 ^/.*databasemanager/(.*)$
RedirectMatch 404 ^/.*databaseweb/(.*)$
RedirectMatch 404 ^/.*dbma/(.*)$
RedirectMatch 404 ^/.*dmanager/(.*)$
RedirectMatch 404 ^/.*dokuwiki/(.*)$
RedirectMatch 404 ^/.*dokuwiki/(.*)$
RedirectMatch 404 ^/.*DotNetNuke/(.*)$
RedirectMatch 404 ^/.*dotProject/(.*)$
RedirectMatch 404 ^/.*dotProject/(.*)$
RedirectMatch 404 ^/.*drupal/(.*)$
RedirectMatch 404 ^/.*fileserver/(.*)$
RedirectMatch 404 ^/.*hastymail2/(.*)$
RedirectMatch 404 ^/.*Hastymail2/(.*)$
RedirectMatch 404 ^/.*hastymail/(.*)$
RedirectMatch 404 ^/.*Hastymail/(.*)$
RedirectMatch 404 ^/.*horde3/(.*)$
RedirectMatch 404 ^/.*horde/(.*)$
RedirectMatch 404 ^/.*intruvert/(.*)$
RedirectMatch 404 ^/.*isapi/(.*)$
RedirectMatch 404 ^/.*joomla\.php
RedirectMatch 404 ^/.*joomla/(.*)$
RedirectMatch 404 ^/.*libraries/dbg/setup\.php
RedirectMatch 404 ^/.*mailwise/(.*)$
RedirectMatch 404 ^/.*mambo/(.*)$
RedirectMatch 404 ^/.*manageengine/(.*)$
RedirectMatch 404 ^/.*mercuryboard/(.*)$
RedirectMatch 404 ^/.*monitoring/(.*)$
RedirectMatch 404 ^/.*MSWSMTP/(.*)$
RedirectMatch 404 ^/.*mysql_admin/(.*)$
RedirectMatch 404 ^/.*nagiosxi/(.*)$
RedirectMatch 404 ^/.*NetDynamic/(.*)$
RedirectMatch 404 ^/.*oracle/(.*)$
RedirectMatch 404 ^/.*orion/(.*)$
RedirectMatch 404 ^/.*Orion/(.*)$
RedirectMatch 404 ^/.*outgoing/(.*)$
RedirectMatch 404 ^/.*oxid-eshop/(.*)$
RedirectMatch 404 ^/.*passwiki/(.*)$
RedirectMatch 404 ^/.*pccsmysqladm/(.*)$
RedirectMatch 404 ^/.*perl/(.*)$
RedirectMatch 404 ^/.*phorum/(.*)$
RedirectMatch 404 ^/.*phpBB/(.*)$
RedirectMatch 404 ^/.*php_fusion/(.*)$
RedirectMatch 404 ^/.*phplinkadmin/(.*)$
RedirectMatch 404 ^/.*phpmyadmin/(.*)$
RedirectMatch 404 ^/.*phpMyAdmin/(.*)$
RedirectMatch 404 ^/.*phpmyfaq/(.*)$
RedirectMatch 404 ^/.*phpnagios/(.*)$
RedirectMatch 404 ^/.*phpNagios/(.*)$
RedirectMatch 404 ^/.*php-nuke/(.*)$
RedirectMatch 404 ^/.*phpnuke/(.*)$
RedirectMatch 404 ^/.*phpnuke/(.*)$
RedirectMatch 404 ^/.*phpPhotoAlbum/(.*)$
RedirectMatch 404 ^/.*phpprojekt/(.*)$
RedirectMatch 404 ^/.*pligg/(.*)$
RedirectMatch 404 ^/.*pma2005/(.*)$
RedirectMatch 404 ^/.*PMA2005/(.*)$
RedirectMatch 404 ^/.*pma2006/(.*)$
RedirectMatch 404 ^/.*PMA2006/(.*)$
RedirectMatch 404 ^/.*pma2007/(.*)$
RedirectMatch 404 ^/.*PMA2007/(.*)$
RedirectMatch 404 ^/.*pma2008/(.*)$
RedirectMatch 404 ^/.*PMA2008/(.*)$
RedirectMatch 404 ^/.*pma2009/(.*)$
RedirectMatch 404 ^/.*PMA2009/(.*)$
RedirectMatch 404 ^/.*pma2010/(.*)$
RedirectMatch 404 ^/.*PMA2010/(.*)$
RedirectMatch 404 ^/.*pma2011/(.*)$
RedirectMatch 404 ^/.*PMA2011/(.*)$
RedirectMatch 404 ^/.*pma2012/(.*)$
RedirectMatch 404 ^/.*PMA2012/(.*)$
RedirectMatch 404 ^/.*pma/(.*)$
RedirectMatch 404 ^/.*PMA/(.*)$
RedirectMatch 404 ^/.*postgres/(.*)$
RedirectMatch 404 ^/.*PostNuke/(.*)$
RedirectMatch 404 ^/.*_ScriptLibrary/(.*)$
RedirectMatch 404 ^/.*scripts/setup\.php
RedirectMatch 404 ^/.*serverconf\.inc.php
RedirectMatch 404 ^/.*serverconf\.php
RedirectMatch 404 ^/.*servlet/(.*)$
RedirectMatch 404 ^/.*SilverStream/(.*)$
RedirectMatch 404 ^/.*siteadmin/(.*)$
RedirectMatch 404 ^/.*sm_forum/(.*)$
RedirectMatch 404 ^/.*snipegallery/(.*)$
RedirectMatch 404 ^/.*StoreDB/(.*)$
RedirectMatch 404 ^/.*sympa/(.*)$
RedirectMatch 404 ^/.*syshelp/(.*)$
RedirectMatch 404 ^/.*sysuser/(.*)$
RedirectMatch 404 ^/.*tcexam/(.*)$
RedirectMatch 404 ^/.*tcpdb/(.*)$
RedirectMatch 404 ^/.*tikiwiki/(.*)$
RedirectMatch 404 ^/.*torrent/(.*)$
RedirectMatch 404 ^/.*torrentvolve/(.*)$
RedirectMatch 404 ^/.*viart_cms/(.*)$
RedirectMatch 404 ^/.*webalizer/(.*)$
RedirectMatch 404 ^/.*webboard/(.*)$
RedirectMatch 404 ^/.*WebCalendar/(.*)$
RedirectMatch 404 ^/.*webmatic/(.*)$
RedirectMatch 404 ^/.*webmin/(.*)$
RedirectMatch 404 ^/.*websvn/(.*)$
RedirectMatch 404 ^/.*WebTrend/(.*)$
RedirectMatch 404 ^/.*wordpress-mu/(.*)$
RedirectMatch 404 ^/.*wordpress/(.*)$
RedirectMatch 404 ^/.*wp-config\.php
RedirectMatch 404 ^/.*wp-content/(.*)$
RedirectMatch 404 ^/.*wp-login\.php
RedirectMatch 404 ^/.*wwwping/(.*)$
RedirectMatch 404 ^/.*xmlrpc\.php
RedirectMatch 404 ^/.*xwiki/(.*)$
RedirectMatch 404 ^/.*zikula/(.*)$



Am 19.06.2015 um 18:50 schrieb Jim Jagielski:
> The pre-release test tarballs for Apache httpd 2.4.15 can be found
> at the usual place:
>
> 	http://httpd.apache.org/dev/dist/
>
> I'm calling a VOTE on releasing these as Apache httpd 2.4.15 GA.
>
> [ ] +1: Good to go
> [ ] +0: meh
> [ ] -1: Danger Will Robinson. And why.
>
> Vote will last the normal 72 hrs.
>
> NOTE: The *-deps are only there for convenience.
>
> Thx!
>
> PS: Hopefully, 3rd time's the charm!


--82EvN4Ou7IfDiLrKxRvNsirvtUE4Clqg8
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlWG7PgACgkQhmBjz394Anm6pACgnA/s2gSHsVHFNeEMy0oMpUPS
zJwAniw471aPP84/ijkixNFIka+oXYoO
=a0LU
-----END PGP SIGNATURE-----

--82EvN4Ou7IfDiLrKxRvNsirvtUE4Clqg8--

From dev-return-83093-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 17:33:00 2015
Return-Path: <dev-return-83093-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 80ED9186A6
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 17:33:00 +0000 (UTC)
Received: (qmail 71141 invoked by uid 500); 21 Jun 2015 17:33:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 71066 invoked by uid 500); 21 Jun 2015 17:32:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 71056 invoked by uid 99); 21 Jun 2015 17:32:59 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 17:32:59 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 8670518395E
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 17:32:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.48
X-Spam-Level: ***
X-Spam-Status: No, score=3.48 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_LINKBAIT=2.5,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id R0HVtV6jX8L2 for <dev@httpd.apache.org>;
	Sun, 21 Jun 2015 17:32:52 +0000 (UTC)
Received: from fed1rmfepo202.cox.net (fed1rmfepo202.cox.net [68.230.241.147])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id C365C21115
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 17:32:51 +0000 (UTC)
Received: from fed1rmimpo306 ([68.230.241.174]) by fed1rmfepo202.cox.net
          (InterMail vM.8.01.05.15 201-2260-151-145-20131218) with ESMTP
          id <20150621173244.PKMC28622.fed1rmfepo202.cox.net@fed1rmimpo306>
          for <dev@httpd.apache.org>; Sun, 21 Jun 2015 13:32:44 -0400
Received: from [192.168.1.33] ([98.176.34.113])
	by fed1rmimpo306 with cox
	id j5Yi1q00G2STVfm015Yivi; Sun, 21 Jun 2015 13:32:44 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020206.5586F53C.003A,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=2.0 cv=LKq4tuq9 c=1 sm=1
 a=8xCO7h6kmYZdHn5tUOQhsw==:17 a=1zd1egijY_QA:10 a=N659UExz7-8A:10
 a=LrjODJgKAAAA:8 a=mV9VRH-2AAAA:8 a=cm6PNClUiDEH6q5pfFkA:9 a=pILNOxqGKmIA:10
 a=3xRIUqlcYqEA:10 a=K3jKJGVyWjAA:10 a=JyWbYPEhcBkA:10
 a=8xCO7h6kmYZdHn5tUOQhsw==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; auth=pass (PLAIN) smtp.auth=glewis63@cox.net
Message-ID: <5586F4CF.8070506@gknw.net>
Date: Sun, 21 Jun 2015 10:30:55 -0700
From: Gregg Smith <gls@gknw.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.28) Gecko/20120306 Thunderbird/3.1.20
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
In-Reply-To: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit

On 6/19/2015 9:50 AM, Jim Jagielski wrote:
> The pre-release test tarballs for Apache httpd 2.4.15 can be found
> at the usual place:
>
> 	http://httpd.apache.org/dev/dist/
>
> I'm calling a VOTE on releasing these as Apache httpd 2.4.15 GA.
>
> [X] +1: Good to go
VC9/12 and various Windows flavors.
Thanks for RMing

From dev-return-83094-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 17:53:26 2015
Return-Path: <dev-return-83094-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0456C18702
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 17:53:26 +0000 (UTC)
Received: (qmail 92449 invoked by uid 500); 21 Jun 2015 17:53:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92381 invoked by uid 500); 21 Jun 2015 17:53:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92371 invoked by uid 99); 21 Jun 2015 17:53:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 17:53:20 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of h.reindl@thelounge.net designates 91.118.73.15 as permitted sender)
Received: from [91.118.73.15] (HELO mail.thelounge.net) (91.118.73.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 17:51:04 +0000
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
To: dev@httpd.apache.org
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
 <5586ECF8.8040000@thelounge.net>
From: Reindl Harald <h.reindl@thelounge.net>
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
X-Enigmail-Draft-Status: N1110
Organization: the lounge interactive design
Message-ID: <5586F9F3.20709@thelounge.net>
Date: Sun, 21 Jun 2015 19:52:51 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.0.1
MIME-Version: 1.0
In-Reply-To: <5586ECF8.8040000@thelounge.net>
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="CgHKcTOUJF87r2xnxh4Nsobfiwm6TMi9N"
X-Spam-Report: ALL_TRUSTED,BAYES_00
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.5, tag-level=7.8, block-level=8.0

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--CgHKcTOUJF87r2xnxh4Nsobfiwm6TMi9N
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: quoted-printable

in fact RedirectMatch is *completly* broken

RedirectMatch 404 ^\/something\/$

and *any* URI get a 404 response not just with the long list from my=20
previous post

Am 21.06.2015 um 18:57 schrieb Reindl Harald:
> -1
>
> just rebuilt my httpd rpm with the
> http://httpd.apache.org/dev/dist/httpd-2.4.15.tar.bz2 on my testserver
> and all vhosts are coming with a 404 page and nothing in the errorlog
>
> first i thought it's a https problem cause by a self signed wildcard
> certificate, but the same after remove the mod_rewrite redirction
> ________________________________
>
> "LogLevel debug core:debug" is not much helpful with only 1 line for
> each request
>
> [Sun Jun 21 18:50:46.972582 2015] [headers:debug] [pid 25479]
> mod_headers.c(899): AH01503: headers: ap_headers_error_filter()
> ________________________________
>
> it is in fact that configuration file which suddenly triggers at *every=
*
> request instead just mask several unwanted software even if it would
> exist on the machine
>
> [root@testserver:~]$ cat conf/httpd-deny.conf
> <Directory               "/var/www/cgi-bin">
>   AllowOverride           None
>   Options                 None
>   Require                 all denied
> </Directory>
> <Files                   ~ "^\.ht">
>   Require                 all denied
> </Files>
> RedirectMatch 404 ^/.*\.svn/(.*)$
> RedirectMatch 404 ^/.*CVS/(.*)$
> RedirectMatch 404 ^/.*\.asax$
> RedirectMatch 404 ^/.*\.ascx$
> RedirectMatch 404 ^/.*\.ashx$
> RedirectMatch 404 ^/.*\.asmx$
> RedirectMatch 404 ^/.*\.asp$
> RedirectMatch 404 ^/.*\.aspx$
> RedirectMatch 404 ^/.*\.axd$
> RedirectMatch 404 ^/.*\.back$
> RedirectMatch 404 ^/.*\.bak$
> RedirectMatch 404 ^/.*\.bat$
> RedirectMatch 404 ^/.*\.cfm$
> RedirectMatch 404 ^/.*\.cmd$
> RedirectMatch 404 ^/.*\.csproj$
> RedirectMatch 404 ^/.*\.dll$
> RedirectMatch 404 ^/.*\.DS_Store$
> RedirectMatch 404 ^/.*\.exe$
> RedirectMatch 404 ^/.*\.FBCIndex$
> RedirectMatch 404 ^/.*\.ini$
> RedirectMatch 404 ^/.*\.jhtml$
> RedirectMatch 404 ^/.*\.jsp$
> RedirectMatch 404 ^/.*\.log$
> RedirectMatch 404 ^/.*\.mdf$
> RedirectMatch 404 ^/.*\.ocx$
> RedirectMatch 404 ^/.*\.py$
> RedirectMatch 404 ^/.*\.rb$
> RedirectMatch 404 ^/.*\.sh$
> RedirectMatch 404 ^/.*\.sql$
> RedirectMatch 404 ^/.*\.vbproj$
> RedirectMatch 404 ^/.*\.webinfo$
> RedirectMatch 404 ^/.*admin-bak/(.*)$
> RedirectMatch 404 ^/.*~admin/(.*)$
> RedirectMatch 404 ^/.*backups/(.*)$
> RedirectMatch 404 ^/.*backup/(.*)$
> RedirectMatch 404 ^/.*_backup/(.*)$
> RedirectMatch 404 ^/.*bak/(.*)$
> RedirectMatch 404 ^/.*_errors/(.*)$
> RedirectMatch 404 ^/.*htbin/(.*)$
> RedirectMatch 404 ^/.*iisadmin/(.*)$
> RedirectMatch 404 ^/.*iisprotect/(.*)$
> RedirectMatch 404 ^/.*iissamples/(.*)$
> RedirectMatch 404 ^/.*incoming/(.*)$
> RedirectMatch 404 ^/.*Install/(.*)$
> RedirectMatch 404 ^/.*logs/(.*)$
> RedirectMatch 404 ^/.*Log/(.*)$
> RedirectMatch 404 ^/.*LOG/(.*)$
> RedirectMatch 404 ^/.*lost\+found/(.*)$
> RedirectMatch 404 ^/.*oldfiles/(.*)$
> RedirectMatch 404 ^/.*_passwords/(.*)$
> RedirectMatch 404 ^/.*_private/(.*)$
> RedirectMatch 404 ^/.*sslkeys/(.*)$
> RedirectMatch 404 ^/.*sysbackup/(.*)$
> RedirectMatch 404 ^/.*sysbackup/(.*)$
> RedirectMatch 404 ^/.*temp/(.*)$
> RedirectMatch 404 ^/.*_vti_bin/(.*)$
> RedirectMatch 404 ^/.*_vti_bot/(.*)$
> RedirectMatch 404 ^/.*_vti_log/(.*)$
> RedirectMatch 404 ^/.*_vti_pvt/(.*)$
> RedirectMatch 404 ^/.*_vti_shm/(.*)$
> RedirectMatch 404 ^/.*_vti_txt/(.*)$
> RedirectMatch 404 ^/.*webmaster_logs/(.*)$
> RedirectMatch 404 ^/.*wwwlog/(.*)$
> RedirectMatch 404 ^/.*~
> RedirectMatch 404 ^/.*Administration/(.*)$
> RedirectMatch 404 ^/.*AdvWebAdmin/(.*)$
> RedirectMatch 404 ^/.*asp/(.*)$
> RedirectMatch 404 ^/.*aspx/(.*)$
> RedirectMatch 404 ^/.*authadmin/(.*)$
> RedirectMatch 404 ^/.*BizTalkServerRepository/(.*)$
> RedirectMatch 404 ^/.*blindblog/(.*)$
> RedirectMatch 404 ^/.*cbblog/(.*)$
> RedirectMatch 404 ^/.*ccards/(.*)$
> RedirectMatch 404 ^/.*centreon/(.*)$
> RedirectMatch 404 ^/.*certificate/(.*)$
> RedirectMatch 404 ^/.*cgi-auth/(.*)$
> RedirectMatch 404 ^/.*cgi-bin2/(.*)$
> RedirectMatch 404 ^/.*cgi-bin/(.*)$
> RedirectMatch 404 ^/.*cgi-csc/(.*)$
> RedirectMatch 404 ^/.*cgi-isapi/(.*)$
> RedirectMatch 404 ^/.*cgi-lib/(.*)$
> RedirectMatch 404 ^/.*cgi-local/(.*)$
> RedirectMatch 404 ^/.*cgi-public/(.*)$
> RedirectMatch 404 ^/.*cgi-shl/(.*)$
> RedirectMatch 404 ^/.*cgi-shl/(.*)$
> RedirectMatch 404 ^/.*cgi-shop/(.*)$
> RedirectMatch 404 ^/.*cgi-sys/(.*)$
> RedirectMatch 404 ^/.*cgi-weddico/(.*)$
> RedirectMatch 404 ^/.*cgi-win/(.*)$
> RedirectMatch 404 ^/.*cgiwin/(.*)$
> RedirectMatch 404 ^/.*commoncgi/(.*)$
> RedirectMatch 404 ^/.*console/(.*)$
> RedirectMatch 404 ^/.*ControlManager/(.*)$
> RedirectMatch 404 ^/.*cs-dns/(.*)$
> RedirectMatch 404 ^/.*cs-whois/(.*)$
> RedirectMatch 404 ^/.*cvstrac/(.*)$
> RedirectMatch 404 ^/.*database-admin/(.*)$
> RedirectMatch 404 ^/.*databaseadmin/(.*)$
> RedirectMatch 404 ^/.*databasemanager/(.*)$
> RedirectMatch 404 ^/.*databaseweb/(.*)$
> RedirectMatch 404 ^/.*dbma/(.*)$
> RedirectMatch 404 ^/.*dmanager/(.*)$
> RedirectMatch 404 ^/.*dokuwiki/(.*)$
> RedirectMatch 404 ^/.*dokuwiki/(.*)$
> RedirectMatch 404 ^/.*DotNetNuke/(.*)$
> RedirectMatch 404 ^/.*dotProject/(.*)$
> RedirectMatch 404 ^/.*dotProject/(.*)$
> RedirectMatch 404 ^/.*drupal/(.*)$
> RedirectMatch 404 ^/.*fileserver/(.*)$
> RedirectMatch 404 ^/.*hastymail2/(.*)$
> RedirectMatch 404 ^/.*Hastymail2/(.*)$
> RedirectMatch 404 ^/.*hastymail/(.*)$
> RedirectMatch 404 ^/.*Hastymail/(.*)$
> RedirectMatch 404 ^/.*horde3/(.*)$
> RedirectMatch 404 ^/.*horde/(.*)$
> RedirectMatch 404 ^/.*intruvert/(.*)$
> RedirectMatch 404 ^/.*isapi/(.*)$
> RedirectMatch 404 ^/.*joomla\.php
> RedirectMatch 404 ^/.*joomla/(.*)$
> RedirectMatch 404 ^/.*libraries/dbg/setup\.php
> RedirectMatch 404 ^/.*mailwise/(.*)$
> RedirectMatch 404 ^/.*mambo/(.*)$
> RedirectMatch 404 ^/.*manageengine/(.*)$
> RedirectMatch 404 ^/.*mercuryboard/(.*)$
> RedirectMatch 404 ^/.*monitoring/(.*)$
> RedirectMatch 404 ^/.*MSWSMTP/(.*)$
> RedirectMatch 404 ^/.*mysql_admin/(.*)$
> RedirectMatch 404 ^/.*nagiosxi/(.*)$
> RedirectMatch 404 ^/.*NetDynamic/(.*)$
> RedirectMatch 404 ^/.*oracle/(.*)$
> RedirectMatch 404 ^/.*orion/(.*)$
> RedirectMatch 404 ^/.*Orion/(.*)$
> RedirectMatch 404 ^/.*outgoing/(.*)$
> RedirectMatch 404 ^/.*oxid-eshop/(.*)$
> RedirectMatch 404 ^/.*passwiki/(.*)$
> RedirectMatch 404 ^/.*pccsmysqladm/(.*)$
> RedirectMatch 404 ^/.*perl/(.*)$
> RedirectMatch 404 ^/.*phorum/(.*)$
> RedirectMatch 404 ^/.*phpBB/(.*)$
> RedirectMatch 404 ^/.*php_fusion/(.*)$
> RedirectMatch 404 ^/.*phplinkadmin/(.*)$
> RedirectMatch 404 ^/.*phpmyadmin/(.*)$
> RedirectMatch 404 ^/.*phpMyAdmin/(.*)$
> RedirectMatch 404 ^/.*phpmyfaq/(.*)$
> RedirectMatch 404 ^/.*phpnagios/(.*)$
> RedirectMatch 404 ^/.*phpNagios/(.*)$
> RedirectMatch 404 ^/.*php-nuke/(.*)$
> RedirectMatch 404 ^/.*phpnuke/(.*)$
> RedirectMatch 404 ^/.*phpnuke/(.*)$
> RedirectMatch 404 ^/.*phpPhotoAlbum/(.*)$
> RedirectMatch 404 ^/.*phpprojekt/(.*)$
> RedirectMatch 404 ^/.*pligg/(.*)$
> RedirectMatch 404 ^/.*pma2005/(.*)$
> RedirectMatch 404 ^/.*PMA2005/(.*)$
> RedirectMatch 404 ^/.*pma2006/(.*)$
> RedirectMatch 404 ^/.*PMA2006/(.*)$
> RedirectMatch 404 ^/.*pma2007/(.*)$
> RedirectMatch 404 ^/.*PMA2007/(.*)$
> RedirectMatch 404 ^/.*pma2008/(.*)$
> RedirectMatch 404 ^/.*PMA2008/(.*)$
> RedirectMatch 404 ^/.*pma2009/(.*)$
> RedirectMatch 404 ^/.*PMA2009/(.*)$
> RedirectMatch 404 ^/.*pma2010/(.*)$
> RedirectMatch 404 ^/.*PMA2010/(.*)$
> RedirectMatch 404 ^/.*pma2011/(.*)$
> RedirectMatch 404 ^/.*PMA2011/(.*)$
> RedirectMatch 404 ^/.*pma2012/(.*)$
> RedirectMatch 404 ^/.*PMA2012/(.*)$
> RedirectMatch 404 ^/.*pma/(.*)$
> RedirectMatch 404 ^/.*PMA/(.*)$
> RedirectMatch 404 ^/.*postgres/(.*)$
> RedirectMatch 404 ^/.*PostNuke/(.*)$
> RedirectMatch 404 ^/.*_ScriptLibrary/(.*)$
> RedirectMatch 404 ^/.*scripts/setup\.php
> RedirectMatch 404 ^/.*serverconf\.inc.php
> RedirectMatch 404 ^/.*serverconf\.php
> RedirectMatch 404 ^/.*servlet/(.*)$
> RedirectMatch 404 ^/.*SilverStream/(.*)$
> RedirectMatch 404 ^/.*siteadmin/(.*)$
> RedirectMatch 404 ^/.*sm_forum/(.*)$
> RedirectMatch 404 ^/.*snipegallery/(.*)$
> RedirectMatch 404 ^/.*StoreDB/(.*)$
> RedirectMatch 404 ^/.*sympa/(.*)$
> RedirectMatch 404 ^/.*syshelp/(.*)$
> RedirectMatch 404 ^/.*sysuser/(.*)$
> RedirectMatch 404 ^/.*tcexam/(.*)$
> RedirectMatch 404 ^/.*tcpdb/(.*)$
> RedirectMatch 404 ^/.*tikiwiki/(.*)$
> RedirectMatch 404 ^/.*torrent/(.*)$
> RedirectMatch 404 ^/.*torrentvolve/(.*)$
> RedirectMatch 404 ^/.*viart_cms/(.*)$
> RedirectMatch 404 ^/.*webalizer/(.*)$
> RedirectMatch 404 ^/.*webboard/(.*)$
> RedirectMatch 404 ^/.*WebCalendar/(.*)$
> RedirectMatch 404 ^/.*webmatic/(.*)$
> RedirectMatch 404 ^/.*webmin/(.*)$
> RedirectMatch 404 ^/.*websvn/(.*)$
> RedirectMatch 404 ^/.*WebTrend/(.*)$
> RedirectMatch 404 ^/.*wordpress-mu/(.*)$
> RedirectMatch 404 ^/.*wordpress/(.*)$
> RedirectMatch 404 ^/.*wp-config\.php
> RedirectMatch 404 ^/.*wp-content/(.*)$
> RedirectMatch 404 ^/.*wp-login\.php
> RedirectMatch 404 ^/.*wwwping/(.*)$
> RedirectMatch 404 ^/.*xmlrpc\.php
> RedirectMatch 404 ^/.*xwiki/(.*)$
> RedirectMatch 404 ^/.*zikula/(.*)$
>
> Am 19.06.2015 um 18:50 schrieb Jim Jagielski:
>> The pre-release test tarballs for Apache httpd 2.4.15 can be found
>> at the usual place:
>>
>>     http://httpd.apache.org/dev/dist/
>>
>> I'm calling a VOTE on releasing these as Apache httpd 2.4.15 GA.
>>
>> [ ] +1: Good to go
>> [ ] +0: meh
>> [ ] -1: Danger Will Robinson. And why.
>>
>> Vote will last the normal 72 hrs.
>>
>> NOTE: The *-deps are only there for convenience.
>>
>> Thx!
>>
>> PS: Hopefully, 3rd time's the charm!


--CgHKcTOUJF87r2xnxh4Nsobfiwm6TMi9N
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlWG+fMACgkQhmBjz394AnlDjgCcCOTcLFS3ALnWZTud4A2y6QGb
cYoAnAglo8mirSip7r74sWXr/kB1zT56
=S9rY
-----END PGP SIGNATURE-----

--CgHKcTOUJF87r2xnxh4Nsobfiwm6TMi9N--

From dev-return-83095-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 18:23:55 2015
Return-Path: <dev-return-83095-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CBF901876C
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 18:23:55 +0000 (UTC)
Received: (qmail 14733 invoked by uid 500); 21 Jun 2015 18:23:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14667 invoked by uid 500); 21 Jun 2015 18:23:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14657 invoked by uid 99); 21 Jun 2015 18:23:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 18:23:55 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of info@apachelounge.com designates 80.101.236.247 as permitted sender)
Received: from [80.101.236.247] (HELO land10web.com) (80.101.236.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 18:21:41 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1434911007;
	bh=CfrnL64r0fPIuL9d1wwLmuW1wUuPzH3X9Tf7XT3bAZA=;
	h=From:Subject:Date:References:In-Reply-To:To;
	b=NrpljNjKerb7SfhyXwswkPNRlfFsAdtKAdx9dYEe8ts7CBF4etjcGTWlvgZQh0TLu
	 +ArpLQOL5njkMMDIauSv2JblvrEz4HX5HP0expGWKBhRRw9QqUgtSrzbwTGA0FCp75
	 foN70/MXhlLDp7WKM6obqwihTCSBzWJavm6vdJ4w=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
From: Steffen <info@apachelounge.com>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
Message-Id: <38D06C93-BE69-486E-921A-59FDD3BB4449@apachelounge.com>
Date: Sun, 21 Jun 2015 20:23:04 +0200
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com> <5586F4CF.8070506@gknw.net>
In-Reply-To: <5586F4CF.8070506@gknw.net>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
X-Mailer: iPhone Mail (12F70)
X-Virus-Checked: Checked by ClamAV on apache.org

No issues/regressions seen with VC9/10/11/14 running XP/win7/win8+/win10 and=
 server 2012+/2016.=20

> Op 21 jun. 2015 om 19:30 heeft Gregg Smith <gls@gknw.net> het volgende ges=
chreven:
>=20
>> On 6/19/2015 9:50 AM, Jim Jagielski wrote:
>> The pre-release test tarballs for Apache httpd 2.4.15 can be found
>> at the usual place:
>>=20
>>    http://httpd.apache.org/dev/dist/
>>=20
>> I'm calling a VOTE on releasing these as Apache httpd 2.4.15 GA.
>>=20
>> [X] +1: Good to go
> VC9/12 and various Windows flavors.
> Thanks for RMing

From dev-return-83096-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 19:01:04 2015
Return-Path: <dev-return-83096-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 234B0187FC
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 19:01:04 +0000 (UTC)
Received: (qmail 45796 invoked by uid 500); 21 Jun 2015 19:01:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 45721 invoked by uid 500); 21 Jun 2015 19:01:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 45711 invoked by uid 99); 21 Jun 2015 19:01:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 19:01:02 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of wrowe@rowe-clan.net designates 209.85.213.182 as permitted sender)
Received: from [209.85.213.182] (HELO mail-ig0-f182.google.com) (209.85.213.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 18:58:47 +0000
Received: by igbqq3 with SMTP id qq3so48958705igb.0
        for <dev@httpd.apache.org>; Sun, 21 Jun 2015 12:00:35 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=bJ2VZ1g9Bzu/LlYttRtyy/FrFb9FubFXooqolKn7ULE=;
        b=QTdYXLMUoiEdNveI7Lsy8hm7WLrp1BEvp1n5JGSiXmMYyMqf/Fjel1asHmw/vVJa/C
         uyH5kNnwcMArOftKedE7/mkkqah5sPsX9lzMf6dskSdlfO9dI6y7r0rjCylBL06MWDPx
         7cGJA/AAKe8RnSR/AHKKqZkdFCC9Y6A1hMOZ7m//4isUXBj/r0OOX422jpIAyGx/hP1Y
         QUtmKPjThcO5cTzb8bGMud1nIHhyXoajWttplAzUurLCFYC9SQ982nNVN8wZCQ+7db4v
         p3jnCccNQdXDjxQAAnLax8yqdVFam6b99R3X+CjNKFzWAzHKGdfwaSJUub3pF4dRGaII
         d38A==
X-Gm-Message-State: ALoCoQlMaPlU4AmbXAOojPampx4a7qXFXFoL3A+o7maotN9ImrlpxrwAvBVDTiPWwvcYnlNAsmW7
MIME-Version: 1.0
X-Received: by 10.43.140.5 with SMTP id iy5mr22771452icc.77.1434913234900;
 Sun, 21 Jun 2015 12:00:34 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Sun, 21 Jun 2015 12:00:34 -0700 (PDT)
X-Originating-IP: [2600:1008:b115:668b:ae57:2cef:c597:6e7a]
Received: by 10.107.190.195 with HTTP; Sun, 21 Jun 2015 12:00:34 -0700 (PDT)
In-Reply-To: <5586F9F3.20709@thelounge.net>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
	<5586ECF8.8040000@thelounge.net>
	<5586F9F3.20709@thelounge.net>
Date: Sun, 21 Jun 2015 14:00:34 -0500
Message-ID: <CACsi251xHe=pdhwjOJ7QAPd7hKUzkSiF_qp=uaZt4j3OqX9Mng@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11c2c588a67d0605190bc508
X-Virus-Checked: Checked by ClamAV on apache.org

--001a11c2c588a67d0605190bc508
Content-Type: text/plain; charset=UTF-8

Reindl,

Try reverting http://svn.apache.org/viewvc?view=revision&revision=1663259
and see if this resolves your observed defect.
On Jun 21, 2015 12:53 PM, "Reindl Harald" <h.reindl@thelounge.net> wrote:

> in fact RedirectMatch is *completly* broken
>
> RedirectMatch 404 ^\/something\/$
>
> and *any* URI get a 404 response not just with the long list from my
> previous post
>
> Am 21.06.2015 um 18:57 schrieb Reindl Harald:
>
>> -1
>>
>> just rebuilt my httpd rpm with the
>> http://httpd.apache.org/dev/dist/httpd-2.4.15.tar.bz2 on my testserver
>> and all vhosts are coming with a 404 page and nothing in the errorlog
>>
>> first i thought it's a https problem cause by a self signed wildcard
>> certificate, but the same after remove the mod_rewrite redirction
>> ________________________________
>>
>> "LogLevel debug core:debug" is not much helpful with only 1 line for
>> each request
>>
>> [Sun Jun 21 18:50:46.972582 2015] [headers:debug] [pid 25479]
>> mod_headers.c(899): AH01503: headers: ap_headers_error_filter()
>> ________________________________
>>
>> it is in fact that configuration file which suddenly triggers at *every*
>> request instead just mask several unwanted software even if it would
>> exist on the machine
>>
>> [root@testserver:~]$ cat conf/httpd-deny.conf
>> <Directory               "/var/www/cgi-bin">
>>   AllowOverride           None
>>   Options                 None
>>   Require                 all denied
>> </Directory>
>> <Files                   ~ "^\.ht">
>>   Require                 all denied
>> </Files>
>> RedirectMatch 404 ^/.*\.svn/(.*)$
>> RedirectMatch 404 ^/.*CVS/(.*)$
>> RedirectMatch 404 ^/.*\.asax$
>> RedirectMatch 404 ^/.*\.ascx$
>> RedirectMatch 404 ^/.*\.ashx$
>> RedirectMatch 404 ^/.*\.asmx$
>> RedirectMatch 404 ^/.*\.asp$
>> RedirectMatch 404 ^/.*\.aspx$
>> RedirectMatch 404 ^/.*\.axd$
>> RedirectMatch 404 ^/.*\.back$
>> RedirectMatch 404 ^/.*\.bak$
>> RedirectMatch 404 ^/.*\.bat$
>> RedirectMatch 404 ^/.*\.cfm$
>> RedirectMatch 404 ^/.*\.cmd$
>> RedirectMatch 404 ^/.*\.csproj$
>> RedirectMatch 404 ^/.*\.dll$
>> RedirectMatch 404 ^/.*\.DS_Store$
>> RedirectMatch 404 ^/.*\.exe$
>> RedirectMatch 404 ^/.*\.FBCIndex$
>> RedirectMatch 404 ^/.*\.ini$
>> RedirectMatch 404 ^/.*\.jhtml$
>> RedirectMatch 404 ^/.*\.jsp$
>> RedirectMatch 404 ^/.*\.log$
>> RedirectMatch 404 ^/.*\.mdf$
>> RedirectMatch 404 ^/.*\.ocx$
>> RedirectMatch 404 ^/.*\.py$
>> RedirectMatch 404 ^/.*\.rb$
>> RedirectMatch 404 ^/.*\.sh$
>> RedirectMatch 404 ^/.*\.sql$
>> RedirectMatch 404 ^/.*\.vbproj$
>> RedirectMatch 404 ^/.*\.webinfo$
>> RedirectMatch 404 ^/.*admin-bak/(.*)$
>> RedirectMatch 404 ^/.*~admin/(.*)$
>> RedirectMatch 404 ^/.*backups/(.*)$
>> RedirectMatch 404 ^/.*backup/(.*)$
>> RedirectMatch 404 ^/.*_backup/(.*)$
>> RedirectMatch 404 ^/.*bak/(.*)$
>> RedirectMatch 404 ^/.*_errors/(.*)$
>> RedirectMatch 404 ^/.*htbin/(.*)$
>> RedirectMatch 404 ^/.*iisadmin/(.*)$
>> RedirectMatch 404 ^/.*iisprotect/(.*)$
>> RedirectMatch 404 ^/.*iissamples/(.*)$
>> RedirectMatch 404 ^/.*incoming/(.*)$
>> RedirectMatch 404 ^/.*Install/(.*)$
>> RedirectMatch 404 ^/.*logs/(.*)$
>> RedirectMatch 404 ^/.*Log/(.*)$
>> RedirectMatch 404 ^/.*LOG/(.*)$
>> RedirectMatch 404 ^/.*lost\+found/(.*)$
>> RedirectMatch 404 ^/.*oldfiles/(.*)$
>> RedirectMatch 404 ^/.*_passwords/(.*)$
>> RedirectMatch 404 ^/.*_private/(.*)$
>> RedirectMatch 404 ^/.*sslkeys/(.*)$
>> RedirectMatch 404 ^/.*sysbackup/(.*)$
>> RedirectMatch 404 ^/.*sysbackup/(.*)$
>> RedirectMatch 404 ^/.*temp/(.*)$
>> RedirectMatch 404 ^/.*_vti_bin/(.*)$
>> RedirectMatch 404 ^/.*_vti_bot/(.*)$
>> RedirectMatch 404 ^/.*_vti_log/(.*)$
>> RedirectMatch 404 ^/.*_vti_pvt/(.*)$
>> RedirectMatch 404 ^/.*_vti_shm/(.*)$
>> RedirectMatch 404 ^/.*_vti_txt/(.*)$
>> RedirectMatch 404 ^/.*webmaster_logs/(.*)$
>> RedirectMatch 404 ^/.*wwwlog/(.*)$
>> RedirectMatch 404 ^/.*~
>> RedirectMatch 404 ^/.*Administration/(.*)$
>> RedirectMatch 404 ^/.*AdvWebAdmin/(.*)$
>> RedirectMatch 404 ^/.*asp/(.*)$
>> RedirectMatch 404 ^/.*aspx/(.*)$
>> RedirectMatch 404 ^/.*authadmin/(.*)$
>> RedirectMatch 404 ^/.*BizTalkServerRepository/(.*)$
>> RedirectMatch 404 ^/.*blindblog/(.*)$
>> RedirectMatch 404 ^/.*cbblog/(.*)$
>> RedirectMatch 404 ^/.*ccards/(.*)$
>> RedirectMatch 404 ^/.*centreon/(.*)$
>> RedirectMatch 404 ^/.*certificate/(.*)$
>> RedirectMatch 404 ^/.*cgi-auth/(.*)$
>> RedirectMatch 404 ^/.*cgi-bin2/(.*)$
>> RedirectMatch 404 ^/.*cgi-bin/(.*)$
>> RedirectMatch 404 ^/.*cgi-csc/(.*)$
>> RedirectMatch 404 ^/.*cgi-isapi/(.*)$
>> RedirectMatch 404 ^/.*cgi-lib/(.*)$
>> RedirectMatch 404 ^/.*cgi-local/(.*)$
>> RedirectMatch 404 ^/.*cgi-public/(.*)$
>> RedirectMatch 404 ^/.*cgi-shl/(.*)$
>> RedirectMatch 404 ^/.*cgi-shl/(.*)$
>> RedirectMatch 404 ^/.*cgi-shop/(.*)$
>> RedirectMatch 404 ^/.*cgi-sys/(.*)$
>> RedirectMatch 404 ^/.*cgi-weddico/(.*)$
>> RedirectMatch 404 ^/.*cgi-win/(.*)$
>> RedirectMatch 404 ^/.*cgiwin/(.*)$
>> RedirectMatch 404 ^/.*commoncgi/(.*)$
>> RedirectMatch 404 ^/.*console/(.*)$
>> RedirectMatch 404 ^/.*ControlManager/(.*)$
>> RedirectMatch 404 ^/.*cs-dns/(.*)$
>> RedirectMatch 404 ^/.*cs-whois/(.*)$
>> RedirectMatch 404 ^/.*cvstrac/(.*)$
>> RedirectMatch 404 ^/.*database-admin/(.*)$
>> RedirectMatch 404 ^/.*databaseadmin/(.*)$
>> RedirectMatch 404 ^/.*databasemanager/(.*)$
>> RedirectMatch 404 ^/.*databaseweb/(.*)$
>> RedirectMatch 404 ^/.*dbma/(.*)$
>> RedirectMatch 404 ^/.*dmanager/(.*)$
>> RedirectMatch 404 ^/.*dokuwiki/(.*)$
>> RedirectMatch 404 ^/.*dokuwiki/(.*)$
>> RedirectMatch 404 ^/.*DotNetNuke/(.*)$
>> RedirectMatch 404 ^/.*dotProject/(.*)$
>> RedirectMatch 404 ^/.*dotProject/(.*)$
>> RedirectMatch 404 ^/.*drupal/(.*)$
>> RedirectMatch 404 ^/.*fileserver/(.*)$
>> RedirectMatch 404 ^/.*hastymail2/(.*)$
>> RedirectMatch 404 ^/.*Hastymail2/(.*)$
>> RedirectMatch 404 ^/.*hastymail/(.*)$
>> RedirectMatch 404 ^/.*Hastymail/(.*)$
>> RedirectMatch 404 ^/.*horde3/(.*)$
>> RedirectMatch 404 ^/.*horde/(.*)$
>> RedirectMatch 404 ^/.*intruvert/(.*)$
>> RedirectMatch 404 ^/.*isapi/(.*)$
>> RedirectMatch 404 ^/.*joomla\.php
>> RedirectMatch 404 ^/.*joomla/(.*)$
>> RedirectMatch 404 ^/.*libraries/dbg/setup\.php
>> RedirectMatch 404 ^/.*mailwise/(.*)$
>> RedirectMatch 404 ^/.*mambo/(.*)$
>> RedirectMatch 404 ^/.*manageengine/(.*)$
>> RedirectMatch 404 ^/.*mercuryboard/(.*)$
>> RedirectMatch 404 ^/.*monitoring/(.*)$
>> RedirectMatch 404 ^/.*MSWSMTP/(.*)$
>> RedirectMatch 404 ^/.*mysql_admin/(.*)$
>> RedirectMatch 404 ^/.*nagiosxi/(.*)$
>> RedirectMatch 404 ^/.*NetDynamic/(.*)$
>> RedirectMatch 404 ^/.*oracle/(.*)$
>> RedirectMatch 404 ^/.*orion/(.*)$
>> RedirectMatch 404 ^/.*Orion/(.*)$
>> RedirectMatch 404 ^/.*outgoing/(.*)$
>> RedirectMatch 404 ^/.*oxid-eshop/(.*)$
>> RedirectMatch 404 ^/.*passwiki/(.*)$
>> RedirectMatch 404 ^/.*pccsmysqladm/(.*)$
>> RedirectMatch 404 ^/.*perl/(.*)$
>> RedirectMatch 404 ^/.*phorum/(.*)$
>> RedirectMatch 404 ^/.*phpBB/(.*)$
>> RedirectMatch 404 ^/.*php_fusion/(.*)$
>> RedirectMatch 404 ^/.*phplinkadmin/(.*)$
>> RedirectMatch 404 ^/.*phpmyadmin/(.*)$
>> RedirectMatch 404 ^/.*phpMyAdmin/(.*)$
>> RedirectMatch 404 ^/.*phpmyfaq/(.*)$
>> RedirectMatch 404 ^/.*phpnagios/(.*)$
>> RedirectMatch 404 ^/.*phpNagios/(.*)$
>> RedirectMatch 404 ^/.*php-nuke/(.*)$
>> RedirectMatch 404 ^/.*phpnuke/(.*)$
>> RedirectMatch 404 ^/.*phpnuke/(.*)$
>> RedirectMatch 404 ^/.*phpPhotoAlbum/(.*)$
>> RedirectMatch 404 ^/.*phpprojekt/(.*)$
>> RedirectMatch 404 ^/.*pligg/(.*)$
>> RedirectMatch 404 ^/.*pma2005/(.*)$
>> RedirectMatch 404 ^/.*PMA2005/(.*)$
>> RedirectMatch 404 ^/.*pma2006/(.*)$
>> RedirectMatch 404 ^/.*PMA2006/(.*)$
>> RedirectMatch 404 ^/.*pma2007/(.*)$
>> RedirectMatch 404 ^/.*PMA2007/(.*)$
>> RedirectMatch 404 ^/.*pma2008/(.*)$
>> RedirectMatch 404 ^/.*PMA2008/(.*)$
>> RedirectMatch 404 ^/.*pma2009/(.*)$
>> RedirectMatch 404 ^/.*PMA2009/(.*)$
>> RedirectMatch 404 ^/.*pma2010/(.*)$
>> RedirectMatch 404 ^/.*PMA2010/(.*)$
>> RedirectMatch 404 ^/.*pma2011/(.*)$
>> RedirectMatch 404 ^/.*PMA2011/(.*)$
>> RedirectMatch 404 ^/.*pma2012/(.*)$
>> RedirectMatch 404 ^/.*PMA2012/(.*)$
>> RedirectMatch 404 ^/.*pma/(.*)$
>> RedirectMatch 404 ^/.*PMA/(.*)$
>> RedirectMatch 404 ^/.*postgres/(.*)$
>> RedirectMatch 404 ^/.*PostNuke/(.*)$
>> RedirectMatch 404 ^/.*_ScriptLibrary/(.*)$
>> RedirectMatch 404 ^/.*scripts/setup\.php
>> RedirectMatch 404 ^/.*serverconf\.inc.php
>> RedirectMatch 404 ^/.*serverconf\.php
>> RedirectMatch 404 ^/.*servlet/(.*)$
>> RedirectMatch 404 ^/.*SilverStream/(.*)$
>> RedirectMatch 404 ^/.*siteadmin/(.*)$
>> RedirectMatch 404 ^/.*sm_forum/(.*)$
>> RedirectMatch 404 ^/.*snipegallery/(.*)$
>> RedirectMatch 404 ^/.*StoreDB/(.*)$
>> RedirectMatch 404 ^/.*sympa/(.*)$
>> RedirectMatch 404 ^/.*syshelp/(.*)$
>> RedirectMatch 404 ^/.*sysuser/(.*)$
>> RedirectMatch 404 ^/.*tcexam/(.*)$
>> RedirectMatch 404 ^/.*tcpdb/(.*)$
>> RedirectMatch 404 ^/.*tikiwiki/(.*)$
>> RedirectMatch 404 ^/.*torrent/(.*)$
>> RedirectMatch 404 ^/.*torrentvolve/(.*)$
>> RedirectMatch 404 ^/.*viart_cms/(.*)$
>> RedirectMatch 404 ^/.*webalizer/(.*)$
>> RedirectMatch 404 ^/.*webboard/(.*)$
>> RedirectMatch 404 ^/.*WebCalendar/(.*)$
>> RedirectMatch 404 ^/.*webmatic/(.*)$
>> RedirectMatch 404 ^/.*webmin/(.*)$
>> RedirectMatch 404 ^/.*websvn/(.*)$
>> RedirectMatch 404 ^/.*WebTrend/(.*)$
>> RedirectMatch 404 ^/.*wordpress-mu/(.*)$
>> RedirectMatch 404 ^/.*wordpress/(.*)$
>> RedirectMatch 404 ^/.*wp-config\.php
>> RedirectMatch 404 ^/.*wp-content/(.*)$
>> RedirectMatch 404 ^/.*wp-login\.php
>> RedirectMatch 404 ^/.*wwwping/(.*)$
>> RedirectMatch 404 ^/.*xmlrpc\.php
>> RedirectMatch 404 ^/.*xwiki/(.*)$
>> RedirectMatch 404 ^/.*zikula/(.*)$
>>
>> Am 19.06.2015 um 18:50 schrieb Jim Jagielski:
>>
>>> The pre-release test tarballs for Apache httpd 2.4.15 can be found
>>> at the usual place:
>>>
>>>     http://httpd.apache.org/dev/dist/
>>>
>>> I'm calling a VOTE on releasing these as Apache httpd 2.4.15 GA.
>>>
>>> [ ] +1: Good to go
>>> [ ] +0: meh
>>> [ ] -1: Danger Will Robinson. And why.
>>>
>>> Vote will last the normal 72 hrs.
>>>
>>> NOTE: The *-deps are only there for convenience.
>>>
>>> Thx!
>>>
>>> PS: Hopefully, 3rd time's the charm!
>>>
>>
>

--001a11c2c588a67d0605190bc508
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">Reindl,</p>
<p dir=3D"ltr">Try reverting <a href=3D"http://svn.apache.org/viewvc?view=
=3Drevision&amp;revision=3D1663259">http://svn.apache.org/viewvc?view=3Drev=
ision&amp;revision=3D1663259</a> and see if this resolves your observed def=
ect.</p>
<div class=3D"gmail_quote">On Jun 21, 2015 12:53 PM, &quot;Reindl Harald&qu=
ot; &lt;<a href=3D"mailto:h.reindl@thelounge.net">h.reindl@thelounge.net</a=
>&gt; wrote:<br type=3D"attribution"><blockquote class=3D"gmail_quote" styl=
e=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">in fact=
 RedirectMatch is *completly* broken<br>
<br>
RedirectMatch 404 ^\/something\/$<br>
<br>
and *any* URI get a 404 response not just with the long list from my previo=
us post<br>
<br>
Am 21.06.2015 um 18:57 schrieb Reindl Harald:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
-1<br>
<br>
just rebuilt my httpd rpm with the<br>
<a href=3D"http://httpd.apache.org/dev/dist/httpd-2.4.15.tar.bz2" rel=3D"no=
referrer" target=3D"_blank">http://httpd.apache.org/dev/dist/httpd-2.4.15.t=
ar.bz2</a> on my testserver<br>
and all vhosts are coming with a 404 page and nothing in the errorlog<br>
<br>
first i thought it&#39;s a https problem cause by a self signed wildcard<br=
>
certificate, but the same after remove the mod_rewrite redirction<br>
________________________________<br>
<br>
&quot;LogLevel debug core:debug&quot; is not much helpful with only 1 line =
for<br>
each request<br>
<br>
[Sun Jun 21 18:50:46.<a href=3D"tel:972582%202015" value=3D"+19725822015" t=
arget=3D"_blank">972582 2015</a>] [headers:debug] [pid 25479]<br>
mod_headers.c(899): AH01503: headers: ap_headers_error_filter()<br>
________________________________<br>
<br>
it is in fact that configuration file which suddenly triggers at *every*<br=
>
request instead just mask several unwanted software even if it would<br>
exist on the machine<br>
<br>
[root@testserver:~]$ cat conf/httpd-deny.conf<br>
&lt;Directory=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0&quot;/=
var/www/cgi-bin&quot;&gt;<br>
=C2=A0 AllowOverride=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0None<br>
=C2=A0 Options=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0None<br>
=C2=A0 Require=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0all denied<br>
&lt;/Directory&gt;<br>
&lt;Files=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0~ &quot;^\.ht&quot;&gt;<br>
=C2=A0 Require=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0all denied<br>
&lt;/Files&gt;<br>
RedirectMatch 404 ^/.*\.svn/(.*)$<br>
RedirectMatch 404 ^/.*CVS/(.*)$<br>
RedirectMatch 404 ^/.*\.asax$<br>
RedirectMatch 404 ^/.*\.ascx$<br>
RedirectMatch 404 ^/.*\.ashx$<br>
RedirectMatch 404 ^/.*\.asmx$<br>
RedirectMatch 404 ^/.*\.asp$<br>
RedirectMatch 404 ^/.*\.aspx$<br>
RedirectMatch 404 ^/.*\.axd$<br>
RedirectMatch 404 ^/.*\.back$<br>
RedirectMatch 404 ^/.*\.bak$<br>
RedirectMatch 404 ^/.*\.bat$<br>
RedirectMatch 404 ^/.*\.cfm$<br>
RedirectMatch 404 ^/.*\.cmd$<br>
RedirectMatch 404 ^/.*\.csproj$<br>
RedirectMatch 404 ^/.*\.dll$<br>
RedirectMatch 404 ^/.*\.DS_Store$<br>
RedirectMatch 404 ^/.*\.exe$<br>
RedirectMatch 404 ^/.*\.FBCIndex$<br>
RedirectMatch 404 ^/.*\.ini$<br>
RedirectMatch 404 ^/.*\.jhtml$<br>
RedirectMatch 404 ^/.*\.jsp$<br>
RedirectMatch 404 ^/.*\.log$<br>
RedirectMatch 404 ^/.*\.mdf$<br>
RedirectMatch 404 ^/.*\.ocx$<br>
RedirectMatch 404 ^/.*\.py$<br>
RedirectMatch 404 ^/.*\.rb$<br>
RedirectMatch 404 ^/.*\.sh$<br>
RedirectMatch 404 ^/.*\.sql$<br>
RedirectMatch 404 ^/.*\.vbproj$<br>
RedirectMatch 404 ^/.*\.webinfo$<br>
RedirectMatch 404 ^/.*admin-bak/(.*)$<br>
RedirectMatch 404 ^/.*~admin/(.*)$<br>
RedirectMatch 404 ^/.*backups/(.*)$<br>
RedirectMatch 404 ^/.*backup/(.*)$<br>
RedirectMatch 404 ^/.*_backup/(.*)$<br>
RedirectMatch 404 ^/.*bak/(.*)$<br>
RedirectMatch 404 ^/.*_errors/(.*)$<br>
RedirectMatch 404 ^/.*htbin/(.*)$<br>
RedirectMatch 404 ^/.*iisadmin/(.*)$<br>
RedirectMatch 404 ^/.*iisprotect/(.*)$<br>
RedirectMatch 404 ^/.*iissamples/(.*)$<br>
RedirectMatch 404 ^/.*incoming/(.*)$<br>
RedirectMatch 404 ^/.*Install/(.*)$<br>
RedirectMatch 404 ^/.*logs/(.*)$<br>
RedirectMatch 404 ^/.*Log/(.*)$<br>
RedirectMatch 404 ^/.*LOG/(.*)$<br>
RedirectMatch 404 ^/.*lost\+found/(.*)$<br>
RedirectMatch 404 ^/.*oldfiles/(.*)$<br>
RedirectMatch 404 ^/.*_passwords/(.*)$<br>
RedirectMatch 404 ^/.*_private/(.*)$<br>
RedirectMatch 404 ^/.*sslkeys/(.*)$<br>
RedirectMatch 404 ^/.*sysbackup/(.*)$<br>
RedirectMatch 404 ^/.*sysbackup/(.*)$<br>
RedirectMatch 404 ^/.*temp/(.*)$<br>
RedirectMatch 404 ^/.*_vti_bin/(.*)$<br>
RedirectMatch 404 ^/.*_vti_bot/(.*)$<br>
RedirectMatch 404 ^/.*_vti_log/(.*)$<br>
RedirectMatch 404 ^/.*_vti_pvt/(.*)$<br>
RedirectMatch 404 ^/.*_vti_shm/(.*)$<br>
RedirectMatch 404 ^/.*_vti_txt/(.*)$<br>
RedirectMatch 404 ^/.*webmaster_logs/(.*)$<br>
RedirectMatch 404 ^/.*wwwlog/(.*)$<br>
RedirectMatch 404 ^/.*~<br>
RedirectMatch 404 ^/.*Administration/(.*)$<br>
RedirectMatch 404 ^/.*AdvWebAdmin/(.*)$<br>
RedirectMatch 404 ^/.*asp/(.*)$<br>
RedirectMatch 404 ^/.*aspx/(.*)$<br>
RedirectMatch 404 ^/.*authadmin/(.*)$<br>
RedirectMatch 404 ^/.*BizTalkServerRepository/(.*)$<br>
RedirectMatch 404 ^/.*blindblog/(.*)$<br>
RedirectMatch 404 ^/.*cbblog/(.*)$<br>
RedirectMatch 404 ^/.*ccards/(.*)$<br>
RedirectMatch 404 ^/.*centreon/(.*)$<br>
RedirectMatch 404 ^/.*certificate/(.*)$<br>
RedirectMatch 404 ^/.*cgi-auth/(.*)$<br>
RedirectMatch 404 ^/.*cgi-bin2/(.*)$<br>
RedirectMatch 404 ^/.*cgi-bin/(.*)$<br>
RedirectMatch 404 ^/.*cgi-csc/(.*)$<br>
RedirectMatch 404 ^/.*cgi-isapi/(.*)$<br>
RedirectMatch 404 ^/.*cgi-lib/(.*)$<br>
RedirectMatch 404 ^/.*cgi-local/(.*)$<br>
RedirectMatch 404 ^/.*cgi-public/(.*)$<br>
RedirectMatch 404 ^/.*cgi-shl/(.*)$<br>
RedirectMatch 404 ^/.*cgi-shl/(.*)$<br>
RedirectMatch 404 ^/.*cgi-shop/(.*)$<br>
RedirectMatch 404 ^/.*cgi-sys/(.*)$<br>
RedirectMatch 404 ^/.*cgi-weddico/(.*)$<br>
RedirectMatch 404 ^/.*cgi-win/(.*)$<br>
RedirectMatch 404 ^/.*cgiwin/(.*)$<br>
RedirectMatch 404 ^/.*commoncgi/(.*)$<br>
RedirectMatch 404 ^/.*console/(.*)$<br>
RedirectMatch 404 ^/.*ControlManager/(.*)$<br>
RedirectMatch 404 ^/.*cs-dns/(.*)$<br>
RedirectMatch 404 ^/.*cs-whois/(.*)$<br>
RedirectMatch 404 ^/.*cvstrac/(.*)$<br>
RedirectMatch 404 ^/.*database-admin/(.*)$<br>
RedirectMatch 404 ^/.*databaseadmin/(.*)$<br>
RedirectMatch 404 ^/.*databasemanager/(.*)$<br>
RedirectMatch 404 ^/.*databaseweb/(.*)$<br>
RedirectMatch 404 ^/.*dbma/(.*)$<br>
RedirectMatch 404 ^/.*dmanager/(.*)$<br>
RedirectMatch 404 ^/.*dokuwiki/(.*)$<br>
RedirectMatch 404 ^/.*dokuwiki/(.*)$<br>
RedirectMatch 404 ^/.*DotNetNuke/(.*)$<br>
RedirectMatch 404 ^/.*dotProject/(.*)$<br>
RedirectMatch 404 ^/.*dotProject/(.*)$<br>
RedirectMatch 404 ^/.*drupal/(.*)$<br>
RedirectMatch 404 ^/.*fileserver/(.*)$<br>
RedirectMatch 404 ^/.*hastymail2/(.*)$<br>
RedirectMatch 404 ^/.*Hastymail2/(.*)$<br>
RedirectMatch 404 ^/.*hastymail/(.*)$<br>
RedirectMatch 404 ^/.*Hastymail/(.*)$<br>
RedirectMatch 404 ^/.*horde3/(.*)$<br>
RedirectMatch 404 ^/.*horde/(.*)$<br>
RedirectMatch 404 ^/.*intruvert/(.*)$<br>
RedirectMatch 404 ^/.*isapi/(.*)$<br>
RedirectMatch 404 ^/.*joomla\.php<br>
RedirectMatch 404 ^/.*joomla/(.*)$<br>
RedirectMatch 404 ^/.*libraries/dbg/setup\.php<br>
RedirectMatch 404 ^/.*mailwise/(.*)$<br>
RedirectMatch 404 ^/.*mambo/(.*)$<br>
RedirectMatch 404 ^/.*manageengine/(.*)$<br>
RedirectMatch 404 ^/.*mercuryboard/(.*)$<br>
RedirectMatch 404 ^/.*monitoring/(.*)$<br>
RedirectMatch 404 ^/.*MSWSMTP/(.*)$<br>
RedirectMatch 404 ^/.*mysql_admin/(.*)$<br>
RedirectMatch 404 ^/.*nagiosxi/(.*)$<br>
RedirectMatch 404 ^/.*NetDynamic/(.*)$<br>
RedirectMatch 404 ^/.*oracle/(.*)$<br>
RedirectMatch 404 ^/.*orion/(.*)$<br>
RedirectMatch 404 ^/.*Orion/(.*)$<br>
RedirectMatch 404 ^/.*outgoing/(.*)$<br>
RedirectMatch 404 ^/.*oxid-eshop/(.*)$<br>
RedirectMatch 404 ^/.*passwiki/(.*)$<br>
RedirectMatch 404 ^/.*pccsmysqladm/(.*)$<br>
RedirectMatch 404 ^/.*perl/(.*)$<br>
RedirectMatch 404 ^/.*phorum/(.*)$<br>
RedirectMatch 404 ^/.*phpBB/(.*)$<br>
RedirectMatch 404 ^/.*php_fusion/(.*)$<br>
RedirectMatch 404 ^/.*phplinkadmin/(.*)$<br>
RedirectMatch 404 ^/.*phpmyadmin/(.*)$<br>
RedirectMatch 404 ^/.*phpMyAdmin/(.*)$<br>
RedirectMatch 404 ^/.*phpmyfaq/(.*)$<br>
RedirectMatch 404 ^/.*phpnagios/(.*)$<br>
RedirectMatch 404 ^/.*phpNagios/(.*)$<br>
RedirectMatch 404 ^/.*php-nuke/(.*)$<br>
RedirectMatch 404 ^/.*phpnuke/(.*)$<br>
RedirectMatch 404 ^/.*phpnuke/(.*)$<br>
RedirectMatch 404 ^/.*phpPhotoAlbum/(.*)$<br>
RedirectMatch 404 ^/.*phpprojekt/(.*)$<br>
RedirectMatch 404 ^/.*pligg/(.*)$<br>
RedirectMatch 404 ^/.*pma2005/(.*)$<br>
RedirectMatch 404 ^/.*PMA2005/(.*)$<br>
RedirectMatch 404 ^/.*pma2006/(.*)$<br>
RedirectMatch 404 ^/.*PMA2006/(.*)$<br>
RedirectMatch 404 ^/.*pma2007/(.*)$<br>
RedirectMatch 404 ^/.*PMA2007/(.*)$<br>
RedirectMatch 404 ^/.*pma2008/(.*)$<br>
RedirectMatch 404 ^/.*PMA2008/(.*)$<br>
RedirectMatch 404 ^/.*pma2009/(.*)$<br>
RedirectMatch 404 ^/.*PMA2009/(.*)$<br>
RedirectMatch 404 ^/.*pma2010/(.*)$<br>
RedirectMatch 404 ^/.*PMA2010/(.*)$<br>
RedirectMatch 404 ^/.*pma2011/(.*)$<br>
RedirectMatch 404 ^/.*PMA2011/(.*)$<br>
RedirectMatch 404 ^/.*pma2012/(.*)$<br>
RedirectMatch 404 ^/.*PMA2012/(.*)$<br>
RedirectMatch 404 ^/.*pma/(.*)$<br>
RedirectMatch 404 ^/.*PMA/(.*)$<br>
RedirectMatch 404 ^/.*postgres/(.*)$<br>
RedirectMatch 404 ^/.*PostNuke/(.*)$<br>
RedirectMatch 404 ^/.*_ScriptLibrary/(.*)$<br>
RedirectMatch 404 ^/.*scripts/setup\.php<br>
RedirectMatch 404 ^/.*serverconf\.inc.php<br>
RedirectMatch 404 ^/.*serverconf\.php<br>
RedirectMatch 404 ^/.*servlet/(.*)$<br>
RedirectMatch 404 ^/.*SilverStream/(.*)$<br>
RedirectMatch 404 ^/.*siteadmin/(.*)$<br>
RedirectMatch 404 ^/.*sm_forum/(.*)$<br>
RedirectMatch 404 ^/.*snipegallery/(.*)$<br>
RedirectMatch 404 ^/.*StoreDB/(.*)$<br>
RedirectMatch 404 ^/.*sympa/(.*)$<br>
RedirectMatch 404 ^/.*syshelp/(.*)$<br>
RedirectMatch 404 ^/.*sysuser/(.*)$<br>
RedirectMatch 404 ^/.*tcexam/(.*)$<br>
RedirectMatch 404 ^/.*tcpdb/(.*)$<br>
RedirectMatch 404 ^/.*tikiwiki/(.*)$<br>
RedirectMatch 404 ^/.*torrent/(.*)$<br>
RedirectMatch 404 ^/.*torrentvolve/(.*)$<br>
RedirectMatch 404 ^/.*viart_cms/(.*)$<br>
RedirectMatch 404 ^/.*webalizer/(.*)$<br>
RedirectMatch 404 ^/.*webboard/(.*)$<br>
RedirectMatch 404 ^/.*WebCalendar/(.*)$<br>
RedirectMatch 404 ^/.*webmatic/(.*)$<br>
RedirectMatch 404 ^/.*webmin/(.*)$<br>
RedirectMatch 404 ^/.*websvn/(.*)$<br>
RedirectMatch 404 ^/.*WebTrend/(.*)$<br>
RedirectMatch 404 ^/.*wordpress-mu/(.*)$<br>
RedirectMatch 404 ^/.*wordpress/(.*)$<br>
RedirectMatch 404 ^/.*wp-config\.php<br>
RedirectMatch 404 ^/.*wp-content/(.*)$<br>
RedirectMatch 404 ^/.*wp-login\.php<br>
RedirectMatch 404 ^/.*wwwping/(.*)$<br>
RedirectMatch 404 ^/.*xmlrpc\.php<br>
RedirectMatch 404 ^/.*xwiki/(.*)$<br>
RedirectMatch 404 ^/.*zikula/(.*)$<br>
<br>
Am 19.06.2015 um 18:50 schrieb Jim Jagielski:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
The pre-release test tarballs for Apache httpd 2.4.15 can be found<br>
at the usual place:<br>
<br>
=C2=A0 =C2=A0 <a href=3D"http://httpd.apache.org/dev/dist/" rel=3D"noreferr=
er" target=3D"_blank">http://httpd.apache.org/dev/dist/</a><br>
<br>
I&#39;m calling a VOTE on releasing these as Apache httpd 2.4.15 GA.<br>
<br>
[ ] +1: Good to go<br>
[ ] +0: meh<br>
[ ] -1: Danger Will Robinson. And why.<br>
<br>
Vote will last the normal 72 hrs.<br>
<br>
NOTE: The *-deps are only there for convenience.<br>
<br>
Thx!<br>
<br>
PS: Hopefully, 3rd time&#39;s the charm!<br>
</blockquote></blockquote>
<br>
</blockquote></div>

--001a11c2c588a67d0605190bc508--

From dev-return-83097-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 19:02:59 2015
Return-Path: <dev-return-83097-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3576018805
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 19:02:59 +0000 (UTC)
Received: (qmail 47445 invoked by uid 500); 21 Jun 2015 19:02:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 47361 invoked by uid 500); 21 Jun 2015 19:02:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 47351 invoked by uid 99); 21 Jun 2015 19:02:58 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 19:02:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 491C3C0637
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 19:02:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.208
X-Spam-Level:
X-Spam-Status: No, score=-1.208 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id eMPbf5lFxLau for <dev@httpd.apache.org>;
	Sun, 21 Jun 2015 19:02:54 +0000 (UTC)
Received: from mail-ig0-f171.google.com (mail-ig0-f171.google.com [209.85.213.171])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 1A1D121115
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 19:02:53 +0000 (UTC)
Received: by igboe5 with SMTP id oe5so48970936igb.1
        for <dev@httpd.apache.org>; Sun, 21 Jun 2015 12:02:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=dvwGYfz1swM4em30rIc1m1dBkQLBzd9riLAfBtEt/T0=;
        b=NpxUOnciBW5FRBXTPiaIexkYLnLdLP9GKCfOwDKTBu/2Qmc4v7h64+eTwAfj8+Mg3T
         o679XVJrLcLeOF2274kVyGZnJPHqWUt3aIxMDFr7YZyE95yJ0ddIAUcJWAltxN+4JKKg
         MZK/9QcNjwnRFXtwSY6+/MASCj5GPoFKckAQHihQRG18zoXDsrkPOg5/P+VsxrITx3ho
         8tWIN6bXcFsB3FRFCgHul0AhxYZh8qJCC5ungKsQo2/XIUiO5vis89jO5R1d4C3tADrU
         OBVOU6i6sIUlLR2CFYXLVMn5z/LRhjQv8XhXp5xBLSPB1IMSKrInpiMAhzQdWWuGnWfW
         Rfwg==
MIME-Version: 1.0
X-Received: by 10.43.162.136 with SMTP id mk8mr21965420icc.28.1434913366469;
 Sun, 21 Jun 2015 12:02:46 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Sun, 21 Jun 2015 12:02:46 -0700 (PDT)
In-Reply-To: <5586F9F3.20709@thelounge.net>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
	<5586ECF8.8040000@thelounge.net>
	<5586F9F3.20709@thelounge.net>
Date: Sun, 21 Jun 2015 21:02:46 +0200
Message-ID: <CAKQ1sVOtqVZcyb=RtVaDJwtedEfj_FR46LnOZAhMGrnN9g0JOQ@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

It seems that RedirectMatch isn't documented without the third (URL)
argument, unless in <Location>.
And [1] broke your configuration, assuming "^\/something\/$" is an
expression (not a regex).

[1] http://svn.apache.org/r1663259


On Sun, Jun 21, 2015 at 7:52 PM, Reindl Harald <h.reindl@thelounge.net> wrote:
> in fact RedirectMatch is *completly* broken
>
> RedirectMatch 404 ^\/something\/$
>
> and *any* URI get a 404 response not just with the long list from my
> previous post
>
>
> Am 21.06.2015 um 18:57 schrieb Reindl Harald:
>>
>> -1
>>
>> just rebuilt my httpd rpm with the
>> http://httpd.apache.org/dev/dist/httpd-2.4.15.tar.bz2 on my testserver
>> and all vhosts are coming with a 404 page and nothing in the errorlog
>>
>> first i thought it's a https problem cause by a self signed wildcard
>> certificate, but the same after remove the mod_rewrite redirction
>> ________________________________
>>
>> "LogLevel debug core:debug" is not much helpful with only 1 line for
>> each request
>>
>> [Sun Jun 21 18:50:46.972582 2015] [headers:debug] [pid 25479]
>> mod_headers.c(899): AH01503: headers: ap_headers_error_filter()
>> ________________________________
>>
>> it is in fact that configuration file which suddenly triggers at *every*
>> request instead just mask several unwanted software even if it would
>> exist on the machine
>>
>> [root@testserver:~]$ cat conf/httpd-deny.conf
>> <Directory               "/var/www/cgi-bin">
>>   AllowOverride           None
>>   Options                 None
>>   Require                 all denied
>> </Directory>
>> <Files                   ~ "^\.ht">
>>   Require                 all denied
>> </Files>
>> RedirectMatch 404 ^/.*\.svn/(.*)$
>> RedirectMatch 404 ^/.*CVS/(.*)$
>> RedirectMatch 404 ^/.*\.asax$
>> RedirectMatch 404 ^/.*\.ascx$
>> RedirectMatch 404 ^/.*\.ashx$
>> RedirectMatch 404 ^/.*\.asmx$
>> RedirectMatch 404 ^/.*\.asp$
>> RedirectMatch 404 ^/.*\.aspx$
>> RedirectMatch 404 ^/.*\.axd$
>> RedirectMatch 404 ^/.*\.back$
>> RedirectMatch 404 ^/.*\.bak$
>> RedirectMatch 404 ^/.*\.bat$
>> RedirectMatch 404 ^/.*\.cfm$
>> RedirectMatch 404 ^/.*\.cmd$
>> RedirectMatch 404 ^/.*\.csproj$
>> RedirectMatch 404 ^/.*\.dll$
>> RedirectMatch 404 ^/.*\.DS_Store$
>> RedirectMatch 404 ^/.*\.exe$
>> RedirectMatch 404 ^/.*\.FBCIndex$
>> RedirectMatch 404 ^/.*\.ini$
>> RedirectMatch 404 ^/.*\.jhtml$
>> RedirectMatch 404 ^/.*\.jsp$
>> RedirectMatch 404 ^/.*\.log$
>> RedirectMatch 404 ^/.*\.mdf$
>> RedirectMatch 404 ^/.*\.ocx$
>> RedirectMatch 404 ^/.*\.py$
>> RedirectMatch 404 ^/.*\.rb$
>> RedirectMatch 404 ^/.*\.sh$
>> RedirectMatch 404 ^/.*\.sql$
>> RedirectMatch 404 ^/.*\.vbproj$
>> RedirectMatch 404 ^/.*\.webinfo$
>> RedirectMatch 404 ^/.*admin-bak/(.*)$
>> RedirectMatch 404 ^/.*~admin/(.*)$
>> RedirectMatch 404 ^/.*backups/(.*)$
>> RedirectMatch 404 ^/.*backup/(.*)$
>> RedirectMatch 404 ^/.*_backup/(.*)$
>> RedirectMatch 404 ^/.*bak/(.*)$
>> RedirectMatch 404 ^/.*_errors/(.*)$
>> RedirectMatch 404 ^/.*htbin/(.*)$
>> RedirectMatch 404 ^/.*iisadmin/(.*)$
>> RedirectMatch 404 ^/.*iisprotect/(.*)$
>> RedirectMatch 404 ^/.*iissamples/(.*)$
>> RedirectMatch 404 ^/.*incoming/(.*)$
>> RedirectMatch 404 ^/.*Install/(.*)$
>> RedirectMatch 404 ^/.*logs/(.*)$
>> RedirectMatch 404 ^/.*Log/(.*)$
>> RedirectMatch 404 ^/.*LOG/(.*)$
>> RedirectMatch 404 ^/.*lost\+found/(.*)$
>> RedirectMatch 404 ^/.*oldfiles/(.*)$
>> RedirectMatch 404 ^/.*_passwords/(.*)$
>> RedirectMatch 404 ^/.*_private/(.*)$
>> RedirectMatch 404 ^/.*sslkeys/(.*)$
>> RedirectMatch 404 ^/.*sysbackup/(.*)$
>> RedirectMatch 404 ^/.*sysbackup/(.*)$
>> RedirectMatch 404 ^/.*temp/(.*)$
>> RedirectMatch 404 ^/.*_vti_bin/(.*)$
>> RedirectMatch 404 ^/.*_vti_bot/(.*)$
>> RedirectMatch 404 ^/.*_vti_log/(.*)$
>> RedirectMatch 404 ^/.*_vti_pvt/(.*)$
>> RedirectMatch 404 ^/.*_vti_shm/(.*)$
>> RedirectMatch 404 ^/.*_vti_txt/(.*)$
>> RedirectMatch 404 ^/.*webmaster_logs/(.*)$
>> RedirectMatch 404 ^/.*wwwlog/(.*)$
>> RedirectMatch 404 ^/.*~
>> RedirectMatch 404 ^/.*Administration/(.*)$
>> RedirectMatch 404 ^/.*AdvWebAdmin/(.*)$
>> RedirectMatch 404 ^/.*asp/(.*)$
>> RedirectMatch 404 ^/.*aspx/(.*)$
>> RedirectMatch 404 ^/.*authadmin/(.*)$
>> RedirectMatch 404 ^/.*BizTalkServerRepository/(.*)$
>> RedirectMatch 404 ^/.*blindblog/(.*)$
>> RedirectMatch 404 ^/.*cbblog/(.*)$
>> RedirectMatch 404 ^/.*ccards/(.*)$
>> RedirectMatch 404 ^/.*centreon/(.*)$
>> RedirectMatch 404 ^/.*certificate/(.*)$
>> RedirectMatch 404 ^/.*cgi-auth/(.*)$
>> RedirectMatch 404 ^/.*cgi-bin2/(.*)$
>> RedirectMatch 404 ^/.*cgi-bin/(.*)$
>> RedirectMatch 404 ^/.*cgi-csc/(.*)$
>> RedirectMatch 404 ^/.*cgi-isapi/(.*)$
>> RedirectMatch 404 ^/.*cgi-lib/(.*)$
>> RedirectMatch 404 ^/.*cgi-local/(.*)$
>> RedirectMatch 404 ^/.*cgi-public/(.*)$
>> RedirectMatch 404 ^/.*cgi-shl/(.*)$
>> RedirectMatch 404 ^/.*cgi-shl/(.*)$
>> RedirectMatch 404 ^/.*cgi-shop/(.*)$
>> RedirectMatch 404 ^/.*cgi-sys/(.*)$
>> RedirectMatch 404 ^/.*cgi-weddico/(.*)$
>> RedirectMatch 404 ^/.*cgi-win/(.*)$
>> RedirectMatch 404 ^/.*cgiwin/(.*)$
>> RedirectMatch 404 ^/.*commoncgi/(.*)$
>> RedirectMatch 404 ^/.*console/(.*)$
>> RedirectMatch 404 ^/.*ControlManager/(.*)$
>> RedirectMatch 404 ^/.*cs-dns/(.*)$
>> RedirectMatch 404 ^/.*cs-whois/(.*)$
>> RedirectMatch 404 ^/.*cvstrac/(.*)$
>> RedirectMatch 404 ^/.*database-admin/(.*)$
>> RedirectMatch 404 ^/.*databaseadmin/(.*)$
>> RedirectMatch 404 ^/.*databasemanager/(.*)$
>> RedirectMatch 404 ^/.*databaseweb/(.*)$
>> RedirectMatch 404 ^/.*dbma/(.*)$
>> RedirectMatch 404 ^/.*dmanager/(.*)$
>> RedirectMatch 404 ^/.*dokuwiki/(.*)$
>> RedirectMatch 404 ^/.*dokuwiki/(.*)$
>> RedirectMatch 404 ^/.*DotNetNuke/(.*)$
>> RedirectMatch 404 ^/.*dotProject/(.*)$
>> RedirectMatch 404 ^/.*dotProject/(.*)$
>> RedirectMatch 404 ^/.*drupal/(.*)$
>> RedirectMatch 404 ^/.*fileserver/(.*)$
>> RedirectMatch 404 ^/.*hastymail2/(.*)$
>> RedirectMatch 404 ^/.*Hastymail2/(.*)$
>> RedirectMatch 404 ^/.*hastymail/(.*)$
>> RedirectMatch 404 ^/.*Hastymail/(.*)$
>> RedirectMatch 404 ^/.*horde3/(.*)$
>> RedirectMatch 404 ^/.*horde/(.*)$
>> RedirectMatch 404 ^/.*intruvert/(.*)$
>> RedirectMatch 404 ^/.*isapi/(.*)$
>> RedirectMatch 404 ^/.*joomla\.php
>> RedirectMatch 404 ^/.*joomla/(.*)$
>> RedirectMatch 404 ^/.*libraries/dbg/setup\.php
>> RedirectMatch 404 ^/.*mailwise/(.*)$
>> RedirectMatch 404 ^/.*mambo/(.*)$
>> RedirectMatch 404 ^/.*manageengine/(.*)$
>> RedirectMatch 404 ^/.*mercuryboard/(.*)$
>> RedirectMatch 404 ^/.*monitoring/(.*)$
>> RedirectMatch 404 ^/.*MSWSMTP/(.*)$
>> RedirectMatch 404 ^/.*mysql_admin/(.*)$
>> RedirectMatch 404 ^/.*nagiosxi/(.*)$
>> RedirectMatch 404 ^/.*NetDynamic/(.*)$
>> RedirectMatch 404 ^/.*oracle/(.*)$
>> RedirectMatch 404 ^/.*orion/(.*)$
>> RedirectMatch 404 ^/.*Orion/(.*)$
>> RedirectMatch 404 ^/.*outgoing/(.*)$
>> RedirectMatch 404 ^/.*oxid-eshop/(.*)$
>> RedirectMatch 404 ^/.*passwiki/(.*)$
>> RedirectMatch 404 ^/.*pccsmysqladm/(.*)$
>> RedirectMatch 404 ^/.*perl/(.*)$
>> RedirectMatch 404 ^/.*phorum/(.*)$
>> RedirectMatch 404 ^/.*phpBB/(.*)$
>> RedirectMatch 404 ^/.*php_fusion/(.*)$
>> RedirectMatch 404 ^/.*phplinkadmin/(.*)$
>> RedirectMatch 404 ^/.*phpmyadmin/(.*)$
>> RedirectMatch 404 ^/.*phpMyAdmin/(.*)$
>> RedirectMatch 404 ^/.*phpmyfaq/(.*)$
>> RedirectMatch 404 ^/.*phpnagios/(.*)$
>> RedirectMatch 404 ^/.*phpNagios/(.*)$
>> RedirectMatch 404 ^/.*php-nuke/(.*)$
>> RedirectMatch 404 ^/.*phpnuke/(.*)$
>> RedirectMatch 404 ^/.*phpnuke/(.*)$
>> RedirectMatch 404 ^/.*phpPhotoAlbum/(.*)$
>> RedirectMatch 404 ^/.*phpprojekt/(.*)$
>> RedirectMatch 404 ^/.*pligg/(.*)$
>> RedirectMatch 404 ^/.*pma2005/(.*)$
>> RedirectMatch 404 ^/.*PMA2005/(.*)$
>> RedirectMatch 404 ^/.*pma2006/(.*)$
>> RedirectMatch 404 ^/.*PMA2006/(.*)$
>> RedirectMatch 404 ^/.*pma2007/(.*)$
>> RedirectMatch 404 ^/.*PMA2007/(.*)$
>> RedirectMatch 404 ^/.*pma2008/(.*)$
>> RedirectMatch 404 ^/.*PMA2008/(.*)$
>> RedirectMatch 404 ^/.*pma2009/(.*)$
>> RedirectMatch 404 ^/.*PMA2009/(.*)$
>> RedirectMatch 404 ^/.*pma2010/(.*)$
>> RedirectMatch 404 ^/.*PMA2010/(.*)$
>> RedirectMatch 404 ^/.*pma2011/(.*)$
>> RedirectMatch 404 ^/.*PMA2011/(.*)$
>> RedirectMatch 404 ^/.*pma2012/(.*)$
>> RedirectMatch 404 ^/.*PMA2012/(.*)$
>> RedirectMatch 404 ^/.*pma/(.*)$
>> RedirectMatch 404 ^/.*PMA/(.*)$
>> RedirectMatch 404 ^/.*postgres/(.*)$
>> RedirectMatch 404 ^/.*PostNuke/(.*)$
>> RedirectMatch 404 ^/.*_ScriptLibrary/(.*)$
>> RedirectMatch 404 ^/.*scripts/setup\.php
>> RedirectMatch 404 ^/.*serverconf\.inc.php
>> RedirectMatch 404 ^/.*serverconf\.php
>> RedirectMatch 404 ^/.*servlet/(.*)$
>> RedirectMatch 404 ^/.*SilverStream/(.*)$
>> RedirectMatch 404 ^/.*siteadmin/(.*)$
>> RedirectMatch 404 ^/.*sm_forum/(.*)$
>> RedirectMatch 404 ^/.*snipegallery/(.*)$
>> RedirectMatch 404 ^/.*StoreDB/(.*)$
>> RedirectMatch 404 ^/.*sympa/(.*)$
>> RedirectMatch 404 ^/.*syshelp/(.*)$
>> RedirectMatch 404 ^/.*sysuser/(.*)$
>> RedirectMatch 404 ^/.*tcexam/(.*)$
>> RedirectMatch 404 ^/.*tcpdb/(.*)$
>> RedirectMatch 404 ^/.*tikiwiki/(.*)$
>> RedirectMatch 404 ^/.*torrent/(.*)$
>> RedirectMatch 404 ^/.*torrentvolve/(.*)$
>> RedirectMatch 404 ^/.*viart_cms/(.*)$
>> RedirectMatch 404 ^/.*webalizer/(.*)$
>> RedirectMatch 404 ^/.*webboard/(.*)$
>> RedirectMatch 404 ^/.*WebCalendar/(.*)$
>> RedirectMatch 404 ^/.*webmatic/(.*)$
>> RedirectMatch 404 ^/.*webmin/(.*)$
>> RedirectMatch 404 ^/.*websvn/(.*)$
>> RedirectMatch 404 ^/.*WebTrend/(.*)$
>> RedirectMatch 404 ^/.*wordpress-mu/(.*)$
>> RedirectMatch 404 ^/.*wordpress/(.*)$
>> RedirectMatch 404 ^/.*wp-config\.php
>> RedirectMatch 404 ^/.*wp-content/(.*)$
>> RedirectMatch 404 ^/.*wp-login\.php
>> RedirectMatch 404 ^/.*wwwping/(.*)$
>> RedirectMatch 404 ^/.*xmlrpc\.php
>> RedirectMatch 404 ^/.*xwiki/(.*)$
>> RedirectMatch 404 ^/.*zikula/(.*)$
>>
>> Am 19.06.2015 um 18:50 schrieb Jim Jagielski:
>>>
>>> The pre-release test tarballs for Apache httpd 2.4.15 can be found
>>> at the usual place:
>>>
>>>     http://httpd.apache.org/dev/dist/
>>>
>>> I'm calling a VOTE on releasing these as Apache httpd 2.4.15 GA.
>>>
>>> [ ] +1: Good to go
>>> [ ] +0: meh
>>> [ ] -1: Danger Will Robinson. And why.
>>>
>>> Vote will last the normal 72 hrs.
>>>
>>> NOTE: The *-deps are only there for convenience.
>>>
>>> Thx!
>>>
>>> PS: Hopefully, 3rd time's the charm!
>
>

From dev-return-83098-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 19:04:14 2015
Return-Path: <dev-return-83098-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1AA061880E
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 19:04:14 +0000 (UTC)
Received: (qmail 48693 invoked by uid 500); 21 Jun 2015 19:04:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48610 invoked by uid 500); 21 Jun 2015 19:04:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48600 invoked by uid 99); 21 Jun 2015 19:04:13 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 19:04:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 25F0818395E
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 19:04:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.011
X-Spam-Level:
X-Spam-Status: No, score=-0.011 tagged_above=-999 required=6.31
	tests=[SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ZRhjJtOUCajf for <dev@httpd.apache.org>;
	Sun, 21 Jun 2015 19:04:08 +0000 (UTC)
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 5D13D21115
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 19:04:07 +0000 (UTC)
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
To: dev@httpd.apache.org
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
 <5586ECF8.8040000@thelounge.net> <5586F9F3.20709@thelounge.net>
 <CACsi251xHe=pdhwjOJ7QAPd7hKUzkSiF_qp=uaZt4j3OqX9Mng@mail.gmail.com>
From: Reindl Harald <h.reindl@thelounge.net>
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
X-Enigmail-Draft-Status: N1110
Organization: the lounge interactive design
Message-ID: <55870AA5.4020305@thelounge.net>
Date: Sun, 21 Jun 2015 21:04:05 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.0.1
MIME-Version: 1.0
In-Reply-To: <CACsi251xHe=pdhwjOJ7QAPd7hKUzkSiF_qp=uaZt4j3OqX9Mng@mail.gmail.com>
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="l5UT9laUu1V6vILXVJJ4Wtjc1C21XoPi5"

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--l5UT9laUu1V6vILXVJJ4Wtjc1C21XoPi5
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable



Am 21.06.2015 um 21:00 schrieb William A Rowe Jr:
> Reindl,
>
> Try reverting
> http://svn.apache.org/viewvc?view=3Drevision&revision=3D1663259 and see=
 if
> this resolves your observed defect.

could you provide a unified diff for inclusion in the RPM-SPEC for=20
revert that commit, i can't build outside rpmbuild to get a compareable=20
setup

> On Jun 21, 2015 12:53 PM, "Reindl Harald" <h.reindl@thelounge.net
> <mailto:h.reindl@thelounge.net>> wrote:
>
>     in fact RedirectMatch is *completly* broken
>
>     RedirectMatch 404 ^\/something\/$
>
>     and *any* URI get a 404 response not just with the long list from m=
y
>     previous post
>
>     Am 21.06.2015 um 18:57 schrieb Reindl Harald:
>
>         -1
>
>         just rebuilt my httpd rpm with the
>         http://httpd.apache.org/dev/dist/httpd-2.4.15.tar.bz2 on my
>         testserver
>         and all vhosts are coming with a 404 page and nothing in the
>         errorlog
>
>         first i thought it's a https problem cause by a self signed wil=
dcard
>         certificate, but the same after remove the mod_rewrite redircti=
on
>         ________________________________
>
>         "LogLevel debug core:debug" is not much helpful with only 1 lin=
e for
>         each request
>
>         [Sun Jun 21 18:50:46.972582 2015 <tel:972582%202015>]
>         [headers:debug] [pid 25479]
>         mod_headers.c(899): AH01503: headers: ap_headers_error_filter()=

>         ________________________________
>
>         it is in fact that configuration file which suddenly triggers a=
t
>         *every*
>         request instead just mask several unwanted software even if it =
would
>         exist on the machine
>
>         [root@testserver:~]$ cat conf/httpd-deny.conf
>         <Directory               "/var/www/cgi-bin">
>            AllowOverride           None
>            Options                 None
>            Require                 all denied
>         </Directory>
>         <Files                   ~ "^\.ht">
>            Require                 all denied
>         </Files>
>         RedirectMatch 404 ^/.*\.svn/(.*)$
>         RedirectMatch 404 ^/.*CVS/(.*)$
>         RedirectMatch 404 ^/.*\.asax$
>         RedirectMatch 404 ^/.*\.ascx$
>         RedirectMatch 404 ^/.*\.ashx$
>         RedirectMatch 404 ^/.*\.asmx$
>         RedirectMatch 404 ^/.*\.asp$
>         RedirectMatch 404 ^/.*\.aspx$
>         RedirectMatch 404 ^/.*\.axd$
>         RedirectMatch 404 ^/.*\.back$
>         RedirectMatch 404 ^/.*\.bak$
>         RedirectMatch 404 ^/.*\.bat$
>         RedirectMatch 404 ^/.*\.cfm$
>         RedirectMatch 404 ^/.*\.cmd$
>         RedirectMatch 404 ^/.*\.csproj$
>         RedirectMatch 404 ^/.*\.dll$
>         RedirectMatch 404 ^/.*\.DS_Store$
>         RedirectMatch 404 ^/.*\.exe$
>         RedirectMatch 404 ^/.*\.FBCIndex$
>         RedirectMatch 404 ^/.*\.ini$
>         RedirectMatch 404 ^/.*\.jhtml$
>         RedirectMatch 404 ^/.*\.jsp$
>         RedirectMatch 404 ^/.*\.log$
>         RedirectMatch 404 ^/.*\.mdf$
>         RedirectMatch 404 ^/.*\.ocx$
>         RedirectMatch 404 ^/.*\.py$
>         RedirectMatch 404 ^/.*\.rb$
>         RedirectMatch 404 ^/.*\.sh$
>         RedirectMatch 404 ^/.*\.sql$
>         RedirectMatch 404 ^/.*\.vbproj$
>         RedirectMatch 404 ^/.*\.webinfo$
>         RedirectMatch 404 ^/.*admin-bak/(.*)$
>         RedirectMatch 404 ^/.*~admin/(.*)$
>         RedirectMatch 404 ^/.*backups/(.*)$
>         RedirectMatch 404 ^/.*backup/(.*)$
>         RedirectMatch 404 ^/.*_backup/(.*)$
>         RedirectMatch 404 ^/.*bak/(.*)$
>         RedirectMatch 404 ^/.*_errors/(.*)$
>         RedirectMatch 404 ^/.*htbin/(.*)$
>         RedirectMatch 404 ^/.*iisadmin/(.*)$
>         RedirectMatch 404 ^/.*iisprotect/(.*)$
>         RedirectMatch 404 ^/.*iissamples/(.*)$
>         RedirectMatch 404 ^/.*incoming/(.*)$
>         RedirectMatch 404 ^/.*Install/(.*)$
>         RedirectMatch 404 ^/.*logs/(.*)$
>         RedirectMatch 404 ^/.*Log/(.*)$
>         RedirectMatch 404 ^/.*LOG/(.*)$
>         RedirectMatch 404 ^/.*lost\+found/(.*)$
>         RedirectMatch 404 ^/.*oldfiles/(.*)$
>         RedirectMatch 404 ^/.*_passwords/(.*)$
>         RedirectMatch 404 ^/.*_private/(.*)$
>         RedirectMatch 404 ^/.*sslkeys/(.*)$
>         RedirectMatch 404 ^/.*sysbackup/(.*)$
>         RedirectMatch 404 ^/.*sysbackup/(.*)$
>         RedirectMatch 404 ^/.*temp/(.*)$
>         RedirectMatch 404 ^/.*_vti_bin/(.*)$
>         RedirectMatch 404 ^/.*_vti_bot/(.*)$
>         RedirectMatch 404 ^/.*_vti_log/(.*)$
>         RedirectMatch 404 ^/.*_vti_pvt/(.*)$
>         RedirectMatch 404 ^/.*_vti_shm/(.*)$
>         RedirectMatch 404 ^/.*_vti_txt/(.*)$
>         RedirectMatch 404 ^/.*webmaster_logs/(.*)$
>         RedirectMatch 404 ^/.*wwwlog/(.*)$
>         RedirectMatch 404 ^/.*~
>         RedirectMatch 404 ^/.*Administration/(.*)$
>         RedirectMatch 404 ^/.*AdvWebAdmin/(.*)$
>         RedirectMatch 404 ^/.*asp/(.*)$
>         RedirectMatch 404 ^/.*aspx/(.*)$
>         RedirectMatch 404 ^/.*authadmin/(.*)$
>         RedirectMatch 404 ^/.*BizTalkServerRepository/(.*)$
>         RedirectMatch 404 ^/.*blindblog/(.*)$
>         RedirectMatch 404 ^/.*cbblog/(.*)$
>         RedirectMatch 404 ^/.*ccards/(.*)$
>         RedirectMatch 404 ^/.*centreon/(.*)$
>         RedirectMatch 404 ^/.*certificate/(.*)$
>         RedirectMatch 404 ^/.*cgi-auth/(.*)$
>         RedirectMatch 404 ^/.*cgi-bin2/(.*)$
>         RedirectMatch 404 ^/.*cgi-bin/(.*)$
>         RedirectMatch 404 ^/.*cgi-csc/(.*)$
>         RedirectMatch 404 ^/.*cgi-isapi/(.*)$
>         RedirectMatch 404 ^/.*cgi-lib/(.*)$
>         RedirectMatch 404 ^/.*cgi-local/(.*)$
>         RedirectMatch 404 ^/.*cgi-public/(.*)$
>         RedirectMatch 404 ^/.*cgi-shl/(.*)$
>         RedirectMatch 404 ^/.*cgi-shl/(.*)$
>         RedirectMatch 404 ^/.*cgi-shop/(.*)$
>         RedirectMatch 404 ^/.*cgi-sys/(.*)$
>         RedirectMatch 404 ^/.*cgi-weddico/(.*)$
>         RedirectMatch 404 ^/.*cgi-win/(.*)$
>         RedirectMatch 404 ^/.*cgiwin/(.*)$
>         RedirectMatch 404 ^/.*commoncgi/(.*)$
>         RedirectMatch 404 ^/.*console/(.*)$
>         RedirectMatch 404 ^/.*ControlManager/(.*)$
>         RedirectMatch 404 ^/.*cs-dns/(.*)$
>         RedirectMatch 404 ^/.*cs-whois/(.*)$
>         RedirectMatch 404 ^/.*cvstrac/(.*)$
>         RedirectMatch 404 ^/.*database-admin/(.*)$
>         RedirectMatch 404 ^/.*databaseadmin/(.*)$
>         RedirectMatch 404 ^/.*databasemanager/(.*)$
>         RedirectMatch 404 ^/.*databaseweb/(.*)$
>         RedirectMatch 404 ^/.*dbma/(.*)$
>         RedirectMatch 404 ^/.*dmanager/(.*)$
>         RedirectMatch 404 ^/.*dokuwiki/(.*)$
>         RedirectMatch 404 ^/.*dokuwiki/(.*)$
>         RedirectMatch 404 ^/.*DotNetNuke/(.*)$
>         RedirectMatch 404 ^/.*dotProject/(.*)$
>         RedirectMatch 404 ^/.*dotProject/(.*)$
>         RedirectMatch 404 ^/.*drupal/(.*)$
>         RedirectMatch 404 ^/.*fileserver/(.*)$
>         RedirectMatch 404 ^/.*hastymail2/(.*)$
>         RedirectMatch 404 ^/.*Hastymail2/(.*)$
>         RedirectMatch 404 ^/.*hastymail/(.*)$
>         RedirectMatch 404 ^/.*Hastymail/(.*)$
>         RedirectMatch 404 ^/.*horde3/(.*)$
>         RedirectMatch 404 ^/.*horde/(.*)$
>         RedirectMatch 404 ^/.*intruvert/(.*)$
>         RedirectMatch 404 ^/.*isapi/(.*)$
>         RedirectMatch 404 ^/.*joomla\.php
>         RedirectMatch 404 ^/.*joomla/(.*)$
>         RedirectMatch 404 ^/.*libraries/dbg/setup\.php
>         RedirectMatch 404 ^/.*mailwise/(.*)$
>         RedirectMatch 404 ^/.*mambo/(.*)$
>         RedirectMatch 404 ^/.*manageengine/(.*)$
>         RedirectMatch 404 ^/.*mercuryboard/(.*)$
>         RedirectMatch 404 ^/.*monitoring/(.*)$
>         RedirectMatch 404 ^/.*MSWSMTP/(.*)$
>         RedirectMatch 404 ^/.*mysql_admin/(.*)$
>         RedirectMatch 404 ^/.*nagiosxi/(.*)$
>         RedirectMatch 404 ^/.*NetDynamic/(.*)$
>         RedirectMatch 404 ^/.*oracle/(.*)$
>         RedirectMatch 404 ^/.*orion/(.*)$
>         RedirectMatch 404 ^/.*Orion/(.*)$
>         RedirectMatch 404 ^/.*outgoing/(.*)$
>         RedirectMatch 404 ^/.*oxid-eshop/(.*)$
>         RedirectMatch 404 ^/.*passwiki/(.*)$
>         RedirectMatch 404 ^/.*pccsmysqladm/(.*)$
>         RedirectMatch 404 ^/.*perl/(.*)$
>         RedirectMatch 404 ^/.*phorum/(.*)$
>         RedirectMatch 404 ^/.*phpBB/(.*)$
>         RedirectMatch 404 ^/.*php_fusion/(.*)$
>         RedirectMatch 404 ^/.*phplinkadmin/(.*)$
>         RedirectMatch 404 ^/.*phpmyadmin/(.*)$
>         RedirectMatch 404 ^/.*phpMyAdmin/(.*)$
>         RedirectMatch 404 ^/.*phpmyfaq/(.*)$
>         RedirectMatch 404 ^/.*phpnagios/(.*)$
>         RedirectMatch 404 ^/.*phpNagios/(.*)$
>         RedirectMatch 404 ^/.*php-nuke/(.*)$
>         RedirectMatch 404 ^/.*phpnuke/(.*)$
>         RedirectMatch 404 ^/.*phpnuke/(.*)$
>         RedirectMatch 404 ^/.*phpPhotoAlbum/(.*)$
>         RedirectMatch 404 ^/.*phpprojekt/(.*)$
>         RedirectMatch 404 ^/.*pligg/(.*)$
>         RedirectMatch 404 ^/.*pma2005/(.*)$
>         RedirectMatch 404 ^/.*PMA2005/(.*)$
>         RedirectMatch 404 ^/.*pma2006/(.*)$
>         RedirectMatch 404 ^/.*PMA2006/(.*)$
>         RedirectMatch 404 ^/.*pma2007/(.*)$
>         RedirectMatch 404 ^/.*PMA2007/(.*)$
>         RedirectMatch 404 ^/.*pma2008/(.*)$
>         RedirectMatch 404 ^/.*PMA2008/(.*)$
>         RedirectMatch 404 ^/.*pma2009/(.*)$
>         RedirectMatch 404 ^/.*PMA2009/(.*)$
>         RedirectMatch 404 ^/.*pma2010/(.*)$
>         RedirectMatch 404 ^/.*PMA2010/(.*)$
>         RedirectMatch 404 ^/.*pma2011/(.*)$
>         RedirectMatch 404 ^/.*PMA2011/(.*)$
>         RedirectMatch 404 ^/.*pma2012/(.*)$
>         RedirectMatch 404 ^/.*PMA2012/(.*)$
>         RedirectMatch 404 ^/.*pma/(.*)$
>         RedirectMatch 404 ^/.*PMA/(.*)$
>         RedirectMatch 404 ^/.*postgres/(.*)$
>         RedirectMatch 404 ^/.*PostNuke/(.*)$
>         RedirectMatch 404 ^/.*_ScriptLibrary/(.*)$
>         RedirectMatch 404 ^/.*scripts/setup\.php
>         RedirectMatch 404 ^/.*serverconf\.inc.php
>         RedirectMatch 404 ^/.*serverconf\.php
>         RedirectMatch 404 ^/.*servlet/(.*)$
>         RedirectMatch 404 ^/.*SilverStream/(.*)$
>         RedirectMatch 404 ^/.*siteadmin/(.*)$
>         RedirectMatch 404 ^/.*sm_forum/(.*)$
>         RedirectMatch 404 ^/.*snipegallery/(.*)$
>         RedirectMatch 404 ^/.*StoreDB/(.*)$
>         RedirectMatch 404 ^/.*sympa/(.*)$
>         RedirectMatch 404 ^/.*syshelp/(.*)$
>         RedirectMatch 404 ^/.*sysuser/(.*)$
>         RedirectMatch 404 ^/.*tcexam/(.*)$
>         RedirectMatch 404 ^/.*tcpdb/(.*)$
>         RedirectMatch 404 ^/.*tikiwiki/(.*)$
>         RedirectMatch 404 ^/.*torrent/(.*)$
>         RedirectMatch 404 ^/.*torrentvolve/(.*)$
>         RedirectMatch 404 ^/.*viart_cms/(.*)$
>         RedirectMatch 404 ^/.*webalizer/(.*)$
>         RedirectMatch 404 ^/.*webboard/(.*)$
>         RedirectMatch 404 ^/.*WebCalendar/(.*)$
>         RedirectMatch 404 ^/.*webmatic/(.*)$
>         RedirectMatch 404 ^/.*webmin/(.*)$
>         RedirectMatch 404 ^/.*websvn/(.*)$
>         RedirectMatch 404 ^/.*WebTrend/(.*)$
>         RedirectMatch 404 ^/.*wordpress-mu/(.*)$
>         RedirectMatch 404 ^/.*wordpress/(.*)$
>         RedirectMatch 404 ^/.*wp-config\.php
>         RedirectMatch 404 ^/.*wp-content/(.*)$
>         RedirectMatch 404 ^/.*wp-login\.php
>         RedirectMatch 404 ^/.*wwwping/(.*)$
>         RedirectMatch 404 ^/.*xmlrpc\.php
>         RedirectMatch 404 ^/.*xwiki/(.*)$
>         RedirectMatch 404 ^/.*zikula/(.*)$
>
>         Am 19.06.2015 um 18:50 schrieb Jim Jagielski:
>
>             The pre-release test tarballs for Apache httpd 2.4.15 can b=
e
>             found
>             at the usual place:
>
>             http://httpd.apache.org/dev/dist/
>
>             I'm calling a VOTE on releasing these as Apache httpd 2.4.1=
5 GA.
>
>             [ ] +1: Good to go
>             [ ] +0: meh
>             [ ] -1: Danger Will Robinson. And why.
>
>             Vote will last the normal 72 hrs.
>
>             NOTE: The *-deps are only there for convenience.
>
>             Thx!
>
>             PS: Hopefully, 3rd time's the charm!


--l5UT9laUu1V6vILXVJJ4Wtjc1C21XoPi5
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlWHCqYACgkQhmBjz394AnnFXQCgjYZsGELpZcEEGXyW5wm28mfV
rmEAn2XjyY+Cs3CepsCYlyeGiNRN77zN
=Mt/A
-----END PGP SIGNATURE-----

--l5UT9laUu1V6vILXVJJ4Wtjc1C21XoPi5--

From dev-return-83099-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 19:12:35 2015
Return-Path: <dev-return-83099-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1F26218836
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 19:12:35 +0000 (UTC)
Received: (qmail 58701 invoked by uid 500); 21 Jun 2015 19:12:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58632 invoked by uid 500); 21 Jun 2015 19:12:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58622 invoked by uid 99); 21 Jun 2015 19:12:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 19:12:34 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of h.reindl@thelounge.net designates 91.118.73.15 as permitted sender)
Received: from [91.118.73.15] (HELO mail.thelounge.net) (91.118.73.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 19:10:19 +0000
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
To: dev@httpd.apache.org
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
 <5586ECF8.8040000@thelounge.net> <5586F9F3.20709@thelounge.net>
 <CAKQ1sVOtqVZcyb=RtVaDJwtedEfj_FR46LnOZAhMGrnN9g0JOQ@mail.gmail.com>
From: Reindl Harald <h.reindl@thelounge.net>
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
X-Enigmail-Draft-Status: N1110
Organization: the lounge interactive design
Message-ID: <55870C69.1020705@thelounge.net>
Date: Sun, 21 Jun 2015 21:11:37 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.0.1
MIME-Version: 1.0
In-Reply-To: <CAKQ1sVOtqVZcyb=RtVaDJwtedEfj_FR46LnOZAhMGrnN9g0JOQ@mail.gmail.com>
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="2RD4j4fErHq9UxrTvgDXdL3ftXUkMfF0v"
X-Spam-Report: ALL_TRUSTED,BAYES_00
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.5, tag-level=7.8, block-level=8.0

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--2RD4j4fErHq9UxrTvgDXdL3ftXUkMfF0v
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable



Am 21.06.2015 um 21:02 schrieb Yann Ylavic:
> It seems that RedirectMatch isn't documented without the third (URL)
> argument, unless in <Location>.
> And [1] broke your configuration, assuming "^\/something\/$" is an
> expression (not a regex).
>
> [1] http://svn.apache.org/r1663259

that may be true but

* it is a regression breaking configs working like a
   charm over years and IMHO a no-go for a minor update

* at makes little sense to provide a URL when you just
   want the default 404 error page defined with
   ErrorDocument  404 "html content" because by enforce
   providing a URL the configuration is no longer re-useable
   on different machines

> On Sun, Jun 21, 2015 at 7:52 PM, Reindl Harald <h.reindl@thelounge.net>=
 wrote:
>> in fact RedirectMatch is *completly* broken
>>
>> RedirectMatch 404 ^\/something\/$
>>
>> and *any* URI get a 404 response not just with the long list from my
>> previous post
>>
>>
>> Am 21.06.2015 um 18:57 schrieb Reindl Harald:
>>>
>>> -1
>>>
>>> just rebuilt my httpd rpm with the
>>> http://httpd.apache.org/dev/dist/httpd-2.4.15.tar.bz2 on my testserve=
r
>>> and all vhosts are coming with a 404 page and nothing in the errorlog=

>>>
>>> first i thought it's a https problem cause by a self signed wildcard
>>> certificate, but the same after remove the mod_rewrite redirction
>>> ________________________________
>>>
>>> "LogLevel debug core:debug" is not much helpful with only 1 line for
>>> each request
>>>
>>> [Sun Jun 21 18:50:46.972582 2015] [headers:debug] [pid 25479]
>>> mod_headers.c(899): AH01503: headers: ap_headers_error_filter()
>>> ________________________________
>>>
>>> it is in fact that configuration file which suddenly triggers at *eve=
ry*
>>> request instead just mask several unwanted software even if it would
>>> exist on the machine
>>>
>>> [root@testserver:~]$ cat conf/httpd-deny.conf
>>> <Directory               "/var/www/cgi-bin">
>>>    AllowOverride           None
>>>    Options                 None
>>>    Require                 all denied
>>> </Directory>
>>> <Files                   ~ "^\.ht">
>>>    Require                 all denied
>>> </Files>
>>> RedirectMatch 404 ^/.*\.svn/(.*)$
>>> RedirectMatch 404 ^/.*CVS/(.*)$
>>> RedirectMatch 404 ^/.*\.asax$
>>> RedirectMatch 404 ^/.*\.ascx$
>>> RedirectMatch 404 ^/.*\.ashx$
>>> RedirectMatch 404 ^/.*\.asmx$
>>> RedirectMatch 404 ^/.*\.asp$
>>> RedirectMatch 404 ^/.*\.aspx$
>>> RedirectMatch 404 ^/.*\.axd$
>>> RedirectMatch 404 ^/.*\.back$
>>> RedirectMatch 404 ^/.*\.bak$
>>> RedirectMatch 404 ^/.*\.bat$
>>> RedirectMatch 404 ^/.*\.cfm$
>>> RedirectMatch 404 ^/.*\.cmd$
>>> RedirectMatch 404 ^/.*\.csproj$
>>> RedirectMatch 404 ^/.*\.dll$
>>> RedirectMatch 404 ^/.*\.DS_Store$
>>> RedirectMatch 404 ^/.*\.exe$
>>> RedirectMatch 404 ^/.*\.FBCIndex$
>>> RedirectMatch 404 ^/.*\.ini$
>>> RedirectMatch 404 ^/.*\.jhtml$
>>> RedirectMatch 404 ^/.*\.jsp$
>>> RedirectMatch 404 ^/.*\.log$
>>> RedirectMatch 404 ^/.*\.mdf$
>>> RedirectMatch 404 ^/.*\.ocx$
>>> RedirectMatch 404 ^/.*\.py$
>>> RedirectMatch 404 ^/.*\.rb$
>>> RedirectMatch 404 ^/.*\.sh$
>>> RedirectMatch 404 ^/.*\.sql$
>>> RedirectMatch 404 ^/.*\.vbproj$
>>> RedirectMatch 404 ^/.*\.webinfo$
>>> RedirectMatch 404 ^/.*admin-bak/(.*)$
>>> RedirectMatch 404 ^/.*~admin/(.*)$
>>> RedirectMatch 404 ^/.*backups/(.*)$
>>> RedirectMatch 404 ^/.*backup/(.*)$
>>> RedirectMatch 404 ^/.*_backup/(.*)$
>>> RedirectMatch 404 ^/.*bak/(.*)$
>>> RedirectMatch 404 ^/.*_errors/(.*)$
>>> RedirectMatch 404 ^/.*htbin/(.*)$
>>> RedirectMatch 404 ^/.*iisadmin/(.*)$
>>> RedirectMatch 404 ^/.*iisprotect/(.*)$
>>> RedirectMatch 404 ^/.*iissamples/(.*)$
>>> RedirectMatch 404 ^/.*incoming/(.*)$
>>> RedirectMatch 404 ^/.*Install/(.*)$
>>> RedirectMatch 404 ^/.*logs/(.*)$
>>> RedirectMatch 404 ^/.*Log/(.*)$
>>> RedirectMatch 404 ^/.*LOG/(.*)$
>>> RedirectMatch 404 ^/.*lost\+found/(.*)$
>>> RedirectMatch 404 ^/.*oldfiles/(.*)$
>>> RedirectMatch 404 ^/.*_passwords/(.*)$
>>> RedirectMatch 404 ^/.*_private/(.*)$
>>> RedirectMatch 404 ^/.*sslkeys/(.*)$
>>> RedirectMatch 404 ^/.*sysbackup/(.*)$
>>> RedirectMatch 404 ^/.*sysbackup/(.*)$
>>> RedirectMatch 404 ^/.*temp/(.*)$
>>> RedirectMatch 404 ^/.*_vti_bin/(.*)$
>>> RedirectMatch 404 ^/.*_vti_bot/(.*)$
>>> RedirectMatch 404 ^/.*_vti_log/(.*)$
>>> RedirectMatch 404 ^/.*_vti_pvt/(.*)$
>>> RedirectMatch 404 ^/.*_vti_shm/(.*)$
>>> RedirectMatch 404 ^/.*_vti_txt/(.*)$
>>> RedirectMatch 404 ^/.*webmaster_logs/(.*)$
>>> RedirectMatch 404 ^/.*wwwlog/(.*)$
>>> RedirectMatch 404 ^/.*~
>>> RedirectMatch 404 ^/.*Administration/(.*)$
>>> RedirectMatch 404 ^/.*AdvWebAdmin/(.*)$
>>> RedirectMatch 404 ^/.*asp/(.*)$
>>> RedirectMatch 404 ^/.*aspx/(.*)$
>>> RedirectMatch 404 ^/.*authadmin/(.*)$
>>> RedirectMatch 404 ^/.*BizTalkServerRepository/(.*)$
>>> RedirectMatch 404 ^/.*blindblog/(.*)$
>>> RedirectMatch 404 ^/.*cbblog/(.*)$
>>> RedirectMatch 404 ^/.*ccards/(.*)$
>>> RedirectMatch 404 ^/.*centreon/(.*)$
>>> RedirectMatch 404 ^/.*certificate/(.*)$
>>> RedirectMatch 404 ^/.*cgi-auth/(.*)$
>>> RedirectMatch 404 ^/.*cgi-bin2/(.*)$
>>> RedirectMatch 404 ^/.*cgi-bin/(.*)$
>>> RedirectMatch 404 ^/.*cgi-csc/(.*)$
>>> RedirectMatch 404 ^/.*cgi-isapi/(.*)$
>>> RedirectMatch 404 ^/.*cgi-lib/(.*)$
>>> RedirectMatch 404 ^/.*cgi-local/(.*)$
>>> RedirectMatch 404 ^/.*cgi-public/(.*)$
>>> RedirectMatch 404 ^/.*cgi-shl/(.*)$
>>> RedirectMatch 404 ^/.*cgi-shl/(.*)$
>>> RedirectMatch 404 ^/.*cgi-shop/(.*)$
>>> RedirectMatch 404 ^/.*cgi-sys/(.*)$
>>> RedirectMatch 404 ^/.*cgi-weddico/(.*)$
>>> RedirectMatch 404 ^/.*cgi-win/(.*)$
>>> RedirectMatch 404 ^/.*cgiwin/(.*)$
>>> RedirectMatch 404 ^/.*commoncgi/(.*)$
>>> RedirectMatch 404 ^/.*console/(.*)$
>>> RedirectMatch 404 ^/.*ControlManager/(.*)$
>>> RedirectMatch 404 ^/.*cs-dns/(.*)$
>>> RedirectMatch 404 ^/.*cs-whois/(.*)$
>>> RedirectMatch 404 ^/.*cvstrac/(.*)$
>>> RedirectMatch 404 ^/.*database-admin/(.*)$
>>> RedirectMatch 404 ^/.*databaseadmin/(.*)$
>>> RedirectMatch 404 ^/.*databasemanager/(.*)$
>>> RedirectMatch 404 ^/.*databaseweb/(.*)$
>>> RedirectMatch 404 ^/.*dbma/(.*)$
>>> RedirectMatch 404 ^/.*dmanager/(.*)$
>>> RedirectMatch 404 ^/.*dokuwiki/(.*)$
>>> RedirectMatch 404 ^/.*dokuwiki/(.*)$
>>> RedirectMatch 404 ^/.*DotNetNuke/(.*)$
>>> RedirectMatch 404 ^/.*dotProject/(.*)$
>>> RedirectMatch 404 ^/.*dotProject/(.*)$
>>> RedirectMatch 404 ^/.*drupal/(.*)$
>>> RedirectMatch 404 ^/.*fileserver/(.*)$
>>> RedirectMatch 404 ^/.*hastymail2/(.*)$
>>> RedirectMatch 404 ^/.*Hastymail2/(.*)$
>>> RedirectMatch 404 ^/.*hastymail/(.*)$
>>> RedirectMatch 404 ^/.*Hastymail/(.*)$
>>> RedirectMatch 404 ^/.*horde3/(.*)$
>>> RedirectMatch 404 ^/.*horde/(.*)$
>>> RedirectMatch 404 ^/.*intruvert/(.*)$
>>> RedirectMatch 404 ^/.*isapi/(.*)$
>>> RedirectMatch 404 ^/.*joomla\.php
>>> RedirectMatch 404 ^/.*joomla/(.*)$
>>> RedirectMatch 404 ^/.*libraries/dbg/setup\.php
>>> RedirectMatch 404 ^/.*mailwise/(.*)$
>>> RedirectMatch 404 ^/.*mambo/(.*)$
>>> RedirectMatch 404 ^/.*manageengine/(.*)$
>>> RedirectMatch 404 ^/.*mercuryboard/(.*)$
>>> RedirectMatch 404 ^/.*monitoring/(.*)$
>>> RedirectMatch 404 ^/.*MSWSMTP/(.*)$
>>> RedirectMatch 404 ^/.*mysql_admin/(.*)$
>>> RedirectMatch 404 ^/.*nagiosxi/(.*)$
>>> RedirectMatch 404 ^/.*NetDynamic/(.*)$
>>> RedirectMatch 404 ^/.*oracle/(.*)$
>>> RedirectMatch 404 ^/.*orion/(.*)$
>>> RedirectMatch 404 ^/.*Orion/(.*)$
>>> RedirectMatch 404 ^/.*outgoing/(.*)$
>>> RedirectMatch 404 ^/.*oxid-eshop/(.*)$
>>> RedirectMatch 404 ^/.*passwiki/(.*)$
>>> RedirectMatch 404 ^/.*pccsmysqladm/(.*)$
>>> RedirectMatch 404 ^/.*perl/(.*)$
>>> RedirectMatch 404 ^/.*phorum/(.*)$
>>> RedirectMatch 404 ^/.*phpBB/(.*)$
>>> RedirectMatch 404 ^/.*php_fusion/(.*)$
>>> RedirectMatch 404 ^/.*phplinkadmin/(.*)$
>>> RedirectMatch 404 ^/.*phpmyadmin/(.*)$
>>> RedirectMatch 404 ^/.*phpMyAdmin/(.*)$
>>> RedirectMatch 404 ^/.*phpmyfaq/(.*)$
>>> RedirectMatch 404 ^/.*phpnagios/(.*)$
>>> RedirectMatch 404 ^/.*phpNagios/(.*)$
>>> RedirectMatch 404 ^/.*php-nuke/(.*)$
>>> RedirectMatch 404 ^/.*phpnuke/(.*)$
>>> RedirectMatch 404 ^/.*phpnuke/(.*)$
>>> RedirectMatch 404 ^/.*phpPhotoAlbum/(.*)$
>>> RedirectMatch 404 ^/.*phpprojekt/(.*)$
>>> RedirectMatch 404 ^/.*pligg/(.*)$
>>> RedirectMatch 404 ^/.*pma2005/(.*)$
>>> RedirectMatch 404 ^/.*PMA2005/(.*)$
>>> RedirectMatch 404 ^/.*pma2006/(.*)$
>>> RedirectMatch 404 ^/.*PMA2006/(.*)$
>>> RedirectMatch 404 ^/.*pma2007/(.*)$
>>> RedirectMatch 404 ^/.*PMA2007/(.*)$
>>> RedirectMatch 404 ^/.*pma2008/(.*)$
>>> RedirectMatch 404 ^/.*PMA2008/(.*)$
>>> RedirectMatch 404 ^/.*pma2009/(.*)$
>>> RedirectMatch 404 ^/.*PMA2009/(.*)$
>>> RedirectMatch 404 ^/.*pma2010/(.*)$
>>> RedirectMatch 404 ^/.*PMA2010/(.*)$
>>> RedirectMatch 404 ^/.*pma2011/(.*)$
>>> RedirectMatch 404 ^/.*PMA2011/(.*)$
>>> RedirectMatch 404 ^/.*pma2012/(.*)$
>>> RedirectMatch 404 ^/.*PMA2012/(.*)$
>>> RedirectMatch 404 ^/.*pma/(.*)$
>>> RedirectMatch 404 ^/.*PMA/(.*)$
>>> RedirectMatch 404 ^/.*postgres/(.*)$
>>> RedirectMatch 404 ^/.*PostNuke/(.*)$
>>> RedirectMatch 404 ^/.*_ScriptLibrary/(.*)$
>>> RedirectMatch 404 ^/.*scripts/setup\.php
>>> RedirectMatch 404 ^/.*serverconf\.inc.php
>>> RedirectMatch 404 ^/.*serverconf\.php
>>> RedirectMatch 404 ^/.*servlet/(.*)$
>>> RedirectMatch 404 ^/.*SilverStream/(.*)$
>>> RedirectMatch 404 ^/.*siteadmin/(.*)$
>>> RedirectMatch 404 ^/.*sm_forum/(.*)$
>>> RedirectMatch 404 ^/.*snipegallery/(.*)$
>>> RedirectMatch 404 ^/.*StoreDB/(.*)$
>>> RedirectMatch 404 ^/.*sympa/(.*)$
>>> RedirectMatch 404 ^/.*syshelp/(.*)$
>>> RedirectMatch 404 ^/.*sysuser/(.*)$
>>> RedirectMatch 404 ^/.*tcexam/(.*)$
>>> RedirectMatch 404 ^/.*tcpdb/(.*)$
>>> RedirectMatch 404 ^/.*tikiwiki/(.*)$
>>> RedirectMatch 404 ^/.*torrent/(.*)$
>>> RedirectMatch 404 ^/.*torrentvolve/(.*)$
>>> RedirectMatch 404 ^/.*viart_cms/(.*)$
>>> RedirectMatch 404 ^/.*webalizer/(.*)$
>>> RedirectMatch 404 ^/.*webboard/(.*)$
>>> RedirectMatch 404 ^/.*WebCalendar/(.*)$
>>> RedirectMatch 404 ^/.*webmatic/(.*)$
>>> RedirectMatch 404 ^/.*webmin/(.*)$
>>> RedirectMatch 404 ^/.*websvn/(.*)$
>>> RedirectMatch 404 ^/.*WebTrend/(.*)$
>>> RedirectMatch 404 ^/.*wordpress-mu/(.*)$
>>> RedirectMatch 404 ^/.*wordpress/(.*)$
>>> RedirectMatch 404 ^/.*wp-config\.php
>>> RedirectMatch 404 ^/.*wp-content/(.*)$
>>> RedirectMatch 404 ^/.*wp-login\.php
>>> RedirectMatch 404 ^/.*wwwping/(.*)$
>>> RedirectMatch 404 ^/.*xmlrpc\.php
>>> RedirectMatch 404 ^/.*xwiki/(.*)$
>>> RedirectMatch 404 ^/.*zikula/(.*)$
>>>
>>> Am 19.06.2015 um 18:50 schrieb Jim Jagielski:
>>>>
>>>> The pre-release test tarballs for Apache httpd 2.4.15 can be found
>>>> at the usual place:
>>>>
>>>>      http://httpd.apache.org/dev/dist/
>>>>
>>>> I'm calling a VOTE on releasing these as Apache httpd 2.4.15 GA.
>>>>
>>>> [ ] +1: Good to go
>>>> [ ] +0: meh
>>>> [ ] -1: Danger Will Robinson. And why.
>>>>
>>>> Vote will last the normal 72 hrs.
>>>>
>>>> NOTE: The *-deps are only there for convenience.
>>>>
>>>> Thx!
>>>>
>>>> PS: Hopefully, 3rd time's the charm!


--2RD4j4fErHq9UxrTvgDXdL3ftXUkMfF0v
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlWHDGkACgkQhmBjz394AnmpIACcDT28A/PvroHkiJyA3GJnqDNw
A8QAniz28NySQhLj6pysGJOCjsDq1cCg
=cUrM
-----END PGP SIGNATURE-----

--2RD4j4fErHq9UxrTvgDXdL3ftXUkMfF0v--

From dev-return-83100-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 19:29:12 2015
Return-Path: <dev-return-83100-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7871918863
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 19:29:12 +0000 (UTC)
Received: (qmail 71358 invoked by uid 500); 21 Jun 2015 19:29:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 71289 invoked by uid 500); 21 Jun 2015 19:29:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 71279 invoked by uid 99); 21 Jun 2015 19:29:12 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 19:29:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 89ABE18395E
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 19:29:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 9V_9M1LrNLds for <dev@httpd.apache.org>;
	Sun, 21 Jun 2015 19:29:03 +0000 (UTC)
Received: from mail-ig0-f182.google.com (mail-ig0-f182.google.com [209.85.213.182])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 9D85543E3E
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 19:29:03 +0000 (UTC)
Received: by igblr2 with SMTP id lr2so19873873igb.0
        for <dev@httpd.apache.org>; Sun, 21 Jun 2015 12:28:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=NSzLi7fveqTD1QfAhpue3y1IvLGS0FHb+CGxMes0zSo=;
        b=N3WWxF4q4ruLqiC3/VAsWBPW0sZIAZc2L98enNk5/xIvXyRCWqgJ8GuqSo1NKqgEoh
         FUeDyadOgYZCBnMU44qR1uSdEkvOb0rAf3zsE3WHaMh8RWBDsfVXLT2+CtJPa5BbqxFP
         c/qOZ1zPuKvgpJ0XagJ6TPzO3ohUioPobOVjFyIxhf1SHO4qiFNYue7pZvR4nFPy19VM
         JyKAg8P2vaEAryyN4uJSbFmeDCTBysH+IAU1YjK4PbR8mGknZcjPnQyY6y7ZAvOsBtz9
         Wqqx3uEyROI+4WyB3d32w7Vaw2vsx4Hh5zTctoKTM2lbwU6jWVfFFPTqf4tpfuv+sILF
         EL9g==
MIME-Version: 1.0
X-Received: by 10.107.46.226 with SMTP id u95mr34105527iou.68.1434914898305;
 Sun, 21 Jun 2015 12:28:18 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Sun, 21 Jun 2015 12:28:18 -0700 (PDT)
In-Reply-To: <55870AA5.4020305@thelounge.net>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
	<5586ECF8.8040000@thelounge.net>
	<5586F9F3.20709@thelounge.net>
	<CACsi251xHe=pdhwjOJ7QAPd7hKUzkSiF_qp=uaZt4j3OqX9Mng@mail.gmail.com>
	<55870AA5.4020305@thelounge.net>
Date: Sun, 21 Jun 2015 21:28:18 +0200
Message-ID: <CAKQ1sVO7U=cwCjk3PrsoqvZV6HAUkSai6QYkYsG5pL9BPt6hPg@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/mixed; boundary=001a113763e2cc20b405190c2828

--001a113763e2cc20b405190c2828
Content-Type: text/plain; charset=UTF-8

On Sun, Jun 21, 2015 at 9:04 PM, Reindl Harald <h.reindl@thelounge.net> wrote:
>
>
> Am 21.06.2015 um 21:00 schrieb William A Rowe Jr:
>>
>> Reindl,
>>
>> Try reverting
>> http://svn.apache.org/viewvc?view=revision&revision=1663259 and see if
>> this resolves your observed defect.
>
>
> could you provide a unified diff for inclusion in the RPM-SPEC for revert
> that commit, i can't build outside rpmbuild to get a compareable setup

Attached.

--001a113763e2cc20b405190c2828
Content-Type: application/x-download; name="mod_alias-revert-r1663259.patch"
Content-Disposition: attachment; filename="mod_alias-revert-r1663259.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_ib6va1pr1

SW5kZXg6IG1vZHVsZXMvbWFwcGVycy9tb2RfYWxpYXMuYwo9PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVz
L21hcHBlcnMvbW9kX2FsaWFzLmMJKHJldmlzaW9uIDE2ODY3NDgpCisrKyBtb2R1bGVzL21hcHBl
cnMvbW9kX2FsaWFzLmMJKHdvcmtpbmcgY29weSkKQEAgLTM0LDcgKzM0LDYgQEAKICNpbmNsdWRl
ICJodHRwX2NvbmZpZy5oIgogI2luY2x1ZGUgImh0dHBfcmVxdWVzdC5oIgogI2luY2x1ZGUgImh0
dHBfbG9nLmgiCi0jaW5jbHVkZSAiYXBfZXhwci5oIgogCiAKIHR5cGVkZWYgc3RydWN0IHsKQEAg
LTUxLDIwICs1MCwxMSBAQAogfSBhbGlhc19zZXJ2ZXJfY29uZjsKIAogdHlwZWRlZiBzdHJ1Y3Qg
ewotICAgIHVuc2lnbmVkIGludCBhbGlhc19zZXQ6MTsKLSAgICB1bnNpZ25lZCBpbnQgcmVkaXJl
Y3Rfc2V0OjE7CiAgICAgYXByX2FycmF5X2hlYWRlcl90ICpyZWRpcmVjdHM7Ci0gICAgY29uc3Qg
YXBfZXhwcl9pbmZvX3QgKmFsaWFzOwotICAgIGNoYXIgKmhhbmRsZXI7Ci0gICAgY29uc3QgYXBf
ZXhwcl9pbmZvX3QgKnJlZGlyZWN0OwotICAgIGludCByZWRpcmVjdF9zdGF0dXM7ICAgICAgICAg
ICAgICAgIC8qIDMwMSwgMzAyLCAzMDMsIDQxMCwgZXRjICovCiB9IGFsaWFzX2Rpcl9jb25mOwog
CiBtb2R1bGUgQVBfTU9EVUxFX0RFQ0xBUkVfREFUQSBhbGlhc19tb2R1bGU7CiAKLXN0YXRpYyBj
aGFyIG1hZ2ljX2Vycm9yX3ZhbHVlOwotI2RlZmluZSBQUkVHU1VCX0VSUk9SICAgICAgKCZtYWdp
Y19lcnJvcl92YWx1ZSkKLQogc3RhdGljIHZvaWQgKmNyZWF0ZV9hbGlhc19jb25maWcoYXByX3Bv
b2xfdCAqcCwgc2VydmVyX3JlYyAqcykKIHsKICAgICBhbGlhc19zZXJ2ZXJfY29uZiAqYSA9CkBA
IC0xMDEsMTcgKzkxLDcgQEAKICAgICAoYWxpYXNfZGlyX2NvbmYgKikgYXByX3BjYWxsb2MocCwg
c2l6ZW9mKGFsaWFzX2Rpcl9jb25mKSk7CiAgICAgYWxpYXNfZGlyX2NvbmYgKmJhc2UgPSAoYWxp
YXNfZGlyX2NvbmYgKikgYmFzZXY7CiAgICAgYWxpYXNfZGlyX2NvbmYgKm92ZXJyaWRlcyA9IChh
bGlhc19kaXJfY29uZiAqKSBvdmVycmlkZXN2OwotCiAgICAgYS0+cmVkaXJlY3RzID0gYXByX2Fy
cmF5X2FwcGVuZChwLCBvdmVycmlkZXMtPnJlZGlyZWN0cywgYmFzZS0+cmVkaXJlY3RzKTsKLQot
ICAgIGEtPmFsaWFzID0gKG92ZXJyaWRlcy0+YWxpYXNfc2V0ID09IDApID8gYmFzZS0+YWxpYXMg
OiBvdmVycmlkZXMtPmFsaWFzOwotICAgIGEtPmhhbmRsZXIgPSAob3ZlcnJpZGVzLT5hbGlhc19z
ZXQgPT0gMCkgPyBiYXNlLT5oYW5kbGVyIDogb3ZlcnJpZGVzLT5oYW5kbGVyOwotICAgIGEtPmFs
aWFzX3NldCA9IG92ZXJyaWRlcy0+YWxpYXNfc2V0IHx8IGJhc2UtPmFsaWFzX3NldDsKLQotICAg
IGEtPnJlZGlyZWN0ID0gKG92ZXJyaWRlcy0+cmVkaXJlY3Rfc2V0ID09IDApID8gYmFzZS0+cmVk
aXJlY3QgOiBvdmVycmlkZXMtPnJlZGlyZWN0OwotICAgIGEtPnJlZGlyZWN0X3N0YXR1cyA9IChv
dmVycmlkZXMtPnJlZGlyZWN0X3NldCA9PSAwKSA/IGJhc2UtPnJlZGlyZWN0X3N0YXR1cyA6IG92
ZXJyaWRlcy0+cmVkaXJlY3Rfc3RhdHVzOwotICAgIGEtPnJlZGlyZWN0X3NldCA9IG92ZXJyaWRl
cy0+cmVkaXJlY3Rfc2V0IHx8IGJhc2UtPnJlZGlyZWN0X3NldDsKLQogICAgIHJldHVybiBhOwog
fQogCkBAIC0xMzEsMTIgKzExMSw2IEBACiAKICAgICAvKiBYWFg6IHJlYWwgY2FuIE5PVCBiZSBy
ZWxhdGl2ZSB0byBEb2N1bWVudFJvb3QgaGVyZS4uLiBjb21wYXQgYnVnLiAqLwogCi0gICAgY29u
c3QgY2hhciAqZXJyID0gYXBfY2hlY2tfY21kX2NvbnRleHQoY21kLCBOT1RfSU5fRElSX0xPQ19G
SUxFKTsKLQotICAgIGlmIChlcnIgIT0gTlVMTCkgewotICAgICAgICByZXR1cm4gZXJyOwotICAg
IH0KLQogICAgIGlmICh1c2VfcmVnZXgpIHsKICAgICAgICAgbmV3LT5yZWdleHAgPSBhcF9wcmVn
Y29tcChjbWQtPnBvb2wsIGZha2UsIEFQX1JFR19FWFRFTkRFRCk7CiAgICAgICAgIGlmIChuZXct
PnJlZ2V4cCA9PSBOVUxMKQpAQCAtMTgxLDQxICsxNTUsOSBAQAogfQogCiBzdGF0aWMgY29uc3Qg
Y2hhciAqYWRkX2FsaWFzKGNtZF9wYXJtcyAqY21kLCB2b2lkICpkdW1teSwgY29uc3QgY2hhciAq
ZmFrZSwKLSAgICAgICAgY29uc3QgY2hhciAqcmVhbCkKKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgY29uc3QgY2hhciAqcmVhbCkKIHsKLSAgICBpZiAocmVhbCkgewotCi0gICAgICAgIHJl
dHVybiBhZGRfYWxpYXNfaW50ZXJuYWwoY21kLCBkdW1teSwgZmFrZSwgcmVhbCwgMCk7Ci0KLSAg
ICB9Ci0gICAgZWxzZSB7Ci0gICAgICAgIGFsaWFzX2Rpcl9jb25mICpkaXJjb25mID0gKGFsaWFz
X2Rpcl9jb25mICopIGR1bW15OwotCi0gICAgICAgIGNvbnN0IGNoYXIgKmVyciA9IGFwX2NoZWNr
X2NtZF9jb250ZXh0KGNtZCwgTk9UX0lOX0RJUkVDVE9SWXxOT1RfSU5fRklMRVMpOwotCi0gICAg
ICAgIGlmIChlcnIgIT0gTlVMTCkgewotICAgICAgICAgICAgcmV0dXJuIGVycjsKLSAgICAgICAg
fQotCi0gICAgICAgIGlmICghY21kLT5wYXRoKSB7Ci0gICAgICAgICAgICByZXR1cm4gIkFsaWFz
IG11c3QgaGF2ZSB0d28gYXJndW1lbnRzIHdoZW4gdXNlZCBnbG9iYWxseSI7Ci0gICAgICAgIH0K
LQotICAgICAgICBkaXJjb25mLT5hbGlhcyA9Ci0gICAgICAgICAgICAgICAgYXBfZXhwcl9wYXJz
ZV9jbWQoY21kLCBmYWtlLCBBUF9FWFBSX0ZMQUdfU1RSSU5HX1JFU1VMVCwKLSAgICAgICAgICAg
ICAgICAgICAgICAgICZlcnIsIE5VTEwpOwotICAgICAgICBpZiAoZXJyKSB7Ci0gICAgICAgICAg
ICByZXR1cm4gYXByX3BzdHJjYXQoY21kLT50ZW1wX3Bvb2wsCi0gICAgICAgICAgICAgICAgICAg
ICJDYW5ub3QgcGFyc2UgYWxpYXMgZXhwcmVzc2lvbiAnIiwgZmFrZSwgIic6ICIsIGVyciwKLSAg
ICAgICAgICAgICAgICAgICAgTlVMTCk7Ci0gICAgICAgIH0KLQotICAgICAgICBkaXJjb25mLT5o
YW5kbGVyID0gY21kLT5pbmZvOwotICAgICAgICBkaXJjb25mLT5hbGlhc19zZXQgPSAxOwotCi0g
ICAgICAgIHJldHVybiBOVUxMOwotCi0gICAgfQorICAgIHJldHVybiBhZGRfYWxpYXNfaW50ZXJu
YWwoY21kLCBkdW1teSwgZmFrZSwgcmVhbCwgMCk7CiB9CiAKIHN0YXRpYyBjb25zdCBjaGFyICph
ZGRfYWxpYXNfcmVnZXgoY21kX3Bhcm1zICpjbWQsIHZvaWQgKmR1bW15LApAQCAtMjYzLDU5ICsy
MDUsNiBAQAogICAgICAgICByZXR1cm4gIlJlZGlyZWN0OiBpbnZhbGlkIGZpcnN0IGFyZ3VtZW50
IChvZiB0aHJlZSkiOwogCiAgICAgLyoKLSAgICAgKiBpZiB3ZSBoYXZlIHRoZSAybmQgYXJnIGFu
ZCB3ZSB1bmRlcnN0YW5kIHRoZSAxc3Qgb25lLCBvciBpZiB3ZSBoYXZlIHRoZQotICAgICAqIDFz
dCBhcmcgYnV0IGRvbid0IHVuZGVyc3RhbmQgaXQsIHdlIHVzZSB0aGUgZXhwcmVzc2lvbiBzeW50
YXggYXNzdW1pbmcKLSAgICAgKiBhIHBhdGggZnJvbSB0aGUgbG9jYXRpb24uCi0gICAgICoKLSAg
ICAgKiBpZiB3ZSB1bmRlcnN0YW5kIHRoZSBmaXJzdCBhcmcgYnV0IGhhdmUgbm8gc2Vjb25kIGFy
Zywgd2UgYXJlIGRlYWxpbmcKLSAgICAgKiB3aXRoIGEgc3RhdHVzIGxpa2UgIkdPTkUiLgotICAg
ICAqLwotICAgIGlmIChncm9rYXJnMSAmJiBhcmcyICYmICFhcmczICYmIEhUVFBfR09ORSAhPSBz
dGF0dXMpIHsKLSAgICAgICAgY29uc3QgY2hhciAqZXhwcl9lcnIgPSBOVUxMOwotCi0gICAgICAg
IGRpcmNvbmYtPnJlZGlyZWN0ID0KLSAgICAgICAgICAgICAgICBhcF9leHByX3BhcnNlX2NtZChj
bWQsIGFyZzIsIEFQX0VYUFJfRkxBR19TVFJJTkdfUkVTVUxULAotICAgICAgICAgICAgICAgICAg
ICAgICAgJmV4cHJfZXJyLCBOVUxMKTsKLSAgICAgICAgaWYgKGV4cHJfZXJyKSB7Ci0gICAgICAg
ICAgICByZXR1cm4gYXByX3BzdHJjYXQoY21kLT50ZW1wX3Bvb2wsCi0gICAgICAgICAgICAgICAg
ICAgICJDYW5ub3QgcGFyc2UgcmVkaXJlY3QgZXhwcmVzc2lvbiAnIiwgYXJnMiwgIic6ICIsIGV4
cHJfZXJyLAotICAgICAgICAgICAgICAgICAgICBOVUxMKTsKLSAgICAgICAgfQotCi0gICAgICAg
IGRpcmNvbmYtPnJlZGlyZWN0X3N0YXR1cyA9IHN0YXR1czsKLSAgICAgICAgZGlyY29uZi0+cmVk
aXJlY3Rfc2V0ID0gMTsKLQotICAgICAgICByZXR1cm4gTlVMTDsKLQotICAgIH0KLSAgICBlbHNl
IGlmIChncm9rYXJnMSAmJiAhYXJnMiAmJiBIVFRQX0dPTkUgPT0gc3RhdHVzKSB7Ci0KLSAgICAg
ICAgZGlyY29uZi0+cmVkaXJlY3Rfc3RhdHVzID0gc3RhdHVzOwotICAgICAgICBkaXJjb25mLT5y
ZWRpcmVjdF9zZXQgPSAxOwotCi0gICAgICAgIHJldHVybiBOVUxMOwotCi0gICAgfQotICAgIGVs
c2UgaWYgKCFncm9rYXJnMSAmJiAhYXJnMikgewotICAgICAgICBjb25zdCBjaGFyICpleHByX2Vy
ciA9IE5VTEw7Ci0KLSAgICAgICAgZGlyY29uZi0+cmVkaXJlY3QgPQotICAgICAgICAgICAgICAg
IGFwX2V4cHJfcGFyc2VfY21kKGNtZCwgYXJnMSwgQVBfRVhQUl9GTEFHX1NUUklOR19SRVNVTFQs
Ci0gICAgICAgICAgICAgICAgICAgICAgICAmZXhwcl9lcnIsIE5VTEwpOwotICAgICAgICBpZiAo
ZXhwcl9lcnIpIHsKLSAgICAgICAgICAgIHJldHVybiBhcHJfcHN0cmNhdChjbWQtPnRlbXBfcG9v
bCwKLSAgICAgICAgICAgICAgICAgICAgIkNhbm5vdCBwYXJzZSByZWRpcmVjdCBleHByZXNzaW9u
ICciLCBhcmcxLCAiJzogIiwgZXhwcl9lcnIsCi0gICAgICAgICAgICAgICAgICAgIE5VTEwpOwot
ICAgICAgICB9Ci0KLSAgICAgICAgZGlyY29uZi0+cmVkaXJlY3Rfc3RhdHVzID0gc3RhdHVzOwot
ICAgICAgICBkaXJjb25mLT5yZWRpcmVjdF9zZXQgPSAxOwotCi0gICAgICAgIHJldHVybiBOVUxM
OwotCi0gICAgfQotCi0gICAgLyoKICAgICAgKiBpZiB3ZSBkb24ndCBoYXZlIHRoZSAzcmQgYXJn
IGFuZCB3ZSBkaWRuJ3QgdW5kZXJzdGFuZCB0aGUgMXN0CiAgICAgICogb25lLCB0aGVuIGFzc3Vt
ZSBVUkwtcGF0aCBVUkwuIFRoaXMgYWxzbyBoYW5kbGVzIGNhc2UsIGVnLCBHT05FCiAgICAgICog
d2UgZXZlbiB0aG91Z2ggd2UgZG9uJ3QgaGF2ZSBhIDNyZCBhcmcsIHdlIGRpZCB1bmRlcnN0YW5k
IHRoZSAxc3QKQEAgLTM4MCwxMSArMjY5LDExIEBACiAKIHN0YXRpYyBjb25zdCBjb21tYW5kX3Jl
YyBhbGlhc19jbWRzW10gPQogewotICAgIEFQX0lOSVRfVEFLRTEyKCJBbGlhcyIsIGFkZF9hbGlh
cywgTlVMTCwgUlNSQ19DT05GIHwgQUNDRVNTX0NPTkYsCi0gICAgICAgICAgICAgICAgICAiYSBm
YWtlbmFtZSBhbmQgYSByZWFsbmFtZSwgb3IgYSByZWFsbmFtZSBpbiBhIExvY2F0aW9uIiksCi0g
ICAgQVBfSU5JVF9UQUtFMTIoIlNjcmlwdEFsaWFzIiwgYWRkX2FsaWFzLCAiY2dpLXNjcmlwdCIs
IFJTUkNfQ09ORiB8IEFDQ0VTU19DT05GLAotICAgICAgICAgICAgICAgICAgImEgZmFrZW5hbWUg
YW5kIGEgcmVhbG5hbWUsIG9yIGEgcmVhbG5hbWUgaW4gYSBMb2NhdGlvbiIpLAotICAgIEFQX0lO
SVRfVEFLRTEyMygiUmVkaXJlY3QiLCBhZGRfcmVkaXJlY3QsICh2b2lkICopIEhUVFBfTU9WRURf
VEVNUE9SQVJJTFksCisgICAgQVBfSU5JVF9UQUtFMigiQWxpYXMiLCBhZGRfYWxpYXMsIE5VTEws
IFJTUkNfQ09ORiwKKyAgICAgICAgICAgICAgICAgICJhIGZha2VuYW1lIGFuZCBhIHJlYWxuYW1l
IiksCisgICAgQVBfSU5JVF9UQUtFMigiU2NyaXB0QWxpYXMiLCBhZGRfYWxpYXMsICJjZ2ktc2Ny
aXB0IiwgUlNSQ19DT05GLAorICAgICAgICAgICAgICAgICAgImEgZmFrZW5hbWUgYW5kIGEgcmVh
bG5hbWUiKSwKKyAgICBBUF9JTklUX1RBS0UyMygiUmVkaXJlY3QiLCBhZGRfcmVkaXJlY3QsICh2
b2lkICopIEhUVFBfTU9WRURfVEVNUE9SQVJJTFksCiAgICAgICAgICAgICAgICAgICAgT1JfRklM
RUlORk8sCiAgICAgICAgICAgICAgICAgICAgImFuIG9wdGlvbmFsIHN0YXR1cywgdGhlbiBkb2N1
bWVudCB0byBiZSByZWRpcmVjdGVkIGFuZCAiCiAgICAgICAgICAgICAgICAgICAgImRlc3RpbmF0
aW9uIFVSTCIpLApAQCAtNDQ0LDgwICszMzMsOSBAQAogICAgIHJldHVybiB1cmlwIC0gdXJpOwog
fQogCi1zdGF0aWMgY2hhciAqdHJ5X2FsaWFzKHJlcXVlc3RfcmVjICpyKQotewotICAgIGFsaWFz
X2Rpcl9jb25mICpkaXJjb25mID0KLSAgICAgICAgICAgIChhbGlhc19kaXJfY29uZiAqKSBhcF9n
ZXRfbW9kdWxlX2NvbmZpZyhyLT5wZXJfZGlyX2NvbmZpZywgJmFsaWFzX21vZHVsZSk7CitzdGF0
aWMgY2hhciBtYWdpY19lcnJvcl92YWx1ZTsKKyNkZWZpbmUgUFJFR1NVQl9FUlJPUiAgICAgICgm
bWFnaWNfZXJyb3JfdmFsdWUpCiAKLSAgICBpZiAoZGlyY29uZi0+YWxpYXMpIHsKLSAgICAgICAg
Y29uc3QgY2hhciAqZXJyID0gTlVMTDsKLQotICAgICAgICBjaGFyICpmb3VuZCA9IGFwcl9wc3Ry
ZHVwKHItPnBvb2wsCi0gICAgICAgICAgICAgICAgYXBfZXhwcl9zdHJfZXhlYyhyLCBkaXJjb25m
LT5hbGlhcywgJmVycikpOwotICAgICAgICBpZiAoZXJyKSB7Ci0gICAgICAgICAgICBhcF9sb2df
cmVycm9yKEFQTE9HX01BUkssIEFQTE9HX0VSUiwgMCwgciwgQVBMT0dOTygwMjgyNSkKLSAgICAg
ICAgICAgICAgICAgICAgICAgICAgIkNhbid0IGV2YWx1YXRlIGFsaWFzIGV4cHJlc3Npb246ICVz
IiwgZXJyKTsKLSAgICAgICAgICAgIHJldHVybiBQUkVHU1VCX0VSUk9SOwotICAgICAgICB9Ci0K
LSAgICAgICAgaWYgKGRpcmNvbmYtPmhhbmRsZXIpIHsgLyogU2V0IGhhbmRsZXIsIGFuZCBsZWF2
ZSBhIG5vdGUgZm9yIG1vZF9jZ2kgKi8KLSAgICAgICAgICAgIHItPmhhbmRsZXIgPSBkaXJjb25m
LT5oYW5kbGVyOwotICAgICAgICAgICAgYXByX3RhYmxlX3NldG4oci0+bm90ZXMsICJhbGlhcy1m
b3JjZWQtdHlwZSIsIHItPmhhbmRsZXIpOwotICAgICAgICB9Ci0gICAgICAgIC8qIFhYWCBUaGlz
IGlzIGFzIFNMT1cgYXMgY2FuIGJlLCBuZXh0IHN0ZXAsIHdlIG9wdGltaXplCi0gICAgICAgICAq
IGFuZCBtZXJnZSB0byB3aGF0ZXZlciBwYXJ0IG9mIHRoZSBmb3VuZCBwYXRoIHdhcyBhbHJlYWR5
Ci0gICAgICAgICAqIGNhbm9uaWNhbGl6ZWQuICBBZnRlciBJIGZpbmlzaCBlbGltaW5hdGluZyBv
cyBjYW5vbmljYWwuCi0gICAgICAgICAqIEJldHRlciBmYWlsIHRlc3QgZm9yIGFwX3NlcnZlcl9y
b290X3JlbGF0aXZlIG5lZWRlZCBoZXJlLgotICAgICAgICAgKi8KLSAgICAgICAgZm91bmQgPSBh
cF9zZXJ2ZXJfcm9vdF9yZWxhdGl2ZShyLT5wb29sLCBmb3VuZCk7Ci0gICAgICAgIHJldHVybiBm
b3VuZDsKLQotICAgIH0KLQotICAgIHJldHVybiBOVUxMOwotfQotCi1zdGF0aWMgY2hhciAqdHJ5
X3JlZGlyZWN0KHJlcXVlc3RfcmVjICpyLCBpbnQgKnN0YXR1cykKLXsKLSAgICBhbGlhc19kaXJf
Y29uZiAqZGlyY29uZiA9Ci0gICAgICAgICAgICAoYWxpYXNfZGlyX2NvbmYgKikgYXBfZ2V0X21v
ZHVsZV9jb25maWcoci0+cGVyX2Rpcl9jb25maWcsICZhbGlhc19tb2R1bGUpOwotCi0gICAgaWYg
KGRpcmNvbmYtPnJlZGlyZWN0X3NldCkgewotICAgICAgICBhcHJfdXJpX3QgdXJpOwotICAgICAg
ICBjb25zdCBjaGFyICplcnIgPSBOVUxMOwotICAgICAgICBjaGFyICpmb3VuZCA9ICIiOwotCi0g
ICAgICAgIGlmIChkaXJjb25mLT5yZWRpcmVjdCkgewotCi0gICAgICAgICAgICBmb3VuZCA9IGFw
cl9wc3RyZHVwKHItPnBvb2wsCi0gICAgICAgICAgICAgICAgICAgIGFwX2V4cHJfc3RyX2V4ZWMo
ciwgZGlyY29uZi0+cmVkaXJlY3QsICZlcnIpKTsKLSAgICAgICAgICAgIGlmIChlcnIpIHsKLSAg
ICAgICAgICAgICAgICBhcF9sb2dfcmVycm9yKEFQTE9HX01BUkssIEFQTE9HX0VSUiwgMCwgciwg
QVBMT0dOTygwMjgyNikKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJDYW4ndCBldmFs
dWF0ZSByZWRpcmVjdCBleHByZXNzaW9uOiAlcyIsIGVycik7Ci0gICAgICAgICAgICAgICAgcmV0
dXJuIFBSRUdTVUJfRVJST1I7Ci0gICAgICAgICAgICB9Ci0KLSAgICAgICAgICAgIGFwcl91cmlf
cGFyc2Uoci0+cG9vbCwgZm91bmQsICZ1cmkpOwotICAgICAgICAgICAgLyogRG8gbm90IGVzY2Fw
ZSB0aGUgcXVlcnkgc3RyaW5nIG9yIGZyYWdtZW50LiAqLwotICAgICAgICAgICAgZm91bmQgPSBh
cHJfdXJpX3VucGFyc2Uoci0+cG9vbCwgJnVyaSwgQVBSX1VSSV9VTlBfT01JVFFVRVJZKTsKLSAg
ICAgICAgICAgIGZvdW5kID0gYXBfZXNjYXBlX3VyaShyLT5wb29sLCBmb3VuZCk7Ci0gICAgICAg
ICAgICBpZiAodXJpLnF1ZXJ5KSB7Ci0gICAgICAgICAgICAgICAgZm91bmQgPSBhcHJfcHN0cmNh
dChyLT5wb29sLCBmb3VuZCwgIj8iLCB1cmkucXVlcnksIE5VTEwpOwotICAgICAgICAgICAgfQot
ICAgICAgICAgICAgaWYgKHVyaS5mcmFnbWVudCkgewotICAgICAgICAgICAgICAgIGZvdW5kID0g
YXByX3BzdHJjYXQoci0+cG9vbCwgZm91bmQsICIjIiwgdXJpLmZyYWdtZW50LCBOVUxMKTsKLSAg
ICAgICAgICAgIH0KLQotICAgICAgICB9Ci0KLSAgICAgICAgKnN0YXR1cyA9IGRpcmNvbmYtPnJl
ZGlyZWN0X3N0YXR1czsKLSAgICAgICAgcmV0dXJuIGZvdW5kOwotCi0gICAgfQotCi0gICAgcmV0
dXJuIE5VTEw7Ci19Ci0KIHN0YXRpYyBjaGFyICp0cnlfYWxpYXNfbGlzdChyZXF1ZXN0X3JlYyAq
ciwgYXByX2FycmF5X2hlYWRlcl90ICphbGlhc2VzLAogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGludCBpc19yZWRpciwgaW50ICpzdGF0dXMpCiB7CkBAIC02MTcsOSArNDM1LDcgQEAKICAg
ICAgICAgcmV0dXJuIERFQ0xJTkVEOwogICAgIH0KIAotICAgIGlmICgocmV0ID0gdHJ5X3JlZGly
ZWN0KHIsICZzdGF0dXMpKSAhPSBOVUxMCi0gICAgICAgICAgICB8fCAocmV0ID0gdHJ5X2FsaWFz
X2xpc3Qociwgc2VydmVyY29uZi0+cmVkaXJlY3RzLCAxLCAmc3RhdHVzKSkKLSAgICAgICAgICAg
ICAgICAgICAgIT0gTlVMTCkgeworICAgIGlmICgocmV0ID0gdHJ5X2FsaWFzX2xpc3Qociwgc2Vy
dmVyY29uZi0+cmVkaXJlY3RzLCAxLCAmc3RhdHVzKSkgIT0gTlVMTCkgewogICAgICAgICBpZiAo
cmV0ID09IFBSRUdTVUJfRVJST1IpCiAgICAgICAgICAgICByZXR1cm4gSFRUUF9JTlRFUk5BTF9T
RVJWRVJfRVJST1I7CiAgICAgICAgIGlmIChhcF9pc19IVFRQX1JFRElSRUNUKHN0YXR1cykpIHsK
QEAgLTY1Miw5ICs0NjgsNyBAQAogICAgICAgICByZXR1cm4gc3RhdHVzOwogICAgIH0KIAotICAg
IGlmICgocmV0ID0gdHJ5X2FsaWFzKHIpKSAhPSBOVUxMCi0gICAgICAgICAgICB8fCAocmV0ID0g
dHJ5X2FsaWFzX2xpc3Qociwgc2VydmVyY29uZi0+YWxpYXNlcywgMCwgJnN0YXR1cykpCi0gICAg
ICAgICAgICAgICAgICAgICE9IE5VTEwpIHsKKyAgICBpZiAoKHJldCA9IHRyeV9hbGlhc19saXN0
KHIsIHNlcnZlcmNvbmYtPmFsaWFzZXMsIDAsICZzdGF0dXMpKSAhPSBOVUxMKSB7CiAgICAgICAg
IHItPmZpbGVuYW1lID0gcmV0OwogICAgICAgICByZXR1cm4gT0s7CiAgICAgfQpAQCAtNjcyLDkg
KzQ4Niw3IEBACiAKICAgICAvKiBJdCBtYXkgaGF2ZSBjaGFuZ2VkIHNpbmNlIGxhc3QgdGltZSwg
c28gdHJ5IGFnYWluICovCiAKLSAgICBpZiAoKHJldCA9IHRyeV9yZWRpcmVjdChyLCAmc3RhdHVz
KSkgIT0gTlVMTAotICAgICAgICAgICAgfHwgKHJldCA9IHRyeV9hbGlhc19saXN0KHIsIGRpcmNv
bmYtPnJlZGlyZWN0cywgMSwgJnN0YXR1cykpCi0gICAgICAgICAgICAgICAgICAgICE9IE5VTEwp
IHsKKyAgICBpZiAoKHJldCA9IHRyeV9hbGlhc19saXN0KHIsIGRpcmNvbmYtPnJlZGlyZWN0cywg
MSwgJnN0YXR1cykpICE9IE5VTEwpIHsKICAgICAgICAgaWYgKHJldCA9PSBQUkVHU1VCX0VSUk9S
KQogICAgICAgICAgICAgcmV0dXJuIEhUVFBfSU5URVJOQUxfU0VSVkVSX0VSUk9SOwogICAgICAg
ICBpZiAoYXBfaXNfSFRUUF9SRURJUkVDVChzdGF0dXMpKSB7Cg==
--001a113763e2cc20b405190c2828--

From dev-return-83101-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 19:37:59 2015
Return-Path: <dev-return-83101-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 76A5C18894
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 19:37:59 +0000 (UTC)
Received: (qmail 81467 invoked by uid 500); 21 Jun 2015 19:37:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 81388 invoked by uid 500); 21 Jun 2015 19:37:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 81378 invoked by uid 99); 21 Jun 2015 19:37:58 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 19:37:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 576921A5A80
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 19:37:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.011
X-Spam-Level:
X-Spam-Status: No, score=-0.011 tagged_above=-999 required=6.31
	tests=[SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id WrxvLfTbsz6h for <dev@httpd.apache.org>;
	Sun, 21 Jun 2015 19:37:50 +0000 (UTC)
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id D39D521115
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 19:37:49 +0000 (UTC)
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
To: dev@httpd.apache.org
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
 <5586ECF8.8040000@thelounge.net> <5586F9F3.20709@thelounge.net>
 <CACsi251xHe=pdhwjOJ7QAPd7hKUzkSiF_qp=uaZt4j3OqX9Mng@mail.gmail.com>
 <55870AA5.4020305@thelounge.net>
 <CAKQ1sVO7U=cwCjk3PrsoqvZV6HAUkSai6QYkYsG5pL9BPt6hPg@mail.gmail.com>
From: Reindl Harald <h.reindl@thelounge.net>
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
X-Enigmail-Draft-Status: N1110
Organization: the lounge interactive design
Message-ID: <5587128C.7030101@thelounge.net>
Date: Sun, 21 Jun 2015 21:37:48 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.0.1
MIME-Version: 1.0
In-Reply-To: <CAKQ1sVO7U=cwCjk3PrsoqvZV6HAUkSai6QYkYsG5pL9BPt6hPg@mail.gmail.com>
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="efVVjSXInlciAF8kAtewabGaTeT356X5I"

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--efVVjSXInlciAF8kAtewabGaTeT356X5I
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable


Am 21.06.2015 um 21:28 schrieb Yann Ylavic:
> On Sun, Jun 21, 2015 at 9:04 PM, Reindl Harald <h.reindl@thelounge.net>=
 wrote:
>> Am 21.06.2015 um 21:00 schrieb William A Rowe Jr:
>>>
>>> Reindl,
>>>
>>> Try reverting
>>> http://svn.apache.org/viewvc?view=3Drevision&revision=3D1663259 and s=
ee if
>>> this resolves your observed defect.
>>
>>
>> could you provide a unified diff for inclusion in the RPM-SPEC for rev=
ert
>> that commit, i can't build outside rpmbuild to get a compareable setup=

>
> Attached

thank you!

confirmed - with that patch applied the shared configuration over all of =

our servers works as the last years

the question remains how this should be handeled in the future because i =

searched a long time for a solution to just give out the 404 default=20
page in case of several URLs to get rid of the noise of security scans=20
and that requires a error code to prevent false positives


--efVVjSXInlciAF8kAtewabGaTeT356X5I
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlWHEowACgkQhmBjz394Anl4tgCghJ210JF5AJ1VD3t84VFrOr/6
37QAoIiavU4TVTYgXteDq0mR5KqmUaQQ
=2tDB
-----END PGP SIGNATURE-----

--efVVjSXInlciAF8kAtewabGaTeT356X5I--

From dev-return-83102-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 19:43:01 2015
Return-Path: <dev-return-83102-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 95D3D188A0
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 19:43:01 +0000 (UTC)
Received: (qmail 84330 invoked by uid 500); 21 Jun 2015 19:43:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84250 invoked by uid 500); 21 Jun 2015 19:43:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84236 invoked by uid 99); 21 Jun 2015 19:43:01 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 19:43:01 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id B3B3EC0637
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 19:43:00 +0000 (UTC)
X-Quarantine-ID: <2ul9M1M2BFGd>
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Amavis-Alert: BAD HEADER SECTION, Improper folded header field made up
	entirely of whitespace (char 20 hex): X-Spam-Report: ...that system
	for details.\n \n Content previ[...]
X-Spam-Flag: NO
X-Spam-Score: 3.01
X-Spam-Level: ***
X-Spam-Status: No, score=3.01 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, T_FILL_THIS_FORM_SHORT=0.01,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 2ul9M1M2BFGd for <dev@httpd.apache.org>;
	Sun, 21 Jun 2015 19:42:52 +0000 (UTC)
Received: from s4.mail.rcig.net (s4.mail.rcig.net [216.87.38.204])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 9F9AA275EE
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 19:42:52 +0000 (UTC)
Received: from 24-207-177-197.dhcp.stls.mo.charter.com ([24.207.177.197]:33537 helo=[192.168.1.12])
	by s4.mail.rcig.net with esmtpa (Exim 4.72)
	(envelope-from <druggeri@primary.net>)
	id 1Z6l8f-0005PO-4e
	for dev@httpd.apache.org; Sun, 21 Jun 2015 14:42:46 -0500
User-Agent: K-9 Mail for Android
In-Reply-To: <954663F0-5579-4C5C-9908-1B5374AB6766@jaguNET.com>
References: <954663F0-5579-4C5C-9908-1B5374AB6766@jaguNET.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="----DAMFBFA8NPPFUFL2OO9H6ZJ1H97V08"
Content-Transfer-Encoding: 7bit
Subject: Re: Additional LB providers
From: Daniel Ruggeri <druggeri@primary.net>
Date: Sun, 21 Jun 2015 14:42:41 -0500
To: dev@httpd.apache.org
Message-ID: <08F468EF-4EB7-470F-8D0B-89DFAF6DDC74@primary.net>
X-ACL-Warn: X-The email account used to send this email was: druggeri@primary.net

------DAMFBFA8NPPFUFL2OO9H6ZJ1H97V08
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Additional providers is cool=2E=2E=2E but what do you mean by "fold in?" Ad=
d them as additional modules?

(Sorry for top-post=2E=2E=2E mobile email client)
--=20
Daniel Ruggeri


-------- Original Message --------
From: Jim Jagielski <jim@jaguNET=2Ecom>
Sent: June 18, 2015 11:52:12 AM CDT
To: httpd <dev@httpd=2Eapache=2Eorg>
Subject: Additional LB providers

I'm playing around w/ a newish LB provider that balances based
on latency=2E I'd like to fold it in after I clean it up a bit
but it seems to me that we could also fold in the round-robin
provider in example (after a suitable cleanup) as well as add
in a simply by_random as well=2E

Comments?

------DAMFBFA8NPPFUFL2OO9H6ZJ1H97V08
Content-Type: text/html;
 charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><head></head><body>Additional providers is cool=2E=2E=2E but what do =
you mean by &quot;fold in?&quot; Add them as additional modules?<br>
<br>
(Sorry for top-post=2E=2E=2E mobile email client)<br>
-- <br>
Daniel Ruggeri<br><br><div style=3D'font-size:10=2E0pt;font-family:"Tahoma=
","sans-serif";padding:3=2E0pt 0in 0in 0in'>
<hr style=3D'border:none;border-top:solid #E1E1E1 1=2E0pt'>
<b>From:</b> Jim Jagielski &lt;jim@jaguNET=2Ecom&gt;<br>
<b>Sent:</b> June 18, 2015 11:52:12 AM CDT<br>
<b>To:</b> httpd &lt;dev@httpd=2Eapache=2Eorg&gt;<br>
<b>Subject:</b> Additional LB providers<br>
</div>
<br>
<pre class=3D"k9mail">I'm playing around w/ a newish LB provider that bala=
nces based<br />on latency=2E I'd like to fold it in after I clean it up a =
bit<br />but it seems to me that we could also fold in the round-robin<br /=
>provider in example (after a suitable cleanup) as well as add<br />in a si=
mply by_random as well=2E<br /><br />Comments?<br /></pre></body></html>
------DAMFBFA8NPPFUFL2OO9H6ZJ1H97V08--


From dev-return-83103-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 20:06:14 2015
Return-Path: <dev-return-83103-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 423AC18905
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 20:06:14 +0000 (UTC)
Received: (qmail 1799 invoked by uid 500); 21 Jun 2015 20:06:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1716 invoked by uid 500); 21 Jun 2015 20:06:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1706 invoked by uid 99); 21 Jun 2015 20:06:13 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 20:06:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 5229018395E
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 20:06:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.208
X-Spam-Level:
X-Spam-Status: No, score=-1.208 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id tHlep1Co6SHu for <dev@httpd.apache.org>;
	Sun, 21 Jun 2015 20:06:06 +0000 (UTC)
Received: from mail-ie0-f174.google.com (mail-ie0-f174.google.com [209.85.223.174])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 9991F251C8
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 20:06:06 +0000 (UTC)
Received: by iecvh10 with SMTP id vh10so6867795iec.3
        for <dev@httpd.apache.org>; Sun, 21 Jun 2015 13:06:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=15Y4qfLMiE0kEA6vLslT9DTVspkiwjFw/tIPLjmqQ5Y=;
        b=VmrQYDdDB5OkvQDlnluQZtHcmJKzfk6k4Y44lUfNPfy2bPFaq1HEcgm2VGg6ggWZiN
         GWGfx+oc+6hApCfRuOyEooaCBz9ew/StqlBKzqJDZD4H/QU2kZQQyY4ifwVAeDqstbo2
         D1hQwPa7lD8UObrKfgfNJZ1cIVkDP/4rInb98I7X780x3mQyKgneiQnCZIqmfSlbhkFV
         lsQPXur5CasXha81qx9fPqeuQvnU40PGUE8eojsIUFuGW6tqdEbgKMMr2fuW9/YLVIqy
         neaeKvS/V/ymwLJwnTPKApGxZph/4pehaapSBEqmkhIn5mAsAUHXmpzSmtWwcNJ0GN3V
         h7vA==
MIME-Version: 1.0
X-Received: by 10.107.15.153 with SMTP id 25mr33900816iop.44.1434917159941;
 Sun, 21 Jun 2015 13:05:59 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Sun, 21 Jun 2015 13:05:59 -0700 (PDT)
In-Reply-To: <5587128C.7030101@thelounge.net>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
	<5586ECF8.8040000@thelounge.net>
	<5586F9F3.20709@thelounge.net>
	<CACsi251xHe=pdhwjOJ7QAPd7hKUzkSiF_qp=uaZt4j3OqX9Mng@mail.gmail.com>
	<55870AA5.4020305@thelounge.net>
	<CAKQ1sVO7U=cwCjk3PrsoqvZV6HAUkSai6QYkYsG5pL9BPt6hPg@mail.gmail.com>
	<5587128C.7030101@thelounge.net>
Date: Sun, 21 Jun 2015 22:05:59 +0200
Message-ID: <CAKQ1sVNnS5TseuBP0Cc4tZZ1cKK7zLUEenmJ48oLt=soD5E4aA@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/mixed; boundary=001a113ee4fc99e18a05190caf90

--001a113ee4fc99e18a05190caf90
Content-Type: text/plain; charset=UTF-8

On Sun, Jun 21, 2015 at 9:37 PM, Reindl Harald <h.reindl@thelounge.net> wrote:
>
> Am 21.06.2015 um 21:28 schrieb Yann Ylavic:
>>
>> On Sun, Jun 21, 2015 at 9:04 PM, Reindl Harald <h.reindl@thelounge.net>
>> wrote:
>>>
>>> Am 21.06.2015 um 21:00 schrieb William A Rowe Jr:
>>>>
>>>>
>>>> Reindl,
>>>>
>>>> Try reverting
>>>> http://svn.apache.org/viewvc?view=revision&revision=1663259 and see if
>>>> this resolves your observed defect.
>>>
>>>
>>>
>>> could you provide a unified diff for inclusion in the RPM-SPEC for revert
>>> that commit, i can't build outside rpmbuild to get a compareable setup
>>
>>
>> Attached
>
>
> thank you!
>
> confirmed - with that patch applied the shared configuration over all of our
> servers works as the last years

Thanks Harald for testing.

Could you please also test the attached patch (instead of the previous
one) which should fix the issue without reverting?

--001a113ee4fc99e18a05190caf90
Content-Type: application/x-download; name="mod_alias-fix.patch"
Content-Disposition: attachment; filename="mod_alias-fix.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_ib6wkfif1

SW5kZXg6IG1vZHVsZXMvbWFwcGVycy9tb2RfYWxpYXMuYwo9PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVz
L21hcHBlcnMvbW9kX2FsaWFzLmMJKHJldmlzaW9uIDE2ODY3NDgpCisrKyBtb2R1bGVzL21hcHBl
cnMvbW9kX2FsaWFzLmMJKHdvcmtpbmcgY29weSkKQEAgLTI1MiwxMiArMjUyLDE1IEBACiAgICAg
ICAgIHN0YXR1cyA9IEhUVFBfTU9WRURfVEVNUE9SQVJJTFk7CiAgICAgZWxzZSBpZiAoIXN0cmNh
c2VjbXAoYXJnMSwgInNlZW90aGVyIikpCiAgICAgICAgIHN0YXR1cyA9IEhUVFBfU0VFX09USEVS
OwotICAgIGVsc2UgaWYgKCFzdHJjYXNlY21wKGFyZzEsICJnb25lIikpCi0gICAgICAgIHN0YXR1
cyA9IEhUVFBfR09ORTsKLSAgICBlbHNlIGlmIChhcHJfaXNkaWdpdCgqYXJnMSkpCi0gICAgICAg
IHN0YXR1cyA9IGF0b2koYXJnMSk7Ci0gICAgZWxzZQotICAgICAgICBncm9rYXJnMSA9IDA7Cisg
ICAgZWxzZSB7CisgICAgICAgIGdyb2thcmcxID0gLTE7CisgICAgICAgIGlmICghc3RyY2FzZWNt
cChhcmcxLCAiZ29uZSIpKQorICAgICAgICAgICAgc3RhdHVzID0gSFRUUF9HT05FOworICAgICAg
ICBlbHNlIGlmIChhcHJfaXNkaWdpdCgqYXJnMSkpCisgICAgICAgICAgICBzdGF0dXMgPSBhdG9p
KGFyZzEpOworICAgICAgICBlbHNlCisgICAgICAgICAgICBncm9rYXJnMSA9IDA7CisgICAgfQog
CiAgICAgaWYgKGFyZzMgJiYgIWdyb2thcmcxKQogICAgICAgICByZXR1cm4gIlJlZGlyZWN0OiBp
bnZhbGlkIGZpcnN0IGFyZ3VtZW50IChvZiB0aHJlZSkiOwpAQCAtMjcwLDcgKzI3Myw3IEBACiAg
ICAgICogaWYgd2UgdW5kZXJzdGFuZCB0aGUgZmlyc3QgYXJnIGJ1dCBoYXZlIG5vIHNlY29uZCBh
cmcsIHdlIGFyZSBkZWFsaW5nCiAgICAgICogd2l0aCBhIHN0YXR1cyBsaWtlICJHT05FIi4KICAg
ICAgKi8KLSAgICBpZiAoZ3Jva2FyZzEgJiYgYXJnMiAmJiAhYXJnMyAmJiBIVFRQX0dPTkUgIT0g
c3RhdHVzKSB7CisgICAgaWYgKGdyb2thcmcxID4gMCAmJiBhcmcyICYmICFhcmczICYmIEhUVFBf
R09ORSAhPSBzdGF0dXMpIHsKICAgICAgICAgY29uc3QgY2hhciAqZXhwcl9lcnIgPSBOVUxMOwog
CiAgICAgICAgIGRpcmNvbmYtPnJlZGlyZWN0ID0K
--001a113ee4fc99e18a05190caf90--

From dev-return-83104-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 20:12:29 2015
Return-Path: <dev-return-83104-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3E45618917
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 20:12:29 +0000 (UTC)
Received: (qmail 6383 invoked by uid 500); 21 Jun 2015 20:12:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6298 invoked by uid 500); 21 Jun 2015 20:12:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6288 invoked by uid 99); 21 Jun 2015 20:12:28 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 20:12:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 3DA7E1A5A83
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 20:12:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.011
X-Spam-Level:
X-Spam-Status: No, score=-0.011 tagged_above=-999 required=6.31
	tests=[SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 6NgXVizA_W1p for <dev@httpd.apache.org>;
	Sun, 21 Jun 2015 20:12:22 +0000 (UTC)
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 405A524A28
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 20:12:22 +0000 (UTC)
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
To: dev@httpd.apache.org
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
 <5586ECF8.8040000@thelounge.net> <5586F9F3.20709@thelounge.net>
 <CACsi251xHe=pdhwjOJ7QAPd7hKUzkSiF_qp=uaZt4j3OqX9Mng@mail.gmail.com>
 <55870AA5.4020305@thelounge.net>
 <CAKQ1sVO7U=cwCjk3PrsoqvZV6HAUkSai6QYkYsG5pL9BPt6hPg@mail.gmail.com>
 <5587128C.7030101@thelounge.net>
 <CAKQ1sVNnS5TseuBP0Cc4tZZ1cKK7zLUEenmJ48oLt=soD5E4aA@mail.gmail.com>
From: Reindl Harald <h.reindl@thelounge.net>
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
X-Enigmail-Draft-Status: N1110
Organization: the lounge interactive design
Message-ID: <55871AA3.2010005@thelounge.net>
Date: Sun, 21 Jun 2015 22:12:19 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.0.1
MIME-Version: 1.0
In-Reply-To: <CAKQ1sVNnS5TseuBP0Cc4tZZ1cKK7zLUEenmJ48oLt=soD5E4aA@mail.gmail.com>
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="qtEfQPFJogORnnUrkXWiJdboR4geERwp1"

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--qtEfQPFJogORnnUrkXWiJdboR4geERwp1
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable



Am 21.06.2015 um 22:05 schrieb Yann Ylavic:
> On Sun, Jun 21, 2015 at 9:37 PM, Reindl Harald <h.reindl@thelounge.net>=
 wrote:
>>
>> Am 21.06.2015 um 21:28 schrieb Yann Ylavic:
>>>
>>> On Sun, Jun 21, 2015 at 9:04 PM, Reindl Harald <h.reindl@thelounge.ne=
t>
>>> wrote:
>>>>
>>>> Am 21.06.2015 um 21:00 schrieb William A Rowe Jr:
>>>>>
>>>>>
>>>>> Reindl,
>>>>>
>>>>> Try reverting
>>>>> http://svn.apache.org/viewvc?view=3Drevision&revision=3D1663259 and=
 see if
>>>>> this resolves your observed defect.
>>>>
>>>> could you provide a unified diff for inclusion in the RPM-SPEC for r=
evert
>>>> that commit, i can't build outside rpmbuild to get a compareable set=
up
>>>
>>>
>>> Attached
>>
>>
>> thank you!
>>
>> confirmed - with that patch applied the shared configuration over all =
of our
>> servers works as the last years
>
> Thanks Harald for testing.

no problem

i guess i have to apologize not testing the 24.13 / 2.4.14 which likely=20
would have found that much eralier :-(

> Could you please also test the attached patch (instead of the previous
> one) which should fix the issue without reverting?

looks fine!

Patch #6 (mod_alias-fix.patch):
+ /usr/bin/cat /home/builduser/rpmbuild/SOURCES/mod_alias-fix.patch
+ /usr/bin/patch -p1 --fuzz=3D0
patching file modules/mappers/mod_alias.c





--qtEfQPFJogORnnUrkXWiJdboR4geERwp1
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlWHGqQACgkQhmBjz394AnnxpgCeM/MskZLAKUrFEtBHpoq2/4iE
6+4An12kUev9yaLMwG8t3B1RMGF0NUHX
=ir2P
-----END PGP SIGNATURE-----

--qtEfQPFJogORnnUrkXWiJdboR4geERwp1--

From dev-return-83105-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 21:25:05 2015
Return-Path: <dev-return-83105-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 48E51189DD
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 21:25:05 +0000 (UTC)
Received: (qmail 71546 invoked by uid 500); 21 Jun 2015 21:25:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 71482 invoked by uid 500); 21 Jun 2015 21:25:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 71472 invoked by uid 99); 21 Jun 2015 21:25:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 21:25:04 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of wrowe@rowe-clan.net designates 209.85.223.177 as permitted sender)
Received: from [209.85.223.177] (HELO mail-ie0-f177.google.com) (209.85.223.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 21:22:49 +0000
Received: by ieqy10 with SMTP id y10so15245012ieq.0
        for <dev@httpd.apache.org>; Sun, 21 Jun 2015 14:24:37 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=pz+jG+m4+z9R6FRU/tAZS5GXeFAGN2j50RMlzm4hnH8=;
        b=ZA2aURzCiE/x0CDaGlN5cJL27vrnCvsVEKoF76cWwHWfbUao375e+Eq6VW+Lrcrpyg
         u0KKUkXuM6zY7eviEjd6/zCIZLOG6SuU01WP/IussLl1c2dKrqUunhj+nRXic/JMtfb9
         5tMG5pQrvEdo0q9bL3umcjQEUYyKLWTTRF/u3a9JgS8U4EJtLw2uI9j5bbrroJZJ3dSi
         xXsRmiOxiPX9OS83nCCrRtkUvajJ0cVy0LOhWDgKCYeMM51Og96yKciffp55YxX9iOEK
         s68ZVqEPzmQt/o0d6eIDHZpPo9Z0NnnmlMY660vgJGAJeEYsc4rQyeZBQ7Y37Szvl9Gy
         3lAQ==
X-Gm-Message-State: ALoCoQm5Xu9YkQVsJHStTLsoVTzRvwN5awkz11wlpYjNV2Xl0J68Ca4KuOVbBvCiFR0ZNyHKLEoE
MIME-Version: 1.0
X-Received: by 10.107.152.14 with SMTP id a14mr34067240ioe.92.1434921876974;
 Sun, 21 Jun 2015 14:24:36 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Sun, 21 Jun 2015 14:24:36 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <55870C69.1020705@thelounge.net>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
	<5586ECF8.8040000@thelounge.net>
	<5586F9F3.20709@thelounge.net>
	<CAKQ1sVOtqVZcyb=RtVaDJwtedEfj_FR46LnOZAhMGrnN9g0JOQ@mail.gmail.com>
	<55870C69.1020705@thelounge.net>
Date: Sun, 21 Jun 2015 16:24:36 -0500
Message-ID: <CACsi253mDFCVrBzbUPV2OY5u1s0Zxb+S1J2SrVpbk04Dfou5Vw@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11409f18c228a105190dc8ef
X-Virus-Checked: Checked by ClamAV on apache.org

--001a11409f18c228a105190dc8ef
Content-Type: text/plain; charset=UTF-8

On Sun, Jun 21, 2015 at 2:11 PM, Reindl Harald <h.reindl@thelounge.net>
wrote:

>
> Am 21.06.2015 um 21:02 schrieb Yann Ylavic:
>
>> It seems that RedirectMatch isn't documented without the third (URL)
>> argument, unless in <Location>.
>>
>
All the way back to 1.3... the fact that it worked at all was a coincidence.

If this were an 'undocumented feature', then users are responsible for
submitting
a docs patch that it is a feature in-use.  We can't possibly predict every
broken-
but-otherwise-working configuration in existence.


> And [1] broke your configuration, assuming "^\/something\/$" is an
>> expression (not a regex).
>>
>> [1] http://svn.apache.org/r1663259
>>
>
> that may be true but
>
> * it is a regression breaking configs working like a
>   charm over years and IMHO a no-go for a minor update
>

That's called a charmed existence, and charms turn.  IMHO, it is a go (for
a subversion update, actually, minor would be 2.6.0, for example).


> * at makes little sense to provide a URL when you just
>   want the default 404 error page defined with
>   ErrorDocument  404 "html content" because by enforce
>   providing a URL the configuration is no longer re-useable
>   on different machines
>

Irrelevant.

Pulling Coar/Bowen '04 "Apache Cookbook" off the shelf, this error was
propagated by the last example in 5.8 (and likely elsewhere);

  Redirect gone /foo.html

which likely isn't working in 2.4.15.

As this is not a regression from 2.4.13 or 2.4.14 candidates, it seems to
me we should ship.

--001a11409f18c228a105190dc8ef
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On S=
un, Jun 21, 2015 at 2:11 PM, Reindl Harald <span dir=3D"ltr">&lt;<a href=3D=
"mailto:h.reindl@thelounge.net" target=3D"_blank">h.reindl@thelounge.net</a=
>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 =
0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><span class=3D""><br>=
Am 21.06.2015 um 21:02 schrieb Yann Ylavic:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
It seems that RedirectMatch isn&#39;t documented without the third (URL)<br=
>
argument, unless in &lt;Location&gt;.<br></blockquote></span></blockquote><=
div><br></div><div>All the way back to 1.3... the fact that it worked at al=
l was a coincidence.</div><div><br></div><div>If this were an &#39;undocume=
nted feature&#39;, then users are responsible for submitting</div><div>a do=
cs patch that it is a feature in-use.=C2=A0 We can&#39;t possibly predict e=
very broken-</div><div>but-otherwise-working configuration in existence.</d=
iv><div>=C2=A0</div><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0=
 .8ex;border-left:1px #ccc solid;padding-left:1ex"><span class=3D""><blockq=
uote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc =
solid;padding-left:1ex">
And [1] broke your configuration, assuming &quot;^\/something\/$&quot; is a=
n<br>
expression (not a regex).<br>
<br>
[1] <a href=3D"http://svn.apache.org/r1663259" rel=3D"noreferrer" target=3D=
"_blank">http://svn.apache.org/r1663259</a><br>
</blockquote>
<br></span>
that may be true but<br>
<br>
* it is a regression breaking configs working like a<br>
=C2=A0 charm over years and IMHO a no-go for a minor update<br></blockquote=
><div><br></div><div>That&#39;s called a charmed existence, and charms turn=
.=C2=A0 IMHO, it is a go (for a subversion update, actually, minor would be=
 2.6.0, for example).</div><div>=C2=A0</div><blockquote class=3D"gmail_quot=
e" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">
* at makes little sense to provide a URL when you just<br>
=C2=A0 want the default 404 error page defined with<br>
=C2=A0 ErrorDocument=C2=A0 404 &quot;html content&quot; because by enforce<=
br>
=C2=A0 providing a URL the configuration is no longer re-useable<br>
=C2=A0 on different machines<div class=3D"HOEnZb"><div class=3D"h5"></div><=
/div></blockquote></div><br></div><div class=3D"gmail_extra">Irrelevant.</d=
iv><div class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">Pulling =
Coar/Bowen &#39;04 &quot;Apache Cookbook&quot; off the shelf, this error wa=
s propagated by the last example in 5.8 (and likely elsewhere);</div><div c=
lass=3D"gmail_extra"><br></div><div class=3D"gmail_extra">=C2=A0 Redirect g=
one /foo.html</div><div class=3D"gmail_extra"><br></div><div class=3D"gmail=
_extra">which likely isn&#39;t working in 2.4.15.</div><div class=3D"gmail_=
extra"><br></div><div class=3D"gmail_extra">As this is not a regression fro=
m 2.4.13 or 2.4.14 candidates, it seems to me we should ship.</div><div cla=
ss=3D"gmail_extra"><br></div><div class=3D"gmail_extra"><br></div></div>

--001a11409f18c228a105190dc8ef--

From dev-return-83106-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 21:39:15 2015
Return-Path: <dev-return-83106-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 282BE18A13
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 21:39:15 +0000 (UTC)
Received: (qmail 82249 invoked by uid 500); 21 Jun 2015 21:39:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 82173 invoked by uid 500); 21 Jun 2015 21:39:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 82160 invoked by uid 99); 21 Jun 2015 21:39:14 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 21:39:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 0324CC0045
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 21:39:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.208
X-Spam-Level:
X-Spam-Status: No, score=-1.208 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id yg_ACKq-XOLX for <dev@httpd.apache.org>;
	Sun, 21 Jun 2015 21:39:07 +0000 (UTC)
Received: from mail-ig0-f176.google.com (mail-ig0-f176.google.com [209.85.213.176])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 6498542AF1
	for <dev@httpd.apache.org>; Sun, 21 Jun 2015 21:39:07 +0000 (UTC)
Received: by igin14 with SMTP id n14so5099103igi.1
        for <dev@httpd.apache.org>; Sun, 21 Jun 2015 14:38:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=07i9m82QomRdO0sdoA92YaBeVK+E1aBAbH+Oa5XL7pc=;
        b=WNb1MzKOgoWPoRfdB+YGMc6z698+PH8TrL34wU24fXBpIn6IhLOnK+97J8m9fWe7Op
         pRpULUp3tvMzsRtzU8ODwD6LAdWv5OZWqiaWQ+UWl0bNAHZvd+qaihlV3lzoB975P4fA
         0moFzd0My8Um0OGze6IaJR9ck0E5Kr7WoMDRrrMEZrqai4AXZ3bM4TXnBoYPgFH4XS4b
         1oM6ELDvrVxW0orXvJJcmOs13y+/NQEpdpvqyfIRzWclbEJ6pKw1ePdHD13VoLldH3lA
         lR/JmYZhG3popuR0dH0rSNLsk3ga9TydO2di9I9uVVSnC3T2GSCK29T3JtL3Abw3phHk
         ciTw==
MIME-Version: 1.0
X-Received: by 10.43.162.136 with SMTP id mk8mr22397234icc.28.1434922696034;
 Sun, 21 Jun 2015 14:38:16 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Sun, 21 Jun 2015 14:38:15 -0700 (PDT)
In-Reply-To: <CACsi253mDFCVrBzbUPV2OY5u1s0Zxb+S1J2SrVpbk04Dfou5Vw@mail.gmail.com>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
	<5586ECF8.8040000@thelounge.net>
	<5586F9F3.20709@thelounge.net>
	<CAKQ1sVOtqVZcyb=RtVaDJwtedEfj_FR46LnOZAhMGrnN9g0JOQ@mail.gmail.com>
	<55870C69.1020705@thelounge.net>
	<CACsi253mDFCVrBzbUPV2OY5u1s0Zxb+S1J2SrVpbk04Dfou5Vw@mail.gmail.com>
Date: Sun, 21 Jun 2015 23:38:15 +0200
Message-ID: <CAKQ1sVN9hTaRjxiS1QkTKL6afeFnCgAZEQE0czdG-7kKNh80wA@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Sun, Jun 21, 2015 at 11:24 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
>
> Pulling Coar/Bowen '04 "Apache Cookbook" off the shelf, this error was
> propagated by the last example in 5.8 (and likely elsewhere);
>
>   Redirect gone /foo.html
>
> which likely isn't working in 2.4.15.

It is (still) working since the "gone" keyword is handled specifically.

From dev-return-83107-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 21 23:08:46 2015
Return-Path: <dev-return-83107-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C5EFE18B12
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 21 Jun 2015 23:08:46 +0000 (UTC)
Received: (qmail 42922 invoked by uid 500); 21 Jun 2015 23:08:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 42853 invoked by uid 500); 21 Jun 2015 23:08:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 42843 invoked by uid 99); 21 Jun 2015 23:08:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 23:08:46 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of covener@gmail.com designates 209.85.213.47 as permitted sender)
Received: from [209.85.213.47] (HELO mail-yh0-f47.google.com) (209.85.213.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 21 Jun 2015 23:06:32 +0000
Received: by yhak3 with SMTP id k3so96317540yha.2
        for <dev@httpd.apache.org>; Sun, 21 Jun 2015 16:07:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=zuSiE/ZCNcG+tWBwQinhzG4VYPbK1MbemMc0llOfHnI=;
        b=ESkENZij45oHFgL3INt6Ert3iQGGKy4eETnWaXmfGaiXAmQWMaTjX51zJcBoTyZQHU
         tjaUpFRkD8q5+txsPpqoSdLDQ4uaRDrxfdGMga3OOHm1E9TlyvQoX43i5pI6Bs5OTaav
         mT3FuKvBYm1u5iEwhvA2Fgyh8KOIAKmYOetH5PeijG7+hCt2rjPyku4UL5ulUVRrI8OV
         ur5ptG279kLzZqZmH+SPEgZv1KrC8SysoZ2WoDHIkrxow1hJVGsrIY6SDoYf8OHz0h8W
         fqoycvCGa1fMSs7wyEpamG39HGvPIWTF01uTPhUeK0uekP7F4J7F0nRdzxOE5UJKmyY8
         m45w==
MIME-Version: 1.0
X-Received: by 10.170.123.214 with SMTP id p205mr21038874ykb.14.1434928054827;
 Sun, 21 Jun 2015 16:07:34 -0700 (PDT)
Received: by 10.37.83.130 with HTTP; Sun, 21 Jun 2015 16:07:34 -0700 (PDT)
In-Reply-To: <CACsi253mDFCVrBzbUPV2OY5u1s0Zxb+S1J2SrVpbk04Dfou5Vw@mail.gmail.com>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
	<5586ECF8.8040000@thelounge.net>
	<5586F9F3.20709@thelounge.net>
	<CAKQ1sVOtqVZcyb=RtVaDJwtedEfj_FR46LnOZAhMGrnN9g0JOQ@mail.gmail.com>
	<55870C69.1020705@thelounge.net>
	<CACsi253mDFCVrBzbUPV2OY5u1s0Zxb+S1J2SrVpbk04Dfou5Vw@mail.gmail.com>
Date: Sun, 21 Jun 2015 19:07:34 -0400
Message-ID: <CALK=YjNdxYcm=A4wH93Q3_mhLHAzB2ZhNJpYwu1A-u2KbqHbGg@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Sun, Jun 21, 2015 at 5:24 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
> As this is not a regression from 2.4.13 or 2.4.14 candidates, it seems to me
> we should ship.

I am -1 for 2.4.15 with the regression.  The other candidates being
broken doesn't mitigate it much for me.




-- 
Eric Covener
covener@gmail.com

From dev-return-83108-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 01:33:02 2015
Return-Path: <dev-return-83108-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 21DAE18D03
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 01:33:02 +0000 (UTC)
Received: (qmail 30345 invoked by uid 500); 22 Jun 2015 01:33:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 30284 invoked by uid 500); 22 Jun 2015 01:33:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 30274 invoked by uid 99); 22 Jun 2015 01:33:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 01:33:01 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of covener@gmail.com designates 209.85.160.182 as permitted sender)
Received: from [209.85.160.182] (HELO mail-yk0-f182.google.com) (209.85.160.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 01:30:47 +0000
Received: by ykdy1 with SMTP id y1so15099259ykd.2
        for <dev@httpd.apache.org>; Sun, 21 Jun 2015 18:32:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=QS+Ba/ATDjBV6FxsVgD17L4VdsFjiE17dP609Da5KWQ=;
        b=mq1+f5fNCToj5B1U6BPnZRk4YUWpwJCau0VB2FCzNWYZnLGDvX2JI+/e5b5EekDxNo
         U4Kn2Nt+xP1BXLUq/xojNGqaogg9AUxfgB8D6xEP7aFaCE4MWhQy02F5Jzoht5h0OTPO
         7yPQ0BQUzL5thuheDYk9agOQwmpT5blQKSDjBmLd6DBOiv5lHlS2029hq0uc7oGhPl5Z
         5/C6KZSZsUyV9TrN81A28GKI61TZRlN+hNbki5+9ouCtyn4q7n0ziH7/leESNGmf/xme
         zNm3SKbb5xGPPXB7ScUPbOVB+8RAHWndyDPRJCRLI1thPI90zMK1bWm8oowKcgG29Rzw
         inMg==
MIME-Version: 1.0
X-Received: by 10.170.194.19 with SMTP id l19mr9586611yke.99.1434936755423;
 Sun, 21 Jun 2015 18:32:35 -0700 (PDT)
Received: by 10.37.83.130 with HTTP; Sun, 21 Jun 2015 18:32:35 -0700 (PDT)
In-Reply-To: <CALK=YjMPFzC5Z=LCNCvKUUPWCRRsGOcxHg3=Uj6B0RrBhXER4A@mail.gmail.com>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de>
	<1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm>
	<29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de>
	<CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com>
	<CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com>
	<D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de>
	<E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com>
	<AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de>
	<2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com>
	<06084E9C-1819-4ADF-BD88-18A94C843009@greenbytes.de>
	<6FB93AAA-2BE9-4D4A-8415-551D0A16F1EB@jaguNET.com>
	<425B805C-23FA-4658-BD53-4271A0FA5571@greenbytes.de>
	<CALK=YjMPFzC5Z=LCNCvKUUPWCRRsGOcxHg3=Uj6B0RrBhXER4A@mail.gmail.com>
Date: Sun, 21 Jun 2015 21:32:35 -0400
Message-ID: <CALK=YjP0YT+aTq-sOQ-Pa-u4vHKd9xx9fyJ2LGkBAssf3-8UTQ@mail.gmail.com>
Subject: Re: buckets across threads - question
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Sun, Jun 21, 2015 at 11:07 AM, Eric Covener <covener@gmail.com> wrote:
> re: https://github.com/icing/mod_h2/issues/28 has this design further evolved?
>
> Is there a way to make the deep copy un-necessary by injecting your
> own bucket_alloc created with a pool with a threadsafe allocator very
> early?  It seems like all of the buckets are created in the h2 thread
> after you've had a chance to manipulate stuff.


Or a bucket_alloc per (faux) request_rec somehow.

From dev-return-83109-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 05:41:27 2015
Return-Path: <dev-return-83109-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6A0DD1730F
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 05:41:27 +0000 (UTC)
Received: (qmail 54376 invoked by uid 500); 22 Jun 2015 05:41:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54300 invoked by uid 500); 22 Jun 2015 05:41:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54289 invoked by uid 99); 22 Jun 2015 05:41:26 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 05:41:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 8D463CF639
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 05:41:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id DlxbOle4lBeB for <dev@httpd.apache.org>;
	Mon, 22 Jun 2015 05:41:25 +0000 (UTC)
Received: from mail-wi0-f180.google.com (mail-wi0-f180.google.com [209.85.212.180])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 94F5D256D0
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 05:41:24 +0000 (UTC)
Received: by wiga1 with SMTP id a1so65701075wig.0
        for <dev@httpd.apache.org>; Sun, 21 Jun 2015 22:41:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        bh=cbIipAXsm22DeYlt0GAAxt2Dgj7IPIy81Gn/ArkmY70=;
        b=ZxpiE1UB/FNkeeqdhpuD0UMHncrLW/5/YzJvVKyTXGwBRaM68OKp4C99JB54VNXyzs
         AfDd8u2UOWMusNUDnhp4Mfcm2qMj/L8dwrIMU4R0JtN2Myvbsh4+PU5eU5F9eAYR0PJz
         2auPjeiI6WlG/+/3YfV0Z8Toj6nni35DLSgxiOC0i5fyEHwT6Toji67Dp5B4hWddxIrp
         VF/xC1DOdM1XvtwuqUTrE/NWtNCgOT71m2v6B28/p0wc5XRbBzAJE3MZ46VseUMyB7es
         lL2Hs4H7u4f5BcU9nmJwT29GSCj/YmrdWhinZCuEA7oMvv3KpfJOrnCUkRffbENOB0l0
         pg/A==
X-Received: by 10.194.184.14 with SMTP id eq14mr41269964wjc.58.1434951684368;
        Sun, 21 Jun 2015 22:41:24 -0700 (PDT)
Received: from [41.79.38.218] ([41.79.38.218])
        by mx.google.com with ESMTPSA id ee1sm1675960wic.8.2015.06.21.22.41.22
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Sun, 21 Jun 2015 22:41:23 -0700 (PDT)
Message-ID: <55879FE7.9080605@gmail.com>
Date: Mon, 22 Jun 2015 07:40:55 +0200
From: Kean Johnston <kean.johnston@gmail.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>	<5586ECF8.8040000@thelounge.net>	<5586F9F3.20709@thelounge.net>	<CAKQ1sVOtqVZcyb=RtVaDJwtedEfj_FR46LnOZAhMGrnN9g0JOQ@mail.gmail.com>	<55870C69.1020705@thelounge.net> <CACsi253mDFCVrBzbUPV2OY5u1s0Zxb+S1J2SrVpbk04Dfou5Vw@mail.gmail.com>
In-Reply-To: <CACsi253mDFCVrBzbUPV2OY5u1s0Zxb+S1J2SrVpbk04Dfou5Vw@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

On 6/21/2015 11:24 PM, William A Rowe Jr wrote:
> As this is not a regression from 2.4.13 or 2.4.14 candidates, it seems to
> me we should ship.
I am mostly a lurker on this list but I feel I need to chime in on this.

The mistake with that sentiment is that it is imposing largely invisible to 
users, internal processes onto said users. The public never saw 2.4.1[34] 
so I would consider the above irrelevant. From the user's point of view, 
going from the last publicly released version (2.4.12) to the new one, this 
*would* be a regression. The fact that this was not caught in 2.4.1[34] is 
a gap in the testing process, and shouldn't be (IMHO) grounds for breaking 
working sites with a patch release.

Just my $0.02.

Kean


From dev-return-83110-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 08:08:47 2015
Return-Path: <dev-return-83110-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 67E4B176FD
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 08:08:47 +0000 (UTC)
Received: (qmail 16302 invoked by uid 500); 22 Jun 2015 08:08:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16242 invoked by uid 500); 22 Jun 2015 08:08:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16232 invoked by uid 99); 22 Jun 2015 08:08:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 08:08:46 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stefan.eissing@greenbytes.de designates 217.91.35.233 as permitted sender)
Received: from [217.91.35.233] (HELO mail.greenbytes.de) (217.91.35.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 08:06:32 +0000
Received: from mod-h2.greenbytes.de (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id ED7D115A059A
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 10:07:49 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: buckets across threads - question
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CALK=YjMPFzC5Z=LCNCvKUUPWCRRsGOcxHg3=Uj6B0RrBhXER4A@mail.gmail.com>
Date: Mon, 22 Jun 2015 10:07:49 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <4AF2C0DD-2795-4028-B7F9-D638824D48E1@greenbytes.de>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de> <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm> <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de> <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com> <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com> <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de> <E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com> <AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de> <2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com> <06084E9C-1819-4ADF-BD88-18A94C843009@greenbytes.de> <6FB93AAA-2BE9-4D4A-8415-551D0A16F1EB@jaguNET.com> <425B805C-23FA-4658-BD53-4271A0FA5571@greenbytes.de> <CALK=YjMPFzC5Z=LCNCvKUUPWCRRsGOcxHg3=Uj6B0RrBhXER4A@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
X-Virus-Checked: Checked by ClamAV on apache.org

Sort answer: no.
Re issue 28: I will look into this more today. I was able to generate a =
segfault on connection shutdown on Friday and work on a fix.

Longer version re buckets:=20
- even though buckets for a request are created inside a single worker =
thread, they are mutated/split/placed on free list upon processing down =
the main connection. Which then all affects their bucket_alloc_t from =
several threads. Especially on longer response bodies,=20
- since there are no function pointers for bucket_alloc_t, it is not =
obvious to me how one would replace them with another implementation.
- what can be added are, of course, new bucket implementations. Maybe =
there is an approach to move the data itself without copying more than =
once. With a clever handling of file buckets, maybe no copying at all.

Otherwise, I am open to ideas.

//Stefan

> Am 21.06.2015 um 17:07 schrieb Eric Covener <covener@gmail.com>:
>=20
> re: https://github.com/icing/mod_h2/issues/28 has this design further =
evolved?
>=20
> Is there a way to make the deep copy un-necessary by injecting your
> own bucket_alloc created with a pool with a threadsafe allocator very
> early?  It seems like all of the buckets are created in the h2 thread
> after you've had a chance to manipulate stuff.
>=20
>=20
>=20
> On Tue, Mar 31, 2015 at 2:57 PM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> Thanks, Jim!
>>=20
>>=20
>>=20
>>> Am 31.03.2015 um 19:29 schrieb Jim Jagielski <jim@jaguNET.com>:
>>>=20
>>> What I did is used the alpn patch as a guide and updated trunk
>>> to add the functionality:
>>>=20
>>>   http://svn.apache.org/r1670397
>>>=20
>>> I'll give it a few days to work out and then propose for a
>>> 2.4 backport.
>>>=20
>>>> On Mar 31, 2015, at 1:13 PM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>>>>=20
>>>> I think the old NPN patch is in trunk. The ALPN not AFAIK. I =
undertstand there is a trunk first policy, but it'd be good to get it at =
least going there... thanks.
>>>>=20
>>>> Stefan
>>>>=20
>>>>=20
>>>>=20
>>>> Am 31.03.2015 um 18:22 schrieb Jim Jagielski <jim@jaguNET.com>:
>>>>=20
>>>>>>=20
>>>>>> PS. As a small quid-pro-quo and because you were asking about a =
possibly 2.4.13: there has so far not been a volunteer to integrate the =
ALPN patch I adapted from mod_spdy. It would be great if someone could =
take a look at it. It is the biggest obstacle so far for experimenters =
(early sufferers) of mod_h2 and it would be very nice to have it out of =
the way.
>>>>>=20
>>>>> I'll take a look. It's not currently in trunk, is that right?
>>>=20
>=20
>=20
>=20
> --=20
> Eric Covener
> covener@gmail.com

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83111-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 08:37:47 2015
Return-Path: <dev-return-83111-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AD38E177E5
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 08:37:47 +0000 (UTC)
Received: (qmail 68270 invoked by uid 500); 22 Jun 2015 08:37:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68193 invoked by uid 500); 22 Jun 2015 08:37:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68183 invoked by uid 99); 22 Jun 2015 08:37:47 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 08:37:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 8AD9E1819EA
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 08:37:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.788
X-Spam-Level:
X-Spam-Status: No, score=0.788 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id a2lgsQfSnh5q for <dev@httpd.apache.org>;
	Mon, 22 Jun 2015 08:37:45 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 3275720B6F
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 08:37:44 +0000 (UTC)
Received: from int-mx13.intmail.prod.int.phx2.redhat.com (int-mx13.intmail.prod.int.phx2.redhat.com [10.5.11.26])
	by mx1.redhat.com (Postfix) with ESMTPS id AE303293319
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 08:37:12 +0000 (UTC)
Received: from ditustat.brq.redhat.com (ditustat.brq.redhat.com [10.34.131.181])
	by int-mx13.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t5M8bA5G012800
	(version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 04:37:12 -0400
Received: from adelton by ditustat.brq.redhat.com with local (Exim 4.85)
	(envelope-from <jpazdziora@redhat.com>)
	id 1Z6xE6-00038L-5Q
	for dev@httpd.apache.org; Mon, 22 Jun 2015 10:37:10 +0200
Date: Mon, 22 Jun 2015 10:37:10 +0200
From: Jan Pazdziora <jpazdziora@redhat.com>
To: dev@httpd.apache.org
Subject: Re: Using UPN from subjectAltName with SSLUserName
Message-ID: <20150622083710.GC3448@redhat.com>
References: <20150618094946.GU18173@redhat.com>
 <CAKQ1sVPVuX7ntRt=XjSJ6Og1-gYxjkHv_N2aSNy6wR62XJ_gGw@mail.gmail.com>
 <20150619145116.GK18173@redhat.com>
 <55865FC6.4070802@velox.ch>
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="KsGdsel6WgEHnImy"
Content-Disposition: inline
In-Reply-To: <55865FC6.4070802@velox.ch>
Organization: Red Hat Czech s.r.o., =?iso-8859-2?Q?Purky?=
 =?iso-8859-2?Q?=F2ova_99=2F71=2C_612_45_Brno=2C_Czech_Republic=3B_registe?=
 =?iso-8859-2?Q?red?= in Brno under identification number CZ27690016
User-Agent: Mutt/1.5.23 (2014-03-12)
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.26


--KsGdsel6WgEHnImy
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

On Sun, Jun 21, 2015 at 08:55:02AM +0200, Kaspar Brand wrote:
> 
> The point with the otherName SAN type is that it's yet another bag of
> potentially arbitrary ASN.1 stuff, actually (not just simple strings, as
> is the case for rfc822Name or dNSName):
> 
>    GeneralName ::= CHOICE {
>         otherName                       [0]     OtherName,
>         rfc822Name                      [1]     IA5String,
>         dNSName                         [2]     IA5String,
>         x400Address                     [3]     ORAddress,
>         directoryName                   [4]     Name,
>         ediPartyName                    [5]     EDIPartyName,
>         uniformResourceIdentifier       [6]     IA5String,
>         iPAddress                       [7]     OCTET STRING,
>         registeredID                    [8]     OBJECT IDENTIFIER }
> 
>    OtherName ::= SEQUENCE {
>         type-id    OBJECT IDENTIFIER,
>         value      [0] EXPLICIT ANY DEFINED BY type-id }
>                                 ^^^^^^^^^^^^^^^^^^^^^^
> 
> (See RFC 7299 section 3.14 for the otherName forms defined by the PKIX
> WG in the past.)
> 
> While Microsoft's UPN happens to be a very simple case (the value is
> just a bare UTF8String here), this need not be true for other forms
> of otherName.
> 
> Adding support for msUPN seems useful, but it's really something which
> needs special-case coding in ssl_util_ssl.c:modssl_X509_getSAN(). I
> suggest using SSL_{CLIENT,SERVER}_SAN_OTHER_msUPN_* for the variable
> name(s), to make it clear that it's a subjectAltName entry of type
> otherName. Then, in the code for GEN_OTHERNAME, specifically look for
> this otherName form via "NID_ms_upn" - as only in this case, you
> can be sure to expect a simple UTF8String in otherName->value
> (strongSwan's openssl_x509.c might be a source of inspiration for coding
> this).
> 
> Note that for exposing the msUPN variables with StdEnvVars, you also
> need to adapt ssl_engine_vars.c:modssl_var_extract_san_entries().

Thank you for the analysis.

Please find a new patch attached which I hope covers all the
parts you've outlined, for SSL_CLIENT_SAN_OTHER_msUPN_*.

Yours,

-- 
Jan Pazdziora
Senior Principal Software Engineer, Identity Management Engineering, Red Hat

--KsGdsel6WgEHnImy
Content-Type: text/plain; charset=us-ascii
Content-Disposition: attachment; filename="bz-32806.patch3"

Index: docs/manual/mod/mod_ssl.xml
===================================================================
--- docs/manual/mod/mod_ssl.xml	(revision 1686805)
+++ docs/manual/mod/mod_ssl.xml	(working copy)
@@ -77,6 +77,7 @@
 <tr><td><code>SSL_CLIENT_S_DN_</code><em>x509</em></td> <td>string</td>    <td>Component of client's Subject DN</td></tr>
 <tr><td><code>SSL_CLIENT_SAN_Email_</code><em>n</em></td> <td>string</td>  <td>Client certificate's subjectAltName extension entries of type rfc822Name</td></tr>
 <tr><td><code>SSL_CLIENT_SAN_DNS_</code><em>n</em></td> <td>string</td>    <td>Client certificate's subjectAltName extension entries of type dNSName</td></tr>
+<tr><td><code>SSL_CLIENT_SAN_OTHER_msUPN_</code><em>n</em></td> <td>string</td>    <td>Client certificate's subjectAltName extension entries of type otherName with Microsoft Universal Principal Name (OID 1.3.6.1.4.1.311.20.2.3)</td></tr>
 <tr><td><code>SSL_CLIENT_I_DN</code></td>               <td>string</td>    <td>Issuer DN of client's certificate</td></tr>
 <tr><td><code>SSL_CLIENT_I_DN_</code><em>x509</em></td> <td>string</td>    <td>Component of client's Issuer DN</td></tr>
 <tr><td><code>SSL_CLIENT_V_START</code></td>            <td>string</td>    <td>Validity of client's certificate (start time)</td></tr>
Index: modules/ssl/ssl_engine_vars.c
===================================================================
--- modules/ssl/ssl_engine_vars.c	(revision 1686805)
+++ modules/ssl/ssl_engine_vars.c	(working copy)
@@ -674,6 +674,10 @@
         type = GEN_DNS;
         var += 4;
     }
+    else if (strcEQn(var, "OTHER_msUPN_", 12)) {
+        type = GEN_OTHERNAME;
+        var += 12;
+    }
     else
         return NULL;
 
@@ -1050,6 +1054,9 @@
         if (modssl_X509_getSAN(p, xs, GEN_DNS, -1, &entries)) {
             extract_san_array(t, "SSL_CLIENT_SAN_DNS", entries, p);
         }
+        if (modssl_X509_getSAN(p, xs, GEN_OTHERNAME, -1, &entries)) {
+            extract_san_array(t, "SSL_CLIENT_SAN_OTHER_msUPN", entries, p);
+        }
         X509_free(xs);
     }
 }
Index: modules/ssl/ssl_util_ssl.c
===================================================================
--- modules/ssl/ssl_util_ssl.c	(revision 1686805)
+++ modules/ssl/ssl_util_ssl.c	(working copy)
@@ -258,6 +258,7 @@
  * of the n-th occurrence of that type only. Currently supported types:
  * GEN_EMAIL (rfc822Name)
  * GEN_DNS (dNSName)
+ * GEN_OTHERNAME (otherName for UPN)
  */
 BOOL modssl_X509_getSAN(apr_pool_t *p, X509 *x509, int type, int idx,
                         apr_array_header_t **entries)
@@ -287,10 +288,18 @@
                             APR_ARRAY_PUSH(*entries, const char *) = utf8str;
                         }
                         break;
+                    case GEN_OTHERNAME:
+                        if (name->d.otherName && name->d.otherName->value
+                            && OBJ_obj2nid(name->d.otherName->type_id) == NID_ms_upn) {
+                            utf8str = asn1_string_to_utf8(p, name->d.otherName->value->value.asn1_string);
+                            if (utf8str) {
+                                APR_ARRAY_PUSH(*entries, const char *) = utf8str;
+                            }
+                        }
+                        break;
                     default:
                         /*
                          * Not implemented right now:
-                         * GEN_OTHERNAME (otherName)
                          * GEN_X400 (x400Address)
                          * GEN_DIRNAME (directoryName)
                          * GEN_EDIPARTY (ediPartyName)

--KsGdsel6WgEHnImy--

From dev-return-83112-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 08:53:51 2015
Return-Path: <dev-return-83112-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7EA1B17865
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 08:53:51 +0000 (UTC)
Received: (qmail 97904 invoked by uid 500); 22 Jun 2015 08:53:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97822 invoked by uid 500); 22 Jun 2015 08:53:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97812 invoked by uid 99); 22 Jun 2015 08:53:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 08:53:51 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: local policy)
Received: from [195.245.231.150] (HELO mail1.bemta5.messagelabs.com) (195.245.231.150)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 08:51:34 +0000
Received: from [85.158.136.83] by server-14.bemta-5.messagelabs.com id 59/95-12923-0BCC7855; Mon, 22 Jun 2015 08:52:00 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-5.tower-36.messagelabs.com!1434963119!10653852!1
X-Originating-IP: [195.232.244.135]
X-StarScan-Received:
X-StarScan-Version: 6.13.16; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 12531 invoked from network); 22 Jun 2015 08:52:00 -0000
Received: from mailout03.vodafone.com (HELO mailout03.vodafone.com) (195.232.244.135)
  by server-5.tower-36.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 22 Jun 2015 08:52:00 -0000
Received: from mailint04.vodafone.com (mailint04.vodafone.com [195.232.244.201])
	by mailout03.vodafone.com (Postfix) with ESMTP id 3mFPcY6mjWz17Kj9
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 10:51:57 +0200 (CEST)
Received: from mailint04.vodafone.com (localhost [127.0.0.1])
	by mailint04.vodafone.com (Postfix) with ESMTP id 3mFPZj2dDszfc5J
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 10:50:21 +0200 (CEST)
Received: from VOEXC04W.internal.vodafone.com (voexc04w.dc-ratingen.de [145.230.101.24])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint04.vodafone.com (Postfix) with ESMTPS id 3mFPZj2BNRzfc5y
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 10:50:21 +0200 (CEST)
Received: from VOEXC20W.internal.vodafone.com (145.230.103.125) by
 VOEXC04W.internal.vodafone.com (145.230.101.24) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Mon, 22 Jun 2015 10:50:20 +0200
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.32]) by
 VOEXC20W.internal.vodafone.com ([145.230.103.125]) with mapi id
 14.03.0224.002; Mon, 22 Jun 2015 10:50:19 +0200
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: [VOTE] Release Apache httpd 2.4.15 as GA
Thread-Topic: [VOTE] Release Apache httpd 2.4.15 as GA
Thread-Index: AQHQqrAOmWmbAlvMM0GDhfYS4mQvcZ23D84AgAAPeYCAABOJAIAAAnmAgAAlKACAABzFAIAAwoPQ
Date: Mon, 22 Jun 2015 08:50:18 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC5F40316@VOEXM10W.internal.vodafone.com>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
	<5586ECF8.8040000@thelounge.net>	<5586F9F3.20709@thelounge.net>
	<CAKQ1sVOtqVZcyb=RtVaDJwtedEfj_FR46LnOZAhMGrnN9g0JOQ@mail.gmail.com>
	<55870C69.1020705@thelounge.net>
	<CACsi253mDFCVrBzbUPV2OY5u1s0Zxb+S1J2SrVpbk04Dfou5Vw@mail.gmail.com>
 <CALK=YjNdxYcm=A4wH93Q3_mhLHAzB2ZhNJpYwu1A-u2KbqHbGg@mail.gmail.com>
In-Reply-To: <CALK=YjNdxYcm=A4wH93Q3_mhLHAzB2ZhNJpYwu1A-u2KbqHbGg@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

DQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogRXJpYyBDb3ZlbmVyIFtt
YWlsdG86Y292ZW5lckBnbWFpbC5jb21dDQo+IFNlbnQ6IE1vbnRhZywgMjIuIEp1bmkgMjAxNSAw
MTowOA0KPiBUbzogQXBhY2hlIEhUVFAgU2VydmVyIERldmVsb3BtZW50IExpc3QNCj4gU3ViamVj
dDogUmU6IFtWT1RFXSBSZWxlYXNlIEFwYWNoZSBodHRwZCAyLjQuMTUgYXMgR0ENCj4gDQo+IE9u
IFN1biwgSnVuIDIxLCAyMDE1IGF0IDU6MjQgUE0sIFdpbGxpYW0gQSBSb3dlIEpyIDx3cm93ZUBy
b3dlLWNsYW4ubmV0Pg0KPiB3cm90ZToNCj4gPiBBcyB0aGlzIGlzIG5vdCBhIHJlZ3Jlc3Npb24g
ZnJvbSAyLjQuMTMgb3IgMi40LjE0IGNhbmRpZGF0ZXMsIGl0IHNlZW1zDQo+IHRvIG1lDQo+ID4g
d2Ugc2hvdWxkIHNoaXAuDQo+IA0KPiBJIGFtIC0xIGZvciAyLjQuMTUgd2l0aCB0aGUgcmVncmVz
c2lvbi4gIFRoZSBvdGhlciBjYW5kaWRhdGVzIGJlaW5nDQo+IGJyb2tlbiBkb2Vzbid0IG1pdGln
YXRlIGl0IG11Y2ggZm9yIG1lLg0KDQorMSB0byBFcmljJ3MgY29tbWVudCBhbmQNCi0xIGZyb20g
bWUgYXMgd2VsbCBvbiB0aGUgcmVsZWFzZS4gTG9va3MgbGlrZSB3ZSBhcmUgYSBsaXR0bGUgYml0
IG91dCBvZiBsdWNrIHdpdGggMi40LnggcmVsZWFzZXMgcmVjZW50bHkgOi0pLg0KTXkgcHJvcG9z
YWwgaXMgdG8gbGVhdmUgdGhlIHZvdGUgb3BlbiBhdCBtb3N0IGZvciAyNCBob3VycyB0byBzZWUg
aWYgYW55dGhpbmcgbW9yZSBjb21lcyB1cCBhbmQgdGhlbiByb2xsIDIuNC4xNg0Kd2l0aCB0aGUg
cGF0Y2ggZnJvbSBZYW5uIGFwcGxpZWQuDQpAWWFubjogV291bGRuJ3QgaXQgbWFrZSBzZW5zZSB0
byBjaGVjayBmb3IgY21kLT5wYXRoIGFzIHdlbGwgYmVmb3JlIHdlIGRvIHRoZSBleHByZXNzaW9u
IHBhcnNpbmcgc3R1ZmYgdG8gZW5zdXJlIHdlIGFyZSByZWFsbHkgaW4gYSA8TG9jYXRpb24uLi4+
IHNlY3Rpb24/DQoNClNvIHNvbWV0aGluZyBsaWtlOg0KDQpAQCAtMjcwLDcgKzI3Myw3IEBADQog
ICAgICAqIGlmIHdlIHVuZGVyc3RhbmQgdGhlIGZpcnN0IGFyZyBidXQgaGF2ZSBubyBzZWNvbmQg
YXJnLCB3ZSBhcmUgZGVhbGluZw0KICAgICAgKiB3aXRoIGEgc3RhdHVzIGxpa2UgIkdPTkUiLg0K
ICAgICAgKi8NCi0gICAgaWYgKGdyb2thcmcxICYmIGFyZzIgJiYgIWFyZzMgJiYgSFRUUF9HT05F
ICE9IHN0YXR1cykgew0KKyAgICBpZiAoZ3Jva2FyZzEgPiAwICYmIGFyZzIgJiYgIWFyZzMgJiYg
Y21kLT5wYXRoICYmIEhUVFBfR09ORSAhPSBzdGF0dXMpIHsNCiAgICAgICAgIGNvbnN0IGNoYXIg
KmV4cHJfZXJyID0gTlVMTDsNCiANCiAgICAgICAgIGRpcmNvbmYtPnJlZGlyZWN0ID0NCg0KUmVn
YXJkcw0KDQpSw7xkaWdlcg0KDQo=

From dev-return-83113-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 10:27:17 2015
Return-Path: <dev-return-83113-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 25EAD17BFA
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 10:27:17 +0000 (UTC)
Received: (qmail 56257 invoked by uid 500); 22 Jun 2015 10:27:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56172 invoked by uid 500); 22 Jun 2015 10:27:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56162 invoked by uid 99); 22 Jun 2015 10:27:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 10:27:16 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.174 as permitted sender)
Received: from [209.85.223.174] (HELO mail-ie0-f174.google.com) (209.85.223.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 10:25:02 +0000
Received: by iebrt9 with SMTP id rt9so825727ieb.2
        for <dev@httpd.apache.org>; Mon, 22 Jun 2015 03:26:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=C3YMXJ0ncOwiopd97pOy6hA2TEMVXgEvlPFV6c+1M4A=;
        b=OtZo1ssno29o3yRa+KMVfdHE2oFE/Zvk/LnsfRox044XrRBXVSJ8DCZAvA5DRNZ3wW
         +9alJ0pkZcguXosd/QaZoFpYYuMBy6+p34lKfv4y5upBZXNF6nqlTA1xlovpYZJH42Hc
         ie/CVrtWM2iTbYmJrOQSxQqHhrr4VZq+s214Eg0rfAyqbEmaZcUJQnFFcsBItASRWAnS
         4pSAtt83TaLg6VjdFH0RGxIBNnTsrMG/UMV084YCFWCOCqDH52ZuZd4Ut1jzhkqwxI/k
         Dqe5ib5fo0SzHLcfBRU/T2bJPAkk6euLsoc+AMUZVrbiuJV8I8Gz4FcHDyag9+5CFxOK
         kSEg==
MIME-Version: 1.0
X-Received: by 10.50.141.164 with SMTP id rp4mr20324859igb.2.1434968810203;
 Mon, 22 Jun 2015 03:26:50 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Mon, 22 Jun 2015 03:26:50 -0700 (PDT)
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC5F40316@VOEXM10W.internal.vodafone.com>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
	<5586ECF8.8040000@thelounge.net>
	<5586F9F3.20709@thelounge.net>
	<CAKQ1sVOtqVZcyb=RtVaDJwtedEfj_FR46LnOZAhMGrnN9g0JOQ@mail.gmail.com>
	<55870C69.1020705@thelounge.net>
	<CACsi253mDFCVrBzbUPV2OY5u1s0Zxb+S1J2SrVpbk04Dfou5Vw@mail.gmail.com>
	<CALK=YjNdxYcm=A4wH93Q3_mhLHAzB2ZhNJpYwu1A-u2KbqHbGg@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC5F40316@VOEXM10W.internal.vodafone.com>
Date: Mon, 22 Jun 2015 12:26:50 +0200
Message-ID: <CAKQ1sVM9x+1-NQHpdxkyQeD9+FA0MAa8P94My2EOF7rcw6dsJw@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, Jun 22, 2015 at 10:50 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
<ruediger.pluem@vodafone.com> wrote:
>
>
>> -----Original Message-----
>> From: Eric Covener [mailto:covener@gmail.com]
>> Sent: Montag, 22. Juni 2015 01:08
>> To: Apache HTTP Server Development List
>> Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
>>
>> On Sun, Jun 21, 2015 at 5:24 PM, William A Rowe Jr <wrowe@rowe-clan.net>
>> wrote:
>> > As this is not a regression from 2.4.13 or 2.4.14 candidates, it seems
>> to me
>> > we should ship.
>>
>> I am -1 for 2.4.15 with the regression.  The other candidates being
>> broken doesn't mitigate it much for me.
>
> +1 to Eric's comment and
> -1 from me as well on the release. Looks like we are a little bit out of =
luck with 2.4.x releases recently :-).
> My proposal is to leave the vote open at most for 24 hours to see if anyt=
hing more comes up and then roll 2.4.16
> with the patch from Yann applied.
> @Yann: Wouldn't it make sense to check for cmd->path as well before we do=
 the expression parsing stuff to ensure we are really in a <Location...> se=
ction?
>
> So something like:
>
> @@ -270,7 +273,7 @@
>       * if we understand the first arg but have no second arg, we are dea=
ling
>       * with a status like "GONE".
>       */
> -    if (grokarg1 && arg2 && !arg3 && HTTP_GONE !=3D status) {
> +    if (grokarg1 > 0 && arg2 && !arg3 && cmd->path && HTTP_GONE !=3D sta=
tus) {
>          const char *expr_err =3D NULL;
>
>          dirconf->redirect =3D

Yes, that's where I wanted to go for a final version of the patch,
since the comment (above that code) states: "we use the expression
syntax assuming a path from the location".
OTOH, I don't see why it would be limited to a <Location> context...
But try_redirect() uses per_dir_config only, so it's probably better
to not change this for now, and handle module_config in a follow up
(once 2.4.16 is out! :)

AIUI though, we now accept the URL to be (possibly) an expression, but
I don't understand why we need these new alias_dir_conf entries to
handle that, can't we simply use a new expr field in the alias_entry
(maybe with some heuristic to use a plain string if no real expression
is used, for performances reasons if that matters), and thus preserve
the 2.4.12 logic?

Also, I think we should handle any non-redirect (custom) statuses like
we do for HTTP_GONE (no third/second URL argument required nor
relevent, depending on vhost/location context), and mention it in the
doc :)

So finally this makes me wonder if we'd better not revert the change
for now (at least the Redirect* part since Alias* changes look good),
and think more about the possible Redirect* uses.

Regards,
Yann.

From dev-return-83114-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 10:57:18 2015
Return-Path: <dev-return-83114-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AD4F917D4F
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 10:57:18 +0000 (UTC)
Received: (qmail 20127 invoked by uid 500); 22 Jun 2015 10:57:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 20041 invoked by uid 500); 22 Jun 2015 10:57:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 20031 invoked by uid 99); 22 Jun 2015 10:57:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 10:57:18 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.181 as permitted sender)
Received: from [209.85.213.181] (HELO mail-ig0-f181.google.com) (209.85.213.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 10:55:02 +0000
Received: by igbqq3 with SMTP id qq3so59933440igb.0
        for <dev@httpd.apache.org>; Mon, 22 Jun 2015 03:56:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=u+8u2cjwoTT885xV6TlmRFmFXg4eer1UvHqQRE+YDsw=;
        b=dYcFetjUQ7uZMjOzjS+PsfiDntb4B2n9dvc+72IbC+qUBpR27kZe3Z3zY54dB9NHDI
         VHOPOC8kiUKYSKuTwLeYzJMKLKBHtehbXKOQLAhQ6oqlqZhS9CY8/iiBbGbBnlR18f52
         bmsuSCLuGe3aaYphpPYh446rc3ohIxPptRSQkyN8SzIl1f114Q4Aucw8PFSMbhVfBu/F
         UJdzYNXqrALeFUhbhCGS5I8Hk7VcsQZtl3ZSJbTGeP+izF7CUGM4Mj0NiexRWn9aipYn
         e06ai+2Yxufcr4Fya6b5/1iO2cLymh5QgqLhJi+w+vps+V16kaVTSg5tHpSs5oroh69Y
         Ra4w==
MIME-Version: 1.0
X-Received: by 10.50.141.164 with SMTP id rp4mr20447790igb.2.1434970610349;
 Mon, 22 Jun 2015 03:56:50 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Mon, 22 Jun 2015 03:56:50 -0700 (PDT)
Date: Mon, 22 Jun 2015 12:56:50 +0200
Message-ID: <CAKQ1sVMAeNeSbSkk9=y92dqTb8fo2PScv4ocMQHOkMkS+4D82w@mail.gmail.com>
Subject: Redirect proposed fix (was: [VOTE] Release Apache httpd 2.4.15 as GA)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/mixed; boundary=089e012953807e98580519192186
X-Virus-Checked: Checked by ClamAV on apache.org

--089e012953807e98580519192186
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Mon, Jun 22, 2015 at 12:26 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Mon, Jun 22, 2015 at 10:50 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
>> @Yann: Wouldn't it make sense to check for cmd->path as well before we d=
o the expression parsing stuff to ensure we are really in a <Location...> s=
ection?
>
> Yes, that's where I wanted to go for a final version of the patch,
> since the comment (above that code) states: "we use the expression
> syntax assuming a path from the location".

The attached patch enables expressions for <Location> context only a
redirect status.
I'll try to add tests in framework when I have little time...

> OTOH, I don't see why it would be limited to a <Location> context...
> But try_redirect() uses per_dir_config only, so it's probably better
> to not change this for now, and handle module_config in a follow up
> (once 2.4.16 is out! :)
>
> AIUI though, we now accept the URL to be (possibly) an expression, but
> I don't understand why we need these new alias_dir_conf entries to
> handle that, can't we simply use a new expr field in the alias_entry
> (maybe with some heuristic to use a plain string if no real expression
> is used, for performances reasons if that matters), and thus preserve
> the 2.4.12 logic?
>
> Also, I think we should handle any non-redirect (custom) statuses like
> we do for HTTP_GONE (no third/second URL argument required nor
> relevent, depending on vhost/location context), and mention it in the
> doc :)
>
> So finally this makes me wonder if we'd better not revert the change
> for now (at least the Redirect* part since Alias* changes look good),
> and think more about the possible Redirect* uses.

I can't find a related bugzilla for the feature (not sold already :),
so either way for me, revert or something like the attached...

>
> Regards,
> Yann.

--089e012953807e98580519192186
Content-Type: application/x-download; 
	name="httpd-2.4.x-mod_alias-redirect_expr.patch"
Content-Disposition: attachment; 
	filename="httpd-2.4.x-mod_alias-redirect_expr.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_ib7sdezs0

SW5kZXg6IG1vZHVsZXMvbWFwcGVycy9tb2RfYWxpYXMuYwo9PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVz
L21hcHBlcnMvbW9kX2FsaWFzLmMJKHJldmlzaW9uIDE2ODY3NDgpCisrKyBtb2R1bGVzL21hcHBl
cnMvbW9kX2FsaWFzLmMJKHdvcmtpbmcgY29weSkKQEAgLTI1MiwyNSArMjUyLDM3IEBAIHN0YXRp
YyBjb25zdCBjaGFyICphZGRfcmVkaXJlY3RfaW50ZXJuYWwoY21kX3Bhcm1zCiAgICAgICAgIHN0
YXR1cyA9IEhUVFBfTU9WRURfVEVNUE9SQVJJTFk7CiAgICAgZWxzZSBpZiAoIXN0cmNhc2VjbXAo
YXJnMSwgInNlZW90aGVyIikpCiAgICAgICAgIHN0YXR1cyA9IEhUVFBfU0VFX09USEVSOwotICAg
IGVsc2UgaWYgKCFzdHJjYXNlY21wKGFyZzEsICJnb25lIikpCisgICAgZWxzZSBpZiAoIXN0cmNh
c2VjbXAoYXJnMSwgImdvbmUiKSkgewogICAgICAgICBzdGF0dXMgPSBIVFRQX0dPTkU7Ci0gICAg
ZWxzZSBpZiAoYXByX2lzZGlnaXQoKmFyZzEpKQorICAgICAgICBncm9rYXJnMSA9IC0xOworICAg
IH0KKyAgICBlbHNlIGlmIChhcHJfaXNkaWdpdCgqYXJnMSkpIHsKICAgICAgICAgc3RhdHVzID0g
YXRvaShhcmcxKTsKLSAgICBlbHNlCisgICAgICAgIGlmICghYXBfaXNfSFRUUF9SRURJUkVDVChz
dGF0dXMpKSB7CisgICAgICAgICAgICBncm9rYXJnMSA9IC0xOworICAgICAgICB9CisgICAgfQor
ICAgIGVsc2UgewogICAgICAgICBncm9rYXJnMSA9IDA7CisgICAgfQogCiAgICAgaWYgKGFyZzMg
JiYgIWdyb2thcmcxKQogICAgICAgICByZXR1cm4gIlJlZGlyZWN0OiBpbnZhbGlkIGZpcnN0IGFy
Z3VtZW50IChvZiB0aHJlZSkiOwogCiAgICAgLyoKLSAgICAgKiBpZiB3ZSBoYXZlIHRoZSAybmQg
YXJnIGFuZCB3ZSB1bmRlcnN0YW5kIHRoZSAxc3Qgb25lLCBvciBpZiB3ZSBoYXZlIHRoZQorICAg
ICAqIGlmIHdlIGhhdmUgdGhlIDJuZCBhcmcgYW5kIHdlIHVuZGVyc3RhbmQgdGhlIDFzdCBvbmUg
YXMgYSByZWRpcmVjdAorICAgICAqIHN0YXR1cyAoM3h4LCBidXQgbm90IHRoaW5ncyBsaWtlIDQw
NCAvcm9ib3RzLnR4dCksIG9yIGlmIHdlIGhhdmUgdGhlCiAgICAgICogMXN0IGFyZyBidXQgZG9u
J3QgdW5kZXJzdGFuZCBpdCwgd2UgdXNlIHRoZSBleHByZXNzaW9uIHN5bnRheCBhc3N1bWluZwog
ICAgICAqIGEgcGF0aCBmcm9tIHRoZSBsb2NhdGlvbi4KICAgICAgKgogICAgICAqIGlmIHdlIHVu
ZGVyc3RhbmQgdGhlIGZpcnN0IGFyZyBidXQgaGF2ZSBubyBzZWNvbmQgYXJnLCB3ZSBhcmUgZGVh
bGluZwotICAgICAqIHdpdGggYSBzdGF0dXMgbGlrZSAiR09ORSIuCisgICAgICogd2l0aCBhIHN0
YXR1cyBsaWtlICJHT05FIiBvciBhIG5vbi1yZWRpcmVjdCBzdGF0dXMgKGUuZy4gNDA0LCA1MDMp
LgogICAgICAqLwotICAgIGlmIChncm9rYXJnMSAmJiBhcmcyICYmICFhcmczICYmIEhUVFBfR09O
RSAhPSBzdGF0dXMpIHsKKyAgICBpZiAoIWNtZC0+cGF0aCkgeworICAgICAgICAvKiA8TG9jYXRp
b24+IGNvbnRleHQgb25seSBmb3Igbm93ICovCisgICAgICAgIDsKKyAgICB9CisgICAgZWxzZSBp
ZiAoZ3Jva2FyZzEgPiAwICYmIGFyZzIgJiYgIWFyZzMpIHsKICAgICAgICAgY29uc3QgY2hhciAq
ZXhwcl9lcnIgPSBOVUxMOwogCiAgICAgICAgIGRpcmNvbmYtPnJlZGlyZWN0ID0KQEAgLTI4OCw3
ICszMDAsNyBAQCBzdGF0aWMgY29uc3QgY2hhciAqYWRkX3JlZGlyZWN0X2ludGVybmFsKGNtZF9w
YXJtcwogICAgICAgICByZXR1cm4gTlVMTDsKIAogICAgIH0KLSAgICBlbHNlIGlmIChncm9rYXJn
MSAmJiAhYXJnMiAmJiBIVFRQX0dPTkUgPT0gc3RhdHVzKSB7CisgICAgZWxzZSBpZiAoZ3Jva2Fy
ZzEgPCAwICYmICFhcmcyKSB7CiAKICAgICAgICAgZGlyY29uZi0+cmVkaXJlY3Rfc3RhdHVzID0g
c3RhdHVzOwogICAgICAgICBkaXJjb25mLT5yZWRpcmVjdF9zZXQgPSAxOwo=
--089e012953807e98580519192186--

From dev-return-83115-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 10:59:12 2015
Return-Path: <dev-return-83115-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 60AA217D56
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 10:59:12 +0000 (UTC)
Received: (qmail 22108 invoked by uid 500); 22 Jun 2015 10:59:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 22040 invoked by uid 500); 22 Jun 2015 10:59:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 22030 invoked by uid 99); 22 Jun 2015 10:59:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 10:59:11 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.223.180 as permitted sender)
Received: from [209.85.223.180] (HELO mail-ie0-f180.google.com) (209.85.223.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 10:56:56 +0000
Received: by iecvh10 with SMTP id vh10so15847142iec.3
        for <dev@httpd.apache.org>; Mon, 22 Jun 2015 03:58:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=vfm0hKNktu42ONbylZtFcocKsaiEAxfnz8jWIimEfq8=;
        b=cKlqc+4OqCMo7kGAiFISLejzz0SMq6X+mzBJC7XOB8Dcy1CQIWA/DWBlsAj47WDb0h
         +QbWHo/LgugR1gRKuwYkUoiEgZXMMoKFKU0GYn3zGVdQb1wJ9AANZLbNsNYbuZAqAfe5
         P35fewheRkusoGz65rf5sbAf8nbfDLSNPPwcafaUPLAsbRAup4CQLWfAMzikdGUuxgZi
         pZ+ZrMQM5wiQCYz/sHK+TNvPWiMWLH66hx4z6AsTtZit1Gj7CQ9TZmSN6ODA6WUdbah2
         6hdOruP0ltWGliuNStBTfs/pAssIAoPDr+OTP4hYOAMmk2wCptkQUewBUSy8F9QputFV
         N6Yw==
MIME-Version: 1.0
X-Received: by 10.107.15.153 with SMTP id 25mr37195783iop.44.1434970724752;
 Mon, 22 Jun 2015 03:58:44 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Mon, 22 Jun 2015 03:58:44 -0700 (PDT)
In-Reply-To: <CAKQ1sVMAeNeSbSkk9=y92dqTb8fo2PScv4ocMQHOkMkS+4D82w@mail.gmail.com>
References: <CAKQ1sVMAeNeSbSkk9=y92dqTb8fo2PScv4ocMQHOkMkS+4D82w@mail.gmail.com>
Date: Mon, 22 Jun 2015 12:58:44 +0200
Message-ID: <CAKQ1sVMmuyWFAtjjwhC5rhW0mJqfW2O0xNRitfu1vWVsy4dNQQ@mail.gmail.com>
Subject: Re: Redirect proposed fix (was: [VOTE] Release Apache httpd 2.4.15 as GA)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, Jun 22, 2015 at 12:56 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
> The attached patch enables expressions for <Location> context only a
> redirect status.

*and* a redirect status.

From dev-return-83116-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 11:20:36 2015
Return-Path: <dev-return-83116-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3DF1217DF5
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 11:20:36 +0000 (UTC)
Received: (qmail 66427 invoked by uid 500); 22 Jun 2015 11:20:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 66366 invoked by uid 500); 22 Jun 2015 11:20:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 66356 invoked by uid 99); 22 Jun 2015 11:20:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 11:20:35 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of covener@gmail.com designates 209.85.213.53 as permitted sender)
Received: from [209.85.213.53] (HELO mail-yh0-f53.google.com) (209.85.213.53)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 11:18:21 +0000
Received: by yhan67 with SMTP id n67so100592364yha.3
        for <dev@httpd.apache.org>; Mon, 22 Jun 2015 04:20:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=CJejvlTaVyLPqUI0/0D57FgM0gv+ZY4J76bhHNuFM4A=;
        b=HS0/TGUkF8072qVp9bf4w+XG1aQCRUGqo9+hP0oDguZ988pX/lMPG5xe2Z2ReScgFS
         0fkoMeyYpw1msYvmuV2lULQ5RjKzCr6Mr6ktyIKwQt2H2VZ1PSHJYMIsuIprdey2oeY5
         zQkhFbhzfkKRj0AAUZsL8zeoM10+H4VSGEUOHjmpW+NxjXdfUWJyYhKPUS3VClz3bPyY
         BqY2N89mSOKJSBP6XykuVsdH3ZPEjqiawmIk55iLNQyySG3yJnsAzJSW+3HMlZTQG4Tz
         0R9CIWcq5rrgu/QICdJ8K2xfFuezAwpDndvrZSmpvz57Nygf9bmSyhQ4BCm9y3cEIiKQ
         0L/Q==
MIME-Version: 1.0
X-Received: by 10.129.128.199 with SMTP id q190mr36680787ywf.117.1434972009239;
 Mon, 22 Jun 2015 04:20:09 -0700 (PDT)
Received: by 10.37.83.130 with HTTP; Mon, 22 Jun 2015 04:20:09 -0700 (PDT)
In-Reply-To: <4AF2C0DD-2795-4028-B7F9-D638824D48E1@greenbytes.de>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de>
	<1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm>
	<29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de>
	<CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com>
	<CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com>
	<D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de>
	<E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com>
	<AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de>
	<2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com>
	<06084E9C-1819-4ADF-BD88-18A94C843009@greenbytes.de>
	<6FB93AAA-2BE9-4D4A-8415-551D0A16F1EB@jaguNET.com>
	<425B805C-23FA-4658-BD53-4271A0FA5571@greenbytes.de>
	<CALK=YjMPFzC5Z=LCNCvKUUPWCRRsGOcxHg3=Uj6B0RrBhXER4A@mail.gmail.com>
	<4AF2C0DD-2795-4028-B7F9-D638824D48E1@greenbytes.de>
Date: Mon, 22 Jun 2015 07:20:09 -0400
Message-ID: <CALK=YjPCabfum+aOj50LtTjOb1E=ZjFdJL1-wMaKRU0Lo+RLPA@mail.gmail.com>
Subject: Re: buckets across threads - question
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, Jun 22, 2015 at 4:07 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> Sort answer: no.
> Re issue 28: I will look into this more today. I was able to generate a s=
egfault on connection shutdown on Friday and work on a fix.
>
> Longer version re buckets:
> - even though buckets for a request are created inside a single worker th=
read, they are mutated/split/placed on free list upon processing down the m=
ain connection. Which then all affects their bucket_alloc_t from several th=
reads. Especially on longer response bodies,
> - since there are no function pointers for bucket_alloc_t, it is not obvi=
ous to me how one would replace them with another implementation.
> - what can be added are, of course, new bucket implementations. Maybe the=
re is an approach to move the data itself without copying more than once. W=
ith a clever handling of file buckets, maybe no copying at all.
>
> Otherwise, I am open to ideas.

I am afraid the change will not fix #28. In the backtrace for #28 an
EOR bucket is being deleted while the buckets in a brigade are being
copied to a new pool. That triggers all of the end of request
processing way too early.

I was naively thinking as a POC it would be possible to pmemdup the
conn_rec and create a new bucket allocator (when you create the faux
request_rec) If it worked, we'd want to find some way to get the same
result in the core.  If we continue to share one at the real
connection level, I think it needs an option of a mutex under h2.

--=20
Eric Covener
covener@gmail.com

From dev-return-83117-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 11:46:29 2015
Return-Path: <dev-return-83117-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F21CE17EF5
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 11:46:28 +0000 (UTC)
Received: (qmail 17216 invoked by uid 500); 22 Jun 2015 11:46:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 17147 invoked by uid 500); 22 Jun 2015 11:46:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 17137 invoked by uid 99); 22 Jun 2015 11:46:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 11:46:27 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of minfrin@sharp.fm designates 80.168.143.5 as permitted sender)
Received: from [80.168.143.5] (HELO monica.sharp.fm) (80.168.143.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 11:44:13 +0000
Received: from [10.105.13.196] (unknown [5.56.169.82])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id A8EE582A44
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 12:46:00 +0100 (BST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: buckets across threads - question
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <4AF2C0DD-2795-4028-B7F9-D638824D48E1@greenbytes.de>
Date: Mon, 22 Jun 2015 13:46:03 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <676D03F1-AEF9-4075-B1CA-133165F0122B@sharp.fm>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de> <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm> <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de> <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com> <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com> <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de> <E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com> <AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de> <2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com> <06084E9C-1819-4ADF-BD88-18A94C843009@greenbytes.de> <6FB93AAA-2BE9-4D4A-8415-551D0A16F1EB@jaguNET.com> <425B805C-23FA-4658-BD53-4271A0FA5571@greenbytes.de> <CALK=YjMPFzC5Z=LCNCvKUUPWCRRsGOcxHg3=Uj6B0RrBhXER4A@mail.gmail.com> <4AF2C0DD-2795-4028-B7F9-D638824D48E1@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
X-Virus-Checked: Checked by ClamAV on apache.org

On 22 Jun 2015, at 10:07 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:

> Sort answer: no.
> Re issue 28: I will look into this more today. I was able to generate =
a segfault on connection shutdown on Friday and work on a fix.
>=20
> Longer version re buckets:=20
> - even though buckets for a request are created inside a single worker =
thread, they are mutated/split/placed on free list upon processing down =
the main connection. Which then all affects their bucket_alloc_t from =
several threads. Especially on longer response bodies,=20
> - since there are no function pointers for bucket_alloc_t, it is not =
obvious to me how one would replace them with another implementation.
> - what can be added are, of course, new bucket implementations. Maybe =
there is an approach to move the data itself without copying more than =
once. With a clever handling of file buckets, maybe no copying at all.
>=20
> Otherwise, I am open to ideas.

The secret to all of this is the pool hierarchy - if a request is to be =
served by any thread in a pool of threads, then that request mustn=E2=80=99=
t ever contain memory allocated from a pool tied to a specific thread.

When mod_proxy learned how to do connection pooling there were subtle =
pool lifetime issues uncovered caused by the backend connections =
allocated from a connection pool being interfaced to the frontend =
connections per request. You have to get the pools 100% right.

Regards,
Graham
=E2=80=94


From dev-return-83118-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 11:58:25 2015
Return-Path: <dev-return-83118-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3C40717F4E
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 11:58:25 +0000 (UTC)
Received: (qmail 31503 invoked by uid 500); 22 Jun 2015 11:58:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 31424 invoked by uid 500); 22 Jun 2015 11:58:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 31414 invoked by uid 99); 22 Jun 2015 11:58:24 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 11:58:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 5519C183BEE
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 11:58:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id yRzFtDKH-pRl for <dev@httpd.apache.org>;
	Mon, 22 Jun 2015 11:58:14 +0000 (UTC)
Received: from resqmta-ch2-12v.sys.comcast.net (resqmta-ch2-12v.sys.comcast.net [69.252.207.44])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 751AA4540D
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 11:58:14 +0000 (UTC)
Received: from resomta-ch2-11v.sys.comcast.net ([69.252.207.107])
	by resqmta-ch2-12v.sys.comcast.net with comcast
	id jPxu1q0022Ka2Q501Py8bF; Mon, 22 Jun 2015 11:58:08 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-11v.sys.comcast.net with comcast
	id jPy71q0052U0RYt01Py7xX; Mon, 22 Jun 2015 11:58:08 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
Date: Mon, 22 Jun 2015 07:58:07 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <9546A2E2-3E20-40DB-BDDC-F847894E45F0@jaguNET.com>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1434974288;
	bh=IXZ6LRGheoE6uT2DeEuu3MXtEYwZCVkbPTrPtOiLwec=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=igCIuISFEx8yeL8TEnCr67H7Tx9+Is8Z0/HFvU5kKAdo6yvVqRYJ90QWI3InsjuHK
	 d8HErEmsG6OygWAPWjg9xtfIgZTn+z6Bf4YTPTWLd2FP25jvgzR/EYP1zsF/grTtOk
	 QOtES1wNErdlLEn2mgynw3wcRLRiyrwDIOD2QtB/7BZuNJjvOloP2XJik3gZFu+UnI
	 7iCXytseolVyQSZt1FB0stcLSnxXSyitlYFuUJXoNuDd8GtF6sHuQD9EH1oWgu988K
	 K+BQOeD437sh0hPUQpvbkQsDt7etxD6dFlocCGeVxm8ox+85I6hFnJclgXg9JgM3Rs
	 bd+o2BA1B4L2w==

OK...

+1:
  o OSX 10.10.3, Xcode 6.3.2: x86_64
  o FreeBSD 9.4, 10.1: x86_64
  o CentOS 6.6, 7: x86_64

> On Jun 19, 2015, at 12:50 PM, Jim Jagielski <jim@jaguNET.com> wrote:
> 
> The pre-release test tarballs for Apache httpd 2.4.15 can be found
> at the usual place:
> 
> 	http://httpd.apache.org/dev/dist/
> 
> I'm calling a VOTE on releasing these as Apache httpd 2.4.15 GA.
> 
> [ ] +1: Good to go
> [ ] +0: meh
> [ ] -1: Danger Will Robinson. And why.
> 
> Vote will last the normal 72 hrs.
> 
> NOTE: The *-deps are only there for convenience.
> 
> Thx!
> 
> PS: Hopefully, 3rd time's the charm!


From dev-return-83119-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 12:02:38 2015
Return-Path: <dev-return-83119-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B3E7017F7C
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 12:02:38 +0000 (UTC)
Received: (qmail 38592 invoked by uid 500); 22 Jun 2015 12:02:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38507 invoked by uid 500); 22 Jun 2015 12:02:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38497 invoked by uid 99); 22 Jun 2015 12:02:38 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 12:02:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C43B0CF71A
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 12:02:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id pFqNXiKM3Mzx for <dev@httpd.apache.org>;
	Mon, 22 Jun 2015 12:02:33 +0000 (UTC)
Received: from resqmta-ch2-07v.sys.comcast.net (resqmta-ch2-07v.sys.comcast.net [69.252.207.39])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 9818921136
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 12:02:32 +0000 (UTC)
Received: from resomta-ch2-04v.sys.comcast.net ([69.252.207.100])
	by resqmta-ch2-07v.sys.comcast.net with comcast
	id jQ1w1q0022AWL2D01Q2RkT; Mon, 22 Jun 2015 12:02:25 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-04v.sys.comcast.net with comcast
	id jQ2Q1q00P2U0RYt01Q2Rfd; Mon, 22 Jun 2015 12:02:25 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
Date: Mon, 22 Jun 2015 08:02:24 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <821FFE96-82D2-4AB8-9FB9-1AE4E54B2942@jaguNET.com>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1434974545;
	bh=DY+1uvJXzwP/GFUw7PDNFUVycVTWik5QShyPv3pNXvI=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=Edpn08W9Ty8qpPgXnkL/bDiumt2uyDusdwGa1IywsCd7/1ldDnjOaM778w3cl6VtN
	 UHoW7+qsFNmKsZmph1UXFzfvc2VT4qeW1S6d6peZBIochxKRTR7rO3bz60ZQRzEx8E
	 TV5JM/J6V8GegSlW5EAm0oNpRWMlEIX0NFtifllsK+kO7yFOAOPbYBtVo9j3EspxA6
	 hnvuCLaFWwGqI1a/As4+mzlybovKvt7PAHHsZmMZjvnCrVw397iGLNnKsrmJAwlbeq
	 +JgYOs4RzytBTqcVVUMF1howjisOr+9NlYrBRtrnA92u6r3TgspEdwVVKr7SScO5tt
	 BEyWnXVFoEe3w==

Seems that 3rd time was NOT the charm.

Due to the regression I am canceling this VOTE.

Let's patch 2.4.16-dev ASAP to handle this and I will T&R 2.4.16
forthwith.

From dev-return-83120-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 12:05:31 2015
Return-Path: <dev-return-83120-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 82E7917F8E
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 12:05:31 +0000 (UTC)
Received: (qmail 43627 invoked by uid 500); 22 Jun 2015 12:05:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 43564 invoked by uid 500); 22 Jun 2015 12:05:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 43554 invoked by uid 99); 22 Jun 2015 12:05:30 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 12:05:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 64A961A5A2E
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 12:05:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id n3IRfMNgYtfJ for <dev@httpd.apache.org>;
	Mon, 22 Jun 2015 12:05:22 +0000 (UTC)
Received: from mail-yh0-f41.google.com (mail-yh0-f41.google.com [209.85.213.41])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id C5144453FE
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 12:05:21 +0000 (UTC)
Received: by yhnv31 with SMTP id v31so75183312yhn.1
        for <dev@httpd.apache.org>; Mon, 22 Jun 2015 05:04:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=+VJoyhwSuL/J80aVVUaE3WXGZyXLwXWUfd+UH86O9BU=;
        b=x2N05+NdO+bZ20hk6KeDgMrPG7mZndZ8tLzevm7rc7yI46m4QpEmkcIvtZ/n5uSCNW
         MQYXAdq0mrr1AnsOdYKSUm0OLicGrMdOdzkaA8G/18MUABtYx6ILq8mZTIbMPGMo8+ou
         MWceTs4fhotuoxeC0cCR2vKlfCqjN/zuW70xXP+5avyRsxMpXoWx8u05AtjkjYhNEL6j
         qa+nVFD2iSEENP5h9EWuqOQBCB3NhBDO8RyDVhOh0zYs4BmueAFQTqc2piM10Aig8FyW
         p1b2wd2EYB4BI+cZVzAfxqjWeDD4eqKOKhonAwQOISgQJZyhV8Rpqj0rkZ0+WavjiAa7
         sJcg==
MIME-Version: 1.0
X-Received: by 10.13.243.65 with SMTP id c62mr35931241ywf.114.1434974670267;
 Mon, 22 Jun 2015 05:04:30 -0700 (PDT)
Received: by 10.13.241.133 with HTTP; Mon, 22 Jun 2015 05:04:30 -0700 (PDT)
In-Reply-To: <821FFE96-82D2-4AB8-9FB9-1AE4E54B2942@jaguNET.com>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
	<821FFE96-82D2-4AB8-9FB9-1AE4E54B2942@jaguNET.com>
Date: Mon, 22 Jun 2015 08:04:30 -0400
Message-ID: <CAKUrXK7+fCnCw+8GkK_h+57++OrxXtYLRcjP--QXDt-Uvn5zfA@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=94eb2c0363287bac5905191a13ca

--94eb2c0363287bac5905191a13ca
Content-Type: text/plain; charset=UTF-8

On Mon, Jun 22, 2015 at 8:02 AM, Jim Jagielski <jim@jagunet.com> wrote:

> Seems that 3rd time was NOT the charm.
>
> Due to the regression I am canceling this VOTE.
>
> Let's patch 2.4.16-dev ASAP to handle this and I will T&R 2.4.16
> forthwith.
>

Thanks, Jim!  We'll get through this eventually :)

(And thanks Steffen and Reindl too!)

-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--94eb2c0363287bac5905191a13ca
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Jun 22, 2015 at 8:02 AM, Jim Jagielski <span dir=3D"ltr">&lt;<a href=3D=
"mailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt;</span> w=
rote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;borde=
r-left:1px #ccc solid;padding-left:1ex">Seems that 3rd time was NOT the cha=
rm.<br>
<br>
Due to the regression I am canceling this VOTE.<br>
<br>
Let&#39;s patch 2.4.16-dev ASAP to handle this and I will T&amp;R 2.4.16<br=
>
forthwith.<br>
</blockquote></div><div class=3D"gmail_extra"><br></div>Thanks, Jim!=C2=A0 =
We&#39;ll get through this eventually :)<br><div><br></div><div>(And thanks=
 Steffen and Reindl too!)</div><div><br></div>-- <br><div class=3D"gmail_si=
gnature"><div dir=3D"ltr">Born in Roswell... married an alien...<br><a href=
=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyhammock.com/</a=
><div><br></div></div></div>
</div></div>

--94eb2c0363287bac5905191a13ca--

From dev-return-83121-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 12:20:21 2015
Return-Path: <dev-return-83121-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3D50817FF5
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 12:20:21 +0000 (UTC)
Received: (qmail 71119 invoked by uid 500); 22 Jun 2015 12:20:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 71051 invoked by uid 500); 22 Jun 2015 12:20:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 71041 invoked by uid 99); 22 Jun 2015 12:20:20 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 12:20:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5632C1A5AF1
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 12:20:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id tQMwZiimZFRR for <dev@httpd.apache.org>;
	Mon, 22 Jun 2015 12:20:15 +0000 (UTC)
Received: from mail-yk0-f180.google.com (mail-yk0-f180.google.com [209.85.160.180])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id CF79420B6F
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 12:20:14 +0000 (UTC)
Received: by ykdt186 with SMTP id t186so23843972ykd.0
        for <dev@httpd.apache.org>; Mon, 22 Jun 2015 05:20:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=rOO0raQnrHGK+REIfw/ipCCYbw7YATgDs2Qj9zMoZhE=;
        b=N+Yv1+CI7fiMdr97eHWLm5O6PRtd5yKWnQvawmw121ByvpaBWB70/1Vg4Ark/RNana
         B1HQ2eeYhv6P7U6hhhss4oDMWuEiBT0FQYwZv13HsN9bzKTuJtq4REadyVBgJwoG/4KG
         quleHuLMpOf44fSYhsIHZr48SswbMCjgac2jWw/xa/WdJ4scVOtA+uG+5U1pp2GW2u4c
         ABe3rympINITCLFYUwnQSW6nxJxK2ZKfiiMtTbitZl6s0lNYsZ/W7u+osstZjT8f/NdH
         XFDJao2adIzt24tqt8YYgT2VTy5ndjFKIW6zbImkzM26LO3t0vLm6e4JnMFkEpvCsM98
         GEng==
MIME-Version: 1.0
X-Received: by 10.170.45.143 with SMTP id 137mr1809066ykn.105.1434975607704;
 Mon, 22 Jun 2015 05:20:07 -0700 (PDT)
Received: by 10.37.83.130 with HTTP; Mon, 22 Jun 2015 05:20:07 -0700 (PDT)
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC5F40316@VOEXM10W.internal.vodafone.com>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
	<5586ECF8.8040000@thelounge.net>
	<5586F9F3.20709@thelounge.net>
	<CAKQ1sVOtqVZcyb=RtVaDJwtedEfj_FR46LnOZAhMGrnN9g0JOQ@mail.gmail.com>
	<55870C69.1020705@thelounge.net>
	<CACsi253mDFCVrBzbUPV2OY5u1s0Zxb+S1J2SrVpbk04Dfou5Vw@mail.gmail.com>
	<CALK=YjNdxYcm=A4wH93Q3_mhLHAzB2ZhNJpYwu1A-u2KbqHbGg@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC5F40316@VOEXM10W.internal.vodafone.com>
Date: Mon, 22 Jun 2015 08:20:07 -0400
Message-ID: <CALK=YjOV6wzTV4upBCfZYzge7Vm2fy5BRYjjHMcXA-dcbvXRMA@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Mon, Jun 22, 2015 at 4:50 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
<ruediger.pluem@vodafone.com> wrote:
> -1 from me as well on the release. Looks like we are a little bit out of =
luck with 2.4.x releases recently :-).


I'll show some uncharacteristic optimism -- in a way we have been very
lucky to catch both issues during voting :)

--=20
Eric Covener
covener@gmail.com

From dev-return-83122-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 12:24:46 2015
Return-Path: <dev-return-83122-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 80D941800F
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 12:24:46 +0000 (UTC)
Received: (qmail 80630 invoked by uid 500); 22 Jun 2015 12:24:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 80568 invoked by uid 500); 22 Jun 2015 12:24:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 80558 invoked by uid 99); 22 Jun 2015 12:24:46 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 12:24:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 98B7C1A5B02
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 12:24:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id BLdW_2Xy8mPU for <dev@httpd.apache.org>;
	Mon, 22 Jun 2015 12:24:36 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 2A86E453FE
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 12:24:35 +0000 (UTC)
Received: from [195.227.30.209] (notebook-rj [195.227.30.209])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t5MCOTfF012076
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 14:24:29 +0200 (CEST)
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
To: dev@httpd.apache.org
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
 <821FFE96-82D2-4AB8-9FB9-1AE4E54B2942@jaguNET.com>
 <CAKUrXK7+fCnCw+8GkK_h+57++OrxXtYLRcjP--QXDt-Uvn5zfA@mail.gmail.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <5587FE76.90107@kippdata.de>
Date: Mon, 22 Jun 2015 14:24:22 +0200
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.0.1
MIME-Version: 1.0
In-Reply-To: <CAKUrXK7+fCnCw+8GkK_h+57++OrxXtYLRcjP--QXDt-Uvn5zfA@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 22.06.2015 um 14:04 schrieb Jeff Trawick:
> On Mon, Jun 22, 2015 at 8:02 AM, Jim Jagielski <jim@jagunet.com
> <mailto:jim@jagunet.com>> wrote:
>
>     Seems that 3rd time was NOT the charm.
>
>     Due to the regression I am canceling this VOTE.
>
>     Let's patch 2.4.16-dev ASAP to handle this and I will T&R 2.4.16
>     forthwith.
>
>
> Thanks, Jim!  We'll get through this eventually :)
>
> (And thanks Steffen and Reindl too!)

+1 to both statements.

My test went threw nicely, but due to the problem with the RedirectMatch 
I would have also voted -1.

It is good we have those additional testers in the loop.

Thanks

Rainer


From dev-return-83123-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 12:49:09 2015
Return-Path: <dev-return-83123-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A77AB180C2
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 12:49:09 +0000 (UTC)
Received: (qmail 36216 invoked by uid 500); 22 Jun 2015 12:49:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36150 invoked by uid 500); 22 Jun 2015 12:49:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36139 invoked by uid 99); 22 Jun 2015 12:49:09 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 12:49:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id A8CAAC127A
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 12:49:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id kqo_ySBMJ5tl for <dev@httpd.apache.org>;
	Mon, 22 Jun 2015 12:49:01 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 8A5A2262B0
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 12:49:00 +0000 (UTC)
Received: from mod-h2.greenbytes.de (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id CF04215A041B
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 14:48:53 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: module configs across (pseudo) connections
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CALK=YjP-Tk4rjNHbvgBFvmTs9FJKb65mhEEHByM1BS+=uLiY0g@mail.gmail.com>
Date: Mon, 22 Jun 2015 14:48:53 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <1E68E2A2-E246-4286-B72E-6CB42B8174D9@greenbytes.de>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de> <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm> <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de> <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com> <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com> <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de> <E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com> <AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de> <2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com> <06084E9C-1819-4ADF-BD88-18A94C843009@greenbytes.de> <6FB93AAA-2BE9-4D4A-8415-551D0A16F1EB@jaguNET.com> <425B805C-23FA-4658-BD53-4271A0FA5571@greenbytes.de> <CALK=YjMPFzC5Z=LCNCvKUUPWCRRsGOcxHg3=Uj6B0RrBhXER4A@mail.gmail.com> <4AF2C0DD-2795-4028-B7F9-D638824D48E1@greenbytes.de> <CALK=YjPCabfum+aOj50LtTjOb1E=ZjFdJL1-wMaKRU0Lo+RLPA@mail.gmail.com> <B8EC0BA4-613B-4B44-A226-72284AB51678@greenbytes.de> <CALK=YjO=Z46V8GrP3BiOVkfzXgyMvM1QhvOMLvf2Fnw0wJLGgg@mail.gmail.com> <726FD286-EFB0-4
 A8C-B0A4-78A22BB3607F@greenbytes.de> <CALK=YjP-Tk4rjNHbvgBFvmTs9FJKb65mhEEHByM1BS+=uLiY0g@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)

Eric, thanks for the help! When enabling mod_logio it became immediately =
clear that mod_h2 wrongly prevented some pre_connection hooks to run. =
mod_logio however expects its allocated module config to be there when a =
request gets cleaned up... So, with v0.7.2 all pre_conn hooks are run =
again and it is part of my test setup now.

Which adds the issue about proper handling of module configurations in =
pseudo connections. There seem to be two approaches:
a) treat pseudo connections like real ones -> run all connection hooks=20=

b) treat them as "shadows" of the real connection -> copy module configs

While a) is the least dangerous, it misses gives a false impression =
about the properties of a connection. For example, mod_h2 currently =
copies over the mod_ssl config, so that SSL variables are available =
during request processing on pseudo connections. On the other hand, code =
is not really prepared for b) since this means that many threads may =
operate on the same module config.

So, mod_h2 now follow a) for now (with the exception of mod_ssl). A =
future proposal for pseudo connections will need to reevaluate this.

Cheers,
   Stefan

> Am 22.06.2015 um 14:23 schrieb Eric Covener <covener@gmail.com>:
>=20
> On Mon, Jun 22, 2015 at 7:38 AM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> Thanks, now I see what you mean. What I do not understand:
>> - why is this EOR processed too early?
>=20
> Usually it is at the end of a brigade and doesn't get cleaned up until
> all of the data is written. But the copy and delete causes the cleanup
> to run while you're iterating over the brigade to copy it in advance
> of writing.
>=20
>> - what is causing the SegFault in the ap_run_log_transaction()
>=20
> I don't know. I would have guessed running it early would only impact
> something later.
>=20
>> - and why am I seeing no errors on my system. Is this a configuration =
issue with logging?
>=20
> Looks like you figured this out  -- must have mod_logio plus its %B or
> whatever in your LogFormat.

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83124-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 13:08:47 2015
Return-Path: <dev-return-83124-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C1398181C0
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 13:08:47 +0000 (UTC)
Received: (qmail 84119 invoked by uid 500); 22 Jun 2015 13:08:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84041 invoked by uid 500); 22 Jun 2015 13:08:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84030 invoked by uid 99); 22 Jun 2015 13:08:47 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 13:08:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id BE243CF73F
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 13:08:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id FgF4R4flQ2gD for <dev@httpd.apache.org>;
	Mon, 22 Jun 2015 13:08:42 +0000 (UTC)
Received: from mail-yh0-f44.google.com (mail-yh0-f44.google.com [209.85.213.44])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id CCDB74540D
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 13:08:41 +0000 (UTC)
Received: by yhpn97 with SMTP id n97so101690516yhp.0
        for <dev@httpd.apache.org>; Mon, 22 Jun 2015 06:08:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=Fkr/QOBBrBL8NdumBO/epg1meDeOptXCaZfxIDMEXgw=;
        b=LoCt1mlqgQufKLVcE5DNLYgEtngefzAc3vJzR1G84jHebsrcwYCIGyQ9n+zSz1ODaD
         sO9j5o/o55XLKBcKWiykH34uRfkyxYf/zo/X2YTbekp98E2CmB3aGbW9EvybOELs7/mt
         bIctJcz/+xDm0UBY7boxM/JWX+dbdi6+XBteQQqK8q1y9tCjiqVzvJHSLK2jI4loHG30
         NMZcCPLFULoxjWGinuVxmz6Tzfxc0S2Nu5pJAQ7tgV/h/C7Qqu4e+c/gPMcJ8U9Dpzrm
         910IMUI9y0vvWRkESUEDXwX5sH4ie5kazF12KhgAts2D/tq6Qcf1C7MoAPgON6W+kRpW
         A53Q==
MIME-Version: 1.0
X-Received: by 10.170.45.143 with SMTP id 137mr2048078ykn.105.1434978515227;
 Mon, 22 Jun 2015 06:08:35 -0700 (PDT)
Received: by 10.37.83.130 with HTTP; Mon, 22 Jun 2015 06:08:35 -0700 (PDT)
In-Reply-To: <1E68E2A2-E246-4286-B72E-6CB42B8174D9@greenbytes.de>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de>
	<1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm>
	<29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de>
	<CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com>
	<CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com>
	<D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de>
	<E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com>
	<AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de>
	<2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com>
	<06084E9C-1819-4ADF-BD88-18A94C843009@greenbytes.de>
	<6FB93AAA-2BE9-4D4A-8415-551D0A16F1EB@jaguNET.com>
	<425B805C-23FA-4658-BD53-4271A0FA5571@greenbytes.de>
	<CALK=YjMPFzC5Z=LCNCvKUUPWCRRsGOcxHg3=Uj6B0RrBhXER4A@mail.gmail.com>
	<4AF2C0DD-2795-4028-B7F9-D638824D48E1@greenbytes.de>
	<CALK=YjPCabfum+aOj50LtTjOb1E=ZjFdJL1-wMaKRU0Lo+RLPA@mail.gmail.com>
	<B8EC0BA4-613B-4B44-A226-72284AB51678@greenbytes.de>
	<CALK=YjO=Z46V8GrP3BiOVkfzXgyMvM1QhvOMLvf2Fnw0wJLGgg@mail.gmail.com>
	<CALK=YjP-Tk4rjNHbvgBFvmTs9FJKb65mhEEHByM1BS+=uLiY0g@mail.gmail.com>
	<1E68E2A2-E246-4286-B72E-6CB42B8174D9@greenbytes.de>
Date: Mon, 22 Jun 2015 09:08:35 -0400
Message-ID: <CALK=YjPBn6PJ-fH0hXEHmHi630NWOSHK+Yc7BAS8-3uJfU--Vg@mail.gmail.com>
Subject: Re: module configs across (pseudo) connections
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Should probably note somewhere that mod_logio won't log meaningful
results for h2 connections (based on how it tracks at connection
level)

On Mon, Jun 22, 2015 at 8:48 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> Eric, thanks for the help! When enabling mod_logio it became immediately =
clear that mod_h2 wrongly prevented some pre_connection hooks to run. mod_l=
ogio however expects its allocated module config to be there when a request=
 gets cleaned up... So, with v0.7.2 all pre_conn hooks are run again and it=
 is part of my test setup now.
>
> Which adds the issue about proper handling of module configurations in ps=
eudo connections. There seem to be two approaches:
> a) treat pseudo connections like real ones -> run all connection hooks
> b) treat them as "shadows" of the real connection -> copy module configs
>
> While a) is the least dangerous, it misses gives a false impression about=
 the properties of a connection. For example, mod_h2 currently copies over =
the mod_ssl config, so that SSL variables are available during request proc=
essing on pseudo connections. On the other hand, code is not really prepare=
d for b) since this means that many threads may operate on the same module =
config.
>
> So, mod_h2 now follow a) for now (with the exception of mod_ssl). A futur=
e proposal for pseudo connections will need to reevaluate this.
>
> Cheers,
>    Stefan
>
>> Am 22.06.2015 um 14:23 schrieb Eric Covener <covener@gmail.com>:
>>
>> On Mon, Jun 22, 2015 at 7:38 AM, Stefan Eissing
>> <stefan.eissing@greenbytes.de> wrote:
>>> Thanks, now I see what you mean. What I do not understand:
>>> - why is this EOR processed too early?
>>
>> Usually it is at the end of a brigade and doesn't get cleaned up until
>> all of the data is written. But the copy and delete causes the cleanup
>> to run while you're iterating over the brigade to copy it in advance
>> of writing.
>>
>>> - what is causing the SegFault in the ap_run_log_transaction()
>>
>> I don't know. I would have guessed running it early would only impact
>> something later.
>>
>>> - and why am I seeing no errors on my system. Is this a configuration i=
ssue with logging?
>>
>> Looks like you figured this out  -- must have mod_logio plus its %B or
>> whatever in your LogFormat.
>
> <green/>bytes GmbH
> Hafenweg 16, 48155 M=C3=BCnster, Germany
> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>
>
>



--=20
Eric Covener
covener@gmail.com

From dev-return-83125-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 14:15:48 2015
Return-Path: <dev-return-83125-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3D1CF183FE
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 14:15:48 +0000 (UTC)
Received: (qmail 33343 invoked by uid 500); 22 Jun 2015 14:15:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 33280 invoked by uid 500); 22 Jun 2015 14:15:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 33270 invoked by uid 99); 22 Jun 2015 14:15:47 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 14:15:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 36BFAC127A
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 14:15:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 47qZjR7iddpm for <dev@httpd.apache.org>;
	Mon, 22 Jun 2015 14:15:46 +0000 (UTC)
Received: from mail-wg0-f48.google.com (mail-wg0-f48.google.com [74.125.82.48])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 68015453FE
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 14:15:46 +0000 (UTC)
Received: by wgbhy7 with SMTP id hy7so142710577wgb.2
        for <dev@httpd.apache.org>; Mon, 22 Jun 2015 07:14:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=ASYziy39/nUe0FNV2ZksjxapuqbrADFdzHOZbmRuwOw=;
        b=nIOnOMthXwKe846+97ZeI9tnlt+c1GELiBRiEtMYorRa9FRnZbOec40nL9MA/29BIq
         ZZnjMji1b5AHihcfUZDig2FkOKgcjkFvJhNqK+4dcSekTrsXca9DbeJ1ygKGz8Dc10de
         XPGYAwdx1mHJnFXNdx4kevFQi/DumgHv0S1tRDyyr9WAH7Jxz49av3RZ3kwkgpT8PVXl
         FuzNNsUwCJZ9gk0LBPXIV1RHkV7nJjxH9YoaijOuBJQgiRygmlHU8uEgznoKLxxOn34i
         R9/i52OLcfiKLKyRAUioCyI6EuxFDUAHpnEDx730z1CtEFBo5XW8m5Hh6LYmOC0izx/N
         in+w==
MIME-Version: 1.0
X-Received: by 10.194.97.196 with SMTP id ec4mr52569938wjb.3.1434982493817;
 Mon, 22 Jun 2015 07:14:53 -0700 (PDT)
Received: by 10.27.100.3 with HTTP; Mon, 22 Jun 2015 07:14:53 -0700 (PDT)
Date: Mon, 22 Jun 2015 16:14:53 +0200
Message-ID: <CAA=k7mV4t=eYBduWF-13sXqrH-yfFx6mpnZM+6ECBh2TH1=D8Q@mail.gmail.com>
Subject: Next release of mod_fcgid
From: Mario Brandt <jblond@gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Hi,

the last release of mod_fcgid was been a long while.

There was an important bugfix on windows side in June last year.

Is there anyone willing to tag and release a new version?


Cheers
Mario

From dev-return-83126-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 14:32:23 2015
Return-Path: <dev-return-83126-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4D917184DE
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 14:32:23 +0000 (UTC)
Received: (qmail 83373 invoked by uid 500); 22 Jun 2015 14:32:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83306 invoked by uid 500); 22 Jun 2015 14:32:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 83296 invoked by uid 99); 22 Jun 2015 14:32:22 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 14:32:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 514AB183BEE
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 14:32:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id vrw3rebzrHHf for <dev@httpd.apache.org>;
	Mon, 22 Jun 2015 14:32:08 +0000 (UTC)
Received: from resqmta-ch2-09v.sys.comcast.net (resqmta-ch2-09v.sys.comcast.net [69.252.207.41])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 42E424741F
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 14:32:08 +0000 (UTC)
Received: from resomta-ch2-17v.sys.comcast.net ([69.252.207.113])
	by resqmta-ch2-09v.sys.comcast.net with comcast
	id jSU81q0022TL4Rh01SY2qG; Mon, 22 Jun 2015 14:32:02 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-17v.sys.comcast.net with comcast
	id jSY11q0012U0RYt01SY1V5; Mon, 22 Jun 2015 14:32:02 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <5587FE76.90107@kippdata.de>
Date: Mon, 22 Jun 2015 10:32:00 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <B5F9CEC2-91AE-4E7D-B3FD-50E956570F8F@jaguNET.com>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com> <821FFE96-82D2-4AB8-9FB9-1AE4E54B2942@jaguNET.com> <CAKUrXK7+fCnCw+8GkK_h+57++OrxXtYLRcjP--QXDt-Uvn5zfA@mail.gmail.com> <5587FE76.90107@kippdata.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1434983522;
	bh=RhNMuxDLDfcDGCE7bIPY/5t4+Vjcyr+2HhY/D/kKawo=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=dlk/ZnxjAhO29dX4q9VB6mM1qhzJIFd4d1Mgb95GBQ71xubX9b9S4G0kXykbXaRl4
	 PZ+2ismO06I/rnnuZxf59CE2cNrOI/FjmoqPdOu49koeXQrB/AN9kcltuHqe139H4j
	 3Sqdd5JVCeq5fUBGGB/hQGZR28TiuMvJB6RuUmhSGD+LRfZV0385H/CiID8D/npFSi
	 7Agm+USxzaEMTe8ApXGXSqWHQP/XuFscfkBpWK3Ffpnp9jxX1REWS/VLGtvdzqF2Qh
	 ZaXdeN3Vl3C+qSoLSmb22jBZINJehMBmH5PDxoGkE4mDL4game5kl/X3tCNl00sjXG
	 in9F2r2pwSnGA==

Agreed. We should also, everytime we catch something like this,
add a test-case to the perl test framework to ensure we don't trip
over it again :)

> On Jun 22, 2015, at 8:24 AM, Rainer Jung <rainer.jung@kippdata.de> =
wrote:
>=20
> Am 22.06.2015 um 14:04 schrieb Jeff Trawick:
>> On Mon, Jun 22, 2015 at 8:02 AM, Jim Jagielski <jim@jagunet.com
>> <mailto:jim@jagunet.com>> wrote:
>>=20
>>    Seems that 3rd time was NOT the charm.
>>=20
>>    Due to the regression I am canceling this VOTE.
>>=20
>>    Let's patch 2.4.16-dev ASAP to handle this and I will T&R 2.4.16
>>    forthwith.
>>=20
>>=20
>> Thanks, Jim!  We'll get through this eventually :)
>>=20
>> (And thanks Steffen and Reindl too!)
>=20
> +1 to both statements.
>=20
> My test went threw nicely, but due to the problem with the =
RedirectMatch I would have also voted -1.
>=20
> It is good we have those additional testers in the loop.
>=20
> Thanks
>=20
> Rainer
>=20


From dev-return-83127-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 14:59:32 2015
Return-Path: <dev-return-83127-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1CA24185FC
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 14:59:32 +0000 (UTC)
Received: (qmail 50354 invoked by uid 500); 22 Jun 2015 14:59:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50287 invoked by uid 500); 22 Jun 2015 14:59:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50277 invoked by uid 99); 22 Jun 2015 14:59:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 14:59:31 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of trawick@gmail.com designates 209.85.160.176 as permitted sender)
Received: from [209.85.160.176] (HELO mail-yk0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 14:57:17 +0000
Received: by ykdy1 with SMTP id y1so23952968ykd.2
        for <dev@httpd.apache.org>; Mon, 22 Jun 2015 07:59:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=fBpXxfMwEQdm39NH26ugUwRECkaQC5tt+uLod61vtMg=;
        b=TRklYsp1y/Qc+/4FLOwfNtK6+pIsL8ip12Y+dcwtrxUGrrWn1Ece+Pa7W2PxJcuEU7
         ZpugxLv0tJ8ckjqD2LivBdLkJfDYzNHMr4AhUjZFUE+qqLLJ42VvkrkDmhGVxg/8wOcf
         K9TWciPteai9B0W/n5w33kAjljf6EJKfvMnONQZ/cBkEoKkiJj1U0XuyiuXkm3+AhJ8l
         X2GeFToKu5ezYJx/QqD5h1EDVO8vrVjuv3k5iCKwTtFGjao0o9XpVHCjOicGx+yyv2wd
         HqxznE0hbl9f1v5tADzTFPjgxpHKFpLNfj5JrIA2GR/3lB3/VaPLk2hUz9lh6wSc1AEt
         fV6A==
MIME-Version: 1.0
X-Received: by 10.170.131.141 with SMTP id x135mr20648112ykb.118.1434985144894;
 Mon, 22 Jun 2015 07:59:04 -0700 (PDT)
Received: by 10.13.241.133 with HTTP; Mon, 22 Jun 2015 07:59:04 -0700 (PDT)
In-Reply-To: <CAA=k7mV4t=eYBduWF-13sXqrH-yfFx6mpnZM+6ECBh2TH1=D8Q@mail.gmail.com>
References: <CAA=k7mV4t=eYBduWF-13sXqrH-yfFx6mpnZM+6ECBh2TH1=D8Q@mail.gmail.com>
Date: Mon, 22 Jun 2015 10:59:04 -0400
Message-ID: <CAKUrXK72h6iooa3EeRHXpKfCYXgvzHDxtUCL=ySyZZDaxi9F6w@mail.gmail.com>
Subject: Re: Next release of mod_fcgid
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11397af8d1cb7d05191c8350
X-Virus-Checked: Checked by ClamAV on apache.org

--001a11397af8d1cb7d05191c8350
Content-Type: text/plain; charset=UTF-8

On Mon, Jun 22, 2015 at 10:14 AM, Mario Brandt <jblond@gmail.com> wrote:

> Hi,
>
> the last release of mod_fcgid was been a long while.
>
> There was an important bugfix on windows side in June last year.
>
> Is there anyone willing to tag and release a new version?
>
>
There's nothing in CHANGES.  What was it?

-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a11397af8d1cb7d05191c8350
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Jun 22, 2015 at 10:14 AM, Mario Brandt <span dir=3D"ltr">&lt;<a href=3D=
"mailto:jblond@gmail.com" target=3D"_blank">jblond@gmail.com</a>&gt;</span>=
 wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;bor=
der-left:1px #ccc solid;padding-left:1ex">Hi,<br>
<br>
the last release of mod_fcgid was been a long while.<br>
<br>
There was an important bugfix on windows side in June last year.<br>
<br>
Is there anyone willing to tag and release a new version?<br>
<br></blockquote><div><br></div><div>There&#39;s nothing in CHANGES.=C2=A0 =
What was it?</div><div><br></div><div>--=C2=A0<br></div></div><div class=3D=
"gmail_signature"><div dir=3D"ltr">Born in Roswell... married an alien...<b=
r><a href=3D"http://emptyhammock.com/" target=3D"_blank">http://emptyhammoc=
k.com/</a><div><br></div></div></div>
</div></div>

--001a11397af8d1cb7d05191c8350--

From dev-return-83128-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 15:42:55 2015
Return-Path: <dev-return-83128-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 47A931884F
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 15:42:55 +0000 (UTC)
Received: (qmail 74789 invoked by uid 500); 22 Jun 2015 15:42:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 74718 invoked by uid 500); 22 Jun 2015 15:42:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 74708 invoked by uid 99); 22 Jun 2015 15:42:54 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 15:42:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 07A361A5AE8
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 15:42:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id DcTkNZlHjPeI for <dev@httpd.apache.org>;
	Mon, 22 Jun 2015 15:42:48 +0000 (UTC)
Received: from mail-wg0-f49.google.com (mail-wg0-f49.google.com [74.125.82.49])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 4C38A21136
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 15:42:48 +0000 (UTC)
Received: by wgck11 with SMTP id k11so17761468wgc.0
        for <dev@httpd.apache.org>; Mon, 22 Jun 2015 08:42:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=atX2rBmB1PIgsEtEfB9aKfsDRyImjqPmDaPSU52N1Gs=;
        b=h+QTphblS+tpKCsunEdEJFjif6LN5yk00zGUTVszyt98GHgw/b+Xj+6YYG1P5Z7ik2
         JwfYIn+anzZOXEiqssa2IojmKIuKecMYKQn+LvYQgpX1H6JrcypyyF6jSgXQTk8PSLQQ
         f1NqFj0LId22bww9V9Gm2zAKtnfMmWUbewqh66+IPwWfzFv4NIzqkyBCYmjJyy0izs/J
         7mWOw9yX+FZCRRUhOuVxcSvozjC3gdVjZvYjg5KFZ/u38Ma9iccdFt/Ad9UdbYSmWIjo
         jB7TZIvfQ3IWs3oRf7QAKeRZI75tjillZRbVLMc/qmk5whetVoGbaNuebhIs+T/yeYG9
         usPQ==
MIME-Version: 1.0
X-Received: by 10.180.106.97 with SMTP id gt1mr31938665wib.37.1434987762109;
 Mon, 22 Jun 2015 08:42:42 -0700 (PDT)
Received: by 10.27.100.3 with HTTP; Mon, 22 Jun 2015 08:42:42 -0700 (PDT)
In-Reply-To: <CAKUrXK72h6iooa3EeRHXpKfCYXgvzHDxtUCL=ySyZZDaxi9F6w@mail.gmail.com>
References: <CAA=k7mV4t=eYBduWF-13sXqrH-yfFx6mpnZM+6ECBh2TH1=D8Q@mail.gmail.com>
	<CAKUrXK72h6iooa3EeRHXpKfCYXgvzHDxtUCL=ySyZZDaxi9F6w@mail.gmail.com>
Date: Mon, 22 Jun 2015 17:42:42 +0200
Message-ID: <CAA=k7mVLRmOnU_iNprff4OvmXn0Dojhh0i+H36c0C-_RcP+QxA@mail.gmail.com>
Subject: Re: Next release of mod_fcgid
From: Mario Brandt <jblond@gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

r1604123: Lower log "graceful kill fail, sending SIGKILL" level to
DEBUG on Windows. PR 54597.
and
r16041237: Follow up to r1604123: make it compile.

Cheers
Mario

On 22 June 2015 at 16:59, Jeff Trawick <trawick@gmail.com> wrote:
> On Mon, Jun 22, 2015 at 10:14 AM, Mario Brandt <jblond@gmail.com> wrote:
>>
>> Hi,
>>
>> the last release of mod_fcgid was been a long while.
>>
>> There was an important bugfix on windows side in June last year.
>>
>> Is there anyone willing to tag and release a new version?
>>
>
> There's nothing in CHANGES.  What was it?
>
> --
> Born in Roswell... married an alien...
> http://emptyhammock.com/
>

From dev-return-83129-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 15:47:37 2015
Return-Path: <dev-return-83129-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B16ED18871
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 15:47:37 +0000 (UTC)
Received: (qmail 84906 invoked by uid 500); 22 Jun 2015 15:47:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84833 invoked by uid 500); 22 Jun 2015 15:47:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84823 invoked by uid 99); 22 Jun 2015 15:47:37 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 15:47:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id AAA2BC0701
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 15:47:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id MPG5qW3qogVw for <dev@httpd.apache.org>;
	Mon, 22 Jun 2015 15:47:27 +0000 (UTC)
Received: from mail-ig0-f170.google.com (mail-ig0-f170.google.com [209.85.213.170])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 5FE04453FE
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 15:47:27 +0000 (UTC)
Received: by igblr2 with SMTP id lr2so34338772igb.0
        for <dev@httpd.apache.org>; Mon, 22 Jun 2015 08:47:27 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=Za6hBevYSyjTdntj7f1eccRw9grGIxR3Uh5gk4SMY3g=;
        b=dyXR48R9fqcuOXk+kfO0yePZCykhp5P+RXwXvDtxMim1w0VWE2Dwaki4yntYa3yRLJ
         L/GgNBnAk3zfyA5AuxQ/MiUEg8viTaLehfvtq231ZC9432/5npJs2K5BBzo3gIio60cX
         af8XonHMULyCSOH0EVpppJem9wxM2A2Kak+2vY83rsCs9tlWZ/clyG+eqAiYnm0POebA
         WNECLlSA4439K85KSnuZewJqF8wmc1/ZEniyqhYeunw1E7Z4pnkSEQ9uKxPEwegbzSsA
         yJOazgQv99LT4YteYcDSMCJWL/rjMPGJGByy1+EpTJBgiUagOLUktXcig+90MDjGZ3eq
         7eqw==
X-Gm-Message-State: ALoCoQl8/X037FaIdlX+YXlMcFEPUp8JblGNcc0Hl1bpD79YMYYJKcI0ZY4MTkAME/Cg+7NWGZ4n
MIME-Version: 1.0
X-Received: by 10.50.50.130 with SMTP id c2mr21902160igo.19.1434988046716;
 Mon, 22 Jun 2015 08:47:26 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Mon, 22 Jun 2015 08:47:26 -0700 (PDT)
X-Originating-IP: [2600:1008:b149:3939:c95:d156:11ea:c384]
Received: by 10.107.190.195 with HTTP; Mon, 22 Jun 2015 08:47:26 -0700 (PDT)
In-Reply-To: <B5F9CEC2-91AE-4E7D-B3FD-50E956570F8F@jaguNET.com>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
	<821FFE96-82D2-4AB8-9FB9-1AE4E54B2942@jaguNET.com>
	<CAKUrXK7+fCnCw+8GkK_h+57++OrxXtYLRcjP--QXDt-Uvn5zfA@mail.gmail.com>
	<5587FE76.90107@kippdata.de>
	<B5F9CEC2-91AE-4E7D-B3FD-50E956570F8F@jaguNET.com>
Date: Mon, 22 Jun 2015 10:47:26 -0500
Message-ID: <CACsi253Rje-VmY_5vjc-KSsd19CwR2qe2a=QpyXOquUQ=znrQQ@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7b86dd26c8379d05191d30f7

--047d7b86dd26c8379d05191d30f7
Content-Type: text/plain; charset=UTF-8

A sort of unusual case though, first fix is a docs patch, then a test case
for the newly-documented 16 year old behavior :) +1 to the collected
feedback and plan.
On Jun 22, 2015 9:32 AM, "Jim Jagielski" <jim@jagunet.com> wrote:

> Agreed. We should also, everytime we catch something like this,
> add a test-case to the perl test framework to ensure we don't trip
> over it again :)
>
> > On Jun 22, 2015, at 8:24 AM, Rainer Jung <rainer.jung@kippdata.de>
> wrote:
> >
> > Am 22.06.2015 um 14:04 schrieb Jeff Trawick:
> >> On Mon, Jun 22, 2015 at 8:02 AM, Jim Jagielski <jim@jagunet.com
> >> <mailto:jim@jagunet.com>> wrote:
> >>
> >>    Seems that 3rd time was NOT the charm.
> >>
> >>    Due to the regression I am canceling this VOTE.
> >>
> >>    Let's patch 2.4.16-dev ASAP to handle this and I will T&R 2.4.16
> >>    forthwith.
> >>
> >>
> >> Thanks, Jim!  We'll get through this eventually :)
> >>
> >> (And thanks Steffen and Reindl too!)
> >
> > +1 to both statements.
> >
> > My test went threw nicely, but due to the problem with the RedirectMatch
> I would have also voted -1.
> >
> > It is good we have those additional testers in the loop.
> >
> > Thanks
> >
> > Rainer
> >
>
>

--047d7b86dd26c8379d05191d30f7
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">A sort of unusual case though, first fix is a docs patch, th=
en a test case for the newly-documented 16 year old behavior :)  +1 to the =
collected feedback and plan.</p>
<div class=3D"gmail_quote">On Jun 22, 2015 9:32 AM, &quot;Jim Jagielski&quo=
t; &lt;<a href=3D"mailto:jim@jagunet.com">jim@jagunet.com</a>&gt; wrote:<br=
 type=3D"attribution"><blockquote class=3D"gmail_quote" style=3D"margin:0 0=
 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Agreed. We should also=
, everytime we catch something like this,<br>
add a test-case to the perl test framework to ensure we don&#39;t trip<br>
over it again :)<br>
<br>
&gt; On Jun 22, 2015, at 8:24 AM, Rainer Jung &lt;<a href=3D"mailto:rainer.=
jung@kippdata.de">rainer.jung@kippdata.de</a>&gt; wrote:<br>
&gt;<br>
&gt; Am 22.06.2015 um 14:04 schrieb Jeff Trawick:<br>
&gt;&gt; On Mon, Jun 22, 2015 at 8:02 AM, Jim Jagielski &lt;<a href=3D"mail=
to:jim@jagunet.com">jim@jagunet.com</a><br>
&gt;&gt; &lt;mailto:<a href=3D"mailto:jim@jagunet.com">jim@jagunet.com</a>&=
gt;&gt; wrote:<br>
&gt;&gt;<br>
&gt;&gt;=C2=A0 =C2=A0 Seems that 3rd time was NOT the charm.<br>
&gt;&gt;<br>
&gt;&gt;=C2=A0 =C2=A0 Due to the regression I am canceling this VOTE.<br>
&gt;&gt;<br>
&gt;&gt;=C2=A0 =C2=A0 Let&#39;s patch 2.4.16-dev ASAP to handle this and I =
will T&amp;R 2.4.16<br>
&gt;&gt;=C2=A0 =C2=A0 forthwith.<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt; Thanks, Jim!=C2=A0 We&#39;ll get through this eventually :)<br>
&gt;&gt;<br>
&gt;&gt; (And thanks Steffen and Reindl too!)<br>
&gt;<br>
&gt; +1 to both statements.<br>
&gt;<br>
&gt; My test went threw nicely, but due to the problem with the RedirectMat=
ch I would have also voted -1.<br>
&gt;<br>
&gt; It is good we have those additional testers in the loop.<br>
&gt;<br>
&gt; Thanks<br>
&gt;<br>
&gt; Rainer<br>
&gt;<br>
<br>
</blockquote></div>

--047d7b86dd26c8379d05191d30f7--

From dev-return-83130-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 16:10:41 2015
Return-Path: <dev-return-83130-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 327DA18919
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 16:10:41 +0000 (UTC)
Received: (qmail 38126 invoked by uid 500); 22 Jun 2015 16:10:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38061 invoked by uid 500); 22 Jun 2015 16:10:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38050 invoked by uid 99); 22 Jun 2015 16:10:40 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 16:10:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 4BC07CF799
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 16:10:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id dyVCm3CFOvKr for <dev@httpd.apache.org>;
	Mon, 22 Jun 2015 16:10:32 +0000 (UTC)
Received: from mail-ie0-f178.google.com (mail-ie0-f178.google.com [209.85.223.178])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id E9FB824A0C
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 16:10:31 +0000 (UTC)
Received: by iebmu5 with SMTP id mu5so118276294ieb.1
        for <dev@httpd.apache.org>; Mon, 22 Jun 2015 09:09:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=diD2FDRjO1qpzJ7MprV7a+wBBSwGtPLeuRem7A631qA=;
        b=mHa+BLRPJxGobyhwEp+WyahYtz6AlMrzaEVbLqCQ5V9XmRJJ+qAEyMO7tjpCV2ieHP
         8wWPHAjxAkn9Ume+yilpKRmzVxdWENlMlVlnz0ZVplcQMfuX8CrhM9+mzSTVtViw6t6X
         F2fQbxCcRWA8LsudKBnJJ+AnX3w2v2gBrpA+g9uXK+ydHweI1jk08P7N6IyyuJEPgpds
         KTE22FJSMbkhOTvZoUS0FK+xa9pKL5RNhh3M9guqugvMSazP2IKPKoOquSoEEcVH6w/N
         2gfnfLuBTr6YtQJXVxdE/v4JpDJ/XJ+AMTmVjaPpS9SZbFyqfrQqZS4S8MFdOuc8y7sE
         fSuA==
MIME-Version: 1.0
X-Received: by 10.42.203.4 with SMTP id fg4mr33292949icb.52.1434989386177;
 Mon, 22 Jun 2015 09:09:46 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Mon, 22 Jun 2015 09:09:46 -0700 (PDT)
In-Reply-To: <B5F9CEC2-91AE-4E7D-B3FD-50E956570F8F@jaguNET.com>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
	<821FFE96-82D2-4AB8-9FB9-1AE4E54B2942@jaguNET.com>
	<CAKUrXK7+fCnCw+8GkK_h+57++OrxXtYLRcjP--QXDt-Uvn5zfA@mail.gmail.com>
	<5587FE76.90107@kippdata.de>
	<B5F9CEC2-91AE-4E7D-B3FD-50E956570F8F@jaguNET.com>
Date: Mon, 22 Jun 2015 18:09:46 +0200
Message-ID: <CAKQ1sVOyNr1SLPtKZyHfjxrOh-CbubK2WOKvROSuTrQ=GS-hyg@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Some tests added for framework in r1686886.

These cover:
Redirect 403 /forbidden
RedirectMatch 403 /f+
<Location /path/to/f+>
  Redirect 403
</Location>
and should address the 2.4.13-15 regression.

I also changed the minimum version activating the expr tests
(Graham's), from 2.5 to 2.4.15.


On Mon, Jun 22, 2015 at 4:32 PM, Jim Jagielski <jim@jagunet.com> wrote:
> Agreed. We should also, everytime we catch something like this,
> add a test-case to the perl test framework to ensure we don't trip
> over it again :)
>
>> On Jun 22, 2015, at 8:24 AM, Rainer Jung <rainer.jung@kippdata.de> wrote:
>>
>> Am 22.06.2015 um 14:04 schrieb Jeff Trawick:
>>> On Mon, Jun 22, 2015 at 8:02 AM, Jim Jagielski <jim@jagunet.com
>>> <mailto:jim@jagunet.com>> wrote:
>>>
>>>    Seems that 3rd time was NOT the charm.
>>>
>>>    Due to the regression I am canceling this VOTE.
>>>
>>>    Let's patch 2.4.16-dev ASAP to handle this and I will T&R 2.4.16
>>>    forthwith.
>>>
>>>
>>> Thanks, Jim!  We'll get through this eventually :)
>>>
>>> (And thanks Steffen and Reindl too!)
>>
>> +1 to both statements.
>>
>> My test went threw nicely, but due to the problem with the RedirectMatch I would have also voted -1.
>>
>> It is good we have those additional testers in the loop.
>>
>> Thanks
>>
>> Rainer
>>
>

From dev-return-83131-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 19:02:04 2015
Return-Path: <dev-return-83131-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 182BE18117
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 19:02:04 +0000 (UTC)
Received: (qmail 8475 invoked by uid 500); 22 Jun 2015 19:02:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 8405 invoked by uid 500); 22 Jun 2015 19:02:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 8395 invoked by uid 99); 22 Jun 2015 19:02:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 19:02:03 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [212.227.252.63] (HELO jupiter.hal-nine-zero-zero-zero.net) (212.227.252.63)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 22 Jun 2015 18:59:49 +0000
Received: (qmail 12811 invoked from network); 22 Jun 2015 19:00:16 -0000
Received: from unknown (HELO localhost) (212.227.252.63)
  by jupiter.hal-nine-zero-zero-zero.net with SMTP; 22 Jun 2015 19:00:16 -0000
From: =?utf-8?q?Andr=C3=A9_Malo?= <nd@perlig.de>
Organization: TIMTOWTDI
To: dev@httpd.apache.org
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
Date: Mon, 22 Jun 2015 21:01:37 +0200
User-Agent: KMail/1.9.10
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com> <5586F9F3.20709@thelounge.net> <CAKQ1sVOtqVZcyb=RtVaDJwtedEfj_FR46LnOZAhMGrnN9g0JOQ@mail.gmail.com>
In-Reply-To: <CAKQ1sVOtqVZcyb=RtVaDJwtedEfj_FR46LnOZAhMGrnN9g0JOQ@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <201506222101.37130@news.perlig.de>
X-Virus-Checked: Checked by ClamAV on apache.org

* Yann Ylavic wrote:

> It seems that RedirectMatch isn't documented without the third (URL)
> argument, unless in <Location>.

Huh? Actually it is (or maybe I'm not getting something here). I checked at 
least back until 2.0.

http://httpd.apache.org/docs/2.4/mod/mod_alias.html#redirect clearly 
documents this.

"""
Other status codes can be returned by giving the numeric status code as the 
value of status. If the status is between 300 and 399, the URL argument 
must be present. If the status is not between 300 and 399, the URL argument 
must be omitted. 
"""

http://httpd.apache.org/docs/2.4/mod/mod_alias.html#redirectmatch refers to 
the above ("This directive is equivalent to Redirect").

nd
-- 
"Solides und umfangreiches Buch"
                                          -- aus einer Rezension

<http://pub.perlig.de/books.html#apache2>

From dev-return-83132-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 20:10:37 2015
Return-Path: <dev-return-83132-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 28F5D183B8
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 20:10:37 +0000 (UTC)
Received: (qmail 99968 invoked by uid 500); 22 Jun 2015 20:10:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 99902 invoked by uid 500); 22 Jun 2015 20:10:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 99883 invoked by uid 99); 22 Jun 2015 20:10:36 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 20:10:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 4761CCF80A
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 20:10:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.43
X-Spam-Level:
X-Spam-Status: No, score=-1.43 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-1.429, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 72TjR638-we0 for <dev@httpd.apache.org>;
	Mon, 22 Jun 2015 20:10:28 +0000 (UTC)
Received: from atvie01s.evermeet.cx (evermeet.cx [77.244.245.66])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 4A5A6453FE
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 20:10:28 +0000 (UTC)
Received: from [192.168.9.141] (mail.quickplay.com [66.207.196.66])
	(authenticated bits=0)
	by atvie01s.evermeet.cx (8.14.8/8.14.8) with ESMTP id t5MKAJdj007249
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES128-SHA bits=128 verify=NO)
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 22:10:20 +0200
Subject: Re: documentation issues for mod_authn_socache
Reply-To: dev@httpd.apache.org
References: <5581EEA0.6060805@evermeet.cx>
To: dev@httpd.apache.org
From: "Helmut K. C. Tessarek" <tessarek@evermeet.cx>
Openpgp: id=28A316664FE8D72CCFD58B23F7832007C11F128D
Message-ID: <55886BAB.70403@evermeet.cx>
Date: Mon, 22 Jun 2015 16:10:19 -0400
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:38.0)
 Gecko/20100101 Thunderbird/38.0.1
MIME-Version: 1.0
In-Reply-To: <5581EEA0.6060805@evermeet.cx>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit

On 2015-06-17 18:03, Helmut K. C. Tessarek wrote:
> Hello,
> 
> http://httpd.apache.org/docs/2.4/mod/mod_authn_socache.html
> 
> There are 2 things I want to mention:
> 
> 1) cacheing is not a word. It should be replaced with caching on the entire page
> 2) AuthnCacheSOCache Directive:  If not set, your platform's default will be used.
> 
> There's no indication whatsoever what the platforms' defaults actually are.
> 
> Can someone please tell me what the platforms' defaults are?
> 
> I'm mostly interested in Linux and MacOSX, but a list would be nice in the docs.


Does anyone have any input on this? Or is this the wrong list for doc issues?

-- 
regards Helmut K. C. Tessarek
lookup http://sks.pkqs.net for KeyID 0xC11F128D

/*
   Thou shalt not follow the NULL pointer for chaos and madness 
   await thee at its end.
*/

From dev-return-83133-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 20:30:24 2015
Return-Path: <dev-return-83133-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3DF88184E2
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 20:30:24 +0000 (UTC)
Received: (qmail 58896 invoked by uid 500); 22 Jun 2015 20:30:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58836 invoked by uid 500); 22 Jun 2015 20:30:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58826 invoked by uid 99); 22 Jun 2015 20:30:23 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 20:30:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 3B485183BB6
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 20:30:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.364
X-Spam-Level: *
X-Spam-Status: No, score=1.364 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RDNS_DYNAMIC=0.363,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id SMIiMKxHgLhj for <dev@httpd.apache.org>;
	Mon, 22 Jun 2015 20:30:15 +0000 (UTC)
Received: from gungnir.webthing.com (209-20-83-52.slicehost.net [209.20.83.52])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 1462321F26
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 20:30:15 +0000 (UTC)
Received: from baldur (cpc14-newt30-2-0-cust22.newt.cable.virginm.net [92.232.45.23])
	by gungnir.webthing.com (Postfix) with ESMTPSA id 16A7C78695
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 20:29:37 +0000 (UTC)
Date: Mon, 22 Jun 2015 21:29:32 +0100
From: Nick Kew <nick@webthing.com>
To: dev@httpd.apache.org
Subject: Re: documentation issues for mod_authn_socache
Message-ID: <20150622212932.54cf9adb@baldur>
In-Reply-To: <55886BAB.70403@evermeet.cx>
References: <5581EEA0.6060805@evermeet.cx>
	<55886BAB.70403@evermeet.cx>
X-Mailer: Claws Mail 3.7.4 (GTK+ 2.20.1; i486-pc-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit

On Mon, 22 Jun 2015 16:10:19 -0400
"Helmut K. C. Tessarek" <tessarek@evermeet.cx> wrote:

> On 2015-06-17 18:03, Helmut K. C. Tessarek wrote:
> > Hello,
> > 
> > http://httpd.apache.org/docs/2.4/mod/mod_authn_socache.html
> > 
> > There are 2 things I want to mention:
> > 
> > 1) cacheing is not a word. It should be replaced with caching on the entire page
> > 2) AuthnCacheSOCache Directive:  If not set, your platform's default will be used.
> > 
> > There's no indication whatsoever what the platforms' defaults actually are.
> > 
> > Can someone please tell me what the platforms' defaults are?
> > 
> > I'm mostly interested in Linux and MacOSX, but a list would be nice in the docs.
> 
> 
> Does anyone have any input on this? Or is this the wrong list for doc issues?

We don't know the platforms' defaults.  They're up to the packagers,
and those sysops who make an active decision.

What you're asking is kind-of like asking us to concern ourselves
with the nuances of ext2/3/4 vs XFS vs JFS vs ZFS vs NTFS, etc.
We are agnostic.

-- 
Nick Kew

From dev-return-83134-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 20:51:34 2015
Return-Path: <dev-return-83134-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7F922185A1
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 20:51:34 +0000 (UTC)
Received: (qmail 973 invoked by uid 500); 22 Jun 2015 20:51:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 910 invoked by uid 500); 22 Jun 2015 20:51:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 900 invoked by uid 99); 22 Jun 2015 20:51:34 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 20:51:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id A4069C0701
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 20:51:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_HELO_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 2yVxohBuaEPw for <dev@httpd.apache.org>;
	Mon, 22 Jun 2015 20:51:18 +0000 (UTC)
Received: from atvie01s.evermeet.cx (evermeet.cx [77.244.245.66])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 2BBE920B6F
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 20:51:18 +0000 (UTC)
Received: from [192.168.9.141] (mail.quickplay.com [66.207.196.66])
	(authenticated bits=0)
	by atvie01s.evermeet.cx (8.14.8/8.14.8) with ESMTP id t5MKpA9U010972
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES128-SHA bits=128 verify=NO)
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 22:51:11 +0200
Subject: Re: documentation issues for mod_authn_socache
To: dev@httpd.apache.org
References: <5581EEA0.6060805@evermeet.cx> <55886BAB.70403@evermeet.cx>
 <20150622212932.54cf9adb@baldur>
From: "Helmut K. C. Tessarek" <tessarek@evermeet.cx>
Openpgp: id=28A316664FE8D72CCFD58B23F7832007C11F128D
X-Enigmail-Draft-Status: N1110
Message-ID: <5588753B.9070504@evermeet.cx>
Date: Mon, 22 Jun 2015 16:51:07 -0400
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:38.0)
 Gecko/20100101 Thunderbird/38.0.1
MIME-Version: 1.0
In-Reply-To: <20150622212932.54cf9adb@baldur>
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: 7bit

On 2015-06-22 16:29, Nick Kew wrote:
> We don't know the platforms' defaults.  They're up to the packagers,
> and those sysops who make an active decision.

I don't understand. What do you mean by "this is up to the packagers"?

Is there a config option that decides this? If yes, let me ask this: what, if nothing is set?
Then there is no caching? What is used when someone calls the API ap_authn_cache_store? 

I'm sorry, but this makes no sense.
The defaults are in the code, aren't they? There should be something in the code like:

If on Linux and AuthnCacheSOCache not set, then use XXXX.

A default value is not something that is normaly chosen, and if it is, it should be at least explained how.

What about my 1st item? Misspelling of caching? How to fix it, who can fix it? Can I clone a repo
and create a pull request or do I have do work with svn?

-- 
regards Helmut K. C. Tessarek
lookup http://sks.pkqs.net for KeyID 0xC11F128D

/*
   Thou shalt not follow the NULL pointer for chaos and madness 
   await thee at its end.
*/

From dev-return-83135-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 22 21:03:44 2015
Return-Path: <dev-return-83135-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2179C18608
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 22 Jun 2015 21:03:44 +0000 (UTC)
Received: (qmail 28683 invoked by uid 500); 22 Jun 2015 21:03:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28599 invoked by uid 500); 22 Jun 2015 21:03:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28589 invoked by uid 99); 22 Jun 2015 21:03:43 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 22 Jun 2015 21:03:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 2C8AFC0701
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 21:03:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.98
X-Spam-Level: **
X-Spam-Status: No, score=2.98 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 34P_wTFfWTVc for <dev@httpd.apache.org>;
	Mon, 22 Jun 2015 21:03:29 +0000 (UTC)
Received: from mail-ig0-f173.google.com (mail-ig0-f173.google.com [209.85.213.173])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 71EBF21F26
	for <dev@httpd.apache.org>; Mon, 22 Jun 2015 21:03:29 +0000 (UTC)
Received: by igboe5 with SMTP id oe5so73404080igb.1
        for <dev@httpd.apache.org>; Mon, 22 Jun 2015 14:02:43 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=DQHatFQ2sXqto9Pb/Xe55Md2un3JBc2PmU6YDADSeTs=;
        b=LYcOj8QlvxQLkwHCr9LBdoJHTA6h66LGThFHmtj8aL5GpXwuK2QVRND7YXrZ7yvRNv
         FHiueDiu9z+6AW6E4mIVzVpXCFFfdMWFI5Or5kAfONDhhO9oHpmVLhgMKS0b24aWpc0x
         1eal9r9flSusFzS5ukW2CCN6BKIlTZSh0+A6c4m0RgqLaeyDQ5BssV+D5YmsXMhS/F4p
         ICF94V5CdeV03IUFSUC4WF+2L4eeE/cJE+kswSVNSedQ7opoXLGy8cgig5v4kWayO0OR
         1MrZjzAhDzoAQdgPmq73rl84AHASq6wxAl/YPyl2hxQpr20xNh5tlSxA9XS/BvRIW+NH
         9NUw==
X-Gm-Message-State: ALoCoQlCaAPGk5IeZ8dV86eA1pDb7+t+oYCfSDEc5zrvPDCScJGvax6zlz7OjGP0ZAH7TRkrm9ab
MIME-Version: 1.0
X-Received: by 10.50.13.10 with SMTP id d10mr17614837igc.20.1435006963659;
 Mon, 22 Jun 2015 14:02:43 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Mon, 22 Jun 2015 14:02:43 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
Received: by 10.107.190.195 with HTTP; Mon, 22 Jun 2015 14:02:43 -0700 (PDT)
In-Reply-To: <201506222101.37130@news.perlig.de>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
	<5586F9F3.20709@thelounge.net>
	<CAKQ1sVOtqVZcyb=RtVaDJwtedEfj_FR46LnOZAhMGrnN9g0JOQ@mail.gmail.com>
	<201506222101.37130@news.perlig.de>
Date: Mon, 22 Jun 2015 16:02:43 -0500
Message-ID: <CACsi251ep+Bd-wkDt7Pc8kFE6Vdt3Md+1oimJY9P-8bE8F7w6Q@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e0118487451d1fe05192198de

--089e0118487451d1fe05192198de
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

You are correct, however the "syntax" never illustrated this.

It seems we need two syntaxes, not a [target] optional argument.
On Jun 22, 2015 2:02 PM, "Andr=C3=A9 Malo" <nd@perlig.de> wrote:

> * Yann Ylavic wrote:
>
> > It seems that RedirectMatch isn't documented without the third (URL)
> > argument, unless in <Location>.
>
> Huh? Actually it is (or maybe I'm not getting something here). I checked =
at
> least back until 2.0.
>
> http://httpd.apache.org/docs/2.4/mod/mod_alias.html#redirect clearly
> documents this.
>
> """
> Other status codes can be returned by giving the numeric status code as t=
he
> value of status. If the status is between 300 and 399, the URL argument
> must be present. If the status is not between 300 and 399, the URL argume=
nt
> must be omitted.
> """
>
> http://httpd.apache.org/docs/2.4/mod/mod_alias.html#redirectmatch refers
> to
> the above ("This directive is equivalent to Redirect").
>
> nd
> --
> "Solides und umfangreiches Buch"
>                                           -- aus einer Rezension
>
> <http://pub.perlig.de/books.html#apache2>
>

--089e0118487451d1fe05192198de
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">You are correct, however the &quot;syntax&quot; never illust=
rated this.</p>
<p dir=3D"ltr">It seems we need two syntaxes, not a [target] optional argum=
ent.</p>
<div class=3D"gmail_quote">On Jun 22, 2015 2:02 PM, &quot;Andr=C3=A9 Malo&q=
uot; &lt;<a href=3D"mailto:nd@perlig.de">nd@perlig.de</a>&gt; wrote:<br typ=
e=3D"attribution"><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .=
8ex;border-left:1px #ccc solid;padding-left:1ex">* Yann Ylavic wrote:<br>
<br>
&gt; It seems that RedirectMatch isn&#39;t documented without the third (UR=
L)<br>
&gt; argument, unless in &lt;Location&gt;.<br>
<br>
Huh? Actually it is (or maybe I&#39;m not getting something here). I checke=
d at<br>
least back until 2.0.<br>
<br>
<a href=3D"http://httpd.apache.org/docs/2.4/mod/mod_alias.html#redirect" re=
l=3D"noreferrer" target=3D"_blank">http://httpd.apache.org/docs/2.4/mod/mod=
_alias.html#redirect</a> clearly<br>
documents this.<br>
<br>
&quot;&quot;&quot;<br>
Other status codes can be returned by giving the numeric status code as the=
<br>
value of status. If the status is between 300 and 399, the URL argument<br>
must be present. If the status is not between 300 and 399, the URL argument=
<br>
must be omitted.<br>
&quot;&quot;&quot;<br>
<br>
<a href=3D"http://httpd.apache.org/docs/2.4/mod/mod_alias.html#redirectmatc=
h" rel=3D"noreferrer" target=3D"_blank">http://httpd.apache.org/docs/2.4/mo=
d/mod_alias.html#redirectmatch</a> refers to<br>
the above (&quot;This directive is equivalent to Redirect&quot;).<br>
<br>
nd<br>
--<br>
&quot;Solides und umfangreiches Buch&quot;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 -=
- aus einer Rezension<br>
<br>
&lt;<a href=3D"http://pub.perlig.de/books.html#apache2" rel=3D"noreferrer" =
target=3D"_blank">http://pub.perlig.de/books.html#apache2</a>&gt;<br>
</blockquote></div>

--089e0118487451d1fe05192198de--

From dev-return-83136-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 23 10:51:00 2015
Return-Path: <dev-return-83136-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 33BE617E53
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 23 Jun 2015 10:51:00 +0000 (UTC)
Received: (qmail 28598 invoked by uid 500); 23 Jun 2015 10:46:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 19331 invoked by uid 500); 23 Jun 2015 10:46:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 4406 invoked by uid 99); 23 Jun 2015 09:35:02 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Jun 2015 09:35:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 8D297C006D
	for <dev@httpd.apache.org>; Tue, 23 Jun 2015 09:35:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id ENodaALX5d6f for <dev@httpd.apache.org>;
	Tue, 23 Jun 2015 09:34:53 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 49736428DF
	for <dev@httpd.apache.org>; Tue, 23 Jun 2015 09:34:53 +0000 (UTC)
Received: from delight.greenbytes.de (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id EFCEE15A0682
	for <dev@httpd.apache.org>; Tue, 23 Jun 2015 11:34:14 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Subject: mod_ssl static linking, the eternal topic...
Message-Id: <B717AC51-B6FC-40BF-B276-7B7175758F42@greenbytes.de>
Date: Tue, 23 Jun 2015 11:34:14 +0200
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
X-Mailer: Apple Mail (2.2098)

Sorry to bother the list, but I am banging my head against the wall =
trying to build mod_ssl linked statically with openssl on Ubuntu.=20

Is there something obvious that I miss in my

    configure --enable-ssl=3Dshared --with-ssl=3D$(BLD_PREFIX) =
--enable-ssl-staticlib-deps

? It works under OS X, but not on Ubuntu 10.04 LTS. $(BLD_PREFIX)/lib =
shows
-rw-r--r-- 1 sei sei 4498826 Jun 22 18:40 libcrypto.a
lrwxrwxrwx 1 sei sei      18 Jun 22 18:40 libcrypto.so -> =
libcrypto.so.1.0.0
-r-xr-xr-x 1 sei sei 2682743 Jun 22 18:40 libcrypto.so.1.0.0
...
-rw-r--r-- 1 sei sei  829936 Jun 22 18:40 libssl.a
lrwxrwxrwx 1 sei sei      15 Jun 22 18:40 libssl.so -> libssl.so.1.0.0
-r-xr-xr-x 1 sei sei  549375 Jun 22 18:40 libssl.so.1.0.0

:-(

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83137-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 23 11:39:43 2015
Return-Path: <dev-return-83137-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E550918211
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 23 Jun 2015 11:39:42 +0000 (UTC)
Received: (qmail 21858 invoked by uid 500); 23 Jun 2015 11:39:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 21793 invoked by uid 500); 23 Jun 2015 11:39:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 21783 invoked by uid 99); 23 Jun 2015 11:39:42 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Jun 2015 11:39:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 1AC2BC12D1
	for <dev@httpd.apache.org>; Tue, 23 Jun 2015 11:39:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.009
X-Spam-Level:
X-Spam-Status: No, score=-0.009 tagged_above=-999 required=6.31
	tests=[T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 9IjFDaqMK_1X for <dev@httpd.apache.org>;
	Tue, 23 Jun 2015 11:39:33 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id B38644C0D5
	for <dev@httpd.apache.org>; Tue, 23 Jun 2015 11:39:32 +0000 (UTC)
Received: from [195.227.30.209] (notebook-rj [195.227.30.209])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t5NBdThC026909
	for <dev@httpd.apache.org>; Tue, 23 Jun 2015 13:39:29 +0200 (CEST)
Subject: Re: mod_ssl static linking, the eternal topic...
To: dev@httpd.apache.org
References: <B717AC51-B6FC-40BF-B276-7B7175758F42@greenbytes.de>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <55894569.1060308@kippdata.de>
Date: Tue, 23 Jun 2015 13:39:21 +0200
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.0.1
MIME-Version: 1.0
In-Reply-To: <B717AC51-B6FC-40BF-B276-7B7175758F42@greenbytes.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Am 23.06.2015 um 11:34 schrieb Stefan Eissing:
> Sorry to bother the list, but I am banging my head against the wall trying to build mod_ssl linked statically with openssl on Ubuntu.
>
> Is there something obvious that I miss in my
>
>      configure --enable-ssl=shared --with-ssl=$(BLD_PREFIX) --enable-ssl-staticlib-deps
>
> ? It works under OS X, but not on Ubuntu 10.04 LTS. $(BLD_PREFIX)/lib shows
> -rw-r--r-- 1 sei sei 4498826 Jun 22 18:40 libcrypto.a
> lrwxrwxrwx 1 sei sei      18 Jun 22 18:40 libcrypto.so -> libcrypto.so.1.0.0
> -r-xr-xr-x 1 sei sei 2682743 Jun 22 18:40 libcrypto.so.1.0.0
> ...
> -rw-r--r-- 1 sei sei  829936 Jun 22 18:40 libssl.a
> lrwxrwxrwx 1 sei sei      15 Jun 22 18:40 libssl.so -> libssl.so.1.0.0
> -r-xr-xr-x 1 sei sei  549375 Jun 22 18:40 libssl.so.1.0.0

What does "not work" mean? Any errors (which) or is mod_ssl still linked 
against the shared libs?

Regards,

Rainer


From dev-return-83138-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 23 11:40:45 2015
Return-Path: <dev-return-83138-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E939E1821A
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 23 Jun 2015 11:40:44 +0000 (UTC)
Received: (qmail 23765 invoked by uid 500); 23 Jun 2015 11:40:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23697 invoked by uid 500); 23 Jun 2015 11:40:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23687 invoked by uid 99); 23 Jun 2015 11:40:44 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Jun 2015 11:40:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 14B20CFABB
	for <dev@httpd.apache.org>; Tue, 23 Jun 2015 11:40:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.428
X-Spam-Level:
X-Spam-Status: No, score=-1.428 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-1.428, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id DRzoj23yMFwF for <dev@httpd.apache.org>;
	Tue, 23 Jun 2015 11:40:33 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 29DBD24965
	for <dev@httpd.apache.org>; Tue, 23 Jun 2015 11:40:32 +0000 (UTC)
Received: from delight.greenbytes.de (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 69DB315A0682
	for <dev@httpd.apache.org>; Tue, 23 Jun 2015 13:40:24 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: mod_ssl static linking, the eternal topic...
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <55894569.1060308@kippdata.de>
Date: Tue, 23 Jun 2015 13:40:23 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <1104E63B-7B73-49B9-873F-6E3E998E735E@greenbytes.de>
References: <B717AC51-B6FC-40BF-B276-7B7175758F42@greenbytes.de> <55894569.1060308@kippdata.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)

Sorry for missing that: it is still dynamically linked.

> Am 23.06.2015 um 13:39 schrieb Rainer Jung <rainer.jung@kippdata.de>:
>=20
> Am 23.06.2015 um 11:34 schrieb Stefan Eissing:
>> Sorry to bother the list, but I am banging my head against the wall =
trying to build mod_ssl linked statically with openssl on Ubuntu.
>>=20
>> Is there something obvious that I miss in my
>>=20
>>     configure --enable-ssl=3Dshared --with-ssl=3D$(BLD_PREFIX) =
--enable-ssl-staticlib-deps
>>=20
>> ? It works under OS X, but not on Ubuntu 10.04 LTS. $(BLD_PREFIX)/lib =
shows
>> -rw-r--r-- 1 sei sei 4498826 Jun 22 18:40 libcrypto.a
>> lrwxrwxrwx 1 sei sei      18 Jun 22 18:40 libcrypto.so -> =
libcrypto.so.1.0.0
>> -r-xr-xr-x 1 sei sei 2682743 Jun 22 18:40 libcrypto.so.1.0.0
>> ...
>> -rw-r--r-- 1 sei sei  829936 Jun 22 18:40 libssl.a
>> lrwxrwxrwx 1 sei sei      15 Jun 22 18:40 libssl.so -> =
libssl.so.1.0.0
>> -r-xr-xr-x 1 sei sei  549375 Jun 22 18:40 libssl.so.1.0.0
>=20
> What does "not work" mean? Any errors (which) or is mod_ssl still =
linked against the shared libs?
>=20
> Regards,
>=20
> Rainer

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83139-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 23 13:27:46 2015
Return-Path: <dev-return-83139-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 01BD51854D
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 23 Jun 2015 13:27:46 +0000 (UTC)
Received: (qmail 72052 invoked by uid 500); 23 Jun 2015 13:27:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 71982 invoked by uid 500); 23 Jun 2015 13:27:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 71972 invoked by uid 99); 23 Jun 2015 13:27:45 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Jun 2015 13:27:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 124D11821DA
	for <dev@httpd.apache.org>; Tue, 23 Jun 2015 13:27:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.88
X-Spam-Level: **
X-Spam-Status: No, score=2.88 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id x82KdW9_ppRF for <dev@httpd.apache.org>;
	Tue, 23 Jun 2015 13:27:39 +0000 (UTC)
Received: from mail-yk0-f177.google.com (mail-yk0-f177.google.com [209.85.160.177])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 1DCDE21F26
	for <dev@httpd.apache.org>; Tue, 23 Jun 2015 13:27:39 +0000 (UTC)
Received: by ykfy125 with SMTP id y125so5145296ykf.1
        for <dev@httpd.apache.org>; Tue, 23 Jun 2015 06:27:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=cI1FzE6uqLLO8nfGWPIMeu6rrdGxbQBY1CctpR4uofo=;
        b=GCpKbbqDH4TJJpJ0qLBUgU9MLrmTaWNSXHl2aB0WaX/0A1kPPJj9c2nPvh06expDIe
         l+MQoFaQf+3dO0tOpNRuwnBgxMByOPdFTECF0UZ866Q3VLEdGCvEbwwnCmoSA2hIsOm1
         XJXrIMzabwJrWf3vgNoL5ljVeivgre3NGpLfKZn6BWkP8xCB0VDnVyLwzVRRekiQjFPI
         z/XkiEfywMhnd45J7eYp7puPeP+db2/HUw4g0l52zrv5cRWfW7jrnSuwYLri3aBOHx38
         WXzgOp8BBxnn6OZRXuA4xdwU1e4J+uiJl/XPJr7jNmOfp/WnwgWhm6IjUNoaEyOzkr88
         mcUQ==
MIME-Version: 1.0
X-Received: by 10.170.141.4 with SMTP id i4mr5489601ykc.32.1435066058437; Tue,
 23 Jun 2015 06:27:38 -0700 (PDT)
Received: by 10.13.241.133 with HTTP; Tue, 23 Jun 2015 06:27:38 -0700 (PDT)
In-Reply-To: <CAA=k7mVLRmOnU_iNprff4OvmXn0Dojhh0i+H36c0C-_RcP+QxA@mail.gmail.com>
References: <CAA=k7mV4t=eYBduWF-13sXqrH-yfFx6mpnZM+6ECBh2TH1=D8Q@mail.gmail.com>
	<CAKUrXK72h6iooa3EeRHXpKfCYXgvzHDxtUCL=ySyZZDaxi9F6w@mail.gmail.com>
	<CAA=k7mVLRmOnU_iNprff4OvmXn0Dojhh0i+H36c0C-_RcP+QxA@mail.gmail.com>
Date: Tue, 23 Jun 2015 09:27:38 -0400
Message-ID: <CAKUrXK6zJ9O1+OF3wOMYd177arFiTYneMCuOeZbHAj7+aU1u_w@mail.gmail.com>
Subject: Re: Next release of mod_fcgid
From: Jeff Trawick <trawick@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a11395ee0a4795e05192f5a78

--001a11395ee0a4795e05192f5a78
Content-Type: text/plain; charset=UTF-8

On Mon, Jun 22, 2015 at 11:42 AM, Mario Brandt <jblond@gmail.com> wrote:

> r1604123: Lower log "graceful kill fail, sending SIGKILL" level to
> DEBUG on Windows. PR 54597.
> and
> r16041237: Follow up to r1604123: make it compile.
>
> I've now listed the fix in CHANGES-FCGID.  IMO it isn't worth rolling a
release for this.  I'm happy to T&R and help test a mod_fcgid release that
has more fixes.  IIRC, there's some low-hanging fruit in Bugzilla that
interested developers can help test and promote.

(Not to say that this fix isn't important to some people, but they can
change "WARNING" to "DEBUG"  in the right place with zero risk.)



> Cheers
> Mario
>
> On 22 June 2015 at 16:59, Jeff Trawick <trawick@gmail.com> wrote:
> > On Mon, Jun 22, 2015 at 10:14 AM, Mario Brandt <jblond@gmail.com> wrote:
> >>
> >> Hi,
> >>
> >> the last release of mod_fcgid was been a long while.
> >>
> >> There was an important bugfix on windows side in June last year.
> >>
> >> Is there anyone willing to tag and release a new version?
> >>
> >
> > There's nothing in CHANGES.  What was it?
> >
> > --
> > Born in Roswell... married an alien...
> > http://emptyhammock.com/
> >
>



-- 
Born in Roswell... married an alien...
http://emptyhammock.com/

--001a11395ee0a4795e05192f5a78
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Jun 22, 2015 at 11:42 AM, Mario Brandt <span dir=3D"ltr">&lt;<a href=3D=
"mailto:jblond@gmail.com" target=3D"_blank">jblond@gmail.com</a>&gt;</span>=
 wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;bor=
der-left:1px #ccc solid;padding-left:1ex">r1604123: Lower log &quot;gracefu=
l kill fail, sending SIGKILL&quot; level to<br>
DEBUG on Windows. PR 54597.<br>
and<br>
r16041237: Follow up to r1604123: make it compile.<br>
<br></blockquote><div>I&#39;ve now listed the fix in CHANGES-FCGID.=C2=A0 I=
MO it isn&#39;t worth rolling a release for this.=C2=A0 I&#39;m happy to T&=
amp;R and help test a mod_fcgid release that has more fixes.=C2=A0 IIRC, th=
ere&#39;s some low-hanging fruit in Bugzilla that interested developers can=
 help test and promote.</div><div><br></div><div>(Not to say that this fix =
isn&#39;t important to some people, but they can change &quot;WARNING&quot;=
 to &quot;DEBUG&quot; =C2=A0in the right place with zero risk.)</div><div><=
br></div><div>=C2=A0</div><blockquote class=3D"gmail_quote" style=3D"margin=
:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">
Cheers<br>
<span class=3D"HOEnZb"><font color=3D"#888888">Mario<br>
</font></span><div class=3D"HOEnZb"><div class=3D"h5"><br>
On 22 June 2015 at 16:59, Jeff Trawick &lt;<a href=3D"mailto:trawick@gmail.=
com">trawick@gmail.com</a>&gt; wrote:<br>
&gt; On Mon, Jun 22, 2015 at 10:14 AM, Mario Brandt &lt;<a href=3D"mailto:j=
blond@gmail.com">jblond@gmail.com</a>&gt; wrote:<br>
&gt;&gt;<br>
&gt;&gt; Hi,<br>
&gt;&gt;<br>
&gt;&gt; the last release of mod_fcgid was been a long while.<br>
&gt;&gt;<br>
&gt;&gt; There was an important bugfix on windows side in June last year.<b=
r>
&gt;&gt;<br>
&gt;&gt; Is there anyone willing to tag and release a new version?<br>
&gt;&gt;<br>
&gt;<br>
&gt; There&#39;s nothing in CHANGES.=C2=A0 What was it?<br>
&gt;<br>
&gt; --<br>
&gt; Born in Roswell... married an alien...<br>
&gt; <a href=3D"http://emptyhammock.com/" rel=3D"noreferrer" target=3D"_bla=
nk">http://emptyhammock.com/</a><br>
&gt;<br>
</div></div></blockquote></div><br><br clear=3D"all"><div><br></div>-- <br>=
<div class=3D"gmail_signature"><div dir=3D"ltr">Born in Roswell... married =
an alien...<br><a href=3D"http://emptyhammock.com/" target=3D"_blank">http:=
//emptyhammock.com/</a><div><br></div></div></div>
</div></div>

--001a11395ee0a4795e05192f5a78--

From dev-return-83140-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 23 15:20:47 2015
Return-Path: <dev-return-83140-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C694D18A61
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 23 Jun 2015 15:20:47 +0000 (UTC)
Received: (qmail 94876 invoked by uid 500); 23 Jun 2015 15:20:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94802 invoked by uid 500); 23 Jun 2015 15:20:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94789 invoked by uid 99); 23 Jun 2015 15:20:47 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Jun 2015 15:20:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 739E2C12D1
	for <dev@httpd.apache.org>; Tue, 23 Jun 2015 15:20:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.118
X-Spam-Level:
X-Spam-Status: No, score=-1.118 tagged_above=-999 required=6.31
	tests=[RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001,
	T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id YCkKu5RuwF6A for <dev@httpd.apache.org>;
	Tue, 23 Jun 2015 15:20:35 +0000 (UTC)
Received: from userp1040.oracle.com (userp1040.oracle.com [156.151.31.81])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id E0519428CC
	for <dev@httpd.apache.org>; Tue, 23 Jun 2015 15:20:34 +0000 (UTC)
Received: from userv0021.oracle.com (userv0021.oracle.com [156.151.31.71])
	by userp1040.oracle.com (Sentrion-MTA-4.3.2/Sentrion-MTA-4.3.2) with ESMTP id t5NFKSQV021484
	(version=TLSv1 cipher=DHE-RSA-AES256-SHA bits=256 verify=OK)
	for <dev@httpd.apache.org>; Tue, 23 Jun 2015 15:20:28 GMT
Received: from aserv0121.oracle.com (aserv0121.oracle.com [141.146.126.235])
	by userv0021.oracle.com (8.13.8/8.13.8) with ESMTP id t5NFKRrU011525
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Tue, 23 Jun 2015 15:20:27 GMT
Received: from abhmp0015.oracle.com (abhmp0015.oracle.com [141.146.116.21])
	by aserv0121.oracle.com (8.13.8/8.13.8) with ESMTP id t5NFKKqx011067
	for <dev@httpd.apache.org>; Tue, 23 Jun 2015 15:20:27 GMT
Received: from [10.132.185.133] (/10.132.185.133)
	by default (Oracle Beehive Gateway v4.0)
	with ESMTP ; Tue, 23 Jun 2015 08:20:20 -0700
Message-ID: <5589792E.3060506@oracle.com>
Date: Tue, 23 Jun 2015 08:20:14 -0700
From: Mike Rumph <mike.rumph@oracle.com>
Organization: Oracle Corporation
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.1.2
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn commit: r1687021 - /httpd/httpd/trunk/modules/session/mod_session_dbd.c
References: <20150623105415.8DBC1AC02E3@hades.apache.org>
In-Reply-To: <20150623105415.8DBC1AC02E3@hades.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Source-IP: userv0021.oracle.com [156.151.31.71]

Hello Yann,

This is just a matter of style, but isn't it more typical to have pool 
as the first parameter of a function?
Even in mod_session_dbd.c, this is seen in dbd_clean(), 
session_dbd_monitor(), create_session_dbd_dir_config() and 
merge_session_dbd_dir_config().

Thanks,

Mike
On 6/23/2015 3:54 AM, ylavic@apache.org wrote:
> Author: ylavic
> Date: Tue Jun 23 10:54:15 2015
> New Revision: 1687021
>
> URL: http://svn.apache.org/r1687021
> Log:
> mod_session_dbd: follow up to r1686122.
> DBD entries should also have request lifetime.
> Proposed by: Jacob Champion <jacob.champion ni.com>
> Reviewed by: ylavic
>
> Modified:
>      httpd/httpd/trunk/modules/session/mod_session_dbd.c
>
> Modified: httpd/httpd/trunk/modules/session/mod_session_dbd.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/session/mod_session_dbd.c?rev=1687021&r1=1687020&r2=1687021&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/session/mod_session_dbd.c (original)
> +++ httpd/httpd/trunk/modules/session/mod_session_dbd.c Tue Jun 23 10:54:15 2015
> @@ -94,8 +94,11 @@ static apr_status_t dbd_init(request_rec
>   
>   /**
>    * Load the session by the key specified.
> + *
> + * The session value is allocated using the passed apr_pool_t.
>    */
> -static apr_status_t dbd_load(request_rec * r, const char *key, const char **val)
> +static apr_status_t dbd_load(request_rec * r, apr_pool_t *pool,
> +							 const char *key, const char **val)
>   {
>   
>       apr_status_t rv;
> @@ -138,7 +141,7 @@ static apr_status_t dbd_load(request_rec
>               return APR_EGENERAL;
>           }
>           if (*val == NULL) {
> -            *val = apr_pstrdup(r->pool,
> +            *val = apr_pstrdup(pool,
>                                  apr_dbd_get_entry(dbd->driver, row, 0));
>           }
>           /* we can't break out here or row won't get cleaned up */
> @@ -204,7 +207,7 @@ static apr_status_t session_dbd_load(req
>           /* load an RFC2109 or RFC2965 compliant cookie */
>           ap_cookie_read(r, name, &key, conf->remove);
>           if (key) {
> -            ret = dbd_load(r, key, &val);
> +            ret = dbd_load(r, m->pool, key, &val);
>               if (ret != APR_SUCCESS) {
>                   return ret;
>               }
> @@ -215,7 +218,7 @@ static apr_status_t session_dbd_load(req
>       /* load named session */
>       else if (conf->peruser) {
>           if (r->user) {
> -            ret = dbd_load(r, r->user, &val);
> +            ret = dbd_load(r, m->pool, r->user, &val);
>               if (ret != APR_SUCCESS) {
>                   return ret;
>               }
>
>
>


From dev-return-83141-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 23 15:39:41 2015
Return-Path: <dev-return-83141-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A8E6F18B56
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 23 Jun 2015 15:39:41 +0000 (UTC)
Received: (qmail 40774 invoked by uid 500); 23 Jun 2015 15:39:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 40692 invoked by uid 500); 23 Jun 2015 15:39:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 40681 invoked by uid 99); 23 Jun 2015 15:39:41 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 23 Jun 2015 15:39:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C5A93CFB67
	for <dev@httpd.apache.org>; Tue, 23 Jun 2015 15:39:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.099
X-Spam-Level:
X-Spam-Status: No, score=-0.099 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id BTkTI2s-3yzv for <dev@httpd.apache.org>;
	Tue, 23 Jun 2015 15:39:29 +0000 (UTC)
Received: from mail-ig0-f177.google.com (mail-ig0-f177.google.com [209.85.213.177])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 7236D20F3F
	for <dev@httpd.apache.org>; Tue, 23 Jun 2015 15:39:28 +0000 (UTC)
Received: by igboe5 with SMTP id oe5so91915712igb.1
        for <dev@httpd.apache.org>; Tue, 23 Jun 2015 08:39:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=V+69ptcJpj+MZNjlNqNaGnszzrCGzKGFhwubk5+YafY=;
        b=ujwMmrY28Jxrh2RucaVNzEmOdkFbnkNeMDm8Dvv+lR+DGzTWgZzYOpA3YGP/OL1SNj
         /PdXfF09z8SDW2X76rs+45JSAV7lQmNvPp9Y8uIcSX21Ud6PzP16TdCi8ONQHPzSbuOB
         4Kkaa2vcjh5+6+W4QLzV0SwIcEIquuBtj8VVG6jIhRNWUuNKRE43NKTtRvblvdPe73/0
         eDmmsr19lYe5h70NMVNw/Ga0OZThmYudEbYXC6SnUvY7PFMJox8Vob2mc8feBOByPceM
         kzBn3QR2jjZO3nI703qNsKuJIkNwCFt5PTgArkFTVCk44L2+Yx5WLsktUxihpc8134Ly
         J4ZQ==
MIME-Version: 1.0
X-Received: by 10.50.176.228 with SMTP id cl4mr3091261igc.2.1435073967433;
 Tue, 23 Jun 2015 08:39:27 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Tue, 23 Jun 2015 08:39:27 -0700 (PDT)
In-Reply-To: <5589792E.3060506@oracle.com>
References: <20150623105415.8DBC1AC02E3@hades.apache.org>
	<5589792E.3060506@oracle.com>
Date: Tue, 23 Jun 2015 17:39:27 +0200
Message-ID: <CAKQ1sVMpVDuXU4s-xV39Cj2XXSfxtcjzhPuxf+Gu6WLumEd5_w@mail.gmail.com>
Subject: Re: svn commit: r1687021 - /httpd/httpd/trunk/modules/session/mod_session_dbd.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Makes sense, thanks, fixed in r1687087.

Regards,
Yann.

On Tue, Jun 23, 2015 at 5:20 PM, Mike Rumph <mike.rumph@oracle.com> wrote:
> Hello Yann,
>
> This is just a matter of style, but isn't it more typical to have pool as
> the first parameter of a function?
> Even in mod_session_dbd.c, this is seen in dbd_clean(),
> session_dbd_monitor(), create_session_dbd_dir_config() and
> merge_session_dbd_dir_config().
>
> Thanks,
>
> Mike
>
> On 6/23/2015 3:54 AM, ylavic@apache.org wrote:
>>
>> Author: ylavic
>> Date: Tue Jun 23 10:54:15 2015
>> New Revision: 1687021
>>
>> URL: http://svn.apache.org/r1687021
>> Log:
>> mod_session_dbd: follow up to r1686122.
>> DBD entries should also have request lifetime.
>> Proposed by: Jacob Champion <jacob.champion ni.com>
>> Reviewed by: ylavic
>>
>> Modified:
>>      httpd/httpd/trunk/modules/session/mod_session_dbd.c
>>
>> Modified: httpd/httpd/trunk/modules/session/mod_session_dbd.c
>> URL:
>> http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/session/mod_session_dbd.c?rev=1687021&r1=1687020&r2=1687021&view=diff
>>
>> ==============================================================================
>> --- httpd/httpd/trunk/modules/session/mod_session_dbd.c (original)
>> +++ httpd/httpd/trunk/modules/session/mod_session_dbd.c Tue Jun 23
>> 10:54:15 2015
>> @@ -94,8 +94,11 @@ static apr_status_t dbd_init(request_rec
>>     /**
>>    * Load the session by the key specified.
>> + *
>> + * The session value is allocated using the passed apr_pool_t.
>>    */
>> -static apr_status_t dbd_load(request_rec * r, const char *key, const char
>> **val)
>> +static apr_status_t dbd_load(request_rec * r, apr_pool_t *pool,
>> +                                                        const char *key,
>> const char **val)
>>   {
>>         apr_status_t rv;
>> @@ -138,7 +141,7 @@ static apr_status_t dbd_load(request_rec
>>               return APR_EGENERAL;
>>           }
>>           if (*val == NULL) {
>> -            *val = apr_pstrdup(r->pool,
>> +            *val = apr_pstrdup(pool,
>>                                  apr_dbd_get_entry(dbd->driver, row, 0));
>>           }
>>           /* we can't break out here or row won't get cleaned up */
>> @@ -204,7 +207,7 @@ static apr_status_t session_dbd_load(req
>>           /* load an RFC2109 or RFC2965 compliant cookie */
>>           ap_cookie_read(r, name, &key, conf->remove);
>>           if (key) {
>> -            ret = dbd_load(r, key, &val);
>> +            ret = dbd_load(r, m->pool, key, &val);
>>               if (ret != APR_SUCCESS) {
>>                   return ret;
>>               }
>> @@ -215,7 +218,7 @@ static apr_status_t session_dbd_load(req
>>       /* load named session */
>>       else if (conf->peruser) {
>>           if (r->user) {
>> -            ret = dbd_load(r, r->user, &val);
>> +            ret = dbd_load(r, m->pool, r->user, &val);
>>               if (ret != APR_SUCCESS) {
>>                   return ret;
>>               }
>>
>>
>>
>

From dev-return-83142-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 13:27:00 2015
Return-Path: <dev-return-83142-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 45B261796D
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 13:27:00 +0000 (UTC)
Received: (qmail 57665 invoked by uid 500); 24 Jun 2015 13:26:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57588 invoked by uid 500); 24 Jun 2015 13:26:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57576 invoked by uid 99); 24 Jun 2015 13:26:58 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 13:26:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 5966118195D
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 13:26:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id QUXjKPTeY1JU for <dev@httpd.apache.org>;
	Wed, 24 Jun 2015 13:26:50 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 245F0249C8
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 13:26:50 +0000 (UTC)
Received: from [10.105.34.24] (unknown [5.56.169.80])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 307A082A1F
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 14:26:12 +0100 (BST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: module configs across (pseudo) connections
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <1E68E2A2-E246-4286-B72E-6CB42B8174D9@greenbytes.de>
Date: Wed, 24 Jun 2015 15:26:10 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <A591B761-F6CD-4FA4-BC77-F07698223EC2@sharp.fm>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de> <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm> <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de> <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com> <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com> <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de> <E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com> <AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de> <2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com> <06084E9C-1819-4ADF-BD88-18A94C843009@greenbytes.de> <6FB93AAA-2BE9-4D4A-8415-551D0A16F1EB@jaguNET.com> <425B805C-23FA-4658-BD53-4271A0FA5571@greenbytes.de> <CALK=YjMPFzC5Z=LCNCvKUUPWCRRsGOcxHg3=Uj6B0RrBhXER4A@mail.gmail.com> <4AF2C0DD-2795-4028-B7F9-D638824D48E1@greenbytes.de> <CALK=YjPCabfum+aOj50LtTjOb1E=ZjFdJL1-wMaKRU0Lo+RLPA@mail.gmail.com> <B8EC0BA4-613B-4B44-A226-72284AB51678@greenbytes.de> <CALK=YjO=Z46V8GrP3BiOVkfzXgyMvM1QhvOMLvf2Fnw0wJLGgg@mail.gmail.com> <726FD28
 6-EFB0-4 A8C-B0A4-78A22BB3607F@greenbytes.de> <CALK=YjP-Tk4rjNHbvgBFvmTs9FJKb65mhEEHByM1BS+=uLiY0g@mail.gmail.com> <1E68E2A2-E246-4286-B72E-6CB42B8174D9@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)

On 22 Jun 2015, at 2:48 PM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:

> Eric, thanks for the help! When enabling mod_logio it became =
immediately clear that mod_h2 wrongly prevented some pre_connection =
hooks to run. mod_logio however expects its allocated module config to =
be there when a request gets cleaned up... So, with v0.7.2 all pre_conn =
hooks are run again and it is part of my test setup now.
>=20
> Which adds the issue about proper handling of module configurations in =
pseudo connections. There seem to be two approaches:
> a) treat pseudo connections like real ones -> run all connection hooks=20=

> b) treat them as "shadows" of the real connection -> copy module =
configs
>=20
> While a) is the least dangerous, it misses gives a false impression =
about the properties of a connection. For example, mod_h2 currently =
copies over the mod_ssl config, so that SSL variables are available =
during request processing on pseudo connections. On the other hand, code =
is not really prepared for b) since this means that many threads may =
operate on the same module config.
>=20
> So, mod_h2 now follow a) for now (with the exception of mod_ssl). A =
future proposal for pseudo connections will need to reevaluate this.

I would argue that the copying option above is most dangerous, as this =
has side effects that may not be catered for by pool cleanups.

I believe we should be treating the =E2=80=9Cpseudo=E2=80=9D connections =
as real connections, and perhaps by linking a =E2=80=9Csubconnection=E2=80=
=9D to a =E2=80=9Cconnection=E2=80=9D (c->main) in the same way we =
currently link a subrequest to a request (r->main).

If you run into any blockers while doing this I would argue those =
blockers would be bugs and we want to fix them.

Regards,
Graham
=E2=80=94


From dev-return-83143-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 13:39:44 2015
Return-Path: <dev-return-83143-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 31BB917A15
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 13:39:44 +0000 (UTC)
Received: (qmail 93347 invoked by uid 500); 24 Jun 2015 13:39:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 93282 invoked by uid 500); 24 Jun 2015 13:39:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 93272 invoked by uid 99); 24 Jun 2015 13:39:43 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 13:39:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 1E24DC0F3C
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 13:39:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id hT2LPphk0h0o for <dev@httpd.apache.org>;
	Wed, 24 Jun 2015 13:39:36 +0000 (UTC)
Received: from mail-yk0-f177.google.com (mail-yk0-f177.google.com [209.85.160.177])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id EBFC0249C8
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 13:39:35 +0000 (UTC)
Received: by ykdy1 with SMTP id y1so23782784ykd.2
        for <dev@httpd.apache.org>; Wed, 24 Jun 2015 06:39:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=8Ksj8YLBo2m+tXNphfSFBVjGKVj5gBuJVUb/I+RRvPs=;
        b=PNbx01tiMGa5LYgog0qGt0Z7AROM2SOK4C0gz7Qskrk7G+/NXT2c+SLdE1/PUSY4sw
         VR0tkCaOXO/CAC0WurHL+qLgZ01bu6SV1dRfSnGnVpL+H4CUF2IJpe4E29j7y0zRf6z8
         JFscBH5I3VZYe2CABk6vgdsREZiijKyJ9YsGQCuWNRYbqhEIALvAVcvuM5OcotBk9t6I
         iAMSY3Rz68MbEs+Mf/GH2w+57w6TUBrhG6HnzDn4mRRFKe5vnONGa1Vc92hshhuxtE3X
         r32IpOqSDhbKJmOU1lUXRmg0bt6BsNULVrc/1wXDOtcutYvJfLtQ8wqKTVWkE+EJ7Dw0
         dp+A==
MIME-Version: 1.0
X-Received: by 10.129.34.135 with SMTP id i129mr45894326ywi.104.1435153175075;
 Wed, 24 Jun 2015 06:39:35 -0700 (PDT)
Received: by 10.37.83.130 with HTTP; Wed, 24 Jun 2015 06:39:35 -0700 (PDT)
In-Reply-To: <A591B761-F6CD-4FA4-BC77-F07698223EC2@sharp.fm>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de>
	<1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm>
	<29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de>
	<CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com>
	<CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com>
	<D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de>
	<E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com>
	<AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de>
	<2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com>
	<06084E9C-1819-4ADF-BD88-18A94C843009@greenbytes.de>
	<6FB93AAA-2BE9-4D4A-8415-551D0A16F1EB@jaguNET.com>
	<425B805C-23FA-4658-BD53-4271A0FA5571@greenbytes.de>
	<CALK=YjMPFzC5Z=LCNCvKUUPWCRRsGOcxHg3=Uj6B0RrBhXER4A@mail.gmail.com>
	<4AF2C0DD-2795-4028-B7F9-D638824D48E1@greenbytes.de>
	<CALK=YjPCabfum+aOj50LtTjOb1E=ZjFdJL1-wMaKRU0Lo+RLPA@mail.gmail.com>
	<B8EC0BA4-613B-4B44-A226-72284AB51678@greenbytes.de>
	<CALK=YjO=Z46V8GrP3BiOVkfzXgyMvM1QhvOMLvf2Fnw0wJLGgg@mail.gmail.com>
	<CALK=YjP-Tk4rjNHbvgBFvmTs9FJKb65mhEEHByM1BS+=uLiY0g@mail.gmail.com>
	<1E68E2A2-E246-4286-B72E-6CB42B8174D9@greenbytes.de>
	<A591B761-F6CD-4FA4-BC77-F07698223EC2@sharp.fm>
Date: Wed, 24 Jun 2015 09:39:35 -0400
Message-ID: <CALK=YjOyNz_+5oqTOjMX3_1_151yOyPxHsPAux7s7SqtLLvWXA@mail.gmail.com>
Subject: Re: module configs across (pseudo) connections
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Jun 24, 2015 at 9:26 AM, Graham Leggett <minfrin@sharp.fm> wrote:
> I believe we should be treating the =E2=80=9Cpseudo=E2=80=9D connections =
as real connections, and perhaps by linking a =E2=80=9Csubconnection=E2=80=
=9D to a =E2=80=9Cconnection=E2=80=9D (c->main) in the same way we currentl=
y link a subrequest to a request (r->main).

There are some basics for this in trunk from jim. I think if the slave
connections had their own bucket_alloc it might remove some of the
copying in h2.

--=20
Eric Covener
covener@gmail.com

From dev-return-83144-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 13:50:29 2015
Return-Path: <dev-return-83144-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0CE5617ACD
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 13:50:29 +0000 (UTC)
Received: (qmail 23325 invoked by uid 500); 24 Jun 2015 13:50:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23254 invoked by uid 500); 24 Jun 2015 13:50:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23243 invoked by uid 99); 24 Jun 2015 13:50:18 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 13:50:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 298C118195D
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 13:50:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id fpa0skjulgBD for <dev@httpd.apache.org>;
	Wed, 24 Jun 2015 13:50:11 +0000 (UTC)
Received: from resqmta-ch2-10v.sys.comcast.net (resqmta-ch2-10v.sys.comcast.net [69.252.207.42])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 63A7B454D6
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 13:50:11 +0000 (UTC)
Received: from resomta-ch2-11v.sys.comcast.net ([69.252.207.107])
	by resqmta-ch2-10v.sys.comcast.net with comcast
	id kDnh1q0042Ka2Q501DqBMv; Wed, 24 Jun 2015 13:50:11 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-11v.sys.comcast.net with comcast
	id kDqA1q0062U0RYt01DqAGx; Wed, 24 Jun 2015 13:50:11 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CACsi251ep+Bd-wkDt7Pc8kFE6Vdt3Md+1oimJY9P-8bE8F7w6Q@mail.gmail.com>
Date: Wed, 24 Jun 2015 09:50:09 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <2112C7A4-D41A-4958-890F-37127CEFC6AA@jaguNET.com>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com> <5586F9F3.20709@thelounge.net> <CAKQ1sVOtqVZcyb=RtVaDJwtedEfj_FR46LnOZAhMGrnN9g0JOQ@mail.gmail.com> <201506222101.37130@news.perlig.de> <CACsi251ep+Bd-wkDt7Pc8kFE6Vdt3Md+1oimJY9P-8bE8F7w6Q@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1435153811;
	bh=SD0C624Q2NmeVM32NQDAnks5vCfVPc/s2iulmjRcRmU=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=LJmAMvehGbw6eO1/Ux1sCbrzOIX/As6EAWGlPsnycTbv2Dkus1G+mIMGW806LOIye
	 2+n4woOkpMTdgffKJhYH2MscEF5bRvwLAo4dBxm5NhpDXTKyZmcJWQ7f+9vh4HLDP3
	 vNVKtEucGHq2UMpowhdN7vBCY8eoDOSSB7eK/8duwxqb04OqklGbES1oFJZlx0zcms
	 vY3mQsgTyuR9usIeXT//Cp75UTKoYi0UZ4gh6S1qrc8pyFEFvsY8ytiH16vi0Tqa7F
	 0WO3I+Ra8cBT9asywmpskUfR1wQ8vhGd1+7cQ++MbORoH9LZYzncHBsMALX9WscUep
	 s04AZ0XHpI4Mg==

Could we check that the proposed patch works and that "everyone" is
OK w/ the implementation as well as maintaining the behavior.

My hope would be to T&R 2.4.16 the end of this week :)

From dev-return-83145-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 13:52:10 2015
Return-Path: <dev-return-83145-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AA76317AFD
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 13:52:10 +0000 (UTC)
Received: (qmail 28164 invoked by uid 500); 24 Jun 2015 13:52:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28091 invoked by uid 500); 24 Jun 2015 13:52:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28081 invoked by uid 99); 24 Jun 2015 13:52:10 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 13:52:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 7DD5F1A5FC4
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 13:52:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id L-cjweQB1v8Z for <dev@httpd.apache.org>;
	Wed, 24 Jun 2015 13:51:58 +0000 (UTC)
Received: from resqmta-ch2-06v.sys.comcast.net (resqmta-ch2-06v.sys.comcast.net [69.252.207.38])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 8685922F21
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 13:51:58 +0000 (UTC)
Received: from resomta-ch2-11v.sys.comcast.net ([69.252.207.107])
	by resqmta-ch2-06v.sys.comcast.net with comcast
	id kDql1q0012Ka2Q501Dqqkh; Wed, 24 Jun 2015 13:50:50 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-11v.sys.comcast.net with comcast
	id kDqA1q0062U0RYt01DqqQL; Wed, 24 Jun 2015 13:50:50 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: module configs across (pseudo) connections
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CALK=YjOyNz_+5oqTOjMX3_1_151yOyPxHsPAux7s7SqtLLvWXA@mail.gmail.com>
Date: Wed, 24 Jun 2015 09:50:50 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <CE39D4F4-987A-4738-88DB-E8FE835E4FA3@jaguNET.com>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de> <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm> <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de> <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com> <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com> <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de> <E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com> <AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de> <2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com> <06084E9C-1819-4ADF-BD88-18A94C843009@greenbytes.de> <6FB93AAA-2BE9-4D4A-8415-551D0A16F1EB@jaguNET.com> <425B805C-23FA-4658-BD53-4271A0FA5571@greenbytes.de> <CALK=YjMPFzC5Z=LCNCvKUUPWCRRsGOcxHg3=Uj6B0RrBhXER4A@mail.gmail.com> <4AF2C0DD-2795-4028-B7F9-D638824D48E1@greenbytes.de> <CALK=YjPCabfum+aOj50LtTjOb1E=ZjFdJL1-wMaKRU0Lo+RLPA@mail.gmail.com> <B8EC0BA4-613B-4B44-A226-72284AB51678@greenbytes.de> <CALK=YjO=Z46V8GrP3BiOVkfzXgyMvM1QhvOMLvf2Fnw0wJLGgg@mail.gmail.com> <CALK=YjP-Tk4rjN
 HbvgBFvmTs9FJKb65mhEEHByM1BS+=uLiY0g@mail.gmail.com> <1E68E2A2-E246-4286-B72E-6CB42B8174D9@greenbytes.de> <A591B761-F6CD-4FA4-BC77-F07698223EC2@sharp.fm> <CALK=YjOyNz_+5oqTOjMX3_1_151yOyPxHsPAux7s7SqtLLvWXA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1435153850;
	bh=LScAhytkWzJSKLB/tDKCCOCbo65MRIAWRPMaNgt7fhk=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=phaYArA2vtzdw8dIYLiQltFWAOzkBvpV8Zv+Pe2LHG0GVNfMP+LensDOZtOYOE1uo
	 3JCYMyqxg3RVf+c2eojYuXtqucHwXZxdjZav4L/OHqBO2+lIs5eGkRdVdhjuwG1sGG
	 fko93DJQkQhg30rrFCFIarkZ3B/HB3fejIc6ab5JEASzW+QL/wgH4RgNfzkmYXR574
	 HAijb5fd0veMww7+XYDN8sfRe/vcYo+LjDYR3wS81TktnKDzXAN88ZnRTh/vDuRO3/
	 mxSc8u81EsNFm4RE5SVXIxPCG+Uz5DAkQ+itBfJ5hDuJ7VHhfuMc53vzel/6IikIDT
	 ygVPZTUFw8xcA==


> On Jun 24, 2015, at 9:39 AM, Eric Covener <covener@gmail.com> wrote:
>=20
> On Wed, Jun 24, 2015 at 9:26 AM, Graham Leggett <minfrin@sharp.fm> =
wrote:
>> I believe we should be treating the =E2=80=9Cpseudo=E2=80=9D =
connections as real connections, and perhaps by linking a =
=E2=80=9Csubconnection=E2=80=9D to a =E2=80=9Cconnection=E2=80=9D =
(c->main) in the same way we currently link a subrequest to a request =
(r->main).
>=20
> There are some basics for this in trunk from jim. I think if the slave
> connections had their own bucket_alloc it might remove some of the
> copying in h2.

+1... that's the thought at least ;)=

From dev-return-83146-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 13:58:29 2015
Return-Path: <dev-return-83146-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3453A17B2E
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 13:58:29 +0000 (UTC)
Received: (qmail 41121 invoked by uid 500); 24 Jun 2015 13:58:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 41049 invoked by uid 500); 24 Jun 2015 13:58:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 41036 invoked by uid 99); 24 Jun 2015 13:58:28 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 13:58:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 2D6E618195D
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 13:58:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id SYd1fLs2Z_xq for <dev@httpd.apache.org>;
	Wed, 24 Jun 2015 13:58:17 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 682FF4BB8D
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 13:58:17 +0000 (UTC)
Received: from delight.greenbytes.de (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 61CDB15A053E
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 15:58:09 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: module configs across (pseudo) connections
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <A591B761-F6CD-4FA4-BC77-F07698223EC2@sharp.fm>
Date: Wed, 24 Jun 2015 15:58:08 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <F7A6F280-EFB5-454C-A999-6C90F4775B6B@greenbytes.de>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de> <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm> <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de> <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com> <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com> <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de> <E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com> <AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de> <2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com> <06084E9C-1819-4ADF-BD88-18A94C843009@greenbytes.de> <6FB93AAA-2BE9-4D4A-8415-551D0A16F1EB@jaguNET.com> <425B805C-23FA-4658-BD53-4271A0FA5571@greenbytes.de> <CALK=YjMPFzC5Z=LCNCvKUUPWCRRsGOcxHg3=Uj6B0RrBhXER4A@mail.gmail.com> <4AF2C0DD-2795-4028-B7F9-D638824D48E1@greenbytes.de> <CALK=YjPCabfum+aOj50LtTjOb1E=ZjFdJL1-wMaKRU0Lo+RLPA@mail.gmail.com> <B8EC0BA4-613B-4B44-A226-72284AB51678@greenbytes.de> <CALK=YjO=Z46V8GrP3BiOVkfzXgyMvM1QhvOMLvf2Fnw0wJLGgg@mail.gmail.com> <726FD28 6-EFB0-
 4 A8C-B0A4-78A22BB3607F@greenbytes.de> <CALK=YjP-Tk4rjNHbvgBFvmTs9FJKb65mhEEHByM1BS+=uLiY0g@mail.gmail.com> <1E68E2A2-E246-4286-B72E-6CB42B8174D9@greenbytes.de> <A591B761-F6CD-4FA4-BC77-F07698223EC2@sharp.fm>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)


> Am 24.06.2015 um 15:26 schrieb Graham Leggett <minfrin@sharp.fm>:
>=20
> I would argue that the copying option above is most dangerous, as this =
has side effects that may not be catered for by pool cleanups.

Totally agree. That is why it is not implemented like that. With the =
side effect that mod_logio, for example, does not aggregate data for the =
main connection.

The only exception in the current implementation is mod_ssl. mod_h2 =
copies that one to the slave connection, so that ssl_var_lookup() works.

> I believe we should be treating the =E2=80=9Cpseudo=E2=80=9D =
connections as real connections, and perhaps by linking a =
=E2=80=9Csubconnection=E2=80=9D to a =E2=80=9Cconnection=E2=80=9D =
(c->main) in the same way we currently link a subrequest to a request =
(r->main).

Sounds good. Then mod_ssl/mod_logio can treat these as they seem fit.

> If you run into any blockers while doing this I would argue those =
blockers would be bugs and we want to fix them.

Cheers,
  Stefan

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83147-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 14:02:16 2015
Return-Path: <dev-return-83147-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5F5CE17B57
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 14:02:16 +0000 (UTC)
Received: (qmail 45425 invoked by uid 500); 24 Jun 2015 14:02:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 45353 invoked by uid 500); 24 Jun 2015 14:02:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 45343 invoked by uid 99); 24 Jun 2015 14:02:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 14:02:15 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of minfrin@sharp.fm designates 80.168.143.5 as permitted sender)
Received: from [80.168.143.5] (HELO monica.sharp.fm) (80.168.143.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 14:00:01 +0000
Received: from [10.105.34.24] (unknown [5.56.169.80])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 0465C82A8B
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 15:01:48 +0100 (BST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: module configs across (pseudo) connections
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <F7A6F280-EFB5-454C-A999-6C90F4775B6B@greenbytes.de>
Date: Wed, 24 Jun 2015 16:01:46 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <0D0B0F5C-9121-4D14-A40A-DCC4237C99F4@sharp.fm>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de> <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm> <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de> <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com> <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com> <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de> <E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com> <AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de> <2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com> <06084E9C-1819-4ADF-BD88-18A94C843009@greenbytes.de> <6FB93AAA-2BE9-4D4A-8415-551D0A16F1EB@jaguNET.com> <425B805C-23FA-4658-BD53-4271A0FA5571@greenbytes.de> <CALK=YjMPFzC5Z=LCNCvKUUPWCRRsGOcxHg3=Uj6B0RrBhXER4A@mail.gmail.com> <4AF2C0DD-2795-4028-B7F9-D638824D48E1@greenbytes.de> <CALK=YjPCabfum+aOj50LtTjOb1E=ZjFdJL1-wMaKRU0Lo+RLPA@mail.gmail.com> <B8EC0BA4-613B-4B44-A226-72284AB51678@greenbytes.de> <CALK=YjO=Z46V8GrP3BiOVkfzXgyMvM1QhvOMLvf2Fnw0wJLGgg@mail.gmail.com> <726FD28
  6-EFB0- 4 A8C-B0A4-78A22BB3607F@greenbytes.de> <CALK=YjP-Tk4rjNHbvgBFvmTs9FJKb65mhEEHByM1BS+=uLiY0g@mail.gmail.com> <1E68E2A2-E246-4286-B72E-6CB42B8174D9@greenbytes.de> <A591B761-F6CD-4FA4-BC77-F07698223EC2@sharp.fm> <F7A6F280-EFB5-454C-A999-6C90F4775B6B@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
X-Virus-Checked: Checked by ClamAV on apache.org

On 24 Jun 2015, at 3:58 PM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:

> Totally agree. That is why it is not implemented like that. With the =
side effect that mod_logio, for example, does not aggregate data for the =
main connection.
>=20
> The only exception in the current implementation is mod_ssl. mod_h2 =
copies that one to the slave connection, so that ssl_var_lookup() works.

This may break if a change was made to mod_ssl and structure sizes =
changed.

If there was something like c->main, we could teach mod_ssl how to find =
the =E2=80=9Croot=E2=80=9D connection so that ssl_var_lookup() =E2=80=9Cju=
st works=E2=80=9D without copying.

Regards,
Graham
=E2=80=94


From dev-return-83148-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 14:08:16 2015
Return-Path: <dev-return-83148-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9647F17B79
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 14:08:16 +0000 (UTC)
Received: (qmail 55611 invoked by uid 500); 24 Jun 2015 14:08:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55542 invoked by uid 500); 24 Jun 2015 14:08:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 55532 invoked by uid 99); 24 Jun 2015 14:08:15 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 14:08:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 606E9CFEB8
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 14:08:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.428
X-Spam-Level:
X-Spam-Status: No, score=-1.428 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-1.428, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id l8_kGaItotes for <dev@httpd.apache.org>;
	Wed, 24 Jun 2015 14:08:05 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 8734824A0C
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 14:08:05 +0000 (UTC)
Received: from delight.greenbytes.de (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id B72FB15A069B
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 16:07:57 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: module configs across (pseudo) connections
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CE39D4F4-987A-4738-88DB-E8FE835E4FA3@jaguNET.com>
Date: Wed, 24 Jun 2015 16:07:57 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <138960B6-D89B-4263-AC4C-56A279097367@greenbytes.de>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de> <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm> <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de> <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com> <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com> <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de> <E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com> <AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de> <2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com> <06084E9C-1819-4ADF-BD88-18A94C843009@greenbytes.de> <6FB93AAA-2BE9-4D4A-8415-551D0A16F1EB@jaguNET.com> <425B805C-23FA-4658-BD53-4271A0FA5571@greenbytes.de> <CALK=YjMPFzC5Z=LCNCvKUUPWCRRsGOcxHg3=Uj6B0RrBhXER4A@mail.gmail.com> <4AF2C0DD-2795-4028-B7F9-D638824D48E1@greenbytes.de> <CALK=YjPCabfum+aOj50LtTjOb1E=ZjFdJL1-wMaKRU0Lo+RLPA@mail.gmail.com> <B8EC0BA4-613B-4B44-A226-72284AB51678@greenbytes.de> <CALK=YjO=Z46V8GrP3BiOVkfzXgyMvM1QhvOMLvf2Fnw0wJLGgg@mail.gmail.com> <CALK=YjP-Tk4rjN
  HbvgBFvmTs9FJKb65mhEEHByM1BS+=uLiY0g@mail.gmail.com> <1E68E2A2-E246-4286-B72E-6CB42B8174D9@greenbytes.de> <A591B761-F6CD-4FA4-BC77-F07698223EC2@sharp.fm> <CALK=YjOyNz_+5oqTOjMX3_1_151yOyPxHsPAux7s7SqtLLvWXA@mail.gmail.com> <CE39D4F4-987A-4738-88DB-E8FE835E4FA3@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)


> Am 24.06.2015 um 15:50 schrieb Jim Jagielski <jim@jaguNET.com>:
>=20
>=20
>> On Jun 24, 2015, at 9:39 AM, Eric Covener <covener@gmail.com> wrote:
>>=20
>> On Wed, Jun 24, 2015 at 9:26 AM, Graham Leggett <minfrin@sharp.fm> =
wrote:
>>> I believe we should be treating the =E2=80=9Cpseudo=E2=80=9D =
connections as real connections, and perhaps by linking a =
=E2=80=9Csubconnection=E2=80=9D to a =E2=80=9Cconnection=E2=80=9D =
(c->main) in the same way we currently link a subrequest to a request =
(r->main).
>>=20
>> There are some basics for this in trunk from jim. I think if the =
slave
>> connections had their own bucket_alloc it might remove some of the
>> copying in h2.
>=20
> +1... that's the thought at least ;)

Hmm, yes, well. It's the thought that counts... ;-)

I think this will not be enough, though, if I understood the failures of =
my various attempts correctly. But it will certainly be good if more =
heads than one have a go at this.

Let Tm :-=3D main thread, Tw :=3D worker thread, TmB() the main =
connection bucket brigade, TwB() the worker (request) brigade.

When a response from a worker starts:
   TmB( , , , , , , , )       TwB(b1,b2,b3, , , , )
so we move buckets across threads
   TmB(b1,b2, , , , , , )       TwB(b3, , , , , , )
and send b1 out and new response data arrives
   TmB(b2, , , , , , , )       TwB(b3,b4, , , , , )
we have the destruction of b1 and the creation of b4 that go against the =
same bucket_alloc_t instance from two threads.

Similar operations happen when b1 needs to be split or is a file bucket =
that gets read. So refraining from destroying buckets in the main thread =
is not enough.

Have I missed something here?

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83149-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 14:15:05 2015
Return-Path: <dev-return-83149-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E53A317BD1
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 14:15:04 +0000 (UTC)
Received: (qmail 76774 invoked by uid 500); 24 Jun 2015 14:15:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76708 invoked by uid 500); 24 Jun 2015 14:15:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76698 invoked by uid 99); 24 Jun 2015 14:15:04 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 14:15:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id ACAC31A5FEE
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 14:15:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.119
X-Spam-Level:
X-Spam-Status: No, score=-0.119 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 06en0RcnfgZJ for <dev@httpd.apache.org>;
	Wed, 24 Jun 2015 14:14:56 +0000 (UTC)
Received: from mail-yh0-f54.google.com (mail-yh0-f54.google.com [209.85.213.54])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id E82432619D
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 14:14:55 +0000 (UTC)
Received: by yhak3 with SMTP id k3so16907540yha.2
        for <dev@httpd.apache.org>; Wed, 24 Jun 2015 07:14:49 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=veYGusKzJmD7M5mLg2BeqvEtJ0QYSbfoN7zkPhMVwpY=;
        b=C+YxIzcgS0MD+EfPujiWO0HHYs4F/ToymLh5QAFqH/dfrRRopIi7zkNLOaDcoNC1dN
         pKmTmCzxH73UpOCVkE3emnu4iq1iJB9iYiuwB7wnzHfi4n2uTYWA8pLQ6OZMpAA6zMq2
         z7EllkwBSU0r0MYjyiWEMRGsuy+5+bvWe2xiVMi5voyu/RShgi+0AAgnaIIbvIOyPId/
         lL7zTcTgl6e1nCFo4Lrf32FrZkycS4RUxM9/6XiqIAPKd223SmMkacQvYsOYfw51fFMq
         QI9Qey7crit5vfFwk8fWJaHpJgRivdqeiGVGzAUo5AI6GjfZPWyUZpXLNvq55LyGJkcQ
         AHKQ==
MIME-Version: 1.0
X-Received: by 10.129.128.199 with SMTP id q190mr12502049ywf.117.1435155289389;
 Wed, 24 Jun 2015 07:14:49 -0700 (PDT)
Received: by 10.37.83.130 with HTTP; Wed, 24 Jun 2015 07:14:49 -0700 (PDT)
In-Reply-To: <138960B6-D89B-4263-AC4C-56A279097367@greenbytes.de>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de>
	<1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm>
	<29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de>
	<CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com>
	<CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com>
	<D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de>
	<E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com>
	<AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de>
	<2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com>
	<06084E9C-1819-4ADF-BD88-18A94C843009@greenbytes.de>
	<6FB93AAA-2BE9-4D4A-8415-551D0A16F1EB@jaguNET.com>
	<425B805C-23FA-4658-BD53-4271A0FA5571@greenbytes.de>
	<CALK=YjMPFzC5Z=LCNCvKUUPWCRRsGOcxHg3=Uj6B0RrBhXER4A@mail.gmail.com>
	<4AF2C0DD-2795-4028-B7F9-D638824D48E1@greenbytes.de>
	<CALK=YjPCabfum+aOj50LtTjOb1E=ZjFdJL1-wMaKRU0Lo+RLPA@mail.gmail.com>
	<B8EC0BA4-613B-4B44-A226-72284AB51678@greenbytes.de>
	<CALK=YjO=Z46V8GrP3BiOVkfzXgyMvM1QhvOMLvf2Fnw0wJLGgg@mail.gmail.com>
	<1E68E2A2-E246-4286-B72E-6CB42B8174D9@greenbytes.de>
	<A591B761-F6CD-4FA4-BC77-F07698223EC2@sharp.fm>
	<CALK=YjOyNz_+5oqTOjMX3_1_151yOyPxHsPAux7s7SqtLLvWXA@mail.gmail.com>
	<CE39D4F4-987A-4738-88DB-E8FE835E4FA3@jaguNET.com>
	<138960B6-D89B-4263-AC4C-56A279097367@greenbytes.de>
Date: Wed, 24 Jun 2015 10:14:49 -0400
Message-ID: <CALK=YjMa-Z893QAZhi7MC6tG=+=9t=jHtcYcYntGRv2sGGxoSA@mail.gmail.com>
Subject: Re: module configs across (pseudo) connections
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Jun 24, 2015 at 10:07 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> Hmm, yes, well. It's the thought that counts... ;-)
>
> I think this will not be enough, though, if I understood the failures of my various attempts correctly. But it will certainly be good if more heads than one have a go at this.
>
> Let Tm :-= main thread, Tw := worker thread, TmB() the main connection bucket brigade, TwB() the worker (request) brigade.
>
> When a response from a worker starts:
>    TmB( , , , , , , , )       TwB(b1,b2,b3, , , , )
> so we move buckets across threads
>    TmB(b1,b2, , , , , , )       TwB(b3, , , , , , )
> and send b1 out and new response data arrives
>    TmB(b2, , , , , , , )       TwB(b3,b4, , , , , )
> we have the destruction of b1 and the creation of b4 that go against the same bucket_alloc_t instance from two threads.
>
> Similar operations happen when b1 needs to be split or is a file bucket that gets read. So refraining from destroying buckets in the main thread is not enough.
>
> Have I missed something here?


One thing I missed was that the httpd thread did the writing vs the h2
thread. I thought the workers wrote but were serialized by the httpd
thread.

-- 
Eric Covener
covener@gmail.com

From dev-return-83150-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 14:23:24 2015
Return-Path: <dev-return-83150-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BB91317C25
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 14:23:24 +0000 (UTC)
Received: (qmail 336 invoked by uid 500); 24 Jun 2015 14:23:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 271 invoked by uid 500); 24 Jun 2015 14:23:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 260 invoked by uid 99); 24 Jun 2015 14:23:24 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 14:23:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id A8F6DC006D
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 14:23:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id b8luQEkMMty5 for <dev@httpd.apache.org>;
	Wed, 24 Jun 2015 14:23:14 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 3223B22F21
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 14:23:14 +0000 (UTC)
Received: from delight.greenbytes.de (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id A150215A0724
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 16:23:12 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: module configs across (pseudo) connections
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CALK=YjMa-Z893QAZhi7MC6tG=+=9t=jHtcYcYntGRv2sGGxoSA@mail.gmail.com>
Date: Wed, 24 Jun 2015 16:23:11 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <20091B75-956C-4E77-9A98-0C8C6F6D5379@greenbytes.de>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de> <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm> <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de> <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com> <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com> <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de> <E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com> <AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de> <2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com> <06084E9C-1819-4ADF-BD88-18A94C843009@greenbytes.de> <6FB93AAA-2BE9-4D4A-8415-551D0A16F1EB@jaguNET.com> <425B805C-23FA-4658-BD53-4271A0FA5571@greenbytes.de> <CALK=YjMPFzC5Z=LCNCvKUUPWCRRsGOcxHg3=Uj6B0RrBhXER4A@mail.gmail.com> <4AF2C0DD-2795-4028-B7F9-D638824D48E1@greenbytes.de> <CALK=YjPCabfum+aOj50LtTjOb1E=ZjFdJL1-wMaKRU0Lo+RLPA@mail.gmail.com> <B8EC0BA4-613B-4B44-A226-72284AB51678@greenbytes.de> <CALK=YjO=Z46V8GrP3BiOVkfzXgyMvM1QhvOMLvf2Fnw0wJLGgg@mail.gmail.com> <1E68E2A2-E246-4
 286-B72E-6CB42B8174D9@greenbytes.de> <A591B761-F6CD-4FA4-BC77-F07698223EC2@sharp.fm> <CALK=YjOyNz_+5oqTOjMX3_1_151yOyPxHsPAux7s7SqtLLvWXA@mail.gmail.com> <CE39D4F4-987A-4738-88DB-E8FE835E4FA3@jaguNET.com> <138960B6-D89B-4263-AC4C-56A279097367@greenbytes.de> <CALK=YjMa-Z893QAZhi7MC6tG=+=9t=jHtcYcYntGRv2sGGxoSA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)


> Am 24.06.2015 um 16:14 schrieb Eric Covener <covener@gmail.com>:
>=20
> On Wed, Jun 24, 2015 at 10:07 AM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> Hmm, yes, well. It's the thought that counts... ;-)
>>=20
>> I think this will not be enough, though, if I understood the failures =
of my various attempts correctly. But it will certainly be good if more =
heads than one have a go at this.
>>=20
>> Let Tm :-=3D main thread, Tw :=3D worker thread, TmB() the main =
connection bucket brigade, TwB() the worker (request) brigade.
>>=20
>> When a response from a worker starts:
>>   TmB( , , , , , , , )       TwB(b1,b2,b3, , , , )
>> so we move buckets across threads
>>   TmB(b1,b2, , , , , , )       TwB(b3, , , , , , )
>> and send b1 out and new response data arrives
>>   TmB(b2, , , , , , , )       TwB(b3,b4, , , , , )
>> we have the destruction of b1 and the creation of b4 that go against =
the same bucket_alloc_t instance from two threads.
>>=20
>> Similar operations happen when b1 needs to be split or is a file =
bucket that gets read. So refraining from destroying buckets in the main =
thread is not enough.
>>=20
>> Have I missed something here?
>=20
>=20
> One thing I missed was that the httpd thread did the writing vs the h2
> thread. I thought the workers wrote but were serialized by the httpd
> thread.

I see. I was afraid of too many thread switches/waits/sync during main =
connection writes. For streams of same priority, h2 wants round-robin =
frames of streams to come out, preferably.

Ideally, I thought, for static file resources at least, the httpd thread =
would have all the file buckets in its buffers and read from them =
directly. With that goal in mind, I thought about moving things from h2 =
thread to httpd.

> --=20
> Eric Covener
> covener@gmail.com

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83151-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 14:26:54 2015
Return-Path: <dev-return-83151-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7581517C47
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 14:26:54 +0000 (UTC)
Received: (qmail 12662 invoked by uid 500); 24 Jun 2015 14:26:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12590 invoked by uid 500); 24 Jun 2015 14:26:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12579 invoked by uid 99); 24 Jun 2015 14:26:54 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 14:26:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 8C6371A5F7B
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 14:26:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 6ZmofhO5nv_A for <dev@httpd.apache.org>;
	Wed, 24 Jun 2015 14:26:41 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 81B8B43E2F
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 14:26:41 +0000 (UTC)
Received: from [10.105.34.24] (unknown [5.56.169.80])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 916E582AD8
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 15:26:34 +0100 (BST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: module configs across (pseudo) connections
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <138960B6-D89B-4263-AC4C-56A279097367@greenbytes.de>
Date: Wed, 24 Jun 2015 16:26:26 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <DFFDA882-288E-4EDE-80DC-6959B4629F95@sharp.fm>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de> <1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm> <29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de> <CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com> <CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com> <D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de> <E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com> <AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de> <2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com> <06084E9C-1819-4ADF-BD88-18A94C843009@greenbytes.de> <6FB93AAA-2BE9-4D4A-8415-551D0A16F1EB@jaguNET.com> <425B805C-23FA-4658-BD53-4271A0FA5571@greenbytes.de> <CALK=YjMPFzC5Z=LCNCvKUUPWCRRsGOcxHg3=Uj6B0RrBhXER4A@mail.gmail.com> <4AF2C0DD-2795-4028-B7F9-D638824D48E1@greenbytes.de> <CALK=YjPCabfum+aOj50LtTjOb1E=ZjFdJL1-wMaKRU0Lo+RLPA@mail.gmail.com> <B8EC0BA4-613B-4B44-A226-72284AB51678@greenbytes.de> <CALK=YjO=Z46V8GrP3BiOVkfzXgyMvM1QhvOMLvf2Fnw0wJLGgg@mail.gmail.com> <CALK=Yj
 P-Tk4rjN HbvgBFvmTs9FJKb65mhEEHByM1BS+=uLiY0g@mail.gmail.com> <1E68E2A2-E246-4286-B72E-6CB42B8174D9@greenbytes.de> <A591B761-F6CD-4FA4-BC77-F07698223EC2@sharp.fm> <CALK=YjOyNz_+5oqTOjMX3_1_151yOyPxHsPAux7s7SqtLLvWXA@mail.gmail.com> <CE39D4F4-987A-4738-88DB-E8FE835E4FA3@jaguNET.com> <138960B6-D89B-4263-AC4C-56A279097367@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)

On 24 Jun 2015, at 4:07 PM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:

> Hmm, yes, well. It's the thought that counts... ;-)
>=20
> I think this will not be enough, though, if I understood the failures =
of my various attempts correctly. But it will certainly be good if more =
heads than one have a go at this.
>=20
> Let Tm :-=3D main thread, Tw :=3D worker thread, TmB() the main =
connection bucket brigade, TwB() the worker (request) brigade.
>=20
> When a response from a worker starts:
>   TmB( , , , , , , , )       TwB(b1,b2,b3, , , , )
> so we move buckets across threads
>   TmB(b1,b2, , , , , , )       TwB(b3, , , , , , )
> and send b1 out and new response data arrives
>   TmB(b2, , , , , , , )       TwB(b3,b4, , , , , )
> we have the destruction of b1 and the creation of b4 that go against =
the same bucket_alloc_t instance from two threads.
>=20
> Similar operations happen when b1 needs to be split or is a file =
bucket that gets read. So refraining from destroying buckets in the main =
thread is not enough.
>=20
> Have I missed something here?

In theory, a bucket should only be considered by one thread at a time.

A brigade containing buckets may be worked on by a different thread, but =
this should never happen concurrently with another thread.

Am I right in understanding that the problem comes about when there is a =
transition of a bucket from the =E2=80=9Cslave=E2=80=9D connection to =
the =E2=80=9Cmaster=E2=80=9D connection?

In theory, if the =E2=80=9Cslave=E2=80=9D connection was terminated by a =
filter that collected buckets and set them aside in a brigade, and the =
=E2=80=9Cmaster=E2=80=9D connection started with a filter that collected =
buckets from various brigades and then sent them down the rest of the =
filter chain we would solve any threading issues.

We would probably need some kind of mechanism for flow control, so that =
we could temporarily suspend a =E2=80=9Cslave=E2=80=9D connection until =
the master is ready to receive more data from that connection, but this =
should be straightforward.

I was working on a patch last year that allowed any filter to set aside =
buckets and return early before all data was processed. This may help =
you to implement the =E2=80=9Cslave to master=E2=80=9D filters:

=
http://mail-archives.apache.org/mod_mbox/httpd-dev/201409.mbox/%3C04776F50=
-0A53-4C1D-AA1C-9F57B60BC0AC@sharp.fm%3E

Regards,
Graham
=E2=80=94


From dev-return-83152-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 14:49:09 2015
Return-Path: <dev-return-83152-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 872F617D91
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 14:49:09 +0000 (UTC)
Received: (qmail 81402 invoked by uid 500); 24 Jun 2015 14:49:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 81337 invoked by uid 500); 24 Jun 2015 14:49:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 81327 invoked by uid 99); 24 Jun 2015 14:49:08 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 14:49:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 527461828EB
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 14:49:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id yV_LMGIWr0vh for <dev@httpd.apache.org>;
	Wed, 24 Jun 2015 14:49:00 +0000 (UTC)
Received: from mail-ig0-f171.google.com (mail-ig0-f171.google.com [209.85.213.171])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id F00E5454D6
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 14:48:59 +0000 (UTC)
Received: by igboe5 with SMTP id oe5so115985836igb.1
        for <dev@httpd.apache.org>; Wed, 24 Jun 2015 07:48:59 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=RWAckHUEMxJh/IJXYmsb1n1e+ypxGTfb/PE9tm/AgWk=;
        b=cqxSAzowAb71jhHmhytZ0ZKCVrWQojqtqINgg5tIY4MhKtyynaOH/dvrpHEFgAz60h
         FC/qEKQx40WdTE5inOrX0fCmL1OjfMXKk36KnRrgTIh0GJezuU6NwYwzJ33whEQeMXs3
         3s3nE9YuDgbAaZqTagPRS2ZCn5jBKfgNvfhDf2d1nAQq2Ca7VfqaG5AlwbiTC3bZEeUm
         bplYcyOWANRqa5QrIDe9CbBYzsa25vi4tG2OSSUqEHz5YGoz8Hyb33nIQDKCbDV47cg9
         6yUQ4iPXISBk2BuoILRWrtbX6Uhe7jU+YriqpXwJY28zaMxHQSItkBUqVGgM7ZVRAJmF
         BnNw==
X-Gm-Message-State: ALoCoQlyQmF+gGHDCCnTuiuOO3sXanlRyoJm088w45LlT9zr45Kp7dA9kFFYkpLdmLrPW7ZomvAL
MIME-Version: 1.0
X-Received: by 10.50.50.130 with SMTP id c2mr217899igo.19.1435157339554; Wed,
 24 Jun 2015 07:48:59 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Wed, 24 Jun 2015 07:48:59 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
Received: by 10.107.190.195 with HTTP; Wed, 24 Jun 2015 07:48:59 -0700 (PDT)
In-Reply-To: <CALK=YjOyNz_+5oqTOjMX3_1_151yOyPxHsPAux7s7SqtLLvWXA@mail.gmail.com>
References: <11EC3B28-0C00-442E-9B34-2DC010604068@greenbytes.de>
	<1BE08797-35A2-4F81-BA87-16D43081199C@sharp.fm>
	<29748C72-1808-4BAA-B630-F401885D0794@greenbytes.de>
	<CAKQ1sVMhGtC7ct9fSt1AgtSLCnB+BEZU0jVvUsgx=SwVen2uGw@mail.gmail.com>
	<CAKQ1sVOi=Eg5NQjMpPR0gKDVMdPEN=46bCMwbjN5wd90a342Ow@mail.gmail.com>
	<D449AAD6-8E63-48BF-A8E3-A90E1C676BBD@greenbytes.de>
	<E9A280B7-85AB-4BBD-A215-D5925D1377E1@jaguNET.com>
	<AD101502-E83F-400D-9DEE-F100BB7FA1FC@greenbytes.de>
	<2A510AF9-D0EC-4F8E-B00D-5210A8BED53D@jaguNET.com>
	<06084E9C-1819-4ADF-BD88-18A94C843009@greenbytes.de>
	<6FB93AAA-2BE9-4D4A-8415-551D0A16F1EB@jaguNET.com>
	<425B805C-23FA-4658-BD53-4271A0FA5571@greenbytes.de>
	<CALK=YjMPFzC5Z=LCNCvKUUPWCRRsGOcxHg3=Uj6B0RrBhXER4A@mail.gmail.com>
	<4AF2C0DD-2795-4028-B7F9-D638824D48E1@greenbytes.de>
	<CALK=YjPCabfum+aOj50LtTjOb1E=ZjFdJL1-wMaKRU0Lo+RLPA@mail.gmail.com>
	<B8EC0BA4-613B-4B44-A226-72284AB51678@greenbytes.de>
	<CALK=YjO=Z46V8GrP3BiOVkfzXgyMvM1QhvOMLvf2Fnw0wJLGgg@mail.gmail.com>
	<CALK=YjP-Tk4rjNHbvgBFvmTs9FJKb65mhEEHByM1BS+=uLiY0g@mail.gmail.com>
	<1E68E2A2-E246-4286-B72E-6CB42B8174D9@greenbytes.de>
	<A591B761-F6CD-4FA4-BC77-F07698223EC2@sharp.fm>
	<CALK=YjOyNz_+5oqTOjMX3_1_151yOyPxHsPAux7s7SqtLLvWXA@mail.gmail.com>
Date: Wed, 24 Jun 2015 09:48:59 -0500
Message-ID: <CACsi251qDzohskAp4VuCZYB6Y4fZpxe_J8bUtuAM-snAsm1udQ@mail.gmail.com>
Subject: Re: module configs across (pseudo) connections
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7b86dd266c056a0519449b66

--047d7b86dd266c056a0519449b66
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Jun 24, 2015 8:39 AM, "Eric Covener" <covener@gmail.com> wrote:
>
> On Wed, Jun 24, 2015 at 9:26 AM, Graham Leggett <minfrin@sharp.fm> wrote:
> > I believe we should be treating the =E2=80=9Cpseudo=E2=80=9D connection=
s as real
connections, and perhaps by linking a =E2=80=9Csubconnection=E2=80=9D to a =
=E2=80=9Cconnection=E2=80=9D
(c->main) in the same way we currently link a subrequest to a request
(r->main).
>
> There are some basics for this in trunk from jim. I think if the slave
> connections had their own bucket_alloc it might remove some of the
> copying in h2.

This will be the best-case solution. Even 'connection-level' filters could
be applied before 'network transport' filters are invoked.

This would have simplified mod_ftp data channel connection mechanics as
well.

--047d7b86dd266c056a0519449b66
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">On Jun 24, 2015 8:39 AM, &quot;Eric Covener&quot; &lt;<a hre=
f=3D"mailto:covener@gmail.com">covener@gmail.com</a>&gt; wrote:<br>
&gt;<br>
&gt; On Wed, Jun 24, 2015 at 9:26 AM, Graham Leggett &lt;<a href=3D"mailto:=
minfrin@sharp.fm">minfrin@sharp.fm</a>&gt; wrote:<br>
&gt; &gt; I believe we should be treating the =E2=80=9Cpseudo=E2=80=9D conn=
ections as real connections, and perhaps by linking a =E2=80=9Csubconnectio=
n=E2=80=9D to a =E2=80=9Cconnection=E2=80=9D (c-&gt;main) in the same way w=
e currently link a subrequest to a request (r-&gt;main).<br>
&gt;<br>
&gt; There are some basics for this in trunk from jim. I think if the slave=
<br>
&gt; connections had their own bucket_alloc it might remove some of the<br>
&gt; copying in h2.</p>
<p dir=3D"ltr">This will be the best-case solution.  Even &#39;connection-l=
evel&#39; filters could be applied before &#39;network transport&#39; filte=
rs are invoked.</p>
<p dir=3D"ltr">This would have simplified mod_ftp data channel connection m=
echanics as well.</p>

--047d7b86dd266c056a0519449b66--

From dev-return-83153-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 14:53:11 2015
Return-Path: <dev-return-83153-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 14EBF17DC7
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 14:53:11 +0000 (UTC)
Received: (qmail 86386 invoked by uid 500); 24 Jun 2015 14:53:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86310 invoked by uid 500); 24 Jun 2015 14:53:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86300 invoked by uid 99); 24 Jun 2015 14:53:10 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 14:53:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 21CBD1A6039
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 14:53:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.272
X-Spam-Level:
X-Spam-Status: No, score=0.272 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RDNS_DYNAMIC=0.363, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	T_FROM_12LTRDOM=0.01, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id eL4E1ka1L1Yq for <dev@httpd.apache.org>;
	Wed, 24 Jun 2015 14:53:03 +0000 (UTC)
Received: from land10web.com (a80-101-236-247.adsl.xs4all.nl [80.101.236.247])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id B588C25320
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 14:53:02 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1435157544;
	bh=h/s0HRHbvenJIDlgZWbiFvgJe3Q1qvbu5uaynRqR+8w=;
	h=From:To:Subject:Date;
	b=CIZZygcrSmQi16Glaj6P9avDqbj+nfF9luSaiYDocsp3CFqYBilbURwQ8LjGRUH/T
	 QCer4Lx3CjJi3Wz5BuzV4RdKRLCwtqHU0qQThuBSXBkTWWdpfpOSuQlJ9U97/XInJ3
	 vlshhpGp6/6HVKXNnFwfY6Ctu2CLxl66y0bB5cGY=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=127.0.0.1;
From: Steffen <info@apachelounge.com>
To:  <dev@httpd.apache.org>
Subject: mod_session_crypto crash
Date: Wed, 24 Jun 2015 16:52:17 +0200
Message-ID: <558ac421.334.1054.5d09@land10.nl>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
X-Originating-IP: 127.0.0.1
X-Mailer: SurgeWeb - Ajax Webmail Client


When build on Windows with no openssl or nss driver , I was assuming 
that mod_session crypto would use apr-crypto.

Seems I was wrong,  then Apache crashes without anything in the log, 
quite some reports, see the latest at    
http://www.apachelounge.com/viewtopic.php?p=30892#30892

When I build with the openssl driver , then all is fine.




From dev-return-83154-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 15:30:14 2015
Return-Path: <dev-return-83154-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E269D17F11
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 15:30:14 +0000 (UTC)
Received: (qmail 63253 invoked by uid 500); 24 Jun 2015 15:30:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63184 invoked by uid 500); 24 Jun 2015 15:30:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63121 invoked by uid 99); 24 Jun 2015 15:30:13 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 15:30:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 5C22018195D
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 15:30:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id d3zzSxNKQmpW for <dev@httpd.apache.org>;
	Wed, 24 Jun 2015 15:30:05 +0000 (UTC)
Received: from mail-ig0-f177.google.com (mail-ig0-f177.google.com [209.85.213.177])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 5C66F24A5E
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 15:30:05 +0000 (UTC)
Received: by igblr2 with SMTP id lr2so36232729igb.0
        for <dev@httpd.apache.org>; Wed, 24 Jun 2015 08:30:04 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=ryO/wW24onVc5InoyLawlKqZH3BNwY6okH5pz4G/kwM=;
        b=DBTUfJhl7IvvhUiF7mAJflSvFDTKPEKAUQUxi6T1VsAynXXx8RQSuMo+xLFYt53K1p
         69dA0XFf/V5mMXWJLliMftqYdN0gGP/Xjild/WwifqUhhnO6uXPFyjNj5Bo0zy5NS4ys
         x6D1kE0zP1jypAv7Jv/6PXZxsbEPMYkAZ6y3cOC/MnloqAeiS2oh/EGubRFC455l7HUJ
         QJP3ncCOO/LGeVRmXXkckVU16knoHlQsDtHwi3N6NneGzlm35fhe3rC9+8a9p2m+ZOD6
         qevwrXiUZE73R5doU5hVDTf62EYejRbKnrbvU1oD698Grpd3v9eeXxXR/ZPB4WDQWa/I
         73PQ==
X-Gm-Message-State: ALoCoQk0niGohPMGAY9HVJ7wpiLqme+uRzSBq2z2UpBzNpuWwIkbkOMRrb458J7wTiJ8kDL5niCO
MIME-Version: 1.0
X-Received: by 10.50.13.10 with SMTP id d10mr4005946igc.20.1435159804584; Wed,
 24 Jun 2015 08:30:04 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Wed, 24 Jun 2015 08:30:04 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <558ac421.334.1054.5d09@land10.nl>
References: <558ac421.334.1054.5d09@land10.nl>
Date: Wed, 24 Jun 2015 10:30:04 -0500
Message-ID: <CACsi250om2J5TFd6v-kHiNb_RGHeksbHu2xZUbPYGp8dW4a57A@mail.gmail.com>
Subject: Re: mod_session_crypto crash
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e011848745955900519452ebc

--089e011848745955900519452ebc
Content-Type: text/plain; charset=UTF-8

If asking about crash-bugs on dev@, could you please include the backtrace?
 .pdb symbols make it useful, while
https://msdn.microsoft.com/en-us/library/windows/hardware/ff551063(v=vs.85).aspx
shows how to load the user.dmp file and produce that backtrace.

User in that link seems to be changing too many things to make this a
useful problem report.  Hopefully you are familiar with looking in the
windows event log when "windows error is triggered before anything appears
in the apache log".  Or try running command-line, not as-a-service. to get
a console error.


On Wed, Jun 24, 2015 at 9:52 AM, Steffen <info@apachelounge.com> wrote:

>
> When build on Windows with no openssl or nss driver , I was assuming that
> mod_session crypto would use apr-crypto.
>
> Seems I was wrong,  then Apache crashes without anything in the log, quite
> some reports, see the latest at
> http://www.apachelounge.com/viewtopic.php?p=30892#30892
>
> When I build with the openssl driver , then all is fine.
>
>
>
>

--089e011848745955900519452ebc
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra">If asking about crash-bugs on d=
ev@, could you please include the backtrace? =C2=A0.pdb symbols make it use=
ful, while <a href=3D"https://msdn.microsoft.com/en-us/library/windows/hard=
ware/ff551063(v=3Dvs.85).aspx">https://msdn.microsoft.com/en-us/library/win=
dows/hardware/ff551063(v=3Dvs.85).aspx</a> shows how to load the user.dmp f=
ile and produce that backtrace.<br><br>User in that link seems to be changi=
ng too many things to make this a useful problem report.=C2=A0 Hopefully yo=
u are familiar with looking in the windows event log when &quot;windows err=
or is triggered before anything appears in the apache log&quot;.=C2=A0 Or t=
ry running command-line, not as-a-service. to get a console error.</div><di=
v class=3D"gmail_extra"><br></div><div class=3D"gmail_extra"><br><div class=
=3D"gmail_quote">On Wed, Jun 24, 2015 at 9:52 AM, Steffen <span dir=3D"ltr"=
>&lt;<a href=3D"mailto:info@apachelounge.com" target=3D"_blank">info@apache=
lounge.com</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=
=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><br>
When build on Windows with no openssl or nss driver , I was assuming that m=
od_session crypto would use apr-crypto.<br>
<br>
Seems I was wrong,=C2=A0 then Apache crashes without anything in the log, q=
uite some reports, see the latest at=C2=A0 =C2=A0 <a href=3D"http://www.apa=
chelounge.com/viewtopic.php?p=3D30892#30892" rel=3D"noreferrer" target=3D"_=
blank">http://www.apachelounge.com/viewtopic.php?p=3D30892#30892</a><br>
<br>
When I build with the openssl driver , then all is fine.<br>
<br>
<br>
<br>
</blockquote></div><br></div></div>

--089e011848745955900519452ebc--

From dev-return-83155-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 16:04:27 2015
Return-Path: <dev-return-83155-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D9E81180BD
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 16:04:27 +0000 (UTC)
Received: (qmail 68345 invoked by uid 500); 24 Jun 2015 16:04:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68275 invoked by uid 500); 24 Jun 2015 16:04:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68265 invoked by uid 99); 24 Jun 2015 16:04:26 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 16:04:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 63597C0F3C
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 16:04:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id oxS6UiY02FOI for <dev@httpd.apache.org>;
	Wed, 24 Jun 2015 16:04:16 +0000 (UTC)
Received: from mail-ig0-f182.google.com (mail-ig0-f182.google.com [209.85.213.182])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 65FB9253EF
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 16:04:15 +0000 (UTC)
Received: by igbqq3 with SMTP id qq3so117711877igb.0
        for <dev@httpd.apache.org>; Wed, 24 Jun 2015 09:04:14 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=6ykqi3GmckTlLVWTvPHUQOld8YhJ55J+Xmys+Qs35h4=;
        b=PJsvaRZ823WUk3gAi3ygttIQLcWDj0Mnj7aAzH64ouaDEN422YZXXVOSmnumqNQZSZ
         oeUeYH8XsixbrMAVvMXKChrkBcqRxk+e7XKQAY7Cb1SLHFPRW8VAzH9WsjupAMF+Zc75
         nCFKP124V0dNLA0ofjOBCcfHJ9HrRZAEc549TZeKXGdvHvIs8psqwhT9oHqwwngVzodl
         ljspINFQxCD24DwrC7uVTz0msLq3WGZ6aIpad+TAP4HDqY7aiJisonYbTmyTeZsb4nCW
         mrFNXLBtHbZLvb2XnpZIqWNSGTQbLAiAB/BYR7ckaYmKI6udrWDPG/fi4ClcBpSsRTjd
         Gyqg==
X-Gm-Message-State: ALoCoQl3KXebZkGJaa28vkGwvxwZf7c4SQ8mxgukmGl9id3BegV4Dw8unfJcMzpCfDB5yljKPk1Q
MIME-Version: 1.0
X-Received: by 10.50.110.3 with SMTP id hw3mr798087igb.20.1435161854011; Wed,
 24 Jun 2015 09:04:14 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Wed, 24 Jun 2015 09:04:13 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <CACsi251-+6G3SNLPyEx9gfd0smvy2rx=pi5USXD5ESJWH6ihng@mail.gmail.com>
References: <CACsi251-+6G3SNLPyEx9gfd0smvy2rx=pi5USXD5ESJWH6ihng@mail.gmail.com>
Date: Wed, 24 Jun 2015 11:04:13 -0500
Message-ID: <CACsi250y58xVyveE+J808=EqPF2cpCs5Z-0aJHjQ63f_WE=6YQ@mail.gmail.com>
Subject: Re: Last call... STATUS needing one sec fix vote [was Re: Roll 2.2.30]
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e013cbd508118fd051945a87e

--089e013cbd508118fd051945a87e
Content-Type: text/plain; charset=UTF-8

On Fri, Jun 19, 2015 at 11:42 AM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:

>
> On Jun 18, 2015 1:45 PM, "William A Rowe Jr" <wrowe@rowe-clan.net> wrote:
> >
> > On Jun 11, 2015 8:22 AM, "Eric Covener" <covener@gmail.com> wrote:
> > >
> > > On Thu, Jun 11, 2015 at 9:08 AM William A Rowe Jr <wrowe@rowe-clan.net>
> wrote:
> > >>
> > >> But withholding a security fix for legacy server users?  Sounds like
> a way to earn distrust of the user community, not reassure them that 2.4.14
> is the best version available.
> > >
> > > +1
> >
> > The 2.2 patches are in alignment with the resolved 2.4 security patches
> plus relaxed trailing spaces rule. Yann and I have reviewed, still weeks
> later 2.2.30 needs one more pair of eyeballs and a third +1 of the 2
> patches.
> >
> > I can T&R in the morning Friday if it has been reviewed, else it will be
> a while before I can RM.
>
> If there is a vote in the next 90 minutes, I'll proceed, otherwise I can
> proceed sometime next week after missing +1 is cast.
>
Just as a reminder, 2.2 STATUS contains;

  *) SECURITY: CVE-2015-3183 (cve.mitre.org)
     core: Fix chunk header parsing defect.
     Remove apr_brigade_flatten(), buffering and duplicated code from
     the HTTP_IN filter, parse chunks in a single pass with zero copy.
     Limit accepted chunk-size to 2^63-1 and be strict about chunk-ext
     authorized characters.  [Graham Leggett, Yann Ylavic]
  Submitted by: minfrin, ylavic
  Reviewed by: ylavic, wrowe,
  Backports: 1484852, 1684513
  Reported by: regilero <regis.leroy makina-corpus.com>

  trunk
    http://svn.apache.org/r1484852
    http://svn.apache.org/r1684513
  2.4.x branch
    http://svn.apache.org/r1684515
  2.2.x branch
    http://people.apache.org/~wrowe/httpd-2.2.x-ap_http_filter-chunked-v6.patch
  +1: ylavic, wrowe
  jim notes: test framework errors due to 413->400 error change [test adjusted]
  wrowe notes: r1684513 was not neglected in this patch, already included

  *) core: Allow spaces after chunk-size for compatibility with implementations
     using a pre-filled buffer.
     trunk patch: http://svn.apache.org/r1685345
                  http://svn.apache.org/r1685347
                  http://svn.apache.org/r1685349
                  http://svn.apache.org/r1685350
     2.[24].x patch:
http://people.apache.org/~ylavic/httpd-2.4.x-ap_http_filter_chunked-v3.patch
                     (trunk works but CHANGES entry in the above patch is
                      better since the APLOG_INFO part is already included
                      in the CVE-2015-3183 patch)
     +1: ylavic, wrowe
     ylavic: CVE-2015-3183 patch httpd-2.2.x-ap_http_filter-chunked-v6.patch
             above must be applied first.


and has lingered now for two weeks (a month, actually, when measuring
security@httpd.apache.org time).  This blocks not only tagging 2.2, but
also publishing security guidance with corresponding patches for general
consumption, barring a successful release including these patches for 2.4
and 2.2.

If you had offered to review security patches in Jeff's 2.2 interest thread
of a month ago, please consider taking a bit of time to compare this change
to the corresponding change already approved in 2.4.x branch (and rather
extensively reviewed over the past two release votes).

--089e013cbd508118fd051945a87e
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On F=
ri, Jun 19, 2015 at 11:42 AM, William A Rowe Jr <span dir=3D"ltr">&lt;<a hr=
ef=3D"mailto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>=
&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0px=
 0px 0px 0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);bor=
der-left-style:solid;padding-left:1ex"><p dir=3D"ltr"><br>
On Jun 18, 2015 1:45 PM, &quot;William A Rowe Jr&quot; &lt;<a href=3D"mailt=
o:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>&gt; wrote:=
<br>
&gt;<br>
&gt; On Jun 11, 2015 8:22 AM, &quot;Eric Covener&quot; &lt;<a href=3D"mailt=
o:covener@gmail.com" target=3D"_blank">covener@gmail.com</a>&gt; wrote:<br>
&gt; &gt;<br>
&gt; &gt; On Thu, Jun 11, 2015 at 9:08 AM William A Rowe Jr &lt;<a href=3D"=
mailto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>&gt; w=
rote:<br>
&gt; &gt;&gt;<br>
&gt; &gt;&gt; But withholding a security fix for legacy server users?=C2=A0=
 Sounds like a way to earn distrust of the user community, not reassure the=
m that 2.4.14 is the best version available.<br>
&gt; &gt;<br>
&gt; &gt; +1<br>
&gt;<br>
&gt; The 2.2 patches are in alignment with the resolved 2.4 security patche=
s plus relaxed trailing spaces rule. Yann and I have reviewed, still weeks =
later 2.2.30 needs one more pair of eyeballs and a third +1 of the 2 patche=
s.<br>
&gt;<br>
&gt; I can T&amp;R in the morning Friday if it has been reviewed, else it w=
ill be a while before I can RM.</p>
<p dir=3D"ltr">If there is a vote in the next 90 minutes, I&#39;ll proceed,=
 otherwise I can proceed sometime next week after missing +1 is cast.</p>
</blockquote></div>Just as a reminder, 2.2 STATUS contains;</div><div class=
=3D"gmail_extra"><div class=3D"gmail_extra"><pre style=3D"color:rgb(0,0,0);=
word-wrap:break-word;white-space:pre-wrap">  *) SECURITY: CVE-2015-3183 (<a=
 href=3D"http://cve.mitre.org">cve.mitre.org</a>)
     core: Fix chunk header parsing defect.
     Remove apr_brigade_flatten(), buffering and duplicated code from
     the HTTP_IN filter, parse chunks in a single pass with zero copy.
     Limit accepted chunk-size to 2^63-1 and be strict about chunk-ext
     authorized characters.  [Graham Leggett, Yann Ylavic]
  Submitted by: minfrin, ylavic
  Reviewed by: ylavic, wrowe,
  Backports: 1484852, 1684513
  Reported by: regilero &lt;regis.leroy <a href=3D"http://makina-corpus.com=
">makina-corpus.com</a>&gt;

  trunk
    <a href=3D"http://svn.apache.org/r1484852">http://svn.apache.org/r14848=
52</a>
    <a href=3D"http://svn.apache.org/r1684513">http://svn.apache.org/r16845=
13</a>
  2.4.x branch
    <a href=3D"http://svn.apache.org/r1684515">http://svn.apache.org/r16845=
15</a>
  2.2.x branch
    <a href=3D"http://people.apache.org/~wrowe/httpd-2.2.x-ap_http_filter-c=
hunked-v6.patch">http://people.apache.org/~wrowe/httpd-2.2.x-ap_http_filter=
-chunked-v6.patch</a>
  +1: ylavic, wrowe
  jim notes: test framework errors due to 413-&gt;400 error change [test ad=
justed]
  wrowe notes: r1684513 was not neglected in this patch, already included

  *) core: Allow spaces after chunk-size for compatibility with implementat=
ions
     using a pre-filled buffer.
     trunk patch: <a href=3D"http://svn.apache.org/r1685345">http://svn.apa=
che.org/r1685345</a>
                  <a href=3D"http://svn.apache.org/r1685347">http://svn.apa=
che.org/r1685347</a>
                  <a href=3D"http://svn.apache.org/r1685349">http://svn.apa=
che.org/r1685349</a>
                  <a href=3D"http://svn.apache.org/r1685350">http://svn.apa=
che.org/r1685350</a>
     2.[24].x patch: <a href=3D"http://people.apache.org/~ylavic/httpd-2.4.=
x-ap_http_filter_chunked-v3.patch">http://people.apache.org/~ylavic/httpd-2=
.4.x-ap_http_filter_chunked-v3.patch</a>
                     (trunk works but CHANGES entry in the above patch is
                      better since the APLOG_INFO part is already included
                      in the CVE-2015-3183 patch)
     +1: ylavic, wrowe
     ylavic: CVE-2015-3183 patch httpd-2.2.x-ap_http_filter-chunked-v6.patc=
h
             above must be applied first.
</pre><div><br></div>and has lingered now for two weeks (a month, actually,=
 when measuring <a href=3D"mailto:security@httpd.apache.org">security@httpd=
.apache.org</a> time).=C2=A0 This blocks not only tagging 2.2, but also pub=
lishing security guidance with corresponding patches for general consumptio=
n, barring a successful release including these patches for 2.4 and 2.2.</d=
iv><div class=3D"gmail_extra"><br></div><div class=3D"gmail_extra">If you h=
ad offered to review security patches in Jeff&#39;s 2.2 interest thread of =
a month ago, please consider taking a bit of time to compare this change to=
 the corresponding change already approved in 2.4.x branch (and rather exte=
nsively reviewed over the past two release votes).</div><div class=3D"gmail=
_extra"><br></div><div class=3D"gmail_extra"><br></div></div></div>

--089e013cbd508118fd051945a87e--

From dev-return-83156-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 16:13:05 2015
Return-Path: <dev-return-83156-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6600218134
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 16:13:05 +0000 (UTC)
Received: (qmail 89933 invoked by uid 500); 24 Jun 2015 16:13:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89871 invoked by uid 500); 24 Jun 2015 16:13:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89860 invoked by uid 99); 24 Jun 2015 16:13:04 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 16:13:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 7BAC01A5D39
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 16:13:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id P21QmPI18FbX for <dev@httpd.apache.org>;
	Wed, 24 Jun 2015 16:12:56 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 429094C0D3
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 16:12:56 +0000 (UTC)
Received: from [10.105.34.24] (unknown [5.56.169.80])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 72AB482A39
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 17:12:55 +0100 (BST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: Last call... STATUS needing one sec fix vote [was Re: Roll 2.2.30]
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <CACsi250y58xVyveE+J808=EqPF2cpCs5Z-0aJHjQ63f_WE=6YQ@mail.gmail.com>
Date: Wed, 24 Jun 2015 18:12:52 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <F9BD0CB5-5ADB-40FD-9ACB-BFE8E9AECFF7@sharp.fm>
References: <CACsi251-+6G3SNLPyEx9gfd0smvy2rx=pi5USXD5ESJWH6ihng@mail.gmail.com> <CACsi250y58xVyveE+J808=EqPF2cpCs5Z-0aJHjQ63f_WE=6YQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)

On 24 Jun 2015, at 6:04 PM, William A Rowe Jr <wrowe@rowe-clan.net> =
wrote:

> If you had offered to review security patches in Jeff's 2.2 interest =
thread of a month ago, please consider taking a bit of time to compare =
this change to the corresponding change already approved in 2.4.x branch =
(and rather extensively reviewed over the past two release votes).

I ran the two changes through the test suite earlier, and they all pass =
(the previous version without the patches failed the tests). I=E2=80=99ll =
be adding my +1 shortly.

Regards,
Graham
=E2=80=94


From dev-return-83157-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 16:22:40 2015
Return-Path: <dev-return-83157-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 34622181FA
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 16:22:40 +0000 (UTC)
Received: (qmail 44266 invoked by uid 500); 24 Jun 2015 16:22:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 44193 invoked by uid 500); 24 Jun 2015 16:22:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 44183 invoked by uid 99); 24 Jun 2015 16:22:39 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 16:22:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 421AE18195D
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 16:22:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.263
X-Spam-Level: ***
X-Spam-Status: No, score=3.263 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, MIME_QP_LONG_LINE=0.001, RDNS_DYNAMIC=0.363,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id DyBomQXnctRR for <dev@httpd.apache.org>;
	Wed, 24 Jun 2015 16:22:30 +0000 (UTC)
Received: from land10web.com (a80-101-236-247.adsl.xs4all.nl [80.101.236.247])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 439D2253EF
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 16:22:30 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1435162911;
	bh=0oOJelCo8u/crK69eULRp3HPrjkHBbJ09dSrvPD/GP4=;
	h=From:Subject:Date:References:In-Reply-To:To;
	b=MVAXaVJbqNzH579dQrFR3sONYzymDuiMdGwhlVRZce7Wdy/k2f7X4gLI9phuyh8OC
	 w8YTjnACzUdBlgdrc/lxSueh/ZMxk2lf66x21yIQGQTmqJ0wu6ljgEQzzqL+8Tgotp
	 zAGUUh4Pnj2dUlF+M3rcsnHgy/0kW/OQodx+dLSk=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
From: Steffen <info@apachelounge.com>
Content-Type: multipart/alternative;
	boundary=Apple-Mail-27E27457-40DD-4EA6-8C1A-20A73BE7DC45
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (1.0)
Subject: Re: mod_session_crypto crash
Message-Id: <0A4A3AAB-0046-4E49-8604-670E5F0A65CA@apachelounge.com>
Date: Wed, 24 Jun 2015 18:22:28 +0200
References: <558ac421.334.1054.5d09@land10.nl> <CACsi250om2J5TFd6v-kHiNb_RGHeksbHu2xZUbPYGp8dW4a57A@mail.gmail.com>
In-Reply-To: <CACsi250om2J5TFd6v-kHiNb_RGHeksbHu2xZUbPYGp8dW4a57A@mail.gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
X-Mailer: iPhone Mail (12F70)


--Apple-Mail-27E27457-40DD-4EA6-8C1A-20A73BE7DC45
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable

Forget my question, it is not a bug report.=20

Q: Is my assumption wright that when not build with a driver ( OpenSSL and/o=
r NSS) it should use apr-crypto ?

If no, should be good to have an error logged, instead of a crash.=20

Ps.
With no driver the module loads fine, only when using crypto it crashes.=20

Event viewer, see few post above in that thread.=20

Steffen=20


> Op 24 jun. 2015 om 17:30 heeft William A Rowe Jr <wrowe@rowe-clan.net> het=
 volgende geschreven:
>=20
> If asking about crash-bugs on dev@, could you please include the backtrace=
?  .pdb symbols make it useful, while https://msdn.microsoft.com/en-us/libra=
ry/windows/hardware/ff551063(v=3Dvs.85).aspx shows how to load the user.dmp f=
ile and produce that backtrace.
>=20
> User in that link seems to be changing too many things to make this a usef=
ul problem report.  Hopefully you are familiar with looking in the windows e=
vent log when "windows error is triggered before anything appears in the apa=
che log".  Or try running command-line, not as-a-service. to get a console e=
rror.
>=20
>=20
>> On Wed, Jun 24, 2015 at 9:52 AM, Steffen <info@apachelounge.com> wrote:
>>=20
>> When build on Windows with no openssl or nss driver , I was assuming that=
 mod_session crypto would use apr-crypto.
>>=20
>> Seems I was wrong,  then Apache crashes without anything in the log, quit=
e some reports, see the latest at    http://www.apachelounge.com/viewtopic.p=
hp?p=3D30892#30892
>>=20
>> When I build with the openssl driver , then all is fine.
>=20

--Apple-Mail-27E27457-40DD-4EA6-8C1A-20A73BE7DC45
Content-Type: text/html;
	charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><head><meta http-equiv=3D"content-type" content=3D"text/html; charset=3D=
utf-8"></head><body dir=3D"auto"><div>Forget my question, it is not a bug re=
port.&nbsp;</div><div><br></div><div>Q: Is my assumption wright that when no=
t build with a driver ( OpenSSL and/or NSS) it should use apr-crypto ?</div>=
<div><br></div><div>If no, should be good to have an error logged, instead o=
f a crash.&nbsp;</div><div><br></div><div>Ps.</div><div>With no driver the m=
odule loads fine, only when using crypto it crashes.&nbsp;</div><div><br></d=
iv><div>Event viewer, see few post above in that thread.&nbsp;<br><br>Steffe=
n&nbsp;<br><br></div><div><br>Op 24 jun. 2015 om 17:30 heeft William A Rowe J=
r &lt;<a href=3D"mailto:wrowe@rowe-clan.net">wrowe@rowe-clan.net</a>&gt; het=
 volgende geschreven:<br><br></div><blockquote type=3D"cite"><div><div dir=3D=
"ltr"><div class=3D"gmail_extra">If asking about crash-bugs on dev@, could y=
ou please include the backtrace? &nbsp;.pdb symbols make it useful, while <a=
 href=3D"https://msdn.microsoft.com/en-us/library/windows/hardware/ff551063(=
v=3Dvs.85).aspx">https://msdn.microsoft.com/en-us/library/windows/hardware/f=
f551063(v=3Dvs.85).aspx</a> shows how to load the user.dmp file and produce t=
hat backtrace.<br><br>User in that link seems to be changing too many things=
 to make this a useful problem report.&nbsp; Hopefully you are familiar with=
 looking in the windows event log when "windows error is triggered before an=
ything appears in the apache log".&nbsp; Or try running command-line, not as=
-a-service. to get a console error.</div><div class=3D"gmail_extra"><br></di=
v><div class=3D"gmail_extra"><br><div class=3D"gmail_quote">On Wed, Jun 24, 2=
015 at 9:52 AM, Steffen <span dir=3D"ltr">&lt;<a href=3D"mailto:info@apachel=
ounge.com" target=3D"_blank">info@apachelounge.com</a>&gt;</span> wrote:<br>=
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px=
 #ccc solid;padding-left:1ex"><br>
When build on Windows with no openssl or nss driver , I was assuming that mo=
d_session crypto would use apr-crypto.<br>
<br>
Seems I was wrong,&nbsp; then Apache crashes without anything in the log, qu=
ite some reports, see the latest at&nbsp; &nbsp; <a href=3D"http://www.apach=
elounge.com/viewtopic.php?p=3D30892#30892" rel=3D"noreferrer" target=3D"_bla=
nk">http://www.apachelounge.com/viewtopic.php?p=3D30892#30892</a><br>
<br>
When I build with the openssl driver , then all is fine.<br>
<br>
<br>
<br>
</blockquote></div><br></div></div>
</div></blockquote></body></html>=

--Apple-Mail-27E27457-40DD-4EA6-8C1A-20A73BE7DC45--

From dev-return-83158-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 16:26:54 2015
Return-Path: <dev-return-83158-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9D94518236
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 16:26:54 +0000 (UTC)
Received: (qmail 56572 invoked by uid 500); 24 Jun 2015 16:26:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56508 invoked by uid 500); 24 Jun 2015 16:26:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56498 invoked by uid 99); 24 Jun 2015 16:26:54 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 16:26:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id BB4D9C0F3C
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 16:26:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id RJWtGJDVQbpE for <dev@httpd.apache.org>;
	Wed, 24 Jun 2015 16:26:45 +0000 (UTC)
Received: from mail-ie0-f169.google.com (mail-ie0-f169.google.com [209.85.223.169])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 08AD4261B0
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 16:26:45 +0000 (UTC)
Received: by ieqy10 with SMTP id y10so36875066ieq.0
        for <dev@httpd.apache.org>; Wed, 24 Jun 2015 09:26:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=oxu8EuwRmTUx6P5ExUaM6/iGTxFXOoIuTvON9nInoiQ=;
        b=T82b6Y1WxK+16OC5n6jKiAPLRJ61BpQeGHAIl2Y0lD78bBKiES7fkfZ3kZoiqtOWTa
         vOf/aRzitighx664OjDq3QnAF+1JLUc+hMcwY050dVKezaXpz2qUsTmhyd+7Ksclo5Y2
         lrY+rpMOWmntD7jHKKZ26eBYHKj3t9Vgc4KK5Mj21hxmClKvImJj18U/S0tv7IUUdJMr
         Lc9mAE4NPW+G1s6xDKZ+uHpp+1oibt4wxKz2x0TR+NbRofTQuWqbqdKoVyMP/AH8N4Fn
         Tmd+x81blY9HYm4C95Gtu9aa2XiDuxvQErRztljLLkzbFE1o2waH76ARGUlBfCvHv520
         7XKQ==
MIME-Version: 1.0
X-Received: by 10.107.7.142 with SMTP id g14mr33938196ioi.21.1435163204536;
 Wed, 24 Jun 2015 09:26:44 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Wed, 24 Jun 2015 09:26:44 -0700 (PDT)
In-Reply-To: <F9BD0CB5-5ADB-40FD-9ACB-BFE8E9AECFF7@sharp.fm>
References: <CACsi251-+6G3SNLPyEx9gfd0smvy2rx=pi5USXD5ESJWH6ihng@mail.gmail.com>
	<CACsi250y58xVyveE+J808=EqPF2cpCs5Z-0aJHjQ63f_WE=6YQ@mail.gmail.com>
	<F9BD0CB5-5ADB-40FD-9ACB-BFE8E9AECFF7@sharp.fm>
Date: Wed, 24 Jun 2015 18:26:44 +0200
Message-ID: <CAKQ1sVOM30Q0W3Zn0D_-6UBJsT4VEzPur0X76yz2QamMpm4pmg@mail.gmail.com>
Subject: Re: Last call... STATUS needing one sec fix vote [was Re: Roll 2.2.30]
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Jun 24, 2015 at 6:12 PM, Graham Leggett <minfrin@sharp.fm> wrote:
> On 24 Jun 2015, at 6:04 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote=
:
>
>> If you had offered to review security patches in Jeff's 2.2 interest thr=
ead of a month ago, please consider taking a bit of time to compare this ch=
ange to the corresponding change already approved in 2.4.x branch (and rath=
er extensively reviewed over the past two release votes).
>
> I ran the two changes through the test suite earlier, and they all pass (=
the previous version without the patches failed the tests). I=E2=80=99ll be=
 adding my +1 shortly.

Thanks Graham!

From dev-return-83159-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 18:12:53 2015
Return-Path: <dev-return-83159-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C0C10186CF
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 18:12:53 +0000 (UTC)
Received: (qmail 53871 invoked by uid 500); 24 Jun 2015 18:12:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53799 invoked by uid 500); 24 Jun 2015 18:12:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53786 invoked by uid 99); 24 Jun 2015 18:12:53 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 18:12:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id DB126C006D
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 18:12:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id zeDvfU74UQ49 for <dev@httpd.apache.org>;
	Wed, 24 Jun 2015 18:12:46 +0000 (UTC)
Received: from mail-ig0-f182.google.com (mail-ig0-f182.google.com [209.85.213.182])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id B21E827D6C
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 18:12:45 +0000 (UTC)
Received: by igbqq3 with SMTP id qq3so120540599igb.0
        for <dev@httpd.apache.org>; Wed, 24 Jun 2015 11:11:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Q8/gLt70yg1S1zER4xfYGZFzTlZGFIuddjkKtYK+Pq0=;
        b=h+M7OhJyi5TJUC6i+QSMDZ3QTcJC+ROUbVMKFTy6rpDmlDZNXFs8+keMlzk84ndMQj
         Jog28w90ZR8qkBKUuPrhccV0XxmKE80m40e94FQFZ61q+8w9AHWPvQyYKEluSmPD/kQv
         Uw0U3wN/Hsz4LJgXtN/4Dklyo/pv8W/y6QloT3g9CXEhqd+ItBehk2dKFpwuMnYjKi3D
         JrzVVw5MCf/xXm9/QYCZ3HVxTBbeO8Pur4TUbMQQDpMgoEH86Ow+FEl+TRkGSUfHa9vm
         Dn+J1dj35qLnKtPY/MU+OkmtMnyYmWtJuun2M7br7Uln3VW7iKR+fOXYE/MJj04PukcU
         ge2Q==
MIME-Version: 1.0
X-Received: by 10.50.66.234 with SMTP id i10mr4832757igt.46.1435169519747;
 Wed, 24 Jun 2015 11:11:59 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Wed, 24 Jun 2015 11:11:59 -0700 (PDT)
In-Reply-To: <CACsi250y58xVyveE+J808=EqPF2cpCs5Z-0aJHjQ63f_WE=6YQ@mail.gmail.com>
References: <CACsi251-+6G3SNLPyEx9gfd0smvy2rx=pi5USXD5ESJWH6ihng@mail.gmail.com>
	<CACsi250y58xVyveE+J808=EqPF2cpCs5Z-0aJHjQ63f_WE=6YQ@mail.gmail.com>
Date: Wed, 24 Jun 2015 20:11:59 +0200
Message-ID: <CAKQ1sVNU-O3TvrfH8Q33HP+gpXHADuyr_U2QZgLebFJ+ROwtrA@mail.gmail.com>
Subject: Re: Last call... STATUS needing one sec fix vote [was Re: Roll 2.2.30]
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Wed, Jun 24, 2015 at 6:04 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
>
>   *) SECURITY: CVE-2015-3183 (cve.mitre.org)
>      core: Fix chunk header parsing defect.
>      Remove apr_brigade_flatten(), buffering and duplicated code from
>      the HTTP_IN filter, parse chunks in a single pass with zero copy.
>      Limit accepted chunk-size to 2^63-1 and be strict about chunk-ext
>      authorized characters.  [Graham Leggett, Yann Ylavic]
>
>   *) core: Allow spaces after chunk-size for compatibility with implementations

Both backported in r1687338 and r1687339.

From dev-return-83160-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 20:04:40 2015
Return-Path: <dev-return-83160-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A2D7218C50
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 20:04:40 +0000 (UTC)
Received: (qmail 37427 invoked by uid 500); 24 Jun 2015 20:04:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 37352 invoked by uid 500); 24 Jun 2015 20:04:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 37342 invoked by uid 99); 24 Jun 2015 20:04:40 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 20:04:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id AD7E418195D
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 20:04:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.68
X-Spam-Level:
X-Spam-Status: No, score=0.68 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 4a8L4McgPamc for <dev@httpd.apache.org>;
	Wed, 24 Jun 2015 20:04:33 +0000 (UTC)
Received: from mail-yk0-f170.google.com (mail-yk0-f170.google.com [209.85.160.170])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id CD5CA24B1A
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 20:04:32 +0000 (UTC)
Received: by ykdy1 with SMTP id y1so29852481ykd.2
        for <dev@httpd.apache.org>; Wed, 24 Jun 2015 13:03:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=iouYUjlpzDjYJ6aqPgx9wCbK/du5nzW0ZFgS6AF1iz8=;
        b=wC3MplC4WSLjsgWpI7STQ9iUq+ExMk4X6S+AwjeYbgTWrYLEgTChPvdXAeLRywQfkG
         mD+m1e3TmgpX4tVHEKEbpnBBqnhFK44lv24YjZgJ3644AGJK2hN7eLNdBi7ZuIRyneS9
         DyNjvb6A+fEKlc6arfR5BOWrMMbXD+Ee5S8IUMGGekCM7xfhX89RF3rObNkPkmk5/Sqw
         KVrOSd4MdpHXZeugPWgofmt6rrhEFPQZRJpoIc+U5zzdQvhEyxkxUgAdtIb0NcewsNbf
         r3q0zMR6hNZD64HGXbMfeXoYu3COioNLBUi1YmTmWMlcvqkcxIAP4r/3GHt/4POKqdai
         5XNw==
MIME-Version: 1.0
X-Received: by 10.170.205.212 with SMTP id w203mr24258974yke.55.1435176226867;
 Wed, 24 Jun 2015 13:03:46 -0700 (PDT)
Received: by 10.37.83.130 with HTTP; Wed, 24 Jun 2015 13:03:46 -0700 (PDT)
In-Reply-To: <20150611142221.DBA59AC00B4@hades.apache.org>
References: <20150611142221.DBA59AC00B4@hades.apache.org>
Date: Wed, 24 Jun 2015 16:03:46 -0400
Message-ID: <CALK=YjMUZtPjFUHa+RN0qocqYEEpHdP8xuEesnC4d+yz8t5BCw@mail.gmail.com>
Subject: Re: svn commit: r1684900 - in /httpd/httpd/trunk: CHANGES modules/filters/mod_substitute.c
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

For 2.4, do we need some kind of global property for people who were
already working around the merge?

On Thu, Jun 11, 2015 at 10:22 AM,  <niq@apache.org> wrote:
> Author: niq
> Date: Thu Jun 11 14:22:21 2015
> New Revision: 1684900
>
> URL: http://svn.apache.org/r1684900
> Log:
> mod_substitute: Fix configuraton merge order.
> PR 57641 [Marc.Stern]
>
> Modified:
>     httpd/httpd/trunk/CHANGES
>     httpd/httpd/trunk/modules/filters/mod_substitute.c
>
> Modified: httpd/httpd/trunk/CHANGES
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/CHANGES?rev=1684900&r1=1684899&r2=1684900&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/CHANGES [utf-8] (original)
> +++ httpd/httpd/trunk/CHANGES [utf-8] Thu Jun 11 14:22:21 2015
> @@ -1,6 +1,9 @@
>                                                           -*- coding: utf-8 -*-
>  Changes with Apache 2.5.0
>
> +  *) mod_substitute: Fix configuraton merge order.
> +     PR 57641 [<Marc.Stern approach.be>]
> +
>    *) core: Limit accepted chunk-size to 2^63-1 and be strict about chunk-ext
>       authorized characters.  [Yann Ylavic]
>
>
> Modified: httpd/httpd/trunk/modules/filters/mod_substitute.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/filters/mod_substitute.c?rev=1684900&r1=1684899&r2=1684900&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/filters/mod_substitute.c (original)
> +++ httpd/httpd/trunk/modules/filters/mod_substitute.c Thu Jun 11 14:22:21 2015
> @@ -84,8 +84,8 @@ static void *merge_substitute_dcfg(apr_p
>      subst_dir_conf *base = (subst_dir_conf *) basev;
>      subst_dir_conf *over = (subst_dir_conf *) overv;
>
> -    a->patterns = apr_array_append(p, over->patterns,
> -                                                  base->patterns);
> +    a->patterns = apr_array_append(p, base->patterns,
> +                                                  over->patterns);
>      a->max_line_length = over->max_line_length_set ?
>                           over->max_line_length : base->max_line_length;
>      a->max_line_length_set = over->max_line_length_set ?
>
>



-- 
Eric Covener
covener@gmail.com

From dev-return-83161-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 20:13:00 2015
Return-Path: <dev-return-83161-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6E5D618C9D
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 20:13:00 +0000 (UTC)
Received: (qmail 59513 invoked by uid 500); 24 Jun 2015 20:12:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59453 invoked by uid 500); 24 Jun 2015 20:12:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59443 invoked by uid 99); 24 Jun 2015 20:12:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 20:12:59 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.43] (HELO resqmta-ch2-11v.sys.comcast.net) (69.252.207.43)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 20:10:43 +0000
Received: from resomta-ch2-04v.sys.comcast.net ([69.252.207.100])
	by resqmta-ch2-11v.sys.comcast.net with comcast
	id kLAp1q0042AWL2D01LCATU; Wed, 24 Jun 2015 20:12:10 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-04v.sys.comcast.net with comcast
	id kLC91q00Q2U0RYt01LCAZs; Wed, 24 Jun 2015 20:12:10 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: Proxy balancer providers and aging
Message-Id: <EC9DA55A-B29E-4965-A8E3-C84170F7A6AC@jaguNET.com>
Date: Wed, 24 Jun 2015 16:12:09 -0400
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1435176730;
	bh=K9fe0zNPX7cufan+wCDgqBRR0OWeLU3UxfkgbWza3es=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=OZkBEhud87BNk5hqx1yNfJR45LucoDGOJgo3/kd/jea7ESZyJq4qc7vaRrIntSP3q
	 sT+geXef48EYGzq49y4XN2oSlOS/XhTdjOxDgbrTud6LykgzrxZXRp/QYMFguHN7zR
	 ujHeVmj96KYasRJlYXWmz1RstoKOlrLME3IIoKyUtpqx8kJYYVqnMh/alh9X64+DWf
	 ItgxZuQqzyKzHqIPXMtGNlvyrZGqv91PeecAlwrzIubKopfp84B7Jq4Z+Bm1V9tMgV
	 QjeDyATEPocDOcy5hkO/6Ji9RCtCRuVpMYYUr+vdFays2hr6KPHpU/+F6k0kWm9czi
	 Gnu9PSOFDouQA==
X-Virus-Checked: Checked by ClamAV on apache.org

All LBmethods have an "age" function which is designed to appropriately
"age" the data so that things even out after awhile. Of course, right
now, none actually *uses* that.

But I think the reason is because there is no real good way,
currently, in mod_proxy to do that...

Well, in the LBmethod I was hacking away on, it really DOES need
its age function, and currently it's doing so via mod_watchdog.
But the more I think of it, ideally, mod_proxy *itself* should
create the watchdog thread and just handle the age itself, rather
than having a LBmethod provider having to be responsible for
creating that (it also kind of destroys the abstraction that pure
providers should have, imo)...

Anyway... anyone opposed to me adding this to mod_proxy in
trunk with hope towards it backporting to 2.4? It does mean
that mod_proxy will now have a dependency on mod_watchdog.

From dev-return-83162-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 21:05:32 2015
Return-Path: <dev-return-83162-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F308818F80
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 21:05:31 +0000 (UTC)
Received: (qmail 8546 invoked by uid 500); 24 Jun 2015 21:05:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 8463 invoked by uid 500); 24 Jun 2015 21:05:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 8452 invoked by uid 99); 24 Jun 2015 21:05:31 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 21:05:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id EC849CFFAF
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 21:05:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.68
X-Spam-Level: *
X-Spam-Status: No, score=1.68 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	FREEMAIL_REPLY=1, KAM_ASCII_DIVIDERS=0.8, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 6k2D6Odsrihr for <dev@httpd.apache.org>;
	Wed, 24 Jun 2015 21:05:25 +0000 (UTC)
Received: from mail-ig0-f177.google.com (mail-ig0-f177.google.com [209.85.213.177])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 945A8249C8
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 21:05:24 +0000 (UTC)
Received: by igblr2 with SMTP id lr2so84172731igb.0
        for <dev@httpd.apache.org>; Wed, 24 Jun 2015 14:04:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=js9ovz2pq7Uy9ibeisdaL85FZbW5iAhW0YzejbXazxs=;
        b=WJyk5u6yxmBwgL0ovkAXPSmlXzEv0oqVhfdEIik8QitnRQEVkCdFY8hVjwbmTFSeX9
         FfzIB/Ukj3PhwPJN+TJLpa33TXe7OzfmAyOGc0aoDMRG8dHLjd2pLeA3VIfP5ryGEVTE
         rgQY+nIScm3HatAY65KR8i2/p6zAwbA2rYL9B3H7vAhakbcYm9tEylp/lpd055BOMg8r
         AXWViNI0a5h1bR9xisFN9FHVk2dgxd1ulcqLZ1iCBCQO5xpLM1+uu30v23GWIg8T79eI
         y2UXyIdy1Tm3ukTds8uNXdNjJ+ohJ13eNFBuL5UrozZTmkpPVPSJvFst4QrzjKPDayfM
         Ix1w==
MIME-Version: 1.0
X-Received: by 10.50.66.234 with SMTP id i10mr5759707igt.46.1435179878583;
 Wed, 24 Jun 2015 14:04:38 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Wed, 24 Jun 2015 14:04:38 -0700 (PDT)
In-Reply-To: <CALK=YjMUZtPjFUHa+RN0qocqYEEpHdP8xuEesnC4d+yz8t5BCw@mail.gmail.com>
References: <20150611142221.DBA59AC00B4@hades.apache.org>
	<CALK=YjMUZtPjFUHa+RN0qocqYEEpHdP8xuEesnC4d+yz8t5BCw@mail.gmail.com>
Date: Wed, 24 Jun 2015 23:04:38 +0200
Message-ID: <CAKQ1sVMrcquAR6-HuoSdHNJy4MPVwMySjvXACAebqg0DV-DSKA@mail.gmail.com>
Subject: Re: svn commit: r1684900 - in /httpd/httpd/trunk: CHANGES modules/filters/mod_substitute.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

I think we need that yes (backport probably proposed the too early).
Would something like SubstituteBaseFirst (server scope), on by default
on 2.4.x and off on trunk, be OK?
Maybe a better name?

On Wed, Jun 24, 2015 at 10:03 PM, Eric Covener <covener@gmail.com> wrote:
> For 2.4, do we need some kind of global property for people who were
> already working around the merge?
>
> On Thu, Jun 11, 2015 at 10:22 AM,  <niq@apache.org> wrote:
>> Author: niq
>> Date: Thu Jun 11 14:22:21 2015
>> New Revision: 1684900
>>
>> URL: http://svn.apache.org/r1684900
>> Log:
>> mod_substitute: Fix configuraton merge order.
>> PR 57641 [Marc.Stern]
>>
>> Modified:
>>     httpd/httpd/trunk/CHANGES
>>     httpd/httpd/trunk/modules/filters/mod_substitute.c
>>
>> Modified: httpd/httpd/trunk/CHANGES
>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/CHANGES?rev=1684900&r1=1684899&r2=1684900&view=diff
>> ==============================================================================
>> --- httpd/httpd/trunk/CHANGES [utf-8] (original)
>> +++ httpd/httpd/trunk/CHANGES [utf-8] Thu Jun 11 14:22:21 2015
>> @@ -1,6 +1,9 @@
>>                                                           -*- coding: utf-8 -*-
>>  Changes with Apache 2.5.0
>>
>> +  *) mod_substitute: Fix configuraton merge order.
>> +     PR 57641 [<Marc.Stern approach.be>]
>> +
>>    *) core: Limit accepted chunk-size to 2^63-1 and be strict about chunk-ext
>>       authorized characters.  [Yann Ylavic]
>>
>>
>> Modified: httpd/httpd/trunk/modules/filters/mod_substitute.c
>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/filters/mod_substitute.c?rev=1684900&r1=1684899&r2=1684900&view=diff
>> ==============================================================================
>> --- httpd/httpd/trunk/modules/filters/mod_substitute.c (original)
>> +++ httpd/httpd/trunk/modules/filters/mod_substitute.c Thu Jun 11 14:22:21 2015
>> @@ -84,8 +84,8 @@ static void *merge_substitute_dcfg(apr_p
>>      subst_dir_conf *base = (subst_dir_conf *) basev;
>>      subst_dir_conf *over = (subst_dir_conf *) overv;
>>
>> -    a->patterns = apr_array_append(p, over->patterns,
>> -                                                  base->patterns);
>> +    a->patterns = apr_array_append(p, base->patterns,
>> +                                                  over->patterns);
>>      a->max_line_length = over->max_line_length_set ?
>>                           over->max_line_length : base->max_line_length;
>>      a->max_line_length_set = over->max_line_length_set ?
>>
>>
>
>
>
> --
> Eric Covener
> covener@gmail.com

From dev-return-83163-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 21:10:04 2015
Return-Path: <dev-return-83163-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8C98818FBB
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 21:10:04 +0000 (UTC)
Received: (qmail 16084 invoked by uid 500); 24 Jun 2015 21:10:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16004 invoked by uid 500); 24 Jun 2015 21:10:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15990 invoked by uid 99); 24 Jun 2015 21:10:03 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 21:10:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 1B5AACFFB4
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 21:10:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id iPJQMp8Yng_0 for <dev@httpd.apache.org>;
	Wed, 24 Jun 2015 21:10:02 +0000 (UTC)
Received: from mail-yh0-f50.google.com (mail-yh0-f50.google.com [209.85.213.50])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id B9AA42541E
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 21:10:01 +0000 (UTC)
Received: by yhnv31 with SMTP id v31so21818117yhn.1
        for <dev@httpd.apache.org>; Wed, 24 Jun 2015 14:09:55 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=0mL879LJ9rujwMQ6w7oBm3zJPAd3PFIm1Y9QwoN04VE=;
        b=HBHFi85kujotJc2BVePmL4ia9IVxneN2eO9z8F7oCOKQo3bKzlLSHXKSGQ9SzP7CEA
         nMOQXEKlPj78WA2w2wCaB8tdM43fh0MNQ5EIvnO6vXdPdWRNQvgvMs+2vnmgrS6bD0cs
         74K1rt38HQlgZYVgJToXIWaujvVXhK4zPyfnvxpP4qziPeWaMPdV0FS6IESIcRR12qmJ
         TjwKLOraLO18E4vMPVbf5tfdHAX8j+u/+99EbuQFWVUGoXIXOZLyVy9iRhBoQelBjI86
         yUu+o4fOHY6nZiq7J+Rhh2XfadG4VT/KTBeuyKTM+vlbbcDtPFj1nyNjLEmLj42yR78y
         AOGw==
MIME-Version: 1.0
X-Received: by 10.170.205.212 with SMTP id w203mr24569091yke.55.1435180194954;
 Wed, 24 Jun 2015 14:09:54 -0700 (PDT)
Received: by 10.37.83.130 with HTTP; Wed, 24 Jun 2015 14:09:54 -0700 (PDT)
In-Reply-To: <CAKQ1sVMrcquAR6-HuoSdHNJy4MPVwMySjvXACAebqg0DV-DSKA@mail.gmail.com>
References: <20150611142221.DBA59AC00B4@hades.apache.org>
	<CALK=YjMUZtPjFUHa+RN0qocqYEEpHdP8xuEesnC4d+yz8t5BCw@mail.gmail.com>
	<CAKQ1sVMrcquAR6-HuoSdHNJy4MPVwMySjvXACAebqg0DV-DSKA@mail.gmail.com>
Date: Wed, 24 Jun 2015 17:09:54 -0400
Message-ID: <CALK=YjM=VDU91ozbjZNoMT8TpE9phFPSmff2RR-fiitWDvm4kg@mail.gmail.com>
Subject: Re: svn commit: r1684900 - in /httpd/httpd/trunk: CHANGES modules/filters/mod_substitute.c
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Jun 24, 2015 at 5:04 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> I think we need that yes (backport probably proposed the too early).
> Would something like SubstituteBaseFirst (server scope), on by default
> on 2.4.x and off on trunk, be OK?

I'm not sure about the default, I think changed behavior might be okay
in this case as long as they can opt out if they need to.  Could be
swayed though.

> Maybe a better name?

Can't say better -- but some other option:

SubstituteMergeCompat
SubstituteInheritCompat
SubstituteInheritBefore

From dev-return-83164-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Jun 24 22:18:09 2015
Return-Path: <dev-return-83164-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 798421754D
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 24 Jun 2015 22:18:09 +0000 (UTC)
Received: (qmail 97970 invoked by uid 500); 24 Jun 2015 22:18:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97901 invoked by uid 500); 24 Jun 2015 22:18:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97892 invoked by uid 99); 24 Jun 2015 22:18:08 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 24 Jun 2015 22:18:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 6953918195D
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 22:18:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.363
X-Spam-Level: *
X-Spam-Status: No, score=1.363 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RDNS_DYNAMIC=0.363]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id PAKVF9cQWIdn for <dev@httpd.apache.org>;
	Wed, 24 Jun 2015 22:18:07 +0000 (UTC)
Received: from gungnir.webthing.com (209-20-83-52.slicehost.net [209.20.83.52])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id A1116275F7
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 22:18:07 +0000 (UTC)
Received: from [192.168.0.127] (cpc14-newt30-2-0-cust22.newt.cable.virginm.net [92.232.45.23])
	by gungnir.webthing.com (Postfix) with ESMTPSA id 54841801F7
	for <dev@httpd.apache.org>; Wed, 24 Jun 2015 22:18:00 +0000 (UTC)
Message-ID: <1435184278.8964.9.camel@mimir.webthing.com>
Subject: Re: svn commit: r1684900 - in /httpd/httpd/trunk: CHANGES
 modules/filters/mod_substitute.c
From: Nick Kew <niq@apache.org>
To: dev@httpd.apache.org
Date: Wed, 24 Jun 2015 23:17:58 +0100
In-Reply-To: <CALK=YjMUZtPjFUHa+RN0qocqYEEpHdP8xuEesnC4d+yz8t5BCw@mail.gmail.com>
References: <20150611142221.DBA59AC00B4@hades.apache.org>
	 <CALK=YjMUZtPjFUHa+RN0qocqYEEpHdP8xuEesnC4d+yz8t5BCw@mail.gmail.com>
Content-Type: text/plain; charset="UTF-8"
X-Mailer: Evolution 3.4.4-3 
Mime-Version: 1.0
Content-Transfer-Encoding: 7bit

On Wed, 2015-06-24 at 16:03 -0400, Eric Covener wrote:
> For 2.4, do we need some kind of global property for people who were
> already working around the merge?

My commit was to trunk (after someone prodded us on-list).
For 2.4 we should not change existing behaviour. At least,
not as a default.

New directive as per Yann's suggestion?  Maybe, but perhaps OTT.
If so, it would be good to make it 2.4-only and keep trunk pure.
And add it to upgrade notes!

-- 
Nick Kew


From dev-return-83165-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 25 14:30:47 2015
Return-Path: <dev-return-83165-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9812D18483
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 25 Jun 2015 14:30:47 +0000 (UTC)
Received: (qmail 30485 invoked by uid 500); 25 Jun 2015 14:30:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 30414 invoked by uid 500); 25 Jun 2015 14:30:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 30403 invoked by uid 99); 25 Jun 2015 14:30:47 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Jun 2015 14:30:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 97A89181B6C
	for <dev@httpd.apache.org>; Thu, 25 Jun 2015 14:30:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.011
X-Spam-Level:
X-Spam-Status: No, score=-0.011 tagged_above=-999 required=6.31
	tests=[SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id JwUgf9QgzFeU for <dev@httpd.apache.org>;
	Thu, 25 Jun 2015 14:30:37 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 5B37927D80
	for <dev@httpd.apache.org>; Thu, 25 Jun 2015 14:30:37 +0000 (UTC)
Received: from int-mx09.intmail.prod.int.phx2.redhat.com (int-mx09.intmail.prod.int.phx2.redhat.com [10.5.11.22])
	by mx1.redhat.com (Postfix) with ESMTPS id D8A043173CB
	for <dev@httpd.apache.org>; Thu, 25 Jun 2015 14:30:35 +0000 (UTC)
Received: from ditustat.brq.redhat.com (ditustat.brq.redhat.com [10.34.131.181])
	by int-mx09.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t5PEUYLQ023445
	(version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Thu, 25 Jun 2015 10:30:35 -0400
Received: from adelton by ditustat.brq.redhat.com with local (Exim 4.85)
	(envelope-from <jpazdziora@redhat.com>)
	id 1Z88Aj-000725-L2
	for dev@httpd.apache.org; Thu, 25 Jun 2015 16:30:33 +0200
Date: Thu, 25 Jun 2015 16:30:33 +0200
From: Jan Pazdziora <jpazdziora@redhat.com>
To: dev@httpd.apache.org
Subject: mod_auth_fixup -- check authentication, update user's login for
 subsequent authorization
Message-ID: <20150625143033.GG3448@redhat.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Organization: Red Hat Czech s.r.o., =?iso-8859-2?Q?Purky?=
 =?iso-8859-2?Q?=F2ova_99=2F71=2C_612_45_Brno=2C_Czech_Republic=3B_registe?=
 =?iso-8859-2?Q?red?= in Brno under identification number CZ27690016
User-Agent: Mutt/1.5.23 (2014-03-12)
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.22


Hello,

I'd like to ask for feedback about module that I called mod_auth_fixup.
It is available at

	https://fedorapeople.org/cgit/adelton/public_git/mod_auth_fixup.git/

and I'd like to know if the Apache HTTP Server team would find
it useful for inclusion in httpd's distribution, and if not, whether
in general people find it as good idea, to be able to post-process
results of (for example) mod_ssl authenticaion, when the user
identifier that you might get is not directly usable for subsequent
authorization operations.

In the future I plan to add a way to retrieve the username from
external identity sources, for example via SSSD as Apache's
counterpart of new feature

	https://fedorahosted.org/sssd/ticket/2596

Thank you.

The README of the module:

Apache module mod_auth_fixup
============================

Apache module mod_auth_fixup uses results of previous authentication
and other phases and checks that user was authenticated, optionally
updating the user identifier with a substring based on regular
expression match.

Possible use is processing result of mod_ssl's operation on Apache 2.2.
Module mod_ssl has SSLVerifyClient require mechanism which sets the
user identifier and it is not proper authentication module to the rest
of Apache HTTP Server internals. That makes it hard to combine
mod_ssl with authorization modules to check additional attributes
of the authenticated user.

Module configuration
--------------------

Let us assume we have mod_ssl configured with client authentication:

    <Location /login>
	SSLVerifyClient require
	SSLVerifyDepth 1
	SSLOptions +StrictRequire
	SSLUserName SSL_CLIENT_S_DN_CN
    </Location>

The access will only be allowed if the client certificate can be
verified by mod_ssl, and the authenticated user identifier will be
the content of client's Subject DN's common name. In access log
we will see the CN value as the user identifier.

Often, there are two issues with that situation:

1) On Apache 2.2, when we try to use the result of such authentication
   for example with Require, like

	Require group admins

   or even plain

	Require valid-user

   we will get an error:

	configuration error:  couldn't perform authentication.
	AuthType not set!

   It's because mod_ssl does not run the standard authentication
   handler.

   By adding

	AuthType Fixup

   to the configuration, mod_auth_fixup takes the role of the
   authentication handler, even if it does not do anything else than
   checking that the result of the mod_ssl operation, the user
   identifier it has left in the internal r->user, set.

   Of course, any other module could have set the user identification,
   not just mod_ssl, and mod_auth_fixup would process it just fine.

2) The Common Name field of the Subject DN is often filled with
   structured information, and for the subsequent authorization phase,
   only a substring of that might be the actual user identification
   in the identity management setup used.

   For that, AuthFixupRegexp directive can specify regular expression
   to match the user identifier against, and substitution string. When
   the user identifier matches, it is the updated with the new value,
   and this new value will be then shown in the access log and
   available to later authorization phases. So for example,

	AuthFixupRegexp userid=(.+?); user$1

   will make sure the user identifier contains substring

	userid=<the-identifier>;

   and the nonempty string between userid= and the first semicolon
   will replace the $1 part in the substitution string. Note that
   the first part of the requirement matched by the above
   AuthFixupRegexp example could be handled by

	SSLRequire %{SSL_CLIENT_S_DN_CN} =~ m/userid=.+?;/

   But there is no way to extract the identifier with SSLRequire (and
   to add Require to it in Apache 2.2).

   When AuthFixupRegexp is not specified, it is effectively equivalent
   to

	AuthFixupRegexp .+ $0

The full example configuration might then be:

    <Location /login>
	SSLVerifyClient require
	SSLVerifyDepth 1
	SSLOptions +StrictRequire
	SSLUserName SSL_CLIENT_S_DN_CN

	AuthType Fixup
	AuthFixupRegexp userid=(.+?); user$1
	Require group admins
    </Location>

-- 
Jan Pazdziora
Senior Principal Software Engineer, Identity Management Engineering, Red Hat

From dev-return-83166-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 25 14:55:29 2015
Return-Path: <dev-return-83166-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7EBC4185D5
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 25 Jun 2015 14:55:29 +0000 (UTC)
Received: (qmail 18947 invoked by uid 500); 25 Jun 2015 14:55:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18883 invoked by uid 500); 25 Jun 2015 14:55:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18870 invoked by uid 99); 25 Jun 2015 14:55:29 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Jun 2015 14:55:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 9701D1A605A
	for <dev@httpd.apache.org>; Thu, 25 Jun 2015 14:55:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id bNEHVmjjJugl for <dev@httpd.apache.org>;
	Thu, 25 Jun 2015 14:55:28 +0000 (UTC)
Received: from mail-ig0-f182.google.com (mail-ig0-f182.google.com [209.85.213.182])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id D61D743DA9
	for <dev@httpd.apache.org>; Thu, 25 Jun 2015 14:55:27 +0000 (UTC)
Received: by igblr2 with SMTP id lr2so98787439igb.0
        for <dev@httpd.apache.org>; Thu, 25 Jun 2015 07:55:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=YZjo1nXtroV0N+vZ3Nl2b/yko78V3mQWJoRMKG5GuAc=;
        b=E1bWRHp/yEo50osZLbX3Ukm5/hssDnNiTbRez8ODZuQ1XOBVCRjyXONZVQ11/OF4r4
         Mqh81F8opV31kKGQKU9FfB6HVx0kB4kESBplIUm1bDruUwoZpWeuFXFRWJtxoXxv1Z6K
         kHdqlnJ3Z2s/vsjSBo6cF41Erw+pRAurCljb/L5Q8uq/LL7fkRvhtMQGlaTyw+gkLmA0
         1W5kqy5nTFHs3iWCpfsb0BRnERPppSjsgyBgioMWxOG0A5Wrdo34HYXE+Pdpzky6AOGx
         bPb9tsZb4HMX0+MShxleLFbPtVf0Jrf4NYs2bePE6t2SYQdKf5KutfvepWEeZ/7NE6w0
         R6pg==
MIME-Version: 1.0
X-Received: by 10.50.79.230 with SMTP id m6mr4541213igx.46.1435244121598; Thu,
 25 Jun 2015 07:55:21 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Thu, 25 Jun 2015 07:55:21 -0700 (PDT)
In-Reply-To: <CALK=YjM=VDU91ozbjZNoMT8TpE9phFPSmff2RR-fiitWDvm4kg@mail.gmail.com>
References: <20150611142221.DBA59AC00B4@hades.apache.org>
	<CALK=YjMUZtPjFUHa+RN0qocqYEEpHdP8xuEesnC4d+yz8t5BCw@mail.gmail.com>
	<CAKQ1sVMrcquAR6-HuoSdHNJy4MPVwMySjvXACAebqg0DV-DSKA@mail.gmail.com>
	<CALK=YjM=VDU91ozbjZNoMT8TpE9phFPSmff2RR-fiitWDvm4kg@mail.gmail.com>
Date: Thu, 25 Jun 2015 16:55:21 +0200
Message-ID: <CAKQ1sVOGh=9vDf4zx1axu4Hy+sDUozHdUbsM4kLJFm9ibGWiCQ@mail.gmail.com>
Subject: Re: svn commit: r1684900 - in /httpd/httpd/trunk: CHANGES modules/filters/mod_substitute.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Wed, Jun 24, 2015 at 11:09 PM, Eric Covener <covener@gmail.com> wrote:
> SubstituteInheritBefore

I chose this one, was the easiest for me to write its doc.
Committed in r1687539.

From dev-return-83167-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 25 21:02:10 2015
Return-Path: <dev-return-83167-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 696FE18AAB
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 25 Jun 2015 21:02:10 +0000 (UTC)
Received: (qmail 12725 invoked by uid 500); 25 Jun 2015 21:02:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12654 invoked by uid 500); 25 Jun 2015 21:02:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12644 invoked by uid 99); 25 Jun 2015 21:02:09 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Jun 2015 21:02:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 8EAF81A6102
	for <dev@httpd.apache.org>; Thu, 25 Jun 2015 21:02:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id GqgOwbdCJnbD for <dev@httpd.apache.org>;
	Thu, 25 Jun 2015 21:02:08 +0000 (UTC)
Received: from mail-ig0-f174.google.com (mail-ig0-f174.google.com [209.85.213.174])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 658B728019
	for <dev@httpd.apache.org>; Thu, 25 Jun 2015 21:02:07 +0000 (UTC)
Received: by igbqq3 with SMTP id qq3so24242547igb.0
        for <dev@httpd.apache.org>; Thu, 25 Jun 2015 14:02:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=i1yxbJx5QrsNMdC7unhhmoqU+tNkkJqw+QYSb/hsSJ0=;
        b=b08wSXS9ksjEvE2G1XoGYQ7TP9Oc85QbDK5B9NCY7EDttxJX/BMvSmLhJeWp+dBHyP
         HPsm7KMDDseM+anwfNQ1MtKT8AE3YPHHin3lQkznEb/R8UfQqdewL8qeTWYEQ3EDuaHM
         OeKgtB31lWqzdSB/+SokFaLWzsWv9HdX6gcUvr6F+xVP6rb4QSSi5HNjwn6a3gZdMJ+E
         N41K9kJRFXLTSyNMco6HQBZYbEzZFBLnUgxqtFrRQaVNzBWyd76XE4s7MOQA3oYQjKGB
         wgGZMhV85Bira0QW+SxIQ92FnzbDrWkedxEYvxR6wIs0bLBH/2PJJfBddCWzV0WHI+rj
         Gphg==
MIME-Version: 1.0
X-Received: by 10.43.162.136 with SMTP id mk8mr44770391icc.28.1435266126242;
 Thu, 25 Jun 2015 14:02:06 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Thu, 25 Jun 2015 14:02:06 -0700 (PDT)
In-Reply-To: <20150625204442.AE629AC08F4@hades.apache.org>
References: <20150625204442.AE629AC08F4@hades.apache.org>
Date: Thu, 25 Jun 2015 23:02:06 +0200
Message-ID: <CAKQ1sVN4fhekfhRLXq_MAuUnhFhPg9uBtDBoCmgH9z_HW=4faA@mail.gmail.com>
Subject: Re: svn commit: r1687642 - /httpd/httpd/trunk/server/protocol.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

IMHO, the core_input_filter() should not return APR_SUCCESS with an
empty brigade when the underlying socket is EOF, APR_EOF would be more
appropriate.

On Thu, Jun 25, 2015 at 10:44 PM,  <covener@apache.org> wrote:
> Author: covener
> Date: Thu Jun 25 20:44:42 2015
> New Revision: 1687642
>
> URL: http://svn.apache.org/r1687642
> Log:
> elaborate on a misleading comment
>
>
> Modified:
>     httpd/httpd/trunk/server/protocol.c
>
> Modified: httpd/httpd/trunk/server/protocol.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/server/protocol.c?rev=1687642&r1=1687641&r2=1687642&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/server/protocol.c (original)
> +++ httpd/httpd/trunk/server/protocol.c Thu Jun 25 20:44:42 2015
> @@ -236,7 +236,9 @@ AP_DECLARE(apr_status_t) ap_rgetline_cor
>              return rv;
>          }
>
> -        /* Something horribly wrong happened.  Someone didn't block! */
> +        /* Something horribly wrong happened.  Someone didn't block!
> +         * (this also happens at the end of each kept-alive connection)
> +         */
>          if (APR_BRIGADE_EMPTY(bb)) {
>              return APR_EGENERAL;
>          }
>
>

From dev-return-83168-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Jun 25 21:10:29 2015
Return-Path: <dev-return-83168-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2BC9918AF0
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 25 Jun 2015 21:10:29 +0000 (UTC)
Received: (qmail 29485 invoked by uid 500); 25 Jun 2015 21:10:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29417 invoked by uid 500); 25 Jun 2015 21:10:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29407 invoked by uid 99); 25 Jun 2015 21:10:28 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 25 Jun 2015 21:10:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 15764181B6C
	for <dev@httpd.apache.org>; Thu, 25 Jun 2015 21:10:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.209
X-Spam-Level:
X-Spam-Status: No, score=-1.209 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id xSgrZCvqqpTn for <dev@httpd.apache.org>;
	Thu, 25 Jun 2015 21:10:26 +0000 (UTC)
Received: from mail-ie0-f169.google.com (mail-ie0-f169.google.com [209.85.223.169])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 3F82E205F2
	for <dev@httpd.apache.org>; Thu, 25 Jun 2015 21:10:26 +0000 (UTC)
Received: by ieqy10 with SMTP id y10so63368686ieq.0
        for <dev@httpd.apache.org>; Thu, 25 Jun 2015 14:10:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=1F5IPQczIEjK3RfyzoG9iN2p5FkVJrnCxyTbkcQCCpc=;
        b=t1tOsAqLMDw3a3menJg9Cs3v4TXd+OfvRoCP6ETz+j0iriaukPo72nX/unHSlICAhY
         UF8j8VRREr2Yhf+26BqxBMy1zbsJ/lCt66DD9ZdNPIVw/ippoP/T8i1J9Yu3hLJ1WLwI
         5bmOrmpjKwnLIzhJz747vrnmz7bxqoq8IVBrM/qhbYOpTT2CTqu3eDjN0XL9Qutk18//
         3UA7ylpdfxRTEk+69fB/Pqs/shDkZXfV5xTDP+GEfRPAzeYiE9KUTBIOhiGaJ1J6bgP9
         eh55iHgYg0rXy3Bh/emcy3x3eRW4XAsmfxYwGz4jnX6jA/MEIvSDKDtR6k5+x4P2uqGG
         /ChQ==
MIME-Version: 1.0
X-Received: by 10.107.159.66 with SMTP id i63mr17147455ioe.68.1435266625788;
 Thu, 25 Jun 2015 14:10:25 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Thu, 25 Jun 2015 14:10:25 -0700 (PDT)
In-Reply-To: <CAKQ1sVN4fhekfhRLXq_MAuUnhFhPg9uBtDBoCmgH9z_HW=4faA@mail.gmail.com>
References: <20150625204442.AE629AC08F4@hades.apache.org>
	<CAKQ1sVN4fhekfhRLXq_MAuUnhFhPg9uBtDBoCmgH9z_HW=4faA@mail.gmail.com>
Date: Thu, 25 Jun 2015 23:10:25 +0200
Message-ID: <CAKQ1sVNy=8OCJdDH36qtPQb92R-b-RcgGz4L_xNcG5n+U3GMCQ@mail.gmail.com>
Subject: Re: svn commit: r1687642 - /httpd/httpd/trunk/server/protocol.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

To be more clear, that's only true for GETLINE or when NONBLOCK_READ
is used, not for READBYTES.

On Thu, Jun 25, 2015 at 11:02 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> IMHO, the core_input_filter() should not return APR_SUCCESS with an
> empty brigade when the underlying socket is EOF, APR_EOF would be more
> appropriate.
>
> On Thu, Jun 25, 2015 at 10:44 PM,  <covener@apache.org> wrote:
>> Author: covener
>> Date: Thu Jun 25 20:44:42 2015
>> New Revision: 1687642
>>
>> URL: http://svn.apache.org/r1687642
>> Log:
>> elaborate on a misleading comment
>>
>>
>> Modified:
>>     httpd/httpd/trunk/server/protocol.c
>>
>> Modified: httpd/httpd/trunk/server/protocol.c
>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/server/protocol.c?rev=1687642&r1=1687641&r2=1687642&view=diff
>> ==============================================================================
>> --- httpd/httpd/trunk/server/protocol.c (original)
>> +++ httpd/httpd/trunk/server/protocol.c Thu Jun 25 20:44:42 2015
>> @@ -236,7 +236,9 @@ AP_DECLARE(apr_status_t) ap_rgetline_cor
>>              return rv;
>>          }
>>
>> -        /* Something horribly wrong happened.  Someone didn't block! */
>> +        /* Something horribly wrong happened.  Someone didn't block!
>> +         * (this also happens at the end of each kept-alive connection)
>> +         */
>>          if (APR_BRIGADE_EMPTY(bb)) {
>>              return APR_EGENERAL;
>>          }
>>
>>

From dev-return-83169-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 26 00:02:18 2015
Return-Path: <dev-return-83169-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1334E18112
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Jun 2015 00:02:18 +0000 (UTC)
Received: (qmail 96047 invoked by uid 500); 26 Jun 2015 00:02:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 95980 invoked by uid 500); 26 Jun 2015 00:02:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 95970 invoked by uid 99); 26 Jun 2015 00:02:17 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Jun 2015 00:02:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 8BFD6181B6C
	for <dev@httpd.apache.org>; Fri, 26 Jun 2015 00:02:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.979
X-Spam-Level: **
X-Spam-Status: No, score=2.979 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id BArplqeZ2ZwR for <dev@httpd.apache.org>;
	Fri, 26 Jun 2015 00:02:14 +0000 (UTC)
Received: from mail-ig0-f173.google.com (mail-ig0-f173.google.com [209.85.213.173])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 2CE9427DBC
	for <dev@httpd.apache.org>; Fri, 26 Jun 2015 00:02:14 +0000 (UTC)
Received: by igcsj18 with SMTP id sj18so20703493igc.1
        for <dev@httpd.apache.org>; Thu, 25 Jun 2015 17:01:22 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=8zX862+6+/xB2jPejEIUxZA5+eAFzYu/mHZOnkdnlGE=;
        b=e/JyzUl7/kd6KNUEIP4ByVVqdgQJe6N4lQhNtHG6CR4XQQCG8KsJ99j/umCOripR/E
         o1Nlr9OxlUz1H+nKkGaV/fQ6+0m14kTRpzN2YNIDkp4hBNShO9o2gwscwdB1tPFlMJnG
         0qVdpq/CuwA7UMT7/OC93ovDTOXMknKbWuSMcIv2OO3WokWK6EPj+K0a71wNYbco91Qe
         UEG/ZXXNq+IqX8V8jaG8qQqksK1AYEYEwn89IqpLeLO9NzEIuVcA1awvSQI8s6nDDno2
         8t50UF8v+vwpIvmTGxIrQclANUQ4PnU9w8TkST5rVSv7dM3B6iVWBMlKZDQDTi0hu6a+
         rlDw==
X-Gm-Message-State: ALoCoQnCg1mnLXxUnHpi6PzXThEHDg9i18iJiMvyAqmKXub0UFI3hH1BxtOrKPcwFNluBQc7h9B2
MIME-Version: 1.0
X-Received: by 10.50.61.234 with SMTP id t10mr7453883igr.19.1435276882405;
 Thu, 25 Jun 2015 17:01:22 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Thu, 25 Jun 2015 17:01:22 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <20150625154740.6A26CAC012B@hades.apache.org>
References: <20150625154740.6A26CAC012B@hades.apache.org>
Date: Thu, 25 Jun 2015 19:01:22 -0500
Message-ID: <CACsi251C5bntoUnA3bTVQALPq+VgsS358HZCvYRrzp1AsUwm7Q@mail.gmail.com>
Subject: Re: svn commit: r1687564 - /httpd/httpd/branches/2.4.x/STATUS
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7bdc07e2bb079105196070e0

--047d7bdc07e2bb079105196070e0
Content-Type: text/plain; charset=UTF-8

Just a quick observation on the patch, you know you can use a tristate to
avoid an int?

Simply set the value to 2 in the config-create (the enum being off=0, on=1,
unset=2), check for RHS 'unset' during the merge, and in the feature toggle
test, explicitly check test for == of the non-default value.

And a style nit, we explicitly put in the variable type for each member,
and don't carry the type from member to member in the project's
structs/enums.



On Thu, Jun 25, 2015 at 10:47 AM, <ylavic@apache.org> wrote:

> Author: ylavic
> Date: Thu Jun 25 15:47:39 2015
> New Revision: 1687564
>
> URL: http://svn.apache.org/r1687564
> Log:
> Update mod_substitute proposal with SubstituteInheritBefore.
>
> Modified:
>     httpd/httpd/branches/2.4.x/STATUS
>
> Modified: httpd/httpd/branches/2.4.x/STATUS
> URL:
> http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/STATUS?rev=1687564&r1=1687563&r2=1687564&view=diff
>
> ==============================================================================
> --- httpd/httpd/branches/2.4.x/STATUS (original)
> +++ httpd/httpd/branches/2.4.x/STATUS Thu Jun 25 15:47:39 2015
> @@ -201,10 +201,17 @@ PATCHES PROPOSED TO BACKPORT FROM TRUNK:
>               ints added at the end of core_server_config, the proposed
> merge
>               does a minor bump only.
>
> -  *) mod_substitute: Fix configuraton merge order. PR 57641
> +  *) mod_substitute: Configure patterns merge order. PR 57641
>       trunk patch: http://svn.apache.org/r1684900
> -     2.4.x patch: trunk works (modulo CHANGES)
> -     +1: ylavic, minfrin
> +                  http://svn.apache.org/r1687539
> +     2.4.x patch:
> http://people.apache.org/~ylavic/httpd-2.4.x-SubstituteInheritBefore.patch
> +     +1: ylavic
> +     ylavic: added r1687539 and discarded minfrin's vote (we must preserve
> +             the current behaviour).  SubstituteInheritBefore allows to
> +             configure the merge order; the default is Off in trunk
> (2.5+),
> +             but still On in 2.4.x thanks to the changes in the backport
> patch
> +             only (dcfg->inherit_before = 1 by default, and the doc is
> updated
> +             accordingly).
>
>    *) core: Avoid a possible truncation of the faulty header included in
> the
>       HTML response when LimitRequestFieldSize is reached.
>
>
>

--047d7bdc07e2bb079105196070e0
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Just a quick observation on the patch, you know you can us=
e a tristate to avoid an int?<div><br></div><div>Simply set the value to 2 =
in the config-create (the enum being off=3D0, on=3D1, unset=3D2), check for=
 RHS &#39;unset&#39; during the merge, and in the feature toggle test, expl=
icitly check test for =3D=3D of the non-default value.</div><div><br></div>=
<div>And a style nit, we explicitly put in the variable type for each membe=
r, and don&#39;t carry the type from member to member in the project&#39;s =
structs/enums.</div><div><br></div><div><br></div></div><div class=3D"gmail=
_extra"><br><div class=3D"gmail_quote">On Thu, Jun 25, 2015 at 10:47 AM,  <=
span dir=3D"ltr">&lt;<a href=3D"mailto:ylavic@apache.org" target=3D"_blank"=
>ylavic@apache.org</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quot=
e" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">=
Author: ylavic<br>
Date: Thu Jun 25 15:47:39 2015<br>
New Revision: 1687564<br>
<br>
URL: <a href=3D"http://svn.apache.org/r1687564" rel=3D"noreferrer" target=
=3D"_blank">http://svn.apache.org/r1687564</a><br>
Log:<br>
Update mod_substitute proposal with SubstituteInheritBefore.<br>
<br>
Modified:<br>
=C2=A0 =C2=A0 httpd/httpd/branches/2.4.x/STATUS<br>
<br>
Modified: httpd/httpd/branches/2.4.x/STATUS<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/STA=
TUS?rev=3D1687564&amp;r1=3D1687563&amp;r2=3D1687564&amp;view=3Ddiff" rel=3D=
"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc/httpd/httpd/bra=
nches/2.4.x/STATUS?rev=3D1687564&amp;r1=3D1687563&amp;r2=3D1687564&amp;view=
=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/branches/2.4.x/STATUS (original)<br>
+++ httpd/httpd/branches/2.4.x/STATUS Thu Jun 25 15:47:39 2015<br>
@@ -201,10 +201,17 @@ PATCHES PROPOSED TO BACKPORT FROM TRUNK:<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 ints added at the end of c=
ore_server_config, the proposed merge<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 does a minor bump only.<br=
>
<br>
-=C2=A0 *) mod_substitute: Fix configuraton merge order. PR 57641<br>
+=C2=A0 *) mod_substitute: Configure patterns merge order. PR 57641<br>
=C2=A0 =C2=A0 =C2=A0 trunk patch: <a href=3D"http://svn.apache.org/r1684900=
" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/r1684900</a><b=
r>
-=C2=A0 =C2=A0 =C2=A02.4.x patch: trunk works (modulo CHANGES)<br>
-=C2=A0 =C2=A0 =C2=A0+1: ylavic, minfrin<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 <a href=3D"=
http://svn.apache.org/r1687539" rel=3D"noreferrer" target=3D"_blank">http:/=
/svn.apache.org/r1687539</a><br>
+=C2=A0 =C2=A0 =C2=A02.4.x patch: <a href=3D"http://people.apache.org/~ylav=
ic/httpd-2.4.x-SubstituteInheritBefore.patch" rel=3D"noreferrer" target=3D"=
_blank">http://people.apache.org/~ylavic/httpd-2.4.x-SubstituteInheritBefor=
e.patch</a><br>
+=C2=A0 =C2=A0 =C2=A0+1: ylavic<br>
+=C2=A0 =C2=A0 =C2=A0ylavic: added r1687539 and discarded minfrin&#39;s vot=
e (we must preserve<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0the current behaviour).=C2=
=A0 SubstituteInheritBefore allows to<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0configure the merge order;=
 the default is Off in trunk (2.5+),<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0but still On in 2.4.x than=
ks to the changes in the backport patch<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0only (dcfg-&gt;inherit_bef=
ore =3D 1 by default, and the doc is updated<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0accordingly).<br>
<br>
=C2=A0 =C2=A0*) core: Avoid a possible truncation of the faulty header incl=
uded in the<br>
=C2=A0 =C2=A0 =C2=A0 HTML response when LimitRequestFieldSize is reached.<b=
r>
<br>
<br>
</blockquote></div><br></div>

--047d7bdc07e2bb079105196070e0--

From dev-return-83170-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 26 00:42:00 2015
Return-Path: <dev-return-83170-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9821818232
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Jun 2015 00:42:00 +0000 (UTC)
Received: (qmail 64584 invoked by uid 500); 26 Jun 2015 00:42:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64513 invoked by uid 500); 26 Jun 2015 00:42:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64503 invoked by uid 99); 26 Jun 2015 00:41:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Jun 2015 00:41:59 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of DRuggeri@primary.net designates 216.87.38.201 as permitted sender)
Received: from [216.87.38.201] (HELO s1.mail.rcig.net) (216.87.38.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Jun 2015 00:39:43 +0000
Received: from 23-117-14-203.lightspeed.stlsmo.sbcglobal.net ([23.117.14.203]:27125 helo=[192.168.0.2])
	by s1.mail.rcig.net with esmtpa (Exim 4.72)
	(envelope-from <DRuggeri@primary.net>)
	id 1Z8Hhw-00088m-0n
	for dev@httpd.apache.org; Thu, 25 Jun 2015 19:41:30 -0500
Message-ID: <558C9FB0.2030902@primary.net>
Date: Thu, 25 Jun 2015 19:41:20 -0500
From: Daniel Ruggeri <DRuggeri@primary.net>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Gecko/20100101 Thunderbird/31.7.0
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: Proxy balancer providers and aging
References: <EC9DA55A-B29E-4965-A8E3-C84170F7A6AC@jaguNET.com>
In-Reply-To: <EC9DA55A-B29E-4965-A8E3-C84170F7A6AC@jaguNET.com>
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: 8bit
X-ACL-Warn: X-The email account used to send this email was: druggeri@primary.net
X-Spam-Score: -2.9 (--)
X-Spam-Report: Spam detection software, running on the system "s1.mail.rcig.net", has
 identified this incoming email as possible spam.  The original message
 has been attached to this so you can view it (if it isn't spam) or label
 similar future email.  If you have any questions, see
 the administrator of that system for details.
X-Virus-Checked: Checked by ClamAV on apache.org
 
 Content preview:  On 6/24/2015 3:12 PM, Jim Jagielski wrote: > All LBmethods
    have an "age" function which is designed to appropriately > "age" the data
    so that things even out after awhile. Of course, right > now, none actually
    *uses* that. > [...] 
 
 Content analysis details:   (-2.9 points, 8.0 required)
 
  pts rule name              description
 ---- ---------------------- --------------------------------------------------
 -1.0 ALL_TRUSTED            Passed through trusted hosts only via SMTP
  0.0 TVD_RCVD_IP            Message was received from an IP address
 -1.9 BAYES_00               BODY: Bayes spam probability is 0 to 1%
                             [score: 0.0010]

On 6/24/2015 3:12 PM, Jim Jagielski wrote:
> All LBmethods have an "age" function which is designed to appropriately
> "age" the data so that things even out after awhile. Of course, right
> now, none actually *uses* that.
> 

I had never realized this function exists... what triggers it? ... or
are you saying that today nothing triggers it because of the next sentence?

> But I think the reason is because there is no real good way,
> currently, in mod_proxy to do that...
> 
> Well, in the LBmethod I was hacking away on, it really DOES need
> its age function, and currently it's doing so via mod_watchdog.
> But the more I think of it, ideally, mod_proxy *itself* should
> create the watchdog thread and just handle the age itself, rather
> than having a LBmethod provider having to be responsible for
> creating that (it also kind of destroys the abstraction that pure
> providers should have, imo)...
> 

Yup - if there is some sort of contract between mod_proxy such that each
balancer ought to be able to "age" its data, mod_proxy should provide
the facilities to call that age function on some interval. However,
looking at the age function signature in the existing balancers, I'm
seeing a conspicuous lack of a time delta since the last call to age().
It seems to me that if mod_proxy is responsible for the 'tick' it should
also be responsible for providing a time delta so the lbmethod can age
the data proportionally to the time since last tick.

(or, maybe I'm missing it altogether and the module should be managing
this itself which kinda puts us back to the beginning of which module
should be responsible for this stuff)


> Anyway... anyone opposed to me adding this to mod_proxy in
> trunk with hope towards it backporting to 2.4? It does mean
> that mod_proxy will now have a dependency on mod_watchdog.

I'm conflicted. This is useful functionality but would break existing
configurations using 2.4 in an unexpected way. I remember dealing with
lots of questions about "why is this slotmem thing needed all of a
sudden" when moving from 2.2 to 2.4.

I think that if I were to be forced to work through the cognitive
dissonance I'd be +1 for adding this to trunk but -1 for 2.4 unless we
can find a way to avoid the dependency unless the lbmethod really needs
it (I don't see how, but please do enlighten me if this is possible).

-- 
Daniel Ruggeri

From dev-return-83171-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 26 07:23:21 2015
Return-Path: <dev-return-83171-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BFDF118B4C
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Jun 2015 07:23:21 +0000 (UTC)
Received: (qmail 57239 invoked by uid 500); 26 Jun 2015 07:23:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57182 invoked by uid 500); 26 Jun 2015 07:23:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57172 invoked by uid 99); 26 Jun 2015 07:23:21 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Jun 2015 07:23:21 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id CD0C9D063E
	for <dev@httpd.apache.org>; Fri, 26 Jun 2015 07:23:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id e46cojaXVMrw for <dev@httpd.apache.org>;
	Fri, 26 Jun 2015 07:23:15 +0000 (UTC)
Received: from mail-ig0-f178.google.com (mail-ig0-f178.google.com [209.85.213.178])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id F2CA82122D
	for <dev@httpd.apache.org>; Fri, 26 Jun 2015 07:23:14 +0000 (UTC)
Received: by igbiq7 with SMTP id iq7so7946004igb.1
        for <dev@httpd.apache.org>; Fri, 26 Jun 2015 00:23:08 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=xLDFzD6lBLY0w69pQiVVChozYRjLWfYGZtYYHE0olaM=;
        b=Sr/tE6j3HIT8wUCeh12zLx5z4xztO5AlOaturXURwhYYA7l+EU8DDC3xHGWm0rYegp
         XFm9182vPGFO0ob4lZXG4LqZdTuFkR/VqK8S7hN7528QRp4DsiSgH9hAQuPvxLg/CkP/
         /aB1dEXl/OheUJiB8hnsD4NWMb185D6K12yYi84BpKORsc/EGJp3H50kKZKofqBcDb1H
         YgT7r4Ch0dGsQU6bzsT6qb5qdIvsaPDF0itMJ096Uef/YVWh7o6zgnPa45+PV4n3IpZe
         2AVfOk0G0j4+j15O6ERt/FPdyCjrgAHWpvbcPVD0j56n66i/1Xh7+4Z8OqFubRSO5uZI
         zJzA==
MIME-Version: 1.0
X-Received: by 10.43.162.136 with SMTP id mk8mr1715206icc.28.1435303388467;
 Fri, 26 Jun 2015 00:23:08 -0700 (PDT)
Received: by 10.79.82.196 with HTTP; Fri, 26 Jun 2015 00:23:08 -0700 (PDT)
In-Reply-To: <CACsi251C5bntoUnA3bTVQALPq+VgsS358HZCvYRrzp1AsUwm7Q@mail.gmail.com>
References: <20150625154740.6A26CAC012B@hades.apache.org>
	<CACsi251C5bntoUnA3bTVQALPq+VgsS358HZCvYRrzp1AsUwm7Q@mail.gmail.com>
Date: Fri, 26 Jun 2015 09:23:08 +0200
Message-ID: <CAKQ1sVPhO64tPWYcTQK8yUY80gNaWkuQEytkVGw6gGDxzeq2ew@mail.gmail.com>
Subject: Re: svn commit: r1687564 - /httpd/httpd/branches/2.4.x/STATUS
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Simpler indeed, thanks.
Addressed in r1687680 and backport proposal updated in r1687684.
Will update the one of 2.2.x too.

On Fri, Jun 26, 2015 at 2:01 AM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
> Just a quick observation on the patch, you know you can use a tristate to
> avoid an int?
>
> Simply set the value to 2 in the config-create (the enum being off=0, on=1,
> unset=2), check for RHS 'unset' during the merge, and in the feature toggle
> test, explicitly check test for == of the non-default value.
>
> And a style nit, we explicitly put in the variable type for each member, and
> don't carry the type from member to member in the project's structs/enums.
>
>
>
> On Thu, Jun 25, 2015 at 10:47 AM, <ylavic@apache.org> wrote:
>>
>> Author: ylavic
>> Date: Thu Jun 25 15:47:39 2015
>> New Revision: 1687564
>>
>> URL: http://svn.apache.org/r1687564
>> Log:
>> Update mod_substitute proposal with SubstituteInheritBefore.
>>
>> Modified:
>>     httpd/httpd/branches/2.4.x/STATUS
>>
>> Modified: httpd/httpd/branches/2.4.x/STATUS
>> URL:
>> http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/STATUS?rev=1687564&r1=1687563&r2=1687564&view=diff
>>
>> ==============================================================================
>> --- httpd/httpd/branches/2.4.x/STATUS (original)
>> +++ httpd/httpd/branches/2.4.x/STATUS Thu Jun 25 15:47:39 2015
>> @@ -201,10 +201,17 @@ PATCHES PROPOSED TO BACKPORT FROM TRUNK:
>>               ints added at the end of core_server_config, the proposed
>> merge
>>               does a minor bump only.
>>
>> -  *) mod_substitute: Fix configuraton merge order. PR 57641
>> +  *) mod_substitute: Configure patterns merge order. PR 57641
>>       trunk patch: http://svn.apache.org/r1684900
>> -     2.4.x patch: trunk works (modulo CHANGES)
>> -     +1: ylavic, minfrin
>> +                  http://svn.apache.org/r1687539
>> +     2.4.x patch:
>> http://people.apache.org/~ylavic/httpd-2.4.x-SubstituteInheritBefore.patch
>> +     +1: ylavic
>> +     ylavic: added r1687539 and discarded minfrin's vote (we must
>> preserve
>> +             the current behaviour).  SubstituteInheritBefore allows to
>> +             configure the merge order; the default is Off in trunk
>> (2.5+),
>> +             but still On in 2.4.x thanks to the changes in the backport
>> patch
>> +             only (dcfg->inherit_before = 1 by default, and the doc is
>> updated
>> +             accordingly).
>>
>>    *) core: Avoid a possible truncation of the faulty header included in
>> the
>>       HTML response when LimitRequestFieldSize is reached.
>>
>>
>

From dev-return-83172-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Jun 26 11:00:15 2015
Return-Path: <dev-return-83172-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1D9BC173BD
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 26 Jun 2015 11:00:15 +0000 (UTC)
Received: (qmail 70367 invoked by uid 500); 26 Jun 2015 11:00:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70289 invoked by uid 500); 26 Jun 2015 11:00:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 70279 invoked by uid 99); 26 Jun 2015 11:00:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Jun 2015 11:00:14 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: encountered temporary error during SPF processing of domain of jim@jagunet.com)
Received: from [69.252.207.39] (HELO resqmta-ch2-07v.sys.comcast.net) (69.252.207.39)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 26 Jun 2015 10:57:58 +0000
Received: from resomta-ch2-06v.sys.comcast.net ([69.252.207.102])
	by resqmta-ch2-07v.sys.comcast.net with comcast
	id kyzB1q0022D5gil01yzS4V; Fri, 26 Jun 2015 10:59:26 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-06v.sys.comcast.net with comcast
	id kyzR1q00B2U0RYt01yzRKJ; Fri, 26 Jun 2015 10:59:26 +0000
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: Proxy balancer providers and aging
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <558C9FB0.2030902@primary.net>
Date: Fri, 26 Jun 2015 06:59:25 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <D55F63ED-215A-4F5B-B928-0A746D55399C@jaguNET.com>
References: <EC9DA55A-B29E-4965-A8E3-C84170F7A6AC@jaguNET.com> <558C9FB0.2030902@primary.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1435316366;
	bh=rmCQq5c84EH8s7gPaqXu0CglkhlNFJ5GyaiRQm8y0QU=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=c5D0rYOZWWWfhp7HZKzAljSvVHHGIP/4bX1ZXvQfYz+lINghCCXOzmlfJol0uCO8H
	 13oE5nnYSSYuot+TK0esYabyMLuvFJmnx9jVXIpERhWOLEAeqUVK4xQITluDYGOr8d
	 VZ0Unr88vg2y63IsT+rv8z7UjVBzjfOnXxSZM+9iudPbB6JWa2a+RQpqYwbHTrjKcZ
	 vaysZuR/jh8AZcwVpZmcb9FAKCvuCpucqegMV2y0y7ps9oWqkJliKV8S9OKlVrLCDo
	 jy2mcjNHTEJtZ34qeIa+BS83o9T+SfUftlMuVroaVLFwe3MS1ybNOWo/8677yQtSrg
	 AA9/el69ki+yQ==
X-Virus-Checked: Checked by ClamAV on apache.org


> On Jun 25, 2015, at 8:41 PM, Daniel Ruggeri <DRuggeri@primary.net> wrote:
> 
> On 6/24/2015 3:12 PM, Jim Jagielski wrote:
>> All LBmethods have an "age" function which is designed to appropriately
>> "age" the data so that things even out after awhile. Of course, right
>> now, none actually *uses* that.
>> 
> 
> I had never realized this function exists... what triggers it? ... or
> are you saying that today nothing triggers it because of the next sentence?

Yep... we have the function as part of the provider structure, but
we never use it or call it. 
> 
>> But I think the reason is because there is no real good way,
>> currently, in mod_proxy to do that...
>> 
>> Well, in the LBmethod I was hacking away on, it really DOES need
>> its age function, and currently it's doing so via mod_watchdog.
>> But the more I think of it, ideally, mod_proxy *itself* should
>> create the watchdog thread and just handle the age itself, rather
>> than having a LBmethod provider having to be responsible for
>> creating that (it also kind of destroys the abstraction that pure
>> providers should have, imo)...
>> 
> 
> Yup - if there is some sort of contract between mod_proxy such that each
> balancer ought to be able to "age" its data, mod_proxy should provide
> the facilities to call that age function on some interval.

Agreed.

> However,
> looking at the age function signature in the existing balancers, I'm
> seeing a conspicuous lack of a time delta since the last call to age().
> It seems to me that if mod_proxy is responsible for the 'tick' it should
> also be responsible for providing a time delta so the lbmethod can age
> the data proportionally to the time since last tick.

I have been thinking about this and it seems to me that the
simplest would be to have mod_proxy guarantee that age is
called every hour (or whatever constant we all agree with).

> 
> (or, maybe I'm missing it altogether and the module should be managing
> this itself which kinda puts us back to the beginning of which module
> should be responsible for this stuff)
> 
> 
>> Anyway... anyone opposed to me adding this to mod_proxy in
>> trunk with hope towards it backporting to 2.4? It does mean
>> that mod_proxy will now have a dependency on mod_watchdog.
> 
> I'm conflicted. This is useful functionality but would break existing
> configurations using 2.4 in an unexpected way. I remember dealing with
> lots of questions about "why is this slotmem thing needed all of a
> sudden" when moving from 2.2 to 2.4.

yeah, I see that point.


From dev-return-83173-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 27 07:59:08 2015
Return-Path: <dev-return-83173-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C1ACF18B08
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 27 Jun 2015 07:59:08 +0000 (UTC)
Received: (qmail 13514 invoked by uid 500); 27 Jun 2015 07:59:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 13457 invoked by uid 500); 27 Jun 2015 07:59:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 13447 invoked by uid 99); 27 Jun 2015 07:59:08 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Jun 2015 07:59:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id A8664180339
	for <dev@httpd.apache.org>; Sat, 27 Jun 2015 07:59:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.001
X-Spam-Level: *
X-Spam-Status: No, score=1.001 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id idgqGYw6aW53 for <dev@httpd.apache.org>;
	Sat, 27 Jun 2015 07:58:56 +0000 (UTC)
Received: from fed1rmfepo202.cox.net (fed1rmfepo202.cox.net [68.230.241.147])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id A2D8120F5D
	for <dev@httpd.apache.org>; Sat, 27 Jun 2015 07:58:55 +0000 (UTC)
Received: from fed1rmimpo110 ([68.230.241.159]) by fed1rmfepo202.cox.net
          (InterMail vM.8.01.05.15 201-2260-151-145-20131218) with ESMTP
          id <20150627075848.LSGH28622.fed1rmfepo202.cox.net@fed1rmimpo110>
          for <dev@httpd.apache.org>; Sat, 27 Jun 2015 03:58:48 -0400
Received: from [192.168.1.33] ([98.176.34.113])
	by fed1rmimpo110 with cox
	id lKyn1q00E2STVfm01KynHq; Sat, 27 Jun 2015 03:58:48 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020204.558E57B8.002E,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=2.0 cv=B55nJpRM c=1 sm=1
 a=8xCO7h6kmYZdHn5tUOQhsw==:17 a=LrjODJgKAAAA:8 a=1zd1egijY_QA:10
 a=yMhMjlubAAAA:8 a=mV9VRH-2AAAA:8 a=UL3m8br0931bzMrfRpAA:9 a=QEXdDO2ut3YA:10
 a=ONOIrLYJiKIA:10 a=8xCO7h6kmYZdHn5tUOQhsw==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; auth=pass (PLAIN) smtp.auth=glewis63@cox.net
Message-ID: <558E5746.6070309@gknw.net>
Date: Sat, 27 Jun 2015 00:56:54 -0700
From: Gregg Smith <gls@gknw.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.28) Gecko/20120306 Thunderbird/3.1.20
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: minor APR 1.5.2 build error on Windows
References: <5587DA14.80704@egosoft.com> <5587E0A9.2050309@gknw.net> <5587EA39.10801@egosoft.com> <55884A6A.2000504@gknw.net> <558C3FB0.9010300@egosoft.com> <558CBF3A.7090004@gknw.net> <558D1346.1060209@egosoft.com>
In-Reply-To: <558D1346.1060209@egosoft.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

On 6/26/2015 1:54 AM, Stefan Hett wrote:
> On 6/26/2015 4:55 AM, Gregg Smith wrote:
>> On 6/25/2015 10:51 AM, Stefan Hett wrote:
>>> Hi Gregg,
>>>> On 6/22/2015 3:58 AM, Stefan Hett wrote:
>>>>> Hi Gregg,
>>>>>> On 6/22/2015 2:49 AM, Stefan Hett wrote:
>>>>>>> Hi,
>>>>>>>
>>>>>>> I just tested building APR 1.5.2 from source on windows, 
>>>>>>> following the instructions from the readme file.
>>>>>>>
>>>>>>> compiling (aka: nmake -f Makefile.win) succeeded without 
>>>>>>> problems, but the following install command (aka: nmake -f 
>>>>>>> Makefile.win PREFIX=FOO install) failed with return code 0x1:
>>>>>>>
>>>>>>> copy Release/libapr-1.pdb "..\apr-dist\bin\" <.y
>>>>>>> The system cannot find the file specified.
>>>>>>> NMAKE : fatal error U1077: 'copy' : return code '0x1'
>>>>>>> Stop.
>>>>>>>
>>>>>>> Without looking at the build script I assume that the PDB is not 
>>>>>>> created for Release builds and therefore the file is missing.
>>>>>>>
>>>>>>> Maybe worth either adjusting the linker/compiler settings so the 
>>>>>>> PDB is also generated in Release builds or adding a 
>>>>>>> file-existence-check prior to the copy operation, so building 
>>>>>>> doesn't issue that error?
>>>>>>>
>>>>>>> For me that's not a problem here. Just thought might be good to 
>>>>>>> raise that point so that user experience with APR could be 
>>>>>>> improved.
>>>>>>
>>>>>> But it is there, look at the Link line in libapr.mak
>>>>>> /pdb:"$(OUTDIR)\libapr-1.pdb"
>>>>>>
>>>>>> It didn't get produced for some reason. What Visual C++ version 
>>>>>> are you using?
>>>>> Using Visual Studio 2010 SP1 here.
>>>>>
>>>>> I'm not that familiar with APR internals. So pardon me if I'm 
>>>>> wrong here.
>>>>> I assume you are refering to apr/libapr.mak here. For instance in 
>>>>> line 174.
>>>>>
>>>>> I can see that the /pdb-parameter is specified. However I don't 
>>>>> see the /debug parameter here. To my knowledge the /pdb parameter 
>>>>> just specifies the output filename for the PDB. It doesn't 
>>>>> actually specify that the PDB is to be generated (for which the 
>>>>> /Debug parameter would be used for). Also see: 
>>>>> https://msdn.microsoft.com/en-us/library/kwx19e36.aspx
>>>>>
>>>>> Am I on the wrong page here?
>>>>
>>>> I don't think so but yes, line 174, /debug is right after the /pdb 
>>>> switch.
>>>> tal:no /pdb:"$(OUTDIR)\libapr-1.pdb" /debug /out:"$
>>>>
>>>> http://svn.apache.org/viewvc/apr/apr/tags/1.5.2/libapr.mak?view=annotate 
>>>>
>>>
>>> I just got back and checked this issue out once more. Of course you 
>>> are right here. The linker settings seem to be fine. I just realized 
>>> that in the build-directory (apr/Release) there indeed is a 
>>> generated pdb-file, but it's called libapr.pdb.
>>> Looking through the libapr.mak-file I didn't get a clue how it could 
>>> name the pdb without the "-1"-suffix...
>>>
>>> When building libapr I get these linker warnings:
>>> 1>C:\Program Files 
>>> (x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppBuild.targets(990,5): 
>>> warning MSB8012: 
>>> TargetPath(E:\[delete]SVNTest\SVN\apr\.\Release\libapr.dll) does not 
>>> match the Linker's OutputFile property value 
>>> (E:\[delete]SVNTest\SVN\apr\Release\libapr-1.dll). This may cause 
>>> your project to build incorrectly. To correct this, please make sure 
>>> that $(OutDir), $(TargetName) and $(TargetExt) property values match 
>>> the value specified in %(Link.OutputFile).
>>> 1>C:\Program Files 
>>> (x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppBuild.targets(992,5): 
>>> warning MSB8012: TargetName(libapr) does not match the Linker's 
>>> OutputFile property value (libapr-1). This may cause your project to 
>>> build incorrectly. To correct this, please make sure that $(OutDir), 
>>> $(TargetName) and $(TargetExt) property values match the value 
>>> specified in %(Link.OutputFile).
>>> 1>Link:
>>> 1>     Creating library Release\libapr-1.lib and object 
>>> Release\libapr-1.exp
>>> 1>  libapr.vcxproj -> E:\[delete]SVNTest\SVN\apr\.\Release\libapr.dll
>>>
>>> Maybe these information ring a bell on ur side (atm it doesn't for me).
>>
>> Hi Stefan,
>>
>> OK, the plot thickens ... libapr.vcxproj
>> You only get the.vcxproj when using the IDE which uses the dsp files, 
>> not the .mak.
>>
>> Bill found one today but it was in the Windows 9x build. This error 
>> message does not allude to this being a Win9x build.
>> http://svn.apache.org/r1687620
>>
>> I can't find any others. I say search your libapr.dsp file for 
>> libapr.pdb but I don't think you will find it.
>>
>> It looks like the compiler knows what it is told to do but instead is 
>> simply going to do what it wants to.
>>
> Hi Gregg,
>
> already replied Bill per PM on his findings.
>
> I guess u are right here. Somehow MSBuild 4.0 seems to ignore the 
> passed /pdb parameter and rather sets the pdb-filename based on the 
> $TargetName instead. The converted dsp-file doesn't explicitly set the 
> TargetName (therefore using its default which is $ProjectName).
> Modifying the vcxproj-file and setting TargetName to $(ProjectName)-1 
> resolves the MSBuild warning and creates the correctly named pdb-file.
>
> I don't know whether this suspicion of mine (bug in MSBuild 4.0) is 
> true or not and I couldn't spot any reference on the web (and tbh I'm 
> not familiar enough with the MSBuild internals to make a proper 
> assumption here).
>
> Given the current findings, I'm not sure whether you want to adjust 
> the build setup to update the TargetName parameter and set it to the 
> proper value. I'd argue that for the sake of consistency of the 
> buildparameters that wouldn't be a bad idea, even if the underlying 
> issue is actually a bug in MSBuild and shouldn't trigger the problem 
> in the first place (assuming setting the TargetName is possible 
> somehow from ur side in some way).

I installed 2010 and gave this a run and I can duplicate. I can 
duplicate this on every version from 2010 - 2013. I do not yet have 2015.

What is most dissatisfying is that these versions ignore the Target Name 
listed in the General properties and accept and use the Output File 
(/out:filename) in the General Linker properties, we do get a 
libapr-1.dll file. Same with the Import Library in the Linker Advanced 
properties (/implib:filename).  It's just /pdb:filename that it 
completely ignores.

In my view, that is a bug in Visual Studio.

Oddly, what it tells you in the output screen is wrong as well. It 
doesn't even know what it is really doing.
1>Link:
1>     Creating library Release\libapr-1.lib and object Release\libapr-1.exp
1>  libapr.vcxproj -> K:\Build10\apr-1.5.2a\.\Release\libapr.dll

That is incorrect because it outputs libapr-1.dll.

As far as adjusting the build setup to update the TargetName parameter, 
this is out of our control, this Target Name lunacy was added in VC10.

That said, you are not completely off base, just need to read that line 
from right to left. If the project name is used for the Target Name, 
then the project names needs to change to *-1. When I do this it works 
like a charm. Unfortunately this cannot be done in a stable branch, it's 
too drastic in my view at least. This might however be a good candidate 
for build\cvtdsp.pl -2010. It would have to modify the dsw files as well 
possibly, but that's a small price.









From dev-return-83174-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Jun 27 08:52:58 2015
Return-Path: <dev-return-83174-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2CB6A18BA1
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 27 Jun 2015 08:52:58 +0000 (UTC)
Received: (qmail 53046 invoked by uid 500); 27 Jun 2015 08:52:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 52967 invoked by uid 500); 27 Jun 2015 08:52:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 52957 invoked by uid 99); 27 Jun 2015 08:52:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Jun 2015 08:52:57 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of info@apachelounge.com designates 80.101.236.247 as permitted sender)
Received: from [80.101.236.247] (HELO land10web.com) (80.101.236.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 27 Jun 2015 08:50:43 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1435395159;
	bh=kgliQI5VJ8z+JJpBOKbBVp1j1Hq9hk7ypdQFWxn0MpA=;
	h=From:To:Subject:Date;
	b=Zc7NkSKY8+mDAoptPMs4tf33oUDciX9f7KVfe/ZsivAVFUiU8acd2K+gnSaqc0Z1v
	 nEZNk9/7df4GZ5MS6sh11YRpy8LO4EsdHwjVztgj9rHBrhb9WHESmzlnNJ7M0CMdd+
	 2Kb9h222szpC5t2pgY2BZ5Jp4jvgPJC4IZoSX9pU=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=127.0.0.1;
From: Steffen <info@apachelounge.com>
To:  <dev@httpd.apache.org>
Subject: Re: minor APR 1.5.2 build error on Windows
Date: Sat, 27 Jun 2015 10:52:18 +0200
Message-ID: <558e6442.1670.2624.7204@land10.nl>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable
X-Originating-IP: 127.0.0.1
X-Mailer: SurgeWeb - Ajax Webmail Client
X-Virus-Checked: Checked by ClamAV on apache.org


Indeed, the APR libraries have projects named libapr but produce=20
output named libapr-1. The problem with this is in newer versions of=20
Visual Studio TargetName defaults to the project name and not the=20
basename of the output.  Since the PDB file is named based on the=20
TargetName the pdb file ends up being named libapr.pdb instead of=20
libapr-1.pdb.


I am a IDE/GUI-only guy and run the following perl routine,  it fixes=20
by explicitly providing a TargetName definition and shuts up some=20
warnings about this problem as well.



 find(sub {
         return unless (/\.vcxproj$/);
         my $output_file =3d get_output_file($_);
         return unless (defined($output_file));
         my ($project_name) =3d fileparse($_, qr/\.[^.]*$/);
         my ($old_style_target_name) =3d fileparse($output_file,=20
qr/\.[^.]*$/);
         return if ($old_style_target_name eq $project_name);
         insert_property_group($_,
           "<TargetName>$old_style_target_name</TargetName>",=20
'.torig');
       }, "$SRCLIB\\apr", "$SRCLIB\\apr-util", "$SRCLIB\\apr-iconv");


Without this routine the install fails when it tries to copy=20
libapr-1.pdb.

See this thread for details of the changes:=20
http://social.msdn.microsoft.com/Forums/en-US/vcprerelease/thread/3c03e730-6=
a0e-4ee4-a0d6-6a5c3ce4343c


Steffen


On Saturday 27/06/2015 at 09:59, Gregg Smith  wrote:
> On 6/26/2015 1:54 AM, Stefan Hett wrote:
>>
>> On 6/26/2015 4:55 AM, Gregg Smith wrote:
>>>
>>> On 6/25/2015 10:51 AM, Stefan Hett wrote:
>>>>
>>>> Hi Gregg,
>>>>>
>>>>> On 6/22/2015 3:58 AM, Stefan Hett wrote:
>>>>>>
>>>>>> Hi Gregg,
>>>>>>>
>>>>>>> On 6/22/2015 2:49 AM, Stefan Hett wrote:
>>>>>>>>
>>>>>>>> Hi,
>>>>>>>>
>>>>>>>> I just tested building APR 1.5.2 from source on windows,  following=
=20
>>>>>>>> the instructions from the readme file.
>>>>>>>>
>>>>>>>> compiling (aka: nmake -f Makefile.win) succeeded without  problems,=
=20
>>>>>>>> but the following install command (aka: nmake -f  Makefile.win=20
>>>>>>>> PREFIX=3dFOO install) failed with return code 0x1:
>>>>>>>>
>>>>>>>> copy Release/libapr-1.pdb "..\apr-dist\bin\" <.y
>>>>>>>> The system cannot find the file specified.
>>>>>>>> NMAKE : fatal error U1077: 'copy' : return code '0x1'
>>>>>>>> Stop.
>>>>>>>>
>>>>>>>> Without looking at the build script I assume that the PDB is not =20
>>>>>>>> created for Release builds and therefore the file is missing.
>>>>>>>>
>>>>>>>> Maybe worth either adjusting the linker/compiler settings so the  P=
DB=20
>>>>>>>> is also generated in Release builds or adding a  file-existence-che=
ck=20
>>>>>>>> prior to the copy operation, so building  doesn't issue that error?
>>>>>>>>
>>>>>>>> For me that's not a problem here. Just thought might be good to  ra=
ise=20
>>>>>>>> that point so that user experience with APR could be  improved.
>>>>>>>
>>>>>>> But it is there, look at the Link line in libapr.mak
>>>>>>> /pdb:"$(OUTDIR)\libapr-1.pdb"
>>>>>>>
>>>>>>> It didn't get produced for some reason. What Visual C++ version  are=
=20
>>>>>>> you using?
>>>>>> Using Visual Studio 2010 SP1 here.
>>>>>>
>>>>>> I'm not that familiar with APR internals. So pardon me if I'm  wrong=20
>>>>>> here.
>>>>>> I assume you are refering to apr/libapr.mak here. For instance in =20
>>>>>> line 174.
>>>>>>
>>>>>> I can see that the /pdb-parameter is specified. However I don't  see=20
>>>>>> the /debug parameter here. To my knowledge the /pdb parameter  just=20
>>>>>> specifies the output filename for the PDB. It doesn't  actually=20
>>>>>> specify that the PDB is to be generated (for which the  /Debug=20
>>>>>> parameter would be used for). Also see:=20
>>>>>> https://msdn.microsoft.com/en-us/library/kwx19e36.aspx
>>>>>>
>>>>>> Am I on the wrong page here?
>>>>>
>>>>> I don't think so but yes, line 174, /debug is right after the /pdb =20
>>>>> switch.
>>>>> tal:no /pdb:"$(OUTDIR)\libapr-1.pdb" /debug /out:"$
>>>>>
>>>>> http://svn.apache.org/viewvc/apr/apr/tags/1.5.2/libapr.mak?view=3danno=
tate
>>>>
>>>> I just got back and checked this issue out once more. Of course you =20
>>>> are right here. The linker settings seem to be fine. I just realized =20
>>>> that in the build-directory (apr/Release) there indeed is a  generated=20
>>>> pdb-file, but it's called libapr.pdb.
>>>> Looking through the libapr.mak-file I didn't get a clue how it could =20
>>>> name the pdb without the "-1"-suffix...
>>>>
>>>> When building libapr I get these linker warnings:
>>>> 1>C:\Program Files =20
>>>> (x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppBuild.targets(990,5): =20
>>>> warning MSB8012: =20
>>>> TargetPath(E:\[delete]SVNTest\SVN\apr\.\Release\libapr.dll) does not =20
>>>> match the Linker's OutputFile property value =20
>>>> (E:\[delete]SVNTest\SVN\apr\Release\libapr-1.dll). This may cause =20
>>>> your project to build incorrectly. To correct this, please make sure =20
>>>> that $(OutDir), $(TargetName) and $(TargetExt) property values match =20
>>>> the value specified in %(Link.OutputFile).
>>>> 1>C:\Program Files =20
>>>> (x86)\MSBuild\Microsoft.Cpp\v4.0\Microsoft.CppBuild.targets(992,5): =20
>>>> warning MSB8012: TargetName(libapr) does not match the Linker's =20
>>>> OutputFile property value (libapr-1). This may cause your project to =20
>>>> build incorrectly. To correct this, please make sure that $(OutDir), =20
>>>> $(TargetName) and $(TargetExt) property values match the value =20
>>>> specified in %(Link.OutputFile).
>>>> 1>Link:
>>>> 1>     Creating library Release\libapr-1.lib and object =20
>>>> Release\libapr-1.exp
>>>> 1>  libapr.vcxproj -> E:\[delete]SVNTest\SVN\apr\.\Release\libapr.dll
>>>>
>>>> Maybe these information ring a bell on ur side (atm it doesn't for=20
>>>> me).
>>>
>>> Hi Stefan,
>>>
>>> OK, the plot thickens ... libapr.vcxproj
>>> You only get the.vcxproj when using the IDE which uses the dsp files, =20
>>> not the .mak.
>>>
>>> Bill found one today but it was in the Windows 9x build. This error =20
>>> message does not allude to this being a Win9x build.
>>> http://svn.apache.org/r1687620
>>>
>>> I can't find any others. I say search your libapr.dsp file for =20
>>> libapr.pdb but I don't think you will find it.
>>>
>>> It looks like the compiler knows what it is told to do but instead is =20
>>> simply going to do what it wants to.
>>>
>> Hi Gregg,
>>
>> already replied Bill per PM on his findings.
>>
>> I guess u are right here. Somehow MSBuild 4.0 seems to ignore the =20
>> passed /pdb parameter and rather sets the pdb-filename based on the =20
>> $TargetName instead. The converted dsp-file doesn't explicitly set the=20
>>  TargetName (therefore using its default which is $ProjectName).
>> Modifying the vcxproj-file and setting TargetName to $(ProjectName)-1 =20
>> resolves the MSBuild warning and creates the correctly named pdb-file.
>>
>> I don't know whether this suspicion of mine (bug in MSBuild 4.0) is =20
>> true or not and I couldn't spot any reference on the web (and tbh I'm =20
>> not familiar enough with the MSBuild internals to make a proper =20
>> assumption here).
>>
>> Given the current findings, I'm not sure whether you want to adjust =20
>> the build setup to update the TargetName parameter and set it to the =20
>> proper value. I'd argue that for the sake of consistency of the =20
>> buildparameters that wouldn't be a bad idea, even if the underlying =20
>> issue is actually a bug in MSBuild and shouldn't trigger the problem =20
>> in the first place (assuming setting the TargetName is possible =20
>> somehow from ur side in some way).
>
> I installed 2010 and gave this a run and I can duplicate. I can=20
> duplicate this on every version from 2010 - 2013. I do not yet have=20
> 2015.
>
> What is most dissatisfying is that these versions ignore the Target=20
> Name listed in the General properties and accept and use the Output=20
> File (/out:filename) in the General Linker properties, we do get a=20
> libapr-1.dll file. Same with the Import Library in the Linker Advanced=20
> properties (/implib:filename).  It's just /pdb:filename that it=20
> completely ignores.
>
> In my view, that is a bug in Visual Studio.
>
> Oddly, what it tells you in the output screen is wrong as well. It=20
> doesn't even know what it is really doing.
> 1>Link:
> 1>     Creating library Release\libapr-1.lib and object=20
> Release\libapr-1.exp
> 1>  libapr.vcxproj -> K:\Build10\apr-1.5.2a\.\Release\libapr.dll
>
> That is incorrect because it outputs libapr-1.dll.
>
> As far as adjusting the build setup to update the TargetName=20
> parameter, this is out of our control, this Target Name lunacy was=20
> added in VC10.
>
> That said, you are not completely off base, just need to read that=20
> line from right to left. If the project name is used for the Target=20
> Name, then the project names needs to change to *-1. When I do this it=20
> works like a charm. Unfortunately this cannot be done in a stable=20
> branch, it's too drastic in my view at least. This might however be a=20
> good candidate for build\cvtdsp.pl -2010. It would have to modify the=20
> dsw files as well possibly, but that's a small price.
>
>
>
>
>
>
>
>




From dev-return-83175-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 28 07:15:15 2015
Return-Path: <dev-return-83175-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 27A0A187EB
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 28 Jun 2015 07:15:15 +0000 (UTC)
Received: (qmail 95177 invoked by uid 500); 28 Jun 2015 07:15:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 95107 invoked by uid 500); 28 Jun 2015 07:15:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 95098 invoked by uid 99); 28 Jun 2015 07:15:14 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 Jun 2015 07:15:14 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id 2AB081A02A6
	for <dev@httpd.apache.org>; Sun, 28 Jun 2015 07:15:14 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id A120E6047F; Sun, 28 Jun 2015 07:15:13 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2015/06/28]
Message-Id: <20150628071513.A120E6047F@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 28 Jun 2015 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 7483|Ass|Enh|2002-03-26|Add FileAction directive to assign a cgi interpret|
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|12680|New|Enh|2002-09-16|Digest authentication with integrity protection   |
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|18497|New|Min|2003-03-30|configure --help gives wrong default for sysconfdi|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21253|New|Nor|2003-07-01|Mime magic doesn't continue if type is specifed fo|
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22138|Inf|Cri|2003-08-05|Webdav is not preccessing special chars right.    |
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Nor|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42001|New|Cri|2007-03-30|LINUX : Could not set LDAP_OPT_X_TLS to LDAP_OPT_X|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Opn|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|httpd fails to start if log directory does not exi|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43532|Inf|Cri|2007-10-02|Error while compiling Apache 2.2.3 on HPUX        |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44736|New|Cri|2008-04-01|mod_proxy_balancer looses it's mind on reloads.   |
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|New|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45926|Inf|Nor|2008-10-01|Unable to start apache 2.2.9                      |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46054|New|Nor|2008-10-21|Running httpd returns the error "bad user name nob|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Nor|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46724|Inf|Cri|2009-02-17|WinXP SP3 - Apache crashes on startup in libapr-1.|
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47241|New|Min|2009-05-22|Error in rewriting with character ':'             |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47289|New|Nor|2009-05-30|Can't build with dynamic libraries on Mac OS 10.4 |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|Inf|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48309|New|Maj|2009-11-30|libapreq2-2.12: "make test" fails at request.t and|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|New|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Nor|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51842|New|Enh|2011-09-18|Suggesting a new action for the Header directive: |
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Enh|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52523|New|Nor|2012-01-25|Headers from mod_expires are wrongly set for redir|
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52756|Inf|Trv|2012-02-24|proxy_html_module LoadModule line not created in h|
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52855|Opn|Maj|2012-03-08|mod_ftp does not build against 2.4.x              |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53121|New|Nor|2012-04-22|Confusing documentation, gzip and deflate         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54364|New|Nor|2012-12-31|Add ref to mod_fcgid docs                         |
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54587|Opn|Nor|2013-02-19|LDAPConnectionPoolTimeout does not work in all cas|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55147|New|Nor|2013-06-26|"Header always" w/ cache different in 2.4         |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55449|New|Maj|2013-08-19|AH01185: worker slotmem_create failed --> slotmem |
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55808|New|Nor|2013-11-21|File integrity verification using MD5 and SHA1    |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|New|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55841|New|Nor|2013-12-04|Misleading news items on bugfix releases ("This ve|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55897|New|Nor|2013-12-17|[PATCH]patch with SO_REUSEPORT support            |
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|Inf|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56040|New|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56226|New|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56687|New|Nor|2014-07-01|ProxySourceAddress failed to bind socket to local |
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56729|New|Reg|2014-07-16|Can't use HTTP 1.1 Keep-Alive with mod_reqtimeout |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|Inf|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56898|New|Nor|2014-08-28|Headers in err_headers_out are not returned when a|
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57109|New|Nor|2014-10-17|GPG verification examples are wrong               |
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57120|New|Nor|2014-10-21|Disable SSLv3 by default (POODLE)                 |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57375|New|Enh|2014-12-19|Support LibreSSL as an alternative toolkit for mod|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Nor|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57524|New|Nor|2015-02-02|Opcode and other fields calculated wrong in mod_lu|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|New|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57795|Opn|Maj|2015-04-07|mod_proxy_wstunnel sometimes does not connect and |
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|Inf|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
|57868|New|Nor|2015-04-28|SIGSEV when lacking correct DB access permissions |
|57876|New|Reg|2015-04-30|logresolve.exe on any Windows immediately crashes |
|57878|New|Nor|2015-04-30|Using UTF-8 for all languages, and avoiding html-e|
|57895|New|Min|2015-05-05|missing m4a mimeType in mime.types                |
|57911|New|Min|2015-05-09|Rewrite documentation unclear or wrong about what |
|57927|New|Maj|2015-05-13|Segmentation Fault at proxy_util.c:994            |
|57933|New|Min|2015-05-18|apr_port_t returns constant                       |
|57941|New|Nor|2015-05-21|config.status: line 331: syntax error near unexpec|
|57949|New|Enh|2015-05-25|new mod_ssl environment variable SSL_{CLIENT|SERVE|
|57950|New|Nor|2015-05-26|[patch] buildconf change hint in build to newer ap|
|57960|New|Nor|2015-05-27|PUT truncates response body; status_line appears t|
|57976|New|Cri|2015-05-30|Server threads stale when sending 500 status with |
|57978|New|Nor|2015-06-01|unix:/ works with any number of / slashes  except |
|57979|New|Nor|2015-06-01|can not turn change log level for mod_filter      |
|57992|New|Nor|2015-06-03|https://bz.apache.org/bugzilla/token.cgi?t=ADzWKnl|
|57993|New|Nor|2015-06-03|https://bz.apache.org/bugzilla/token.cgi?t=ADzWKnl|
|57996|New|Nor|2015-06-03|Symlinks erroneously not followed when target inod|
|57997|New|Nor|2015-06-03|Threads started during child_init don't block sign|
|57999|New|Nor|2015-06-04|ap_getparents() may remove start slash of uri     |
|58001|New|Enh|2015-06-04|Implement Forwarded header (RFC 7239) to mod_proxy|
|58007|New|Nor|2015-06-06|400 Bad Request with fully qualified domain name o|
|58020|New|Nor|2015-06-11|When user authenticates with certificate which has|
|58024|New|Nor|2015-06-11|(Graceful) Restart does not work after adding a Ba|
|58025|New|Enh|2015-06-11|mod_authz_dbd : new dbd-query and AuthzDBDQuery op|
|58026|New|Nor|2015-06-11|return 421 status code when SNI and Host: header d|
|58044|New|Cri|2015-06-16|Error sintax 'lua_dump'                           |
|58050|New|Nor|2015-06-17|ErrorDocument does not always work                |
|58073|New|Nor|2015-06-24|Extremely long time for graceful restart          |
+-----+---+---+----------+--------------------------------------------------+
| Total 1498 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-83176-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 28 15:12:07 2015
Return-Path: <dev-return-83176-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 528DA18233
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 28 Jun 2015 15:12:07 +0000 (UTC)
Received: (qmail 43848 invoked by uid 500); 28 Jun 2015 15:12:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 43787 invoked by uid 500); 28 Jun 2015 15:12:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 43777 invoked by uid 99); 28 Jun 2015 15:12:06 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 Jun 2015 15:12:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 6DBD6D0C85
	for <dev@httpd.apache.org>; Sun, 28 Jun 2015 15:12:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.047
X-Spam-Level:
X-Spam-Status: No, score=0.047 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, RP_MATCHES_RCVD=-0.653] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=velox.ch header.b=Mtkrlulr;
	dkim=pass (2048-bit key) header.d=velox.ch header.b=OlVdyJ4B
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id qDeQtDj1w9qm for <dev@httpd.apache.org>;
	Sun, 28 Jun 2015 15:12:04 +0000 (UTC)
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 564C220926
	for <dev@httpd.apache.org>; Sun, 28 Jun 2015 15:12:04 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t5SFBuCj029909
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Sun, 28 Jun 2015 17:11:57 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1435504317;
	bh=37+mbvp7eaRyhdwRE2apb/uMcq0e/WmpA7LOsq/whoU=;
	h=From:Subject:To:References:Date:In-Reply-To;
	b=MtkrlulrSV0cI87YqTuJLGm9z7Kxx5OkhQKzwg/9GIYh//H8rhUginuvCK20hPPOo
	 kVNnwgRqORCP5xPJF3j4LYRl2MTXkumdyBgJ1eq8D3aXUspvJ1F6wUciQdemcz6ovE
	 CKQovqP+IyWdO1O3a6x+ZvFdfTY00i7U3ceS1CfavGa0on/o/Bx/Gd0iGVkcnYCIy4
	 hi17EJiPllagdoI3GUB27N42qj6cIJyQMFjDLe+3W98y3nWh1xzLAHfxJLrnhpbWGq
	 NNeXJhszzAxPB44pDWA7o8XX9L1ZgF6ner/66elt9eDz7eqKOfjn7cwUaTQI2SeZf4
	 USdwt35hCD1cw==
From: Kaspar Brand <httpd-dev.2014@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1435504313;
	bh=37+mbvp7eaRyhdwRE2apb/uMcq0e/WmpA7LOsq/whoU=;
	h=From:Subject:To:References:Date:In-Reply-To;
	b=OlVdyJ4BOLAdlb1xzFvEPHEHwdkSHBiamGDX2iwIomSL1FWXHYAHBlghh0tKj7xGi
	 9vah6o7t/ECCPnkh9kcgOie0FBOt5TzyqW7zYAQPntKHWGN5rP9pq4In2r2Qy4tVFl
	 7bppfnueKxB3HsDUyBfT39GEq3Y6ipSWYBahOI5xJRgYJpG7e32Y/zN7QlFWW9iWyu
	 N/tLLy/XpuWUQJOvlnOYo+AaqPDZlwIWDZv0rRGvEvpsLNcbay140Dtj6yGkdv5rLX
	 2LMaiNUWbGhP2LFCCQQsYE8PTfweTFVXm3GPY/5YN2MHV5QAjLsg05bBSgJfL1/gFo
	 tOuOQrZJWHfkg==
Subject: Re: Using UPN from subjectAltName with SSLUserName
To: dev@httpd.apache.org
References: <20150618094946.GU18173@redhat.com>
 <CAKQ1sVPVuX7ntRt=XjSJ6Og1-gYxjkHv_N2aSNy6wR62XJ_gGw@mail.gmail.com>
 <20150619145116.GK18173@redhat.com> <55865FC6.4070802@velox.ch>
 <20150622083710.GC3448@redhat.com>
Message-ID: <55900EBD.4020604@velox.ch>
Date: Sun, 28 Jun 2015 17:11:57 +0200
MIME-Version: 1.0
In-Reply-To: <20150622083710.GC3448@redhat.com>
Content-Type: multipart/mixed;
 boundary="------------050308000403060005080002"

This is a multi-part message in MIME format.
--------------050308000403060005080002
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit

On 22.06.2015 10:37, Jan Pazdziora wrote:
> Please find a new patch attached which I hope covers all the
> parts you've outlined, for SSL_CLIENT_SAN_OTHER_msUPN_*.

Thanks. Your implementation assumes that only a single otherName form
(msUPN) needs to be supported, but I would prefer to code it in a
somewhat more extensible way.

Does the attached patch work for you? As a practical way of
demonstrating generic support of otherName forms, I have
added the case of the SRVName otherName form (RFC 4985, for things like
_carddavs._tcp.example.com, exposed via SSL_SERVER_SAN_OTHER_dnsSRV_n).

Kaspar

--------------050308000403060005080002
Content-Type: text/plain; charset=UTF-8;
 name="mod_ssl-san-othername.diff"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
 filename="mod_ssl-san-othername.diff"

SW5kZXg6IG1vZHVsZXMvc3NsL3NzbF9lbmdpbmVfaW5pdC5jCj09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0t
IG1vZHVsZXMvc3NsL3NzbF9lbmdpbmVfaW5pdC5jCShyZXZpc2lvbiAxNjg3OTgzKQorKysg
bW9kdWxlcy9zc2wvc3NsX2VuZ2luZV9pbml0LmMJKHdvcmtpbmcgY29weSkKQEAgLTM1Miw2
ICszNTIsMTEgQEAgYXByX3N0YXR1c190IHNzbF9pbml0X01vZHVsZShhcHJfcG9vbF90ICpw
LCBhcHJfcG8KIAogICAgIGluaXRfZGhfcGFyYW1zKCk7CiAKKyAgICBpZiAoT0JKX3R4dDJu
aWQoImlkLW9uLWRuc1NSViIpID09IE5JRF91bmRlZikgeworICAgICAgICAodm9pZClPQkpf
Y3JlYXRlKCIxLjMuNi4xLjUuNS43LjguNyIsICJpZC1vbi1kbnNTUlYiLAorICAgICAgICAg
ICAgICAgICAgICAgICAgICJTUlZOYW1lIG90aGVyTmFtZSBmb3JtIik7CisgICAgfQorCiAg
ICAgcmV0dXJuIE9LOwogfQogCkBAIC0xOTAyLDUgKzE5MDcsNyBAQCBhcHJfc3RhdHVzX3Qg
c3NsX2luaXRfTW9kdWxlS2lsbCh2b2lkICpkYXRhKQogCiAgICAgZnJlZV9kaF9wYXJhbXMo
KTsKIAorICAgIE9CSl9jbGVhbnVwKCk7CisKICAgICByZXR1cm4gQVBSX1NVQ0NFU1M7CiB9
CkluZGV4OiBtb2R1bGVzL3NzbC9zc2xfdXRpbF9zc2wuYwo9PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci0tLSBt
b2R1bGVzL3NzbC9zc2xfdXRpbF9zc2wuYwkocmV2aXNpb24gMTY4Nzk4MykKKysrIG1vZHVs
ZXMvc3NsL3NzbF91dGlsX3NzbC5jCSh3b3JraW5nIGNvcHkpCkBAIC0yNTIsMTkgKzI1Miw0
NiBAQCBjaGFyICptb2Rzc2xfWDUwOV9OQU1FX3RvX3N0cmluZyhhcHJfcG9vbF90ICpwLCBY
NQogICAgIHJldHVybiByZXN1bHQ7CiB9CiAKK3N0YXRpYyB2b2lkIHBhcnNlX290aGVyTmFt
ZV92YWx1ZShhcHJfcG9vbF90ICpwLCBBU04xX1RZUEUgKnZhbHVlLAorICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIEFTTjFfT0JKRUNUICpvaWQsCisgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgYXByX2FycmF5X2hlYWRlcl90ICoqZW50cmllcykKK3sK
KyAgICBjb25zdCBjaGFyICpzdHI7CisKKyAgICBpZiAoIXZhbHVlIHx8ICFvaWQgfHwgISpl
bnRyaWVzKQorICAgICAgIHJldHVybjsKKworICAgIC8qIAorICAgICAqIEN1cnJlbnRseSBz
dXBwb3J0ZWQgb3RoZXJOYW1lIGZvcm1zOgorICAgICAqIC0gIm1zVVBOIiAoMS4zLjYuMS40
LjEuMzExLjIwLjIuMyk6IE1pY3Jvc29mdCBVc2VyIFByaW5jaXBhbCBOYW1lCisgICAgICog
LSAiZG5zU1JWIiAoMS4zLjYuMS41LjUuNy44LjcpOiBTUlZOYW1lLCBhcyBzcGVjaWZpZWQg
aW4gUkZDIDQ5ODUKKyAgICAgKi8KKyAgICBpZiAoKE9CSl9vYmoybmlkKG9pZCkgPT0gTklE
X21zX3VwbikgJiYKKyAgICAgICAgKHZhbHVlLT50eXBlID09IFZfQVNOMV9VVEY4U1RSSU5H
KSAmJgorICAgICAgICAoc3RyID0gYXNuMV9zdHJpbmdfdG9fdXRmOChwLCB2YWx1ZS0+dmFs
dWUudXRmOHN0cmluZykpKSB7CisgICAgICAgIEFQUl9BUlJBWV9QVVNIKCplbnRyaWVzLCBj
b25zdCBjaGFyICopID0gc3RyOworICAgIH0gZWxzZSBpZiAoKE9CSl9vYmoybmlkKG9pZCkg
PT0gT0JKX3R4dDJuaWQoImlkLW9uLWRuc1NSViIpKSAmJgorICAgICAgICAgICAgICAgKHZh
bHVlLT50eXBlID09IFZfQVNOMV9JQTVTVFJJTkcpICYmCisgICAgICAgICAgICAgICAoc3Ry
ID0gYXNuMV9zdHJpbmdfdG9fdXRmOChwLCB2YWx1ZS0+dmFsdWUuaWE1c3RyaW5nKSkpIHsK
KyAgICAgICAgQVBSX0FSUkFZX1BVU0goKmVudHJpZXMsIGNvbnN0IGNoYXIgKikgPSBzdHI7
CisgICAgfQorfQorCiAvKiAKICAqIFJldHVybiBhbiBhcnJheSBvZiBzdWJqZWN0QWx0TmFt
ZSBlbnRyaWVzIG9mIHR5cGUgInR5cGUiLiBJZiBpZHggaXMgLTEsCiAgKiByZXR1cm4gYWxs
IGVudHJpZXMgb2YgdGhlIGdpdmVuIHR5cGUsIG90aGVyd2lzZSByZXR1cm4gYW4gYXJyYXkg
Y29uc2lzdGluZwogICogb2YgdGhlIG4tdGggb2NjdXJyZW5jZSBvZiB0aGF0IHR5cGUgb25s
eS4gQ3VycmVudGx5IHN1cHBvcnRlZCB0eXBlczoKICAqIEdFTl9FTUFJTCAocmZjODIyTmFt
ZSkKICAqIEdFTl9ETlMgKGROU05hbWUpCisgKiBHRU5fT1RIRVJOQU1FIChzZWUgcGFyc2Vf
b3RoZXJOYW1lX3ZhbHVlIGZvciBjdXJyZW50bHkgc3VwcG9ydGVkIGZvcm1zKQogICovCi1C
T09MIG1vZHNzbF9YNTA5X2dldFNBTihhcHJfcG9vbF90ICpwLCBYNTA5ICp4NTA5LCBpbnQg
dHlwZSwgaW50IGlkeCwKLSAgICAgICAgICAgICAgICAgICAgICAgIGFwcl9hcnJheV9oZWFk
ZXJfdCAqKmVudHJpZXMpCitCT09MIG1vZHNzbF9YNTA5X2dldFNBTihhcHJfcG9vbF90ICpw
LCBYNTA5ICp4NTA5LCBpbnQgdHlwZSwgQVNOMV9PQkpFQ1QgKm9pZCwKKyAgICAgICAgICAg
ICAgICAgICAgICAgIGludCBpZHgsIGFwcl9hcnJheV9oZWFkZXJfdCAqKmVudHJpZXMpCiB7
CiAgICAgU1RBQ0tfT0YoR0VORVJBTF9OQU1FKSAqbmFtZXM7CiAKLSAgICBpZiAoIXg1MDkg
fHwgKHR5cGUgPCBHRU5fT1RIRVJOQU1FKSB8fCAodHlwZSA+IEdFTl9SSUQpIHx8IChpZHgg
PCAtMSkgfHwKKyAgICBpZiAoIXg1MDkgfHwgKHR5cGUgPCBHRU5fT1RIRVJOQU1FKSB8fCAo
dHlwZSA9PSBHRU5fT1RIRVJOQU1FICYmICFvaWQpIHx8CisgICAgICAgICh0eXBlID4gR0VO
X1JJRCkgfHwgKGlkeCA8IC0xKSB8fAogICAgICAgICAhKCplbnRyaWVzID0gYXByX2FycmF5
X21ha2UocCwgMCwgc2l6ZW9mKGNoYXIgKikpKSkgewogICAgICAgICAqZW50cmllcyA9IE5V
TEw7CiAgICAgICAgIHJldHVybiBGQUxTRTsKQEAgLTI3NywzMyArMzA0LDQzIEBAIGNoYXIg
Km1vZHNzbF9YNTA5X05BTUVfdG9fc3RyaW5nKGFwcl9wb29sX3QgKnAsIFg1CiAKICAgICAg
ICAgZm9yIChpID0gMDsgaSA8IHNrX0dFTkVSQUxfTkFNRV9udW0obmFtZXMpOyBpKyspIHsK
ICAgICAgICAgICAgIG5hbWUgPSBza19HRU5FUkFMX05BTUVfdmFsdWUobmFtZXMsIGkpOwot
ICAgICAgICAgICAgaWYgKG5hbWUtPnR5cGUgPT0gdHlwZSkgewotICAgICAgICAgICAgICAg
IGlmICgoaWR4ID09IC0xKSB8fCAobiA9PSBpZHgpKSB7Ci0gICAgICAgICAgICAgICAgICAg
IHN3aXRjaCAodHlwZSkgewotICAgICAgICAgICAgICAgICAgICBjYXNlIEdFTl9FTUFJTDoK
LSAgICAgICAgICAgICAgICAgICAgY2FzZSBHRU5fRE5TOgotICAgICAgICAgICAgICAgICAg
ICAgICAgdXRmOHN0ciA9IGFzbjFfc3RyaW5nX3RvX3V0ZjgocCwgbmFtZS0+ZC5pYTUpOwot
ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHV0ZjhzdHIpIHsKLSAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBBUFJfQVJSQVlfUFVTSCgqZW50cmllcywgY29uc3QgY2hhciAqKSA9
IHV0ZjhzdHI7Ci0gICAgICAgICAgICAgICAgICAgICAgICB9Ci0gICAgICAgICAgICAgICAg
ICAgICAgICBicmVhazsKLSAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoKLSAgICAgICAg
ICAgICAgICAgICAgICAgIC8qCi0gICAgICAgICAgICAgICAgICAgICAgICAgKiBOb3QgaW1w
bGVtZW50ZWQgcmlnaHQgbm93OgotICAgICAgICAgICAgICAgICAgICAgICAgICogR0VOX09U
SEVSTkFNRSAob3RoZXJOYW1lKQotICAgICAgICAgICAgICAgICAgICAgICAgICogR0VOX1g0
MDAgKHg0MDBBZGRyZXNzKQotICAgICAgICAgICAgICAgICAgICAgICAgICogR0VOX0RJUk5B
TUUgKGRpcmVjdG9yeU5hbWUpCi0gICAgICAgICAgICAgICAgICAgICAgICAgKiBHRU5fRURJ
UEFSVFkgKGVkaVBhcnR5TmFtZSkKLSAgICAgICAgICAgICAgICAgICAgICAgICAqIEdFTl9V
UkkgKHVuaWZvcm1SZXNvdXJjZUlkZW50aWZpZXIpCi0gICAgICAgICAgICAgICAgICAgICAg
ICAgKiBHRU5fSVBBREQgKGlQQWRkcmVzcykKLSAgICAgICAgICAgICAgICAgICAgICAgICAq
IEdFTl9SSUQgKHJlZ2lzdGVyZWRJRCkKLSAgICAgICAgICAgICAgICAgICAgICAgICAqLwot
ICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CisKKyAgICAgICAgICAgIGlmIChuYW1l
LT50eXBlICE9IHR5cGUpCisgICAgICAgICAgICAgICAgY29udGludWU7CisKKyAgICAgICAg
ICAgIHN3aXRjaCAodHlwZSkgeworICAgICAgICAgICAgY2FzZSBHRU5fRU1BSUw6CisgICAg
ICAgICAgICBjYXNlIEdFTl9ETlM6CisgICAgICAgICAgICAgICAgaWYgKCgoaWR4ID09IC0x
KSB8fCAobiA9PSBpZHgpKSAmJgorICAgICAgICAgICAgICAgICAgICAodXRmOHN0ciA9IGFz
bjFfc3RyaW5nX3RvX3V0ZjgocCwgbmFtZS0+ZC5pYTUpKSkgeworICAgICAgICAgICAgICAg
ICAgICBBUFJfQVJSQVlfUFVTSCgqZW50cmllcywgY29uc3QgY2hhciAqKSA9IHV0ZjhzdHI7
CisgICAgICAgICAgICAgICAgfQorICAgICAgICAgICAgICAgIG4rKzsKKyAgICAgICAgICAg
ICAgICBicmVhazsKKyAgICAgICAgICAgIGNhc2UgR0VOX09USEVSTkFNRToKKyAgICAgICAg
ICAgICAgICBpZiAoIU9CSl9jbXAobmFtZS0+ZC5vdGhlck5hbWUtPnR5cGVfaWQsIG9pZCkp
IHsKKyAgICAgICAgICAgICAgICAgICAgaWYgKCgoaWR4ID09IC0xKSB8fCAobiA9PSBpZHgp
KSkgeworICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2Vfb3RoZXJOYW1lX3ZhbHVlKHAs
IG5hbWUtPmQub3RoZXJOYW1lLT52YWx1ZSwKKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBvaWQsIGVudHJpZXMpOwogICAgICAgICAgICAgICAgICAg
ICB9CisgICAgICAgICAgICAgICAgICAgIG4rKzsKICAgICAgICAgICAgICAgICB9Ci0gICAg
ICAgICAgICAgICAgaWYgKChpZHggIT0gLTEpICYmIChuKysgPiBpZHgpKQotICAgICAgICAg
ICAgICAgICAgIGJyZWFrOworICAgICAgICAgICAgICAgIGJyZWFrOworICAgICAgICAgICAg
ZGVmYXVsdDoKKyAgICAgICAgICAgICAgICAvKgorICAgICAgICAgICAgICAgICAqIE5vdCBp
bXBsZW1lbnRlZCByaWdodCBub3c6CisgICAgICAgICAgICAgICAgICogR0VOX1g0MDAgKHg0
MDBBZGRyZXNzKQorICAgICAgICAgICAgICAgICAqIEdFTl9ESVJOQU1FIChkaXJlY3RvcnlO
YW1lKQorICAgICAgICAgICAgICAgICAqIEdFTl9FRElQQVJUWSAoZWRpUGFydHlOYW1lKQor
ICAgICAgICAgICAgICAgICAqIEdFTl9VUkkgKHVuaWZvcm1SZXNvdXJjZUlkZW50aWZpZXIp
CisgICAgICAgICAgICAgICAgICogR0VOX0lQQUREIChpUEFkZHJlc3MpCisgICAgICAgICAg
ICAgICAgICogR0VOX1JJRCAocmVnaXN0ZXJlZElEKQorICAgICAgICAgICAgICAgICAqLwor
ICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgfQorCisgICAgICAgICAgICBp
ZiAoKGlkeCAhPSAtMSkgJiYgKG4gPiBpZHgpKQorICAgICAgICAgICAgICAgYnJlYWs7CiAg
ICAgICAgIH0KIAogICAgICAgICBza19HRU5FUkFMX05BTUVfcG9wX2ZyZWUobmFtZXMsIEdF
TkVSQUxfTkFNRV9mcmVlKTsKQEAgLTMyMCw3ICszNTcsNyBAQCBzdGF0aWMgQk9PTCBnZXRJ
RHMoYXByX3Bvb2xfdCAqcCwgWDUwOSAqeDUwOSwgYXByXwogCiAgICAgLyogRmlyc3QsIHRo
ZSBETlMtSURzIChkTlNOYW1lIGVudHJpZXMgaW4gdGhlIHN1YmplY3RBbHROYW1lIGV4dGVu
c2lvbikgKi8KICAgICBpZiAoIXg1MDkgfHwKLSAgICAgICAgKG1vZHNzbF9YNTA5X2dldFNB
TihwLCB4NTA5LCBHRU5fRE5TLCAtMSwgaWRzKSA9PSBGQUxTRSAmJiAhKmlkcykpIHsKKyAg
ICAgICAgKG1vZHNzbF9YNTA5X2dldFNBTihwLCB4NTA5LCBHRU5fRE5TLCBOVUxMLCAtMSwg
aWRzKSA9PSBGQUxTRSAmJiAhKmlkcykpIHsKICAgICAgICAgKmlkcyA9IE5VTEw7CiAgICAg
ICAgIHJldHVybiBGQUxTRTsKICAgICB9CkluZGV4OiBtb2R1bGVzL3NzbC9zc2xfZW5naW5l
X3ZhcnMuYwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09Ci0tLSBtb2R1bGVzL3NzbC9zc2xfZW5naW5lX3ZhcnMu
YwkocmV2aXNpb24gMTY4Nzk4MykKKysrIG1vZHVsZXMvc3NsL3NzbF9lbmdpbmVfdmFycy5j
CSh3b3JraW5nIGNvcHkpCkBAIC02NjQsNyArNjY0LDkgQEAgc3RhdGljIGNoYXIgKnNzbF92
YXJfbG9va3VwX3NzbF9jZXJ0X2RuKGFwcl9wb29sX3QKIHN0YXRpYyBjaGFyICpzc2xfdmFy
X2xvb2t1cF9zc2xfY2VydF9zYW4oYXByX3Bvb2xfdCAqcCwgWDUwOSAqeHMsIGNoYXIgKnZh
cikKIHsKICAgICBpbnQgdHlwZSwgbnVtbGVuOworICAgIEFTTjFfT0JKRUNUICpvaWQgPSBO
VUxMOwogICAgIGFwcl9hcnJheV9oZWFkZXJfdCAqZW50cmllczsKKyAgICBCT09MIGZvdW5k
OwogCiAgICAgaWYgKHN0cmNFUW4odmFyLCAiRW1haWxfIiwgNikpIHsKICAgICAgICAgdHlw
ZSA9IEdFTl9FTUFJTDsKQEAgLTY3NCw2ICs2NzYsMjAgQEAgc3RhdGljIGNoYXIgKnNzbF92
YXJfbG9va3VwX3NzbF9jZXJ0X3NhbihhcHJfcG9vbF8KICAgICAgICAgdHlwZSA9IEdFTl9E
TlM7CiAgICAgICAgIHZhciArPSA0OwogICAgIH0KKyAgICBlbHNlIGlmIChzdHJjRVFuKHZh
ciwgIk9USEVSXyIsIDYpKSB7CisgICAgICAgIHR5cGUgPSBHRU5fT1RIRVJOQU1FOworICAg
ICAgICB2YXIgKz0gNjsKKyAgICAgICAgaWYgKHN0ckVRbih2YXIsICJtc1VQTl8iLCA2KSkg
eworICAgICAgICAgICAgdmFyICs9IDY7CisgICAgICAgICAgICBvaWQgPSBPQkpfdHh0Mm9i
aigibXNVUE4iLCAwKTsKKyAgICAgICAgfQorICAgICAgICBlbHNlIGlmIChzdHJFUW4odmFy
LCAiZG5zU1JWXyIsIDcpKSB7CisgICAgICAgICAgICB2YXIgKz0gNzsKKyAgICAgICAgICAg
IG9pZCA9IE9CSl90eHQyb2JqKCJpZC1vbi1kbnNTUlYiLCAwKTsKKyAgICAgICAgfQorICAg
ICAgICBlbHNlCisgICAgICAgICAgIHJldHVybiBOVUxMOworICAgIH0KICAgICBlbHNlCiAg
ICAgICAgIHJldHVybiBOVUxMOwogCkBAIC02ODIsMTEgKzY5OCwxMSBAQCBzdGF0aWMgY2hh
ciAqc3NsX3Zhcl9sb29rdXBfc3NsX2NlcnRfc2FuKGFwcl9wb29sXwogICAgIGlmICgobnVt
bGVuIDwgMSkgfHwgKG51bWxlbiA+IDQpIHx8IChudW1sZW4gIT0gc3RybGVuKHZhcikpKQog
ICAgICAgICByZXR1cm4gTlVMTDsKIAotICAgIGlmIChtb2Rzc2xfWDUwOV9nZXRTQU4ocCwg
eHMsIHR5cGUsIGF0b2kodmFyKSwgJmVudHJpZXMpKQotICAgICAgIC8qIHJldHVybiB0aGUg
Zmlyc3QgZW50cnkgZnJvbSB0aGlzIDEtZWxlbWVudCBhcnJheSAqLwotICAgICAgIHJldHVy
biBBUFJfQVJSQVlfSURYKGVudHJpZXMsIDAsIGNoYXIgKik7Ci0gICAgZWxzZQotICAgICAg
IHJldHVybiBOVUxMOworICAgIGZvdW5kID0gbW9kc3NsX1g1MDlfZ2V0U0FOKHAsIHhzLCB0
eXBlLCBvaWQsIGF0b2kodmFyKSwgJmVudHJpZXMpOworICAgIGlmIChvaWQpCisgICAgICAg
IEFTTjFfT0JKRUNUX2ZyZWUob2lkKTsgIAorICAgIC8qIHJldHVybiB0aGUgZmlyc3QgZW50
cnkgZnJvbSB0aGlzIDEtZWxlbWVudCBhcnJheSAqLworICAgIHJldHVybiBmb3VuZCA/IEFQ
Ul9BUlJBWV9JRFgoZW50cmllcywgMCwgY2hhciAqKSA6IE5VTEw7CiB9CiAKIHN0YXRpYyBj
aGFyICpzc2xfdmFyX2xvb2t1cF9zc2xfY2VydF92YWxpZChhcHJfcG9vbF90ICpwLCBBU04x
X1RJTUUgKnRtKQpAQCAtMTAyNywyOSArMTA0Myw0MCBAQCBzdGF0aWMgdm9pZCBleHRyYWN0
X3Nhbl9hcnJheShhcHJfdGFibGVfdCAqdCwgY29ucwogdm9pZCBtb2Rzc2xfdmFyX2V4dHJh
Y3Rfc2FuX2VudHJpZXMoYXByX3RhYmxlX3QgKnQsIFNTTCAqc3NsLCBhcHJfcG9vbF90ICpw
KQogewogICAgIFg1MDkgKnhzOworICAgIEFTTjFfT0JKRUNUICpvaWQgPSBOVUxMOwogICAg
IGFwcl9hcnJheV9oZWFkZXJfdCAqZW50cmllczsKIAogICAgIC8qIHN1YmplY3RBbHROYW1l
IGVudHJpZXMgb2YgdGhlIHNlcnZlciBjZXJ0aWZpY2F0ZSAqLwogICAgIHhzID0gU1NMX2dl
dF9jZXJ0aWZpY2F0ZShzc2wpOwogICAgIGlmICh4cykgewotICAgICAgICBpZiAobW9kc3Ns
X1g1MDlfZ2V0U0FOKHAsIHhzLCBHRU5fRU1BSUwsIC0xLCAmZW50cmllcykpIHsKKyAgICAg
ICAgaWYgKG1vZHNzbF9YNTA5X2dldFNBTihwLCB4cywgR0VOX0VNQUlMLCBOVUxMLCAtMSwg
JmVudHJpZXMpKSB7CiAgICAgICAgICAgICBleHRyYWN0X3Nhbl9hcnJheSh0LCAiU1NMX1NF
UlZFUl9TQU5fRW1haWwiLCBlbnRyaWVzLCBwKTsKICAgICAgICAgfQotICAgICAgICBpZiAo
bW9kc3NsX1g1MDlfZ2V0U0FOKHAsIHhzLCBHRU5fRE5TLCAtMSwgJmVudHJpZXMpKSB7Cisg
ICAgICAgIGlmIChtb2Rzc2xfWDUwOV9nZXRTQU4ocCwgeHMsIEdFTl9ETlMsIE5VTEwsIC0x
LCAmZW50cmllcykpIHsKICAgICAgICAgICAgIGV4dHJhY3Rfc2FuX2FycmF5KHQsICJTU0xf
U0VSVkVSX1NBTl9ETlMiLCBlbnRyaWVzLCBwKTsKICAgICAgICAgfQorICAgICAgICBpZiAo
KG9pZCA9IE9CSl90eHQyb2JqKCJpZC1vbi1kbnNTUlYiLCAwKSkgJiYKKyAgICAgICAgICAg
IG1vZHNzbF9YNTA5X2dldFNBTihwLCB4cywgR0VOX09USEVSTkFNRSwgb2lkLCAtMSwgJmVu
dHJpZXMpKSB7CisgICAgICAgICAgICBleHRyYWN0X3Nhbl9hcnJheSh0LCAiU1NMX1NFUlZF
Ul9TQU5fT1RIRVJfZG5zU1JWIiwgZW50cmllcywgcCk7CisgICAgICAgICAgICBBU04xX09C
SkVDVF9mcmVlKG9pZCk7CisgICAgICAgIH0KICAgICAgICAgLyogbm8gbmVlZCB0byBmcmVl
IHhzIChyZWZjb3VudCBkb2VzIG5vdCBpbmNyZWFzZSkgKi8KICAgICB9CiAKICAgICAvKiBz
dWJqZWN0QWx0TmFtZSBlbnRyaWVzIG9mIHRoZSBjbGllbnQgY2VydGlmaWNhdGUgKi8KICAg
ICB4cyA9IFNTTF9nZXRfcGVlcl9jZXJ0aWZpY2F0ZShzc2wpOwogICAgIGlmICh4cykgewot
ICAgICAgICBpZiAobW9kc3NsX1g1MDlfZ2V0U0FOKHAsIHhzLCBHRU5fRU1BSUwsIC0xLCAm
ZW50cmllcykpIHsKKyAgICAgICAgaWYgKG1vZHNzbF9YNTA5X2dldFNBTihwLCB4cywgR0VO
X0VNQUlMLCBOVUxMLCAtMSwgJmVudHJpZXMpKSB7CiAgICAgICAgICAgICBleHRyYWN0X3Nh
bl9hcnJheSh0LCAiU1NMX0NMSUVOVF9TQU5fRW1haWwiLCBlbnRyaWVzLCBwKTsKICAgICAg
ICAgfQotICAgICAgICBpZiAobW9kc3NsX1g1MDlfZ2V0U0FOKHAsIHhzLCBHRU5fRE5TLCAt
MSwgJmVudHJpZXMpKSB7CisgICAgICAgIGlmIChtb2Rzc2xfWDUwOV9nZXRTQU4ocCwgeHMs
IEdFTl9ETlMsIE5VTEwsIC0xLCAmZW50cmllcykpIHsKICAgICAgICAgICAgIGV4dHJhY3Rf
c2FuX2FycmF5KHQsICJTU0xfQ0xJRU5UX1NBTl9ETlMiLCBlbnRyaWVzLCBwKTsKICAgICAg
ICAgfQorICAgICAgICBpZiAoKG9pZCA9IE9CSl90eHQyb2JqKCJtc1VQTiIsIDApKSAmJgor
ICAgICAgICAgICAgbW9kc3NsX1g1MDlfZ2V0U0FOKHAsIHhzLCBHRU5fT1RIRVJOQU1FLCBv
aWQsIC0xLCAmZW50cmllcykpIHsKKyAgICAgICAgICAgIGV4dHJhY3Rfc2FuX2FycmF5KHQs
ICJTU0xfQ0xJRU5UX1NBTl9PVEhFUl9tc1VQTiIsIGVudHJpZXMsIHApOworICAgICAgICAg
ICAgQVNOMV9PQkpFQ1RfZnJlZShvaWQpOworICAgICAgICB9CiAgICAgICAgIFg1MDlfZnJl
ZSh4cyk7CiAgICAgfQogfQpJbmRleDogbW9kdWxlcy9zc2wvc3NsX3V0aWxfc3NsLmgKPT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PQotLS0gbW9kdWxlcy9zc2wvc3NsX3V0aWxfc3NsLmgJKHJldmlzaW9uIDE2
ODc5ODMpCisrKyBtb2R1bGVzL3NzbC9zc2xfdXRpbF9zc2wuaAkod29ya2luZyBjb3B5KQpA
QCAtNjUsNyArNjUsNyBAQCBpbnQgICAgICAgICBtb2Rzc2xfc21hcnRfc2h1dGRvd24oU1NM
ICpzc2wpOwogQk9PTCAgICAgICAgbW9kc3NsX1g1MDlfZ2V0QkMoWDUwOSAqLCBpbnQgKiwg
aW50ICopOwogY2hhciAgICAgICAqbW9kc3NsX1g1MDlfTkFNRV9FTlRSWV90b19zdHJpbmco
YXByX3Bvb2xfdCAqcCwgWDUwOV9OQU1FX0VOVFJZICp4c25lKTsKIGNoYXIgICAgICAgKm1v
ZHNzbF9YNTA5X05BTUVfdG9fc3RyaW5nKGFwcl9wb29sX3QgKiwgWDUwOV9OQU1FICosIGlu
dCk7Ci1CT09MICAgICAgICBtb2Rzc2xfWDUwOV9nZXRTQU4oYXByX3Bvb2xfdCAqLCBYNTA5
ICosIGludCwgaW50LCBhcHJfYXJyYXlfaGVhZGVyX3QgKiopOworQk9PTCAgICAgICAgbW9k
c3NsX1g1MDlfZ2V0U0FOKGFwcl9wb29sX3QgKiwgWDUwOSAqLCBpbnQsIEFTTjFfT0JKRUNU
ICosIGludCwgYXByX2FycmF5X2hlYWRlcl90ICoqKTsKIEJPT0wgICAgICAgIG1vZHNzbF9Y
NTA5X21hdGNoX25hbWUoYXByX3Bvb2xfdCAqLCBYNTA5ICosIGNvbnN0IGNoYXIgKiwgQk9P
TCwgc2VydmVyX3JlYyAqKTsKIGNoYXIgICAgICAgKm1vZHNzbF9TU0xfU0VTU0lPTl9pZDJz
eih1bnNpZ25lZCBjaGFyICosIGludCwgY2hhciAqLCBpbnQpOwogCg==
--------------050308000403060005080002--

From dev-return-83177-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 28 15:21:02 2015
Return-Path: <dev-return-83177-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9243D18287
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 28 Jun 2015 15:21:02 +0000 (UTC)
Received: (qmail 52057 invoked by uid 500); 28 Jun 2015 15:21:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51972 invoked by uid 500); 28 Jun 2015 15:21:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51962 invoked by uid 99); 28 Jun 2015 15:21:02 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 Jun 2015 15:21:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 8BE8F1A62CE
	for <dev@httpd.apache.org>; Sun, 28 Jun 2015 15:21:01 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.109
X-Spam-Level:
X-Spam-Status: No, score=-0.109 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=velox.ch header.b=SuHFoGQL;
	dkim=pass (2048-bit key) header.d=velox.ch header.b=xSAYedsf
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id KlR_6wtp_i_V for <dev@httpd.apache.org>;
	Sun, 28 Jun 2015 15:20:47 +0000 (UTC)
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id C930A21232
	for <dev@httpd.apache.org>; Sun, 28 Jun 2015 15:20:46 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t5SFKkXK030288
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Sun, 28 Jun 2015 17:20:46 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1435504846;
	bh=tYZPFBDFDEbUmjn4cDB7UP8HK0OuNaSRdISJcZqQWTw=;
	h=From:Subject:To:References:Date:In-Reply-To;
	b=SuHFoGQLqLzc80rmx4B71qdnj42qdYKDc8pkq5d380Rqlc1Y90xksDhwWNLDHCY/K
	 cF57MwLgkJclDE18TJgRMSTXX1Z1V5WHXlASubHWtQfCLDFL4PAYYlQhfyCUfbPWT7
	 4yI2ebl+F8GM6Ehwccwesv6hIkZqdf2nOoG54vYxU5gLuWpXEbrYEDIRF+SuDxSZnl
	 nC3d4OF98TIgzDfr6G4LVEkE05mBd2iGOwFSJqvPXpr6VQmryLciAl0kQH/XmQBwCA
	 HQDumLZy+OEQmTH6fYdZ0RXZYH370vxN7+rceCO4nLRLzsM83CGakvPI35bbvwTLIW
	 0PXqnqLwUx+dg==
From: Kaspar Brand <httpd-dev.2014@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1435504845;
	bh=tYZPFBDFDEbUmjn4cDB7UP8HK0OuNaSRdISJcZqQWTw=;
	h=From:Subject:To:References:Date:In-Reply-To;
	b=xSAYedsfMJiWJjsfQjwBegyvyeNryUwiG2Nd6pV1uFSFYbktA52JEmk8HM7z5Z8Lp
	 FJo2AyeD0dyiGMbjjeE5vy2Lx3SwnfC0RxJV/WzhJPrUt2tbPAz8u79gTPuisH8JMB
	 FTkP/PtoiIlBNAIemuZY3IdczpZeBh7dNkAFF7ne3RghtVsyNjx7gLYnwwLBK7+8o6
	 eohhzADjz+qZpbHxZ6hWuTfm0Idwh94vRfQ/79pcm4LRMPa/P8dMbNHJP5mYvl6unQ
	 ZBDbqAQtpqIDtns8G8iYpTfJ8zODDMXJ87l9acSZB4lS5uQ3xMj282F9FbTmfclwvD
	 fjD4C9Q+VzBkg==
Subject: Re: mod_ssl static linking, the eternal topic...
To: dev@httpd.apache.org
References: <B717AC51-B6FC-40BF-B276-7B7175758F42@greenbytes.de>
 <55894569.1060308@kippdata.de>
 <1104E63B-7B73-49B9-873F-6E3E998E735E@greenbytes.de>
Message-ID: <559010D0.4050906@velox.ch>
Date: Sun, 28 Jun 2015 17:20:48 +0200
MIME-Version: 1.0
In-Reply-To: <1104E63B-7B73-49B9-873F-6E3E998E735E@greenbytes.de>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit

On 23.06.2015 13:40, Stefan Eissing wrote:
> Sorry for missing that: it is still dynamically linked.
> 
>> Am 23.06.2015 um 13:39 schrieb Rainer Jung <rainer.jung@kippdata.de>:
>>
>> Am 23.06.2015 um 11:34 schrieb Stefan Eissing:
>>> Sorry to bother the list, but I am banging my head against the wall trying to build mod_ssl linked statically with openssl on Ubuntu.
>>>
>>> Is there something obvious that I miss in my
>>>
>>>     configure --enable-ssl=shared --with-ssl=$(BLD_PREFIX) --enable-ssl-staticlib-deps
>>>
>>> ? It works under OS X, but not on Ubuntu 10.04 LTS. $(BLD_PREFIX)/lib shows
>>> -rw-r--r-- 1 sei sei 4498826 Jun 22 18:40 libcrypto.a
>>> lrwxrwxrwx 1 sei sei      18 Jun 22 18:40 libcrypto.so -> libcrypto.so.1.0.0
>>> -r-xr-xr-x 1 sei sei 2682743 Jun 22 18:40 libcrypto.so.1.0.0
>>> ...
>>> -rw-r--r-- 1 sei sei  829936 Jun 22 18:40 libssl.a
>>> lrwxrwxrwx 1 sei sei      15 Jun 22 18:40 libssl.so -> libssl.so.1.0.0
>>> -r-xr-xr-x 1 sei sei  549375 Jun 22 18:40 libssl.so.1.0.0
>>
>> What does "not work" mean? Any errors (which) or is mod_ssl still linked against the shared libs?

I think you might have been mislead by the naming of the
"--enable-ssl-staticlib-deps" option: it does not have the effect of
forcing mod_ssl.so to be linked statically - it only adds those those
libraries which are "suitable for static linking" (see the documentation
on "--static" in pkg-config(1)).

The essential point is that the $(BLD_PREFIX)/lib directory must not
include any shared libraries (see also
https://mail-archives.apache.org/mod_mbox/httpd-dev/201504.mbox/%3C554072B0.40708%40velox.ch%3E).
As long as libtool finds shared libraries in this directory, it will
prefer them over the static ones.

Kaspar

From dev-return-83178-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Jun 28 17:51:54 2015
Return-Path: <dev-return-83178-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6A206185CE
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 28 Jun 2015 17:51:54 +0000 (UTC)
Received: (qmail 21089 invoked by uid 500); 28 Jun 2015 17:51:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 21014 invoked by uid 500); 28 Jun 2015 17:51:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 21004 invoked by uid 99); 28 Jun 2015 17:51:53 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 28 Jun 2015 17:51:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id F38161A62CC
	for <dev@httpd.apache.org>; Sun, 28 Jun 2015 17:51:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id BxNdqWlElHRJ for <dev@httpd.apache.org>;
	Sun, 28 Jun 2015 17:51:40 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id CF5D92095A
	for <dev@httpd.apache.org>; Sun, 28 Jun 2015 17:51:39 +0000 (UTC)
Received: from [192.168.178.55] (unknown [84.150.93.240])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 3889915A028B
	for <dev@httpd.apache.org>; Sun, 28 Jun 2015 19:51:30 +0200 (CEST)
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Mime-Version: 1.0 (1.0)
Subject: Re: mod_ssl static linking, the eternal topic...
Message-Id: <5BF72A4E-6A9A-40C3-B650-E81C6F28C9B1@greenbytes.de>
Date: Sun, 28 Jun 2015 17:52:22 +0200
References: <B717AC51-B6FC-40BF-B276-7B7175758F42@greenbytes.de> <55894569.1060308@kippdata.de> <1104E63B-7B73-49B9-873F-6E3E998E735E@greenbytes.de> <559010D0.4050906@velox.ch>
In-Reply-To: <559010D0.4050906@velox.ch>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
X-Mailer: iPhone Mail (12F70)

Ah, thanks Kaspar. That explains it.=20



> Am 28.06.2015 um 17:20 schrieb Kaspar Brand <httpd-dev.2014@velox.ch>:
>=20
>> On 23.06.2015 13:40, Stefan Eissing wrote:
>> Sorry for missing that: it is still dynamically linked.
>>=20
>>> Am 23.06.2015 um 13:39 schrieb Rainer Jung <rainer.jung@kippdata.de>:
>>>=20
>>> Am 23.06.2015 um 11:34 schrieb Stefan Eissing:
>>>> Sorry to bother the list, but I am banging my head against the wall try=
ing to build mod_ssl linked statically with openssl on Ubuntu.
>>>>=20
>>>> Is there something obvious that I miss in my
>>>>=20
>>>>    configure --enable-ssl=3Dshared --with-ssl=3D$(BLD_PREFIX) --enable-=
ssl-staticlib-deps
>>>>=20
>>>> ? It works under OS X, but not on Ubuntu 10.04 LTS. $(BLD_PREFIX)/lib s=
hows
>>>> -rw-r--r-- 1 sei sei 4498826 Jun 22 18:40 libcrypto.a
>>>> lrwxrwxrwx 1 sei sei      18 Jun 22 18:40 libcrypto.so -> libcrypto.so.=
1.0.0
>>>> -r-xr-xr-x 1 sei sei 2682743 Jun 22 18:40 libcrypto.so.1.0.0
>>>> ...
>>>> -rw-r--r-- 1 sei sei  829936 Jun 22 18:40 libssl.a
>>>> lrwxrwxrwx 1 sei sei      15 Jun 22 18:40 libssl.so -> libssl.so.1.0.0
>>>> -r-xr-xr-x 1 sei sei  549375 Jun 22 18:40 libssl.so.1.0.0
>>>=20
>>> What does "not work" mean? Any errors (which) or is mod_ssl still linked=
 against the shared libs?
>=20
> I think you might have been mislead by the naming of the
> "--enable-ssl-staticlib-deps" option: it does not have the effect of
> forcing mod_ssl.so to be linked statically - it only adds those those
> libraries which are "suitable for static linking" (see the documentation
> on "--static" in pkg-config(1)).
>=20
> The essential point is that the $(BLD_PREFIX)/lib directory must not
> include any shared libraries (see also
> https://mail-archives.apache.org/mod_mbox/httpd-dev/201504.mbox/%3C554072B=
0.40708%40velox.ch%3E).
> As long as libtool finds shared libraries in this directory, it will
> prefer them over the static ones.
>=20
> Kaspar

From dev-return-83179-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 29 11:47:52 2015
Return-Path: <dev-return-83179-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2615C18D91
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Jun 2015 11:47:52 +0000 (UTC)
Received: (qmail 3129 invoked by uid 500); 29 Jun 2015 11:47:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3074 invoked by uid 500); 29 Jun 2015 11:47:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3064 invoked by uid 99); 29 Jun 2015 11:47:50 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Jun 2015 11:47:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 793F81A631A
	for <dev@httpd.apache.org>; Mon, 29 Jun 2015 11:47:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.768
X-Spam-Level:
X-Spam-Status: No, score=0.768 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 6_MtwIZKCDdU for <dev@httpd.apache.org>;
	Mon, 29 Jun 2015 11:47:49 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id F0E032092B
	for <dev@httpd.apache.org>; Mon, 29 Jun 2015 11:47:48 +0000 (UTC)
Received: from int-mx11.intmail.prod.int.phx2.redhat.com (int-mx11.intmail.prod.int.phx2.redhat.com [10.5.11.24])
	by mx1.redhat.com (Postfix) with ESMTPS id D8F3F33D8C6
	for <dev@httpd.apache.org>; Mon, 29 Jun 2015 11:47:47 +0000 (UTC)
Received: from ditustat.brq.redhat.com (ditustat.brq.redhat.com [10.34.131.181])
	by int-mx11.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t5TBlkI7028901
	(version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Mon, 29 Jun 2015 07:47:47 -0400
Received: from adelton by ditustat.brq.redhat.com with local (Exim 4.85)
	(envelope-from <jpazdziora@redhat.com>)
	id 1Z9XXN-0006dY-KT
	for dev@httpd.apache.org; Mon, 29 Jun 2015 13:47:45 +0200
Date: Mon, 29 Jun 2015 13:47:45 +0200
From: Jan Pazdziora <jpazdziora@redhat.com>
To: dev@httpd.apache.org
Subject: Re: Using UPN from subjectAltName with SSLUserName
Message-ID: <20150629114745.GC11744@redhat.com>
References: <20150618094946.GU18173@redhat.com>
 <CAKQ1sVPVuX7ntRt=XjSJ6Og1-gYxjkHv_N2aSNy6wR62XJ_gGw@mail.gmail.com>
 <20150619145116.GK18173@redhat.com>
 <55865FC6.4070802@velox.ch>
 <20150622083710.GC3448@redhat.com>
 <55900EBD.4020604@velox.ch>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <55900EBD.4020604@velox.ch>
Organization: Red Hat Czech s.r.o., =?iso-8859-2?Q?Purky?=
 =?iso-8859-2?Q?=F2ova_99=2F71=2C_612_45_Brno=2C_Czech_Republic=3B_registe?=
 =?iso-8859-2?Q?red?= in Brno under identification number CZ27690016
User-Agent: Mutt/1.5.23 (2014-03-12)
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.24

On Sun, Jun 28, 2015 at 05:11:57PM +0200, Kaspar Brand wrote:
> On 22.06.2015 10:37, Jan Pazdziora wrote:
> > Please find a new patch attached which I hope covers all the
> > parts you've outlined, for SSL_CLIENT_SAN_OTHER_msUPN_*.
> 
> Thanks. Your implementation assumes that only a single otherName form
> (msUPN) needs to be supported, but I would prefer to code it in a
> somewhat more extensible way.
> 
> Does the attached patch work for you? As a practical way of

Yes it does.

My only question (and comments bellow) is about passing the oid rather
than nid through the functions. I can see the string "id-on-dnsSRV"
used twice in the patch in call OBJ_txt2nid and twice in call OBJ_txt2obj
as well when ideally all which should be needed one
OBJ_txt2nid("id-on-dnsSRV") and one OBJ_create if not found -- the rest
could be done by comparing integers (nid). Unless I'm missing something
about the oid/nid interaction.

> demonstrating generic support of otherName forms, I have
> added the case of the SRVName otherName form (RFC 4985, for things like
> _carddavs._tcp.example.com, exposed via SSL_SERVER_SAN_OTHER_dnsSRV_n).
> 
> Kaspar

> Index: modules/ssl/ssl_engine_init.c
> ===================================================================
> --- modules/ssl/ssl_engine_init.c	(revision 1687983)
> +++ modules/ssl/ssl_engine_init.c	(working copy)
> @@ -352,6 +352,11 @@ apr_status_t ssl_init_Module(apr_pool_t *p, apr_po
>  
>      init_dh_params();
>  
> +    if (OBJ_txt2nid("id-on-dnsSRV") == NID_undef) {
> +        (void)OBJ_create("1.3.6.1.5.5.7.8.7", "id-on-dnsSRV",
> +                         "SRVName otherName form");
> +    }

Why do the OBJ_create call here and not in
ssl_var_lookup_ssl_cert_san, once it it clear it will be needed at
all?

> Index: modules/ssl/ssl_util_ssl.c
> ===================================================================
> --- modules/ssl/ssl_util_ssl.c	(revision 1687983)
> +++ modules/ssl/ssl_util_ssl.c	(working copy)
> @@ -252,19 +252,46 @@ char *modssl_X509_NAME_to_string(apr_pool_t *p, X5
>      return result;
>  }
>  
> +static void parse_otherName_value(apr_pool_t *p, ASN1_TYPE *value,
> +                                  ASN1_OBJECT *oid,
> +                                  apr_array_header_t **entries)
> +{
> +    const char *str;
> +
> +    if (!value || !oid || !*entries)
> +       return;
> +
> +    /* 
> +     * Currently supported otherName forms:
> +     * - "msUPN" (1.3.6.1.4.1.311.20.2.3): Microsoft User Principal Name
> +     * - "dnsSRV" (1.3.6.1.5.5.7.8.7): SRVName, as specified in RFC 4985
> +     */
> +    if ((OBJ_obj2nid(oid) == NID_ms_upn) &&

Since the OBJ_obj2nid is made always before the comparison, could it be
simpler to just convert to nid in ssl_var_lookup_ssl_cert_san and pass
int, instead passingof ASN1_OBJECT * to modssl_X509_getSAN and
parse_otherName_value?

> +        (value->type == V_ASN1_UTF8STRING) &&
> +        (str = asn1_string_to_utf8(p, value->value.utf8string))) {
> +        APR_ARRAY_PUSH(*entries, const char *) = str;
> +    } else if ((OBJ_obj2nid(oid) == OBJ_txt2nid("id-on-dnsSRV")) &&
> +               (value->type == V_ASN1_IA5STRING) &&
> +               (str = asn1_string_to_utf8(p, value->value.ia5string))) {
> +        APR_ARRAY_PUSH(*entries, const char *) = str;
> +    }
> +}
> +
>  /* 
>   * Return an array of subjectAltName entries of type "type". If idx is -1,
>   * return all entries of the given type, otherwise return an array consisting
>   * of the n-th occurrence of that type only. Currently supported types:
>   * GEN_EMAIL (rfc822Name)
>   * GEN_DNS (dNSName)
> + * GEN_OTHERNAME (see parse_otherName_value for currently supported forms)
>   */
> -BOOL modssl_X509_getSAN(apr_pool_t *p, X509 *x509, int type, int idx,
> -                        apr_array_header_t **entries)
> +BOOL modssl_X509_getSAN(apr_pool_t *p, X509 *x509, int type, ASN1_OBJECT *oid,
> +                        int idx, apr_array_header_t **entries)
>  {
>      STACK_OF(GENERAL_NAME) *names;
>  
> -    if (!x509 || (type < GEN_OTHERNAME) || (type > GEN_RID) || (idx < -1) ||
> +    if (!x509 || (type < GEN_OTHERNAME) || (type == GEN_OTHERNAME && !oid) ||
> +        (type > GEN_RID) || (idx < -1) ||
>          !(*entries = apr_array_make(p, 0, sizeof(char *)))) {
>          *entries = NULL;
>          return FALSE;
> @@ -277,33 +304,43 @@ char *modssl_X509_NAME_to_string(apr_pool_t *p, X5
>  
>          for (i = 0; i < sk_GENERAL_NAME_num(names); i++) {
>              name = sk_GENERAL_NAME_value(names, i);
> -            if (name->type == type) {
> -                if ((idx == -1) || (n == idx)) {
> -                    switch (type) {
> -                    case GEN_EMAIL:
> -                    case GEN_DNS:
> -                        utf8str = asn1_string_to_utf8(p, name->d.ia5);
> -                        if (utf8str) {
> -                            APR_ARRAY_PUSH(*entries, const char *) = utf8str;
> -                        }
> -                        break;
> -                    default:
> -                        /*
> -                         * Not implemented right now:
> -                         * GEN_OTHERNAME (otherName)
> -                         * GEN_X400 (x400Address)
> -                         * GEN_DIRNAME (directoryName)
> -                         * GEN_EDIPARTY (ediPartyName)
> -                         * GEN_URI (uniformResourceIdentifier)
> -                         * GEN_IPADD (iPAddress)
> -                         * GEN_RID (registeredID)
> -                         */
> -                        break;
> +
> +            if (name->type != type)
> +                continue;
> +
> +            switch (type) {
> +            case GEN_EMAIL:
> +            case GEN_DNS:
> +                if (((idx == -1) || (n == idx)) &&
> +                    (utf8str = asn1_string_to_utf8(p, name->d.ia5))) {
> +                    APR_ARRAY_PUSH(*entries, const char *) = utf8str;
> +                }
> +                n++;
> +                break;
> +            case GEN_OTHERNAME:
> +                if (!OBJ_cmp(name->d.otherName->type_id, oid)) {

If we used nid throughout the call stack, we could just do integer
comparison here.

-- 
Jan Pazdziora
Senior Principal Software Engineer, Identity Management Engineering, Red Hat

From dev-return-83180-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 29 13:14:55 2015
Return-Path: <dev-return-83180-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 80B38180FE
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Jun 2015 13:14:55 +0000 (UTC)
Received: (qmail 86643 invoked by uid 500); 29 Jun 2015 13:14:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86575 invoked by uid 500); 29 Jun 2015 13:14:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86565 invoked by uid 99); 29 Jun 2015 13:14:55 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Jun 2015 13:14:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id A03FEC09C6
	for <dev@httpd.apache.org>; Mon, 29 Jun 2015 13:14:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.768
X-Spam-Level:
X-Spam-Status: No, score=0.768 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
	T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id SFRzU7cd2uQT for <dev@httpd.apache.org>;
	Mon, 29 Jun 2015 13:14:52 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 8AC0A2122D
	for <dev@httpd.apache.org>; Mon, 29 Jun 2015 13:14:52 +0000 (UTC)
Received: from int-mx10.intmail.prod.int.phx2.redhat.com (int-mx10.intmail.prod.int.phx2.redhat.com [10.5.11.23])
	by mx1.redhat.com (Postfix) with ESMTPS id D990A3B3C1
	for <dev@httpd.apache.org>; Mon, 29 Jun 2015 13:14:51 +0000 (UTC)
Received: from ditustat.brq.redhat.com (ditustat.brq.redhat.com [10.34.131.181])
	by int-mx10.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t5TDEnEs012758
	(version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=NO)
	for <dev@httpd.apache.org>; Mon, 29 Jun 2015 09:14:51 -0400
Received: from adelton by ditustat.brq.redhat.com with local (Exim 4.85)
	(envelope-from <jpazdziora@redhat.com>)
	id 1Z9Ytd-0000Vt-He
	for dev@httpd.apache.org; Mon, 29 Jun 2015 15:14:49 +0200
Date: Mon, 29 Jun 2015 15:14:49 +0200
From: Jan Pazdziora <jpazdziora@redhat.com>
To: dev@httpd.apache.org
Subject: Re: Using UPN from subjectAltName with SSLUserName
Message-ID: <20150629131449.GD11744@redhat.com>
References: <20150618094946.GU18173@redhat.com>
 <CAKQ1sVPVuX7ntRt=XjSJ6Og1-gYxjkHv_N2aSNy6wR62XJ_gGw@mail.gmail.com>
 <20150619145116.GK18173@redhat.com>
 <55865FC6.4070802@velox.ch>
 <20150622083710.GC3448@redhat.com>
 <55900EBD.4020604@velox.ch>
 <20150629114745.GC11744@redhat.com>
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="cWoXeonUoKmBZSoM"
Content-Disposition: inline
In-Reply-To: <20150629114745.GC11744@redhat.com>
Organization: Red Hat Czech s.r.o., =?iso-8859-2?Q?Purky?=
 =?iso-8859-2?Q?=F2ova_99=2F71=2C_612_45_Brno=2C_Czech_Republic=3B_registe?=
 =?iso-8859-2?Q?red?= in Brno under identification number CZ27690016
User-Agent: Mutt/1.5.23 (2014-03-12)
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.23


--cWoXeonUoKmBZSoM
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

On Mon, Jun 29, 2015 at 01:47:45PM +0200, Jan Pazdziora wrote:
> On Sun, Jun 28, 2015 at 05:11:57PM +0200, Kaspar Brand wrote:
> > On 22.06.2015 10:37, Jan Pazdziora wrote:
> > > Please find a new patch attached which I hope covers all the
> > > parts you've outlined, for SSL_CLIENT_SAN_OTHER_msUPN_*.
> > 
> > Thanks. Your implementation assumes that only a single otherName form
> > (msUPN) needs to be supported, but I would prefer to code it in a
> > somewhat more extensible way.
> > 
> > Does the attached patch work for you? As a practical way of
> 
> Yes it does.
> 
> My only question (and comments bellow) is about passing the oid rather
> than nid through the functions. I can see the string "id-on-dnsSRV"
> used twice in the patch in call OBJ_txt2nid and twice in call OBJ_txt2obj
> as well when ideally all which should be needed one
> OBJ_txt2nid("id-on-dnsSRV") and one OBJ_create if not found -- the rest
> could be done by comparing integers (nid). Unless I'm missing something
> about the oid/nid interaction.

Ah, now I see it -- you look at the semantics of oid to compare
value->type so nid would not be enough.

How about just passing char * and doing all the mapping logic
including possible OBJ_create in parse_otherName_value? My goal here
is to have all the "hard" work of determining the semantics isolated
in one place.

Please see patch attached.

-- 
Jan Pazdziora
Senior Principal Software Engineer, Identity Management Engineering, Red Hat

--cWoXeonUoKmBZSoM
Content-Type: text/plain; charset=us-ascii
Content-Disposition: attachment; filename="bz-32806.mod_ssl-san-othername.adelton.patch2"

Index: modules/ssl/ssl_engine_init.c
===================================================================
--- modules/ssl/ssl_engine_init.c	(revision 1688186)
+++ modules/ssl/ssl_engine_init.c	(working copy)
@@ -1902,5 +1902,7 @@
 
     free_dh_params();
 
+    OBJ_cleanup();
+
     return APR_SUCCESS;
 }
Index: modules/ssl/ssl_engine_vars.c
===================================================================
--- modules/ssl/ssl_engine_vars.c	(revision 1688186)
+++ modules/ssl/ssl_engine_vars.c	(working copy)
@@ -665,6 +665,7 @@
 {
     int type, numlen;
     apr_array_header_t *entries;
+    const char *id = NULL;
 
     if (strcEQn(var, "Email_", 6)) {
         type = GEN_EMAIL;
@@ -674,6 +675,20 @@
         type = GEN_DNS;
         var += 4;
     }
+    else if (strcEQn(var, "OTHER_", 6)) {
+        type = GEN_OTHERNAME;
+        var += 6;
+        if (strEQn(var, "msUPN_", 6)) {
+            var += 6;
+            id = "msUPN";
+        }
+        else if (strEQn(var, "dnsSRV_", 7)) {
+            var += 7;
+            id = "id-on-dnsSRV";
+        }
+        else
+           return NULL;
+    }
     else
         return NULL;
 
@@ -682,7 +697,7 @@
     if ((numlen < 1) || (numlen > 4) || (numlen != strlen(var)))
         return NULL;
 
-    if (modssl_X509_getSAN(p, xs, type, atoi(var), &entries))
+    if (modssl_X509_getSAN(p, xs, type, id, atoi(var), &entries))
        /* return the first entry from this 1-element array */
        return APR_ARRAY_IDX(entries, 0, char *);
     else
@@ -1032,12 +1047,15 @@
     /* subjectAltName entries of the server certificate */
     xs = SSL_get_certificate(ssl);
     if (xs) {
-        if (modssl_X509_getSAN(p, xs, GEN_EMAIL, -1, &entries)) {
+        if (modssl_X509_getSAN(p, xs, GEN_EMAIL, NULL, -1, &entries)) {
             extract_san_array(t, "SSL_SERVER_SAN_Email", entries, p);
         }
-        if (modssl_X509_getSAN(p, xs, GEN_DNS, -1, &entries)) {
+        if (modssl_X509_getSAN(p, xs, GEN_DNS, NULL, -1, &entries)) {
             extract_san_array(t, "SSL_SERVER_SAN_DNS", entries, p);
         }
+        if (modssl_X509_getSAN(p, xs, GEN_DNS, "id-on-dnsSRV", -1, &entries)) {
+            extract_san_array(t, "SSL_SERVER_SAN_OTHER_dnsSRV", entries, p);
+        }
         /* no need to free xs (refcount does not increase) */
     }
 
@@ -1044,12 +1062,15 @@
     /* subjectAltName entries of the client certificate */
     xs = SSL_get_peer_certificate(ssl);
     if (xs) {
-        if (modssl_X509_getSAN(p, xs, GEN_EMAIL, -1, &entries)) {
+        if (modssl_X509_getSAN(p, xs, GEN_EMAIL, NULL, -1, &entries)) {
             extract_san_array(t, "SSL_CLIENT_SAN_Email", entries, p);
         }
-        if (modssl_X509_getSAN(p, xs, GEN_DNS, -1, &entries)) {
+        if (modssl_X509_getSAN(p, xs, GEN_DNS, NULL, -1, &entries)) {
             extract_san_array(t, "SSL_CLIENT_SAN_DNS", entries, p);
         }
+        if (modssl_X509_getSAN(p, xs, GEN_OTHERNAME, "msUPN", -1, &entries)) {
+            extract_san_array(t, "SSL_CLIENT_SAN_OTHER_msUPN", entries, p);
+        }
         X509_free(xs);
     }
 }
Index: modules/ssl/ssl_util_ssl.c
===================================================================
--- modules/ssl/ssl_util_ssl.c	(revision 1688186)
+++ modules/ssl/ssl_util_ssl.c	(working copy)
@@ -252,6 +252,46 @@
     return result;
 }
 
+static BOOL parse_otherName_value(apr_pool_t *p, OTHERNAME *othername,
+                                  const char *id,
+                                  apr_array_header_t **entries)
+{
+    if (!othername || !(othername->value) || (othername->type_id == NID_undef) ||
+       !id || !*entries)
+       return FALSE;
+
+    /* 
+     * Currently supported otherName forms:
+     * - "msUPN" (1.3.6.1.4.1.311.20.2.3): Microsoft User Principal Name
+     * - "id-on-dnsSRV" (1.3.6.1.5.5.7.8.7): SRVName, as specified in RFC 4985
+     */
+
+    if (!strcmp(id, "msUPN")) {
+        const char *str;
+        if ((OBJ_obj2nid(othername->type_id) == NID_ms_upn) &&
+            (othername->value->type == V_ASN1_UTF8STRING) &&
+            (str = asn1_string_to_utf8(p, othername->value->value.utf8string))) {
+            APR_ARRAY_PUSH(*entries, const char *) = str;
+            return TRUE;
+        }
+    }
+    else if (!strcmp(id, "id-on-dnsSRV")) {
+        const char *str;
+        int nid = OBJ_txt2nid(id);
+        if (nid == NID_undef) {
+            nid = OBJ_create("1.3.6.1.5.5.7.8.7", "id-on-dnsSRV",
+                             "SRVName otherName form");
+        }
+        if ((OBJ_obj2nid(othername->type_id) == nid) &&
+            (othername->value->type == V_ASN1_IA5STRING) &&
+            (str = asn1_string_to_utf8(p, othername->value->value.ia5string))) {
+            APR_ARRAY_PUSH(*entries, const char *) = str;
+            return TRUE;
+        }
+    }
+    return FALSE;
+}
+
 /* 
  * Return an array of subjectAltName entries of type "type". If idx is -1,
  * return all entries of the given type, otherwise return an array consisting
@@ -258,13 +298,15 @@
  * of the n-th occurrence of that type only. Currently supported types:
  * GEN_EMAIL (rfc822Name)
  * GEN_DNS (dNSName)
+ * GEN_OTHERNAME (see parse_otherName_value for currently supported forms)
  */
-BOOL modssl_X509_getSAN(apr_pool_t *p, X509 *x509, int type, int idx,
-                        apr_array_header_t **entries)
+BOOL modssl_X509_getSAN(apr_pool_t *p, X509 *x509, int type, const char *id,
+                        int idx, apr_array_header_t **entries)
 {
     STACK_OF(GENERAL_NAME) *names;
 
-    if (!x509 || (type < GEN_OTHERNAME) || (type > GEN_RID) || (idx < -1) ||
+    if (!x509 || (type < GEN_OTHERNAME) || (type == GEN_OTHERNAME && !id) ||
+        (type > GEN_RID) || (idx < -1) ||
         !(*entries = apr_array_make(p, 0, sizeof(char *)))) {
         *entries = NULL;
         return FALSE;
@@ -277,33 +319,40 @@
 
         for (i = 0; i < sk_GENERAL_NAME_num(names); i++) {
             name = sk_GENERAL_NAME_value(names, i);
-            if (name->type == type) {
-                if ((idx == -1) || (n == idx)) {
-                    switch (type) {
-                    case GEN_EMAIL:
-                    case GEN_DNS:
-                        utf8str = asn1_string_to_utf8(p, name->d.ia5);
-                        if (utf8str) {
-                            APR_ARRAY_PUSH(*entries, const char *) = utf8str;
-                        }
-                        break;
-                    default:
-                        /*
-                         * Not implemented right now:
-                         * GEN_OTHERNAME (otherName)
-                         * GEN_X400 (x400Address)
-                         * GEN_DIRNAME (directoryName)
-                         * GEN_EDIPARTY (ediPartyName)
-                         * GEN_URI (uniformResourceIdentifier)
-                         * GEN_IPADD (iPAddress)
-                         * GEN_RID (registeredID)
-                         */
-                        break;
-                    }
+
+            if (name->type != type)
+                continue;
+
+            switch (type) {
+            case GEN_EMAIL:
+            case GEN_DNS:
+                if (((idx == -1) || (n == idx)) &&
+                    (utf8str = asn1_string_to_utf8(p, name->d.ia5))) {
+                    APR_ARRAY_PUSH(*entries, const char *) = utf8str;
                 }
-                if ((idx != -1) && (n++ > idx))
-                   break;
+                n++;
+                break;
+            case GEN_OTHERNAME:
+                if (((idx == -1) || (n == idx))) {
+                    if (parse_otherName_value(p, name->d.otherName, id, entries))
+                        n++;
+                }
+                break;
+            default:
+                /*
+                 * Not implemented right now:
+                 * GEN_X400 (x400Address)
+                 * GEN_DIRNAME (directoryName)
+                 * GEN_EDIPARTY (ediPartyName)
+                 * GEN_URI (uniformResourceIdentifier)
+                 * GEN_IPADD (iPAddress)
+                 * GEN_RID (registeredID)
+                 */
+                break;
             }
+
+            if ((idx != -1) && (n > idx))
+               break;
         }
 
         sk_GENERAL_NAME_pop_free(names, GENERAL_NAME_free);
@@ -320,7 +369,7 @@
 
     /* First, the DNS-IDs (dNSName entries in the subjectAltName extension) */
     if (!x509 ||
-        (modssl_X509_getSAN(p, x509, GEN_DNS, -1, ids) == FALSE && !*ids)) {
+        (modssl_X509_getSAN(p, x509, GEN_DNS, NULL, -1, ids) == FALSE && !*ids)) {
         *ids = NULL;
         return FALSE;
     }
Index: modules/ssl/ssl_util_ssl.h
===================================================================
--- modules/ssl/ssl_util_ssl.h	(revision 1688186)
+++ modules/ssl/ssl_util_ssl.h	(working copy)
@@ -65,7 +65,8 @@
 BOOL        modssl_X509_getBC(X509 *, int *, int *);
 char       *modssl_X509_NAME_ENTRY_to_string(apr_pool_t *p, X509_NAME_ENTRY *xsne);
 char       *modssl_X509_NAME_to_string(apr_pool_t *, X509_NAME *, int);
-BOOL        modssl_X509_getSAN(apr_pool_t *, X509 *, int, int, apr_array_header_t **);
+BOOL        modssl_X509_getSAN(apr_pool_t *, X509 *, int, const char *, int,
+                apr_array_header_t **);
 BOOL        modssl_X509_match_name(apr_pool_t *, X509 *, const char *, BOOL, server_rec *);
 char       *modssl_SSL_SESSION_id2sz(unsigned char *, int, char *, int);
 

--cWoXeonUoKmBZSoM--

From dev-return-83181-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 29 16:58:04 2015
Return-Path: <dev-return-83181-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 406CC18949
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Jun 2015 16:58:04 +0000 (UTC)
Received: (qmail 67646 invoked by uid 500); 29 Jun 2015 16:58:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67575 invoked by uid 500); 29 Jun 2015 16:58:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67565 invoked by uid 99); 29 Jun 2015 16:58:03 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Jun 2015 16:58:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 68665D0FD1
	for <dev@httpd.apache.org>; Mon, 29 Jun 2015 16:58:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.48
X-Spam-Level: ***
X-Spam-Status: No, score=3.48 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_LINKBAIT=2.5,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id Hw6om4WT41Av for <dev@httpd.apache.org>;
	Mon, 29 Jun 2015 16:58:01 +0000 (UTC)
Received: from lookie3.hostorama.com (lookie3.hostorama.com [80.74.148.208])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 944682092B
	for <dev@httpd.apache.org>; Mon, 29 Jun 2015 16:58:01 +0000 (UTC)
Received: from lookie.metanet.ch (localhost [127.0.0.1])
	by lookie3.hostorama.com (Postfix) with ESMTPSA id 5F3611825D46
	for <dev@httpd.apache.org>; Mon, 29 Jun 2015 18:57:53 +0200 (CEST)
Received: from nat13.ergon.ch (nat13.ergon.ch [87.239.215.13]) by
 webmail.michael-kaufmann.ch (Horde Framework) with HTTP; Mon, 29 Jun 2015
 18:57:53 +0200
Date: Mon, 29 Jun 2015 18:57:53 +0200
Message-ID: <20150629185753.Horde.0lMpJd6P8627alFGUrUYyg1@webmail.michael-kaufmann.ch>
From: Michael Kaufmann <mail@michael-kaufmann.ch>
To: dev@httpd.apache.org
Subject: LimitRequestBody is broken in 2.4.13-2.4.15
User-Agent: Internet Messaging Program (IMP) H5 (6.2.1)
Content-Type: text/plain; charset=UTF-8; format=flowed; DelSp=Yes
MIME-Version: 1.0
Content-Disposition: inline

Hi,

LimitRequestBody is broken in the (unreleased) Apache versions  
2.4.13-2.4.15 because of this change: http://svn.apache.org/r1684515

In http_filters.c, ap_http_filter(): The variable "totalread" is  
uninitialized if readbytes is 0.

Messages similar to this one are logged: "AH01591: Read content-length  
of 140067070814864 is larger than the configured limit of 104857600",  
and then Apache closes the connection.

I hope that it's possible to fix this for Apache 2.4.16.

Regards,
Michael


From dev-return-83182-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 29 17:58:36 2015
Return-Path: <dev-return-83182-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9C2F118DA2
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Jun 2015 17:58:35 +0000 (UTC)
Received: (qmail 44275 invoked by uid 500); 29 Jun 2015 17:58:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 44202 invoked by uid 500); 29 Jun 2015 17:58:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 44192 invoked by uid 99); 29 Jun 2015 17:58:35 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Jun 2015 17:58:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id B142D1A637D
	for <dev@httpd.apache.org>; Mon, 29 Jun 2015 17:58:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 4FkzUDUvUGJW for <dev@httpd.apache.org>;
	Mon, 29 Jun 2015 17:58:21 +0000 (UTC)
Received: from mail-ig0-f180.google.com (mail-ig0-f180.google.com [209.85.213.180])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 854DB21377
	for <dev@httpd.apache.org>; Mon, 29 Jun 2015 17:58:21 +0000 (UTC)
Received: by igblr2 with SMTP id lr2so58179696igb.0
        for <dev@httpd.apache.org>; Mon, 29 Jun 2015 10:58:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=y0ni1gVyPXnghOn7gANVis7nseoGyzV1nQ0cR6+SiFw=;
        b=WKwVsh0OhjrQk0cWnpo74JIS5UlZOe+tYIDnLrgwX/hPuy4z6WhwTBPHGJwU7dVfjH
         TXodlLEM/MJwjyRugFpxbLQUjYWKsmNQagL2DcEUAie9WyeEtiV3S4XzgXeKC/qW8TQq
         dcO21kIvmKl9oSwApXJ9FHGRL0yiPCV74UEC6AG3M0a/6m2pSVJuRYy7appQ6R/umFmF
         mcek6frZdURwyxbblIqHUsXCea1gSx3DI1bStth7eBPvqNxAqFFFqZM4PucQMYYvjyVW
         UaQKh94DtjZHeW58YEU3FygoLkE1BTM/jUC/wa43NH6BjCBy1/qYgvxEvLbr1KwQXZnf
         U8dg==
MIME-Version: 1.0
X-Received: by 10.50.79.230 with SMTP id m6mr17361136igx.46.1435600701019;
 Mon, 29 Jun 2015 10:58:21 -0700 (PDT)
Received: by 10.79.22.5 with HTTP; Mon, 29 Jun 2015 10:58:20 -0700 (PDT)
In-Reply-To: <20150629185753.Horde.0lMpJd6P8627alFGUrUYyg1@webmail.michael-kaufmann.ch>
References: <20150629185753.Horde.0lMpJd6P8627alFGUrUYyg1@webmail.michael-kaufmann.ch>
Date: Mon, 29 Jun 2015 19:58:20 +0200
Message-ID: <CAKQ1sVP-5fMTqt1FK09Vmf9_NNQDxmLXMFy0ERYrBTsMmeM5pw@mail.gmail.com>
Subject: Re: LimitRequestBody is broken in 2.4.13-2.4.15
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Mon, Jun 29, 2015 at 6:57 PM, Michael Kaufmann
<mail@michael-kaufmann.ch> wrote:
> LimitRequestBody is broken in the (unreleased) Apache versions 2.4.13-2.4.15
> because of this change: http://svn.apache.org/r1684515
>
> In http_filters.c, ap_http_filter(): The variable "totalread" is
> uninitialized if readbytes is 0.
>
> Messages similar to this one are logged: "AH01591: Read content-length of
> 140067070814864 is larger than the configured limit of 104857600", and then
> Apache closes the connection.

Thanks for reporting this before the testing/release.
Fixed in r1688274 (will now propose a backport), and since this is a
showstopper, it will be merged (once reviewed) before 2.4.16/2.2.30.

Regards,
Yann.

From dev-return-83183-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Jun 29 18:23:17 2015
Return-Path: <dev-return-83183-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8482818EF0
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 29 Jun 2015 18:23:17 +0000 (UTC)
Received: (qmail 42246 invoked by uid 500); 29 Jun 2015 18:23:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 42168 invoked by uid 500); 29 Jun 2015 18:23:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 42156 invoked by uid 99); 29 Jun 2015 18:23:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Jun 2015 18:23:17 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.175 as permitted sender)
Received: from [209.85.213.175] (HELO mail-ig0-f175.google.com) (209.85.213.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 29 Jun 2015 18:21:02 +0000
Received: by igcur8 with SMTP id ur8so44004050igc.0
        for <dev@httpd.apache.org>; Mon, 29 Jun 2015 11:22:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=GPP0Lwt7g92QZ74KlYkpAXEzhubtiaw30KL6JSFFnz4=;
        b=uUG1UL2/4gOgPgdiE+9oOa61+y3JNZ4wBA+vrd++13rWKbhVEpCDRzdcB6EduEj7tM
         /Ncn86rPkZFchmdcOvSdWNl1fbnOK2xlW41ZbqrvxdD+oj1fSO7OAETK3vWCtxu9IoD4
         DP182E31SOqsKLscmQ2nw5iZHXUDqpe7VZk1gMv/A1r6QW3eSToW7zp+5hOwSAzrKAMs
         ZrGc13p3ZQATlzjlbzrnyO8Xph1NzjiREfQQShV5+Q5KEHSHQ0OFr4t693r6o1sNt0mi
         n1NtVIy0B2PgBvv0u2j5Gf0G0nw2xBrlQQRJ6S7ArJefP+X1izs4TWwSlTwkoK1Qtp+z
         ZTPA==
MIME-Version: 1.0
X-Received: by 10.50.79.230 with SMTP id m6mr17519124igx.46.1435602170776;
 Mon, 29 Jun 2015 11:22:50 -0700 (PDT)
Received: by 10.79.22.5 with HTTP; Mon, 29 Jun 2015 11:22:50 -0700 (PDT)
In-Reply-To: <CAKQ1sVP-5fMTqt1FK09Vmf9_NNQDxmLXMFy0ERYrBTsMmeM5pw@mail.gmail.com>
References: <20150629185753.Horde.0lMpJd6P8627alFGUrUYyg1@webmail.michael-kaufmann.ch>
	<CAKQ1sVP-5fMTqt1FK09Vmf9_NNQDxmLXMFy0ERYrBTsMmeM5pw@mail.gmail.com>
Date: Mon, 29 Jun 2015 20:22:50 +0200
Message-ID: <CAKQ1sVNLFaSU8qLj0iObskNSgdPBc1=DOXBnVgnQqXVLNh5maA@mail.gmail.com>
Subject: Re: LimitRequestBody is broken in 2.4.13-2.4.15
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, Jun 29, 2015 at 7:58 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Mon, Jun 29, 2015 at 6:57 PM, Michael Kaufmann
> <mail@michael-kaufmann.ch> wrote:
>> LimitRequestBody is broken in the (unreleased) Apache versions 2.4.13-2.4.15
>> because of this change: http://svn.apache.org/r1684515
>>
>> In http_filters.c, ap_http_filter(): The variable "totalread" is
>> uninitialized if readbytes is 0.
>>
>> Messages similar to this one are logged: "AH01591: Read content-length of
>> 140067070814864 is larger than the configured limit of 104857600", and then
>> Apache closes the connection.
>
> Thanks for reporting this before the testing/release.
> Fixed in r1688274 (will now propose a backport), and since this is a
> showstopper, it will be merged (once reviewed) before 2.4.16/2.2.30.

Proposed patch (for backport) is
http://people.apache.org/~ylavic/httpd-2.4.x-fix_LimitRequestBody.patch
Thanks (again) for testing if that's possible.

>
> Regards,
> Yann.

From dev-return-83184-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 00:03:36 2015
Return-Path: <dev-return-83184-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C0FEB183D5
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 00:03:36 +0000 (UTC)
Received: (qmail 87088 invoked by uid 500); 30 Jun 2015 00:03:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 87022 invoked by uid 500); 30 Jun 2015 00:03:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 87012 invoked by uid 99); 30 Jun 2015 00:03:36 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 00:03:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id DC07C1A62CC
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 00:03:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.891
X-Spam-Level: *
X-Spam-Status: No, score=1.891 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 8njFNdgeNE9m for <dev@httpd.apache.org>;
	Tue, 30 Jun 2015 00:03:34 +0000 (UTC)
Received: from mail-ig0-f175.google.com (mail-ig0-f175.google.com [209.85.213.175])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 58BF224A0D
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 00:03:34 +0000 (UTC)
Received: by igrv9 with SMTP id v9so40305313igr.1
        for <dev@httpd.apache.org>; Mon, 29 Jun 2015 17:03:27 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type;
        bh=9Bb94cYMgzC0wAyZrf3doUxJ6zbeLJiE5xe8Hv21j0U=;
        b=FFvKFISCRNpOL01UNufOQ/9EU/x46r25DwBV2DjEraN2DyV8zX6BmKErolZZbb2lmL
         HlvKG8ZqCuBigWOMQB1wR6KKxK4j6U/maNeJbZc+8J72kDS/F8ovjo6eAZkRjofaGu0W
         Gm6Hxz1wFlBO+qEuT4dnCoN+G1500PmP/u79+ShUKpIVho57eZxZJX+wUoBr9ZMh4oKu
         nEylC9d2wv76FCWV3vLiUqjhFTJnKPp+eLzsA+YJg5IPgHydeEQWvSJVvDyPC6V3vwiB
         QWOlGeQ2suaUPUwAfX42LGZ2pyyb/zYzhu506hZT8qwCKUKcrWLN39awPkqbb/MLiv1z
         jQ3w==
X-Gm-Message-State: ALoCoQkOTkw81xxPgCXerKFQsilhKNnJqT8nAfqn4v5LPDG9cDmYFW+9DS7LhF3I5LRL+RB3T+JZ
MIME-Version: 1.0
X-Received: by 10.107.130.153 with SMTP id m25mr22465012ioi.92.1435622607495;
 Mon, 29 Jun 2015 17:03:27 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Mon, 29 Jun 2015 17:03:27 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
Received: by 10.107.190.195 with HTTP; Mon, 29 Jun 2015 17:03:27 -0700 (PDT)
In-Reply-To: <20150629234429.5466EAC054F@hades.apache.org>
References: <20150629234429.5466EAC054F@hades.apache.org>
Date: Mon, 29 Jun 2015 19:03:27 -0500
Message-ID: <CACsi250hqEMyuP4-wvwovCDZLEfMYToV9gLxeHbG0XF9WwNR8Q@mail.gmail.com>
Subject: Re: svn commit: r1688331 - /httpd/httpd/trunk/modules/filters/mod_substitute.c
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Cc: cvs@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a113fc24c8d40980519b0efef

--001a113fc24c8d40980519b0efef
Content-Type: text/plain; charset=UTF-8

I can't approve this semantic mess.

EITHER it is inherit_before on trunk-2.4-2.2 with a change of default
behavior, or it is inherit_after, again across all branches with a change
of default behavior.  The delta should consist of a one line difference,
evaluating inheritance behavior within the merge.

Please express your preference and I will offer several style fixes on
trunk that make this easier to follow, but we are not adding one directive
to trunk and a different one to 2.4 & 2.2 :-/
On Jun 29, 2015 6:44 PM, <ylavic@apache.org> wrote:

> Author: ylavic
> Date: Mon Jun 29 23:44:28 2015
> New Revision: 1688331
>
> URL: http://svn.apache.org/r1688331
> Log:
> mod_substitute: follow up to r1687680.
> Fix dir config merger 'over'-write, thanks Bill (again).
>
> Modified:
>     httpd/httpd/trunk/modules/filters/mod_substitute.c
>
> Modified: httpd/httpd/trunk/modules/filters/mod_substitute.c
> URL:
> http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/filters/mod_substitute.c?rev=1688331&r1=1688330&r2=1688331&view=diff
>
> ==============================================================================
> --- httpd/httpd/trunk/modules/filters/mod_substitute.c (original)
> +++ httpd/httpd/trunk/modules/filters/mod_substitute.c Mon Jun 29 23:44:28
> 2015
> @@ -86,10 +86,9 @@ static void *merge_substitute_dcfg(apr_p
>      subst_dir_conf *base = (subst_dir_conf *) basev;
>      subst_dir_conf *over = (subst_dir_conf *) overv;
>
> -    if (over->inherit_before < 0) {
> -        over->inherit_before = (base->inherit_before > 0);
> -    }
> -    if (over->inherit_before) {
> +    a->inherit_before = (over->inherit_before > 0 ||
> (over->inherit_before < 0 &&
> +
> base->inherit_before > 0));
> +    if (a->inherit_before) {
>          a->patterns = apr_array_append(p, base->patterns,
>                                            over->patterns);
>      }
>
>
>

--001a113fc24c8d40980519b0efef
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">I can&#39;t approve this semantic mess.</p>
<p dir=3D"ltr">EITHER it is inherit_before on trunk-2.4-2.2 with a change o=
f default behavior, or it is inherit_after, again across all branches with =
a change of default behavior.=C2=A0 The delta should consist of a one line =
difference, evaluating inheritance behavior within the merge.</p>
<p dir=3D"ltr">Please express your preference and I will offer several styl=
e fixes on trunk that make this easier to follow, but we are not adding one=
 directive to trunk and a different one to 2.4 &amp; 2.2 :-/</p>
<div class=3D"gmail_quote">On Jun 29, 2015 6:44 PM,  &lt;<a href=3D"mailto:=
ylavic@apache.org">ylavic@apache.org</a>&gt; wrote:<br type=3D"attribution"=
><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1=
px #ccc solid;padding-left:1ex">Author: ylavic<br>
Date: Mon Jun 29 23:44:28 2015<br>
New Revision: 1688331<br>
<br>
URL: <a href=3D"http://svn.apache.org/r1688331" rel=3D"noreferrer" target=
=3D"_blank">http://svn.apache.org/r1688331</a><br>
Log:<br>
mod_substitute: follow up to r1687680.<br>
Fix dir config merger &#39;over&#39;-write, thanks Bill (again).<br>
<br>
Modified:<br>
=C2=A0 =C2=A0 httpd/httpd/trunk/modules/filters/mod_substitute.c<br>
<br>
Modified: httpd/httpd/trunk/modules/filters/mod_substitute.c<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/filt=
ers/mod_substitute.c?rev=3D1688331&amp;r1=3D1688330&amp;r2=3D1688331&amp;vi=
ew=3Ddiff" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewv=
c/httpd/httpd/trunk/modules/filters/mod_substitute.c?rev=3D1688331&amp;r1=
=3D1688330&amp;r2=3D1688331&amp;view=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/trunk/modules/filters/mod_substitute.c (original)<br>
+++ httpd/httpd/trunk/modules/filters/mod_substitute.c Mon Jun 29 23:44:28 =
2015<br>
@@ -86,10 +86,9 @@ static void *merge_substitute_dcfg(apr_p<br>
=C2=A0 =C2=A0 =C2=A0subst_dir_conf *base =3D (subst_dir_conf *) basev;<br>
=C2=A0 =C2=A0 =C2=A0subst_dir_conf *over =3D (subst_dir_conf *) overv;<br>
<br>
-=C2=A0 =C2=A0 if (over-&gt;inherit_before &lt; 0) {<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 over-&gt;inherit_before =3D (base-&gt;inherit_=
before &gt; 0);<br>
-=C2=A0 =C2=A0 }<br>
-=C2=A0 =C2=A0 if (over-&gt;inherit_before) {<br>
+=C2=A0 =C2=A0 a-&gt;inherit_before =3D (over-&gt;inherit_before &gt; 0 || =
(over-&gt;inherit_before &lt; 0 &amp;&amp;<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 base-&gt;inherit_before &gt; 0));=
<br>
+=C2=A0 =C2=A0 if (a-&gt;inherit_before) {<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0a-&gt;patterns =3D apr_array_append(p, ba=
se-&gt;patterns,<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0over-&gt;patterns);<br>
=C2=A0 =C2=A0 =C2=A0}<br>
<br>
<br>
</blockquote></div>

--001a113fc24c8d40980519b0efef--

From dev-return-83185-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 00:42:16 2015
Return-Path: <dev-return-83185-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9EDFB18540
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 00:42:16 +0000 (UTC)
Received: (qmail 60611 invoked by uid 500); 30 Jun 2015 00:42:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 60545 invoked by uid 500); 30 Jun 2015 00:42:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 60535 invoked by uid 99); 30 Jun 2015 00:42:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 00:42:16 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ylavic.dev@gmail.com designates 209.85.213.180 as permitted sender)
Received: from [209.85.213.180] (HELO mail-ig0-f180.google.com) (209.85.213.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 00:40:02 +0000
Received: by igrv9 with SMTP id v9so2063966igr.1
        for <dev@httpd.apache.org>; Mon, 29 Jun 2015 17:41:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=QC1OcRJ0tWeWeqViN8psWtSBU5eHhefZNLGmf0P8DOI=;
        b=jvDuAbPGEMh5aPhwnH/P+D6fyvEMHoYvC83HAcyLEd+ErE/4I/gd5W5XZaeUEhMGE4
         w6sFtC++aVD8BFpxE+NlbcS4qJmSd7aOCdumzDYqsSUEJrxaQJIEUwXyrPrb900StkIm
         CjgtA6Kdj+2GxLcvcXtRAZx3hI5GqNPARXS0EWAP7uf5eQgMzI6Rhnb0gAysChWUIcLZ
         LfFMFq6qu96Y9TzMLHMoNWYgnIql1qDk4Qa4vLHrR8/4b4r7iWek4u4Yd6RlHio1xFVw
         S/XjUYIlGcjy1cF8ATWWsuEfp6gACrSKYl0H4FqBEZ7au8ZxMtWmN1RY3gqSwOvQgfXK
         Zpbw==
MIME-Version: 1.0
X-Received: by 10.50.79.230 with SMTP id m6mr19711971igx.46.1435624909865;
 Mon, 29 Jun 2015 17:41:49 -0700 (PDT)
Received: by 10.79.22.5 with HTTP; Mon, 29 Jun 2015 17:41:49 -0700 (PDT)
In-Reply-To: <CACsi250hqEMyuP4-wvwovCDZLEfMYToV9gLxeHbG0XF9WwNR8Q@mail.gmail.com>
References: <20150629234429.5466EAC054F@hades.apache.org>
	<CACsi250hqEMyuP4-wvwovCDZLEfMYToV9gLxeHbG0XF9WwNR8Q@mail.gmail.com>
Date: Tue, 30 Jun 2015 02:41:49 +0200
Message-ID: <CAKQ1sVMU97VpUUBXXHwNLLTSqOmRdRQO+kfO3E9FdyDPTbnNZw@mail.gmail.com>
Subject: Re: svn commit: r1688331 - /httpd/httpd/trunk/modules/filters/mod_substitute.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Jun 30, 2015 at 2:03 AM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
> I can't approve this semantic mess.
>
> EITHER it is inherit_before on trunk-2.4-2.2 with a change of default
> behavior, or it is inherit_after, again across all branches with a change of
> default behavior.  The delta should consist of a one line difference,
> evaluating inheritance behavior within the merge.

Well, that's the case already, no?
With 2.4.x patch applied:

--- 2.4.x/modules/filters/mod_substitute.c      2015-06-30
01:52:18.595947091 +0200
+++ trunk/modules/filters/mod_substitute.c      2015-06-30
01:41:18.027679427 +0200
@@ -87,7 +87,7 @@
     subst_dir_conf *over = (subst_dir_conf *) overv;

     a->inherit_before = (over->inherit_before > 0 ||
(over->inherit_before < 0 &&
-
base->inherit_before != 0));
+
base->inherit_before > 0));
     if (a->inherit_before) {
         a->patterns = apr_array_append(p, base->patterns,
                                           over->patterns);

>
> Please express your preference and I will offer several style fixes on trunk
> that make this easier to follow, but we are not adding one directive to
> trunk and a different one to 2.4 & 2.2 :-/

Same directive in trunk and 2.[24] branches, default only changes, I
don't see what you mean.
This proposal allows to merge the inherit_before flag itself, that may
be confusing / not suitable / overkill (dunno), so feel free to
implement simpler/better code (the default merge-base-before-over
semantic must be preserved for the branches, though).

From dev-return-83186-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 00:51:04 2015
Return-Path: <dev-return-83186-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5766918593
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 00:51:04 +0000 (UTC)
Received: (qmail 82529 invoked by uid 500); 30 Jun 2015 00:51:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 82462 invoked by uid 500); 30 Jun 2015 00:51:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 82452 invoked by uid 99); 30 Jun 2015 00:51:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 00:51:03 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of wrowe@rowe-clan.net designates 209.85.213.181 as permitted sender)
Received: from [209.85.213.181] (HELO mail-ig0-f181.google.com) (209.85.213.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 00:48:48 +0000
Received: by igcsj18 with SMTP id sj18so94132489igc.1
        for <dev@httpd.apache.org>; Mon, 29 Jun 2015 17:50:36 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=1H3yOguTd8TPk7dCcA1BlwtT65wGB6ouG0lYC+M1k5U=;
        b=bGNx/KEKC6K0SovZWVCP1J8vPXJCj3AbbPfupqOe7HmpY7CW+NtXZWWO4NtuiYuKye
         jgpsAlI7PrGd+ICP0pgUjGgTBel4AkXcBux5Jjl92gBu7Xn/IHMiNE+gsLohylyxHpCe
         4057Fr9IOmIUUeNCY4ZiteeWmJvqZ9GIVc+g9mJp9UPWzbnJf6nj0AyWLIoH3cwVIX2X
         afppiJfSd7Rm49E2kxtnFn/kQgTdq/wHWtc1VRy3xSZ76rdQXeAMTsIlDZ6YQec+M5zt
         fRzqKG1fixYZK4JJD4x3MRL4wrmi+pYbCuqmiauHsRiGRbi4pCRolx0++Pl7l1d3Fbva
         yXLQ==
X-Gm-Message-State: ALoCoQljGnz99d/3UFLap9F2RiQBjkkIdbkhr1Kf6p8c5yktMlyXUVhBAukMGItS82HoaVrk2rPb
MIME-Version: 1.0
X-Received: by 10.50.13.10 with SMTP id d10mr20147201igc.20.1435625436204;
 Mon, 29 Jun 2015 17:50:36 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Mon, 29 Jun 2015 17:50:36 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
Received: by 10.107.190.195 with HTTP; Mon, 29 Jun 2015 17:50:36 -0700 (PDT)
In-Reply-To: <CAKQ1sVMU97VpUUBXXHwNLLTSqOmRdRQO+kfO3E9FdyDPTbnNZw@mail.gmail.com>
References: <20150629234429.5466EAC054F@hades.apache.org>
	<CACsi250hqEMyuP4-wvwovCDZLEfMYToV9gLxeHbG0XF9WwNR8Q@mail.gmail.com>
	<CAKQ1sVMU97VpUUBXXHwNLLTSqOmRdRQO+kfO3E9FdyDPTbnNZw@mail.gmail.com>
Date: Mon, 29 Jun 2015 19:50:36 -0500
Message-ID: <CACsi2521eOP=aq6g0wciakVy3X=+qsT4vk4bBsPrQXVDzRrm1g@mail.gmail.com>
Subject: Re: svn commit: r1688331 - /httpd/httpd/trunk/modules/filters/mod_substitute.c
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e0118487427f39d0519b198f6
X-Virus-Checked: Checked by ClamAV on apache.org

--089e0118487427f39d0519b198f6
Content-Type: text/plain; charset=UTF-8

I was literally switching between a dead and live box repairing a corrupted
boot volume, so you may be right or I might have studied a stale patch.

Will refresh trunk in a few minutes here with suggested changes.
On Jun 29, 2015 7:42 PM, "Yann Ylavic" <ylavic.dev@gmail.com> wrote:

> On Tue, Jun 30, 2015 at 2:03 AM, William A Rowe Jr <wrowe@rowe-clan.net>
> wrote:
> > I can't approve this semantic mess.
> >
> > EITHER it is inherit_before on trunk-2.4-2.2 with a change of default
> > behavior, or it is inherit_after, again across all branches with a
> change of
> > default behavior.  The delta should consist of a one line difference,
> > evaluating inheritance behavior within the merge.
>
> Well, that's the case already, no?
> With 2.4.x patch applied:
>
> --- 2.4.x/modules/filters/mod_substitute.c      2015-06-30
> 01:52:18.595947091 +0200
> +++ trunk/modules/filters/mod_substitute.c      2015-06-30
> 01:41:18.027679427 +0200
> @@ -87,7 +87,7 @@
>      subst_dir_conf *over = (subst_dir_conf *) overv;
>
>      a->inherit_before = (over->inherit_before > 0 ||
> (over->inherit_before < 0 &&
> -
> base->inherit_before != 0));
> +
> base->inherit_before > 0));
>      if (a->inherit_before) {
>          a->patterns = apr_array_append(p, base->patterns,
>                                            over->patterns);
>
> >
> > Please express your preference and I will offer several style fixes on
> trunk
> > that make this easier to follow, but we are not adding one directive to
> > trunk and a different one to 2.4 & 2.2 :-/
>
> Same directive in trunk and 2.[24] branches, default only changes, I
> don't see what you mean.
> This proposal allows to merge the inherit_before flag itself, that may
> be confusing / not suitable / overkill (dunno), so feel free to
> implement simpler/better code (the default merge-base-before-over
> semantic must be preserved for the branches, though).
>

--089e0118487427f39d0519b198f6
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">I was literally switching between a dead and live box repair=
ing a corrupted boot volume, so you may be right or I might have studied a =
stale patch.</p>
<p dir=3D"ltr">Will refresh trunk in a few minutes here with suggested chan=
ges.</p>
<div class=3D"gmail_quote">On Jun 29, 2015 7:42 PM, &quot;Yann Ylavic&quot;=
 &lt;<a href=3D"mailto:ylavic.dev@gmail.com">ylavic.dev@gmail.com</a>&gt; w=
rote:<br type=3D"attribution"><blockquote class=3D"gmail_quote" style=3D"ma=
rgin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">On Tue, Jun 30=
, 2015 at 2:03 AM, William A Rowe Jr &lt;<a href=3D"mailto:wrowe@rowe-clan.=
net">wrowe@rowe-clan.net</a>&gt; wrote:<br>
&gt; I can&#39;t approve this semantic mess.<br>
&gt;<br>
&gt; EITHER it is inherit_before on trunk-2.4-2.2 with a change of default<=
br>
&gt; behavior, or it is inherit_after, again across all branches with a cha=
nge of<br>
&gt; default behavior.=C2=A0 The delta should consist of a one line differe=
nce,<br>
&gt; evaluating inheritance behavior within the merge.<br>
<br>
Well, that&#39;s the case already, no?<br>
With 2.4.x patch applied:<br>
<br>
--- 2.4.x/modules/filters/mod_substitute.c=C2=A0 =C2=A0 =C2=A0 2015-06-30<b=
r>
01:52:18.595947091 +0200<br>
+++ trunk/modules/filters/mod_substitute.c=C2=A0 =C2=A0 =C2=A0 2015-06-30<b=
r>
01:41:18.027679427 +0200<br>
@@ -87,7 +87,7 @@<br>
=C2=A0 =C2=A0 =C2=A0subst_dir_conf *over =3D (subst_dir_conf *) overv;<br>
<br>
=C2=A0 =C2=A0 =C2=A0a-&gt;inherit_before =3D (over-&gt;inherit_before &gt; =
0 ||<br>
(over-&gt;inherit_before &lt; 0 &amp;&amp;<br>
-<br>
base-&gt;inherit_before !=3D 0));<br>
+<br>
base-&gt;inherit_before &gt; 0));<br>
=C2=A0 =C2=A0 =C2=A0if (a-&gt;inherit_before) {<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0a-&gt;patterns =3D apr_array_append(p, ba=
se-&gt;patterns,<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0over-&gt;patterns);<br>
<br>
&gt;<br>
&gt; Please express your preference and I will offer several style fixes on=
 trunk<br>
&gt; that make this easier to follow, but we are not adding one directive t=
o<br>
&gt; trunk and a different one to 2.4 &amp; 2.2 :-/<br>
<br>
Same directive in trunk and 2.[24] branches, default only changes, I<br>
don&#39;t see what you mean.<br>
This proposal allows to merge the inherit_before flag itself, that may<br>
be confusing / not suitable / overkill (dunno), so feel free to<br>
implement simpler/better code (the default merge-base-before-over<br>
semantic must be preserved for the branches, though).<br>
</blockquote></div>

--089e0118487427f39d0519b198f6--

From dev-return-83187-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 01:07:01 2015
Return-Path: <dev-return-83187-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7B27618645
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 01:07:01 +0000 (UTC)
Received: (qmail 13984 invoked by uid 500); 30 Jun 2015 01:07:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 13924 invoked by uid 500); 30 Jun 2015 01:07:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 13914 invoked by uid 99); 30 Jun 2015 01:07:00 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 01:07:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 55D0BD10EC
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 01:07:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id pgsclemICmVQ for <dev@httpd.apache.org>;
	Tue, 30 Jun 2015 01:06:53 +0000 (UTC)
Received: from mail-ig0-f178.google.com (mail-ig0-f178.google.com [209.85.213.178])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 087B1211EF
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 01:06:53 +0000 (UTC)
Received: by igcur8 with SMTP id ur8so51306602igc.0
        for <dev@httpd.apache.org>; Mon, 29 Jun 2015 18:06:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=a8I7hfCvfobRKCpYvyOgohJg//Nt/eh2YxkJcHHge3k=;
        b=SXPWq2ljgdyZO4hfXS0KXdpjhHliZxxl2w7muDZHeZIu5s4YDoT3JftY20pI4SlyFJ
         1sBjtT0yNfq2G2Qpcelj4UKxWSTUPYeCNEG0eXBK0lS3sVYgTqnJoOC9zTpZcgAMiePj
         j688L/3DZtgJZkmiLvpIDLEd1FgA11ySQG40l21DHXbGxBkYB0j3bq8Vk6C0gAk+l64O
         dQ1d4i3PvwLHv+gt+ELDECs0qCtz8HQULmipWvd12ycMJtfEEgsiZ+k/bYVZrP3VI28i
         gV2iVqhbKvFksp4i9GWr2YRZACLDo7sLoPcjNgzFFAVILe6NVV+rRR45cMulb8Y2g9gN
         /qzQ==
MIME-Version: 1.0
X-Received: by 10.107.17.67 with SMTP id z64mr19645212ioi.21.1435626412088;
 Mon, 29 Jun 2015 18:06:52 -0700 (PDT)
Received: by 10.79.22.5 with HTTP; Mon, 29 Jun 2015 18:06:52 -0700 (PDT)
In-Reply-To: <CACsi2521eOP=aq6g0wciakVy3X=+qsT4vk4bBsPrQXVDzRrm1g@mail.gmail.com>
References: <20150629234429.5466EAC054F@hades.apache.org>
	<CACsi250hqEMyuP4-wvwovCDZLEfMYToV9gLxeHbG0XF9WwNR8Q@mail.gmail.com>
	<CAKQ1sVMU97VpUUBXXHwNLLTSqOmRdRQO+kfO3E9FdyDPTbnNZw@mail.gmail.com>
	<CACsi2521eOP=aq6g0wciakVy3X=+qsT4vk4bBsPrQXVDzRrm1g@mail.gmail.com>
Date: Tue, 30 Jun 2015 03:06:52 +0200
Message-ID: <CAKQ1sVORpcRoPFv0oiSVYu2_5aezzs6AgLAgaLggjGs61FFfQA@mail.gmail.com>
Subject: Re: svn commit: r1688331 - /httpd/httpd/trunk/modules/filters/mod_substitute.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Maybe defining (naming) inherit_before tristate values would help:

Index: modules/filters/mod_substitute.c
===================================================================
--- modules/filters/mod_substitute.c    (revision 1688331)
+++ modules/filters/mod_substitute.c    (working copy)
@@ -68,6 +68,10 @@ typedef struct {
     apr_pool_t *tpool;
 } substitute_module_ctx;

+#define INHERIT_UNSET  -1
+#define INHERIT_OFF     0
+#define INHERIT_ON      1
+
 static void *create_substitute_dcfg(apr_pool_t *p, char *d)
 {
     subst_dir_conf *dcfg =
@@ -75,7 +79,7 @@ static void *create_substitute_dcfg(apr_pool_t *p,

     dcfg->patterns = apr_array_make(p, 10, sizeof(subst_pattern_t));
     dcfg->max_line_length = AP_SUBST_MAX_LINE_LENGTH;
-    dcfg->inherit_before = -1;
+    dcfg->inherit_before = INHERIT_UNSET;
     return dcfg;
 }

@@ -86,8 +90,9 @@ static void *merge_substitute_dcfg(apr_pool_t *p,
     subst_dir_conf *base = (subst_dir_conf *) basev;
     subst_dir_conf *over = (subst_dir_conf *) overv;

-    a->inherit_before = (over->inherit_before > 0 ||
(over->inherit_before < 0 &&
-
base->inherit_before > 0));
+    a->inherit_before = (over->inherit_before == INHERIT_ON
+                         || (over->inherit_before == INHERIT_UNSET
+                             && base->inherit_before == INHERIT_ON));
     if (a->inherit_before) {
         a->patterns = apr_array_append(p, base->patterns,
                                           over->patterns);
?

Which would be:
+    a->inherit_before = (over->inherit_before == INHERIT_ON
+                         || (over->inherit_before == INHERIT_UNSET
+                             && base->inherit_before != INHERIT_OFF));
in 2.2 and 2.4.


On Tue, Jun 30, 2015 at 2:50 AM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
> I was literally switching between a dead and live box repairing a corrupted
> boot volume, so you may be right or I might have studied a stale patch.
>
> Will refresh trunk in a few minutes here with suggested changes.
>
> On Jun 29, 2015 7:42 PM, "Yann Ylavic" <ylavic.dev@gmail.com> wrote:
>>
>> On Tue, Jun 30, 2015 at 2:03 AM, William A Rowe Jr <wrowe@rowe-clan.net>
>> wrote:
>> > I can't approve this semantic mess.
>> >
>> > EITHER it is inherit_before on trunk-2.4-2.2 with a change of default
>> > behavior, or it is inherit_after, again across all branches with a
>> > change of
>> > default behavior.  The delta should consist of a one line difference,
>> > evaluating inheritance behavior within the merge.
>>
>> Well, that's the case already, no?
>> With 2.4.x patch applied:
>>
>> --- 2.4.x/modules/filters/mod_substitute.c      2015-06-30
>> 01:52:18.595947091 +0200
>> +++ trunk/modules/filters/mod_substitute.c      2015-06-30
>> 01:41:18.027679427 +0200
>> @@ -87,7 +87,7 @@
>>      subst_dir_conf *over = (subst_dir_conf *) overv;
>>
>>      a->inherit_before = (over->inherit_before > 0 ||
>> (over->inherit_before < 0 &&
>> -
>> base->inherit_before != 0));
>> +
>> base->inherit_before > 0));
>>      if (a->inherit_before) {
>>          a->patterns = apr_array_append(p, base->patterns,
>>                                            over->patterns);
>>
>> >
>> > Please express your preference and I will offer several style fixes on
>> > trunk
>> > that make this easier to follow, but we are not adding one directive to
>> > trunk and a different one to 2.4 & 2.2 :-/
>>
>> Same directive in trunk and 2.[24] branches, default only changes, I
>> don't see what you mean.
>> This proposal allows to merge the inherit_before flag itself, that may
>> be confusing / not suitable / overkill (dunno), so feel free to
>> implement simpler/better code (the default merge-base-before-over
>> semantic must be preserved for the branches, though).

From dev-return-83188-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 01:36:39 2015
Return-Path: <dev-return-83188-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 85288187AA
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 01:36:39 +0000 (UTC)
Received: (qmail 66667 invoked by uid 500); 30 Jun 2015 01:36:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 66586 invoked by uid 500); 30 Jun 2015 01:36:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 66576 invoked by uid 99); 30 Jun 2015 01:36:39 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 01:36:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 8EEACC0045
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 01:36:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.979
X-Spam-Level: **
X-Spam-Status: No, score=2.979 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id oRM7E1CctpyH for <dev@httpd.apache.org>;
	Tue, 30 Jun 2015 01:36:37 +0000 (UTC)
Received: from mail-ig0-f181.google.com (mail-ig0-f181.google.com [209.85.213.181])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 2FDA042AA9
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 01:36:37 +0000 (UTC)
Received: by igrv9 with SMTP id v9so2680301igr.1
        for <dev@httpd.apache.org>; Mon, 29 Jun 2015 18:35:45 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=b8hxS493xdSWyT/BhiqHbxbMGokCBQcIuumV1ufZ7zQ=;
        b=DPT4rVy4CcOQMvaCjW0V+07g3Eiu99AGNRs17RGXb2if1tYzjpaGs3uT+vdwixWEj5
         xTzWYpUpLPbu0u3G7+iyGrHDqlxngrFEDJgYywunsZ+oe9U10lU1zjqp1Sn5KAlQtrH3
         da46ZhRTAnNwdTER7GG9oe4wfjvXmiVsX340QgUvEsAyZuxdL5KCMD8JEOmgvv15el3J
         bWBkq/u7XV8RwU5pG2VoAWZEvM7v+kveGPvSymUfeLPgcfLTRev9DV3CGyLm+m264Zb3
         M8C4bmGWYc9++/vlingAtE1sXQGkGa6MQxD6KON4vBJuHsUd2oxhydedoWy/d7BBr36I
         NLkw==
X-Gm-Message-State: ALoCoQk+TVSVF8RyDRRfyEKWpRDvr+Ggl6Yg0oTiXrAdI2ADWedUlwQHexdxyHGT3+GPjbATqIDQ
MIME-Version: 1.0
X-Received: by 10.50.13.10 with SMTP id d10mr20365686igc.20.1435628145379;
 Mon, 29 Jun 2015 18:35:45 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Mon, 29 Jun 2015 18:35:45 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <CAKQ1sVORpcRoPFv0oiSVYu2_5aezzs6AgLAgaLggjGs61FFfQA@mail.gmail.com>
References: <20150629234429.5466EAC054F@hades.apache.org>
	<CACsi250hqEMyuP4-wvwovCDZLEfMYToV9gLxeHbG0XF9WwNR8Q@mail.gmail.com>
	<CAKQ1sVMU97VpUUBXXHwNLLTSqOmRdRQO+kfO3E9FdyDPTbnNZw@mail.gmail.com>
	<CACsi2521eOP=aq6g0wciakVy3X=+qsT4vk4bBsPrQXVDzRrm1g@mail.gmail.com>
	<CAKQ1sVORpcRoPFv0oiSVYu2_5aezzs6AgLAgaLggjGs61FFfQA@mail.gmail.com>
Date: Mon, 29 Jun 2015 20:35:45 -0500
Message-ID: <CACsi251OnZfcWvj9CzPaOMFeQwCw_bM9qVrORwHwXedoMtJmQw@mail.gmail.com>
Subject: Re: svn commit: r1688331 - /httpd/httpd/trunk/modules/filters/mod_substitute.c
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e01184874a2cc9e0519b23981

--089e01184874a2cc9e0519b23981
Content-Type: text/plain; charset=UTF-8

On Mon, Jun 29, 2015 at 8:06 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> Maybe defining (naming) inherit_before tristate values would help:
>

Not really...

+    a->inherit_before = (over->inherit_before == INHERIT_ON
> +                         || (over->inherit_before == INHERIT_UNSET
> +                             && base->inherit_before == INHERIT_ON));
>      if (a->inherit_before) {
>

This logic was convoluted and therefore resulted in in the old default
behavior if the option wasn't explicitly set.  See the most recent trunk
commits for a more legible solution that follows the design pattern used
throughout other core modules.

Your logic above fails to preserve the unset state, and fails to when
consider base->inherit_before is explicitly off.  This is why it is
preferred not to invent new wheels when good wheels exist, particularly if
there will be a square side on the new wheel.

Bill

--089e01184874a2cc9e0519b23981
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Jun 29, 2015 at 8:06 PM, Yann Ylavic <span dir=3D"ltr">&lt;<a href=3D"m=
ailto:ylavic.dev@gmail.com" target=3D"_blank">ylavic.dev@gmail.com</a>&gt;<=
/span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8=
ex;border-left:1px #ccc solid;padding-left:1ex">Maybe defining (naming) inh=
erit_before tristate values would help:<br>
</blockquote><div><br></div><div>Not really...</div><div><br></div><blockqu=
ote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc s=
olid;padding-left:1ex">+=C2=A0 =C2=A0 a-&gt;inherit_before =3D (over-&gt;in=
herit_before =3D=3D INHERIT_ON<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0|| (over-&gt;inherit_before =3D=3D INHERIT_UNSET<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0&amp;&amp; base-&gt;inherit_before =3D=3D IN=
HERIT_ON));<br>
<span class=3D"">=C2=A0 =C2=A0 =C2=A0if (a-&gt;inherit_before) {<br></span>=
</blockquote><div><br></div><div>This logic was convoluted and therefore re=
sulted in in the old default behavior if the option wasn&#39;t explicitly s=
et.=C2=A0 See the most recent trunk commits for a more legible solution tha=
t follows the design pattern used throughout other core modules.</div><div>=
<br></div><div>Your logic above fails to preserve the unset state, and fail=
s to when consider base-&gt;inherit_before is explicitly off.=C2=A0 This is=
 why it is preferred not to invent new wheels when good wheels exist, parti=
cularly if there will be a square side on the new wheel.</div><div><br></di=
v><div>Bill=C2=A0</div></div><br></div></div>

--089e01184874a2cc9e0519b23981--

From dev-return-83189-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 01:39:36 2015
Return-Path: <dev-return-83189-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1D1F8187BE
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 01:39:36 +0000 (UTC)
Received: (qmail 68872 invoked by uid 500); 30 Jun 2015 01:39:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68814 invoked by uid 500); 30 Jun 2015 01:39:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68804 invoked by uid 99); 30 Jun 2015 01:39:35 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 01:39:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 07DA8D1110
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 01:39:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.998
X-Spam-Level: **
X-Spam-Status: No, score=2.998 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id MJyLFX0DJKqW for <dev@httpd.apache.org>;
	Tue, 30 Jun 2015 01:39:34 +0000 (UTC)
Received: from mail-ie0-f176.google.com (mail-ie0-f176.google.com [209.85.223.176])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id CCFDA42AA9
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 01:39:33 +0000 (UTC)
Received: by iebmu5 with SMTP id mu5so2688293ieb.1
        for <dev@httpd.apache.org>; Mon, 29 Jun 2015 18:39:27 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=VLmzC4/Qa6smEWm1WUT+BJEpc/XRSH5UI/qebZSKwic=;
        b=bhCVXOODY19MOdzFOuRqAxGTtpH5quHVhsMh17rsvdwBQ0Wyxg1QR2wuc532dReDmu
         lldmQZO/Y2wsGvU8DKgc3bORHdQyzCwwRb3q0Qtf31CQ9Z6WvaBVtXIuArG8rtGFQp5H
         Uw5EzFjN/vSrCPPiMy09Gbl5q7QaGB1PZg1/vo3MiBmq4TiwDjKppBFCiUXCV4vMUfFo
         l2wFqtpahc3Z5fIzv6d3qra/K0ACjQZRITp8Kj4H/HgzhZOsS6JtnAWYrk0jiVuNdFd4
         n5xJJc6hb1JyHDAOb49FSyUBn4nAeeFI3hR5bRskPt5R2CKREr6iGFcWo8Vhk/R0ywUS
         +SoQ==
X-Gm-Message-State: ALoCoQnbC+r2BdnENSEgckYiYAF1NB2h3vEzGJVPs85Ye7mLQi6gRZ6rCXo6Va9ebx9zhZRQvmfZ
MIME-Version: 1.0
X-Received: by 10.50.114.5 with SMTP id jc5mr20215161igb.43.1435628367487;
 Mon, 29 Jun 2015 18:39:27 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Mon, 29 Jun 2015 18:39:27 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <20150630012743.6B398AC0043@hades.apache.org>
References: <20150630012743.6B398AC0043@hades.apache.org>
Date: Mon, 29 Jun 2015 20:39:27 -0500
Message-ID: <CACsi252FxTFw7x785g32onO2n5-XivAod0oLtXFM7CXO75iycg@mail.gmail.com>
Subject: Re: svn commit: r1688339 - /httpd/httpd/trunk/modules/filters/mod_substitute.c
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7b414172dfbe840519b2460c

--047d7b414172dfbe840519b2460c
Content-Type: text/plain; charset=UTF-8

For 2.2/2.4 the delta is a one line change to trunk's behavior;

On Mon, Jun 29, 2015 at 8:27 PM, <wrowe@apache.org> wrote:

> Author: wrowe
> Date: Tue Jun 30 01:27:42 2015
> New Revision: 1688339
>
> URL: http://svn.apache.org/r1688339
> Log:
> Very difficult to read, and therefore was wrong.
>
> Assert that the SubstituteInheritBefore option was explicitly toggled,
> and do not default in 2.x to this legacy behavior.
>
>
> Modified:
>     httpd/httpd/trunk/modules/filters/mod_substitute.c
>
> Modified: httpd/httpd/trunk/modules/filters/mod_substitute.c
> URL:
> http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/filters/mod_substitute.c?rev=1688339&r1=1688338&r2=1688339&view=diff
>
> ==============================================================================
> --- httpd/httpd/trunk/modules/filters/mod_substitute.c (original)
> +++ httpd/httpd/trunk/modules/filters/mod_substitute.c Tue Jun 30 01:27:42
> 2015
> @@ -86,9 +86,16 @@ static void *merge_substitute_dcfg(apr_p
>      subst_dir_conf *base = (subst_dir_conf *) basev;
>      subst_dir_conf *over = (subst_dir_conf *) overv;
>
> -    a->inherit_before = (over->inherit_before > 0 ||
> (over->inherit_before < 0 &&
> -
> base->inherit_before > 0));
> -    if (a->inherit_before) {
> +    a->inherit_before = (over->inherit_before != -1)
> +                            ? over->inherit_before
> +                            : base->inherit_before;
> +    /* SubstituteInheritBefore was the default behavior until 2.5.x,
> +     * and may be re-enabled as desired; this original default behavior
> +     * was to apply inherited subst patterns before locally scoped
> patterns.
> +     * In later 2.2 and 2.4 versions, SubstituteInheritBefore may be
> toggled
> +     * 'off' to follow the corrected/expected behavior, without violating
> POLS.
> +     */
> +    if (a->inherit_before == 1) {
>

This becomes

    if (a->inherit_before)

both the default case and explicitly toggled case will honor the legacy
2.2/2.4 behavior.
Explicitly toggling 'SubstitueInheritBefore off' will 'upgrade' to the
expected 2.5 behavior.

--047d7b414172dfbe840519b2460c
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">For 2.2/2.4 the delta is a one line change to trunk&#39;s =
behavior;<br><div class=3D"gmail_extra"><br><div class=3D"gmail_quote">On M=
on, Jun 29, 2015 at 8:27 PM,  <span dir=3D"ltr">&lt;<a href=3D"mailto:wrowe=
@apache.org" target=3D"_blank">wrowe@apache.org</a>&gt;</span> wrote:<br><b=
lockquote class=3D"gmail_quote" style=3D"margin:0px 0px 0px 0.8ex;border-le=
ft-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;pad=
ding-left:1ex">Author: wrowe<br>
Date: Tue Jun 30 01:27:42 2015<br>
New Revision: 1688339<br>
<br>
URL: <a href=3D"http://svn.apache.org/r1688339" rel=3D"noreferrer" target=
=3D"_blank">http://svn.apache.org/r1688339</a><br>
Log:<br>
Very difficult to read, and therefore was wrong.<br>
<br>
Assert that the SubstituteInheritBefore option was explicitly toggled,<br>
and do not default in 2.x to this legacy behavior.<br>
<br>
<br>
Modified:<br>
=C2=A0 =C2=A0 httpd/httpd/trunk/modules/filters/mod_substitute.c<br>
<br>
Modified: httpd/httpd/trunk/modules/filters/mod_substitute.c<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/filt=
ers/mod_substitute.c?rev=3D1688339&amp;r1=3D1688338&amp;r2=3D1688339&amp;vi=
ew=3Ddiff" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewv=
c/httpd/httpd/trunk/modules/filters/mod_substitute.c?rev=3D1688339&amp;r1=
=3D1688338&amp;r2=3D1688339&amp;view=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/trunk/modules/filters/mod_substitute.c (original)<br>
+++ httpd/httpd/trunk/modules/filters/mod_substitute.c Tue Jun 30 01:27:42 =
2015<br>
@@ -86,9 +86,16 @@ static void *merge_substitute_dcfg(apr_p<br>
=C2=A0 =C2=A0 =C2=A0subst_dir_conf *base =3D (subst_dir_conf *) basev;<br>
=C2=A0 =C2=A0 =C2=A0subst_dir_conf *over =3D (subst_dir_conf *) overv;<br>
<br>
-=C2=A0 =C2=A0 a-&gt;inherit_before =3D (over-&gt;inherit_before &gt; 0 || =
(over-&gt;inherit_before &lt; 0 &amp;&amp;<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 base-&gt;inherit_before &gt; 0));=
<br>
-=C2=A0 =C2=A0 if (a-&gt;inherit_before) {<br>
+=C2=A0 =C2=A0 a-&gt;inherit_before =3D (over-&gt;inherit_before !=3D -1)<b=
r>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 ? over-&gt;inherit_before<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 : base-&gt;inherit_before;<br>
+=C2=A0 =C2=A0 /* SubstituteInheritBefore was the default behavior until 2.=
5.x,<br>
+=C2=A0 =C2=A0 =C2=A0* and may be re-enabled as desired; this original defa=
ult behavior<br>
+=C2=A0 =C2=A0 =C2=A0* was to apply inherited subst patterns before locally=
 scoped patterns.<br>
+=C2=A0 =C2=A0 =C2=A0* In later 2.2 and 2.4 versions, SubstituteInheritBefo=
re may be toggled<br>
+=C2=A0 =C2=A0 =C2=A0* &#39;off&#39; to follow the corrected/expected behav=
ior, without violating POLS.<br>
+=C2=A0 =C2=A0 =C2=A0*/<br>
+=C2=A0 =C2=A0 if (a-&gt;inherit_before =3D=3D 1) {<br></blockquote><div><b=
r></div><div>This becomes</div><div><br></div><div>=C2=A0 =C2=A0 if (a-&gt;=
inherit_before)</div><div><br></div><div>both the default case and explicit=
ly toggled case will honor the legacy 2.2/2.4 behavior.</div><div>Explicitl=
y toggling &#39;SubstitueInheritBefore off&#39; will &#39;upgrade&#39; to t=
he expected 2.5 behavior.</div></div><br></div></div>

--047d7b414172dfbe840519b2460c--

From dev-return-83190-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 02:01:24 2015
Return-Path: <dev-return-83190-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 076501886E
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 02:01:24 +0000 (UTC)
Received: (qmail 16014 invoked by uid 500); 30 Jun 2015 02:01:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15950 invoked by uid 500); 30 Jun 2015 02:01:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15940 invoked by uid 99); 30 Jun 2015 02:01:23 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 02:01:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B9CC818275D
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 02:01:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id K2-_HcAIni1X for <dev@httpd.apache.org>;
	Tue, 30 Jun 2015 02:01:21 +0000 (UTC)
Received: from mail-ig0-f178.google.com (mail-ig0-f178.google.com [209.85.213.178])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 96CEB20530
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 02:01:20 +0000 (UTC)
Received: by igblr2 with SMTP id lr2so2995015igb.0
        for <dev@httpd.apache.org>; Mon, 29 Jun 2015 19:01:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=FYytsHTn7/LvdQ5D2wbvGlRQhZvTkXW2IPi/UyJlHOo=;
        b=X+gOoeZMnDpcxAfptl33g/DLArWLZbeyoOGZW3YRxRlr8JBPdxgmQUB/8VUTVrpLMs
         pJX0aqSFl6Ez0WXFn9ZhFnEU5zv2DQ4qNJNFKHLrn2W2Yk6MzzYhO3QQIbqlw+mClck1
         11UQmMzzjKjFiDGwa0XNA2aRa3H9tGMZm1bCwed9jJzoPyDrnHCQ/QUW7ZZhwuX1RkMF
         C4ZmYzD/WaaeqFdeWOnrbEJY6ag/IeSFr9kYnNDC6BwBt63fpXFGpfVeTjAdAscVzebw
         lMRfnqyL4kJlNyr7Id5NuYn1WtifqSW2aXd5UKn6TkxXA43bO6HLkBwF0FCsI1YnVye0
         yYQw==
MIME-Version: 1.0
X-Received: by 10.42.203.4 with SMTP id fg4mr21492512icb.52.1435629679681;
 Mon, 29 Jun 2015 19:01:19 -0700 (PDT)
Received: by 10.79.22.5 with HTTP; Mon, 29 Jun 2015 19:01:19 -0700 (PDT)
In-Reply-To: <20150630012743.6B398AC0043@hades.apache.org>
References: <20150630012743.6B398AC0043@hades.apache.org>
Date: Tue, 30 Jun 2015 04:01:19 +0200
Message-ID: <CAKQ1sVMhLh9V53SBe=oKcnNH0nQp6+tL5xMqhPYwpVcTpnM-=w@mail.gmail.com>
Subject: Re: svn commit: r1688339 - /httpd/httpd/trunk/modules/filters/mod_substitute.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

This won't work for eg, this second level inheritance: server context
is on, vhost and inner Location are unset.
Location->inherit_before will be unset whereas it should be on.
We should not preserve the unset state IMHO.

On Tue, Jun 30, 2015 at 3:27 AM,  <wrowe@apache.org> wrote:
> Author: wrowe
> Date: Tue Jun 30 01:27:42 2015
> New Revision: 1688339
>
> URL: http://svn.apache.org/r1688339
> Log:
> Very difficult to read, and therefore was wrong.
>
> Assert that the SubstituteInheritBefore option was explicitly toggled,
> and do not default in 2.x to this legacy behavior.
>
>
> Modified:
>     httpd/httpd/trunk/modules/filters/mod_substitute.c
>
> Modified: httpd/httpd/trunk/modules/filters/mod_substitute.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/filters/mod_substitute.c?rev=1688339&r1=1688338&r2=1688339&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/filters/mod_substitute.c (original)
> +++ httpd/httpd/trunk/modules/filters/mod_substitute.c Tue Jun 30 01:27:42 2015
> @@ -86,9 +86,16 @@ static void *merge_substitute_dcfg(apr_p
>      subst_dir_conf *base = (subst_dir_conf *) basev;
>      subst_dir_conf *over = (subst_dir_conf *) overv;
>
> -    a->inherit_before = (over->inherit_before > 0 || (over->inherit_before < 0 &&
> -                                                      base->inherit_before > 0));
> -    if (a->inherit_before) {
> +    a->inherit_before = (over->inherit_before != -1)
> +                            ? over->inherit_before
> +                            : base->inherit_before;
> +    /* SubstituteInheritBefore was the default behavior until 2.5.x,
> +     * and may be re-enabled as desired; this original default behavior
> +     * was to apply inherited subst patterns before locally scoped patterns.
> +     * In later 2.2 and 2.4 versions, SubstituteInheritBefore may be toggled
> +     * 'off' to follow the corrected/expected behavior, without violating POLS.
> +     */
> +    if (a->inherit_before == 1) {
>          a->patterns = apr_array_append(p, base->patterns,
>                                            over->patterns);
>      }
>
>

From dev-return-83191-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 02:44:44 2015
Return-Path: <dev-return-83191-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2CEA118984
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 02:44:44 +0000 (UTC)
Received: (qmail 85288 invoked by uid 500); 30 Jun 2015 02:44:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 85216 invoked by uid 500); 30 Jun 2015 02:44:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 85205 invoked by uid 99); 30 Jun 2015 02:44:38 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 02:44:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 48DF61A6251
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 02:44:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.891
X-Spam-Level: *
X-Spam-Status: No, score=1.891 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id IHuHHs8GPZM1 for <dev@httpd.apache.org>;
	Tue, 30 Jun 2015 02:44:36 +0000 (UTC)
Received: from mail-ig0-f175.google.com (mail-ig0-f175.google.com [209.85.213.175])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 6A86945CC1
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 02:44:36 +0000 (UTC)
Received: by igrv9 with SMTP id v9so3468177igr.1
        for <dev@httpd.apache.org>; Mon, 29 Jun 2015 19:44:36 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=qq/IZ0FSuh/JDbKvCqDFyLKRDWkzphS5ubQTT1guy0c=;
        b=XrnYfWhPCr7ks6imtb/tW1vZBK4Iyi65BYizHDwLUxEHCIZdKwLNp6+1/AUquSMpwZ
         DpmNXZIcxQbInA+O6QgADJoz7z11aVi4oc9J+AQHEU8XtDNRS/3He4k4Kbp1oZ974yT0
         HQJMJaoYCbAvH6ZejbWfejfFSmqogqOrNhZx4l1CUoHwtK6AgCg/xCvhL540OzebPSMN
         nieMPhV2Xatr2HU5ZMYqC6+rJk/J97YAwbH95wtNvEWeVUg/Dj/LwVztY4a/wYQaB9Vu
         wu3zsskl6+xz+tgz8eoZ0HaoYry3SyXN4G6BQsS/CkjZ5VTGZAR2fSa1j8/mmf+3Za+N
         bHTQ==
X-Gm-Message-State: ALoCoQkgqtxfejIrqdJ0yC/1PBL10UbWk6IwE2oqY/bWIc7BEC69V/utRZBr90Rej+3zU4N31INc
MIME-Version: 1.0
X-Received: by 10.50.114.5 with SMTP id jc5mr20531019igb.43.1435632275912;
 Mon, 29 Jun 2015 19:44:35 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Mon, 29 Jun 2015 19:44:35 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <CAKQ1sVMhLh9V53SBe=oKcnNH0nQp6+tL5xMqhPYwpVcTpnM-=w@mail.gmail.com>
References: <20150630012743.6B398AC0043@hades.apache.org>
	<CAKQ1sVMhLh9V53SBe=oKcnNH0nQp6+tL5xMqhPYwpVcTpnM-=w@mail.gmail.com>
Date: Mon, 29 Jun 2015 21:44:35 -0500
Message-ID: <CACsi251twoFk+amOPxJ0-8-oy9LShr77UOErFx59f8QGyAkXPA@mail.gmail.com>
Subject: Re: svn commit: r1688339 - /httpd/httpd/trunk/modules/filters/mod_substitute.c
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7b414172d59a6c0519b32f3d

--047d7b414172d59a6c0519b32f3d
Content-Type: text/plain; charset=UTF-8

You ALWAYS preserve unset state.  How else do you perform the THIRD merge?



On Mon, Jun 29, 2015 at 9:01 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> This won't work for eg, this second level inheritance: server context
> is on, vhost and inner Location are unset.
> Location->inherit_before will be unset whereas it should be on.
> We should not preserve the unset state IMHO.
>
> On Tue, Jun 30, 2015 at 3:27 AM,  <wrowe@apache.org> wrote:
> > Author: wrowe
> > Date: Tue Jun 30 01:27:42 2015
> > New Revision: 1688339
> >
> > URL: http://svn.apache.org/r1688339
> > Log:
> > Very difficult to read, and therefore was wrong.
> >
> > Assert that the SubstituteInheritBefore option was explicitly toggled,
> > and do not default in 2.x to this legacy behavior.
> >
> >
> > Modified:
> >     httpd/httpd/trunk/modules/filters/mod_substitute.c
> >
> > Modified: httpd/httpd/trunk/modules/filters/mod_substitute.c
> > URL:
> http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/filters/mod_substitute.c?rev=1688339&r1=1688338&r2=1688339&view=diff
> >
> ==============================================================================
> > --- httpd/httpd/trunk/modules/filters/mod_substitute.c (original)
> > +++ httpd/httpd/trunk/modules/filters/mod_substitute.c Tue Jun 30
> 01:27:42 2015
> > @@ -86,9 +86,16 @@ static void *merge_substitute_dcfg(apr_p
> >      subst_dir_conf *base = (subst_dir_conf *) basev;
> >      subst_dir_conf *over = (subst_dir_conf *) overv;
> >
> > -    a->inherit_before = (over->inherit_before > 0 ||
> (over->inherit_before < 0 &&
> > -
> base->inherit_before > 0));
> > -    if (a->inherit_before) {
> > +    a->inherit_before = (over->inherit_before != -1)
> > +                            ? over->inherit_before
> > +                            : base->inherit_before;
> > +    /* SubstituteInheritBefore was the default behavior until 2.5.x,
> > +     * and may be re-enabled as desired; this original default behavior
> > +     * was to apply inherited subst patterns before locally scoped
> patterns.
> > +     * In later 2.2 and 2.4 versions, SubstituteInheritBefore may be
> toggled
> > +     * 'off' to follow the corrected/expected behavior, without
> violating POLS.
> > +     */
> > +    if (a->inherit_before == 1) {
> >          a->patterns = apr_array_append(p, base->patterns,
> >                                            over->patterns);
> >      }
> >
> >
>

--047d7b414172d59a6c0519b32f3d
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">You ALWAYS preserve unset state.=C2=A0 How else do you per=
form the THIRD merge?<div><br></div><div><br></div></div><div class=3D"gmai=
l_extra"><br><div class=3D"gmail_quote">On Mon, Jun 29, 2015 at 9:01 PM, Ya=
nn Ylavic <span dir=3D"ltr">&lt;<a href=3D"mailto:ylavic.dev@gmail.com" tar=
get=3D"_blank">ylavic.dev@gmail.com</a>&gt;</span> wrote:<br><blockquote cl=
ass=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;p=
adding-left:1ex">This won&#39;t work for eg, this second level inheritance:=
 server context<br>
is on, vhost and inner Location are unset.<br>
Location-&gt;inherit_before will be unset whereas it should be on.<br>
We should not preserve the unset state IMHO.<br>
<div class=3D"HOEnZb"><div class=3D"h5"><br>
On Tue, Jun 30, 2015 at 3:27 AM,=C2=A0 &lt;<a href=3D"mailto:wrowe@apache.o=
rg">wrowe@apache.org</a>&gt; wrote:<br>
&gt; Author: wrowe<br>
&gt; Date: Tue Jun 30 01:27:42 2015<br>
&gt; New Revision: 1688339<br>
&gt;<br>
&gt; URL: <a href=3D"http://svn.apache.org/r1688339" rel=3D"noreferrer" tar=
get=3D"_blank">http://svn.apache.org/r1688339</a><br>
&gt; Log:<br>
&gt; Very difficult to read, and therefore was wrong.<br>
&gt;<br>
&gt; Assert that the SubstituteInheritBefore option was explicitly toggled,=
<br>
&gt; and do not default in 2.x to this legacy behavior.<br>
&gt;<br>
&gt;<br>
&gt; Modified:<br>
&gt;=C2=A0 =C2=A0 =C2=A0httpd/httpd/trunk/modules/filters/mod_substitute.c<=
br>
&gt;<br>
&gt; Modified: httpd/httpd/trunk/modules/filters/mod_substitute.c<br>
&gt; URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/trunk/modules=
/filters/mod_substitute.c?rev=3D1688339&amp;r1=3D1688338&amp;r2=3D1688339&a=
mp;view=3Ddiff" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/=
viewvc/httpd/httpd/trunk/modules/filters/mod_substitute.c?rev=3D1688339&amp=
;r1=3D1688338&amp;r2=3D1688339&amp;view=3Ddiff</a><br>
&gt; =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D<br>
&gt; --- httpd/httpd/trunk/modules/filters/mod_substitute.c (original)<br>
&gt; +++ httpd/httpd/trunk/modules/filters/mod_substitute.c Tue Jun 30 01:2=
7:42 2015<br>
&gt; @@ -86,9 +86,16 @@ static void *merge_substitute_dcfg(apr_p<br>
&gt;=C2=A0 =C2=A0 =C2=A0 subst_dir_conf *base =3D (subst_dir_conf *) basev;=
<br>
&gt;=C2=A0 =C2=A0 =C2=A0 subst_dir_conf *over =3D (subst_dir_conf *) overv;=
<br>
&gt;<br>
&gt; -=C2=A0 =C2=A0 a-&gt;inherit_before =3D (over-&gt;inherit_before &gt; =
0 || (over-&gt;inherit_before &lt; 0 &amp;&amp;<br>
&gt; -=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 base-&gt;inherit_before &gt; =
0));<br>
&gt; -=C2=A0 =C2=A0 if (a-&gt;inherit_before) {<br>
&gt; +=C2=A0 =C2=A0 a-&gt;inherit_before =3D (over-&gt;inherit_before !=3D =
-1)<br>
&gt; +=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 ? over-&gt;inherit_before<br>
&gt; +=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 : base-&gt;inherit_before;<br>
&gt; +=C2=A0 =C2=A0 /* SubstituteInheritBefore was the default behavior unt=
il 2.5.x,<br>
&gt; +=C2=A0 =C2=A0 =C2=A0* and may be re-enabled as desired; this original=
 default behavior<br>
&gt; +=C2=A0 =C2=A0 =C2=A0* was to apply inherited subst patterns before lo=
cally scoped patterns.<br>
&gt; +=C2=A0 =C2=A0 =C2=A0* In later 2.2 and 2.4 versions, SubstituteInheri=
tBefore may be toggled<br>
&gt; +=C2=A0 =C2=A0 =C2=A0* &#39;off&#39; to follow the corrected/expected =
behavior, without violating POLS.<br>
&gt; +=C2=A0 =C2=A0 =C2=A0*/<br>
&gt; +=C2=A0 =C2=A0 if (a-&gt;inherit_before =3D=3D 1) {<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 a-&gt;patterns =3D apr_array_append(=
p, base-&gt;patterns,<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 over-&gt;patterns);<br>
&gt;=C2=A0 =C2=A0 =C2=A0 }<br>
&gt;<br>
&gt;<br>
</div></div></blockquote></div><br></div>

--047d7b414172d59a6c0519b32f3d--

From dev-return-83192-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 02:49:03 2015
Return-Path: <dev-return-83192-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 64D24189A0
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 02:49:03 +0000 (UTC)
Received: (qmail 90068 invoked by uid 500); 30 Jun 2015 02:49:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89998 invoked by uid 500); 30 Jun 2015 02:49:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89987 invoked by uid 99); 30 Jun 2015 02:49:02 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 02:49:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 640F5D114E
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 02:49:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id RqF7lvZd-mHg for <dev@httpd.apache.org>;
	Tue, 30 Jun 2015 02:48:54 +0000 (UTC)
Received: from mail-ie0-f182.google.com (mail-ie0-f182.google.com [209.85.223.182])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 98B9842AA9
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 02:48:54 +0000 (UTC)
Received: by ieqy10 with SMTP id y10so3501968ieq.0
        for <dev@httpd.apache.org>; Mon, 29 Jun 2015 19:48:48 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=O4x3eUpqePk0wd1eXeazC6uHjdveRIq/qrkXuJme9is=;
        b=Hsv+J2ycnPr4PcYahytLIAK+tT1tKF2taT2I2zD2glCDI8roR24H7yXRXSUAR9L/X4
         fsFKcmcargDuCWK5/cdvG/AY6223Oz/GMlKk+25bJt3+DQ8W40hvU01idXCc0633tmBm
         pEROc8D7mPvp9a6WVKSMs0/8j3wfsFPFn7kbAKwp7iCKcPHlW4T/i3juTOm812pt+/I3
         uEj/oLEYN7qUqat5w2uh4IOiknXLTUrrtGrGbOIPdk3F8PzXWcY//E8iJB6jLVXbLbGF
         IG+LJwCcRRAIw5Eytdod1C19JcHMBEbLbosdN5Tgz7rhYJ5/zZ+TNmhTtGMtrnh9CRXS
         VE6w==
X-Gm-Message-State: ALoCoQkMsvWIMaIOGhUDri+aiUt6bTDkpYn0HmYxtU2oE1RyGGHcN+YhkoT61/Wq6/ky7uiLeaqa
MIME-Version: 1.0
X-Received: by 10.50.110.3 with SMTP id hw3mr20717564igb.20.1435632528302;
 Mon, 29 Jun 2015 19:48:48 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Mon, 29 Jun 2015 19:48:48 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <CACsi251twoFk+amOPxJ0-8-oy9LShr77UOErFx59f8QGyAkXPA@mail.gmail.com>
References: <20150630012743.6B398AC0043@hades.apache.org>
	<CAKQ1sVMhLh9V53SBe=oKcnNH0nQp6+tL5xMqhPYwpVcTpnM-=w@mail.gmail.com>
	<CACsi251twoFk+amOPxJ0-8-oy9LShr77UOErFx59f8QGyAkXPA@mail.gmail.com>
Date: Mon, 29 Jun 2015 21:48:48 -0500
Message-ID: <CACsi250cuwd0+c=va9hynPHPzj+w-Ne0bhHHmCF3-EkvviWjGA@mail.gmail.com>
Subject: Re: svn commit: r1688339 - /httpd/httpd/trunk/modules/filters/mod_substitute.c
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e013cbd50e0c10a0519b33e52

--089e013cbd50e0c10a0519b33e52
Content-Type: text/plain; charset=UTF-8

On Mon, Jun 29, 2015 at 9:44 PM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:

> You ALWAYS preserve unset state.  How else do you perform the THIRD merge?
>

To be more specific, httpd is allowed to merge whatever merges it likes.
If it wants
to optimize for the directory and then merge the base server to the merged
directory,
that's legit.  Overthinking the merge function yields worthless results for
any of the
possible optimization strategies.

--089e013cbd50e0c10a0519b33e52
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Jun 29, 2015 at 9:44 PM, William A Rowe Jr <span dir=3D"ltr">&lt;<a hre=
f=3D"mailto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@rowe-clan.net</a>&=
gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 =
0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr">You AL=
WAYS preserve unset state.=C2=A0 How else do you perform the THIRD merge?<d=
iv></div></div></blockquote></div><br></div><div class=3D"gmail_extra">To b=
e more specific, httpd is allowed to merge whatever merges it likes.=C2=A0 =
If it wants</div><div class=3D"gmail_extra">to optimize for the directory a=
nd then merge the base server to the merged directory,</div><div class=3D"g=
mail_extra">that&#39;s legit.=C2=A0 Overthinking the merge function yields =
worthless results for any of the</div><div class=3D"gmail_extra">possible o=
ptimization strategies.</div></div>

--089e013cbd50e0c10a0519b33e52--

From dev-return-83193-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 02:56:28 2015
Return-Path: <dev-return-83193-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 820F8189C1
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 02:56:28 +0000 (UTC)
Received: (qmail 13428 invoked by uid 500); 30 Jun 2015 02:56:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 13359 invoked by uid 500); 30 Jun 2015 02:56:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 13349 invoked by uid 99); 30 Jun 2015 02:56:27 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 02:56:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 6065AD1153
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 02:56:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id K_piPgd1vD2q for <dev@httpd.apache.org>;
	Tue, 30 Jun 2015 02:56:17 +0000 (UTC)
Received: from mail-ie0-f171.google.com (mail-ie0-f171.google.com [209.85.223.171])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id CAEB8205B7
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 02:56:16 +0000 (UTC)
Received: by iebmu5 with SMTP id mu5so3529232ieb.1
        for <dev@httpd.apache.org>; Mon, 29 Jun 2015 19:55:25 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=MwIr9/BjaBbshntYFKv+syq1Z0/JmNon8u23/yhNp30=;
        b=EdSOFj+le/l1YmtsXUSN/qXwaY5AIoF1U2hlDCH6byDhDZp4KxQ1fRgWYWKAteN9WO
         QLBBTQMu8F8Z/DlMbiu2rEBshYBBAaG5zW3YnurRnCo/SjKVpKmPQ21hfCp4x8ojgoql
         lyNBya3co+W9JCBEfRT4JGcvb8ucwQgc1w8G9obwSD12aymP12OFMpou5VnWv9Swygto
         HURQ0MAONBxUrXlh8tCTkfkPbsnpmgL8CUuJbhF3ENS1Nr80uzwuQYQ7iE1v6hsWLCRe
         ZlxK5kIBlvH9ZcCWOfGtjDzKbpKizl8fMXccCTpHptThlbUTHexcdQaxh9Iq2EwVUWvk
         UTAA==
X-Gm-Message-State: ALoCoQm46GGsWgHeeq7rTJL1AbhZidGaghLGr8o36FjjwiKiTYlynhWmrU1P1enbj+/7dADkTb84
MIME-Version: 1.0
X-Received: by 10.107.6.194 with SMTP id f63mr21456514ioi.61.1435632924995;
 Mon, 29 Jun 2015 19:55:24 -0700 (PDT)
Received: by 10.107.190.195 with HTTP; Mon, 29 Jun 2015 19:55:24 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <201506222101.37130@news.perlig.de>
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com>
	<5586F9F3.20709@thelounge.net>
	<CAKQ1sVOtqVZcyb=RtVaDJwtedEfj_FR46LnOZAhMGrnN9g0JOQ@mail.gmail.com>
	<201506222101.37130@news.perlig.de>
Date: Mon, 29 Jun 2015 21:55:24 -0500
Message-ID: <CACsi252z0NgyZjcteq-OUCBgbGY05GK4iZK5LWUpvi530E_Owg@mail.gmail.com>
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113fc44285d9610519b35606

--001a113fc44285d9610519b35606
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Mon, Jun 22, 2015 at 2:01 PM, Andr=C3=A9 Malo <nd@perlig.de> wrote:

> * Yann Ylavic wrote:
>
> > It seems that RedirectMatch isn't documented without the third (URL)
> > argument, unless in <Location>.
>
> Huh? Actually it is (or maybe I'm not getting something here). I checked =
at
> least back until 2.0.
>
> http://httpd.apache.org/docs/2.4/mod/mod_alias.html#redirect clearly
> documents this.
>

That's helpful, except that #redirectmatch does not point back to #redirect
as authoritative over arguments.  We all now agree that the 2.4.12 and prio=
r
behavior should be preserved, but that doesn't remedy the documentation.

--001a113fc44285d9610519b35606
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Jun 22, 2015 at 2:01 PM, Andr=C3=A9 Malo <span dir=3D"ltr">&lt;<a href=
=3D"mailto:nd@perlig.de" target=3D"_blank">nd@perlig.de</a>&gt;</span> wrot=
e:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-l=
eft:1px #ccc solid;padding-left:1ex"><span class=3D"">* Yann Ylavic wrote:<=
br>
<br>
&gt; It seems that RedirectMatch isn&#39;t documented without the third (UR=
L)<br>
&gt; argument, unless in &lt;Location&gt;.<br>
<br>
</span>Huh? Actually it is (or maybe I&#39;m not getting something here). I=
 checked at<br>
least back until 2.0.<br>
<br>
<a href=3D"http://httpd.apache.org/docs/2.4/mod/mod_alias.html#redirect" re=
l=3D"noreferrer" target=3D"_blank">http://httpd.apache.org/docs/2.4/mod/mod=
_alias.html#redirect</a> clearly<br>
documents this.<br></blockquote><div><br></div><div>That&#39;s helpful, exc=
ept that #redirectmatch does not point back to #redirect</div><div>as autho=
ritative over arguments.=C2=A0 We all now agree that the 2.4.12 and prior</=
div><div>behavior should be preserved, but that doesn&#39;t remedy the docu=
mentation.</div></div><br></div></div>

--001a113fc44285d9610519b35606--

From dev-return-83194-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 07:12:59 2015
Return-Path: <dev-return-83194-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C090D1740B
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 07:12:59 +0000 (UTC)
Received: (qmail 72616 invoked by uid 500); 30 Jun 2015 07:12:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 72557 invoked by uid 500); 30 Jun 2015 07:12:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 72547 invoked by uid 99); 30 Jun 2015 07:12:58 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 07:12:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 4C4B71A623B
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 07:12:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.48
X-Spam-Level: ***
X-Spam-Status: No, score=3.48 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, KAM_LINKBAIT=2.5,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id CrbXDkJ_bIIY for <dev@httpd.apache.org>;
	Tue, 30 Jun 2015 07:12:56 +0000 (UTC)
Received: from lookie3.hostorama.com (lookie3.hostorama.com [80.74.148.208])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id D2C354540D
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 07:12:55 +0000 (UTC)
Received: from lookie.metanet.ch (localhost [127.0.0.1])
	by lookie3.hostorama.com (Postfix) with ESMTPSA id C873D18254A2;
	Tue, 30 Jun 2015 09:12:47 +0200 (CEST)
Received: from nat13.ergon.ch (nat13.ergon.ch [87.239.215.13]) by
 webmail.michael-kaufmann.ch (Horde Framework) with HTTP; Tue, 30 Jun 2015
 09:12:47 +0200
Date: Tue, 30 Jun 2015 09:12:47 +0200
Message-ID: <20150630091247.Horde.y8ButcLLdlLKK4UbBCZqbA2@webmail.michael-kaufmann.ch>
From: Michael Kaufmann <mail@michael-kaufmann.ch>
To: dev@httpd.apache.org, Yann Ylavic <ylavic.dev@gmail.com>
Subject: Re: LimitRequestBody is broken in 2.4.13-2.4.15
References: <20150629185753.Horde.0lMpJd6P8627alFGUrUYyg1@webmail.michael-kaufmann.ch>
 <CAKQ1sVP-5fMTqt1FK09Vmf9_NNQDxmLXMFy0ERYrBTsMmeM5pw@mail.gmail.com>
 <CAKQ1sVNLFaSU8qLj0iObskNSgdPBc1=DOXBnVgnQqXVLNh5maA@mail.gmail.com>
In-Reply-To: <CAKQ1sVNLFaSU8qLj0iObskNSgdPBc1=DOXBnVgnQqXVLNh5maA@mail.gmail.com>
User-Agent: Internet Messaging Program (IMP) H5 (6.2.1)
Content-Type: text/plain; charset=UTF-8; format=flowed; DelSp=Yes
MIME-Version: 1.0
Content-Disposition: inline

>> Thanks for reporting this before the testing/release.
>> Fixed in r1688274 (will now propose a backport), and since this is a
>> showstopper, it will be merged (once reviewed) before 2.4.16/2.2.30.
>
> Proposed patch (for backport) is
> http://people.apache.org/~ylavic/httpd-2.4.x-fix_LimitRequestBody.patch
> Thanks (again) for testing if that's possible.
>

I have tested the patch, it works :-) Thank you very much!

Regards,
Michael


From dev-return-83195-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 07:49:00 2015
Return-Path: <dev-return-83195-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4066F17531
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 07:49:00 +0000 (UTC)
Received: (qmail 59656 invoked by uid 500); 30 Jun 2015 07:48:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59595 invoked by uid 500); 30 Jun 2015 07:48:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59585 invoked by uid 99); 30 Jun 2015 07:48:54 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 07:48:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 3CC62C0484
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 07:48:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.001
X-Spam-Level: *
X-Spam-Status: No, score=1.001 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id qvEz-Loy0hmM for <dev@httpd.apache.org>;
	Tue, 30 Jun 2015 07:48:48 +0000 (UTC)
Received: from jupiter.hal-nine-zero-zero-zero.net (jupiter.hal-nine-zero-zero-zero.net [212.227.252.63])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with SMTP id E60F847BE8
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 07:48:47 +0000 (UTC)
Received: (qmail 4955 invoked from network); 30 Jun 2015 07:46:47 -0000
Received: from unknown (HELO localhost) (212.227.252.63)
  by jupiter.hal-nine-zero-zero-zero.net with SMTP; 30 Jun 2015 07:46:47 -0000
From: =?iso-8859-1?q?Andr=E9_Malo?= <nd@perlig.de>
Organization: TIMTOWTDI
To: dev@httpd.apache.org
Subject: Re: [VOTE] Release Apache httpd 2.4.15 as GA
Date: Tue, 30 Jun 2015 09:48:40 +0200
User-Agent: KMail/1.9.10
References: <FA5281FE-0242-4C9D-95E7-1F448212ED0F@jaguNET.com> <201506222101.37130@news.perlig.de> <CACsi252z0NgyZjcteq-OUCBgbGY05GK4iZK5LWUpvi530E_Owg@mail.gmail.com>
In-Reply-To: <CACsi252z0NgyZjcteq-OUCBgbGY05GK4iZK5LWUpvi530E_Owg@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <201506300948.40913@news.perlig.de>

* William A Rowe Jr wrote:

> On Mon, Jun 22, 2015 at 2:01 PM, Andr=E9 Malo <nd@perlig.de> wrote:
> > * Yann Ylavic wrote:
> > > It seems that RedirectMatch isn't documented without the third (URL)
> > > argument, unless in <Location>.
> >
> > Huh? Actually it is (or maybe I'm not getting something here). I checked
> > at least back until 2.0.
> >
> > http://httpd.apache.org/docs/2.4/mod/mod_alias.html#redirect clearly
> > documents this.
>
> That's helpful, except that #redirectmatch does not point back to #redire=
ct
> as authoritative over arguments.

*shrug* apparently I interpret "equivalent" differently (the part you left =
out=20
of the quote), but whatever.

> We all now agree that the 2.4.12 and
> prior behavior should be preserved, but that doesn't remedy the
> documentation.

Well, we could copy it, if that makes you happy ;-)

nd
=2D-=20
Das, was ich nicht kenne, spielt st=FCckzahlm=E4=DFig *keine* Rolle.

                                   -- Helmut Schellong in dclc

From dev-return-83196-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 10:25:42 2015
Return-Path: <dev-return-83196-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CF96C17CC1
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 10:25:42 +0000 (UTC)
Received: (qmail 2889 invoked by uid 500); 30 Jun 2015 10:25:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 2811 invoked by uid 500); 30 Jun 2015 10:25:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 2800 invoked by uid 99); 30 Jun 2015 10:25:42 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 10:25:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 0BFF0D1284
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 10:25:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id KH-r203C5nHg for <dev@httpd.apache.org>;
	Tue, 30 Jun 2015 10:25:35 +0000 (UTC)
Received: from resqmta-ch2-01v.sys.comcast.net (resqmta-ch2-01v.sys.comcast.net [69.252.207.33])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 434CC42AA9
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 10:25:35 +0000 (UTC)
Received: from resomta-ch2-02v.sys.comcast.net ([69.252.207.98])
	by resqmta-ch2-01v.sys.comcast.net with comcast
	id maR71q00327uzMh01aRUhX; Tue, 30 Jun 2015 10:25:28 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-02v.sys.comcast.net with comcast
	id maRT1q00M2U0RYt01aRUK6; Tue, 30 Jun 2015 10:25:28 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: svn commit: r1688331 - /httpd/httpd/trunk/modules/filters/mod_substitute.c
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CACsi250hqEMyuP4-wvwovCDZLEfMYToV9gLxeHbG0XF9WwNR8Q@mail.gmail.com>
Date: Tue, 30 Jun 2015 06:25:27 -0400
Cc: cvs@httpd.apache.org
Content-Transfer-Encoding: 7bit
Message-Id: <93400DF5-4D7E-40F6-A8D2-817F0496E12E@jaguNET.com>
References: <20150629234429.5466EAC054F@hades.apache.org> <CACsi250hqEMyuP4-wvwovCDZLEfMYToV9gLxeHbG0XF9WwNR8Q@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1435659928;
	bh=FahxoXcsXi2aexP9cCO+DH1CQjs2qpsUdO+3LfYpx7Y=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=GIvOAbd5JiV0al+XBGRjpTM1wtKdz+mID01Uiby6kuM2I9Y8CI9XrRRziu1yFTvrw
	 aLIPlVbhwLYEsKb3JBDFi9ismj1Ci5QwlNObrixFmLHeHXA4L0hzhkmKKQYvlr/6Ey
	 +c/TZOIPcYCo+bOCJbXZtLRaQeDqMWIeJGRNcPQaTTd/Wa5WbHauRJixoQWIDpeav1
	 W6H0Wes9ears5iovRUhKyppLcSTngKFu0EEXz91zL/qOqyb1TFTFml6wIckIOc+EIO
	 ZAR6Ol7qszZDZYroPXAjdKC9ORiSbYKjxCU1+KcTzfO7CWfJK2il3+i7i7xBmzTme/
	 JQ8S79UkY1eNw==

My pref is that we create one single directive which controls
this. With 2.4 the default is the "old" (incorrect) merge and
with trunk it is the new (correct) merge. That way those
upgrading from 2.4 -> 2.6/3.0 will only need to worry about
a directive default change.

From dev-return-83197-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 10:29:47 2015
Return-Path: <dev-return-83197-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E2EA017CE6
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 10:29:46 +0000 (UTC)
Received: (qmail 10857 invoked by uid 500); 30 Jun 2015 10:29:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10776 invoked by uid 500); 30 Jun 2015 10:29:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10765 invoked by uid 99); 30 Jun 2015 10:29:46 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 10:29:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id BBBCEC0518
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 10:29:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id cO2wt71b6YLk for <dev@httpd.apache.org>;
	Tue, 30 Jun 2015 10:29:40 +0000 (UTC)
Received: from resqmta-ch2-06v.sys.comcast.net (resqmta-ch2-06v.sys.comcast.net [69.252.207.38])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 0D4024C0EA
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 10:29:40 +0000 (UTC)
Received: from resomta-ch2-17v.sys.comcast.net ([69.252.207.113])
	by resqmta-ch2-06v.sys.comcast.net with comcast
	id maVC1q0072TL4Rh01aVZcm; Tue, 30 Jun 2015 10:29:33 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-17v.sys.comcast.net with comcast
	id maVY1q00m2U0RYt01aVZd4; Tue, 30 Jun 2015 10:29:33 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: [NOTICE] Intent to T&R 2.4.16 next week
Message-Id: <935AF354-A31F-4ED5-832E-7384CC154EE7@jaguNET.com>
Date: Tue, 30 Jun 2015 06:29:32 -0400
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
X-Mailer: Apple Mail (2.2098)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1435660173;
	bh=uUQhPS/J+DN+B7lxH36fTUkpIpMBJ5v28LqZrBpDvvA=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=SwYY0PhesCPFucBzTgSXi09ltuOqXzuhBkOuVxPazF1NYaAua6hpBe62y9s57xCSO
	 eYZeM61DMViE8bsD3oZ0z1uZy9NF9SKH375ptUvT0GLft6WF6n7HqxhlGBzAg7xGSr
	 lpuKva0V2o3pUnH+QduDfNgPTNLeVDnusAdzzkDOrFXEU+ZTNCJRY2JeEqDsHM/OIj
	 HstEShNlcgbwo3YF1GbucOBxVetsnD/DWPLxlGTj38f1EBn/W70COmI7TBkN3PdLl/
	 Wvh92iEfxCDWfonZtzgCisXlHmvd209qXTQojU28l+kOVzVYN55uUVPGasz+JMnGK2
	 F8qepHyh2KbMQ==

My goal is that all outstanding bugs and backports and/or showstoppers
have sufficient +1 and sufficient testing to warrant a T&R next
week (ie: the week of July 7th)

From dev-return-83198-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 10:40:56 2015
Return-Path: <dev-return-83198-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4781917D38
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 10:40:56 +0000 (UTC)
Received: (qmail 28851 invoked by uid 500); 30 Jun 2015 10:40:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28784 invoked by uid 500); 30 Jun 2015 10:40:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28774 invoked by uid 99); 30 Jun 2015 10:40:55 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 10:40:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 3ACE2180348
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 10:40:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.999
X-Spam-Level:
X-Spam-Status: No, score=0.999 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, SPF_HELO_PASS=-0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id vKqcVUqJ3_nj for <dev@httpd.apache.org>;
	Tue, 30 Jun 2015 10:40:44 +0000 (UTC)
Received: from mail1.bemta5.messagelabs.com (mail1.bemta5.messagelabs.com [195.245.231.141])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 8A1572092B
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 10:40:42 +0000 (UTC)
Received: from [85.158.139.163] by server-5.bemta-5.messagelabs.com id 91/5F-19215-7E172955; Tue, 30 Jun 2015 10:39:35 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-12.tower-188.messagelabs.com!1435660775!12007498!1
X-Originating-IP: [195.232.244.135]
X-StarScan-Received:
X-StarScan-Version: 6.13.16; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 22671 invoked from network); 30 Jun 2015 10:39:35 -0000
Received: from mailout03.vodafone.com (HELO mailout03.vodafone.com) (195.232.244.135)
  by server-12.tower-188.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 30 Jun 2015 10:39:35 -0000
Received: from mailint03.vodafone.com (mailint03.vodafone.com [195.232.244.200])
	by mailout03.vodafone.com (Postfix) with ESMTP id 3mLMd30lsgz17HNR
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 12:39:35 +0200 (CEST)
Received: from mailint03.vodafone.com (localhost [127.0.0.1])
	by mailint03.vodafone.com (Postfix) with ESMTP id 3mLMd25pqpz16J70
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 12:39:34 +0200 (CEST)
Received: from VOEXC02W.internal.vodafone.com (voexc02w.dc-ratingen.de [145.230.101.22])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint03.vodafone.com (Postfix) with ESMTPS id 3mLMd25jm9z16KkY
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 12:39:34 +0200 (CEST)
Received: from VOEXC10W.internal.vodafone.com (145.230.101.30) by
 VOEXC02W.internal.vodafone.com (145.230.101.22) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Tue, 30 Jun 2015 12:39:33 +0200
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.132]) by
 VOEXC10W.internal.vodafone.com ([145.230.101.30]) with mapi id
 14.03.0224.002; Tue, 30 Jun 2015 12:39:32 +0200
From: =?iso-8859-1?Q?Pl=FCm=2C_R=FCdiger=2C_Vodafone_Group?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: svn commit: r1688331 -
 /httpd/httpd/trunk/modules/filters/mod_substitute.c
Thread-Topic: svn commit: r1688331 -
 /httpd/httpd/trunk/modules/filters/mod_substitute.c
Thread-Index: AQHQssg4hgjGfgqwIEWJlIeVqV3v0p3EtxKAgAAlGZA=
Date: Tue, 30 Jun 2015 10:39:31 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC62B9612@VOEXM10W.internal.vodafone.com>
References: <20150629234429.5466EAC054F@hades.apache.org>
 <CACsi250hqEMyuP4-wvwovCDZLEfMYToV9gLxeHbG0XF9WwNR8Q@mail.gmail.com>
 <93400DF5-4D7E-40F6-A8D2-817F0496E12E@jaguNET.com>
In-Reply-To: <93400DF5-4D7E-40F6-A8D2-817F0496E12E@jaguNET.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

+1. They can even make their configuration "future proof" today by setting =
the 2.4 default behaviour explicitly.

Regards

R=FCdiger

> -----Original Message-----
> From: Jim Jagielski [mailto:jim@jaguNET.com]
> Sent: Dienstag, 30. Juni 2015 12:25
> To: dev@httpd.apache.org
> Cc: cvs@httpd.apache.org
> Subject: Re: svn commit: r1688331 -
> /httpd/httpd/trunk/modules/filters/mod_substitute.c
>=20
> My pref is that we create one single directive which controls
> this. With 2.4 the default is the "old" (incorrect) merge and
> with trunk it is the new (correct) merge. That way those
> upgrading from 2.4 -> 2.6/3.0 will only need to worry about
> a directive default change.

From dev-return-83199-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 11:42:31 2015
Return-Path: <dev-return-83199-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DAF6217FB8
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 11:42:30 +0000 (UTC)
Received: (qmail 65516 invoked by uid 500); 30 Jun 2015 11:42:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65441 invoked by uid 500); 30 Jun 2015 11:42:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65431 invoked by uid 99); 30 Jun 2015 11:42:30 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 11:42:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 05CC4180348
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 11:42:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id H9iWcDGpQkH8 for <dev@httpd.apache.org>;
	Tue, 30 Jun 2015 11:42:23 +0000 (UTC)
Received: from mail-ig0-f173.google.com (mail-ig0-f173.google.com [209.85.213.173])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 3785F2502B
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 11:42:23 +0000 (UTC)
Received: by igcsj18 with SMTP id sj18so104148302igc.1
        for <dev@httpd.apache.org>; Tue, 30 Jun 2015 04:42:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Hkgdy/Y4Qzgg4lqUWkKDkVWhLuUig6S0I1vhRS6Kp2w=;
        b=q0jF/hZ19qy7qoHV6fgtRuJMgzlihtP+spwffWqv7O6zWppn20DnRyixeycc1u+CTB
         F7I3mlu4bX7RmXjsmBSYg6J/pv5aKe0jORhwcavxMmKHWPXaxT1Q6XFq4TiEOjqiCJEC
         yq/aF1Md1X7ja3DLuBXwB4nJ8WJMREiIYcmMkkRONvvVDmomnbsk/QpqCRJRQqWTH2sO
         3POmyjXLp++ABb6vUGVDqdmyVLpW/jVAhCpyokS5BN8vzNinSp8awudTFTAb4M9EpIdF
         bTtAD/vGaYc0Ul7+MMcP31sL83gCYjFrglt6dBDh2zj2VAzWGpE1IjaDrOyTuTNNYmpC
         nTCA==
MIME-Version: 1.0
X-Received: by 10.107.15.153 with SMTP id 25mr29731203iop.44.1435664542712;
 Tue, 30 Jun 2015 04:42:22 -0700 (PDT)
Received: by 10.79.22.5 with HTTP; Tue, 30 Jun 2015 04:42:22 -0700 (PDT)
In-Reply-To: <CACsi251OnZfcWvj9CzPaOMFeQwCw_bM9qVrORwHwXedoMtJmQw@mail.gmail.com>
References: <20150629234429.5466EAC054F@hades.apache.org>
	<CACsi250hqEMyuP4-wvwovCDZLEfMYToV9gLxeHbG0XF9WwNR8Q@mail.gmail.com>
	<CAKQ1sVMU97VpUUBXXHwNLLTSqOmRdRQO+kfO3E9FdyDPTbnNZw@mail.gmail.com>
	<CACsi2521eOP=aq6g0wciakVy3X=+qsT4vk4bBsPrQXVDzRrm1g@mail.gmail.com>
	<CAKQ1sVORpcRoPFv0oiSVYu2_5aezzs6AgLAgaLggjGs61FFfQA@mail.gmail.com>
	<CACsi251OnZfcWvj9CzPaOMFeQwCw_bM9qVrORwHwXedoMtJmQw@mail.gmail.com>
Date: Tue, 30 Jun 2015 13:42:22 +0200
Message-ID: <CAKQ1sVMSbOF9WXXPhU2f0Rbu8eLkR9oT7f+VOefVy4LX7gF27g@mail.gmail.com>
Subject: Re: svn commit: r1688331 - /httpd/httpd/trunk/modules/filters/mod_substitute.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Tue, Jun 30, 2015 at 3:35 AM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
> On Mon, Jun 29, 2015 at 8:06 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>> Maybe defining (naming) inherit_before tristate values would help:
>
>
> Not really...
>
>> +    a->inherit_before = (over->inherit_before == INHERIT_ON
>> +                         || (over->inherit_before == INHERIT_UNSET
>> +                             && base->inherit_before == INHERIT_ON));
>>      if (a->inherit_before) {
>
>
> This logic was convoluted

Agreed.

> and therefore resulted in in the old default
> behavior if the option wasn't explicitly set.

I can't see this though, over->inherit_before == over->inherit_before
== INHERIT_UNSET resulted in a->inherit_before = FALSE in trunk and
TRUE in 2.[24].x.

> See the most recent trunk
> commits for a more legible solution that follows the design pattern used
> throughout other core modules.

That's simpler indeed.
I previously overlooked that the merge were already against the merged
parents, so base->inherit_before will be unset iff it is unused so
far, hence I was wrong about the third level issue...
( I had to play with gdb to figure out though :)

>
> Your logic above fails to preserve the unset state, and fails to when
> consider base->inherit_before is explicitly off.

I can't see this either...
I still think my logic was working too, just like the change you did
regarding max_line_length_set in r1688341 (you don't preserve the
unset state there either).

> This is why it is
> preferred not to invent new wheels when good wheels exist, particularly if
> there will be a square side on the new wheel.

That I can agree with ;)
Btw, I added your proposed changes to the 2.4.x/2.2.x proposals.

Regards,
Yann.

From dev-return-83200-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 11:46:49 2015
Return-Path: <dev-return-83200-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7A9E817FCB
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 11:46:49 +0000 (UTC)
Received: (qmail 72101 invoked by uid 500); 30 Jun 2015 11:46:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 72029 invoked by uid 500); 30 Jun 2015 11:46:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 72015 invoked by uid 99); 30 Jun 2015 11:46:48 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 11:46:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 9696E1A6355
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 11:46:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 2fuorh4JLoXV for <dev@httpd.apache.org>;
	Tue, 30 Jun 2015 11:46:42 +0000 (UTC)
Received: from mail-ig0-f176.google.com (mail-ig0-f176.google.com [209.85.213.176])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 1C9EB2310F
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 11:46:42 +0000 (UTC)
Received: by igrv9 with SMTP id v9so10269772igr.1
        for <dev@httpd.apache.org>; Tue, 30 Jun 2015 04:45:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=8TyB6uiFHPfoI/wRlfZuf9Ssd1Gxq4d/h1BEnDqNT10=;
        b=A8oW0fQIn24fjaI6F+obkXnmRrqtAcUuyHRsFAKK63LgpPhMIb/b5PmjfJQUC/Wg9F
         gYzyISXOrLszMU54LEMvvH7wz/XSJSnh162Y+lM8GvUhJhCMs+fJOQyKmkktq7gE8FjD
         zehjufe+WCC4AxC5PDEx/SuMu5OXegdsEr+pVzqRdFV1/b2RflnYjoGZ5alrmmQdYQOs
         NzDxbNL+hfppHAmDF7cE6L6yV+bQ75ruDknebH9I21IQwu8P2cqp5RoG+QnbcxLY0bkG
         2qbqkRSLC5VebWeQv6eFrucvi9eoCyVvTSD4Gi1BN8EBgtTxVgc7816ePfMvEeEZNZPj
         xWfA==
MIME-Version: 1.0
X-Received: by 10.43.162.136 with SMTP id mk8mr24915578icc.28.1435664750587;
 Tue, 30 Jun 2015 04:45:50 -0700 (PDT)
Received: by 10.79.22.5 with HTTP; Tue, 30 Jun 2015 04:45:50 -0700 (PDT)
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC62B9612@VOEXM10W.internal.vodafone.com>
References: <20150629234429.5466EAC054F@hades.apache.org>
	<CACsi250hqEMyuP4-wvwovCDZLEfMYToV9gLxeHbG0XF9WwNR8Q@mail.gmail.com>
	<93400DF5-4D7E-40F6-A8D2-817F0496E12E@jaguNET.com>
	<AB1691BE05AE7F4992697F2A0835627AC62B9612@VOEXM10W.internal.vodafone.com>
Date: Tue, 30 Jun 2015 13:45:50 +0200
Message-ID: <CAKQ1sVNY7t6qmcc+y8a=tcDU+BXW6hcNw495sq4ZzQ=7VtZ_bQ@mail.gmail.com>
Subject: Re: svn commit: r1688331 - /httpd/httpd/trunk/modules/filters/mod_substitute.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

This is the case, a single SubstituteInheritBefore directive,
defaulting to Off in trunk and On in 2.4 / 2.2 (proposed patches).

On Tue, Jun 30, 2015 at 12:39 PM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
<ruediger.pluem@vodafone.com> wrote:
> +1. They can even make their configuration "future proof" today by settin=
g the 2.4 default behaviour explicitly.
>
> Regards
>
> R=C3=BCdiger
>
>> -----Original Message-----
>> From: Jim Jagielski [mailto:jim@jaguNET.com]
>> Sent: Dienstag, 30. Juni 2015 12:25
>> To: dev@httpd.apache.org
>> Cc: cvs@httpd.apache.org
>> Subject: Re: svn commit: r1688331 -
>> /httpd/httpd/trunk/modules/filters/mod_substitute.c
>>
>> My pref is that we create one single directive which controls
>> this. With 2.4 the default is the "old" (incorrect) merge and
>> with trunk it is the new (correct) merge. That way those
>> upgrading from 2.4 -> 2.6/3.0 will only need to worry about
>> a directive default change.

From dev-return-83201-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 18:09:30 2015
Return-Path: <dev-return-83201-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 550AD18055
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 18:09:30 +0000 (UTC)
Received: (qmail 97908 invoked by uid 500); 30 Jun 2015 18:09:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97843 invoked by uid 500); 30 Jun 2015 18:09:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97833 invoked by uid 99); 30 Jun 2015 18:09:29 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 18:09:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 4A47DC0518
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 18:09:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -1.209
X-Spam-Level:
X-Spam-Status: No, score=-1.209 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-1.108, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id UjPQHa0o0T_a for <dev@httpd.apache.org>;
	Tue, 30 Jun 2015 18:09:28 +0000 (UTC)
Received: from mail-yk0-f175.google.com (mail-yk0-f175.google.com [209.85.160.175])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 0154220774
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 18:09:28 +0000 (UTC)
Received: by ykdy1 with SMTP id y1so16538919ykd.2
        for <dev@httpd.apache.org>; Tue, 30 Jun 2015 11:08:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=ZOFss0DlEbEOfMt8aVSk8P7ESIj6D2hE0QYoys40/YQ=;
        b=yXLLrs3xbKH02Uy8quDCs5upVGUCzF5PtIbkwZc75pvLFgKI6Z4S6VDREayYpvfLp4
         MvI68K3Upxg1gIfEsevesqO/hE5r+YN2LraPtJdJQQJyKxJNL20DTXm2YSjAhfybTB0O
         pVna9FEAHEcbY5x98E3WfDDqbqInJUYsLV5htkUpj450Gft486wdaXAcA4BvAStb3R2Z
         X5FCqaKddKtd0t0WvSZ3oc7SBCCyPYQwoq5oUf8j+IeNcChq5XF94m7qvLQgWXah8ywv
         VHSi3ROcs7GFOU8PtvL3ilFouK8HiFKpe1oB+E1E2ZemwSriqfh3U76ZpTeMR+N2j3x1
         0s1g==
MIME-Version: 1.0
X-Received: by 10.13.193.198 with SMTP id c189mr25287901ywd.122.1435687715466;
 Tue, 30 Jun 2015 11:08:35 -0700 (PDT)
Received: by 10.37.83.130 with HTTP; Tue, 30 Jun 2015 11:08:35 -0700 (PDT)
In-Reply-To: <CALK=YjO06+fZ+2bW6YO1c-PVfDko1e=yLxYbfrjVxm3ieabaeQ@mail.gmail.com>
References: <CALK=YjP4=Enkvm9yFhBLD=pvGMESu+1TBuNw_5U2Z5uu2JwU+w@mail.gmail.com>
	<CAKQ1sVNBNvY8hbtnLL+7NJoH7efzsDnxj1_WSm4i=tQPwLMH7A@mail.gmail.com>
	<CALK=YjO06+fZ+2bW6YO1c-PVfDko1e=yLxYbfrjVxm3ieabaeQ@mail.gmail.com>
Date: Tue, 30 Jun 2015 14:08:35 -0400
Message-ID: <CALK=YjNtsmKL4bZjdYNEn3o=CYBPW9tFwMKvqOiH+XYF2xShLw@mail.gmail.com>
Subject: Re: option to block async write completion?
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Jun 19, 2015 at 10:03 AM, Eric Covener <covener@gmail.com> wrote:
>> Maybe make MAX_REQUESTS_IN_PIPELINE configurable and use 1 in your case?
>
> that's interesting, will check it out.

This turned into a bot of a pain when I realized just using a flush
bucket accomplishes the same thing (everything up to the flush bucket
is blocking)

From dev-return-83202-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 18:54:07 2015
Return-Path: <dev-return-83202-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4FF6818244
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 18:54:07 +0000 (UTC)
Received: (qmail 37714 invoked by uid 500); 30 Jun 2015 18:54:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 37641 invoked by uid 500); 30 Jun 2015 18:54:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 37631 invoked by uid 99); 30 Jun 2015 18:54:06 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 18:54:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 0C0F8C0045
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 18:54:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.891
X-Spam-Level:
X-Spam-Status: No, score=0.891 tagged_above=-999 required=6.31
	tests=[FREEMAIL_REPLY=1, KAM_LAZY_DOMAIN_SECURITY=1,
	RCVD_IN_MSPIKE_H2=-1.108, SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id T7owxDdncGwj for <dev@httpd.apache.org>;
	Tue, 30 Jun 2015 18:53:54 +0000 (UTC)
Received: from mail1.bemta14.messagelabs.com (mail1.bemta14.messagelabs.com [193.109.254.110])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 0530624B1A
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 18:53:53 +0000 (UTC)
Received: from [193.109.255.99] by server-6.bemta-14.messagelabs.com id A8/E9-13047-BB5E2955; Tue, 30 Jun 2015 18:53:47 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-8.tower-48.messagelabs.com!1435690426!15128568!1
X-Originating-IP: [195.232.244.134]
X-StarScan-Received:
X-StarScan-Version: 6.13.16; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 14560 invoked from network); 30 Jun 2015 18:53:46 -0000
Received: from mailout02.vodafone.com (HELO mailout02.vodafone.com) (195.232.244.134)
  by server-8.tower-48.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 30 Jun 2015 18:53:46 -0000
Received: from mailint04.vodafone.com (mailint04.vodafone.com [195.232.244.201])
	by mailout02.vodafone.com (Postfix) with ESMTP id 3mLZbG2dhDzbdMS
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 20:53:46 +0200 (CEST)
Received: from mailint04.vodafone.com (localhost [127.0.0.1])
	by mailint04.vodafone.com (Postfix) with ESMTP id 3mLZbG1Qr2zfZSp
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 20:53:46 +0200 (CEST)
Received: from VOEXC04W.internal.vodafone.com (voexc04w.dc-ratingen.de [145.230.101.24])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint04.vodafone.com (Postfix) with ESMTPS id 3mLZbG180hzfZKZ
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 20:53:46 +0200 (CEST)
Received: from VOEXC22W.internal.vodafone.com (145.230.103.127) by
 VOEXC04W.internal.vodafone.com (145.230.101.24) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Tue, 30 Jun 2015 20:53:45 +0200
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.132]) by
 VOEXC22W.internal.vodafone.com ([145.230.103.127]) with mapi id
 14.03.0224.002; Tue, 30 Jun 2015 20:53:42 +0200
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: AW: option to block async write completion?
Thread-Topic: option to block async write completion?
Thread-Index: AQHQqpcRVPxHVE/C7UqdadH8W8sHUJ2zunEAgAAAQwCAEY4mgIAALaUg
Date: Tue, 30 Jun 2015 18:53:44 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC62B9D5F@VOEXM10W.internal.vodafone.com>
References: <CALK=YjP4=Enkvm9yFhBLD=pvGMESu+1TBuNw_5U2Z5uu2JwU+w@mail.gmail.com>
	<CAKQ1sVNBNvY8hbtnLL+7NJoH7efzsDnxj1_WSm4i=tQPwLMH7A@mail.gmail.com>
	<CALK=YjO06+fZ+2bW6YO1c-PVfDko1e=yLxYbfrjVxm3ieabaeQ@mail.gmail.com>
 <CALK=YjNtsmKL4bZjdYNEn3o=CYBPW9tFwMKvqOiH+XYF2xShLw@mail.gmail.com>
In-Reply-To: <CALK=YjNtsmKL4bZjdYNEn3o=CYBPW9tFwMKvqOiH+XYF2xShLw@mail.gmail.com>
Accept-Language: en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

DQoNCj4gLS0tLS1VcnNwcsO8bmdsaWNoZSBOYWNocmljaHQtLS0tLQ0KPiBWb246IEVyaWMgQ292
ZW5lciBbbWFpbHRvOmNvdmVuZXJAZ21haWwuY29tXQ0KPiBHZXNlbmRldDogRGllbnN0YWcsIDMw
LiBKdW5pIDIwMTUgMjA6MDkNCj4gQW46IEFwYWNoZSBIVFRQIFNlcnZlciBEZXZlbG9wbWVudCBM
aXN0DQo+IEJldHJlZmY6IFJlOiBvcHRpb24gdG8gYmxvY2sgYXN5bmMgd3JpdGUgY29tcGxldGlv
bj8NCj4gDQo+IE9uIEZyaSwgSnVuIDE5LCAyMDE1IGF0IDEwOjAzIEFNLCBFcmljIENvdmVuZXIg
PGNvdmVuZXJAZ21haWwuY29tPg0KPiB3cm90ZToNCj4gPj4gTWF5YmUgbWFrZSBNQVhfUkVRVUVT
VFNfSU5fUElQRUxJTkUgY29uZmlndXJhYmxlIGFuZCB1c2UgMSBpbiB5b3VyDQo+IGNhc2U/DQo+
ID4NCj4gPiB0aGF0J3MgaW50ZXJlc3RpbmcsIHdpbGwgY2hlY2sgaXQgb3V0Lg0KPiANCj4gVGhp
cyB0dXJuZWQgaW50byBhIGJvdCBvZiBhIHBhaW4gd2hlbiBJIHJlYWxpemVkIGp1c3QgdXNpbmcg
YSBmbHVzaA0KPiBidWNrZXQgYWNjb21wbGlzaGVzIHRoZSBzYW1lIHRoaW5nIChldmVyeXRoaW5n
IHVwIHRvIHRoZSBmbHVzaCBidWNrZXQNCj4gaXMgYmxvY2tpbmcpDQoNCkFyZSB5b3Ugc3VyZSB0
aGF0IHdvcmtzIHdpdGggZXZlcnkgZmlsdGVyIGluIGJldHdlZW4/IEFzIGZhciBhcyBJIHJlbWVt
YmVyIHNvbWUgZmlsdGVycyAobW9kX2RlZmxhdGU/KSBqdXN0IGRyb3AgZXZlcnl0aGluZyBvbmNl
IHRoZXkgaGF2ZSBzZWVuIEVPUyAvIEVPUi4NCg0KUmVnYXJkcw0KDQpSw7xkaWdlcg0K

From dev-return-83203-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 19:35:58 2015
Return-Path: <dev-return-83203-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 087E01843D
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 19:35:58 +0000 (UTC)
Received: (qmail 1165 invoked by uid 500); 30 Jun 2015 19:35:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1089 invoked by uid 500); 30 Jun 2015 19:35:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1079 invoked by uid 99); 30 Jun 2015 19:35:57 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 19:35:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id ECE13C0045
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 19:35:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.207
X-Spam-Level:
X-Spam-Status: No, score=-0.207 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	FREEMAIL_REPLY=1, RCVD_IN_MSPIKE_H2=-1.108, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id icFq7_ymw9-y for <dev@httpd.apache.org>;
	Tue, 30 Jun 2015 19:35:47 +0000 (UTC)
Received: from mail-ie0-f172.google.com (mail-ie0-f172.google.com [209.85.223.172])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id B00CE211EF
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 19:35:46 +0000 (UTC)
Received: by iecvh10 with SMTP id vh10so19852593iec.3
        for <dev@httpd.apache.org>; Tue, 30 Jun 2015 12:35:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=uijBGE/La032ec1tM022wuF5CWj3hwJjsSFyzEwsFiY=;
        b=U9fUqlQZ8Xdr0wDTqCfpkPjw+CcibO64XVoSUQMRE3StEYp7mXi52b4XqUR1q83ETc
         A/gUlyTbko2jaimjdLPOtjJLBQclkq9Jf0qPZwu5tFh4S4bEenk1atecm3tFsdKJ9hAa
         /E61NB0PzpiXuLL/xCR8aanCO+jJWIn10E1tqeyOoGIC7Xio92P6xoBtM8w1bwSXJI7Q
         nHTdIS71BKCjs+JYVSemQbFdqXExJG4fqBxmE7xkF/qYqx0g4BzVKqNDMUm5+0scQWZJ
         0vnuLheudXuLHY7rYJWE1Cc/ZVKCc0lk8r+tEZH0vH9yi2l5XqTX1tHcMl0P3nA3Cecd
         Nv5A==
MIME-Version: 1.0
X-Received: by 10.107.159.66 with SMTP id i63mr32530108ioe.68.1435692945834;
 Tue, 30 Jun 2015 12:35:45 -0700 (PDT)
Received: by 10.79.22.5 with HTTP; Tue, 30 Jun 2015 12:35:45 -0700 (PDT)
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC62B9D5F@VOEXM10W.internal.vodafone.com>
References: <CALK=YjP4=Enkvm9yFhBLD=pvGMESu+1TBuNw_5U2Z5uu2JwU+w@mail.gmail.com>
	<CAKQ1sVNBNvY8hbtnLL+7NJoH7efzsDnxj1_WSm4i=tQPwLMH7A@mail.gmail.com>
	<CALK=YjO06+fZ+2bW6YO1c-PVfDko1e=yLxYbfrjVxm3ieabaeQ@mail.gmail.com>
	<CALK=YjNtsmKL4bZjdYNEn3o=CYBPW9tFwMKvqOiH+XYF2xShLw@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC62B9D5F@VOEXM10W.internal.vodafone.com>
Date: Tue, 30 Jun 2015 21:35:45 +0200
Message-ID: <CAKQ1sVN1kdk+7svjv6LYcaj3tBLU590iKc04ACQFdzq=7JgEDg@mail.gmail.com>
Subject: Re: option to block async write completion?
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Tue, Jun 30, 2015 at 8:53 PM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
<ruediger.pluem@vodafone.com> wrote:
>
>
>> -----Urspr=C3=BCngliche Nachricht-----
>> Von: Eric Covener [mailto:covener@gmail.com]
>> Gesendet: Dienstag, 30. Juni 2015 20:09
>> An: Apache HTTP Server Development List
>> Betreff: Re: option to block async write completion?
>>
>> On Fri, Jun 19, 2015 at 10:03 AM, Eric Covener <covener@gmail.com>
>> wrote:
>> >> Maybe make MAX_REQUESTS_IN_PIPELINE configurable and use 1 in your
>> case?
>> >
>> > that's interesting, will check it out.
>>
>> This turned into a bot of a pain when I realized just using a flush
>> bucket accomplishes the same thing (everything up to the flush bucket
>> is blocking)
>
> Are you sure that works with every filter in between? As far as I remembe=
r some filters (mod_deflate?) just drop everything once they have seen EOS =
/ EOR.

At least ap_http_filter() does...

From dev-return-83204-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 21:30:06 2015
Return-Path: <dev-return-83204-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 14ED21882D
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 21:30:06 +0000 (UTC)
Received: (qmail 72902 invoked by uid 500); 30 Jun 2015 21:30:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 72840 invoked by uid 500); 30 Jun 2015 21:30:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 72820 invoked by uid 99); 30 Jun 2015 21:30:04 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 21:30:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 2E887C0518
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 21:30:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id fz34VmqmA5ZR for <dev@httpd.apache.org>;
	Tue, 30 Jun 2015 21:29:58 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id D5AB54540D
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 21:29:57 +0000 (UTC)
Received: from [192.168.88.155] (unknown [192.168.88.155])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 61EE982AD9
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 22:29:21 +0100 (BST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2098\))
Subject: Re: option to block async write completion?
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC62B9D5F@VOEXM10W.internal.vodafone.com>
Date: Tue, 30 Jun 2015 23:29:19 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <85604213-535C-4F15-8966-14C65C16AA24@sharp.fm>
References: <CALK=YjP4=Enkvm9yFhBLD=pvGMESu+1TBuNw_5U2Z5uu2JwU+w@mail.gmail.com> <CAKQ1sVNBNvY8hbtnLL+7NJoH7efzsDnxj1_WSm4i=tQPwLMH7A@mail.gmail.com> <CALK=YjO06+fZ+2bW6YO1c-PVfDko1e=yLxYbfrjVxm3ieabaeQ@mail.gmail.com> <CALK=YjNtsmKL4bZjdYNEn3o=CYBPW9tFwMKvqOiH+XYF2xShLw@mail.gmail.com> <AB1691BE05AE7F4992697F2A0835627AC62B9D5F@VOEXM10W.internal.vodafone.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2098)

On 30 Jun 2015, at 8:53 PM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group =
<ruediger.pluem@vodafone.com> wrote:

>> This turned into a bot of a pain when I realized just using a flush
>> bucket accomplishes the same thing (everything up to the flush bucket
>> is blocking)
>=20
> Are you sure that works with every filter in between? As far as I =
remember some filters (mod_deflate?) just drop everything once they have =
seen EOS / EOR.

mod_deflate is a per-request filter, the request ceases to exist after =
EOS/EOR, so in theory this wouldn=E2=80=99t affect the flush bucket.

To be 100% safe, send the flush bucket down the stack on it=E2=80=99s =
own, not tacked onto the end of the brigade with the EOS.

Regards,
Graham
=E2=80=94


From dev-return-83205-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Jun 30 21:38:08 2015
Return-Path: <dev-return-83205-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8F68F18873
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 30 Jun 2015 21:38:08 +0000 (UTC)
Received: (qmail 87688 invoked by uid 500); 30 Jun 2015 21:38:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 87622 invoked by uid 500); 30 Jun 2015 21:38:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 87612 invoked by uid 99); 30 Jun 2015 21:38:08 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 30 Jun 2015 21:38:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 6F6621A6462
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 21:38:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id NOfXV6kgrdRk for <dev@httpd.apache.org>;
	Tue, 30 Jun 2015 21:38:01 +0000 (UTC)
Received: from mail-yk0-f175.google.com (mail-yk0-f175.google.com [209.85.160.175])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id AE90B24C24
	for <dev@httpd.apache.org>; Tue, 30 Jun 2015 21:38:00 +0000 (UTC)
Received: by ykdy1 with SMTP id y1so21883566ykd.2
        for <dev@httpd.apache.org>; Tue, 30 Jun 2015 14:37:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=PfS4/4BovIRtw/MwEU3biItTAVC2QdelA1RET//s3Y8=;
        b=d87oO9w1me63s+e5+ilj4wc1Wyzp+hSxvhK7H1xe2WMT7+v8VrI7abM8NZc2SERqS6
         NH22c+Mk9AgFxPXaIrUSCHiw5v5IbwnMIynX0/iBxb8EuDFR//WGZr2KjTZloWyM9wEo
         GtJie/6sSSIIypQ3TuoqHDbrl8CfjdeXgAB7LBpA0pqc0o154Q58KtawpqUPCxjN4OU3
         +1MVqwGRLGyfi64YSApmFWoSvEMK3VxFoyY4WpYO3LTjyP+Rhe9F883rnY2lccEBXxTc
         WtZXXgoFxb6bzw24tQheykmo6y+Lwj0r8UO3i3atqsx+dTfxNetiJjMZRs6wPQOF/jB5
         xRfA==
MIME-Version: 1.0
X-Received: by 10.170.119.147 with SMTP id l141mr28215068ykb.89.1435700279396;
 Tue, 30 Jun 2015 14:37:59 -0700 (PDT)
Received: by 10.37.83.130 with HTTP; Tue, 30 Jun 2015 14:37:59 -0700 (PDT)
In-Reply-To: <85604213-535C-4F15-8966-14C65C16AA24@sharp.fm>
References: <CALK=YjP4=Enkvm9yFhBLD=pvGMESu+1TBuNw_5U2Z5uu2JwU+w@mail.gmail.com>
	<CAKQ1sVNBNvY8hbtnLL+7NJoH7efzsDnxj1_WSm4i=tQPwLMH7A@mail.gmail.com>
	<CALK=YjO06+fZ+2bW6YO1c-PVfDko1e=yLxYbfrjVxm3ieabaeQ@mail.gmail.com>
	<CALK=YjNtsmKL4bZjdYNEn3o=CYBPW9tFwMKvqOiH+XYF2xShLw@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC62B9D5F@VOEXM10W.internal.vodafone.com>
	<85604213-535C-4F15-8966-14C65C16AA24@sharp.fm>
Date: Tue, 30 Jun 2015 17:37:59 -0400
Message-ID: <CALK=YjMUMYUav537pkM-L_3wYONN1SoV4M7U6dh-DAZz+g7P9g@mail.gmail.com>
Subject: Re: option to block async write completion?
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Tue, Jun 30, 2015 at 5:29 PM, Graham Leggett <minfrin@sharp.fm> wrote:
> To be 100% safe, send the flush bucket down the stack on it=E2=80=99s own=
, not tacked onto the end of the brigade with the EOS.

Thanks all -- I lucked into having that relationship already between
the heap buckets and EOS, and the flushes are just tacked on when the
heap buckets are passed.

