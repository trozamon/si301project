From dev-return-83666-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep  1 06:18:01 2015
Return-Path: <dev-return-83666-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 191201799D
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Sep 2015 06:18:01 +0000 (UTC)
Received: (qmail 17020 invoked by uid 500); 1 Sep 2015 06:17:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16945 invoked by uid 500); 1 Sep 2015 06:17:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16935 invoked by uid 99); 1 Sep 2015 06:17:54 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2015 06:17:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 8E083C0F46
	for <dev@httpd.apache.org>; Tue,  1 Sep 2015 06:17:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id TqZ5mL5t7-0M for <dev@httpd.apache.org>;
	Tue,  1 Sep 2015 06:17:39 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 1CD9D47BF4
	for <dev@httpd.apache.org>; Tue,  1 Sep 2015 06:17:38 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 6EEDB22AB6
	for <dev@httpd.apache.org>; Tue,  1 Sep 2015 08:17:31 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Vq3NXL4m6YLW for <dev@httpd.apache.org>;
	Tue,  1 Sep 2015 08:17:31 +0200 (CEST)
Received: from [10.202.65.180] (CPE-58-164-8-172.lnse5.ken.bigpond.net.au [58.164.8.172])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 3163E211CF
	for <dev@httpd.apache.org>; Tue,  1 Sep 2015 08:17:29 +0200 (CEST)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: NormW <normw@gknw.net>
Subject: nghttp2 1.3.0 Released, but...
Message-ID: <55E542C0.10209@gknw.net>
Date: Tue, 1 Sep 2015 16:16:32 +1000
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi,
I don't have a GitHub acct so hope no one will mind too much if I 
mention a couple of issues with the latest release of nghttp2 in the 
hope someone reading this and having a stake in http2 might be able to 
get something done about them;
> Compiling : nghttp2_stream.c
> ..\lib\nghttp2_stream.c:36: declaration syntax error
> ..\lib\nghttp2_stream.c:36: undefined identifier 'nghttp2__mptr'
> ..\lib\nghttp2_stream.c:37: declaration syntax error
> ..\lib\nghttp2_stream.c:37: undefined identifier 'nghttp2__mptr'
> ..\lib\nghttp2_stream.c:861: declaration syntax error
> ..\lib\nghttp2_stream.c:861: undefined identifier 'nghttp2__mptr'
All three compilers I have find an issue starting at line 36,

and this has been around for a few releases:
> --- nghttp2_submit.c.orig	2015-07-18 01:28:25.000000000 +1000
> +++ nghttp2_submit.c	2015-07-23 09:11:07.703125000 +1000
> @@ -155,7 +155,7 @@
>                                 attach_stream);
>  }
>
> -int32_t ghnttp2_submit_trailer(nghttp2_session *session, int32_t stream_id,
> +int nghttp2_submit_trailer(nghttp2_session *session, int32_t stream_id,
>                                 const nghttp2_nv *nva, size_t nvlen) {
>    return submit_headers_shared_nva(session, NGHTTP2_FLAG_END_STREAM, stream_id,
>                                     NULL, nva, nvlen, NULL, NULL, 0);
The header prototype has tp2_submit_trailer() defined as int.
HTH,
Norm

From dev-return-83667-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep  1 08:08:01 2015
Return-Path: <dev-return-83667-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9142817E67
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Sep 2015 08:08:01 +0000 (UTC)
Received: (qmail 66469 invoked by uid 500); 1 Sep 2015 08:08:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 66390 invoked by uid 500); 1 Sep 2015 08:08:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 66380 invoked by uid 99); 1 Sep 2015 08:08:00 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2015 08:08:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 8145FC0FA1
	for <dev@httpd.apache.org>; Tue,  1 Sep 2015 08:08:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id B0DJqoQaXmld for <dev@httpd.apache.org>;
	Tue,  1 Sep 2015 08:07:52 +0000 (UTC)
Received: from mail-qg0-f48.google.com (mail-qg0-f48.google.com [209.85.192.48])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id ADED550694
	for <dev@httpd.apache.org>; Tue,  1 Sep 2015 08:07:52 +0000 (UTC)
Received: by qgeb6 with SMTP id b6so86169220qge.3
        for <dev@httpd.apache.org>; Tue, 01 Sep 2015 01:07:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=IVC113Q9C4tRY0/GmIkXJTylf7rjUBmNscgr2MeqE0E=;
        b=ZuVIJf9RTf/v3B7tYGLqjTo822xv1xU23x/BWMA/f/uDabAOSKsdnSUhKsh19ONF+5
         HU+RXO/AFS1XZ+iISj45c3sb7nkw5AlrEzoeHtUgmWirR4BeSl54WMzIcAFEZXc8NtTu
         PAxnAEu6eFtaMvF7cTqI2WRbkdPKrY3lLAHLbg3PKcNtoC0fpCddE7wOLccZzDvK4s/3
         ZYacAWgesz0fVSqVieFwuszgXjPVVrD+QPfOZZWIORwAtDSjimzeuGdo9bAy8fXqYhh0
         /TscYAKukbAn+CPHMdZdZdalfocleZRMntbLKAcKb3o5bON223TSpQ1Rv2DiifrzvovW
         UWJw==
MIME-Version: 1.0
X-Received: by 10.140.133.67 with SMTP id 64mr46939474qhf.52.1441094872397;
 Tue, 01 Sep 2015 01:07:52 -0700 (PDT)
Received: by 10.140.98.161 with HTTP; Tue, 1 Sep 2015 01:07:52 -0700 (PDT)
Received: by 10.140.98.161 with HTTP; Tue, 1 Sep 2015 01:07:52 -0700 (PDT)
In-Reply-To: <30AD0382-02F0-4921-AB7F-87EFC8C2FB3B@greenbytes.de>
References: <CACsi253pEfeboS=eiQj=J=GGPXzSJnyhcDXRR8Ue-39FSv+ncw@mail.gmail.com>
	<F615D150-BF52-44A5-9EDF-806C9B65B369@gbiv.com>
	<5D0F0E94-1FCF-4E8A-9399-5A9D626E3432@greenbytes.de>
	<55E01C8E.9020605@apache.org>
	<5D662E1F-34DB-4FBB-84AE-D62F9E92E236@greenbytes.de>
	<55E021E3.5050109@apache.org>
	<14A7155C-44D2-4BCA-BC2F-17254693A134@greenbytes.de>
	<CALK=YjMWtEenWe-nfiuOtj_KXQVP+s_1VmFh0qq8XgRbuU=_LQ@mail.gmail.com>
	<30AD0382-02F0-4921-AB7F-87EFC8C2FB3B@greenbytes.de>
Date: Tue, 1 Sep 2015 01:07:52 -0700
Message-ID: <CAMa9x1Thhuu8wCFwC2PBhUVL+NnvkkCOE_7bNeEH_bHQCYc1Tg@mail.gmail.com>
Subject: Re: HTTP_MISDIRECTED_REQUEST
From: Ronald Masaya <ronaldmasaya.rm@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a1136fdcef4fe62051eab0b98

--001a1136fdcef4fe62051eab0b98
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Adobotalk.com  youtube.com

ronaldmasayarm
On Aug 31, 2015 5:48 PM, "Stefan Eissing" <stefan.eissing@greenbytes.de>
wrote:

>
> > Am 28.08.2015 um 15:49 schrieb Eric Covener <covener@gmail.com>:
> >
> > On Fri, Aug 28, 2015 at 9:26 AM, Stefan Eissing
> > <stefan.eissing@greenbytes.de> wrote:
> >> If this works, one could think about introducing some kind of
> "equivalence number" to speed up the checking, since in certain HTTP/2
> setups there might be a good percentage of requests requiting this
> verification.
> >
> > Long term we need to block these name-based renegotiations because
> > we'll be at TLS1.3.  I don't know how to ween people off, but making
> > up an H2 requirement might be one way to ease people into it.
>
> I am not the expert on TLS renegotiation, I am just aware that certain TL=
S
> parameters can be changed on an existing connection if both parties agree=
.
> And I am aware that this has been used in attacks and the feature seems t=
o
> be frowned upon nowadays.
>
> I see mod_ssl code that checks for renegotiations based on directory
> configurations, so it is request based. And it will fail miserably in
> HTTP/2 connections as there is no longer *the one current* request on a
> connection.
>
> What would be the most common scenarios for TLS renegotiation be that we
> should users warn about when enabling HTTP/2? Is requiting a client cert =
a
> common use here?
>
> //Stefan
>
> <green/>bytes GmbH
> Hafenweg 16, 48155 M=C3=BCnster, Germany
> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>
>
>
>

--001a1136fdcef4fe62051eab0b98
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">Adobotalk.com=C2=A0 <a href=3D"http://youtube.com">youtube.c=
om</a></p>
<p dir=3D"ltr">ronaldmasayarm</p>
<div class=3D"gmail_quote">On Aug 31, 2015 5:48 PM, &quot;Stefan Eissing&qu=
ot; &lt;<a href=3D"mailto:stefan.eissing@greenbytes.de">stefan.eissing@gree=
nbytes.de</a>&gt; wrote:<br type=3D"attribution"><blockquote class=3D"gmail=
_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:=
1ex"><br>
&gt; Am 28.08.2015 um 15:49 schrieb Eric Covener &lt;<a href=3D"mailto:cove=
ner@gmail.com">covener@gmail.com</a>&gt;:<br>
&gt;<br>
&gt; On Fri, Aug 28, 2015 at 9:26 AM, Stefan Eissing<br>
&gt; &lt;<a href=3D"mailto:stefan.eissing@greenbytes.de">stefan.eissing@gre=
enbytes.de</a>&gt; wrote:<br>
&gt;&gt; If this works, one could think about introducing some kind of &quo=
t;equivalence number&quot; to speed up the checking, since in certain HTTP/=
2 setups there might be a good percentage of requests requiting this verifi=
cation.<br>
&gt;<br>
&gt; Long term we need to block these name-based renegotiations because<br>
&gt; we&#39;ll be at TLS1.3.=C2=A0 I don&#39;t know how to ween people off,=
 but making<br>
&gt; up an H2 requirement might be one way to ease people into it.<br>
<br>
I am not the expert on TLS renegotiation, I am just aware that certain TLS =
parameters can be changed on an existing connection if both parties agree. =
And I am aware that this has been used in attacks and the feature seems to =
be frowned upon nowadays.<br>
<br>
I see mod_ssl code that checks for renegotiations based on directory config=
urations, so it is request based. And it will fail miserably in HTTP/2 conn=
ections as there is no longer *the one current* request on a connection.<br=
>
<br>
What would be the most common scenarios for TLS renegotiation be that we sh=
ould users warn about when enabling HTTP/2? Is requiting a client cert a co=
mmon use here?<br>
<br>
//Stefan<br>
<br>
&lt;green/&gt;bytes GmbH<br>
Hafenweg 16, 48155 M=C3=BCnster, Germany<br>
Phone: <a href=3D"tel:%2B49%20251%202807760" value=3D"+492512807760">+49 25=
1 2807760</a>. Amtsgericht M=C3=BCnster: HRB5782<br>
<br>
<br>
<br>
</blockquote></div>

--001a1136fdcef4fe62051eab0b98--

From dev-return-83668-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep  1 08:19:28 2015
Return-Path: <dev-return-83668-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 18CFF17ED9
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Sep 2015 08:19:28 +0000 (UTC)
Received: (qmail 1365 invoked by uid 500); 1 Sep 2015 08:19:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1291 invoked by uid 500); 1 Sep 2015 08:19:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1281 invoked by uid 99); 1 Sep 2015 08:19:27 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2015 08:19:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id C60D2182566
	for <dev@httpd.apache.org>; Tue,  1 Sep 2015 08:19:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id Fx-YKWTzSwyZ for <dev@httpd.apache.org>;
	Tue,  1 Sep 2015 08:19:19 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id D4DD524C0E
	for <dev@httpd.apache.org>; Tue,  1 Sep 2015 08:19:18 +0000 (UTC)
Received: from [192.168.1.42] (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id C931715A0235
	for <dev@httpd.apache.org>; Tue,  1 Sep 2015 10:19:11 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: scoreboard full
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVPAacdbnS-63RsdGWQ9Dunb9bQWCt9zxt-FK3NVMPs1-Q@mail.gmail.com>
Date: Tue, 1 Sep 2015 10:19:11 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <C98A7F93-4889-4D81-901A-F70EF6C8B393@greenbytes.de>
References: <E9A1EDCB-3C1F-45B9-B716-408FD10D94DD@greenbytes.de> <CAKQ1sVPAacdbnS-63RsdGWQ9Dunb9bQWCt9zxt-FK3NVMPs1-Q@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)


> Am 31.08.2015 um 22:19 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Mon, Aug 31, 2015 at 6:11 PM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> Hunting a bit on the "scoreboard is full, not at MaxRequestWorkers" =
issue,
>> I found that setting
>>=20
>>    c->cs->state =3D CONN_STATE_LINGER;
>=20
> mod_http2 could possiblly return CONN_STATE_WRITE_COMPLETION (with
> c->keepalive =3D AP_CONN_CLOSE, unless c->aborted), so that blocking
> writes (if any) can be scheduled (in event).

Yes, you're right. Thanks for the suggestion.

>> explicitly on exiting connection processing (h2_conn.c) seems to help
>> with this. As an experiment, I set
>>=20
>>    c->cs->state =3D CONN_STATE_READ_REQUEST_LINE;
>=20
> This state looks unhandled after ap_run_process_connecton, shouldn't =
happen :)
> The case should probably be handled like CONN_STATE_LINGER (or
> DEBUG_ASSERT?) since ptrans leaks...

Such an unhandeled case leads to similar behaviour as noticed in PR =
53555. That
might be accidental, but experience suggests it is worth looking at. ;-)

If, for some reason, ap_run_process_connection(c) (event.c, line 1137) =
returns
with a connection state other than:
CONN_STATE_WRITE_COMPLETION
CONN_STATE_LINGER
CONN_STATE_SUSPENDED

it looks to me as if process_socket(...) does not schedule any further =
event
handling on the socket. That seems, in my reading, to lead to
- no EOC written
- no c->pool cleanup
- no scoreboard connection count decrease
which seems to have the effect that
- the process will never exit gracefully on its own
- the scoreboard slot remains occupied although the process has not =
reached max workers

If this continues to happen, the server will become unresponsive.

*Why* ap_run_process_connection(c) might return with such a connection =
state, I do
not know. I know that mod_h2 has caused such (and is now being fixed). =
Other connection
hooks could do the same, or a socket read error at the wrong time may =
cause this?

Also a failed ap_run_pre_connection(c, sock) (event.c, line 1087) will =
set the state
to CONN_STATE_READ_REQUEST_LINE, never enter =
ap_run_process_connection(c) and "fall through".

So, I remain unconvinced that this is not related... ;-)

> PR 53555 seems not related though, mpm_event and mod_http call
> =
ap_process_http_async_connection::ap_process_async_request::ap_process_req=
uest_after_handler()
> which do the right thing wrt cs->state.
>=20
> Regards,
> Yann.

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83669-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep  1 14:33:47 2015
Return-Path: <dev-return-83669-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 833EE17479
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Sep 2015 14:33:47 +0000 (UTC)
Received: (qmail 12241 invoked by uid 500); 1 Sep 2015 14:33:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12170 invoked by uid 500); 1 Sep 2015 14:33:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12157 invoked by uid 99); 1 Sep 2015 14:33:34 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2015 14:33:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id EAD6318234F;
	Tue,  1 Sep 2015 14:33:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id UkuWoznLnjE2; Tue,  1 Sep 2015 14:33:32 +0000 (UTC)
Received: from mail-qk0-f172.google.com (mail-qk0-f172.google.com [209.85.220.172])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 61934205B8;
	Tue,  1 Sep 2015 14:33:32 +0000 (UTC)
Received: by qkbp67 with SMTP id p67so42000996qkb.3;
        Tue, 01 Sep 2015 07:33:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        bh=5qedT5rwrpmR/PxIOIRL0gW8+qIyGRv6fCl2FLkl/y8=;
        b=fJSoXReim+Lzxv+FA9sLsWybFkPqs67XPhMfVM2Z4zRCzvvA/svpIv04Dqg9Zxvi+b
         md1LDun/4z6l+Bhu/mkF0QkVX/GFu4tJydcUPV1Gsr2IYq0BFYjnNlAwMDjPVJRCDyqq
         ZVJxJd9X+gfLquqiVHZFBrkzTC9NO/OwXuJ2ocCBlkB8pX3pJuDBGx6n6nheOvA91opv
         wBfyyT1txIXQQQNiQM6YFfQqQ9cQN2ckOt1TwiDxw+mEAQngmfPXgpKysUpzQZTp8Ot3
         +7Mir5NbA0L96iVTaakgJghxDBCILckgRXpm3Gr4M8qMjQd6Nfw6vhNUE18nxnmafM11
         g9cA==
MIME-Version: 1.0
X-Received: by 10.129.0.134 with SMTP id 128mr27408026ywa.164.1441118011454;
 Tue, 01 Sep 2015 07:33:31 -0700 (PDT)
Received: by 10.37.215.12 with HTTP; Tue, 1 Sep 2015 07:33:31 -0700 (PDT)
In-Reply-To: <20150901143239.357D1AC0095@hades.apache.org>
References: <20150901143239.357D1AC0095@hades.apache.org>
Date: Tue, 1 Sep 2015 10:33:31 -0400
Message-ID: <CALK=YjMtZnJRG_DrEbHYENtMZvcEVu__S3zGiVhG5-6n9TQHCQ@mail.gmail.com>
Subject: Re: svn commit: r1700578 - /httpd/httpd/branches/2.2.x/modules/cache/mod_mem_cache.c
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Cc: cvs@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Needs to be proposed in STATUS, even though there is no trunk revision
to reference.

On Tue, Sep 1, 2015 at 10:32 AM,  <elu@apache.org> wrote:
> Author: elu
> Date: Tue Sep  1 14:32:38 2015
> New Revision: 1700578
>
> URL: http://svn.apache.org/r1700578
> Log:
> Fix mod_mem_cache caching incomplete responses on connection abort
>
> Modified:
>     httpd/httpd/branches/2.2.x/modules/cache/mod_mem_cache.c
>
> Modified: httpd/httpd/branches/2.2.x/modules/cache/mod_mem_cache.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/branches/2.2.x/modules/cache/mod_mem_cache.c?rev=1700578&r1=1700577&r2=1700578&view=diff
> ==============================================================================
> --- httpd/httpd/branches/2.2.x/modules/cache/mod_mem_cache.c (original)
> +++ httpd/httpd/branches/2.2.x/modules/cache/mod_mem_cache.c Tue Sep  1 14:32:38 2015
> @@ -763,6 +763,15 @@ static apr_status_t store_body(cache_han
>                      return APR_EGENERAL;
>                  }
>              }
> +            if (r->connection->aborted) {
> +                ap_log_rerror(APLOG_MARK, APLOG_INFO, 0, r,
> +                             "mem_cache: Discarding body for URL %s "
> +                             "because connection was aborted.",
> +                             obj->key);
> +                /* No need to cleanup - obj->complete unset, so
> +                 * decrement_refcount will discard the object */
> +                return APR_EGENERAL;
> +            }
>              if (mobj->m_len > obj->count) {
>                  /* Caching a streamed response. Reallocate a buffer of the
>                   * correct size and copy the streamed response into that
>
>



-- 
Eric Covener
covener@gmail.com

From dev-return-83670-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep  1 22:53:08 2015
Return-Path: <dev-return-83670-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 48C0618EA2
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Sep 2015 22:53:08 +0000 (UTC)
Received: (qmail 88966 invoked by uid 500); 1 Sep 2015 22:53:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 88892 invoked by uid 500); 1 Sep 2015 22:53:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 88882 invoked by uid 99); 1 Sep 2015 22:53:07 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2015 22:53:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 654DB182348
	for <dev@httpd.apache.org>; Tue,  1 Sep 2015 22:53:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.879
X-Spam-Level: **
X-Spam-Status: No, score=2.879 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id r0quvnIQEM5c for <dev@httpd.apache.org>;
	Tue,  1 Sep 2015 22:53:00 +0000 (UTC)
Received: from mail-qk0-f181.google.com (mail-qk0-f181.google.com [209.85.220.181])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id E236024A72
	for <dev@httpd.apache.org>; Tue,  1 Sep 2015 22:52:59 +0000 (UTC)
Received: by qkdv1 with SMTP id v1so59811353qkd.0
        for <dev@httpd.apache.org>; Tue, 01 Sep 2015 15:52:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=subject:to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-type;
        bh=/uGlVlxngi1qMa8x8JKpb4bsgsR0lKeUZA7Sncvvf2U=;
        b=F3/eNKl/qsy6Oj8cdcymWtTQbMn3S5lm+SJ/J28/1vba4t3V7rsrdg04hhodD/pElu
         CHzxQGVsf2K4ei/ep6M5KJh9lPcDJXbvKJtAz59dokONSZXWbbNB0Es9t3AVFTCvP1rc
         6UF7z3GKubIQxI3cETiU39XSx+jcC2SyvBsCmmMxLky9/8CJq8MuUd5s4tq7p/Jv9cVI
         6TKs6Dwa6S04hV4S0m182yIPnIuOj4oCO38mWpt8e30uWqndceNvwLldxldRTY3z82cK
         vElCBJGkPgrPy2dB/WpCgjBIXTu76xO2XSSfdoRGnxOTY9Iahf0Rp7U2zHr/SK5f6rEq
         m0Gw==
X-Received: by 10.55.33.74 with SMTP id h71mr23933517qkh.71.1441147979185;
        Tue, 01 Sep 2015 15:52:59 -0700 (PDT)
Received: from [10.16.0.63] (webassign-to-rtp-ip-asr-gw.ncren.net. [128.109.111.6])
        by smtp.googlemail.com with ESMTPSA id y63sm2490079qgy.2.2015.09.01.15.52.57
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Tue, 01 Sep 2015 15:52:58 -0700 (PDT)
Subject: Re: [RFC] Enable OCSP Stapling by default in httpd trunk
To: dev@httpd.apache.org
References: <CAKUrXK6k01WGqF8z6F3YBNbanbTaOSHbbzwSi2O3H3u03_mvUw@mail.gmail.com>
 <5454A244.6070006@velox.ch>
 <CAG5KPzypCfJ7rZVBSC6t2hqxV5=zJcBDRcQxrGVUmnuYAsU_mw@mail.gmail.com>
 <55A12E9C.6060805@velox.ch>
 <CACsi251vkwFs3Neqqf-cdF7W=WDZFGqY-L+1baWQdTfJ+OaZ6Q@mail.gmail.com>
 <55A363EC.6030801@apache.org>
 <CAKUrXK6m6BGhhP3fg_Gx9wFyWD8YV4PgmyRqMa7iv6bRLXMspw@mail.gmail.com>
 <E2033AE7-5EFB-4262-AFE4-17FBB82B2DF3@c8h10n4o2.org.uk>
 <55E1FEC3.9090406@gmail.com>
 <CACsi251HqSsS4mZFuiM2OPPqnm7sxLis2Ss9nvR-qu=wGRUXfQ@mail.gmail.com>
From: Jeff Trawick <trawick@gmail.com>
Message-ID: <55E62C49.7080207@gmail.com>
Date: Tue, 1 Sep 2015 18:52:57 -0400
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <CACsi251HqSsS4mZFuiM2OPPqnm7sxLis2Ss9nvR-qu=wGRUXfQ@mail.gmail.com>
Content-Type: multipart/alternative;
 boundary="------------030502030603010404050808"

This is a multi-part message in MIME format.
--------------030502030603010404050808
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

On 08/29/2015 08:10 PM, William A Rowe Jr wrote:
>
> On Aug 29, 2015 1:49 PM, "Jeff Trawick" <trawick@gmail.com 
> <mailto:trawick@gmail.com>> wrote:
> >
> > On 08/28/2015 04:17 PM, Tim Bannister wrote:
> >>
> >> Jeff Trawick <trawick@gmail.com <mailto:trawick@gmail.com>> wrote:
> >>>
> >>>
> >>> As of now there's still a veto on my suggestion of enabling 
> stapling by
> >>> default in the httpd trunk config.
> >>
> >> Would that default need to be backported to 2.4.x?
> >
> >
> > "need"?  No; 2.4.x is a separate consideration.
> >
> >
> >> If it can be on by default for trunk/2.5.x, and off by default in 
> earlier releases, this should surprise very few users.
> >>
> >> People upgrading from an older release could get a mild surprise, 
> but at the same time if you upgrade from 2.4.x to 2.5.x then surprises 
> aren't all that surprising.
> >>
> >> Overall I think the big question mark is around backport to 2.4.x 
> rather than the change to httpd trunk.
>
> I thought this question was largely resolved, that we wouldn't want 
> subversion updates to break a users config unexpectedly.  POLS.
>
You know this, but just for completeness: 
Subversion-update-breaks-users-config is when compiled-in default 
behavior changes, which could affect configurations with no stapling 
directive, which wasn't proposed even for trunk.

--------------030502030603010404050808
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: 8bit

<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  </head>
  <body text="#000000" bgcolor="#FFFFFF">
    <div class="moz-cite-prefix">On 08/29/2015 08:10 PM, William A Rowe
      Jr wrote:<br>
    </div>
    <blockquote
cite="mid:CACsi251HqSsS4mZFuiM2OPPqnm7sxLis2Ss9nvR-qu=wGRUXfQ@mail.gmail.com"
      type="cite">
      <p dir="ltr">On Aug 29, 2015 1:49 PM, "Jeff Trawick" &lt;<a
          moz-do-not-send="true" href="mailto:trawick@gmail.com"><a class="moz-txt-link-abbreviated" href="mailto:trawick@gmail.com">trawick@gmail.com</a></a>&gt;
        wrote:<br>
        &gt;<br>
        &gt; On 08/28/2015 04:17 PM, Tim Bannister wrote:<br>
        &gt;&gt;<br>
        &gt;&gt; Jeff Trawick &lt;<a moz-do-not-send="true"
          href="mailto:trawick@gmail.com">trawick@gmail.com</a>&gt;
        wrote:<br>
        &gt;&gt;&gt;<br>
        &gt;&gt;&gt;<br>
        &gt;&gt;&gt; As of now there's still a veto on my suggestion of
        enabling stapling by<br>
        &gt;&gt;&gt; default in the httpd trunk config.<br>
        &gt;&gt;<br>
        &gt;&gt; Would that default need to be backported to 2.4.x?<br>
        &gt;<br>
        &gt;<br>
        &gt; "need"?  No; 2.4.x is a separate consideration.<br>
        &gt;<br>
        &gt;<br>
        &gt;&gt; If it can be on by default for trunk/2.5.x, and off by
        default in earlier releases, this should surprise very few
        users.<br>
        &gt;&gt;<br>
        &gt;&gt; People upgrading from an older release could get a mild
        surprise, but at the same time if you upgrade from 2.4.x to
        2.5.x then surprises aren't all that surprising.<br>
        &gt;&gt;<br>
        &gt;&gt; Overall I think the big question mark is around
        backport to 2.4.x rather than the change to httpd trunk.</p>
      <p dir="ltr">I thought this question was largely resolved, that we
        wouldn't want subversion updates to break a users config
        unexpectedly.  POLS.</p>
    </blockquote>
    You know this, but just for completeness: 
    Subversion-update-breaks-users-config is when compiled-in default
    behavior changes, which could affect configurations with no stapling
    directive, which wasn't proposed even for trunk.
  </body>
</html>

--------------030502030603010404050808--

From dev-return-83671-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep  1 23:54:27 2015
Return-Path: <dev-return-83671-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 77AFA17260
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  1 Sep 2015 23:54:27 +0000 (UTC)
Received: (qmail 96270 invoked by uid 500); 1 Sep 2015 23:54:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 96196 invoked by uid 500); 1 Sep 2015 23:54:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 96186 invoked by uid 99); 1 Sep 2015 23:54:27 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2015 23:54:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 908AD1800B1
	for <dev@httpd.apache.org>; Tue,  1 Sep 2015 23:54:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id VZfq9Vsq4l-q for <dev@httpd.apache.org>;
	Tue,  1 Sep 2015 23:54:25 +0000 (UTC)
Received: from mail-qg0-f47.google.com (mail-qg0-f47.google.com [209.85.192.47])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 032835070D
	for <dev@httpd.apache.org>; Tue,  1 Sep 2015 23:54:25 +0000 (UTC)
Received: by qgx61 with SMTP id 61so8424135qgx.3
        for <dev@httpd.apache.org>; Tue, 01 Sep 2015 16:54:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=subject:to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-type:content-transfer-encoding;
        bh=vM7782WWIKWMcJVDCYhqq+U/6jC2Av338CyW66bDRFw=;
        b=fZQiPDtIa//WBkU+7xlHlqCinJftSk1G0b0iJnAB84LZNRGh9Vphl5ErMhb1FqU4GR
         uk2qd4GqLipr+mxovAAIyWwnhVyIVqir3IG9RHGuajPOgxPk8jEhKFtu6OZrSHfghn4Q
         22esmeT3d+B4DBd3KtUlVClugr0rHt9rn73xRf3eXcyEfk1F5xmLw2DlUpp8N8E+cy38
         quFMqVXJukUpP5FpUrXfkIHCv7+eqeGiUeW+G4Z/T0KRauH3SGLYT2q8/R4aDDpS4Yh0
         7K4VemIiij3JF9AnmT3SUj3VxFiAnVK3p0gEfe9EOcHNHK18RDDUsdnRkWVsv0DwIKcp
         +sFw==
X-Received: by 10.141.23.149 with SMTP id z143mr51920561qhd.67.1441151664615;
        Tue, 01 Sep 2015 16:54:24 -0700 (PDT)
Received: from [10.16.0.63] (webassign-to-rtp-ip-asr-gw.ncren.net. [128.109.111.6])
        by smtp.googlemail.com with ESMTPSA id p24sm11815794qki.9.2015.09.01.16.54.23
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Tue, 01 Sep 2015 16:54:24 -0700 (PDT)
Subject: Re: [RFC] Enable OCSP Stapling by default in httpd trunk
To: dev@httpd.apache.org
References: <CAKUrXK6k01WGqF8z6F3YBNbanbTaOSHbbzwSi2O3H3u03_mvUw@mail.gmail.com>
 <5454A244.6070006@velox.ch>
 <CAG5KPzypCfJ7rZVBSC6t2hqxV5=zJcBDRcQxrGVUmnuYAsU_mw@mail.gmail.com>
 <55A12E9C.6060805@velox.ch>
 <CACsi251vkwFs3Neqqf-cdF7W=WDZFGqY-L+1baWQdTfJ+OaZ6Q@mail.gmail.com>
 <55A363EC.6030801@apache.org>
 <CAKUrXK6m6BGhhP3fg_Gx9wFyWD8YV4PgmyRqMa7iv6bRLXMspw@mail.gmail.com>
 <55E2A31E.5000204@velox.ch>
From: Jeff Trawick <trawick@gmail.com>
Message-ID: <55E63AAE.1010205@gmail.com>
Date: Tue, 1 Sep 2015 19:54:22 -0400
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <55E2A31E.5000204@velox.ch>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

On 08/30/2015 02:30 AM, Kaspar Brand wrote:
> On 28.08.2015 19:27, Jeff Trawick wrote:
>> For one, it is appropriate for the default config is there to enable
>> practices which are reasonable in most situations, and OCSP Stapling is
>> widely accepted as an appropriate feature for HTTP servers to enable.
> I have some doubts whether "widely accepted" is an accurate summary of
> today's situation, because this assessment misses the fact that with the
> current RFC-6066-based implementation, stapling can't fully achieve the
> goal of obviating OCSP queries for the clients - all publicly trusted
> CAs use hierarchies with at least two tiers these days, so effectively
> RFC 6961 support would be needed.
I plead ignorance, but I don't see that "can't fully achieve" is a blocker.

>   And given that the most popular
> browser only enforces revocation checking for EV certificates (certainly
> less than 10% of all SSL certs out there), the benefit of turning on
> stapling for DV/OV certs by default is not so apparent either.

Is there a synopsis of which browsers support it for which types of 
certificates?

>
> What wasn't mentioned in the original RFC [1], and what I'm still
> wondering about, is the primary motivation for enabling it on trunk?

The motivation for putting it in trunk is so that the next release has 
stapling enabled in the default configurations, which essentially means 
that in some number of years (2-3?  I dunno) there will be a 
faster-growing number of httpd instances that have OCSP stapling enabled.

Admins can of course enable it now, but people don't bother until 
something like SSLLabs starts dinging configurations that don't have it on.

>   As
> I wrote in my reply at that time, changing the default in trunk will
> hardly help in getting broader real-world testing results.

For now, it hardly helps.  As we approach a release and start talking 
about it and having alphas and betas, it helps a lot more because more 
than the same 20 people are trying it out.

>   If the
> plan is to propose a backport to 2.4.x soon afterwards, however, then I
> would certainly oppose unless systematic coverage for OCSP stapling is
> added to the test framework (enabling a feature by default in a GA
> release for which there is not a single test is a no go, IMO).

The point about adding tests is good.

I find this 2.4.x tangent disorienting, but maybe that's just me. (And 
even if 2.4.x default configs were changed, it would affect hardly 
anyone.  The people who build from source and just start using the 
latest configs every time probably aren't in control of many aspects of 
their system anyway.  Building and installing the normal way leaves you 
with the same configuration.)

Part of what makes the 2.4.x tangent is confusing is that sometimes your 
objections seem to be qualified on the assumption that 2.4.x would be 
updated.  Can we please drop 2.4.x from this conversation?

>
>> Also, strictly speaking, the default config does not have SSL enabled
>> anyway, and after manually enabling it OCSP responses won't be fetched
>> unless a certificate is configured which references an OCSP responder.
> It should be worth mentioning that the OCSP URI in a server cert is to
> be considered untrusted, as mod_ssl does not validate its own cert at
> startup.

I would think that the problem is if the hostname doesn't point where it 
is supposed to point, so the I/O can't be allowed to stall and mod_ssl 
and OpenSSL have to avoid assuming the data is well-formed.  Besides 
that, the admin and the browser own the rest.

>   It's also for this reason that I'm not in favor of a global
> "SSLUseStapling On", it should really be configured on a per-vhost basis.

I don't follow.  What does that help?  With which attack vector does 
that improve the situation?

>
>> While I find the "not make accidental outgoing connections" argument
>> compelling (though perhaps with a different word than "accidental") the
>> server already takes actions that cause outgoing connections to services
>> not explicitly configured (DNS), and these occasionally cause problems.
> Are you referring to queries when doing PTR lookups for connecting
> clients? I think that's one of the very reasons why "HostnameLookups
> Off" was chosen for extra/httpd-default.conf.

Not HostnameLookups; resolving ServerName at startup (configured or 
defaulted).
>
>> Is there a principle at stake which could be followed consistently across
>> disparate features in how the server behaves a) with compiled in defaults
>> and minimal config, or b) with default/recommended config?
> The default configuration should not trigger unsolicited outgoing
> queries to untrusted systems, for both a) and b), that's how I would
> put it.

Admin configures a certificate that has a domain name of attacker in the 
responder URI?  DNS entry for domain name in responder URI is taken over 
to point to attacker?

>   Additionally, features enabled by default need to have sufficient
> coverage in the test framework.

Coverage in the test framework is obviously a very good thing.

Is it your understanding that this high bar to enabling behavior in 
trunk without explicit configuration is currently followed for most such 
changes?

So forgetting 2.4.x, are you vetoing changing the trunk default config 
to enable stapling, and are the criteria of the veto both

1. The default configuration should not trigger unsolicited outgoing 
queries to untrusted systems, for both a) and b), that's how I would put it.
2. Additionally, features enabled by default need to have sufficient 
coverage in the test framework.

>
>> If enabling stapling were more closely tied in the configuration language
>> to configuring a certificate, which with "SSLUseStapling On" is the user
>> action that makes mod_ssl talk to a responder, would that help the end
>> user?  (Controlling stapling parameters on a per-certificate basis is
>> valuable anyway since you can have multiple certificates per vhost,
>> possibly with different responders.)
> It's not very common to configure multiple certs for a single vhost, I
> guess - mainly due to the single-chain-only limitation in OpenSSL up to
> 1.0.1. I wouldn't put too much effort into making it a per-certificate
> setting (seems relatively complex to implement, at least at first glance).
>
> Kaspar
>
> [1] https://mail-archives.apache.org/mod_mbox/httpd-dev/201410.mbox/%3CCAKUrXK6k01WGqF8z6F3YBNbanbTaOSHbbzwSi2O3H3u03_mvUw%40mail.gmail.com%3E


From dev-return-83672-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 09:08:04 2015
Return-Path: <dev-return-83672-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EA51710690
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 09:08:04 +0000 (UTC)
Received: (qmail 46738 invoked by uid 500); 2 Sep 2015 09:08:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46667 invoked by uid 500); 2 Sep 2015 09:08:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46657 invoked by uid 99); 2 Sep 2015 09:08:04 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 09:08:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id A81E2C6ACD
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 09:08:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id q5yXLHK7zCWl for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 09:08:03 +0000 (UTC)
Received: from mail-ig0-f176.google.com (mail-ig0-f176.google.com [209.85.213.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 3D24920DD8
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 09:08:02 +0000 (UTC)
Received: by igbut12 with SMTP id ut12so8816503igb.1
        for <dev@httpd.apache.org>; Wed, 02 Sep 2015 02:08:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=ZCcDbYNCQcRwOsa5zSGcecwMNQcdfPXO3YzpyOtUE6c=;
        b=K6kFJEPdaawpkFsic9+Fv0qKAP1U128F70zBVodcTjFMtCXEGpZPQa2F5atzYYPi7y
         OzxsrfjC9uQoQTu1YyXjiTDnSo2AK7KcQ8oitQmDoToW1PL0R+euG34e6v0VbjZkBpwq
         DrAffYX54Q3SpWQpZIORElxxuEMyCdRQtdICqQrDIn2jFOwRDPKcEAuSCj6fLlH2l0Wy
         vtBv5SEBib2/kUi4AiiAs4ET/p2fjdoaR5tIJD77nHArXEfVrzHd/XDismAtF59WVRsE
         xP9+RE290Cb+97fNIyt9s2KpyqvNyFYd3jM2YSGFwZtCupfBAp6fWFc03RyrpppkDBuX
         RgPw==
MIME-Version: 1.0
X-Received: by 10.50.111.164 with SMTP id ij4mr2069408igb.70.1441184881201;
 Wed, 02 Sep 2015 02:08:01 -0700 (PDT)
Received: by 10.79.38.74 with HTTP; Wed, 2 Sep 2015 02:08:01 -0700 (PDT)
Date: Wed, 2 Sep 2015 11:08:01 +0200
Message-ID: <CAKQ1sVMtQs1+6wuBL50AanrVEVQ5qtzqHc0yiuDUznGUF+VJ7Q@mail.gmail.com>
Subject: Balancers (file based SHMs) and restart issue (Windows only?)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Re PR 58024.

AIUI, balancers (and members) SHM slots are destroyed (and the
underlying base file removed) with pconf before restarting and then
re-created after (according to the new configuration, eg. number of
balancers/members, be it the same or not).
Persisted slots are saved in their own file (with the .persit suffix),
and reused (copied) only if the configuration did not change in
between.
(@Jim, I see now how this is better than attaching ;)

This works well on Unixes, but on Windows files can't be removed
(unlinked) while any process/thread hold an HANDLE on it, hence until
all the children have exited...
Thus, since the SHM files still exist on restart, the balancer code
tries to attach them instead of re-creating, and issues the checks on
the existing size to fit the reloaded configuration, and fail should
should any balancer/member be added or removed => PR 58024.

BTW, even on Unixes there is a race on these files between the main
process and the children, or the children themselves from different
"generation".

So I wonder if we could use anonymous SHMs instead (or mktemp based
when not native), persisted slots are saved in their own files anyway
and won't be affected.
Otherwise, maybe we could use the "generation" as part of the file
name, but that's equivalent and more complex IMO.

Thoughts?

From dev-return-83673-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 09:48:30 2015
Return-Path: <dev-return-83673-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DF158108AD
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 09:48:30 +0000 (UTC)
Received: (qmail 42878 invoked by uid 500); 2 Sep 2015 09:48:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 42811 invoked by uid 500); 2 Sep 2015 09:48:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 42801 invoked by uid 99); 2 Sep 2015 09:48:30 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 09:48:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id EB974F0BE4
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 09:48:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.979
X-Spam-Level:
X-Spam-Status: No, score=0.979 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id Mw9i3UH07Zj5 for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 09:48:19 +0000 (UTC)
Received: from mail1.bemta5.messagelabs.com (mail1.bemta5.messagelabs.com [195.245.231.143])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 3DDEF20647
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 09:48:18 +0000 (UTC)
Received: from [85.158.139.163] by server-7.bemta-5.messagelabs.com id 28/62-13905-BD5C6E55; Wed, 02 Sep 2015 09:48:11 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-11.tower-188.messagelabs.com!1441187291!21564903!1
X-Originating-IP: [195.232.244.136]
X-StarScan-Received:
X-StarScan-Version: 6.13.16; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 18264 invoked from network); 2 Sep 2015 09:48:11 -0000
Received: from mailout04.vodafone.com (HELO mailout04.vodafone.com) (195.232.244.136)
  by server-11.tower-188.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 2 Sep 2015 09:48:11 -0000
Received: from mailint04.vodafone.com (mailint04.vodafone.com [195.232.244.201])
	by mailout04.vodafone.com (Postfix) with ESMTP id 3n5gSC1HdPznTX2
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 11:48:11 +0200 (CEST)
Received: from mailint04.vodafone.com (localhost [127.0.0.1])
	by mailint04.vodafone.com (Postfix) with ESMTP id 3n5gSC0MXWzfZHX
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 11:48:11 +0200 (CEST)
Received: from VOEXC03W.internal.vodafone.com (voexc03w.dc-ratingen.de [145.230.101.23])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint04.vodafone.com (Postfix) with ESMTPS id 3n5gSC02B3zfZDh
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 11:48:11 +0200 (CEST)
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.132]) by
 VOEXC03W.internal.vodafone.com ([145.230.101.23]) with mapi id
 14.03.0224.002; Wed, 2 Sep 2015 11:48:10 +0200
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: Balancers (file based SHMs) and restart issue (Windows only?)
Thread-Topic: Balancers (file based SHMs) and restart issue (Windows only?)
Thread-Index: AQHQ5V7kVE6qpCu4JUaCsqhXaHPTgp4o/dNg
Date: Wed, 2 Sep 2015 09:48:09 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC630E609@VOEXM10W.internal.vodafone.com>
References: <CAKQ1sVMtQs1+6wuBL50AanrVEVQ5qtzqHc0yiuDUznGUF+VJ7Q@mail.gmail.com>
In-Reply-To: <CAKQ1sVMtQs1+6wuBL50AanrVEVQ5qtzqHc0yiuDUznGUF+VJ7Q@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

DQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogWWFubiBZbGF2aWMgW21h
aWx0bzp5bGF2aWMuZGV2QGdtYWlsLmNvbV0NCj4gU2VudDogTWl0dHdvY2gsIDIuIFNlcHRlbWJl
ciAyMDE1IDExOjA4DQo+IFRvOiBkZXZAaHR0cGQuYXBhY2hlLm9yZw0KPiBTdWJqZWN0OiBCYWxh
bmNlcnMgKGZpbGUgYmFzZWQgU0hNcykgYW5kIHJlc3RhcnQgaXNzdWUgKFdpbmRvd3Mgb25seT8p
DQo+IA0KPiBSZSBQUiA1ODAyNC4NCj4gDQo+IEFJVUksIGJhbGFuY2VycyAoYW5kIG1lbWJlcnMp
IFNITSBzbG90cyBhcmUgZGVzdHJveWVkIChhbmQgdGhlDQo+IHVuZGVybHlpbmcgYmFzZSBmaWxl
IHJlbW92ZWQpIHdpdGggcGNvbmYgYmVmb3JlIHJlc3RhcnRpbmcgYW5kIHRoZW4NCj4gcmUtY3Jl
YXRlZCBhZnRlciAoYWNjb3JkaW5nIHRvIHRoZSBuZXcgY29uZmlndXJhdGlvbiwgZWcuIG51bWJl
ciBvZg0KPiBiYWxhbmNlcnMvbWVtYmVycywgYmUgaXQgdGhlIHNhbWUgb3Igbm90KS4NCj4gUGVy
c2lzdGVkIHNsb3RzIGFyZSBzYXZlZCBpbiB0aGVpciBvd24gZmlsZSAod2l0aCB0aGUgLnBlcnNp
dCBzdWZmaXgpLA0KPiBhbmQgcmV1c2VkIChjb3BpZWQpIG9ubHkgaWYgdGhlIGNvbmZpZ3VyYXRp
b24gZGlkIG5vdCBjaGFuZ2UgaW4NCj4gYmV0d2Vlbi4NCj4gKEBKaW0sIEkgc2VlIG5vdyBob3cg
dGhpcyBpcyBiZXR0ZXIgdGhhbiBhdHRhY2hpbmcgOykNCj4gDQo+IFRoaXMgd29ya3Mgd2VsbCBv
biBVbml4ZXMsIGJ1dCBvbiBXaW5kb3dzIGZpbGVzIGNhbid0IGJlIHJlbW92ZWQNCj4gKHVubGlu
a2VkKSB3aGlsZSBhbnkgcHJvY2Vzcy90aHJlYWQgaG9sZCBhbiBIQU5ETEUgb24gaXQsIGhlbmNl
IHVudGlsDQo+IGFsbCB0aGUgY2hpbGRyZW4gaGF2ZSBleGl0ZWQuLi4NCj4gVGh1cywgc2luY2Ug
dGhlIFNITSBmaWxlcyBzdGlsbCBleGlzdCBvbiByZXN0YXJ0LCB0aGUgYmFsYW5jZXIgY29kZQ0K
PiB0cmllcyB0byBhdHRhY2ggdGhlbSBpbnN0ZWFkIG9mIHJlLWNyZWF0aW5nLCBhbmQgaXNzdWVz
IHRoZSBjaGVja3Mgb24NCj4gdGhlIGV4aXN0aW5nIHNpemUgdG8gZml0IHRoZSByZWxvYWRlZCBj
b25maWd1cmF0aW9uLCBhbmQgZmFpbCBzaG91bGQNCj4gc2hvdWxkIGFueSBiYWxhbmNlci9tZW1i
ZXIgYmUgYWRkZWQgb3IgcmVtb3ZlZCA9PiBQUiA1ODAyNC4NCj4gDQo+IEJUVywgZXZlbiBvbiBV
bml4ZXMgdGhlcmUgaXMgYSByYWNlIG9uIHRoZXNlIGZpbGVzIGJldHdlZW4gdGhlIG1haW4NCj4g
cHJvY2VzcyBhbmQgdGhlIGNoaWxkcmVuLCBvciB0aGUgY2hpbGRyZW4gdGhlbXNlbHZlcyBmcm9t
IGRpZmZlcmVudA0KPiAiZ2VuZXJhdGlvbiIuDQoNClJlYWxseT8gSSB3b3VsZCB0aGluayB0aGF0
IHRoZXNlIGFyZSBmaWxlcyB3aXRoIHRoZSBzYW1lIG5hbWUgYnV0IGRpZmZlcmVudCBpbm9kZXMg
YW5kIGhlbmNlIGRpZmZlcmVudC4NCg0KUmVnYXJkcw0KDQpSw7xkaWdlcg0KDQoNCg==

From dev-return-83674-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 10:14:30 2015
Return-Path: <dev-return-83674-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 45C021097F
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 10:14:30 +0000 (UTC)
Received: (qmail 2531 invoked by uid 500); 2 Sep 2015 10:14:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 2441 invoked by uid 500); 2 Sep 2015 10:14:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 2431 invoked by uid 99); 2 Sep 2015 10:14:29 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 10:14:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 742C3C0F96
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 10:14:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id gfnLZ9Z99cXN for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 10:14:24 +0000 (UTC)
Received: from mail-io0-f173.google.com (mail-io0-f173.google.com [209.85.223.173])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 86DAA42B27
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 10:14:24 +0000 (UTC)
Received: by iofh134 with SMTP id h134so14364019iof.0
        for <dev@httpd.apache.org>; Wed, 02 Sep 2015 03:14:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=A3Hjg55Ht6ULG/nV7ZPk6BnW8tY0LKi5xL/DehOpC8M=;
        b=x1sObYphESQtZrJFow0eqAASSJ5An2MkKkt09BzV5cypAOvjAWtstpQQlPRwUOHeof
         07N2oQf2h9rRK0bINiejN8Efye3cdH0S32VtlPLAG2vKVcogr6z2TPXTYZXqtr/3a0W0
         H1MMsTbCFwyzHT5SGItf1zTIH3jDDINJUlaZObN2V2ASg9+rQPmexzbIrKkEVmVZVruv
         4/qroXpB5rfUU4hbOdhwkP6jMeZjGV6CqM6L4mSvfNnCRBMphCOlYXRJsTV/oPThsOUK
         4Hotyf1elyt7qNrMdHEXP3WpLivtgGRQ0TlEvG7gtngHGZjtnLJY+vhcxZot/GWN5hyC
         CA3g==
MIME-Version: 1.0
X-Received: by 10.107.3.23 with SMTP id 23mr11516235iod.132.1441188864000;
 Wed, 02 Sep 2015 03:14:24 -0700 (PDT)
Received: by 10.79.38.74 with HTTP; Wed, 2 Sep 2015 03:14:23 -0700 (PDT)
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC630E609@VOEXM10W.internal.vodafone.com>
References: <CAKQ1sVMtQs1+6wuBL50AanrVEVQ5qtzqHc0yiuDUznGUF+VJ7Q@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC630E609@VOEXM10W.internal.vodafone.com>
Date: Wed, 2 Sep 2015 12:14:23 +0200
Message-ID: <CAKQ1sVOrFv6+5g1stqiOmp+U2e3XzfxPxRm1SRbRCQ2tECRkRQ@mail.gmail.com>
Subject: Re: Balancers (file based SHMs) and restart issue (Windows only?)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Sep 2, 2015 at 11:48 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
<ruediger.pluem@vodafone.com> wrote:
>
> From: Yann Ylavic [mailto:ylavic.dev@gmail.com]
>>
>> BTW, even on Unixes there is a race on these files between the main
>> process and the children, or the children themselves from different
>> "generation".
>
> Really? I would think that these are files with the same name but differe=
nt inodes and hence different.

Yes, but I was thinking of eg. an old-generation child removing the
file between shm_create (post_config's slotmem_create) and shm_attach
(child_init's slotmem_attach) from the new-generation.

From dev-return-83675-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 10:33:04 2015
Return-Path: <dev-return-83675-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E36E210A59
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 10:33:04 +0000 (UTC)
Received: (qmail 46765 invoked by uid 500); 2 Sep 2015 10:33:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46690 invoked by uid 500); 2 Sep 2015 10:33:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46680 invoked by uid 99); 2 Sep 2015 10:33:04 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 10:33:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 1A5B918233E
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 10:33:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id hohqMWy_0sU5 for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 10:32:58 +0000 (UTC)
Received: from mail-ig0-f179.google.com (mail-ig0-f179.google.com [209.85.213.179])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id C794F42B1A
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 10:32:57 +0000 (UTC)
Received: by igbkq10 with SMTP id kq10so21422706igb.0
        for <dev@httpd.apache.org>; Wed, 02 Sep 2015 03:32:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=X8mDNn9wtxV44QFzucofaD/+SkGDgQYU6M31xJgOpuI=;
        b=HzTxcOV9Jmky/CICMKCCieeiIKswtISldzkcy1ROK/FhJj+TDdhZmvvsQ6bNaFcHFE
         EEBLcoBPq26Y637rWyApLjUS5Ce5WKE2vFDruv1S/l+6Orll1IGzn1mlgzBf46YzGfkE
         6EENII7WZsMo5XiIH1O4ocVClndYO5plkuChheTxuPaaqbXcC7NwOqOHRzrHaQjZk9IG
         R147gMr2otXEeZTAyp0a4lYaqL7rAgyJk0cGZU/hbtH+m5zQhGb8prnvHAX+VMAKm8X/
         Kl0lKTYCwC+Qk0RK0tAPjnY/lGnbI/KU+sjyclpsejoOme65QXnsNrbF/g7qaKnWMZKh
         PaQA==
MIME-Version: 1.0
X-Received: by 10.50.111.164 with SMTP id ij4mr2319040igb.70.1441189977262;
 Wed, 02 Sep 2015 03:32:57 -0700 (PDT)
Received: by 10.79.38.74 with HTTP; Wed, 2 Sep 2015 03:32:57 -0700 (PDT)
In-Reply-To: <CAKQ1sVOrFv6+5g1stqiOmp+U2e3XzfxPxRm1SRbRCQ2tECRkRQ@mail.gmail.com>
References: <CAKQ1sVMtQs1+6wuBL50AanrVEVQ5qtzqHc0yiuDUznGUF+VJ7Q@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC630E609@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVOrFv6+5g1stqiOmp+U2e3XzfxPxRm1SRbRCQ2tECRkRQ@mail.gmail.com>
Date: Wed, 2 Sep 2015 12:32:57 +0200
Message-ID: <CAKQ1sVMdMVH0uxPxMnnH-PO9PbNxDUG319xXuZRJi9jEk0qQVg@mail.gmail.com>
Subject: Re: Balancers (file based SHMs) and restart issue (Windows only?)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Sep 2, 2015 at 12:14 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Wed, Sep 2, 2015 at 11:48 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
> <ruediger.pluem@vodafone.com> wrote:
>>
>> From: Yann Ylavic [mailto:ylavic.dev@gmail.com]
>>>
>>> BTW, even on Unixes there is a race on these files between the main
>>> process and the children, or the children themselves from different
>>> "generation".
>>
>> Really? I would think that these are files with the same name but differ=
ent inodes and hence different.
>
> Yes, but I was thinking of eg. an old-generation child removing the
> file between shm_create (post_config's slotmem_create) and shm_attach
> (child_init's slotmem_attach) from the new-generation.

Hm, that seems to be guarded by the "globallistmem" cache in mod_slotmem_sh=
m...
So I am probably wrong about this race.

On Windows, "globallistmem" is not inherited (forked), hence the
shm_attach() path is taken, so we can't use anonymous SHMs anyway...

How about the generation in the filename? Windows only?

From dev-return-83676-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 10:40:40 2015
Return-Path: <dev-return-83676-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4534810A99
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 10:40:40 +0000 (UTC)
Received: (qmail 62679 invoked by uid 500); 2 Sep 2015 10:40:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62608 invoked by uid 500); 2 Sep 2015 10:40:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62598 invoked by uid 99); 2 Sep 2015 10:40:39 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 10:40:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 46DAF1800B1
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 10:40:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id qDxWPCigJVCE for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 10:40:38 +0000 (UTC)
Received: from mail-ig0-f179.google.com (mail-ig0-f179.google.com [209.85.213.179])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id DCA3420DD8
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 10:40:37 +0000 (UTC)
Received: by igbni9 with SMTP id ni9so10274818igb.0
        for <dev@httpd.apache.org>; Wed, 02 Sep 2015 03:40:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=VgSdOtZaaYO7mAPCzfyouLgY27EQs+PgYqhUO5bbEA8=;
        b=fzjdGsvKOhTjgFl/nbeE8e/IRkinmJ9QcSEcC2A479LXx0EDhjLNvVjdcPTlqXxY5B
         7f6m4jBZTgltavulv3zIF0VcMuoYv3jYCxDegzr2MzNnx79ednbwiYQchuriD3+qTkGU
         zY3fNERGjWGDjwnd5hUGkJWQbKrMjxk0BdEog4IaDahy2w6uG6kGBUGYiL/3AKr48aqb
         OySFLkwxtxGWDmHRosfxW7mkyRY2OpLK3ubmR36EBRuPMaAkQeG9T465Y/Xdbd/sKlND
         SsDTr536oDpWX+AUpKjFv7cpbtAqHaD9e4QN4uUyWNSPWPp0yBI5zfVuux3pTmDAzUuK
         sWxw==
MIME-Version: 1.0
X-Received: by 10.50.43.134 with SMTP id w6mr2487977igl.74.1441190436943; Wed,
 02 Sep 2015 03:40:36 -0700 (PDT)
Received: by 10.79.38.74 with HTTP; Wed, 2 Sep 2015 03:40:36 -0700 (PDT)
In-Reply-To: <CAKQ1sVMdMVH0uxPxMnnH-PO9PbNxDUG319xXuZRJi9jEk0qQVg@mail.gmail.com>
References: <CAKQ1sVMtQs1+6wuBL50AanrVEVQ5qtzqHc0yiuDUznGUF+VJ7Q@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC630E609@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVOrFv6+5g1stqiOmp+U2e3XzfxPxRm1SRbRCQ2tECRkRQ@mail.gmail.com>
	<CAKQ1sVMdMVH0uxPxMnnH-PO9PbNxDUG319xXuZRJi9jEk0qQVg@mail.gmail.com>
Date: Wed, 2 Sep 2015 12:40:36 +0200
Message-ID: <CAKQ1sVMa3O=4j=8q000WwY=tZRcprpu3etgRpPAVm+Lg1q_4wg@mail.gmail.com>
Subject: Re: Balancers (file based SHMs) and restart issue (Windows only?)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Wed, Sep 2, 2015 at 12:32 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
> How about the generation in the filename? Windows only?

Or maybe an mktemp() based file for each generation (which has also
the advantage to be implicitely DELONCLOSE).

From dev-return-83677-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 10:54:38 2015
Return-Path: <dev-return-83677-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 21FEF10B0C
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 10:54:38 +0000 (UTC)
Received: (qmail 79976 invoked by uid 500); 2 Sep 2015 10:54:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 79892 invoked by uid 500); 2 Sep 2015 10:54:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 79882 invoked by uid 99); 2 Sep 2015 10:54:34 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 10:54:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 268D4C1269
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 10:54:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, SPF_HELO_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 1S6IpEVney1O for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 10:54:23 +0000 (UTC)
Received: from mail1.bemta5.messagelabs.com (mail1.bemta5.messagelabs.com [195.245.231.148])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 6B93424C10
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 10:54:22 +0000 (UTC)
Received: from [85.158.139.163] by server-12.bemta-5.messagelabs.com id 5B/DE-19220-855D6E55; Wed, 02 Sep 2015 10:54:16 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-2.tower-188.messagelabs.com!1441191256!21614234!1
X-Originating-IP: [195.232.244.133]
X-StarScan-Received:
X-StarScan-Version: 6.13.16; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 21831 invoked from network); 2 Sep 2015 10:54:16 -0000
Received: from mailout01.vodafone.com (HELO mailout01.vodafone.com) (195.232.244.133)
  by server-2.tower-188.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 2 Sep 2015 10:54:16 -0000
Received: from mailint04.vodafone.com (mailint04.vodafone.com [195.232.244.201])
	by mailout01.vodafone.com (Postfix) with ESMTP id 3n5hwS16Bpz1yFx
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 12:54:16 +0200 (CEST)
Received: from mailint04.vodafone.com (localhost [127.0.0.1])
	by mailint04.vodafone.com (Postfix) with ESMTP id 3n5hwS05n7zfZmC
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 12:54:16 +0200 (CEST)
Received: from VOEXC03W.internal.vodafone.com (voexc03w.dc-ratingen.de [145.230.101.23])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint04.vodafone.com (Postfix) with ESMTPS id 3n5hwR6smmzfZNZ
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 12:54:15 +0200 (CEST)
Received: from VOEXC29W.internal.vodafone.com (145.230.103.201) by
 VOEXC03W.internal.vodafone.com (145.230.101.23) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Wed, 2 Sep 2015 12:54:14 +0200
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.132]) by voexc29w
 ([145.230.103.201]) with mapi id 14.03.0224.002; Wed, 2 Sep 2015 12:54:14
 +0200
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: Balancers (file based SHMs) and restart issue (Windows only?)
Thread-Topic: Balancers (file based SHMs) and restart issue (Windows only?)
Thread-Index: AQHQ5V7kVE6qpCu4JUaCsqhXaHPTgp4o/dNg///mL4CAACZeQA==
Date: Wed, 2 Sep 2015 10:54:13 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC630E679@VOEXM10W.internal.vodafone.com>
References: <CAKQ1sVMtQs1+6wuBL50AanrVEVQ5qtzqHc0yiuDUznGUF+VJ7Q@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC630E609@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVOrFv6+5g1stqiOmp+U2e3XzfxPxRm1SRbRCQ2tECRkRQ@mail.gmail.com>
In-Reply-To: <CAKQ1sVOrFv6+5g1stqiOmp+U2e3XzfxPxRm1SRbRCQ2tECRkRQ@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

DQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogWWFubiBZbGF2aWMgW21h
aWx0bzp5bGF2aWMuZGV2QGdtYWlsLmNvbV0NCj4gU2VudDogTWl0dHdvY2gsIDIuIFNlcHRlbWJl
ciAyMDE1IDEyOjE0DQo+IFRvOiBkZXZAaHR0cGQuYXBhY2hlLm9yZw0KPiBTdWJqZWN0OiBSZTog
QmFsYW5jZXJzIChmaWxlIGJhc2VkIFNITXMpIGFuZCByZXN0YXJ0IGlzc3VlIChXaW5kb3dzIG9u
bHk/KQ0KPiANCj4gT24gV2VkLCBTZXAgMiwgMjAxNSBhdCAxMTo0OCBBTSwgUGzDvG0sIFLDvGRp
Z2VyLCBWb2RhZm9uZSBHcm91cA0KPiA8cnVlZGlnZXIucGx1ZW1Adm9kYWZvbmUuY29tPiB3cm90
ZToNCj4gPg0KPiA+IEZyb206IFlhbm4gWWxhdmljIFttYWlsdG86eWxhdmljLmRldkBnbWFpbC5j
b21dDQo+ID4+DQo+ID4+IEJUVywgZXZlbiBvbiBVbml4ZXMgdGhlcmUgaXMgYSByYWNlIG9uIHRo
ZXNlIGZpbGVzIGJldHdlZW4gdGhlIG1haW4NCj4gPj4gcHJvY2VzcyBhbmQgdGhlIGNoaWxkcmVu
LCBvciB0aGUgY2hpbGRyZW4gdGhlbXNlbHZlcyBmcm9tIGRpZmZlcmVudA0KPiA+PiAiZ2VuZXJh
dGlvbiIuDQo+ID4NCj4gPiBSZWFsbHk/IEkgd291bGQgdGhpbmsgdGhhdCB0aGVzZSBhcmUgZmls
ZXMgd2l0aCB0aGUgc2FtZSBuYW1lIGJ1dA0KPiBkaWZmZXJlbnQgaW5vZGVzIGFuZCBoZW5jZSBk
aWZmZXJlbnQuDQo+IA0KPiBZZXMsIGJ1dCBJIHdhcyB0aGlua2luZyBvZiBlZy4gYW4gb2xkLWdl
bmVyYXRpb24gY2hpbGQgcmVtb3ZpbmcgdGhlDQo+IGZpbGUgYmV0d2VlbiBzaG1fY3JlYXRlIChw
b3N0X2NvbmZpZydzIHNsb3RtZW1fY3JlYXRlKSBhbmQgc2htX2F0dGFjaA0KPiAoY2hpbGRfaW5p
dCdzIHNsb3RtZW1fYXR0YWNoKSBmcm9tIHRoZSBuZXctZ2VuZXJhdGlvbi4NCg0KQWhoLCBvay4g
R29vZCBwb2ludC4gVGhpcyBjb3VsZCBoYXBwZW4uDQoNClJlZ2FyZHMNCg0KUsO8ZGlnZXINCg==

From dev-return-83678-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 13:16:27 2015
Return-Path: <dev-return-83678-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1171717313
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 13:16:27 +0000 (UTC)
Received: (qmail 75501 invoked by uid 500); 2 Sep 2015 13:16:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75428 invoked by uid 500); 2 Sep 2015 13:16:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75418 invoked by uid 99); 2 Sep 2015 13:16:26 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 13:16:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 34E39F0DD3
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 13:16:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id vK4GadBdhG7d for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 13:16:13 +0000 (UTC)
Received: from mail-ig0-f178.google.com (mail-ig0-f178.google.com [209.85.213.178])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id A6A842645C
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 13:16:13 +0000 (UTC)
Received: by igbkq10 with SMTP id kq10so24306102igb.0
        for <dev@httpd.apache.org>; Wed, 02 Sep 2015 06:16:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=pScmOnox9TacW39AaPDFCDFTGdtnzsSOpAN5RmCNP/M=;
        b=GoAiqoMpvvJXkFnnwNWlEmh3bIBBoVULscXnyV1eyWDuLIsbdWsslDni5nAJeR8qGA
         G2p6OkmyvwJPmOj86lxGbVhyrXz2KPZrAuVFclO+FTgl6+h6cGRZbqoC/l4X36i6uo6y
         jGcM1lED2jiZaFx3ThnqGAmTgsq9RPNYdcDRgeqvvqP0TkQm/z7ZGsUh2euMQSMkvb/Z
         kCLJhujFwF3nTgwWtn14QPkEY7EcRelCDUHNyNRjY7Q2vOjlxE6EI/xceemmeR0ofCYO
         +lbMJ41vxxSJXya1Ax5nd3I6jcXgg8S/lCxpwlnkQYVHbVCCbIMvyN9cWltyl9rlwjR5
         gVmA==
MIME-Version: 1.0
X-Received: by 10.50.79.133 with SMTP id j5mr3274316igx.15.1441199767300; Wed,
 02 Sep 2015 06:16:07 -0700 (PDT)
Received: by 10.79.38.74 with HTTP; Wed, 2 Sep 2015 06:16:07 -0700 (PDT)
In-Reply-To: <20150724120946.26BD4AC0623@hades.apache.org>
References: <20150724120946.26BD4AC0623@hades.apache.org>
Date: Wed, 2 Sep 2015 15:16:07 +0200
Message-ID: <CAKQ1sVPq7G-ujC6jxJ+CWZdXPkM835SYT1HcY5F1mZViNbeVwg@mail.gmail.com>
Subject: Re: svn commit: r1692486 [1/2] - in /httpd/httpd/trunk:
 docs/log-message-tags/ include/ modules/http2/ modules/ssl/ server/
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Jul 24, 2015 at 2:09 PM,  <icing@apache.org> wrote:
> Author: icing
> Date: Fri Jul 24 12:09:44 2015
> New Revision: 1692486
>
> URL: http://svn.apache.org/r1692486
> Log:
> new Protocols directive and core API changes to enable protocol switching on HTTP Upgrade or ALPN, implemented in mod_ssl and mod_h2
>
[]
> Modified:
[]
>     httpd/httpd/trunk/server/core.c
[]
> ==============================================================================
> --- httpd/httpd/trunk/server/core.c (original)
> +++ httpd/httpd/trunk/server/core.c Fri Jul 24 12:09:44 2015
[]
> @@ -5226,6 +5253,73 @@ static void core_dump_config(apr_pool_t
[]
> +static int core_upgrade_handler(request_rec *r)
> +{
> +    conn_rec *c = r->connection;
> +    const char *upgrade = apr_table_get(r->headers_in, "Upgrade");
> +
> +    if (upgrade && *upgrade) {
> +        const char *conn = apr_table_get(r->headers_in, "Connection");
> +        if (ap_find_token(r->pool, conn, "upgrade")) {
> +            apr_array_header_t *offers = NULL;
> +            const char *err;
> +
> +            err = ap_parse_token_list_strict(r->pool, upgrade, &offers, 0);
> +            if (err) {
> +                ap_log_rerror(APLOG_MARK, APLOG_DEBUG, 0, r, APLOGNO(02910)
> +                              "parsing Upgrade header: %s", err);
> +                return DECLINED;
> +            }
> +
> +            if (offers && offers->nelts > 0) {
> +                const char *protocol = ap_select_protocol(c, r, r->server,
> +                                                          offers);
> +                if (strcmp(protocol, ap_run_protocol_get(c))) {
> +                    ap_log_rerror(APLOG_MARK, APLOG_DEBUG, 0, r, APLOGNO(02909)
> +                                  "Upgrade selects '%s'", protocol);
> +                    /* Let the client know what we are upgrading to. */
> +                    apr_table_clear(r->headers_out);
> +                    apr_table_setn(r->headers_out, "Upgrade", protocol);
> +                    apr_table_setn(r->headers_out, "Connection", "Upgrade");
> +
> +                    r->status = HTTP_SWITCHING_PROTOCOLS;
> +                    r->status_line = ap_get_status_line(r->status);
> +                    ap_send_interim_response(r, 1);
> +
> +                    ap_switch_protocol(c, r, r->server, protocol);
> +
> +                    /* make sure httpd closes the connection after this */
> +                    c->keepalive = AP_CONN_CLOSE;
> +                    ap_lingering_close(c);
> +
> +                    if (c->sbh) {
> +                        ap_update_child_status_from_conn(c->sbh,
> +                                                         SERVER_CLOSING, c);
> +                    }
> +
> +                    return DONE;
> +                }
> +            }
> +        }
> +    }
> +
> +    return DECLINED;
> +}
> +
> +static int core_upgrade_storage(request_rec *r)
> +{
> +    if ((r->method_number == M_OPTIONS) && r->uri && (r->uri[0] == '*') &&
> +        (r->uri[1] == '\0')) {
> +        return core_upgrade_handler(r);
> +    }
> +    return DECLINED;
> +}
> +
>  static void register_hooks(apr_pool_t *p)
>  {
>      errorlog_hash = apr_hash_make(p);
> @@ -5248,10 +5342,12 @@ static void register_hooks(apr_pool_t *p
[]
> +    ap_hook_map_to_storage(core_upgrade_storage,NULL,NULL,APR_HOOK_REALLY_FIRST);
[]
> +    ap_hook_handler(core_upgrade_handler,NULL,NULL,APR_HOOK_REALLY_FIRST);

I wonder how these handlers interact with mod_proxy_wstunnel which
needs to handle the Upgrade by itself (after the HTTP header has been
forwarded to the backend).

I'm not sure we can upgrade unconditionally really first in the chain.

From dev-return-83679-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 14:01:09 2015
Return-Path: <dev-return-83679-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1C3D017573
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 14:01:09 +0000 (UTC)
Received: (qmail 91061 invoked by uid 500); 2 Sep 2015 14:01:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 90985 invoked by uid 500); 2 Sep 2015 14:01:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 90975 invoked by uid 99); 2 Sep 2015 14:01:08 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 14:01:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 1549F18233E
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 14:01:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.022
X-Spam-Level:
X-Spam-Status: No, score=-0.022 tagged_above=-999 required=6.31
	tests=[RCVD_IN_MSPIKE_H4=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id HoWL0OVEhSjv for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 14:01:01 +0000 (UTC)
Received: from ni.com (skprod2.natinst.com [130.164.80.23])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 7D18620DD8
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 14:01:00 +0000 (UTC)
Received: from us-aus-mgwout2.amer.corp.natinst.com (nb-snip2-1338.natinst.com [130.164.19.135])
	by us-aus-skprod2.natinst.com (8.15.0.59/8.15.0.59) with ESMTP id t82E0qZ2001740
	for <dev@httpd.apache.org>; Wed, 2 Sep 2015 09:00:53 -0500
Received: from [10.2.33.35] ([130.164.14.198])
          by us-aus-mgwout2.amer.corp.natinst.com (Lotus Domino Release 8.5.3FP6 HF1218)
          with ESMTP id 2015090209005316-1095407 ;
          Wed, 2 Sep 2015 09:00:53 -0500 
Subject: Re: [PATCH 57300] mod_session save optimization
Reply-To: dev@httpd.apache.org
References: <55D64DA2.8090309@ni.com>
To: Apache Dev <dev@httpd.apache.org>
From: Paul Spangler <paul.spangler@ni.com>
Message-ID: <55E70114.2040808@ni.com>
Date: Wed, 2 Sep 2015 09:00:52 -0500
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <55D64DA2.8090309@ni.com>
X-MIMETrack: Itemize by SMTP Server on US-AUS-MGWOut2/AUS/H/NIC(Release 8.5.3FP6 HF1218|December
 12, 2014) at 09/02/2015 09:00:53 AM,
	Serialize by Router on US-AUS-MGWOut2/AUS/H/NIC(Release 8.5.3FP6 HF1218|December
 12, 2014) at 09/02/2015 09:00:53 AM,
	Serialize complete at 09/02/2015 09:00:53 AM
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=utf-8; format=flowed
X-Proofpoint-Virus-Version: vendor=fsecure engine=2.50.10432:,, definitions=2015-09-02_06:,,
 signatures=0

On 8/20/2015 4:58 PM, Paul Spangler wrote:
> Hello,
>
> The bug report contains a more detailed explanation of the patch, but
> there are some points I thought might lead to some discussion.
>
> First a quick summary of the issue: mod_session writes out the session
> every request even if there aren't any changes to the data. This makes
> some sense when the session has a max age and the expiry value needs to
> be refreshed. However, there isn't likely to be much benefit in
> repeatedly refreshing the expiry by a few milliseconds, possibly
> generating database traffic each time. This patch proposes a new
> directive to define an interval of time where the expiry doesn't need to
> be refreshed if there are no session data changes.
>
> 1. We had a hard time coming up with a name for the directive. The patch
> goes with SessionExpiryUpdateInterval, being the interval of time that
> may pass before updating the expiry value is required. I don't know if
> there are any existing directives with a similar function that we should
> mimic instead.
>
> 2. The patch includes a behavior change independent of the new directive
> when using sessions without a max age: if the data hasn't changed, don't
> write out the session. Most noticeably, this means new sessions that
> never get data are discarded without being saved.
>
> 3. I wasn't sure how best to add tests for a new directive since the
> test server won't start if the directive is missing. The patch that
> includes the test changes look for the 2.5 version to know the new
> directive is there, and will require a modification if/when the
> directive is back-ported to 2.4 to enable the new tests.
>
> https://bz.apache.org/bugzilla/show_bug.cgi?id=57300
>
> Thanks for your consideration.

Bump. Anyone interested?
-- 
Paul Spangler
LabVIEW R&D
National Instruments

From dev-return-83680-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 14:02:06 2015
Return-Path: <dev-return-83680-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 011E01757D
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 14:02:06 +0000 (UTC)
Received: (qmail 94361 invoked by uid 500); 2 Sep 2015 14:02:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94277 invoked by uid 500); 2 Sep 2015 14:02:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94267 invoked by uid 99); 2 Sep 2015 14:02:05 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 14:02:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 19C03C0F96
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 14:02:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.007
X-Spam-Level:
X-Spam-Status: No, score=-0.007 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id upLKQvNzOXXB for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 14:02:04 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id A79425070E
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 14:02:03 +0000 (UTC)
Received: from [192.168.1.42] (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id B010B15A032F
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 16:01:55 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1692486 [1/2] - in /httpd/httpd/trunk: docs/log-message-tags/ include/ modules/http2/ modules/ssl/ server/
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVPq7G-ujC6jxJ+CWZdXPkM835SYT1HcY5F1mZViNbeVwg@mail.gmail.com>
Date: Wed, 2 Sep 2015 16:01:55 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <E7F22F6B-937A-4559-A791-36CF89940215@greenbytes.de>
References: <20150724120946.26BD4AC0623@hades.apache.org> <CAKQ1sVPq7G-ujC6jxJ+CWZdXPkM835SYT1HcY5F1mZViNbeVwg@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)


> Am 02.09.2015 um 15:16 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> I wonder how these handlers interact with mod_proxy_wstunnel which
> needs to handle the Upgrade by itself (after the HTTP header has been
> forwarded to the backend).
>=20
> I'm not sure we can upgrade unconditionally really first in the chain.

Hmm. Is the   =20
  ap_hook_handler(core_upgrade_handler,NULL,NULL,APR_HOOK_REALLY_FIRST);
called for requests that mod_proxy_wstunnel makes against a backend?

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83681-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 14:04:37 2015
Return-Path: <dev-return-83681-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3D7E117599
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 14:04:37 +0000 (UTC)
Received: (qmail 99695 invoked by uid 500); 2 Sep 2015 14:04:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 99623 invoked by uid 500); 2 Sep 2015 14:04:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 99613 invoked by uid 99); 2 Sep 2015 14:04:36 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 14:04:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 3D54418233E
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 14:04:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 9bYPdIDLNwMU for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 14:04:31 +0000 (UTC)
Received: from mail-yk0-f180.google.com (mail-yk0-f180.google.com [209.85.160.180])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id B8ABF20DD8
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 14:04:30 +0000 (UTC)
Received: by ykei199 with SMTP id i199so10377564yke.0
        for <dev@httpd.apache.org>; Wed, 02 Sep 2015 07:04:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Y7XcM5H9xPBXMC3//loDuIcXJR6y03asLJTR1GgkDUU=;
        b=J6QneeVkAe9Ox/ojkApIdH1tP7fCAmjHoPLOWcDVK3MV5lmCf/qWqxEo7XD82AVlRr
         cFYimx/2S+HBunClEfNTjxLFrF9gaJttOE9zOFn88zkZU5gbOwEdS/RRSgVF64Qs3D23
         lbf6LaXsfuY4i2aMMrh7hc1poEdXLzkYc4tiNHjGUkeic1OF+s6GGjfP6girnXJ4VgNV
         cv3YhUXm5xXPhX/6vIlffUq89gV2p/pFCVYv6iiVbI17/qcdQqMHoaSV3kVJrlW+WFWT
         9Howd/70Uo9MbQmITwkV/UPsU71JrL0TMq3H2pZoa5Xg1NtYaeJQ65hzo6y7X8jxwxSR
         6ORw==
MIME-Version: 1.0
X-Received: by 10.13.225.2 with SMTP id k2mr32709505ywe.122.1441202669362;
 Wed, 02 Sep 2015 07:04:29 -0700 (PDT)
Received: by 10.37.215.12 with HTTP; Wed, 2 Sep 2015 07:04:29 -0700 (PDT)
In-Reply-To: <E7F22F6B-937A-4559-A791-36CF89940215@greenbytes.de>
References: <20150724120946.26BD4AC0623@hades.apache.org>
	<CAKQ1sVPq7G-ujC6jxJ+CWZdXPkM835SYT1HcY5F1mZViNbeVwg@mail.gmail.com>
	<E7F22F6B-937A-4559-A791-36CF89940215@greenbytes.de>
Date: Wed, 2 Sep 2015 10:04:29 -0400
Message-ID: <CALK=YjNXPrJ76iCC76aF5Xhne56aEry-JgPu94UZzh7PR7b=-Q@mail.gmail.com>
Subject: Re: svn commit: r1692486 [1/2] - in /httpd/httpd/trunk:
 docs/log-message-tags/ include/ modules/http2/ modules/ssl/ server/
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Sep 2, 2015 at 10:01 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> Hmm. Is the
>   ap_hook_handler(core_upgrade_handler,NULL,NULL,APR_HOOK_REALLY_FIRST);
> called for requests that mod_proxy_wstunnel makes against a backend?

yes, the guts of mod_proxy is just a handler, so this would run before that.

From dev-return-83682-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 14:09:24 2015
Return-Path: <dev-return-83682-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E8516175C4
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 14:09:23 +0000 (UTC)
Received: (qmail 6880 invoked by uid 500); 2 Sep 2015 14:09:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6799 invoked by uid 500); 2 Sep 2015 14:09:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6789 invoked by uid 99); 2 Sep 2015 14:09:23 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 14:09:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 17003C0F96
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 14:09:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 85JbrIhJI9Wx for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 14:09:15 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 5009520647
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 14:09:15 +0000 (UTC)
Received: from [192.168.1.42] (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 4014D15A00B6
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 16:09:07 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1692486 [1/2] - in /httpd/httpd/trunk: docs/log-message-tags/ include/ modules/http2/ modules/ssl/ server/
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CALK=YjNXPrJ76iCC76aF5Xhne56aEry-JgPu94UZzh7PR7b=-Q@mail.gmail.com>
Date: Wed, 2 Sep 2015 16:09:06 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <1ED05385-F047-4D74-A3D3-B2E63770BFE8@greenbytes.de>
References: <20150724120946.26BD4AC0623@hades.apache.org> <CAKQ1sVPq7G-ujC6jxJ+CWZdXPkM835SYT1HcY5F1mZViNbeVwg@mail.gmail.com> <E7F22F6B-937A-4559-A791-36CF89940215@greenbytes.de> <CALK=YjNXPrJ76iCC76aF5Xhne56aEry-JgPu94UZzh7PR7b=-Q@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

But would it have an "Upgrade: + Connection:" header? I might be wrong, =
but I thought mod_proxy_wstunnel adds those headers before sending the =
request to a backend. So the core_ugprade_handler would not see those.

> Am 02.09.2015 um 16:04 schrieb Eric Covener <covener@gmail.com>:
>=20
> On Wed, Sep 2, 2015 at 10:01 AM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> Hmm. Is the
>>  =
ap_hook_handler(core_upgrade_handler,NULL,NULL,APR_HOOK_REALLY_FIRST);
>> called for requests that mod_proxy_wstunnel makes against a backend?
>=20
> yes, the guts of mod_proxy is just a handler, so this would run before =
that.

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83683-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 14:11:03 2015
Return-Path: <dev-return-83683-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0BAF9175E3
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 14:11:03 +0000 (UTC)
Received: (qmail 10200 invoked by uid 500); 2 Sep 2015 14:10:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10124 invoked by uid 500); 2 Sep 2015 14:10:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10109 invoked by uid 99); 2 Sep 2015 14:10:59 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 14:10:59 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 0FD3C18234B
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 14:10:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.007
X-Spam-Level:
X-Spam-Status: No, score=-0.007 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id oEaUb_SQNSvh for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 14:10:58 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 272B742B59
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 14:10:58 +0000 (UTC)
Received: from [192.168.1.42] (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 3833115A00B6
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 16:10:57 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Subject: proposed backport of mod_h2
Message-Id: <08A80F0E-FB16-4DD4-AA1E-146485EF783D@greenbytes.de>
Date: Wed, 2 Sep 2015 16:10:56 +0200
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
X-Mailer: Apple Mail (2.2104)

As in r1700829. Regression tests run (after small change on apache =
version check in h2.t) on OS X for me.

Cheers,

  Stefan

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83684-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 14:12:07 2015
Return-Path: <dev-return-83684-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 46F1F175F1
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 14:12:07 +0000 (UTC)
Received: (qmail 13931 invoked by uid 500); 2 Sep 2015 14:12:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 13847 invoked by uid 500); 2 Sep 2015 14:12:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 13837 invoked by uid 99); 2 Sep 2015 14:12:06 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 14:12:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 6D5F7F0E12
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 14:12:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id yyXCMC5otF-U for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 14:12:06 +0000 (UTC)
Received: from mail-yk0-f172.google.com (mail-yk0-f172.google.com [209.85.160.172])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id A7150249EB
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 14:12:05 +0000 (UTC)
Received: by ykdg206 with SMTP id g206so10650197ykd.1
        for <dev@httpd.apache.org>; Wed, 02 Sep 2015 07:12:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=qOBPXDdbaIPHffBs1a1EwUsIyXaqrxnqM4KAqCceNdA=;
        b=wLpSRGs0GOulS1FxQCDv/TZ4+kOwVnYMDpW4CIq6ZNNBoU0KjR4h4mBtU/OBuBNwBt
         5sW0q0h5qaRgEGD32yEmFAf8m52F4nmaxKlFM+lUj1rZE1qGnP3nqPrjrvOgXAHTvSjR
         hhvH2cUvNYhJ5FJ4DOZ4KO4qhJ0xm+wkz+rtaqbr6Sq/wjc8Nqs1HkC5Wk9jjgIosjwP
         8/gjYCz5ncNuWuL/b38n/G2KAMOjYWefcM5sxDzF9GpcrDohNaE/0R/s1YmVUQMWjVkA
         OihO6WnMtcojVQq01WmSAgXttNz5jAhgb7LqWZcSgnKRrBf11EyTaaa+mnYD1eYd0es9
         ydkA==
MIME-Version: 1.0
X-Received: by 10.170.110.210 with SMTP id c201mr3835247ykb.1.1441203124971;
 Wed, 02 Sep 2015 07:12:04 -0700 (PDT)
Received: by 10.37.215.12 with HTTP; Wed, 2 Sep 2015 07:12:04 -0700 (PDT)
In-Reply-To: <1ED05385-F047-4D74-A3D3-B2E63770BFE8@greenbytes.de>
References: <20150724120946.26BD4AC0623@hades.apache.org>
	<CAKQ1sVPq7G-ujC6jxJ+CWZdXPkM835SYT1HcY5F1mZViNbeVwg@mail.gmail.com>
	<E7F22F6B-937A-4559-A791-36CF89940215@greenbytes.de>
	<CALK=YjNXPrJ76iCC76aF5Xhne56aEry-JgPu94UZzh7PR7b=-Q@mail.gmail.com>
	<1ED05385-F047-4D74-A3D3-B2E63770BFE8@greenbytes.de>
Date: Wed, 2 Sep 2015 10:12:04 -0400
Message-ID: <CALK=YjPE3viOJVNhekxnX24xtBSESB6N0fU2xQBu_U-8FoZr6g@mail.gmail.com>
Subject: Re: svn commit: r1692486 [1/2] - in /httpd/httpd/trunk:
 docs/log-message-tags/ include/ modules/http2/ modules/ssl/ server/
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Sep 2, 2015 at 10:09 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> But would it have an "Upgrade: + Connection:" header? I might be wrong, but I thought mod_proxy_wstunnel adds those headers before sending the request to a backend. So the core_ugprade_handler would not see those.


That module is not http-to-ws gateway, it's ws-to-ws, so the
normal/frontend request will have all of that stuff from the client.

From dev-return-83685-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 14:19:25 2015
Return-Path: <dev-return-83685-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E804C1763E
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 14:19:24 +0000 (UTC)
Received: (qmail 39855 invoked by uid 500); 2 Sep 2015 14:19:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39771 invoked by uid 500); 2 Sep 2015 14:19:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 39761 invoked by uid 99); 2 Sep 2015 14:19:24 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 14:19:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 18290F0C48
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 14:19:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id EKkXX7KXcb9M for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 14:19:17 +0000 (UTC)
Received: from mail-io0-f180.google.com (mail-io0-f180.google.com [209.85.223.180])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 2DD3050694
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 14:19:17 +0000 (UTC)
Received: by ioii196 with SMTP id i196so21479623ioi.3
        for <dev@httpd.apache.org>; Wed, 02 Sep 2015 07:19:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=hCGQALkcoNwpUfG2iKMY+DHKTml15Y1eQDfoyAHUD30=;
        b=B18RT4jzyjevK6uteuimNnyvZUF6FMdY41wxK1z8Jc1mfntwgYbzg9iF3lBZ2G2VHd
         Jz335vVWMOg7YOQGaPwLm0LhFDeMqWLxulsWKbB9vCVA2CR/Tbz5qharPXisDY++jVTV
         6RgQSF4fTQQH+R2U0vUBruE6poScPIvmaUaPUN2QP2CvN9LLuERhEZtsPH3yARi7UT9W
         y507l0xPYfOwU1OkBER05xfIMZyUlxlECx4XjQq7suJa1QDpPvWeGenC9RixYf5yCgoa
         JaPzgQ2su4/VqVbAhrt+KzAIPZO8RZs23iaUTb8Ln8Ck0GWeYakiR8uTTswnvc3Ndblt
         iyTA==
MIME-Version: 1.0
X-Received: by 10.107.3.23 with SMTP id 23mr12553067iod.132.1441203556799;
 Wed, 02 Sep 2015 07:19:16 -0700 (PDT)
Received: by 10.79.38.74 with HTTP; Wed, 2 Sep 2015 07:19:16 -0700 (PDT)
In-Reply-To: <CALK=YjNXPrJ76iCC76aF5Xhne56aEry-JgPu94UZzh7PR7b=-Q@mail.gmail.com>
References: <20150724120946.26BD4AC0623@hades.apache.org>
	<CAKQ1sVPq7G-ujC6jxJ+CWZdXPkM835SYT1HcY5F1mZViNbeVwg@mail.gmail.com>
	<E7F22F6B-937A-4559-A791-36CF89940215@greenbytes.de>
	<CALK=YjNXPrJ76iCC76aF5Xhne56aEry-JgPu94UZzh7PR7b=-Q@mail.gmail.com>
Date: Wed, 2 Sep 2015 16:19:16 +0200
Message-ID: <CAKQ1sVPBrcqAKK0+sLagGw3_2k5nzm6zHpKSUA3V-qqB2MxiAA@mail.gmail.com>
Subject: Re: svn commit: r1692486 [1/2] - in /httpd/httpd/trunk:
 docs/log-message-tags/ include/ modules/http2/ modules/ssl/ server/
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Wed, Sep 2, 2015 at 4:04 PM, Eric Covener <covener@gmail.com> wrote:
> On Wed, Sep 2, 2015 at 10:01 AM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> Hmm. Is the
>>   ap_hook_handler(core_upgrade_handler,NULL,NULL,APR_HOOK_REALLY_FIRST);
>> called for requests that mod_proxy_wstunnel makes against a backend?
>
> yes, the guts of mod_proxy is just a handler, so this would run before that.

Maybe core_upgrade_handler could check if the Upgrade's protocol is in
Protocols, and do nothing otherwise...

From dev-return-83686-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 14:29:21 2015
Return-Path: <dev-return-83686-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B900B176D5
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 14:29:21 +0000 (UTC)
Received: (qmail 63580 invoked by uid 500); 2 Sep 2015 14:29:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63512 invoked by uid 500); 2 Sep 2015 14:29:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63502 invoked by uid 99); 2 Sep 2015 14:29:21 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 14:29:21 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 7AF6B1AB4CC
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 14:29:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 2L9Yo3vAmq1V for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 14:29:13 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 8C47424C0E
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 14:29:12 +0000 (UTC)
Received: from [192.168.1.42] (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 18DF415A00B6
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 16:29:06 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1692486 [1/2] - in /httpd/httpd/trunk: docs/log-message-tags/ include/ modules/http2/ modules/ssl/ server/
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CALK=YjPE3viOJVNhekxnX24xtBSESB6N0fU2xQBu_U-8FoZr6g@mail.gmail.com>
Date: Wed, 2 Sep 2015 16:29:05 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <DDF8E00D-6256-4717-B82E-9110A7ED116B@greenbytes.de>
References: <20150724120946.26BD4AC0623@hades.apache.org> <CAKQ1sVPq7G-ujC6jxJ+CWZdXPkM835SYT1HcY5F1mZViNbeVwg@mail.gmail.com> <E7F22F6B-937A-4559-A791-36CF89940215@greenbytes.de> <CALK=YjNXPrJ76iCC76aF5Xhne56aEry-JgPu94UZzh7PR7b=-Q@mail.gmail.com> <1ED05385-F047-4D74-A3D3-B2E63770BFE8@greenbytes.de> <CALK=YjPE3viOJVNhekxnX24xtBSESB6N0fU2xQBu_U-8FoZr6g@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)


> Am 02.09.2015 um 16:12 schrieb Eric Covener <covener@gmail.com>:
>=20
> On Wed, Sep 2, 2015 at 10:09 AM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> But would it have an "Upgrade: + Connection:" header? I might be =
wrong, but I thought mod_proxy_wstunnel adds those headers before =
sending the request to a backend. So the core_ugprade_handler would not =
see those.
>=20
>=20
> That module is not http-to-ws gateway, it's ws-to-ws, so the
> normal/frontend request will have all of that stuff from the client.

But *unless* there is someone inside httpd that implements WebSocket =
*and* participates in protocol negotiations *and* is willing to directly =
upgrade to / ALPN select the WebSocket protocol, the protocol switching =
will never trigger.

So, if we imagine some module wanting to implement WebSockets directly =
in httpd, what would it need to do?

- If the client sends http/1.1 requests with "Upgrade: WebSocket", the =
module could propose WebSocket and let the server do the switch. It then =
gets control of the connection. Either it answers the WebSocket directly =
or uses a backend connection somewhere else, this will not be visible to =
the client.
- If the client sends WebSocket in an ALPN negotiation and there is a =
module handling that for the SNI server given, it can take over the =
connection right away.
- If the client expects some WebSocket on a connection *without* any =
HTTP/1.1 Upgrade or TLS ALPN magic, protocol negotiation does not =
trigger and all is as before.

As a last resort, the server can always be configured with a "Protocols" =
without "WebSocket" in it and thus our new negotiation would do nothing.

Perhaps you could make a more detailed description of where the =
implemented Protocols cause a problem?


<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83687-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 14:31:38 2015
Return-Path: <dev-return-83687-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C3E93176E6
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 14:31:38 +0000 (UTC)
Received: (qmail 67003 invoked by uid 500); 2 Sep 2015 14:31:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 66927 invoked by uid 500); 2 Sep 2015 14:31:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 66917 invoked by uid 99); 2 Sep 2015 14:31:38 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 14:31:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id D012EF0E21
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 14:31:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id rYsVg5qOC2OL for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 14:31:31 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 8645720EFB
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 14:31:31 +0000 (UTC)
Received: from [192.168.1.42] (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 1F13515A00B6
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 16:31:30 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1692486 [1/2] - in /httpd/httpd/trunk: docs/log-message-tags/ include/ modules/http2/ modules/ssl/ server/
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVPBrcqAKK0+sLagGw3_2k5nzm6zHpKSUA3V-qqB2MxiAA@mail.gmail.com>
Date: Wed, 2 Sep 2015 16:31:29 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <5A277415-E46F-492B-9D97-C38636410DF8@greenbytes.de>
References: <20150724120946.26BD4AC0623@hades.apache.org> <CAKQ1sVPq7G-ujC6jxJ+CWZdXPkM835SYT1HcY5F1mZViNbeVwg@mail.gmail.com> <E7F22F6B-937A-4559-A791-36CF89940215@greenbytes.de> <CALK=YjNXPrJ76iCC76aF5Xhne56aEry-JgPu94UZzh7PR7b=-Q@mail.gmail.com> <CAKQ1sVPBrcqAKK0+sLagGw3_2k5nzm6zHpKSUA3V-qqB2MxiAA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)


> Am 02.09.2015 um 16:19 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Wed, Sep 2, 2015 at 4:04 PM, Eric Covener <covener@gmail.com> =
wrote:
>> On Wed, Sep 2, 2015 at 10:01 AM, Stefan Eissing
>> <stefan.eissing@greenbytes.de> wrote:
>>> Hmm. Is the
>>>  =
ap_hook_handler(core_upgrade_handler,NULL,NULL,APR_HOOK_REALLY_FIRST);
>>> called for requests that mod_proxy_wstunnel makes against a backend?
>>=20
>> yes, the guts of mod_proxy is just a handler, so this would run =
before that.
>=20
> Maybe core_upgrade_handler could check if the Upgrade's protocol is in
> Protocols, and do nothing otherwise...

It calls ap_select_protocol(...) and that one allows only selections =
from the configured "Protocols" list.

//Stefan

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83688-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 15:12:53 2015
Return-Path: <dev-return-83688-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C66311789A
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 15:12:53 +0000 (UTC)
Received: (qmail 95840 invoked by uid 500); 2 Sep 2015 15:12:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 95781 invoked by uid 500); 2 Sep 2015 15:12:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 95771 invoked by uid 99); 2 Sep 2015 15:12:53 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 15:12:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id C8D46C0C9B
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 15:12:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id ZGBxcm85kD0r for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 15:12:47 +0000 (UTC)
Received: from mail-io0-f171.google.com (mail-io0-f171.google.com [209.85.223.171])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 33CC25070C
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 15:12:47 +0000 (UTC)
Received: by iofh134 with SMTP id h134so23774913iof.0
        for <dev@httpd.apache.org>; Wed, 02 Sep 2015 08:12:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=aTKT1GX+iAvEi1FGk09ThtZ/BqJShhYekYZ5/1YATzw=;
        b=08NLgCHpp1VSiuVrRZ/t1n3ZS4GG2UqFmUT8pCZA6tlTXOhgC7Z/Wl6TaI84WwVaVY
         7bmUqbQTsiNYY0/wtMZxxn77CtOEKBjdi6ONA5RUBAyf87op1Kl0qpuv4prrLg1SWVqI
         PE7Nda9XwixNUf1DDE+enS8JflucLnQGGznTGiQjioICW/JjKy1wEeQbE9fXuMH+MB7c
         bEEd/UgAFx8tGFGBCdxrtINdIyxCy3WMNeeFg+7ySkXAXM82u05bGz4+Pq7qYQI7hiTo
         enpieFjM2vfgqNZmEmId40YYhHcd2whToU/6pFpHXp1VF5OA6Tb1hWMiTRU5AbmwQOA2
         h51Q==
MIME-Version: 1.0
X-Received: by 10.107.14.145 with SMTP id 139mr32473010ioo.37.1441206766834;
 Wed, 02 Sep 2015 08:12:46 -0700 (PDT)
Received: by 10.79.38.74 with HTTP; Wed, 2 Sep 2015 08:12:46 -0700 (PDT)
In-Reply-To: <5A277415-E46F-492B-9D97-C38636410DF8@greenbytes.de>
References: <20150724120946.26BD4AC0623@hades.apache.org>
	<CAKQ1sVPq7G-ujC6jxJ+CWZdXPkM835SYT1HcY5F1mZViNbeVwg@mail.gmail.com>
	<E7F22F6B-937A-4559-A791-36CF89940215@greenbytes.de>
	<CALK=YjNXPrJ76iCC76aF5Xhne56aEry-JgPu94UZzh7PR7b=-Q@mail.gmail.com>
	<CAKQ1sVPBrcqAKK0+sLagGw3_2k5nzm6zHpKSUA3V-qqB2MxiAA@mail.gmail.com>
	<5A277415-E46F-492B-9D97-C38636410DF8@greenbytes.de>
Date: Wed, 2 Sep 2015 17:12:46 +0200
Message-ID: <CAKQ1sVPr9vUQucnmb85n=GnVAGAB-obV=sc_vE21kMmB_yn3sg@mail.gmail.com>
Subject: Re: svn commit: r1692486 [1/2] - in /httpd/httpd/trunk:
 docs/log-message-tags/ include/ modules/http2/ modules/ssl/ server/
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Wed, Sep 2, 2015 at 4:31 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
>
>> Am 02.09.2015 um 16:19 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>
>> On Wed, Sep 2, 2015 at 4:04 PM, Eric Covener <covener@gmail.com> wrote:
>>> On Wed, Sep 2, 2015 at 10:01 AM, Stefan Eissing
>>> <stefan.eissing@greenbytes.de> wrote:
>>>> Hmm. Is the
>>>>  ap_hook_handler(core_upgrade_handler,NULL,NULL,APR_HOOK_REALLY_FIRST);
>>>> called for requests that mod_proxy_wstunnel makes against a backend?
>>>
>>> yes, the guts of mod_proxy is just a handler, so this would run before that.
>>
>> Maybe core_upgrade_handler could check if the Upgrade's protocol is in
>> Protocols, and do nothing otherwise...
>
> It calls ap_select_protocol(...) and that one allows only selections from the configured "Protocols" list.

Hm ok, so here (with "Upgrade: WebSocket" but no "Protocols
WebSocket"), ap_select_protocol() would return "http/1.1" which is the
current protocol, hence we would not enter the
HTTP_SWITCHING_PROTOCOLS code.

I had misread the strcmp() and thought the selected protocol was
compared against the proposed one (Upgrade header).

Thanks for the clarification.

From dev-return-83689-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 16:20:25 2015
Return-Path: <dev-return-83689-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D9B2B17B5B
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 16:20:25 +0000 (UTC)
Received: (qmail 99477 invoked by uid 500); 2 Sep 2015 16:20:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 99396 invoked by uid 500); 2 Sep 2015 16:20:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 99386 invoked by uid 99); 2 Sep 2015 16:20:25 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 16:20:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id EC92C1828A4
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 16:20:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id BJoXxy9diVZQ for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 16:20:17 +0000 (UTC)
Received: from mail-ig0-f194.google.com (mail-ig0-f194.google.com [209.85.213.194])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 1DF7920D7B
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 16:20:17 +0000 (UTC)
Received: by igbbp9 with SMTP id bp9so2427941igb.0
        for <dev@httpd.apache.org>; Wed, 02 Sep 2015 09:20:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=qjk2EHyjiOUg/2RywOl1H2qB/Z4AXWpTAATyYUL6384=;
        b=dYcs6YciPoGoLO0Ca2e4iwpWMxGMD3mKbRWoR/UELSLuNZPGSeUnGpVTRsH8EyMKiI
         jjoftjVd3hc9dzIbiqmAEHLE4nXu7rfCyTRfeOkZnjTseY4RhUf4zQaXMsb7gEut4+w3
         gB1IQ7wNljzMQdpb5uOQET/5S47chvHnPWJuI+sMUBbqr/+trymS9L0Dz7XeDRq/+Sh8
         GeoIQs6eNAh2q6wTh2oznHPpP7NcEtsv6/iXdqvZwGYHpC2JU4zuSyl8IZ68Sq1KDOfa
         dC8SYxQ+NkIP48ucG1KgPR2lKfHmXTgqofrw0zABYk+Qaya0FzNBFbYbPOPrnCG6U5ln
         5sCg==
MIME-Version: 1.0
X-Received: by 10.50.6.16 with SMTP id w16mr4098494igw.74.1441210816089; Wed,
 02 Sep 2015 09:20:16 -0700 (PDT)
Received: by 10.79.38.74 with HTTP; Wed, 2 Sep 2015 09:20:16 -0700 (PDT)
In-Reply-To: <20150813153307.D0EBEAC0734@hades.apache.org>
References: <20150813153307.D0EBEAC0734@hades.apache.org>
Date: Wed, 2 Sep 2015 18:20:16 +0200
Message-ID: <CAKQ1sVOELXgdt9BJR5qYzXVJEBL6Bdj0p9fox49TraYvFof-xg@mail.gmail.com>
Subject: Re: svn commit: r1695727 - in /httpd/httpd/trunk: docs/manual/mod/core.xml
 include/http_core.h server/core.c server/protocol.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Thu, Aug 13, 2015 at 5:33 PM,  <icing@apache.org> wrote:
> Author: icing
> Date: Thu Aug 13 15:33:07 2015
> New Revision: 1695727
>
> URL: http://svn.apache.org/r1695727
> Log:
> new directive ProtocolsHonorOrder, added documentation for Protocols feature, changed preference selection and config merging
>
> Modified:
>     httpd/httpd/trunk/docs/manual/mod/core.xml
[]
>
> Modified: httpd/httpd/trunk/docs/manual/mod/core.xml
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/core.xml?rev=1695727&r1=1695726&r2=1695727&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/docs/manual/mod/core.xml (original)
> +++ httpd/httpd/trunk/docs/manual/mod/core.xml Thu Aug 13 15:33:07 2015
> @@ -3711,6 +3711,71 @@ Protocol https
>
>
>  <directivesynopsis>
> +    <name>Protocols</name>
> +    <description>Protocols available for a server/virtual host</description>
> +    <syntax>Protocols <var>protocol</var> ...</syntax>
> +    <contextlist><context>server config</context><context>virtual host</context></contextlist>
> +    <compatibility>Only available from Apache 2.4.17 and later.</compatibility>
> +
> +    <usage>
> +        <p>This directive specifies the list of protocols supported for a
> +            server/virtual host. The list determines the allowed protocols
> +            a client may negotiate for this server/host.</p>
> +
> +        <p>You only need to set protocols if you want to limit the available
> +            protocols for a server/host. By default, all supported protocols
> +            are available to a client.</p>
> +
> +        <p>For example, if you want to support only HTTP/1.1 for a server, even
> +            though HTTP/2 is available, just specify this protocol only:</p>
> +
> +        <highlight language="config">
> +            Protocols http/1.1
> +        </highlight>

It is not clear to me (still, see [1]) why Protocols would default
like this, and h2 be available for all the vhosts (provided mod_http2
is loaded) unless the above is configured.
IOW, I'd prefer "Protocols http/1.1" to be the default (at least for 2.4.x).

Also, since "http/1.1" is implicit, and ssl_callback_alpn_select() is
unconditionally registered, we can end up negociating proposing
"http/1.1" with the client even if is was not asked (and using ALPN
extensions when not needed).
Couldn't we instead either not register the callback or return
SSL_TLSEXT_ERR_NOACK when no protocol is selected (including when no
Protocols is configured).

I think POLS suggests that...

[]
> +</directivesynopsis>
> +
> +
> +<directivesynopsis>
> +    <name>ProtocolsHonorOrder</name>
> +    <description>Protocols available for a server/virtual host</description>
> +    <syntax>ProtocolsHonorOrder On|Off</syntax>
> +    <default>ProtocolsHonorOrder Off</default>

Again here I'd suggest "On" by default (eg. SSLHonorCipherOrder is
quite recommended today, if that's a valid analogy).

[]
> +</directivesynopsis>

Regards,
Yann.

[1] http://www.mail-archive.com/dev%40httpd.apache.org/msg62160.html

From dev-return-83690-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 16:25:51 2015
Return-Path: <dev-return-83690-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CB7BE17B9E
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 16:25:51 +0000 (UTC)
Received: (qmail 16569 invoked by uid 500); 2 Sep 2015 16:25:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16393 invoked by uid 500); 2 Sep 2015 16:25:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16258 invoked by uid 99); 2 Sep 2015 16:25:47 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 16:25:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 10CDB1828A4
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 16:25:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id bfg_mFRX2wGN for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 16:25:46 +0000 (UTC)
Received: from mail-yk0-f177.google.com (mail-yk0-f177.google.com [209.85.160.177])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 5989042B27
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 16:25:46 +0000 (UTC)
Received: by ykdg206 with SMTP id g206so15310381ykd.1
        for <dev@httpd.apache.org>; Wed, 02 Sep 2015 09:25:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=gXzW38feeqbHj+EODPandF7TZErYAK8iE5+Asyo1yAU=;
        b=bcF+Y9X8EcfijeqWHKOckiaUrTor56GxOjTXNRpkJmwY49RoOOTNRb0Sd3hpHsXFWU
         7BK4HoYw/MH83EcD+CG/27rYXmq/c3zB9diQktWHpDBIqG1E8nEj7Qa46PmhOFyxZHw1
         lF8dyFslnCM/9OPCAlxTd7JZ7/er7vdPdcLpzsyW+R37zdR5AUYTFvLo21Qyllu5UkGP
         Jpbj0eIRRRvSmHkE+qStzztLXXACUYKbeAxSVYTqgnAXVftiny9C8yiZActS4tZ20Vo2
         g3sO550HEN/nAF1aujJXx9V/6tQmwBWiXNw7YTrQLbpBAASp18zfbQ2ml6cMIp5IcNii
         fwug==
MIME-Version: 1.0
X-Received: by 10.170.110.210 with SMTP id c201mr4650145ykb.1.1441211146010;
 Wed, 02 Sep 2015 09:25:46 -0700 (PDT)
Received: by 10.37.215.12 with HTTP; Wed, 2 Sep 2015 09:25:45 -0700 (PDT)
In-Reply-To: <CAKQ1sVOELXgdt9BJR5qYzXVJEBL6Bdj0p9fox49TraYvFof-xg@mail.gmail.com>
References: <20150813153307.D0EBEAC0734@hades.apache.org>
	<CAKQ1sVOELXgdt9BJR5qYzXVJEBL6Bdj0p9fox49TraYvFof-xg@mail.gmail.com>
Date: Wed, 2 Sep 2015 12:25:45 -0400
Message-ID: <CALK=YjN9LkRdkUcbySpJk+BkmpNs0yBVgYgXFeLg3D6V__66gQ@mail.gmail.com>
Subject: Re: svn commit: r1695727 - in /httpd/httpd/trunk: docs/manual/mod/core.xml
 include/http_core.h server/core.c server/protocol.c
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Sep 2, 2015 at 12:20 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> Again here I'd suggest "On" by default (eg. SSLHonorCipherOrder is
> quite recommended today, if that's a valid analogy).


+1

-- 
Eric Covener
covener@gmail.com

From dev-return-83691-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 16:53:05 2015
Return-Path: <dev-return-83691-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4CD8117CAB
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 16:53:05 +0000 (UTC)
Received: (qmail 86329 invoked by uid 500); 2 Sep 2015 16:53:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86267 invoked by uid 500); 2 Sep 2015 16:53:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86257 invoked by uid 99); 2 Sep 2015 16:53:04 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 16:53:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 55369F0C62
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 16:53:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.998
X-Spam-Level: **
X-Spam-Status: No, score=2.998 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id bMnO58rOVyEa for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 16:53:03 +0000 (UTC)
Received: from mail-io0-f181.google.com (mail-io0-f181.google.com [209.85.223.181])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 517B6255AC
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 16:53:03 +0000 (UTC)
Received: by ioiz6 with SMTP id z6so27269881ioi.2
        for <dev@httpd.apache.org>; Wed, 02 Sep 2015 09:53:02 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=gtECLvf2en5To8R5ssab8v0jmTi80xPYs25q6eREVK0=;
        b=MvLOYfcDQZIo8LOPGHmXUvHdkzsgUDpQqu6ekYOwvUkOmJWpurMnjiIrnFRqIip86J
         9WFZ0SeYJ8Gly+DY1g6l4/1h/HbkhwWZ+JHLAUHCRK6CkfHgijhCb58wcUn7nuawSFvC
         1b4Bw7Jpj70Zo9KJQleIrgd9A0iT2KJ2aNiTXt8ZFNtVXKcgrPMJ8LF3R+fq4KIkX50L
         0wCopIOUN6dZxRmpqk0jbmQQlCIgxkuk7PDZH4QQhM7WAwU6P+6JOfENAwIGpjrROaEs
         brbJ5roN49rhTyO28vrB7XMnmBjyiZKX1RWPPMlVfwMiYT44Kijzdk+ypoU/D4CAmC1f
         EQuA==
X-Gm-Message-State: ALoCoQm+rO34CfHQw1gS5Jt5yQqJi7/E3uq5tqMF/d9x8Fh4j4PXvxzsa9sR/qBl/5DSP8G4yuQ9
MIME-Version: 1.0
X-Received: by 10.107.166.136 with SMTP id p130mr35874246ioe.163.1441212782585;
 Wed, 02 Sep 2015 09:53:02 -0700 (PDT)
Received: by 10.107.16.8 with HTTP; Wed, 2 Sep 2015 09:53:02 -0700 (PDT)
X-Originating-IP: [76.252.112.72]
In-Reply-To: <CAKQ1sVOELXgdt9BJR5qYzXVJEBL6Bdj0p9fox49TraYvFof-xg@mail.gmail.com>
References: <20150813153307.D0EBEAC0734@hades.apache.org>
	<CAKQ1sVOELXgdt9BJR5qYzXVJEBL6Bdj0p9fox49TraYvFof-xg@mail.gmail.com>
Date: Wed, 2 Sep 2015 11:53:02 -0500
Message-ID: <CACsi250pqkzeyG9b3niaoZmZCaNVTQoGuXgLDEGrQNJAQGor6w@mail.gmail.com>
Subject: Re: svn commit: r1695727 - in /httpd/httpd/trunk: docs/manual/mod/core.xml
 include/http_core.h server/core.c server/protocol.c
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1141f392f3c407051ec67f5b

--001a1141f392f3c407051ec67f5b
Content-Type: text/plain; charset=UTF-8

On Wed, Sep 2, 2015 at 11:20 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

>
> It is not clear to me (still, see [1]) why Protocols would default
> like this, and h2 be available for all the vhosts (provided mod_http2
> is loaded) unless the above is configured.
> IOW, I'd prefer "Protocols http/1.1" to be the default (at least for
> 2.4.x).
>
> Also, since "http/1.1" is implicit, and ssl_callback_alpn_select() is
> unconditionally registered, we can end up negociating proposing
> "http/1.1" with the client even if is was not asked (and using ALPN
> extensions when not needed).
>

Just a side thought... we are still honoring http/1.0.  Wouldn't http/1 be
more reflective of the state of the protocol (e.g. http/1.0 or http/1.1 are
honored)?

Or do we intend to distinguish these and permit only one or the other
(in which case, http/1 might still be correct in this case, but the user
could alternately specify http/1.1 to permit only 1.1 negotiation?)

--001a1141f392f3c407051ec67f5b
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On W=
ed, Sep 2, 2015 at 11:20 AM, Yann Ylavic <span dir=3D"ltr">&lt;<a href=3D"m=
ailto:ylavic.dev@gmail.com" target=3D"_blank">ylavic.dev@gmail.com</a>&gt;<=
/span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8=
ex;border-left:1px #ccc solid;padding-left:1ex"><div><div class=3D"h5"><br>
</div></div>It is not clear to me (still, see [1]) why Protocols would defa=
ult<br>
like this, and h2 be available for all the vhosts (provided mod_http2<br>
is loaded) unless the above is configured.<br>
IOW, I&#39;d prefer &quot;Protocols http/1.1&quot; to be the default (at le=
ast for 2.4.x).<br>
<br>
Also, since &quot;http/1.1&quot; is implicit, and ssl_callback_alpn_select(=
) is<br>
unconditionally registered, we can end up negociating proposing<br>
&quot;http/1.1&quot; with the client even if is was not asked (and using AL=
PN<br>
extensions when not needed).<br></blockquote><div><br></div><div>Just a sid=
e thought... we are still honoring http/1.0.=C2=A0 Wouldn&#39;t http/1 be=
=C2=A0</div><div>more reflective of the state of the protocol (e.g. http/1.=
0 or http/1.1 are=C2=A0</div><div>honored)?</div><div><br></div><div>Or do =
we intend to distinguish these and permit only one or the other=C2=A0</div>=
<div>(in which case, http/1 might still be correct in this case, but the us=
er=C2=A0</div><div>could alternately specify http/1.1 to permit only 1.1 ne=
gotiation?)</div></div><br></div></div>

--001a1141f392f3c407051ec67f5b--

From dev-return-83692-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 17:44:09 2015
Return-Path: <dev-return-83692-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 932C017EAD
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 17:44:09 +0000 (UTC)
Received: (qmail 1915 invoked by uid 500); 2 Sep 2015 17:44:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 1840 invoked by uid 500); 2 Sep 2015 17:44:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 1830 invoked by uid 99); 2 Sep 2015 17:44:09 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 17:44:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B5D06182108
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 17:44:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.995
X-Spam-Level: **
X-Spam-Status: No, score=2.995 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, MIME_QP_LONG_LINE=0.001,
	RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id jlU192BIT8oq for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 17:44:00 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 21B2520647
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 17:44:00 +0000 (UTC)
Received: from [192.168.178.55] (unknown [84.150.86.154])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 6154D15A047D
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 19:43:58 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: multipart/alternative;
	boundary=Apple-Mail-CB300A28-AE2E-4C91-A974-BAE0728F984F
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (1.0)
Subject: Re: svn commit: r1695727 - in /httpd/httpd/trunk: docs/manual/mod/core.xml include/http_core.h server/core.c server/protocol.c
Message-Id: <CE703757-802C-420B-BF84-3226438837CF@greenbytes.de>
Date: Wed, 2 Sep 2015 19:43:57 +0200
References: <20150813153307.D0EBEAC0734@hades.apache.org> <CAKQ1sVOELXgdt9BJR5qYzXVJEBL6Bdj0p9fox49TraYvFof-xg@mail.gmail.com> <CACsi250pqkzeyG9b3niaoZmZCaNVTQoGuXgLDEGrQNJAQGor6w@mail.gmail.com>
In-Reply-To: <CACsi250pqkzeyG9b3niaoZmZCaNVTQoGuXgLDEGrQNJAQGor6w@mail.gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
X-Mailer: iPhone Mail (12H321)


--Apple-Mail-CB300A28-AE2E-4C91-A974-BAE0728F984F
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable

We can choose any string we want, but for ALPN negotiation there is only htt=
p/1.1 defined. We could of course translate that but then we need to explain=
 somewhere what we mean by it.

For the Upgrade case, we could ap_get_protocol make return exactly what the c=
lient sent us. But accomodating for http/1.0 and 0.9 in case of Upgrade soun=
ds rather esoteric. I would rather keep it simple. The exact http version is=
 available at the request_rec for anyone who really cares.=20

> Am 02.09.2015 um 18:53 schrieb William A Rowe Jr <wrowe@rowe-clan.net>:
>=20
>> On Wed, Sep 2, 2015 at 11:20 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote=
:
>>=20
>> It is not clear to me (still, see [1]) why Protocols would default
>> like this, and h2 be available for all the vhosts (provided mod_http2
>> is loaded) unless the above is configured.
>> IOW, I'd prefer "Protocols http/1.1" to be the default (at least for 2.4.=
x).
>>=20
>> Also, since "http/1.1" is implicit, and ssl_callback_alpn_select() is
>> unconditionally registered, we can end up negociating proposing
>> "http/1.1" with the client even if is was not asked (and using ALPN
>> extensions when not needed).
>=20
> Just a side thought... we are still honoring http/1.0.  Wouldn't http/1 be=
=20
> more reflective of the state of the protocol (e.g. http/1.0 or http/1.1 ar=
e=20
> honored)?
>=20
> Or do we intend to distinguish these and permit only one or the other=20
> (in which case, http/1 might still be correct in this case, but the user=20=

> could alternately specify http/1.1 to permit only 1.1 negotiation?)
>=20

--Apple-Mail-CB300A28-AE2E-4C91-A974-BAE0728F984F
Content-Type: text/html;
	charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><head><meta http-equiv=3D"content-type" content=3D"text/html; charset=3D=
utf-8"></head><body dir=3D"auto"><div>We can choose any string we want, but f=
or ALPN negotiation there is only http/1.1 defined. We could of course trans=
late that but then we need to explain somewhere what we mean by it.</div><di=
v><br></div><div>For the Upgrade case, we could ap_get_protocol make return e=
xactly what the client sent us. But accomodating for http/1.0 and 0.9 in cas=
e of Upgrade sounds rather esoteric. I would rather keep it simple. The exac=
t http version is available at the request_rec for anyone who really cares.&=
nbsp;</div><div><br></div><div>Am 02.09.2015 um 18:53 schrieb William A Rowe=
 Jr &lt;<a href=3D"mailto:wrowe@rowe-clan.net">wrowe@rowe-clan.net</a>&gt;:<=
br><br></div><blockquote type=3D"cite"><div><div dir=3D"ltr"><div class=3D"g=
mail_extra"><div class=3D"gmail_quote">On Wed, Sep 2, 2015 at 11:20 AM, Yann=
 Ylavic <span dir=3D"ltr">&lt;<a href=3D"mailto:ylavic.dev@gmail.com" target=
=3D"_blank">ylavic.dev@gmail.com</a>&gt;</span> wrote:<br><blockquote class=3D=
"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-=
left:1ex"><div><div class=3D"h5"><br>
</div></div>It is not clear to me (still, see [1]) why Protocols would defau=
lt<br>
like this, and h2 be available for all the vhosts (provided mod_http2<br>
is loaded) unless the above is configured.<br>
IOW, I'd prefer "Protocols http/1.1" to be the default (at least for 2.4.x).=
<br>
<br>
Also, since "http/1.1" is implicit, and ssl_callback_alpn_select() is<br>
unconditionally registered, we can end up negociating proposing<br>
"http/1.1" with the client even if is was not asked (and using ALPN<br>
extensions when not needed).<br></blockquote><div><br></div><div>Just a side=
 thought... we are still honoring http/1.0.&nbsp; Wouldn't http/1 be&nbsp;</=
div><div>more reflective of the state of the protocol (e.g. http/1.0 or http=
/1.1 are&nbsp;</div><div>honored)?</div><div><br></div><div>Or do we intend t=
o distinguish these and permit only one or the other&nbsp;</div><div>(in whi=
ch case, http/1 might still be correct in this case, but the user&nbsp;</div=
><div>could alternately specify http/1.1 to permit only 1.1 negotiation?)</d=
iv></div><br></div></div>
</div></blockquote></body></html>=

--Apple-Mail-CB300A28-AE2E-4C91-A974-BAE0728F984F--

From dev-return-83693-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 17:55:09 2015
Return-Path: <dev-return-83693-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B813317F2D
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 17:55:09 +0000 (UTC)
Received: (qmail 23110 invoked by uid 500); 2 Sep 2015 17:55:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23034 invoked by uid 500); 2 Sep 2015 17:55:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23022 invoked by uid 99); 2 Sep 2015 17:55:09 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 17:55:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id CC898F0EDE
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 17:55:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.009
X-Spam-Level:
X-Spam-Status: No, score=-0.009 tagged_above=-999 required=6.31
	tests=[MIME_QP_LONG_LINE=0.001, SPF_PASS=-0.001,
	T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id ufUg2S-GkkvO for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 17:55:03 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 8F0BF5070D
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 17:55:02 +0000 (UTC)
Received: from [192.168.178.55] (unknown [84.150.86.154])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 40A2A15A03EC
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 19:55:00 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: svn commit: r1695727 - in /httpd/httpd/trunk: docs/manual/mod/core.xml include/http_core.h server/core.c server/protocol.c
Message-Id: <96991731-9044-4977-B666-8A46F5B1C281@greenbytes.de>
Date: Wed, 2 Sep 2015 19:54:59 +0200
References: <20150813153307.D0EBEAC0734@hades.apache.org> <CAKQ1sVOELXgdt9BJR5qYzXVJEBL6Bdj0p9fox49TraYvFof-xg@mail.gmail.com>
In-Reply-To: <CAKQ1sVOELXgdt9BJR5qYzXVJEBL6Bdj0p9fox49TraYvFof-xg@mail.gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
X-Mailer: iPhone Mail (12H321)

If we want to be more safe, we can change the Protocols default to just http=
/1.1. Also the default for ordering we can change, np.=20

Other opinions?=20

For ALPN, afaik the callback only gets triggered if the client actually send=
s ALPN in its hello. Since "http/1.1" is the only identifier defined in the s=
tandard (for http version < 2), we cannot send any 1.0 or 0.9. And if the cl=
ient does, it's an unidentified thing. ALPN says that the server is free to s=
elect even a protocol not mentioned in the client hello. So sending back "ht=
tp/1.1" in case server/client wishes do not overlap is fine too. Either the c=
lient reconsiders or closes the connection.=20

Legacy clients will not send ALPN, so the whole handshake will work as befor=
e. (modulo bugs)

> Am 02.09.2015 um 18:20 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
>> On Thu, Aug 13, 2015 at 5:33 PM,  <icing@apache.org> wrote:
>> Author: icing
>> Date: Thu Aug 13 15:33:07 2015
>> New Revision: 1695727
>>=20
>> URL: http://svn.apache.org/r1695727
>> Log:
>> new directive ProtocolsHonorOrder, added documentation for Protocols feat=
ure, changed preference selection and config merging
>>=20
>> Modified:
>>    httpd/httpd/trunk/docs/manual/mod/core.xml
> []
>>=20
>> Modified: httpd/httpd/trunk/docs/manual/mod/core.xml
>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/core.=
xml?rev=3D1695727&r1=3D1695726&r2=3D1695727&view=3Ddiff
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D
>> --- httpd/httpd/trunk/docs/manual/mod/core.xml (original)
>> +++ httpd/httpd/trunk/docs/manual/mod/core.xml Thu Aug 13 15:33:07 2015
>> @@ -3711,6 +3711,71 @@ Protocol https
>>=20
>>=20
>> <directivesynopsis>
>> +    <name>Protocols</name>
>> +    <description>Protocols available for a server/virtual host</descript=
ion>
>> +    <syntax>Protocols <var>protocol</var> ...</syntax>
>> +    <contextlist><context>server config</context><context>virtual host</=
context></contextlist>
>> +    <compatibility>Only available from Apache 2.4.17 and later.</compati=
bility>
>> +
>> +    <usage>
>> +        <p>This directive specifies the list of protocols supported for a=

>> +            server/virtual host. The list determines the allowed protoco=
ls
>> +            a client may negotiate for this server/host.</p>
>> +
>> +        <p>You only need to set protocols if you want to limit the avail=
able
>> +            protocols for a server/host. By default, all supported proto=
cols
>> +            are available to a client.</p>
>> +
>> +        <p>For example, if you want to support only HTTP/1.1 for a serve=
r, even
>> +            though HTTP/2 is available, just specify this protocol only:=
</p>
>> +
>> +        <highlight language=3D"config">
>> +            Protocols http/1.1
>> +        </highlight>
>=20
> It is not clear to me (still, see [1]) why Protocols would default
> like this, and h2 be available for all the vhosts (provided mod_http2
> is loaded) unless the above is configured.
> IOW, I'd prefer "Protocols http/1.1" to be the default (at least for 2.4.x=
).
>=20
> Also, since "http/1.1" is implicit, and ssl_callback_alpn_select() is
> unconditionally registered, we can end up negociating proposing
> "http/1.1" with the client even if is was not asked (and using ALPN
> extensions when not needed).
> Couldn't we instead either not register the callback or return
> SSL_TLSEXT_ERR_NOACK when no protocol is selected (including when no
> Protocols is configured).
>=20
> I think POLS suggests that...
>=20
> []
>> +</directivesynopsis>
>> +
>> +
>> +<directivesynopsis>
>> +    <name>ProtocolsHonorOrder</name>
>> +    <description>Protocols available for a server/virtual host</descript=
ion>
>> +    <syntax>ProtocolsHonorOrder On|Off</syntax>
>> +    <default>ProtocolsHonorOrder Off</default>
>=20
> Again here I'd suggest "On" by default (eg. SSLHonorCipherOrder is
> quite recommended today, if that's a valid analogy).
>=20
> []
>> +</directivesynopsis>
>=20
> Regards,
> Yann.
>=20
> [1] http://www.mail-archive.com/dev%40httpd.apache.org/msg62160.html

From dev-return-83694-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 21:41:56 2015
Return-Path: <dev-return-83694-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3484818B05
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 21:41:56 +0000 (UTC)
Received: (qmail 45670 invoked by uid 500); 2 Sep 2015 21:41:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 45589 invoked by uid 500); 2 Sep 2015 21:41:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 45579 invoked by uid 99); 2 Sep 2015 21:41:54 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 21:41:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 66AE6F0F79
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 21:41:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id jZuBmSyYe9tC for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 21:41:49 +0000 (UTC)
Received: from mail-io0-f170.google.com (mail-io0-f170.google.com [209.85.223.170])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 4BB2A42B27
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 21:41:49 +0000 (UTC)
Received: by ioii196 with SMTP id i196so36435008ioi.3
        for <dev@httpd.apache.org>; Wed, 02 Sep 2015 14:41:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=AKSfVjf2d+B6NkCFFA39ECfo2q0bSCSU/8MsryWdULc=;
        b=hryMIKWBfW77/Z1JURP6mWJ7dHnB9sti33tcEep8og1nWEb2g3SKElkeowh09W6Hhe
         RVPeT0L81gd/dBhONayt8ZhvR+DXbx25PJrCODCHgbGRjqJSZQFbSO5aQtyFDwbhX9Am
         ZjmPLLYfqUPXQR78xSx7aT388iOhqLsMpEwzuDvi+tqrKGDmO4QiVUxWFqhtCOWnyYZU
         K8tToCAhpToHrjUZGRli60uHbH/PNvZUEPx9KDtN+ZqyQu9UeAEr42abEOqWEe1e5TJV
         3U/AYnHqy6Ml2eadvipzpcTbg0ChiArcRqnrZKLV5ACoh2GNaRP5WigJdmXsKszKp3jJ
         Es7g==
MIME-Version: 1.0
X-Received: by 10.107.3.23 with SMTP id 23mr15941594iod.132.1441230102762;
 Wed, 02 Sep 2015 14:41:42 -0700 (PDT)
Received: by 10.79.38.74 with HTTP; Wed, 2 Sep 2015 14:41:42 -0700 (PDT)
In-Reply-To: <CACsi252Rmd2qLM-i1ro5qQeUT-P+3k+CNZtECqhb5Kv+9w1Ckg@mail.gmail.com>
References: <20150827121400.0E35EAC0113@hades.apache.org>
	<CACsi252Rmd2qLM-i1ro5qQeUT-P+3k+CNZtECqhb5Kv+9w1Ckg@mail.gmail.com>
Date: Wed, 2 Sep 2015 23:41:42 +0200
Message-ID: <CAKQ1sVMR+-4z1z3BGATzh8Ffd-H2+9YBahtmAme5r+zJfGzZoA@mail.gmail.com>
Subject: Re: svn commit: r1698133 - in /httpd/httpd/trunk: include/httpd.h
 modules/http2/h2_switch.c server/protocol.c server/util.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Thu, Aug 27, 2015 at 5:06 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
>
> On Aug 27, 2015 7:14 AM, <icing@apache.org> wrote:
>>
>> Author: icing
>> Date: Thu Aug 27 12:13:59 2015
>> New Revision: 1698133
>>
>> URL: http://svn.apache.org/r1698133
>> Log:
>> giving ap_array_index a start parameter, adding ap_array_contains
>>
>
>>   */
>> -AP_DECLARE(int) ap_array_index(const apr_array_header_t *array, const
>> char *s);
>> +AP_DECLARE(int) ap_array_index(const apr_array_header_t *array,
>> +                               const char *s,
>> +                               apr_size_t start);
>
> You want the type of rv of _index to correspond to the start input to rv,
> no?  E.g.
>
> int n = -1, count = 0;
> while ((n = ap_array_index(arr, findtag, n + 1)) >= 0)
>     ++count;
>
> sizeof(int) does not have to equal sizeof(apr_size_t).  But for indexes I
> believe it's fine.  The alternative is apr_ssize_t for both start arg and
> rv.

Or use the same type as array->nelts: int?
The conversion from unsigned to signed and (possible) sizeof mixing
looks incorrect to me.

Also, maybe ap_array_string_index would be a better name since arrays
contain any pointer (likewise
s/ap_array_contains/ap_array_has_string/g).
We could then create new ones for other types when/if necessary (or
add them to APR by appending a single r :)

From dev-return-83695-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  2 22:07:23 2015
Return-Path: <dev-return-83695-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 16F1618CEB
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  2 Sep 2015 22:07:23 +0000 (UTC)
Received: (qmail 19936 invoked by uid 500); 2 Sep 2015 22:07:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 19861 invoked by uid 500); 2 Sep 2015 22:07:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 19851 invoked by uid 99); 2 Sep 2015 22:07:22 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2015 22:07:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 35A2018234B
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 22:07:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id oljn20H4nArK for <dev@httpd.apache.org>;
	Wed,  2 Sep 2015 22:07:17 +0000 (UTC)
Received: from mail-ig0-f181.google.com (mail-ig0-f181.google.com [209.85.213.181])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 1C5F420752
	for <dev@httpd.apache.org>; Wed,  2 Sep 2015 22:07:17 +0000 (UTC)
Received: by igbni9 with SMTP id ni9so25599508igb.0
        for <dev@httpd.apache.org>; Wed, 02 Sep 2015 15:07:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=hDUbxQAhVNVufnNXohNG7qMPvUS0okFJ7xZBSeSOAnw=;
        b=Aw4f3aIX1l+oEHaSmevOyndYRLQj3LQBjbZCzqWXQgCK7d8BF9pqf+TKyhj8mri5BD
         J9o9nkoQgL+LxhP4Rr2/lOieggIRRzap2gcY1aZjXdMOBhQztb1mF2I3U5g+Yl0kDkHY
         DU6EtfMryr8QvkwkNb/y7uqrfAhwCh+MmXSSJP2sF68vISgsLUmXOmvE8ikvvZXy3n96
         w0MVYZgsEH9mZ6FbHPHUjzEcVxj2qm5hJ+jfpjUFENhMK8JaLErnRtgbsCZJfBgphcjW
         HHrz2X4PPAuC/rxxeN3J8BJ8jvQqmUKS51jbIj+Z5jNyn2ai1iYrjUIyRhOr6gc4GcqJ
         Q22A==
MIME-Version: 1.0
X-Received: by 10.50.43.134 with SMTP id w6mr7061721igl.74.1441231630082; Wed,
 02 Sep 2015 15:07:10 -0700 (PDT)
Received: by 10.79.38.74 with HTTP; Wed, 2 Sep 2015 15:07:10 -0700 (PDT)
In-Reply-To: <20150827121400.0E35EAC0113@hades.apache.org>
References: <20150827121400.0E35EAC0113@hades.apache.org>
Date: Thu, 3 Sep 2015 00:07:10 +0200
Message-ID: <CAKQ1sVMkacyiC+wO7pF311+sgxjS1QX9NNH6us+53sOs2J+hMA@mail.gmail.com>
Subject: Re: svn commit: r1698133 - in /httpd/httpd/trunk: include/httpd.h
 modules/http2/h2_switch.c server/protocol.c server/util.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Thu, Aug 27, 2015 at 2:13 PM,  <icing@apache.org> wrote:
>
> Modified: httpd/httpd/trunk/server/util.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/server/util.c?rev=1698133&r1=1698132&r2=1698133&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/server/util.c (original)
> +++ httpd/httpd/trunk/server/util.c Thu Aug 27 12:13:59 2015
> @@ -3149,15 +3149,23 @@ AP_DECLARE(char *) ap_get_exec_line(apr_
>      return apr_pstrndup(p, buf, k);
>  }
>
> -AP_DECLARE(int) ap_array_index(const apr_array_header_t *array, const char *s)
> +AP_DECLARE(int) ap_array_index(const apr_array_header_t *array,
> +                               const char *s,
> +                               apr_size_t start)
>  {
> -    int i;
> -    for (i = 0; i < array->nelts; i++) {
> +    apr_size_t i;

Maybe here:
    if (start < 0) {
        return -1;
    }
?

> +    for (i = start; i < array->nelts; i++) {
>          const char *p = APR_ARRAY_IDX(array, i, const char *);
>          if (!strcmp(p, s)) {
> -            return i;
> +            return (int)i;
>          }
>      }
>      return -1;
>  }

From dev-return-83696-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep  3 00:08:57 2015
Return-Path: <dev-return-83696-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 733B8175A5
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Sep 2015 00:08:57 +0000 (UTC)
Received: (qmail 86339 invoked by uid 500); 3 Sep 2015 00:08:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86259 invoked by uid 500); 3 Sep 2015 00:08:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86249 invoked by uid 99); 3 Sep 2015 00:08:57 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2015 00:08:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 9EF6D18230B
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 00:08:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0
X-Spam-Level:
X-Spam-Status: No, score=0 tagged_above=-999 required=6.31 tests=[none]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 0CSuJ1LUhXvA for <dev@httpd.apache.org>;
	Thu,  3 Sep 2015 00:08:51 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 09DFF20EFB
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 00:08:50 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id BF53C211CF
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 02:08:41 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id WAXJz1f3zotA for <dev@httpd.apache.org>;
	Thu,  3 Sep 2015 02:08:41 +0200 (CEST)
Received: from [10.202.65.180] (CPE-110-146-128-253.knmu.knt.bigpond.net.au [110.146.128.253])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id A65CF20BC1
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 02:08:40 +0200 (CEST)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: NormW <normw@gknw.net>
Subject: r1700777 - h2_stream.c
Message-ID: <55E78F54.4060603@gknw.net>
Date: Thu, 3 Sep 2015 10:07:48 +1000
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

hi,
If not mistaken, on the latest httpd-trunk\modules\http2 update:

> D:\Projects\svn\httpd-trunk\modules\http2>svn diff
> Index: h2_session.c
> ===================================================================
> --- h2_session.c        (revision 1700915)
> +++ h2_session.c        (working copy)
> @@ -259,8 +259,9 @@
>                                 const nghttp2_frame *frame, void *userp)
>  {
>      /* This starts a new stream. */
> +    int rv;
>      (void)ngh2;
> -    int rv = stream_open((h2_session *)userp, frame->hd.stream_id);
> +    rv = stream_open((h2_session *)userp, frame->hd.stream_id);
>      if (rv != NGHTTP2_ERR_CALLBACK_FAILURE) {
>        /* on_header_cb or on_frame_recv_cb will dectect that stream
>           does not exist and submit RST_STREAM. */

Otherwise compiles fine.
Norm

From dev-return-83697-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep  3 00:32:29 2015
Return-Path: <dev-return-83697-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 21B06176B0
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Sep 2015 00:32:29 +0000 (UTC)
Received: (qmail 29333 invoked by uid 500); 3 Sep 2015 00:32:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29274 invoked by uid 500); 3 Sep 2015 00:32:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29263 invoked by uid 99); 3 Sep 2015 00:32:28 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2015 00:32:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id D34D2F0F70
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 00:32:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.999
X-Spam-Level:
X-Spam-Status: No, score=0.999 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_MSPIKE_H2=-0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 2As2W48IayNa for <dev@httpd.apache.org>;
	Thu,  3 Sep 2015 00:32:21 +0000 (UTC)
Received: from fed1rmfepo102.cox.net (fed1rmfepo102.cox.net [68.230.241.144])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id BFB8442B27
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 00:32:20 +0000 (UTC)
Received: from fed1rmimpo109 ([68.230.241.158]) by fed1rmfepo102.cox.net
          (InterMail vM.8.01.05.15 201-2260-151-145-20131218) with ESMTP
          id <20150903003212.WEBC25639.fed1rmfepo102.cox.net@fed1rmimpo109>
          for <dev@httpd.apache.org>; Wed, 2 Sep 2015 20:32:12 -0400
Received: from [192.168.1.33] ([98.176.34.113])
	by fed1rmimpo109 with cox
	id CQY51r00C2STVfm01QY8rv; Wed, 02 Sep 2015 20:32:11 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020206.55E7950C.00BB,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=2.0 cv=MbGyTeDf c=1 sm=1
 a=8xCO7h6kmYZdHn5tUOQhsw==:17 a=LrjODJgKAAAA:8 a=oIfyUS1vRZSR2ZkKEBcA:9
 a=QEXdDO2ut3YA:10 a=8xCO7h6kmYZdHn5tUOQhsw==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; auth=pass (PLAIN) smtp.auth=glewis63@cox.net
Message-ID: <55E79487.2050205@gknw.net>
Date: Wed, 02 Sep 2015 17:29:59 -0700
From: Gregg Smith <gls@gknw.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.28) Gecko/20120306 Thunderbird/3.1.20
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: r1700777 - h2_stream.c
References: <55E78F54.4060603@gknw.net>
In-Reply-To: <55E78F54.4060603@gknw.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi Norm,

I need it too.
done in r1700917

Gregg

On 9/2/2015 5:07 PM, NormW wrote:
> hi,
> If not mistaken, on the latest httpd-trunk\modules\http2 update:
>
>> D:\Projects\svn\httpd-trunk\modules\http2>svn diff
>> Index: h2_session.c
>> ===================================================================
>> --- h2_session.c        (revision 1700915)
>> +++ h2_session.c        (working copy)
>> @@ -259,8 +259,9 @@
>>                                 const nghttp2_frame *frame, void *userp)
>>  {
>>      /* This starts a new stream. */
>> +    int rv;
>>      (void)ngh2;
>> -    int rv = stream_open((h2_session *)userp, frame->hd.stream_id);
>> +    rv = stream_open((h2_session *)userp, frame->hd.stream_id);
>>      if (rv != NGHTTP2_ERR_CALLBACK_FAILURE) {
>>        /* on_header_cb or on_frame_recv_cb will dectect that stream
>>           does not exist and submit RST_STREAM. */
>
> Otherwise compiles fine.
> Norm


From dev-return-83698-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep  3 00:34:54 2015
Return-Path: <dev-return-83698-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 76A21176C8
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Sep 2015 00:34:54 +0000 (UTC)
Received: (qmail 35559 invoked by uid 500); 3 Sep 2015 00:34:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35484 invoked by uid 500); 3 Sep 2015 00:34:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35473 invoked by uid 99); 3 Sep 2015 00:34:54 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2015 00:34:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 989721AB51C
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 00:34:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id gtBxSi7t0afl for <dev@httpd.apache.org>;
	Thu,  3 Sep 2015 00:34:48 +0000 (UTC)
Received: from fed1rmfepo201.cox.net (fed1rmfepo201.cox.net [68.230.241.146])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id E1BF421381
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 00:34:46 +0000 (UTC)
Received: from fed1rmimpo109 ([68.230.241.158]) by fed1rmfepo201.cox.net
          (InterMail vM.8.01.05.15 201-2260-151-145-20131218) with ESMTP
          id <20150903003439.RSXC8128.fed1rmfepo201.cox.net@fed1rmimpo109>
          for <dev@httpd.apache.org>; Wed, 2 Sep 2015 20:34:39 -0400
Received: from [192.168.1.33] ([98.176.34.113])
	by fed1rmimpo109 with cox
	id CQaf1r0062STVfm01QafR4; Wed, 02 Sep 2015 20:34:39 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020204.55E7959F.013C,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=2.0 cv=MbGyTeDf c=1 sm=1
 a=8xCO7h6kmYZdHn5tUOQhsw==:17 a=LrjODJgKAAAA:8 a=HbROBkGh4EnbN8nJWqEA:9
 a=QEXdDO2ut3YA:10 a=kQa8qDTjcesA:10 a=8xCO7h6kmYZdHn5tUOQhsw==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; auth=pass (PLAIN) smtp.auth=glewis63@cox.net
Message-ID: <55E79521.80905@gknw.net>
Date: Wed, 02 Sep 2015 17:32:33 -0700
From: Gregg Smith <gls@gknw.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.28) Gecko/20120306 Thunderbird/3.1.20
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: proposed backport of mod_h2
References: <08A80F0E-FB16-4DD4-AA1E-146485EF783D@greenbytes.de>
In-Reply-To: <08A80F0E-FB16-4DD4-AA1E-146485EF783D@greenbytes.de>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit

Hi Stefan,

core patch:
needs r1694950 and may require a minor mmn bump, at least that is what I 
took away from the discussion about it over this commit.

h2 patch:
needs r1700917

Thanks,

Gregg


On 9/2/2015 7:10 AM, Stefan Eissing wrote:
> As in r1700829. Regression tests run (after small change on apache version check in h2.t) on OS X for me.
>
> Cheers,
>
>    Stefan
>
> <green/>bytes GmbH
> Hafenweg 16, 48155 Münster, Germany
> Phone: +49 251 2807760. Amtsgericht Münster: HRB5782
>
>
>


From dev-return-83699-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep  3 09:13:48 2015
Return-Path: <dev-return-83699-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BD35810B03
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Sep 2015 09:13:48 +0000 (UTC)
Received: (qmail 8019 invoked by uid 500); 3 Sep 2015 09:13:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 7948 invoked by uid 500); 3 Sep 2015 09:13:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 7938 invoked by uid 99); 3 Sep 2015 09:13:48 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2015 09:13:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C257CF113D
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 09:13:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id G5cv1u-rW-qm for <dev@httpd.apache.org>;
	Thu,  3 Sep 2015 09:13:47 +0000 (UTC)
Received: from mail-ig0-f180.google.com (mail-ig0-f180.google.com [209.85.213.180])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 666562139C
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 09:13:46 +0000 (UTC)
Received: by igcpb10 with SMTP id pb10so9653855igc.1
        for <dev@httpd.apache.org>; Thu, 03 Sep 2015 02:13:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=YEwTjFYIP4RaHB1z2iKiqb4veJA13Tn3yeedQanG4ds=;
        b=aHMiouWoEyyk8c1qb4ftaFbG1Cy/BXshXjAcMSb2+PcWaRicURpgfpvIC0HzLVHEHx
         /qP0Hxpo26BSeRaQ0ijJLiHvwMLs68lKkNXXcA81zTSYWXY0KCNzV2kmNPv1S2qn++RX
         h0mZLwhaVS7UkzGI4wn6taTYIJIx8FOsMwqA0BvjvhGmVRUC5PAu4egq6TkTDZA0Mu21
         yJ84nX3au9ZnMCe0Nk4JAZgj0VbeSpfUKzUYglR/+uplT5FnlF1JxHLw7vEu3ubvnL/A
         L7MGpcS884AQkdVySIFl4L9f7wFb3r6ri66wkdeI8DoOH7Pth8WqaIctKFlydBNBigSA
         +6Gg==
MIME-Version: 1.0
X-Received: by 10.50.67.3 with SMTP id j3mr10699846igt.70.1441271625368; Thu,
 03 Sep 2015 02:13:45 -0700 (PDT)
Received: by 10.79.38.74 with HTTP; Thu, 3 Sep 2015 02:13:45 -0700 (PDT)
In-Reply-To: <20150901143239.357D1AC0095@hades.apache.org>
References: <20150901143239.357D1AC0095@hades.apache.org>
Date: Thu, 3 Sep 2015 11:13:45 +0200
Message-ID: <CAKQ1sVNejoKvYqpomhAkYo1m6nV-7aOY4-sPPJA5-WYsXeYpqQ@mail.gmail.com>
Subject: Re: svn commit: r1700578 - /httpd/httpd/branches/2.2.x/modules/cache/mod_mem_cache.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Tue, Sep 1, 2015 at 4:32 PM,  <elu@apache.org> wrote:
> Author: elu
> Date: Tue Sep  1 14:32:38 2015
> New Revision: 1700578
>
> URL: http://svn.apache.org/r1700578
> Log:
> Fix mod_mem_cache caching incomplete responses on connection abort
>
> Modified:
>     httpd/httpd/branches/2.2.x/modules/cache/mod_mem_cache.c
>
> Modified: httpd/httpd/branches/2.2.x/modules/cache/mod_mem_cache.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/branches/2.2.x/modules/cache/mod_mem_cache.c?rev=1700578&r1=1700577&r2=1700578&view=diff
> ==============================================================================
> --- httpd/httpd/branches/2.2.x/modules/cache/mod_mem_cache.c (original)
> +++ httpd/httpd/branches/2.2.x/modules/cache/mod_mem_cache.c Tue Sep  1 14:32:38 2015
> @@ -763,6 +763,15 @@ static apr_status_t store_body(cache_han
>                      return APR_EGENERAL;
>                  }
>              }
> +            if (r->connection->aborted) {

Since store_body() does not use r->connection, don't we know from the
very beginning if r->connection->aborted?
If so, maybe we could fail there.

> +                ap_log_rerror(APLOG_MARK, APLOG_INFO, 0, r,
> +                             "mem_cache: Discarding body for URL %s "
> +                             "because connection was aborted.",
> +                             obj->key);
> +                /* No need to cleanup - obj->complete unset, so
> +                 * decrement_refcount will discard the object */
> +                return APR_EGENERAL;
> +            }
>              if (mobj->m_len > obj->count) {
>                  /* Caching a streamed response. Reallocate a buffer of the
>                   * correct size and copy the streamed response into that
>
>

From dev-return-83700-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep  3 09:49:27 2015
Return-Path: <dev-return-83700-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4279D10C3F
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Sep 2015 09:49:27 +0000 (UTC)
Received: (qmail 62752 invoked by uid 500); 3 Sep 2015 09:49:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62672 invoked by uid 500); 3 Sep 2015 09:49:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62662 invoked by uid 99); 3 Sep 2015 09:49:26 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2015 09:49:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 67A4EF1290
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 09:49:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id L62aB1nFZDEw for <dev@httpd.apache.org>;
	Thu,  3 Sep 2015 09:49:20 +0000 (UTC)
Received: from mail-io0-f170.google.com (mail-io0-f170.google.com [209.85.223.170])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 1D6AB42B0C
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 09:49:20 +0000 (UTC)
Received: by ioii196 with SMTP id i196so51413678ioi.3
        for <dev@httpd.apache.org>; Thu, 03 Sep 2015 02:49:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=Zxn/4HHz5w1tL2r77TfPkfuNZDbPSepNvfQdO1Tc54s=;
        b=MSnV9R6AE9lq9Nyod59JUXI1wOICNAVo7uZrxDx4GYGQRiC4Pvqb5B7BmunZSsDNAr
         QfdsZlr04p5g4eW0LmOafKSD8m/e4bRHNEDDCpcw0iAzFXwMPNQjNPZxCzl0oyuqkNSf
         ztXDcMer1/8qec0b9OBt2/Ru4OODhJHK9Sc5UHWxE3gLNDhYGMnYUm+VPEFDWc3/attU
         KP9CLL5cFkxMPrSdaMnEm+5eqp7XD1p+84yMK0cqKsyjCzAUaThBeLc+GWUhoMFhcZA8
         7XdlGYH2TEQX3jOPkDIh1GIu8vS6YpTvXwlVhRjRgBXOQk/2MmbxTZwr2cHYIAC5rePm
         jfVg==
MIME-Version: 1.0
X-Received: by 10.107.14.145 with SMTP id 139mr39665171ioo.37.1441273759760;
 Thu, 03 Sep 2015 02:49:19 -0700 (PDT)
Received: by 10.79.38.74 with HTTP; Thu, 3 Sep 2015 02:49:19 -0700 (PDT)
In-Reply-To: <96991731-9044-4977-B666-8A46F5B1C281@greenbytes.de>
References: <20150813153307.D0EBEAC0734@hades.apache.org>
	<CAKQ1sVOELXgdt9BJR5qYzXVJEBL6Bdj0p9fox49TraYvFof-xg@mail.gmail.com>
	<96991731-9044-4977-B666-8A46F5B1C281@greenbytes.de>
Date: Thu, 3 Sep 2015 11:49:19 +0200
Message-ID: <CAKQ1sVMs_6KycwXmvCd7QZV1aryata9WHVo7DgomGMVQTkR-LQ@mail.gmail.com>
Subject: Re: svn commit: r1695727 - in /httpd/httpd/trunk: docs/manual/mod/core.xml
 include/http_core.h server/core.c server/protocol.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Sep 2, 2015 at 7:54 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> If we want to be more safe, we can change the Protocols default to just h=
ttp/1.1. Also the default for ordering we can change, np.
>
> Other opinions?

Thanks, LGTM (though I like the idea of ap_select_protocol() returning
a different value whether the client proposed "http/1.1" or not -
NULL?) .

>
> For ALPN, afaik the callback only gets triggered if the client actually s=
ends ALPN in its hello. Since "http/1.1" is the only identifier defined in =
the standard (for http version < 2), we cannot send any 1.0 or 0.9. And if =
the client does, it's an unidentified thing. ALPN says that the server is f=
ree to select even a protocol not mentioned in the client hello. So sending=
 back "http/1.1" in case server/client wishes do not overlap is fine too. E=
ither the client reconsiders or closes the connection.

Doesn't the server have the (optional) ability to enforce Protocols
(close/alert by itself)?

>
> Legacy clients will not send ALPN, so the whole handshake will work as be=
fore. (modulo bugs)

Agreed.

From dev-return-83701-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep  3 12:47:18 2015
Return-Path: <dev-return-83701-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 89E53184D5
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Sep 2015 12:47:18 +0000 (UTC)
Received: (qmail 63867 invoked by uid 500); 3 Sep 2015 12:47:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63802 invoked by uid 500); 3 Sep 2015 12:47:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63792 invoked by uid 99); 3 Sep 2015 12:47:17 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2015 12:47:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 54937F132A
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 12:47:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id JtNaRP5XzSmt for <dev@httpd.apache.org>;
	Thu,  3 Sep 2015 12:47:10 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id D867320FD3
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 12:47:09 +0000 (UTC)
Received: from [192.168.1.42] (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id B53B915A047D
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 14:47:07 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1695727 - in /httpd/httpd/trunk: docs/manual/mod/core.xml include/http_core.h server/core.c server/protocol.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVMs_6KycwXmvCd7QZV1aryata9WHVo7DgomGMVQTkR-LQ@mail.gmail.com>
Date: Thu, 3 Sep 2015 14:47:07 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <F1D44F0C-9016-4DCA-8B9D-1DA1CC5FD47F@greenbytes.de>
References: <20150813153307.D0EBEAC0734@hades.apache.org> <CAKQ1sVOELXgdt9BJR5qYzXVJEBL6Bdj0p9fox49TraYvFof-xg@mail.gmail.com> <96991731-9044-4977-B666-8A46F5B1C281@greenbytes.de> <CAKQ1sVMs_6KycwXmvCd7QZV1aryata9WHVo7DgomGMVQTkR-LQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

Added in r1701005.

> Am 03.09.2015 um 11:49 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Wed, Sep 2, 2015 at 7:54 PM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> If we want to be more safe, we can change the Protocols default to =
just http/1.1. Also the default for ordering we can change, np.
>>=20
>> Other opinions?
>=20
> Thanks, LGTM (though I like the idea of ap_select_protocol() returning
> a different value whether the client proposed "http/1.1" or not -
> NULL?) .
>=20
>>=20
>> For ALPN, afaik the callback only gets triggered if the client =
actually sends ALPN in its hello. Since "http/1.1" is the only =
identifier defined in the standard (for http version < 2), we cannot =
send any 1.0 or 0.9. And if the client does, it's an unidentified thing. =
ALPN says that the server is free to select even a protocol not =
mentioned in the client hello. So sending back "http/1.1" in case =
server/client wishes do not overlap is fine too. Either the client =
reconsiders or closes the connection.
>=20
> Doesn't the server have the (optional) ability to enforce Protocols
> (close/alert by itself)?
>=20
>>=20
>> Legacy clients will not send ALPN, so the whole handshake will work =
as before. (modulo bugs)
>=20
> Agreed.

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83702-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep  3 15:47:06 2015
Return-Path: <dev-return-83702-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7F60418E1B
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Sep 2015 15:47:06 +0000 (UTC)
Received: (qmail 38931 invoked by uid 500); 3 Sep 2015 15:47:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38856 invoked by uid 500); 3 Sep 2015 15:47:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38846 invoked by uid 99); 3 Sep 2015 15:47:02 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2015 15:47:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5EB7A1AB590
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 15:47:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.679
X-Spam-Level:
X-Spam-Status: No, score=0.679 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id btih3DaRiYMY for <dev@httpd.apache.org>;
	Thu,  3 Sep 2015 15:47:00 +0000 (UTC)
Received: from mail-ig0-f179.google.com (mail-ig0-f179.google.com [209.85.213.179])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 7602150749
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 15:46:58 +0000 (UTC)
Received: by igbut12 with SMTP id ut12so43327693igb.1
        for <dev@httpd.apache.org>; Thu, 03 Sep 2015 08:46:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=1CtoCDSjhyyZ3XAzRyRMNbUV8rWfK/7GyqReIaSBUl4=;
        b=1EDVQxb25FN0/U1YEHzipeCEcFHjwRT5ymCPUH/WJuue1fvpFFn4BBTONtyrTsqmsc
         LTqGs2fu2GN7/GoOhdek4p8s2qPCZko8ocSgd4GQlxFSfm/enJ0c6myL6d4M+22XJwhx
         PjcZ9SMexx38ci6Tf13U/Jo0xHBgM3XwjZfienSIy6l9hwkTS8ccWpB5spIERtZXi26o
         b3EWzVQ5oTtZlUqfW79t6cdTgaRDfIUw5BjB7xgNgpTyWnNeQGM7+KP506LvFhtVX8Ij
         LqA2c5hrQlr6e2pFKmXMq3vdcvJgJSCD1vdWRo4WZxCW4/e/E1ZwYXd9XcM7vvOJQoO/
         C5yg==
MIME-Version: 1.0
X-Received: by 10.50.79.133 with SMTP id j5mr14635398igx.15.1441295218084;
 Thu, 03 Sep 2015 08:46:58 -0700 (PDT)
Received: by 10.79.38.74 with HTTP; Thu, 3 Sep 2015 08:46:57 -0700 (PDT)
In-Reply-To: <20150903124527.650C8AC010E@hades.apache.org>
References: <20150903124527.650C8AC010E@hades.apache.org>
Date: Thu, 3 Sep 2015 17:46:57 +0200
Message-ID: <CAKQ1sVNBV0PJAFgnhbpBe5DF2k327C7GZ_P0QZf1K6PZH=X7gw@mail.gmail.com>
Subject: Re: svn commit: r1701005 - in /httpd/httpd/trunk: docs/manual/mod/core.xml
 include/http_protocol.h modules/ssl/ssl_engine_kernel.c server/core.c server/protocol.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/mixed; boundary=047d7b15fae37dff78051ed9b1be

--047d7b15fae37dff78051ed9b1be
Content-Type: text/plain; charset=UTF-8

On Thu, Sep 3, 2015 at 2:45 PM,  <icing@apache.org> wrote:
> Author: icing
> Date: Thu Sep  3 12:45:26 2015
> New Revision: 1701005
>
> URL: http://svn.apache.org/r1701005
> Log:
> changed Protocols default to http/1.1 only, updated documentation, changed ap_select_protocol() to return NULL when no protocol could be agreed upon
>
> Modified:
[]
>     httpd/httpd/trunk/server/protocol.c
[]
>
> Modified: httpd/httpd/trunk/server/protocol.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/server/protocol.c?rev=1701005&r1=1701004&r2=1701005&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/server/protocol.c (original)
> +++ httpd/httpd/trunk/server/protocol.c Thu Sep  3 12:45:26 2015
> @@ -1982,53 +1982,77 @@ AP_DECLARE(const char *) ap_select_proto
>                                              apr_array_header_t *choices)
>  {
>      apr_pool_t *pool = r? r->pool : c->pool;
> -    apr_array_header_t *proposals;
> -    const char *protocol = NULL, *existing = ap_get_protocol(c);
>      core_server_config *conf = ap_get_core_module_config(s->module_config);
> +    const char *protocol = NULL, *existing = ap_get_protocol(c);;
> +    apr_array_header_t *proposals;

I think we should not check for NULL "choices" below, it's up to
caller to provide a valid pointer (or we crash where we should).

Also it should probably be a const apr_array_header_t*.

>
>      if (APLOGcdebug(c)) {
>          const char *p = apr_array_pstrcat(pool, conf->protocols, ',');
>          ap_log_cerror(APLOG_MARK, APLOG_DEBUG, 0, c,
>                        "select protocol from %s, choices=%s for server %s",
> -                      p, apr_array_pstrcat(pool, choices, ','),
> +                      p, choices?
> +                      apr_array_pstrcat(pool, choices, ',') : "NULL",
>                        s->server_hostname);
>      }
>
> -    proposals = apr_array_make(pool, choices->nelts+1, sizeof(char *));
> +    proposals = apr_array_make(pool, choices? choices->nelts+1 : 5,
> +                               sizeof(char *));
>      ap_run_protocol_propose(c, r, s, choices, proposals);
>
>      if (proposals->nelts > 0) {
>          int i;
> -        apr_array_header_t *prefs = ((conf->protocols_honor_order > 0
> -                                      && conf->protocols->nelts > 0)?
> -                                     conf->protocols : choices);
> +        apr_array_header_t *prefs = NULL;
> +
> +        /* Default for protocols_honor_order is 'on' or != 0 */
> +        if (conf->protocols_honor_order == 0 && choices && choices->nelts > 0) {
> +            prefs = choices;
> +        }
> +        else {
> +            prefs = conf->protocols;
> +        }
>
>          /* If the existing protocol has not been proposed, but is a choice,
>           * add it to the proposals implicitly.
>           */
> -        if (!ap_array_str_contains(proposals, existing)
> +        if (choices
> +            && !ap_array_str_contains(proposals, existing)
>              && ap_array_str_contains(choices, existing)) {
>              APR_ARRAY_PUSH(proposals, const char*) = existing;
>          }

Shouldn't this "if" be moved before "if (proposals->nelts > 0)" above
so that we enter here (i.e. don't return NULL) when "existing" is both
a choice and a configured Protocols?

> -
> +
>          /* Select the most preferred protocol */
>          if (APLOGcdebug(c)) {
>              ap_log_cerror(APLOG_MARK, APLOG_DEBUG, 0, c,
> -                          "select protocol, proposals=%s preferences=%s",
> +                          "select protocol, proposals=%s preferences=%s configured=%s",
>                            apr_array_pstrcat(pool, proposals, ','),
> -                          apr_array_pstrcat(pool, prefs, ','));
> +                          apr_array_pstrcat(pool, prefs, ','),
> +                          apr_array_pstrcat(pool, conf->protocols, ','));
>          }
> -        for (i = 0; i < proposals->nelts; ++i) {
> -            const char *p = APR_ARRAY_IDX(proposals, i, const char *);
> -            if (conf->protocols->nelts > 0
> -                && !ap_array_str_contains(conf->protocols, p)) {
> -                /* not a permitted protocol here */
> -                continue;
> -            }
> -            else if (!protocol
> -                     || (protocol_cmp(prefs, protocol, p) < 0)) {
> -                /* none selected yet or this on has preference */
> -                protocol = p;
> +        if (conf->protocols->nelts <= 0) {
> +            /* nothing configured, by default, we only allow http/1.1 here.
> +             * For now...
> +             */
> +            return (ap_array_str_contains(proposals, AP_PROTOCOL_HTTP1)?
> +                    AP_PROTOCOL_HTTP1 : NULL);
> +        }

Couldn't we move this "if" at the beginning of the function?
Whatever the choices and proposals are, it looks immutable.

> +        else {
> +            for (i = 0; i < proposals->nelts; ++i) {
> +                const char *p = APR_ARRAY_IDX(proposals, i, const char *);
> +                if (conf->protocols->nelts <= 0 && !strcmp(AP_PROTOCOL_HTTP1, p)) {

"conf->protocols->nelts <= 0" already tested above (always false here).

> +                    /* nothing configured, by default, we only allow http/1.1 here.
> +                     * For now...
> +                     */
> +                    continue;
> +                }
> +                if (!ap_array_str_contains(conf->protocols, p)) {
> +                    /* not a configured protocol here */
> +                    continue;
> +                }
> +                else if (!protocol
> +                         || (protocol_cmp(prefs, protocol, p) < 0)) {
> +                    /* none selected yet or this one has preference */
> +                    protocol = p;
> +                }
>              }
>          }
>      }
> @@ -2037,7 +2061,7 @@ AP_DECLARE(const char *) ap_select_proto
>                        protocol? protocol : "(none)");
>      }
>
> -    return protocol? protocol : existing;
> +    return protocol;
>  }


My comments above also attached as a patch (possibly better than words ;) ...

Regards,
Yann.

--047d7b15fae37dff78051ed9b1be
Content-Type: text/x-diff; charset=US-ASCII; name="ap_select_protocol.patch"
Content-Disposition: attachment; filename="ap_select_protocol.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_ie4dwn2o0

SW5kZXg6IHNlcnZlci9wcm90b2NvbC5jCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLS0tIHNlcnZlci9wcm90b2NvbC5j
CShyZXZpc2lvbiAxNzAxMDI2KQorKysgc2VydmVyL3Byb3RvY29sLmMJKHdvcmtpbmcgY29weSkK
QEAgLTE5NTEsNyArMTk1MSw3IEBAIEFQX0RFQ0xBUkUodm9pZCkgYXBfc2VuZF9pbnRlcmltX3Jl
c3BvbnNlKHJlcXVlc3RfCiAgKiBDb21wYXJlIHR3byBwcm90b2NvbCBpZGVudGlmaWVyLiBSZXN1
bHQgaXMgc2ltaWxhciB0byBzdHJjbXAoKToKICAqIDAgZ2l2ZXMgc2FtZSBwcmVjZWRlbmNlLCA+
MCBtZWFucyBwcm90bzEgaXMgcHJlZmVycmVkLgogICovCi1zdGF0aWMgaW50IHByb3RvY29sX2Nt
cChhcHJfYXJyYXlfaGVhZGVyX3QgKnByZWZlcmVuY2VzLAorc3RhdGljIGludCBwcm90b2NvbF9j
bXAoY29uc3QgYXByX2FycmF5X2hlYWRlcl90ICpwcmVmZXJlbmNlcywKICAgICAgICAgICAgICAg
ICAgICAgICAgIGNvbnN0IGNoYXIgKnByb3RvMSwKICAgICAgICAgICAgICAgICAgICAgICAgIGNv
bnN0IGNoYXIgKnByb3RvMikKIHsKQEAgLTE5NzksMTEgKzE5NzksMTEgQEAgQVBfREVDTEFSRShj
b25zdCBjaGFyICopIGFwX2dldF9wcm90b2NvbChjb25uX3JlYwogCiBBUF9ERUNMQVJFKGNvbnN0
IGNoYXIgKikgYXBfc2VsZWN0X3Byb3RvY29sKGNvbm5fcmVjICpjLCByZXF1ZXN0X3JlYyAqciwg
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlcl9yZWMg
KnMsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcl9hcnJh
eV9oZWFkZXJfdCAqY2hvaWNlcykKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgY29uc3QgYXByX2FycmF5X2hlYWRlcl90ICpjaG9pY2VzKQogewogICAgIGFwcl9w
b29sX3QgKnBvb2wgPSByPyByLT5wb29sIDogYy0+cG9vbDsKICAgICBjb3JlX3NlcnZlcl9jb25m
aWcgKmNvbmYgPSBhcF9nZXRfY29yZV9tb2R1bGVfY29uZmlnKHMtPm1vZHVsZV9jb25maWcpOwot
ICAgIGNvbnN0IGNoYXIgKnByb3RvY29sID0gTlVMTCwgKmV4aXN0aW5nID0gYXBfZ2V0X3Byb3Rv
Y29sKGMpOzsKKyAgICBjb25zdCBjaGFyICpwcm90b2NvbCA9IE5VTEwsICpleGlzdGluZzsKICAg
ICBhcHJfYXJyYXlfaGVhZGVyX3QgKnByb3Bvc2FsczsKIAogICAgIGlmIChBUExPR2NkZWJ1Zyhj
KSkgewpAQCAtMTk5MCwyMSArMTk5MCw0MCBAQCBBUF9ERUNMQVJFKGNvbnN0IGNoYXIgKikgYXBf
c2VsZWN0X3Byb3RvY29sKGNvbm5fcgogICAgICAgICBjb25zdCBjaGFyICpwID0gYXByX2FycmF5
X3BzdHJjYXQocG9vbCwgY29uZi0+cHJvdG9jb2xzLCAnLCcpOwogICAgICAgICBhcF9sb2dfY2Vy
cm9yKEFQTE9HX01BUkssIEFQTE9HX0RFQlVHLCAwLCBjLCAKICAgICAgICAgICAgICAgICAgICAg
ICAic2VsZWN0IHByb3RvY29sIGZyb20gJXMsIGNob2ljZXM9JXMgZm9yIHNlcnZlciAlcyIsIAot
ICAgICAgICAgICAgICAgICAgICAgIHAsIGNob2ljZXM/Ci0gICAgICAgICAgICAgICAgICAgICAg
YXByX2FycmF5X3BzdHJjYXQocG9vbCwgY2hvaWNlcywgJywnKSA6ICJOVUxMIiwKKyAgICAgICAg
ICAgICAgICAgICAgICBwLCBhcHJfYXJyYXlfcHN0cmNhdChwb29sLCBjaG9pY2VzLCAnLCcpLAog
ICAgICAgICAgICAgICAgICAgICAgIHMtPnNlcnZlcl9ob3N0bmFtZSk7CiAgICAgfQotICAgIAot
ICAgIHByb3Bvc2FscyA9IGFwcl9hcnJheV9tYWtlKHBvb2wsIGNob2ljZXM/IGNob2ljZXMtPm5l
bHRzKzEgOiA1LCAKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplb2YoY2hhciAq
KSk7CisKKyAgICBpZiAoY29uZi0+cHJvdG9jb2xzLT5uZWx0cyA8PSAwKSB7CisgICAgICAgIC8q
IG5vdGhpbmcgY29uZmlndXJlZCwgYnkgZGVmYXVsdCwgd2Ugb25seSBhbGxvdyBodHRwLzEuMSBo
ZXJlLgorICAgICAgICAgKiBGb3Igbm93Li4uCisgICAgICAgICAqLworICAgICAgICBpZiAoYXBf
YXJyYXlfc3RyX2NvbnRhaW5zKGNob2ljZXMsIEFQX1BST1RPQ09MX0hUVFAxKSkgeworICAgICAg
ICAgICAgcmV0dXJuIEFQX1BST1RPQ09MX0hUVFAxOworICAgICAgICB9CisgICAgICAgIGVsc2Ug
eworICAgICAgICAgICAgcmV0dXJuIE5VTEw7CisgICAgICAgIH0KKyAgICB9CisKKyAgICBwcm9w
b3NhbHMgPSBhcHJfYXJyYXlfbWFrZShwb29sLCBjaG9pY2VzLT5uZWx0cyArIDEsIHNpemVvZihj
aGFyICopKTsKICAgICBhcF9ydW5fcHJvdG9jb2xfcHJvcG9zZShjLCByLCBzLCBjaG9pY2VzLCBw
cm9wb3NhbHMpOwotICAgIAorCisgICAgLyogSWYgdGhlIGV4aXN0aW5nIHByb3RvY29sIGhhcyBu
b3QgYmVlbiBwcm9wb3NlZCwgYnV0IGlzIGEgY2hvaWNlLAorICAgICAqIGFkZCBpdCB0byB0aGUg
cHJvcG9zYWxzIGltcGxpY2l0bHkuCisgICAgICovCisgICAgZXhpc3RpbmcgPSBhcF9nZXRfcHJv
dG9jb2woYyk7CisgICAgaWYgKCFhcF9hcnJheV9zdHJfY29udGFpbnMocHJvcG9zYWxzLCBleGlz
dGluZykKKyAgICAgICAgJiYgYXBfYXJyYXlfc3RyX2NvbnRhaW5zKGNob2ljZXMsIGV4aXN0aW5n
KSkgeworICAgICAgICBBUFJfQVJSQVlfUFVTSChwcm9wb3NhbHMsIGNvbnN0IGNoYXIqKSA9IGV4
aXN0aW5nOworICAgIH0KKwogICAgIGlmIChwcm9wb3NhbHMtPm5lbHRzID4gMCkgewogICAgICAg
ICBpbnQgaTsKLSAgICAgICAgYXByX2FycmF5X2hlYWRlcl90ICpwcmVmcyA9IE5VTEw7Ci0gICAg
ICAgIAorICAgICAgICBjb25zdCBhcHJfYXJyYXlfaGVhZGVyX3QgKnByZWZzID0gTlVMTDsKKwog
ICAgICAgICAvKiBEZWZhdWx0IGZvciBwcm90b2NvbHNfaG9ub3Jfb3JkZXIgaXMgJ29uJyBvciAh
PSAwICovCi0gICAgICAgIGlmIChjb25mLT5wcm90b2NvbHNfaG9ub3Jfb3JkZXIgPT0gMCAmJiBj
aG9pY2VzICYmIGNob2ljZXMtPm5lbHRzID4gMCkgeworICAgICAgICBpZiAoY29uZi0+cHJvdG9j
b2xzX2hvbm9yX29yZGVyID09IDAgJiYgY2hvaWNlcy0+bmVsdHMgPiAwKSB7CiAgICAgICAgICAg
ICBwcmVmcyA9IGNob2ljZXM7CiAgICAgICAgIH0KICAgICAgICAgZWxzZSB7CkBAIC0yMDExLDE1
ICsyMDMwLDYgQEAgQVBfREVDTEFSRShjb25zdCBjaGFyICopIGFwX3NlbGVjdF9wcm90b2NvbChj
b25uX3IKICAgICAgICAgICAgIHByZWZzID0gY29uZi0+cHJvdG9jb2xzOwogICAgICAgICB9CiAK
LSAgICAgICAgLyogSWYgdGhlIGV4aXN0aW5nIHByb3RvY29sIGhhcyBub3QgYmVlbiBwcm9wb3Nl
ZCwgYnV0IGlzIGEgY2hvaWNlLAotICAgICAgICAgKiBhZGQgaXQgdG8gdGhlIHByb3Bvc2FscyBp
bXBsaWNpdGx5LgotICAgICAgICAgKi8KLSAgICAgICAgaWYgKGNob2ljZXMgCi0gICAgICAgICAg
ICAmJiAhYXBfYXJyYXlfc3RyX2NvbnRhaW5zKHByb3Bvc2FscywgZXhpc3RpbmcpIAotICAgICAg
ICAgICAgJiYgYXBfYXJyYXlfc3RyX2NvbnRhaW5zKGNob2ljZXMsIGV4aXN0aW5nKSkgewotICAg
ICAgICAgICAgQVBSX0FSUkFZX1BVU0gocHJvcG9zYWxzLCBjb25zdCBjaGFyKikgPSBleGlzdGlu
ZzsKLSAgICAgICAgfQotCiAgICAgICAgIC8qIFNlbGVjdCB0aGUgbW9zdCBwcmVmZXJyZWQgcHJv
dG9jb2wgKi8KICAgICAgICAgaWYgKEFQTE9HY2RlYnVnKGMpKSB7CiAgICAgICAgICAgICBhcF9s
b2dfY2Vycm9yKEFQTE9HX01BUkssIEFQTE9HX0RFQlVHLCAwLCBjLCAKQEAgLTIwMjgsMzIgKzIw
MzgsMTcgQEAgQVBfREVDTEFSRShjb25zdCBjaGFyICopIGFwX3NlbGVjdF9wcm90b2NvbChjb25u
X3IKICAgICAgICAgICAgICAgICAgICAgICAgICAgYXByX2FycmF5X3BzdHJjYXQocG9vbCwgcHJl
ZnMsICcsJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcl9hcnJheV9wc3RyY2F0KHBv
b2wsIGNvbmYtPnByb3RvY29scywgJywnKSk7CiAgICAgICAgIH0KLSAgICAgICAgaWYgKGNvbmYt
PnByb3RvY29scy0+bmVsdHMgPD0gMCkgewotICAgICAgICAgICAgLyogbm90aGluZyBjb25maWd1
cmVkLCBieSBkZWZhdWx0LCB3ZSBvbmx5IGFsbG93IGh0dHAvMS4xIGhlcmUuCi0gICAgICAgICAg
ICAgKiBGb3Igbm93Li4uCi0gICAgICAgICAgICAgKi8KLSAgICAgICAgICAgIHJldHVybiAoYXBf
YXJyYXlfc3RyX2NvbnRhaW5zKHByb3Bvc2FscywgQVBfUFJPVE9DT0xfSFRUUDEpPwotICAgICAg
ICAgICAgICAgICAgICBBUF9QUk9UT0NPTF9IVFRQMSA6IE5VTEwpOwotICAgICAgICB9Ci0gICAg
ICAgIGVsc2UgewotICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHByb3Bvc2Fscy0+bmVsdHM7
ICsraSkgewotICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgKnAgPSBBUFJfQVJSQVlfSURYKHBy
b3Bvc2FscywgaSwgY29uc3QgY2hhciAqKTsKLSAgICAgICAgICAgICAgICBpZiAoY29uZi0+cHJv
dG9jb2xzLT5uZWx0cyA8PSAwICYmICFzdHJjbXAoQVBfUFJPVE9DT0xfSFRUUDEsIHApKSB7Ci0g
ICAgICAgICAgICAgICAgICAgIC8qIG5vdGhpbmcgY29uZmlndXJlZCwgYnkgZGVmYXVsdCwgd2Ug
b25seSBhbGxvdyBodHRwLzEuMSBoZXJlLgotICAgICAgICAgICAgICAgICAgICAgKiBGb3Igbm93
Li4uCi0gICAgICAgICAgICAgICAgICAgICAqLwotICAgICAgICAgICAgICAgICAgICBjb250aW51
ZTsKLSAgICAgICAgICAgICAgICB9Ci0gICAgICAgICAgICAgICAgaWYgKCFhcF9hcnJheV9zdHJf
Y29udGFpbnMoY29uZi0+cHJvdG9jb2xzLCBwKSkgewotICAgICAgICAgICAgICAgICAgICAvKiBu
b3QgYSBjb25maWd1cmVkIHByb3RvY29sIGhlcmUgKi8KLSAgICAgICAgICAgICAgICAgICAgY29u
dGludWU7Ci0gICAgICAgICAgICAgICAgfQotICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFwcm90
b2NvbCAKLSAgICAgICAgICAgICAgICAgICAgICAgICB8fCAocHJvdG9jb2xfY21wKHByZWZzLCBw
cm90b2NvbCwgcCkgPCAwKSkgewotICAgICAgICAgICAgICAgICAgICAvKiBub25lIHNlbGVjdGVk
IHlldCBvciB0aGlzIG9uZSBoYXMgcHJlZmVyZW5jZSAqLwotICAgICAgICAgICAgICAgICAgICBw
cm90b2NvbCA9IHA7Ci0gICAgICAgICAgICAgICAgfQorICAgICAgICBmb3IgKGkgPSAwOyBpIDwg
cHJvcG9zYWxzLT5uZWx0czsgKytpKSB7CisgICAgICAgICAgICBjb25zdCBjaGFyICpwID0gQVBS
X0FSUkFZX0lEWChwcm9wb3NhbHMsIGksIGNvbnN0IGNoYXIgKik7CisgICAgICAgICAgICBpZiAo
IWFwX2FycmF5X3N0cl9jb250YWlucyhjb25mLT5wcm90b2NvbHMsIHApKSB7CisgICAgICAgICAg
ICAgICAgLyogbm90IGEgY29uZmlndXJlZCBwcm90b2NvbCBoZXJlICovCisgICAgICAgICAgICAg
ICAgY29udGludWU7CiAgICAgICAgICAgICB9CisgICAgICAgICAgICBlbHNlIGlmICghcHJvdG9j
b2wgCisgICAgICAgICAgICAgICAgICAgICB8fCAocHJvdG9jb2xfY21wKHByZWZzLCBwcm90b2Nv
bCwgcCkgPCAwKSkgeworICAgICAgICAgICAgICAgIC8qIG5vbmUgc2VsZWN0ZWQgeWV0IG9yIHRo
aXMgb25lIGhhcyBwcmVmZXJlbmNlICovCisgICAgICAgICAgICAgICAgcHJvdG9jb2wgPSBwOwor
ICAgICAgICAgICAgfQogICAgICAgICB9CiAgICAgfQogICAgIGlmIChBUExPR2NkZWJ1ZyhjKSkg
ewpJbmRleDogaW5jbHVkZS9odHRwX3Byb3RvY29sLmgKPT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gaW5jbHVkZS9o
dHRwX3Byb3RvY29sLmgJKHJldmlzaW9uIDE3MDEwMjYpCisrKyBpbmNsdWRlL2h0dHBfcHJvdG9j
b2wuaAkod29ya2luZyBjb3B5KQpAQCAtODAwLDcgKzgwMCw3IEBAIEFQX0RFQ0xBUkVfSE9PSyhj
b25zdCBjaGFyICoscHJvdG9jb2xfZ2V0LChjb25zdCBjCiAgKi8KIEFQX0RFQ0xBUkUoY29uc3Qg
Y2hhciAqKSBhcF9zZWxlY3RfcHJvdG9jb2woY29ubl9yZWMgKmMsIHJlcXVlc3RfcmVjICpyLCAK
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyX3JlYyAq
cywKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXByX2FycmF5
X2hlYWRlcl90ICpjaG9pY2VzKTsKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgY29uc3QgYXByX2FycmF5X2hlYWRlcl90ICpjaG9pY2VzKTsKIAogLyoqCiAgKiBQ
ZXJmb3JtIHRoZSBhY3R1YWwgcHJvdG9jb2wgc3dpdGNoLiBUaGUgcHJvdG9jb2wgZ2l2ZW4gbXVz
dCBoYXZlIGJlZW4K
--047d7b15fae37dff78051ed9b1be--

From dev-return-83703-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep  3 21:55:48 2015
Return-Path: <dev-return-83703-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1141618475
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Sep 2015 21:55:48 +0000 (UTC)
Received: (qmail 94018 invoked by uid 500); 3 Sep 2015 21:55:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 93936 invoked by uid 500); 3 Sep 2015 21:55:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 93922 invoked by uid 99); 3 Sep 2015 21:55:47 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2015 21:55:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id ED9EAF1507
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 21:55:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id oFy78kRjMns8 for <dev@httpd.apache.org>;
	Thu,  3 Sep 2015 21:55:44 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 8929E20647
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 21:55:44 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id CC0FE22B30
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 23:55:40 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id AkLr3N_xCTY3 for <dev@httpd.apache.org>;
	Thu,  3 Sep 2015 23:55:40 +0200 (CEST)
Received: from [10.202.65.180] (unknown [101.174.148.25])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id BFF0322B2F
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 23:55:39 +0200 (CEST)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: NormW <normw@gknw.net>
Subject: r1701005 httpd-trunk\ssl\ssl_engine_kernel.c
Message-ID: <55E8C1B0.4070401@gknw.net>
Date: Fri, 4 Sep 2015 07:54:56 +1000
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi,
Now seeing this:
> #    File: ssl_engine_kernel.c
> # ----------------------------
> #    2215:                                                           client_protos);
> #   Error:                                                                         ^
> #   illegal implicit conversion from 'const unsigned char *' to
> #   'const char *'

HTH,
Norm

From dev-return-83704-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep  3 22:53:37 2015
Return-Path: <dev-return-83704-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D492F18793
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Sep 2015 22:53:37 +0000 (UTC)
Received: (qmail 35507 invoked by uid 500); 3 Sep 2015 22:53:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35436 invoked by uid 500); 3 Sep 2015 22:53:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35426 invoked by uid 99); 3 Sep 2015 22:53:32 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2015 22:53:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 0ACD4C08D9
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 22:53:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id VDdcrX3SzjoV for <dev@httpd.apache.org>;
	Thu,  3 Sep 2015 22:53:30 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 7086350747
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 22:53:30 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id 01D3722B37
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 00:53:23 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 73PlvBAd0Ri1 for <dev@httpd.apache.org>;
	Fri,  4 Sep 2015 00:53:22 +0200 (CEST)
Received: from [10.202.65.180] (unknown [101.174.148.25])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id F399922B2E
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 00:53:21 +0200 (CEST)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: NormW <normw@gknw.net>
Subject: r1701005 httpd-trunk\server\protocols.c
Message-ID: <55E8CF43.1090701@gknw.net>
Date: Fri, 4 Sep 2015 08:52:51 +1000
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi again,
Pushing passed previous problem, now arrive at:
> D:\Projects\svn\httpd-trunk\server>svn diff
> Index: protocol.c
> ===================================================================
> --- protocol.c  (revision 1701142)
> +++ protocol.c  (working copy)
> @@ -1981,10 +1981,10 @@
>                                              server_rec *s,
>                                              apr_array_header_t *choices)
>  {
> +    apr_array_header_t *proposals;
>      apr_pool_t *pool = r? r->pool : c->pool;
>      core_server_config *conf = ap_get_core_module_config(s->module_config);
>      const char *protocol = NULL, *existing = ap_get_protocol(c);;
> -    apr_array_header_t *proposals;
>
>      if (APLOGcdebug(c)) {
>          const char *p = apr_array_pstrcat(pool, conf->protocols, ',');

After a while it becomes second nature I believe.
Regards,
Norm


From dev-return-83705-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep  3 23:02:08 2015
Return-Path: <dev-return-83705-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3FB5C187F7
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Sep 2015 23:02:08 +0000 (UTC)
Received: (qmail 54543 invoked by uid 500); 3 Sep 2015 23:02:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54464 invoked by uid 500); 3 Sep 2015 23:02:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54439 invoked by uid 99); 3 Sep 2015 23:02:07 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2015 23:02:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 4ED8FC08D9
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 23:02:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id LtXXYQc9gO9l for <dev@httpd.apache.org>;
	Thu,  3 Sep 2015 23:02:01 +0000 (UTC)
Received: from mail-io0-f177.google.com (mail-io0-f177.google.com [209.85.223.177])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 8A7EE50694
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 23:02:01 +0000 (UTC)
Received: by ioiz6 with SMTP id z6so5087109ioi.2
        for <dev@httpd.apache.org>; Thu, 03 Sep 2015 16:02:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=nJGZAOfZr3lHzcUlY+DEasQXRcw3X74IS3vrDc5ipHM=;
        b=cgl/7Sg9301lnDoace6iDE9+5kgZJ8mFlbkRFtI7deIP7K9d4C4j+G400MBjuC78cB
         B8ymvuzDwtBsV5x9p8DpAo70W9emlKL87vfltM5c7lC05FDF831qfUwVEKtQbdAGohXE
         APQRL4xYeDiaudhXhgul/DwXbW4jUBuqnT5ueYC26GZlpTd95cPBSGi8McURI56obai7
         qeysUBlDgoMzbmLuh4jsT4E+n4XEWnaVvVY978Wh9ckDaZVqnUnHCYRXogtkpOJLRvlH
         Ro17JTeZWb8V3ECsidRgIx4/RCnGFJaEU4zlpSTu/E2zUSJRNFDZEz1abpzUv6AvxIgK
         9A6A==
MIME-Version: 1.0
X-Received: by 10.107.14.145 with SMTP id 139mr1045983ioo.37.1441321321119;
 Thu, 03 Sep 2015 16:02:01 -0700 (PDT)
Received: by 10.79.38.74 with HTTP; Thu, 3 Sep 2015 16:02:01 -0700 (PDT)
In-Reply-To: <55E8C1B0.4070401@gknw.net>
References: <55E8C1B0.4070401@gknw.net>
Date: Fri, 4 Sep 2015 01:02:01 +0200
Message-ID: <CAKQ1sVOZFUvceY=aLqPQP0U80EjU=wVDAyUQLd96XW8kJ_c6tg@mail.gmail.com>
Subject: Re: r1701005 httpd-trunk\ssl\ssl_engine_kernel.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Thu, Sep 3, 2015 at 11:54 PM, NormW <normw@gknw.net> wrote:
> Hi,
> Now seeing this:
>>
>> #    File: ssl_engine_kernel.c
>> # ----------------------------
>> #    2215:
>> client_protos);
>> #   Error:
>> ^
>> #   illegal implicit conversion from 'const unsigned char *' to
>> #   'const char *'

Thanks, fixed in r1701145.

Regards,
Yann.

From dev-return-83706-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep  3 23:05:49 2015
Return-Path: <dev-return-83706-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 147331880F
	for <apmail-httpd-dev-archive@www.apache.org>; Thu,  3 Sep 2015 23:05:49 +0000 (UTC)
Received: (qmail 63660 invoked by uid 500); 3 Sep 2015 23:05:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63594 invoked by uid 500); 3 Sep 2015 23:05:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63584 invoked by uid 99); 3 Sep 2015 23:05:48 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2015 23:05:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 2D9A818210F
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 23:05:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 0MIAWb0x0sh2 for <dev@httpd.apache.org>;
	Thu,  3 Sep 2015 23:05:47 +0000 (UTC)
Received: from mail-ig0-f171.google.com (mail-ig0-f171.google.com [209.85.213.171])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 684AF205B6
	for <dev@httpd.apache.org>; Thu,  3 Sep 2015 23:05:46 +0000 (UTC)
Received: by igcpb10 with SMTP id pb10so4488821igc.1
        for <dev@httpd.apache.org>; Thu, 03 Sep 2015 16:05:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=FYfkMHG8w/Ax6D0+a8Xb0wh/JLx9rf2eOc9TwbNNPkg=;
        b=vDpBka4lraWKWBPrGif+vInFXQkv8tYAdtEkF1s1xKXg/Jea8tldPoAkguMU8PmHTH
         4AJGDhXL6TnPfQEWamnRYI8xcd0rvzZdrirX2B8Ccm3Yv4wELcK25uu3jOUjqxqhLpym
         EFVPgBEl6rcH93VH6sBb1XPyx1cWgSiDNQeNGPZnBJDqFVlMG9RdLZpYo9FjUw0kr2OJ
         RXrf5ywJxR0puPh1qR0dRQOg8VILQKY42vvgSZWRoJU7CrVh+xygIYfiz5q0MaIxLJVc
         dT3JFZ4gwUXXM6l+Kse++ZU0ilLipQ5zOtfbai+5DBQIRukw62z5yNTDNrBYS0/QkDBE
         6Asg==
MIME-Version: 1.0
X-Received: by 10.50.67.3 with SMTP id j3mr1344180igt.70.1441321545382; Thu,
 03 Sep 2015 16:05:45 -0700 (PDT)
Received: by 10.79.38.74 with HTTP; Thu, 3 Sep 2015 16:05:45 -0700 (PDT)
In-Reply-To: <55E8CF43.1090701@gknw.net>
References: <55E8CF43.1090701@gknw.net>
Date: Fri, 4 Sep 2015 01:05:45 +0200
Message-ID: <CAKQ1sVPkR3VxFUSHFH1384RrB8kzAwFSWfjAyaO20iPxeA-e4A@mail.gmail.com>
Subject: Re: r1701005 httpd-trunk\server\protocols.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 4, 2015 at 12:52 AM, NormW <normw@gknw.net> wrote:
> Hi again,
> Pushing passed previous problem, now arrive at:
>>
>> D:\Projects\svn\httpd-trunk\server>svn diff
>> Index: protocol.c
>> ===================================================================
>> --- protocol.c  (revision 1701142)
>> +++ protocol.c  (working copy)
>> @@ -1981,10 +1981,10 @@
>>                                              server_rec *s,
>>                                              apr_array_header_t *choices)
>>  {
>> +    apr_array_header_t *proposals;
>>      apr_pool_t *pool = r? r->pool : c->pool;
>>      core_server_config *conf =
>> ap_get_core_module_config(s->module_config);
>>      const char *protocol = NULL, *existing = ap_get_protocol(c);;
>> -    apr_array_header_t *proposals;

Hm, aren't there other/many places in the httpd code where non
initialized variables are declared after the initialized ones?

From dev-return-83707-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep  4 01:42:38 2015
Return-Path: <dev-return-83707-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0DD2818DC9
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  4 Sep 2015 01:42:38 +0000 (UTC)
Received: (qmail 37171 invoked by uid 500); 4 Sep 2015 01:42:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 37108 invoked by uid 500); 4 Sep 2015 01:42:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 37098 invoked by uid 99); 4 Sep 2015 01:42:37 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2015 01:42:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 1023EC0046
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 01:42:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id baBjk_WMImRZ for <dev@httpd.apache.org>;
	Fri,  4 Sep 2015 01:42:32 +0000 (UTC)
Received: from mail-wi0-f179.google.com (mail-wi0-f179.google.com [209.85.212.179])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id CB7C442F35
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 01:42:31 +0000 (UTC)
Received: by wibz8 with SMTP id z8so2684033wib.1
        for <dev@httpd.apache.org>; Thu, 03 Sep 2015 18:42:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=71cocwN+O/igATr/RZX8oIif6OqNDWRZIWGtIZuZOgE=;
        b=sMB+IfOdZcePzM9dQ5qAAkP8Qv4p6L5EPf5Zc49Xr6pYenwv40a9iX/vKRIS7LTQGw
         UN7avR15Qi0t8p2WpiObYWkO5V/J3zQIRKazPX+3oCgoGgLfYkatHDXb8PL87IlRbwdn
         IgIiozV1gH3wM0MxUDc3lfbmSAaIzXSN1fHGaEMAAd6w1shypx1X5d6ZyTTyCRk1j+FO
         PLbVTz3UlWfR95Jc+EsaEO7YcV1XQcQ+ZyyZ5+3pa9+TC49IzTgEoiy7Q1GoMWs7HTDY
         YVHyFNyRsl3tZ7NnafpYmIQfOBw0vrnWc8Dryc8TpLcD4J6Gpp2XuX/IqF9stU6kHIeW
         BzdA==
X-Received: by 10.194.121.100 with SMTP id lj4mr1932225wjb.104.1441330951117;
 Thu, 03 Sep 2015 18:42:31 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.28.18.21 with HTTP; Thu, 3 Sep 2015 18:41:51 -0700 (PDT)
In-Reply-To: <55DB0296.5060905@gmail.com>
References: <CAFMGiz-=qK31nuHhqZGU+ZthqU6BUeMdAW_X36Vyu2dGboSwqQ@mail.gmail.com>
 <55DB0296.5060905@gmail.com>
From: Tom Browder <tom.browder@gmail.com>
Date: Thu, 3 Sep 2015 20:41:51 -0500
Message-ID: <CAFMGiz_cc37QZ5F5kKv5ke7pFf41vKAteL5SVqgkN3yFzx7Cmg@mail.gmail.com>
Subject: Re: Unexpected Warnings from Macro Use in 2.4
To: "dev@httpd.apache.org" <dev@httpd.apache.org>, nickgearls@gmail.com
Content-Type: text/plain; charset=UTF-8

On Mon, Aug 24, 2015 at 6:40 AM, Nick Gearls <nickgearls@gmail.com> wrote:
> This is definitely a bug as we have a major incompatibility between two
> features.

I have filed bug report ID 58304.

-Tom

From dev-return-83708-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep  4 04:24:38 2015
Return-Path: <dev-return-83708-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 35B71103F7
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  4 Sep 2015 04:24:38 +0000 (UTC)
Received: (qmail 68487 invoked by uid 500); 4 Sep 2015 04:24:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68398 invoked by uid 500); 4 Sep 2015 04:24:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68388 invoked by uid 99); 4 Sep 2015 04:24:37 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2015 04:24:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id AF2651AB5F1
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 04:24:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id ymVROBtUTiSQ for <dev@httpd.apache.org>;
	Fri,  4 Sep 2015 04:24:29 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 1010220FD3
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 04:24:28 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id E44BF22B29
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 06:24:19 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id KD0MObfYxQzb for <dev@httpd.apache.org>;
	Fri,  4 Sep 2015 06:24:19 +0200 (CEST)
Received: from [10.202.65.180] (CPE-110-147-162-245.nhl8.cht.bigpond.net.au [110.147.162.245])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 9146B22AFE
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 06:24:18 +0200 (CEST)
Subject: Re: r1701005 httpd-trunk\server\protocols.c
To: dev@httpd.apache.org
References: <55E8CF43.1090701@gknw.net>
 <CAKQ1sVPkR3VxFUSHFH1384RrB8kzAwFSWfjAyaO20iPxeA-e4A@mail.gmail.com>
From: NormW <normw@gknw.net>
Message-ID: <55E91CC7.1060209@gknw.net>
Date: Fri, 4 Sep 2015 14:23:35 +1000
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <CAKQ1sVPkR3VxFUSHFH1384RrB8kzAwFSWfjAyaO20iPxeA-e4A@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

On 4/09/2015 9:05 AM, Yann Ylavic wrote:
> On Fri, Sep 4, 2015 at 12:52 AM, NormW <normw@gknw.net> wrote:
>> Hi again,
>> Pushing passed previous problem, now arrive at:
>>>
>>> D:\Projects\svn\httpd-trunk\server>svn diff
>>> Index: protocol.c
>>> ===================================================================
>>> --- protocol.c  (revision 1701142)
>>> +++ protocol.c  (working copy)
>>> @@ -1981,10 +1981,10 @@
>>>                                               server_rec *s,
>>>                                               apr_array_header_t *choices)
>>>   {
>>> +    apr_array_header_t *proposals;
>>>       apr_pool_t *pool = r? r->pool : c->pool;
>>>       core_server_config *conf =
>>> ap_get_core_module_config(s->module_config);
>>>       const char *protocol = NULL, *existing = ap_get_protocol(c);;
>>> -    apr_array_header_t *proposals;
>
> Hm, aren't there other/many places in the httpd code where non
> initialized variables are declared after the initialized ones?
>
I am hoping my compiler is at least consistent!
Not sure of what the rules are well enough to be an expert. I know 
Windows can be as pedantic as mine. See if Gregg asks for a similar 
change first, just to be sure.
Norm


From dev-return-83709-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep  4 07:04:41 2015
Return-Path: <dev-return-83709-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 55BF210B53
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  4 Sep 2015 07:04:41 +0000 (UTC)
Received: (qmail 36534 invoked by uid 500); 4 Sep 2015 07:04:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36467 invoked by uid 500); 4 Sep 2015 07:04:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36457 invoked by uid 99); 4 Sep 2015 07:04:40 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2015 07:04:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 361D3F163C
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 07:04:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_MSPIKE_H2=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id PCJwuS7d1AnL for <dev@httpd.apache.org>;
	Fri,  4 Sep 2015 07:04:31 +0000 (UTC)
Received: from fed1rmfepo101.cox.net (fed1rmfepo101.cox.net [68.230.241.143])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 699A92139C
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 07:04:30 +0000 (UTC)
Received: from fed1rmimpo210 ([68.230.241.161]) by fed1rmfepo101.cox.net
          (InterMail vM.8.01.05.15 201-2260-151-145-20131218) with ESMTP
          id <20150904070423.LXYH11887.fed1rmfepo101.cox.net@fed1rmimpo210>
          for <dev@httpd.apache.org>; Fri, 4 Sep 2015 03:04:23 -0400
Received: from [192.168.1.33] ([98.176.34.113])
	by fed1rmimpo210 with cox
	id Cv4N1r0012STVfm01v4NsQ; Fri, 04 Sep 2015 03:04:22 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020205.55E94277.0009,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=2.0 cv=LIa4tuq9 c=1 sm=1
 a=8xCO7h6kmYZdHn5tUOQhsw==:17 a=LrjODJgKAAAA:8 a=LselPehBGG1ZJuUV1wgA:9
 a=QEXdDO2ut3YA:10 a=8xCO7h6kmYZdHn5tUOQhsw==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; auth=pass (PLAIN) smtp.auth=glewis63@cox.net
Message-ID: <55E941F6.5080505@gknw.net>
Date: Fri, 04 Sep 2015 00:02:14 -0700
From: Gregg Smith <gls@gknw.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.28) Gecko/20120306 Thunderbird/3.1.20
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: r1701005 httpd-trunk\server\protocols.c
References: <55E8CF43.1090701@gknw.net> <CAKQ1sVPkR3VxFUSHFH1384RrB8kzAwFSWfjAyaO20iPxeA-e4A@mail.gmail.com> <55E91CC7.1060209@gknw.net>
In-Reply-To: <55E91CC7.1060209@gknw.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

On 9/3/2015 9:23 PM, NormW wrote:
> On 4/09/2015 9:05 AM, Yann Ylavic wrote:
>> On Fri, Sep 4, 2015 at 12:52 AM, NormW <normw@gknw.net> wrote:
>>> Hi again,
>>> Pushing passed previous problem, now arrive at:
>>>>
>>>> D:\Projects\svn\httpd-trunk\server>svn diff
>>>> Index: protocol.c
>>>> ===================================================================
>>>> --- protocol.c  (revision 1701142)
>>>> +++ protocol.c  (working copy)
>>>> @@ -1981,10 +1981,10 @@
>>>>                                               server_rec *s,
>>>>                                               apr_array_header_t 
>>>> *choices)
>>>>   {
>>>> +    apr_array_header_t *proposals;
>>>>       apr_pool_t *pool = r? r->pool : c->pool;
>>>>       core_server_config *conf =
>>>> ap_get_core_module_config(s->module_config);
>>>>       const char *protocol = NULL, *existing = ap_get_protocol(c);;
>>>> -    apr_array_header_t *proposals;
>>
>> Hm, aren't there other/many places in the httpd code where non
>> initialized variables are declared after the initialized ones?
>>
> I am hoping my compiler is at least consistent!
> Not sure of what the rules are well enough to be an expert. I know 
> Windows can be as pedantic as mine. See if Gregg asks for a similar 
> change first, just to be sure.
> Norm
No it does not build on VC9 as is.
.\server\protocol.c(1987) : error C2143: syntax error : missing ';' 
before 'type'
.\server\protocol.c(1998) : error C2065: 'proposals' : undeclared identifier

But fresh eyes see the ;; on the end of line 1986
const char *protocol = NULL, *existing = ap_get_protocol(c);;
Why this trips our compilers I have no idea but one ; should be sufficient.
fixed in r1701165


From dev-return-83710-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep  4 07:21:13 2015
Return-Path: <dev-return-83710-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7AAD510BC9
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  4 Sep 2015 07:21:13 +0000 (UTC)
Received: (qmail 64493 invoked by uid 500); 4 Sep 2015 07:21:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64428 invoked by uid 500); 4 Sep 2015 07:21:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64418 invoked by uid 99); 4 Sep 2015 07:21:12 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2015 07:21:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 6D3DB181B4C
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 07:21:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.001
X-Spam-Level: *
X-Spam-Status: No, score=1.001 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id n_4TmgcjZ2-P for <dev@httpd.apache.org>;
	Fri,  4 Sep 2015 07:21:05 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id C159E42B36
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 07:21:04 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id A86F722B27
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 09:21:02 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id M4WDbDwjEmuw for <dev@httpd.apache.org>;
	Fri,  4 Sep 2015 09:21:02 +0200 (CEST)
Received: from [10.202.65.180] (CPE-110-147-179-175.nhl8.cht.bigpond.net.au [110.147.179.175])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id 42D7622AFE
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 09:21:00 +0200 (CEST)
Subject: Re: r1701005 httpd-trunk\server\protocols.c
To: dev@httpd.apache.org
References: <55E8CF43.1090701@gknw.net>
 <CAKQ1sVPkR3VxFUSHFH1384RrB8kzAwFSWfjAyaO20iPxeA-e4A@mail.gmail.com>
 <55E91CC7.1060209@gknw.net> <55E941F6.5080505@gknw.net>
From: NormW <normw@gknw.net>
Message-ID: <55E94632.5000900@gknw.net>
Date: Fri, 4 Sep 2015 17:20:18 +1000
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <55E941F6.5080505@gknw.net>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

On 4/09/2015 5:02 PM, Gregg Smith wrote:
> On 9/3/2015 9:23 PM, NormW wrote:
>> On 4/09/2015 9:05 AM, Yann Ylavic wrote:
>>> On Fri, Sep 4, 2015 at 12:52 AM, NormW <normw@gknw.net> wrote:
>>>> Hi again,
>>>> Pushing passed previous problem, now arrive at:
>>>>>
>>>>> D:\Projects\svn\httpd-trunk\server>svn diff
>>>>> Index: protocol.c
>>>>> ===================================================================
>>>>> --- protocol.c  (revision 1701142)
>>>>> +++ protocol.c  (working copy)
>>>>> @@ -1981,10 +1981,10 @@
>>>>>                                               server_rec *s,
>>>>>                                               apr_array_header_t
>>>>> *choices)
>>>>>   {
>>>>> +    apr_array_header_t *proposals;
>>>>>       apr_pool_t *pool = r? r->pool : c->pool;
>>>>>       core_server_config *conf =
>>>>> ap_get_core_module_config(s->module_config);
>>>>>       const char *protocol = NULL, *existing = ap_get_protocol(c);;
>>>>> -    apr_array_header_t *proposals;
>>>
>>> Hm, aren't there other/many places in the httpd code where non
>>> initialized variables are declared after the initialized ones?
>>>
>> I am hoping my compiler is at least consistent!
>> Not sure of what the rules are well enough to be an expert. I know
>> Windows can be as pedantic as mine. See if Gregg asks for a similar
>> change first, just to be sure.
>> Norm
> No it does not build on VC9 as is.
> .\server\protocol.c(1987) : error C2143: syntax error : missing ';'
> before 'type'
> .\server\protocol.c(1998) : error C2065: 'proposals' : undeclared
> identifier
>
> But fresh eyes see the ;; on the end of line 1986
> const char *protocol = NULL, *existing = ap_get_protocol(c);;
> Why this trips our compilers I have no idea but one ; should be sufficient.
> fixed in r1701165
>
Works also for me; apologies for the red herring - likely to do with 
operating a computer before the first coffee of the day - never noticed 
the ';;' either.
Norm


From dev-return-83711-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep  4 08:08:45 2015
Return-Path: <dev-return-83711-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5C4E710E29
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  4 Sep 2015 08:08:45 +0000 (UTC)
Received: (qmail 56322 invoked by uid 500); 4 Sep 2015 08:08:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56244 invoked by uid 500); 4 Sep 2015 08:08:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56234 invoked by uid 99); 4 Sep 2015 08:08:44 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2015 08:08:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 5FE39C0825
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 08:08:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id UP17wHL9O8Nl for <dev@httpd.apache.org>;
	Fri,  4 Sep 2015 08:08:36 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 22F2521232
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 08:08:35 +0000 (UTC)
Received: from [192.168.1.48] (unknown [78.35.196.133])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 2DEA515A0488
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 10:08:26 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: r1701005 httpd-trunk\server\protocols.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <55E94632.5000900@gknw.net>
Date: Fri, 4 Sep 2015 10:08:25 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <97991AE5-3225-4A56-901C-34084A6E711E@greenbytes.de>
References: <55E8CF43.1090701@gknw.net> <CAKQ1sVPkR3VxFUSHFH1384RrB8kzAwFSWfjAyaO20iPxeA-e4A@mail.gmail.com> <55E91CC7.1060209@gknw.net> <55E941F6.5080505@gknw.net> <55E94632.5000900@gknw.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

I think we are all tired of fixing compiler warnings on committed code. =
I do not see those warnings in --maintainer-mode on OS X and yet, clang =
is able to generate warnings about very, very obscure things. So I =
assume we are not using the compiler to its fullest extend and are =
doings this "by hand" which is very inefficient for everyone.

There are autoconf macros out there that check support for -Wxxx and =
enable when available. Can we use something like this, please?=20

As you might have noticed, I am a bit busy right now. Does someone else =
have the time and willingness to dive into this?

Cheers,

  Stefan

> Am 04.09.2015 um 09:20 schrieb NormW <normw@gknw.net>:
>=20
> On 4/09/2015 5:02 PM, Gregg Smith wrote:
>> On 9/3/2015 9:23 PM, NormW wrote:
>>> On 4/09/2015 9:05 AM, Yann Ylavic wrote:
>>>> On Fri, Sep 4, 2015 at 12:52 AM, NormW <normw@gknw.net> wrote:
>>>>> Hi again,
>>>>> Pushing passed previous problem, now arrive at:
>>>>>>=20
>>>>>> D:\Projects\svn\httpd-trunk\server>svn diff
>>>>>> Index: protocol.c
>>>>>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>>>>>> --- protocol.c  (revision 1701142)
>>>>>> +++ protocol.c  (working copy)
>>>>>> @@ -1981,10 +1981,10 @@
>>>>>>                                              server_rec *s,
>>>>>>                                              apr_array_header_t
>>>>>> *choices)
>>>>>>  {
>>>>>> +    apr_array_header_t *proposals;
>>>>>>      apr_pool_t *pool =3D r? r->pool : c->pool;
>>>>>>      core_server_config *conf =3D
>>>>>> ap_get_core_module_config(s->module_config);
>>>>>>      const char *protocol =3D NULL, *existing =3D =
ap_get_protocol(c);;
>>>>>> -    apr_array_header_t *proposals;
>>>>=20
>>>> Hm, aren't there other/many places in the httpd code where non
>>>> initialized variables are declared after the initialized ones?
>>>>=20
>>> I am hoping my compiler is at least consistent!
>>> Not sure of what the rules are well enough to be an expert. I know
>>> Windows can be as pedantic as mine. See if Gregg asks for a similar
>>> change first, just to be sure.
>>> Norm
>> No it does not build on VC9 as is.
>> .\server\protocol.c(1987) : error C2143: syntax error : missing ';'
>> before 'type'
>> .\server\protocol.c(1998) : error C2065: 'proposals' : undeclared
>> identifier
>>=20
>> But fresh eyes see the ;; on the end of line 1986
>> const char *protocol =3D NULL, *existing =3D ap_get_protocol(c);;
>> Why this trips our compilers I have no idea but one ; should be =
sufficient.
>> fixed in r1701165
>>=20
> Works also for me; apologies for the red herring - likely to do with =
operating a computer before the first coffee of the day - never noticed =
the ';;' either.
> Norm
>=20

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83712-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep  4 08:52:54 2015
Return-Path: <dev-return-83712-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B93DC1720F
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  4 Sep 2015 08:52:54 +0000 (UTC)
Received: (qmail 38065 invoked by uid 500); 4 Sep 2015 08:52:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 37988 invoked by uid 500); 4 Sep 2015 08:52:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 37978 invoked by uid 99); 4 Sep 2015 08:52:54 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2015 08:52:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id CFBD41AB624
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 08:52:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.007
X-Spam-Level:
X-Spam-Status: No, score=-0.007 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 1_RYnjZnk3Gl for <dev@httpd.apache.org>;
	Fri,  4 Sep 2015 08:52:51 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 65A602312F
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 08:52:51 +0000 (UTC)
Received: from [192.168.1.48] (unknown [78.35.196.133])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 9653615A01E5
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 10:52:49 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1701005 - in /httpd/httpd/trunk: docs/manual/mod/core.xml include/http_protocol.h modules/ssl/ssl_engine_kernel.c server/core.c server/protocol.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVNBV0PJAFgnhbpBe5DF2k327C7GZ_P0QZf1K6PZH=X7gw@mail.gmail.com>
Date: Fri, 4 Sep 2015 10:52:48 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <73414A35-238C-4C67-9FF0-56766A63602B@greenbytes.de>
References: <20150903124527.650C8AC010E@hades.apache.org> <CAKQ1sVNBV0PJAFgnhbpBe5DF2k327C7GZ_P0QZf1K6PZH=X7gw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

Thanks for the patch, Yann! Applied in r1701178.

> Am 03.09.2015 um 17:46 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Thu, Sep 3, 2015 at 2:45 PM,  <icing@apache.org> wrote:
>> Author: icing
>> Date: Thu Sep  3 12:45:26 2015
>> New Revision: 1701005
>>=20
>> URL: http://svn.apache.org/r1701005
>> Log:
>> changed Protocols default to http/1.1 only, updated documentation, =
changed ap_select_protocol() to return NULL when no protocol could be =
agreed upon
>>=20
>> Modified:
> []
>>    httpd/httpd/trunk/server/protocol.c
> []
>>=20
>> Modified: httpd/httpd/trunk/server/protocol.c
>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/server/protocol.c?rev=3D170=
1005&r1=3D1701004&r2=3D1701005&view=3Ddiff
>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>> --- httpd/httpd/trunk/server/protocol.c (original)
>> +++ httpd/httpd/trunk/server/protocol.c Thu Sep  3 12:45:26 2015
>> @@ -1982,53 +1982,77 @@ AP_DECLARE(const char *) ap_select_proto
>>                                             apr_array_header_t =
*choices)
>> {
>>     apr_pool_t *pool =3D r? r->pool : c->pool;
>> -    apr_array_header_t *proposals;
>> -    const char *protocol =3D NULL, *existing =3D ap_get_protocol(c);
>>     core_server_config *conf =3D =
ap_get_core_module_config(s->module_config);
>> +    const char *protocol =3D NULL, *existing =3D =
ap_get_protocol(c);;
>> +    apr_array_header_t *proposals;
>=20
> I think we should not check for NULL "choices" below, it's up to
> caller to provide a valid pointer (or we crash where we should).
>=20
> Also it should probably be a const apr_array_header_t*.
>=20
>>=20
>>     if (APLOGcdebug(c)) {
>>         const char *p =3D apr_array_pstrcat(pool, conf->protocols, =
',');
>>         ap_log_cerror(APLOG_MARK, APLOG_DEBUG, 0, c,
>>                       "select protocol from %s, choices=3D%s for =
server %s",
>> -                      p, apr_array_pstrcat(pool, choices, ','),
>> +                      p, choices?
>> +                      apr_array_pstrcat(pool, choices, ',') : =
"NULL",
>>                       s->server_hostname);
>>     }
>>=20
>> -    proposals =3D apr_array_make(pool, choices->nelts+1, sizeof(char =
*));
>> +    proposals =3D apr_array_make(pool, choices? choices->nelts+1 : =
5,
>> +                               sizeof(char *));
>>     ap_run_protocol_propose(c, r, s, choices, proposals);
>>=20
>>     if (proposals->nelts > 0) {
>>         int i;
>> -        apr_array_header_t *prefs =3D ((conf->protocols_honor_order =
> 0
>> -                                      && conf->protocols->nelts > =
0)?
>> -                                     conf->protocols : choices);
>> +        apr_array_header_t *prefs =3D NULL;
>> +
>> +        /* Default for protocols_honor_order is 'on' or !=3D 0 */
>> +        if (conf->protocols_honor_order =3D=3D 0 && choices && =
choices->nelts > 0) {
>> +            prefs =3D choices;
>> +        }
>> +        else {
>> +            prefs =3D conf->protocols;
>> +        }
>>=20
>>         /* If the existing protocol has not been proposed, but is a =
choice,
>>          * add it to the proposals implicitly.
>>          */
>> -        if (!ap_array_str_contains(proposals, existing)
>> +        if (choices
>> +            && !ap_array_str_contains(proposals, existing)
>>             && ap_array_str_contains(choices, existing)) {
>>             APR_ARRAY_PUSH(proposals, const char*) =3D existing;
>>         }
>=20
> Shouldn't this "if" be moved before "if (proposals->nelts > 0)" above
> so that we enter here (i.e. don't return NULL) when "existing" is both
> a choice and a configured Protocols?
>=20
>> -
>> +
>>         /* Select the most preferred protocol */
>>         if (APLOGcdebug(c)) {
>>             ap_log_cerror(APLOG_MARK, APLOG_DEBUG, 0, c,
>> -                          "select protocol, proposals=3D%s =
preferences=3D%s",
>> +                          "select protocol, proposals=3D%s =
preferences=3D%s configured=3D%s",
>>                           apr_array_pstrcat(pool, proposals, ','),
>> -                          apr_array_pstrcat(pool, prefs, ','));
>> +                          apr_array_pstrcat(pool, prefs, ','),
>> +                          apr_array_pstrcat(pool, conf->protocols, =
','));
>>         }
>> -        for (i =3D 0; i < proposals->nelts; ++i) {
>> -            const char *p =3D APR_ARRAY_IDX(proposals, i, const char =
*);
>> -            if (conf->protocols->nelts > 0
>> -                && !ap_array_str_contains(conf->protocols, p)) {
>> -                /* not a permitted protocol here */
>> -                continue;
>> -            }
>> -            else if (!protocol
>> -                     || (protocol_cmp(prefs, protocol, p) < 0)) {
>> -                /* none selected yet or this on has preference */
>> -                protocol =3D p;
>> +        if (conf->protocols->nelts <=3D 0) {
>> +            /* nothing configured, by default, we only allow =
http/1.1 here.
>> +             * For now...
>> +             */
>> +            return (ap_array_str_contains(proposals, =
AP_PROTOCOL_HTTP1)?
>> +                    AP_PROTOCOL_HTTP1 : NULL);
>> +        }
>=20
> Couldn't we move this "if" at the beginning of the function?
> Whatever the choices and proposals are, it looks immutable.
>=20
>> +        else {
>> +            for (i =3D 0; i < proposals->nelts; ++i) {
>> +                const char *p =3D APR_ARRAY_IDX(proposals, i, const =
char *);
>> +                if (conf->protocols->nelts <=3D 0 && =
!strcmp(AP_PROTOCOL_HTTP1, p)) {
>=20
> "conf->protocols->nelts <=3D 0" already tested above (always false =
here).
>=20
>> +                    /* nothing configured, by default, we only allow =
http/1.1 here.
>> +                     * For now...
>> +                     */
>> +                    continue;
>> +                }
>> +                if (!ap_array_str_contains(conf->protocols, p)) {
>> +                    /* not a configured protocol here */
>> +                    continue;
>> +                }
>> +                else if (!protocol
>> +                         || (protocol_cmp(prefs, protocol, p) < 0)) =
{
>> +                    /* none selected yet or this one has preference =
*/
>> +                    protocol =3D p;
>> +                }
>>             }
>>         }
>>     }
>> @@ -2037,7 +2061,7 @@ AP_DECLARE(const char *) ap_select_proto
>>                       protocol? protocol : "(none)");
>>     }
>>=20
>> -    return protocol? protocol : existing;
>> +    return protocol;
>> }
>=20
>=20
> My comments above also attached as a patch (possibly better than words =
;) ...
>=20
> Regards,
> Yann.
> <ap_select_protocol.patch>

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83713-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep  4 11:02:14 2015
Return-Path: <dev-return-83713-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EA2AC1780D
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  4 Sep 2015 11:02:14 +0000 (UTC)
Received: (qmail 90021 invoked by uid 500); 4 Sep 2015 11:02:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89942 invoked by uid 500); 4 Sep 2015 11:02:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89932 invoked by uid 99); 4 Sep 2015 11:02:09 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2015 11:02:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 0B87F1803F7
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 11:02:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id xu652b5lp2lS for <dev@httpd.apache.org>;
	Fri,  4 Sep 2015 11:02:02 +0000 (UTC)
Received: from resqmta-ch2-01v.sys.comcast.net (resqmta-ch2-01v.sys.comcast.net [69.252.207.33])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id AC41F210D6
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 11:02:01 +0000 (UTC)
Received: from resomta-ch2-13v.sys.comcast.net ([69.252.207.109])
	by resqmta-ch2-01v.sys.comcast.net with comcast
	id Cz1u1r0062N9P4d01z1uBC; Fri, 04 Sep 2015 11:01:54 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-13v.sys.comcast.net with comcast
	id Cz1t1r00H2U0RYt01z1tfb; Fri, 04 Sep 2015 11:01:54 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: Balancers (file based SHMs) and restart issue (Windows only?)
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVMtQs1+6wuBL50AanrVEVQ5qtzqHc0yiuDUznGUF+VJ7Q@mail.gmail.com>
Date: Fri, 4 Sep 2015 07:01:53 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <77B7897B-7381-4FAB-94CA-39F8B1FA8EA4@jaguNET.com>
References: <CAKQ1sVMtQs1+6wuBL50AanrVEVQ5qtzqHc0yiuDUznGUF+VJ7Q@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1441364514;
	bh=dLmJBqY1Wq9Ziili4UhA5s0gFu2blLcVyUFUuTDEZLs=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=Rd6ryWF/fBmfLIdldWdJ6F4Q3sr5AiA+vA5SMnuBn86P3RMabKsMGiOoPgPDG03YX
	 l9Jx0cA6R7wvpOinbdi2p1YyUkWXuoiVgMVkoYRLPnCV7lv9kTb7fpsesXVAADZRCr
	 lEK2NpqHQC/HRalZvZDs1zN/xUDBo3KhXs0QNjCEAQFVMgZ9GvVkoCRFomCS7h9G4J
	 bEaGLEduomdcCgE+8MbUHf4rIuULiSw9xe7cu8Cgrp5i3ozSU/yBUAq3hJ5m9QuEMB
	 z3j0cx8SnsNThEQko9v/ClOVcMqonr4xUZeyO1lzawnwUBo86tQGqIavSEGCDEYtYJ
	 8pQdZMWzJBwXA==

Instead of changing the default for all OSs, sounds like
some Windows specific changes may need to be done. Has anyone
using Windows actually seen this or confirmed this is
possible??

> On Sep 2, 2015, at 5:08 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> 
> Re PR 58024.
> 
> AIUI, balancers (and members) SHM slots are destroyed (and the
> underlying base file removed) with pconf before restarting and then
> re-created after (according to the new configuration, eg. number of
> balancers/members, be it the same or not).
> Persisted slots are saved in their own file (with the .persit suffix),
> and reused (copied) only if the configuration did not change in
> between.
> (@Jim, I see now how this is better than attaching ;)
> 
> This works well on Unixes, but on Windows files can't be removed
> (unlinked) while any process/thread hold an HANDLE on it, hence until
> all the children have exited...
> Thus, since the SHM files still exist on restart, the balancer code
> tries to attach them instead of re-creating, and issues the checks on
> the existing size to fit the reloaded configuration, and fail should
> should any balancer/member be added or removed => PR 58024.
> 
> BTW, even on Unixes there is a race on these files between the main
> process and the children, or the children themselves from different
> "generation".
> 
> So I wonder if we could use anonymous SHMs instead (or mktemp based
> when not native), persisted slots are saved in their own files anyway
> and won't be affected.
> Otherwise, maybe we could use the "generation" as part of the file
> name, but that's equivalent and more complex IMO.
> 
> Thoughts?


From dev-return-83714-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep  4 13:26:56 2015
Return-Path: <dev-return-83714-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E5AAE17E14
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  4 Sep 2015 13:26:56 +0000 (UTC)
Received: (qmail 51355 invoked by uid 500); 4 Sep 2015 13:26:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51278 invoked by uid 500); 4 Sep 2015 13:26:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51268 invoked by uid 99); 4 Sep 2015 13:26:56 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2015 13:26:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C61721AB179
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 13:26:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.007
X-Spam-Level:
X-Spam-Status: No, score=-0.007 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id tTiAlDpy-l09 for <dev@httpd.apache.org>;
	Fri,  4 Sep 2015 13:26:54 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 92FB72133F
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 13:26:53 +0000 (UTC)
Received: from [192.168.1.48] (unknown [78.35.196.133])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 6E0CC15A0295
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 15:26:46 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: multipart/mixed; boundary="Apple-Mail=_D033AE6A-F17D-4326-B80A-867E14CA0890"
Subject: httpd/trunk -Werror and warning free
Message-Id: <58CD0D1D-159E-478B-B99F-16D85E53F37A@greenbytes.de>
Date: Fri, 4 Sep 2015 15:26:45 +0200
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
X-Mailer: Apple Mail (2.2104)


--Apple-Mail=_D033AE6A-F17D-4326-B80A-867E14CA0890
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=us-ascii

Below you find a patch that would make httpd/trunk
- set -std=3Dc89 on gcc in maintainer mode
- abort compilation on every warning (-Werror) in maintainer-mode
- fix all warnings that are currently there

Please consider over the weekend. I would very much like to have that =
applied so all my C89 stupidity gets caught by the machine and is my =
problem before I commit sth to you.

Otherwise have a nice weekend,

  Stefan


--Apple-Mail=_D033AE6A-F17D-4326-B80A-867E14CA0890
Content-Disposition: attachment;
	filename=httpd-trunk-warning-free.patch
Content-Type: application/octet-stream;
	name="httpd-trunk-warning-free.patch"
Content-Transfer-Encoding: 7bit

Index: acinclude.m4
===================================================================
--- acinclude.m4	(revision 1701214)
+++ acinclude.m4	(working copy)
@@ -811,7 +811,7 @@
     AC_CACHE_CHECK([whether gcc accepts $1], ap_gcc_ckvar, [
       save_CFLAGS="$CFLAGS"
       CFLAGS="$CFLAGS $1"
-      AC_COMPILE_IFELSE([AC_LANG_SOURCE([int foo() { return 0; }])],
+      AC_COMPILE_IFELSE([AC_LANG_PROGRAM()],
         [ap_gcc_ckvar=yes], [ap_gcc_ckvar=no])
       CFLAGS="$save_CFLAGS"
     ])
Index: configure.in
===================================================================
--- configure.in	(revision 1701214)
+++ configure.in	(working copy)
@@ -625,11 +625,12 @@
     APR_ADDTO(CPPFLAGS, -DAP_DEBUG)
     if test "$GCC" = "yes"; then
       APR_ADDTO(CFLAGS,[-Wall -Wmissing-prototypes -Wstrict-prototypes -Wmissing-declarations -Wpointer-arith])
+      APACHE_ADD_GCC_CFLAG([-std=c89])
+      APACHE_ADD_GCC_CFLAG([-Werror])
       APACHE_ADD_GCC_CFLAG([-Wdeclaration-after-statement])
-      APACHE_ADD_GCC_CFLAG([-Werror=declaration-after-statement])
       APACHE_ADD_GCC_CFLAG([-Wformat])
       APACHE_ADD_GCC_CFLAG([-Wformat-security])
-      APACHE_ADD_GCC_CFLAG([-Werror=format-security])
+      APACHE_ADD_GCC_CFLAG([-Wunused])
     elif test "$AIX_XLC" = "yes"; then
       APR_ADDTO(CFLAGS,-qfullpath -qinitauto=FE -qcheck=all -qinfo=pro)
     fi
@@ -893,6 +894,13 @@
 AC_MSG_NOTICE([Restore user-defined environment settings...])
 AC_MSG_NOTICE([])
 
+APACHE_CONF_SEL_CC=${CC}
+APACHE_CONF_SEL_CFLAGS=${CFLAGS}
+APACHE_CONF_SEL_LDFLAGS=${LDFLAGS}
+APACHE_CONF_SEL_LIBS=${LIBS}
+APACHE_CONF_SEL_CPPFLAGS=${CPPFLAGS}
+APACHE_CONF_SEL_CPP=${CPP}
+
 APR_RESTORE_THE_ENVIRONMENT(CPPFLAGS, EXTRA_)
 APR_RESTORE_THE_ENVIRONMENT(CFLAGS, EXTRA_)
 APR_RESTORE_THE_ENVIRONMENT(CXXFLAGS, EXTRA_)
@@ -973,3 +981,15 @@
 AC_OUTPUT($APACHE_OUTPUT_FILES docs/conf/httpd.conf docs/conf/extra/httpd-autoindex.conf docs/conf/extra/httpd-dav.conf docs/conf/extra/httpd-default.conf docs/conf/extra/httpd-info.conf docs/conf/extra/httpd-languages.conf docs/conf/extra/httpd-manual.conf docs/conf/extra/httpd-mpm.conf docs/conf/extra/httpd-multilang-errordoc.conf docs/conf/extra/httpd-policy.conf docs/conf/extra/httpd-ssl.conf docs/conf/extra/httpd-userdir.conf docs/conf/extra/httpd-vhosts.conf docs/conf/extra/proxy-html.conf include/ap_config_layout.h support/apxs support/apachectl support/dbmmanage support/envvars-std support/log_server_status support/logresolve.pl support/phf_abuse_log.cgi support/split-logfile build/rules.mk build/pkg/pkginfo build/config_vars.sh,[true],[
   APACHE_GEN_MAKEFILES
 ])
+
+AC_MSG_NOTICE([summary of build options:
+
+    Server Version: ${HTTPD_VERSION}
+    Install prefix: ${prefix}
+    C compiler:     ${APACHE_CONF_SEL_CC}
+    CFLAGS:         ${APACHE_CONF_SEL_CFLAGS}
+    LDFLAGS:        ${APACHE_CONF_SEL_LDFLAGS}
+    LIBS:           ${APACHE_CONF_SEL_LIBS}
+    CPPFLAGS:       ${APACHE_CONF_SEL_CPPFLAGS}
+    C preprocessor: ${APACHE_CONF_SEL_CPP}
+])
Index: include/http_config.h
===================================================================
--- include/http_config.h	(revision 1701214)
+++ include/http_config.h	(working copy)
@@ -441,6 +441,14 @@
     module AP_MODULE_DECLARE_DATA foo##_module
 
 /**
+ * AP_DECLARE_MODULE_LAST is a convenience macro that can be used instead
+ * of AP_DECLARE_MODULE when it is the last thing done in a source file,
+ * as it avoids declaring unused static variables.
+ */
+#define AP_DECLARE_MODULE_LAST(foo) \
+    module AP_MODULE_DECLARE_DATA foo##_module
+
+/**
  * @defgroup ModuleInit Module structure initializers
  *
  * Initializer for the first few module slots, which are only
Index: include/scoreboard.h
===================================================================
--- include/scoreboard.h	(revision 1701214)
+++ include/scoreboard.h	(working copy)
@@ -26,11 +26,6 @@
 extern "C" {
 #endif
 
-#ifdef HAVE_SYS_TIMES_H
-#include <sys/time.h>
-#include <sys/times.h>
-#endif
-
 #include "ap_config.h"
 #include "http_config.h"
 #include "apr_thread_proc.h"
@@ -38,6 +33,11 @@
 #include "apr_shm.h"
 #include "apr_optional.h"
 
+#ifdef APR_HAVE_SYS_TIME_H
+#include <sys/time.h>
+#include <sys/times.h>
+#endif
+    
 /* Scoreboard file, if there is one */
 #ifndef DEFAULT_SCOREBOARD
 #define DEFAULT_SCOREBOARD "apache_runtime_status" /* within DEFAULT_REL_RUNTIMEDIR */
Index: modules/dav/fs/mod_dav_fs.c
===================================================================
--- modules/dav/fs/mod_dav_fs.c	(revision 1701214)
+++ modules/dav/fs/mod_dav_fs.c	(working copy)
@@ -107,7 +107,7 @@
     dav_fs_register(p);
 }
 
-AP_DECLARE_MODULE(dav_fs) =
+AP_DECLARE_MODULE_LAST(dav_fs) =
 {
     STANDARD20_MODULE_STUFF,
     NULL,                        /* dir config creater */
Index: modules/debugging/mod_bucketeer.c
===================================================================
--- modules/debugging/mod_bucketeer.c	(revision 1701214)
+++ modules/debugging/mod_bucketeer.c	(working copy)
@@ -176,7 +176,7 @@
     {NULL}
 };
 
-AP_DECLARE_MODULE(bucketeer) = {
+AP_DECLARE_MODULE_LAST(bucketeer) = {
     STANDARD20_MODULE_STUFF,
     NULL,
     NULL,
Index: modules/filters/mod_buffer.c
===================================================================
--- modules/filters/mod_buffer.c	(revision 1701214)
+++ modules/filters/mod_buffer.c	(working copy)
@@ -337,7 +337,7 @@
             AP_FTYPE_CONTENT_SET);
 }
 
-AP_DECLARE_MODULE(buffer) = {
+AP_DECLARE_MODULE_LAST(buffer) = {
     STANDARD20_MODULE_STUFF,
     create_buffer_config, /* create per-directory config structure */
     merge_buffer_config, /* merge per-directory config structures */
Index: modules/generators/mod_info.c
===================================================================
--- modules/generators/mod_info.c	(revision 1701214)
+++ modules/generators/mod_info.c	(working copy)
@@ -1006,7 +1006,7 @@
     ap_hook_check_config(check_config, NULL, NULL, APR_HOOK_FIRST);
 }
 
-AP_DECLARE_MODULE(info) = {
+AP_DECLARE_MODULE_LAST(info) = {
     STANDARD20_MODULE_STUFF,
     NULL,                       /* dir config creater */
     NULL,                       /* dir merger --- default is to override */
Index: modules/http/http_core.c
===================================================================
--- modules/http/http_core.c	(revision 1701214)
+++ modules/http/http_core.c	(working copy)
@@ -317,7 +317,7 @@
     ap_method_registry_init(p);
 }
 
-AP_DECLARE_MODULE(http) = {
+AP_DECLARE_MODULE_LAST(http) = {
     STANDARD20_MODULE_STUFF,
     NULL,              /* create per-directory config structure */
     NULL,              /* merge per-directory config structures */
Index: modules/loggers/mod_logio.c
===================================================================
--- modules/loggers/mod_logio.c	(revision 1701214)
+++ modules/loggers/mod_logio.c	(working copy)
@@ -265,7 +265,7 @@
     APR_REGISTER_OPTIONAL_FN(ap_logio_get_last_bytes);
 }
 
-AP_DECLARE_MODULE(logio) =
+AP_DECLARE_MODULE_LAST(logio) =
 {
     STANDARD20_MODULE_STUFF,
     create_logio_dirconf,       /* create per-dir config */ 
Index: modules/loggers/mod_syslog.c
===================================================================
--- modules/loggers/mod_syslog.c	(revision 1701214)
+++ modules/loggers/mod_syslog.c	(working copy)
@@ -165,7 +165,7 @@
                          AP_ERRORLOG_PROVIDER_VERSION, &syslog_provider);
 }
 
-AP_DECLARE_MODULE(syslog) =
+AP_DECLARE_MODULE_LAST(syslog) =
 {
     STANDARD20_MODULE_STUFF,
     NULL,
Index: modules/mappers/mod_dir.c
===================================================================
--- modules/mappers/mod_dir.c	(revision 1701214)
+++ modules/mappers/mod_dir.c	(working copy)
@@ -410,7 +410,7 @@
     ap_hook_fixups(dir_fixups,NULL,NULL,APR_HOOK_LAST);
 }
 
-AP_DECLARE_MODULE(dir) = {
+AP_DECLARE_MODULE_LAST(dir) = {
     STANDARD20_MODULE_STUFF,
     create_dir_config,          /* create per-directory config structure */
     merge_dir_configs,          /* merge per-directory config structures */
Index: modules/mappers/mod_userdir.c
===================================================================
--- modules/mappers/mod_userdir.c	(revision 1701214)
+++ modules/mappers/mod_userdir.c	(working copy)
@@ -379,7 +379,7 @@
 #endif
 }
 
-AP_DECLARE_MODULE(userdir) = {
+AP_DECLARE_MODULE_LAST(userdir) = {
     STANDARD20_MODULE_STUFF,
     NULL,                       /* dir config creater */
     NULL,                       /* dir merger --- default is to override */
Index: modules/mappers/mod_vhost_alias.c
===================================================================
--- modules/mappers/mod_vhost_alias.c	(revision 1701214)
+++ modules/mappers/mod_vhost_alias.c	(working copy)
@@ -444,7 +444,7 @@
     ap_hook_translate_name(mva_translate, aszPre, NULL, APR_HOOK_MIDDLE);
 }
 
-AP_DECLARE_MODULE(vhost_alias) =
+AP_DECLARE_MODULE_LAST(vhost_alias) =
 {
     STANDARD20_MODULE_STUFF,
     NULL,                       /* dir config creater */
Index: modules/metadata/mod_unique_id.c
===================================================================
--- modules/metadata/mod_unique_id.c	(revision 1701214)
+++ modules/metadata/mod_unique_id.c	(working copy)
@@ -305,7 +305,7 @@
     ap_hook_generate_log_id(generate_log_id, NULL, NULL, APR_HOOK_MIDDLE);
 }
 
-AP_DECLARE_MODULE(unique_id) = {
+AP_DECLARE_MODULE_LAST(unique_id) = {
     STANDARD20_MODULE_STUFF,
     NULL,                       /* dir config creater */
     NULL,                       /* dir merger --- default is to override */
Index: modules/metadata/mod_version.c
===================================================================
--- modules/metadata/mod_version.c	(revision 1701214)
+++ modules/metadata/mod_version.c	(working copy)
@@ -301,7 +301,7 @@
     { NULL }
 };
 
-AP_DECLARE_MODULE(version) =
+AP_DECLARE_MODULE_LAST(version) =
 {
     STANDARD20_MODULE_STUFF,
     NULL,             /* dir config creater */
Index: modules/session/mod_session_cookie.c
===================================================================
--- modules/session/mod_session_cookie.c	(revision 1701214)
+++ modules/session/mod_session_cookie.c	(working copy)
@@ -271,7 +271,7 @@
     ap_hook_session_save(session_cookie_save, NULL, NULL, APR_HOOK_MIDDLE);
 }
 
-AP_DECLARE_MODULE(session_cookie) =
+AP_DECLARE_MODULE_LAST(session_cookie) =
 {
     STANDARD20_MODULE_STUFF,
     create_session_cookie_dir_config, /* dir config creater */
Index: modules/ssl/ssl_engine_kernel.c
===================================================================
--- modules/ssl/ssl_engine_kernel.c	(revision 1701214)
+++ modules/ssl/ssl_engine_kernel.c	(working copy)
@@ -2184,7 +2184,7 @@
     }
 
     if (inlen == 0) {
-        // someone tries to trick us?
+        /* someone tries to trick us? */
         ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, APLOGNO(02837)
                       "ALPN client protocol list empty");
         return SSL_TLSEXT_ERR_ALERT_FATAL;
@@ -2194,7 +2194,7 @@
     for (i = 0; i < inlen; /**/) {
         unsigned int plen = in[i++];
         if (plen + i > inlen) {
-            // someone tries to trick us?
+            /* someone tries to trick us? */
             ap_log_cerror(APLOG_MARK, APLOG_ERR, 0, c, APLOGNO(02838)
                           "ALPN protocol identifier too long");
             return SSL_TLSEXT_ERR_ALERT_FATAL;
Index: server/core.c
===================================================================
--- server/core.c	(revision 1701214)
+++ server/core.c	(working copy)
@@ -433,7 +433,6 @@
 static void *create_core_server_config(apr_pool_t *a, server_rec *s)
 {
     core_server_config *conf;
-    const char **np;
     int is_virtual = s->is_virtual;
 
     conf = (core_server_config *)apr_pcalloc(a, sizeof(core_server_config));
@@ -5404,7 +5403,7 @@
                                   NULL, AP_FTYPE_RESOURCE - 10);
 }
 
-AP_DECLARE_MODULE(core) = {
+AP_DECLARE_MODULE_LAST(core) = {
     MPM20_MODULE_STUFF,
     AP_PLATFORM_REWRITE_ARGS_HOOK, /* hook to run before apache parses args */
     create_core_dir_config,       /* create per-directory config structure */
Index: server/util_expr_eval.c
===================================================================
--- server/util_expr_eval.c	(revision 1701214)
+++ server/util_expr_eval.c	(working copy)
@@ -98,7 +98,7 @@
     case op_String:
         result = node->node_arg1;
         break;
-    case op_Var:
+
         result = ap_expr_eval_var(ctx, (ap_expr_var_func_t *)node->node_arg1,
                                   node->node_arg2);
         break;
@@ -1249,7 +1249,7 @@
     apr_finfo_t sb;
     if (apr_stat(&sb, arg, APR_FINFO_MIN, ctx->p) == APR_SUCCESS
         && sb.filetype == APR_REG && sb.mtime > 0)
-        return apr_psprintf(ctx->p, "%" APR_OFF_T_FMT, sb.mtime);
+        return apr_psprintf(ctx->p, "%" APR_OFF_T_FMT, (apr_off_t)sb.mtime);
     else
         return "0";
 }

--Apple-Mail=_D033AE6A-F17D-4326-B80A-867E14CA0890
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=utf-8


<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




--Apple-Mail=_D033AE6A-F17D-4326-B80A-867E14CA0890--

From dev-return-83715-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep  4 14:24:53 2015
Return-Path: <dev-return-83715-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BB26A183EB
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  4 Sep 2015 14:24:53 +0000 (UTC)
Received: (qmail 63910 invoked by uid 500); 4 Sep 2015 14:24:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63830 invoked by uid 500); 4 Sep 2015 14:24:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63821 invoked by uid 99); 4 Sep 2015 14:24:53 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2015 14:24:53 +0000
Received: from gauss.localdomain (v4-861345e7.pool.vitroconnect.de [134.19.69.231])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id F3E791A0044
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 14:24:52 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 05BA3BD
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 16:24:54 +0200 (CEST)
Subject: Re: httpd/trunk -Werror and warning free
To: dev@httpd.apache.org
References: <58CD0D1D-159E-478B-B99F-16D85E53F37A@greenbytes.de>
From: Ruediger Pluem <rpluem@apache.org>
X-Enigmail-Draft-Status: N1110
Message-ID: <55E9A9B5.3030105@apache.org>
Date: Fri, 4 Sep 2015 16:24:53 +0200
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:38.0) Gecko/20100101
 Firefox/38.0 SeaMonkey/2.35
MIME-Version: 1.0
In-Reply-To: <58CD0D1D-159E-478B-B99F-16D85E53F37A@greenbytes.de>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

AP_DECLARE_MODULE_LAST is no good alternative to AP_DECLARE_MODULE as it will break per module loglevels.
We should not introduce this API.

Why is this case op_Var: removed in util_expr_eval.c?

Regards

Rüdiger

On 09/04/2015 03:26 PM, Stefan Eissing wrote:
> Below you find a patch that would make httpd/trunk
> - set -std=c89 on gcc in maintainer mode
> - abort compilation on every warning (-Werror) in maintainer-mode
> - fix all warnings that are currently there
> 
> Please consider over the weekend. I would very much like to have that applied so all my C89 stupidity gets caught by the machine and is my problem before I commit sth to you.
> 
> Otherwise have a nice weekend,
> 
>   Stefan
> 
> 
> 
> 
> <green/>bytes GmbH
> Hafenweg 16, 48155 Münster, Germany
> Phone: +49 251 2807760. Amtsgericht Münster: HRB5782
> 
> 
> 

From dev-return-83716-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep  4 14:59:33 2015
Return-Path: <dev-return-83716-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DBB92187E7
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  4 Sep 2015 14:59:32 +0000 (UTC)
Received: (qmail 67462 invoked by uid 500); 4 Sep 2015 14:59:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67393 invoked by uid 500); 4 Sep 2015 14:59:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67383 invoked by uid 99); 4 Sep 2015 14:59:32 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2015 14:59:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id EE94E181B4C
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 14:59:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.104
X-Spam-Level:
X-Spam-Status: No, score=-0.104 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.006, URIBL_BLOCKED=0.001, WEIRD_PORT=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=velox.ch header.b=hLQd9cQK;
	dkim=pass (2048-bit key) header.d=velox.ch header.b=CUu9/bQM
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id GpCVsUk5-tBl for <dev@httpd.apache.org>;
	Fri,  4 Sep 2015 14:59:18 +0000 (UTC)
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 7951742B1A
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 14:59:18 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t84ExAD8011198
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Fri, 4 Sep 2015 16:59:11 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1441378751;
	bh=yKo3Acl4CrdvgJDwjvmJssdLezi49t9iflHlq8wD+rg=;
	h=From:Subject:To:References:Date:In-Reply-To;
	b=hLQd9cQKBV8KOOflAKF6mcym+T1i+F3/gOeREbdNdSCy5PKmdNa233w/JZ9jEjI2v
	 5QDloNHftQWk2ijoavAv1m+WDE0n5GrD4TU0XphGXdr3QjDbcqjTrJoxSR8MIdvTvI
	 GODT5ydfcx3VsbEqzj+qOcoOvO6kgbIIE/KalOlepWqm5Tre7iNPamcy0twa38jkPm
	 aeze9BwwpTEJ0BalbhJlCzDPCZMhEj60k74yOWZ0vo/wbTDbZjr4mFM6DDaSoehjax
	 lxEl+XSOgJG4g10bKVmBdkp/5DqCqX/R5HFjwLFR2bOzUGjWMcpnmb3u8+JSNhIrkl
	 fRJ1IMm4+zFFg==
From: Kaspar Brand <httpd-dev.2014@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1441378747;
	bh=yKo3Acl4CrdvgJDwjvmJssdLezi49t9iflHlq8wD+rg=;
	h=From:Subject:To:References:Date:In-Reply-To;
	b=CUu9/bQMx4R1jORWJf7brS+LzdC+fDy6wuhFOTrZk2Svhta2NHwoV9EfSbvxmGoXX
	 AJaICVgnTD2sxGJXUzuF6X41FvWUNPQUfQLFcptqpqfPeD54jY2Q5UdLNimxPEzPgz
	 GyGxqn9QNSJsNBwQ2UnoMmDeSvXgDZAPyZ0HpoN6/oMITo1jwZ+wA47WgyBip4ffc3
	 5E3YHmfWx5L33QaCEyGDjLD0OzRa+ni9Xs3GyDVw36vxlcOXbyxQ2NiBotlC7xmpsD
	 qjfEovuDonJNCK+EzDI3THl4xB4DKlKnNdcQFkWpohtXlH0kK/FLUC6YcDr6ANsFNc
	 swUakehpjzw9g==
Subject: Re: [RFC] Enable OCSP Stapling by default in httpd trunk
To: dev@httpd.apache.org
References: <CAKUrXK6k01WGqF8z6F3YBNbanbTaOSHbbzwSi2O3H3u03_mvUw@mail.gmail.com>
 <5454A244.6070006@velox.ch>
 <CAG5KPzypCfJ7rZVBSC6t2hqxV5=zJcBDRcQxrGVUmnuYAsU_mw@mail.gmail.com>
 <55A12E9C.6060805@velox.ch>
 <CACsi251vkwFs3Neqqf-cdF7W=WDZFGqY-L+1baWQdTfJ+OaZ6Q@mail.gmail.com>
 <55A363EC.6030801@apache.org>
 <CAKUrXK6m6BGhhP3fg_Gx9wFyWD8YV4PgmyRqMa7iv6bRLXMspw@mail.gmail.com>
 <55E2A31E.5000204@velox.ch> <55E63AAE.1010205@gmail.com>
Message-ID: <55E9B1BB.3000005@velox.ch>
Date: Fri, 4 Sep 2015 16:59:07 +0200
MIME-Version: 1.0
In-Reply-To: <55E63AAE.1010205@gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit

On 02.09.2015 01:54, Jeff Trawick wrote:
> On 08/30/2015 02:30 AM, Kaspar Brand wrote:
>> today's situation, because this assessment misses the fact that with the
>> current RFC-6066-based implementation, stapling can't fully achieve the
>> goal of obviating OCSP queries for the clients - all publicly trusted
>> CAs use hierarchies with at least two tiers these days, so effectively
>> RFC 6961 support would be needed.
> I plead ignorance, but I don't see that "can't fully achieve" is a blocker.

It's not a blocker, sure, but on the other hand, the benefit of enabling
stapling by default isn't that big either - as long as browsers don't
hard-fail when OCSP information isn't available. The "speed, speed,
speed" argument (coming mostly from the browser vendors) isn't too
convincing to me neither, as OCSP replies are usually cached for one
or two days, and the typical user doesn't connect to thousands of
new/different SSL sites per day.

> Is there a synopsis of which browsers support it for which types of 
> certificates?

I don't think so, and it's probably also kind of a moving target. Chrome
"supports" it for DV and OV as well - it will include a status_request
extension in the TLS handshake by default -, but what I meant with
"enforces" is that it won't care if there's no stapled response
(Google's ceterum censeo used to be "Revocation doesn't work", which in
2012 lead to their implementation of CRL sets where the code is public,
but "the process by which they are generated is not",
https://dev.chromium.org/Home/chromium-security/crlsets).

For EV certs, the browser behavior is more uniform, though strict hard
fail enforcement still isn't happening - for testing purposes, try
this experiment: block connections to sr.symcb.com:80 and sr.symcd.com:80,
and point the browser to
https://test-sspev.verisign.com:2443/test-SSPEV-revoked-verisign.html.
With strict revocation checking enforced, no browser should ever render
any content of the "Revoked VeriSign Secure Site Pro with EV Certificate
Test Page" (but most do when revocation information is not available,
although some at least show warnings or downgrade the UI to non-EV).

> The motivation for putting it in trunk is so that the next release has 
> stapling enabled in the default configurations, which essentially means 
> that in some number of years (2-3?  I dunno) there will be a 
> faster-growing number of httpd instances that have OCSP stapling enabled.

Ok, if it's about 2.6/3.0, then we're indeed talking of a timeframe of
several years, I assume. What I don't like with this approach in any
case, however, is that we as the devs decide on behalf of the admins,
instead of letting them make an informed decision. I' really arguing
in favor of something like this in httpd-ssl.conf.in:

--- snip ---
#   SSL Engine Switch:
#   Enable/Disable SSL for this virtual host.
SSLEngine on

#  Server Certificate and Private Key:
#  ...
SSLCertificateFile "conf/server.crt"
SSLCertificateKeyFile "conf/server.key"

#  OCSP Stapling:
#  For SSL certificates which include an OCSP responder URI, mod_ssl
#  can include revocation status information for the server's own
#  certificate in the TLS handshake. Enabling this option requires
#  outgoing connectivity to the CA's OCSP responder (usually running
#  running on port 80, use "openssl x509 -in server.crt -text" to
#  determine the exact URI), so this option is not enabled by default.
#  The responder will be queried with the interval configured
#  via SSLStaplingStandardCacheTimeout. For EV SSL certificates
#  in particular, enabling this option is recommended/useful.
#SSLUseStapling On
--- snip ---

(i.e., move the SSLUseStapling directive closer to the cert settings,
and make people aware of the outgoing connections this will trigger)

> Part of what makes the 2.4.x tangent is confusing is that sometimes your 
> objections seem to be qualified on the assumption that 2.4.x would be 
> updated.  Can we please drop 2.4.x from this conversation?

Will do, yes. When trunk becomes 2.6/3.0 one day (and a GA release), the
basic question remains, though: is it acceptable that configuring an SSL
certificate potentially triggers outgoing OCSP requests in mod_ssl,
without having been explicitly instructed to do so by an admin? My view
is still the same as in November 2014: admins should opt in for this
feature, not be forced to opt out.

>>   It's also for this reason that I'm not in favor of a global
>> "SSLUseStapling On", it should really be configured on a per-vhost basis.
> 
> I don't follow.  What does that help?  With which attack vector does 
> that improve the situation?

The point I was trying to make is that stapling is a per-certificate
feature (not a global one like SSLRandomSeed, SSLSessionCache etc.), so
it would be best if the admin becomes aware of it when configuring the cert.

>>> While I find the "not make accidental outgoing connections" argument
>>> compelling (though perhaps with a different word than "accidental") the
>>> server already takes actions that cause outgoing connections to services
>>> not explicitly configured (DNS), and these occasionally cause problems.
>> Are you referring to queries when doing PTR lookups for connecting
>> clients? I think that's one of the very reasons why "HostnameLookups
>> Off" was chosen for extra/httpd-default.conf.
> 
> Not HostnameLookups; resolving ServerName at startup (configured or 
> defaulted).

Ok, but I wouldn't consider DNS as being implicitly configured - after
all, the resolvers are specified when network access on the OS level is
configured (and DNS queries are sent to nameservers which are hopefully
authoritative for lookups of hosts in the local net).

>>> Is there a principle at stake which could be followed consistently across
>>> disparate features in how the server behaves a) with compiled in defaults
>>> and minimal config, or b) with default/recommended config?
>> The default configuration should not trigger unsolicited outgoing
>> queries to untrusted systems, for both a) and b), that's how I would
>> put it.
> 
> Admin configures a certificate that has a domain name of attacker in the 
> responder URI?  DNS entry for domain name in responder URI is taken over 
> to point to attacker?

I was primarily trying to come up with a generic principle "which could
be followed consistently across disparate features", so I'm not sure if
considering specific attacks for the stapling case is the right way to
continue the discussion... as another example, take the "Version check
idea" thread from April 2015 [1] - even though there might not be an
immediate threat if it were enabled by default, I really hope that httpd
doesn't move into the direction of automatically enabling features
requiring outgoing connectivity (without the admin's explicit
instruction and consent).

> So forgetting 2.4.x, are you vetoing changing the trunk default config 
> to enable stapling, and are the criteria of the veto both
> 
> 1. The default configuration should not trigger unsolicited outgoing 
> queries to untrusted systems, for both a) and b), that's how I would put it.
> 2. Additionally, features enabled by default need to have sufficient 
> coverage in the test framework.

For GA releases, my position is that both criteria apply, yes. If it's
enabled in trunk, an alpha or a beta for getting broader testing exposure,
then the docs and release notes/announcement should prominently say so
(not only for OCSP stapling specifically, but in general for those
features which may trigger unsolicited outgoing connections).

Kaspar


[1] https://mail-archives.apache.org/mod_mbox/httpd-dev/201504.mbox/%3C7C89CDBA-B463-415F-82DA-DDD6AD88C38E@jaguNET.com%3E

From dev-return-83717-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep  4 15:54:23 2015
Return-Path: <dev-return-83717-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B17E018AA0
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  4 Sep 2015 15:54:23 +0000 (UTC)
Received: (qmail 26217 invoked by uid 500); 4 Sep 2015 15:54:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 26146 invoked by uid 500); 4 Sep 2015 15:54:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 26136 invoked by uid 99); 4 Sep 2015 15:54:22 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2015 15:54:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 859B2180251
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 15:54:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, URIBL_BLOCKED=0.001, WEIRD_PORT=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 885oJE1ZHtIS for <dev@httpd.apache.org>;
	Fri,  4 Sep 2015 15:54:10 +0000 (UTC)
Received: from mmextmx1.mcr.colo.comodoca.net (mail1.comodoca.com [91.209.196.72])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id AAF9020F1E
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 15:54:09 +0000 (UTC)
Received: (qmail 3857 invoked by uid 1004); 4 Sep 2015 15:54:01 -0000
Received: from ian.brad.office.comodo.net (HELO ian.brad.office.comodo.net) (192.168.0.202)
    by mmextmx1.mcr.colo.comodoca.net (qpsmtpd/0.84) with ESMTP; Fri, 04 Sep 2015 16:54:01 +0100
Received: (qmail 20893 invoked by uid 1000); 4 Sep 2015 15:54:01 -0000
Received: from and0004.comodo.net (HELO [192.168.0.58]) (192.168.0.58)
  (smtp-auth username rob, mechanism plain)
  by ian.brad.office.comodo.net (qpsmtpd/0.40) with (AES128-SHA encrypted) ESMTPSA; Fri, 04 Sep 2015 16:54:01 +0100
Subject: Re: [RFC] Enable OCSP Stapling by default in httpd trunk
To: dev@httpd.apache.org
References: <CAKUrXK6k01WGqF8z6F3YBNbanbTaOSHbbzwSi2O3H3u03_mvUw@mail.gmail.com>
 <5454A244.6070006@velox.ch>
 <CAG5KPzypCfJ7rZVBSC6t2hqxV5=zJcBDRcQxrGVUmnuYAsU_mw@mail.gmail.com>
 <55A12E9C.6060805@velox.ch>
 <CACsi251vkwFs3Neqqf-cdF7W=WDZFGqY-L+1baWQdTfJ+OaZ6Q@mail.gmail.com>
 <55A363EC.6030801@apache.org>
 <CAKUrXK6m6BGhhP3fg_Gx9wFyWD8YV4PgmyRqMa7iv6bRLXMspw@mail.gmail.com>
 <55E2A31E.5000204@velox.ch> <55E63AAE.1010205@gmail.com>
 <55E9B1BB.3000005@velox.ch>
From: Rob Stradling <rob.stradling@comodo.com>
X-Enigmail-Draft-Status: N1110
Message-ID: <55E9BE99.8020508@comodo.com>
Date: Fri, 4 Sep 2015 16:54:01 +0100
User-Agent: Mozilla/5.0 (X11; Linux i686; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <55E9B1BB.3000005@velox.ch>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit

On 04/09/15 15:59, Kaspar Brand wrote:
> On 02.09.2015 01:54, Jeff Trawick wrote:
>> On 08/30/2015 02:30 AM, Kaspar Brand wrote:
>>> today's situation, because this assessment misses the fact that with the
>>> current RFC-6066-based implementation, stapling can't fully achieve the
>>> goal of obviating OCSP queries for the clients - all publicly trusted
>>> CAs use hierarchies with at least two tiers these days, so effectively
>>> RFC 6961 support would be needed.
>> I plead ignorance, but I don't see that "can't fully achieve" is a blocker.
> 
> It's not a blocker, sure, but on the other hand, the benefit of enabling
> stapling by default isn't that big either - as long as browsers don't
> hard-fail when OCSP information isn't available.

Kaspar,

Today, roughly 25% of HTTPS servers on the Internet have OCSP stapling
enabled.  Browsers aren't likely to start hard-failing by default until
that % is a lot higher.

The vast majority of the servers that have OCSP stapling enabled are
running IIS.  I claim that this is due to the fact that IIS enables OCSP
stapling by default.

If we don't enable OCSP stapling by default in httpd, how are we going
to increase that % ?

> The "speed, speed,
> speed" argument (coming mostly from the browser vendors) isn't too
> convincing to me neither, as OCSP replies are usually cached for one
> or two days, and the typical user doesn't connect to thousands of
> new/different SSL sites per day.

I think you've misunderstood the "speed, speed, speed" argument.

If an OCSP response is delivered via stapling, then there's no need for
the browser to block the TLS handshake whilst it obtains an OCSP
response directly from the CA's OCSP responder.

Stapling provides a noticeable speedup even if the browser never caches
OCSP responses.

>> Is there a synopsis of which browsers support it for which types of 
>> certificates?
> 
> I don't think so, and it's probably also kind of a moving target. Chrome
> "supports" it for DV and OV as well - it will include a status_request
> extension in the TLS handshake by default -, but what I meant with
> "enforces" is that it won't care if there's no stapled response
> (Google's ceterum censeo used to be "Revocation doesn't work", which in
> 2012 lead to their implementation of CRL sets where the code is public,
> but "the process by which they are generated is not",
> https://dev.chromium.org/Home/chromium-security/crlsets).
> 
> For EV certs, the browser behavior is more uniform, though strict hard
> fail enforcement still isn't happening - for testing purposes, try
> this experiment: block connections to sr.symcb.com:80 and sr.symcd.com:80,
> and point the browser to
> https://test-sspev.verisign.com:2443/test-SSPEV-revoked-verisign.html.
> With strict revocation checking enforced, no browser should ever render
> any content of the "Revoked VeriSign Secure Site Pro with EV Certificate
> Test Page" (but most do when revocation information is not available,
> although some at least show warnings or downgrade the UI to non-EV).
> 
>> The motivation for putting it in trunk is so that the next release has 
>> stapling enabled in the default configurations, which essentially means 
>> that in some number of years (2-3?  I dunno) there will be a 
>> faster-growing number of httpd instances that have OCSP stapling enabled.
> 
> Ok, if it's about 2.6/3.0, then we're indeed talking of a timeframe of
> several years, I assume. What I don't like with this approach in any
> case, however, is that we as the devs decide on behalf of the admins,
> instead of letting them make an informed decision. I' really arguing
> in favor of something like this in httpd-ssl.conf.in:
> 
> --- snip ---
> #   SSL Engine Switch:
> #   Enable/Disable SSL for this virtual host.
> SSLEngine on
> 
> #  Server Certificate and Private Key:
> #  ...
> SSLCertificateFile "conf/server.crt"
> SSLCertificateKeyFile "conf/server.key"
> 
> #  OCSP Stapling:
> #  For SSL certificates which include an OCSP responder URI, mod_ssl
> #  can include revocation status information for the server's own
> #  certificate in the TLS handshake. Enabling this option requires
> #  outgoing connectivity to the CA's OCSP responder (usually running
> #  running on port 80, use "openssl x509 -in server.crt -text" to
> #  determine the exact URI), so this option is not enabled by default.
> #  The responder will be queried with the interval configured
> #  via SSLStaplingStandardCacheTimeout. For EV SSL certificates
> #  in particular, enabling this option is recommended/useful.
> #SSLUseStapling On
> --- snip ---
> 
> (i.e., move the SSLUseStapling directive closer to the cert settings,
> and make people aware of the outgoing connections this will trigger)
> 
>> Part of what makes the 2.4.x tangent is confusing is that sometimes your 
>> objections seem to be qualified on the assumption that 2.4.x would be 
>> updated.  Can we please drop 2.4.x from this conversation?
> 
> Will do, yes. When trunk becomes 2.6/3.0 one day (and a GA release), the
> basic question remains, though: is it acceptable that configuring an SSL
> certificate potentially triggers outgoing OCSP requests in mod_ssl,
> without having been explicitly instructed to do so by an admin? My view
> is still the same as in November 2014: admins should opt in for this
> feature, not be forced to opt out.
> 
>>>   It's also for this reason that I'm not in favor of a global
>>> "SSLUseStapling On", it should really be configured on a per-vhost basis.
>>
>> I don't follow.  What does that help?  With which attack vector does 
>> that improve the situation?
> 
> The point I was trying to make is that stapling is a per-certificate
> feature (not a global one like SSLRandomSeed, SSLSessionCache etc.), so
> it would be best if the admin becomes aware of it when configuring the cert.
> 
>>>> While I find the "not make accidental outgoing connections" argument
>>>> compelling (though perhaps with a different word than "accidental") the
>>>> server already takes actions that cause outgoing connections to services
>>>> not explicitly configured (DNS), and these occasionally cause problems.
>>> Are you referring to queries when doing PTR lookups for connecting
>>> clients? I think that's one of the very reasons why "HostnameLookups
>>> Off" was chosen for extra/httpd-default.conf.
>>
>> Not HostnameLookups; resolving ServerName at startup (configured or 
>> defaulted).
> 
> Ok, but I wouldn't consider DNS as being implicitly configured - after
> all, the resolvers are specified when network access on the OS level is
> configured (and DNS queries are sent to nameservers which are hopefully
> authoritative for lookups of hosts in the local net).
> 
>>>> Is there a principle at stake which could be followed consistently across
>>>> disparate features in how the server behaves a) with compiled in defaults
>>>> and minimal config, or b) with default/recommended config?
>>> The default configuration should not trigger unsolicited outgoing
>>> queries to untrusted systems, for both a) and b), that's how I would
>>> put it.
>>
>> Admin configures a certificate that has a domain name of attacker in the 
>> responder URI?  DNS entry for domain name in responder URI is taken over 
>> to point to attacker?
> 
> I was primarily trying to come up with a generic principle "which could
> be followed consistently across disparate features", so I'm not sure if
> considering specific attacks for the stapling case is the right way to
> continue the discussion... as another example, take the "Version check
> idea" thread from April 2015 [1] - even though there might not be an
> immediate threat if it were enabled by default, I really hope that httpd
> doesn't move into the direction of automatically enabling features
> requiring outgoing connectivity (without the admin's explicit
> instruction and consent).
> 
>> So forgetting 2.4.x, are you vetoing changing the trunk default config 
>> to enable stapling, and are the criteria of the veto both
>>
>> 1. The default configuration should not trigger unsolicited outgoing 
>> queries to untrusted systems, for both a) and b), that's how I would put it.
>> 2. Additionally, features enabled by default need to have sufficient 
>> coverage in the test framework.
> 
> For GA releases, my position is that both criteria apply, yes. If it's
> enabled in trunk, an alpha or a beta for getting broader testing exposure,
> then the docs and release notes/announcement should prominently say so
> (not only for OCSP stapling specifically, but in general for those
> features which may trigger unsolicited outgoing connections).
> 
> Kaspar
> 
> 
> [1] https://mail-archives.apache.org/mod_mbox/httpd-dev/201504.mbox/%3C7C89CDBA-B463-415F-82DA-DDD6AD88C38E@jaguNET.com%3E
> 

-- 
Rob Stradling
Senior Research & Development Scientist
COMODO - Creating Trust Online


From dev-return-83718-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep  4 16:13:26 2015
Return-Path: <dev-return-83718-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0841E18B5A
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  4 Sep 2015 16:13:26 +0000 (UTC)
Received: (qmail 82575 invoked by uid 500); 4 Sep 2015 16:13:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 82493 invoked by uid 500); 4 Sep 2015 16:13:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 82483 invoked by uid 99); 4 Sep 2015 16:13:25 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2015 16:13:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 21AD91AB659
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 16:13:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 81y47130FIne for <dev@httpd.apache.org>;
	Fri,  4 Sep 2015 16:13:24 +0000 (UTC)
Received: from mail-ig0-f177.google.com (mail-ig0-f177.google.com [209.85.213.177])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 270492142E
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 16:13:24 +0000 (UTC)
Received: by igbut12 with SMTP id ut12so17291663igb.1
        for <dev@httpd.apache.org>; Fri, 04 Sep 2015 09:13:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=qTL1PGnpmTWvrjFnHn7IjqhRxnBTDrgIwAeMB6BEtTg=;
        b=GZ8rwZrHMj4ZRuAqamv5u4gMZ6F6xe6IjuVLMcNplHO5wpKzRKxDIZbk08eWQdMDOo
         7dKPYU2IXkSEdaB2S/whsPFXg9x+FHi9vB6WlwKleaDBfg+4AB8RC1+Zd9fE1RGZ84R+
         lsGVuoAAB2n0APlhBNfqPVijbLGRJLdilvyecyhH1GDz6oSiyuhfF9WrTkl0WLugoeu3
         hUFpyGWB48CHn9gBTYb+H8ZCqRggTZOAhRn5/b+JdwPjrq1xC+VnfI94XdMUBWWD/E7G
         Y3Alz3Vyat0NG0CzlcM1fGHs099oMMOZKXoWj3/EmtFcfMOT22Dr3uBupcIJGsPhOYrn
         tv8w==
MIME-Version: 1.0
X-Received: by 10.50.143.101 with SMTP id sd5mr3825001igb.70.1441383197119;
 Fri, 04 Sep 2015 09:13:17 -0700 (PDT)
Received: by 10.79.38.74 with HTTP; Fri, 4 Sep 2015 09:13:17 -0700 (PDT)
In-Reply-To: <55E9A9B5.3030105@apache.org>
References: <58CD0D1D-159E-478B-B99F-16D85E53F37A@greenbytes.de>
	<55E9A9B5.3030105@apache.org>
Date: Fri, 4 Sep 2015 18:13:17 +0200
Message-ID: <CAKQ1sVMFGzKe9L-ZSnh2zfjS5zBfkpXr=i-zhRuqv+cQ6WKZAg@mail.gmail.com>
Subject: Re: httpd/trunk -Werror and warning free
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 4, 2015 at 4:24 PM, Ruediger Pluem <rpluem@apache.org> wrote:
> AP_DECLARE_MODULE_LAST is no good alternative to AP_DECLARE_MODULE as it will break per module loglevels.
> We should not introduce this API.

How about:

Index: include/http_log.h
===================================================================
--- include/http_log.h    (revision 1701218)
+++ include/http_log.h    (working copy)
@@ -146,6 +146,13 @@
  * use ::APLOG_NO_MODULE. This variable will usually be optimized away.
  */
 static int * const aplog_module_index;
+/**
+ * Prevent "unused" warning for modules that don't use it.
+ */
+static APR_INLINE void aplog_module_index_fake_use(void)
+{
+    (void)sizeof(aplog_module_index);
+}
 #endif /* __cplusplus */

 /**
?

Regards,
Yann.

From dev-return-83719-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep  4 17:37:57 2015
Return-Path: <dev-return-83719-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 233CA18F8E
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  4 Sep 2015 17:37:57 +0000 (UTC)
Received: (qmail 45802 invoked by uid 500); 4 Sep 2015 17:37:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 45748 invoked by uid 500); 4 Sep 2015 17:37:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 45738 invoked by uid 99); 4 Sep 2015 17:37:56 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2015 17:37:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 244141AB659
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 17:37:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.999
X-Spam-Level: *
X-Spam-Status: No, score=1.999 tagged_above=-999 required=6.31
	tests=[FREEMAIL_REPLY=1, KAM_LAZY_DOMAIN_SECURITY=1,
	SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id mKdStdRt9-jI for <dev@httpd.apache.org>;
	Fri,  4 Sep 2015 17:37:44 +0000 (UTC)
Received: from mail1.bemta14.messagelabs.com (mail1.bemta14.messagelabs.com [193.109.254.111])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 1825220773
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 17:37:44 +0000 (UTC)
Received: from [193.109.255.99] by server-7.bemta-14.messagelabs.com id FF/4F-28221-1E6D9E55; Fri, 04 Sep 2015 17:37:37 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-14.tower-48.messagelabs.com!1441388256!28927763!1
X-Originating-IP: [195.232.244.133]
X-StarScan-Received:
X-StarScan-Version: 6.13.16; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 14988 invoked from network); 4 Sep 2015 17:37:36 -0000
Received: from mailout01.vodafone.com (HELO mailout01.vodafone.com) (195.232.244.133)
  by server-14.tower-48.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 4 Sep 2015 17:37:36 -0000
Received: from mailint02.vodafone.com (mailint02.vodafone.com [195.232.244.199])
	by mailout01.vodafone.com (Postfix) with ESMTP id 3n75mw3g6zz1yG4
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 19:37:36 +0200 (CEST)
Received: from mailint02.vodafone.com (localhost [127.0.0.1])
	by mailint02.vodafone.com (Postfix) with ESMTP id 3n75mw2hnczQkvh
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 19:37:36 +0200 (CEST)
Received: from VOEXC05W.internal.vodafone.com (voexc05w.dc-ratingen.de [145.230.101.25])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint02.vodafone.com (Postfix) with ESMTPS id 3n75mw2LzkzQpxN
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 19:37:36 +0200 (CEST)
Received: from AVOEXC03W.internal.vodafone.com (145.230.15.132) by
 VOEXC05W.internal.vodafone.com (145.230.101.25) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Fri, 4 Sep 2015 19:37:35 +0200
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.132]) by
 AVOEXC03W.internal.vodafone.com ([145.230.15.132]) with mapi id
 14.03.0224.002; Fri, 4 Sep 2015 19:37:35 +0200
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: AW: httpd/trunk -Werror and warning free
Thread-Topic: httpd/trunk -Werror and warning free
Thread-Index: AQHQ5xVhbbpd8+pjdECDy/8xza5d3J4sSzyAgAAeSYCAADjz4A==
Date: Fri, 4 Sep 2015 17:37:34 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC631110E@VOEXM10W.internal.vodafone.com>
References: <58CD0D1D-159E-478B-B99F-16D85E53F37A@greenbytes.de>
	<55E9A9B5.3030105@apache.org>
 <CAKQ1sVMFGzKe9L-ZSnh2zfjS5zBfkpXr=i-zhRuqv+cQ6WKZAg@mail.gmail.com>
In-Reply-To: <CAKQ1sVMFGzKe9L-ZSnh2zfjS5zBfkpXr=i-zhRuqv+cQ6WKZAg@mail.gmail.com>
Accept-Language: en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

RG9lc24ndCB0aGF0IGNyZWF0ZSBhbm90aGVyIHdhcm5pbmcgYWJvdXQgYXBsb2dfbW9kdWxlX2lu
ZGV4X2Zha2VfdXNlIGJlaW5nIHVudXNlZD8NCg0KUmVnYXJkcw0KDQpSw7xkaWdlcg0KDQo+IC0t
LS0tVXJzcHLDvG5nbGljaGUgTmFjaHJpY2h0LS0tLS0NCj4gVm9uOiBZYW5uIFlsYXZpYyBbbWFp
bHRvOnlsYXZpYy5kZXZAZ21haWwuY29tXQ0KPiBHZXNlbmRldDogRnJlaXRhZywgNC4gU2VwdGVt
YmVyIDIwMTUgMTg6MTMNCj4gQW46IGRldkBodHRwZC5hcGFjaGUub3JnDQo+IEJldHJlZmY6IFJl
OiBodHRwZC90cnVuayAtV2Vycm9yIGFuZCB3YXJuaW5nIGZyZWUNCj4gDQo+IE9uIEZyaSwgU2Vw
IDQsIDIwMTUgYXQgNDoyNCBQTSwgUnVlZGlnZXIgUGx1ZW0gPHJwbHVlbUBhcGFjaGUub3JnPg0K
PiB3cm90ZToNCj4gPiBBUF9ERUNMQVJFX01PRFVMRV9MQVNUIGlzIG5vIGdvb2QgYWx0ZXJuYXRp
dmUgdG8gQVBfREVDTEFSRV9NT0RVTEUgYXMNCj4gaXQgd2lsbCBicmVhayBwZXIgbW9kdWxlIGxv
Z2xldmVscy4NCj4gPiBXZSBzaG91bGQgbm90IGludHJvZHVjZSB0aGlzIEFQSS4NCj4gDQo+IEhv
dyBhYm91dDoNCj4gDQo+IEluZGV4OiBpbmNsdWRlL2h0dHBfbG9nLmgNCj4gPT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0K
PiAtLS0gaW5jbHVkZS9odHRwX2xvZy5oICAgIChyZXZpc2lvbiAxNzAxMjE4KQ0KPiArKysgaW5j
bHVkZS9odHRwX2xvZy5oICAgICh3b3JraW5nIGNvcHkpDQo+IEBAIC0xNDYsNiArMTQ2LDEzIEBA
DQo+ICAgKiB1c2UgOjpBUExPR19OT19NT0RVTEUuIFRoaXMgdmFyaWFibGUgd2lsbCB1c3VhbGx5
IGJlIG9wdGltaXplZCBhd2F5Lg0KPiAgICovDQo+ICBzdGF0aWMgaW50ICogY29uc3QgYXBsb2df
bW9kdWxlX2luZGV4Ow0KPiArLyoqDQo+ICsgKiBQcmV2ZW50ICJ1bnVzZWQiIHdhcm5pbmcgZm9y
IG1vZHVsZXMgdGhhdCBkb24ndCB1c2UgaXQuDQo+ICsgKi8NCj4gK3N0YXRpYyBBUFJfSU5MSU5F
IHZvaWQgYXBsb2dfbW9kdWxlX2luZGV4X2Zha2VfdXNlKHZvaWQpDQo+ICt7DQo+ICsgICAgKHZv
aWQpc2l6ZW9mKGFwbG9nX21vZHVsZV9pbmRleCk7DQo+ICt9DQo+ICAjZW5kaWYgLyogX19jcGx1
c3BsdXMgKi8NCj4gDQo+ICAvKioNCj4gPw0KPiANCj4gUmVnYXJkcywNCj4gWWFubi4NCg==

From dev-return-83720-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep  4 21:03:53 2015
Return-Path: <dev-return-83720-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6213217B9D
	for <apmail-httpd-dev-archive@www.apache.org>; Fri,  4 Sep 2015 21:03:53 +0000 (UTC)
Received: (qmail 67443 invoked by uid 500); 4 Sep 2015 21:03:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67370 invoked by uid 500); 4 Sep 2015 21:03:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67360 invoked by uid 99); 4 Sep 2015 21:03:52 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2015 21:03:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 89E28C08D9
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 21:03:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id KiHA6HCsvxEP for <dev@httpd.apache.org>;
	Fri,  4 Sep 2015 21:03:47 +0000 (UTC)
Received: from mail-ig0-f180.google.com (mail-ig0-f180.google.com [209.85.213.180])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id F32A120FF4
	for <dev@httpd.apache.org>; Fri,  4 Sep 2015 21:03:46 +0000 (UTC)
Received: by igbni9 with SMTP id ni9so22917225igb.0
        for <dev@httpd.apache.org>; Fri, 04 Sep 2015 14:03:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=LitlvVz/MoyH+D6Y1G3Csuxz8nAOM7hAeyjIUyab9JI=;
        b=rC8UuP5XkkosXkUsBpEvDiVRcfAx6F0XvJtPioTu7RiZlAoyYwNDZ54TBL2HDAsrQM
         hpfIwXgLQW8NI3VeazvE0x6kcVO6JCQLiuBQ4ZZSFyuVvsOEKlZtbjnpDW0jeOaS3yVp
         SS4dQwPIfgWyo44MW6Q+UDqCsKmdF6F4MjrdPQtese+aC8ZaDEXqzWgVtILUwHjyEoWL
         hhRfgOou612ipi6DLSCenKueuSdkAOyPd4BGHSizCpA/G03AzlJIpLjHdPdW0T37ngla
         yWz9RBfjPPPXOabJN9SGYxGBhBFXeK4S/p9mzxiy95Asj41UD85ChAPglXsRtThvzOma
         FzmA==
MIME-Version: 1.0
X-Received: by 10.50.79.202 with SMTP id l10mr10761750igx.15.1441400626505;
 Fri, 04 Sep 2015 14:03:46 -0700 (PDT)
Received: by 10.79.38.74 with HTTP; Fri, 4 Sep 2015 14:03:46 -0700 (PDT)
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC631110E@VOEXM10W.internal.vodafone.com>
References: <58CD0D1D-159E-478B-B99F-16D85E53F37A@greenbytes.de>
	<55E9A9B5.3030105@apache.org>
	<CAKQ1sVMFGzKe9L-ZSnh2zfjS5zBfkpXr=i-zhRuqv+cQ6WKZAg@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC631110E@VOEXM10W.internal.vodafone.com>
Date: Fri, 4 Sep 2015 23:03:46 +0200
Message-ID: <CAKQ1sVNnEh2zMtJvw+xEnQ_+7n3A-=7hQLrjtbRnNLf=CS57Uw@mail.gmail.com>
Subject: Re: httpd/trunk -Werror and warning free
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Fri, Sep 4, 2015 at 7:37 PM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
<ruediger.pluem@vodafone.com> wrote:
> Doesn't that create another warning about aplog_module_index_fake_use bei=
ng unused?

It may not if the compiler knows about "inline"...

From dev-return-83721-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Sep  5 04:15:08 2015
Return-Path: <dev-return-83721-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E841718AAB
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  5 Sep 2015 04:15:07 +0000 (UTC)
Received: (qmail 89476 invoked by uid 500); 5 Sep 2015 04:15:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89351 invoked by uid 500); 5 Sep 2015 04:15:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89341 invoked by uid 99); 5 Sep 2015 04:15:07 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2015 04:15:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id C00F0C08D9
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 04:15:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.999
X-Spam-Level:
X-Spam-Status: No, score=0.999 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_MSPIKE_H2=-0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id pN3Tf1R-wTr8 for <dev@httpd.apache.org>;
	Sat,  5 Sep 2015 04:15:05 +0000 (UTC)
Received: from fed1rmfepo101.cox.net (fed1rmfepo101.cox.net [68.230.241.143])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 1FC1120773
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 04:15:03 +0000 (UTC)
Received: from fed1rmimpo210 ([68.230.241.161]) by fed1rmfepo101.cox.net
          (InterMail vM.8.01.05.15 201-2260-151-145-20131218) with ESMTP
          id <20150905041503.VXKD11887.fed1rmfepo101.cox.net@fed1rmimpo210>
          for <dev@httpd.apache.org>; Sat, 5 Sep 2015 00:15:03 -0400
Received: from [192.168.1.33] ([98.176.34.113])
	by fed1rmimpo210 with cox
	id DGF21r0062STVfm01GF2sU; Sat, 05 Sep 2015 00:15:03 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020203.55EA6C47.0053,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=2.0 cv=LIa4tuq9 c=1 sm=1
 a=8xCO7h6kmYZdHn5tUOQhsw==:17 a=LrjODJgKAAAA:8 a=bCLR3GgBWCqgzygvB3UA:9
 a=wPNLvfGTeEIA:10 a=kxOFpEqoDhUA:10 a=AdVWj96fM5O2J-4H:21
 a=B-ZXQwyg3V0Fyo-y:21 a=8xCO7h6kmYZdHn5tUOQhsw==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; auth=pass (PLAIN) smtp.auth=glewis63@cox.net
Message-ID: <55EA6BC7.1040809@gknw.net>
Date: Fri, 04 Sep 2015 21:12:55 -0700
From: Gregg Smith <gls@gknw.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.28) Gecko/20120306 Thunderbird/3.1.20
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: proposed backport of mod_h2 - v4
References: <08A80F0E-FB16-4DD4-AA1E-146485EF783D@greenbytes.de>
In-Reply-To: <08A80F0E-FB16-4DD4-AA1E-146485EF783D@greenbytes.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Shouldn't this be ap_array_str_contains now in h2_switch.c?

+    while (*protos) {
+        /* Add all protocols we know (tls or clear) and that
+         * are part of the offerings (if there have been any).
+         */
-->+        if (!offers || ap_array_contains(offers, *protos)) {
+            ap_log_cerror(APLOG_MARK, APLOG_TRACE1, 0, c,
+                          "proposing protocol '%s'", *protos);





From dev-return-83722-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Sep  5 07:21:55 2015
Return-Path: <dev-return-83722-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9A7FD18E10
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  5 Sep 2015 07:21:54 +0000 (UTC)
Received: (qmail 30124 invoked by uid 500); 5 Sep 2015 07:21:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 30047 invoked by uid 500); 5 Sep 2015 07:21:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 30037 invoked by uid 99); 5 Sep 2015 07:21:53 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2015 07:21:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 43C71F1AEE
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 07:21:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.002
X-Spam-Level:
X-Spam-Status: No, score=0.002 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id igqpKqzsM6bO for <dev@httpd.apache.org>;
	Sat,  5 Sep 2015 07:21:45 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 23F8B40B1C
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 07:21:45 +0000 (UTC)
Received: from [192.168.0.130] (unknown [87.79.233.195])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 7ACB015A2FAC
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 09:21:37 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (1.0)
Subject: Re: proposed backport of mod_h2 - v4
Message-Id: <B42765C6-5AF4-4876-8648-FC40C11036A1@greenbytes.de>
Date: Sat, 5 Sep 2015 09:21:36 +0200
References: <08A80F0E-FB16-4DD4-AA1E-146485EF783D@greenbytes.de> <55EA6BC7.1040809@gknw.net>
In-Reply-To: <55EA6BC7.1040809@gknw.net>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
X-Mailer: iPhone Mail (12H321)

yes, it should. where do you not see it?

(i wish we'd use branches instead of this patch file madness)

> Am 05.09.2015 um 06:12 schrieb Gregg Smith <gls@gknw.net>:
> 
> Shouldn't this be ap_array_str_contains now in h2_switch.c?
> 
> +    while (*protos) {
> +        /* Add all protocols we know (tls or clear) and that
> +         * are part of the offerings (if there have been any).
> +         */
> -->+        if (!offers || ap_array_contains(offers, *protos)) {
> +            ap_log_cerror(APLOG_MARK, APLOG_TRACE1, 0, c,
> +                          "proposing protocol '%s'", *protos);
> 
> 
> 
> 

From dev-return-83723-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Sep  5 07:38:45 2015
Return-Path: <dev-return-83723-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0018E18E3D
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  5 Sep 2015 07:38:44 +0000 (UTC)
Received: (qmail 42261 invoked by uid 500); 5 Sep 2015 07:38:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 42184 invoked by uid 500); 5 Sep 2015 07:38:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 42174 invoked by uid 99); 5 Sep 2015 07:38:44 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2015 07:38:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 1A47AC0826
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 07:38:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.981
X-Spam-Level:
X-Spam-Status: No, score=0.981 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id aXJrh3bhnfj4 for <dev@httpd.apache.org>;
	Sat,  5 Sep 2015 07:38:35 +0000 (UTC)
Received: from fed1rmfepo203.cox.net (fed1rmfepo203.cox.net [68.230.241.148])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 092F240B1C
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 07:38:34 +0000 (UTC)
Received: from fed1rmimpo306 ([68.230.241.174]) by fed1rmfepo203.cox.net
          (InterMail vM.8.01.05.15 201-2260-151-145-20131218) with ESMTP
          id <20150905073827.CIZH2359.fed1rmfepo203.cox.net@fed1rmimpo306>
          for <dev@httpd.apache.org>; Sat, 5 Sep 2015 03:38:27 -0400
Received: from [192.168.1.33] ([98.176.34.113])
	by fed1rmimpo306 with cox
	id DKeT1r0022STVfm01KeTi4; Sat, 05 Sep 2015 03:38:27 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020202.55EA9BF3.00D4,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=2.0 cv=LKq4tuq9 c=1 sm=1
 a=8xCO7h6kmYZdHn5tUOQhsw==:17 a=LrjODJgKAAAA:8 a=CUnqHfftDLTC-xXLdBMA:9
 a=wPNLvfGTeEIA:10 a=BDQ7_vnSOKwepnAZ:21 a=sHDOZ4_yxCKWbprj:21
 a=8xCO7h6kmYZdHn5tUOQhsw==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; auth=pass (PLAIN) smtp.auth=glewis63@cox.net
Message-ID: <55EA9B74.3020602@gknw.net>
Date: Sat, 05 Sep 2015 00:36:20 -0700
From: Gregg Smith <gls@gknw.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.28) Gecko/20120306 Thunderbird/3.1.20
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: proposed backport of mod_h2 - v4
References: <08A80F0E-FB16-4DD4-AA1E-146485EF783D@greenbytes.de> <55EA6BC7.1040809@gknw.net> <B42765C6-5AF4-4876-8648-FC40C11036A1@greenbytes.de>
In-Reply-To: <B42765C6-5AF4-4876-8648-FC40C11036A1@greenbytes.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

In core-h2-all-in-one-v4.patch line 8586
+        if (!offers || ap_array_contains(offers, *protos)) {
the old ap_array_contains is in use

On 9/5/2015 12:21 AM, Stefan Eissing wrote:
> yes, it should. where do you not see it?
>
> (i wish we'd use branches instead of this patch file madness)
>
>> Am 05.09.2015 um 06:12 schrieb Gregg Smith<gls@gknw.net>:
>>
>> Shouldn't this be ap_array_str_contains now in h2_switch.c?
>>
>> +    while (*protos) {
>> +        /* Add all protocols we know (tls or clear) and that
>> +         * are part of the offerings (if there have been any).
>> +         */
>> -->+        if (!offers || ap_array_contains(offers, *protos)) {
>> +            ap_log_cerror(APLOG_MARK, APLOG_TRACE1, 0, c,
>> +                          "proposing protocol '%s'", *protos);
>>
>>
>>
>>


From dev-return-83724-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Sep  5 08:32:22 2015
Return-Path: <dev-return-83724-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B75F318F61
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  5 Sep 2015 08:32:22 +0000 (UTC)
Received: (qmail 76828 invoked by uid 500); 5 Sep 2015 08:32:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76755 invoked by uid 500); 5 Sep 2015 08:32:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76745 invoked by uid 99); 5 Sep 2015 08:32:12 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2015 08:32:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 624521AB691
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 08:32:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.105
X-Spam-Level:
X-Spam-Status: No, score=-0.105 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.006, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=velox.ch header.b=ZYgd//XM;
	dkim=pass (2048-bit key) header.d=velox.ch header.b=GenlZ8Zy
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id MJeNhxDavtqX for <dev@httpd.apache.org>;
	Sat,  5 Sep 2015 08:32:01 +0000 (UTC)
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id A988B2312F
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 08:32:00 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t858Vqr3018553
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Sat, 5 Sep 2015 10:31:53 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1441441913;
	bh=Uf/P3abSzwSsHg7/rauG5Ki1s75WViTAiBi3wAfXT9s=;
	h=From:Subject:To:References:Date:In-Reply-To;
	b=ZYgd//XMhqxyPpVzAuuCMUTgvgdanaKkOZ4EqyatFBUAvhAJBWpxVfAGtt2qq98Qr
	 b0XPlnxJ++YIELDlnEqjxuaogOAgw4upJQ4Qs9CloXeVhlOc00gXs2cX38BbN1xULV
	 FCbHdBqQoLpnolIeTdOvictrtOuLwRuM+5jYoB/YZ05+3VFVHrLA6YlgriqKNmQrcM
	 taqJ+LHoJ8SewQyZyZym+I3v1Og02Ycnwhmj3ONQoH2aqsGJaBmG2E+r9NqqGnoiGq
	 jLY5mI1mUEKfVFA70qPkCSyUW17rScSGUsyekRFOvQsbc5NZCy8jueGa3YuJpHz5BH
	 Ci7khwBjAUIhw==
From: Kaspar Brand <httpd-dev.2014@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1441441911;
	bh=Uf/P3abSzwSsHg7/rauG5Ki1s75WViTAiBi3wAfXT9s=;
	h=From:Subject:To:References:Date:In-Reply-To;
	b=GenlZ8ZyuWiPPTMxQK0lcbgc0dXuahpgelyT7C9bS6at2L/2A8HXQQ7svgAx8f2UC
	 fhcK6Hqa9Y96LfbmJzc2zlAkbzwVRfQUJUqnCNuNQehT0YXz75xp/b1bUcnMNzzgZs
	 gnO18ZTzH79FTmmUv4Bd3pmpyaE1hBIt5cN3u//NtLxO3RCfzlRy/c5hmGb8mlgwZ6
	 PHOOWHTFw/D6GETMu6FgwnvqF8wrCsyeIBKaQ1NnKuxDWTkc2C8+HkJZpRZ1noFeQ5
	 4i1dwbfsaF0354OK6A15b762TgKJm4qx7kamRihMuc0qTb5AI8enNpl45yqFpVa+V+
	 uY1wUd96IP2DQ==
Subject: Re: [RFC] Enable OCSP Stapling by default in httpd trunk
To: dev@httpd.apache.org
References: <CAKUrXK6k01WGqF8z6F3YBNbanbTaOSHbbzwSi2O3H3u03_mvUw@mail.gmail.com>
 <5454A244.6070006@velox.ch>
 <CAG5KPzypCfJ7rZVBSC6t2hqxV5=zJcBDRcQxrGVUmnuYAsU_mw@mail.gmail.com>
 <55A12E9C.6060805@velox.ch>
 <CACsi251vkwFs3Neqqf-cdF7W=WDZFGqY-L+1baWQdTfJ+OaZ6Q@mail.gmail.com>
 <55A363EC.6030801@apache.org>
 <CAKUrXK6m6BGhhP3fg_Gx9wFyWD8YV4PgmyRqMa7iv6bRLXMspw@mail.gmail.com>
 <55E2A31E.5000204@velox.ch> <55E63AAE.1010205@gmail.com>
 <55E9B1BB.3000005@velox.ch> <55E9BE99.8020508@comodo.com>
Message-ID: <55EAA877.5090104@velox.ch>
Date: Sat, 5 Sep 2015 10:31:51 +0200
MIME-Version: 1.0
In-Reply-To: <55E9BE99.8020508@comodo.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit

On 04.09.2015 17:54, Rob Stradling wrote:
> Today, roughly 25% of HTTPS servers on the Internet have OCSP stapling
> enabled.  Browsers aren't likely to start hard-failing by default until
> that % is a lot higher.
> 
> The vast majority of the servers that have OCSP stapling enabled are
> running IIS.  I claim that this is due to the fact that IIS enables OCSP
> stapling by default.

The relevant metric is the percentage of (initial) TLS handshakes with
stapled responses, not so much the percentage of servers with stapling
enabled. Judging from Mozilla's telemetry data for Firefox 39 and 40,
that percentage is still below 15%, and enabling stapling in an httpd
config file which gets used by a very small number of Apache httpd admins
(as opposed to those settings which go out to the world via [1] or [2])
doesn't look like a very effective way of achieving the goal of making
that percentage "a lot higher".

I'm also very sceptical that a higher percentage of handshakes with
stapled responses (how much exactly?) will lead browser vendors to
switch to hard fail - as the test-sspev.verisign.com example from my
previous message shows, they could do this for EV today already (even
Chrome tries querying the OCSP responder in this case). But none of them
does, often due to the fear of losing market share when being too strict
in enforcing TLS security (cf. the case of RC4 banning).

> I think you've misunderstood the "speed, speed, speed" argument.
> 
> If an OCSP response is delivered via stapling, then there's no need for
> the browser to block the TLS handshake whilst it obtains an OCSP
> response directly from the CA's OCSP responder.

No, I didn't misunderstand. That's very much the essence of the "speed,
speed, speed" argument - "our browser must be able to complete every TLS
handshake in under 100 ms"... even if for a specific server, it's just
one TLS handshake per day where it really matters.

> Stapling provides a noticeable speedup even if the browser never caches
> OCSP responses.

Fairly hypothetical point - I'm not aware of any common browser which
would use a cert validation library without an OCSP cache.

Kaspar


[1] https://git.centos.org/blob/rpms!httpd.git/c7/SOURCES!ssl.conf

[2] https://bazaar.launchpad.net/~ubuntu-branches/ubuntu/trusty/apache2/trusty/view/head:/debian/config-dir/sites-available/default-ssl

From dev-return-83725-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Sep  5 10:54:17 2015
Return-Path: <dev-return-83725-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1E8CC17478
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  5 Sep 2015 10:54:17 +0000 (UTC)
Received: (qmail 70482 invoked by uid 500); 5 Sep 2015 10:54:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70403 invoked by uid 500); 5 Sep 2015 10:54:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 70393 invoked by uid 99); 5 Sep 2015 10:54:16 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2015 10:54:16 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 107ACF1B56
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 10:54:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.002
X-Spam-Level: ***
X-Spam-Status: No, score=3.002 tagged_above=-999 required=6.31
	tests=[HEADER_FROM_DIFFERENT_DOMAINS=0.001, HTML_MESSAGE=3,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 1aoctTJt81D6 for <dev@httpd.apache.org>;
	Sat,  5 Sep 2015 10:54:02 +0000 (UTC)
Received: from mail-wi0-f178.google.com (mail-wi0-f178.google.com [209.85.212.178])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 0430320382
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 10:54:02 +0000 (UTC)
Received: by wicfx3 with SMTP id fx3so44443501wic.1
        for <dev@httpd.apache.org>; Sat, 05 Sep 2015 03:54:00 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=mime-version:references:in-reply-to:from:date:message-id:subject:to
         :content-type;
        bh=PC/QAimNQS9FDTNvMbFkHbrRE41zVPrw3B0D3RW6Rkc=;
        b=G3z/jdk8LERFN64swKt/biJfuTAfPzYlBQB4Z7W0bayWRL+uy6AgaMTdhr08CY6/US
         C6NZVmIfqLvUxMcd57BR8GM9CkmP644uUHScmTAJL8i4bePyrj2U8fsuMLsJPoHu6CNE
         eYddnK+LInBvw70LRuPtpl1rNs+u/LaaaheVfUJS6pHV5YsFklpcUls1WiNc1/TM8xWB
         Pdp3Z1+5z4zYu5ckl7Ta2oXCZCsSofuVl7wqiC74bN+lbJ2Og+qGNX92sd2J87w0cX/O
         yUIy0gLGcpOvaZPDyZL3+3k/gXMT+tqYK5u6HdAm0XpvY3RkG2DcYwXq8h4UUHwS9je0
         skKQ==
X-Received: by 10.194.21.98 with SMTP id u2mr17060437wje.141.1441450440736;
 Sat, 05 Sep 2015 03:54:00 -0700 (PDT)
MIME-Version: 1.0
References: <CAKUrXK6k01WGqF8z6F3YBNbanbTaOSHbbzwSi2O3H3u03_mvUw@mail.gmail.com>
 <5454A244.6070006@velox.ch> <CAG5KPzypCfJ7rZVBSC6t2hqxV5=zJcBDRcQxrGVUmnuYAsU_mw@mail.gmail.com>
 <55A12E9C.6060805@velox.ch> <CACsi251vkwFs3Neqqf-cdF7W=WDZFGqY-L+1baWQdTfJ+OaZ6Q@mail.gmail.com>
 <55A363EC.6030801@apache.org> <CAKUrXK6m6BGhhP3fg_Gx9wFyWD8YV4PgmyRqMa7iv6bRLXMspw@mail.gmail.com>
 <55E2A31E.5000204@velox.ch> <55E63AAE.1010205@gmail.com> <55E9B1BB.3000005@velox.ch>
 <55E9BE99.8020508@comodo.com> <55EAA877.5090104@velox.ch>
In-Reply-To: <55EAA877.5090104@velox.ch>
From: Ben Laurie <ben@links.org>
Date: Sat, 05 Sep 2015 10:53:50 +0000
Message-ID: <CAG5KPzz=tW4i+PBT-UuHcdsn+RTmvFrkcsBaQ2ZMp0ZKqV+60A@mail.gmail.com>
Subject: Re: [RFC] Enable OCSP Stapling by default in httpd trunk
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=047d7b5d5c267b4664051efdd510

--047d7b5d5c267b4664051efdd510
Content-Type: text/plain; charset=UTF-8

On Sat, 5 Sep 2015 at 09:32 Kaspar Brand <httpd-dev.2014@velox.ch> wrote:

> On 04.09.2015 17:54, Rob Stradling wrote:
> > Today, roughly 25% of HTTPS servers on the Internet have OCSP stapling
> > enabled.  Browsers aren't likely to start hard-failing by default until
> > that % is a lot higher.
> >
> > The vast majority of the servers that have OCSP stapling enabled are
> > running IIS.  I claim that this is due to the fact that IIS enables OCSP
> > stapling by default.
>
> The relevant metric is the percentage of (initial) TLS handshakes with
> stapled responses, not so much the percentage of servers with stapling
> enabled. Judging from Mozilla's telemetry data for Firefox 39 and 40,
> that percentage is still below 15%, and enabling stapling in an httpd
> config file which gets used by a very small number of Apache httpd admins
> (as opposed to those settings which go out to the world via [1] or [2])
> doesn't look like a very effective way of achieving the goal of making
> that percentage "a lot higher".
>
> I'm also very sceptical that a higher percentage of handshakes with
> stapled responses (how much exactly?) will lead browser vendors to
> switch to hard fail - as the test-sspev.verisign.com example from my
> previous message shows, they could do this for EV today already (even
> Chrome tries querying the OCSP responder in this case). But none of them
> does, often due to the fear of losing market share when being too strict
> in enforcing TLS security (cf. the case of RC4 banning).
>

I don't know why you think your example shows that - the reason browsers
don't hard fail is because OCSP (or any out of band communication) is
unreliable. So that either means you fail for sites that are actually
perfectly OK, or you allow an attacker to override revocation (by blocking
OCSP).

 This is why browsers are pushing for OCSP stapling, not because of speed.

Certificate Transparency faces the same problem, which is why it only
exists as an in-band mechanism.

Blocking stapling (and presumably you will also object to CT for similar
reasons) is hurting security.

You've argued that there's no point switching on stapling because browsers
won't pay attention to OCSP anyway. That is not true. They don't pay
attention to OCSP because it is unreliable. If stapling were widely
deployed, then it would be possible to switch on hard fail.

Leaving it to admins makes no sense to me - most admins are not acquainted
with the detailed reasons for/against stapling, and are not in a position
to make an informed decision. Someone has to choose the default, and IMO
the ASF should always default to "more secure".


> > I think you've misunderstood the "speed, speed, speed" argument.
> >
> > If an OCSP response is delivered via stapling, then there's no need for
> > the browser to block the TLS handshake whilst it obtains an OCSP
> > response directly from the CA's OCSP responder.
>
> No, I didn't misunderstand. That's very much the essence of the "speed,
> speed, speed" argument - "our browser must be able to complete every TLS
> handshake in under 100 ms"... even if for a specific server, it's just
> one TLS handshake per day where it really matters.
>
> > Stapling provides a noticeable speedup even if the browser never caches
> > OCSP responses.
>
> Fairly hypothetical point - I'm not aware of any common browser which
> would use a cert validation library without an OCSP cache.
>
> Kaspar
>
>
> [1] https://git.centos.org/blob/rpms!httpd.git/c7/SOURCES!ssl.conf
>
> [2]
> https://bazaar.launchpad.net/~ubuntu-branches/ubuntu/trusty/apache2/trusty/view/head:/debian/config-dir/sites-available/default-ssl
>

--047d7b5d5c267b4664051efdd510
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><br><br><div class=3D"gmail_quote"><div dir=3D"ltr">On Sat=
, 5 Sep 2015 at 09:32 Kaspar Brand &lt;<a href=3D"mailto:httpd-dev.2014@vel=
ox.ch">httpd-dev.2014@velox.ch</a>&gt; wrote:<br></div><blockquote class=3D=
"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding=
-left:1ex">On 04.09.2015 17:54, Rob Stradling wrote:<br>
&gt; Today, roughly 25% of HTTPS servers on the Internet have OCSP stapling=
<br>
&gt; enabled.=C2=A0 Browsers aren&#39;t likely to start hard-failing by def=
ault until<br>
&gt; that % is a lot higher.<br>
&gt;<br>
&gt; The vast majority of the servers that have OCSP stapling enabled are<b=
r>
&gt; running IIS.=C2=A0 I claim that this is due to the fact that IIS enabl=
es OCSP<br>
&gt; stapling by default.<br>
<br>
The relevant metric is the percentage of (initial) TLS handshakes with<br>
stapled responses, not so much the percentage of servers with stapling<br>
enabled. Judging from Mozilla&#39;s telemetry data for Firefox 39 and 40,<b=
r>
that percentage is still below 15%, and enabling stapling in an httpd<br>
config file which gets used by a very small number of Apache httpd admins<b=
r>
(as opposed to those settings which go out to the world via [1] or [2])<br>
doesn&#39;t look like a very effective way of achieving the goal of making<=
br>
that percentage &quot;a lot higher&quot;.<br>
<br>
I&#39;m also very sceptical that a higher percentage of handshakes with<br>
stapled responses (how much exactly?) will lead browser vendors to<br>
switch to hard fail - as the <a href=3D"http://test-sspev.verisign.com" rel=
=3D"noreferrer" target=3D"_blank">test-sspev.verisign.com</a> example from =
my<br>
previous message shows, they could do this for EV today already (even<br>
Chrome tries querying the OCSP responder in this case). But none of them<br=
>
does, often due to the fear of losing market share when being too strict<br=
>
in enforcing TLS security (cf. the case of RC4 banning).<br></blockquote><d=
iv><br></div><div>I don&#39;t know why you think your example shows that - =
the reason browsers don&#39;t hard fail is because OCSP (or any out of band=
 communication) is unreliable. So that either means you fail for sites that=
 are actually perfectly OK, or you allow an attacker to override revocation=
 (by blocking OCSP).</div><div><br></div><div>=C2=A0This is why browsers ar=
e pushing for OCSP stapling, not because of speed.</div><div><br></div><div=
>Certificate Transparency faces the same problem, which is why it only exis=
ts as an in-band mechanism.</div><div><br></div><div>Blocking stapling (and=
 presumably you will also object to CT for similar reasons) is hurting secu=
rity.</div><div><br></div><div>You&#39;ve argued that there&#39;s no point =
switching on stapling because browsers won&#39;t pay attention to OCSP anyw=
ay. That is not true. They don&#39;t pay attention to OCSP because it is un=
reliable. If stapling were widely deployed, then it would be possible to sw=
itch on hard fail.</div><div><br></div><div>Leaving it to admins makes no s=
ense to me - most admins are not acquainted with the detailed reasons for/a=
gainst stapling, and are not in a position to make an informed decision. So=
meone has to choose the default, and IMO the ASF should always default to &=
quot;more secure&quot;.</div><div><br></div><blockquote class=3D"gmail_quot=
e" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">
<br>
&gt; I think you&#39;ve misunderstood the &quot;speed, speed, speed&quot; a=
rgument.<br>
&gt;<br>
&gt; If an OCSP response is delivered via stapling, then there&#39;s no nee=
d for<br>
&gt; the browser to block the TLS handshake whilst it obtains an OCSP<br>
&gt; response directly from the CA&#39;s OCSP responder.<br>
<br>
No, I didn&#39;t misunderstand. That&#39;s very much the essence of the &qu=
ot;speed,<br>
speed, speed&quot; argument - &quot;our browser must be able to complete ev=
ery TLS<br>
handshake in under 100 ms&quot;... even if for a specific server, it&#39;s =
just<br>
one TLS handshake per day where it really matters.<br>
<br>
&gt; Stapling provides a noticeable speedup even if the browser never cache=
s<br>
&gt; OCSP responses.<br>
<br>
Fairly hypothetical point - I&#39;m not aware of any common browser which<b=
r>
would use a cert validation library without an OCSP cache.<br>
<br>
Kaspar<br>
<br>
<br>
[1] <a href=3D"https://git.centos.org/blob/rpms!httpd.git/c7/SOURCES!ssl.co=
nf" rel=3D"noreferrer" target=3D"_blank">https://git.centos.org/blob/rpms!h=
ttpd.git/c7/SOURCES!ssl.conf</a><br>
<br>
[2] <a href=3D"https://bazaar.launchpad.net/~ubuntu-branches/ubuntu/trusty/=
apache2/trusty/view/head:/debian/config-dir/sites-available/default-ssl" re=
l=3D"noreferrer" target=3D"_blank">https://bazaar.launchpad.net/~ubuntu-bra=
nches/ubuntu/trusty/apache2/trusty/view/head:/debian/config-dir/sites-avail=
able/default-ssl</a><br>
</blockquote></div></div>

--047d7b5d5c267b4664051efdd510--

From dev-return-83726-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Sep  5 11:06:55 2015
Return-Path: <dev-return-83726-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 85C631750C
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  5 Sep 2015 11:06:55 +0000 (UTC)
Received: (qmail 84258 invoked by uid 500); 5 Sep 2015 11:06:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84187 invoked by uid 500); 5 Sep 2015 11:06:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84176 invoked by uid 99); 5 Sep 2015 11:06:55 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2015 11:06:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A7DD7F19CA
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 11:06:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.364
X-Spam-Level: *
X-Spam-Status: No, score=1.364 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RDNS_DYNAMIC=0.363,
	RP_MATCHES_RCVD=0.001, SPF_HELO_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id sn5gLcnz8t7Q for <dev@httpd.apache.org>;
	Sat,  5 Sep 2015 11:06:44 +0000 (UTC)
Received: from nebula.c8h10n4o2.org.uk (nebula.c8h10n4o2.org.uk [80.68.88.207])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id E8660211DF
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 11:06:43 +0000 (UTC)
Received: from consume.c8h10n4o2.org.uk ([2001:8b0:caee:2::2])
	by nebula.c8h10n4o2.org.uk with esmtpsa (TLS1.0:ECDHE_RSA_AES_256_CBC_SHA384:256)
	(Exim 4.84)
	(envelope-from <isoma@c8h10n4o2.org.uk>)
	id 1ZYBIn-0000OJ-Co
	for dev@httpd.apache.org; Sat, 05 Sep 2015 12:06:34 +0100
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: [RFC] Enable OCSP Stapling by default in httpd trunk
From: Tim Bannister <isoma@c8h10n4o2.org.uk>
In-Reply-To: <CAG5KPzz=tW4i+PBT-UuHcdsn+RTmvFrkcsBaQ2ZMp0ZKqV+60A@mail.gmail.com>
Date: Sat, 5 Sep 2015 12:06:32 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <1727C21F-FEEA-4EBA-BCA6-55FFF04A6F35@c8h10n4o2.org.uk>
References: <CAKUrXK6k01WGqF8z6F3YBNbanbTaOSHbbzwSi2O3H3u03_mvUw@mail.gmail.com> <5454A244.6070006@velox.ch> <CAG5KPzypCfJ7rZVBSC6t2hqxV5=zJcBDRcQxrGVUmnuYAsU_mw@mail.gmail.com> <55A12E9C.6060805@velox.ch> <CACsi251vkwFs3Neqqf-cdF7W=WDZFGqY-L+1baWQdTfJ+OaZ6Q@mail.gmail.com> <55A363EC.6030801@apache.org> <CAKUrXK6m6BGhhP3fg_Gx9wFyWD8YV4PgmyRqMa7iv6bRLXMspw@mail.gmail.com> <55E2A31E.5000204@velox.ch> <55E63AAE.1010205@gmail.com> <55E9B1BB.3000005@velox.ch> <55E9BE99.8020508@comodo.com> <55EAA877.5090104@velox.ch> <CAG5KPzz=tW4i+PBT-UuHcdsn+RTmvFrkcsBaQ2ZMp0ZKqV+60A@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 5 Sep 2015, at 11:53, Ben Laurie <ben@links.org> wrote:
> On Sat, 5 Sep 2015 at 09:32 Kaspar Brand <httpd-dev.2014@velox.ch> =
wrote:
>> On 04.09.2015 17:54, Rob Stradling wrote:
>>> Today, roughly 25% of HTTPS servers on the Internet have OCSP =
stapling enabled.  Browsers aren't likely to start hard-failing by =
default until that % is a lot higher.
>=20
> =E2=80=A6the reason browsers don't hard fail is because OCSP (or any =
out of band communication) is unreliable. So that either means you fail =
for sites that are actually perfectly OK, or you allow an attacker to =
override revocation (by blocking OCSP).
=E2=80=A6
> Blocking stapling (and presumably you will also object to CT for =
similar reasons) is hurting security.
>=20
> You've argued that there's no point switching on stapling because =
browsers won't pay attention to OCSP anyway. That is not true. They =
don't pay attention to OCSP because it is unreliable. If stapling were =
widely deployed, then it would be possible to switch on hard fail.

It's not just conventional browsers. I think automated / embedded HTTP =
clients will also benefit from stapling, either because  networking =
filters would block a conversation between the client and the CA's OCSP =
responder, or the extra latency from using conventional OCSP is a =
problem.

For another example of a non-interactive application implementing OCSP, =
look at the Exim mail transfer agent (which can be both client and =
server).

--=20
Tim Bannister =E2=80=93 isoma@c8h10n4o2.org.uk


From dev-return-83727-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Sep  5 12:24:19 2015
Return-Path: <dev-return-83727-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5CDE9176D0
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  5 Sep 2015 12:24:19 +0000 (UTC)
Received: (qmail 25025 invoked by uid 500); 5 Sep 2015 12:24:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 24971 invoked by uid 500); 5 Sep 2015 12:24:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 24961 invoked by uid 99); 5 Sep 2015 12:24:15 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2015 12:24:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 7AECF181BDE
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 12:24:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.098
X-Spam-Level:
X-Spam-Status: No, score=-0.098 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	URIBL_BLOCKED=0.001, WEIRD_PORT=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id x-TBrANwEqEh for <dev@httpd.apache.org>;
	Sat,  5 Sep 2015 12:24:01 +0000 (UTC)
Received: from mail-qg0-f52.google.com (mail-qg0-f52.google.com [209.85.192.52])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 3490040B1C
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 12:24:01 +0000 (UTC)
Received: by qgev79 with SMTP id v79so34851293qge.0
        for <dev@httpd.apache.org>; Sat, 05 Sep 2015 05:24:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=subject:to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-type:content-transfer-encoding;
        bh=/73bzPy34xhAHmhpOunJQPTMNwoZku+X/vZKvqYgfUw=;
        b=czrljQ6bm1jzz8jhn8LEsdteJwzFy8pgemKcZZpXnSk0G7tkFVnpLOJ9kW7puzvukd
         7JyDh/CNLipcHYzQRaaYkJuC0g4G7TakaWvJr7VjuHcOW1wqOvrBkfOeL/nvoz7Aqi9a
         v7bRGGy4csvS57w4SiYDSwIQi5hso1xqJCUbENUpzg0Lm/vqGm6Sv2quKNoRWcpcEp1W
         iAOmmDq2nbPIqTFmB/HbvXxgeo67D6aAiDX5W2C4rdP4W1buh79OI1yvm/U9D3FPXGqH
         SyDNzqlqvHxpz+ceyaepM5DEYmU95rjL4mIiU+PwO/E/AlCS3p5YfgpMjOqmysiRNfUa
         219w==
X-Received: by 10.140.202.204 with SMTP id x195mr13256847qha.7.1441455840884;
        Sat, 05 Sep 2015 05:24:00 -0700 (PDT)
Received: from ?IPv6:2606:a000:b541:6700:6d6d:1683:10a0:463d? ([2606:a000:b541:6700:6d6d:1683:10a0:463d])
        by smtp.googlemail.com with ESMTPSA id t77sm3154813qgt.24.2015.09.05.05.24.00
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Sat, 05 Sep 2015 05:24:00 -0700 (PDT)
Subject: Re: [RFC] Enable OCSP Stapling by default in httpd trunk
To: dev@httpd.apache.org
References: <CAKUrXK6k01WGqF8z6F3YBNbanbTaOSHbbzwSi2O3H3u03_mvUw@mail.gmail.com>
 <5454A244.6070006@velox.ch>
 <CAG5KPzypCfJ7rZVBSC6t2hqxV5=zJcBDRcQxrGVUmnuYAsU_mw@mail.gmail.com>
 <55A12E9C.6060805@velox.ch>
 <CACsi251vkwFs3Neqqf-cdF7W=WDZFGqY-L+1baWQdTfJ+OaZ6Q@mail.gmail.com>
 <55A363EC.6030801@apache.org>
 <CAKUrXK6m6BGhhP3fg_Gx9wFyWD8YV4PgmyRqMa7iv6bRLXMspw@mail.gmail.com>
 <55E2A31E.5000204@velox.ch> <55E63AAE.1010205@gmail.com>
 <55E9B1BB.3000005@velox.ch>
From: Jeff Trawick <trawick@gmail.com>
Message-ID: <55EADEDF.1090108@gmail.com>
Date: Sat, 5 Sep 2015 08:23:59 -0400
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <55E9B1BB.3000005@velox.ch>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit

On 09/04/2015 10:59 AM, Kaspar Brand wrote:
> On 02.09.2015 01:54, Jeff Trawick wrote:
>> On 08/30/2015 02:30 AM, Kaspar Brand wrote:
>>> today's situation, because this assessment misses the fact that with the
>>> current RFC-6066-based implementation, stapling can't fully achieve the
>>> goal of obviating OCSP queries for the clients - all publicly trusted
>>> CAs use hierarchies with at least two tiers these days, so effectively
>>> RFC 6961 support would be needed.
>> I plead ignorance, but I don't see that "can't fully achieve" is a blocker.
> It's not a blocker, sure, but on the other hand, the benefit of enabling
> stapling by default isn't that big either - as long as browsers don't
> hard-fail when OCSP information isn't available. The "speed, speed,
> speed" argument (coming mostly from the browser vendors) isn't too
> convincing to me neither, as OCSP replies are usually cached for one
> or two days, and the typical user doesn't connect to thousands of
> new/different SSL sites per day.
>
>> Is there a synopsis of which browsers support it for which types of
>> certificates?
> I don't think so, and it's probably also kind of a moving target. Chrome
> "supports" it for DV and OV as well - it will include a status_request
> extension in the TLS handshake by default -, but what I meant with
> "enforces" is that it won't care if there's no stapled response
> (Google's ceterum censeo used to be "Revocation doesn't work", which in
> 2012 lead to their implementation of CRL sets where the code is public,
> but "the process by which they are generated is not",
> https://dev.chromium.org/Home/chromium-security/crlsets).
>
> For EV certs, the browser behavior is more uniform, though strict hard
> fail enforcement still isn't happening - for testing purposes, try
> this experiment: block connections to sr.symcb.com:80 and sr.symcd.com:80,
> and point the browser to
> https://test-sspev.verisign.com:2443/test-SSPEV-revoked-verisign.html.
> With strict revocation checking enforced, no browser should ever render
> any content of the "Revoked VeriSign Secure Site Pro with EV Certificate
> Test Page" (but most do when revocation information is not available,
> although some at least show warnings or downgrade the UI to non-EV).
>
>> The motivation for putting it in trunk is so that the next release has
>> stapling enabled in the default configurations, which essentially means
>> that in some number of years (2-3?  I dunno) there will be a
>> faster-growing number of httpd instances that have OCSP stapling enabled.
> Ok, if it's about 2.6/3.0, then we're indeed talking of a timeframe of
> several years, I assume. What I don't like with this approach in any
> case, however, is that we as the devs decide on behalf of the admins,
> instead of letting them make an informed decision. I' really arguing
> in favor of something like this in httpd-ssl.conf.in:
>
> --- snip ---
> #   SSL Engine Switch:
> #   Enable/Disable SSL for this virtual host.
> SSLEngine on
>
> #  Server Certificate and Private Key:
> #  ...
> SSLCertificateFile "conf/server.crt"
> SSLCertificateKeyFile "conf/server.key"
>
> #  OCSP Stapling:
> #  For SSL certificates which include an OCSP responder URI, mod_ssl
> #  can include revocation status information for the server's own
> #  certificate in the TLS handshake. Enabling this option requires
> #  outgoing connectivity to the CA's OCSP responder (usually running
> #  running on port 80, use "openssl x509 -in server.crt -text" to
> #  determine the exact URI), so this option is not enabled by default.
> #  The responder will be queried with the interval configured
> #  via SSLStaplingStandardCacheTimeout. For EV SSL certificates
> #  in particular, enabling this option is recommended/useful.
> #SSLUseStapling On
> --- snip ---
>
> (i.e., move the SSLUseStapling directive closer to the cert settings,
> and make people aware of the outgoing connections this will trigger)
>
>> Part of what makes the 2.4.x tangent is confusing is that sometimes your
>> objections seem to be qualified on the assumption that 2.4.x would be
>> updated.  Can we please drop 2.4.x from this conversation?
> Will do, yes. When trunk becomes 2.6/3.0 one day (and a GA release), the
> basic question remains, though: is it acceptable that configuring an SSL
> certificate potentially triggers outgoing OCSP requests in mod_ssl,
> without having been explicitly instructed to do so by an admin? My view
> is still the same as in November 2014: admins should opt in for this
> feature, not be forced to opt out.
>
>>>    It's also for this reason that I'm not in favor of a global
>>> "SSLUseStapling On", it should really be configured on a per-vhost basis.
>> I don't follow.  What does that help?  With which attack vector does
>> that improve the situation?
> The point I was trying to make is that stapling is a per-certificate
> feature (not a global one like SSLRandomSeed, SSLSessionCache etc.), so
> it would be best if the admin becomes aware of it when configuring the cert.
>
>>>> While I find the "not make accidental outgoing connections" argument
>>>> compelling (though perhaps with a different word than "accidental") the
>>>> server already takes actions that cause outgoing connections to services
>>>> not explicitly configured (DNS), and these occasionally cause problems.
>>> Are you referring to queries when doing PTR lookups for connecting
>>> clients? I think that's one of the very reasons why "HostnameLookups
>>> Off" was chosen for extra/httpd-default.conf.
>> Not HostnameLookups; resolving ServerName at startup (configured or
>> defaulted).
> Ok, but I wouldn't consider DNS as being implicitly configured - after
> all, the resolvers are specified when network access on the OS level is
> configured (and DNS queries are sent to nameservers which are hopefully
> authoritative for lookups of hosts in the local net).
>
>>>> Is there a principle at stake which could be followed consistently across
>>>> disparate features in how the server behaves a) with compiled in defaults
>>>> and minimal config, or b) with default/recommended config?
>>> The default configuration should not trigger unsolicited outgoing
>>> queries to untrusted systems, for both a) and b), that's how I would
>>> put it.
>> Admin configures a certificate that has a domain name of attacker in the
>> responder URI?  DNS entry for domain name in responder URI is taken over
>> to point to attacker?
> I was primarily trying to come up with a generic principle "which could
> be followed consistently across disparate features", so I'm not sure if
> considering specific attacks for the stapling case is the right way to
> continue the discussion... as another example, take the "Version check
> idea" thread from April 2015 [1] - even though there might not be an
> immediate threat if it were enabled by default, I really hope that httpd
> doesn't move into the direction of automatically enabling features
> requiring outgoing connectivity (without the admin's explicit
> instruction and consent).
>
>> So forgetting 2.4.x, are you vetoing changing the trunk default config
>> to enable stapling, and are the criteria of the veto both
>>
>> 1. The default configuration should not trigger unsolicited outgoing
>> queries to untrusted systems, for both a) and b), that's how I would put it.

Re: "unsolicited":

Key words/phrases from the other end of the continuum: "unexpected by 
many", "responder obtained from explicitly configured certificate"

The unexpected aspect could be helped by a [notice] message at startup 
indicating that an OCSP responder will be contacted for N certificates 
due to the directive.  (If there is only one, an alternate message could 
be displayed with the actual responder URL; we couldn't do that for 
arbitrary numbers.)

Re: "untrusted":

The certificate and its content are untrusted in general?  The content 
is trusted but the responder URL is not what/who it seems? (I wasn't 
sure where you were leading when you alluded to this in prior 
correspondence.)

>> 2. Additionally, features enabled by default need to have sufficient
>> coverage in the test framework.
> For GA releases, my position is that both criteria apply, yes. If it's
> enabled in trunk, an alpha or a beta for getting broader testing exposure,
> then the docs and release notes/announcement should prominently say so
> (not only for OCSP stapling specifically, but in general for those
> features which may trigger unsolicited outgoing connections).
>
> Kaspar
>
>
> [1] https://mail-archives.apache.org/mod_mbox/httpd-dev/201504.mbox/%3C7C89CDBA-B463-415F-82DA-DDD6AD88C38E@jaguNET.com%3E


From dev-return-83728-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Sep  5 14:01:29 2015
Return-Path: <dev-return-83728-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EC39517903
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  5 Sep 2015 14:01:28 +0000 (UTC)
Received: (qmail 3072 invoked by uid 500); 5 Sep 2015 14:01:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 2995 invoked by uid 500); 5 Sep 2015 14:01:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 2985 invoked by uid 99); 5 Sep 2015 14:01:28 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2015 14:01:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 18E151AB6D9
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 14:01:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id wQ3vYkBpebmS for <dev@httpd.apache.org>;
	Sat,  5 Sep 2015 14:01:22 +0000 (UTC)
Received: from mail-yk0-f174.google.com (mail-yk0-f174.google.com [209.85.160.174])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 1099A20382
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 14:01:22 +0000 (UTC)
Received: by ykei199 with SMTP id i199so45340294yke.0
        for <dev@httpd.apache.org>; Sat, 05 Sep 2015 07:01:14 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=8vFCgmFlRkDOqD8GKTVE95l0YSu0VVMkXzDpwEwb778=;
        b=x73ooI7VxnmXihfCFKviG89SGh1OG0r35FZXeYGuME2kXwwdP4ea8sil1Z/SkHOgwL
         gtLnxrfmfh/42RYZj5duUOpdL9UkeRgduRSkMNZj/ctVZqOskTgSZoFigKbW07njZtvw
         Zx2pnP/EwjqbdBomG0UdhWNcBAWhRujhQ/cyBDgCNcF3zRbIK5aKzRsA1ry8ltkDCdl3
         rRKHnHFOks5aL6nHQHG+eoowPH89ljZWLr72hoLJ8V+hu7AxGUAl+sDCq14S/J7czRvJ
         Ro7RZ4jBoAiIPoqX2pE3zbVyd958SXfAoclV+oA5v3yFxN0R7ztsELrx8Xf9LEX55Tsz
         1B3w==
MIME-Version: 1.0
X-Received: by 10.170.63.85 with SMTP id f82mr10273572ykf.105.1441461674777;
 Sat, 05 Sep 2015 07:01:14 -0700 (PDT)
Received: by 10.37.215.12 with HTTP; Sat, 5 Sep 2015 07:01:14 -0700 (PDT)
In-Reply-To: <B42765C6-5AF4-4876-8648-FC40C11036A1@greenbytes.de>
References: <08A80F0E-FB16-4DD4-AA1E-146485EF783D@greenbytes.de>
	<55EA6BC7.1040809@gknw.net>
	<B42765C6-5AF4-4876-8648-FC40C11036A1@greenbytes.de>
Date: Sat, 5 Sep 2015 10:01:14 -0400
Message-ID: <CALK=YjPwqvian85ydsdS6LLFyyLB0Oeip49bP49Rx4eehmT6Jw@mail.gmail.com>
Subject: Re: proposed backport of mod_h2 - v4
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Sat, Sep 5, 2015 at 3:21 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> (i wish we'd use branches instead of this patch file madness)

I think a short-lived feature branch would be acceptable.  I'm
personally a pretty primitive svn user.

From dev-return-83729-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Sep  5 14:21:37 2015
Return-Path: <dev-return-83729-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 174371793D
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  5 Sep 2015 14:21:37 +0000 (UTC)
Received: (qmail 12186 invoked by uid 500); 5 Sep 2015 14:21:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12100 invoked by uid 500); 5 Sep 2015 14:21:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12090 invoked by uid 99); 5 Sep 2015 14:21:33 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2015 14:21:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 346FEC0826
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 14:21:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.007
X-Spam-Level:
X-Spam-Status: No, score=-0.007 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 9eL0jDajqti4 for <dev@httpd.apache.org>;
	Sat,  5 Sep 2015 14:21:18 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 0722D20752
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 14:21:17 +0000 (UTC)
Received: from [192.168.220.234] (unknown [192.168.220.234])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id F2DD380C27
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 15:21:10 +0100 (BST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: proposed backport of mod_h2 - v4
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <B42765C6-5AF4-4876-8648-FC40C11036A1@greenbytes.de>
Date: Sat, 5 Sep 2015 16:21:09 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <C596097C-B1D9-49EB-8773-0A8EBDA08419@sharp.fm>
References: <08A80F0E-FB16-4DD4-AA1E-146485EF783D@greenbytes.de> <55EA6BC7.1040809@gknw.net> <B42765C6-5AF4-4876-8648-FC40C11036A1@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 05 Sep 2015, at 9:21 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:

> yes, it should. where do you not see it?
>=20
> (i wish we'd use branches instead of this patch file madness)

A branch is possible, create one beneath here:

http://svn.apache.org/repos/asf/httpd/httpd/branches/

Regards,
Graham
=E2=80=94


From dev-return-83730-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Sep  5 16:48:35 2015
Return-Path: <dev-return-83730-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6B35C17F52
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  5 Sep 2015 16:48:35 +0000 (UTC)
Received: (qmail 47758 invoked by uid 500); 5 Sep 2015 16:48:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 47682 invoked by uid 500); 5 Sep 2015 16:48:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 47672 invoked by uid 99); 5 Sep 2015 16:48:34 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2015 16:48:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 362C01AB6EB
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 16:48:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id DOjNFi3ZF33Q for <dev@httpd.apache.org>;
	Sat,  5 Sep 2015 16:48:24 +0000 (UTC)
Received: from resqmta-po-09v.sys.comcast.net (resqmta-po-09v.sys.comcast.net [96.114.154.168])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id D5F4924F47
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 16:48:23 +0000 (UTC)
Received: from resomta-po-12v.sys.comcast.net ([96.114.154.236])
	by resqmta-po-09v.sys.comcast.net with comcast
	id DUnz1r00856HXL001UoNih; Sat, 05 Sep 2015 16:48:22 +0000
Received: from [192.168.199.5] ([73.134.146.255])
	by resomta-po-12v.sys.comcast.net with comcast
	id DUoM1r0035WqtXt01UoMGU; Sat, 05 Sep 2015 16:48:22 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: httpd/trunk -Werror and warning free
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <58CD0D1D-159E-478B-B99F-16D85E53F37A@greenbytes.de>
Date: Sat, 5 Sep 2015 12:48:20 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <DDD435FF-79DA-4FB3-8E97-29CFB8DA2AFF@jaguNET.com>
References: <58CD0D1D-159E-478B-B99F-16D85E53F37A@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1441471702;
	bh=JXd+bvRFlgr87OU1ZIAOmkPPBIRF+c428MKqzQrorfU=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=RaKZSsgCHVT3V0qDs11YIq5U9xK6kt+3Kn4hPxHk0kIlku7SHaTfk5sMIScyHaPwl
	 W+E8Ai/OrAwh6Xhs4wZ8PQ4PLrfVDa6RYZ3htdJlsLPIphTdk4Gg26HSCtpDwUyJ1F
	 UUXCfLeFAMsYglBbHj8KcbwACJ9DbPDYOzqmfk+d9Naha7t6TlEUAh/1avQu96aj9Z
	 7DaVunGAVpvDxXsCyz2iSZLmChkHKxJKTaVqEABFxCyOxzbVCvb/q1X8WnPa7C71za
	 yxaNefk3YYrE/ZIJmXcF0je67opzsu9+WPnbk989jLpLKYDnvjUfv6W12c8oovA8aw
	 kSelgqCZfQ+gg==

Ideally, the patch would be broken up into separate ones; for example,
the change for maintainer-mode should be sep from the fixes of warnings,
etc.

> On Sep 4, 2015, at 9:26 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
> <httpd-trunk-warning-free.patch>


From dev-return-83731-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Sep  5 17:32:49 2015
Return-Path: <dev-return-83731-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A80EF10228
	for <apmail-httpd-dev-archive@www.apache.org>; Sat,  5 Sep 2015 17:32:49 +0000 (UTC)
Received: (qmail 83895 invoked by uid 500); 5 Sep 2015 17:32:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83820 invoked by uid 500); 5 Sep 2015 17:32:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 83810 invoked by uid 99); 5 Sep 2015 17:32:36 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2015 17:32:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 2AA2A18C901
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 17:32:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.898
X-Spam-Level: **
X-Spam-Status: No, score=2.898 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id bArHCNzrtQoZ for <dev@httpd.apache.org>;
	Sat,  5 Sep 2015 17:32:35 +0000 (UTC)
Received: from mail-io0-f170.google.com (mail-io0-f170.google.com [209.85.223.170])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 3FF2342B36
	for <dev@httpd.apache.org>; Sat,  5 Sep 2015 17:32:35 +0000 (UTC)
Received: by ioii196 with SMTP id i196so53832999ioi.3
        for <dev@httpd.apache.org>; Sat, 05 Sep 2015 10:32:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=YHEMnEZP7a5VuzQorhpZATi9Ybg/EnE1s2Xx+2VkDQk=;
        b=a21yq7vXLDWidPgaPe1y3sEMkfbm1aRgoqDp0ipXegY0NZsOw4ipEcsiU6aiiVKP6n
         vL3i8i2HoLEWaK9XIt/XsS5n6VlktwzgPZVr4Jb0INN4oU7zyBsOzvm8NAW5Rd8b8vYk
         buJlATgqHNoQk5TS0T8h3Vei2XpZqJLofnZGC7OD2B4/5cSDjDUE4ga2PAG7Z6Kvipag
         /CaaWgU7Yv2jblylCdQULAx+m/5sl2aSYp7tL+FCmj2C/T2vxZrvj5V+dhnhT8F8jFWy
         iN9Jn7ndTGIrdiDIqjIlnhl/x63ySrk/Py2My6s1o4g6QfcOf7xev7B1RcICgw7TsWKn
         poAA==
MIME-Version: 1.0
X-Received: by 10.107.9.222 with SMTP id 91mr18861408ioj.107.1441474354911;
 Sat, 05 Sep 2015 10:32:34 -0700 (PDT)
Received: by 10.79.102.132 with HTTP; Sat, 5 Sep 2015 10:32:34 -0700 (PDT)
Date: Sat, 5 Sep 2015 22:02:34 +0430
Message-ID: <CAOsSsa5K8Tu-EEF09nXKKH2OSzdO3YsjdpREcDS1XaDGUm3KzQ@mail.gmail.com>
Subject: Force Apache server to use a same TCP sequence number for each TCP connection
From: Seyyed Hesamoddin Ghasemi <s.hesam.ghasemi@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a113eba38e0a2e5051f0366dd

--001a113eba38e0a2e5051f0366dd
Content-Type: text/plain; charset=UTF-8

Hi,
How can force Apache server to use a constant value sequence number in all
the sessions? Is this possible?
I'm an Msc computer engineering student and I need to do this in one of the
steps of my thesis implementations.
I would be happy to hear your response.

--001a113eba38e0a2e5051f0366dd
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hi,<div>How can force Apache server to use a constant valu=
e sequence number in all the sessions? Is this possible?</div><div>I&#39;m =
an Msc computer engineering student and I need to do this in one of the ste=
ps of my thesis implementations.</div><div>I would be happy to hear your re=
sponse.</div>
</div>

--001a113eba38e0a2e5051f0366dd--

From dev-return-83732-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Sep  6 00:48:13 2015
Return-Path: <dev-return-83732-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5195010EA6
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  6 Sep 2015 00:48:13 +0000 (UTC)
Received: (qmail 14235 invoked by uid 500); 6 Sep 2015 00:48:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14168 invoked by uid 500); 6 Sep 2015 00:48:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14158 invoked by uid 99); 6 Sep 2015 00:48:07 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Sep 2015 00:48:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 5E69C180425
	for <dev@httpd.apache.org>; Sun,  6 Sep 2015 00:48:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.008
X-Spam-Level:
X-Spam-Status: No, score=-0.008 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id NSBVVy_5Vap6 for <dev@httpd.apache.org>;
	Sun,  6 Sep 2015 00:48:05 +0000 (UTC)
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 4D852201F9
	for <dev@httpd.apache.org>; Sun,  6 Sep 2015 00:48:05 +0000 (UTC)
Subject: Re: Force Apache server to use a same TCP sequence number for each
 TCP connection
To: dev@httpd.apache.org
References: <CAOsSsa5K8Tu-EEF09nXKKH2OSzdO3YsjdpREcDS1XaDGUm3KzQ@mail.gmail.com>
From: Reindl Harald <h.reindl@thelounge.net>
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
Organization: the lounge interactive design
Message-ID: <55EB8D3D.9090209@thelounge.net>
Date: Sun, 6 Sep 2015 02:47:57 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <CAOsSsa5K8Tu-EEF09nXKKH2OSzdO3YsjdpREcDS1XaDGUm3KzQ@mail.gmail.com>
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="bJS2qcrNLQA20EIwuiJl3qQUSMjBIkht4"

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--bJS2qcrNLQA20EIwuiJl3qQUSMjBIkht4
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable


Am 05.09.2015 um 19:32 schrieb Seyyed Hesamoddin Ghasemi:
> How can force Apache server to use a constant value sequence number in
> all the sessions? Is this possible?
> I'm an Msc computer engineering student and I need to do this in one of=

> the steps of my thesis implementations.
> I would be happy to hear your response

the TCP sequence number is completly outside of the applications scope=20
by definition


--bJS2qcrNLQA20EIwuiJl3qQUSMjBIkht4
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlXrjT0ACgkQhmBjz394AnkUTgCffu+hfp0etKhEQ33nFo5RvpJx
pHYAnjye2VPh1tcrTtrvlpOv0BdxJ7rd
=JYPH
-----END PGP SIGNATURE-----

--bJS2qcrNLQA20EIwuiJl3qQUSMjBIkht4--

From dev-return-83733-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Sep  6 07:15:16 2015
Return-Path: <dev-return-83733-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 76E93186A7
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  6 Sep 2015 07:15:16 +0000 (UTC)
Received: (qmail 28708 invoked by uid 500); 6 Sep 2015 07:15:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28644 invoked by uid 500); 6 Sep 2015 07:15:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28635 invoked by uid 99); 6 Sep 2015 07:15:15 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Sep 2015 07:15:15 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id 95ED01A010F
	for <dev@httpd.apache.org>; Sun,  6 Sep 2015 07:15:15 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id F379C6052C; Sun,  6 Sep 2015 07:15:14 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2015/09/06]
Message-Id: <20150906071514.F379C6052C@asf-bz1-us-mid.priv.apache.org>
Date: Sun,  6 Sep 2015 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 7483|Ass|Enh|2002-03-26|Add FileAction directive to assign a cgi interpret|
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|12680|New|Enh|2002-09-16|Digest authentication with integrity protection   |
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|18497|New|Min|2003-03-30|configure --help gives wrong default for sysconfdi|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21253|New|Nor|2003-07-01|Mime magic doesn't continue if type is specifed fo|
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22138|Inf|Cri|2003-08-05|Webdav is not preccessing special chars right.    |
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24437|Opn|Nor|2003-11-05|mod_auth_ldap doubly-escapes backslash (\) charact|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Enh|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42001|New|Cri|2007-03-30|LINUX : Could not set LDAP_OPT_X_TLS to LDAP_OPT_X|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Opn|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|httpd fails to start if log directory does not exi|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43532|Inf|Cri|2007-10-02|Error while compiling Apache 2.2.3 on HPUX        |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|Opn|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45926|Inf|Nor|2008-10-01|Unable to start apache 2.2.9                      |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46054|New|Nor|2008-10-21|Running httpd returns the error "bad user name nob|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Nor|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46724|Inf|Cri|2009-02-17|WinXP SP3 - Apache crashes on startup in libapr-1.|
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47241|New|Min|2009-05-22|Error in rewriting with character ':'             |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47289|New|Nor|2009-05-30|Can't build with dynamic libraries on Mac OS 10.4 |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|Inf|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48309|New|Maj|2009-11-30|libapreq2-2.12: "make test" fails at request.t and|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|New|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Blk|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51842|New|Enh|2011-09-18|Suggesting a new action for the Header directive: |
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Enh|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52756|Inf|Trv|2012-02-24|proxy_html_module LoadModule line not created in h|
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53121|New|Nor|2012-04-22|Confusing documentation, gzip and deflate         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name　(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|53999|Opn|Nor|2012-10-13|Deadlock between procmgr_send_spawn_cmd()/proctabl|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54364|New|Nor|2012-12-31|Add ref to mod_fcgid docs                         |
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|54998|Ver|Nor|2013-05-21|Apache 2.4 terminates all SSL connections using an|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55147|New|Nor|2013-06-26|"Header always" w/ cache different in 2.4         |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55449|New|Maj|2013-08-19|AH01185: worker slotmem_create failed --> slotmem |
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55808|New|Nor|2013-11-21|File integrity verification using MD5 and SHA1    |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|New|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55841|New|Nor|2013-12-04|Misleading news items on bugfix releases ("This ve|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55897|New|Nor|2013-12-17|[PATCH]patch with SO_REUSEPORT support            |
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|New|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56040|New|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56226|Ver|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56687|New|Nor|2014-07-01|ProxySourceAddress failed to bind socket to local |
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|Inf|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56898|New|Nor|2014-08-28|Headers in err_headers_out are not returned when a|
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57100|Ver|Nor|2014-10-16|"SSLProtocol ALL" is ignored for virtual hosts    |
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57109|New|Nor|2014-10-17|GPG verification examples are wrong               |
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57120|New|Nor|2014-10-21|Disable SSLv3 by default (POODLE)                 |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|Ver|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57374|Ver|Nor|2014-12-19|Event MPM: Wrong KeepAliveTimeout when system cloc|
|57375|New|Enh|2014-12-19|Support LibreSSL as an alternative toolkit for mod|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Nor|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|New|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57795|Opn|Maj|2015-04-07|mod_proxy_wstunnel sometimes does not connect and |
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|Inf|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
|57868|New|Nor|2015-04-28|SIGSEV when lacking correct DB access permissions |
|57876|New|Reg|2015-04-30|logresolve.exe on any Windows immediately crashes |
|57878|New|Nor|2015-04-30|Using UTF-8 for all languages, and avoiding html-e|
|57895|New|Min|2015-05-05|missing m4a mimeType in mime.types                |
|57911|New|Min|2015-05-09|Rewrite documentation unclear or wrong about what |
|57927|New|Maj|2015-05-13|Segmentation Fault at proxy_util.c:994            |
|57933|New|Min|2015-05-18|apr_port_t returns constant                       |
|57941|New|Nor|2015-05-21|config.status: line 331: syntax error near unexpec|
|57949|New|Enh|2015-05-25|new mod_ssl environment variable SSL_{CLIENT|SERVE|
|57950|New|Nor|2015-05-26|[patch] buildconf change hint in build to newer ap|
|57960|New|Nor|2015-05-27|PUT truncates response body; status_line appears t|
|57976|New|Cri|2015-05-30|Server threads stale when sending 500 status with |
|57978|New|Nor|2015-06-01|unix:/ works with any number of / slashes  except |
|57979|New|Nor|2015-06-01|can not turn change log level for mod_filter      |
|57996|New|Nor|2015-06-03|Symlinks erroneously not followed when target inod|
|57997|New|Nor|2015-06-03|Threads started during child_init don't block sign|
|57999|New|Nor|2015-06-04|ap_getparents() may remove start slash of uri     |
|58001|New|Enh|2015-06-04|Implement Forwarded header (RFC 7239) to mod_proxy|
|58007|New|Nor|2015-06-06|400 Bad Request with fully qualified domain name o|
|58020|New|Nor|2015-06-11|When user authenticates with certificate which has|
|58024|New|Nor|2015-06-11|(Graceful) Restart does not work after adding a Ba|
|58025|New|Enh|2015-06-11|mod_authz_dbd : new dbd-query and AuthzDBDQuery op|
|58026|New|Nor|2015-06-11|return 421 status code when SNI and Host: header d|
|58044|New|Cri|2015-06-16|Error sintax 'lua_dump'                           |
|58050|New|Nor|2015-06-17|ErrorDocument does not always work                |
|58073|New|Nor|2015-06-24|Extremely long time for graceful restart          |
|58089|New|Nor|2015-07-01|mod_authz_host uses proxy IP even when mod_remotei|
|58091|New|Nor|2015-07-02|mod_socache_memcache does not reuse memcache conne|
|58097|New|Enh|2015-07-03|[feat] Preserve original connecting IP            |
|58101|New|Nor|2015-07-05|DeflateCompressionLevel inside vhost resets logfor|
|58107|New|Blk|2015-07-06|Httpd crashes on startup every time, dump file att|
|58109|New|Nor|2015-07-06|Apache on windows cannot handle the hash symbol (#|
|58118|Inf|Min|2015-07-09|mod_proxy_fcgi logs 503 when user aborts connectio|
|58120|New|Nor|2015-07-10|ProxyPassInherit does not work as expect          |
|58121|New|Nor|2015-07-10|ProxyHTMLMeta seems to ignore all <meta http-equiv|
|58126|New|Nor|2015-07-11|[patch] acinclude.m4 fix "warning: underquoted def|
|58129|New|Nor|2015-07-12|man pages are not generated correctly             |
|58132|New|Nor|2015-07-12|non-standard, non-traditional man page layout make|
|58135|New|Nor|2015-07-14|mod_cache sends client "if-Modified-Since" to back|
|58141|New|Nor|2015-07-15|Apache Service doesn't start when rotatlogs.exe pa|
|58142|New|Nor|2015-07-15|authz_core ignores loglevel                       |
|58158|New|Nor|2015-07-21|Not honoring HTTP spec with regard to Accept-Encod|
|58168|New|Enh|2015-07-21|Would like full request evaluation support in Rewr|
|58171|New|Nor|2015-07-22|ap_session_save saves the wrong session after a de|
|58177|New|Enh|2015-07-24|Mod Proxy forward trailers in http chunked request|
|58180|New|Enh|2015-07-24|ErrorDocument original URL in subsequent <Location|
|58181|New|Enh|2015-07-25|mod_expire should allow "minus" keyword same like |
|58188|New|Nor|2015-07-28|http2 mod_lua: support build with lua 5.2+        |
|58197|New|Nor|2015-07-31|apr-util-1.5.4 build against openldap - "could not|
|58202|New|Enh|2015-07-31|apxs -q += HTTPD_MAJOR , HTTPD_MMN variables      |
|58213|New|Nor|2015-08-05|Can't use SUITEB128 etc. OpenSSL cipher strings wi|
|58225|New|Reg|2015-08-08|intermitant segfault 11 in session_identity_encode|
|58226|New|Nor|2015-08-08|XSS in Error Page                                 |
|58231|New|Nor|2015-08-11|RewriteCond can add "Host" to the Vary-Header     |
|58235|New|Enh|2015-08-12|Ability to allow from domain but with using forwar|
|58243|New|Nor|2015-08-14|rotatelogs goes infinite at startup               |
|58248|New|Nor|2015-08-17|Error 404 in use some characters of utf8 in url   |
|58257|New|Nor|2015-08-18|require ldap-group does not work if account-fullna|
|58278|New|Nor|2015-08-24|apache - mod_security Issue : apache no releasing |
|58280|New|Nor|2015-08-24|Backend connection not closed until timeout if cli|
|58288|New|Nor|2015-08-27|Semaphore amount increase until crash when enablin|
|58292|New|Nor|2015-08-27|FallbackResource breaks chunked encoding sometimes|
|58304|New|Nor|2015-08-30|Unexpected Warnings from Macro Use in 2.4         |
|58305|New|Nor|2015-08-30|mod_cgi documentation not clear about what is pass|
|58306|New|Nor|2015-08-30|documentation needs to make it clear which directi|
|58307|New|Nor|2015-08-31|Segmentation fault in child in "read(__nbytes, __b|
|58317|New|Min|2015-09-02|Error message AH01630 is missing file name on deny|
+-----+---+---+----------+--------------------------------------------------+
| Total 1537 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-83734-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Sep  6 13:07:04 2015
Return-Path: <dev-return-83734-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 12E8118FC3
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  6 Sep 2015 13:07:04 +0000 (UTC)
Received: (qmail 76836 invoked by uid 500); 6 Sep 2015 13:07:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76773 invoked by uid 500); 6 Sep 2015 13:07:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76763 invoked by uid 99); 6 Sep 2015 13:07:03 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Sep 2015 13:07:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id BF28A1A071D
	for <dev@httpd.apache.org>; Sun,  6 Sep 2015 13:07:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.395
X-Spam-Level: *
X-Spam-Status: No, score=1.395 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_MXURI=1.5, RP_MATCHES_RCVD=-0.006, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=velox.ch header.b=CTlrA2Bm;
	dkim=pass (2048-bit key) header.d=velox.ch header.b=EZylOzvI
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 0-6JDbtbBsQC for <dev@httpd.apache.org>;
	Sun,  6 Sep 2015 13:06:47 +0000 (UTC)
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 3441220313
	for <dev@httpd.apache.org>; Sun,  6 Sep 2015 13:06:47 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t86D6dII030983
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Sun, 6 Sep 2015 15:06:40 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1441544800;
	bh=JaopH61VwdFDDCISec2pKFkfYRfLdUJj2muVbD7fiSE=;
	h=From:Subject:To:References:Date:In-Reply-To;
	b=CTlrA2BmEogFbAVaBpx73mAG04LC9JnulWmhqAjIk3gpUTCMP3ZbuvFZ4ZTHz0344
	 HH10rTzcgrd6rMvXROkHyHuqAhlFG93ncKgvlzzecBSkFDrTsNgzuPFrrxn7dOjTT1
	 J6ByYbzaQgHSEsqnIT2grBm24XgA4s/ve8b6zheimgH+uJywrUmChky0ok6MOPmvfj
	 XM6LuqaHsIyTK7+B287NGC+JkGrOGK417WkxE54UT0WfGol1Jyteact3vunF3aITIV
	 ONhe6t3fsiQp5uil6Y6FZJIjHXOvXbN7vrGB48Jto/vwSjxyi3AOukIVn5sOQowlGA
	 xuf5eSVm4Ifkw==
From: Kaspar Brand <httpd-dev.2014@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1441544797;
	bh=JaopH61VwdFDDCISec2pKFkfYRfLdUJj2muVbD7fiSE=;
	h=From:Subject:To:References:Date:In-Reply-To;
	b=EZylOzvIDeJzdR50EsFjOYsl4FU8f+s4of6RV+OvqbzJ/H6LQSXnbdu5kbID0PnzI
	 OdBZpGcI4Ju4/xighRwvaJlbDAzFoMBUw56F8M2IXqxUIXeGHqALD+a28WxDcLhXAv
	 D/2iPwIeCekrkTUt4gPBmFk2iOxP0nSeqEulLn/YntM1VmuKk3+kFdyklTlRqQklJY
	 X82dSCm4QaeiWN6mhwW2xNOdj8IiFpXzcby9jOj86xhojYkCVzjn2gZvvMCL9ysa7o
	 /ZkJcm+ZGyxZuw3wytcQBs5kJMHz1X6zGVK0UgZzOnnl3VrhE3iMUeHN7lTLj2moZW
	 bJA3g19AzbpKA==
Subject: Re: [RFC] Enable OCSP Stapling by default in httpd trunk
To: dev@httpd.apache.org
References: <CAKUrXK6k01WGqF8z6F3YBNbanbTaOSHbbzwSi2O3H3u03_mvUw@mail.gmail.com>
 <5454A244.6070006@velox.ch>
 <CAG5KPzypCfJ7rZVBSC6t2hqxV5=zJcBDRcQxrGVUmnuYAsU_mw@mail.gmail.com>
 <55A12E9C.6060805@velox.ch>
 <CACsi251vkwFs3Neqqf-cdF7W=WDZFGqY-L+1baWQdTfJ+OaZ6Q@mail.gmail.com>
 <55A363EC.6030801@apache.org>
 <CAKUrXK6m6BGhhP3fg_Gx9wFyWD8YV4PgmyRqMa7iv6bRLXMspw@mail.gmail.com>
 <55E2A31E.5000204@velox.ch> <55E63AAE.1010205@gmail.com>
 <55E9B1BB.3000005@velox.ch> <55E9BE99.8020508@comodo.com>
 <55EAA877.5090104@velox.ch>
 <CAG5KPzz=tW4i+PBT-UuHcdsn+RTmvFrkcsBaQ2ZMp0ZKqV+60A@mail.gmail.com>
Message-ID: <55EC3A5D.303@velox.ch>
Date: Sun, 6 Sep 2015 15:06:37 +0200
MIME-Version: 1.0
In-Reply-To: <CAG5KPzz=tW4i+PBT-UuHcdsn+RTmvFrkcsBaQ2ZMp0ZKqV+60A@mail.gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit

On 05.09.2015 12:53, Ben Laurie wrote:
> On Sat, 5 Sep 2015 at 09:32 Kaspar Brand <httpd-dev.2014@velox.ch> wrote:
>> I'm also very sceptical that a higher percentage of handshakes with
>> stapled responses (how much exactly?) will lead browser vendors to
>> switch to hard fail - as the test-sspev.verisign.com example from my
>> previous message shows, they could do this for EV today already (even
>> Chrome tries querying the OCSP responder in this case). But none of them
>> does, often due to the fear of losing market share when being too strict
>> in enforcing TLS security (cf. the case of RC4 banning).
>>
> 
> I don't know why you think your example shows that - the reason browsers
> don't hard fail is because OCSP (or any out of band communication) is
> unreliable.

Unreliable in what sense, or for what reason? Due to OCSP responders
being unreachable, being unable to handle the load, serving flawed
responses (like the recent hiccup mentioned in
https://twitter.com/GSSystemAlerts/status/634418637835669504), or...?
Only the second point can be addressed by stapling, as it simply
switches to another method for transmitting the response to the client.

> So that either means you fail for sites that are actually
> perfectly OK, or you allow an attacker to override revocation (by blocking
> OCSP).
> 
>  This is why browsers are pushing for OCSP stapling, not because of speed.

Taking into account that OCSP responders from the big players are
running on fairly robust infrastructure these days (cf. the sr.symcd.com
example, aka ocsp.verisign.net, aka ocsp.ws.symantec.com.edgekey.net),
I'm not buying the "OCSP is unreliable" statement in this wholesale form.

Even assuming that, say, 90% of all handshakes would include stapled
responses one day, I'm pretty sure that browsers would come up with
other arguments as to why they can't enforce hard-fail. Or perhaps in
one or two years, they want everybody to switch to using short-lived
certs without OCSP (because "revocation doesn't work" anyway), at which
point the "let's get OCSP stapling universally deployed" exercise would
become moot.

> Certificate Transparency faces the same problem, which is why it only
> exists as an in-band mechanism.
> 
> Blocking stapling (and presumably you will also object to CT for similar
> reasons) is hurting security.

CT is a completely separate topic, but for the sake of completeness:
yes, I would object to enabling such a feature in httpd by default, as
long as it triggers outgoing connections on the server. That isn't the
case for being able to serve SCTs, however: all it takes is
httpd/mod_ssl 2.4.8 or later compiled against OpenSSL 1.0.2a or later,
an appropriate "BEGIN SERVERINFO FOR..." file and an "SSLOpenSSLConfCmd
ServerInfoFile ..." directive in the config (no outgoing connectivity on
the server needed, neither permanently nor temporarily).

> You've argued that there's no point switching on stapling because browsers
> won't pay attention to OCSP anyway. That is not true. They don't pay
> attention to OCSP because it is unreliable. If stapling were widely
> deployed, then it would be possible to switch on hard fail.

Again, the "OCSP is unreliable" statement is just your current claim
(unless you can provide real-world measurements showing things like "30%
of all OCSP queries fail due to timeouts", "50% of all OCSP checks take
more than 3 seconds" or similar). Having used Firefox with
security.OCSP.require=true for extended periods of time, I do not agree
with the overall assessment of OCSP being unreliable.

> Leaving it to admins makes no sense to me - most admins are not acquainted
> with the detailed reasons for/against stapling, and are not in a position
> to make an informed decision.

That's what our documentation is for. Just asserting that admins
are too dumb to understand and instead decide on their behalf is an
attitude I strongly dislike. Apache httpd is not the same sort of
software like browsers for the big (and probably often clueless) masses,
where that approach might have its justification.

> Someone has to choose the default, and IMO
> the ASF should always default to "more secure".

Pretty muddy ground - "more secure" in what sense exactly? A server not
being dependent on outgoing connectivity for its day-to-day operations
is typically more secure than one which regularly needs to fetch data
from the outside world.

And if stapling is really making servers "more secure", why are
www.google.com, mail.google.com or drive.google.com still not providing
stapled responses as of today? (same is true for other high-traffic
sites like Twitter or FB, JFTR)

Kaspar

From dev-return-83735-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Sep  6 13:09:42 2015
Return-Path: <dev-return-83735-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8FE4518FDA
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  6 Sep 2015 13:09:42 +0000 (UTC)
Received: (qmail 81880 invoked by uid 500); 6 Sep 2015 13:09:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 81808 invoked by uid 500); 6 Sep 2015 13:09:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 81798 invoked by uid 99); 6 Sep 2015 13:09:42 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Sep 2015 13:09:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 893DB180428
	for <dev@httpd.apache.org>; Sun,  6 Sep 2015 13:09:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.105
X-Spam-Level:
X-Spam-Status: No, score=-0.105 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.006, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=velox.ch header.b=M281mEsv;
	dkim=pass (2048-bit key) header.d=velox.ch header.b=Qh+XUGaK
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ZWJ2r1nej-SC for <dev@httpd.apache.org>;
	Sun,  6 Sep 2015 13:09:31 +0000 (UTC)
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 0A83A20382
	for <dev@httpd.apache.org>; Sun,  6 Sep 2015 13:09:30 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t86D9Nio031005
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Sun, 6 Sep 2015 15:09:23 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1441544963;
	bh=z/7JeAcsXEXzcmWl4lfvzUC8CwUWyL4zBotY5s/0SLM=;
	h=From:Subject:To:References:Date:In-Reply-To;
	b=M281mEsv0O+3iSlhk2PjQp4m3N2WB0rBzDsa54mtm/nyU41lfGYmrI+6WjtSuWmcz
	 VFdMaMzNdJKfSKdkC4gNgvRvHjyM0xXpCXxwRUcqMkA6KIZqc110fAu6KwyyiQfuy5
	 ZtmP0VC8sFVPR689EjnNsqFNNgpPUqgp411CAEGkAyznST/UEbzxxPsO+u5azP9arC
	 jhcaaFG8qRjgbTbAqdGO75Jwl1zwS071MySzPlTv/U6wJPF3wbU3ZDfmviUyXSYhzj
	 drHq0B7MgkUKnIHFscJWvhoJVNpHGWQHKMAjL8MzsLKJyvZZL7Tc10dstoq6RE7Mnb
	 MH0O46qPeqL2w==
From: Kaspar Brand <httpd-dev.2014@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1441544962;
	bh=z/7JeAcsXEXzcmWl4lfvzUC8CwUWyL4zBotY5s/0SLM=;
	h=From:Subject:To:References:Date:In-Reply-To;
	b=Qh+XUGaK66YhHDNw3SNuMu3RbhdTRirFcyhTzahpbPrtDt3ftE7jhoBYRaytclDvi
	 tbW6z8Pz3B8t/eQC+MT2LI2euO1z7uxMQbK3t5RPKvlnNr+pXtkwouGErfUZPir2ui
	 M2fa8U/k1J9MF/kXGLantWmuMq7y47OO4+13+Zgo59rF/gklFbo6qpRfydSwOLidQ7
	 e5jXQnwzj7MaWACT0EAxLQxtL9YlqUMjqLHRj4Ocm0lZ5XwAk0y0xubBRtkAP7dCvH
	 Qo2CR4fSBecrFiXvIoHHEX/0zbPXrAwxenfqMh4CVmb+ZOVnKlHnbnIxcFilyGf4rt
	 c7MUtUwk34J1g==
Subject: Re: [RFC] Enable OCSP Stapling by default in httpd trunk
To: dev@httpd.apache.org
References: <CAKUrXK6k01WGqF8z6F3YBNbanbTaOSHbbzwSi2O3H3u03_mvUw@mail.gmail.com>
 <5454A244.6070006@velox.ch>
 <CAG5KPzypCfJ7rZVBSC6t2hqxV5=zJcBDRcQxrGVUmnuYAsU_mw@mail.gmail.com>
 <55A12E9C.6060805@velox.ch>
 <CACsi251vkwFs3Neqqf-cdF7W=WDZFGqY-L+1baWQdTfJ+OaZ6Q@mail.gmail.com>
 <55A363EC.6030801@apache.org>
 <CAKUrXK6m6BGhhP3fg_Gx9wFyWD8YV4PgmyRqMa7iv6bRLXMspw@mail.gmail.com>
 <55E2A31E.5000204@velox.ch> <55E63AAE.1010205@gmail.com>
 <55E9B1BB.3000005@velox.ch> <55E9BE99.8020508@comodo.com>
 <55EAA877.5090104@velox.ch>
 <CAG5KPzz=tW4i+PBT-UuHcdsn+RTmvFrkcsBaQ2ZMp0ZKqV+60A@mail.gmail.com>
 <1727C21F-FEEA-4EBA-BCA6-55FFF04A6F35@c8h10n4o2.org.uk>
Message-ID: <55EC3B03.1050703@velox.ch>
Date: Sun, 6 Sep 2015 15:09:23 +0200
MIME-Version: 1.0
In-Reply-To: <1727C21F-FEEA-4EBA-BCA6-55FFF04A6F35@c8h10n4o2.org.uk>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit

On 05.09.2015 13:06, Tim Bannister wrote:
> It's not just conventional browsers. I think automated / embedded
> HTTP clients will also benefit from stapling, either because
> networking filters would block a conversation between the client and
> the CA's OCSP responder, or the extra latency from using conventional
> OCSP is a problem.

That hope is mostly futile: OpenSSL e.g., presumably quite popular
for implementing such clients, does not include any readily available
support for enabling OCSP checking in client mode. And even if a library
has some sort of knob for turning it on (Sun^WOracle's CertPath provider
e.g.), you'll mostly find that they don't handle stapled responses.
Consider yourself happy if a client at least does some sort of hostname
verification (see https://www.cs.utexas.edu/~shmat/shmat_ccs12.pdf for
further background, the situation didn't change fundamentally since then).

> For another example of a non-interactive application implementing
> OCSP, look at the Exim mail transfer agent (which can be both client
> and server).

SMTP with STARTTLS isn't a useful example, sorry... it's opportunistic
encryption only in the best case, and for MTA communications, DANE-EE
(https://datatracker.ietf.org/doc/draft-ietf-dane-smtp-with-dane/) looks
like a more promising approach.

Kaspar

From dev-return-83736-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Sep  6 13:13:16 2015
Return-Path: <dev-return-83736-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F34FC18FE9
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  6 Sep 2015 13:13:15 +0000 (UTC)
Received: (qmail 83728 invoked by uid 500); 6 Sep 2015 13:13:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83630 invoked by uid 500); 6 Sep 2015 13:13:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 83620 invoked by uid 99); 6 Sep 2015 13:13:15 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Sep 2015 13:13:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 0B83A180425
	for <dev@httpd.apache.org>; Sun,  6 Sep 2015 13:13:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.106
X-Spam-Level:
X-Spam-Status: No, score=-0.106 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.006] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=velox.ch header.b=rTFFjZmQ;
	dkim=pass (2048-bit key) header.d=velox.ch header.b=Yl7B1rPx
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ZYFxXR8mL_nq for <dev@httpd.apache.org>;
	Sun,  6 Sep 2015 13:13:14 +0000 (UTC)
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id CAD224414D
	for <dev@httpd.apache.org>; Sun,  6 Sep 2015 13:13:13 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t86DD6Hv031048
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Sun, 6 Sep 2015 15:13:06 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1441545186;
	bh=CHfHn/DFdaHBPXuqhmKS4DA9Gr70o6x0TzDc7qC7OVg=;
	h=From:Subject:To:References:Date:In-Reply-To;
	b=rTFFjZmQu5To8S/qkVyEBy9MN72gjiamTd66JUjoruqG6+zTebz+61PMP+s91e4vU
	 jxLsYftuHS9ePsFm5u6MbDuCD9So6GuXCXeQASvUqXU3JIFabeMH3SYaggP+8WSKmj
	 NIDNkZFF7Nov2LXm1flWmHkLI8GIZnLxxA5t4+sqX+TH8P7V0ggQVHu2TuKftZ7BrS
	 kk3UZxI5YSqJtSIdym5AjO7m1bvw2PkJKpKVlLInNEQK4ncLcVpQLJA6WoJukaYdoM
	 T2PQshz3jSI2ll93cONLFRnzaSkFXIQGzKo1rc8MrtpStxAMNBEvD4QL6HXl3QDQeY
	 /6q7KD7sxPPsw==
From: Kaspar Brand <httpd-dev.2014@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1441545185;
	bh=CHfHn/DFdaHBPXuqhmKS4DA9Gr70o6x0TzDc7qC7OVg=;
	h=From:Subject:To:References:Date:In-Reply-To;
	b=Yl7B1rPx2tGyqCfmpafkgWPANs0j3EnzG4OM/Wr5X7e+ij++cU6XyP42itzH5e8s2
	 z0+PYR90JgZIcoSTha5IMMeYifVcfg364yTWlYOLBaCTdinxNB4dYdJ3yFo2RwNSWa
	 zK4ezPXwywPScH2fwfBdKFKzebHtd2USHqfC4PH6V+dwVb7OYSiFoeZtzI4MZm+IRm
	 Kupqyc3hdEaliMmq8GIlVwUF/BPW6h6HhWmiBl/T59asRgCUH+KeUTGpC9MW8keWBI
	 MViEy8uO1K3/EfWEhws30pi6sElCJPwhVKsHX7AQJc9RIOqKmSqAmAxiOaIMMSe6i3
	 u+w0UkpSj2erg==
Subject: Re: [RFC] Enable OCSP Stapling by default in httpd trunk
To: dev@httpd.apache.org
References: <CAKUrXK6k01WGqF8z6F3YBNbanbTaOSHbbzwSi2O3H3u03_mvUw@mail.gmail.com>
 <5454A244.6070006@velox.ch>
 <CAG5KPzypCfJ7rZVBSC6t2hqxV5=zJcBDRcQxrGVUmnuYAsU_mw@mail.gmail.com>
 <55A12E9C.6060805@velox.ch>
 <CACsi251vkwFs3Neqqf-cdF7W=WDZFGqY-L+1baWQdTfJ+OaZ6Q@mail.gmail.com>
 <55A363EC.6030801@apache.org>
 <CAKUrXK6m6BGhhP3fg_Gx9wFyWD8YV4PgmyRqMa7iv6bRLXMspw@mail.gmail.com>
 <55E2A31E.5000204@velox.ch> <55E63AAE.1010205@gmail.com>
 <55E9B1BB.3000005@velox.ch> <55EADEDF.1090108@gmail.com>
Message-ID: <55EC3BE1.8070703@velox.ch>
Date: Sun, 6 Sep 2015 15:13:05 +0200
MIME-Version: 1.0
In-Reply-To: <55EADEDF.1090108@gmail.com>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit

On 05.09.2015 14:23, Jeff Trawick wrote:
> On 09/04/2015 10:59 AM, Kaspar Brand wrote:
>>> 1. The default configuration should not trigger unsolicited outgoing
>>> queries to untrusted systems, for both a) and b), that's how I would put it.
> 
> Re: "unsolicited":
> 
> Key words/phrases from the other end of the continuum: "unexpected by 
> many", "responder obtained from explicitly configured certificate"

The other end of the continuum would be "explicitly requested", in my
view. "unsolicited" = "not explicitly requested", that's what I intended
to say (and "explicitly" referring to something like "manually enabling
a directive").

> The unexpected aspect could be helped by a [notice] message at startup 
> indicating that an OCSP responder will be contacted for N certificates 
> due to the directive.  (If there is only one, an alternate message could 
> be displayed with the actual responder URL; we couldn't do that for 
> arbitrary numbers.)

IMO, not a sufficient method for justifying a "default on" setting
(configuring a Base64 encoded certificate blob through
SSLCertificateFile doesn't amount to explicitly configuring a responder
URI).

> Re: "untrusted":
> 
> The certificate and its content are untrusted in general?

Technically speaking, as long as mod_ssl doesn't validate the cert file
against a set of (locally configured) trust anchors, the complete file
is to be considered untrusted. An admin could have received a "fake
reply" for his CSR, where the public key perfectly matches the private
key, but the contents are bogus otherwise. Sure, he would most likely
realize this quite soon after having configured the cert and trying to
connect to his own server, but essentially, I wouldn't consider the
contents pointed to by an SSLCertificateFile directive as trusted.

> The content 
> is trusted but the responder URL is not what/who it seems? (I wasn't 
> sure where you were leading when you alluded to this in prior 
> correspondence.)

X.509v3 certs can have all sorts of "useful" extensions, and I wouldn't
consider all this information automatically trusted just because it's
signed by the CA (take the OU field in the subject DN as an example:
most CAs will have disclaimers stating that these fields are basically
"unverified").

With the OCSP URI in particular, an additional aspect of "untrusted" is
that resolving its IP address(es) relies on the DNS, i.e. a component
which can't be considered trusted when it is queried for records of
third-party domains.

Kaspar

From dev-return-83737-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Sep  6 13:49:40 2015
Return-Path: <dev-return-83737-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A659D17439
	for <apmail-httpd-dev-archive@www.apache.org>; Sun,  6 Sep 2015 13:49:40 +0000 (UTC)
Received: (qmail 5638 invoked by uid 500); 6 Sep 2015 13:49:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 5558 invoked by uid 500); 6 Sep 2015 13:49:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 5548 invoked by uid 99); 6 Sep 2015 13:49:40 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Sep 2015 13:49:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id A564A1A0735
	for <dev@httpd.apache.org>; Sun,  6 Sep 2015 13:49:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_HELO_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id OV-FkJJaJzHQ for <dev@httpd.apache.org>;
	Sun,  6 Sep 2015 13:49:33 +0000 (UTC)
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 43BC540B1C
	for <dev@httpd.apache.org>; Sun,  6 Sep 2015 13:49:33 +0000 (UTC)
Subject: Re: [RFC] Enable OCSP Stapling by default in httpd trunk
To: dev@httpd.apache.org
References: <CAKUrXK6k01WGqF8z6F3YBNbanbTaOSHbbzwSi2O3H3u03_mvUw@mail.gmail.com>
 <5454A244.6070006@velox.ch>
 <CAG5KPzypCfJ7rZVBSC6t2hqxV5=zJcBDRcQxrGVUmnuYAsU_mw@mail.gmail.com>
 <55A12E9C.6060805@velox.ch>
 <CACsi251vkwFs3Neqqf-cdF7W=WDZFGqY-L+1baWQdTfJ+OaZ6Q@mail.gmail.com>
 <55A363EC.6030801@apache.org>
 <CAKUrXK6m6BGhhP3fg_Gx9wFyWD8YV4PgmyRqMa7iv6bRLXMspw@mail.gmail.com>
 <55E2A31E.5000204@velox.ch> <55E63AAE.1010205@gmail.com>
 <55E9B1BB.3000005@velox.ch> <55E9BE99.8020508@comodo.com>
 <55EAA877.5090104@velox.ch>
 <CAG5KPzz=tW4i+PBT-UuHcdsn+RTmvFrkcsBaQ2ZMp0ZKqV+60A@mail.gmail.com>
 <55EC3A5D.303@velox.ch>
From: Reindl Harald <h.reindl@thelounge.net>
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
X-Enigmail-Draft-Status: N1110
Organization: the lounge interactive design
Message-ID: <55EC4464.9030206@thelounge.net>
Date: Sun, 6 Sep 2015 15:49:24 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <55EC3A5D.303@velox.ch>
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="qaQkN6eAB4NPAu3d0iaEChpO4cl9m5429"

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--qaQkN6eAB4NPAu3d0iaEChpO4cl9m5429
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable



Am 06.09.2015 um 15:06 schrieb Kaspar Brand:
> Taking into account that OCSP responders from the big players are
> running on fairly robust infrastructure these days (cf. the sr.symcd.co=
m
> example, aka ocsp.verisign.net, aka ocsp.ws.symantec.com.edgekey.net),
> I'm not buying the "OCSP is unreliable" statement in this wholesale for=
m.

"fairly robust" don't change the fact that they would be a perfect DDOS=20
target and so an attacker would point one botnet to your server and the=20
other to the matching OCSP responder - not to forget how many sites you=20
can DDOS in case of clients would enforce OCSP and hard-fail

currently they are not a target for such attacks


--qaQkN6eAB4NPAu3d0iaEChpO4cl9m5429
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlXsRGQACgkQhmBjz394AnnPuwCeLwIHhmSsm/eNYxFncGYAQ7kR
6SwAniHqVJNgVEZ5gZ0d60qiPu4pKbkk
=24p9
-----END PGP SIGNATURE-----

--qaQkN6eAB4NPAu3d0iaEChpO4cl9m5429--

From dev-return-83738-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep  7 18:14:43 2015
Return-Path: <dev-return-83738-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8EE1D1836F
	for <apmail-httpd-dev-archive@www.apache.org>; Mon,  7 Sep 2015 18:14:43 +0000 (UTC)
Received: (qmail 84506 invoked by uid 500); 7 Sep 2015 18:14:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84383 invoked by uid 500); 7 Sep 2015 18:14:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84367 invoked by uid 99); 7 Sep 2015 18:14:42 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2015 18:14:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 7513E180425
	for <dev@httpd.apache.org>; Mon,  7 Sep 2015 18:14:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id JOb4BI_awDM0 for <dev@httpd.apache.org>;
	Mon,  7 Sep 2015 18:14:34 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 068B520489
	for <dev@httpd.apache.org>; Mon,  7 Sep 2015 18:14:33 +0000 (UTC)
Received: from [192.168.2.240] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id AEC6315A032F
	for <dev@httpd.apache.org>; Mon,  7 Sep 2015 18:22:10 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: proposed backport of mod_h2 - v4
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <C596097C-B1D9-49EB-8773-0A8EBDA08419@sharp.fm>
Date: Mon, 7 Sep 2015 20:14:23 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <81830BBB-54D6-4634-9687-C74362EBC413@greenbytes.de>
References: <08A80F0E-FB16-4DD4-AA1E-146485EF783D@greenbytes.de> <55EA6BC7.1040809@gknw.net> <B42765C6-5AF4-4876-8648-FC40C11036A1@greenbytes.de> <C596097C-B1D9-49EB-8773-0A8EBDA08419@sharp.fm>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

Thanks, new branch to bring in protocols and mod_h2 is at

   =
https://svn.apache.org/repos/asf/httpd/httpd/branches/2.4.17-protocols-htt=
p2

One may get a diff and the list of merged changes with

   svn diff ^/httpd/httpd/branches/2.4.x =
^/httpd/httpd/branches/2.4.17-protocols-http2

Any future updates to 2.4.x I will merge into the temp branch, so that =
the diff only reflects the proposed changes. I will remove the folder in =
^/httpd/httpd/branches/2.4.17-protocols-http2 after the merge into =
2.4.x.

If you have any questions regarding this branch or how to work with it, =
please let me know. I hope this works well for everyone.=20

cheers,

  Stefan

> Am 05.09.2015 um 16:21 schrieb Graham Leggett <minfrin@sharp.fm>:
>=20
> On 05 Sep 2015, at 9:21 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
>> yes, it should. where do you not see it?
>>=20
>> (i wish we'd use branches instead of this patch file madness)
>=20
> A branch is possible, create one beneath here:
>=20
> http://svn.apache.org/repos/asf/httpd/httpd/branches/
>=20
> Regards,
> Graham
> =E2=80=94
>=20

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83739-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep  8 01:56:07 2015
Return-Path: <dev-return-83739-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E085A18E73
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Sep 2015 01:56:07 +0000 (UTC)
Received: (qmail 12084 invoked by uid 500); 8 Sep 2015 01:56:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12010 invoked by uid 500); 8 Sep 2015 01:56:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12000 invoked by uid 99); 8 Sep 2015 01:56:07 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2015 01:56:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id DAE4AC20CE
	for <dev@httpd.apache.org>; Tue,  8 Sep 2015 01:56:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id vtqpsmRkUX0R for <dev@httpd.apache.org>;
	Tue,  8 Sep 2015 01:56:00 +0000 (UTC)
Received: from mail-ig0-f179.google.com (mail-ig0-f179.google.com [209.85.213.179])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 88C784414F
	for <dev@httpd.apache.org>; Tue,  8 Sep 2015 01:56:00 +0000 (UTC)
Received: by igbkq10 with SMTP id kq10so68086679igb.0
        for <dev@httpd.apache.org>; Mon, 07 Sep 2015 18:56:00 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=ZeAgGk6e2z2elwfxEfdGQ6F6GGxB3j4waxQ9UbA/cdk=;
        b=RFEIH82ykkm7UfBev7WalibJ9IoM27OUN+qwSnFouRoCMEwofJ69CpV/kVIRAYpuNM
         5lASyIzhMwa4Pnp4W6oEJXGY5yTu630dioOLAdZbySyijDvsxBMRjXRhqk3AINJVFycF
         /Z81Qeq/IKjvZ3umD8IW20BiN48iYkwG6KgHxnuGxEnC3NEkjTLlVCKF7G1gD7laIh2M
         Je64q8F8AUzcK43wgHw4CdU/5ROkS8JT2V8pPxdS+xhheomNr3W2E/3f87qaRdUb9nSh
         5+IfnH4Shz9Tk7v0h1BZNOSPO7Ivj7VQ3iIjgC4cFH219KG7ZKhxQYflQe8wdQgm4pjg
         cxjQ==
X-Gm-Message-State: ALoCoQn80q5ka3Ay7WVNHLfxT1qj8ybDqLq2u1SxSpsEjduS6yEgZVSSrnXdwyTQcRPc2DPQC/0+
MIME-Version: 1.0
X-Received: by 10.50.29.77 with SMTP id i13mr24524798igh.77.1441677360131;
 Mon, 07 Sep 2015 18:56:00 -0700 (PDT)
Received: by 10.107.12.199 with HTTP; Mon, 7 Sep 2015 18:56:00 -0700 (PDT)
Received: by 10.107.12.199 with HTTP; Mon, 7 Sep 2015 18:56:00 -0700 (PDT)
In-Reply-To: <81830BBB-54D6-4634-9687-C74362EBC413@greenbytes.de>
References: <08A80F0E-FB16-4DD4-AA1E-146485EF783D@greenbytes.de>
	<55EA6BC7.1040809@gknw.net>
	<B42765C6-5AF4-4876-8648-FC40C11036A1@greenbytes.de>
	<C596097C-B1D9-49EB-8773-0A8EBDA08419@sharp.fm>
	<81830BBB-54D6-4634-9687-C74362EBC413@greenbytes.de>
Date: Mon, 7 Sep 2015 20:56:00 -0500
Message-ID: <CACsi253cWRpJTiPWin=Z0f3PLzYz6ALU_cjkwvR-6dknybEAsA@mail.gmail.com>
Subject: Re: proposed backport of mod_h2 - v4
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7bd75b26ee8986051f32aa70

--047d7bd75b26ee8986051f32aa70
Content-Type: text/plain; charset=UTF-8

On Sep 7, 2015 1:14 PM, "Stefan Eissing" <stefan.eissing@greenbytes.de>
wrote:
>
> Thanks, new branch to bring in protocols and mod_h2 is at
>
>
https://svn.apache.org/repos/asf/httpd/httpd/branches/2.4.17-protocols-http2

I am fine with either approach. . not a critique,

I think the simplest is to prove up all core httpd patches, and propose
modules/http2 straight from trunk (or the rev you think is most
appropriate, modulo some small backport patch).

At least, that's what I have been looking at for the past 2 weeks, the
patch list was less approachable :)

--047d7bd75b26ee8986051f32aa70
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">On Sep 7, 2015 1:14 PM, &quot;Stefan Eissing&quot; &lt;<a hr=
ef=3D"mailto:stefan.eissing@greenbytes.de">stefan.eissing@greenbytes.de</a>=
&gt; wrote:<br>
&gt;<br>
&gt; Thanks, new branch to bring in protocols and mod_h2 is at<br>
&gt;<br>
&gt; =C2=A0 =C2=A0<a href=3D"https://svn.apache.org/repos/asf/httpd/httpd/b=
ranches/2.4.17-protocols-http2">https://svn.apache.org/repos/asf/httpd/http=
d/branches/2.4.17-protocols-http2</a></p>
<p dir=3D"ltr">I am fine with either approach. . not a critique,</p>
<p dir=3D"ltr">I think the simplest is to prove up all core httpd patches, =
and propose modules/http2 straight from trunk (or the rev you think is most=
 appropriate, modulo some small backport patch).</p>
<p dir=3D"ltr">At least, that&#39;s what I have been looking at for the pas=
t 2 weeks, the patch list was less approachable :)</p>

--047d7bd75b26ee8986051f32aa70--

From dev-return-83740-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep  8 02:00:51 2015
Return-Path: <dev-return-83740-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8DDA418E90
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Sep 2015 02:00:50 +0000 (UTC)
Received: (qmail 20421 invoked by uid 500); 8 Sep 2015 02:00:50 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 20354 invoked by uid 500); 8 Sep 2015 02:00:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 20344 invoked by uid 99); 8 Sep 2015 02:00:50 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2015 02:00:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 88BA81A0879
	for <dev@httpd.apache.org>; Tue,  8 Sep 2015 02:00:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id oZ_KWoyAWynn for <dev@httpd.apache.org>;
	Tue,  8 Sep 2015 02:00:43 +0000 (UTC)
Received: from mail-io0-f172.google.com (mail-io0-f172.google.com [209.85.223.172])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 7CC51204DD
	for <dev@httpd.apache.org>; Tue,  8 Sep 2015 02:00:42 +0000 (UTC)
Received: by ioii196 with SMTP id i196so102365430ioi.3
        for <dev@httpd.apache.org>; Mon, 07 Sep 2015 19:00:41 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=3sCgo0oWdPCweojeLH7KNO4r/d7VKPUmx4+1+cVAfJ4=;
        b=ITZwUuGin+5GFc4zCmYA7NCMeANrktobThhvr4bIUC71HMAwjmgUyvpmF2HGItIJae
         wEhtdYl1i44SJrGS3k+70wPwbMU8es4PvqhDwbuWniwKQ1QT0JWdmzqFJP7ryzXY5BVf
         MavgONesv0BRB7uuzbeKvgMzNb6dti0brVltxllSs39kjr8o9bvBsxaIu5UqAHk6YKmw
         4IPUwv7JeK7i0k17c8kmwvFMdTmlb/J1lEZ3mXoE3j8PTCjnTUQFz2JMVSCc0+Qp/rer
         wyMoAHYqrwc44ak5ZOEHDmDdksFEUcCGrZi2Hn7iaak2STyJ5JZUcaSqtAmE43DM2w1w
         wl8w==
X-Gm-Message-State: ALoCoQnUqURPgNX9mOlz0Rn6JDmTsxbTFD6Sbm+ID9FWFQRpqJMY8XnAI9E5HrYOm1v9AEh2v3ny
MIME-Version: 1.0
X-Received: by 10.107.166.79 with SMTP id p76mr4074199ioe.163.1441677641493;
 Mon, 07 Sep 2015 19:00:41 -0700 (PDT)
Received: by 10.107.12.199 with HTTP; Mon, 7 Sep 2015 19:00:41 -0700 (PDT)
Received: by 10.107.12.199 with HTTP; Mon, 7 Sep 2015 19:00:41 -0700 (PDT)
In-Reply-To: <55EC3B03.1050703@velox.ch>
References: <CAKUrXK6k01WGqF8z6F3YBNbanbTaOSHbbzwSi2O3H3u03_mvUw@mail.gmail.com>
	<5454A244.6070006@velox.ch>
	<CAG5KPzypCfJ7rZVBSC6t2hqxV5=zJcBDRcQxrGVUmnuYAsU_mw@mail.gmail.com>
	<55A12E9C.6060805@velox.ch>
	<CACsi251vkwFs3Neqqf-cdF7W=WDZFGqY-L+1baWQdTfJ+OaZ6Q@mail.gmail.com>
	<55A363EC.6030801@apache.org>
	<CAKUrXK6m6BGhhP3fg_Gx9wFyWD8YV4PgmyRqMa7iv6bRLXMspw@mail.gmail.com>
	<55E2A31E.5000204@velox.ch>
	<55E63AAE.1010205@gmail.com>
	<55E9B1BB.3000005@velox.ch>
	<55E9BE99.8020508@comodo.com>
	<55EAA877.5090104@velox.ch>
	<CAG5KPzz=tW4i+PBT-UuHcdsn+RTmvFrkcsBaQ2ZMp0ZKqV+60A@mail.gmail.com>
	<1727C21F-FEEA-4EBA-BCA6-55FFF04A6F35@c8h10n4o2.org.uk>
	<55EC3B03.1050703@velox.ch>
Date: Mon, 7 Sep 2015 21:00:41 -0500
Message-ID: <CACsi253JzEpExD=YWYcgd50pNxg3qGu-NbdRfMJH5KrPLGVA=A@mail.gmail.com>
Subject: Re: [RFC] Enable OCSP Stapling by default in httpd trunk
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1141f37eb3ca59051f32bb8c

--001a1141f37eb3ca59051f32bb8c
Content-Type: text/plain; charset=UTF-8

On Sep 6, 2015 8:09 AM, "Kaspar Brand" <httpd-dev.2014@velox.ch> wrote:
>
> On 05.09.2015 13:06, Tim Bannister wrote:
> > It's not just conventional browsers. I think automated / embedded
> > HTTP clients will also benefit from stapling, either because
> > networking filters would block a conversation between the client and
> > the CA's OCSP responder, or the extra latency from using conventional
> > OCSP is a problem.
>
> That hope is mostly futile:

Kaspar,

It might help to pause here and ask what your hope or aspiration is, here.
I am reading a lot of 'no, not that' in your messages, but very little
'this instead would improve the status quo.'. Please share so we aren't
talking past one another

Yours,

Bill

--001a1141f37eb3ca59051f32bb8c
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">On Sep 6, 2015 8:09 AM, &quot;Kaspar Brand&quot; &lt;<a href=
=3D"mailto:httpd-dev.2014@velox.ch">httpd-dev.2014@velox.ch</a>&gt; wrote:<=
br>
&gt;<br>
&gt; On 05.09.2015 13:06, Tim Bannister wrote:<br>
&gt; &gt; It&#39;s not just conventional browsers. I think automated / embe=
dded<br>
&gt; &gt; HTTP clients will also benefit from stapling, either because<br>
&gt; &gt; networking filters would block a conversation between the client =
and<br>
&gt; &gt; the CA&#39;s OCSP responder, or the extra latency from using conv=
entional<br>
&gt; &gt; OCSP is a problem.<br>
&gt;<br>
&gt; That hope is mostly futile: </p>
<p dir=3D"ltr">Kaspar,</p>
<p dir=3D"ltr">It might help to pause here and ask what your hope or aspira=
tion is, here.=C2=A0 I am reading a lot of &#39;no, not that&#39; in your m=
essages, but very little &#39;this instead would improve the status quo.&#3=
9;. Please share so we aren&#39;t talking past one another </p>
<p dir=3D"ltr">Yours,</p>
<p dir=3D"ltr">Bill</p>

--001a1141f37eb3ca59051f32bb8c--

From dev-return-83741-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep  8 02:03:31 2015
Return-Path: <dev-return-83741-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 18FAE18EA3
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Sep 2015 02:03:31 +0000 (UTC)
Received: (qmail 23545 invoked by uid 500); 8 Sep 2015 02:03:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23487 invoked by uid 500); 8 Sep 2015 02:03:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23477 invoked by uid 99); 8 Sep 2015 02:03:30 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2015 02:03:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 10D2A18041A
	for <dev@httpd.apache.org>; Tue,  8 Sep 2015 02:03:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.999
X-Spam-Level: **
X-Spam-Status: No, score=2.999 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 6BLOy7PPDGf0 for <dev@httpd.apache.org>;
	Tue,  8 Sep 2015 02:03:23 +0000 (UTC)
Received: from mail-io0-f182.google.com (mail-io0-f182.google.com [209.85.223.182])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 6BCFC4414D
	for <dev@httpd.apache.org>; Tue,  8 Sep 2015 02:03:23 +0000 (UTC)
Received: by ioii196 with SMTP id i196so102419535ioi.3
        for <dev@httpd.apache.org>; Mon, 07 Sep 2015 19:03:23 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=mdeykkUvJ7zwXIE4XB4SZQ8WsO1dQcRuOJ38yDuSOs4=;
        b=boke7ecMT42qZ3V/GNcTA+CytI0vf/wgbRdqJ6hCMWaBohKsQLkylV0b/qmkGGmihf
         x9WBeKXI+JfCzKeYxPFYTRCvGICUU217RH2Ld8qWvIuGZJx36CxA5g861WvEfn2VwUQj
         WP9CbDqdyNZFU8dVvhYCE6IlDuc6H2r8s6osJYfPjYbGgLmXkDUx+sXCRkFeMbMB0BAj
         qsK97ozIYHTb5bkO0bJWibaw7/yg0NgsumALfZNZJxKLSAc8WLZFZV8cCNLG94MTMzQq
         Q/0mXbYfX2M2g3CZaU0g7NGax7TVfuCqJ2dsxnSfwhedlS8Qbj634rJQIpQBCLxYcI8S
         d9FQ==
X-Gm-Message-State: ALoCoQm+zKvhOxWpbhiqIA1hvBf0Q07laQMnSkopcAn/cRPXGWQLU8DiEyHmsez9c8ecJNULvEHj
MIME-Version: 1.0
X-Received: by 10.107.32.72 with SMTP id g69mr32754891iog.86.1441677803079;
 Mon, 07 Sep 2015 19:03:23 -0700 (PDT)
Received: by 10.107.12.199 with HTTP; Mon, 7 Sep 2015 19:03:23 -0700 (PDT)
Received: by 10.107.12.199 with HTTP; Mon, 7 Sep 2015 19:03:23 -0700 (PDT)
In-Reply-To: <55EB8D3D.9090209@thelounge.net>
References: <CAOsSsa5K8Tu-EEF09nXKKH2OSzdO3YsjdpREcDS1XaDGUm3KzQ@mail.gmail.com>
	<55EB8D3D.9090209@thelounge.net>
Date: Mon, 7 Sep 2015 21:03:23 -0500
Message-ID: <CACsi250txHT9+96oS22Cgp5C3kU5PdL7TVNrPoS0Gc6VbtWUTw@mail.gmail.com>
Subject: Re: Force Apache server to use a same TCP sequence number for each
 TCP connection
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1140aebe5562d0051f32c57b

--001a1140aebe5562d0051f32c57b
Content-Type: text/plain; charset=UTF-8

On Sep 5, 2015 7:48 PM, "Reindl Harald" <h.reindl@thelounge.net> wrote:
>
>
> Am 05.09.2015 um 19:32 schrieb Seyyed Hesamoddin Ghasemi:
>>
>> How can force Apache server to use a constant value sequence number in
>> all the sessions? Is this possible?
>> I'm an Msc computer engineering student and I need to do this in one of
>> the steps of my thesis implementations.
>> I would be happy to hear your response
>
>
> the TCP sequence number is completly outside of the applications scope by
definition

And in security-focused design, predictable sequences are verboten for
everyone's benefit today.

--001a1140aebe5562d0051f32c57b
Content-Type: text/html; charset=UTF-8

<p dir="ltr">On Sep 5, 2015 7:48 PM, &quot;Reindl Harald&quot; &lt;<a href="mailto:h.reindl@thelounge.net">h.reindl@thelounge.net</a>&gt; wrote:<br>
&gt;<br>
&gt;<br>
&gt; Am 05.09.2015 um 19:32 schrieb Seyyed Hesamoddin Ghasemi:<br>
&gt;&gt;<br>
&gt;&gt; How can force Apache server to use a constant value sequence number in<br>
&gt;&gt; all the sessions? Is this possible?<br>
&gt;&gt; I&#39;m an Msc computer engineering student and I need to do this in one of<br>
&gt;&gt; the steps of my thesis implementations.<br>
&gt;&gt; I would be happy to hear your response<br>
&gt;<br>
&gt;<br>
&gt; the TCP sequence number is completly outside of the applications scope by definition</p>
<p dir="ltr">And in security-focused design, predictable sequences are verboten for everyone&#39;s benefit today.</p>

--001a1140aebe5562d0051f32c57b--

From dev-return-83742-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep  8 09:55:47 2015
Return-Path: <dev-return-83742-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 27AC110E58
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Sep 2015 09:55:47 +0000 (UTC)
Received: (qmail 19050 invoked by uid 500); 8 Sep 2015 09:55:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18954 invoked by uid 500); 8 Sep 2015 09:55:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18749 invoked by uid 99); 8 Sep 2015 09:55:45 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2015 09:55:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 72E4B180427
	for <dev@httpd.apache.org>; Tue,  8 Sep 2015 09:55:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id vMZOEQ4ZYl18 for <dev@httpd.apache.org>;
	Tue,  8 Sep 2015 09:55:37 +0000 (UTC)
Received: from mail-ig0-f169.google.com (mail-ig0-f169.google.com [209.85.213.169])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id B37D12078E
	for <dev@httpd.apache.org>; Tue,  8 Sep 2015 09:55:36 +0000 (UTC)
Received: by igbkq10 with SMTP id kq10so74634039igb.0
        for <dev@httpd.apache.org>; Tue, 08 Sep 2015 02:55:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=DDj8PTAuBaP70qEEymzWqgQ5sGR1ggbJ+P54nJ8fg4A=;
        b=YJiUEpcH3hKY5t3eSQ3fgn5/m1U42j9ijrRFa9tfxLoaajCH2N6XVQaNTKJB2P02N3
         ilQwqyiWcnpQVgt7FvWfty0trvbdhOVf/tB5ActxHGAM1rQN11AMLK+dMdLcDjTDd6AA
         bNYg3FEsUwOvQUUZX7iS3hSLdUkCs+CXhZlSXqROG4CDAYz43+vXLvhVvhG/6sGYFk2L
         hl5sZcEFX8lW2uZfar3g0Aw0xMPtlarDQJ2ZU2/AP+VwIth6nOxZsKSktTD156xBrukh
         bpsnGwKejcHv6qx1GhAwl+fk8xEgMfFrYqJLNIsLFLxbKaf/KwT3zholU5w6oFw1iILd
         JkVA==
MIME-Version: 1.0
X-Received: by 10.50.142.67 with SMTP id ru3mr37769990igb.16.1441706130257;
 Tue, 08 Sep 2015 02:55:30 -0700 (PDT)
Received: by 10.79.102.132 with HTTP; Tue, 8 Sep 2015 02:55:30 -0700 (PDT)
In-Reply-To: <CACsi250txHT9+96oS22Cgp5C3kU5PdL7TVNrPoS0Gc6VbtWUTw@mail.gmail.com>
References: <CAOsSsa5K8Tu-EEF09nXKKH2OSzdO3YsjdpREcDS1XaDGUm3KzQ@mail.gmail.com>
	<55EB8D3D.9090209@thelounge.net>
	<CACsi250txHT9+96oS22Cgp5C3kU5PdL7TVNrPoS0Gc6VbtWUTw@mail.gmail.com>
Date: Tue, 8 Sep 2015 14:25:30 +0430
Message-ID: <CAOsSsa6-_bQ_xVroTGtyYK__jp0NtmoyVXaaG7aj75=Jk1dyuw@mail.gmail.com>
Subject: Re: Force Apache server to use a same TCP sequence number for each
 TCP connection
From: Seyyed Hesamoddin Ghasemi <s.hesam.ghasemi@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a1130d45ec3bd8b051f395d1c

--001a1130d45ec3bd8b051f395d1c
Content-Type: text/plain; charset=UTF-8

Tnx all

On Tue, Sep 8, 2015 at 6:33 AM, William A Rowe Jr <wrowe@rowe-clan.net>
wrote:

> On Sep 5, 2015 7:48 PM, "Reindl Harald" <h.reindl@thelounge.net> wrote:
> >
> >
> > Am 05.09.2015 um 19:32 schrieb Seyyed Hesamoddin Ghasemi:
> >>
> >> How can force Apache server to use a constant value sequence number in
> >> all the sessions? Is this possible?
> >> I'm an Msc computer engineering student and I need to do this in one of
> >> the steps of my thesis implementations.
> >> I would be happy to hear your response
> >
> >
> > the TCP sequence number is completly outside of the applications scope
> by definition
>
> And in security-focused design, predictable sequences are verboten for
> everyone's benefit today.
>



-- 
Seyyed Hesamoddin Ghasemi

--001a1130d45ec3bd8b051f395d1c
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Tnx all</div><div class=3D"gmail_extra"><br><div class=3D"=
gmail_quote">On Tue, Sep 8, 2015 at 6:33 AM, William A Rowe Jr <span dir=3D=
"ltr">&lt;<a href=3D"mailto:wrowe@rowe-clan.net" target=3D"_blank">wrowe@ro=
we-clan.net</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" styl=
e=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div cl=
ass=3D"HOEnZb"><div class=3D"h5"><p dir=3D"ltr">On Sep 5, 2015 7:48 PM, &qu=
ot;Reindl Harald&quot; &lt;<a href=3D"mailto:h.reindl@thelounge.net" target=
=3D"_blank">h.reindl@thelounge.net</a>&gt; wrote:<br>
&gt;<br>
&gt;<br>
&gt; Am 05.09.2015 um 19:32 schrieb Seyyed Hesamoddin Ghasemi:<br>
&gt;&gt;<br>
&gt;&gt; How can force Apache server to use a constant value sequence numbe=
r in<br>
&gt;&gt; all the sessions? Is this possible?<br>
&gt;&gt; I&#39;m an Msc computer engineering student and I need to do this =
in one of<br>
&gt;&gt; the steps of my thesis implementations.<br>
&gt;&gt; I would be happy to hear your response<br>
&gt;<br>
&gt;<br>
&gt; the TCP sequence number is completly outside of the applications scope=
 by definition</p>
</div></div><p dir=3D"ltr">And in security-focused design, predictable sequ=
ences are verboten for everyone&#39;s benefit today.</p>
</blockquote></div><br><br clear=3D"all"><div><br></div>-- <br><div class=
=3D"gmail_signature">Seyyed Hesamoddin Ghasemi</div>
</div>

--001a1130d45ec3bd8b051f395d1c--

From dev-return-83743-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep  8 10:10:51 2015
Return-Path: <dev-return-83743-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A05F410F1A
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Sep 2015 10:10:51 +0000 (UTC)
Received: (qmail 48270 invoked by uid 500); 8 Sep 2015 10:10:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48207 invoked by uid 500); 8 Sep 2015 10:10:50 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48197 invoked by uid 99); 8 Sep 2015 10:10:50 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2015 10:10:50 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 7E992C01AB
	for <dev@httpd.apache.org>; Tue,  8 Sep 2015 10:10:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id TAZ7DRFAME1V for <dev@httpd.apache.org>;
	Tue,  8 Sep 2015 10:10:41 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id E809820925
	for <dev@httpd.apache.org>; Tue,  8 Sep 2015 10:10:40 +0000 (UTC)
Received: from [192.168.1.42] (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id BB09315A3455
	for <dev@httpd.apache.org>; Tue,  8 Sep 2015 10:18:26 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: proposed backport of mod_h2 - v4
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CACsi253cWRpJTiPWin=Z0f3PLzYz6ALU_cjkwvR-6dknybEAsA@mail.gmail.com>
Date: Tue, 8 Sep 2015 12:10:39 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <3B3F6496-3EE6-4916-9A71-4384BC3439CD@greenbytes.de>
References: <08A80F0E-FB16-4DD4-AA1E-146485EF783D@greenbytes.de> <55EA6BC7.1040809@gknw.net> <B42765C6-5AF4-4876-8648-FC40C11036A1@greenbytes.de> <C596097C-B1D9-49EB-8773-0A8EBDA08419@sharp.fm> <81830BBB-54D6-4634-9687-C74362EBC413@greenbytes.de> <CACsi253cWRpJTiPWin=Z0f3PLzYz6ALU_cjkwvR-6dknybEAsA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)


> Am 08.09.2015 um 03:56 schrieb William A Rowe Jr =
<wrowe@rowe-clan.net>:
>=20
> On Sep 7, 2015 1:14 PM, "Stefan Eissing" =
<stefan.eissing@greenbytes.de> wrote:
> >
> > Thanks, new branch to bring in protocols and mod_h2 is at
> >
> >    =
https://svn.apache.org/repos/asf/httpd/httpd/branches/2.4.17-protocols-htt=
p2
>=20
> I am fine with either approach. . not a critique,
>=20
> I think the simplest is to prove up all core httpd patches, and =
propose modules/http2 straight from trunk (or the rev you think is most =
appropriate, modulo some small backport patch).
>=20
> At least, that's what I have been looking at for the past 2 weeks, the =
patch list was less approachable :)

As for reviewing the diffs, it's certainly make only sense for the =
things outside modules/http2 for this initial backport.

YMMV, but I myself prefer the branches, as it gives me superior tool =
support for handling changes, especially when three(!) source trees are =
involved: ongoing trunk, 2.4.x and the backport change.=20

So, if I forgot something from trunk:
 > cd httpd/2.4.17-my-backport-proposal
 > svn merge -c <change-id> ^/httpd/httpd/trunk .
 > #review and commit

If something else has been backported, I update my proposal:
 > cd httpd/2.4.17-my-backport-proposal
 > svn merge ^/httpd/httpd/2.4.x .
 > #review and commit

If my backport is accepted:
 > cd httpd/2.4.xl
 > svn merge ^/httpd/httpd/2.4.17-my-backport-proposal .
 > #review and commit

Subversion nowadays is quite potent with branch merges.

//Stefan

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83744-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep  8 11:15:56 2015
Return-Path: <dev-return-83744-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 897A5173D9
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Sep 2015 11:15:56 +0000 (UTC)
Received: (qmail 95907 invoked by uid 500); 8 Sep 2015 11:15:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 95843 invoked by uid 500); 8 Sep 2015 11:15:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 95833 invoked by uid 99); 8 Sep 2015 11:15:43 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2015 11:15:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 7D95CC0426
	for <dev@httpd.apache.org>; Tue,  8 Sep 2015 11:15:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id VudDaMc1ASsO for <dev@httpd.apache.org>;
	Tue,  8 Sep 2015 11:15:30 +0000 (UTC)
Received: from resqmta-ch2-10v.sys.comcast.net (resqmta-ch2-10v.sys.comcast.net [69.252.207.42])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 97E3420382
	for <dev@httpd.apache.org>; Tue,  8 Sep 2015 11:15:29 +0000 (UTC)
Received: from resomta-ch2-20v.sys.comcast.net ([69.252.207.116])
	by resqmta-ch2-10v.sys.comcast.net with comcast
	id EbEy1r0022XD5SV01bFNz2; Tue, 08 Sep 2015 11:15:22 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-20v.sys.comcast.net with comcast
	id EbFM1r0082U0RYt01bFM6x; Tue, 08 Sep 2015 11:15:22 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: proposed backport of mod_h2 - v4
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <3B3F6496-3EE6-4916-9A71-4384BC3439CD@greenbytes.de>
Date: Tue, 8 Sep 2015 07:15:21 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <C2EA3335-ED6A-4AB8-8C4A-FFE0F912C34A@jaguNET.com>
References: <08A80F0E-FB16-4DD4-AA1E-146485EF783D@greenbytes.de> <55EA6BC7.1040809@gknw.net> <B42765C6-5AF4-4876-8648-FC40C11036A1@greenbytes.de> <C596097C-B1D9-49EB-8773-0A8EBDA08419@sharp.fm> <81830BBB-54D6-4634-9687-C74362EBC413@greenbytes.de> <CACsi253cWRpJTiPWin=Z0f3PLzYz6ALU_cjkwvR-6dknybEAsA@mail.gmail.com> <3B3F6496-3EE6-4916-9A71-4384BC3439CD@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1441710922;
	bh=LrqJ0t+yQ0mmmP+Sbqc4R486T+0qLD75oFeVS2YZCso=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=oFyGucaAzix8WdASwwEtx/E3/waGbDoyeWxs8bGEziMuoIH+8HKnha+eHu308KiME
	 cB/e1zg6Nyo9Qj/6ln7YDdHqVMrt1jhpstcZKI1CccfGe5BpqVeCTvI0+9TtUmd8Po
	 A2VpD+7nwajfrTWkZcOEmCWXzO9yNkTx0lnUN8O709wGAhofctZZS302/k9M5LStZ5
	 yJy4XkA7ikIg6WnXr+WrA59Tqrex5dR4bpx7hU10yHVDwZHKkhneA3jfvY5QAwAXVf
	 PDdTpt+mcqd+HVz6rADg0ZBBZQ9Mf/RHfqHZlF/K9sK6k4eg0ZxyXWS8j5xU9y4WWN
	 dW4d0VBoWBt6A==

Works for me...

btw: for things like the below, I actually use git-svn, which, at
least to me, provides a workflow which I find easier.

> On Sep 8, 2015, at 6:10 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
>=20
>> Am 08.09.2015 um 03:56 schrieb William A Rowe Jr =
<wrowe@rowe-clan.net>:
>>=20
>> On Sep 7, 2015 1:14 PM, "Stefan Eissing" =
<stefan.eissing@greenbytes.de> wrote:
>>>=20
>>> Thanks, new branch to bring in protocols and mod_h2 is at
>>>=20
>>>   =
https://svn.apache.org/repos/asf/httpd/httpd/branches/2.4.17-protocols-htt=
p2
>>=20
>> I am fine with either approach. . not a critique,
>>=20
>> I think the simplest is to prove up all core httpd patches, and =
propose modules/http2 straight from trunk (or the rev you think is most =
appropriate, modulo some small backport patch).
>>=20
>> At least, that's what I have been looking at for the past 2 weeks, =
the patch list was less approachable :)
>=20
> As for reviewing the diffs, it's certainly make only sense for the =
things outside modules/http2 for this initial backport.
>=20
> YMMV, but I myself prefer the branches, as it gives me superior tool =
support for handling changes, especially when three(!) source trees are =
involved: ongoing trunk, 2.4.x and the backport change.=20
>=20
> So, if I forgot something from trunk:
>> cd httpd/2.4.17-my-backport-proposal
>> svn merge -c <change-id> ^/httpd/httpd/trunk .
>> #review and commit
>=20
> If something else has been backported, I update my proposal:
>> cd httpd/2.4.17-my-backport-proposal
>> svn merge ^/httpd/httpd/2.4.x .
>> #review and commit
>=20
> If my backport is accepted:
>> cd httpd/2.4.xl
>> svn merge ^/httpd/httpd/2.4.17-my-backport-proposal .
>> #review and commit
>=20
> Subversion nowadays is quite potent with branch merges.
>=20
> //Stefan
>=20
> <green/>bytes GmbH
> Hafenweg 16, 48155 M=C3=BCnster, Germany
> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>=20
>=20
>=20


From dev-return-83745-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep  8 13:12:07 2015
Return-Path: <dev-return-83745-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5CF861780F
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Sep 2015 13:12:07 +0000 (UTC)
Received: (qmail 36661 invoked by uid 500); 8 Sep 2015 13:11:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36592 invoked by uid 500); 8 Sep 2015 13:11:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36582 invoked by uid 99); 8 Sep 2015 13:11:51 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2015 13:11:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 1A2D5C01DC
	for <dev@httpd.apache.org>; Tue,  8 Sep 2015 13:11:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id sXdjx6iZFxx4 for <dev@httpd.apache.org>;
	Tue,  8 Sep 2015 13:11:40 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 76BDB43B03
	for <dev@httpd.apache.org>; Tue,  8 Sep 2015 13:11:40 +0000 (UTC)
Received: from [192.168.1.42] (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 6156115A0046
	for <dev@httpd.apache.org>; Tue,  8 Sep 2015 15:11:39 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: proposed backport of mod_h2 - v4
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <C2EA3335-ED6A-4AB8-8C4A-FFE0F912C34A@jaguNET.com>
Date: Tue, 8 Sep 2015 15:11:38 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <FAEAE298-3B6A-4BB2-A7A5-FEA33F3CDE9C@greenbytes.de>
References: <08A80F0E-FB16-4DD4-AA1E-146485EF783D@greenbytes.de> <55EA6BC7.1040809@gknw.net> <B42765C6-5AF4-4876-8648-FC40C11036A1@greenbytes.de> <C596097C-B1D9-49EB-8773-0A8EBDA08419@sharp.fm> <81830BBB-54D6-4634-9687-C74362EBC413@greenbytes.de> <CACsi253cWRpJTiPWin=Z0f3PLzYz6ALU_cjkwvR-6dknybEAsA@mail.gmail.com> <3B3F6496-3EE6-4916-9A71-4384BC3439CD@greenbytes.de> <C2EA3335-ED6A-4AB8-8C4A-FFE0F912C34A@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

I did not dare to mention the three letter g* word here... ;-)

> Am 08.09.2015 um 13:15 schrieb Jim Jagielski <jim@jaguNET.com>:
>=20
> Works for me...
>=20
> btw: for things like the below, I actually use git-svn, which, at
> least to me, provides a workflow which I find easier.
>=20
>> On Sep 8, 2015, at 6:10 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>>=20
>>=20
>>> Am 08.09.2015 um 03:56 schrieb William A Rowe Jr =
<wrowe@rowe-clan.net>:
>>>=20
>>> On Sep 7, 2015 1:14 PM, "Stefan Eissing" =
<stefan.eissing@greenbytes.de> wrote:
>>>>=20
>>>> Thanks, new branch to bring in protocols and mod_h2 is at
>>>>=20
>>>>  =
https://svn.apache.org/repos/asf/httpd/httpd/branches/2.4.17-protocols-htt=
p2
>>>=20
>>> I am fine with either approach. . not a critique,
>>>=20
>>> I think the simplest is to prove up all core httpd patches, and =
propose modules/http2 straight from trunk (or the rev you think is most =
appropriate, modulo some small backport patch).
>>>=20
>>> At least, that's what I have been looking at for the past 2 weeks, =
the patch list was less approachable :)
>>=20
>> As for reviewing the diffs, it's certainly make only sense for the =
things outside modules/http2 for this initial backport.
>>=20
>> YMMV, but I myself prefer the branches, as it gives me superior tool =
support for handling changes, especially when three(!) source trees are =
involved: ongoing trunk, 2.4.x and the backport change.=20
>>=20
>> So, if I forgot something from trunk:
>>> cd httpd/2.4.17-my-backport-proposal
>>> svn merge -c <change-id> ^/httpd/httpd/trunk .
>>> #review and commit
>>=20
>> If something else has been backported, I update my proposal:
>>> cd httpd/2.4.17-my-backport-proposal
>>> svn merge ^/httpd/httpd/2.4.x .
>>> #review and commit
>>=20
>> If my backport is accepted:
>>> cd httpd/2.4.xl
>>> svn merge ^/httpd/httpd/2.4.17-my-backport-proposal .
>>> #review and commit
>>=20
>> Subversion nowadays is quite potent with branch merges.
>>=20
>> //Stefan
>>=20
>> <green/>bytes GmbH
>> Hafenweg 16, 48155 M=C3=BCnster, Germany
>> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>>=20
>>=20
>>=20
>=20

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83746-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep  8 16:33:23 2015
Return-Path: <dev-return-83746-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2CB88100D5
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Sep 2015 16:33:23 +0000 (UTC)
Received: (qmail 14306 invoked by uid 500); 8 Sep 2015 16:33:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14235 invoked by uid 500); 8 Sep 2015 16:33:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14225 invoked by uid 99); 8 Sep 2015 16:33:22 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2015 16:33:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 213A2C0BAD
	for <dev@httpd.apache.org>; Tue,  8 Sep 2015 16:33:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 0Aa8Fy_gkPuj for <dev@httpd.apache.org>;
	Tue,  8 Sep 2015 16:33:16 +0000 (UTC)
Received: from mail-ig0-f181.google.com (mail-ig0-f181.google.com [209.85.213.181])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 301A420385
	for <dev@httpd.apache.org>; Tue,  8 Sep 2015 16:33:16 +0000 (UTC)
Received: by igxx6 with SMTP id x6so20721471igx.1
        for <dev@httpd.apache.org>; Tue, 08 Sep 2015 09:33:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=FxaGYQkLxLnEmQXDKCrd60Vzu4RvJsqoAaeaiuTjOJY=;
        b=UF5Dg7ffYGdZcLC+0AXge0u8lRxNyFrTGIFgmCjcSAD1pbKEkYiEZpLwYCUWVUhNMr
         N+ZUzSFGDQVppm75aEPYM1IoopFsai5og2GQXjmmiz1wMvbPjkJykhn7GRM/uYUbko6E
         kwhKn/QtFrOBZqXvpxr5B3p66pBOzm2XVK3cGSwv5LREgaW4acBCpXdbPf4KqFujPFsS
         rTaQQ/Rl89h++gpDU8Ak4nz+LH2zTET0QQ1i28s539kwtQgznLua+W0ikLW0GCG0QCtz
         57EbHdFzlr+hiVPOsYKm+42eTTiKjvFX9RI3cMhh3Vzt83/IQTyhtLAba0VTGMd8X+s1
         6U8Q==
MIME-Version: 1.0
X-Received: by 10.50.79.133 with SMTP id j5mr43384587igx.15.1441729995667;
 Tue, 08 Sep 2015 09:33:15 -0700 (PDT)
Received: by 10.79.38.74 with HTTP; Tue, 8 Sep 2015 09:33:15 -0700 (PDT)
In-Reply-To: <77B7897B-7381-4FAB-94CA-39F8B1FA8EA4@jaguNET.com>
References: <CAKQ1sVMtQs1+6wuBL50AanrVEVQ5qtzqHc0yiuDUznGUF+VJ7Q@mail.gmail.com>
	<77B7897B-7381-4FAB-94CA-39F8B1FA8EA4@jaguNET.com>
Date: Tue, 8 Sep 2015 18:33:15 +0200
Message-ID: <CAKQ1sVM6ZA0wOu8fZGMAbYt4SEXoATNuKsXecfyRxvweHcu3sg@mail.gmail.com>
Subject: Re: Balancers (file based SHMs) and restart issue (Windows only?)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

I didn't reproduce it myself (no Windows machine), but the scenario
and traces in PR 58024 show what happens quite clearly.

On (graceful) restart, if one or more children remain when pconf is
cleared (SHMs are destroyed), apr_file_remove() fails (open file =>
ERROR_ACCESS_DENIED until all the HANDLEs to the file are closed,
whereafter the file is removed from the filesystem).
Since the files exist, the next slotmem_create() will attach (and not
recreate) them, which fails when some balancers/members are added
(size check).

I agree this does not concern Unixes (which use a different inode for
each new file, be there an opened fd on the previous inode's -same-
filename or not).

So the fix could be quite simple, like:

Index: modules/slotmem/mod_slotmem_shm.c
===================================================================
--- modules/slotmem/mod_slotmem_shm.c    (revision 1701559)
+++ modules/slotmem/mod_slotmem_shm.c    (working copy)
@@ -103,10 +103,29 @@ static const char *slotmem_filename(apr_pool_t *po
         return NULL;
     }
     else if (slotmemname[0] != '/') {
-        const char *filenm = apr_pstrcat(pool, DEFAULT_SLOTMEM_PREFIX,
-                                         slotmemname, DEFAULT_SLOTMEM_SUFFIX,
-                                         NULL);
-        fname = ap_runtime_dir_relative(pool, filenm);
+        fname = slotmemname;
+#ifdef WIN32
+        /* On Windows, apr_file_remove() (i.e. DeleFile()) marks the file for
+         * deletion on close, hence not before the last HANDLE to it is closed.
+         * Thus on graceful restart (the only restart mode with mpm_winnt), the
+         * old file may still exist until all the children stop, while we ought
+         * to create a new one for our new clear SHM.  Therefore, we would only
+         * be able to reuse (attach) the old SHM, preventing some changes to
+         * the config file, like the number of balancers/members, since the
+         * size check (to fit the new config) would fail.  Let's avoid this by
+         * including the generation number in the SHM filename (obviously not
+         * the persisted name!), which pretty much acts like files on Unixes
+         * where the OS maintains inodes which can be unlink()ed while opened,
+         * when new files with the same name will reference a new inode.
+         */
+        if (!persist) {
+            fname = apr_psprintf(pool, "%s_%x", fname,
+                                 ap_state_query(AP_SQ_CONFIG_GEN));
+        }
+#endif
+        fname = apr_pstrcat(pool, DEFAULT_SLOTMEM_PREFIX, fname,
+                            DEFAULT_SLOTMEM_SUFFIX, NULL);
+        fname = ap_runtime_dir_relative(pool, fname);
     }
     else {
         fname = slotmemname;
--

If this is OK, I'll link it to PR 58024 for the OP to give it a chance
(since I can't myself)...
WDYT?


On Fri, Sep 4, 2015 at 1:01 PM, Jim Jagielski <jim@jagunet.com> wrote:
> Instead of changing the default for all OSs, sounds like
> some Windows specific changes may need to be done. Has anyone
> using Windows actually seen this or confirmed this is
> possible??
>
>> On Sep 2, 2015, at 5:08 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>> Re PR 58024.
>>
>> AIUI, balancers (and members) SHM slots are destroyed (and the
>> underlying base file removed) with pconf before restarting and then
>> re-created after (according to the new configuration, eg. number of
>> balancers/members, be it the same or not).
>> Persisted slots are saved in their own file (with the .persit suffix),
>> and reused (copied) only if the configuration did not change in
>> between.
>> (@Jim, I see now how this is better than attaching ;)
>>
>> This works well on Unixes, but on Windows files can't be removed
>> (unlinked) while any process/thread hold an HANDLE on it, hence until
>> all the children have exited...
>> Thus, since the SHM files still exist on restart, the balancer code
>> tries to attach them instead of re-creating, and issues the checks on
>> the existing size to fit the reloaded configuration, and fail should
>> should any balancer/member be added or removed => PR 58024.
>>
>> BTW, even on Unixes there is a race on these files between the main
>> process and the children, or the children themselves from different
>> "generation".
>>
>> So I wonder if we could use anonymous SHMs instead (or mktemp based
>> when not native), persisted slots are saved in their own files anyway
>> and won't be affected.
>> Otherwise, maybe we could use the "generation" as part of the file
>> name, but that's equivalent and more complex IMO.
>>
>> Thoughts?
>

From dev-return-83747-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep  8 21:47:55 2015
Return-Path: <dev-return-83747-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5B162178C7
	for <apmail-httpd-dev-archive@www.apache.org>; Tue,  8 Sep 2015 21:47:55 +0000 (UTC)
Received: (qmail 68149 invoked by uid 500); 8 Sep 2015 21:47:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68078 invoked by uid 500); 8 Sep 2015 21:47:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68068 invoked by uid 99); 8 Sep 2015 21:47:45 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2015 21:47:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 1A62EC009C
	for <dev@httpd.apache.org>; Tue,  8 Sep 2015 21:47:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.999
X-Spam-Level:
X-Spam-Status: No, score=0.999 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_MSPIKE_H2=-0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id tJ3gqbWhJVUq for <dev@httpd.apache.org>;
	Tue,  8 Sep 2015 21:47:44 +0000 (UTC)
Received: from smtp.smtpout.orange.fr (smtp01.smtpout.orange.fr [80.12.242.123])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 67B8520562
	for <dev@httpd.apache.org>; Tue,  8 Sep 2015 21:47:43 +0000 (UTC)
Received: from [127.0.0.1] ([92.140.163.189])
	by mwinf5d48 with ME
	id Elnh1r00445Vh8k03lnhsY; Tue, 08 Sep 2015 23:47:41 +0200
X-ME-Helo: [127.0.0.1]
X-ME-Date: Tue, 08 Sep 2015 23:47:41 +0200
X-ME-IP: 92.140.163.189
Subject: Re: svn commit: r1701005 - in /httpd/httpd/trunk:
 docs/manual/mod/core.xml include/http_protocol.h
 modules/ssl/ssl_engine_kernel.c server/core.c server/protocol.c
To: dev@httpd.apache.org
References: <20150903124527.650C8AC010E@hades.apache.org>
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Message-ID: <55EF577B.4090306@wanadoo.fr>
Date: Tue, 8 Sep 2015 23:47:39 +0200
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <20150903124527.650C8AC010E@hades.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 150908-3, 08/09/2015), Outbound message
X-Antivirus-Status: Clean

Le 03/09/2015 14:45, icing@apache.org a écrit :
> Author: icing
> Date: Thu Sep  3 12:45:26 2015
> New Revision: 1701005
>
> URL: http://svn.apache.org/r1701005
> Log:
> changed Protocols default to http/1.1 only, updated documentation, changed ap_select_protocol() to return NULL when no protocol could be agreed upon
>
> Modified: httpd/httpd/trunk/server/core.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/server/core.c?rev=1701005&r1=1701004&r2=1701005&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/server/core.c (original)
> +++ httpd/httpd/trunk/server/core.c Thu Sep  3 12:45:26 2015
> @@ -433,6 +433,7 @@ static void *merge_core_dir_configs(apr_
>   static void *create_core_server_config(apr_pool_t *a, server_rec *s)
>   {
>       core_server_config *conf;
> +    const char **np;

This introduce a new warning: unused variable 'np' [-Wunused-variable]


>       int is_virtual = s->is_virtual;
>   
>       conf = (core_server_config *)apr_pcalloc(a, sizeof(core_server_config));
> @@ -5303,7 +5304,7 @@ static int core_upgrade_handler(request_
>               if (offers && offers->nelts > 0) {
>                   const char *protocol = ap_select_protocol(c, r, r->server,
>                                                             offers);
> -                if (strcmp(protocol, ap_get_protocol(c))) {
> +                if (protocol && strcmp(protocol, ap_get_protocol(c))) {
>                       ap_log_rerror(APLOG_MARK, APLOG_DEBUG, 0, r, APLOGNO(02909)
>                                     "Upgrade selects '%s'", protocol);
>                       /* Let the client know what we are upgrading to. */
>
>


From dev-return-83748-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  9 02:39:00 2015
Return-Path: <dev-return-83748-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 33BF917646
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  9 Sep 2015 02:39:00 +0000 (UTC)
Received: (qmail 20662 invoked by uid 500); 9 Sep 2015 02:38:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 20593 invoked by uid 500); 9 Sep 2015 02:38:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 20583 invoked by uid 99); 9 Sep 2015 02:38:59 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2015 02:38:59 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 52353180375
	for <dev@httpd.apache.org>; Wed,  9 Sep 2015 02:38:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id q-Tx2SOik5OK for <dev@httpd.apache.org>;
	Wed,  9 Sep 2015 02:38:53 +0000 (UTC)
Received: from mail-ig0-f179.google.com (mail-ig0-f179.google.com [209.85.213.179])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id A3C60209DC
	for <dev@httpd.apache.org>; Wed,  9 Sep 2015 02:38:52 +0000 (UTC)
Received: by igbni9 with SMTP id ni9so4476760igb.0
        for <dev@httpd.apache.org>; Tue, 08 Sep 2015 19:38:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=BcklEFoD9+wIg2b+niHE28TlEFIpWu8G3FPPcexFYvg=;
        b=GkzG0K8KBZdOPpuB4YwF6rS0Yoa1qClTHwzL5XNfBkcbpn2yJmqmqLjUpUFAXixkSm
         6YdZ5IqQiX2JoZwm4BE1Jszck8SeLuRg1Geo0iRRQUmYo92xLswJ1gSmCfdRkNUJ+u5e
         AdQYBUTFob+p15pqr1CsYesykwtTYadwl2Ec4cnlYNb6k6f7n+XZQUXssN5MoiSwb3gZ
         yeQw3LMNYFVFsTFquzYye8a5g1SXvgvhNM57QZBPT6BpFaLk7YQ+auEu78x4xwWGraNQ
         mdiULpDspU0NeRWMzAMp5Px7nW4w+RLPtgHdP6RWT9Cd5h0msU0h8fspLrl7nav0OFhW
         DgdQ==
MIME-Version: 1.0
X-Received: by 10.50.20.8 with SMTP id j8mr45036365ige.36.1441766331704; Tue,
 08 Sep 2015 19:38:51 -0700 (PDT)
Received: by 10.64.96.101 with HTTP; Tue, 8 Sep 2015 19:38:51 -0700 (PDT)
In-Reply-To: <55DE06A4.9000202@ptc.com>
References: <55DE06A4.9000202@ptc.com>
Date: Tue, 8 Sep 2015 22:38:51 -0400
Message-ID: <CALK=YjOESuYAOCx1WpC7swWCWrxriPO1UgxSy0wP8UkV4qcsEw@mail.gmail.com>
Subject: Re: PR 54626 - ldaps not working with microsoft ldapsdk
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Aug 26, 2015 at 2:34 PM, Andy Wang <awang@ptc.com> wrote:
> https://bz.apache.org/bugzilla/show_bug.cgi?id=54626
>
> It looks like this was fixed in trunk a couple of years ago.
>
> Is there a reason why it wasn't proposed for a backport to 2.4 or to 2.2?
>
> I don't mind managing the patch myself - I'm trying to get someone to stage
> a system for me to test it, and if no one can, I'm planning on trying to get
> to it in a couple of weeks - but seems like this would be handy to have
> fixed in released version.


No reason at all as far as I can tell, just overlooked.  I always
build with an alternate SDK on Windows -- a confirmation that the
trunk patch works would help. I am surprised that ldaps:// has
apparently just never worked but it's only been reported by three
people.

From dev-return-83749-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  9 12:53:55 2015
Return-Path: <dev-return-83749-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9165417455
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  9 Sep 2015 12:53:55 +0000 (UTC)
Received: (qmail 21064 invoked by uid 500); 9 Sep 2015 12:53:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 20998 invoked by uid 500); 9 Sep 2015 12:53:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 20988 invoked by uid 99); 9 Sep 2015 12:53:51 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2015 12:53:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 7FDC218096B
	for <dev@httpd.apache.org>; Wed,  9 Sep 2015 12:53:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id pXYvps5T2EFv for <dev@httpd.apache.org>;
	Wed,  9 Sep 2015 12:53:45 +0000 (UTC)
Received: from resqmta-ch2-01v.sys.comcast.net (resqmta-ch2-01v.sys.comcast.net [69.252.207.33])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 2CBB820FF3
	for <dev@httpd.apache.org>; Wed,  9 Sep 2015 12:53:44 +0000 (UTC)
Received: from resomta-ch2-02v.sys.comcast.net ([69.252.207.98])
	by resqmta-ch2-01v.sys.comcast.net with comcast
	id F0t01r00627uzMh010tcH4; Wed, 09 Sep 2015 12:53:36 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-02v.sys.comcast.net with comcast
	id F0tc1r0042U0RYt010tc2X; Wed, 09 Sep 2015 12:53:36 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: Balancers (file based SHMs) and restart issue (Windows only?)
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVM6ZA0wOu8fZGMAbYt4SEXoATNuKsXecfyRxvweHcu3sg@mail.gmail.com>
Date: Wed, 9 Sep 2015 08:53:35 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <47FF8592-5700-4FC8-9733-84378AB9C18C@jaguNET.com>
References: <CAKQ1sVMtQs1+6wuBL50AanrVEVQ5qtzqHc0yiuDUznGUF+VJ7Q@mail.gmail.com> <77B7897B-7381-4FAB-94CA-39F8B1FA8EA4@jaguNET.com> <CAKQ1sVM6ZA0wOu8fZGMAbYt4SEXoATNuKsXecfyRxvweHcu3sg@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1441803216;
	bh=rBGtuzUAQDRBU5YJGyEWGsuDwxIWWNzBOC+WisGSxNY=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=rIHI8doqXfuJzrxpXkBbFYM6BgREnZmlsSvcu9Zn1xkICB+5VjCPdx4ycNPtfS+XA
	 fnvTY7h2OIoBNIcV1tgc432SMzwG6kBhR2fqWhBCL4PcIJAJEfmVXCexOfe3iqEbe5
	 aZQlOuPwp5ZY+B3ywoNMQM3i3o4PF5rAuRFikw+Vk3e1uqLUz0xfX95kfUbny/EHK0
	 +8XxBcrPfOnUFpui7FVju7MPiDObZbZ8+o3bcuFzI511qFcU1xqac9/IpvIry23/KZ
	 pKVpZgIQrX66+kWn+nxWpd8/r0l0U04F4B5IIvv/VnDX/wUpTXMQtO+JueswSGM8iI
	 b2hUGVltqNkeA==

works for me. Thx!


From dev-return-83750-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep  9 16:08:33 2015
Return-Path: <dev-return-83750-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6761417E22
	for <apmail-httpd-dev-archive@www.apache.org>; Wed,  9 Sep 2015 16:08:33 +0000 (UTC)
Received: (qmail 29543 invoked by uid 500); 9 Sep 2015 16:08:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29470 invoked by uid 500); 9 Sep 2015 16:08:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29460 invoked by uid 99); 9 Sep 2015 16:08:27 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2015 16:08:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 88088C019D
	for <dev@httpd.apache.org>; Wed,  9 Sep 2015 16:08:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.98
X-Spam-Level: **
X-Spam-Status: No, score=2.98 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id YE1AFmHocJO8 for <dev@httpd.apache.org>;
	Wed,  9 Sep 2015 16:08:21 +0000 (UTC)
Received: from mail-ig0-f180.google.com (mail-ig0-f180.google.com [209.85.213.180])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id DF54C40B1C
	for <dev@httpd.apache.org>; Wed,  9 Sep 2015 16:08:20 +0000 (UTC)
Received: by igxx6 with SMTP id x6so17930337igx.1
        for <dev@httpd.apache.org>; Wed, 09 Sep 2015 09:08:20 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=igxmKZkUU07IckCmNyAxZoP6hgoemhKBUr9ZyNL1Q+I=;
        b=F/gxCyEwW06Ccp4lLZuUx5D8cDrkzIIDw2ewt+JSgx36aXjt7SJbZF4q7XPZJXX9U+
         A3lfB/oghcxYRh9vHpLpDG/X+6QQXlNHnGDPf+0BGmBkbAXpHk2gL/APu+YkxttEts48
         i9qwVXh6TTPNjw8lP7JOtYl/NDRi5Hnu4v/njx5OetU7w5Qzk4k7IzZjiGH2v+5cRQAs
         62nuFbMaau7G2rD5lRAwB6Gzj4BimPTHnHr2aKQ/p884N4imlF4QqZyElMS3R/z3yzbZ
         7j2nBKFU6V99YXpG5ajm1mhmkrVzu8IEg1DAS1cpyM1QGJBnW7wvvjIJZqW1NjpLuHXw
         siig==
X-Gm-Message-State: ALoCoQlhF5Mqoaxeawr0HNUVBcOnYLBsG6ImbggtSys6OWZzpVRQXcWcIkHLemqEwPFvQJc9mNdq
MIME-Version: 1.0
X-Received: by 10.50.29.77 with SMTP id i13mr42499452igh.77.1441814900027;
 Wed, 09 Sep 2015 09:08:20 -0700 (PDT)
Received: by 10.107.12.199 with HTTP; Wed, 9 Sep 2015 09:08:19 -0700 (PDT)
In-Reply-To: <CAKQ1sVM6ZA0wOu8fZGMAbYt4SEXoATNuKsXecfyRxvweHcu3sg@mail.gmail.com>
References: <CAKQ1sVMtQs1+6wuBL50AanrVEVQ5qtzqHc0yiuDUznGUF+VJ7Q@mail.gmail.com>
	<77B7897B-7381-4FAB-94CA-39F8B1FA8EA4@jaguNET.com>
	<CAKQ1sVM6ZA0wOu8fZGMAbYt4SEXoATNuKsXecfyRxvweHcu3sg@mail.gmail.com>
Date: Wed, 9 Sep 2015 11:08:19 -0500
Message-ID: <CACsi250tSuB++4wGD0pfdNBVxMHvQnGyNPn+5-S-HNU178VTYw@mail.gmail.com>
Subject: Re: Balancers (file based SHMs) and restart issue (Windows only?)
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=047d7bd75b26f35e5e051f52b066

--047d7bd75b26f35e5e051f52b066
Content-Type: text/plain; charset=UTF-8

That looks like a good solution.  FWIW, ap_mpm_query(AP_MPMQ_IS_FORKED...
would be another way to express whether we need the config_gen.

On Tue, Sep 8, 2015 at 11:33 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> I didn't reproduce it myself (no Windows machine), but the scenario
> and traces in PR 58024 show what happens quite clearly.
>
> On (graceful) restart, if one or more children remain when pconf is
> cleared (SHMs are destroyed), apr_file_remove() fails (open file =>
> ERROR_ACCESS_DENIED until all the HANDLEs to the file are closed,
> whereafter the file is removed from the filesystem).
> Since the files exist, the next slotmem_create() will attach (and not
> recreate) them, which fails when some balancers/members are added
> (size check).
>
> I agree this does not concern Unixes (which use a different inode for
> each new file, be there an opened fd on the previous inode's -same-
> filename or not).
>
> So the fix could be quite simple, like:
>
> Index: modules/slotmem/mod_slotmem_shm.c
> ===================================================================
> --- modules/slotmem/mod_slotmem_shm.c    (revision 1701559)
> +++ modules/slotmem/mod_slotmem_shm.c    (working copy)
> @@ -103,10 +103,29 @@ static const char *slotmem_filename(apr_pool_t *po
>          return NULL;
>      }
>      else if (slotmemname[0] != '/') {
> -        const char *filenm = apr_pstrcat(pool, DEFAULT_SLOTMEM_PREFIX,
> -                                         slotmemname,
> DEFAULT_SLOTMEM_SUFFIX,
> -                                         NULL);
> -        fname = ap_runtime_dir_relative(pool, filenm);
> +        fname = slotmemname;
> +#ifdef WIN32
> +        /* On Windows, apr_file_remove() (i.e. DeleFile()) marks the file
> for
> +         * deletion on close, hence not before the last HANDLE to it is
> closed.
> +         * Thus on graceful restart (the only restart mode with
> mpm_winnt), the
> +         * old file may still exist until all the children stop, while we
> ought
> +         * to create a new one for our new clear SHM.  Therefore, we
> would only
> +         * be able to reuse (attach) the old SHM, preventing some changes
> to
> +         * the config file, like the number of balancers/members, since
> the
> +         * size check (to fit the new config) would fail.  Let's avoid
> this by
> +         * including the generation number in the SHM filename (obviously
> not
> +         * the persisted name!), which pretty much acts like files on
> Unixes
> +         * where the OS maintains inodes which can be unlink()ed while
> opened,
> +         * when new files with the same name will reference a new inode.
> +         */
> +        if (!persist) {
> +            fname = apr_psprintf(pool, "%s_%x", fname,
> +                                 ap_state_query(AP_SQ_CONFIG_GEN));
> +        }
> +#endif
> +        fname = apr_pstrcat(pool, DEFAULT_SLOTMEM_PREFIX, fname,
> +                            DEFAULT_SLOTMEM_SUFFIX, NULL);
> +        fname = ap_runtime_dir_relative(pool, fname);
>      }
>      else {
>          fname = slotmemname;
> --
>
> If this is OK, I'll link it to PR 58024 for the OP to give it a chance
> (since I can't myself)...
> WDYT?
>
>
> On Fri, Sep 4, 2015 at 1:01 PM, Jim Jagielski <jim@jagunet.com> wrote:
> > Instead of changing the default for all OSs, sounds like
> > some Windows specific changes may need to be done. Has anyone
> > using Windows actually seen this or confirmed this is
> > possible??
> >
> >> On Sep 2, 2015, at 5:08 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> >>
> >> Re PR 58024.
> >>
> >> AIUI, balancers (and members) SHM slots are destroyed (and the
> >> underlying base file removed) with pconf before restarting and then
> >> re-created after (according to the new configuration, eg. number of
> >> balancers/members, be it the same or not).
> >> Persisted slots are saved in their own file (with the .persit suffix),
> >> and reused (copied) only if the configuration did not change in
> >> between.
> >> (@Jim, I see now how this is better than attaching ;)
> >>
> >> This works well on Unixes, but on Windows files can't be removed
> >> (unlinked) while any process/thread hold an HANDLE on it, hence until
> >> all the children have exited...
> >> Thus, since the SHM files still exist on restart, the balancer code
> >> tries to attach them instead of re-creating, and issues the checks on
> >> the existing size to fit the reloaded configuration, and fail should
> >> should any balancer/member be added or removed => PR 58024.
> >>
> >> BTW, even on Unixes there is a race on these files between the main
> >> process and the children, or the children themselves from different
> >> "generation".
> >>
> >> So I wonder if we could use anonymous SHMs instead (or mktemp based
> >> when not native), persisted slots are saved in their own files anyway
> >> and won't be affected.
> >> Otherwise, maybe we could use the "generation" as part of the file
> >> name, but that's equivalent and more complex IMO.
> >>
> >> Thoughts?
> >
>

--047d7bd75b26f35e5e051f52b066
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">That looks like a good solution.=C2=A0 FWIW, ap_mpm_query(=
<span style=3D"color:rgb(0,0,0);font-family:Geneva,Arial,Helvetica,sans-ser=
if;font-size:12.8px">AP_MPMQ_IS_FORKED... would be another way to express w=
hether we need the config_gen.</span></div><div class=3D"gmail_extra"><br><=
div class=3D"gmail_quote">On Tue, Sep 8, 2015 at 11:33 AM, Yann Ylavic <spa=
n dir=3D"ltr">&lt;<a href=3D"mailto:ylavic.dev@gmail.com" target=3D"_blank"=
>ylavic.dev@gmail.com</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_q=
uote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1e=
x">I didn&#39;t reproduce it myself (no Windows machine), but the scenario<=
br>
and traces in PR 58024 show what happens quite clearly.<br>
<br>
On (graceful) restart, if one or more children remain when pconf is<br>
cleared (SHMs are destroyed), apr_file_remove() fails (open file =3D&gt;<br=
>
ERROR_ACCESS_DENIED until all the HANDLEs to the file are closed,<br>
whereafter the file is removed from the filesystem).<br>
Since the files exist, the next slotmem_create() will attach (and not<br>
recreate) them, which fails when some balancers/members are added<br>
(size check).<br>
<br>
I agree this does not concern Unixes (which use a different inode for<br>
each new file, be there an opened fd on the previous inode&#39;s -same-<br>
filename or not).<br>
<br>
So the fix could be quite simple, like:<br>
<br>
Index: modules/slotmem/mod_slotmem_shm.c<br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<br>
--- modules/slotmem/mod_slotmem_shm.c=C2=A0 =C2=A0 (revision 1701559)<br>
+++ modules/slotmem/mod_slotmem_shm.c=C2=A0 =C2=A0 (working copy)<br>
@@ -103,10 +103,29 @@ static const char *slotmem_filename(apr_pool_t *po<br=
>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0return NULL;<br>
=C2=A0 =C2=A0 =C2=A0}<br>
=C2=A0 =C2=A0 =C2=A0else if (slotmemname[0] !=3D &#39;/&#39;) {<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 const char *filenm =3D apr_pstrcat(pool, DEFAU=
LT_SLOTMEM_PREFIX,<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0sl=
otmemname, DEFAULT_SLOTMEM_SUFFIX,<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0NU=
LL);<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 fname =3D ap_runtime_dir_relative(pool, filenm=
);<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 fname =3D slotmemname;<br>
+#ifdef WIN32<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 /* On Windows, apr_file_remove() (i.e. DeleFil=
e()) marks the file for<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0* deletion on close, hence not before th=
e last HANDLE to it is closed.<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0* Thus on graceful restart (the only res=
tart mode with mpm_winnt), the<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0* old file may still exist until all the=
 children stop, while we ought<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0* to create a new one for our new clear =
SHM.=C2=A0 Therefore, we would only<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0* be able to reuse (attach) the old SHM,=
 preventing some changes to<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0* the config file, like the number of ba=
lancers/members, since the<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0* size check (to fit the new config) wou=
ld fail.=C2=A0 Let&#39;s avoid this by<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0* including the generation number in the=
 SHM filename (obviously not<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0* the persisted name!), which pretty muc=
h acts like files on Unixes<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0* where the OS maintains inodes which ca=
n be unlink()ed while opened,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0* when new files with the same name will=
 reference a new inode.<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0*/<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 if (!persist) {<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 fname =3D apr_psprintf(pool, &qu=
ot;%s_%x&quot;, fname,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0ap_state_query(AP_SQ_CONFIG_GE=
N));<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 }<br>
+#endif<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 fname =3D apr_pstrcat(pool, DEFAULT_SLOTMEM_PR=
EFIX, fname,<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 DEFAULT_SLOTMEM_SUFFIX, NULL);<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 fname =3D ap_runtime_dir_relative(pool, fname)=
;<br>
=C2=A0 =C2=A0 =C2=A0}<br>
=C2=A0 =C2=A0 =C2=A0else {<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0fname =3D slotmemname;<br>
--<br>
<br>
If this is OK, I&#39;ll link it to PR 58024 for the OP to give it a chance<=
br>
(since I can&#39;t myself)...<br>
WDYT?<br>
<div class=3D"HOEnZb"><div class=3D"h5"><br>
<br>
On Fri, Sep 4, 2015 at 1:01 PM, Jim Jagielski &lt;<a href=3D"mailto:jim@jag=
unet.com">jim@jagunet.com</a>&gt; wrote:<br>
&gt; Instead of changing the default for all OSs, sounds like<br>
&gt; some Windows specific changes may need to be done. Has anyone<br>
&gt; using Windows actually seen this or confirmed this is<br>
&gt; possible??<br>
&gt;<br>
&gt;&gt; On Sep 2, 2015, at 5:08 AM, Yann Ylavic &lt;<a href=3D"mailto:ylav=
ic.dev@gmail.com">ylavic.dev@gmail.com</a>&gt; wrote:<br>
&gt;&gt;<br>
&gt;&gt; Re PR 58024.<br>
&gt;&gt;<br>
&gt;&gt; AIUI, balancers (and members) SHM slots are destroyed (and the<br>
&gt;&gt; underlying base file removed) with pconf before restarting and the=
n<br>
&gt;&gt; re-created after (according to the new configuration, eg. number o=
f<br>
&gt;&gt; balancers/members, be it the same or not).<br>
&gt;&gt; Persisted slots are saved in their own file (with the .persit suff=
ix),<br>
&gt;&gt; and reused (copied) only if the configuration did not change in<br=
>
&gt;&gt; between.<br>
&gt;&gt; (@Jim, I see now how this is better than attaching ;)<br>
&gt;&gt;<br>
&gt;&gt; This works well on Unixes, but on Windows files can&#39;t be remov=
ed<br>
&gt;&gt; (unlinked) while any process/thread hold an HANDLE on it, hence un=
til<br>
&gt;&gt; all the children have exited...<br>
&gt;&gt; Thus, since the SHM files still exist on restart, the balancer cod=
e<br>
&gt;&gt; tries to attach them instead of re-creating, and issues the checks=
 on<br>
&gt;&gt; the existing size to fit the reloaded configuration, and fail shou=
ld<br>
&gt;&gt; should any balancer/member be added or removed =3D&gt; PR 58024.<b=
r>
&gt;&gt;<br>
&gt;&gt; BTW, even on Unixes there is a race on these files between the mai=
n<br>
&gt;&gt; process and the children, or the children themselves from differen=
t<br>
&gt;&gt; &quot;generation&quot;.<br>
&gt;&gt;<br>
&gt;&gt; So I wonder if we could use anonymous SHMs instead (or mktemp base=
d<br>
&gt;&gt; when not native), persisted slots are saved in their own files any=
way<br>
&gt;&gt; and won&#39;t be affected.<br>
&gt;&gt; Otherwise, maybe we could use the &quot;generation&quot; as part o=
f the file<br>
&gt;&gt; name, but that&#39;s equivalent and more complex IMO.<br>
&gt;&gt;<br>
&gt;&gt; Thoughts?<br>
&gt;<br>
</div></div></blockquote></div><br></div>

--047d7bd75b26f35e5e051f52b066--

From dev-return-83751-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 10 10:40:32 2015
Return-Path: <dev-return-83751-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B885818E76
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 10 Sep 2015 10:40:32 +0000 (UTC)
Received: (qmail 5969 invoked by uid 500); 10 Sep 2015 10:40:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 5907 invoked by uid 500); 10 Sep 2015 10:40:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 5891 invoked by uid 99); 10 Sep 2015 10:40:31 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2015 10:40:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 3C362C009C
	for <dev@httpd.apache.org>; Thu, 10 Sep 2015 10:40:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.007
X-Spam-Level:
X-Spam-Status: No, score=-0.007 tagged_above=-999 required=6.31
	tests=[HEADER_FROM_DIFFERENT_DOMAINS=0.001, RP_MATCHES_RCVD=-0.006,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id et9xbmWXOiBE for <dev@httpd.apache.org>;
	Thu, 10 Sep 2015 10:40:16 +0000 (UTC)
Received: from plane.gmane.org (plane.gmane.org [80.91.229.3])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 92C1E20F7B
	for <dev@httpd.apache.org>; Thu, 10 Sep 2015 10:40:15 +0000 (UTC)
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <apache-dev@m.gmane.org>)
	id 1ZZzGs-0000gF-Mn
	for dev@httpd.apache.org; Thu, 10 Sep 2015 12:40:02 +0200
Received: from naiad.spacehopper.org ([195.95.187.26])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Thu, 10 Sep 2015 12:40:02 +0200
Received: from sthen by naiad.spacehopper.org with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Thu, 10 Sep 2015 12:40:02 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: dev@httpd.apache.org
From: Stuart Henderson <sthen@openbsd.org>
Subject: patch (mod_ssl/ab) to support OPENSSL_NO_SSL3 builds
Date: Thu, 10 Sep 2015 10:37:44 +0000 (UTC)
Lines: 46
Message-ID: <slrnmv2nbo.ouq.stu@naiad.spacehopper.org>
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: naiad.spacehopper.org
User-Agent: slrn/1.0.2 (OpenBSD)

I've opened a ticket for this already (bz 58349) but it was suggested
that I send mail here as well.

Currently httpd builds fail with libressl as SSLv3 has been disabled
(OPENSSL_NO_SSL3); ab.c and mod_ssl unconditionally use SSLv3_method()
functions.

ab.c fails at build time, mod_ssl is slightly nastier as this isn't
picked up until trying to start a server with ssl enabled.

Thanks,
Stuart

--- support/ab.c.orig	Fri Jul 17 22:55:57 2015
+++ support/ab.c	Fri Jul 17 22:56:13 2015
@@ -2314,8 +2314,10 @@ int main(int argc, const char * const argv[])
                 } else if (strncasecmp(opt_arg, "SSL2", 4) == 0) {
                     meth = SSLv2_client_method();
 #endif
+#ifndef OPENSSL_NO_SSL3
                 } else if (strncasecmp(opt_arg, "SSL3", 4) == 0) {
                     meth = SSLv3_client_method();
+#endif
 #ifdef HAVE_TLSV1_X
                 } else if (strncasecmp(opt_arg, "TLS1.1", 6) == 0) {
                     meth = TLSv1_1_client_method();

--- modules/ssl/ssl_engine_init.c.orig	Sun Sep  6 15:23:52 2015
+++ modules/ssl/ssl_engine_init.c	Sun Sep  6 15:57:35 2015
@@ -484,9 +484,15 @@ static apr_status_t ssl_init_ctx_protocol(server_rec *
                  "Creating new SSL context (protocols: %s)", cp);
 
     if (protocol == SSL_PROTOCOL_SSLV3) {
+#ifndef OPENSSL_NO_SSL3
         method = mctx->pkp ?
             SSLv3_client_method() : /* proxy */
             SSLv3_server_method();  /* server */
+#else
+        ap_log_error(APLOG_MARK, APLOG_EMERG, 0, s,
+            "SSLv3 protocol not available");
+        return ssl_die(s);
+#endif
     }
     else if (protocol == SSL_PROTOCOL_TLSV1) {
         method = mctx->pkp ?



From dev-return-83752-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 10 11:40:25 2015
Return-Path: <dev-return-83752-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5038F17242
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 10 Sep 2015 11:40:25 +0000 (UTC)
Received: (qmail 43340 invoked by uid 500); 10 Sep 2015 11:40:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 43276 invoked by uid 500); 10 Sep 2015 11:40:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 43267 invoked by uid 99); 10 Sep 2015 11:40:24 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2015 11:40:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 05735C01AB
	for <dev@httpd.apache.org>; Thu, 10 Sep 2015 11:40:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[UNPARSEABLE_RELAY=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id DuEL5Lvv1OLj for <dev@httpd.apache.org>;
	Thu, 10 Sep 2015 11:40:23 +0000 (UTC)
Received: from einhorn.in-berlin.de (einhorn.in-berlin.de [192.109.42.8])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id AFE1620103
	for <dev@httpd.apache.org>; Thu, 10 Sep 2015 11:40:22 +0000 (UTC)
X-Envelope-From: stsp@apache.org
Received: from jim.stsp.name (jim.stsp.name [217.197.84.42])
	(authenticated bits=0)
	by einhorn.in-berlin.de (8.14.4/8.14.4/Debian-4) with ESMTP id t8ABeCcX006465
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
	Thu, 10 Sep 2015 13:40:13 +0200
Received: from localhost (jim.stsp.name [local])
	by jim.stsp.name (OpenSMTPD) with ESMTPA id 789fc6a1;
	Thu, 10 Sep 2015 13:40:11 +0200 (CEST)
Date: Thu, 10 Sep 2015 13:40:11 +0200
From: Stefan Sperling <stsp@apache.org>
To: dev@httpd.apache.org
Cc: Stuart Henderson <sthen@openbsd.org>
Subject: Re: patch (mod_ssl/ab) to support OPENSSL_NO_SSL3 builds
Message-ID: <20150910114011.GJ24023@jim.stsp.name>
References: <slrnmv2nbo.ouq.stu@naiad.spacehopper.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <slrnmv2nbo.ouq.stu@naiad.spacehopper.org>
User-Agent: Mutt/1.5.23 (2014-03-12)

On Thu, Sep 10, 2015 at 10:37:44AM +0000, Stuart Henderson wrote:
> I've opened a ticket for this already (bz 58349) but it was suggested
> that I send mail here as well.
> 
> Currently httpd builds fail with libressl as SSLv3 has been disabled
> (OPENSSL_NO_SSL3); ab.c and mod_ssl unconditionally use SSLv3_method()
> functions.
> 
> ab.c fails at build time, mod_ssl is slightly nastier as this isn't
> picked up until trying to start a server with ssl enabled.
> 
> Thanks,
> Stuart

Does OpenSSL use the name OPENSSL_NO_SSL3 too?
Or is this macro defined by LibreSSL only?

> --- support/ab.c.orig	Fri Jul 17 22:55:57 2015
> +++ support/ab.c	Fri Jul 17 22:56:13 2015
> @@ -2314,8 +2314,10 @@ int main(int argc, const char * const argv[])
>                  } else if (strncasecmp(opt_arg, "SSL2", 4) == 0) {
>                      meth = SSLv2_client_method();
>  #endif
> +#ifndef OPENSSL_NO_SSL3
>                  } else if (strncasecmp(opt_arg, "SSL3", 4) == 0) {
>                      meth = SSLv3_client_method();
> +#endif
>  #ifdef HAVE_TLSV1_X
>                  } else if (strncasecmp(opt_arg, "TLS1.1", 6) == 0) {
>                      meth = TLSv1_1_client_method();
> 
> --- modules/ssl/ssl_engine_init.c.orig	Sun Sep  6 15:23:52 2015
> +++ modules/ssl/ssl_engine_init.c	Sun Sep  6 15:57:35 2015
> @@ -484,9 +484,15 @@ static apr_status_t ssl_init_ctx_protocol(server_rec *
>                   "Creating new SSL context (protocols: %s)", cp);
>  
>      if (protocol == SSL_PROTOCOL_SSLV3) {
> +#ifndef OPENSSL_NO_SSL3
>          method = mctx->pkp ?
>              SSLv3_client_method() : /* proxy */
>              SSLv3_server_method();  /* server */
> +#else
> +        ap_log_error(APLOG_MARK, APLOG_EMERG, 0, s,
> +            "SSLv3 protocol not available");
> +        return ssl_die(s);
> +#endif
>      }
>      else if (protocol == SSL_PROTOCOL_TLSV1) {
>          method = mctx->pkp ?
> 

From dev-return-83753-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 10 12:01:08 2015
Return-Path: <dev-return-83753-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1A5BC17397
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 10 Sep 2015 12:01:08 +0000 (UTC)
Received: (qmail 92759 invoked by uid 500); 10 Sep 2015 12:01:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 92697 invoked by uid 500); 10 Sep 2015 12:01:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 92687 invoked by uid 99); 10 Sep 2015 12:01:07 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2015 12:01:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 1B8601A0BD3
	for <dev@httpd.apache.org>; Thu, 10 Sep 2015 12:01:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.973
X-Spam-Level:
X-Spam-Status: No, score=0.973 tagged_above=-999 required=6.31
	tests=[FAKE_REPLY_C=0.001, SPF_SOFTFAIL=0.972] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id cqDDwSpwCVkh for <dev@httpd.apache.org>;
	Thu, 10 Sep 2015 12:01:06 +0000 (UTC)
Received: from symphytum.spacehopper.org (symphytum.spacehopper.org [82.68.199.130])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 07AEB4456F
	for <dev@httpd.apache.org>; Thu, 10 Sep 2015 12:01:06 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by symphytum.spacehopper.org (Postfix) with ESMTP id 3nBf1s0xYwzBJJs;
	Thu, 10 Sep 2015 13:01:05 +0100 (BST)
X-Virus-Scanned: amavisd-new at spacehopper.org
Received: from symphytum.spacehopper.org ([127.0.0.1])
	by localhost (symphytum.spacehopper.org [127.0.0.1]) (amavisd-new, port 10026)
	with LMTP id QRsSAX6D4dQ2; Thu, 10 Sep 2015 13:00:44 +0100 (BST)
Received: by symphytum.spacehopper.org (Postfix, from userid 1000)
	id 3nBf1S5zKnzBJJv; Thu, 10 Sep 2015 13:00:44 +0100 (BST)
Date: Thu, 10 Sep 2015 13:00:44 +0100
From: Stuart Henderson <sthen@openbsd.org>
To: Stefan Sperling <stsp@apache.org>
Cc: dev@httpd.apache.org
Subject: Re: patch (mod_ssl/ab) to support OPENSSL_NO_SSL3 builds
Message-ID: <20150910120044.GS26867@symphytum.spacehopper.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.24 (2015-08-30)

On 2015/09/10 13:40, Stefan Sperling wrote:
> On Thu, Sep 10, 2015 at 10:37:44AM +0000, Stuart Henderson wrote:
> > I've opened a ticket for this already (bz 58349) but it was suggested
> > that I send mail here as well.
> > 
> > Currently httpd builds fail with libressl as SSLv3 has been disabled
> > (OPENSSL_NO_SSL3); ab.c and mod_ssl unconditionally use SSLv3_method()
> > functions.
> > 
> > ab.c fails at build time, mod_ssl is slightly nastier as this isn't
> > picked up until trying to start a server with ssl enabled.
> > 
> > Thanks,
> > Stuart
> 
> Does OpenSSL use the name OPENSSL_NO_SSL3 too?
> Or is this macro defined by LibreSSL only?

With OpenSSL this is defined when it's built with the no-ssl3 option, it
works the same as building with no-rc5, no-ssl2, etc. This patch is
similar to previous patches which were added to various projects when
various OS (e.g. Debian, OpenBSD) disabled ssl2 in their standard builds
of OpenSSL.

For LibreSSL the functions have just been removed completely, it's no
longer a build option, but the effect is exactly the same as an OpenSSL
build with no-ssl3.


From dev-return-83754-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 10 18:51:27 2015
Return-Path: <dev-return-83754-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 638C518B33
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 10 Sep 2015 18:51:27 +0000 (UTC)
Received: (qmail 86541 invoked by uid 500); 10 Sep 2015 18:51:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86481 invoked by uid 500); 10 Sep 2015 18:51:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86471 invoked by uid 99); 10 Sep 2015 18:51:10 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2015 18:51:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 45A4A1A0CE3
	for <dev@httpd.apache.org>; Thu, 10 Sep 2015 18:51:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.107
X-Spam-Level:
X-Spam-Status: No, score=-0.107 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=ptc.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 8xoYxyhHwsUd for <dev@httpd.apache.org>;
	Thu, 10 Sep 2015 18:51:02 +0000 (UTC)
Received: from mx1.ptc.com (mx1.ptc.com [12.11.148.188])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 53D4D20107
	for <dev@httpd.apache.org>; Thu, 10 Sep 2015 18:51:02 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
  d=ptc.com; s=ptc; t=1441911062; x=1473447062;
  h=subject:to:references:from:message-id:date:mime-version:
   in-reply-to:content-transfer-encoding;
  bh=5cNTMBeHXGRN9IktoUuNT559pnswJcYLCZsxde1klUw=;
  b=guvxaogHaOELSre1Q2aqjwHIQlgYSiofA2ndSEyYjYQt+8pbZu7pnwyX
   bqjNyaAabnIKU5QNp1/T4tG6HjDRUu/+NCe0136/e0o7AsZGhw4MZQIa1
   2r1MG7BSPH8znQgibb5dWDV491EmgEVZkWgmktY4g9ycLonuzqWJ5ZVwC
   8=;
X-IronPort-AV: E=Sophos;i="5.17,506,1437451200"; 
   d="scan'208";a="107350548"
Received: from hq-x10prdhub1.ptcnet.ptc.com ([132.253.198.27])
  by mx1-int.ptc.com with ESMTP/TLS/AES128-SHA; 10 Sep 2015 14:50:48 -0400
Received: from awang.ptcnet.ptc.com (132.253.8.73) by
 int-mail-hub1.ptcnet.ptc.com (132.253.201.252) with Microsoft SMTP Server id
 14.3.123.3; Thu, 10 Sep 2015 14:50:48 -0400
Subject: Re: PR 54626 - ldaps not working with microsoft ldapsdk
To: <dev@httpd.apache.org>
References: <55DE06A4.9000202@ptc.com>
 <CALK=YjOESuYAOCx1WpC7swWCWrxriPO1UgxSy0wP8UkV4qcsEw@mail.gmail.com>
From: Andy Wang <awang@ptc.com>
Message-ID: <55F1D0F7.1010209@ptc.com>
Date: Thu, 10 Sep 2015 13:50:31 -0500
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <CALK=YjOESuYAOCx1WpC7swWCWrxriPO1UgxSy0wP8UkV4qcsEw@mail.gmail.com>
Content-Type: text/plain; charset="windows-1252"; format=flowed
Content-Transfer-Encoding: 7bit
X-Originating-IP: [132.253.8.73]

The patch in trunk is broken.
It looks like it was applied with the 2.2.25 generated diff and patch 
heuristically applied

On 09/08/2015 09:38 PM, Eric Covener wrote:
>
> No reason at all as far as I can tell, just overlooked.  I always
> build with an alternate SDK on Windows -- a confirmation that the
> trunk patch works would help. I am surprised that ldaps:// has
> apparently just never worked but it's only been reported by three
> people.
>

That's what I assume, and we have customers complaining that they cannot 
get it to work, but in my case, I simply add the ldap cert (i have a 
self signed ldaps server) to the trusted root certificates and it works 
with or without the patch.

Without the patch I do see this:
[Thu Sep 10 12:02:18.858401 2015] [ldap:info] [pid 4204:tid 128] 
AH01320: LDAP: SSL support unavailable: LDAP: CA certificates cannot be 
set using this method, as they are stored in the registry instead.

But that doesn't seem to negatively affect this.  As I look more closely 
through the apache source (grepping for the ssl_supported usage), I 
don't actually see that ssl_supported is used by anything meaningful.

There is a problem with the patch as it is in trunk though.  It looks 
like jfclere probably just applied the 2.2.25 diff, and patch 
heuristically screwed it up:
http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ldap/util_ldap.c?view=markup&pathrev=1526436

The #if APR_HAS_MICROSOFT_LDAPSDK on line 2511 belongs on line 2433 and 
the #endif @ 2561 belongs at the end of  this function:
static const char *util_ldap_set_trusted_client_cert(cmd_parms *cmd,

As it is now, the patch won't even build on Windows as it ifdef's out
static const char *util_ldap_set_verify_srv_cert(cmd_parms *cmd,

I'm going to try 2.2.31 now to see if I see different behavior.  But 
other than to correct the incorrect message about SSL being unavailable, 
in 2.4.x the fixed version of the patch doesn't appear to functionally 
change anything.

Andy

From dev-return-83755-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 10 19:44:16 2015
Return-Path: <dev-return-83755-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F310618D58
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 10 Sep 2015 19:44:15 +0000 (UTC)
Received: (qmail 50295 invoked by uid 500); 10 Sep 2015 19:44:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50213 invoked by uid 500); 10 Sep 2015 19:44:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50203 invoked by uid 99); 10 Sep 2015 19:44:15 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2015 19:44:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 14B04C01AB
	for <dev@httpd.apache.org>; Thu, 10 Sep 2015 19:44:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.127
X-Spam-Level:
X-Spam-Status: No, score=-0.127 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H4=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=ptc.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id a_Xs1gkbxi_i for <dev@httpd.apache.org>;
	Thu, 10 Sep 2015 19:44:08 +0000 (UTC)
Received: from mx1.ptc.com (mx1.ptc.com [12.11.148.188])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 3DDE144564
	for <dev@httpd.apache.org>; Thu, 10 Sep 2015 19:44:08 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
  d=ptc.com; s=ptc; t=1441914248; x=1473450248;
  h=subject:to:references:from:message-id:date:mime-version:
   in-reply-to:content-transfer-encoding;
  bh=pbIz4QAdTgicz1GAk5Ghsul8cXJDvm/Dfafc8flRoJE=;
  b=nTZwmMf/V+oZNkaoad+I9qk1vmSkujazutWK36JG201FNGwboFL8zO13
   UCDtoEHVSXVGiV2lJLIVUdqQulCKFXxp0ZCaJfGLMWUyXTqrZLMzU49Eq
   5y01go+yGdhrA4CI+ArTavMW6XkxWJkDfUI2Y0WNiH/0oSgibW9rfSrMn
   I=;
X-IronPort-AV: E=Sophos;i="5.17,506,1437451200"; 
   d="scan'208";a="107363094"
Received: from hq-x10prdhub2.ptcnet.ptc.com ([132.253.198.28])
  by mx1-int.ptc.com with ESMTP/TLS/AES128-SHA; 10 Sep 2015 15:44:00 -0400
Received: from awang.ptcnet.ptc.com (132.253.8.73) by
 int-mail-hub2.ptcnet.ptc.com (132.253.201.252) with Microsoft SMTP Server id
 14.3.123.3; Thu, 10 Sep 2015 15:44:00 -0400
Subject: Re: PR 54626 - ldaps not working with microsoft ldapsdk
To: <dev@httpd.apache.org>
References: <55DE06A4.9000202@ptc.com>
 <CALK=YjOESuYAOCx1WpC7swWCWrxriPO1UgxSy0wP8UkV4qcsEw@mail.gmail.com>
 <55F1D0F7.1010209@ptc.com>
From: Andy Wang <awang@ptc.com>
Message-ID: <55F1DD80.4060705@ptc.com>
Date: Thu, 10 Sep 2015 14:44:00 -0500
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <55F1D0F7.1010209@ptc.com>
Content-Type: text/plain; charset="windows-1252"; format=flowed
Content-Transfer-Encoding: 7bit
X-Originating-IP: [132.253.8.73]



On 09/10/2015 01:50 PM, Andy Wang wrote:

> I'm going to try 2.2.31 now to see if I see different behavior.  But
> other than to correct the incorrect message about SSL being unavailable,
> in 2.4.x the fixed version of the patch doesn't appear to functionally
> change anything.

yup, 2.2.31 works perfectly fine for me as well without any additional 
patches.  I posted a comment on the bugzilla report as well as an 
updated patch against 2.4.16.  I don't have trunk sucked down in svn 
yet, so I didn't generate a patch directly against the trunk version.

Best I can tell, having it fail and setting ssl_supported doesn't seem 
to actually cause a problem.

Andy


From dev-return-83756-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 10 19:51:28 2015
Return-Path: <dev-return-83756-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1689318DBE
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 10 Sep 2015 19:51:28 +0000 (UTC)
Received: (qmail 77160 invoked by uid 500); 10 Sep 2015 19:51:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 77095 invoked by uid 500); 10 Sep 2015 19:51:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 77085 invoked by uid 99); 10 Sep 2015 19:51:27 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2015 19:51:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id EE7C6C01AB
	for <dev@httpd.apache.org>; Thu, 10 Sep 2015 19:51:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id YzSEpyvOXG2N for <dev@httpd.apache.org>;
	Thu, 10 Sep 2015 19:51:22 +0000 (UTC)
Received: from mail-ig0-f176.google.com (mail-ig0-f176.google.com [209.85.213.176])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 25E0120103
	for <dev@httpd.apache.org>; Thu, 10 Sep 2015 19:51:22 +0000 (UTC)
Received: by igbni9 with SMTP id ni9so23948940igb.0
        for <dev@httpd.apache.org>; Thu, 10 Sep 2015 12:51:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=qea3ISJBWVmJ3hLgxLm7k49iZSqvOGpdJyrYjL+bQE8=;
        b=bycLxNnWj9rQpLbW+fb8jtGUkFPH735GRh4b+HzeuTF8qX1ia5KhIG1iv3fqp6NDr/
         kspyz9i9yRkiNGP3pIwIYkPZK67tSYXEbjuJ7QZdUNKKycZVQRZZVjGJ2ALlccQH7o5y
         9KFmlnr2NDm52/ua5HWV1KhbH4rWUmILOoFtueqCAuy/NsGlpRDqKF3MEq1t0ogrkyYM
         6d103tNUGVSILI5Xup4Vzm+OkfBUkIOj0xOsPAlaFpyndpUEdbDikZvDgHz0zQK6K50U
         xq/rzLf7irROLjMSRu3rl3eu9GozMt+O+tx2YYGHHH93cARvKlQteUxfWQHXclcAwhFs
         XpOA==
MIME-Version: 1.0
X-Received: by 10.50.78.41 with SMTP id y9mr9200069igw.72.1441914681581; Thu,
 10 Sep 2015 12:51:21 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Thu, 10 Sep 2015 12:51:21 -0700 (PDT)
In-Reply-To: <55F1DD80.4060705@ptc.com>
References: <55DE06A4.9000202@ptc.com>
	<CALK=YjOESuYAOCx1WpC7swWCWrxriPO1UgxSy0wP8UkV4qcsEw@mail.gmail.com>
	<55F1D0F7.1010209@ptc.com>
	<55F1DD80.4060705@ptc.com>
Date: Thu, 10 Sep 2015 15:51:21 -0400
Message-ID: <CALK=YjMR4-CjuJ6vFzuuV1K3++-hJdCABzeOFDDQYU1QGCp3Qg@mail.gmail.com>
Subject: Re: PR 54626 - ldaps not working with microsoft ldapsdk
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Sep 10, 2015 at 3:44 PM, Andy Wang <awang@ptc.com> wrote:
> yup, 2.2.31 works perfectly fine for me as well without any additional
> patches.  I posted a comment on the bugzilla report as well as an updated
> patch against 2.4.16.  I don't have trunk sucked down in svn yet, so I
> didn't generate a patch directly against the trunk version.
>
> Best I can tell, having it fail and setting ssl_supported doesn't seem to
> actually cause a problem.


net effect of updated patch is to block attempts at the cert config
and suppress the INFO level message?

-- 
Eric Covener
covener@gmail.com

From dev-return-83757-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 10 20:01:36 2015
Return-Path: <dev-return-83757-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3086418E5B
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 10 Sep 2015 20:01:36 +0000 (UTC)
Received: (qmail 33529 invoked by uid 500); 10 Sep 2015 20:01:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 33459 invoked by uid 500); 10 Sep 2015 20:01:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 33409 invoked by uid 99); 10 Sep 2015 20:01:34 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2015 20:01:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 19FD5180427
	for <dev@httpd.apache.org>; Thu, 10 Sep 2015 20:01:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.126
X-Spam-Level:
X-Spam-Status: No, score=-0.126 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H4=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=ptc.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id nvfOgzrB87bK for <dev@httpd.apache.org>;
	Thu, 10 Sep 2015 20:01:24 +0000 (UTC)
Received: from mx1.ptc.com (mx1.ptc.com [12.11.148.188])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id A1EAF42BC8
	for <dev@httpd.apache.org>; Thu, 10 Sep 2015 20:01:24 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
  d=ptc.com; s=ptc; t=1441915284; x=1473451284;
  h=subject:to:references:from:message-id:date:mime-version:
   in-reply-to:content-transfer-encoding;
  bh=+hz7N0XMs0FCsjTKYgPPxjx4BktzwYS7TTUM72kFyas=;
  b=ilDPXTz8tIjyO3tzI8C6W/IWiJoKMCTj4CebmlWwgZa+gOfu5/KMStIF
   G/uXAfkBj2nPZ2oDiW8imalW8nMd4yHQQRM0BcpXXLbg7qA75uddT4pxC
   tUIcsgKcnFFnhq5Z71EvD6UQXSZE2SsQQOAWdvNoZGMB2L3q2ZZwOzrCA
   I=;
X-IronPort-AV: E=Sophos;i="5.17,506,1437451200"; 
   d="scan'208";a="107366846"
Received: from hq-x10prdhub2.ptcnet.ptc.com ([132.253.198.28])
  by mx1-int.ptc.com with ESMTP/TLS/AES128-SHA; 10 Sep 2015 16:01:24 -0400
Received: from awang.ptcnet.ptc.com (132.253.8.73) by
 int-mail-hub2.ptcnet.ptc.com (132.253.201.252) with Microsoft SMTP Server id
 14.3.123.3; Thu, 10 Sep 2015 16:01:23 -0400
Subject: Re: PR 54626 - ldaps not working with microsoft ldapsdk
To: <dev@httpd.apache.org>
References: <55DE06A4.9000202@ptc.com>
 <CALK=YjOESuYAOCx1WpC7swWCWrxriPO1UgxSy0wP8UkV4qcsEw@mail.gmail.com>
 <55F1D0F7.1010209@ptc.com> <55F1DD80.4060705@ptc.com>
 <CALK=YjMR4-CjuJ6vFzuuV1K3++-hJdCABzeOFDDQYU1QGCp3Qg@mail.gmail.com>
From: Andy Wang <awang@ptc.com>
Message-ID: <55F1E193.6050706@ptc.com>
Date: Thu, 10 Sep 2015 15:01:23 -0500
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <CALK=YjMR4-CjuJ6vFzuuV1K3++-hJdCABzeOFDDQYU1QGCp3Qg@mail.gmail.com>
Content-Type: text/plain; charset="utf-8"; format=flowed
Content-Transfer-Encoding: 7bit
X-Originating-IP: [132.253.8.73]



On 09/10/2015 02:51 PM, Eric Covener wrote:
> On Thu, Sep 10, 2015 at 3:44 PM, Andy Wang <awang@ptc.com> wrote:
>> yup, 2.2.31 works perfectly fine for me as well without any additional
>> patches.  I posted a comment on the bugzilla report as well as an updated
>> patch against 2.4.16.  I don't have trunk sucked down in svn yet, so I
>> didn't generate a patch directly against the trunk version.
>>
>> Best I can tell, having it fail and setting ssl_supported doesn't seem to
>> actually cause a problem.
>
>
> net effect of updated patch is to block attempts at the cert config
> and suppress the INFO level message?
>

Correct.
Basically all I did was move the #ifdef #else #endif chunks from the 
wrong functions to the right functions.

I think the issue is, alot of these functions have basically identical 
signatures and identical setup/teardown routines at the beginning and 
end of the functions so when patch was run against the 2.2.25 diff, the 
line numbers were off and it matched to the wrong chunks just right :).

Andy

From dev-return-83758-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 11 04:41:17 2015
Return-Path: <dev-return-83758-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6B9A718AD9
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 11 Sep 2015 04:41:17 +0000 (UTC)
Received: (qmail 58680 invoked by uid 500); 11 Sep 2015 04:30:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 58447 invoked by uid 500); 11 Sep 2015 04:30:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 58408 invoked by uid 99); 11 Sep 2015 04:30:49 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2015 04:30:49 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 0F713180427
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 04:30:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0
X-Spam-Level:
X-Spam-Status: No, score=0 tagged_above=-999 required=6.31 tests=[none]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id PFbl6k2DNpe2 for <dev@httpd.apache.org>;
	Fri, 11 Sep 2015 04:30:44 +0000 (UTC)
Received: from node176.itex.at (mail.123x.at [194.242.35.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id CCEFB20FF3
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 04:30:43 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
	by node176.itex.at (Postfix) with ESMTP id D620F2186D
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 06:30:36 +0200 (CEST)
X-Virus-Scanned: Debian amavisd-new at node176.itex.at
Received: from node176.itex.at ([127.0.0.1])
	by localhost (node176.itex.at [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id s-jX2mGIL36y for <dev@httpd.apache.org>;
	Fri, 11 Sep 2015 06:30:36 +0200 (CEST)
Received: from [10.202.65.180] (CPE-121-217-198-60.lnse3.cht.bigpond.net.au [121.217.198.60])
	(Authenticated sender: normw@gknw.net)
	by node176.itex.at (Postfix) with ESMTPSA id C47F3210F1
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 06:30:35 +0200 (CEST)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: NormW <normw@gknw.net>
Subject: nghttp2 1.3.0 Build failure on GNUC macro now fixed
Message-ID: <55F258DF.6000702@gknw.net>
Date: Fri, 11 Sep 2015 14:30:23 +1000
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

FYI,
nghttp2 1.3.0 build failure on a GNUC-specific macro has been replaced 
by more generic C in nghttp2 source and should be available in the next 
release.
Cheers,
N.

From dev-return-83759-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 11 12:50:01 2015
Return-Path: <dev-return-83759-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C817C17D04
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 11 Sep 2015 12:50:01 +0000 (UTC)
Received: (qmail 18359 invoked by uid 500); 11 Sep 2015 12:50:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18281 invoked by uid 500); 11 Sep 2015 12:50:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18269 invoked by uid 99); 11 Sep 2015 12:50:00 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2015 12:50:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B8A1F18041A
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 12:49:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ebYhUXsjzlyF for <dev@httpd.apache.org>;
	Fri, 11 Sep 2015 12:49:55 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 7FDB5210C8
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 12:49:55 +0000 (UTC)
Received: from [192.168.1.48] (unknown [78.35.198.226])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id B58D515A0688
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 14:49:53 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Subject: r->protocol == HTTP/2
Message-Id: <01058517-8A04-4F09-9E39-F6901DE808BA@greenbytes.de>
Date: Fri, 11 Sep 2015 14:49:52 +0200
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
X-Mailer: Apple Mail (2.2104)

Looking for some opinions about mod_h2 and r->protocol.

Currently, mod_h2 sets that at "HTTP/1.1", which gives=20
of course the best backward compatibility. But it is also
a lie. In reality it should be "HTTP/2", independent of=20
the "h2" "h2c" stack names.

So, I am considering a directive to en-/disable that, with
the default being on the current behavior.

Any thoughts?

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83760-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 11 13:03:06 2015
Return-Path: <dev-return-83760-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EE12A17D8A
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 11 Sep 2015 13:03:05 +0000 (UTC)
Received: (qmail 67542 invoked by uid 500); 11 Sep 2015 13:03:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67472 invoked by uid 500); 11 Sep 2015 13:03:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67462 invoked by uid 99); 11 Sep 2015 13:03:04 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2015 13:03:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 3D205C0252
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 13:03:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id QpFqpWVTK6CJ for <dev@httpd.apache.org>;
	Fri, 11 Sep 2015 13:02:58 +0000 (UTC)
Received: from mail-io0-f177.google.com (mail-io0-f177.google.com [209.85.223.177])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 9A80820103
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 13:02:58 +0000 (UTC)
Received: by ioiz6 with SMTP id z6so96413127ioi.2
        for <dev@httpd.apache.org>; Fri, 11 Sep 2015 06:02:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=6rDzrvzQNK6udMfeD19zw+lZ4gwRRQ8t5QAfz8MLNvw=;
        b=i0QqaKnNSz7hMkb1ldENM1WXRMSS0O/qEt09N5FR+M1ksqhETIQ6zy6YXrXGRnfkB0
         G/CtBOdOcE8Gk+/pYAR4mskJTp3ouTMLtJ5AhvGyeJwS1IqE9zKJa69nMaFuOOzKaHNM
         kjjcTmThocXFm0N69CP8Y/yLq6hgC58LBj4+XHqEvC3D22+io0T6ophm+y66a09ziF+q
         oIrxIAVd7WSNi8ss3j9ChfvJGEjkftDsgShvCIEV8DWn8maZbjSfkkykw6pp/mjDJ7zl
         E7EtxqX3bITP1fqgI6mQYlePfya0ECDLGmojqdpDaelfSXxKzzsFsKypG9uOMSMZCD4R
         zM6Q==
MIME-Version: 1.0
X-Received: by 10.107.41.211 with SMTP id p202mr3612490iop.132.1441976578071;
 Fri, 11 Sep 2015 06:02:58 -0700 (PDT)
Received: by 10.79.38.74 with HTTP; Fri, 11 Sep 2015 06:02:58 -0700 (PDT)
In-Reply-To: <01058517-8A04-4F09-9E39-F6901DE808BA@greenbytes.de>
References: <01058517-8A04-4F09-9E39-F6901DE808BA@greenbytes.de>
Date: Fri, 11 Sep 2015 15:02:58 +0200
Message-ID: <CAKQ1sVNuJSpucftT7Bw=R9b+1VuHcfeku5AK+FYV2iaHuRUpVw@mail.gmail.com>
Subject: Re: r->protocol == HTTP/2
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 11, 2015 at 2:49 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> Looking for some opinions about mod_h2 and r->protocol.
>
> Currently, mod_h2 sets that at "HTTP/1.1", which gives
> of course the best backward compatibility. But it is also
> a lie. In reality it should be "HTTP/2", independent of
> the "h2" "h2c" stack names.

Shouldn't it be HTTP/2 only when the client requests it?

Regards,
Yann.

From dev-return-83761-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 11 13:04:52 2015
Return-Path: <dev-return-83761-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7192D17D9B
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 11 Sep 2015 13:04:52 +0000 (UTC)
Received: (qmail 74258 invoked by uid 500); 11 Sep 2015 13:04:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 74190 invoked by uid 500); 11 Sep 2015 13:04:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 74179 invoked by uid 99); 11 Sep 2015 13:04:42 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2015 13:04:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 23D4218041A
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 13:04:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id hMGcgzF_oeS0 for <dev@httpd.apache.org>;
	Fri, 11 Sep 2015 13:04:34 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 7E56F44569
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 13:04:34 +0000 (UTC)
Received: from [192.168.1.48] (unknown [78.35.198.226])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id BDACF15A0464
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 15:04:26 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: r->protocol == HTTP/2
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVNuJSpucftT7Bw=R9b+1VuHcfeku5AK+FYV2iaHuRUpVw@mail.gmail.com>
Date: Fri, 11 Sep 2015 15:04:25 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <4DD062BA-6EE7-4B24-9226-EBEC5FAF3107@greenbytes.de>
References: <01058517-8A04-4F09-9E39-F6901DE808BA@greenbytes.de> <CAKQ1sVNuJSpucftT7Bw=R9b+1VuHcfeku5AK+FYV2iaHuRUpVw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

I am talking about a h2/h2c connection, where requests do not
carry the protocol any longer.

> Am 11.09.2015 um 15:02 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Fri, Sep 11, 2015 at 2:49 PM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> Looking for some opinions about mod_h2 and r->protocol.
>>=20
>> Currently, mod_h2 sets that at "HTTP/1.1", which gives
>> of course the best backward compatibility. But it is also
>> a lie. In reality it should be "HTTP/2", independent of
>> the "h2" "h2c" stack names.
>=20
> Shouldn't it be HTTP/2 only when the client requests it?
>=20
> Regards,
> Yann.

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83762-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 11 13:14:31 2015
Return-Path: <dev-return-83762-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8634917E1C
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 11 Sep 2015 13:14:31 +0000 (UTC)
Received: (qmail 10321 invoked by uid 500); 11 Sep 2015 13:14:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 10243 invoked by uid 500); 11 Sep 2015 13:14:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 10234 invoked by uid 99); 11 Sep 2015 13:14:31 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2015 13:14:31 +0000
Received: from gauss.localdomain (v4-861345e7.pool.vitroconnect.de [134.19.69.231])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id C6DA41A01A8
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 13:14:30 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id D87F81D8
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 15:14:32 +0200 (CEST)
Subject: Re: svn commit: r1702450 -
 /httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c
To: dev@httpd.apache.org
References: <20150911130053.E1C44AC0283@hades.apache.org>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <55F2D3B8.60306@apache.org>
Date: Fri, 11 Sep 2015 15:14:32 +0200
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:38.0) Gecko/20100101
 Firefox/38.0 SeaMonkey/2.35
MIME-Version: 1.0
In-Reply-To: <20150911130053.E1C44AC0283@hades.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 09/11/2015 03:00 PM, ylavic@apache.org wrote:
> Author: ylavic
> Date: Fri Sep 11 13:00:53 2015
> New Revision: 1702450
> 
> URL: http://svn.apache.org/r1702450
> Log:
> mod_slotmem_shm: Fix balancers and balancer members slots reuse on
> restart when new ones are added (Windows and OS/2 only).  PR 58024.
> 
> Since Windows and OS/2 don't have the unlink() but the "delete on last close"
> semantic for opened files being removed, we can't reuse the same SHM files
> names for processes of different generation.  Let's append the generation
> number in the files names for those.
> 
> This commit also axes unused Unix specifics about mutexes/semaphores.
> 
> Modified:
>     httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c
> 
> Modified: httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c?rev=1702450&r1=1702449&r2=1702450&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c (original)
> +++ httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c Fri Sep 11 13:00:53 2015
> @@ -25,23 +25,6 @@
>  
>  #include "httpd.h"
>  #include "http_main.h"
> -#ifdef AP_NEED_SET_MUTEX_PERMS
> -#include "unixd.h"
> -#endif
> -
> -#if APR_HAVE_UNISTD_H
> -#include <unistd.h>         /* for getpid() */
> -#endif
> -
> -#if HAVE_SYS_SEM_H
> -#include <sys/shm.h>
> -#if !defined(SHM_R)
> -#define SHM_R 0400
> -#endif
> -#if !defined(SHM_W)
> -#define SHM_W 0200
> -#endif
> -#endif
>  

Why can the above be removed and how is this related to what you try to fix?

>  #define AP_SLOTMEM_IS_PREGRAB(t)    (t->desc.type & AP_SLOTMEM_TYPE_PREGRAB)
>  #define AP_SLOTMEM_IS_PERSIST(t)    (t->desc.type & AP_SLOTMEM_TYPE_PERSIST)
> @@ -59,6 +42,7 @@ typedef struct {
>  
>  struct ap_slotmem_instance_t {
>      char                 *name;       /* per segment name */

name now stores the filename. Maybe that should reflected in the comment?

> +    char                 *pname;      /* persisted file name */
>      int                  fbased;      /* filebased? */
>      void                 *shm;        /* ptr to memory segment (apr_shm_t *) */
>      void                 *base;       /* data set start */

Regards

Rüdiger

From dev-return-83763-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 11 13:32:57 2015
Return-Path: <dev-return-83763-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 934861809A
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 11 Sep 2015 13:32:57 +0000 (UTC)
Received: (qmail 76435 invoked by uid 500); 11 Sep 2015 13:32:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76358 invoked by uid 500); 11 Sep 2015 13:32:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76348 invoked by uid 99); 11 Sep 2015 13:32:56 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2015 13:32:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 6C41C180425
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 13:32:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id Q4dm_5i6vtAC for <dev@httpd.apache.org>;
	Fri, 11 Sep 2015 13:32:47 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 2822A2085F
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 13:32:47 +0000 (UTC)
Received: from [192.168.1.48] (unknown [78.35.198.226])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 12A3A15A0688
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 15:32:40 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: httpd/trunk -Werror and warning free
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVNnEh2zMtJvw+xEnQ_+7n3A-=7hQLrjtbRnNLf=CS57Uw@mail.gmail.com>
Date: Fri, 11 Sep 2015 15:32:38 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <ED2FA74F-1B39-43D9-926D-C5C8BFB07B2E@greenbytes.de>
References: <58CD0D1D-159E-478B-B99F-16D85E53F37A@greenbytes.de> <55E9A9B5.3030105@apache.org> <CAKQ1sVMFGzKe9L-ZSnh2zfjS5zBfkpXr=i-zhRuqv+cQ6WKZAg@mail.gmail.com> <AB1691BE05AE7F4992697F2A0835627AC631110E@VOEXM10W.internal.vodafone.com> <CAKQ1sVNnEh2zMtJvw+xEnQ_+7n3A-=7hQLrjtbRnNLf=CS57Uw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

Tried the inline. clang is too smart for that one.

Current attempt:

#pragma GCC diagnostic ignored "-Wunused-const-variable"

explicitly set for module declarations with warning. For including =
#pragma inside
the #define. I did not find a portable way.

Can with live with such a pragma in httpd?

> Am 04.09.2015 um 23:03 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Fri, Sep 4, 2015 at 7:37 PM, Pl=C3=BCm, R=C3=BCdiger, Vodafone =
Group
> <ruediger.pluem@vodafone.com> wrote:
>> Doesn't that create another warning about aplog_module_index_fake_use =
being unused?
>=20
> It may not if the compiler knows about "inline"...

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83764-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 11 13:44:12 2015
Return-Path: <dev-return-83764-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9BA2E18133
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 11 Sep 2015 13:44:12 +0000 (UTC)
Received: (qmail 22773 invoked by uid 500); 11 Sep 2015 13:44:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 22708 invoked by uid 500); 11 Sep 2015 13:44:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 22698 invoked by uid 99); 11 Sep 2015 13:44:12 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2015 13:44:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 8184DC009C
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 13:44:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id fXIM30UfkUSh for <dev@httpd.apache.org>;
	Fri, 11 Sep 2015 13:44:10 +0000 (UTC)
Received: from mail-io0-f169.google.com (mail-io0-f169.google.com [209.85.223.169])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id A03C2203A0
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 13:44:09 +0000 (UTC)
Received: by ioii196 with SMTP id i196so98120973ioi.3
        for <dev@httpd.apache.org>; Fri, 11 Sep 2015 06:44:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=2D8WNcQS4K2eceuvR4M2z6hotDeuQ2MTuB3vRHZCrp8=;
        b=ellPckbkDRnV6Qc+v7XzbOrgWCj873h+qFWhjue2tPwGOwB4yhGtoEmpVJUbPP0Ep/
         0EJWULkNulir5df4I3TggynbpTyEOFxv4k+b6Sofifx/a6QjHPKdTWN1a4vvya1maMtX
         UWjhYwdqqWX8Pp1yQvnTi7uaeaiKlx8RHmHCqwqnjIKnfYTty/sPvCcFttGIe9fEumgl
         WP+tNMyhAn7cDsgcMKaaIzg5OqR37R1am5Uh+qFOm8/qzS0pHTxnyFOw80IW2Ju27XV/
         XxRGozEbklpPtkqziqnCfkIbJmHABzN7xMfk8aP/PEUwWFfg8D+DMKS3rLKCImq/Ff9T
         uW7A==
MIME-Version: 1.0
X-Received: by 10.107.41.211 with SMTP id p202mr3984176iop.132.1441979042465;
 Fri, 11 Sep 2015 06:44:02 -0700 (PDT)
Received: by 10.79.38.74 with HTTP; Fri, 11 Sep 2015 06:44:02 -0700 (PDT)
In-Reply-To: <55F2D3B8.60306@apache.org>
References: <20150911130053.E1C44AC0283@hades.apache.org>
	<55F2D3B8.60306@apache.org>
Date: Fri, 11 Sep 2015 15:44:02 +0200
Message-ID: <CAKQ1sVO-8Ozxk_-uTSYAH4y6Nt=OH6qrfZ2rv5Gcy=W-6HuWYw@mail.gmail.com>
Subject: Re: svn commit: r1702450 - /httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 11, 2015 at 3:14 PM, Ruediger Pluem <rpluem@apache.org> wrote:
>
> On 09/11/2015 03:00 PM, ylavic@apache.org wrote:
>>
>>  #include "httpd.h"
>>  #include "http_main.h"
>> -#ifdef AP_NEED_SET_MUTEX_PERMS
>> -#include "unixd.h"
>> -#endif
>> -
>> -#if APR_HAVE_UNISTD_H
>> -#include <unistd.h>         /* for getpid() */
>> -#endif
>> -
>> -#if HAVE_SYS_SEM_H
>> -#include <sys/shm.h>
>> -#if !defined(SHM_R)
>> -#define SHM_R 0400
>> -#endif
>> -#if !defined(SHM_W)
>> -#define SHM_W 0200
>> -#endif
>> -#endif
>>
>
> Why can the above be removed and how is this related to what you try to fix?

There is no Unix specific code (anymore?) in the module, these macros
(and getpid) are used nowhere.
This is moderatly related to the commit I agree (though Unixes vs
Windows somehow), that's why I also mentionned the change in the
commit message ("This commit also axes unused Unix specifics about
mutexes/semaphores.")...


>
>>  #define AP_SLOTMEM_IS_PREGRAB(t)    (t->desc.type & AP_SLOTMEM_TYPE_PREGRAB)
>>  #define AP_SLOTMEM_IS_PERSIST(t)    (t->desc.type & AP_SLOTMEM_TYPE_PERSIST)
>> @@ -59,6 +42,7 @@ typedef struct {
>>
>>  struct ap_slotmem_instance_t {
>>      char                 *name;       /* per segment name */
>
> name now stores the filename. Maybe that should reflected in the comment?

It was already storing the filename before (the leading '/' was used
to shortcut ap_runtime_dir_relative() only).
But yes, the comment needs to be changed, will do it.

Thanks for the review.

From dev-return-83765-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 11 17:32:07 2015
Return-Path: <dev-return-83765-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1EE4918B70
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 11 Sep 2015 17:32:07 +0000 (UTC)
Received: (qmail 58048 invoked by uid 500); 11 Sep 2015 17:32:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57971 invoked by uid 500); 11 Sep 2015 17:32:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57956 invoked by uid 99); 11 Sep 2015 17:32:03 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2015 17:32:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 3EA6FC01AB
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 17:32:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.127
X-Spam-Level:
X-Spam-Status: No, score=-0.127 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H4=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=ptc.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id AQzjs1onLBJ9 for <dev@httpd.apache.org>;
	Fri, 11 Sep 2015 17:31:56 +0000 (UTC)
Received: from mx1.ptc.com (mx1.ptc.com [12.11.148.188])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 62A6343B03
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 17:31:56 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
  d=ptc.com; s=ptc; t=1441992716; x=1473528716;
  h=subject:to:references:from:message-id:date:mime-version:
   in-reply-to:content-transfer-encoding;
  bh=QApBpmgFFJvcyJkdHOJQW4Mp5c7c+rUXDjjUexBmkQo=;
  b=SC5+wtZAPXf6xvjM0SUnC8AxRBLRuupH2GFQ3KSk9AHSvN/ySHoL+YLy
   pgH9G4ZabuRp3qVX8NRphsgepVmNtVphdV6gaARwKabK3zbHT9GjQiDIR
   g5hYQ6UZZGQIPUB/sCuw21Q0WmhE9r38EPFy3auP2u0daj1PAp01Bm/YL
   8=;
X-IronPort-AV: E=Sophos;i="5.17,512,1437451200"; 
   d="scan'208";a="107597912"
Received: from hq-x10prdhub1.ptcnet.ptc.com ([132.253.198.27])
  by mx1-int.ptc.com with ESMTP/TLS/AES128-SHA; 11 Sep 2015 13:31:55 -0400
Received: from awang.ptcnet.ptc.com (132.253.8.73) by
 int-mail-hub1.ptcnet.ptc.com (132.253.201.252) with Microsoft SMTP Server id
 14.3.123.3; Fri, 11 Sep 2015 13:31:55 -0400
Subject: Re: PR 54626 - ldaps not working with microsoft ldapsdk
To: <dev@httpd.apache.org>
References: <55DE06A4.9000202@ptc.com>
 <CALK=YjOESuYAOCx1WpC7swWCWrxriPO1UgxSy0wP8UkV4qcsEw@mail.gmail.com>
From: Andy Wang <awang@ptc.com>
Message-ID: <55F3100A.7040800@ptc.com>
Date: Fri, 11 Sep 2015 12:31:54 -0500
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <CALK=YjOESuYAOCx1WpC7swWCWrxriPO1UgxSy0wP8UkV4qcsEw@mail.gmail.com>
Content-Type: text/plain; charset="utf-8"; format=flowed
Content-Transfer-Encoding: 7bit
X-Originating-IP: [132.253.8.73]



On 09/08/2015 09:38 PM, Eric Covener wrote:
> I always build with an alternate SDK on Windows

Do you mind if I ask which sdk (mozilla?) and why?

Thanks,
Andy


From dev-return-83766-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 11 17:45:35 2015
Return-Path: <dev-return-83766-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CDDB818C00
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 11 Sep 2015 17:45:35 +0000 (UTC)
Received: (qmail 18992 invoked by uid 500); 11 Sep 2015 17:45:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18929 invoked by uid 500); 11 Sep 2015 17:45:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18919 invoked by uid 99); 11 Sep 2015 17:45:35 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2015 17:45:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id BE436E6AA0
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 17:45:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.099
X-Spam-Level:
X-Spam-Status: No, score=-0.099 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id Dh3NYoJzmZKf for <dev@httpd.apache.org>;
	Fri, 11 Sep 2015 17:45:25 +0000 (UTC)
Received: from mail-ig0-f181.google.com (mail-ig0-f181.google.com [209.85.213.181])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id E60844415B
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 17:45:24 +0000 (UTC)
Received: by igbni9 with SMTP id ni9so44590359igb.0
        for <dev@httpd.apache.org>; Fri, 11 Sep 2015 10:45:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=yPkL49MBF54ciTgzzfAGGja2SoSv2Xh9B8IAmlsp2oI=;
        b=k3DDj83f2yt8Od6RrtcH7RHm3BqyoVqC+LWBCtFTvoSNfmm4uXrEgSN+MI+H6UuNo1
         ZuK/bYjjVlcD035Of+cnIANHigVgSsibDc+bihaRCFkVG5EMiVEFQB8nSXZyTFI5eCoM
         Om8DPxIW9reAoXfby6GAcOKaiYjpBwj6b8FYX8cz4PIznL8+NudD3vq+JfLxWQOBzgAs
         o4zmoarWtfZPWbrJGXJnw2Vu3B248dgQ6uKxfFAsIbF3H7IhoSj3hespwChcBtBho7xU
         j7QfgjpBm7r54jcuN/OGgCOKtlSeEKqNc6PqC0+JBiwn0oKpT1rKizQvXH3DyOEoy+OZ
         iQrA==
MIME-Version: 1.0
X-Received: by 10.50.30.7 with SMTP id o7mr5789362igh.56.1441993524590; Fri,
 11 Sep 2015 10:45:24 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Fri, 11 Sep 2015 10:45:24 -0700 (PDT)
In-Reply-To: <55F3100A.7040800@ptc.com>
References: <55DE06A4.9000202@ptc.com>
	<CALK=YjOESuYAOCx1WpC7swWCWrxriPO1UgxSy0wP8UkV4qcsEw@mail.gmail.com>
	<55F3100A.7040800@ptc.com>
Date: Fri, 11 Sep 2015 13:45:24 -0400
Message-ID: <CALK=YjNXjvkdTX-3p986RUBDCnSB3mnyA91b+P0oGD97NKZ6CQ@mail.gmail.com>
Subject: Re: PR 54626 - ldaps not working with microsoft ldapsdk
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 11, 2015 at 1:31 PM, Andy Wang <awang@ptc.com> wrote:
> Do you mind if I ask which sdk (mozilla?) and why?

The only dev environment I keep around for Windows is for IBM's
distribution of Apache. In that distro, we use the same IBM LDAP SDK
on all platforms.

From dev-return-83767-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 11 18:19:50 2015
Return-Path: <dev-return-83767-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1F91218DF6
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 11 Sep 2015 18:19:50 +0000 (UTC)
Received: (qmail 71784 invoked by uid 500); 11 Sep 2015 18:19:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 71718 invoked by uid 500); 11 Sep 2015 18:19:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 71707 invoked by uid 99); 11 Sep 2015 18:19:43 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2015 18:19:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 0BD5D1A1726
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 18:19:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id S_QmTTgkhieA for <dev@httpd.apache.org>;
	Fri, 11 Sep 2015 18:19:36 +0000 (UTC)
Received: from resqmta-ch2-06v.sys.comcast.net (resqmta-ch2-06v.sys.comcast.net [69.252.207.38])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 2CD0720103
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 18:19:36 +0000 (UTC)
Received: from resomta-ch2-13v.sys.comcast.net ([69.252.207.109])
	by resqmta-ch2-06v.sys.comcast.net with comcast
	id FuKP1r0032N9P4d01uKV03; Fri, 11 Sep 2015 18:19:29 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-13v.sys.comcast.net with comcast
	id FuKU1r00R2U0RYt01uKUYp; Fri, 11 Sep 2015 18:19:29 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1702473 - /httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <20150911135845.83435AC0184@hades.apache.org>
Date: Fri, 11 Sep 2015 14:19:28 -0400
Cc: cvs@httpd.apache.org
Content-Transfer-Encoding: quoted-printable
Message-Id: <E59F5F7A-A290-48DB-88D8-F76E24A6979C@jaguNET.com>
References: <20150911135845.83435AC0184@hades.apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1441995569;
	bh=e65C+IJY37LxrjqwRLxSuJwEgSOfay2xvJXowzoRQwk=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=FANGbt1TIfa7Cyxre0u7j5M52sgm/z2z1CeVpuZwMPQs/3sousI6IlrorsvG8K2Ns
	 ZrtVjXhrmBUFjzy6CBEOGTGCGzI7rvQdUAs5Pmdsx2Vt/kWgegSITYZyXo5rXpzpDq
	 vxPs/QQdVohAFPRUMAIdH6oiyFFjEyyRlYj/XyBo5rkpezzYDWqNxDgelyhoFmd3pN
	 a2hif4u2amJAXUfQ11WfaHXzETmo46qRDgIFH4m+gOhZTTxvTJucMv4Su6UhRQR5Bm
	 yF6pEQUyXk7k/AoLJOl3/2PEWYTUGkPIlaHjLNb4/MvesXCsGLn2J3VkLjGt1sr55P
	 uUu2+sfkwlEyQ==

I find this kinda frivolous.

> On Sep 11, 2015, at 9:58 AM, ylavic@apache.org wrote:
>=20
> Author: ylavic
> Date: Fri Sep 11 13:58:44 2015
> New Revision: 1702473
>=20
> URL: http://svn.apache.org/r1702473
> Log:
> mod_slotmem_shm: follow up to r1702450.
> Rename ap_slotmem_instance_t's field 'name' to 'fname' since it really =
stores
> the file path/name of the file-based SHM.
>=20
> Modified:
>    httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c
>=20
> Modified: httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c
> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/slotmem/mod_slotmem=
_shm.c?rev=3D1702473&r1=3D1702472&r2=3D1702473&view=3Ddiff
> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
> --- httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c (original)
> +++ httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c Fri Sep 11 =
13:58:44 2015
> @@ -41,8 +41,8 @@ typedef struct {
> #define AP_UNSIGNEDINT_OFFSET (APR_ALIGN_DEFAULT(sizeof(unsigned =
int)))
>=20
> struct ap_slotmem_instance_t {
> -    char                 *name;       /* per segment name */
> -    char                 *pname;      /* persisted file name */
> +    char                 *fname;      /* file based SHM path/name */
> +    char                 *pname;      /* persisted file path/name */
>     int                  fbased;      /* filebased? */
>     void                 *shm;        /* ptr to memory segment =
(apr_shm_t *) */
>     void                 *base;       /* data set start */
> @@ -271,8 +271,8 @@ static apr_status_t cleanup_slotmem(void
>                 store_slotmem(next);
>             }
>             if (next->fbased) {
> -                apr_shm_remove(next->name, next->gpool);
> -                apr_file_remove(next->name, next->gpool);
> +                apr_shm_remove(next->fname, next->gpool);
> +                apr_file_remove(next->fname, next->gpool);
>             }
>             apr_shm_destroy((apr_shm_t *)next->shm);
>             next =3D next->next;
> @@ -336,7 +336,7 @@ static apr_status_t slotmem_create(ap_sl
>         /* first try to attach to existing slotmem */
>         if (next) {
>             for (;;) {
> -                if (strcmp(next->name, fname) =3D=3D 0) {
> +                if (strcmp(next->fname, fname) =3D=3D 0) {
>                     /* we already have it */
>                     *new =3D next;
>                     ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, =
ap_server_conf, APLOGNO(02603)
> @@ -435,7 +435,7 @@ static apr_status_t slotmem_create(ap_sl
>     /* For the chained slotmem stuff */
>     res =3D (ap_slotmem_instance_t *) apr_pcalloc(gpool,
>                                                 =
sizeof(ap_slotmem_instance_t));
> -    res->name =3D apr_pstrdup(gpool, fname);
> +    res->fname =3D apr_pstrdup(gpool, fname);
>     res->pname =3D apr_pstrdup(gpool, pname);
>     res->fbased =3D fbased;
>     res->shm =3D shm;
> @@ -487,7 +487,7 @@ static apr_status_t slotmem_attach(ap_sl
>     /* first try to attach to existing slotmem */
>     if (next) {
>         for (;;) {
> -            if (strcmp(next->name, fname) =3D=3D 0) {
> +            if (strcmp(next->fname, fname) =3D=3D 0) {
>                 /* we already have it */
>                 *new =3D next;
>                 *item_size =3D next->desc.size;
> @@ -519,7 +519,7 @@ static apr_status_t slotmem_attach(ap_sl
>     /* For the chained slotmem stuff */
>     res =3D (ap_slotmem_instance_t *) apr_pcalloc(gpool,
>                                                 =
sizeof(ap_slotmem_instance_t));
> -    res->name =3D apr_pstrdup(gpool, fname);
> +    res->fname =3D apr_pstrdup(gpool, fname);
>     res->fbased =3D 1;
>     res->shm =3D shm;
>     res->num_free =3D (unsigned int *)ptr;
> @@ -665,7 +665,7 @@ static apr_status_t slotmem_grab(ap_slot
>     if (i >=3D slot->desc.num) {
>         ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, ap_server_conf, =
APLOGNO(02293)
>                      "slotmem(%s) grab failed. Num %u/num_free %u",
> -                     slot->name, slotmem_num_slots(slot),
> +                     slot->fname, slotmem_num_slots(slot),
>                      slotmem_num_free_slots(slot));
>         return APR_EINVAL;
>     }
> @@ -686,7 +686,7 @@ static apr_status_t slotmem_fgrab(ap_slo
>     if (id >=3D slot->desc.num) {
>         ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, ap_server_conf, =
APLOGNO(02397)
>                      "slotmem(%s) fgrab failed. Num %u/num_free %u",
> -                     slot->name, slotmem_num_slots(slot),
> +                     slot->fname, slotmem_num_slots(slot),
>                      slotmem_num_free_slots(slot));
>         return APR_EINVAL;
>     }
> @@ -713,7 +713,7 @@ static apr_status_t slotmem_release(ap_s
>     if (id >=3D slot->desc.num || !inuse[id] ) {
>         ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, ap_server_conf, =
APLOGNO(02294)
>                      "slotmem(%s) release failed. Num %u/inuse[%u] =
%d",
> -                     slot->name, slotmem_num_slots(slot),
> +                     slot->fname, slotmem_num_slots(slot),
>                      id, (int)inuse[id]);
>         if (id >=3D slot->desc.num) {
>             return APR_EINVAL;
>=20
>=20


From dev-return-83768-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 11 19:35:14 2015
Return-Path: <dev-return-83768-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7C89C17315
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 11 Sep 2015 19:35:14 +0000 (UTC)
Received: (qmail 57843 invoked by uid 500); 11 Sep 2015 19:35:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57778 invoked by uid 500); 11 Sep 2015 19:35:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57768 invoked by uid 99); 11 Sep 2015 19:35:13 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2015 19:35:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id E75C01A1700
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 19:35:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.099
X-Spam-Level:
X-Spam-Status: No, score=-0.099 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id aIkOVDgefacX for <dev@httpd.apache.org>;
	Fri, 11 Sep 2015 19:35:05 +0000 (UTC)
Received: from mail-io0-f182.google.com (mail-io0-f182.google.com [209.85.223.182])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id E6A6B2304A
	for <dev@httpd.apache.org>; Fri, 11 Sep 2015 19:35:04 +0000 (UTC)
Received: by ioii196 with SMTP id i196so109687392ioi.3
        for <dev@httpd.apache.org>; Fri, 11 Sep 2015 12:35:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=47/rrN5jSo6oI7C+fdMjyRAgGoBIruHd3XkoHnEpgVg=;
        b=HKuihgMFFhAYVZYq8XoGih8JzK8gsp02iXWFJP5lztcQJubZcu9ye6UrS8X+Kajzc0
         bqAxsxhHPTUAzPa3BS1UUyweWIcypg6La/QHyJRp0SEOxSuEjhiBy3zbHGNizE15a7kD
         w/vUGmrKPwJx4HK2RhKBQ7+7m90rcTChYHszwR8Uo4RhOax9RCnruXaZISC33LRysHIx
         hM5U9R70Y15MLnLiD24L8cRM+sAGOYwakdHQbODPTDA53PMlmlsBBnFJmPT0dIsArrNj
         aR0ELZZxnpaNAr41ra299VmFa+yToVmYdWNXC4sXlIO8ZRnnFwoXt25XhrgRdmwRs5KF
         LYRg==
MIME-Version: 1.0
X-Received: by 10.107.160.194 with SMTP id j185mr6231485ioe.37.1442000104266;
 Fri, 11 Sep 2015 12:35:04 -0700 (PDT)
Received: by 10.79.38.74 with HTTP; Fri, 11 Sep 2015 12:35:04 -0700 (PDT)
In-Reply-To: <E59F5F7A-A290-48DB-88D8-F76E24A6979C@jaguNET.com>
References: <20150911135845.83435AC0184@hades.apache.org>
	<E59F5F7A-A290-48DB-88D8-F76E24A6979C@jaguNET.com>
Date: Fri, 11 Sep 2015 21:35:04 +0200
Message-ID: <CAKQ1sVMiErR5cmSQi0jiy0f1nUAH2MmpcaWPM3gpurEoQWmqCw@mail.gmail.com>
Subject: Re: svn commit: r1702473 - /httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Well, granted, it made sense to me to change the field name with the commen=
t...
I also thought about having both 'name' and 'fname' (the former for
logging only), so it's not like I overengineered either :)
But I can certainly revert (but the comment as suggested by R=C3=BCdiger),
or enough frivolity for today maybe?


On Fri, Sep 11, 2015 at 8:19 PM, Jim Jagielski <jim@jagunet.com> wrote:
> I find this kinda frivolous.
>
>> On Sep 11, 2015, at 9:58 AM, ylavic@apache.org wrote:
>>
>> Author: ylavic
>> Date: Fri Sep 11 13:58:44 2015
>> New Revision: 1702473
>>
>> URL: http://svn.apache.org/r1702473
>> Log:
>> mod_slotmem_shm: follow up to r1702450.
>> Rename ap_slotmem_instance_t's field 'name' to 'fname' since it really s=
tores
>> the file path/name of the file-based SHM.
>>
>> Modified:
>>    httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c
>>
>> Modified: httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c
>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/slotmem/mod_=
slotmem_shm.c?rev=3D1702473&r1=3D1702472&r2=3D1702473&view=3Ddiff
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D
>> --- httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c (original)
>> +++ httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c Fri Sep 11 13:58=
:44 2015
>> @@ -41,8 +41,8 @@ typedef struct {
>> #define AP_UNSIGNEDINT_OFFSET (APR_ALIGN_DEFAULT(sizeof(unsigned int)))
>>
>> struct ap_slotmem_instance_t {
>> -    char                 *name;       /* per segment name */
>> -    char                 *pname;      /* persisted file name */
>> +    char                 *fname;      /* file based SHM path/name */
>> +    char                 *pname;      /* persisted file path/name */
>>     int                  fbased;      /* filebased? */
>>     void                 *shm;        /* ptr to memory segment (apr_shm_=
t *) */
>>     void                 *base;       /* data set start */
>> @@ -271,8 +271,8 @@ static apr_status_t cleanup_slotmem(void
>>                 store_slotmem(next);
>>             }
>>             if (next->fbased) {
>> -                apr_shm_remove(next->name, next->gpool);
>> -                apr_file_remove(next->name, next->gpool);
>> +                apr_shm_remove(next->fname, next->gpool);
>> +                apr_file_remove(next->fname, next->gpool);
>>             }
>>             apr_shm_destroy((apr_shm_t *)next->shm);
>>             next =3D next->next;
>> @@ -336,7 +336,7 @@ static apr_status_t slotmem_create(ap_sl
>>         /* first try to attach to existing slotmem */
>>         if (next) {
>>             for (;;) {
>> -                if (strcmp(next->name, fname) =3D=3D 0) {
>> +                if (strcmp(next->fname, fname) =3D=3D 0) {
>>                     /* we already have it */
>>                     *new =3D next;
>>                     ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, ap_server_c=
onf, APLOGNO(02603)
>> @@ -435,7 +435,7 @@ static apr_status_t slotmem_create(ap_sl
>>     /* For the chained slotmem stuff */
>>     res =3D (ap_slotmem_instance_t *) apr_pcalloc(gpool,
>>                                                 sizeof(ap_slotmem_instan=
ce_t));
>> -    res->name =3D apr_pstrdup(gpool, fname);
>> +    res->fname =3D apr_pstrdup(gpool, fname);
>>     res->pname =3D apr_pstrdup(gpool, pname);
>>     res->fbased =3D fbased;
>>     res->shm =3D shm;
>> @@ -487,7 +487,7 @@ static apr_status_t slotmem_attach(ap_sl
>>     /* first try to attach to existing slotmem */
>>     if (next) {
>>         for (;;) {
>> -            if (strcmp(next->name, fname) =3D=3D 0) {
>> +            if (strcmp(next->fname, fname) =3D=3D 0) {
>>                 /* we already have it */
>>                 *new =3D next;
>>                 *item_size =3D next->desc.size;
>> @@ -519,7 +519,7 @@ static apr_status_t slotmem_attach(ap_sl
>>     /* For the chained slotmem stuff */
>>     res =3D (ap_slotmem_instance_t *) apr_pcalloc(gpool,
>>                                                 sizeof(ap_slotmem_instan=
ce_t));
>> -    res->name =3D apr_pstrdup(gpool, fname);
>> +    res->fname =3D apr_pstrdup(gpool, fname);
>>     res->fbased =3D 1;
>>     res->shm =3D shm;
>>     res->num_free =3D (unsigned int *)ptr;
>> @@ -665,7 +665,7 @@ static apr_status_t slotmem_grab(ap_slot
>>     if (i >=3D slot->desc.num) {
>>         ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, ap_server_conf, APLOGNO=
(02293)
>>                      "slotmem(%s) grab failed. Num %u/num_free %u",
>> -                     slot->name, slotmem_num_slots(slot),
>> +                     slot->fname, slotmem_num_slots(slot),
>>                      slotmem_num_free_slots(slot));
>>         return APR_EINVAL;
>>     }
>> @@ -686,7 +686,7 @@ static apr_status_t slotmem_fgrab(ap_slo
>>     if (id >=3D slot->desc.num) {
>>         ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, ap_server_conf, APLOGNO=
(02397)
>>                      "slotmem(%s) fgrab failed. Num %u/num_free %u",
>> -                     slot->name, slotmem_num_slots(slot),
>> +                     slot->fname, slotmem_num_slots(slot),
>>                      slotmem_num_free_slots(slot));
>>         return APR_EINVAL;
>>     }
>> @@ -713,7 +713,7 @@ static apr_status_t slotmem_release(ap_s
>>     if (id >=3D slot->desc.num || !inuse[id] ) {
>>         ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, ap_server_conf, APLOGNO=
(02294)
>>                      "slotmem(%s) release failed. Num %u/inuse[%u] %d",
>> -                     slot->name, slotmem_num_slots(slot),
>> +                     slot->fname, slotmem_num_slots(slot),
>>                      id, (int)inuse[id]);
>>         if (id >=3D slot->desc.num) {
>>             return APR_EINVAL;
>>
>>
>

From dev-return-83769-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Sep 12 05:57:30 2015
Return-Path: <dev-return-83769-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 55C9010487
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 12 Sep 2015 05:57:30 +0000 (UTC)
Received: (qmail 56611 invoked by uid 500); 12 Sep 2015 05:57:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56536 invoked by uid 500); 12 Sep 2015 05:57:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56526 invoked by uid 99); 12 Sep 2015 05:57:29 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Sep 2015 05:57:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 56DA1E7A60
	for <dev@httpd.apache.org>; Sat, 12 Sep 2015 05:57:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.34
X-Spam-Level: *
X-Spam-Status: No, score=1.34 tagged_above=-999 required=6.31
	tests=[HEADER_FROM_DIFFERENT_DOMAINS=0.249, SPF_HELO_PASS=-0.001,
	TRACKER_ID=1.102, T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id S1QwvfHURofb for <dev@httpd.apache.org>;
	Sat, 12 Sep 2015 05:57:25 +0000 (UTC)
Received: from plane.gmane.org (plane.gmane.org [80.91.229.3])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id E675A20758
	for <dev@httpd.apache.org>; Sat, 12 Sep 2015 05:57:23 +0000 (UTC)
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <apache-dev@m.gmane.org>)
	id 1ZadoJ-00074L-2I
	for dev@httpd.apache.org; Sat, 12 Sep 2015 07:57:15 +0200
Received: from aorleans-552-1-84-189.w92-140.abo.wanadoo.fr ([92.140.163.189])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Sat, 12 Sep 2015 07:57:15 +0200
Received: from christophe.jaillet by aorleans-552-1-84-189.w92-140.abo.wanadoo.fr with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Sat, 12 Sep 2015 07:57:15 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: dev@httpd.apache.org
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Subject: AuthDigestEnableQueryStringHack
Date: Sat, 12 Sep 2015 07:57:08 +0200
Lines: 11
Message-ID: <mt0erm$sdr$1@ger.gmane.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: aorleans-552-1-84-189.w92-140.abo.wanadoo.fr
X-Mozilla-News-Host: news://news.gmane.org:119
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
X-Antivirus: avast! (VPS 150911-9, 11/09/2015), Outbound message
X-Antivirus-Status: Clean

Hi,

should we axe, in mod_auth_digest, on trunk, the code related to 
'AuthDigestEnableQueryStringHack'?

This has been undocumented for about 3 years 
(http://svn.apache.org/viewvc?diff_format=h&view=revision&revision=1415960)
Support for dead browser has also already been removed on trunk in the 
past (svn.apache.org/viewvc?diff_format=h&view=revision&revision=1427465)

CJ


From dev-return-83770-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Sep 13 07:15:16 2015
Return-Path: <dev-return-83770-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8DDF7181A1
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 13 Sep 2015 07:15:16 +0000 (UTC)
Received: (qmail 30562 invoked by uid 500); 13 Sep 2015 07:15:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 30484 invoked by uid 500); 13 Sep 2015 07:15:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 30448 invoked by uid 99); 13 Sep 2015 07:15:15 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Sep 2015 07:15:15 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id B0DC21A022F
	for <dev@httpd.apache.org>; Sun, 13 Sep 2015 07:15:14 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id 19CAE60155; Sun, 13 Sep 2015 07:15:14 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2015/09/13]
Message-Id: <20150913071514.19CAE60155@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 13 Sep 2015 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 7483|Ass|Enh|2002-03-26|Add FileAction directive to assign a cgi interpret|
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|12680|New|Enh|2002-09-16|Digest authentication with integrity protection   |
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|18497|New|Min|2003-03-30|configure --help gives wrong default for sysconfdi|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21253|New|Nor|2003-07-01|Mime magic doesn't continue if type is specifed fo|
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22138|Inf|Cri|2003-08-05|Webdav is not preccessing special chars right.    |
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24437|Opn|Nor|2003-11-05|mod_auth_ldap doubly-escapes backslash (\) charact|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Enh|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42001|New|Cri|2007-03-30|LINUX : Could not set LDAP_OPT_X_TLS to LDAP_OPT_X|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Opn|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|httpd fails to start if log directory does not exi|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43532|Inf|Cri|2007-10-02|Error while compiling Apache 2.2.3 on HPUX        |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|Opn|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45926|Inf|Nor|2008-10-01|Unable to start apache 2.2.9                      |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46054|New|Nor|2008-10-21|Running httpd returns the error "bad user name nob|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Nor|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46724|Inf|Cri|2009-02-17|WinXP SP3 - Apache crashes on startup in libapr-1.|
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47241|New|Min|2009-05-22|Error in rewriting with character ':'             |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47289|New|Nor|2009-05-30|Can't build with dynamic libraries on Mac OS 10.4 |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|Inf|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48309|New|Maj|2009-11-30|libapreq2-2.12: "make test" fails at request.t and|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|New|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Blk|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51842|New|Enh|2011-09-18|Suggesting a new action for the Header directive: |
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Enh|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52756|Inf|Trv|2012-02-24|proxy_html_module LoadModule line not created in h|
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53121|New|Nor|2012-04-22|Confusing documentation, gzip and deflate         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name　(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|53999|Opn|Nor|2012-10-13|Deadlock between procmgr_send_spawn_cmd()/proctabl|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54364|New|Nor|2012-12-31|Add ref to mod_fcgid docs                         |
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|54998|Ver|Nor|2013-05-21|Apache 2.4 terminates all SSL connections using an|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55147|New|Nor|2013-06-26|"Header always" w/ cache different in 2.4         |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55449|New|Maj|2013-08-19|AH01185: worker slotmem_create failed --> slotmem |
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55808|New|Nor|2013-11-21|File integrity verification using MD5 and SHA1    |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|New|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55841|New|Nor|2013-12-04|Misleading news items on bugfix releases ("This ve|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55897|New|Nor|2013-12-17|[PATCH]patch with SO_REUSEPORT support            |
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|New|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56040|New|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56226|Ver|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56687|New|Nor|2014-07-01|ProxySourceAddress failed to bind socket to local |
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|Inf|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56898|New|Nor|2014-08-28|Headers in err_headers_out are not returned when a|
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57100|Ver|Nor|2014-10-16|"SSLProtocol ALL" is ignored for virtual hosts    |
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57109|New|Nor|2014-10-17|GPG verification examples are wrong               |
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57120|New|Nor|2014-10-21|Disable SSLv3 by default (POODLE)                 |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|Ver|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57374|Ver|Nor|2014-12-19|Event MPM: Wrong KeepAliveTimeout when system cloc|
|57375|New|Enh|2014-12-19|Support LibreSSL as an alternative toolkit for mod|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Nor|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|New|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57795|Opn|Maj|2015-04-07|mod_proxy_wstunnel sometimes does not connect and |
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|Inf|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
|57868|New|Nor|2015-04-28|SIGSEV when lacking correct DB access permissions |
|57876|New|Reg|2015-04-30|logresolve.exe on any Windows immediately crashes |
|57878|New|Nor|2015-04-30|Using UTF-8 for all languages, and avoiding html-e|
|57895|New|Min|2015-05-05|missing m4a mimeType in mime.types                |
|57911|New|Min|2015-05-09|Rewrite documentation unclear or wrong about what |
|57927|New|Maj|2015-05-13|Segmentation Fault at proxy_util.c:994            |
|57933|New|Min|2015-05-18|apr_port_t returns constant                       |
|57941|New|Nor|2015-05-21|config.status: line 331: syntax error near unexpec|
|57949|New|Enh|2015-05-25|new mod_ssl environment variable SSL_{CLIENT|SERVE|
|57950|New|Nor|2015-05-26|[patch] buildconf change hint in build to newer ap|
|57960|New|Nor|2015-05-27|PUT truncates response body; status_line appears t|
|57976|New|Cri|2015-05-30|Server threads stale when sending 500 status with |
|57978|New|Nor|2015-06-01|unix:/ works with any number of / slashes  except |
|57979|New|Nor|2015-06-01|can not turn change log level for mod_filter      |
|57996|New|Nor|2015-06-03|Symlinks erroneously not followed when target inod|
|57997|New|Nor|2015-06-03|Threads started during child_init don't block sign|
|57999|New|Nor|2015-06-04|ap_getparents() may remove start slash of uri     |
|58001|New|Enh|2015-06-04|Implement Forwarded header (RFC 7239) to mod_proxy|
|58007|New|Nor|2015-06-06|400 Bad Request with fully qualified domain name o|
|58020|New|Nor|2015-06-11|When user authenticates with certificate which has|
|58024|New|Nor|2015-06-11|(Graceful) Restart does not work after adding a Ba|
|58025|New|Enh|2015-06-11|mod_authz_dbd : new dbd-query and AuthzDBDQuery op|
|58026|New|Nor|2015-06-11|return 421 status code when SNI and Host: header d|
|58044|New|Cri|2015-06-16|Error sintax 'lua_dump'                           |
|58050|New|Nor|2015-06-17|ErrorDocument does not always work                |
|58073|New|Nor|2015-06-24|Extremely long time for graceful restart          |
|58089|New|Nor|2015-07-01|mod_authz_host uses proxy IP even when mod_remotei|
|58091|New|Nor|2015-07-02|mod_socache_memcache does not reuse memcache conne|
|58097|New|Enh|2015-07-03|[feat] Preserve original connecting IP            |
|58101|New|Nor|2015-07-05|DeflateCompressionLevel inside vhost resets logfor|
|58107|New|Blk|2015-07-06|Httpd crashes on startup every time, dump file att|
|58109|New|Nor|2015-07-06|Apache on windows cannot handle the hash symbol (#|
|58118|Inf|Min|2015-07-09|mod_proxy_fcgi logs 503 when user aborts connectio|
|58120|New|Nor|2015-07-10|ProxyPassInherit does not work as expect          |
|58121|New|Nor|2015-07-10|ProxyHTMLMeta seems to ignore all <meta http-equiv|
|58126|New|Nor|2015-07-11|[patch] acinclude.m4 fix "warning: underquoted def|
|58129|New|Nor|2015-07-12|man pages are not generated correctly             |
|58132|New|Nor|2015-07-12|non-standard, non-traditional man page layout make|
|58135|New|Nor|2015-07-14|mod_cache sends client "if-Modified-Since" to back|
|58141|New|Nor|2015-07-15|Apache Service doesn't start when rotatlogs.exe pa|
|58142|New|Nor|2015-07-15|authz_core ignores loglevel                       |
|58158|New|Nor|2015-07-21|Not honoring HTTP spec with regard to Accept-Encod|
|58168|New|Enh|2015-07-21|Would like full request evaluation support in Rewr|
|58171|New|Nor|2015-07-22|ap_session_save saves the wrong session after a de|
|58177|New|Enh|2015-07-24|Mod Proxy forward trailers in http chunked request|
|58180|New|Enh|2015-07-24|ErrorDocument original URL in subsequent <Location|
|58181|New|Enh|2015-07-25|mod_expire should allow "minus" keyword same like |
|58188|New|Nor|2015-07-28|http2 mod_lua: support build with lua 5.2+        |
|58197|New|Nor|2015-07-31|apr-util-1.5.4 build against openldap - "could not|
|58202|New|Enh|2015-07-31|apxs -q += HTTPD_MAJOR , HTTPD_MMN variables      |
|58213|New|Nor|2015-08-05|Can't use SUITEB128 etc. OpenSSL cipher strings wi|
|58225|New|Reg|2015-08-08|intermitant segfault 11 in session_identity_encode|
|58226|New|Nor|2015-08-08|XSS in Error Page                                 |
|58231|New|Nor|2015-08-11|RewriteCond can add "Host" to the Vary-Header     |
|58235|New|Enh|2015-08-12|Ability to allow from domain but with using forwar|
|58243|New|Nor|2015-08-14|rotatelogs goes infinite at startup               |
|58248|New|Nor|2015-08-17|Error 404 in use some characters of utf8 in url   |
|58257|New|Nor|2015-08-18|require ldap-group does not work if account-fullna|
|58278|New|Nor|2015-08-24|apache - mod_security Issue : apache no releasing |
|58280|New|Nor|2015-08-24|Backend connection not closed until timeout if cli|
|58288|New|Nor|2015-08-27|Semaphore amount increase until crash when enablin|
|58292|New|Nor|2015-08-27|FallbackResource breaks chunked encoding sometimes|
|58304|New|Nor|2015-08-30|Unexpected Warnings from Macro Use in 2.4         |
|58305|New|Nor|2015-08-30|mod_cgi documentation not clear about what is pass|
|58306|New|Nor|2015-08-30|documentation needs to make it clear which directi|
|58307|New|Nor|2015-08-31|Segmentation fault in child in "read(__nbytes, __b|
|58317|New|Min|2015-09-02|Error message AH01630 is missing file name on deny|
|58334|New|Min|2015-09-06|WebDAV HTTP access does not include meta tag for c|
|58335|New|Nor|2015-09-07|mod_authnz_ldap mismatch                          |
|58343|New|Nor|2015-09-08|The pdf files come up as a blank page.            |
|58349|New|Nor|2015-09-09|Support OPENSSL_NO_SSL3 builds                    |
|58354|New|Maj|2015-09-10|(20014)Internal error (specific information not av|
|58356|New|Blk|2015-09-10|Session jumping due to incorrect route            |
|58364|New|Reg|2015-09-11|Apache Server is restarted time to time (Release 2|
+-----+---+---+----------+--------------------------------------------------+
| Total 1544 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-83771-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 14 09:28:38 2015
Return-Path: <dev-return-83771-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 30C9D1843C
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Sep 2015 09:28:38 +0000 (UTC)
Received: (qmail 32505 invoked by uid 500); 14 Sep 2015 09:28:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32410 invoked by uid 500); 14 Sep 2015 09:28:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32400 invoked by uid 99); 14 Sep 2015 09:28:21 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2015 09:28:21 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 5212718098C
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 09:28:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id lLYtpbQd7KXN for <dev@httpd.apache.org>;
	Mon, 14 Sep 2015 09:28:17 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 4E90B2162A
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 09:28:17 +0000 (UTC)
Received: from [10.105.13.183] (unknown [5.56.169.82])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 1782982CE3
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 10:28:09 +0100 (BST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: AuthDigestEnableQueryStringHack
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <mt0erm$sdr$1@ger.gmane.org>
Date: Mon, 14 Sep 2015 11:28:07 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <FBBD088E-3203-4750-B70E-8AB0DB42D084@sharp.fm>
References: <mt0erm$sdr$1@ger.gmane.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 12 Sep 2015, at 7:57 AM, Christophe JAILLET =
<christophe.jaillet@wanadoo.fr> wrote:

> should we axe, in mod_auth_digest, on trunk, the code related to =
'AuthDigestEnableQueryStringHack'?
>=20
> This has been undocumented for about 3 years =
(http://svn.apache.org/viewvc?diff_format=3Dh&view=3Drevision&revision=3D1=
415960)
> Support for dead browser has also already been removed on trunk in the =
past =
(svn.apache.org/viewvc?diff_format=3Dh&view=3Drevision&revision=3D1427465)=


+1.

If the docs were removed then the code should have been removed too.

Regards,
Graham
=E2=80=94


From dev-return-83772-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 14 13:39:16 2015
Return-Path: <dev-return-83772-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5DEB318E51
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Sep 2015 13:39:16 +0000 (UTC)
Received: (qmail 57042 invoked by uid 500); 14 Sep 2015 13:39:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56955 invoked by uid 500); 14 Sep 2015 13:39:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56945 invoked by uid 99); 14 Sep 2015 13:39:15 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2015 13:39:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 7F2E118099F
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 13:39:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.007
X-Spam-Level:
X-Spam-Status: No, score=-0.007 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id xf2TDHGIFp_6 for <dev@httpd.apache.org>;
	Mon, 14 Sep 2015 13:39:14 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 4F4FB20F1E
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 13:39:13 +0000 (UTC)
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id BF75C15A347E
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 15:39:12 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Subject: warning free, c89 enforced
Message-Id: <656E1975-5696-4AA4-B66B-3A2FC2FE63FB@greenbytes.de>
Date: Mon, 14 Sep 2015 15:39:12 +0200
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
X-Mailer: Apple Mail (2.2104)

With r1702948, all sorts of warnings are enabled on compilation of httpd =
itself when using GCC, especially the C89 standard is being checked. All =
warning lead now to compiler errors.

There have been only slight changes in code necessary. The static =
introduced via APLOG_USE_MODULE is being treated special. If you have =
declarations that make sense to sometime being unused, please check the =
new macro AP_MAYBE_USELESS in httpd_config.h

For the initially proposed patch, which required several files to be =
changed, Jim wanted split patches. With the current limited set, I =
committed these as one, last but not least since enabling the warnings =
without the code changes do not work.

I hope this works as well for you. I checked on OS X and Ubuntu. The =
macro definition uses a GCC feature that exists since 2.95.x. For non =
gcc compilers or LCLINT, it falls back to doing nothing. Which should be =
fine for old platforms.

Feedback appreciated,

  Stefan

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83773-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 14 13:45:20 2015
Return-Path: <dev-return-83773-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6DE2A18E63
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Sep 2015 13:45:20 +0000 (UTC)
Received: (qmail 67493 invoked by uid 500); 14 Sep 2015 13:45:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67425 invoked by uid 500); 14 Sep 2015 13:45:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67415 invoked by uid 99); 14 Sep 2015 13:45:16 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2015 13:45:16 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 7CD721A196E
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 13:45:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id GQDD70PdPdqS for <dev@httpd.apache.org>;
	Mon, 14 Sep 2015 13:45:08 +0000 (UTC)
Received: from mail-qg0-f48.google.com (mail-qg0-f48.google.com [209.85.192.48])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id AFA9E207EA
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 13:45:07 +0000 (UTC)
Received: by qgez77 with SMTP id z77so115225402qge.1
        for <dev@httpd.apache.org>; Mon, 14 Sep 2015 06:45:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=84QA5bUh/qplz6vf/YQKoj1gtn0loVqXChkrjrGEcvg=;
        b=rV5+eO52PCThWXP6KiZxT0cIbLOCZbij8Bx+K4+WKy9mjCqQqO+X6gTPFVLre4BpNR
         nA4R0kX9+deZbVrNEYidNJdOsxjZz9EOFyorRM0tFKvjUgfBBRXK8bi6Ohog2ilTcHhE
         GMh7qRAYBSQ5+3fv8OH18YMcNbz9E0TSm18n4BGX41Qysoaylwcl42Fa3NNO81vfUXeZ
         RmsGlu8293nDZr90mu/CGc6yNwnbcOLenxFQJxg6nYvHclNf05lzs+aF7IIs9CZIu7V4
         oceL3TkHUa4VpaIxuR2bEl3hS5xTxa++SOZRGX60987G/eAUYxH2Sp+PcBHp/VZDnVER
         sLNA==
MIME-Version: 1.0
X-Received: by 10.140.19.227 with SMTP id 90mr21565741qgh.51.1442238306718;
 Mon, 14 Sep 2015 06:45:06 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Mon, 14 Sep 2015 06:45:06 -0700 (PDT)
In-Reply-To: <CACsi250tSuB++4wGD0pfdNBVxMHvQnGyNPn+5-S-HNU178VTYw@mail.gmail.com>
References: <CAKQ1sVMtQs1+6wuBL50AanrVEVQ5qtzqHc0yiuDUznGUF+VJ7Q@mail.gmail.com>
	<77B7897B-7381-4FAB-94CA-39F8B1FA8EA4@jaguNET.com>
	<CAKQ1sVM6ZA0wOu8fZGMAbYt4SEXoATNuKsXecfyRxvweHcu3sg@mail.gmail.com>
	<CACsi250tSuB++4wGD0pfdNBVxMHvQnGyNPn+5-S-HNU178VTYw@mail.gmail.com>
Date: Mon, 14 Sep 2015 15:45:06 +0200
Message-ID: <CAKQ1sVOXvSHX9FQhSvSocwJwiAH4e1bKcjjWCfMgxB3esY_r3w@mail.gmail.com>
Subject: Re: Balancers (file based SHMs) and restart issue (Windows only?)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

PR 58024 looks hard(er) to resolve (details there)...

It seems that DeleteFile() always fails when some file mapping exists
on the file, which also prevents "deletion when the last handle to the
file is closed".
So currently (mod_slotmem_shm on trunk), the SHM files by generation
leak on the filesystem since they are never removed (successfully).

The only thing I can think of now is to use FILE_FLAG_DELETE_ON_CLOSE
flagged files, but it's not available for SHM files in APR, so we'd
have to cook our own slotmem_shm_create() (a wrapper with Windows
specific code) which would apr_os_shm_put() a native SHM from a
apr_file_open(..., APR_FOPEN_DELONCLOSE) file.

Any better idea?

On Wed, Sep 9, 2015 at 6:08 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
> That looks like a good solution.  FWIW, ap_mpm_query(AP_MPMQ_IS_FORKED...
> would be another way to express whether we need the config_gen.
>
> On Tue, Sep 8, 2015 at 11:33 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>> I didn't reproduce it myself (no Windows machine), but the scenario
>> and traces in PR 58024 show what happens quite clearly.
>>
>> On (graceful) restart, if one or more children remain when pconf is
>> cleared (SHMs are destroyed), apr_file_remove() fails (open file =>
>> ERROR_ACCESS_DENIED until all the HANDLEs to the file are closed,
>> whereafter the file is removed from the filesystem).
>> Since the files exist, the next slotmem_create() will attach (and not
>> recreate) them, which fails when some balancers/members are added
>> (size check).
>>
>> I agree this does not concern Unixes (which use a different inode for
>> each new file, be there an opened fd on the previous inode's -same-
>> filename or not).
>>
>> So the fix could be quite simple, like:
>>
>> Index: modules/slotmem/mod_slotmem_shm.c
>> ===================================================================
>> --- modules/slotmem/mod_slotmem_shm.c    (revision 1701559)
>> +++ modules/slotmem/mod_slotmem_shm.c    (working copy)
>> @@ -103,10 +103,29 @@ static const char *slotmem_filename(apr_pool_t *po
>>          return NULL;
>>      }
>>      else if (slotmemname[0] != '/') {
>> -        const char *filenm = apr_pstrcat(pool, DEFAULT_SLOTMEM_PREFIX,
>> -                                         slotmemname,
>> DEFAULT_SLOTMEM_SUFFIX,
>> -                                         NULL);
>> -        fname = ap_runtime_dir_relative(pool, filenm);
>> +        fname = slotmemname;
>> +#ifdef WIN32
>> +        /* On Windows, apr_file_remove() (i.e. DeleFile()) marks the file
>> for
>> +         * deletion on close, hence not before the last HANDLE to it is
>> closed.
>> +         * Thus on graceful restart (the only restart mode with
>> mpm_winnt), the
>> +         * old file may still exist until all the children stop, while we
>> ought
>> +         * to create a new one for our new clear SHM.  Therefore, we
>> would only
>> +         * be able to reuse (attach) the old SHM, preventing some changes
>> to
>> +         * the config file, like the number of balancers/members, since
>> the
>> +         * size check (to fit the new config) would fail.  Let's avoid
>> this by
>> +         * including the generation number in the SHM filename (obviously
>> not
>> +         * the persisted name!), which pretty much acts like files on
>> Unixes
>> +         * where the OS maintains inodes which can be unlink()ed while
>> opened,
>> +         * when new files with the same name will reference a new inode.
>> +         */
>> +        if (!persist) {
>> +            fname = apr_psprintf(pool, "%s_%x", fname,
>> +                                 ap_state_query(AP_SQ_CONFIG_GEN));
>> +        }
>> +#endif
>> +        fname = apr_pstrcat(pool, DEFAULT_SLOTMEM_PREFIX, fname,
>> +                            DEFAULT_SLOTMEM_SUFFIX, NULL);
>> +        fname = ap_runtime_dir_relative(pool, fname);
>>      }
>>      else {
>>          fname = slotmemname;
>> --
>>
>> If this is OK, I'll link it to PR 58024 for the OP to give it a chance
>> (since I can't myself)...
>> WDYT?
>>
>>
>> On Fri, Sep 4, 2015 at 1:01 PM, Jim Jagielski <jim@jagunet.com> wrote:
>> > Instead of changing the default for all OSs, sounds like
>> > some Windows specific changes may need to be done. Has anyone
>> > using Windows actually seen this or confirmed this is
>> > possible??
>> >
>> >> On Sep 2, 2015, at 5:08 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> >>
>> >> Re PR 58024.
>> >>
>> >> AIUI, balancers (and members) SHM slots are destroyed (and the
>> >> underlying base file removed) with pconf before restarting and then
>> >> re-created after (according to the new configuration, eg. number of
>> >> balancers/members, be it the same or not).
>> >> Persisted slots are saved in their own file (with the .persit suffix),
>> >> and reused (copied) only if the configuration did not change in
>> >> between.
>> >> (@Jim, I see now how this is better than attaching ;)
>> >>
>> >> This works well on Unixes, but on Windows files can't be removed
>> >> (unlinked) while any process/thread hold an HANDLE on it, hence until
>> >> all the children have exited...
>> >> Thus, since the SHM files still exist on restart, the balancer code
>> >> tries to attach them instead of re-creating, and issues the checks on
>> >> the existing size to fit the reloaded configuration, and fail should
>> >> should any balancer/member be added or removed => PR 58024.
>> >>
>> >> BTW, even on Unixes there is a race on these files between the main
>> >> process and the children, or the children themselves from different
>> >> "generation".
>> >>
>> >> So I wonder if we could use anonymous SHMs instead (or mktemp based
>> >> when not native), persisted slots are saved in their own files anyway
>> >> and won't be affected.
>> >> Otherwise, maybe we could use the "generation" as part of the file
>> >> name, but that's equivalent and more complex IMO.
>> >>
>> >> Thoughts?
>> >
>
>

From dev-return-83774-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 14 13:52:23 2015
Return-Path: <dev-return-83774-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E40C218E92
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Sep 2015 13:52:22 +0000 (UTC)
Received: (qmail 80786 invoked by uid 500); 14 Sep 2015 13:52:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 80717 invoked by uid 500); 14 Sep 2015 13:52:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 80707 invoked by uid 99); 14 Sep 2015 13:52:22 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2015 13:52:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D253818034F
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 13:52:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id G6DPLS_dycXM for <dev@httpd.apache.org>;
	Mon, 14 Sep 2015 13:52:15 +0000 (UTC)
Received: from mail-qg0-f49.google.com (mail-qg0-f49.google.com [209.85.192.49])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 431284414C
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 13:52:15 +0000 (UTC)
Received: by qgx61 with SMTP id 61so115083477qgx.3
        for <dev@httpd.apache.org>; Mon, 14 Sep 2015 06:52:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=/jFzG/SmNLOcEpIY28wRFrPuCQxL1lFA0IPBT51M00o=;
        b=fDdj761b9N3Ro8zEFgUdT9tJDhR/a0wVUcvB+qJoO9xhWs4Rpe6eq0Xb1eNLibtKxy
         VJSWl37zMKeIg2Zln6qqQrYyYt/rXnUsMUTunWlnc+p7ocynreY5WMMLtyJ7LhlDprz4
         ZVn0FHTrpHKVSVQXYT3Q+r125dKTJw54avn3XS+5GtLNmpiCZr9qvuRr0xtePbo50/Mi
         e41M4Bh6dSIRg0ZaFGpgZUf+BQ5DUwM2i3VvpwoPJ/C/Hlvybzo2ngqon2kSEIvNYv/A
         KMdfQEPqI1s6weyfCqShCxwcsFTQ17jg020JWKtj8lUP/iXW1CdCGkkHTEA422LCr2v9
         AiUw==
MIME-Version: 1.0
X-Received: by 10.141.23.9 with SMTP id z9mr9743634qhd.24.1442238728933; Mon,
 14 Sep 2015 06:52:08 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Mon, 14 Sep 2015 06:52:08 -0700 (PDT)
In-Reply-To: <20150914132936.75E67AC0098@hades.apache.org>
References: <20150914132936.75E67AC0098@hades.apache.org>
Date: Mon, 14 Sep 2015 15:52:08 +0200
Message-ID: <CAKQ1sVNRBCUgdt=1PXQwfDvmQRLhy4Esn4-ejakfXSA6SFS9Fg@mail.gmail.com>
Subject: Re: svn commit: r1702948 - in /httpd/httpd/trunk: acinclude.m4
 configure.in include/http_config.h include/scoreboard.h modules/ssl/ssl_engine_kernel.c
 server/util_expr_eval.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Mon, Sep 14, 2015 at 3:29 PM,  <icing@apache.org> wrote:
> Author: icing
> Date: Mon Sep 14 13:29:35 2015
> New Revision: 1702948
>
> URL: http://svn.apache.org/r1702948
> Log:
> httpd compiles warning free on gcc and every new warning will be treated =
as an error, standard c-89 is enforced
>
> Modified:
[]
>     httpd/httpd/trunk/server/util_expr_eval.c
>
[]
> Modified: httpd/httpd/trunk/server/util_expr_eval.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/server/util_expr_eval=
.c?rev=3D1702948&r1=3D1702947&r2=3D1702948&view=3Ddiff
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D
> --- httpd/httpd/trunk/server/util_expr_eval.c (original)
> +++ httpd/httpd/trunk/server/util_expr_eval.c Mon Sep 14 13:29:35 2015
> @@ -98,7 +98,7 @@ static const char *ap_expr_eval_word(ap_
>      case op_String:
>          result =3D node->node_arg1;
>          break;
> -    case op_Var:
> +

This "case" removal looks incorrect (already mentionned by R=C3=BCdiger, II=
RC).

>          result =3D ap_expr_eval_var(ctx, (ap_expr_var_func_t *)node->nod=
e_arg1,
>                                    node->node_arg2);
>          break;

Regards,
Yann.

From dev-return-83775-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 14 13:58:13 2015
Return-Path: <dev-return-83775-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F2AEA18EC6
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Sep 2015 13:58:12 +0000 (UTC)
Received: (qmail 95222 invoked by uid 500); 14 Sep 2015 13:58:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 95156 invoked by uid 500); 14 Sep 2015 13:58:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 95146 invoked by uid 99); 14 Sep 2015 13:58:09 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2015 13:58:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 17B9B1A19D9
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 13:58:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id HQq5WES9WGni for <dev@httpd.apache.org>;
	Mon, 14 Sep 2015 13:58:01 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 49B4742B36
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 13:58:01 +0000 (UTC)
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 80C5115A05C4
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 15:57:54 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1702948 - in /httpd/httpd/trunk: acinclude.m4 configure.in include/http_config.h include/scoreboard.h modules/ssl/ssl_engine_kernel.c server/util_expr_eval.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVNRBCUgdt=1PXQwfDvmQRLhy4Esn4-ejakfXSA6SFS9Fg@mail.gmail.com>
Date: Mon, 14 Sep 2015 15:57:54 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <18DFBED2-66DC-4694-916A-BA9C3595011E@greenbytes.de>
References: <20150914132936.75E67AC0098@hades.apache.org> <CAKQ1sVNRBCUgdt=1PXQwfDvmQRLhy4Esn4-ejakfXSA6SFS9Fg@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)


> Am 14.09.2015 um 15:52 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Mon, Sep 14, 2015 at 3:29 PM,  <icing@apache.org> wrote:
>> --- httpd/httpd/trunk/server/util_expr_eval.c (original)
>> +++ httpd/httpd/trunk/server/util_expr_eval.c Mon Sep 14 13:29:35 =
2015
>> @@ -98,7 +98,7 @@ static const char *ap_expr_eval_word(ap_
>>     case op_String:
>>         result =3D node->node_arg1;
>>         break;
>> -    case op_Var:
>> +
>=20
> This "case" removal looks incorrect (already mentionned by R=C3=BCdiger,=
 IIRC).

Sorry, my bad. Reverted in r1702954.

>>         result =3D ap_expr_eval_var(ctx, (ap_expr_var_func_t =
*)node->node_arg1,
>>                                   node->node_arg2);
>>         break;
>=20
> Regards,
> Yann.

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83776-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 14 14:07:44 2015
Return-Path: <dev-return-83776-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5743B18F45
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Sep 2015 14:07:44 +0000 (UTC)
Received: (qmail 33125 invoked by uid 500); 14 Sep 2015 14:07:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 33045 invoked by uid 500); 14 Sep 2015 14:07:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 33035 invoked by uid 99); 14 Sep 2015 14:07:32 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2015 14:07:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 2D72FF229C
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 14:07:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id fCuDiXegJktV for <dev@httpd.apache.org>;
	Mon, 14 Sep 2015 14:07:31 +0000 (UTC)
Received: from mail-io0-f179.google.com (mail-io0-f179.google.com [209.85.223.179])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id DB01527D60
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 14:07:30 +0000 (UTC)
Received: by ioiz6 with SMTP id z6so166149004ioi.2
        for <dev@httpd.apache.org>; Mon, 14 Sep 2015 07:07:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=RLbzNZAWzO2emTWBmkeI/+7ucGAbwedn39FvgKPaZUs=;
        b=uSBrWDvlmuAghhFQPa+BlaW+W7PuNcs4iZQdcKd0Gho+V2SuMmGQVaUxDiQrMDdeoq
         6AlIR7hvyyzGC3M/GU2wzWyuQ8hijwEISUkNCPdd59e77kr5MIPmV02ybHfrEVBubeOS
         Ye2ITq/9Iv84MMuAPWaaBmXHHzfQn+3G++OQ0XvZSiuvFFsBM5ITugAOnU0P4Ukwsu+Y
         p7uns5O4yTE0ktfGMGpUXlwfmvW+9KfqeEApaVivPSGWzvxbl7wMrMwAjsD3A4sflDqr
         yjePLmkupYwR6RPOFGhkWc4V0T12l5j44v0pJ5ZGwTNFge42tvZYv4CQhx/d0W43O4iF
         1mxg==
MIME-Version: 1.0
X-Received: by 10.107.160.143 with SMTP id j137mr25145366ioe.13.1442239649869;
 Mon, 14 Sep 2015 07:07:29 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Mon, 14 Sep 2015 07:07:29 -0700 (PDT)
In-Reply-To: <CAKQ1sVOXvSHX9FQhSvSocwJwiAH4e1bKcjjWCfMgxB3esY_r3w@mail.gmail.com>
References: <CAKQ1sVMtQs1+6wuBL50AanrVEVQ5qtzqHc0yiuDUznGUF+VJ7Q@mail.gmail.com>
	<77B7897B-7381-4FAB-94CA-39F8B1FA8EA4@jaguNET.com>
	<CAKQ1sVM6ZA0wOu8fZGMAbYt4SEXoATNuKsXecfyRxvweHcu3sg@mail.gmail.com>
	<CACsi250tSuB++4wGD0pfdNBVxMHvQnGyNPn+5-S-HNU178VTYw@mail.gmail.com>
	<CAKQ1sVOXvSHX9FQhSvSocwJwiAH4e1bKcjjWCfMgxB3esY_r3w@mail.gmail.com>
Date: Mon, 14 Sep 2015 10:07:29 -0400
Message-ID: <CALK=YjN886qR2p2DUzCBe9T0Gbfki2mHnJ=uooWWt9yM0NUdbw@mail.gmail.com>
Subject: Re: Balancers (file based SHMs) and restart issue (Windows only?)
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Mon, Sep 14, 2015 at 9:45 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> PR 58024 looks hard(er) to resolve (details there)...
>
> It seems that DeleteFile() always fails when some file mapping exists
> on the file, which also prevents "deletion when the last handle to the
> file is closed".
> So currently (mod_slotmem_shm on trunk), the SHM files by generation
> leak on the filesystem since they are never removed (successfully).
>
> The only thing I can think of now is to use FILE_FLAG_DELETE_ON_CLOSE
> flagged files, but it's not available for SHM files in APR, so we'd
> have to cook our own slotmem_shm_create() (a wrapper with Windows
> specific code) which would apr_os_shm_put() a native SHM from a
> apr_file_open(..., APR_FOPEN_DELONCLOSE) file.
>
> Any better idea?

No better ideas, but for this same reason mod_disk_cache is quite
busted on Windows -- w/ and w/o lock files turned on.

From dev-return-83777-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 14 14:16:00 2015
Return-Path: <dev-return-83777-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2512118F88
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Sep 2015 14:16:00 +0000 (UTC)
Received: (qmail 50698 invoked by uid 500); 14 Sep 2015 14:15:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50635 invoked by uid 500); 14 Sep 2015 14:15:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50624 invoked by uid 99); 14 Sep 2015 14:15:43 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2015 14:15:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 4A367C0427
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 14:15:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id ahFBNy8DoCw9 for <dev@httpd.apache.org>;
	Mon, 14 Sep 2015 14:15:42 +0000 (UTC)
Received: from mail-qg0-f52.google.com (mail-qg0-f52.google.com [209.85.192.52])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 6F096207EA
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 14:15:42 +0000 (UTC)
Received: by qgx61 with SMTP id 61so115787702qgx.3
        for <dev@httpd.apache.org>; Mon, 14 Sep 2015 07:15:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=WrtjNi5cB02JgnmIl4BkkePVYeOvPf7iQsQlbjfVf2c=;
        b=WnMMS5aRMWYH19RswZnf4zsEqrW0TJx4e3Vfac8o6wSG1EOXuW/tpwnmxpw/J9xsbD
         t6bbHITMG31ZbKpiVdEktyRa9U/hTHKTG/BX2RX+4iaDjk0Bu1IupXiRZOhVn/H4FMue
         OKbeWgnJvvmoKbbq53qw0p/Nx4ceT2EmcQnjCwPc5qOwByexqPRU80aiklgzxyQ8bo3J
         NF50SKxL1fhQB7T14hyLOAtfwfAWoRPl6IYxGqs1lROE4I8zPoA4AxVSRId/7Th2FIxC
         Xz4fRWRSQ90r7CtqapNKBaUI1dUd12ICI4yYW5eH/+q5dKUIvdyflZHZLu24pg7m4ATy
         bhQA==
MIME-Version: 1.0
X-Received: by 10.141.23.9 with SMTP id z9mr9958666qhd.24.1442240135173; Mon,
 14 Sep 2015 07:15:35 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Mon, 14 Sep 2015 07:15:35 -0700 (PDT)
In-Reply-To: <CALK=YjN886qR2p2DUzCBe9T0Gbfki2mHnJ=uooWWt9yM0NUdbw@mail.gmail.com>
References: <CAKQ1sVMtQs1+6wuBL50AanrVEVQ5qtzqHc0yiuDUznGUF+VJ7Q@mail.gmail.com>
	<77B7897B-7381-4FAB-94CA-39F8B1FA8EA4@jaguNET.com>
	<CAKQ1sVM6ZA0wOu8fZGMAbYt4SEXoATNuKsXecfyRxvweHcu3sg@mail.gmail.com>
	<CACsi250tSuB++4wGD0pfdNBVxMHvQnGyNPn+5-S-HNU178VTYw@mail.gmail.com>
	<CAKQ1sVOXvSHX9FQhSvSocwJwiAH4e1bKcjjWCfMgxB3esY_r3w@mail.gmail.com>
	<CALK=YjN886qR2p2DUzCBe9T0Gbfki2mHnJ=uooWWt9yM0NUdbw@mail.gmail.com>
Date: Mon, 14 Sep 2015 16:15:35 +0200
Message-ID: <CAKQ1sVMKxza8GL5tc6yNexREbX+pRCW9qOmVSJy16C-pOvKRPw@mail.gmail.com>
Subject: Re: Balancers (file based SHMs) and restart issue (Windows only?)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Mon, Sep 14, 2015 at 4:07 PM, Eric Covener <covener@gmail.com> wrote:
> On Mon, Sep 14, 2015 at 9:45 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> PR 58024 looks hard(er) to resolve (details there)...
>>
>> It seems that DeleteFile() always fails when some file mapping exists
>> on the file, which also prevents "deletion when the last handle to the
>> file is closed".
>> So currently (mod_slotmem_shm on trunk), the SHM files by generation
>> leak on the filesystem since they are never removed (successfully).
>>
>> The only thing I can think of now is to use FILE_FLAG_DELETE_ON_CLOSE
>> flagged files, but it's not available for SHM files in APR, so we'd
>> have to cook our own slotmem_shm_create() (a wrapper with Windows
>> specific code) which would apr_os_shm_put() a native SHM from a
>> apr_file_open(..., APR_FOPEN_DELONCLOSE) file.
>>
>> Any better idea?
>
> No better ideas, but for this same reason mod_disk_cache is quite
> busted on Windows -- w/ and w/o lock files turned on.

So maybe we need a general ap_shm_create() wrapper usable wherever it may help?
At least until a new APR_SHM_DELONCLOSE flag is added to apr_shm_create_ex()?

From dev-return-83778-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 14 14:42:49 2015
Return-Path: <dev-return-83778-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5F54510089
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Sep 2015 14:42:49 +0000 (UTC)
Received: (qmail 28969 invoked by uid 500); 14 Sep 2015 14:42:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28893 invoked by uid 500); 14 Sep 2015 14:42:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28882 invoked by uid 99); 14 Sep 2015 14:42:48 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2015 14:42:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 9A0F6180333
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 14:42:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id lF2siYAAvEfA for <dev@httpd.apache.org>;
	Mon, 14 Sep 2015 14:42:47 +0000 (UTC)
Received: from mail-ig0-f177.google.com (mail-ig0-f177.google.com [209.85.213.177])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id DFB094414C
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 14:42:46 +0000 (UTC)
Received: by igbni9 with SMTP id ni9so83270398igb.0
        for <dev@httpd.apache.org>; Mon, 14 Sep 2015 07:42:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=mCXwtcR9kM7g04jhYWnGoX5ZlknQFWAKvLVWOEwhs0Q=;
        b=A5JF4eUE0vEKjUEl0yuGA9rRGNPTw0B/21WIRwYV3wk1Pq/Bqw3Lhe5lB33jfn3uXj
         fnuYyn0cxGxVfVyyzZwamBGONxKZoz1nO2goFahfdIOafwf+Z9PFWPA2SmeSaKy7y3oP
         bsWI3+S/214JII9nLoW1VaxMuP1hXfNbPlu+WA5Cie1e/tkPcYQIbYKgaZeVAprE/1tR
         lS+vxy8vQSvnJBYlA+NFfTcw/nDwSg3XSjUWUK3DIM5Gyke1xbPlOAwvDMSBs8HIiCma
         Fe/uSBZI2gUZlZFAxYUG6YWNPnAUQtfM8LQgNoiciNbfzDBjqXOylIOFihMK/f4M/Pv0
         wBVg==
MIME-Version: 1.0
X-Received: by 10.50.114.1 with SMTP id jc1mr17979500igb.56.1442241760727;
 Mon, 14 Sep 2015 07:42:40 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Mon, 14 Sep 2015 07:42:40 -0700 (PDT)
In-Reply-To: <CAKQ1sVMKxza8GL5tc6yNexREbX+pRCW9qOmVSJy16C-pOvKRPw@mail.gmail.com>
References: <CAKQ1sVMtQs1+6wuBL50AanrVEVQ5qtzqHc0yiuDUznGUF+VJ7Q@mail.gmail.com>
	<77B7897B-7381-4FAB-94CA-39F8B1FA8EA4@jaguNET.com>
	<CAKQ1sVM6ZA0wOu8fZGMAbYt4SEXoATNuKsXecfyRxvweHcu3sg@mail.gmail.com>
	<CACsi250tSuB++4wGD0pfdNBVxMHvQnGyNPn+5-S-HNU178VTYw@mail.gmail.com>
	<CAKQ1sVOXvSHX9FQhSvSocwJwiAH4e1bKcjjWCfMgxB3esY_r3w@mail.gmail.com>
	<CALK=YjN886qR2p2DUzCBe9T0Gbfki2mHnJ=uooWWt9yM0NUdbw@mail.gmail.com>
	<CAKQ1sVMKxza8GL5tc6yNexREbX+pRCW9qOmVSJy16C-pOvKRPw@mail.gmail.com>
Date: Mon, 14 Sep 2015 10:42:40 -0400
Message-ID: <CALK=YjPx-e3Q7ocqWVbRcUUXoKL2PynES1706i0KEYXFGgws0g@mail.gmail.com>
Subject: Re: Balancers (file based SHMs) and restart issue (Windows only?)
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Mon, Sep 14, 2015 at 10:15 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> So maybe we need a general ap_shm_create() wrapper usable wherever it may help?
> At least until a new APR_SHM_DELONCLOSE flag is added to apr_shm_create_ex()?


Sorry I was not too clear. The disk-cache issue is not SHM specific,
just the failure-on-delete-of-open-file.

From dev-return-83779-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 14 14:52:44 2015
Return-Path: <dev-return-83779-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B044C10101
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Sep 2015 14:52:44 +0000 (UTC)
Received: (qmail 50302 invoked by uid 500); 14 Sep 2015 14:52:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 50226 invoked by uid 500); 14 Sep 2015 14:52:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 50215 invoked by uid 99); 14 Sep 2015 14:52:44 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2015 14:52:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B3BCD18098C
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 14:52:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ors-SIzlRTkc for <dev@httpd.apache.org>;
	Mon, 14 Sep 2015 14:52:43 +0000 (UTC)
Received: from mail-qk0-f182.google.com (mail-qk0-f182.google.com [209.85.220.182])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 710C9204DD
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 14:52:42 +0000 (UTC)
Received: by qkcf65 with SMTP id f65so59058827qkc.3
        for <dev@httpd.apache.org>; Mon, 14 Sep 2015 07:52:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=0qPh/hPYRQjzfMbGgCJmze/nOz3Uhx7rsRj6kCn8Umw=;
        b=IssJXRpdSvX6dPT2eM/4qAIh3gsgeuZtWPC5i1YJLR/7J+zLZ9gjXTLY6b+DSvhyIu
         ar7C5X5dCXE+m1sRBWHUv69lBXE8f8BpfqDkS+LH3u5qtGm5ipwNu2Z92LO5g6afxKq4
         e3aL2QJERswqiWDwm5AcldnlfqflMRTtDhhdphK9y1zRV1mqpOUPXFtfDk17Jbqcg1Mw
         TMjee890vCLmOZJtkJtZH8XLObVLcbm5lIIJYTjA8wC0wj96BoZedmSIDgdxa1iJxhcT
         WtbVEZvT3CA3I1llcCHIXjaiiIxDrJavLTp6o+srvJeuOcYpKamovhX/tL09rS6i+Bu/
         njnQ==
MIME-Version: 1.0
X-Received: by 10.55.204.10 with SMTP id r10mr22975840qki.55.1442242355472;
 Mon, 14 Sep 2015 07:52:35 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Mon, 14 Sep 2015 07:52:35 -0700 (PDT)
In-Reply-To: <CALK=YjPx-e3Q7ocqWVbRcUUXoKL2PynES1706i0KEYXFGgws0g@mail.gmail.com>
References: <CAKQ1sVMtQs1+6wuBL50AanrVEVQ5qtzqHc0yiuDUznGUF+VJ7Q@mail.gmail.com>
	<77B7897B-7381-4FAB-94CA-39F8B1FA8EA4@jaguNET.com>
	<CAKQ1sVM6ZA0wOu8fZGMAbYt4SEXoATNuKsXecfyRxvweHcu3sg@mail.gmail.com>
	<CACsi250tSuB++4wGD0pfdNBVxMHvQnGyNPn+5-S-HNU178VTYw@mail.gmail.com>
	<CAKQ1sVOXvSHX9FQhSvSocwJwiAH4e1bKcjjWCfMgxB3esY_r3w@mail.gmail.com>
	<CALK=YjN886qR2p2DUzCBe9T0Gbfki2mHnJ=uooWWt9yM0NUdbw@mail.gmail.com>
	<CAKQ1sVMKxza8GL5tc6yNexREbX+pRCW9qOmVSJy16C-pOvKRPw@mail.gmail.com>
	<CALK=YjPx-e3Q7ocqWVbRcUUXoKL2PynES1706i0KEYXFGgws0g@mail.gmail.com>
Date: Mon, 14 Sep 2015 16:52:35 +0200
Message-ID: <CAKQ1sVP5RJxbwAoFrSejd5DBTm7rNH9OHqwDv8nzBx94g+3eYg@mail.gmail.com>
Subject: Re: Balancers (file based SHMs) and restart issue (Windows only?)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Mon, Sep 14, 2015 at 4:42 PM, Eric Covener <covener@gmail.com> wrote:
> On Mon, Sep 14, 2015 at 10:15 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> So maybe we need a general ap_shm_create() wrapper usable wherever it may help?
>> At least until a new APR_SHM_DELONCLOSE flag is added to apr_shm_create_ex()?
>
>
> Sorry I was not too clear. The disk-cache issue is not SHM specific,
> just the failure-on-delete-of-open-file.

Oh I see, I guess FILE_FLAG_DELETE_ON_CLOSE is not suitable there
since files are opened/closed by different processes...
But if I read DeleteFile() doc correctly, for non-mapped files it
should work (delayed until the last handle is closed), or really
DeleteFile() is not documented correctly!

From dev-return-83780-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 14 14:58:36 2015
Return-Path: <dev-return-83780-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 281171012A
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Sep 2015 14:58:36 +0000 (UTC)
Received: (qmail 69926 invoked by uid 500); 14 Sep 2015 14:58:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 69857 invoked by uid 500); 14 Sep 2015 14:58:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 69847 invoked by uid 99); 14 Sep 2015 14:58:35 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2015 14:58:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 16448F223A
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 14:58:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id s0cWoCyjTM5l for <dev@httpd.apache.org>;
	Mon, 14 Sep 2015 14:58:33 +0000 (UTC)
Received: from mail-io0-f182.google.com (mail-io0-f182.google.com [209.85.223.182])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 38B4720510
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 14:58:33 +0000 (UTC)
Received: by ioiz6 with SMTP id z6so168056357ioi.2
        for <dev@httpd.apache.org>; Mon, 14 Sep 2015 07:58:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=tU6jzc0GJ2JagKhXOhH9gHKrW58ZZU2tCowssDBRFEc=;
        b=Ij+U/bOO3mu7IpAJ9vti9BgHa9VyZm65SopasL1QEwGfg+p6Kb5HfkXxgIK+bCtjpc
         AooSWXFV7ZMarRclQa0He8JmwEi1wPiQT/VHuAJY9WTWe9q/CTr5sFgTZN9BN7L4J6a0
         +iE674jmsiIue1oR66A+E3R951wGPecx6B7Qppp7gp0JmRuqvmPZM11cufV8Y8fdbime
         jq66nnp5z8qaHWPyFbJlET6gSzvng6wD5OP22Et4EMd/DPfe4QPE/LtKQARshJ7hbKG/
         BEFAR2zuZrFhUP/7dd+RqouZqKV32dA7ovvndKTzEQAfd7mmp2oUO7g+/y+9pbVp3aLo
         n/Jg==
MIME-Version: 1.0
X-Received: by 10.107.14.4 with SMTP id 4mr974376ioo.169.1442242712067; Mon,
 14 Sep 2015 07:58:32 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Mon, 14 Sep 2015 07:58:31 -0700 (PDT)
In-Reply-To: <CAKQ1sVP5RJxbwAoFrSejd5DBTm7rNH9OHqwDv8nzBx94g+3eYg@mail.gmail.com>
References: <CAKQ1sVMtQs1+6wuBL50AanrVEVQ5qtzqHc0yiuDUznGUF+VJ7Q@mail.gmail.com>
	<77B7897B-7381-4FAB-94CA-39F8B1FA8EA4@jaguNET.com>
	<CAKQ1sVM6ZA0wOu8fZGMAbYt4SEXoATNuKsXecfyRxvweHcu3sg@mail.gmail.com>
	<CACsi250tSuB++4wGD0pfdNBVxMHvQnGyNPn+5-S-HNU178VTYw@mail.gmail.com>
	<CAKQ1sVOXvSHX9FQhSvSocwJwiAH4e1bKcjjWCfMgxB3esY_r3w@mail.gmail.com>
	<CALK=YjN886qR2p2DUzCBe9T0Gbfki2mHnJ=uooWWt9yM0NUdbw@mail.gmail.com>
	<CAKQ1sVMKxza8GL5tc6yNexREbX+pRCW9qOmVSJy16C-pOvKRPw@mail.gmail.com>
	<CALK=YjPx-e3Q7ocqWVbRcUUXoKL2PynES1706i0KEYXFGgws0g@mail.gmail.com>
	<CAKQ1sVP5RJxbwAoFrSejd5DBTm7rNH9OHqwDv8nzBx94g+3eYg@mail.gmail.com>
Date: Mon, 14 Sep 2015 10:58:31 -0400
Message-ID: <CALK=YjPoNQN3=v2tMjzQZEPfAZoCpH-HEeXAk-E9UNVFQ1qH9g@mail.gmail.com>
Subject: Re: Balancers (file based SHMs) and restart issue (Windows only?)
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Mon, Sep 14, 2015 at 10:52 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> Oh I see, I guess FILE_FLAG_DELETE_ON_CLOSE is not suitable there
> since files are opened/closed by different processes...
> But if I read DeleteFile() doc correctly, for non-mapped files it
> should work (delayed until the last handle is closed), or really
> DeleteFile() is not documented correctly!


I vaguely recall conflicting info in that area from the
docs/forums/comments.  But I know without a restart, the closure
within the same process leaves an un-deletable file.

From dev-return-83781-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 14 15:09:09 2015
Return-Path: <dev-return-83781-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 65B3B1019A
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Sep 2015 15:09:09 +0000 (UTC)
Received: (qmail 97763 invoked by uid 500); 14 Sep 2015 15:09:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97683 invoked by uid 500); 14 Sep 2015 15:09:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97673 invoked by uid 99); 14 Sep 2015 15:09:08 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2015 15:09:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 62CE618099F
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 15:09:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id GazGvkpnm2yY for <dev@httpd.apache.org>;
	Mon, 14 Sep 2015 15:09:07 +0000 (UTC)
Received: from mail-qg0-f49.google.com (mail-qg0-f49.google.com [209.85.192.49])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id AFE3B44569
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 15:09:07 +0000 (UTC)
Received: by qgx61 with SMTP id 61so117382062qgx.3
        for <dev@httpd.apache.org>; Mon, 14 Sep 2015 08:09:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=h5Y8/kxm1X1kCTkunJPtNEZ1aw3HgO94+ZpwsdCB3aM=;
        b=QjzGa2OXqHsTBjcyzewspAnG/2MM2xjJFNqsmMa0y9xldeEyckHTSSPiNF68bDMTLg
         TiRroEipkiye6S94eVK9oJcNMtR7KyqZNJEL+3GLjHXHZpqDW3tIg5ydgJh6tFpcp0dw
         76K6GgtmyEvWvybyiVoaPLwZUpvCTT+GaWUUbTH1Su/R9xwpkUmGkWh+J5yUDBuBH5g2
         b7fw8eXr0Ju34pc+Fz5iLz2BwbLdjHyJXV/ILJBLZnNf1NXtKZ9FBIWeQCfEms6uRedm
         67n1RTx4erUkFkwt4Kmjcv6YJgCxgHHFxwtU+x/1OLjnQSbfMP9vplzx4ZFD69pU4xoF
         MzSw==
MIME-Version: 1.0
X-Received: by 10.140.101.119 with SMTP id t110mr23219326qge.71.1442243347149;
 Mon, 14 Sep 2015 08:09:07 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Mon, 14 Sep 2015 08:09:07 -0700 (PDT)
In-Reply-To: <CALK=YjPoNQN3=v2tMjzQZEPfAZoCpH-HEeXAk-E9UNVFQ1qH9g@mail.gmail.com>
References: <CAKQ1sVMtQs1+6wuBL50AanrVEVQ5qtzqHc0yiuDUznGUF+VJ7Q@mail.gmail.com>
	<77B7897B-7381-4FAB-94CA-39F8B1FA8EA4@jaguNET.com>
	<CAKQ1sVM6ZA0wOu8fZGMAbYt4SEXoATNuKsXecfyRxvweHcu3sg@mail.gmail.com>
	<CACsi250tSuB++4wGD0pfdNBVxMHvQnGyNPn+5-S-HNU178VTYw@mail.gmail.com>
	<CAKQ1sVOXvSHX9FQhSvSocwJwiAH4e1bKcjjWCfMgxB3esY_r3w@mail.gmail.com>
	<CALK=YjN886qR2p2DUzCBe9T0Gbfki2mHnJ=uooWWt9yM0NUdbw@mail.gmail.com>
	<CAKQ1sVMKxza8GL5tc6yNexREbX+pRCW9qOmVSJy16C-pOvKRPw@mail.gmail.com>
	<CALK=YjPx-e3Q7ocqWVbRcUUXoKL2PynES1706i0KEYXFGgws0g@mail.gmail.com>
	<CAKQ1sVP5RJxbwAoFrSejd5DBTm7rNH9OHqwDv8nzBx94g+3eYg@mail.gmail.com>
	<CALK=YjPoNQN3=v2tMjzQZEPfAZoCpH-HEeXAk-E9UNVFQ1qH9g@mail.gmail.com>
Date: Mon, 14 Sep 2015 17:09:07 +0200
Message-ID: <CAKQ1sVPDtA6X=v4CRPavmL7Yh6VdtJXmHUZ2A_yU9BQpBy3=zw@mail.gmail.com>
Subject: Re: Balancers (file based SHMs) and restart issue (Windows only?)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Mon, Sep 14, 2015 at 4:58 PM, Eric Covener <covener@gmail.com> wrote:
> On Mon, Sep 14, 2015 at 10:52 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> Oh I see, I guess FILE_FLAG_DELETE_ON_CLOSE is not suitable there
>> since files are opened/closed by different processes...
>> But if I read DeleteFile() doc correctly, for non-mapped files it
>> should work (delayed until the last handle is closed), or really
>> DeleteFile() is not documented correctly!
>
>
> I vaguely recall conflicting info in that area from the
> docs/forums/comments.  But I know without a restart, the closure
> within the same process leaves an un-deletable file.

Hm, that may be a good news for the slotmem_shm case where we always
(try to )remove the file before the SHM is destroyed, so that's in the
same process.
I already tried to invert both for PR 58024, but it was before
introducing the generation number.
So it may work with the full monty (already proposed to the OP, wait and see).

From dev-return-83782-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 14 15:21:20 2015
Return-Path: <dev-return-83782-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B63E410234
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Sep 2015 15:21:20 +0000 (UTC)
Received: (qmail 30920 invoked by uid 500); 14 Sep 2015 15:21:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 30843 invoked by uid 500); 14 Sep 2015 15:21:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 30833 invoked by uid 99); 14 Sep 2015 15:21:10 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2015 15:21:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5E3DF1A19E5
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 15:21:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id pGVKdt4putGk for <dev@httpd.apache.org>;
	Mon, 14 Sep 2015 15:21:01 +0000 (UTC)
Received: from resqmta-ch2-02v.sys.comcast.net (resqmta-ch2-02v.sys.comcast.net [69.252.207.34])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id F1DFB4414C
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 15:21:00 +0000 (UTC)
Received: from resomta-ch2-02v.sys.comcast.net ([69.252.207.98])
	by resqmta-ch2-02v.sys.comcast.net with comcast
	id H3K21r00F27uzMh013Ltqs; Mon, 14 Sep 2015 15:20:53 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-02v.sys.comcast.net with comcast
	id H3Lt1r00J2U0RYt013LtXj; Mon, 14 Sep 2015 15:20:53 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1702473 - /httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVMiErR5cmSQi0jiy0f1nUAH2MmpcaWPM3gpurEoQWmqCw@mail.gmail.com>
Date: Mon, 14 Sep 2015 11:20:53 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <8C686BFD-13FF-45F5-9921-94C4FBBFA1D6@jaguNET.com>
References: <20150911135845.83435AC0184@hades.apache.org> <E59F5F7A-A290-48DB-88D8-F76E24A6979C@jaguNET.com> <CAKQ1sVMiErR5cmSQi0jiy0f1nUAH2MmpcaWPM3gpurEoQWmqCw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1442244053;
	bh=u+Iw4u7TOpS2M9uXORTo9bBvPJnjmXRJld1yw44mG2w=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=ibaxZmPRix3OJ51u99Ebqk70Hy4aAneb/NXQKc1BEFteQquBiAhXqdIk4+FGn9jvd
	 aY9vbgsjCZIBzortd8O6Cq5CS1rX86tfkwkhHVV3PTG360ZCSfrwfL53+qk8iy2E+Y
	 Cr/Wv5XNsSZTY7wSuRrK6T22SlLZai3Y30qm92xrZjze8/m2qDJscAqOU1PhRottMp
	 mJbTB36nIhbM5YT8W54GOfxYX54PGXpSq6/Y93lo0v1xaV6j92qcrTxysVxJY1KD8Q
	 5ai7Q52RmSH1F+ao2bmMc7HSg+IC5ZJ+k2jXDVmBORAN5BCsBlIQh9t5jhYf9DtT3a
	 5hgoxdqOYFWKg==

:)

No worries, it's just that it creates an artificial delat
between trunk and 2.4.

> On Sep 11, 2015, at 3:35 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>=20
> Well, granted, it made sense to me to change the field name with the =
comment...
> I also thought about having both 'name' and 'fname' (the former for
> logging only), so it's not like I overengineered either :)
> But I can certainly revert (but the comment as suggested by R=C3=BCdiger=
),
> or enough frivolity for today maybe?
>=20
>=20
> On Fri, Sep 11, 2015 at 8:19 PM, Jim Jagielski <jim@jagunet.com> =
wrote:
>> I find this kinda frivolous.
>>=20
>>> On Sep 11, 2015, at 9:58 AM, ylavic@apache.org wrote:
>>>=20
>>> Author: ylavic
>>> Date: Fri Sep 11 13:58:44 2015
>>> New Revision: 1702473
>>>=20
>>> URL: http://svn.apache.org/r1702473
>>> Log:
>>> mod_slotmem_shm: follow up to r1702450.
>>> Rename ap_slotmem_instance_t's field 'name' to 'fname' since it =
really stores
>>> the file path/name of the file-based SHM.
>>>=20
>>> Modified:
>>>   httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c
>>>=20
>>> Modified: httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c
>>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/slotmem/mod_slotmem=
_shm.c?rev=3D1702473&r1=3D1702472&r2=3D1702473&view=3Ddiff
>>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>>> --- httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c (original)
>>> +++ httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c Fri Sep 11 =
13:58:44 2015
>>> @@ -41,8 +41,8 @@ typedef struct {
>>> #define AP_UNSIGNEDINT_OFFSET (APR_ALIGN_DEFAULT(sizeof(unsigned =
int)))
>>>=20
>>> struct ap_slotmem_instance_t {
>>> -    char                 *name;       /* per segment name */
>>> -    char                 *pname;      /* persisted file name */
>>> +    char                 *fname;      /* file based SHM path/name =
*/
>>> +    char                 *pname;      /* persisted file path/name =
*/
>>>    int                  fbased;      /* filebased? */
>>>    void                 *shm;        /* ptr to memory segment =
(apr_shm_t *) */
>>>    void                 *base;       /* data set start */
>>> @@ -271,8 +271,8 @@ static apr_status_t cleanup_slotmem(void
>>>                store_slotmem(next);
>>>            }
>>>            if (next->fbased) {
>>> -                apr_shm_remove(next->name, next->gpool);
>>> -                apr_file_remove(next->name, next->gpool);
>>> +                apr_shm_remove(next->fname, next->gpool);
>>> +                apr_file_remove(next->fname, next->gpool);
>>>            }
>>>            apr_shm_destroy((apr_shm_t *)next->shm);
>>>            next =3D next->next;
>>> @@ -336,7 +336,7 @@ static apr_status_t slotmem_create(ap_sl
>>>        /* first try to attach to existing slotmem */
>>>        if (next) {
>>>            for (;;) {
>>> -                if (strcmp(next->name, fname) =3D=3D 0) {
>>> +                if (strcmp(next->fname, fname) =3D=3D 0) {
>>>                    /* we already have it */
>>>                    *new =3D next;
>>>                    ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, =
ap_server_conf, APLOGNO(02603)
>>> @@ -435,7 +435,7 @@ static apr_status_t slotmem_create(ap_sl
>>>    /* For the chained slotmem stuff */
>>>    res =3D (ap_slotmem_instance_t *) apr_pcalloc(gpool,
>>>                                                =
sizeof(ap_slotmem_instance_t));
>>> -    res->name =3D apr_pstrdup(gpool, fname);
>>> +    res->fname =3D apr_pstrdup(gpool, fname);
>>>    res->pname =3D apr_pstrdup(gpool, pname);
>>>    res->fbased =3D fbased;
>>>    res->shm =3D shm;
>>> @@ -487,7 +487,7 @@ static apr_status_t slotmem_attach(ap_sl
>>>    /* first try to attach to existing slotmem */
>>>    if (next) {
>>>        for (;;) {
>>> -            if (strcmp(next->name, fname) =3D=3D 0) {
>>> +            if (strcmp(next->fname, fname) =3D=3D 0) {
>>>                /* we already have it */
>>>                *new =3D next;
>>>                *item_size =3D next->desc.size;
>>> @@ -519,7 +519,7 @@ static apr_status_t slotmem_attach(ap_sl
>>>    /* For the chained slotmem stuff */
>>>    res =3D (ap_slotmem_instance_t *) apr_pcalloc(gpool,
>>>                                                =
sizeof(ap_slotmem_instance_t));
>>> -    res->name =3D apr_pstrdup(gpool, fname);
>>> +    res->fname =3D apr_pstrdup(gpool, fname);
>>>    res->fbased =3D 1;
>>>    res->shm =3D shm;
>>>    res->num_free =3D (unsigned int *)ptr;
>>> @@ -665,7 +665,7 @@ static apr_status_t slotmem_grab(ap_slot
>>>    if (i >=3D slot->desc.num) {
>>>        ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, ap_server_conf, =
APLOGNO(02293)
>>>                     "slotmem(%s) grab failed. Num %u/num_free %u",
>>> -                     slot->name, slotmem_num_slots(slot),
>>> +                     slot->fname, slotmem_num_slots(slot),
>>>                     slotmem_num_free_slots(slot));
>>>        return APR_EINVAL;
>>>    }
>>> @@ -686,7 +686,7 @@ static apr_status_t slotmem_fgrab(ap_slo
>>>    if (id >=3D slot->desc.num) {
>>>        ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, ap_server_conf, =
APLOGNO(02397)
>>>                     "slotmem(%s) fgrab failed. Num %u/num_free %u",
>>> -                     slot->name, slotmem_num_slots(slot),
>>> +                     slot->fname, slotmem_num_slots(slot),
>>>                     slotmem_num_free_slots(slot));
>>>        return APR_EINVAL;
>>>    }
>>> @@ -713,7 +713,7 @@ static apr_status_t slotmem_release(ap_s
>>>    if (id >=3D slot->desc.num || !inuse[id] ) {
>>>        ap_log_error(APLOG_MARK, APLOG_DEBUG, 0, ap_server_conf, =
APLOGNO(02294)
>>>                     "slotmem(%s) release failed. Num %u/inuse[%u] =
%d",
>>> -                     slot->name, slotmem_num_slots(slot),
>>> +                     slot->fname, slotmem_num_slots(slot),
>>>                     id, (int)inuse[id]);
>>>        if (id >=3D slot->desc.num) {
>>>            return APR_EINVAL;
>>>=20
>>>=20
>>=20


From dev-return-83783-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 14 15:21:31 2015
Return-Path: <dev-return-83783-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 20D1010235
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Sep 2015 15:21:31 +0000 (UTC)
Received: (qmail 32201 invoked by uid 500); 14 Sep 2015 15:21:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32120 invoked by uid 500); 14 Sep 2015 15:21:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32110 invoked by uid 99); 14 Sep 2015 15:21:30 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2015 15:21:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 3FDD41A19E5
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 15:21:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id g49n-G92N2g6 for <dev@httpd.apache.org>;
	Mon, 14 Sep 2015 15:21:18 +0000 (UTC)
Received: from resqmta-ch2-10v.sys.comcast.net (resqmta-ch2-10v.sys.comcast.net [69.252.207.42])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 105D4207EA
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 15:21:18 +0000 (UTC)
Received: from resomta-ch2-02v.sys.comcast.net ([69.252.207.98])
	by resqmta-ch2-10v.sys.comcast.net with comcast
	id H3M21r00127uzMh013MBhD; Mon, 14 Sep 2015 15:21:11 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-02v.sys.comcast.net with comcast
	id H3Lt1r00J2U0RYt013MBbS; Mon, 14 Sep 2015 15:21:11 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: warning free, c89 enforced
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <656E1975-5696-4AA4-B66B-3A2FC2FE63FB@greenbytes.de>
Date: Mon, 14 Sep 2015 11:21:11 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <470C5FD4-A400-4EE7-B284-FC32C04E44F8@jaguNET.com>
References: <656E1975-5696-4AA4-B66B-3A2FC2FE63FB@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1442244071;
	bh=6f1restCHfM9PyWFrUWA3AzM2/Z9Pkc97vAlLCZT5TU=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=cLkL0rJeBNqzRLWhZ8GWF2AtMDDfNLUENnwkkFaduwNKomXv0juq/c/xRY7kL4JdL
	 kb41kPgmo/TUzu0k1md41mlexNyrbfzx/J+YyOGAdLR5tBioxnZ3TnNeJxmgTcKEDn
	 U8B77Tx7//mHSVBTwgnReZRc0vj1zzQSiD/V+3Ks3bT7ygPt/Q5frknAhhgQlqCZV4
	 TMJHTHyOSiY6Dz3sBMucLPxZuDKZRvzMGCMGZiXvPvYmN5Ydrn9nmm5mDstmUiaK+L
	 tOeNHYSPsou1wuYqY/fhRJdBX5AankwLZx6iadCb1Xw3wvVLOrsQf8wWK/j7c/CIWj
	 2PWQgr7RECC8g==

+1. thx!

> On Sep 14, 2015, at 9:39 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
> With r1702948, all sorts of warnings are enabled on compilation of =
httpd itself when using GCC, especially the C89 standard is being =
checked. All warning lead now to compiler errors.
>=20
> There have been only slight changes in code necessary. The static =
introduced via APLOG_USE_MODULE is being treated special. If you have =
declarations that make sense to sometime being unused, please check the =
new macro AP_MAYBE_USELESS in httpd_config.h
>=20
> For the initially proposed patch, which required several files to be =
changed, Jim wanted split patches. With the current limited set, I =
committed these as one, last but not least since enabling the warnings =
without the code changes do not work.
>=20
> I hope this works as well for you. I checked on OS X and Ubuntu. The =
macro definition uses a GCC feature that exists since 2.95.x. For non =
gcc compilers or LCLINT, it falls back to doing nothing. Which should be =
fine for old platforms.
>=20
> Feedback appreciated,
>=20
>  Stefan
>=20
> <green/>bytes GmbH
> Hafenweg 16, 48155 M=C3=BCnster, Germany
> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>=20
>=20
>=20


From dev-return-83784-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 14 18:00:36 2015
Return-Path: <dev-return-83784-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2095910E34
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 14 Sep 2015 18:00:36 +0000 (UTC)
Received: (qmail 41880 invoked by uid 500); 14 Sep 2015 17:53:44 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 41774 invoked by uid 500); 14 Sep 2015 17:53:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 41719 invoked by uid 99); 14 Sep 2015 17:53:44 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2015 17:53:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 1272E180185
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 17:53:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.001
X-Spam-Level:
X-Spam-Status: No, score=-0.001 tagged_above=-999 required=6.31
	tests=[SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id R8ar25hC_Qp8 for <dev@httpd.apache.org>;
	Mon, 14 Sep 2015 17:53:28 +0000 (UTC)
Received: from ni.com (skprod3.natinst.com [130.164.80.24])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 992C44458A
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 17:53:28 +0000 (UTC)
Received: from us-aus-mgwout1.amer.corp.natinst.com (nb-chan1-1338.natinst.com [130.164.19.134])
	by us-aus-skprod3.natinst.com (8.15.0.59/8.15.0.59) with ESMTP id t8EHrM3Q027569
	for <dev@httpd.apache.org>; Mon, 14 Sep 2015 12:53:22 -0500
Received: from [10.2.33.35] ([130.164.14.198])
          by us-aus-mgwout1.amer.corp.natinst.com (Lotus Domino Release 8.5.3FP6 HF1218)
          with ESMTP id 2015091412532259-1963208 ;
          Mon, 14 Sep 2015 12:53:22 -0500 
Subject: Re: [PATCH 57300] mod_session save optimization
Reply-To: dev@httpd.apache.org
References: <55D64DA2.8090309@ni.com>
To: Apache Dev <dev@httpd.apache.org>
From: Paul Spangler <paul.spangler@ni.com>
Message-ID: <55F70992.7010306@ni.com>
Date: Mon, 14 Sep 2015 12:53:22 -0500
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <55D64DA2.8090309@ni.com>
X-MIMETrack: Itemize by SMTP Server on US-AUS-MGWOut1/AUS/H/NIC(Release 8.5.3FP6 HF1218|December
 12, 2014) at 09/14/2015 12:53:22 PM,
	Serialize by Router on US-AUS-MGWOut1/AUS/H/NIC(Release 8.5.3FP6 HF1218|December
 12, 2014) at 09/14/2015 12:53:22 PM,
	Serialize complete at 09/14/2015 12:53:22 PM
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=utf-8; format=flowed
X-Proofpoint-Virus-Version: vendor=fsecure engine=2.50.10432:,, definitions=2015-09-14_04:,,
 signatures=0

On 8/20/2015 4:58 PM, Paul Spangler wrote:
> Hello,
>
> The bug report contains a more detailed explanation of the patch, but
> there are some points I thought might lead to some discussion.
>
> First a quick summary of the issue: mod_session writes out the session
> every request even if there aren't any changes to the data. This makes
> some sense when the session has a max age and the expiry value needs to
> be refreshed. However, there isn't likely to be much benefit in
> repeatedly refreshing the expiry by a few milliseconds, possibly
> generating database traffic each time. This patch proposes a new
> directive to define an interval of time where the expiry doesn't need to
> be refreshed if there are no session data changes.
>
> 1. We had a hard time coming up with a name for the directive. The patch
> goes with SessionExpiryUpdateInterval, being the interval of time that
> may pass before updating the expiry value is required. I don't know if
> there are any existing directives with a similar function that we should
> mimic instead.
>
> 2. The patch includes a behavior change independent of the new directive
> when using sessions without a max age: if the data hasn't changed, don't
> write out the session. Most noticeably, this means new sessions that
> never get data are discarded without being saved.
>
> 3. I wasn't sure how best to add tests for a new directive since the
> test server won't start if the directive is missing. The patch that
> includes the test changes look for the 2.5 version to know the new
> directive is there, and will require a modification if/when the
> directive is back-ported to 2.4 to enable the new tests.
>
> https://bz.apache.org/bugzilla/show_bug.cgi?id=57300
>
> Thanks for your consideration.

Quick ping on this.
-- 
Paul Spangler
LabVIEW R&D
National Instruments

From dev-return-83785-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 15 00:48:01 2015
Return-Path: <dev-return-83785-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7E8E610280
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 15 Sep 2015 00:48:01 +0000 (UTC)
Received: (qmail 49491 invoked by uid 500); 15 Sep 2015 00:48:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49404 invoked by uid 500); 15 Sep 2015 00:48:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49394 invoked by uid 99); 15 Sep 2015 00:48:00 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2015 00:48:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 540101A1A65
	for <dev@httpd.apache.org>; Tue, 15 Sep 2015 00:48:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.999
X-Spam-Level:
X-Spam-Status: No, score=0.999 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_MSPIKE_H2=-0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id PGtKvHEevwlI for <dev@httpd.apache.org>;
	Tue, 15 Sep 2015 00:47:59 +0000 (UTC)
Received: from smtp.smtpout.orange.fr (smtp04.smtpout.orange.fr [80.12.242.126])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id B8598205B7
	for <dev@httpd.apache.org>; Tue, 15 Sep 2015 00:47:58 +0000 (UTC)
Received: from [127.0.0.1] ([92.140.174.17])
	by mwinf5d51 with ME
	id HCns1r0010NtPHo03CnsSu; Tue, 15 Sep 2015 02:47:52 +0200
X-ME-Helo: [127.0.0.1]
X-ME-Date: Tue, 15 Sep 2015 02:47:52 +0200
X-ME-IP: 92.140.174.17
Subject: Re: svn commit: r1695727 - in /httpd/httpd/trunk:
 docs/manual/mod/core.xml include/http_core.h server/core.c server/protocol.c
To: dev@httpd.apache.org
References: <20150813153307.D0EBEAC0734@hades.apache.org>
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Message-ID: <55F76AB7.3010008@wanadoo.fr>
Date: Tue, 15 Sep 2015 02:47:51 +0200
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <20150813153307.D0EBEAC0734@hades.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 150914-1, 14/09/2015), Outbound message
X-Antivirus-Status: Clean

Hi,

Protocols and ProtocolsHonorOrder have the same description.
Is it done on purpose or is it a cut'n paste error?

CJ

Le 13/08/2015 17:33, icing@apache.org a écrit :
> Author: icing
> Date: Thu Aug 13 15:33:07 2015
> New Revision: 1695727
>
> URL: http://svn.apache.org/r1695727
> Log:
> new directive ProtocolsHonorOrder, added documentation for Protocols feature, changed preference selection and config merging
>
> Modified:
>      httpd/httpd/trunk/docs/manual/mod/core.xml
>      httpd/httpd/trunk/include/http_core.h
>      httpd/httpd/trunk/server/core.c
>      httpd/httpd/trunk/server/protocol.c
>
> Modified: httpd/httpd/trunk/docs/manual/mod/core.xml
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/core.xml?rev=1695727&r1=1695726&r2=1695727&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/docs/manual/mod/core.xml (original)
> +++ httpd/httpd/trunk/docs/manual/mod/core.xml Thu Aug 13 15:33:07 2015
> @@ -3711,6 +3711,71 @@ Protocol https
>   
>   
>   <directivesynopsis>
> +    <name>Protocols</name>
> +    <description>Protocols available for a server/virtual host</description>
> +    <syntax>Protocols <var>protocol</var> ...</syntax>
> +    <contextlist><context>server config</context><context>virtual host</context></contextlist>
[...]
> +<directivesynopsis>
> +    <name>ProtocolsHonorOrder</name>
> +    <description>Protocols available for a server/virtual host</description>
> +    <syntax>ProtocolsHonorOrder On|Off</syntax>
> +    <default>ProtocolsHonorOrder Off</default>
> +    <contextlist><context>server config</context><context>virtual host</context></contextlist>
>


From dev-return-83786-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 15 08:00:39 2015
Return-Path: <dev-return-83786-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0AE11173C7
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 15 Sep 2015 08:00:39 +0000 (UTC)
Received: (qmail 24856 invoked by uid 500); 15 Sep 2015 08:00:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 24779 invoked by uid 500); 15 Sep 2015 08:00:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 24768 invoked by uid 99); 15 Sep 2015 08:00:31 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2015 08:00:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 82E37180251
	for <dev@httpd.apache.org>; Tue, 15 Sep 2015 08:00:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.007
X-Spam-Level:
X-Spam-Status: No, score=-0.007 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id GDkvJf_cVOnz for <dev@httpd.apache.org>;
	Tue, 15 Sep 2015 08:00:29 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id CA10424B20
	for <dev@httpd.apache.org>; Tue, 15 Sep 2015 08:00:28 +0000 (UTC)
Received: from delight.greenbytes.de (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 5B1A015A05C4
	for <dev@httpd.apache.org>; Tue, 15 Sep 2015 10:00:22 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1695727 - in /httpd/httpd/trunk: docs/manual/mod/core.xml include/http_core.h server/core.c server/protocol.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <55F76AB7.3010008@wanadoo.fr>
Date: Tue, 15 Sep 2015 10:00:22 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <942ED3D9-03FE-4106-BF5D-AA85B9D3EF49@greenbytes.de>
References: <20150813153307.D0EBEAC0734@hades.apache.org> <55F76AB7.3010008@wanadoo.fr>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

Uhm, did I mess something up (again)? My core.xml says:
...
<directivesynopsis>
    <name>Protocols</name>
    <description>Protocols available for a server/virtual =
host</description>
    <syntax>Protocols <var>protocol</var> ...</syntax>
    <default>Protocols http/1.1</default>
    <contextlist><context>server config</context><context>virtual =
host</context></contextlist>
    <compatibility>Only available from Apache 2.4.17 and =
later.</compatibility>
   =20
    <usage>
        <p>This directive specifies the list of protocols supported for =
a
            server/virtual host. The list determines the allowed =
protocols
            a client may negotiate for this server/host.</p>
       =20
        <p>You need to set protocols if you want to extend the available
            protocols for a server/host. By default, only the http/1.1 =
protocol
            (which includes the compatibility with 1.0 and 0.9 clients) =
is
            allowed.</p>
       =20
        <p>For example, if you want to support HTTP/2 for a server with =
TLS,=20
            specify:</p>
       =20
        <highlight language=3D"config">
            Protocols h2 http/1.1
        </highlight>

        <p>Valid protocols are <code>http/1.1</code> for http and https =
connections,
            <code>h2</code> on https connections and <code>h2c</code> =
for http
            connections. Modules may enable more protocols.</p>
       =20
        <p>It is safe to specify protocols that are =
unavailable/disabled. Such
        protocol names will simply be ignored.</p>
       =20
        <p>Protocols specified in base servers are inherited for virtual =
hosts=20
            only if the virtual host has no own Protocols directive. Or, =
the other
            way around, Protocols directives in virtual hosts replace =
any
            such directive in the base server.
        </p>

    </usage>
    <seealso><directive =
module=3D"core">ProtocolsHonorOrder</directive></seealso>
</directivesynopsis>


<directivesynopsis>
    <name>ProtocolsHonorOrder</name>
    <description>Protocols available for a server/virtual =
host</description>
    <syntax>ProtocolsHonorOrder On|Off</syntax>
    <default>ProtocolsHonorOrder On</default>
    <contextlist><context>server config</context><context>virtual =
host</context></contextlist>
    <compatibility>Only available from Apache 2.4.17 and =
later.</compatibility>
   =20
    <usage>
        <p>This directive specifies if the server should honor the order =
in which
        the <directive>Protocols</directive> directive lists =
protocols.</p>
       =20
        <p>If configured Off, the client supplied list order of =
protocols has=20
            precedence over the order in the server configuration.</p>
       =20
        <p>With <directive>ProtocolsHonorOrder</directive> set to =
<code>on</code>=20
            (default), the client ordering does not matter and only the =
ordering=20
            in the server settings influences the outcome of the =
protocol=20
            negotiation.</p>
       =20
    </usage>
    <seealso><directive module=3D"core">Protocols</directive></seealso>
</directivesynopsis>

> Am 15.09.2015 um 02:47 schrieb Christophe JAILLET =
<christophe.jaillet@wanadoo.fr>:
>=20
> Hi,
>=20
> Protocols and ProtocolsHonorOrder have the same description.
> Is it done on purpose or is it a cut'n paste error?
>=20
> CJ
>=20
> Le 13/08/2015 17:33, icing@apache.org a =C3=A9crit :
>> Author: icing
>> Date: Thu Aug 13 15:33:07 2015
>> New Revision: 1695727
>>=20
>> URL: http://svn.apache.org/r1695727
>> Log:
>> new directive ProtocolsHonorOrder, added documentation for Protocols =
feature, changed preference selection and config merging
>>=20
>> Modified:
>>     httpd/httpd/trunk/docs/manual/mod/core.xml
>>     httpd/httpd/trunk/include/http_core.h
>>     httpd/httpd/trunk/server/core.c
>>     httpd/httpd/trunk/server/protocol.c
>>=20
>> Modified: httpd/httpd/trunk/docs/manual/mod/core.xml
>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/core.xml?re=
v=3D1695727&r1=3D1695726&r2=3D1695727&view=3Ddiff
>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>> --- httpd/httpd/trunk/docs/manual/mod/core.xml (original)
>> +++ httpd/httpd/trunk/docs/manual/mod/core.xml Thu Aug 13 15:33:07 =
2015
>> @@ -3711,6 +3711,71 @@ Protocol https
>>      <directivesynopsis>
>> +    <name>Protocols</name>
>> +    <description>Protocols available for a server/virtual =
host</description>
>> +    <syntax>Protocols <var>protocol</var> ...</syntax>
>> +    <contextlist><context>server config</context><context>virtual =
host</context></contextlist>
> [...]
>> +<directivesynopsis>
>> +    <name>ProtocolsHonorOrder</name>
>> +    <description>Protocols available for a server/virtual =
host</description>
>> +    <syntax>ProtocolsHonorOrder On|Off</syntax>
>> +    <default>ProtocolsHonorOrder Off</default>
>> +    <contextlist><context>server config</context><context>virtual =
host</context></contextlist>
>>=20
>=20

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83787-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 15 11:08:38 2015
Return-Path: <dev-return-83787-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5D86F17CCE
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 15 Sep 2015 11:08:38 +0000 (UTC)
Received: (qmail 76746 invoked by uid 500); 15 Sep 2015 11:08:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76653 invoked by uid 500); 15 Sep 2015 11:08:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 76643 invoked by uid 99); 15 Sep 2015 11:08:37 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2015 11:08:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 7A81D1A1F4F
	for <dev@httpd.apache.org>; Tue, 15 Sep 2015 11:08:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 6sZnTHk1KpVT for <dev@httpd.apache.org>;
	Tue, 15 Sep 2015 11:08:31 +0000 (UTC)
Received: from mail-qg0-f42.google.com (mail-qg0-f42.google.com [209.85.192.42])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 31934205B3
	for <dev@httpd.apache.org>; Tue, 15 Sep 2015 11:08:31 +0000 (UTC)
Received: by qgez77 with SMTP id z77so139446877qge.1
        for <dev@httpd.apache.org>; Tue, 15 Sep 2015 04:08:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=XrACHyW90MIn/kb4iuznifszGh7ZyY9eV8t6Y/Uklps=;
        b=BOlrzPQCQ9pgCQ5bfGhIDMTXsytb7mjSIEfUhh1fG0BiMMoUF17Rh5JBhEx0gqdvzs
         6Y1yMy+qA88WCdqYOslUOgBJmIHkAlh4eflR04o1Bt2ZsW2QkWRU2OqhxyGIn/g4hLFq
         qYIy6YlAB8xJv3MAIt7BvMh7vD+xfwKdwBOS2Hfx1wHR/HyqAmZnOqtYc9rRaAbCC9pJ
         OWS+6yrZ/VgxSJbaJGQcG5qvzqdCrNrkpRpe50+tTAZ2rldO9JskSpEz+TM+KdUjkEb8
         q56OYkrZ78c4zgzBB4pw6tQffMrvcMBzqhH+gPXetGJvuEYxUjbxwipvNZiGVtjSMHpJ
         QUsQ==
MIME-Version: 1.0
X-Received: by 10.140.147.8 with SMTP id 8mr29542411qht.83.1442315310506; Tue,
 15 Sep 2015 04:08:30 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Tue, 15 Sep 2015 04:08:30 -0700 (PDT)
In-Reply-To: <942ED3D9-03FE-4106-BF5D-AA85B9D3EF49@greenbytes.de>
References: <20150813153307.D0EBEAC0734@hades.apache.org>
	<55F76AB7.3010008@wanadoo.fr>
	<942ED3D9-03FE-4106-BF5D-AA85B9D3EF49@greenbytes.de>
Date: Tue, 15 Sep 2015 13:08:30 +0200
Message-ID: <CAKQ1sVOaV=ipKdQvJgcSWPmd+QqFuyTqr-KcgiWB85v8gR4YpA@mail.gmail.com>
Subject: Re: svn commit: r1695727 - in /httpd/httpd/trunk: docs/manual/mod/core.xml
 include/http_core.h server/core.c server/protocol.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Tue, Sep 15, 2015 at 10:00 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> Uhm, did I mess something up (again)? My core.xml says:

I'm afraid :)

Both <description>s are equals:

> ...
> <directivesynopsis>
>     <name>Protocols</name>
>     <description>Protocols available for a server/virtual host</description>
[]
> </directivesynopsis>
>
> <directivesynopsis>
>     <name>ProtocolsHonorOrder</name>
>     <description>Protocols available for a server/virtual host</description>
[]
> </directivesynopsis>

Regards,
Yann.

From dev-return-83788-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 15 11:14:56 2015
Return-Path: <dev-return-83788-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0590317D15
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 15 Sep 2015 11:14:56 +0000 (UTC)
Received: (qmail 90716 invoked by uid 500); 15 Sep 2015 11:14:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 90650 invoked by uid 500); 15 Sep 2015 11:14:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 90640 invoked by uid 99); 15 Sep 2015 11:14:55 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2015 11:14:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 1D5BD1A1A1A
	for <dev@httpd.apache.org>; Tue, 15 Sep 2015 11:14:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id ZOJUHEShY5RW for <dev@httpd.apache.org>;
	Tue, 15 Sep 2015 11:14:42 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 5D8614414C
	for <dev@httpd.apache.org>; Tue, 15 Sep 2015 11:14:42 +0000 (UTC)
Received: from delight.greenbytes.de (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id A290815A01A7
	for <dev@httpd.apache.org>; Tue, 15 Sep 2015 13:14:39 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1695727 - in /httpd/httpd/trunk: docs/manual/mod/core.xml include/http_core.h server/core.c server/protocol.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVOaV=ipKdQvJgcSWPmd+QqFuyTqr-KcgiWB85v8gR4YpA@mail.gmail.com>
Date: Tue, 15 Sep 2015 13:14:39 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <80A6E02D-8EA0-460D-A637-0A055FBC5838@greenbytes.de>
References: <20150813153307.D0EBEAC0734@hades.apache.org> <55F76AB7.3010008@wanadoo.fr> <942ED3D9-03FE-4106-BF5D-AA85B9D3EF49@greenbytes.de> <CAKQ1sVOaV=ipKdQvJgcSWPmd+QqFuyTqr-KcgiWB85v8gR4YpA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)


> Am 15.09.2015 um 13:08 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Tue, Sep 15, 2015 at 10:00 AM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> Uhm, did I mess something up (again)? My core.xml says:
>=20
> I'm afraid :)

Ah!

> Both <description>s are equals:
>=20
>> ...
>> <directivesynopsis>
>>    <name>Protocols</name>
>>    <description>Protocols available for a server/virtual =
host</description>
> []
>> </directivesynopsis>
>>=20
>> <directivesynopsis>
>>    <name>ProtocolsHonorOrder</name>
>>    <description>Protocols available for a server/virtual =
host</description>
> []
>> </directivesynopsis>

Thx. Hopefully corrected with r1703152.

> Regards,
> Yann.

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83789-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 15 12:05:02 2015
Return-Path: <dev-return-83789-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0C34A17EEF
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 15 Sep 2015 12:05:02 +0000 (UTC)
Received: (qmail 4828 invoked by uid 500); 15 Sep 2015 12:04:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 4763 invoked by uid 500); 15 Sep 2015 12:04:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 4753 invoked by uid 99); 15 Sep 2015 12:04:58 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2015 12:04:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id C7AE9180293
	for <dev@httpd.apache.org>; Tue, 15 Sep 2015 12:04:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id pSZLsgxaiedr for <dev@httpd.apache.org>;
	Tue, 15 Sep 2015 12:04:54 +0000 (UTC)
Received: from mail-ig0-f181.google.com (mail-ig0-f181.google.com [209.85.213.181])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 531432100B
	for <dev@httpd.apache.org>; Tue, 15 Sep 2015 12:04:54 +0000 (UTC)
Received: by igcrk20 with SMTP id rk20so12481989igc.1
        for <dev@httpd.apache.org>; Tue, 15 Sep 2015 05:04:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Bzt6aurr4xTZlJz+rZ7ByYkZabvzn5sIzOknwLmKil4=;
        b=yBjYqqqwhj4e42tCQH6OxAAJOutVec/qDBGiqXcNcOHujF5SUwKFAi9zk7Sj4vYL6q
         2l3gIq90l6X4SAD1egncHMjFQuJ21osT9fisg4a8w3WEWq2WFtO7M0O2LxlF5FzRosN4
         uQDaXAbam2+z115DS5vyQCP9DP7wPhHUSaCtsUNnSWUtM9u3Rz70R5dtRhhR8UlIcGeN
         VVxBp1gmkfb/crQ/Ev+KgKYgyzmdyndPN3SwHT+rLANrDxc+d1RUYPC6B53+C0xWCvCw
         hJNW4qe+R9zcAXCn6ckDtXhyLGYo9UGTqLYp7WT1cdcWliZZnkLmgSXEH8yDm7txROPV
         zxdg==
MIME-Version: 1.0
X-Received: by 10.50.128.165 with SMTP id np5mr4938175igb.72.1442318687663;
 Tue, 15 Sep 2015 05:04:47 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Tue, 15 Sep 2015 05:04:47 -0700 (PDT)
In-Reply-To: <CAKQ1sVPDtA6X=v4CRPavmL7Yh6VdtJXmHUZ2A_yU9BQpBy3=zw@mail.gmail.com>
References: <CAKQ1sVMtQs1+6wuBL50AanrVEVQ5qtzqHc0yiuDUznGUF+VJ7Q@mail.gmail.com>
	<77B7897B-7381-4FAB-94CA-39F8B1FA8EA4@jaguNET.com>
	<CAKQ1sVM6ZA0wOu8fZGMAbYt4SEXoATNuKsXecfyRxvweHcu3sg@mail.gmail.com>
	<CACsi250tSuB++4wGD0pfdNBVxMHvQnGyNPn+5-S-HNU178VTYw@mail.gmail.com>
	<CAKQ1sVOXvSHX9FQhSvSocwJwiAH4e1bKcjjWCfMgxB3esY_r3w@mail.gmail.com>
	<CALK=YjN886qR2p2DUzCBe9T0Gbfki2mHnJ=uooWWt9yM0NUdbw@mail.gmail.com>
	<CAKQ1sVMKxza8GL5tc6yNexREbX+pRCW9qOmVSJy16C-pOvKRPw@mail.gmail.com>
	<CALK=YjPx-e3Q7ocqWVbRcUUXoKL2PynES1706i0KEYXFGgws0g@mail.gmail.com>
	<CAKQ1sVP5RJxbwAoFrSejd5DBTm7rNH9OHqwDv8nzBx94g+3eYg@mail.gmail.com>
	<CALK=YjPoNQN3=v2tMjzQZEPfAZoCpH-HEeXAk-E9UNVFQ1qH9g@mail.gmail.com>
	<CAKQ1sVPDtA6X=v4CRPavmL7Yh6VdtJXmHUZ2A_yU9BQpBy3=zw@mail.gmail.com>
Date: Tue, 15 Sep 2015 08:04:47 -0400
Message-ID: <CALK=YjMokg9_8rJFFwU97sGHRqHbuybQ26U8aH-G4JQu5W59pQ@mail.gmail.com>
Subject: Re: Balancers (file based SHMs) and restart issue (Windows only?)
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

SInce this is only on restarts, could we use the config generation
number in the filename?

From dev-return-83790-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 15 12:05:22 2015
Return-Path: <dev-return-83790-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 855D117EF5
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 15 Sep 2015 12:05:22 +0000 (UTC)
Received: (qmail 5977 invoked by uid 500); 15 Sep 2015 12:05:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 5909 invoked by uid 500); 15 Sep 2015 12:05:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 5895 invoked by uid 99); 15 Sep 2015 12:05:21 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2015 12:05:21 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 5DB10180293
	for <dev@httpd.apache.org>; Tue, 15 Sep 2015 12:05:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 8bjJTAP6neQH for <dev@httpd.apache.org>;
	Tue, 15 Sep 2015 12:05:18 +0000 (UTC)
Received: from mail-io0-f169.google.com (mail-io0-f169.google.com [209.85.223.169])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id CA82542F2F
	for <dev@httpd.apache.org>; Tue, 15 Sep 2015 12:05:17 +0000 (UTC)
Received: by ioii196 with SMTP id i196so197720510ioi.3
        for <dev@httpd.apache.org>; Tue, 15 Sep 2015 05:05:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=1E64MOwAzIETeTdveNHur5MbpokXM/eHQPUjz7VP56U=;
        b=Ka74o6HhjFB2rWGw9y8pbeB6jIo+W9ENynRbhD5cYOJuB6rgZlZjuAdYc3slQOL4xp
         YUtSyhgntF5U/ffQhRqqHuvn56G5/wb8tF0ij1LCwHIyCJohXSPvXCHIOiX3rTAJImYm
         WM2t8us2FU9OLUYJYCWC+/B5oG7pIoTExwGngygnolX+LvxXi4BtLslnM9qNgWL/MYtt
         Dy4Dc1Z1RZmKyTDDZ//pf4d+S+0BHKNr2BvO/vaKB3jVhf2lN4CyYjuptjimHemyqkFu
         Ri/bRO+qxKZ1AMEGGagDMNwZgNvbG62fECq53o1RkF86rlh9DIIpJqRcx/ib85Yu7f9A
         4F5Q==
MIME-Version: 1.0
X-Received: by 10.107.160.143 with SMTP id j137mr33677853ioe.13.1442318717425;
 Tue, 15 Sep 2015 05:05:17 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Tue, 15 Sep 2015 05:05:17 -0700 (PDT)
In-Reply-To: <CALK=YjMokg9_8rJFFwU97sGHRqHbuybQ26U8aH-G4JQu5W59pQ@mail.gmail.com>
References: <CAKQ1sVMtQs1+6wuBL50AanrVEVQ5qtzqHc0yiuDUznGUF+VJ7Q@mail.gmail.com>
	<77B7897B-7381-4FAB-94CA-39F8B1FA8EA4@jaguNET.com>
	<CAKQ1sVM6ZA0wOu8fZGMAbYt4SEXoATNuKsXecfyRxvweHcu3sg@mail.gmail.com>
	<CACsi250tSuB++4wGD0pfdNBVxMHvQnGyNPn+5-S-HNU178VTYw@mail.gmail.com>
	<CAKQ1sVOXvSHX9FQhSvSocwJwiAH4e1bKcjjWCfMgxB3esY_r3w@mail.gmail.com>
	<CALK=YjN886qR2p2DUzCBe9T0Gbfki2mHnJ=uooWWt9yM0NUdbw@mail.gmail.com>
	<CAKQ1sVMKxza8GL5tc6yNexREbX+pRCW9qOmVSJy16C-pOvKRPw@mail.gmail.com>
	<CALK=YjPx-e3Q7ocqWVbRcUUXoKL2PynES1706i0KEYXFGgws0g@mail.gmail.com>
	<CAKQ1sVP5RJxbwAoFrSejd5DBTm7rNH9OHqwDv8nzBx94g+3eYg@mail.gmail.com>
	<CALK=YjPoNQN3=v2tMjzQZEPfAZoCpH-HEeXAk-E9UNVFQ1qH9g@mail.gmail.com>
	<CAKQ1sVPDtA6X=v4CRPavmL7Yh6VdtJXmHUZ2A_yU9BQpBy3=zw@mail.gmail.com>
	<CALK=YjMokg9_8rJFFwU97sGHRqHbuybQ26U8aH-G4JQu5W59pQ@mail.gmail.com>
Date: Tue, 15 Sep 2015 08:05:17 -0400
Message-ID: <CALK=YjNCZwXSNZGwH93Jb2SdW=2iXpYy8zfcTOdkoE95MtVi3w@mail.gmail.com>
Subject: Re: Balancers (file based SHMs) and restart issue (Windows only?)
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Tue, Sep 15, 2015 at 8:04 AM, Eric Covener <covener@gmail.com> wrote:
> SInce this is only on restarts, could we use the config generation
> number in the filename?

doh, just saw 1703157

From dev-return-83791-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 16 00:09:20 2015
Return-Path: <dev-return-83791-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6059B1876E
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Sep 2015 00:09:20 +0000 (UTC)
Received: (qmail 13081 invoked by uid 500); 16 Sep 2015 00:09:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 13022 invoked by uid 500); 16 Sep 2015 00:09:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 13012 invoked by uid 99); 16 Sep 2015 00:09:19 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2015 00:09:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5D9FD1A1FE4
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 00:09:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 6vqrwIZmAJn8 for <dev@httpd.apache.org>;
	Wed, 16 Sep 2015 00:09:13 +0000 (UTC)
Received: from mail-io0-f178.google.com (mail-io0-f178.google.com [209.85.223.178])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id B85C442BB4
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 00:09:12 +0000 (UTC)
Received: by ioiz6 with SMTP id z6so214898146ioi.2
        for <dev@httpd.apache.org>; Tue, 15 Sep 2015 17:09:06 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=zvV0xMsa02WaFsI2jW4/sXMrS73q7NqHWyo+rJL0JbQ=;
        b=LxipaKwWrmz0jSfd2w1iN4KZ0QMqz4vKSEGzqQdS2XY1g9R7eC9511KjAXKF9ZQ3H1
         HOXILly7FxI1g1ti+nCd1zU+c40ES6xsWi63+VBiVasVA2BOfZzvClu6h33ODXyC8DOO
         kJoB/sRYFhkjRNd1H46yGWmPP8DdZFz/LRcQ/KOLeJ+5E6tf9g5tmIgnAs0MdFebTLYr
         hxOkE20ZE9A5j73GOVDrn9KQd2m2TFraaWS9liVuU/Tkq9MlHicojUaP1cnque/7uCjL
         NIICUWnyP3jO5Yg8i2z5kPQlj2gbZBZNeDWua2snXHfRPZT71CFZn63MYsAJqOJV9g+Q
         opIw==
X-Gm-Message-State: ALoCoQmQLojHYzhQaVeGEBeI3rrEH2j6GgVdzuVvKMZur5ZA6J1+SOEivUI8nRYWX7VCHjIHdNVy
MIME-Version: 1.0
X-Received: by 10.107.166.79 with SMTP id p76mr38693779ioe.163.1442362145841;
 Tue, 15 Sep 2015 17:09:05 -0700 (PDT)
Received: by 10.107.12.199 with HTTP; Tue, 15 Sep 2015 17:09:05 -0700 (PDT)
Received: by 10.107.12.199 with HTTP; Tue, 15 Sep 2015 17:09:05 -0700 (PDT)
In-Reply-To: <8C686BFD-13FF-45F5-9921-94C4FBBFA1D6@jaguNET.com>
References: <20150911135845.83435AC0184@hades.apache.org>
	<E59F5F7A-A290-48DB-88D8-F76E24A6979C@jaguNET.com>
	<CAKQ1sVMiErR5cmSQi0jiy0f1nUAH2MmpcaWPM3gpurEoQWmqCw@mail.gmail.com>
	<8C686BFD-13FF-45F5-9921-94C4FBBFA1D6@jaguNET.com>
Date: Tue, 15 Sep 2015 19:09:05 -0500
Message-ID: <CACsi251oVMK0tWimk8bfxE1diRSmsHkFgYcZywrKmk7=aOathA@mail.gmail.com>
Subject: Re: svn commit: r1702473 - /httpd/httpd/trunk/modules/slotmem/mod_slotmem_shm.c
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1141f37e57464b051fd21ba2

--001a1141f37e57464b051fd21ba2
Content-Type: text/plain; charset=UTF-8

On Sep 14, 2015 10:21 AM, "Jim Jagielski" <jim@jagunet.com> wrote:
>
> :)
>
> No worries, it's just that it creates an artificial delat
> between trunk and 2.4.

Simple solution is to @bug the doxygen that a change is needed, or to begin
a list of renames in STATUS to be executed prior to 2.6.0/3.0.0.

The awkward name persists while we are still largely maintaining 2.4, but
it reminds us to clean up before trunk is tagged for GA.  We did something
very similar between APR 0.9 and 1.0 and it worked rather well to keep
patches simple, plus it documented for developers just what we had changed.

--001a1141f37e57464b051fd21ba2
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">On Sep 14, 2015 10:21 AM, &quot;Jim Jagielski&quot; &lt;<a h=
ref=3D"mailto:jim@jagunet.com">jim@jagunet.com</a>&gt; wrote:<br>
&gt;<br>
&gt; :)<br>
&gt;<br>
&gt; No worries, it&#39;s just that it creates an artificial delat<br>
&gt; between trunk and 2.4.</p>
<p dir=3D"ltr">Simple solution is to @bug the doxygen that a change is need=
ed, or to begin a list of renames in STATUS to be executed prior to 2.6.0/<=
a href=3D"http://3.0.0.">3.0.0.</a></p>
<p dir=3D"ltr">The awkward name persists while we are still largely maintai=
ning 2.4, but it reminds us to clean up before trunk is tagged for GA.=C2=
=A0 We did something very similar between APR 0.9 and 1.0 and it worked rat=
her well to keep patches simple, plus it documented for developers just wha=
t we had changed.</p>

--001a1141f37e57464b051fd21ba2--

From dev-return-83792-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 16 09:13:42 2015
Return-Path: <dev-return-83792-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2DDB617B04
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Sep 2015 09:13:42 +0000 (UTC)
Received: (qmail 66816 invoked by uid 500); 16 Sep 2015 09:13:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 66746 invoked by uid 500); 16 Sep 2015 09:13:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 66732 invoked by uid 99); 16 Sep 2015 09:13:41 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2015 09:13:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 195081A2079
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 09:13:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.091
X-Spam-Level:
X-Spam-Status: No, score=-0.091 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, T_FROM_12LTRDOM=0.01,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id n1hg9941GMUp for <dev@httpd.apache.org>;
	Wed, 16 Sep 2015 09:13:32 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id AE60042B36
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 09:13:31 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1442394863;
	bh=Aj52qy8A1k8ci59E61Fgf+7gY3DIxStj2SyRPHm4O9Q=;
	h=From:To:Subject:Date;
	b=b/EY4/Lm3nPtlKENuj6vkepWmt60+Cz3n5Ze4u6As/+AY1vyTPKZlyiC50UygUDLV
	 B+yNgOW6Nwnu/0kEOtDnahHLnL3GqdFCYRKd+kv8gY2oN67UosMYHg4LrLHVzW5ucM
	 7Rr5nHuiYKtrj+Z76ilh02nrWbxDlNeQWdanA82k=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=127.0.0.1;
From: Steffen <info@apachelounge.com>
To:  <dev@httpd.apache.org>
Subject: 2.4.17-protocols-http2/ - SNI issue
Date: Wed, 16 Sep 2015 11:14:13 +0200
Message-ID: <55f932e5.7c4.be8.3af5@land10.nl>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
X-Originating-IP: 127.0.0.1
X-Mailer: SurgeWeb - Ajax Webmail Client


Build under Windows /httpd/httpd/branches/2.4.17-protocols-http2 
(Revision: 1703138) with nghttp2 v1.3.1

Was building fine, but running no go.

Using latest Chrome browser to test.

Using exact the same config as with 2.4.16, only added in server 
config:


LoadModule h2_module modules/mod_h2.so

<IfModule h2_module>
  ProtocolsHonorOrder On
  Protocols h2c h2 http/1.1
 </IfModule>

I get this error in Chrome now, with 2.4.16 all fine:


Misdirected Request. The client needs a new connection for this 
request as the requested host name does not match the Server Name 
Indication (SNI) in use for this connection.

Chrome shows it is using the H2 protocol.


In the error and access log:



[ssl:error] [pid 3428:tid 3952] AH02032: Hostname www.apachelounge.com 
provided via SNI and hostname www.apachelounge.com provided via HTTP 
are different

www.apachelounge.com 66.249.78.32 - - [16/Sep/2015:10:06:35 +0200] 
TLSv1.2 ECDHE-RSA-AES128-GCM-SHA256 "GET /viewtopic.php?p=22221 
HTTP/1.1" 421 322 "-" "Mozilla/5.0 (compatible; Googlebot/2.1; 
+http://www.google.com/bot.html)"


When I run with with the IP Chrome all looks fine, Chrome shoes  it is 
using the H2 protocol.


https://[2001:980:a510:1:d571:caed:72a0:9e9b]/  looks good
https://www.apachelounge.com/  above error



From dev-return-83793-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 16 09:25:20 2015
Return-Path: <dev-return-83793-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8260917B7C
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Sep 2015 09:25:20 +0000 (UTC)
Received: (qmail 12840 invoked by uid 500); 16 Sep 2015 09:25:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12777 invoked by uid 500); 16 Sep 2015 09:25:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12767 invoked by uid 99); 16 Sep 2015 09:25:19 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2015 09:25:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 3759BF310F
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 09:25:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, SPF_HELO_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id qaBdyLrn_efh for <dev@httpd.apache.org>;
	Wed, 16 Sep 2015 09:25:07 +0000 (UTC)
Received: from mail1.bemta5.messagelabs.com (mail1.bemta5.messagelabs.com [195.245.231.150])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id BF55D207EE
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 09:25:06 +0000 (UTC)
Received: from [85.158.136.83] by server-14.bemta-5.messagelabs.com id EE/75-19125-A6539F55; Wed, 16 Sep 2015 09:24:58 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-12.tower-36.messagelabs.com!1442395498!23871514!1
X-Originating-IP: [195.232.244.135]
X-StarScan-Received:
X-StarScan-Version: 6.13.16; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 31750 invoked from network); 16 Sep 2015 09:24:58 -0000
Received: from mailout03.vodafone.com (HELO mailout03.vodafone.com) (195.232.244.135)
  by server-12.tower-36.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 16 Sep 2015 09:24:58 -0000
Received: from mailint04.vodafone.com (mailint04.vodafone.com [195.232.244.201])
	by mailout03.vodafone.com (Postfix) with ESMTP id 3nGGGy1v7jz17HNR
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 11:24:58 +0200 (CEST)
Received: from mailint04.vodafone.com (localhost [127.0.0.1])
	by mailint04.vodafone.com (Postfix) with ESMTP id 3nGGGy10WJzfb66
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 11:24:58 +0200 (CEST)
Received: from VOEXC02W.internal.vodafone.com (voexc02w.dc-ratingen.de [145.230.101.22])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint04.vodafone.com (Postfix) with ESMTPS id 3nGGGy0xQJzfb3s
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 11:24:58 +0200 (CEST)
Received: from VOEXC09W.internal.vodafone.com (145.230.101.29) by
 VOEXC02W.internal.vodafone.com (145.230.101.22) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Wed, 16 Sep 2015 11:24:57 +0200
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.132]) by
 VOEXC09W.internal.vodafone.com ([145.230.101.29]) with mapi id
 14.03.0224.002; Wed, 16 Sep 2015 11:24:56 +0200
From: =?iso-8859-1?Q?Pl=FCm=2C_R=FCdiger=2C_Vodafone_Group?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: 2.4.17-protocols-http2/ - SNI issue
Thread-Topic: 2.4.17-protocols-http2/ - SNI issue
Thread-Index: AQHQ8F/8qGquSNDxHkCy76Joh8rFT54+4Wew
Date: Wed, 16 Sep 2015 09:24:55 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC6318B25@VOEXM10W.internal.vodafone.com>
References: <55f932e5.7c4.be8.3af5@land10.nl>
In-Reply-To: <55f932e5.7c4.be8.3af5@land10.nl>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0



> -----Original Message-----
> From: Steffen=20
> Sent: Mittwoch, 16. September 2015 11:14
> To: dev@httpd.apache.org
> Subject: 2.4.17-protocols-http2/ - SNI issue
>=20
>=20
> Build under Windows /httpd/httpd/branches/2.4.17-protocols-http2
> (Revision: 1703138) with nghttp2 v1.3.1
>=20
> Was building fine, but running no go.
>=20
> Using latest Chrome browser to test.
>=20
> Using exact the same config as with 2.4.16, only added in server
> config:
>=20
>=20
> LoadModule h2_module modules/mod_h2.so
>=20
> <IfModule h2_module>
>   ProtocolsHonorOrder On
>   Protocols h2c h2 http/1.1
>  </IfModule>
>=20
> I get this error in Chrome now, with 2.4.16 all fine:
>=20
>=20
> Misdirected Request. The client needs a new connection for this
> request as the requested host name does not match the Server Name
> Indication (SNI) in use for this connection.
>=20
> Chrome shows it is using the H2 protocol.
>=20
>=20
> In the error and access log:
>=20
>=20
>=20
> [ssl:error] [pid 3428:tid 3952] AH02032: Hostname www.apachelounge.com
> provided via SNI and hostname www.apachelounge.com provided via HTTP
> are different

The above is very weird as both times we see www.apachelounge.com. Can you =
please check the logs with some kind of hex tool if there is really no diff=
erence between both strings? The logic to detect a difference in the code i=
s just a usual strcasecmp. So I sense some hidden characters somewhere, whi=
ch might give us a hint where things go really wrong.

Regards

R=FCdiger


From dev-return-83794-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 16 09:36:26 2015
Return-Path: <dev-return-83794-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7972917BFA
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Sep 2015 09:36:26 +0000 (UTC)
Received: (qmail 48926 invoked by uid 500); 16 Sep 2015 09:36:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48839 invoked by uid 500); 16 Sep 2015 09:36:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48829 invoked by uid 99); 16 Sep 2015 09:36:25 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2015 09:36:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 8D175180976
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 09:36:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.099
X-Spam-Level:
X-Spam-Status: No, score=-0.099 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id WJFRXGxJzQcY for <dev@httpd.apache.org>;
	Wed, 16 Sep 2015 09:36:11 +0000 (UTC)
Received: from mail-qk0-f175.google.com (mail-qk0-f175.google.com [209.85.220.175])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 122D944154
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 09:36:11 +0000 (UTC)
Received: by qkfq186 with SMTP id q186so83642675qkf.1
        for <dev@httpd.apache.org>; Wed, 16 Sep 2015 02:36:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=EKAt5vUV9FZaCyVlsdgHPM0b7DujnkfbyGm4XDzMq9o=;
        b=vWQujJNFLxUWAOJSZMjxg/ROxzknGkSBuV7dWUztP30YHX0OatKHgwcEgl5eJnuUuA
         mhPLRCPUHzb/Tzl7jaHRqZvsu+XXosX0CAOWqiQV1VLWB/aR0N26U/DzjS0GLPTcV7DE
         wHhmX30iKULy/SycYhS7l32N5u2DnPZodqm+/dDgzdymKseywPr1WBi+6hz4kilDxNJo
         1dDevimXfCkbIJsyAocrMK8jUyU3COlCn5fP/1485ZuIOVuhdTGl4cXugcRvi5bsk0yD
         Ba6gAExl3TdZmOWWhxMkzWIpjSrGp51Z89Ziwdha6fNPUMpRS7Q7jnJhJp5rylE0XEeC
         lO/g==
MIME-Version: 1.0
X-Received: by 10.55.22.143 with SMTP id 15mr39714251qkw.38.1442396170799;
 Wed, 16 Sep 2015 02:36:10 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Wed, 16 Sep 2015 02:36:10 -0700 (PDT)
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC6318B25@VOEXM10W.internal.vodafone.com>
References: <55f932e5.7c4.be8.3af5@land10.nl>
	<AB1691BE05AE7F4992697F2A0835627AC6318B25@VOEXM10W.internal.vodafone.com>
Date: Wed, 16 Sep 2015 11:36:10 +0200
Message-ID: <CAKQ1sVNO834LqxxQLvkGp9jtBS3G2Q6dpeoMf8==fiGN6y-bMQ@mail.gmail.com>
Subject: Re: 2.4.17-protocols-http2/ - SNI issue
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Sep 16, 2015 at 11:24 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
<ruediger.pluem@vodafone.com> wrote:
>
>> -----Original Message-----
>> From: Steffen
>> Sent: Mittwoch, 16. September 2015 11:14
>> To: dev@httpd.apache.org
>> Subject: 2.4.17-protocols-http2/ - SNI issue
[]
>>
>> [ssl:error] [pid 3428:tid 3952] AH02032: Hostname www.apachelounge.com
>> provided via SNI and hostname www.apachelounge.com provided via HTTP
>> are different
>
> The above is very weird as both times we see www.apachelounge.com. Can yo=
u please check the logs with some kind of hex tool if there is really no di=
fference between both strings? The logic to detect a difference in the code=
 is just a usual strcasecmp. So I sense some hidden characters somewhere, w=
hich might give us a hint where things go really wrong.

ISTM that the test should be:
            if (strcasecmp(host, servername)
                || (sslconn->server
                    && !ssl_util_vhost_matches(host, sslconn->server)))

instead of:
           if (strcasecmp(host, servername)
                || !sslconn->server
                || !ssl_util_vhost_matches(host, sslconn->server))

Not sure sslconn->server isn't NULL here for the first request.

Regards,
Yann.

From dev-return-83795-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 16 09:38:13 2015
Return-Path: <dev-return-83795-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8BB9E17C08
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Sep 2015 09:38:13 +0000 (UTC)
Received: (qmail 53339 invoked by uid 500); 16 Sep 2015 09:38:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53258 invoked by uid 500); 16 Sep 2015 09:38:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53248 invoked by uid 99); 16 Sep 2015 09:38:08 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2015 09:38:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A5388F3164
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 09:38:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id PNlXZiI8QMrY for <dev@httpd.apache.org>;
	Wed, 16 Sep 2015 09:37:57 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 0456220F6D
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 09:37:56 +0000 (UTC)
Received: from [192.168.178.55] (unknown [84.189.81.50])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id F3F5D15A0053
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 11:37:48 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain;
	charset=utf-8
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: 2.4.17-protocols-http2/ - SNI issue
Message-Id: <65125EDC-C78B-4B2E-855A-A37FA2D5A2CD@greenbytes.de>
Date: Wed, 16 Sep 2015 11:37:48 +0200
References: <55f932e5.7c4.be8.3af5@land10.nl> <AB1691BE05AE7F4992697F2A0835627AC6318B25@VOEXM10W.internal.vodafone.com> <CAKQ1sVNO834LqxxQLvkGp9jtBS3G2Q6dpeoMf8==fiGN6y-bMQ@mail.gmail.com>
In-Reply-To: <CAKQ1sVNO834LqxxQLvkGp9jtBS3G2Q6dpeoMf8==fiGN6y-bMQ@mail.gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
X-Mailer: iPhone Mail (12H321)

Good point. Limited online today. If someone wants to give this a shot, plea=
se.=20

> Am 16.09.2015 um 11:36 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Wed, Sep 16, 2015 at 11:24 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
> <ruediger.pluem@vodafone.com> wrote:
>>=20
>>> -----Original Message-----
>>> From: Steffen
>>> Sent: Mittwoch, 16. September 2015 11:14
>>> To: dev@httpd.apache.org
>>> Subject: 2.4.17-protocols-http2/ - SNI issue
> []
>>>=20
>>> [ssl:error] [pid 3428:tid 3952] AH02032: Hostname www.apachelounge.com
>>> provided via SNI and hostname www.apachelounge.com provided via HTTP
>>> are different
>>=20
>> The above is very weird as both times we see www.apachelounge.com. Can yo=
u please check the logs with some kind of hex tool if there is really no dif=
ference between both strings? The logic to detect a difference in the code i=
s just a usual strcasecmp. So I sense some hidden characters somewhere, whic=
h might give us a hint where things go really wrong.
>=20
> ISTM that the test should be:
>            if (strcasecmp(host, servername)
>                || (sslconn->server
>                    && !ssl_util_vhost_matches(host, sslconn->server)))
>=20
> instead of:
>           if (strcasecmp(host, servername)
>                || !sslconn->server
>                || !ssl_util_vhost_matches(host, sslconn->server))
>=20
> Not sure sslconn->server isn't NULL here for the first request.
>=20
> Regards,
> Yann.

From dev-return-83796-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 16 10:05:39 2015
Return-Path: <dev-return-83796-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4186017CFE
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Sep 2015 10:05:39 +0000 (UTC)
Received: (qmail 25492 invoked by uid 500); 16 Sep 2015 10:05:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 25331 invoked by uid 500); 16 Sep 2015 10:05:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 25159 invoked by uid 99); 16 Sep 2015 10:05:15 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2015 10:05:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id E0728F2E21
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 10:05:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.001
X-Spam-Level: *
X-Spam-Status: No, score=1.001 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id KUAU0YEBTojH for <dev@httpd.apache.org>;
	Wed, 16 Sep 2015 10:05:03 +0000 (UTC)
Received: from mail1.bemta5.messagelabs.com (mail1.bemta5.messagelabs.com [195.245.231.153])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id A203121008
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 10:05:02 +0000 (UTC)
Received: from [85.158.139.163] by server-17.bemta-5.messagelabs.com id 34/F0-02380-6CE39F55; Wed, 16 Sep 2015 10:04:54 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-5.tower-188.messagelabs.com!1442397876!23789090!1
X-Originating-IP: [195.232.244.135]
X-StarScan-Received:
X-StarScan-Version: 6.13.16; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 3226 invoked from network); 16 Sep 2015 10:04:36 -0000
Received: from mailout03.vodafone.com (HELO mailout03.vodafone.com) (195.232.244.135)
  by server-5.tower-188.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 16 Sep 2015 10:04:36 -0000
Received: from mailint01.vodafone.com (mailint01.vodafone.com [195.232.244.198])
	by mailout03.vodafone.com (Postfix) with ESMTP id 3nGH8h1P1hz17HNR
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 12:04:36 +0200 (CEST)
Received: from mailint01.vodafone.com (localhost [127.0.0.1])
	by mailint01.vodafone.com (Postfix) with ESMTP id 3nGH8h0SXBzxQBs
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 12:04:36 +0200 (CEST)
Received: from VOEXC01W.internal.vodafone.com (voexc01w.dc-ratingen.de [145.230.101.21])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint01.vodafone.com (Postfix) with ESMTPS id 3nGH8h0MqFzxQBy
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 12:04:35 +0200 (CEST)
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.132]) by
 VOEXC01W.internal.vodafone.com ([145.230.101.21]) with mapi id
 14.03.0224.002; Wed, 16 Sep 2015 12:04:32 +0200
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: 2.4.17-protocols-http2/ - SNI issue
Thread-Topic: 2.4.17-protocols-http2/ - SNI issue
Thread-Index: AQHQ8F/8qGquSNDxHkCy76Joh8rFT54+4Wew///ijwCAAAB1AIAAKFRQ
Date: Wed, 16 Sep 2015 10:04:32 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC6318B73@VOEXM10W.internal.vodafone.com>
References: <55f932e5.7c4.be8.3af5@land10.nl>
 <AB1691BE05AE7F4992697F2A0835627AC6318B25@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVNO834LqxxQLvkGp9jtBS3G2Q6dpeoMf8==fiGN6y-bMQ@mail.gmail.com>
 <65125EDC-C78B-4B2E-855A-A37FA2D5A2CD@greenbytes.de>
In-Reply-To: <65125EDC-C78B-4B2E-855A-A37FA2D5A2CD@greenbytes.de>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

DQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogU3RlZmFuIEVpc3Npbmcg
W21haWx0bzpzdGVmYW4uZWlzc2luZ0BncmVlbmJ5dGVzLmRlXQ0KPiBTZW50OiBNaXR0d29jaCwg
MTYuIFNlcHRlbWJlciAyMDE1IDExOjM4DQo+IFRvOiBkZXZAaHR0cGQuYXBhY2hlLm9yZw0KPiBT
dWJqZWN0OiBSZTogMi40LjE3LXByb3RvY29scy1odHRwMi8gLSBTTkkgaXNzdWUNCj4gDQo+IEdv
b2QgcG9pbnQuIExpbWl0ZWQgb25saW5lIHRvZGF5LiBJZiBzb21lb25lIHdhbnRzIHRvIGdpdmUg
dGhpcyBhIHNob3QsDQo+IHBsZWFzZS4NCj4gDQo+ID4gQW0gMTYuMDkuMjAxNSB1bSAxMTozNiBz
Y2hyaWViIFlhbm4gWWxhdmljIDx5bGF2aWMuZGV2QGdtYWlsLmNvbT46DQo+ID4NCj4gPiBPbiBX
ZWQsIFNlcCAxNiwgMjAxNSBhdCAxMToyNCBBTSwgUGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBH
cm91cA0KPiA+IDxydWVkaWdlci5wbHVlbUB2b2RhZm9uZS5jb20+IHdyb3RlOg0KPiA+Pg0KPiA+
Pj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gPj4+IEZyb206IFN0ZWZmZW4NCj4gPj4+
IFNlbnQ6IE1pdHR3b2NoLCAxNi4gU2VwdGVtYmVyIDIwMTUgMTE6MTQNCj4gPj4+IFRvOiBkZXZA
aHR0cGQuYXBhY2hlLm9yZw0KPiA+Pj4gU3ViamVjdDogMi40LjE3LXByb3RvY29scy1odHRwMi8g
LSBTTkkgaXNzdWUNCj4gPiBbXQ0KPiA+Pj4NCj4gPj4+IFtzc2w6ZXJyb3JdIFtwaWQgMzQyODp0
aWQgMzk1Ml0gQUgwMjAzMjogSG9zdG5hbWUgd3d3LmFwYWNoZWxvdW5nZS5jb20NCj4gPj4+IHBy
b3ZpZGVkIHZpYSBTTkkgYW5kIGhvc3RuYW1lIHd3dy5hcGFjaGVsb3VuZ2UuY29tIHByb3ZpZGVk
IHZpYSBIVFRQDQo+ID4+PiBhcmUgZGlmZmVyZW50DQo+ID4+DQo+ID4+IFRoZSBhYm92ZSBpcyB2
ZXJ5IHdlaXJkIGFzIGJvdGggdGltZXMgd2Ugc2VlIHd3dy5hcGFjaGVsb3VuZ2UuY29tLiBDYW4N
Cj4geW91IHBsZWFzZSBjaGVjayB0aGUgbG9ncyB3aXRoIHNvbWUga2luZCBvZiBoZXggdG9vbCBp
ZiB0aGVyZSBpcyByZWFsbHkgbm8NCj4gZGlmZmVyZW5jZSBiZXR3ZWVuIGJvdGggc3RyaW5ncz8g
VGhlIGxvZ2ljIHRvIGRldGVjdCBhIGRpZmZlcmVuY2UgaW4gdGhlDQo+IGNvZGUgaXMganVzdCBh
IHVzdWFsIHN0cmNhc2VjbXAuIFNvIEkgc2Vuc2Ugc29tZSBoaWRkZW4gY2hhcmFjdGVycw0KPiBz
b21ld2hlcmUsIHdoaWNoIG1pZ2h0IGdpdmUgdXMgYSBoaW50IHdoZXJlIHRoaW5ncyBnbyByZWFs
bHkgd3JvbmcuDQoNCkFoaCBJIGRpZCBtaXNzIHRoYXQgaGUgdXNlZCBTdGVmYW5zIGJyYW5jaCBh
bmQgbm90IHRoZSAyLjQueCBicmFuY2guDQoNCj4gPg0KPiA+IElTVE0gdGhhdCB0aGUgdGVzdCBz
aG91bGQgYmU6DQo+ID4gICAgICAgICAgICBpZiAoc3RyY2FzZWNtcChob3N0LCBzZXJ2ZXJuYW1l
KQ0KPiA+ICAgICAgICAgICAgICAgIHx8IChzc2xjb25uLT5zZXJ2ZXINCj4gPiAgICAgICAgICAg
ICAgICAgICAgJiYgIXNzbF91dGlsX3Zob3N0X21hdGNoZXMoaG9zdCwgc3NsY29ubi0+c2VydmVy
KSkpDQo+ID4NCj4gPiBpbnN0ZWFkIG9mOg0KPiA+ICAgICAgICAgICBpZiAoc3RyY2FzZWNtcCho
b3N0LCBzZXJ2ZXJuYW1lKQ0KPiA+ICAgICAgICAgICAgICAgIHx8ICFzc2xjb25uLT5zZXJ2ZXIN
Cj4gPiAgICAgICAgICAgICAgICB8fCAhc3NsX3V0aWxfdmhvc3RfbWF0Y2hlcyhob3N0LCBzc2xj
b25uLT5zZXJ2ZXIpKQ0KPiA+DQo+ID4gTm90IHN1cmUgc3NsY29ubi0+c2VydmVyIGlzbid0IE5V
TEwgaGVyZSBmb3IgdGhlIGZpcnN0IHJlcXVlc3QuDQoNCkkgc2hvdWxkbid0IGJlLiBNYXliZSBz
ZXR0aW5nIHRoZSBsb2dsZXZlbCB0byBEZWJ1ZyBjb3VsZCBoZWxwIHRvIHNlZSB0aGUgb3RoZXIg
U05JIHN0dWZmIHRoYXQgd2FzIGdvaW5nIG9uIGJlZm9yZSBhbmQgaWYgaXQgY29ycmVjdGx5IGlk
ZW50aWZpZWQgdGhlIGNvcnJlY3Qgdmhvc3QgdmlhIFNOSS4NCg0KUmVnYXJkcw0KDQpSw7xkaWdl
cg0K

From dev-return-83797-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 16 10:16:34 2015
Return-Path: <dev-return-83797-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A5CB717DC9
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Sep 2015 10:16:34 +0000 (UTC)
Received: (qmail 60586 invoked by uid 500); 16 Sep 2015 10:16:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 60515 invoked by uid 500); 16 Sep 2015 10:16:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 60504 invoked by uid 99); 16 Sep 2015 10:16:34 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2015 10:16:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id A03F018098E
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 10:16:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id ufdTPQKGsrM0 for <dev@httpd.apache.org>;
	Wed, 16 Sep 2015 10:16:29 +0000 (UTC)
Received: from mail-qk0-f180.google.com (mail-qk0-f180.google.com [209.85.220.180])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id A1FC9205B3
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 10:16:28 +0000 (UTC)
Received: by qkcf65 with SMTP id f65so84059975qkc.3
        for <dev@httpd.apache.org>; Wed, 16 Sep 2015 03:16:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=LRWQqs3P91JxDH0ZRb6OMZruwxAFtwuV/P/fomeohRI=;
        b=1E32WwHtdOeuNcVLWamXINVZpNxk0RbdubY5JLwXpvYS/H009Lf7bdW1ACzKO1XLVs
         ozp0JjB+vtXFaL+fXZwcmAMFSxSKOowmNdHl9lIsYznCdHuPu9eDCNsqJb+l5ZD1YZEq
         Um+bwIiK5SkTG5dU2pTpOfOyKkz/fcLWncP3akNfeJrdE5yvBIyjVR7mj8/5UFiIqkyb
         a9ybb43PeBvt9sBMVJ3Yd5a1PeuCcMjk1Fc3K8ot73m2beVkY8qE5g7WhIzr1Ym9wlGc
         PpFQX21uAPkqRVfVbm54DxM05V1d33zA6fa4TcJ88Vd6eR0vQRuwi5D1015NU0eOmSNE
         0y8w==
MIME-Version: 1.0
X-Received: by 10.55.22.143 with SMTP id 15mr39949628qkw.38.1442398587894;
 Wed, 16 Sep 2015 03:16:27 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Wed, 16 Sep 2015 03:16:27 -0700 (PDT)
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC6318B73@VOEXM10W.internal.vodafone.com>
References: <55f932e5.7c4.be8.3af5@land10.nl>
	<AB1691BE05AE7F4992697F2A0835627AC6318B25@VOEXM10W.internal.vodafone.com>
	<CAKQ1sVNO834LqxxQLvkGp9jtBS3G2Q6dpeoMf8==fiGN6y-bMQ@mail.gmail.com>
	<65125EDC-C78B-4B2E-855A-A37FA2D5A2CD@greenbytes.de>
	<AB1691BE05AE7F4992697F2A0835627AC6318B73@VOEXM10W.internal.vodafone.com>
Date: Wed, 16 Sep 2015 12:16:27 +0200
Message-ID: <CAKQ1sVP+BzgFu9tXpnSB8Jk+f6rb5KzUdCTT1+OppJGdPR+gPg@mail.gmail.com>
Subject: Re: 2.4.17-protocols-http2/ - SNI issue
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Sep 16, 2015 at 12:04 PM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
<ruediger.pluem@vodafone.com> wrote:
>
>> > Am 16.09.2015 um 11:36 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>> >
>> > ISTM that the test should be:
>> >            if (strcasecmp(host, servername)
>> >                || (sslconn->server
>> >                    && !ssl_util_vhost_matches(host, sslconn->server)))
>> >
>> > instead of:
>> >           if (strcasecmp(host, servername)
>> >                || !sslconn->server
>> >                || !ssl_util_vhost_matches(host, sslconn->server))
>> >
>> > Not sure sslconn->server isn't NULL here for the first request.
>
> I shouldn't be.

Right, the issue is possibly here:

Index: modules/ssl/ssl_engine_kernel.c
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
--- modules/ssl/ssl_engine_kernel.c    (revision 1703149)
+++ modules/ssl/ssl_engine_kernel.c    (working copy)
@@ -1937,7 +1937,7 @@ static apr_status_t init_vhost(conn_rec *c, SSL *s
     if (c) {
         SSLConnRec *sslcon =3D myConnConfig(c);

-        if (sslcon->server !=3D c->base_server) {
+        if (sslcon->server && sslcon->server !=3D c->base_server) {
             /* already found the vhost */
             return APR_SUCCESS;
         }
--

> Maybe setting the loglevel to Debug could help to see the other SNI stuff=
 that was going on before and if it correctly identified the correct vhost =
via SNI.

+1

From dev-return-83798-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 16 11:22:42 2015
Return-Path: <dev-return-83798-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 06D8217FAC
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Sep 2015 11:22:42 +0000 (UTC)
Received: (qmail 12667 invoked by uid 500); 16 Sep 2015 11:22:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 12593 invoked by uid 500); 16 Sep 2015 11:22:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 12582 invoked by uid 99); 16 Sep 2015 11:22:38 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2015 11:22:38 +0000
Received: from gauss.localdomain (v4-861345e7.pool.vitroconnect.de [134.19.69.231])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id BFC141A0181
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 11:22:37 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 079A71D8
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 13:22:36 +0200 (CEST)
Subject: Re: 2.4.17-protocols-http2/ - SNI issue
To: dev@httpd.apache.org
References: <55f932e5.7c4.be8.3af5@land10.nl>
 <AB1691BE05AE7F4992697F2A0835627AC6318B25@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVNO834LqxxQLvkGp9jtBS3G2Q6dpeoMf8==fiGN6y-bMQ@mail.gmail.com>
 <65125EDC-C78B-4B2E-855A-A37FA2D5A2CD@greenbytes.de>
 <AB1691BE05AE7F4992697F2A0835627AC6318B73@VOEXM10W.internal.vodafone.com>
 <CAKQ1sVP+BzgFu9tXpnSB8Jk+f6rb5KzUdCTT1+OppJGdPR+gPg@mail.gmail.com>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <55F950FB.9080500@apache.org>
Date: Wed, 16 Sep 2015 13:22:35 +0200
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:38.0) Gecko/20100101
 Firefox/38.0 SeaMonkey/2.35
MIME-Version: 1.0
In-Reply-To: <CAKQ1sVP+BzgFu9tXpnSB8Jk+f6rb5KzUdCTT1+OppJGdPR+gPg@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 09/16/2015 12:16 PM, Yann Ylavic wrote:
> On Wed, Sep 16, 2015 at 12:04 PM, Plüm, Rüdiger, Vodafone Group
> <ruediger.pluem@vodafone.com> wrote:
>>
>>>> Am 16.09.2015 um 11:36 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>>>
>>>> ISTM that the test should be:
>>>>            if (strcasecmp(host, servername)
>>>>                || (sslconn->server
>>>>                    && !ssl_util_vhost_matches(host, sslconn->server)))
>>>>
>>>> instead of:
>>>>           if (strcasecmp(host, servername)
>>>>                || !sslconn->server
>>>>                || !ssl_util_vhost_matches(host, sslconn->server))
>>>>
>>>> Not sure sslconn->server isn't NULL here for the first request.
>>
>> I shouldn't be.
> 
> Right, the issue is possibly here:
> 
> Index: modules/ssl/ssl_engine_kernel.c
> ===================================================================
> --- modules/ssl/ssl_engine_kernel.c    (revision 1703149)
> +++ modules/ssl/ssl_engine_kernel.c    (working copy)
> @@ -1937,7 +1937,7 @@ static apr_status_t init_vhost(conn_rec *c, SSL *s
>      if (c) {
>          SSLConnRec *sslcon = myConnConfig(c);
> 
> -        if (sslcon->server != c->base_server) {
> +        if (sslcon->server && sslcon->server != c->base_server) {
>              /* already found the vhost */
>              return APR_SUCCESS;
>          }
> --

I don't think that this is the issue, because of (from mod_ssl.c):

static SSLConnRec *ssl_init_connection_ctx(conn_rec *c)
{
    SSLConnRec *sslconn = myConnConfig(c);

    if (sslconn) {
        return sslconn;
    }

    sslconn = apr_pcalloc(c->pool, sizeof(*sslconn));

    sslconn->server = c->base_server;
    sslconn->verify_depth = UNSET;

    myConnConfigSet(c, sslconn);

    return sslconn;
}


Regards

Rüdiger

From dev-return-83799-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 16 14:51:06 2015
Return-Path: <dev-return-83799-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 44637187F8
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Sep 2015 14:51:06 +0000 (UTC)
Received: (qmail 39815 invoked by uid 500); 16 Sep 2015 14:51:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39753 invoked by uid 500); 16 Sep 2015 14:51:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 39743 invoked by uid 99); 16 Sep 2015 14:51:05 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2015 14:51:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 5A254F32F2
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 14:51:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.898
X-Spam-Level: **
X-Spam-Status: No, score=2.898 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id WvIjN4KI2G7i for <dev@httpd.apache.org>;
	Wed, 16 Sep 2015 14:51:04 +0000 (UTC)
Received: from mail-vk0-f48.google.com (mail-vk0-f48.google.com [209.85.213.48])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 8AED723123
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 14:51:03 +0000 (UTC)
Received: by vkfp126 with SMTP id p126so102450588vkf.3
        for <dev@httpd.apache.org>; Wed, 16 Sep 2015 07:50:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=nlevix6p118tOrZwcYzjpUvswRTfAwqKz7MvO7soLLk=;
        b=nWEZ5WTbERRIYIXXyXxpeGuepOCgsVv1f5W+W3amNVcyKmNRVH3KtD4S+0rD5C2KRz
         +nhz9nmBKlxTm9fr0WjXSKMfUP7Q+12FTNhk9nhLaDt4NeZ9PYrlMMYwajx5u7j+GuNL
         XzKDty+aDSBXQhZOmOD6paS4Gm3eFqKabA0bcAXfPiqiZhv+XQS10ogbz3kn8bgERWAl
         0XjrvQJgYdqs7zF0ODU6mrj9pZvnFmY2Z3S0kf6VaoDaJZoMD4dPrm/6B0TENPcjcxS7
         bYi87+qbiVDLNKfrDRRwy6v/4PKBJoRheiOGETKRlH8gpVJvqYHXI9ByYr0DhRjrLPhC
         TC9g==
MIME-Version: 1.0
X-Received: by 10.31.152.74 with SMTP id a71mr30187608vke.116.1442415055849;
 Wed, 16 Sep 2015 07:50:55 -0700 (PDT)
Received: by 10.31.180.134 with HTTP; Wed, 16 Sep 2015 07:50:55 -0700 (PDT)
In-Reply-To: <20150916141850.82DDAAC022D@hades.apache.org>
References: <20150916141850.82DDAAC022D@hades.apache.org>
Date: Wed, 16 Sep 2015 09:50:55 -0500
Message-ID: <CABD8fLXZHR6nkXa2Z_kuafeC7PCiymno+LeOZ1ux3CPZzKejWw@mail.gmail.com>
Subject: Re: svn commit: r1703415 - in /httpd/test/framework/trunk/c-modules:
 authany/mod_authany.c test_session/mod_test_session.c
From: Greg Stein <gstein@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a1141ecb005cda3051fde6dcb

--001a1141ecb005cda3051fde6dcb
Content-Type: text/plain; charset=UTF-8

On Wed, Sep 16, 2015 at 9:18 AM, <jim@apache.org> wrote:

> Author: jim
> Date: Wed Sep 16 14:18:49 2015
> New Revision: 1703415
>
>...

> Modified:
> httpd/test/framework/trunk/c-modules/test_session/mod_test_session.c
> URL:
> http://svn.apache.org/viewvc/httpd/test/framework/trunk/c-modules/test_session/mod_test_session.c?rev=1703415&r1=1703414&r2=1703415&view=diff
>
> ==============================================================================
> --- httpd/test/framework/trunk/c-modules/test_session/mod_test_session.c
> (original)
> +++ httpd/test/framework/trunk/c-modules/test_session/mod_test_session.c
> Wed Sep 16 14:18:49 2015
> @@ -149,7 +149,6 @@ static apr_status_t test_session_encode(
>
>  static apr_status_t test_session_decode(request_rec * r, session_rec * z)
>  {
> -    apr_status_t result = OK;
>      const size_t prefix_len = strlen(TEST_SESSION_ENCODING_PREFIX);
>      test_session_dcfg_t *dconf = ap_get_module_config(r->per_dir_config,
>
>  &test_session_module);
> @@ -203,7 +202,7 @@ static int test_session_handler(request_
>          return DECLINED;
>
>      /* Copy the header for SessionHeader from the request to the
> response. */
> -    if (overrides = apr_table_get(r->headers_in, TEST_SESSION_HEADER))
> +    if ((overrides = apr_table_get(r->headers_in, TEST_SESSION_HEADER)))
>          apr_table_setn(r->headers_out, TEST_SESSION_HEADER, overrides);
>
>      /* Additional commands to test the session API via POST. */
> @@ -240,15 +239,15 @@ static int test_session_handler(request_
>              }
>              else if (!strcmp(pair->name, "name")) {
>                  apr_size_t len;
> -                apr_brigade_length(pair->value, 1, &len);
> +                apr_brigade_length(pair->value, 1, (apr_off_t *)&len);
>

This seems really dangerous. Aren't there cases where sizeof(apr_size_t) !=
sizeof(apr_off_t) ??


>                  fieldName = apr_pcalloc(r->pool, sizeof(char) * len + 1);
> -                result = apr_brigade_flatten(pair->value, fieldName,
> &len);
> +                result = apr_brigade_flatten(pair->value, fieldName,
> (apr_size_t *)&len);
>

This seems unnecessary. &len should already be apr_size_t *


>              }
>              else if (!strcmp(pair->name, "value")) {
>                  apr_size_t len;
> -                apr_brigade_length(pair->value, 1, &len);
> +                apr_brigade_length(pair->value, 1, (apr_off_t *)&len);
>                  fieldValue = apr_pcalloc(r->pool, sizeof(char) * len + 1);
> -                result = apr_brigade_flatten(pair->value, fieldValue,
> &len);
> +                result = apr_brigade_flatten(pair->value, fieldValue,
> (apr_size_t *)&len);
>

These two, same as above.

Heh. I haven't reviewed httpd code for years. But I saw a change to
mod_authany.c and thought "what is that? isn't that module crazy stable?"
... curiosity :-P

Cheers,
-g

--001a1141ecb005cda3051fde6dcb
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On W=
ed, Sep 16, 2015 at 9:18 AM,  <span dir=3D"ltr">&lt;<a href=3D"mailto:jim@a=
pache.org" target=3D"_blank">jim@apache.org</a>&gt;</span> wrote:</div><div=
 class=3D"gmail_quote"><blockquote class=3D"gmail_quote" style=3D"margin:0 =
0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Author: jim<br>
Date: Wed Sep 16 14:18:49 2015<br>
New Revision: 1703415<br></blockquote><div>&gt;...=C2=A0</div><blockquote c=
lass=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;=
padding-left:1ex">Modified: httpd/test/framework/trunk/c-modules/test_sessi=
on/mod_test_session.c<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/test/framework/trunk/c-m=
odules/test_session/mod_test_session.c?rev=3D1703415&amp;r1=3D1703414&amp;r=
2=3D1703415&amp;view=3Ddiff" rel=3D"noreferrer" target=3D"_blank">http://sv=
n.apache.org/viewvc/httpd/test/framework/trunk/c-modules/test_session/mod_t=
est_session.c?rev=3D1703415&amp;r1=3D1703414&amp;r2=3D1703415&amp;view=3Ddi=
ff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/test/framework/trunk/c-modules/test_session/mod_test_session.c (o=
riginal)<br>
+++ httpd/test/framework/trunk/c-modules/test_session/mod_test_session.c We=
d Sep 16 14:18:49 2015<br>
@@ -149,7 +149,6 @@ static apr_status_t test_session_encode(<br>
<br>
=C2=A0static apr_status_t test_session_decode(request_rec * r, session_rec =
* z)<br>
=C2=A0{<br>
-=C2=A0 =C2=A0 apr_status_t result =3D OK;<br>
=C2=A0 =C2=A0 =C2=A0const size_t prefix_len =3D strlen(TEST_SESSION_ENCODIN=
G_PREFIX);<br>
=C2=A0 =C2=A0 =C2=A0test_session_dcfg_t *dconf =3D ap_get_module_config(r-&=
gt;per_dir_config,<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0&amp;test_session_module);<=
br>
@@ -203,7 +202,7 @@ static int test_session_handler(request_<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0return DECLINED;<br>
<br>
=C2=A0 =C2=A0 =C2=A0/* Copy the header for SessionHeader from the request t=
o the response. */<br>
-=C2=A0 =C2=A0 if (overrides =3D apr_table_get(r-&gt;headers_in, TEST_SESSI=
ON_HEADER))<br>
+=C2=A0 =C2=A0 if ((overrides =3D apr_table_get(r-&gt;headers_in, TEST_SESS=
ION_HEADER)))<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0apr_table_setn(r-&gt;headers_out, TEST_SE=
SSION_HEADER, overrides);<br>
<br>
=C2=A0 =C2=A0 =C2=A0/* Additional commands to test the session API via POST=
. */<br>
@@ -240,15 +239,15 @@ static int test_session_handler(request_<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0}<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0else if (!strcmp(pair-&gt;n=
ame, &quot;name&quot;)) {<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0apr_size_t le=
n;<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 apr_brigade_length=
(pair-&gt;value, 1, &amp;len);<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 apr_brigade_length=
(pair-&gt;value, 1, (apr_off_t *)&amp;len);<br></blockquote><div><br></div>=
<div>This seems really dangerous. Aren&#39;t there cases where sizeof(apr_s=
ize_t) !=3D sizeof(apr_off_t) ??</div><div>=C2=A0</div><blockquote class=3D=
"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding=
-left:1ex">
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0fieldName =3D=
 apr_pcalloc(r-&gt;pool, sizeof(char) * len + 1);<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 result =3D apr_bri=
gade_flatten(pair-&gt;value, fieldName, &amp;len);<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 result =3D apr_bri=
gade_flatten(pair-&gt;value, fieldName, (apr_size_t *)&amp;len);<br></block=
quote><div><br></div><div>This seems unnecessary. &amp;len should already b=
e apr_size_t *</div><div>=C2=A0</div><blockquote class=3D"gmail_quote" styl=
e=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0}<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0else if (!strcmp(pair-&gt;n=
ame, &quot;value&quot;)) {<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0apr_size_t le=
n;<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 apr_brigade_length=
(pair-&gt;value, 1, &amp;len);<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 apr_brigade_length=
(pair-&gt;value, 1, (apr_off_t *)&amp;len);<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0fieldValue =
=3D apr_pcalloc(r-&gt;pool, sizeof(char) * len + 1);<br>
-=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 result =3D apr_bri=
gade_flatten(pair-&gt;value, fieldValue, &amp;len);<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 result =3D apr_bri=
gade_flatten(pair-&gt;value, fieldValue, (apr_size_t *)&amp;len);<br></bloc=
kquote><div><br></div><div>These two, same as above.</div><div><br></div><d=
iv>Heh. I haven&#39;t reviewed httpd code for years. But I saw a change to =
mod_authany.c and thought &quot;what is that? isn&#39;t that module crazy s=
table?&quot; ... curiosity :-P</div><div><br></div><div>Cheers,</div><div>-=
g</div><div><br></div></div></div></div>

--001a1141ecb005cda3051fde6dcb--

From dev-return-83800-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 16 15:09:02 2015
Return-Path: <dev-return-83800-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1F543188AA
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Sep 2015 15:09:02 +0000 (UTC)
Received: (qmail 80780 invoked by uid 500); 16 Sep 2015 15:08:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 80714 invoked by uid 500); 16 Sep 2015 15:08:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 80704 invoked by uid 99); 16 Sep 2015 15:08:52 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2015 15:08:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B1910180981
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 15:08:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id itPRTmDFNKrE for <dev@httpd.apache.org>;
	Wed, 16 Sep 2015 15:08:44 +0000 (UTC)
Received: from resqmta-ch2-03v.sys.comcast.net (resqmta-ch2-03v.sys.comcast.net [69.252.207.35])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 3774E203A0
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 15:08:43 +0000 (UTC)
Received: from resomta-ch2-17v.sys.comcast.net ([69.252.207.113])
	by resqmta-ch2-03v.sys.comcast.net with comcast
	id Hr8A1r00B2TL4Rh01r8da5; Wed, 16 Sep 2015 15:08:37 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-17v.sys.comcast.net with comcast
	id Hr8c1r00C2U0RYt01r8cpz; Wed, 16 Sep 2015 15:08:37 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1703415 - in /httpd/test/framework/trunk/c-modules: authany/mod_authany.c test_session/mod_test_session.c
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CABD8fLXZHR6nkXa2Z_kuafeC7PCiymno+LeOZ1ux3CPZzKejWw@mail.gmail.com>
Date: Wed, 16 Sep 2015 11:08:36 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <9E69EE29-F412-49A3-98A9-CB8B0EBD61D1@jaguNET.com>
References: <20150916141850.82DDAAC022D@hades.apache.org> <CABD8fLXZHR6nkXa2Z_kuafeC7PCiymno+LeOZ1ux3CPZzKejWw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1442416117;
	bh=11vjIOKIHHtmDQlaeRg+fHAupEPwR4Ws4YalcGqy2bk=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=XRvEPonuGfmQhr2R2IMtjJbjb6ausbG+LzCrIFQl7+4akJC4SZDo6Cj5Ea/UGoPqa
	 EcYkochKq1a/XdxBP82zVK5hhIzY+/gkrWDJCEewP5Ot2+kY9OjrM0r0xzdXL0L7K6
	 b54dBKNWZSJnU99nVADyy3+oNZ8LEqtFqVLp/VWGHsBfQUHXHxAb3Ms5pY83FUiTEH
	 /b75+z5NCfMsWzs74dvyMzNi8iGxlVDF+D0vWViQ2LvePco0SJU7r2A7Vy2liUw+Zc
	 aKGv/IHMmkvHKMzj+2q97c7NZa/Trp9gASm9e+GA99vQAdLbpunwq0sQZ5/Xe/wiLr
	 MW1lU2V2rFmYw==

All this is due to changes mode with the mainter-mode and
which causes build stop error and stop for these kinds
of warnings. These are simple 'squash warning' patches.

> On Sep 16, 2015, at 10:50 AM, Greg Stein <gstein@gmail.com> wrote:
>=20
> On Wed, Sep 16, 2015 at 9:18 AM, <jim@apache.org> wrote:
> Author: jim
> Date: Wed Sep 16 14:18:49 2015
> New Revision: 1703415
> >...=20
> Modified: =
httpd/test/framework/trunk/c-modules/test_session/mod_test_session.c
> URL: =
http://svn.apache.org/viewvc/httpd/test/framework/trunk/c-modules/test_ses=
sion/mod_test_session.c?rev=3D1703415&r1=3D1703414&r2=3D1703415&view=3Ddif=
f
> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
> --- =
httpd/test/framework/trunk/c-modules/test_session/mod_test_session.c =
(original)
> +++ =
httpd/test/framework/trunk/c-modules/test_session/mod_test_session.c Wed =
Sep 16 14:18:49 2015
> @@ -149,7 +149,6 @@ static apr_status_t test_session_encode(
>=20
>  static apr_status_t test_session_decode(request_rec * r, session_rec =
* z)
>  {
> -    apr_status_t result =3D OK;
>      const size_t prefix_len =3D strlen(TEST_SESSION_ENCODING_PREFIX);
>      test_session_dcfg_t *dconf =3D =
ap_get_module_config(r->per_dir_config,
>                                                        =
&test_session_module);
> @@ -203,7 +202,7 @@ static int test_session_handler(request_
>          return DECLINED;
>=20
>      /* Copy the header for SessionHeader from the request to the =
response. */
> -    if (overrides =3D apr_table_get(r->headers_in, =
TEST_SESSION_HEADER))
> +    if ((overrides =3D apr_table_get(r->headers_in, =
TEST_SESSION_HEADER)))
>          apr_table_setn(r->headers_out, TEST_SESSION_HEADER, =
overrides);
>=20
>      /* Additional commands to test the session API via POST. */
> @@ -240,15 +239,15 @@ static int test_session_handler(request_
>              }
>              else if (!strcmp(pair->name, "name")) {
>                  apr_size_t len;
> -                apr_brigade_length(pair->value, 1, &len);
> +                apr_brigade_length(pair->value, 1, (apr_off_t =
*)&len);
>=20
> This seems really dangerous. Aren't there cases where =
sizeof(apr_size_t) !=3D sizeof(apr_off_t) ??
> =20
>                  fieldName =3D apr_pcalloc(r->pool, sizeof(char) * len =
+ 1);
> -                result =3D apr_brigade_flatten(pair->value, =
fieldName, &len);
> +                result =3D apr_brigade_flatten(pair->value, =
fieldName, (apr_size_t *)&len);
>=20
> This seems unnecessary. &len should already be apr_size_t *
> =20
>              }
>              else if (!strcmp(pair->name, "value")) {
>                  apr_size_t len;
> -                apr_brigade_length(pair->value, 1, &len);
> +                apr_brigade_length(pair->value, 1, (apr_off_t =
*)&len);
>                  fieldValue =3D apr_pcalloc(r->pool, sizeof(char) * =
len + 1);
> -                result =3D apr_brigade_flatten(pair->value, =
fieldValue, &len);
> +                result =3D apr_brigade_flatten(pair->value, =
fieldValue, (apr_size_t *)&len);
>=20
> These two, same as above.
>=20
> Heh. I haven't reviewed httpd code for years. But I saw a change to =
mod_authany.c and thought "what is that? isn't that module crazy =
stable?" ... curiosity :-P
>=20
> Cheers,
> -g
>=20


From dev-return-83801-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 16 15:14:59 2015
Return-Path: <dev-return-83801-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0AC75188FE
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Sep 2015 15:14:59 +0000 (UTC)
Received: (qmail 98668 invoked by uid 500); 16 Sep 2015 15:14:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 98588 invoked by uid 500); 16 Sep 2015 15:14:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 98578 invoked by uid 99); 16 Sep 2015 15:14:58 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2015 15:14:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id E6144180981
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 15:14:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.88
X-Spam-Level: **
X-Spam-Status: No, score=2.88 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id lV6Dl4cpC7FO for <dev@httpd.apache.org>;
	Wed, 16 Sep 2015 15:14:52 +0000 (UTC)
Received: from mail-vk0-f45.google.com (mail-vk0-f45.google.com [209.85.213.45])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 14DC0203A0
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 15:14:52 +0000 (UTC)
Received: by vkfp126 with SMTP id p126so102991941vkf.3
        for <dev@httpd.apache.org>; Wed, 16 Sep 2015 08:14:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=g2moeDOHxJczDALBdrYCYHFR2zqLKZmyPpbUkbuQhv4=;
        b=r5mITino1f0K1J8pqYD4CR7FLQMzOOXrKYMUdwzJFnukehxx8Zu2PeKsjtnoFIjR3Z
         AwdalkutFk9qn/85cqC6z1EROabCEbKl2CpeDy1gUV0CkQnUKqlejTMVlbTvqFn/DlHX
         cUDJx8P5iyVkFsHSsPktTz4KCuSsJGkmwFMr1guuU0/MW4Hsn4BfJEApJoLPrK/Q0qZH
         A6CkqP56gcQrUR7MvV4YFaT0aVJH3rFn0wdVqDyG8s0NUxBHk9QD2ogbSLbo/eHHzVFl
         FQMFdCoX/VsCwh7k7QYj/ubeS0VypiOzINm4dnKcnNUmgm6iHrwxINMJ533i72RivYmx
         tdqw==
MIME-Version: 1.0
X-Received: by 10.31.54.9 with SMTP id d9mr29529820vka.141.1442416491126; Wed,
 16 Sep 2015 08:14:51 -0700 (PDT)
Received: by 10.31.180.134 with HTTP; Wed, 16 Sep 2015 08:14:51 -0700 (PDT)
In-Reply-To: <9E69EE29-F412-49A3-98A9-CB8B0EBD61D1@jaguNET.com>
References: <20150916141850.82DDAAC022D@hades.apache.org>
	<CABD8fLXZHR6nkXa2Z_kuafeC7PCiymno+LeOZ1ux3CPZzKejWw@mail.gmail.com>
	<9E69EE29-F412-49A3-98A9-CB8B0EBD61D1@jaguNET.com>
Date: Wed, 16 Sep 2015 10:14:51 -0500
Message-ID: <CABD8fLVNnZdVzTfeWtS_9JnaEkqbs60DU3VQCbd9wsN-xLKHTg@mail.gmail.com>
Subject: Re: svn commit: r1703415 - in /httpd/test/framework/trunk/c-modules:
 authany/mod_authany.c test_session/mod_test_session.c
From: Greg Stein <gstein@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a1143e1f0926b30051fdec2b6

--001a1143e1f0926b30051fdec2b6
Content-Type: text/plain; charset=UTF-8

Yeah... I do like -Werror, so that forces a clean build, so that *real*
warnings don't get buried in a bunch of useless warnings.

On Wed, Sep 16, 2015 at 10:08 AM, Jim Jagielski <jim@jagunet.com> wrote:

> All this is due to changes mode with the mainter-mode and
> which causes build stop error and stop for these kinds
> of warnings. These are simple 'squash warning' patches.
>
> > On Sep 16, 2015, at 10:50 AM, Greg Stein <gstein@gmail.com> wrote:
> >
> > On Wed, Sep 16, 2015 at 9:18 AM, <jim@apache.org> wrote:
> > Author: jim
> > Date: Wed Sep 16 14:18:49 2015
> > New Revision: 1703415
> > >...
> > Modified:
> httpd/test/framework/trunk/c-modules/test_session/mod_test_session.c
> > URL:
> http://svn.apache.org/viewvc/httpd/test/framework/trunk/c-modules/test_session/mod_test_session.c?rev=1703415&r1=1703414&r2=1703415&view=diff
> >
> ==============================================================================
> > --- httpd/test/framework/trunk/c-modules/test_session/mod_test_session.c
> (original)
> > +++ httpd/test/framework/trunk/c-modules/test_session/mod_test_session.c
> Wed Sep 16 14:18:49 2015
> > @@ -149,7 +149,6 @@ static apr_status_t test_session_encode(
> >
> >  static apr_status_t test_session_decode(request_rec * r, session_rec *
> z)
> >  {
> > -    apr_status_t result = OK;
> >      const size_t prefix_len = strlen(TEST_SESSION_ENCODING_PREFIX);
> >      test_session_dcfg_t *dconf = ap_get_module_config(r->per_dir_config,
> >
> &test_session_module);
> > @@ -203,7 +202,7 @@ static int test_session_handler(request_
> >          return DECLINED;
> >
> >      /* Copy the header for SessionHeader from the request to the
> response. */
> > -    if (overrides = apr_table_get(r->headers_in, TEST_SESSION_HEADER))
> > +    if ((overrides = apr_table_get(r->headers_in, TEST_SESSION_HEADER)))
> >          apr_table_setn(r->headers_out, TEST_SESSION_HEADER, overrides);
> >
> >      /* Additional commands to test the session API via POST. */
> > @@ -240,15 +239,15 @@ static int test_session_handler(request_
> >              }
> >              else if (!strcmp(pair->name, "name")) {
> >                  apr_size_t len;
> > -                apr_brigade_length(pair->value, 1, &len);
> > +                apr_brigade_length(pair->value, 1, (apr_off_t *)&len);
> >
> > This seems really dangerous. Aren't there cases where sizeof(apr_size_t)
> != sizeof(apr_off_t) ??
> >
> >                  fieldName = apr_pcalloc(r->pool, sizeof(char) * len +
> 1);
> > -                result = apr_brigade_flatten(pair->value, fieldName,
> &len);
> > +                result = apr_brigade_flatten(pair->value, fieldName,
> (apr_size_t *)&len);
> >
> > This seems unnecessary. &len should already be apr_size_t *
> >
> >              }
> >              else if (!strcmp(pair->name, "value")) {
> >                  apr_size_t len;
> > -                apr_brigade_length(pair->value, 1, &len);
> > +                apr_brigade_length(pair->value, 1, (apr_off_t *)&len);
> >                  fieldValue = apr_pcalloc(r->pool, sizeof(char) * len +
> 1);
> > -                result = apr_brigade_flatten(pair->value, fieldValue,
> &len);
> > +                result = apr_brigade_flatten(pair->value, fieldValue,
> (apr_size_t *)&len);
> >
> > These two, same as above.
> >
> > Heh. I haven't reviewed httpd code for years. But I saw a change to
> mod_authany.c and thought "what is that? isn't that module crazy stable?"
> ... curiosity :-P
> >
> > Cheers,
> > -g
> >
>
>

--001a1143e1f0926b30051fdec2b6
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Yeah... I do like -Werror, so that forces a clean build, s=
o that *real* warnings don&#39;t get buried in a bunch of useless warnings.=
</div><div class=3D"gmail_extra"><br><div class=3D"gmail_quote">On Wed, Sep=
 16, 2015 at 10:08 AM, Jim Jagielski <span dir=3D"ltr">&lt;<a href=3D"mailt=
o:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt;</span> wrote:<=
br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left=
:1px #ccc solid;padding-left:1ex">All this is due to changes mode with the =
mainter-mode and<br>
which causes build stop error and stop for these kinds<br>
of warnings. These are simple &#39;squash warning&#39; patches.<br>
<div class=3D"HOEnZb"><div class=3D"h5"><br>
&gt; On Sep 16, 2015, at 10:50 AM, Greg Stein &lt;<a href=3D"mailto:gstein@=
gmail.com">gstein@gmail.com</a>&gt; wrote:<br>
&gt;<br>
&gt; On Wed, Sep 16, 2015 at 9:18 AM, &lt;<a href=3D"mailto:jim@apache.org"=
>jim@apache.org</a>&gt; wrote:<br>
&gt; Author: jim<br>
&gt; Date: Wed Sep 16 14:18:49 2015<br>
&gt; New Revision: 1703415<br>
&gt; &gt;...<br>
&gt; Modified: httpd/test/framework/trunk/c-modules/test_session/mod_test_s=
ession.c<br>
&gt; URL: <a href=3D"http://svn.apache.org/viewvc/httpd/test/framework/trun=
k/c-modules/test_session/mod_test_session.c?rev=3D1703415&amp;r1=3D1703414&=
amp;r2=3D1703415&amp;view=3Ddiff" rel=3D"noreferrer" target=3D"_blank">http=
://svn.apache.org/viewvc/httpd/test/framework/trunk/c-modules/test_session/=
mod_test_session.c?rev=3D1703415&amp;r1=3D1703414&amp;r2=3D1703415&amp;view=
=3Ddiff</a><br>
&gt; =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D<br>
&gt; --- httpd/test/framework/trunk/c-modules/test_session/mod_test_session=
.c (original)<br>
&gt; +++ httpd/test/framework/trunk/c-modules/test_session/mod_test_session=
.c Wed Sep 16 14:18:49 2015<br>
&gt; @@ -149,7 +149,6 @@ static apr_status_t test_session_encode(<br>
&gt;<br>
&gt;=C2=A0 static apr_status_t test_session_decode(request_rec * r, session=
_rec * z)<br>
&gt;=C2=A0 {<br>
&gt; -=C2=A0 =C2=A0 apr_status_t result =3D OK;<br>
&gt;=C2=A0 =C2=A0 =C2=A0 const size_t prefix_len =3D strlen(TEST_SESSION_EN=
CODING_PREFIX);<br>
&gt;=C2=A0 =C2=A0 =C2=A0 test_session_dcfg_t *dconf =3D ap_get_module_confi=
g(r-&gt;per_dir_config,<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 &amp;test_session_modu=
le);<br>
&gt; @@ -203,7 +202,7 @@ static int test_session_handler(request_<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 return DECLINED;<br>
&gt;<br>
&gt;=C2=A0 =C2=A0 =C2=A0 /* Copy the header for SessionHeader from the requ=
est to the response. */<br>
&gt; -=C2=A0 =C2=A0 if (overrides =3D apr_table_get(r-&gt;headers_in, TEST_=
SESSION_HEADER))<br>
&gt; +=C2=A0 =C2=A0 if ((overrides =3D apr_table_get(r-&gt;headers_in, TEST=
_SESSION_HEADER)))<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 apr_table_setn(r-&gt;headers_out, TE=
ST_SESSION_HEADER, overrides);<br>
&gt;<br>
&gt;=C2=A0 =C2=A0 =C2=A0 /* Additional commands to test the session API via=
 POST. */<br>
&gt; @@ -240,15 +239,15 @@ static int test_session_handler(request_<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 }<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 else if (!strcmp(pair-=
&gt;name, &quot;name&quot;)) {<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 apr_size=
_t len;<br>
&gt; -=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 apr_brigade_l=
ength(pair-&gt;value, 1, &amp;len);<br>
&gt; +=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 apr_brigade_l=
ength(pair-&gt;value, 1, (apr_off_t *)&amp;len);<br>
&gt;<br>
&gt; This seems really dangerous. Aren&#39;t there cases where sizeof(apr_s=
ize_t) !=3D sizeof(apr_off_t) ??<br>
&gt;<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 fieldNam=
e =3D apr_pcalloc(r-&gt;pool, sizeof(char) * len + 1);<br>
&gt; -=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 result =3D ap=
r_brigade_flatten(pair-&gt;value, fieldName, &amp;len);<br>
&gt; +=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 result =3D ap=
r_brigade_flatten(pair-&gt;value, fieldName, (apr_size_t *)&amp;len);<br>
&gt;<br>
&gt; This seems unnecessary. &amp;len should already be apr_size_t *<br>
&gt;<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 }<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 else if (!strcmp(pair-=
&gt;name, &quot;value&quot;)) {<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 apr_size=
_t len;<br>
&gt; -=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 apr_brigade_l=
ength(pair-&gt;value, 1, &amp;len);<br>
&gt; +=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 apr_brigade_l=
ength(pair-&gt;value, 1, (apr_off_t *)&amp;len);<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 fieldVal=
ue =3D apr_pcalloc(r-&gt;pool, sizeof(char) * len + 1);<br>
&gt; -=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 result =3D ap=
r_brigade_flatten(pair-&gt;value, fieldValue, &amp;len);<br>
&gt; +=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 result =3D ap=
r_brigade_flatten(pair-&gt;value, fieldValue, (apr_size_t *)&amp;len);<br>
&gt;<br>
&gt; These two, same as above.<br>
&gt;<br>
&gt; Heh. I haven&#39;t reviewed httpd code for years. But I saw a change t=
o mod_authany.c and thought &quot;what is that? isn&#39;t that module crazy=
 stable?&quot; ... curiosity :-P<br>
&gt;<br>
&gt; Cheers,<br>
&gt; -g<br>
&gt;<br>
<br>
</div></div></blockquote></div><br></div>

--001a1143e1f0926b30051fdec2b6--

From dev-return-83802-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 16 15:52:18 2015
Return-Path: <dev-return-83802-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F40A818B10
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Sep 2015 15:52:17 +0000 (UTC)
Received: (qmail 18150 invoked by uid 500); 16 Sep 2015 15:51:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18078 invoked by uid 500); 16 Sep 2015 15:51:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18068 invoked by uid 99); 16 Sep 2015 15:51:43 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2015 15:51:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D2F25180981
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 15:51:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.898
X-Spam-Level: **
X-Spam-Status: No, score=2.898 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id a02-MJwaofTG for <dev@httpd.apache.org>;
	Wed, 16 Sep 2015 15:51:42 +0000 (UTC)
Received: from mail-yk0-f171.google.com (mail-yk0-f171.google.com [209.85.160.171])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id A28EB21008
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 15:51:41 +0000 (UTC)
Received: by ykdu9 with SMTP id u9so224118039ykd.2
        for <dev@httpd.apache.org>; Wed, 16 Sep 2015 08:51:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=gX4l+/x1UWDoAzBupUE89bDwM7eFVhhBE+qpqMY/1Jc=;
        b=yzDdJC4LpONbD9cJ6HmrC6EmIxJV9ppMz0hDkv6n5sv0W7UlMqf0WjZcSRWCW1KfIN
         SxaQzmPC7va5iEKYwET/MV0d4sdAqwkig7U97JSoDyesmvzEg2XMxYhIccREZRFtdWOl
         6BDwe5HUorllHPXxlLFu6Ir7Lv2BPmN6cR+APhEpXtcT65gRQqekl5wgljODTNl1jmtH
         g6Z/n6Z8A0Ahk/etinjM7+8CJFkkuDM+Bw+ZGwsgsVNMwwr2tl/IIBpMJj61yifSVROQ
         WRROX2wwRA7ZjUevjbIPTW/8Ak5ngn9OMDaPyyzNKCAs6TmvPOlZ4Ezipl0j0lCj3/TC
         3q1g==
MIME-Version: 1.0
X-Received: by 10.170.136.67 with SMTP id d64mr29284494ykc.103.1442418700884;
 Wed, 16 Sep 2015 08:51:40 -0700 (PDT)
Received: by 10.129.73.151 with HTTP; Wed, 16 Sep 2015 08:51:40 -0700 (PDT)
Date: Wed, 16 Sep 2015 17:51:40 +0200
Message-ID: <CAN9c_NSVpkBQgzk13-Ffa95adwHhF6CSM37R-KoUE_c4N1rPyA@mail.gmail.com>
Subject: nghttp2 warning - what is this?
From: Michael Felt <mamfelt@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a1139499c48a090051fdf465d

--001a1139499c48a090051fdf465d
Content-Type: text/plain; charset=UTF-8

Hello all,

I have been ignoring building httpd-2.5.x and thought it was about time to
start taking notice. And I see a bunch of new messages - one of which may
be a drift in time between my AIX server and the NFS server I keep all the
files on.

But the first WARNING I saw was from nghttp2 - which perhaps I do not have
at all! Is this something extra, like pcre or apr that I need to have as a
library first? If so, the WARNING about it being too old is not correct -
because I do not have it at all.

However, if it is a module within httpd-2.5.x - how could it be too old
when I have just refreshed from the SVN repository?

Snip....

+ ./configure
                --enable-layout=AIX
                --with-apr=/opt/bin/apr-1-config
                --with-apr-util=/opt/bin/apu-1-config
                --enable-mpms-shared=all
                --enable-mods-shared=all
                --disable-lua > build/aix/configure.out
configure: WARNING: apr/apr-util is compiled without ldap support
configure: WARNING: nghttp2 version is too old
configure: WARNING: apr/apr-util is compiled without ldap support
configure: WARNING: Your system does not support Journald.
configure: WARNING: Your system does not support systemd.
+ make > build/aix/make.out
make: Warning: File '/data/prj/apache/httpd/httpd-2.5.x/.deps' has
modification time 118 s in the future

--001a1139499c48a090051fdf465d
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div><div><div><div>Hello all,<br><br></div>I have been ig=
noring building httpd-2.5.x and thought it was about time to start taking n=
otice. And I see a bunch of new messages - one of which may be a drift in t=
ime between my AIX server and the NFS server I keep all the files on.<br><b=
r></div>But the first WARNING I saw was from nghttp2 - which perhaps I do n=
ot have at all! Is this something extra, like pcre or apr that I need to ha=
ve as a library first? If so, the WARNING about it being too old is not cor=
rect - because I do not have it at all.<br><br></div>However, if it is a mo=
dule within httpd-2.5.x - how could it be too old when I have just refreshe=
d from the SVN repository?<br><br></div>Snip....<br><br>+ ./configure <br>=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0 --enable-layout=3DAIX <br>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 --with-apr=3D/opt=
/bin/apr-1-config <br>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 --with-apr-util=3D/opt/bin/apu-1-co=
nfig <br>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0 --enable-mpms-shared=3Dall <br>=C2=A0=C2=A0=C2=A0=
=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 --=
enable-mods-shared=3Dall <br>=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=
=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0=C2=A0 --disable-lua &gt; build/aix/=
configure.out<br>configure: WARNING: apr/apr-util is compiled without ldap =
support<br>configure: WARNING: nghttp2 version is too old<br>configure: WAR=
NING: apr/apr-util is compiled without ldap support<br>configure: WARNING: =
Your system does not support Journald.<br>configure: WARNING: Your system d=
oes not support systemd.<br>+ make &gt; build/aix/make.out<br>make: Warning=
: File &#39;/data/prj/apache/httpd/httpd-2.5.x/.deps&#39; has modification =
time 118 s in the future<br><br></div>

--001a1139499c48a090051fdf465d--

From dev-return-83803-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 16 15:57:26 2015
Return-Path: <dev-return-83803-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6367F18B4C
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Sep 2015 15:57:26 +0000 (UTC)
Received: (qmail 38415 invoked by uid 500); 16 Sep 2015 15:57:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38333 invoked by uid 500); 16 Sep 2015 15:57:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38323 invoked by uid 99); 16 Sep 2015 15:57:17 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2015 15:57:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id AC1B8C0BC9
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 15:57:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.007
X-Spam-Level:
X-Spam-Status: No, score=-0.007 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id MXH9LR4Zmxdp for <dev@httpd.apache.org>;
	Wed, 16 Sep 2015 15:57:15 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 17D1E27D60
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 15:57:15 +0000 (UTC)
Received: from [192.168.178.55] (unknown [84.189.81.50])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 8751F15A04B2
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 17:57:14 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: nghttp2 warning - what is this?
Message-Id: <A7585F6B-A664-47CE-86A7-81D318270126@greenbytes.de>
Date: Wed, 16 Sep 2015 17:57:13 +0200
References: <CAN9c_NSVpkBQgzk13-Ffa95adwHhF6CSM37R-KoUE_c4N1rPyA@mail.gmail.com>
In-Reply-To: <CAN9c_NSVpkBQgzk13-Ffa95adwHhF6CSM37R-KoUE_c4N1rPyA@mail.gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
X-Mailer: iPhone Mail (12H321)

Hi,

if you enable all modules, it will enable mod_h2 and that one needs libnghtt=
p2. The warning could be better, if this is missing, admittedly I just copie=
d and modified mod_ssl's test for openssl.=20

//Stefan



> Am 16.09.2015 um 17:51 schrieb Michael Felt <mamfelt@gmail.com>:
>=20
> Hello all,
>=20
> I have been ignoring building httpd-2.5.x and thought it was about time to=
 start taking notice. And I see a bunch of new messages - one of which may b=
e a drift in time between my AIX server and the NFS server I keep all the fi=
les on.
>=20
> But the first WARNING I saw was from nghttp2 - which perhaps I do not have=
 at all! Is this something extra, like pcre or apr that I need to have as a l=
ibrary first? If so, the WARNING about it being too old is not correct - bec=
ause I do not have it at all.
>=20
> However, if it is a module within httpd-2.5.x - how could it be too old wh=
en I have just refreshed from the SVN repository?
>=20
> Snip....
>=20
> + ./configure=20
>                 --enable-layout=3DAIX=20
>                 --with-apr=3D/opt/bin/apr-1-config=20
>                 --with-apr-util=3D/opt/bin/apu-1-config=20
>                 --enable-mpms-shared=3Dall=20
>                 --enable-mods-shared=3Dall=20
>                 --disable-lua > build/aix/configure.out
> configure: WARNING: apr/apr-util is compiled without ldap support
> configure: WARNING: nghttp2 version is too old
> configure: WARNING: apr/apr-util is compiled without ldap support
> configure: WARNING: Your system does not support Journald.
> configure: WARNING: Your system does not support systemd.
> + make > build/aix/make.out
> make: Warning: File '/data/prj/apache/httpd/httpd-2.5.x/.deps' has modific=
ation time 118 s in the future
>=20

From dev-return-83804-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 16 16:24:21 2015
Return-Path: <dev-return-83804-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AAD5C18C7D
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Sep 2015 16:24:21 +0000 (UTC)
Received: (qmail 31011 invoked by uid 500); 16 Sep 2015 16:24:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 30936 invoked by uid 500); 16 Sep 2015 16:24:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 30926 invoked by uid 99); 16 Sep 2015 16:24:14 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2015 16:24:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 4D812C0BC9
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 16:24:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id nWHrzM3EzDge for <dev@httpd.apache.org>;
	Wed, 16 Sep 2015 16:24:08 +0000 (UTC)
Received: from mail-qg0-f51.google.com (mail-qg0-f51.google.com [209.85.192.51])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 4CB3421270
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 16:24:07 +0000 (UTC)
Received: by qgev79 with SMTP id v79so175584070qge.0
        for <dev@httpd.apache.org>; Wed, 16 Sep 2015 09:24:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=jjdZI4cIWdp3wLwoeQk4LGi1kjivTdKmAfAK+fLpD0I=;
        b=jeJDkrzROVpn+VhDTz3onOQu0yrsFAg7i3o06jP5mNnKJVXvG5Di8WgCBMly4XW2MX
         aWEPhaQNkIsWwUCjyNBi7dnMH2Svqz8yi3gFU1lEMOGk8TFrPpiZEiZOZgo/DeKHU0+X
         S6WTIHCCAfjV7fMrrsUO8BmiVbbTus0SUiaBeEZRE4r4w872MbSGMH9hjc/Q1RsA4AcG
         gUnjk51ieGbRyGvGKv4AAqbEXtqrYjOIamauN6Skqe4Dbe71Y9V93FK9WfSdN4PvC8fl
         pK++cBCXo6K6UQpW6N1/ErcWU0MqVoalZSS1Y1hc9XJsTJs0GKGu9SToUC0oC2c/XQCw
         nI4A==
MIME-Version: 1.0
X-Received: by 10.140.131.70 with SMTP id 67mr46297062qhd.70.1442420646389;
 Wed, 16 Sep 2015 09:24:06 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Wed, 16 Sep 2015 09:24:06 -0700 (PDT)
In-Reply-To: <9E69EE29-F412-49A3-98A9-CB8B0EBD61D1@jaguNET.com>
References: <20150916141850.82DDAAC022D@hades.apache.org>
	<CABD8fLXZHR6nkXa2Z_kuafeC7PCiymno+LeOZ1ux3CPZzKejWw@mail.gmail.com>
	<9E69EE29-F412-49A3-98A9-CB8B0EBD61D1@jaguNET.com>
Date: Wed, 16 Sep 2015 18:24:06 +0200
Message-ID: <CAKQ1sVOVaKQGu+we+8zciDshdiAvErzhhM_3-eDWPRcjwrXxEw@mail.gmail.com>
Subject: Re: svn commit: r1703415 - in /httpd/test/framework/trunk/c-modules:
 authany/mod_authany.c test_session/mod_test_session.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Wed, Sep 16, 2015 at 5:08 PM, Jim Jagielski <jim@jagunet.com> wrote:
> All this is due to changes mode with the mainter-mode and
> which causes build stop error and stop for these kinds
> of warnings. These are simple 'squash warning' patches.

Since the stack may be corrupted on 32bit systems (quite hard to
diagnose), I committed a fix in r1703433.

From dev-return-83805-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 16 16:31:40 2015
Return-Path: <dev-return-83805-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 33FA718CCB
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Sep 2015 16:31:40 +0000 (UTC)
Received: (qmail 53712 invoked by uid 500); 16 Sep 2015 16:31:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 53645 invoked by uid 500); 16 Sep 2015 16:31:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 53635 invoked by uid 99); 16 Sep 2015 16:31:39 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2015 16:31:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id E23001A20E0
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 16:31:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id CJCJE4j0k4_f for <dev@httpd.apache.org>;
	Wed, 16 Sep 2015 16:31:33 +0000 (UTC)
Received: from mail-yk0-f180.google.com (mail-yk0-f180.google.com [209.85.160.180])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 5EF89203A0
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 16:31:33 +0000 (UTC)
Received: by ykdt18 with SMTP id t18so204305279ykd.3
        for <dev@httpd.apache.org>; Wed, 16 Sep 2015 09:31:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=ABcxpYB1caEgwZX8up0EmqKxEGZd1U+sXVgH9+4YRQ0=;
        b=oZebXUKKkN8ZYvtkXhpwItP1t6VQYLCn8bG46dDBjg8bH9KpPQP48mZ+BWc3hltAhV
         woSADk+/C1B7SMCv3wDJcwwQ6kHZrwweZH7bk5YReyfBlFgXNKrvdOqEAusPN2eP86rz
         XvMF53VvDBh7hE4LjimeJdB88M34YMZxCG4cwp2w5+MRQ29vMlJsxukVYAfNfyXoNLSt
         cn04c370TELqIDIRmd40/ymvjp9SXTzD2u6DU4hgw5yH+L3cfLHD7TRBieCiH1LE5kFE
         A2RR3TlZ/w2o1tERp8Y6VPUZSTf7wmTBlJbL8sna5qdUSBY70tENk5A0F9X9VWq9NFZX
         b3PA==
MIME-Version: 1.0
X-Received: by 10.170.228.193 with SMTP id u184mr29758868ykf.0.1442421092466;
 Wed, 16 Sep 2015 09:31:32 -0700 (PDT)
Received: by 10.129.73.151 with HTTP; Wed, 16 Sep 2015 09:31:32 -0700 (PDT)
In-Reply-To: <A7585F6B-A664-47CE-86A7-81D318270126@greenbytes.de>
References: <CAN9c_NSVpkBQgzk13-Ffa95adwHhF6CSM37R-KoUE_c4N1rPyA@mail.gmail.com>
	<A7585F6B-A664-47CE-86A7-81D318270126@greenbytes.de>
Date: Wed, 16 Sep 2015 18:31:32 +0200
Message-ID: <CAN9c_NTwqjynECJkzDVGPY92n7JJpS24SsRH=iqz8M0NhpswGA@mail.gmail.com>
Subject: Re: nghttp2 warning - what is this?
From: Michael Felt <mamfelt@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a1139bf42d54ce8051fdfd487

--001a1139bf42d54ce8051fdfd487
Content-Type: text/plain; charset=UTF-8

well, just built it again, with --enable-maintainer-mode added, so now have:

It was created by configure, which was
generated by GNU Autoconf 2.69.  Invocation command line was

  $ ./configure --enable-layout=AIX --with-apr=/opt/bin/apr-1-config
--with-apr-util=/opt/bin/apu-1-config --enable-mpms-shared=all
--enable-mods-shared=all --disable-lua --enable-load-all-modules
--enable-maintainer-mode

I guess it will "complain" if I try to do anything. re: SSL - it is
special, especially with the likes of libressl (aka "others" out there) -
so maybe not the best test code - copying the test for pcre may be better.
That caught me asap when I first started.

And I shall go look for the library and get it built. Thanks for your quick
reply!



Slightly off topic - not sure if relevent considering the -Werror changes
(whatever that is suppossed to mean in gcc land) here are the warning
messages that are getting sent by XLC to stderr (there are more/others
going to stdout):

"util_expr_eval.c", line 1767.7: 1506-196 (W) Initialization between types
"const void* const" and "const char*(*)(struct {...}*,const void*,const
char*)" is not allowed.
"util_expr_eval.c", line 1768.7: 1506-196 (W) Initialization between types
"const void* const" and "const char*(*)(struct {...}*,const void*,const
char*)" is not allowed.
"util_expr_eval.c", line 1769.7: 1506-196 (W) Initialization between types
"const void* const" and "const char*(*)(struct {...}*,const void*,const
char*)" is not allowed.
"util_expr_eval.c", line 1771.7: 1506-196 (W) Initialization between types
"const void* const" and "const char*(*)(struct {...}*,const void*,const
char*)" is not allowed.
"util_expr_eval.c", line 1772.7: 1506-196 (W) Initialization between types
"const void* const" and "const char*(*)(struct {...}*,const void*,const
char*)" is not allowed.
"util_expr_eval.c", line 1773.7: 1506-196 (W) Initialization between types
"const void* const" and "const char*(*)(struct {...}*,const void*,const
char*)" is not allowed.
"util_expr_eval.c", line 1774.7: 1506-196 (W) Initialization between types
"const void* const" and "const char*(*)(struct {...}*,const void*,const
char*)" is not allowed.
"util_expr_eval.c", line 1775.7: 1506-196 (W) Initialization between types
"const void* const" and "const char*(*)(struct {...}*,const void*,const
char*)" is not allowed.
"util_expr_eval.c", line 1776.7: 1506-196 (W) Initialization between types
"const void* const" and "const char*(*)(struct {...}*,const void*,const
char*)" is not allowed.
"util_expr_eval.c", line 1777.7: 1506-196 (W) Initialization between types
"const void* const" and "const char*(*)(struct {...}*,const void*,const
char*)" is not allowed.
"util_expr_eval.c", line 1778.7: 1506-196 (W) Initialization between types
"const void* const" and "const char*(*)(struct {...}*,const void*,const
char*)" is not allowed.
"util_expr_eval.c", line 1779.7: 1506-196 (W) Initialization between types
"const void* const" and "const char*(*)(struct {...}*,const void*,char*)"
is not allowed.
"util_expr_eval.c", line 1780.7: 1506-196 (W) Initialization between types
"const void* const" and "const char*(*)(struct {...}*,const void*,char*)"
is not allowed.
"util_expr_eval.c", line 1781.7: 1506-196 (W) Initialization between types
"const void* const" and "const char*(*)(struct {...}*,const void*,char*)"
is not allowed.
"util_expr_eval.c", line 1782.7: 1506-196 (W) Initialization between types
"const void* const" and "const char*(*)(struct {...}*,const void*,const
char*)" is not allowed.
"util_expr_eval.c", line 1783.7: 1506-196 (W) Initialization between types
"const void* const" and "const char*(*)(struct {...}*,const void*,const
char*)" is not allowed.
"util_expr_eval.c", line 1784.7: 1506-196 (W) Initialization between types
"const void* const" and "const char*(*)(struct {...}*,const void*,const
char*)" is not allowed.
"util_expr_eval.c", line 1785.7: 1506-196 (W) Initialization between types
"const void* const" and "const char*(*)(struct {...}*,const void*,const
char*)" is not allowed.
"util_expr_eval.c", line 1789.7: 1506-196 (W) Initialization between types
"const void* const" and "const char*(*)(struct {...}*,const void*,const
struct apr_array_header_t*)" is not allowed.
"util_expr_eval.c", line 1794.7: 1506-196 (W) Initialization between types
"const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
not allowed.
"util_expr_eval.c", line 1795.7: 1506-196 (W) Initialization between types
"const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
not allowed.
"util_expr_eval.c", line 1796.7: 1506-196 (W) Initialization between types
"const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
not allowed.
"util_expr_eval.c", line 1797.7: 1506-196 (W) Initialization between types
"const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
not allowed.
"util_expr_eval.c", line 1798.7: 1506-196 (W) Initialization between types
"const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
not allowed.
"util_expr_eval.c", line 1799.7: 1506-196 (W) Initialization between types
"const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
not allowed.
"util_expr_eval.c", line 1800.7: 1506-196 (W) Initialization between types
"const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
not allowed.
"util_expr_eval.c", line 1801.7: 1506-196 (W) Initialization between types
"const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
not allowed.
"util_expr_eval.c", line 1802.7: 1506-196 (W) Initialization between types
"const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
not allowed.
"util_expr_eval.c", line 1803.7: 1506-196 (W) Initialization between types
"const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
not allowed.
"util_expr_eval.c", line 1804.7: 1506-196 (W) Initialization between types
"const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
not allowed.
"util_expr_eval.c", line 1805.7: 1506-196 (W) Initialization between types
"const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
not allowed.
"util_expr_eval.c", line 1806.7: 1506-196 (W) Initialization between types
"const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
not allowed.
"util_expr_eval.c", line 1807.7: 1506-196 (W) Initialization between types
"const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
not allowed.
"util_expr_eval.c", line 1812.7: 1506-196 (W) Initialization between types
"const void* const" and "int(*)(struct {...}*,const void*,const char*,const
char*)" is not allowed.
"util_expr_eval.c", line 1813.7: 1506-196 (W) Initialization between types
"const void* const" and "int(*)(struct {...}*,const void*,const char*,const
char*)" is not allowed.
"util_expr_eval.c", line 1814.7: 1506-196 (W) Initialization between types
"const void* const" and "int(*)(struct {...}*,const void*,const char*,const
char*)" is not allowed.
"util_expr_eval.c", line 1815.7: 1506-196 (W) Initialization between types
"const void* const" and "int(*)(struct {...}*,const void*,const char*,const
char*)" is not allowed.
make[2]: warning:  Clock skew detected.  Your build may be incomplete.
make[1]: warning:  Clock skew detected.  Your build may be incomplete.
"mod_include.c", line 722.26: 1506-068 (W) Operation between types "const
void*" and "const char*(*)(struct {...}*,const void*,const char*)" is not
allowed.
"mod_headers.c", line 971.43: 1506-280 (W) Function argument assignment
between types "const void*" and "const char*(*)(struct request_rec*,char*)"
is not allowed.
"ssl_engine_vars.c", line 161.26: 1506-068 (W) Operation between types
"const void*" and "const char*(*)(struct {...}*,const void*)" is not
allowed.
"ssl_engine_vars.c", line 168.26: 1506-068 (W) Operation between types
"const void*" and "struct apr_array_header_t*(*)(struct {...}*,const
void*,const char*)" is not allowed.





On Wed, Sep 16, 2015 at 5:57 PM, Stefan Eissing <
stefan.eissing@greenbytes.de> wrote:

> Hi,
>
> if you enable all modules, it will enable mod_h2 and that one needs
> libnghttp2. The warning could be better, if this is missing, admittedly I
> just copied and modified mod_ssl's test for openssl.
>
> //Stefan
>
>
>
> > Am 16.09.2015 um 17:51 schrieb Michael Felt <mamfelt@gmail.com>:
> >
> > Hello all,
> >
> > I have been ignoring building httpd-2.5.x and thought it was about time
> to start taking notice. And I see a bunch of new messages - one of which
> may be a drift in time between my AIX server and the NFS server I keep all
> the files on.
> >
> > But the first WARNING I saw was from nghttp2 - which perhaps I do not
> have at all! Is this something extra, like pcre or apr that I need to have
> as a library first? If so, the WARNING about it being too old is not
> correct - because I do not have it at all.
> >
> > However, if it is a module within httpd-2.5.x - how could it be too old
> when I have just refreshed from the SVN repository?
> >
> > Snip....
> >
> > + ./configure
> >                 --enable-layout=AIX
> >                 --with-apr=/opt/bin/apr-1-config
> >                 --with-apr-util=/opt/bin/apu-1-config
> >                 --enable-mpms-shared=all
> >                 --enable-mods-shared=all
> >                 --disable-lua > build/aix/configure.out
> > configure: WARNING: apr/apr-util is compiled without ldap support
> > configure: WARNING: nghttp2 version is too old
> > configure: WARNING: apr/apr-util is compiled without ldap support
> > configure: WARNING: Your system does not support Journald.
> > configure: WARNING: Your system does not support systemd.
> > + make > build/aix/make.out
> > make: Warning: File '/data/prj/apache/httpd/httpd-2.5.x/.deps' has
> modification time 118 s in the future
> >
>

--001a1139bf42d54ce8051fdfd487
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div>well, just built it again, with --enable-maintainer-m=
ode added, so now have:<br><br>It was created by configure, which was<br>ge=
nerated by GNU Autoconf 2.69.=C2=A0 Invocation command line was<br><br>=C2=
=A0 $ ./configure --enable-layout=3DAIX --with-apr=3D/opt/bin/apr-1-config =
--with-apr-util=3D/opt/bin/apu-1-config --enable-mpms-shared=3Dall --enable=
-mods-shared=3Dall --disable-lua --enable-load-all-modules --enable-maintai=
ner-mode<br><br></div><div>I guess it will &quot;complain&quot; if I try to=
 do anything. re: SSL - it is special, especially with the likes of libress=
l (aka &quot;others&quot; out there) - so maybe not the best test code - co=
pying the test for pcre may be better. That caught me asap when I first sta=
rted.<br><br></div><div>And I shall go look for the library and get it buil=
t. Thanks for your quick reply!<br><br><br><br></div><div>Slightly off topi=
c - not sure if relevent considering the -Werror changes (whatever that is =
suppossed to mean in gcc land) here are the warning messages that are getti=
ng sent by XLC to stderr (there are more/others going to stdout):<br></div>=
<br>&quot;util_expr_eval.c&quot;, line 1767.7: 1506-196 (W) Initialization =
between types &quot;const void* const&quot; and &quot;const char*(*)(struct=
 {...}*,const void*,const char*)&quot; is not allowed.<br>&quot;util_expr_e=
val.c&quot;, line 1768.7: 1506-196 (W) Initialization between types &quot;c=
onst void* const&quot; and &quot;const char*(*)(struct {...}*,const void*,c=
onst char*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;, line 176=
9.7: 1506-196 (W) Initialization between types &quot;const void* const&quot=
; and &quot;const char*(*)(struct {...}*,const void*,const char*)&quot; is =
not allowed.<br>&quot;util_expr_eval.c&quot;, line 1771.7: 1506-196 (W) Ini=
tialization between types &quot;const void* const&quot; and &quot;const cha=
r*(*)(struct {...}*,const void*,const char*)&quot; is not allowed.<br>&quot=
;util_expr_eval.c&quot;, line 1772.7: 1506-196 (W) Initialization between t=
ypes &quot;const void* const&quot; and &quot;const char*(*)(struct {...}*,c=
onst void*,const char*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quo=
t;, line 1773.7: 1506-196 (W) Initialization between types &quot;const void=
* const&quot; and &quot;const char*(*)(struct {...}*,const void*,const char=
*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;, line 1774.7: 1506=
-196 (W) Initialization between types &quot;const void* const&quot; and &qu=
ot;const char*(*)(struct {...}*,const void*,const char*)&quot; is not allow=
ed.<br>&quot;util_expr_eval.c&quot;, line 1775.7: 1506-196 (W) Initializati=
on between types &quot;const void* const&quot; and &quot;const char*(*)(str=
uct {...}*,const void*,const char*)&quot; is not allowed.<br>&quot;util_exp=
r_eval.c&quot;, line 1776.7: 1506-196 (W) Initialization between types &quo=
t;const void* const&quot; and &quot;const char*(*)(struct {...}*,const void=
*,const char*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;, line =
1777.7: 1506-196 (W) Initialization between types &quot;const void* const&q=
uot; and &quot;const char*(*)(struct {...}*,const void*,const char*)&quot; =
is not allowed.<br>&quot;util_expr_eval.c&quot;, line 1778.7: 1506-196 (W) =
Initialization between types &quot;const void* const&quot; and &quot;const =
char*(*)(struct {...}*,const void*,const char*)&quot; is not allowed.<br>&q=
uot;util_expr_eval.c&quot;, line 1779.7: 1506-196 (W) Initialization betwee=
n types &quot;const void* const&quot; and &quot;const char*(*)(struct {...}=
*,const void*,char*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;,=
 line 1780.7: 1506-196 (W) Initialization between types &quot;const void* c=
onst&quot; and &quot;const char*(*)(struct {...}*,const void*,char*)&quot; =
is not allowed.<br>&quot;util_expr_eval.c&quot;, line 1781.7: 1506-196 (W) =
Initialization between types &quot;const void* const&quot; and &quot;const =
char*(*)(struct {...}*,const void*,char*)&quot; is not allowed.<br>&quot;ut=
il_expr_eval.c&quot;, line 1782.7: 1506-196 (W) Initialization between type=
s &quot;const void* const&quot; and &quot;const char*(*)(struct {...}*,cons=
t void*,const char*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;,=
 line 1783.7: 1506-196 (W) Initialization between types &quot;const void* c=
onst&quot; and &quot;const char*(*)(struct {...}*,const void*,const char*)&=
quot; is not allowed.<br>&quot;util_expr_eval.c&quot;, line 1784.7: 1506-19=
6 (W) Initialization between types &quot;const void* const&quot; and &quot;=
const char*(*)(struct {...}*,const void*,const char*)&quot; is not allowed.=
<br>&quot;util_expr_eval.c&quot;, line 1785.7: 1506-196 (W) Initialization =
between types &quot;const void* const&quot; and &quot;const char*(*)(struct=
 {...}*,const void*,const char*)&quot; is not allowed.<br>&quot;util_expr_e=
val.c&quot;, line 1789.7: 1506-196 (W) Initialization between types &quot;c=
onst void* const&quot; and &quot;const char*(*)(struct {...}*,const void*,c=
onst struct apr_array_header_t*)&quot; is not allowed.<br>&quot;util_expr_e=
val.c&quot;, line 1794.7: 1506-196 (W) Initialization between types &quot;c=
onst void* const&quot; and &quot;int(*)(struct {...}*,const void*,const cha=
r*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;, line 1795.7: 150=
6-196 (W) Initialization between types &quot;const void* const&quot; and &q=
uot;int(*)(struct {...}*,const void*,const char*)&quot; is not allowed.<br>=
&quot;util_expr_eval.c&quot;, line 1796.7: 1506-196 (W) Initialization betw=
een types &quot;const void* const&quot; and &quot;int(*)(struct {...}*,cons=
t void*,const char*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;,=
 line 1797.7: 1506-196 (W) Initialization between types &quot;const void* c=
onst&quot; and &quot;int(*)(struct {...}*,const void*,const char*)&quot; is=
 not allowed.<br>&quot;util_expr_eval.c&quot;, line 1798.7: 1506-196 (W) In=
itialization between types &quot;const void* const&quot; and &quot;int(*)(s=
truct {...}*,const void*,const char*)&quot; is not allowed.<br>&quot;util_e=
xpr_eval.c&quot;, line 1799.7: 1506-196 (W) Initialization between types &q=
uot;const void* const&quot; and &quot;int(*)(struct {...}*,const void*,cons=
t char*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;, line 1800.7=
: 1506-196 (W) Initialization between types &quot;const void* const&quot; a=
nd &quot;int(*)(struct {...}*,const void*,const char*)&quot; is not allowed=
.<br>&quot;util_expr_eval.c&quot;, line 1801.7: 1506-196 (W) Initialization=
 between types &quot;const void* const&quot; and &quot;int(*)(struct {...}*=
,const void*,const char*)&quot; is not allowed.<br>&quot;util_expr_eval.c&q=
uot;, line 1802.7: 1506-196 (W) Initialization between types &quot;const vo=
id* const&quot; and &quot;int(*)(struct {...}*,const void*,const char*)&quo=
t; is not allowed.<br>&quot;util_expr_eval.c&quot;, line 1803.7: 1506-196 (=
W) Initialization between types &quot;const void* const&quot; and &quot;int=
(*)(struct {...}*,const void*,const char*)&quot; is not allowed.<br>&quot;u=
til_expr_eval.c&quot;, line 1804.7: 1506-196 (W) Initialization between typ=
es &quot;const void* const&quot; and &quot;int(*)(struct {...}*,const void*=
,const char*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;, line 1=
805.7: 1506-196 (W) Initialization between types &quot;const void* const&qu=
ot; and &quot;int(*)(struct {...}*,const void*,const char*)&quot; is not al=
lowed.<br>&quot;util_expr_eval.c&quot;, line 1806.7: 1506-196 (W) Initializ=
ation between types &quot;const void* const&quot; and &quot;int(*)(struct {=
...}*,const void*,const char*)&quot; is not allowed.<br>&quot;util_expr_eva=
l.c&quot;, line 1807.7: 1506-196 (W) Initialization between types &quot;con=
st void* const&quot; and &quot;int(*)(struct {...}*,const void*,const char*=
)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;, line 1812.7: 1506-=
196 (W) Initialization between types &quot;const void* const&quot; and &quo=
t;int(*)(struct {...}*,const void*,const char*,const char*)&quot; is not al=
lowed.<br>&quot;util_expr_eval.c&quot;, line 1813.7: 1506-196 (W) Initializ=
ation between types &quot;const void* const&quot; and &quot;int(*)(struct {=
...}*,const void*,const char*,const char*)&quot; is not allowed.<br>&quot;u=
til_expr_eval.c&quot;, line 1814.7: 1506-196 (W) Initialization between typ=
es &quot;const void* const&quot; and &quot;int(*)(struct {...}*,const void*=
,const char*,const char*)&quot; is not allowed.<br>&quot;util_expr_eval.c&q=
uot;, line 1815.7: 1506-196 (W) Initialization between types &quot;const vo=
id* const&quot; and &quot;int(*)(struct {...}*,const void*,const char*,cons=
t char*)&quot; is not allowed.<br>make[2]: warning:=C2=A0 Clock skew detect=
ed.=C2=A0 Your build may be incomplete.<br>make[1]: warning:=C2=A0 Clock sk=
ew detected.=C2=A0 Your build may be incomplete.<br>&quot;mod_include.c&quo=
t;, line 722.26: 1506-068 (W) Operation between types &quot;const void*&quo=
t; and &quot;const char*(*)(struct {...}*,const void*,const char*)&quot; is=
 not allowed.<br>&quot;mod_headers.c&quot;, line 971.43: 1506-280 (W) Funct=
ion argument assignment between types &quot;const void*&quot; and &quot;con=
st char*(*)(struct request_rec*,char*)&quot; is not allowed.<br>&quot;ssl_e=
ngine_vars.c&quot;, line 161.26: 1506-068 (W) Operation between types &quot=
;const void*&quot; and &quot;const char*(*)(struct {...}*,const void*)&quot=
; is not allowed.<br>&quot;ssl_engine_vars.c&quot;, line 168.26: 1506-068 (=
W) Operation between types &quot;const void*&quot; and &quot;struct apr_arr=
ay_header_t*(*)(struct {...}*,const void*,const char*)&quot; is not allowed=
.<br><br><div><br><br><br></div></div><div class=3D"gmail_extra"><br><div c=
lass=3D"gmail_quote">On Wed, Sep 16, 2015 at 5:57 PM, Stefan Eissing <span =
dir=3D"ltr">&lt;<a href=3D"mailto:stefan.eissing@greenbytes.de" target=3D"_=
blank">stefan.eissing@greenbytes.de</a>&gt;</span> wrote:<br><blockquote cl=
ass=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;p=
adding-left:1ex">Hi,<br>
<br>
if you enable all modules, it will enable mod_h2 and that one needs libnght=
tp2. The warning could be better, if this is missing, admittedly I just cop=
ied and modified mod_ssl&#39;s test for openssl.<br>
<span class=3D"HOEnZb"><font color=3D"#888888"><br>
//Stefan<br>
</font></span><div class=3D"HOEnZb"><div class=3D"h5"><br>
<br>
<br>
&gt; Am 16.09.2015 um 17:51 schrieb Michael Felt &lt;<a href=3D"mailto:mamf=
elt@gmail.com">mamfelt@gmail.com</a>&gt;:<br>
&gt;<br>
&gt; Hello all,<br>
&gt;<br>
&gt; I have been ignoring building httpd-2.5.x and thought it was about tim=
e to start taking notice. And I see a bunch of new messages - one of which =
may be a drift in time between my AIX server and the NFS server I keep all =
the files on.<br>
&gt;<br>
&gt; But the first WARNING I saw was from nghttp2 - which perhaps I do not =
have at all! Is this something extra, like pcre or apr that I need to have =
as a library first? If so, the WARNING about it being too old is not correc=
t - because I do not have it at all.<br>
&gt;<br>
&gt; However, if it is a module within httpd-2.5.x - how could it be too ol=
d when I have just refreshed from the SVN repository?<br>
&gt;<br>
&gt; Snip....<br>
&gt;<br>
&gt; + ./configure<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0--enable-=
layout=3DAIX<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0--with-ap=
r=3D/opt/bin/apr-1-config<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0--with-ap=
r-util=3D/opt/bin/apu-1-config<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0--enable-=
mpms-shared=3Dall<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0--enable-=
mods-shared=3Dall<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0--disable=
-lua &gt; build/aix/configure.out<br>
&gt; configure: WARNING: apr/apr-util is compiled without ldap support<br>
&gt; configure: WARNING: nghttp2 version is too old<br>
&gt; configure: WARNING: apr/apr-util is compiled without ldap support<br>
&gt; configure: WARNING: Your system does not support Journald.<br>
&gt; configure: WARNING: Your system does not support systemd.<br>
&gt; + make &gt; build/aix/make.out<br>
&gt; make: Warning: File &#39;/data/prj/apache/httpd/httpd-2.5.x/.deps&#39;=
 has modification time 118 s in the future<br>
&gt;<br>
</div></div></blockquote></div><br></div>

--001a1139bf42d54ce8051fdfd487--

From dev-return-83806-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 16 16:42:23 2015
Return-Path: <dev-return-83806-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5921218D2A
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 16 Sep 2015 16:42:23 +0000 (UTC)
Received: (qmail 77785 invoked by uid 500); 16 Sep 2015 16:42:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 77690 invoked by uid 500); 16 Sep 2015 16:42:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 77680 invoked by uid 99); 16 Sep 2015 16:42:22 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2015 16:42:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 5FA44F3387
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 16:42:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.899
X-Spam-Level: **
X-Spam-Status: No, score=2.899 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id OCNLuDGbNkz3 for <dev@httpd.apache.org>;
	Wed, 16 Sep 2015 16:42:18 +0000 (UTC)
Received: from mail-yk0-f172.google.com (mail-yk0-f172.google.com [209.85.160.172])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 92C5F27D41
	for <dev@httpd.apache.org>; Wed, 16 Sep 2015 16:42:17 +0000 (UTC)
Received: by ykdg206 with SMTP id g206so224687978ykd.1
        for <dev@httpd.apache.org>; Wed, 16 Sep 2015 09:42:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=QHw/7CwM22FpYuToqR/KKt2bsORMheL9seyssWOrv3I=;
        b=daUsiLC6COz4MEhPcwZbP7PKeaTu9uCI6CMqTixkXDkbZvgE+mf5O0olCgr4bDeagD
         lZjH8KuzFDlKHDPwMQpQU4fnAxQkj05QMZXf3OUPwC7lYEiYhHqGXKbDdS+V6PkhnOsa
         00vBVjxhC3vvt9EXWezHhLz/ZANjbdDhI88HWuUXrqbmni4eKzpVWer3MaRNqRB2i8Yz
         OpqKyqn2FBkMwupbDCzuMc7rokPyMhnhxnow3PJV1psrOdeSWMTDq3goa9TS0M5iuFTs
         5elGGuYUnyrahRdBwDfAXzTEMiSPkhtxEUQoc/OF74g69tUQ02Pf0urS5mBIWR+OXETk
         HeCA==
MIME-Version: 1.0
X-Received: by 10.170.80.130 with SMTP id w124mr29657524ykw.122.1442421736686;
 Wed, 16 Sep 2015 09:42:16 -0700 (PDT)
Received: by 10.129.73.151 with HTTP; Wed, 16 Sep 2015 09:42:16 -0700 (PDT)
In-Reply-To: <CAN9c_NTwqjynECJkzDVGPY92n7JJpS24SsRH=iqz8M0NhpswGA@mail.gmail.com>
References: <CAN9c_NSVpkBQgzk13-Ffa95adwHhF6CSM37R-KoUE_c4N1rPyA@mail.gmail.com>
	<A7585F6B-A664-47CE-86A7-81D318270126@greenbytes.de>
	<CAN9c_NTwqjynECJkzDVGPY92n7JJpS24SsRH=iqz8M0NhpswGA@mail.gmail.com>
Date: Wed, 16 Sep 2015 18:42:16 +0200
Message-ID: <CAN9c_NRQazpse98mTXbkJRuh7MaGY8_HDXyepB82JpQY9c88qg@mail.gmail.com>
Subject: Re: nghttp2 warning - what is this?
From: Michael Felt <mamfelt@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a11399a0e3b529b051fdffb8a

--001a11399a0e3b529b051fdffb8a
Content-Type: text/plain; charset=UTF-8

well, correction on building nghttp. Seems it only expects to work in a GNU
rte and I do not have the time to verify an environment that will support
"POSIX" and GNU requirements. My experience is "small", i.e., not saying it
cannot be done - but anytime I have tried to build a library that insisted
on gcc I could not get it to work reliably with packages built using the
IBM compiler and the default AIX libc (et al) .rte filesets. Basically, I
need to add all the libraries that gcc needs to compile something.

Oh well. In any case, not tonight.

(p.s. gcc 4.7.X implies a standard compiler might work - if I understand
correctly that there is a break with standard C starting with gcc 4.8)

On Wed, Sep 16, 2015 at 6:31 PM, Michael Felt <mamfelt@gmail.com> wrote:

> well, just built it again, with --enable-maintainer-mode added, so now
> have:
>
> It was created by configure, which was
> generated by GNU Autoconf 2.69.  Invocation command line was
>
>   $ ./configure --enable-layout=AIX --with-apr=/opt/bin/apr-1-config
> --with-apr-util=/opt/bin/apu-1-config --enable-mpms-shared=all
> --enable-mods-shared=all --disable-lua --enable-load-all-modules
> --enable-maintainer-mode
>
> I guess it will "complain" if I try to do anything. re: SSL - it is
> special, especially with the likes of libressl (aka "others" out there) -
> so maybe not the best test code - copying the test for pcre may be better.
> That caught me asap when I first started.
>
> And I shall go look for the library and get it built. Thanks for your
> quick reply!
>
>
>
> Slightly off topic - not sure if relevent considering the -Werror changes
> (whatever that is suppossed to mean in gcc land) here are the warning
> messages that are getting sent by XLC to stderr (there are more/others
> going to stdout):
>
> "util_expr_eval.c", line 1767.7: 1506-196 (W) Initialization between types
> "const void* const" and "const char*(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> "util_expr_eval.c", line 1768.7: 1506-196 (W) Initialization between types
> "const void* const" and "const char*(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> "util_expr_eval.c", line 1769.7: 1506-196 (W) Initialization between types
> "const void* const" and "const char*(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> "util_expr_eval.c", line 1771.7: 1506-196 (W) Initialization between types
> "const void* const" and "const char*(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> "util_expr_eval.c", line 1772.7: 1506-196 (W) Initialization between types
> "const void* const" and "const char*(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> "util_expr_eval.c", line 1773.7: 1506-196 (W) Initialization between types
> "const void* const" and "const char*(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> "util_expr_eval.c", line 1774.7: 1506-196 (W) Initialization between types
> "const void* const" and "const char*(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> "util_expr_eval.c", line 1775.7: 1506-196 (W) Initialization between types
> "const void* const" and "const char*(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> "util_expr_eval.c", line 1776.7: 1506-196 (W) Initialization between types
> "const void* const" and "const char*(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> "util_expr_eval.c", line 1777.7: 1506-196 (W) Initialization between types
> "const void* const" and "const char*(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> "util_expr_eval.c", line 1778.7: 1506-196 (W) Initialization between types
> "const void* const" and "const char*(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> "util_expr_eval.c", line 1779.7: 1506-196 (W) Initialization between types
> "const void* const" and "const char*(*)(struct {...}*,const void*,char*)"
> is not allowed.
> "util_expr_eval.c", line 1780.7: 1506-196 (W) Initialization between types
> "const void* const" and "const char*(*)(struct {...}*,const void*,char*)"
> is not allowed.
> "util_expr_eval.c", line 1781.7: 1506-196 (W) Initialization between types
> "const void* const" and "const char*(*)(struct {...}*,const void*,char*)"
> is not allowed.
> "util_expr_eval.c", line 1782.7: 1506-196 (W) Initialization between types
> "const void* const" and "const char*(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> "util_expr_eval.c", line 1783.7: 1506-196 (W) Initialization between types
> "const void* const" and "const char*(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> "util_expr_eval.c", line 1784.7: 1506-196 (W) Initialization between types
> "const void* const" and "const char*(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> "util_expr_eval.c", line 1785.7: 1506-196 (W) Initialization between types
> "const void* const" and "const char*(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> "util_expr_eval.c", line 1789.7: 1506-196 (W) Initialization between types
> "const void* const" and "const char*(*)(struct {...}*,const void*,const
> struct apr_array_header_t*)" is not allowed.
> "util_expr_eval.c", line 1794.7: 1506-196 (W) Initialization between types
> "const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
> not allowed.
> "util_expr_eval.c", line 1795.7: 1506-196 (W) Initialization between types
> "const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
> not allowed.
> "util_expr_eval.c", line 1796.7: 1506-196 (W) Initialization between types
> "const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
> not allowed.
> "util_expr_eval.c", line 1797.7: 1506-196 (W) Initialization between types
> "const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
> not allowed.
> "util_expr_eval.c", line 1798.7: 1506-196 (W) Initialization between types
> "const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
> not allowed.
> "util_expr_eval.c", line 1799.7: 1506-196 (W) Initialization between types
> "const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
> not allowed.
> "util_expr_eval.c", line 1800.7: 1506-196 (W) Initialization between types
> "const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
> not allowed.
> "util_expr_eval.c", line 1801.7: 1506-196 (W) Initialization between types
> "const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
> not allowed.
> "util_expr_eval.c", line 1802.7: 1506-196 (W) Initialization between types
> "const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
> not allowed.
> "util_expr_eval.c", line 1803.7: 1506-196 (W) Initialization between types
> "const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
> not allowed.
> "util_expr_eval.c", line 1804.7: 1506-196 (W) Initialization between types
> "const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
> not allowed.
> "util_expr_eval.c", line 1805.7: 1506-196 (W) Initialization between types
> "const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
> not allowed.
> "util_expr_eval.c", line 1806.7: 1506-196 (W) Initialization between types
> "const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
> not allowed.
> "util_expr_eval.c", line 1807.7: 1506-196 (W) Initialization between types
> "const void* const" and "int(*)(struct {...}*,const void*,const char*)" is
> not allowed.
> "util_expr_eval.c", line 1812.7: 1506-196 (W) Initialization between types
> "const void* const" and "int(*)(struct {...}*,const void*,const char*,const
> char*)" is not allowed.
> "util_expr_eval.c", line 1813.7: 1506-196 (W) Initialization between types
> "const void* const" and "int(*)(struct {...}*,const void*,const char*,const
> char*)" is not allowed.
> "util_expr_eval.c", line 1814.7: 1506-196 (W) Initialization between types
> "const void* const" and "int(*)(struct {...}*,const void*,const char*,const
> char*)" is not allowed.
> "util_expr_eval.c", line 1815.7: 1506-196 (W) Initialization between types
> "const void* const" and "int(*)(struct {...}*,const void*,const char*,const
> char*)" is not allowed.
> make[2]: warning:  Clock skew detected.  Your build may be incomplete.
> make[1]: warning:  Clock skew detected.  Your build may be incomplete.
> "mod_include.c", line 722.26: 1506-068 (W) Operation between types "const
> void*" and "const char*(*)(struct {...}*,const void*,const char*)" is not
> allowed.
> "mod_headers.c", line 971.43: 1506-280 (W) Function argument assignment
> between types "const void*" and "const char*(*)(struct request_rec*,char*)"
> is not allowed.
> "ssl_engine_vars.c", line 161.26: 1506-068 (W) Operation between types
> "const void*" and "const char*(*)(struct {...}*,const void*)" is not
> allowed.
> "ssl_engine_vars.c", line 168.26: 1506-068 (W) Operation between types
> "const void*" and "struct apr_array_header_t*(*)(struct {...}*,const
> void*,const char*)" is not allowed.
>
>
>
>
>
> On Wed, Sep 16, 2015 at 5:57 PM, Stefan Eissing <
> stefan.eissing@greenbytes.de> wrote:
>
>> Hi,
>>
>> if you enable all modules, it will enable mod_h2 and that one needs
>> libnghttp2. The warning could be better, if this is missing, admittedly I
>> just copied and modified mod_ssl's test for openssl.
>>
>> //Stefan
>>
>>
>>
>> > Am 16.09.2015 um 17:51 schrieb Michael Felt <mamfelt@gmail.com>:
>> >
>> > Hello all,
>> >
>> > I have been ignoring building httpd-2.5.x and thought it was about time
>> to start taking notice. And I see a bunch of new messages - one of which
>> may be a drift in time between my AIX server and the NFS server I keep all
>> the files on.
>> >
>> > But the first WARNING I saw was from nghttp2 - which perhaps I do not
>> have at all! Is this something extra, like pcre or apr that I need to have
>> as a library first? If so, the WARNING about it being too old is not
>> correct - because I do not have it at all.
>> >
>> > However, if it is a module within httpd-2.5.x - how could it be too old
>> when I have just refreshed from the SVN repository?
>> >
>> > Snip....
>> >
>> > + ./configure
>> >                 --enable-layout=AIX
>> >                 --with-apr=/opt/bin/apr-1-config
>> >                 --with-apr-util=/opt/bin/apu-1-config
>> >                 --enable-mpms-shared=all
>> >                 --enable-mods-shared=all
>> >                 --disable-lua > build/aix/configure.out
>> > configure: WARNING: apr/apr-util is compiled without ldap support
>> > configure: WARNING: nghttp2 version is too old
>> > configure: WARNING: apr/apr-util is compiled without ldap support
>> > configure: WARNING: Your system does not support Journald.
>> > configure: WARNING: Your system does not support systemd.
>> > + make > build/aix/make.out
>> > make: Warning: File '/data/prj/apache/httpd/httpd-2.5.x/.deps' has
>> modification time 118 s in the future
>> >
>>
>
>

--001a11399a0e3b529b051fdffb8a
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div><div>well, correction on building nghttp. Seems it on=
ly expects to work in a GNU rte and I do not have the time to verify an env=
ironment that will support &quot;POSIX&quot; and GNU requirements. My exper=
ience is &quot;small&quot;, i.e., not saying it cannot be done - but anytim=
e I have tried to build a library that insisted on gcc I could not get it t=
o work reliably with packages built using the IBM compiler and the default =
AIX libc (et al) .rte filesets. Basically, I need to add all the libraries =
that gcc needs to compile something.<br><br></div>Oh well. In any case, not=
 tonight.<br><br></div>(p.s. gcc 4.7.X implies a standard compiler might wo=
rk - if I understand correctly that there is a break with standard C starti=
ng with gcc 4.8)<br></div><div class=3D"gmail_extra"><br><div class=3D"gmai=
l_quote">On Wed, Sep 16, 2015 at 6:31 PM, Michael Felt <span dir=3D"ltr">&l=
t;<a href=3D"mailto:mamfelt@gmail.com" target=3D"_blank">mamfelt@gmail.com<=
/a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:=
0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr"><d=
iv>well, just built it again, with --enable-maintainer-mode added, so now h=
ave:<br><br>It was created by configure, which was<br>generated by GNU Auto=
conf 2.69.=C2=A0 Invocation command line was<br><br>=C2=A0 $ ./configure --=
enable-layout=3DAIX --with-apr=3D/opt/bin/apr-1-config --with-apr-util=3D/o=
pt/bin/apu-1-config --enable-mpms-shared=3Dall --enable-mods-shared=3Dall -=
-disable-lua --enable-load-all-modules --enable-maintainer-mode<br><br></di=
v><div>I guess it will &quot;complain&quot; if I try to do anything. re: SS=
L - it is special, especially with the likes of libressl (aka &quot;others&=
quot; out there) - so maybe not the best test code - copying the test for p=
cre may be better. That caught me asap when I first started.<br><br></div><=
div>And I shall go look for the library and get it built. Thanks for your q=
uick reply!<br><br><br><br></div><div>Slightly off topic - not sure if rele=
vent considering the -Werror changes (whatever that is suppossed to mean in=
 gcc land) here are the warning messages that are getting sent by XLC to st=
derr (there are more/others going to stdout):<br></div><br>&quot;util_expr_=
eval.c&quot;, line 1767.7: 1506-196 (W) Initialization between types &quot;=
const void* const&quot; and &quot;const char*(*)(struct {...}*,const void*,=
const char*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;, line 17=
68.7: 1506-196 (W) Initialization between types &quot;const void* const&quo=
t; and &quot;const char*(*)(struct {...}*,const void*,const char*)&quot; is=
 not allowed.<br>&quot;util_expr_eval.c&quot;, line 1769.7: 1506-196 (W) In=
itialization between types &quot;const void* const&quot; and &quot;const ch=
ar*(*)(struct {...}*,const void*,const char*)&quot; is not allowed.<br>&quo=
t;util_expr_eval.c&quot;, line 1771.7: 1506-196 (W) Initialization between =
types &quot;const void* const&quot; and &quot;const char*(*)(struct {...}*,=
const void*,const char*)&quot; is not allowed.<br>&quot;util_expr_eval.c&qu=
ot;, line 1772.7: 1506-196 (W) Initialization between types &quot;const voi=
d* const&quot; and &quot;const char*(*)(struct {...}*,const void*,const cha=
r*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;, line 1773.7: 150=
6-196 (W) Initialization between types &quot;const void* const&quot; and &q=
uot;const char*(*)(struct {...}*,const void*,const char*)&quot; is not allo=
wed.<br>&quot;util_expr_eval.c&quot;, line 1774.7: 1506-196 (W) Initializat=
ion between types &quot;const void* const&quot; and &quot;const char*(*)(st=
ruct {...}*,const void*,const char*)&quot; is not allowed.<br>&quot;util_ex=
pr_eval.c&quot;, line 1775.7: 1506-196 (W) Initialization between types &qu=
ot;const void* const&quot; and &quot;const char*(*)(struct {...}*,const voi=
d*,const char*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;, line=
 1776.7: 1506-196 (W) Initialization between types &quot;const void* const&=
quot; and &quot;const char*(*)(struct {...}*,const void*,const char*)&quot;=
 is not allowed.<br>&quot;util_expr_eval.c&quot;, line 1777.7: 1506-196 (W)=
 Initialization between types &quot;const void* const&quot; and &quot;const=
 char*(*)(struct {...}*,const void*,const char*)&quot; is not allowed.<br>&=
quot;util_expr_eval.c&quot;, line 1778.7: 1506-196 (W) Initialization betwe=
en types &quot;const void* const&quot; and &quot;const char*(*)(struct {...=
}*,const void*,const char*)&quot; is not allowed.<br>&quot;util_expr_eval.c=
&quot;, line 1779.7: 1506-196 (W) Initialization between types &quot;const =
void* const&quot; and &quot;const char*(*)(struct {...}*,const void*,char*)=
&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;, line 1780.7: 1506-1=
96 (W) Initialization between types &quot;const void* const&quot; and &quot=
;const char*(*)(struct {...}*,const void*,char*)&quot; is not allowed.<br>&=
quot;util_expr_eval.c&quot;, line 1781.7: 1506-196 (W) Initialization betwe=
en types &quot;const void* const&quot; and &quot;const char*(*)(struct {...=
}*,const void*,char*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;=
, line 1782.7: 1506-196 (W) Initialization between types &quot;const void* =
const&quot; and &quot;const char*(*)(struct {...}*,const void*,const char*)=
&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;, line 1783.7: 1506-1=
96 (W) Initialization between types &quot;const void* const&quot; and &quot=
;const char*(*)(struct {...}*,const void*,const char*)&quot; is not allowed=
.<br>&quot;util_expr_eval.c&quot;, line 1784.7: 1506-196 (W) Initialization=
 between types &quot;const void* const&quot; and &quot;const char*(*)(struc=
t {...}*,const void*,const char*)&quot; is not allowed.<br>&quot;util_expr_=
eval.c&quot;, line 1785.7: 1506-196 (W) Initialization between types &quot;=
const void* const&quot; and &quot;const char*(*)(struct {...}*,const void*,=
const char*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;, line 17=
89.7: 1506-196 (W) Initialization between types &quot;const void* const&quo=
t; and &quot;const char*(*)(struct {...}*,const void*,const struct apr_arra=
y_header_t*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;, line 17=
94.7: 1506-196 (W) Initialization between types &quot;const void* const&quo=
t; and &quot;int(*)(struct {...}*,const void*,const char*)&quot; is not all=
owed.<br>&quot;util_expr_eval.c&quot;, line 1795.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;int(*)(struct {.=
..}*,const void*,const char*)&quot; is not allowed.<br>&quot;util_expr_eval=
.c&quot;, line 1796.7: 1506-196 (W) Initialization between types &quot;cons=
t void* const&quot; and &quot;int(*)(struct {...}*,const void*,const char*)=
&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;, line 1797.7: 1506-1=
96 (W) Initialization between types &quot;const void* const&quot; and &quot=
;int(*)(struct {...}*,const void*,const char*)&quot; is not allowed.<br>&qu=
ot;util_expr_eval.c&quot;, line 1798.7: 1506-196 (W) Initialization between=
 types &quot;const void* const&quot; and &quot;int(*)(struct {...}*,const v=
oid*,const char*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;, li=
ne 1799.7: 1506-196 (W) Initialization between types &quot;const void* cons=
t&quot; and &quot;int(*)(struct {...}*,const void*,const char*)&quot; is no=
t allowed.<br>&quot;util_expr_eval.c&quot;, line 1800.7: 1506-196 (W) Initi=
alization between types &quot;const void* const&quot; and &quot;int(*)(stru=
ct {...}*,const void*,const char*)&quot; is not allowed.<br>&quot;util_expr=
_eval.c&quot;, line 1801.7: 1506-196 (W) Initialization between types &quot=
;const void* const&quot; and &quot;int(*)(struct {...}*,const void*,const c=
har*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;, line 1802.7: 1=
506-196 (W) Initialization between types &quot;const void* const&quot; and =
&quot;int(*)(struct {...}*,const void*,const char*)&quot; is not allowed.<b=
r>&quot;util_expr_eval.c&quot;, line 1803.7: 1506-196 (W) Initialization be=
tween types &quot;const void* const&quot; and &quot;int(*)(struct {...}*,co=
nst void*,const char*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot=
;, line 1804.7: 1506-196 (W) Initialization between types &quot;const void*=
 const&quot; and &quot;int(*)(struct {...}*,const void*,const char*)&quot; =
is not allowed.<br>&quot;util_expr_eval.c&quot;, line 1805.7: 1506-196 (W) =
Initialization between types &quot;const void* const&quot; and &quot;int(*)=
(struct {...}*,const void*,const char*)&quot; is not allowed.<br>&quot;util=
_expr_eval.c&quot;, line 1806.7: 1506-196 (W) Initialization between types =
&quot;const void* const&quot; and &quot;int(*)(struct {...}*,const void*,co=
nst char*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;, line 1807=
.7: 1506-196 (W) Initialization between types &quot;const void* const&quot;=
 and &quot;int(*)(struct {...}*,const void*,const char*)&quot; is not allow=
ed.<br>&quot;util_expr_eval.c&quot;, line 1812.7: 1506-196 (W) Initializati=
on between types &quot;const void* const&quot; and &quot;int(*)(struct {...=
}*,const void*,const char*,const char*)&quot; is not allowed.<br>&quot;util=
_expr_eval.c&quot;, line 1813.7: 1506-196 (W) Initialization between types =
&quot;const void* const&quot; and &quot;int(*)(struct {...}*,const void*,co=
nst char*,const char*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot=
;, line 1814.7: 1506-196 (W) Initialization between types &quot;const void*=
 const&quot; and &quot;int(*)(struct {...}*,const void*,const char*,const c=
har*)&quot; is not allowed.<br>&quot;util_expr_eval.c&quot;, line 1815.7: 1=
506-196 (W) Initialization between types &quot;const void* const&quot; and =
&quot;int(*)(struct {...}*,const void*,const char*,const char*)&quot; is no=
t allowed.<br>make[2]: warning:=C2=A0 Clock skew detected.=C2=A0 Your build=
 may be incomplete.<br>make[1]: warning:=C2=A0 Clock skew detected.=C2=A0 Y=
our build may be incomplete.<br>&quot;mod_include.c&quot;, line 722.26: 150=
6-068 (W) Operation between types &quot;const void*&quot; and &quot;const c=
har*(*)(struct {...}*,const void*,const char*)&quot; is not allowed.<br>&qu=
ot;mod_headers.c&quot;, line 971.43: 1506-280 (W) Function argument assignm=
ent between types &quot;const void*&quot; and &quot;const char*(*)(struct r=
equest_rec*,char*)&quot; is not allowed.<br>&quot;ssl_engine_vars.c&quot;, =
line 161.26: 1506-068 (W) Operation between types &quot;const void*&quot; a=
nd &quot;const char*(*)(struct {...}*,const void*)&quot; is not allowed.<br=
>&quot;ssl_engine_vars.c&quot;, line 168.26: 1506-068 (W) Operation between=
 types &quot;const void*&quot; and &quot;struct apr_array_header_t*(*)(stru=
ct {...}*,const void*,const char*)&quot; is not allowed.<br><br><div><br><b=
r><br></div></div><div class=3D"HOEnZb"><div class=3D"h5"><div class=3D"gma=
il_extra"><br><div class=3D"gmail_quote">On Wed, Sep 16, 2015 at 5:57 PM, S=
tefan Eissing <span dir=3D"ltr">&lt;<a href=3D"mailto:stefan.eissing@greenb=
ytes.de" target=3D"_blank">stefan.eissing@greenbytes.de</a>&gt;</span> wrot=
e:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-l=
eft:1px #ccc solid;padding-left:1ex">Hi,<br>
<br>
if you enable all modules, it will enable mod_h2 and that one needs libnght=
tp2. The warning could be better, if this is missing, admittedly I just cop=
ied and modified mod_ssl&#39;s test for openssl.<br>
<span><font color=3D"#888888"><br>
//Stefan<br>
</font></span><div><div><br>
<br>
<br>
&gt; Am 16.09.2015 um 17:51 schrieb Michael Felt &lt;<a href=3D"mailto:mamf=
elt@gmail.com" target=3D"_blank">mamfelt@gmail.com</a>&gt;:<br>
&gt;<br>
&gt; Hello all,<br>
&gt;<br>
&gt; I have been ignoring building httpd-2.5.x and thought it was about tim=
e to start taking notice. And I see a bunch of new messages - one of which =
may be a drift in time between my AIX server and the NFS server I keep all =
the files on.<br>
&gt;<br>
&gt; But the first WARNING I saw was from nghttp2 - which perhaps I do not =
have at all! Is this something extra, like pcre or apr that I need to have =
as a library first? If so, the WARNING about it being too old is not correc=
t - because I do not have it at all.<br>
&gt;<br>
&gt; However, if it is a module within httpd-2.5.x - how could it be too ol=
d when I have just refreshed from the SVN repository?<br>
&gt;<br>
&gt; Snip....<br>
&gt;<br>
&gt; + ./configure<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0--enable-=
layout=3DAIX<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0--with-ap=
r=3D/opt/bin/apr-1-config<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0--with-ap=
r-util=3D/opt/bin/apu-1-config<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0--enable-=
mpms-shared=3Dall<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0--enable-=
mods-shared=3Dall<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0--disable=
-lua &gt; build/aix/configure.out<br>
&gt; configure: WARNING: apr/apr-util is compiled without ldap support<br>
&gt; configure: WARNING: nghttp2 version is too old<br>
&gt; configure: WARNING: apr/apr-util is compiled without ldap support<br>
&gt; configure: WARNING: Your system does not support Journald.<br>
&gt; configure: WARNING: Your system does not support systemd.<br>
&gt; + make &gt; build/aix/make.out<br>
&gt; make: Warning: File &#39;/data/prj/apache/httpd/httpd-2.5.x/.deps&#39;=
 has modification time 118 s in the future<br>
&gt;<br>
</div></div></blockquote></div><br></div>
</div></div></blockquote></div><br></div>

--001a11399a0e3b529b051fdffb8a--

From dev-return-83807-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 17 08:27:51 2015
Return-Path: <dev-return-83807-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8F9BF17418
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 17 Sep 2015 08:27:51 +0000 (UTC)
Received: (qmail 83496 invoked by uid 500); 17 Sep 2015 08:27:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83429 invoked by uid 500); 17 Sep 2015 08:27:44 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 83419 invoked by uid 99); 17 Sep 2015 08:27:44 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Sep 2015 08:27:44 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 6DE7E1A214D
	for <dev@httpd.apache.org>; Thu, 17 Sep 2015 08:27:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id tfmOg1sWmkTg for <dev@httpd.apache.org>;
	Thu, 17 Sep 2015 08:27:36 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id E720E24F0D
	for <dev@httpd.apache.org>; Thu, 17 Sep 2015 08:27:35 +0000 (UTC)
Received: from delight.fritz.box (unknown [84.150.91.73])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 10F3715A05CE
	for <dev@httpd.apache.org>; Thu, 17 Sep 2015 10:27:34 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: nghttp2 warning - what is this?
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAN9c_NRQazpse98mTXbkJRuh7MaGY8_HDXyepB82JpQY9c88qg@mail.gmail.com>
Date: Thu, 17 Sep 2015 10:27:34 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <DD094486-BEFC-4721-B368-B1881FBB661F@greenbytes.de>
References: <CAN9c_NSVpkBQgzk13-Ffa95adwHhF6CSM37R-KoUE_c4N1rPyA@mail.gmail.com> <A7585F6B-A664-47CE-86A7-81D318270126@greenbytes.de> <CAN9c_NTwqjynECJkzDVGPY92n7JJpS24SsRH=iqz8M0NhpswGA@mail.gmail.com> <CAN9c_NRQazpse98mTXbkJRuh7MaGY8_HDXyepB82JpQY9c88qg@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

What do you propose? A better warning when libnghttp2 cannot be found at =
all? Anything else?

> Am 16.09.2015 um 18:42 schrieb Michael Felt <mamfelt@gmail.com>:
>=20
> well, correction on building nghttp. Seems it only expects to work in =
a GNU rte and I do not have the time to verify an environment that will =
support "POSIX" and GNU requirements. My experience is "small", i.e., =
not saying it cannot be done - but anytime I have tried to build a =
library that insisted on gcc I could not get it to work reliably with =
packages built using the IBM compiler and the default AIX libc (et al) =
.rte filesets. Basically, I need to add all the libraries that gcc needs =
to compile something.
>=20
> Oh well. In any case, not tonight.
>=20
> (p.s. gcc 4.7.X implies a standard compiler might work - if I =
understand correctly that there is a break with standard C starting with =
gcc 4.8)
>=20
> On Wed, Sep 16, 2015 at 6:31 PM, Michael Felt <mamfelt@gmail.com> =
wrote:
> well, just built it again, with --enable-maintainer-mode added, so now =
have:
>=20
> It was created by configure, which was
> generated by GNU Autoconf 2.69.  Invocation command line was
>=20
>   $ ./configure --enable-layout=3DAIX --with-apr=3D/opt/bin/apr-1-config=
 --with-apr-util=3D/opt/bin/apu-1-config --enable-mpms-shared=3Dall =
--enable-mods-shared=3Dall --disable-lua --enable-load-all-modules =
--enable-maintainer-mode
>=20
> I guess it will "complain" if I try to do anything. re: SSL - it is =
special, especially with the likes of libressl (aka "others" out there) =
- so maybe not the best test code - copying the test for pcre may be =
better. That caught me asap when I first started.
>=20
> And I shall go look for the library and get it built. Thanks for your =
quick reply!
>=20
>=20
>=20
> Slightly off topic - not sure if relevent considering the -Werror =
changes (whatever that is suppossed to mean in gcc land) here are the =
warning messages that are getting sent by XLC to stderr (there are =
more/others going to stdout):
>=20
> "util_expr_eval.c", line 1767.7: 1506-196 (W) Initialization between =
types "const void* const" and "const char*(*)(struct {...}*,const =
void*,const char*)" is not allowed.
> "util_expr_eval.c", line 1768.7: 1506-196 (W) Initialization between =
types "const void* const" and "const char*(*)(struct {...}*,const =
void*,const char*)" is not allowed.
> "util_expr_eval.c", line 1769.7: 1506-196 (W) Initialization between =
types "const void* const" and "const char*(*)(struct {...}*,const =
void*,const char*)" is not allowed.
> "util_expr_eval.c", line 1771.7: 1506-196 (W) Initialization between =
types "const void* const" and "const char*(*)(struct {...}*,const =
void*,const char*)" is not allowed.
> "util_expr_eval.c", line 1772.7: 1506-196 (W) Initialization between =
types "const void* const" and "const char*(*)(struct {...}*,const =
void*,const char*)" is not allowed.
> "util_expr_eval.c", line 1773.7: 1506-196 (W) Initialization between =
types "const void* const" and "const char*(*)(struct {...}*,const =
void*,const char*)" is not allowed.
> "util_expr_eval.c", line 1774.7: 1506-196 (W) Initialization between =
types "const void* const" and "const char*(*)(struct {...}*,const =
void*,const char*)" is not allowed.
> "util_expr_eval.c", line 1775.7: 1506-196 (W) Initialization between =
types "const void* const" and "const char*(*)(struct {...}*,const =
void*,const char*)" is not allowed.
> "util_expr_eval.c", line 1776.7: 1506-196 (W) Initialization between =
types "const void* const" and "const char*(*)(struct {...}*,const =
void*,const char*)" is not allowed.
> "util_expr_eval.c", line 1777.7: 1506-196 (W) Initialization between =
types "const void* const" and "const char*(*)(struct {...}*,const =
void*,const char*)" is not allowed.
> "util_expr_eval.c", line 1778.7: 1506-196 (W) Initialization between =
types "const void* const" and "const char*(*)(struct {...}*,const =
void*,const char*)" is not allowed.
> "util_expr_eval.c", line 1779.7: 1506-196 (W) Initialization between =
types "const void* const" and "const char*(*)(struct {...}*,const =
void*,char*)" is not allowed.
> "util_expr_eval.c", line 1780.7: 1506-196 (W) Initialization between =
types "const void* const" and "const char*(*)(struct {...}*,const =
void*,char*)" is not allowed.
> "util_expr_eval.c", line 1781.7: 1506-196 (W) Initialization between =
types "const void* const" and "const char*(*)(struct {...}*,const =
void*,char*)" is not allowed.
> "util_expr_eval.c", line 1782.7: 1506-196 (W) Initialization between =
types "const void* const" and "const char*(*)(struct {...}*,const =
void*,const char*)" is not allowed.
> "util_expr_eval.c", line 1783.7: 1506-196 (W) Initialization between =
types "const void* const" and "const char*(*)(struct {...}*,const =
void*,const char*)" is not allowed.
> "util_expr_eval.c", line 1784.7: 1506-196 (W) Initialization between =
types "const void* const" and "const char*(*)(struct {...}*,const =
void*,const char*)" is not allowed.
> "util_expr_eval.c", line 1785.7: 1506-196 (W) Initialization between =
types "const void* const" and "const char*(*)(struct {...}*,const =
void*,const char*)" is not allowed.
> "util_expr_eval.c", line 1789.7: 1506-196 (W) Initialization between =
types "const void* const" and "const char*(*)(struct {...}*,const =
void*,const struct apr_array_header_t*)" is not allowed.
> "util_expr_eval.c", line 1794.7: 1506-196 (W) Initialization between =
types "const void* const" and "int(*)(struct {...}*,const void*,const =
char*)" is not allowed.
> "util_expr_eval.c", line 1795.7: 1506-196 (W) Initialization between =
types "const void* const" and "int(*)(struct {...}*,const void*,const =
char*)" is not allowed.
> "util_expr_eval.c", line 1796.7: 1506-196 (W) Initialization between =
types "const void* const" and "int(*)(struct {...}*,const void*,const =
char*)" is not allowed.
> "util_expr_eval.c", line 1797.7: 1506-196 (W) Initialization between =
types "const void* const" and "int(*)(struct {...}*,const void*,const =
char*)" is not allowed.
> "util_expr_eval.c", line 1798.7: 1506-196 (W) Initialization between =
types "const void* const" and "int(*)(struct {...}*,const void*,const =
char*)" is not allowed.
> "util_expr_eval.c", line 1799.7: 1506-196 (W) Initialization between =
types "const void* const" and "int(*)(struct {...}*,const void*,const =
char*)" is not allowed.
> "util_expr_eval.c", line 1800.7: 1506-196 (W) Initialization between =
types "const void* const" and "int(*)(struct {...}*,const void*,const =
char*)" is not allowed.
> "util_expr_eval.c", line 1801.7: 1506-196 (W) Initialization between =
types "const void* const" and "int(*)(struct {...}*,const void*,const =
char*)" is not allowed.
> "util_expr_eval.c", line 1802.7: 1506-196 (W) Initialization between =
types "const void* const" and "int(*)(struct {...}*,const void*,const =
char*)" is not allowed.
> "util_expr_eval.c", line 1803.7: 1506-196 (W) Initialization between =
types "const void* const" and "int(*)(struct {...}*,const void*,const =
char*)" is not allowed.
> "util_expr_eval.c", line 1804.7: 1506-196 (W) Initialization between =
types "const void* const" and "int(*)(struct {...}*,const void*,const =
char*)" is not allowed.
> "util_expr_eval.c", line 1805.7: 1506-196 (W) Initialization between =
types "const void* const" and "int(*)(struct {...}*,const void*,const =
char*)" is not allowed.
> "util_expr_eval.c", line 1806.7: 1506-196 (W) Initialization between =
types "const void* const" and "int(*)(struct {...}*,const void*,const =
char*)" is not allowed.
> "util_expr_eval.c", line 1807.7: 1506-196 (W) Initialization between =
types "const void* const" and "int(*)(struct {...}*,const void*,const =
char*)" is not allowed.
> "util_expr_eval.c", line 1812.7: 1506-196 (W) Initialization between =
types "const void* const" and "int(*)(struct {...}*,const void*,const =
char*,const char*)" is not allowed.
> "util_expr_eval.c", line 1813.7: 1506-196 (W) Initialization between =
types "const void* const" and "int(*)(struct {...}*,const void*,const =
char*,const char*)" is not allowed.
> "util_expr_eval.c", line 1814.7: 1506-196 (W) Initialization between =
types "const void* const" and "int(*)(struct {...}*,const void*,const =
char*,const char*)" is not allowed.
> "util_expr_eval.c", line 1815.7: 1506-196 (W) Initialization between =
types "const void* const" and "int(*)(struct {...}*,const void*,const =
char*,const char*)" is not allowed.
> make[2]: warning:  Clock skew detected.  Your build may be incomplete.
> make[1]: warning:  Clock skew detected.  Your build may be incomplete.
> "mod_include.c", line 722.26: 1506-068 (W) Operation between types =
"const void*" and "const char*(*)(struct {...}*,const void*,const =
char*)" is not allowed.
> "mod_headers.c", line 971.43: 1506-280 (W) Function argument =
assignment between types "const void*" and "const char*(*)(struct =
request_rec*,char*)" is not allowed.
> "ssl_engine_vars.c", line 161.26: 1506-068 (W) Operation between types =
"const void*" and "const char*(*)(struct {...}*,const void*)" is not =
allowed.
> "ssl_engine_vars.c", line 168.26: 1506-068 (W) Operation between types =
"const void*" and "struct apr_array_header_t*(*)(struct {...}*,const =
void*,const char*)" is not allowed.
>=20
>=20
>=20
>=20
>=20
> On Wed, Sep 16, 2015 at 5:57 PM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
> Hi,
>=20
> if you enable all modules, it will enable mod_h2 and that one needs =
libnghttp2. The warning could be better, if this is missing, admittedly =
I just copied and modified mod_ssl's test for openssl.
>=20
> //Stefan
>=20
>=20
>=20
> > Am 16.09.2015 um 17:51 schrieb Michael Felt <mamfelt@gmail.com>:
> >
> > Hello all,
> >
> > I have been ignoring building httpd-2.5.x and thought it was about =
time to start taking notice. And I see a bunch of new messages - one of =
which may be a drift in time between my AIX server and the NFS server I =
keep all the files on.
> >
> > But the first WARNING I saw was from nghttp2 - which perhaps I do =
not have at all! Is this something extra, like pcre or apr that I need =
to have as a library first? If so, the WARNING about it being too old is =
not correct - because I do not have it at all.
> >
> > However, if it is a module within httpd-2.5.x - how could it be too =
old when I have just refreshed from the SVN repository?
> >
> > Snip....
> >
> > + ./configure
> >                 --enable-layout=3DAIX
> >                 --with-apr=3D/opt/bin/apr-1-config
> >                 --with-apr-util=3D/opt/bin/apu-1-config
> >                 --enable-mpms-shared=3Dall
> >                 --enable-mods-shared=3Dall
> >                 --disable-lua > build/aix/configure.out
> > configure: WARNING: apr/apr-util is compiled without ldap support
> > configure: WARNING: nghttp2 version is too old
> > configure: WARNING: apr/apr-util is compiled without ldap support
> > configure: WARNING: Your system does not support Journald.
> > configure: WARNING: Your system does not support systemd.
> > + make > build/aix/make.out
> > make: Warning: File '/data/prj/apache/httpd/httpd-2.5.x/.deps' has =
modification time 118 s in the future
> >
>=20
>=20

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83808-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 17 08:51:19 2015
Return-Path: <dev-return-83808-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5E16E174EE
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 17 Sep 2015 08:51:19 +0000 (UTC)
Received: (qmail 38748 invoked by uid 500); 17 Sep 2015 08:51:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38657 invoked by uid 500); 17 Sep 2015 08:51:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38647 invoked by uid 99); 17 Sep 2015 08:51:18 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Sep 2015 08:51:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 6F54C1A2177
	for <dev@httpd.apache.org>; Thu, 17 Sep 2015 08:51:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.092
X-Spam-Level:
X-Spam-Status: No, score=-0.092 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, T_FROM_12LTRDOM=0.01]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id qRUJdyUErKUr for <dev@httpd.apache.org>;
	Thu, 17 Sep 2015 08:51:15 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 6D1D44414C
	for <dev@httpd.apache.org>; Thu, 17 Sep 2015 08:51:15 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1442479922;
	bh=qJXbZ0UiBkmhiSGHufRdpopepS3kMnjpCKfVOS8nohY=;
	h=From:To:Subject:Date;
	b=lqHVnxuYHuU+sJxv4UmHgHgfqqollwM3hyfPlXZulezNI1qCYzZlhk3uyzehjLm7N
	 RxogQ9fP04ijjE7yuX3Q7OPGkpCxW56rACpjqafxwm++iFZ+4FAWuOCw2RKsL4H7zl
	 E4PEyx6PceuPxrj0BG23PzkUZl+fKa2D4icpeGJY=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=127.0.0.1;
From: Steffen <info@apachelounge.com>
To:  <dev@httpd.apache.org>
Subject: mod_h2 / ssl warnings Windows 
Date: Thu, 17 Sep 2015 10:52:00 +0200
Message-ID: <55fa7f30.7c4.efc.3a3c@land10.nl>
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="----=_SW_22579_1442479920_mixed="
X-Originating-IP: 127.0.0.1
X-Mailer: SurgeWeb - Ajax Webmail Client

This is a multi-part message in MIME format.

------=_SW_22579_1442479920_mixed=
Content-Type: text/plain; charset=us-ascii; format=flowed


For you info, warnings when build with VC14 Win64.

See attached.

Steffen


------=_SW_22579_1442479920_mixed=
Content-Type: text/plain; name="warnings.txt"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="warnings.txt"

DQoNCg0KaDJfY29ubi5jKDM4OCk6IHdhcm5pbmcgQzQzMTE6ICd0eXBlIGNhc3QnOiBwb2ludGVy
IHRydW5jYXRpb24gZnJvbSAnYXByX3Bvb2xfdCAqJyB0byAnbG9uZycNCmgyX3Nlc3Npb24uYygx
MDUpOiB3YXJuaW5nIEM0MjY3OiAncmV0dXJuJzogY29udmVyc2lvbiBmcm9tICdzaXplX3QnIHRv
ICdsb25nJywgcG9zc2libGUgbG9zcyBvZiBkYXRhDQpoMl9zZXNzaW9uLmMoNDQ3KTogd2Fybmlu
ZyBDNDI2NzogJ2luaXRpYWxpemluZyc6IGNvbnZlcnNpb24gZnJvbSAnc2l6ZV90JyB0byAnY29u
c3QgdW5zaWduZWQgY2hhcicsIHBvc3NpYmxlIGxvc3Mgb2YgZGF0YQ0KDQoNCg0Kc3NsX2VuZ2lu
ZV9jb25maWcuYyg0ODkpOiB3YXJuaW5nIEM0MjY3OiAnaW5pdGlhbGl6aW5nJzogY29udmVyc2lv
biBmcm9tICdzaXplX3QnIHRvICdpbnQnLCBwb3NzaWJsZSBsb3NzIG9mIGRhdGENCnNzbF9lbmdp
bmVfY29uZmlnLmMoNTc3KTogd2FybmluZyBDNDI2NzogJ2luaXRpYWxpemluZyc6IGNvbnZlcnNp
b24gZnJvbSAnc2l6ZV90JyB0byAnaW50JywgcG9zc2libGUgbG9zcyBvZiBkYXRhDQpzc2xfZW5n
aW5lX2luaXQuYygxOTEpOiB3YXJuaW5nIEM0MjY3OiAnPSc6IGNvbnZlcnNpb24gZnJvbSAnc2l6
ZV90JyB0byAnaW50JywgcG9zc2libGUgbG9zcyBvZiBkYXRhDQpzc2xfZW5naW5lX2lvLmMoNTUw
KTogd2FybmluZyBDNDI2NzogJ2Z1bmN0aW9uJzogY29udmVyc2lvbiBmcm9tICdzaXplX3QnIHRv
ICdpbnQnLCBwb3NzaWJsZSBsb3NzIG9mIGRhdGENCnNzbF9lbmdpbmVfaW8uYyg1NTYpOiB3YXJu
aW5nIEM0MjY3OiAnKz0nOiBjb252ZXJzaW9uIGZyb20gJ3NpemVfdCcgdG8gJ2ludCcsIHBvc3Np
YmxlIGxvc3Mgb2YgZGF0YQ0Kc3NsX2VuZ2luZV9pby5jKDU5NCk6IHdhcm5pbmcgQzQyNjc6ICdm
dW5jdGlvbic6IGNvbnZlcnNpb24gZnJvbSAnc2l6ZV90JyB0byAnaW50JywgcG9zc2libGUgbG9z
cyBvZiBkYXRhDQpzc2xfZW5naW5lX2lvLmMoNzE3KTogd2FybmluZyBDNDI2NzogJ2Z1bmN0aW9u
JzogY29udmVyc2lvbiBmcm9tICdzaXplX3QnIHRvICdpbnQnLCBwb3NzaWJsZSBsb3NzIG9mIGRh
dGENCnNzbF9lbmdpbmVfaW8uYyg3MzkpOiB3YXJuaW5nIEM0MjY3OiAnPSc6IGNvbnZlcnNpb24g
ZnJvbSAnc2l6ZV90JyB0byAnaW50JywgcG9zc2libGUgbG9zcyBvZiBkYXRhDQpzc2xfZW5naW5l
X2lvLmMoNzY0KTogd2FybmluZyBDNDI2NzogJ2Z1bmN0aW9uJzogY29udmVyc2lvbiBmcm9tICdz
aXplX3QnIHRvICdpbnQnLCBwb3NzaWJsZSBsb3NzIG9mIGRhdGENCnNzbF9lbmdpbmVfaW8uYygx
MzY4KTogd2FybmluZyBDNDAxODogJzwnOiBzaWduZWQvdW5zaWduZWQgbWlzbWF0Y2gNCnNzbF9l
bmdpbmVfaW8uYygxMzg2KTogd2FybmluZyBDNDI2NzogJy09JzogY29udmVyc2lvbiBmcm9tICdz
aXplX3QnIHRvICdpbnQnLCBwb3NzaWJsZSBsb3NzIG9mIGRhdGENCnNzbF9lbmdpbmVfaW8uYygx
NDI5KTogd2FybmluZyBDNDEwMTogJ24nOiB1bnJlZmVyZW5jZWQgbG9jYWwgdmFyaWFibGUNCnNz
bF9lbmdpbmVfaW8uYygxNzg3KTogd2FybmluZyBDNDAxODogJz4nOiBzaWduZWQvdW5zaWduZWQg
bWlzbWF0Y2gNCnNzbF9lbmdpbmVfa2VybmVsLmMoMjE3Nyk6IHdhcm5pbmcgQzQwMTg6ICc8Jzog
c2lnbmVkL3Vuc2lnbmVkIG1pc21hdGNoDQpzc2xfZW5naW5lX2xvZy5jKDEyOCk6IHdhcm5pbmcg
QzQyNjc6ICc9JzogY29udmVyc2lvbiBmcm9tICdzaXplX3QnIHRvICdpbnQnLCBwb3NzaWJsZSBs
b3NzIG9mIGRhdGENCnNzbF9lbmdpbmVfcHBocmFzZS5jKDQ3OCk6IHdhcm5pbmcgQzQyNjc6ICc9
JzogY29udmVyc2lvbiBmcm9tICdzaXplX3QnIHRvICdpbnQnLCBwb3NzaWJsZSBsb3NzIG9mIGRh
dGENCnNzbF9lbmdpbmVfcHBocmFzZS5jKDU3MCk6IHdhcm5pbmcgQzQyNjc6ICc9JzogY29udmVy
c2lvbiBmcm9tICdzaXplX3QnIHRvICdpbnQnLCBwb3NzaWJsZSBsb3NzIG9mIGRhdGENCnNzbF9l
bmdpbmVfcHBocmFzZS5jKDYwOSk6IHdhcm5pbmcgQzQyNjc6ICc9JzogY29udmVyc2lvbiBmcm9t
ICdzaXplX3QnIHRvICdpbnQnLCBwb3NzaWJsZSBsb3NzIG9mIGRhdGENCnNzbF9lbmdpbmVfcmFu
ZC5jKDE1NCk6IHdhcm5pbmcgQzQyNjc6ICdmdW5jdGlvbic6IGNvbnZlcnNpb24gZnJvbSAnc2l6
ZV90JyB0byAnaW50JywgcG9zc2libGUgbG9zcyBvZiBkYXRhDQpzc2xfZW5naW5lX3JhbmQuYygx
NjIpOiB3YXJuaW5nIEM0MjY3OiAncmV0dXJuJzogY29udmVyc2lvbiBmcm9tICdzaXplX3QnIHRv
ICdpbnQnLCBwb3NzaWJsZSBsb3NzIG9mIGRhdGENCnNzbF9lbmdpbmVfdmFycy5jKDYxMSk6IHdh
cm5pbmcgQzQyNjc6ICc9JzogY29udmVyc2lvbiBmcm9tICdzaXplX3QnIHRvICdpbnQnLCBwb3Nz
aWJsZSBsb3NzIG9mIGRhdGENCnNzbF91dGlsLmMoMzc5KTogd2FybmluZyBDNDMxMTogJ3R5cGUg
Y2FzdCc6IHBvaW50ZXIgdHJ1bmNhdGlvbiBmcm9tICdhcHJfb3NfdGhyZWFkX3QnIHRvICd1bnNp
Z25lZCBsb25nJw0K

------=_SW_22579_1442479920_mixed=--


From dev-return-83809-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 17 11:27:03 2015
Return-Path: <dev-return-83809-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6688917A54
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 17 Sep 2015 11:27:03 +0000 (UTC)
Received: (qmail 46172 invoked by uid 500); 17 Sep 2015 11:26:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46102 invoked by uid 500); 17 Sep 2015 11:26:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46092 invoked by uid 99); 17 Sep 2015 11:26:56 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Sep 2015 11:26:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 8633CC0979
	for <dev@httpd.apache.org>; Thu, 17 Sep 2015 11:26:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id MFjo06ZxIhxe for <dev@httpd.apache.org>;
	Thu, 17 Sep 2015 11:26:50 +0000 (UTC)
Received: from mail-io0-f174.google.com (mail-io0-f174.google.com [209.85.223.174])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 6A019204C8
	for <dev@httpd.apache.org>; Thu, 17 Sep 2015 11:26:49 +0000 (UTC)
Received: by ioii196 with SMTP id i196so18099839ioi.3
        for <dev@httpd.apache.org>; Thu, 17 Sep 2015 04:26:48 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=55wnTjYP5n1bPiMU3HGSW/qPlhdGPTJDreaoxpSDI18=;
        b=orhUCa3J0svdatOcUrZEWilEoN5x0vl0SFIgmaPAbTllWEZW18lKPozIzKz/xgdazZ
         J0Jw1to9MDAaLFtr0sY7Un30yln2FEsmsDQj7cmmMLroq0DIKEIMam+E+65pjJKBVhRm
         Yz9ueHqd1CnswZYOok3PjdzBX55GV8d7TZB70zhfk5W8yAH6ULpjcuhtW0hDRb0aJH9b
         6NSGLehwN/sfJSRtGaIRV2biFvHEca35QHPFKeAglDpydXBPmoOJUYlE5x6RxC3bdxp3
         VDldcSh/Lhi4es7Y82gAVwL1y/fxElYcoeYW/kzGl7Lo1pLyPb3bMnX/+IL36l9AgtOU
         jSWQ==
MIME-Version: 1.0
X-Received: by 10.107.166.139 with SMTP id p133mr5178585ioe.113.1442489208413;
 Thu, 17 Sep 2015 04:26:48 -0700 (PDT)
Received: by 10.64.129.226 with HTTP; Thu, 17 Sep 2015 04:26:48 -0700 (PDT)
In-Reply-To: <DD094486-BEFC-4721-B368-B1881FBB661F@greenbytes.de>
References: <CAN9c_NSVpkBQgzk13-Ffa95adwHhF6CSM37R-KoUE_c4N1rPyA@mail.gmail.com>
	<A7585F6B-A664-47CE-86A7-81D318270126@greenbytes.de>
	<CAN9c_NTwqjynECJkzDVGPY92n7JJpS24SsRH=iqz8M0NhpswGA@mail.gmail.com>
	<CAN9c_NRQazpse98mTXbkJRuh7MaGY8_HDXyepB82JpQY9c88qg@mail.gmail.com>
	<DD094486-BEFC-4721-B368-B1881FBB661F@greenbytes.de>
Date: Thu, 17 Sep 2015 13:26:48 +0200
Message-ID: <CAKQ1sVPP_vgbT74fY0vyy1g_BFfFtHE3yfFBhpd9gSe+4XgSXg@mail.gmail.com>
Subject: Re: nghttp2 warning - what is this?
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Isn't mod_h2 removed from the list of "enable-mods-shared=3Dall" already
when libh2 isn't available?
There is no point in enabling it in this case, so a warning about
disabling it automatically looks enough to me.

On Thu, Sep 17, 2015 at 10:27 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> What do you propose? A better warning when libnghttp2 cannot be found at =
all? Anything else?
>
>> Am 16.09.2015 um 18:42 schrieb Michael Felt <mamfelt@gmail.com>:
>>
>> well, correction on building nghttp. Seems it only expects to work in a =
GNU rte and I do not have the time to verify an environment that will suppo=
rt "POSIX" and GNU requirements. My experience is "small", i.e., not saying=
 it cannot be done - but anytime I have tried to build a library that insis=
ted on gcc I could not get it to work reliably with packages built using th=
e IBM compiler and the default AIX libc (et al) .rte filesets. Basically, I=
 need to add all the libraries that gcc needs to compile something.
>>
>> Oh well. In any case, not tonight.
>>
>> (p.s. gcc 4.7.X implies a standard compiler might work - if I understand=
 correctly that there is a break with standard C starting with gcc 4.8)
>>
>> On Wed, Sep 16, 2015 at 6:31 PM, Michael Felt <mamfelt@gmail.com> wrote:
>> well, just built it again, with --enable-maintainer-mode added, so now h=
ave:
>>
>> It was created by configure, which was
>> generated by GNU Autoconf 2.69.  Invocation command line was
>>
>>   $ ./configure --enable-layout=3DAIX --with-apr=3D/opt/bin/apr-1-config=
 --with-apr-util=3D/opt/bin/apu-1-config --enable-mpms-shared=3Dall --enabl=
e-mods-shared=3Dall --disable-lua --enable-load-all-modules --enable-mainta=
iner-mode
>>
>> I guess it will "complain" if I try to do anything. re: SSL - it is spec=
ial, especially with the likes of libressl (aka "others" out there) - so ma=
ybe not the best test code - copying the test for pcre may be better. That =
caught me asap when I first started.
>>
>> And I shall go look for the library and get it built. Thanks for your qu=
ick reply!
>>
>>
>>
>> Slightly off topic - not sure if relevent considering the -Werror change=
s (whatever that is suppossed to mean in gcc land) here are the warning mes=
sages that are getting sent by XLC to stderr (there are more/others going t=
o stdout):
>>
>> "util_expr_eval.c", line 1767.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "const char*(*)(struct {...}*,const void*,const =
char*)" is not allowed.
>> "util_expr_eval.c", line 1768.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "const char*(*)(struct {...}*,const void*,const =
char*)" is not allowed.
>> "util_expr_eval.c", line 1769.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "const char*(*)(struct {...}*,const void*,const =
char*)" is not allowed.
>> "util_expr_eval.c", line 1771.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "const char*(*)(struct {...}*,const void*,const =
char*)" is not allowed.
>> "util_expr_eval.c", line 1772.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "const char*(*)(struct {...}*,const void*,const =
char*)" is not allowed.
>> "util_expr_eval.c", line 1773.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "const char*(*)(struct {...}*,const void*,const =
char*)" is not allowed.
>> "util_expr_eval.c", line 1774.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "const char*(*)(struct {...}*,const void*,const =
char*)" is not allowed.
>> "util_expr_eval.c", line 1775.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "const char*(*)(struct {...}*,const void*,const =
char*)" is not allowed.
>> "util_expr_eval.c", line 1776.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "const char*(*)(struct {...}*,const void*,const =
char*)" is not allowed.
>> "util_expr_eval.c", line 1777.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "const char*(*)(struct {...}*,const void*,const =
char*)" is not allowed.
>> "util_expr_eval.c", line 1778.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "const char*(*)(struct {...}*,const void*,const =
char*)" is not allowed.
>> "util_expr_eval.c", line 1779.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "const char*(*)(struct {...}*,const void*,char*)=
" is not allowed.
>> "util_expr_eval.c", line 1780.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "const char*(*)(struct {...}*,const void*,char*)=
" is not allowed.
>> "util_expr_eval.c", line 1781.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "const char*(*)(struct {...}*,const void*,char*)=
" is not allowed.
>> "util_expr_eval.c", line 1782.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "const char*(*)(struct {...}*,const void*,const =
char*)" is not allowed.
>> "util_expr_eval.c", line 1783.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "const char*(*)(struct {...}*,const void*,const =
char*)" is not allowed.
>> "util_expr_eval.c", line 1784.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "const char*(*)(struct {...}*,const void*,const =
char*)" is not allowed.
>> "util_expr_eval.c", line 1785.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "const char*(*)(struct {...}*,const void*,const =
char*)" is not allowed.
>> "util_expr_eval.c", line 1789.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "const char*(*)(struct {...}*,const void*,const =
struct apr_array_header_t*)" is not allowed.
>> "util_expr_eval.c", line 1794.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "int(*)(struct {...}*,const void*,const char*)" =
is not allowed.
>> "util_expr_eval.c", line 1795.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "int(*)(struct {...}*,const void*,const char*)" =
is not allowed.
>> "util_expr_eval.c", line 1796.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "int(*)(struct {...}*,const void*,const char*)" =
is not allowed.
>> "util_expr_eval.c", line 1797.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "int(*)(struct {...}*,const void*,const char*)" =
is not allowed.
>> "util_expr_eval.c", line 1798.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "int(*)(struct {...}*,const void*,const char*)" =
is not allowed.
>> "util_expr_eval.c", line 1799.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "int(*)(struct {...}*,const void*,const char*)" =
is not allowed.
>> "util_expr_eval.c", line 1800.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "int(*)(struct {...}*,const void*,const char*)" =
is not allowed.
>> "util_expr_eval.c", line 1801.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "int(*)(struct {...}*,const void*,const char*)" =
is not allowed.
>> "util_expr_eval.c", line 1802.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "int(*)(struct {...}*,const void*,const char*)" =
is not allowed.
>> "util_expr_eval.c", line 1803.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "int(*)(struct {...}*,const void*,const char*)" =
is not allowed.
>> "util_expr_eval.c", line 1804.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "int(*)(struct {...}*,const void*,const char*)" =
is not allowed.
>> "util_expr_eval.c", line 1805.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "int(*)(struct {...}*,const void*,const char*)" =
is not allowed.
>> "util_expr_eval.c", line 1806.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "int(*)(struct {...}*,const void*,const char*)" =
is not allowed.
>> "util_expr_eval.c", line 1807.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "int(*)(struct {...}*,const void*,const char*)" =
is not allowed.
>> "util_expr_eval.c", line 1812.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "int(*)(struct {...}*,const void*,const char*,co=
nst char*)" is not allowed.
>> "util_expr_eval.c", line 1813.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "int(*)(struct {...}*,const void*,const char*,co=
nst char*)" is not allowed.
>> "util_expr_eval.c", line 1814.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "int(*)(struct {...}*,const void*,const char*,co=
nst char*)" is not allowed.
>> "util_expr_eval.c", line 1815.7: 1506-196 (W) Initialization between typ=
es "const void* const" and "int(*)(struct {...}*,const void*,const char*,co=
nst char*)" is not allowed.
>> make[2]: warning:  Clock skew detected.  Your build may be incomplete.
>> make[1]: warning:  Clock skew detected.  Your build may be incomplete.
>> "mod_include.c", line 722.26: 1506-068 (W) Operation between types "cons=
t void*" and "const char*(*)(struct {...}*,const void*,const char*)" is not=
 allowed.
>> "mod_headers.c", line 971.43: 1506-280 (W) Function argument assignment =
between types "const void*" and "const char*(*)(struct request_rec*,char*)"=
 is not allowed.
>> "ssl_engine_vars.c", line 161.26: 1506-068 (W) Operation between types "=
const void*" and "const char*(*)(struct {...}*,const void*)" is not allowed=
.
>> "ssl_engine_vars.c", line 168.26: 1506-068 (W) Operation between types "=
const void*" and "struct apr_array_header_t*(*)(struct {...}*,const void*,c=
onst char*)" is not allowed.
>>
>>
>>
>>
>>
>> On Wed, Sep 16, 2015 at 5:57 PM, Stefan Eissing <stefan.eissing@greenbyt=
es.de> wrote:
>> Hi,
>>
>> if you enable all modules, it will enable mod_h2 and that one needs libn=
ghttp2. The warning could be better, if this is missing, admittedly I just =
copied and modified mod_ssl's test for openssl.
>>
>> //Stefan
>>
>>
>>
>> > Am 16.09.2015 um 17:51 schrieb Michael Felt <mamfelt@gmail.com>:
>> >
>> > Hello all,
>> >
>> > I have been ignoring building httpd-2.5.x and thought it was about tim=
e to start taking notice. And I see a bunch of new messages - one of which =
may be a drift in time between my AIX server and the NFS server I keep all =
the files on.
>> >
>> > But the first WARNING I saw was from nghttp2 - which perhaps I do not =
have at all! Is this something extra, like pcre or apr that I need to have =
as a library first? If so, the WARNING about it being too old is not correc=
t - because I do not have it at all.
>> >
>> > However, if it is a module within httpd-2.5.x - how could it be too ol=
d when I have just refreshed from the SVN repository?
>> >
>> > Snip....
>> >
>> > + ./configure
>> >                 --enable-layout=3DAIX
>> >                 --with-apr=3D/opt/bin/apr-1-config
>> >                 --with-apr-util=3D/opt/bin/apu-1-config
>> >                 --enable-mpms-shared=3Dall
>> >                 --enable-mods-shared=3Dall
>> >                 --disable-lua > build/aix/configure.out
>> > configure: WARNING: apr/apr-util is compiled without ldap support
>> > configure: WARNING: nghttp2 version is too old
>> > configure: WARNING: apr/apr-util is compiled without ldap support
>> > configure: WARNING: Your system does not support Journald.
>> > configure: WARNING: Your system does not support systemd.
>> > + make > build/aix/make.out
>> > make: Warning: File '/data/prj/apache/httpd/httpd-2.5.x/.deps' has mod=
ification time 118 s in the future
>> >
>>
>>
>
> <green/>bytes GmbH
> Hafenweg 16, 48155 M=C3=BCnster, Germany
> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>
>
>

From dev-return-83810-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 17 14:59:18 2015
Return-Path: <dev-return-83810-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4828D10232
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 17 Sep 2015 14:59:18 +0000 (UTC)
Received: (qmail 86149 invoked by uid 500); 17 Sep 2015 14:59:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86078 invoked by uid 500); 17 Sep 2015 14:59:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86068 invoked by uid 99); 17 Sep 2015 14:59:17 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Sep 2015 14:59:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 6957FC0979
	for <dev@httpd.apache.org>; Thu, 17 Sep 2015 14:59:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id GUTpCNChSyCL for <dev@httpd.apache.org>;
	Thu, 17 Sep 2015 14:59:08 +0000 (UTC)
Received: from resqmta-ch2-11v.sys.comcast.net (resqmta-ch2-11v.sys.comcast.net [69.252.207.43])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 9477620864
	for <dev@httpd.apache.org>; Thu, 17 Sep 2015 14:59:08 +0000 (UTC)
Received: from resomta-ch2-16v.sys.comcast.net ([69.252.207.112])
	by resqmta-ch2-11v.sys.comcast.net with comcast
	id JExB1r0082S2Q5R01Ez2v1; Thu, 17 Sep 2015 14:59:02 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-16v.sys.comcast.net with comcast
	id JEz11r00U2U0RYt01Ez1gH; Thu, 17 Sep 2015 14:59:02 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1703415 - in /httpd/test/framework/trunk/c-modules: authany/mod_authany.c test_session/mod_test_session.c
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVOVaKQGu+we+8zciDshdiAvErzhhM_3-eDWPRcjwrXxEw@mail.gmail.com>
Date: Thu, 17 Sep 2015 10:59:01 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <E2AB4624-024C-40D3-8286-028316EDC09E@jaguNET.com>
References: <20150916141850.82DDAAC022D@hades.apache.org> <CABD8fLXZHR6nkXa2Z_kuafeC7PCiymno+LeOZ1ux3CPZzKejWw@mail.gmail.com> <9E69EE29-F412-49A3-98A9-CB8B0EBD61D1@jaguNET.com> <CAKQ1sVOVaKQGu+we+8zciDshdiAvErzhhM_3-eDWPRcjwrXxEw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1442501942;
	bh=aZSYCbOMlnC8WXnxVx+CR7ZglhIQ1hGhqYlSHsX4sE4=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=NTKoZHAANo+1OKI0leW9dur3gNP4n1yFb7j1bFV9X1Do9/XlP9BInextbQIVvhmru
	 jr6raQU/HrK9JjodkgtWXwdQnqvIHddgA971ktmmlha0v9M8MIbWI/RHXKneJ4/DX9
	 RXcf4QbQRXfaUURvnPRJ9rLmeHqQkky/ZpmrV6HZJygYKpNTIVLBbnuh9g4E+5Nb5j
	 yvQihi4AwMV7xN4Mgbk67sq2tDaXW9STiwoOyjVk1XnKvLs1caoBftioRSKzpD/13l
	 u/GT9jlmBz4AxkgugYD4dKc0eojCh90CNBwc1+racCGGF02aWPoGbkKOzKi+NAeZQT
	 OaFRBNYA5yAkw==

Thx!
> On Sep 16, 2015, at 12:24 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> 
> On Wed, Sep 16, 2015 at 5:08 PM, Jim Jagielski <jim@jagunet.com> wrote:
>> All this is due to changes mode with the mainter-mode and
>> which causes build stop error and stop for these kinds
>> of warnings. These are simple 'squash warning' patches.
> 
> Since the stack may be corrupted on 32bit systems (quite hard to
> diagnose), I committed a fix in r1703433.


From dev-return-83811-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 17 15:20:17 2015
Return-Path: <dev-return-83811-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 46A1A10364
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 17 Sep 2015 15:20:17 +0000 (UTC)
Received: (qmail 41271 invoked by uid 500); 17 Sep 2015 15:20:16 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 41198 invoked by uid 500); 17 Sep 2015 15:20:16 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 41187 invoked by uid 99); 17 Sep 2015 15:20:16 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Sep 2015 15:20:16 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 2DD5818099A
	for <dev@httpd.apache.org>; Thu, 17 Sep 2015 15:20:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.88
X-Spam-Level: **
X-Spam-Status: No, score=2.88 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id GgKv4ocrp3eP for <dev@httpd.apache.org>;
	Thu, 17 Sep 2015 15:20:05 +0000 (UTC)
Received: from mail-wi0-f181.google.com (mail-wi0-f181.google.com [209.85.212.181])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id E70F920864
	for <dev@httpd.apache.org>; Thu, 17 Sep 2015 15:20:04 +0000 (UTC)
Received: by wicfx3 with SMTP id fx3so32022929wic.0
        for <dev@httpd.apache.org>; Thu, 17 Sep 2015 08:20:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=7h4LcK1TnS8Nwy1h+MdD5VlZESLhwLFzxcXOm4TyKyk=;
        b=G16RWMUW+WNoeToMxn5dQmfoX41UefAZocyASu8Si2J116gEAcmO82enMJ+mmLKs1T
         rMjSjBcI1rlWJmad2SPowxNwMBVTzlKeSTYGVuNdfi+gbMn80knCBbdiK8j5Z4lYJVWn
         bQWY9f/VL+Lfy5LKa7vKZcocmJeoJWPu8UMeqFk9wf2C8Fpw8UYw2kvGafXs6VjxylQg
         x15IF0MwHql0o7L4cKnZ6SByMfScP55k+w58FWkL6I/Rh2v7SVcmuiJIowBD9U3VKnaG
         +p8oBqH0Z6NfLSq9GwMWc/dHdA+iL4GX3s6z6WWBLN2mxGqtguuzjEUcirYDE3chuthy
         9Uxg==
MIME-Version: 1.0
X-Received: by 10.194.103.194 with SMTP id fy2mr61973248wjb.10.1442503203665;
 Thu, 17 Sep 2015 08:20:03 -0700 (PDT)
Received: by 10.28.63.134 with HTTP; Thu, 17 Sep 2015 08:20:03 -0700 (PDT)
In-Reply-To: <55fa7f30.7c4.efc.3a3c@land10.nl>
References: <55fa7f30.7c4.efc.3a3c@land10.nl>
Date: Thu, 17 Sep 2015 08:20:03 -0700
Message-ID: <CAGu=u8jqCCGcHLMERgv6kQKt6ea7HJXcUmmQZaYw4jjOE85R-w@mail.gmail.com>
Subject: Re: mod_h2 / ssl warnings Windows
From: Jacob Champion <champion.p@gmail.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e010d83f20abd39051ff2f35f

--089e010d83f20abd39051ff2f35f
Content-Type: text/plain; charset=UTF-8

On Thursday, September 17, 2015, Steffen <info@apachelounge.com> wrote:

>
> For you info, warnings when build with VC14 Win64.
>
> See attached.
>
>
The size_t/int and pointer/int warnings show up in a large number of
modules on Win64, IIRC. Is there already an established opinion on whether
or not they should be fixed? It seems like they should apply to 64-bit *nix
as well.

--Jacob
(from mobile, sorry for formatting annoyances)

--089e010d83f20abd39051ff2f35f
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Thursday, September 17, 2015, Steffen &lt;<a href=3D"mailto:info@apachel=
ounge.com">info@apachelounge.com</a>&gt; wrote:<br><blockquote class=3D"gma=
il_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-lef=
t:1ex"><br>
For you info, warnings when build with VC14 Win64.<br>
<br>
See attached.<br>
<br>
</blockquote><div><br></div><div>The size_t/int and pointer/int warnings sh=
ow up in a large number of modules on Win64, IIRC. Is there already an esta=
blished opinion on whether or not they should be fixed? It seems like they =
should apply to 64-bit *nix as well.</div><div><br></div><div>--Jacob</div>=
<div>(from mobile, sorry for formatting annoyances)</div>

--089e010d83f20abd39051ff2f35f--

From dev-return-83812-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 17 21:10:59 2015
Return-Path: <dev-return-83812-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 43A1017BDF
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 17 Sep 2015 21:10:59 +0000 (UTC)
Received: (qmail 38512 invoked by uid 500); 17 Sep 2015 21:10:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38433 invoked by uid 500); 17 Sep 2015 21:10:49 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38423 invoked by uid 99); 17 Sep 2015 21:10:49 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 17 Sep 2015 21:10:49 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id F1764F3B33
	for <dev@httpd.apache.org>; Thu, 17 Sep 2015 21:10:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.88
X-Spam-Level: **
X-Spam-Status: No, score=2.88 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=qqmail.nl
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id I-a6h5KKFG_j for <dev@httpd.apache.org>;
	Thu, 17 Sep 2015 21:10:41 +0000 (UTC)
Received: from mail-wi0-f174.google.com (mail-wi0-f174.google.com [209.85.212.174])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id E521E204DD
	for <dev@httpd.apache.org>; Thu, 17 Sep 2015 21:10:40 +0000 (UTC)
Received: by wicfx3 with SMTP id fx3so40223670wic.1
        for <dev@httpd.apache.org>; Thu, 17 Sep 2015 14:10:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=qqmail.nl; s=google;
        h=message-id:mime-version:to:from:subject:date:importance:in-reply-to
         :references:content-type;
        bh=JVCbQDfK+gLHKzG9LzeFcE/BQKf4ZrkmP57W0Qs0OPk=;
        b=SFVD6zAPZu0k2Z9xe+SMqiv0LUyn3SgkKF3GNbenxOEFfZVvaq3ZQbCM/onxhhrAm8
         cG7E15sebpvNDC4aoD2IJA+aoCpmBdNBLnF+j27yWU+zjPHjEJ+SgJBxeq8Zr/sE2onw
         6LmYsosUlph9QRMLr4YTaGdhXtEcNM8gUgFYM=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:message-id:mime-version:to:from:subject:date
         :importance:in-reply-to:references:content-type;
        bh=JVCbQDfK+gLHKzG9LzeFcE/BQKf4ZrkmP57W0Qs0OPk=;
        b=dAmiiDr02qB5NDSU4GnRYIaBTH1XWGsH1WQ6K/wmW8mN9/6vR7lbDKnhX+H7qccxm8
         3Pzk1buRr959tFiOP0q7RAj42qYPnYqo4bt0dSQEAvt/Pjg0w30FGuzkAXlUGLAVGBBq
         E+a+PD24zbD2Wh9L7PjX17NxBu6WY0sT8HpO0NDRfO1UtkSDRcp3c32MF09CAjP3XXf9
         0TUPtIEyovy0eLewt65+r5F9wye7mZuH7IANGgY60QQAERSCldBnV9P6fL5/o45ZFnqC
         R0iMMVAMnSjXMfUHiLnUhy2apn0Wq61zSpy7HPmMRNIK++Ybp3veq/z6yLhko1DtZIl8
         iuMA==
X-Gm-Message-State: ALoCoQmrSVHjTj1vg7uiNpoT6UgThL7fEPTspzigU18OGORIzzL4joqkkNnltz326SK83fujMWRD
X-Received: by 10.180.79.34 with SMTP id g2mr11954087wix.28.1442524234484;
        Thu, 17 Sep 2015 14:10:34 -0700 (PDT)
Received: from ?IPv6:::ffff:172.24.0.201? (182-169-128-083.dynamic.caiway.nl. [83.128.169.182])
        by smtp.gmail.com with ESMTPSA id lh3sm5292854wjc.44.2015.09.17.14.10.29
        (version=TLSv1/SSLv3 cipher=OTHER);
        Thu, 17 Sep 2015 14:10:34 -0700 (PDT)
Message-ID: <55fb2c4a.a3cdc20a.9abed.ffffbc0c@mx.google.com>
MIME-Version: 1.0
To: Jacob Champion <champion.p@gmail.com>, 
	"dev@httpd.apache.org" <dev@httpd.apache.org>
From: <bert@qqmail.nl>
Subject: RE: mod_h2 / ssl warnings Windows
Date: Thu, 17 Sep 2015 23:10:31 +0200
Importance: normal
X-Priority: 3
In-Reply-To:
 <CAGu=u8jqCCGcHLMERgv6kQKt6ea7HJXcUmmQZaYw4jjOE85R-w@mail.gmail.com>
References: <55fa7f30.7c4.efc.3a3c@land10.nl>
 <CAGu=u8jqCCGcHLMERgv6kQKt6ea7HJXcUmmQZaYw4jjOE85R-w@mail.gmail.com>
Content-Type: multipart/alternative;
	boundary="_745E3AAB-6B94-42FE-8F53-AF862E3D0E20_"

--_745E3AAB-6B94-42FE-8F53-AF862E3D0E20_
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="utf-8"

On 64 bit unix int and long ae 64 bit, while on Windows x64 both int and lo=
ng are 32 bit. (long long and/or __int64 are 64 bit)

The proper fix is to use the pointer sized integer type as defined by apr w=
here needed.

Bert


From: Jacob Champion
Sent: donderdag 17 september 2015 17:20
To: dev@httpd.apache.org
Subject: Re: mod_h2 / ssl warnings Windows


On Thursday, September 17, 2015, Steffen <info@apachelounge.com> wrote:

For you info, warnings when build with VC14 Win64.

See attached.

The size_t/int and pointer/int warnings show up in a large number of module=
s on Win64, IIRC. Is there already an established opinion on whether or not=
 they should be fixed? It seems like they should apply to 64-bit *nix as we=
ll.

--Jacob
(from mobile, sorry for formatting annoyances)



--_745E3AAB-6B94-42FE-8F53-AF862E3D0E20_
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html; charset="utf-8"

<html xmlns:o=3D"urn:schemas-microsoft-com:office:office" xmlns:w=3D"urn:sc=
hemas-microsoft-com:office:word" xmlns:m=3D"http://schemas.microsoft.com/of=
fice/2004/12/omml" xmlns=3D"http://www.w3.org/TR/REC-html40"><head><meta ht=
tp-equiv=3DContent-Type content=3D"text/html; charset=3Dutf-8"><meta name=
=3DGenerator content=3D"Microsoft Word 15 (filtered medium)"><style><!--
/* Font Definitions */
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:#954F72;
	text-decoration:underline;}
p
	{mso-style-priority:99;
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
.MsoChpDefault
	{mso-style-type:export-only;}
@page WordSection1
	{size:612.0pt 792.0pt;
	margin:72.0pt 72.0pt 72.0pt 72.0pt;}
div.WordSection1
	{page:WordSection1;}
--></style></head><body lang=3DNL link=3Dblue vlink=3D"#954F72"><div class=
=3DWordSection1><p><span lang=3DEN-US>On 64 bit unix int and long ae 64 bit=
, while on Windows x64 both int and long are 32 bit. (long long and/or __in=
t64 are 64 bit)<o:p></o:p></span></p><p><span lang=3DEN-US><o:p>&nbsp;</o:p=
></span></p><p><span lang=3DEN-US>The proper fix is to use the pointer size=
d integer type as defined by apr where needed.<o:p></o:p></span></p><p><spa=
n lang=3DEN-US><o:p>&nbsp;</o:p></span></p><p><span lang=3DEN-US>Bert</span=
></p><p><o:p>&nbsp;</o:p></p><div style=3D'mso-element:para-border-div;bord=
er:none;border-top:solid #E1E1E1 1.0pt;padding:3.0pt 0cm 0cm 0cm'><p style=
=3D'border:none;padding:0cm'><br><b>From: </b>Jacob Champion<br><b>Sent: </=
b>donderdag 17 september 2015 17:20<br><b>To: </b>dev@httpd.apache.org<br><=
b>Subject: </b>Re: mod_h2 / ssl warnings Windows</p></div><p class=3DMsoNor=
mal><span style=3D'font-family:"Times New Roman",serif'><o:p>&nbsp;</o:p></=
span></p><p class=3DMsoNormal><span style=3D'font-family:"Times New Roman",=
serif'><o:p>&nbsp;</o:p></span></p><p class=3DMsoNormal><span style=3D'font=
-size:12.0pt;font-family:"Times New Roman",serif'>On Thursday, September 17=
, 2015, Steffen &lt;</span><span style=3D'font-size:12.0pt;font-family:"Tim=
es New Roman",serif'><a href=3D"mailto:info@apachelounge.com">info@apachelo=
unge.com</a>&gt; wrote:</span><span style=3D'font-size:12.0pt;font-family:"=
Times New Roman",serif'><o:p></o:p></span></p><blockquote style=3D'border:n=
one;border-left:solid #CCCCCC 1.0pt;padding:0cm 0cm 0cm 6.0pt;margin-left:4=
.8pt;margin-right:0cm'><p class=3DMsoNormal style=3D'margin-bottom:12.0pt'>=
<span style=3D'font-size:12.0pt;font-family:"Times New Roman",serif'><br>Fo=
r you info, warnings when build with VC14 Win64.<br><br>See attached.<o:p><=
/o:p></span></p></blockquote><div><p class=3DMsoNormal><span style=3D'font-=
size:12.0pt;font-family:"Times New Roman",serif'><o:p>&nbsp;</o:p></span></=
p></div><div><p class=3DMsoNormal><span style=3D'font-size:12.0pt;font-fami=
ly:"Times New Roman",serif'>The size_t/int and pointer/int warnings show up=
 in a large number of modules on Win64, IIRC. Is there already an establish=
ed opinion on whether or not they should be fixed? It seems like they shoul=
d apply to 64-bit *nix as well.<o:p></o:p></span></p></div><div><p class=3D=
MsoNormal><span style=3D'font-size:12.0pt;font-family:"Times New Roman",ser=
if'><o:p>&nbsp;</o:p></span></p></div><div><p class=3DMsoNormal><span style=
=3D'font-size:12.0pt;font-family:"Times New Roman",serif'>--Jacob<o:p></o:p=
></span></p></div><p class=3DMsoNormal><span style=3D'font-size:12.0pt;font=
-family:"Times New Roman",serif'>(from mobile, sorry for formatting annoyan=
ces)<o:p></o:p></span></p><p class=3DMsoNormal><o:p>&nbsp;</o:p></p><p clas=
s=3DMsoNormal><o:p>&nbsp;</o:p></p></div></body></html>=

--_745E3AAB-6B94-42FE-8F53-AF862E3D0E20_--


From dev-return-83813-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 18 07:37:43 2015
Return-Path: <dev-return-83813-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2732918CF4
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Sep 2015 07:37:43 +0000 (UTC)
Received: (qmail 96486 invoked by uid 500); 18 Sep 2015 07:37:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 96395 invoked by uid 500); 18 Sep 2015 07:37:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 96385 invoked by uid 99); 18 Sep 2015 07:37:42 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Sep 2015 07:37:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id A3382C084E
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 07:37:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.899
X-Spam-Level: **
X-Spam-Status: No, score=2.899 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id ZPjzvcxU25qu for <dev@httpd.apache.org>;
	Fri, 18 Sep 2015 07:37:35 +0000 (UTC)
Received: from mail-yk0-f172.google.com (mail-yk0-f172.google.com [209.85.160.172])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 3690D42B36
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 07:37:35 +0000 (UTC)
Received: by ykdt18 with SMTP id t18so39482880ykd.3
        for <dev@httpd.apache.org>; Fri, 18 Sep 2015 00:37:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=xRRjF6I5MwwjYg5qYq6N5RbKT9+R9BfDn3Zo60C3qCM=;
        b=ip/7SoYfY6Ge9n+4G7irPMgOrEv4Pi/kY1fbbwd3flz8nkOUrAqaC+ygUpTTPCDrTl
         zMMcuo78pRlBsRAtOAOd8bKK0bFahjqg4Or+f2+Koxxp8+TWKeKDJP7m9+PtGqzxLyRm
         fCCMAAavO3sUVH8zlihUg1UIiC3zzw7kq8cpm85lVgaSBnSM8kBRGsF0QkabBH1gS6pH
         QyNc9IzQXPnoQKyxkTqbaVnxTAYRAAzKJ3WmMiLKgsyU5OmAqMVhW3ID25bRl2Cp5W5r
         2yxMJ6vUWtH27DB8dUVpVC2qXRjKqHvOs8Jn9tiZH5pewoimJWYFgOUWyr27lzKMT/MQ
         RUTg==
MIME-Version: 1.0
X-Received: by 10.129.76.13 with SMTP id z13mr3518957ywa.2.1442561854877; Fri,
 18 Sep 2015 00:37:34 -0700 (PDT)
Received: by 10.129.73.151 with HTTP; Fri, 18 Sep 2015 00:37:34 -0700 (PDT)
In-Reply-To: <CAKQ1sVPP_vgbT74fY0vyy1g_BFfFtHE3yfFBhpd9gSe+4XgSXg@mail.gmail.com>
References: <CAN9c_NSVpkBQgzk13-Ffa95adwHhF6CSM37R-KoUE_c4N1rPyA@mail.gmail.com>
	<A7585F6B-A664-47CE-86A7-81D318270126@greenbytes.de>
	<CAN9c_NTwqjynECJkzDVGPY92n7JJpS24SsRH=iqz8M0NhpswGA@mail.gmail.com>
	<CAN9c_NRQazpse98mTXbkJRuh7MaGY8_HDXyepB82JpQY9c88qg@mail.gmail.com>
	<DD094486-BEFC-4721-B368-B1881FBB661F@greenbytes.de>
	<CAKQ1sVPP_vgbT74fY0vyy1g_BFfFtHE3yfFBhpd9gSe+4XgSXg@mail.gmail.com>
Date: Fri, 18 Sep 2015 09:37:34 +0200
Message-ID: <CAN9c_NSB7rwfFJ48U=iW4bCLOXB3ZXqN0t6TSFHKohRd=j=FAw@mail.gmail.com>
Subject: Re: nghttp2 warning - what is this?
From: Michael Felt <mamfelt@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a113f274eed3b650520009ace

--001a113f274eed3b650520009ace
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

I have not tried executing the package. When I get home I will try to
execute what I have and see it it fails because a library is missing.

A warning more in the line of systemd or journald - that there is no h2
support available, and, per the comment above - just make sure it is not in
the enabled modules even with enable all set - should be sufficient - imho.

On Thu, Sep 17, 2015 at 1:26 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> Isn't mod_h2 removed from the list of "enable-mods-shared=3Dall" already
> when libh2 isn't available?
> There is no point in enabling it in this case, so a warning about
> disabling it automatically looks enough to me.
>
> On Thu, Sep 17, 2015 at 10:27 AM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
> > What do you propose? A better warning when libnghttp2 cannot be found a=
t
> all? Anything else?
> >
> >> Am 16.09.2015 um 18:42 schrieb Michael Felt <mamfelt@gmail.com>:
> >>
> >> well, correction on building nghttp. Seems it only expects to work in =
a
> GNU rte and I do not have the time to verify an environment that will
> support "POSIX" and GNU requirements. My experience is "small", i.e., not
> saying it cannot be done - but anytime I have tried to build a library th=
at
> insisted on gcc I could not get it to work reliably with packages built
> using the IBM compiler and the default AIX libc (et al) .rte filesets.
> Basically, I need to add all the libraries that gcc needs to compile
> something.
> >>
> >> Oh well. In any case, not tonight.
> >>
> >> (p.s. gcc 4.7.X implies a standard compiler might work - if I
> understand correctly that there is a break with standard C starting with
> gcc 4.8)
> >>
> >> On Wed, Sep 16, 2015 at 6:31 PM, Michael Felt <mamfelt@gmail.com>
> wrote:
> >> well, just built it again, with --enable-maintainer-mode added, so now
> have:
> >>
> >> It was created by configure, which was
> >> generated by GNU Autoconf 2.69.  Invocation command line was
> >>
> >>   $ ./configure --enable-layout=3DAIX --with-apr=3D/opt/bin/apr-1-conf=
ig
> --with-apr-util=3D/opt/bin/apu-1-config --enable-mpms-shared=3Dall
> --enable-mods-shared=3Dall --disable-lua --enable-load-all-modules
> --enable-maintainer-mode
> >>
> >> I guess it will "complain" if I try to do anything. re: SSL - it is
> special, especially with the likes of libressl (aka "others" out there) -
> so maybe not the best test code - copying the test for pcre may be better=
.
> That caught me asap when I first started.
> >>
> >> And I shall go look for the library and get it built. Thanks for your
> quick reply!
> >>
> >>
> >>
> >> Slightly off topic - not sure if relevent considering the -Werror
> changes (whatever that is suppossed to mean in gcc land) here are the
> warning messages that are getting sent by XLC to stderr (there are
> more/others going to stdout):
> >>
> >> "util_expr_eval.c", line 1767.7: 1506-196 (W) Initialization between
> types "const void* const" and "const char*(*)(struct {...}*,const
> void*,const char*)" is not allowed.
> >> "util_expr_eval.c", line 1768.7: 1506-196 (W) Initialization between
> types "const void* const" and "const char*(*)(struct {...}*,const
> void*,const char*)" is not allowed.
> >> "util_expr_eval.c", line 1769.7: 1506-196 (W) Initialization between
> types "const void* const" and "const char*(*)(struct {...}*,const
> void*,const char*)" is not allowed.
> >> "util_expr_eval.c", line 1771.7: 1506-196 (W) Initialization between
> types "const void* const" and "const char*(*)(struct {...}*,const
> void*,const char*)" is not allowed.
> >> "util_expr_eval.c", line 1772.7: 1506-196 (W) Initialization between
> types "const void* const" and "const char*(*)(struct {...}*,const
> void*,const char*)" is not allowed.
> >> "util_expr_eval.c", line 1773.7: 1506-196 (W) Initialization between
> types "const void* const" and "const char*(*)(struct {...}*,const
> void*,const char*)" is not allowed.
> >> "util_expr_eval.c", line 1774.7: 1506-196 (W) Initialization between
> types "const void* const" and "const char*(*)(struct {...}*,const
> void*,const char*)" is not allowed.
> >> "util_expr_eval.c", line 1775.7: 1506-196 (W) Initialization between
> types "const void* const" and "const char*(*)(struct {...}*,const
> void*,const char*)" is not allowed.
> >> "util_expr_eval.c", line 1776.7: 1506-196 (W) Initialization between
> types "const void* const" and "const char*(*)(struct {...}*,const
> void*,const char*)" is not allowed.
> >> "util_expr_eval.c", line 1777.7: 1506-196 (W) Initialization between
> types "const void* const" and "const char*(*)(struct {...}*,const
> void*,const char*)" is not allowed.
> >> "util_expr_eval.c", line 1778.7: 1506-196 (W) Initialization between
> types "const void* const" and "const char*(*)(struct {...}*,const
> void*,const char*)" is not allowed.
> >> "util_expr_eval.c", line 1779.7: 1506-196 (W) Initialization between
> types "const void* const" and "const char*(*)(struct {...}*,const
> void*,char*)" is not allowed.
> >> "util_expr_eval.c", line 1780.7: 1506-196 (W) Initialization between
> types "const void* const" and "const char*(*)(struct {...}*,const
> void*,char*)" is not allowed.
> >> "util_expr_eval.c", line 1781.7: 1506-196 (W) Initialization between
> types "const void* const" and "const char*(*)(struct {...}*,const
> void*,char*)" is not allowed.
> >> "util_expr_eval.c", line 1782.7: 1506-196 (W) Initialization between
> types "const void* const" and "const char*(*)(struct {...}*,const
> void*,const char*)" is not allowed.
> >> "util_expr_eval.c", line 1783.7: 1506-196 (W) Initialization between
> types "const void* const" and "const char*(*)(struct {...}*,const
> void*,const char*)" is not allowed.
> >> "util_expr_eval.c", line 1784.7: 1506-196 (W) Initialization between
> types "const void* const" and "const char*(*)(struct {...}*,const
> void*,const char*)" is not allowed.
> >> "util_expr_eval.c", line 1785.7: 1506-196 (W) Initialization between
> types "const void* const" and "const char*(*)(struct {...}*,const
> void*,const char*)" is not allowed.
> >> "util_expr_eval.c", line 1789.7: 1506-196 (W) Initialization between
> types "const void* const" and "const char*(*)(struct {...}*,const
> void*,const struct apr_array_header_t*)" is not allowed.
> >> "util_expr_eval.c", line 1794.7: 1506-196 (W) Initialization between
> types "const void* const" and "int(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> >> "util_expr_eval.c", line 1795.7: 1506-196 (W) Initialization between
> types "const void* const" and "int(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> >> "util_expr_eval.c", line 1796.7: 1506-196 (W) Initialization between
> types "const void* const" and "int(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> >> "util_expr_eval.c", line 1797.7: 1506-196 (W) Initialization between
> types "const void* const" and "int(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> >> "util_expr_eval.c", line 1798.7: 1506-196 (W) Initialization between
> types "const void* const" and "int(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> >> "util_expr_eval.c", line 1799.7: 1506-196 (W) Initialization between
> types "const void* const" and "int(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> >> "util_expr_eval.c", line 1800.7: 1506-196 (W) Initialization between
> types "const void* const" and "int(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> >> "util_expr_eval.c", line 1801.7: 1506-196 (W) Initialization between
> types "const void* const" and "int(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> >> "util_expr_eval.c", line 1802.7: 1506-196 (W) Initialization between
> types "const void* const" and "int(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> >> "util_expr_eval.c", line 1803.7: 1506-196 (W) Initialization between
> types "const void* const" and "int(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> >> "util_expr_eval.c", line 1804.7: 1506-196 (W) Initialization between
> types "const void* const" and "int(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> >> "util_expr_eval.c", line 1805.7: 1506-196 (W) Initialization between
> types "const void* const" and "int(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> >> "util_expr_eval.c", line 1806.7: 1506-196 (W) Initialization between
> types "const void* const" and "int(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> >> "util_expr_eval.c", line 1807.7: 1506-196 (W) Initialization between
> types "const void* const" and "int(*)(struct {...}*,const void*,const
> char*)" is not allowed.
> >> "util_expr_eval.c", line 1812.7: 1506-196 (W) Initialization between
> types "const void* const" and "int(*)(struct {...}*,const void*,const
> char*,const char*)" is not allowed.
> >> "util_expr_eval.c", line 1813.7: 1506-196 (W) Initialization between
> types "const void* const" and "int(*)(struct {...}*,const void*,const
> char*,const char*)" is not allowed.
> >> "util_expr_eval.c", line 1814.7: 1506-196 (W) Initialization between
> types "const void* const" and "int(*)(struct {...}*,const void*,const
> char*,const char*)" is not allowed.
> >> "util_expr_eval.c", line 1815.7: 1506-196 (W) Initialization between
> types "const void* const" and "int(*)(struct {...}*,const void*,const
> char*,const char*)" is not allowed.
> >> make[2]: warning:  Clock skew detected.  Your build may be incomplete.
> >> make[1]: warning:  Clock skew detected.  Your build may be incomplete.
> >> "mod_include.c", line 722.26: 1506-068 (W) Operation between types
> "const void*" and "const char*(*)(struct {...}*,const void*,const char*)"
> is not allowed.
> >> "mod_headers.c", line 971.43: 1506-280 (W) Function argument assignmen=
t
> between types "const void*" and "const char*(*)(struct request_rec*,char*=
)"
> is not allowed.
> >> "ssl_engine_vars.c", line 161.26: 1506-068 (W) Operation between types
> "const void*" and "const char*(*)(struct {...}*,const void*)" is not
> allowed.
> >> "ssl_engine_vars.c", line 168.26: 1506-068 (W) Operation between types
> "const void*" and "struct apr_array_header_t*(*)(struct {...}*,const
> void*,const char*)" is not allowed.
> >>
> >>
> >>
> >>
> >>
> >> On Wed, Sep 16, 2015 at 5:57 PM, Stefan Eissing <
> stefan.eissing@greenbytes.de> wrote:
> >> Hi,
> >>
> >> if you enable all modules, it will enable mod_h2 and that one needs
> libnghttp2. The warning could be better, if this is missing, admittedly I
> just copied and modified mod_ssl's test for openssl.
> >>
> >> //Stefan
> >>
> >>
> >>
> >> > Am 16.09.2015 um 17:51 schrieb Michael Felt <mamfelt@gmail.com>:
> >> >
> >> > Hello all,
> >> >
> >> > I have been ignoring building httpd-2.5.x and thought it was about
> time to start taking notice. And I see a bunch of new messages - one of
> which may be a drift in time between my AIX server and the NFS server I
> keep all the files on.
> >> >
> >> > But the first WARNING I saw was from nghttp2 - which perhaps I do no=
t
> have at all! Is this something extra, like pcre or apr that I need to hav=
e
> as a library first? If so, the WARNING about it being too old is not
> correct - because I do not have it at all.
> >> >
> >> > However, if it is a module within httpd-2.5.x - how could it be too
> old when I have just refreshed from the SVN repository?
> >> >
> >> > Snip....
> >> >
> >> > + ./configure
> >> >                 --enable-layout=3DAIX
> >> >                 --with-apr=3D/opt/bin/apr-1-config
> >> >                 --with-apr-util=3D/opt/bin/apu-1-config
> >> >                 --enable-mpms-shared=3Dall
> >> >                 --enable-mods-shared=3Dall
> >> >                 --disable-lua > build/aix/configure.out
> >> > configure: WARNING: apr/apr-util is compiled without ldap support
> >> > configure: WARNING: nghttp2 version is too old
> >> > configure: WARNING: apr/apr-util is compiled without ldap support
> >> > configure: WARNING: Your system does not support Journald.
> >> > configure: WARNING: Your system does not support systemd.
> >> > + make > build/aix/make.out
> >> > make: Warning: File '/data/prj/apache/httpd/httpd-2.5.x/.deps' has
> modification time 118 s in the future
> >> >
> >>
> >>
> >
> > <green/>bytes GmbH
> > Hafenweg 16, 48155 M=C3=BCnster, Germany
> > Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
> >
> >
> >
>

--001a113f274eed3b650520009ace
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div>I have not tried executing the package. When I get ho=
me I will try to execute what I have and see it it fails because a library =
is missing.<br><br></div>A warning more in the line of systemd or journald =
- that there is no h2 support available, and, per the comment above - just =
make sure it is not in the enabled modules even with enable all set - shoul=
d be sufficient - imho.<br></div><div class=3D"gmail_extra"><br><div class=
=3D"gmail_quote">On Thu, Sep 17, 2015 at 1:26 PM, Yann Ylavic <span dir=3D"=
ltr">&lt;<a href=3D"mailto:ylavic.dev@gmail.com" target=3D"_blank">ylavic.d=
ev@gmail.com</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" sty=
le=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Isn&#3=
9;t mod_h2 removed from the list of &quot;enable-mods-shared=3Dall&quot; al=
ready<br>
when libh2 isn&#39;t available?<br>
There is no point in enabling it in this case, so a warning about<br>
disabling it automatically looks enough to me.<br>
<div class=3D"HOEnZb"><div class=3D"h5"><br>
On Thu, Sep 17, 2015 at 10:27 AM, Stefan Eissing<br>
&lt;<a href=3D"mailto:stefan.eissing@greenbytes.de">stefan.eissing@greenbyt=
es.de</a>&gt; wrote:<br>
&gt; What do you propose? A better warning when libnghttp2 cannot be found =
at all? Anything else?<br>
&gt;<br>
&gt;&gt; Am 16.09.2015 um 18:42 schrieb Michael Felt &lt;<a href=3D"mailto:=
mamfelt@gmail.com">mamfelt@gmail.com</a>&gt;:<br>
&gt;&gt;<br>
&gt;&gt; well, correction on building nghttp. Seems it only expects to work=
 in a GNU rte and I do not have the time to verify an environment that will=
 support &quot;POSIX&quot; and GNU requirements. My experience is &quot;sma=
ll&quot;, i.e., not saying it cannot be done - but anytime I have tried to =
build a library that insisted on gcc I could not get it to work reliably wi=
th packages built using the IBM compiler and the default AIX libc (et al) .=
rte filesets. Basically, I need to add all the libraries that gcc needs to =
compile something.<br>
&gt;&gt;<br>
&gt;&gt; Oh well. In any case, not tonight.<br>
&gt;&gt;<br>
&gt;&gt; (p.s. gcc 4.7.X implies a standard compiler might work - if I unde=
rstand correctly that there is a break with standard C starting with gcc 4.=
8)<br>
&gt;&gt;<br>
&gt;&gt; On Wed, Sep 16, 2015 at 6:31 PM, Michael Felt &lt;<a href=3D"mailt=
o:mamfelt@gmail.com">mamfelt@gmail.com</a>&gt; wrote:<br>
&gt;&gt; well, just built it again, with --enable-maintainer-mode added, so=
 now have:<br>
&gt;&gt;<br>
&gt;&gt; It was created by configure, which was<br>
&gt;&gt; generated by GNU Autoconf 2.69.=C2=A0 Invocation command line was<=
br>
&gt;&gt;<br>
&gt;&gt;=C2=A0 =C2=A0$ ./configure --enable-layout=3DAIX --with-apr=3D/opt/=
bin/apr-1-config --with-apr-util=3D/opt/bin/apu-1-config --enable-mpms-shar=
ed=3Dall --enable-mods-shared=3Dall --disable-lua --enable-load-all-modules=
 --enable-maintainer-mode<br>
&gt;&gt;<br>
&gt;&gt; I guess it will &quot;complain&quot; if I try to do anything. re: =
SSL - it is special, especially with the likes of libressl (aka &quot;other=
s&quot; out there) - so maybe not the best test code - copying the test for=
 pcre may be better. That caught me asap when I first started.<br>
&gt;&gt;<br>
&gt;&gt; And I shall go look for the library and get it built. Thanks for y=
our quick reply!<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt; Slightly off topic - not sure if relevent considering the -Werror =
changes (whatever that is suppossed to mean in gcc land) here are the warni=
ng messages that are getting sent by XLC to stderr (there are more/others g=
oing to stdout):<br>
&gt;&gt;<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1767.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;const char*(*)(s=
truct {...}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1768.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;const char*(*)(s=
truct {...}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1769.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;const char*(*)(s=
truct {...}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1771.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;const char*(*)(s=
truct {...}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1772.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;const char*(*)(s=
truct {...}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1773.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;const char*(*)(s=
truct {...}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1774.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;const char*(*)(s=
truct {...}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1775.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;const char*(*)(s=
truct {...}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1776.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;const char*(*)(s=
truct {...}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1777.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;const char*(*)(s=
truct {...}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1778.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;const char*(*)(s=
truct {...}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1779.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;const char*(*)(s=
truct {...}*,const void*,char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1780.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;const char*(*)(s=
truct {...}*,const void*,char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1781.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;const char*(*)(s=
truct {...}*,const void*,char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1782.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;const char*(*)(s=
truct {...}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1783.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;const char*(*)(s=
truct {...}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1784.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;const char*(*)(s=
truct {...}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1785.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;const char*(*)(s=
truct {...}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1789.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;const char*(*)(s=
truct {...}*,const void*,const struct apr_array_header_t*)&quot; is not all=
owed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1794.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;int(*)(struct {.=
..}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1795.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;int(*)(struct {.=
..}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1796.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;int(*)(struct {.=
..}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1797.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;int(*)(struct {.=
..}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1798.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;int(*)(struct {.=
..}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1799.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;int(*)(struct {.=
..}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1800.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;int(*)(struct {.=
..}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1801.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;int(*)(struct {.=
..}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1802.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;int(*)(struct {.=
..}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1803.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;int(*)(struct {.=
..}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1804.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;int(*)(struct {.=
..}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1805.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;int(*)(struct {.=
..}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1806.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;int(*)(struct {.=
..}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1807.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;int(*)(struct {.=
..}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1812.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;int(*)(struct {.=
..}*,const void*,const char*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1813.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;int(*)(struct {.=
..}*,const void*,const char*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1814.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;int(*)(struct {.=
..}*,const void*,const char*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;util_expr_eval.c&quot;, line 1815.7: 1506-196 (W) Initializa=
tion between types &quot;const void* const&quot; and &quot;int(*)(struct {.=
..}*,const void*,const char*,const char*)&quot; is not allowed.<br>
&gt;&gt; make[2]: warning:=C2=A0 Clock skew detected.=C2=A0 Your build may =
be incomplete.<br>
&gt;&gt; make[1]: warning:=C2=A0 Clock skew detected.=C2=A0 Your build may =
be incomplete.<br>
&gt;&gt; &quot;mod_include.c&quot;, line 722.26: 1506-068 (W) Operation bet=
ween types &quot;const void*&quot; and &quot;const char*(*)(struct {...}*,c=
onst void*,const char*)&quot; is not allowed.<br>
&gt;&gt; &quot;mod_headers.c&quot;, line 971.43: 1506-280 (W) Function argu=
ment assignment between types &quot;const void*&quot; and &quot;const char*=
(*)(struct request_rec*,char*)&quot; is not allowed.<br>
&gt;&gt; &quot;ssl_engine_vars.c&quot;, line 161.26: 1506-068 (W) Operation=
 between types &quot;const void*&quot; and &quot;const char*(*)(struct {...=
}*,const void*)&quot; is not allowed.<br>
&gt;&gt; &quot;ssl_engine_vars.c&quot;, line 168.26: 1506-068 (W) Operation=
 between types &quot;const void*&quot; and &quot;struct apr_array_header_t*=
(*)(struct {...}*,const void*,const char*)&quot; is not allowed.<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt; On Wed, Sep 16, 2015 at 5:57 PM, Stefan Eissing &lt;<a href=3D"mai=
lto:stefan.eissing@greenbytes.de">stefan.eissing@greenbytes.de</a>&gt; wrot=
e:<br>
&gt;&gt; Hi,<br>
&gt;&gt;<br>
&gt;&gt; if you enable all modules, it will enable mod_h2 and that one need=
s libnghttp2. The warning could be better, if this is missing, admittedly I=
 just copied and modified mod_ssl&#39;s test for openssl.<br>
&gt;&gt;<br>
&gt;&gt; //Stefan<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt; &gt; Am 16.09.2015 um 17:51 schrieb Michael Felt &lt;<a href=3D"ma=
ilto:mamfelt@gmail.com">mamfelt@gmail.com</a>&gt;:<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; Hello all,<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; I have been ignoring building httpd-2.5.x and thought it was =
about time to start taking notice. And I see a bunch of new messages - one =
of which may be a drift in time between my AIX server and the NFS server I =
keep all the files on.<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; But the first WARNING I saw was from nghttp2 - which perhaps =
I do not have at all! Is this something extra, like pcre or apr that I need=
 to have as a library first? If so, the WARNING about it being too old is n=
ot correct - because I do not have it at all.<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; However, if it is a module within httpd-2.5.x - how could it =
be too old when I have just refreshed from the SVN repository?<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; Snip....<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; + ./configure<br>
&gt;&gt; &gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
--enable-layout=3DAIX<br>
&gt;&gt; &gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
--with-apr=3D/opt/bin/apr-1-config<br>
&gt;&gt; &gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
--with-apr-util=3D/opt/bin/apu-1-config<br>
&gt;&gt; &gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
--enable-mpms-shared=3Dall<br>
&gt;&gt; &gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
--enable-mods-shared=3Dall<br>
&gt;&gt; &gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
--disable-lua &gt; build/aix/configure.out<br>
&gt;&gt; &gt; configure: WARNING: apr/apr-util is compiled without ldap sup=
port<br>
&gt;&gt; &gt; configure: WARNING: nghttp2 version is too old<br>
&gt;&gt; &gt; configure: WARNING: apr/apr-util is compiled without ldap sup=
port<br>
&gt;&gt; &gt; configure: WARNING: Your system does not support Journald.<br=
>
&gt;&gt; &gt; configure: WARNING: Your system does not support systemd.<br>
&gt;&gt; &gt; + make &gt; build/aix/make.out<br>
&gt;&gt; &gt; make: Warning: File &#39;/data/prj/apache/httpd/httpd-2.5.x/.=
deps&#39; has modification time 118 s in the future<br>
&gt;&gt; &gt;<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;<br>
&gt; &lt;green/&gt;bytes GmbH<br>
&gt; Hafenweg 16, 48155 M=C3=BCnster, Germany<br>
&gt; Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782<br>
&gt;<br>
&gt;<br>
&gt;<br>
</div></div></blockquote></div><br></div>

--001a113f274eed3b650520009ace--

From dev-return-83814-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 18 09:35:34 2015
Return-Path: <dev-return-83814-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2BCC2173CC
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Sep 2015 09:35:34 +0000 (UTC)
Received: (qmail 26415 invoked by uid 500); 18 Sep 2015 09:35:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 26344 invoked by uid 500); 18 Sep 2015 09:35:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 26334 invoked by uid 99); 18 Sep 2015 09:35:11 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Sep 2015 09:35:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 1E1E0C0252
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 09:35:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, MIME_QP_LONG_LINE=0.001, SPF_HELO_PASS=-0.001,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id jg9LBMUJue7W for <dev@httpd.apache.org>;
	Fri, 18 Sep 2015 09:35:01 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 5CD7E206E8
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 09:35:00 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1442568953;
	bh=2B4kRJQyYXQKypV1eKbj70GohsyEu7AMjFrYFZnLuoU=;
	h=From:To:Subject:Date;
	b=lXgqynKmFFGpkoBxoMDiyIwhDopr6C7dXg+hGT5Al7gwfCZYlpB35nJh1AC6l9Da1
	 aIdrC8nvP7IFo7iPIys9DFlv9ZT8z3Y22F9l8Vd2F97rC9XWRdL7GtEVYo7rcRJqMN
	 ZTbnxUcoDy4xDRjyjzm+S+ADaGCp4ADHDW3Ef9U0=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=127.0.0.1;
From: Steffen <info@apachelounge.com>
To:  <dev@httpd.apache.org>
Subject: RE: 2.4.17-protocols-http2/ - SNI issue
Date: Fri, 18 Sep 2015 11:35:43 +0200
Message-ID: <55fbdaef.1e40.1068.6876@land10.nl>
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="----=_SW_25296_1442568943_mixed="
X-Originating-IP: 127.0.0.1
X-Mailer: SurgeWeb - Ajax Webmail Client

This is a multi-part message in MIME format.

------=_SW_25296_1442568943_mixed=
Content-Type: multipart/alternative; boundary="----=_SW_25296_1442568943_mpa="

------=_SW_25296_1442568943_mpa=
Content-Type: text/plain; charset=utf-8; format=flowed


Debug log attached.




On Wednesday 16/09/2015 at 12:06, Plüm wrote:
>
>
>>
>> -----Original Message-----
>> From: Stefan Eissing [mailto:stefan.eissing@greenbytes.de]
>> Sent: Mittwoch, 16. September 2015 11:38
>> To: dev@httpd.apache.org
>> Subject: Re: 2.4.17-protocols-http2/ - SNI issue
>>
>> Good point. Limited online today. If someone wants to give this a 
>> shot,
>> please.
>>
>>>
>>> Am 16.09.2015 um 11:36 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>>
>>> On Wed, Sep 16, 2015 at 11:24 AM, Plüm, Rüdiger, Vodafone Group
>>> <ruediger.pluem@vodafone.com> wrote:
>>>>
>>>>
>>>>>
>>>>> -----Original Message-----
>>>>> From: Steffen
>>>>> Sent: Mittwoch, 16. September 2015 11:14
>>>>> To: dev@httpd.apache.org
>>>>> Subject: 2.4.17-protocols-http2/ - SNI issue
>>> []
>>>>
>>>>>
>>>>>
>>>>> [ssl:error] [pid 3428:tid 3952] AH02032: Hostname 
>>>>> http://www.apachelounge.com
>>>>> provided via SNI and hostname http://www.apachelounge.com provided via 
>>>>> HTTP
>>>>> are different
>>>>
>>>> The above is very weird as both times we see 
>>>> http://www.apachelounge.com. Can
>> you please check the logs with some kind of hex tool if there is 
>> really no
>> difference between both strings? The logic to detect a difference in 
>> the
>> code is just a usual strcasecmp. So I sense some hidden characters
>> somewhere, which might give us a hint where things go really wrong.
>
> Ahh I did miss that he used Stefans branch and not the 2.4.x branch.
>
>>
>>>
>>>
>>> ISTM that the test should be:
>>>                        if (strcasecmp(host, servername)
>>>                                || (sslconn->server
>>>                                        && 
>>> !ssl_util_vhost_matches(host, sslconn->server)))
>>>
>>> instead of:
>>>                      if (strcasecmp(host, servername)
>>>                                || !sslconn->server
>>>                                || !ssl_util_vhost_matches(host, 
>>> sslconn->server))
>>>
>>> Not sure sslconn->server isn't NULL here for the first request.
>
> I shouldn't be. Maybe setting the loglevel to Debug could help to see 
> the other SNI stuff that was going on before and if it correctly 
> identified the correct vhost via SNI.
>
> Regards
>
> Rüdiger


------=_SW_25296_1442568943_mpa=
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html>
<head>
<style>
 .sw_message P{margin:0px;padding:0px;}
 .sw_message {FONT-SIZE: 12pt;FONT-FAMILY:Tahoma,Arial,Helvetica,sans-serif;background:white;}
 .sw_message blockquote{margin-left:5px;padding-left:5px;border-left:2px solid #144fae;color: #144fae;}
 .sw_message blockquote blockquote{border-left:2px solid #006312;color: #006312;}
 .sw_message blockquote blockquote blockquote{border-left:2px solid #8e5656;color: #8e5656;}
 .sw_message blockquote blockquote blockquote blockquote{border-left:2px solid #888;color: #888;}
</style>
</head>
<body class=3d"sw_message">
<div>Debug log attached.</div><div><br></div><div><br></div><div>&nbsp;</div=
><div id=3d"editor_signature"></div><div>On Wednesday 16/09/2015 at 12:06, P=
l=c3=bcm wrote: </div><blockquote type=3d"cite"><br><br><blockquote type=3d"=
cite"> -----Original Message-----<br> From: Stefan Eissing [mailto:stefan.ei=
ssing@greenbytes.de]<br> Sent: Mittwoch, 16. September 2015 11:38<br> To: de=
v@httpd.apache.org<br> Subject: Re: 2.4.17-protocols-http2/ - SNI issue<br> =
<br> Good point. Limited online today. If someone wants to give this a shot,=
<br> please.<br> <br><blockquote type=3d"cite"> Am 16.09.2015 um 11:36 schri=
eb Yann Ylavic &lt;ylavic.dev@gmail.com&gt;:<br><br> On Wed, Sep 16, 2015 at=
 11:24 AM, Pl=c3=bcm, R=c3=bcdiger, Vodafone Group<br> &lt;ruediger.pluem@vo=
dafone.com&gt; wrote:<br><blockquote type=3d"cite"><br><blockquote type=3d"c=
ite"> -----Original Message-----<br> From: Steffen<br> Sent: Mittwoch, 16. S=
eptember 2015 11:14<br> To: dev@httpd.apache.org<br> Subject: 2.4.17-protoco=
ls-http2/ - SNI issue<br></blockquote></blockquote> []<br><blockquote type=
=3d"cite"><blockquote type=3d"cite"><br> [ssl:error] [pid 3428:tid 3952] AH0=
2032: Hostname <a target=3d"_blank" href=3d"http://www.apachelounge.com">htt=
p://www.apachelounge.com</a><br> provided via SNI and hostname <a target=3d"=
_blank" href=3d"http://www.apachelounge.com">http://www.apachelounge.com</a>=
 provided via HTTP<br> are different<br></blockquote><br> The above is very =
weird as both times we see <a target=3d"_blank" href=3d"http://www.apachelou=
nge.com">http://www.apachelounge.com</a>. Can<br></blockquote></blockquote> =
you please check the logs with some kind of hex tool if there is really no<b=
r> difference between both strings? The logic to detect a difference in the<=
br> code is just a usual strcasecmp. So I sense some hidden characters<br> s=
omewhere, which might give us a hint where things go really wrong.<br></bloc=
kquote><br>Ahh I did miss that he used Stefans branch and not the 2.4.x bran=
ch.<br><br><blockquote type=3d"cite"><blockquote type=3d"cite"><br> ISTM tha=
t the test should be:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;            if (strcasecmp(host, servername)<br>&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;                || (sslconn-&gt;server<br>&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;                    &amp;&amp; !ssl_util_vhost_matche=
s(host, sslconn-&gt;server)))<br><br> instead of:<br>&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;           if (strcasecmp(host, s=
ervername)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                || !sslconn-&gt;server<br>=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;                || !ssl_util_vhost_matches(host, sslconn=
-&gt;server))<br><br> Not sure sslconn-&gt;server isn't NULL here for the fi=
rst request.<br></blockquote></blockquote><br>I shouldn't be. Maybe setting =
the loglevel to Debug could help to see the other SNI stuff that was going o=
n before and if it correctly identified the correct vhost via SNI.<br><br>Re=
gards<br><br>R=c3=bcdiger<br></blockquote><br> 
</body></html>

------=_SW_25296_1442568943_mpa=--

------=_SW_25296_1442568943_mixed=
Content-Type: application/octet-stream; name="serror.log"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="serror.log"

W0ZyaSBTZXAgMTggMTE6MTU6MDYuNjM3NDY0IDIwMTVdIFtzc2w6aW5mb10gW3BpZCA0NjQ0OnRp
ZCA0MDhdIEFIMDE4ODc6IEluaXQ6IEluaXRpYWxpemluZyAodmlydHVhbCkgc2VydmVycyBmb3Ig
U1NMDQpbRnJpIFNlcCAxOCAxMToxNTowNi42MzgxNzEgMjAxNV0gW3NzbDppbmZvXSBbcGlkIDQ2
NDQ6dGlkIDQwOF0gQUgwMTkxNDogQ29uZmlndXJpbmcgc2VydmVyIHd3dy5sYW5kMTB3ZWIuY29t
OjQ0MyBmb3IgU1NMIHByb3RvY29sDQpbRnJpIFNlcCAxOCAxMToxNTowNi42MzgxNzEgMjAxNV0g
W3NzbDpkZWJ1Z10gW3BpZCA0NjQ0OnRpZCA0MDhdIHNzbF9lbmdpbmVfaW5pdC5jKDM5MSk6IEFI
MDE4OTM6IENvbmZpZ3VyaW5nIFRMUyBleHRlbnNpb24gaGFuZGxpbmcNCltGcmkgU2VwIDE4IDEx
OjE1OjA2LjYzODE3MSAyMDE1XSBbc3NsOmRlYnVnXSBbcGlkIDQ2NDQ6dGlkIDQwOF0gc3NsX3V0
aWxfc3RhcGxpbmcuYyg4MjgpOiBBSDAxOTYwOiBPQ1NQIHN0YXBsaW5nIGluaXRpYWxpemVkDQpb
RnJpIFNlcCAxOCAxMToxNTowNi42MzgxNzEgMjAxNV0gW3NzbDpkZWJ1Z10gW3BpZCA0NjQ0OnRp
ZCA0MDhdIHNzbF91dGlsX3NzbC5jKDQwNCk6IEFIMDI0MTI6IFt3d3cubGFuZDEwd2ViLmNvbTo0
NDNdIENlcnQgbWF0Y2hlcyBmb3IgbmFtZSAnd3d3LmxhbmQxMHdlYi5jb20nIFtzdWJqZWN0OiBl
bWFpbEFkZHJlc3M9cG9zdG1hc3RlckBhcGFjaGVsb3VuZ2UuY29tLENOPXd3dy5hcGFjaGVsb3Vu
Z2UuY29tLE89U3RlZmZlbiBMYW5kLEw9SGlsdmVyc3VtLFNUPU5vcnRoIEhvbGxhbmQsQz1OTCAv
IGlzc3VlcjogQ049U3RhcnRDb20gQ2xhc3MgMiBQcmltYXJ5IEludGVybWVkaWF0ZSBTZXJ2ZXIg
Q0EsT1U9U2VjdXJlIERpZ2l0YWwgQ2VydGlmaWNhdGUgU2lnbmluZyxPPVN0YXJ0Q29tIEx0ZC4s
Qz1JTCAvIHNlcmlhbDogMDczODJCN0QyMzk1RkMgLyBub3RiZWZvcmU6IE1heSAgMyAxODozMTo0
OSAyMDE1IEdNVCAvIG5vdGFmdGVyOiBNYXkgIDQgMTA6MjE6MDAgMjAxNyBHTVRdDQpbRnJpIFNl
cCAxOCAxMToxNTowNi42MzgxNzEgMjAxNV0gW3NzbDppbmZvXSBbcGlkIDQ2NDQ6dGlkIDQwOF0g
QUgwMjU2ODogQ2VydGlmaWNhdGUgYW5kIHByaXZhdGUga2V5IHd3dy5sYW5kMTB3ZWIuY29tOjQ0
MzowIGNvbmZpZ3VyZWQgZnJvbSBEOi9zZXJ2ZXJzL2FwYWNoZVMvY29uZi9zc2wuY3J0IGFuZCBE
Oi9zZXJ2ZXJzL2FwYWNoZVMvY29uZi9zc2wua2V5DQpbRnJpIFNlcCAxOCAxMToxNTowNi42Mzgx
NzEgMjAxNV0gW3NzbDppbmZvXSBbcGlkIDQ2NDQ6dGlkIDQwOF0gQUgwMTg3NjogbW9kX3NzbC8y
LjQuMTctZGV2IGNvbXBpbGVkIGFnYWluc3QgU2VydmVyOiBBcGFjaGUvMi40LjE3LWRldiwgTGli
cmFyeTogT3BlblNTTC8xLjAuMmQNCltGcmkgU2VwIDE4IDExOjE1OjA2LjYzODE3MSAyMDE1XSBb
aDI6ZGVidWddIFtwaWQgNDY0NDp0aWQgNDA4XSBtb2RfaDIuYyg3NCk6IGluaXRpYWxpemluZyBw
b3N0IGNvbmZpZyBkcnkgcnVuDQpbRnJpIFNlcCAxOCAxMToxNTowNi43MTYzMTAgMjAxNV0gW3Nv
Y2FjaGVfc2htY2I6ZGVidWddIFtwaWQgNDY0NDp0aWQgNDA4XSBtb2Rfc29jYWNoZV9zaG1jYi5j
KDM5NCk6IEFIMDA4MjE6IHNobWNiX2luaXQgYWxsb2NhdGVkIDUxMjAwMCBieXRlcyBvZiBzaGFy
ZWQgbWVtb3J5DQpbRnJpIFNlcCAxOCAxMToxNTowNi43MTYzMTAgMjAxNV0gW3NvY2FjaGVfc2ht
Y2I6ZGVidWddIFtwaWQgNDY0NDp0aWQgNDA4XSBtb2Rfc29jYWNoZV9zaG1jYi5jKDQwOCk6IEFI
MDA4MjI6IGZvciA1MTE5NDQgYnl0ZXMgKDUxMjAwMCBpbmNsdWRpbmcgaGVhZGVyKSwgcmVjb21t
ZW5kaW5nIDggc3ViY2FjaGVzLCA0MiBpbmRleGVzIGVhY2gNCltGcmkgU2VwIDE4IDExOjE1OjA2
LjcxNjMxMCAyMDE1XSBbc29jYWNoZV9zaG1jYjpkZWJ1Z10gW3BpZCA0NjQ0OnRpZCA0MDhdIG1v
ZF9zb2NhY2hlX3NobWNiLmMoNDQ1KTogQUgwMDgyNDogc2htY2JfaW5pdF9tZW1vcnkgY2hvaWNl
cyBmb2xsb3cNCltGcmkgU2VwIDE4IDExOjE1OjA2LjcxNjMxMCAyMDE1XSBbc29jYWNoZV9zaG1j
YjpkZWJ1Z10gW3BpZCA0NjQ0OnRpZCA0MDhdIG1vZF9zb2NhY2hlX3NobWNiLmMoNDQ3KTogQUgw
MDgyNTogc3ViY2FjaGVfbnVtID0gOA0KW0ZyaSBTZXAgMTggMTE6MTU6MDYuNzE2MzEwIDIwMTVd
IFtzb2NhY2hlX3NobWNiOmRlYnVnXSBbcGlkIDQ2NDQ6dGlkIDQwOF0gbW9kX3NvY2FjaGVfc2ht
Y2IuYyg0NDkpOiBBSDAwODI2OiBzdWJjYWNoZV9zaXplID0gNjM5OTINCltGcmkgU2VwIDE4IDEx
OjE1OjA2LjcxNjMxMCAyMDE1XSBbc29jYWNoZV9zaG1jYjpkZWJ1Z10gW3BpZCA0NjQ0OnRpZCA0
MDhdIG1vZF9zb2NhY2hlX3NobWNiLmMoNDUxKTogQUgwMDgyNzogc3ViY2FjaGVfZGF0YV9vZmZz
ZXQgPSAxMDI0DQpbRnJpIFNlcCAxOCAxMToxNTowNi43MTYzMTAgMjAxNV0gW3NvY2FjaGVfc2ht
Y2I6ZGVidWddIFtwaWQgNDY0NDp0aWQgNDA4XSBtb2Rfc29jYWNoZV9zaG1jYi5jKDQ1Myk6IEFI
MDA4Mjg6IHN1YmNhY2hlX2RhdGFfc2l6ZSA9IDYyOTY4DQpbRnJpIFNlcCAxOCAxMToxNTowNi43
MTYzMTAgMjAxNV0gW3NvY2FjaGVfc2htY2I6ZGVidWddIFtwaWQgNDY0NDp0aWQgNDA4XSBtb2Rf
c29jYWNoZV9zaG1jYi5jKDQ1NSk6IEFIMDA4Mjk6IGluZGV4X251bSA9IDQyDQpbRnJpIFNlcCAx
OCAxMToxNTowNi43MTYzMTAgMjAxNV0gW3NvY2FjaGVfc2htY2I6aW5mb10gW3BpZCA0NjQ0OnRp
ZCA0MDhdIEFIMDA4MzA6IFNoYXJlZCBtZW1vcnkgc29jYWNoZSBpbml0aWFsaXNlZA0KW0ZyaSBT
ZXAgMTggMTE6MTU6MDYuNzE2MzEwIDIwMTVdIFtzb2NhY2hlX3NobWNiOmRlYnVnXSBbcGlkIDQ2
NDQ6dGlkIDQwOF0gbW9kX3NvY2FjaGVfc2htY2IuYygzOTQpOiBBSDAwODIxOiBzaG1jYl9pbml0
IGFsbG9jYXRlZCA1MTIwMDAgYnl0ZXMgb2Ygc2hhcmVkIG1lbW9yeQ0KW0ZyaSBTZXAgMTggMTE6
MTU6MDYuNzE2MzEwIDIwMTVdIFtzb2NhY2hlX3NobWNiOmRlYnVnXSBbcGlkIDQ2NDQ6dGlkIDQw
OF0gbW9kX3NvY2FjaGVfc2htY2IuYyg0MDgpOiBBSDAwODIyOiBmb3IgNTExOTQ0IGJ5dGVzICg1
MTIwMDAgaW5jbHVkaW5nIGhlYWRlciksIHJlY29tbWVuZGluZyAzMiBzdWJjYWNoZXMsIDg4IGlu
ZGV4ZXMgZWFjaA0KW0ZyaSBTZXAgMTggMTE6MTU6MDYuNzE2MzEwIDIwMTVdIFtzb2NhY2hlX3No
bWNiOmRlYnVnXSBbcGlkIDQ2NDQ6dGlkIDQwOF0gbW9kX3NvY2FjaGVfc2htY2IuYyg0NDUpOiBB
SDAwODI0OiBzaG1jYl9pbml0X21lbW9yeSBjaG9pY2VzIGZvbGxvdw0KW0ZyaSBTZXAgMTggMTE6
MTU6MDYuNzE2MzEwIDIwMTVdIFtzb2NhY2hlX3NobWNiOmRlYnVnXSBbcGlkIDQ2NDQ6dGlkIDQw
OF0gbW9kX3NvY2FjaGVfc2htY2IuYyg0NDcpOiBBSDAwODI1OiBzdWJjYWNoZV9udW0gPSAzMg0K
W0ZyaSBTZXAgMTggMTE6MTU6MDYuNzE2MzEwIDIwMTVdIFtzb2NhY2hlX3NobWNiOmRlYnVnXSBb
cGlkIDQ2NDQ6dGlkIDQwOF0gbW9kX3NvY2FjaGVfc2htY2IuYyg0NDkpOiBBSDAwODI2OiBzdWJj
YWNoZV9zaXplID0gMTU5OTINCltGcmkgU2VwIDE4IDExOjE1OjA2LjcxNjMxMCAyMDE1XSBbc29j
YWNoZV9zaG1jYjpkZWJ1Z10gW3BpZCA0NjQ0OnRpZCA0MDhdIG1vZF9zb2NhY2hlX3NobWNiLmMo
NDUxKTogQUgwMDgyNzogc3ViY2FjaGVfZGF0YV9vZmZzZXQgPSAyMTI4DQpbRnJpIFNlcCAxOCAx
MToxNTowNi43MTYzMTAgMjAxNV0gW3NvY2FjaGVfc2htY2I6ZGVidWddIFtwaWQgNDY0NDp0aWQg
NDA4XSBtb2Rfc29jYWNoZV9zaG1jYi5jKDQ1Myk6IEFIMDA4Mjg6IHN1YmNhY2hlX2RhdGFfc2l6
ZSA9IDEzODY0DQpbRnJpIFNlcCAxOCAxMToxNTowNi43MTYzMTAgMjAxNV0gW3NvY2FjaGVfc2ht
Y2I6ZGVidWddIFtwaWQgNDY0NDp0aWQgNDA4XSBtb2Rfc29jYWNoZV9zaG1jYi5jKDQ1NSk6IEFI
MDA4Mjk6IGluZGV4X251bSA9IDg4DQpbRnJpIFNlcCAxOCAxMToxNTowNi43MTYzMTAgMjAxNV0g
W3NvY2FjaGVfc2htY2I6aW5mb10gW3BpZCA0NjQ0OnRpZCA0MDhdIEFIMDA4MzA6IFNoYXJlZCBt
ZW1vcnkgc29jYWNoZSBpbml0aWFsaXNlZA0KW0ZyaSBTZXAgMTggMTE6MTU6MDYuNzE2MzEwIDIw
MTVdIFtzc2w6aW5mb10gW3BpZCA0NjQ0OnRpZCA0MDhdIEFIMDE4ODc6IEluaXQ6IEluaXRpYWxp
emluZyAodmlydHVhbCkgc2VydmVycyBmb3IgU1NMDQpbRnJpIFNlcCAxOCAxMToxNTowNi43MTYz
MTAgMjAxNV0gW3NzbDppbmZvXSBbcGlkIDQ2NDQ6dGlkIDQwOF0gQUgwMTkxNDogQ29uZmlndXJp
bmcgc2VydmVyIHd3dy5sYW5kMTB3ZWIuY29tOjQ0MyBmb3IgU1NMIHByb3RvY29sDQpbRnJpIFNl
cCAxOCAxMToxNTowNi43MTYzMTAgMjAxNV0gW3NzbDpkZWJ1Z10gW3BpZCA0NjQ0OnRpZCA0MDhd
IHNzbF9lbmdpbmVfaW5pdC5jKDM5MSk6IEFIMDE4OTM6IENvbmZpZ3VyaW5nIFRMUyBleHRlbnNp
b24gaGFuZGxpbmcNCltGcmkgU2VwIDE4IDExOjE1OjA2LjcxNjMxMCAyMDE1XSBbc3NsOmRlYnVn
XSBbcGlkIDQ2NDQ6dGlkIDQwOF0gc3NsX3V0aWxfc3RhcGxpbmcuYyg4MjgpOiBBSDAxOTYwOiBP
Q1NQIHN0YXBsaW5nIGluaXRpYWxpemVkDQpbRnJpIFNlcCAxOCAxMToxNTowNi43MTYzMTAgMjAx
NV0gW3NzbDpkZWJ1Z10gW3BpZCA0NjQ0OnRpZCA0MDhdIHNzbF91dGlsX3NzbC5jKDQwNCk6IEFI
MDI0MTI6IFt3d3cubGFuZDEwd2ViLmNvbTo0NDNdIENlcnQgbWF0Y2hlcyBmb3IgbmFtZSAnd3d3
LmxhbmQxMHdlYi5jb20nIFtzdWJqZWN0OiBlbWFpbEFkZHJlc3M9cG9zdG1hc3RlckBhcGFjaGVs
b3VuZ2UuY29tLENOPXd3dy5hcGFjaGVsb3VuZ2UuY29tLE89U3RlZmZlbiBMYW5kLEw9SGlsdmVy
c3VtLFNUPU5vcnRoIEhvbGxhbmQsQz1OTCAvIGlzc3VlcjogQ049U3RhcnRDb20gQ2xhc3MgMiBQ
cmltYXJ5IEludGVybWVkaWF0ZSBTZXJ2ZXIgQ0EsT1U9U2VjdXJlIERpZ2l0YWwgQ2VydGlmaWNh
dGUgU2lnbmluZyxPPVN0YXJ0Q29tIEx0ZC4sQz1JTCAvIHNlcmlhbDogMDczODJCN0QyMzk1RkMg
LyBub3RiZWZvcmU6IE1heSAgMyAxODozMTo0OSAyMDE1IEdNVCAvIG5vdGFmdGVyOiBNYXkgIDQg
MTA6MjE6MDAgMjAxNyBHTVRdDQpbRnJpIFNlcCAxOCAxMToxNTowNi43MTYzMTAgMjAxNV0gW3Nz
bDppbmZvXSBbcGlkIDQ2NDQ6dGlkIDQwOF0gQUgwMjU2ODogQ2VydGlmaWNhdGUgYW5kIHByaXZh
dGUga2V5IHd3dy5sYW5kMTB3ZWIuY29tOjQ0MzowIGNvbmZpZ3VyZWQgZnJvbSBEOi9zZXJ2ZXJz
L2FwYWNoZVMvY29uZi9zc2wuY3J0IGFuZCBEOi9zZXJ2ZXJzL2FwYWNoZVMvY29uZi9zc2wua2V5
DQpbRnJpIFNlcCAxOCAxMToxNTowNi43MTYzMTAgMjAxNV0gW3NzbDppbmZvXSBbcGlkIDQ2NDQ6
dGlkIDQwOF0gQUgwMTg3NjogbW9kX3NzbC8yLjQuMTctZGV2IGNvbXBpbGVkIGFnYWluc3QgU2Vy
dmVyOiBBcGFjaGUvMi40LjE3LWRldiwgTGlicmFyeTogT3BlblNTTC8xLjAuMmQNCltGcmkgU2Vw
IDE4IDExOjE1OjA2LjcxNjMxMCAyMDE1XSBbaDI6aW5mb10gW3BpZCA0NjQ0OnRpZCA0MDhdIG1v
ZF9oMiAodjAuOS43LCBuZ2h0dHAyIDEuMy4xKSwgaW5pdGlhbGl6aW5nLi4uDQpbRnJpIFNlcCAx
OCAxMToxNTowNi43MTYzMTAgMjAxNV0gW2gyOmRlYnVnXSBbcGlkIDQ2NDQ6dGlkIDQwOF0gbW9k
X2gyLmMoOTYpOiBwb3N0X2NvbmZpZzogbXBtIHR5cGUgdW5rbm93bg0KW0ZyaSBTZXAgMTggMTE6
MTU6MDYuNzE2MzEwIDIwMTVdIFtoMjpkZWJ1Z10gW3BpZCA0NjQ0OnRpZCA0MDhdIGgyX2gyLmMo
NzIpOiBoMl9oMiwgY2hpbGRfaW5pdA0KW0ZyaSBTZXAgMTggMTE6MTU6MDYuNzE2MzEwIDIwMTVd
IFtoMjpkZWJ1Z10gW3BpZCA0NjQ0OnRpZCA0MDhdIGgyX3N3aXRjaC5jKDU0KTogaDJfc3dpdGNo
IGluaXQNCltGcmkgU2VwIDE4IDExOjE1OjA2LjcxNjMxMCAyMDE1XSBbbXBtX3dpbm50Om5vdGlj
ZV0gW3BpZCA0NjQ0OnRpZCA0MDhdIEFIMDA0NTU6IEFwYWNoZS8yLjQuMTctZGV2IChXaW42NCkg
T3BlblNTTC8xLjAuMmQgY29uZmlndXJlZCAtLSByZXN1bWluZyBub3JtYWwgb3BlcmF0aW9ucw0K
W0ZyaSBTZXAgMTggMTE6MTU6MDYuNzE2MzEwIDIwMTVdIFttcG1fd2lubnQ6bm90aWNlXSBbcGlk
IDQ2NDQ6dGlkIDQwOF0gQUgwMDQ1NjogQXBhY2hlIExvdW5nZSBWQzE0IFNlcnZlciBidWlsdDog
U2VwIDE1IDIwMTUgMTU6MDc6NTMNCltGcmkgU2VwIDE4IDExOjE1OjA2LjcxNjMxMCAyMDE1XSBb
Y29yZTpub3RpY2VdIFtwaWQgNDY0NDp0aWQgNDA4XSBBSDAwMDk0OiBDb21tYW5kIGxpbmU6ICdE
Olxcc2VydmVyc1xcYXBhY2hlU1xcYmluXFxodHRwZC5leGUgLWQgRDovc2VydmVycy9hcGFjaGVT
Jw0KW0ZyaSBTZXAgMTggMTE6MTU6MDYuNzE2MzEwIDIwMTVdIFttcG1fd2lubnQ6bm90aWNlXSBb
cGlkIDQ2NDQ6dGlkIDQwOF0gQUgwMDQxODogUGFyZW50OiBDcmVhdGVkIGNoaWxkIHByb2Nlc3Mg
NTQzNg0KW0ZyaSBTZXAgMTggMTE6MTU6MDYuNzE2MzEwIDIwMTVdIFttcG1fd2lubnQ6ZGVidWdd
IFtwaWQgNDY0NDp0aWQgNDA4XSBtcG1fd2lubnQuYyg0MjIpOiBBSDAwNDAyOiBQYXJlbnQ6IFNl
bnQgdGhlIHNjb3JlYm9hcmQgdG8gdGhlIGNoaWxkDQpbRnJpIFNlcCAxOCAxMToxNTowNi45MzUw
NjIgMjAxNV0gW3NzbDppbmZvXSBbcGlkIDU0MzY6dGlkIDMwOF0gQUgwMTg4NzogSW5pdDogSW5p
dGlhbGl6aW5nICh2aXJ0dWFsKSBzZXJ2ZXJzIGZvciBTU0wNCltGcmkgU2VwIDE4IDExOjE1OjA2
LjkzNTA2MiAyMDE1XSBbc3NsOmluZm9dIFtwaWQgNTQzNjp0aWQgMzA4XSBBSDAxOTE0OiBDb25m
aWd1cmluZyBzZXJ2ZXIgd3d3LmxhbmQxMHdlYi5jb206NDQzIGZvciBTU0wgcHJvdG9jb2wNCltG
cmkgU2VwIDE4IDExOjE1OjA2LjkzNTA2MiAyMDE1XSBbc3NsOmRlYnVnXSBbcGlkIDU0MzY6dGlk
IDMwOF0gc3NsX2VuZ2luZV9pbml0LmMoMzkxKTogQUgwMTg5MzogQ29uZmlndXJpbmcgVExTIGV4
dGVuc2lvbiBoYW5kbGluZw0KW0ZyaSBTZXAgMTggMTE6MTU6MDYuOTM1MDYyIDIwMTVdIFtzc2w6
ZGVidWddIFtwaWQgNTQzNjp0aWQgMzA4XSBzc2xfdXRpbF9zdGFwbGluZy5jKDgyOCk6IEFIMDE5
NjA6IE9DU1Agc3RhcGxpbmcgaW5pdGlhbGl6ZWQNCltGcmkgU2VwIDE4IDExOjE1OjA2LjkzNTA2
MiAyMDE1XSBbc3NsOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDMwOF0gc3NsX3V0aWxfc3NsLmMoNDA0
KTogQUgwMjQxMjogW3d3dy5sYW5kMTB3ZWIuY29tOjQ0M10gQ2VydCBtYXRjaGVzIGZvciBuYW1l
ICd3d3cubGFuZDEwd2ViLmNvbScgW3N1YmplY3Q6IGVtYWlsQWRkcmVzcz1wb3N0bWFzdGVyQGFw
YWNoZWxvdW5nZS5jb20sQ049d3d3LmFwYWNoZWxvdW5nZS5jb20sTz1TdGVmZmVuIExhbmQsTD1I
aWx2ZXJzdW0sU1Q9Tm9ydGggSG9sbGFuZCxDPU5MIC8gaXNzdWVyOiBDTj1TdGFydENvbSBDbGFz
cyAyIFByaW1hcnkgSW50ZXJtZWRpYXRlIFNlcnZlciBDQSxPVT1TZWN1cmUgRGlnaXRhbCBDZXJ0
aWZpY2F0ZSBTaWduaW5nLE89U3RhcnRDb20gTHRkLixDPUlMIC8gc2VyaWFsOiAwNzM4MkI3RDIz
OTVGQyAvIG5vdGJlZm9yZTogTWF5ICAzIDE4OjMxOjQ5IDIwMTUgR01UIC8gbm90YWZ0ZXI6IE1h
eSAgNCAxMDoyMTowMCAyMDE3IEdNVF0NCltGcmkgU2VwIDE4IDExOjE1OjA2LjkzNTA2MiAyMDE1
XSBbc3NsOmluZm9dIFtwaWQgNTQzNjp0aWQgMzA4XSBBSDAyNTY4OiBDZXJ0aWZpY2F0ZSBhbmQg
cHJpdmF0ZSBrZXkgd3d3LmxhbmQxMHdlYi5jb206NDQzOjAgY29uZmlndXJlZCBmcm9tIEQ6L3Nl
cnZlcnMvYXBhY2hlUy9jb25mL3NzbC5jcnQgYW5kIEQ6L3NlcnZlcnMvYXBhY2hlUy9jb25mL3Nz
bC5rZXkNCltGcmkgU2VwIDE4IDExOjE1OjA2LjkzNTA2MiAyMDE1XSBbc3NsOmluZm9dIFtwaWQg
NTQzNjp0aWQgMzA4XSBBSDAxODc2OiBtb2Rfc3NsLzIuNC4xNy1kZXYgY29tcGlsZWQgYWdhaW5z
dCBTZXJ2ZXI6IEFwYWNoZS8yLjQuMTctZGV2LCBMaWJyYXJ5OiBPcGVuU1NMLzEuMC4yZA0KW0Zy
aSBTZXAgMTggMTE6MTU6MDYuOTM1MDYyIDIwMTVdIFtoMjpkZWJ1Z10gW3BpZCA1NDM2OnRpZCAz
MDhdIG1vZF9oMi5jKDc0KTogaW5pdGlhbGl6aW5nIHBvc3QgY29uZmlnIGRyeSBydW4NCltGcmkg
U2VwIDE4IDExOjE1OjA3LjAxMzE4NyAyMDE1XSBbc29jYWNoZV9zaG1jYjpkZWJ1Z10gW3BpZCA1
NDM2OnRpZCAzMDhdIG1vZF9zb2NhY2hlX3NobWNiLmMoMzk0KTogQUgwMDgyMTogc2htY2JfaW5p
dCBhbGxvY2F0ZWQgNTEyMDAwIGJ5dGVzIG9mIHNoYXJlZCBtZW1vcnkNCltGcmkgU2VwIDE4IDEx
OjE1OjA3LjAxMzE4NyAyMDE1XSBbc29jYWNoZV9zaG1jYjpkZWJ1Z10gW3BpZCA1NDM2OnRpZCAz
MDhdIG1vZF9zb2NhY2hlX3NobWNiLmMoNDA4KTogQUgwMDgyMjogZm9yIDUxMTk0NCBieXRlcyAo
NTEyMDAwIGluY2x1ZGluZyBoZWFkZXIpLCByZWNvbW1lbmRpbmcgOCBzdWJjYWNoZXMsIDQyIGlu
ZGV4ZXMgZWFjaA0KW0ZyaSBTZXAgMTggMTE6MTU6MDcuMDEzMTg3IDIwMTVdIFtzb2NhY2hlX3No
bWNiOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDMwOF0gbW9kX3NvY2FjaGVfc2htY2IuYyg0NDUpOiBB
SDAwODI0OiBzaG1jYl9pbml0X21lbW9yeSBjaG9pY2VzIGZvbGxvdw0KW0ZyaSBTZXAgMTggMTE6
MTU6MDcuMDEzMTg3IDIwMTVdIFtzb2NhY2hlX3NobWNiOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDMw
OF0gbW9kX3NvY2FjaGVfc2htY2IuYyg0NDcpOiBBSDAwODI1OiBzdWJjYWNoZV9udW0gPSA4DQpb
RnJpIFNlcCAxOCAxMToxNTowNy4wMTMxODcgMjAxNV0gW3NvY2FjaGVfc2htY2I6ZGVidWddIFtw
aWQgNTQzNjp0aWQgMzA4XSBtb2Rfc29jYWNoZV9zaG1jYi5jKDQ0OSk6IEFIMDA4MjY6IHN1YmNh
Y2hlX3NpemUgPSA2Mzk5Mg0KW0ZyaSBTZXAgMTggMTE6MTU6MDcuMDEzMTg3IDIwMTVdIFtzb2Nh
Y2hlX3NobWNiOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDMwOF0gbW9kX3NvY2FjaGVfc2htY2IuYyg0
NTEpOiBBSDAwODI3OiBzdWJjYWNoZV9kYXRhX29mZnNldCA9IDEwMjQNCltGcmkgU2VwIDE4IDEx
OjE1OjA3LjAxMzE4NyAyMDE1XSBbc29jYWNoZV9zaG1jYjpkZWJ1Z10gW3BpZCA1NDM2OnRpZCAz
MDhdIG1vZF9zb2NhY2hlX3NobWNiLmMoNDUzKTogQUgwMDgyODogc3ViY2FjaGVfZGF0YV9zaXpl
ID0gNjI5NjgNCltGcmkgU2VwIDE4IDExOjE1OjA3LjAxMzE4NyAyMDE1XSBbc29jYWNoZV9zaG1j
YjpkZWJ1Z10gW3BpZCA1NDM2OnRpZCAzMDhdIG1vZF9zb2NhY2hlX3NobWNiLmMoNDU1KTogQUgw
MDgyOTogaW5kZXhfbnVtID0gNDINCltGcmkgU2VwIDE4IDExOjE1OjA3LjAxMzE4NyAyMDE1XSBb
c29jYWNoZV9zaG1jYjppbmZvXSBbcGlkIDU0MzY6dGlkIDMwOF0gQUgwMDgzMDogU2hhcmVkIG1l
bW9yeSBzb2NhY2hlIGluaXRpYWxpc2VkDQpbRnJpIFNlcCAxOCAxMToxNTowNy4wMTMxODcgMjAx
NV0gW3NvY2FjaGVfc2htY2I6ZGVidWddIFtwaWQgNTQzNjp0aWQgMzA4XSBtb2Rfc29jYWNoZV9z
aG1jYi5jKDM5NCk6IEFIMDA4MjE6IHNobWNiX2luaXQgYWxsb2NhdGVkIDUxMjAwMCBieXRlcyBv
ZiBzaGFyZWQgbWVtb3J5DQpbRnJpIFNlcCAxOCAxMToxNTowNy4wMTMxODcgMjAxNV0gW3NvY2Fj
aGVfc2htY2I6ZGVidWddIFtwaWQgNTQzNjp0aWQgMzA4XSBtb2Rfc29jYWNoZV9zaG1jYi5jKDQw
OCk6IEFIMDA4MjI6IGZvciA1MTE5NDQgYnl0ZXMgKDUxMjAwMCBpbmNsdWRpbmcgaGVhZGVyKSwg
cmVjb21tZW5kaW5nIDMyIHN1YmNhY2hlcywgODggaW5kZXhlcyBlYWNoDQpbRnJpIFNlcCAxOCAx
MToxNTowNy4wMTMxODcgMjAxNV0gW3NvY2FjaGVfc2htY2I6ZGVidWddIFtwaWQgNTQzNjp0aWQg
MzA4XSBtb2Rfc29jYWNoZV9zaG1jYi5jKDQ0NSk6IEFIMDA4MjQ6IHNobWNiX2luaXRfbWVtb3J5
IGNob2ljZXMgZm9sbG93DQpbRnJpIFNlcCAxOCAxMToxNTowNy4wMTMxODcgMjAxNV0gW3NvY2Fj
aGVfc2htY2I6ZGVidWddIFtwaWQgNTQzNjp0aWQgMzA4XSBtb2Rfc29jYWNoZV9zaG1jYi5jKDQ0
Nyk6IEFIMDA4MjU6IHN1YmNhY2hlX251bSA9IDMyDQpbRnJpIFNlcCAxOCAxMToxNTowNy4wMTMx
ODcgMjAxNV0gW3NvY2FjaGVfc2htY2I6ZGVidWddIFtwaWQgNTQzNjp0aWQgMzA4XSBtb2Rfc29j
YWNoZV9zaG1jYi5jKDQ0OSk6IEFIMDA4MjY6IHN1YmNhY2hlX3NpemUgPSAxNTk5Mg0KW0ZyaSBT
ZXAgMTggMTE6MTU6MDcuMDEzMTg3IDIwMTVdIFtzb2NhY2hlX3NobWNiOmRlYnVnXSBbcGlkIDU0
MzY6dGlkIDMwOF0gbW9kX3NvY2FjaGVfc2htY2IuYyg0NTEpOiBBSDAwODI3OiBzdWJjYWNoZV9k
YXRhX29mZnNldCA9IDIxMjgNCltGcmkgU2VwIDE4IDExOjE1OjA3LjAxMzE4NyAyMDE1XSBbc29j
YWNoZV9zaG1jYjpkZWJ1Z10gW3BpZCA1NDM2OnRpZCAzMDhdIG1vZF9zb2NhY2hlX3NobWNiLmMo
NDUzKTogQUgwMDgyODogc3ViY2FjaGVfZGF0YV9zaXplID0gMTM4NjQNCltGcmkgU2VwIDE4IDEx
OjE1OjA3LjAxMzE4NyAyMDE1XSBbc29jYWNoZV9zaG1jYjpkZWJ1Z10gW3BpZCA1NDM2OnRpZCAz
MDhdIG1vZF9zb2NhY2hlX3NobWNiLmMoNDU1KTogQUgwMDgyOTogaW5kZXhfbnVtID0gODgNCltG
cmkgU2VwIDE4IDExOjE1OjA3LjAxMzE4NyAyMDE1XSBbc29jYWNoZV9zaG1jYjppbmZvXSBbcGlk
IDU0MzY6dGlkIDMwOF0gQUgwMDgzMDogU2hhcmVkIG1lbW9yeSBzb2NhY2hlIGluaXRpYWxpc2Vk
DQpbRnJpIFNlcCAxOCAxMToxNTowNy4wMTMxODcgMjAxNV0gW3NzbDppbmZvXSBbcGlkIDU0MzY6
dGlkIDMwOF0gQUgwMTg4NzogSW5pdDogSW5pdGlhbGl6aW5nICh2aXJ0dWFsKSBzZXJ2ZXJzIGZv
ciBTU0wNCltGcmkgU2VwIDE4IDExOjE1OjA3LjAxMzE4NyAyMDE1XSBbc3NsOmluZm9dIFtwaWQg
NTQzNjp0aWQgMzA4XSBBSDAxOTE0OiBDb25maWd1cmluZyBzZXJ2ZXIgd3d3LmxhbmQxMHdlYi5j
b206NDQzIGZvciBTU0wgcHJvdG9jb2wNCltGcmkgU2VwIDE4IDExOjE1OjA3LjAxMzE4NyAyMDE1
XSBbc3NsOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDMwOF0gc3NsX2VuZ2luZV9pbml0LmMoMzkxKTog
QUgwMTg5MzogQ29uZmlndXJpbmcgVExTIGV4dGVuc2lvbiBoYW5kbGluZw0KW0ZyaSBTZXAgMTgg
MTE6MTU6MDcuMDEzMTg3IDIwMTVdIFtzc2w6ZGVidWddIFtwaWQgNTQzNjp0aWQgMzA4XSBzc2xf
dXRpbF9zdGFwbGluZy5jKDgyOCk6IEFIMDE5NjA6IE9DU1Agc3RhcGxpbmcgaW5pdGlhbGl6ZWQN
CltGcmkgU2VwIDE4IDExOjE1OjA3LjAxMzE4NyAyMDE1XSBbc3NsOmRlYnVnXSBbcGlkIDU0MzY6
dGlkIDMwOF0gc3NsX3V0aWxfc3NsLmMoNDA0KTogQUgwMjQxMjogW3d3dy5sYW5kMTB3ZWIuY29t
OjQ0M10gQ2VydCBtYXRjaGVzIGZvciBuYW1lICd3d3cubGFuZDEwd2ViLmNvbScgW3N1YmplY3Q6
IGVtYWlsQWRkcmVzcz1wb3N0bWFzdGVyQGFwYWNoZWxvdW5nZS5jb20sQ049d3d3LmFwYWNoZWxv
dW5nZS5jb20sTz1TdGVmZmVuIExhbmQsTD1IaWx2ZXJzdW0sU1Q9Tm9ydGggSG9sbGFuZCxDPU5M
IC8gaXNzdWVyOiBDTj1TdGFydENvbSBDbGFzcyAyIFByaW1hcnkgSW50ZXJtZWRpYXRlIFNlcnZl
ciBDQSxPVT1TZWN1cmUgRGlnaXRhbCBDZXJ0aWZpY2F0ZSBTaWduaW5nLE89U3RhcnRDb20gTHRk
LixDPUlMIC8gc2VyaWFsOiAwNzM4MkI3RDIzOTVGQyAvIG5vdGJlZm9yZTogTWF5ICAzIDE4OjMx
OjQ5IDIwMTUgR01UIC8gbm90YWZ0ZXI6IE1heSAgNCAxMDoyMTowMCAyMDE3IEdNVF0NCltGcmkg
U2VwIDE4IDExOjE1OjA3LjAxMzE4NyAyMDE1XSBbc3NsOmluZm9dIFtwaWQgNTQzNjp0aWQgMzA4
XSBBSDAyNTY4OiBDZXJ0aWZpY2F0ZSBhbmQgcHJpdmF0ZSBrZXkgd3d3LmxhbmQxMHdlYi5jb206
NDQzOjAgY29uZmlndXJlZCBmcm9tIEQ6L3NlcnZlcnMvYXBhY2hlUy9jb25mL3NzbC5jcnQgYW5k
IEQ6L3NlcnZlcnMvYXBhY2hlUy9jb25mL3NzbC5rZXkNCltGcmkgU2VwIDE4IDExOjE1OjA3LjAx
MzE4NyAyMDE1XSBbc3NsOmluZm9dIFtwaWQgNTQzNjp0aWQgMzA4XSBBSDAxODc2OiBtb2Rfc3Ns
LzIuNC4xNy1kZXYgY29tcGlsZWQgYWdhaW5zdCBTZXJ2ZXI6IEFwYWNoZS8yLjQuMTctZGV2LCBM
aWJyYXJ5OiBPcGVuU1NMLzEuMC4yZA0KW0ZyaSBTZXAgMTggMTE6MTU6MDcuMDEzMTg3IDIwMTVd
IFtoMjppbmZvXSBbcGlkIDU0MzY6dGlkIDMwOF0gbW9kX2gyICh2MC45LjcsIG5naHR0cDIgMS4z
LjEpLCBpbml0aWFsaXppbmcuLi4NCltGcmkgU2VwIDE4IDExOjE1OjA3LjAxMzE4NyAyMDE1XSBb
aDI6ZGVidWddIFtwaWQgNTQzNjp0aWQgMzA4XSBtb2RfaDIuYyg5Nik6IHBvc3RfY29uZmlnOiBt
cG0gdHlwZSB1bmtub3duDQpbRnJpIFNlcCAxOCAxMToxNTowNy4wMTMxODcgMjAxNV0gW2gyOmRl
YnVnXSBbcGlkIDU0MzY6dGlkIDMwOF0gaDJfaDIuYyg3Mik6IGgyX2gyLCBjaGlsZF9pbml0DQpb
RnJpIFNlcCAxOCAxMToxNTowNy4wMTMxODcgMjAxNV0gW2gyOmRlYnVnXSBbcGlkIDU0MzY6dGlk
IDMwOF0gaDJfc3dpdGNoLmMoNTQpOiBoMl9zd2l0Y2ggaW5pdA0KW0ZyaSBTZXAgMTggMTE6MTU6
MDcuMDEzMTg3IDIwMTVdIFttcG1fd2lubnQ6ZGVidWddIFtwaWQgNTQzNjp0aWQgMzA4XSBtcG1f
d2lubnQuYygxNzA4KTogQUgwMDQ1MzogQ2hpbGQgcHJvY2VzcyBpcyBydW5uaW5nDQpbRnJpIFNl
cCAxOCAxMToxNTowNy4wMTMxODcgMjAxNV0gW2gyOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDMwOF0g
aDJfY29ubi5jKDEyMSk6IGgyX3dvcmtlcnM6IG1pbj0xMjggbWF4PTE5MjAsIG10aHJwY2hpbGQ9
MTI4LCB0aHJfbGltaXQ9MTkyMA0KW0ZyaSBTZXAgMTggMTE6MTU6MDcuMDEzMTg3IDIwMTVdIFto
MjpkZWJ1Z10gW3BpZCA1NDM2OnRpZCAzMDhdIGgyX3dvcmtlcnMuYygyMjYpOiBoMl93b3JrZXJz
OiBzdGFydGluZw0KW0ZyaSBTZXAgMTggMTE6MTU6MDcuMDEzMTg3IDIwMTVdIFttcG1fd2lubnQ6
ZGVidWddIFtwaWQgNTQzNjp0aWQgMzA4XSBtcG1fd2lubnQuYygzNDMpOiBBSDAwMzkxOiBDaGls
ZDogUmV0cmlldmVkIG91ciBzY29yZWJvYXJkIGZyb20gdGhlIHBhcmVudC4NCltGcmkgU2VwIDE4
IDExOjE1OjA3LjAxMzE4NyAyMDE1XSBbbXBtX3dpbm50OmRlYnVnXSBbcGlkIDQ2NDQ6dGlkIDQw
OF0gbXBtX3dpbm50LmMoNTA1KTogQUgwMDQwODogUGFyZW50OiBEdXBsaWNhdGluZyBzb2NrZXQg
NDEyICgwLjAuMC4wOjQ0NCkgYW5kIHNlbmRpbmcgaXQgdG8gY2hpbGQgcHJvY2VzcyA1NDM2DQpb
RnJpIFNlcCAxOCAxMToxNTowNy4wMTMxODcgMjAxNV0gW21wbV93aW5udDpkZWJ1Z10gW3BpZCA1
NDM2OnRpZCAzMDhdIG1wbV93aW5udC5jKDQ1OCk6IEFIMDA0MDM6IENoaWxkOiBXYWl0aW5nIGZv
ciBkYXRhIGZvciBsaXN0ZW5pbmcgc29ja2V0IDAuMC4wLjA6NDQ0DQpbRnJpIFNlcCAxOCAxMTox
NTowNy4wMTMxODcgMjAxNV0gW21wbV93aW5udDpkZWJ1Z10gW3BpZCA0NjQ0OnRpZCA0MDhdIG1w
bV93aW5udC5jKDUwNSk6IEFIMDA0MDg6IFBhcmVudDogRHVwbGljYXRpbmcgc29ja2V0IDQxNiAo
Wzo6XTo0NDQpIGFuZCBzZW5kaW5nIGl0IHRvIGNoaWxkIHByb2Nlc3MgNTQzNg0KW0ZyaSBTZXAg
MTggMTE6MTU6MDcuMDEzMTg3IDIwMTVdIFttcG1fd2lubnQ6ZGVidWddIFtwaWQgNDY0NDp0aWQg
NDA4XSBtcG1fd2lubnQuYyg1MjQpOiBBSDAwNDExOiBQYXJlbnQ6IFNlbnQgMiBsaXN0ZW5lcnMg
dG8gY2hpbGQgNTQzNg0KW0ZyaSBTZXAgMTggMTE6MTU6MDcuMDEzMTg3IDIwMTVdIFttcG1fd2lu
bnQ6ZGVidWddIFtwaWQgNTQzNjp0aWQgMzA4XSBtcG1fd2lubnQuYyg0NTgpOiBBSDAwNDAzOiBD
aGlsZDogV2FpdGluZyBmb3IgZGF0YSBmb3IgbGlzdGVuaW5nIHNvY2tldCBbOjpdOjQ0NA0KW0Zy
aSBTZXAgMTggMTE6MTU6MDcuMDEzMTg3IDIwMTVdIFttcG1fd2lubnQ6ZGVidWddIFtwaWQgNTQz
Njp0aWQgMzA4XSBtcG1fd2lubnQuYyg0ODMpOiBBSDAwNDA3OiBDaGlsZDogcmV0cmlldmVkIDIg
bGlzdGVuZXJzIGZyb20gcGFyZW50DQpbRnJpIFNlcCAxOCAxMToxNTowNy4wMTMxODcgMjAxNV0g
W3Byb3h5OmRlYnVnXSBbcGlkIDU0MzY6dGlkIDMwOF0gcHJveHlfdXRpbC5jKDE3ODIpOiBBSDAw
OTI1OiBpbml0aWFsaXppbmcgd29ya2VyIGh0dHA6Ly8xMjcuMC4wLjE6ODgvIHNoYXJlZA0KW0Zy
aSBTZXAgMTggMTE6MTU6MDcuMDEzMTg3IDIwMTVdIFtwcm94eTpkZWJ1Z10gW3BpZCA1NDM2OnRp
ZCAzMDhdIHByb3h5X3V0aWwuYygxODI0KTogQUgwMDkyNzogaW5pdGlhbGl6aW5nIHdvcmtlciBo
dHRwOi8vMTI3LjAuMC4xOjg4LyBsb2NhbA0KW0ZyaSBTZXAgMTggMTE6MTU6MDcuMDEzMTg3IDIw
MTVdIFtwcm94eTpkZWJ1Z10gW3BpZCA1NDM2OnRpZCAzMDhdIHByb3h5X3V0aWwuYygxODU4KTog
QUgwMDkzMDogaW5pdGlhbGl6ZWQgcG9vbCBpbiBjaGlsZCA1NDM2IGZvciAoMTI3LjAuMC4xKSBt
aW49MCBtYXg9MTI4IHNtYXg9MTI4DQpbRnJpIFNlcCAxOCAxMToxNTowNy4wMTMxODcgMjAxNV0g
W3Byb3h5OmRlYnVnXSBbcGlkIDU0MzY6dGlkIDMwOF0gcHJveHlfdXRpbC5jKDE3ODIpOiBBSDAw
OTI1OiBpbml0aWFsaXppbmcgd29ya2VyIHByb3h5OnJldmVyc2Ugc2hhcmVkDQpbRnJpIFNlcCAx
OCAxMToxNTowNy4wMTMxODcgMjAxNV0gW3Byb3h5OmRlYnVnXSBbcGlkIDU0MzY6dGlkIDMwOF0g
cHJveHlfdXRpbC5jKDE4MjQpOiBBSDAwOTI3OiBpbml0aWFsaXppbmcgd29ya2VyIHByb3h5OnJl
dmVyc2UgbG9jYWwNCltGcmkgU2VwIDE4IDExOjE1OjA3LjAxMzE4NyAyMDE1XSBbcHJveHk6ZGVi
dWddIFtwaWQgNTQzNjp0aWQgMzA4XSBwcm94eV91dGlsLmMoMTg1OCk6IEFIMDA5MzA6IGluaXRp
YWxpemVkIHBvb2wgaW4gY2hpbGQgNTQzNiBmb3IgKCopIG1pbj0wIG1heD0xMjggc21heD0xMjgN
CltGcmkgU2VwIDE4IDExOjE1OjA3LjAxMzE4NyAyMDE1XSBbbXBtX3dpbm50OmRlYnVnXSBbcGlk
IDU0MzY6dGlkIDMwOF0gY2hpbGQuYygxMDIxKTogQUgwMDM1MjogQ2hpbGQ6IEFjcXVpcmVkIHRo
ZSBzdGFydCBtdXRleC4NCltGcmkgU2VwIDE4IDExOjE1OjA3LjAxMzE4NyAyMDE1XSBbbXBtX3dp
bm50Om5vdGljZV0gW3BpZCA1NDM2OnRpZCAzMDhdIEFIMDAzNTQ6IENoaWxkOiBTdGFydGluZyAx
Mjggd29ya2VyIHRocmVhZHMuDQpbRnJpIFNlcCAxOCAxMToxNTowNy4wMTMxODcgMjAxNV0gW21w
bV93aW5udDpkZWJ1Z10gW3BpZCA1NDM2OnRpZCA0MDUyXSBjaGlsZC5jKDM5OSk6IEFIMDAzMzQ6
IENoaWxkOiBBY2NlcHQgdGhyZWFkIGxpc3RlbmluZyBvbiAwLjAuMC4wOjQ0NCB1c2luZyBBY2Nl
cHRGaWx0ZXIgZGF0YQ0KW0ZyaSBTZXAgMTggMTE6MTU6MDcuMDEzMTg3IDIwMTVdIFttcG1fd2lu
bnQ6ZGVidWddIFtwaWQgNTQzNjp0aWQgNDA1Nl0gY2hpbGQuYygzOTkpOiBBSDAwMzM0OiBDaGls
ZDogQWNjZXB0IHRocmVhZCBsaXN0ZW5pbmcgb24gWzo6XTo0NDQgdXNpbmcgQWNjZXB0RmlsdGVy
IGRhdGENCltGcmkgU2VwIDE4IDExOjI2OjM4LjAyNzA3MiAyMDE1XSBbc3NsOmluZm9dIFtwaWQg
NTQzNjp0aWQgNDAyOF0gW2NsaWVudCAyMDAxOjk4MDphNTEwOjE6ZDU3MTpjYWVkOjcyYTA6OWU5
Yjo1Mjc0MF0gQUgwMTk2NDogQ29ubmVjdGlvbiB0byBjaGlsZCAxMjcgZXN0YWJsaXNoZWQgKHNl
cnZlciB3d3cubGFuZDEwd2ViLmNvbTo0NDMpDQpbRnJpIFNlcCAxOCAxMToyNjozOC4wMjcwNzIg
MjAxNV0gW3NzbDpkZWJ1Z10gW3BpZCA1NDM2OnRpZCA0MDI4XSBzc2xfZW5naW5lX2tlcm5lbC5j
KDE5MzgpOiBbY2xpZW50IDIwMDE6OTgwOmE1MTA6MTpkNTcxOmNhZWQ6NzJhMDo5ZTliOjUyNzQw
XSBBSDAyMDQ0OiBObyBtYXRjaGluZyBTU0wgdmlydHVhbCBob3N0IGZvciBzZXJ2ZXJuYW1lIHd3
dy5hcGFjaGVsb3VuZ2UuY29tIGZvdW5kICh1c2luZyBkZWZhdWx0L2ZpcnN0IHZpcnR1YWwgaG9z
dCkNCltGcmkgU2VwIDE4IDExOjI2OjM4LjAyNzA3MiAyMDE1XSBbY29yZTpkZWJ1Z10gW3BpZCA1
NDM2OnRpZCA0MDI4XSBwcm90b2NvbC5jKDE4MzcpOiBbY2xpZW50IDIwMDE6OTgwOmE1MTA6MTpk
NTcxOmNhZWQ6NzJhMDo5ZTliOjUyNzQwXSBzZWxlY3QgcHJvdG9jb2wgZnJvbSBoMixoMmMsaHR0
cC8xLjEsIGNob2ljZXM9aHR0cC8xLjEsc3BkeS8zLjEsaDItMTQsaDIgZm9yIHNlcnZlciB3d3cu
bGFuZDEwd2ViLmNvbQ0KW0ZyaSBTZXAgMTggMTE6MjY6MzguMDI3MDcyIDIwMTVdIFtjb3JlOmRl
YnVnXSBbcGlkIDU0MzY6dGlkIDQwMjhdIHByb3RvY29sLmMoMTg4MSk6IFtjbGllbnQgMjAwMTo5
ODA6YTUxMDoxOmQ1NzE6Y2FlZDo3MmEwOjllOWI6NTI3NDBdIHNlbGVjdCBwcm90b2NvbCwgcHJv
cG9zYWxzPWgyLGh0dHAvMS4xIHByZWZlcmVuY2VzPWgyLGgyYyxodHRwLzEuMSBjb25maWd1cmVk
PWgyLGgyYyxodHRwLzEuMQ0KW0ZyaSBTZXAgMTggMTE6MjY6MzguMDI3MDcyIDIwMTVdIFtjb3Jl
OmRlYnVnXSBbcGlkIDU0MzY6dGlkIDQwMjhdIHByb3RvY29sLmMoMTkwMSk6IFtjbGllbnQgMjAw
MTo5ODA6YTUxMDoxOmQ1NzE6Y2FlZDo3MmEwOjllOWI6NTI3NDBdIHNlbGVjdGVkIHByb3RvY29s
PWgyDQpbRnJpIFNlcCAxOCAxMToyNjozOC4wMjcwNzIgMjAxNV0gW3NzbDpkZWJ1Z10gW3BpZCA1
NDM2OnRpZCA0MDI4XSBzc2xfZW5naW5lX2tlcm5lbC5jKDE5MzgpOiBbY2xpZW50IDIwMDE6OTgw
OmE1MTA6MTpkNTcxOmNhZWQ6NzJhMDo5ZTliOjUyNzQwXSBBSDAyMDQ0OiBObyBtYXRjaGluZyBT
U0wgdmlydHVhbCBob3N0IGZvciBzZXJ2ZXJuYW1lIHd3dy5hcGFjaGVsb3VuZ2UuY29tIGZvdW5k
ICh1c2luZyBkZWZhdWx0L2ZpcnN0IHZpcnR1YWwgaG9zdCkNCltGcmkgU2VwIDE4IDExOjI2OjM4
LjAyNzA3MiAyMDE1XSBbc3NsOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDQwMjhdIHNzbF91dGlsX3N0
YXBsaW5nLmMoNzIyKTogQUgwMTk1MTogc3RhcGxpbmdfY2I6IE9DU1AgU3RhcGxpbmcgY2FsbGJh
Y2sgY2FsbGVkDQpbRnJpIFNlcCAxOCAxMToyNjozOC4wMjcwNzIgMjAxNV0gW3NzbDpkZWJ1Z10g
W3BpZCA1NDM2OnRpZCA0MDI4XSBzc2xfdXRpbF9zdGFwbGluZy5jKDczMCk6IEFIMDE5NTI6IHN0
YXBsaW5nX2NiOiByZXRyaWV2ZWQgY2FjaGVkIGNlcnRpZmljYXRlIGRhdGENCltGcmkgU2VwIDE4
IDExOjI2OjM4LjAyNzA3MiAyMDE1XSBbc29jYWNoZV9zaG1jYjpkZWJ1Z10gW3BpZCA1NDM2OnRp
ZCA0MDI4XSBtb2Rfc29jYWNoZV9zaG1jYi5jKDUyNik6IEFIMDA4MzU6IHNvY2FjaGVfc2htY2Jf
cmV0cmlldmUgKDB4NWEgLT4gc3ViY2FjaGUgMikNCltGcmkgU2VwIDE4IDExOjI2OjM4LjAyNzA3
MiAyMDE1XSBbc29jYWNoZV9zaG1jYjpkZWJ1Z10gW3BpZCA1NDM2OnRpZCA0MDI4XSBtb2Rfc29j
YWNoZV9zaG1jYi5jKDkxMik6IEFIMDA4NTE6IHNobWNiX3N1YmNhY2hlX3JldHJpZXZlIGZvdW5k
IG5vIG1hdGNoDQpbRnJpIFNlcCAxOCAxMToyNjozOC4wMjcwNzIgMjAxNV0gW3NvY2FjaGVfc2ht
Y2I6ZGVidWddIFtwaWQgNTQzNjp0aWQgNDAyOF0gbW9kX3NvY2FjaGVfc2htY2IuYyg1MzcpOiBB
SDAwODM2OiBsZWF2aW5nIHNvY2FjaGVfc2htY2JfcmV0cmlldmUgc3VjY2Vzc2Z1bGx5DQpbRnJp
IFNlcCAxOCAxMToyNjozOC4wMjcwNzIgMjAxNV0gW3NzbDpkZWJ1Z10gW3BpZCA1NDM2OnRpZCA0
MDI4XSBzc2xfdXRpbF9zdGFwbGluZy5jKDI4OCk6IEFIMDE5MzA6IHN0YXBsaW5nX2dldF9jYWNo
ZWRfcmVzcG9uc2U6IGNhY2hlIG1pc3MNCltGcmkgU2VwIDE4IDExOjI2OjM4LjAyNzA3MiAyMDE1
XSBbc3NsOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDQwMjhdIHNzbF91dGlsX3N0YXBsaW5nLmMoNzM5
KTogQUgwMTk1NDogc3RhcGxpbmdfY2I6IHJlbmV3aW5nIGNhY2hlZCByZXNwb25zZQ0KW0ZyaSBT
ZXAgMTggMTE6MjY6MzguMDI3MDcyIDIwMTVdIFtzb2NhY2hlX3NobWNiOmRlYnVnXSBbcGlkIDU0
MzY6dGlkIDQwMjhdIG1vZF9zb2NhY2hlX3NobWNiLmMoNTI2KTogQUgwMDgzNTogc29jYWNoZV9z
aG1jYl9yZXRyaWV2ZSAoMHg1YSAtPiBzdWJjYWNoZSAyKQ0KW0ZyaSBTZXAgMTggMTE6MjY6Mzgu
MDI3MDcyIDIwMTVdIFtzb2NhY2hlX3NobWNiOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDQwMjhdIG1v
ZF9zb2NhY2hlX3NobWNiLmMoOTEyKTogQUgwMDg1MTogc2htY2Jfc3ViY2FjaGVfcmV0cmlldmUg
Zm91bmQgbm8gbWF0Y2gNCltGcmkgU2VwIDE4IDExOjI2OjM4LjAyNzA3MiAyMDE1XSBbc29jYWNo
ZV9zaG1jYjpkZWJ1Z10gW3BpZCA1NDM2OnRpZCA0MDI4XSBtb2Rfc29jYWNoZV9zaG1jYi5jKDUz
Nyk6IEFIMDA4MzY6IGxlYXZpbmcgc29jYWNoZV9zaG1jYl9yZXRyaWV2ZSBzdWNjZXNzZnVsbHkN
CltGcmkgU2VwIDE4IDExOjI2OjM4LjAyNzA3MiAyMDE1XSBbc3NsOmRlYnVnXSBbcGlkIDU0MzY6
dGlkIDQwMjhdIHNzbF91dGlsX3N0YXBsaW5nLmMoMjg4KTogQUgwMTkzMDogc3RhcGxpbmdfZ2V0
X2NhY2hlZF9yZXNwb25zZTogY2FjaGUgbWlzcw0KW0ZyaSBTZXAgMTggMTE6MjY6MzguMDI3MDcy
IDIwMTVdIFtzc2w6ZGVidWddIFtwaWQgNTQzNjp0aWQgNDAyOF0gc3NsX3V0aWxfc3RhcGxpbmcu
Yyg3NjApOiBzdGFwbGluZ19jYjogc3RpbGwgbXVzdCByZWZyZXNoIGNhY2hlZCByZXNwb25zZSBh
ZnRlciBvYnRhaW5pbmcgcmVmcmVzaCBtdXRleA0KW0ZyaSBTZXAgMTggMTE6MjY6MzguMDI3MDcy
IDIwMTVdIFtzc2w6ZGVidWddIFtwaWQgNTQzNjp0aWQgNDAyOF0gc3NsX3V0aWxfc3RhcGxpbmcu
Yyg0MTUpOiBBSDAxOTM4OiBzdGFwbGluZ19yZW5ld19yZXNwb25zZTogcXVlcnlpbmcgcmVzcG9u
ZGVyDQpbRnJpIFNlcCAxOCAxMToyNjozOC4wNTM1NTAgMjAxNV0gW3NzbDpkZWJ1Z10gW3BpZCA1
NDM2OnRpZCA0MDI4XSBzc2xfdXRpbF9vY3NwLmMoNzgpOiBbY2xpZW50IDIwMDE6OTgwOmE1MTA6
MTpkNTcxOmNhZWQ6NzJhMDo5ZTliOjUyNzQwXSBBSDAxOTczOiBjb25uZWN0aW5nIHRvIE9DU1Ag
cmVzcG9uZGVyICdvY3NwLnN0YXJ0c3NsLmNvbScNCltGcmkgU2VwIDE4IDExOjI2OjM4LjA1ODU2
NiAyMDE1XSBbc3NsOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDQwMjhdIHNzbF91dGlsX29jc3AuYygx
MDMpOiBbY2xpZW50IDIwMDE6OTgwOmE1MTA6MTpkNTcxOmNhZWQ6NzJhMDo5ZTliOjUyNzQwXSBB
SDAxOTc1OiBzZW5kaW5nIHJlcXVlc3QgdG8gT0NTUCByZXNwb25kZXINCltGcmkgU2VwIDE4IDEx
OjI2OjM4LjM3NTg3MiAyMDE1XSBbc3NsOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDQwMjhdIHNzbF91
dGlsX29jc3AuYygyMTMpOiBbY2xpZW50IDIwMDE6OTgwOmE1MTA6MTpkNTcxOmNhZWQ6NzJhMDo5
ZTliOjUyNzQwXSBBSDAxOTgxOiBPQ1NQIHJlc3BvbnNlIGhlYWRlcjogU2VydmVyOiBBcGFjaGUv
Mi4yLjMgKFN0YXJ0Q29tKQ0KW0ZyaSBTZXAgMTggMTE6MjY6MzguMzc1ODcyIDIwMTVdIFtzc2w6
ZGVidWddIFtwaWQgNTQzNjp0aWQgNDAyOF0gc3NsX3V0aWxfb2NzcC5jKDIxMyk6IFtjbGllbnQg
MjAwMTo5ODA6YTUxMDoxOmQ1NzE6Y2FlZDo3MmEwOjllOWI6NTI3NDBdIEFIMDE5ODE6IE9DU1Ag
cmVzcG9uc2UgaGVhZGVyOiBDb250ZW50LUxlbmd0aDogMTYxMw0KW0ZyaSBTZXAgMTggMTE6MjY6
MzguMzc1ODcyIDIwMTVdIFtzc2w6ZGVidWddIFtwaWQgNTQzNjp0aWQgNDAyOF0gc3NsX3V0aWxf
b2NzcC5jKDIxMyk6IFtjbGllbnQgMjAwMTo5ODA6YTUxMDoxOmQ1NzE6Y2FlZDo3MmEwOjllOWI6
NTI3NDBdIEFIMDE5ODE6IE9DU1AgcmVzcG9uc2UgaGVhZGVyOiBFVGFnOiAiMDcwOThkMDkyMjYy
MzBmYzIwZDkyNGYzNmYyODIyYTgxMWQxZmJkZCINCltGcmkgU2VwIDE4IDExOjI2OjM4LjM3NTg3
MiAyMDE1XSBbc3NsOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDQwMjhdIHNzbF91dGlsX29jc3AuYygy
MTMpOiBbY2xpZW50IDIwMDE6OTgwOmE1MTA6MTpkNTcxOmNhZWQ6NzJhMDo5ZTliOjUyNzQwXSBB
SDAxOTgxOiBPQ1NQIHJlc3BvbnNlIGhlYWRlcjogTGFzdC1Nb2RpZmllZDogRnJpLCAxOCBTZXAg
MjAxNSAwMzoxOTo0MSArMDAwMA0KW0ZyaSBTZXAgMTggMTE6MjY6MzguMzc1ODcyIDIwMTVdIFtz
c2w6ZGVidWddIFtwaWQgNTQzNjp0aWQgNDAyOF0gc3NsX3V0aWxfb2NzcC5jKDIxMyk6IFtjbGll
bnQgMjAwMTo5ODA6YTUxMDoxOmQ1NzE6Y2FlZDo3MmEwOjllOWI6NTI3NDBdIEFIMDE5ODE6IE9D
U1AgcmVzcG9uc2UgaGVhZGVyOiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL29jc3AtcmVzcG9u
c2UNCltGcmkgU2VwIDE4IDExOjI2OjM4LjM3NTg3MiAyMDE1XSBbc3NsOmRlYnVnXSBbcGlkIDU0
MzY6dGlkIDQwMjhdIHNzbF91dGlsX29jc3AuYygyMTMpOiBbY2xpZW50IDIwMDE6OTgwOmE1MTA6
MTpkNTcxOmNhZWQ6NzJhMDo5ZTliOjUyNzQwXSBBSDAxOTgxOiBPQ1NQIHJlc3BvbnNlIGhlYWRl
cjogRXhwaXJlczogRnJpLCAxOCBTZXAgMjAxNSAwOToyNTo0NSBHTVQNCltGcmkgU2VwIDE4IDEx
OjI2OjM4LjM3NTg3MiAyMDE1XSBbc3NsOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDQwMjhdIHNzbF91
dGlsX29jc3AuYygyMTMpOiBbY2xpZW50IDIwMDE6OTgwOmE1MTA6MTpkNTcxOmNhZWQ6NzJhMDo5
ZTliOjUyNzQwXSBBSDAxOTgxOiBPQ1NQIHJlc3BvbnNlIGhlYWRlcjogQ2FjaGUtQ29udHJvbDog
bWF4LWFnZT0wLCBuby1jYWNoZSwgbm8tc3RvcmUNCltGcmkgU2VwIDE4IDExOjI2OjM4LjM3NTg3
MiAyMDE1XSBbc3NsOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDQwMjhdIHNzbF91dGlsX29jc3AuYygy
MTMpOiBbY2xpZW50IDIwMDE6OTgwOmE1MTA6MTpkNTcxOmNhZWQ6NzJhMDo5ZTliOjUyNzQwXSBB
SDAxOTgxOiBPQ1NQIHJlc3BvbnNlIGhlYWRlcjogUHJhZ21hOiBuby1jYWNoZQ0KW0ZyaSBTZXAg
MTggMTE6MjY6MzguMzc1ODcyIDIwMTVdIFtzc2w6ZGVidWddIFtwaWQgNTQzNjp0aWQgNDAyOF0g
c3NsX3V0aWxfb2NzcC5jKDIxMyk6IFtjbGllbnQgMjAwMTo5ODA6YTUxMDoxOmQ1NzE6Y2FlZDo3
MmEwOjllOWI6NTI3NDBdIEFIMDE5ODE6IE9DU1AgcmVzcG9uc2UgaGVhZGVyOiBEYXRlOiBGcmks
IDE4IFNlcCAyMDE1IDA5OjI1OjQ1IEdNVA0KW0ZyaSBTZXAgMTggMTE6MjY6MzguMzc1ODcyIDIw
MTVdIFtzc2w6ZGVidWddIFtwaWQgNTQzNjp0aWQgNDAyOF0gc3NsX3V0aWxfb2NzcC5jKDIxMyk6
IFtjbGllbnQgMjAwMTo5ODA6YTUxMDoxOmQ1NzE6Y2FlZDo3MmEwOjllOWI6NTI3NDBdIEFIMDE5
ODE6IE9DU1AgcmVzcG9uc2UgaGVhZGVyOiBDb25uZWN0aW9uOiBjbG9zZQ0KW0ZyaSBTZXAgMTgg
MTE6MjY6MzguMzc1ODcyIDIwMTVdIFtzc2w6ZGVidWddIFtwaWQgNTQzNjp0aWQgNDAyOF0gc3Ns
X3V0aWxfb2NzcC5jKDI2MSk6IFtjbGllbnQgMjAwMTo5ODA6YTUxMDoxOmQ1NzE6Y2FlZDo3MmEw
OjllOWI6NTI3NDBdIEFIMDE5ODc6IE9DU1AgcmVzcG9uc2U6IGdvdCAxNjEzIGJ5dGVzLCAxNjEz
IHRvdGFsDQpbRnJpIFNlcCAxOCAxMToyNjozOC4zNzU4NzIgMjAxNV0gW3NzbDpkZWJ1Z10gW3Bp
ZCA1NDM2OnRpZCA0MDI4XSBzc2xfdXRpbF9zdGFwbGluZy5jKDQ4OCk6IEFIMDE5NDI6IHN0YXBs
aW5nX3JlbmV3X3Jlc3BvbnNlOiBxdWVyeSByZXNwb25zZSByZWNlaXZlZA0KW0ZyaSBTZXAgMTgg
MTE6MjY6MzguMzc2ODM1IDIwMTVdIFtzb2NhY2hlX3NobWNiOmRlYnVnXSBbcGlkIDU0MzY6dGlk
IDQwMjhdIG1vZF9zb2NhY2hlX3NobWNiLmMoNDg5KTogQUgwMDgzMTogc29jYWNoZV9zaG1jYl9z
dG9yZSAoMHg1YSAtPiBzdWJjYWNoZSAyKQ0KW0ZyaSBTZXAgMTggMTE6MjY6MzguMzc2ODM1IDIw
MTVdIFtzb2NhY2hlX3NobWNiOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDQwMjhdIG1vZF9zb2NhY2hl
X3NobWNiLmMoODQzKTogQUgwMDg0NzogaW5zZXJ0IGhhcHBlbmVkIGF0IGlkeD0wLCBkYXRhPSgw
OjIwKQ0KW0ZyaSBTZXAgMTggMTE6MjY6MzguMzc2ODM1IDIwMTVdIFtzb2NhY2hlX3NobWNiOmRl
YnVnXSBbcGlkIDU0MzY6dGlkIDQwMjhdIG1vZF9zb2NhY2hlX3NobWNiLmMoODQ2KTogQUgwMDg0
ODogZmluaXNoZWQgaW5zZXJ0LCBzdWJjYWNoZTogaWR4X3Bvcy9pZHhfdXNlZD0wLzEsIGRhdGFf
cG9zL2RhdGFfdXNlZD0wLzE2MzQNCltGcmkgU2VwIDE4IDExOjI2OjM4LjM3NjgzNSAyMDE1XSBb
c29jYWNoZV9zaG1jYjpkZWJ1Z10gW3BpZCA1NDM2OnRpZCA0MDI4XSBtb2Rfc29jYWNoZV9zaG1j
Yi5jKDUxMSk6IEFIMDA4MzQ6IGxlYXZpbmcgc29jYWNoZV9zaG1jYl9zdG9yZSBzdWNjZXNzZnVs
bHkNCltGcmkgU2VwIDE4IDExOjI2OjM4LjM3NjgzNSAyMDE1XSBbc3NsOmRlYnVnXSBbcGlkIDU0
MzY6dGlkIDQwMjhdIHNzbF91dGlsX3N0YXBsaW5nLmMoNzY3KTogc3RhcGxpbmdfY2I6IHN1Y2Nl
c3MgcmVuZXdpbmcgcmVzcG9uc2UNCltGcmkgU2VwIDE4IDExOjI2OjM4LjM3NjgzNSAyMDE1XSBb
c3NsOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDQwMjhdIHNzbF91dGlsX3N0YXBsaW5nLmMoNzc5KTog
QUgwMTk1Njogc3RhcGxpbmdfY2I6IHNldHRpbmcgcmVzcG9uc2UNCltGcmkgU2VwIDE4IDExOjI2
OjM4LjM4NDgzNSAyMDE1XSBbc3NsOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDQwMjhdIHNzbF9lbmdp
bmVfa2VybmVsLmMoMTg1Nik6IFtjbGllbnQgMjAwMTo5ODA6YTUxMDoxOmQ1NzE6Y2FlZDo3MmEw
OjllOWI6NTI3NDBdIEFIMDIwNDE6IFByb3RvY29sOiBUTFN2MS4yLCBDaXBoZXI6IEVDREhFLVJT
QS1BRVMxMjgtR0NNLVNIQTI1NiAoMTI4LzEyOCBiaXRzKQ0KW0ZyaSBTZXAgMTggMTE6MjY6Mzgu
Mzg0ODM1IDIwMTVdIFtzc2w6ZGVidWddIFtwaWQgNTQzNjp0aWQgNDAyOF0gc3NsX2VuZ2luZV9p
by5jKDE0MzUpOiBbY2xpZW50IDIwMDE6OTgwOmE1MTA6MTpkNTcxOmNhZWQ6NzJhMDo5ZTliOjUy
NzQwXSBBSDAyODM2OiBBTFBOIHNlbGVjdGVkIHByb3RvY29sOiAnaDInDQpbRnJpIFNlcCAxOCAx
MToyNjozOC4zODQ4MzUgMjAxNV0gW2gyOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDQwMjhdIGgyX2Nv
bm4uYygxNjgpOiBbY2xpZW50IDIwMDE6OTgwOmE1MTA6MTpkNTcxOmNhZWQ6NzJhMDo5ZTliOjUy
NzQwXSBoMl9jb25uX21haW4gc3RhcnQNCltGcmkgU2VwIDE4IDExOjI2OjM4LjM4NTgzNSAyMDE1
XSBbaDI6ZGVidWddIFtwaWQgNTQzNjp0aWQgNDAyOF0gaDJfY29ubi5jKDIzOCk6IFtjbGllbnQg
MjAwMTo5ODA6YTUxMDoxOmQ1NzE6Y2FlZDo3MmEwOjllOWI6NTI3NDBdIGgyX3Nlc3Npb24oMTI3
KTogc3RhcnRpbmcgb24gKG51bGwpOjQ0NA0KW0ZyaSBTZXAgMTggMTE6MjY6MzguMzg1ODM1IDIw
MTVdIFtoMjpkZWJ1Z10gW3BpZCA1NDM2OnRpZCA0MDI4XSBoMl9zdHJlYW0uYyg1OCk6IFtjbGll
bnQgMjAwMTo5ODA6YTUxMDoxOmQ1NzE6Y2FlZDo3MmEwOjllOWI6NTI3NDBdIGgyX3N0cmVhbSgx
MjctMSk6IGNyZWF0ZWQNCltGcmkgU2VwIDE4IDExOjI2OjM4LjM4NTgzNSAyMDE1XSBbaDI6ZGVi
dWddIFtwaWQgNTQzNjp0aWQgNDAyOF0gaDJfc2Vzc2lvbi5jKDY4KTogW2NsaWVudCAyMDAxOjk4
MDphNTEwOjE6ZDU3MTpjYWVkOjcyYTA6OWU5Yjo1Mjc0MF0gaDJfc2Vzc2lvbjogc3RyZWFtKDEy
Ny0xKTogb3BlbmVkDQpbRnJpIFNlcCAxOCAxMToyNjozOC4zODU4MzUgMjAxNV0gW2gyOmRlYnVn
XSBbcGlkIDU0MzY6dGlkIDQwMjhdIGgyX3dvcmtlcnMuYygzMDMpOiBoMl93b3JrZXJzOiByZWdp
c3RlciBtcGx4KDEyNykNCltGcmkgU2VwIDE4IDExOjI2OjM4LjM4NTgzNSAyMDE1XSBbaDI6ZGVi
dWddIFtwaWQgNTQzNjp0aWQgNDAyOF0gaDJfc3RyZWFtLmMoMTgwKTogW2NsaWVudCAyMDAxOjk4
MDphNTEwOjE6ZDU3MTpjYWVkOjcyYTA6OWU5Yjo1Mjc0MF0gaDJfc3RyZWFtKDEyNy0xKTogY2xv
c2luZyBpbnB1dA0KW0ZyaSBTZXAgMTggMTE6MjY6MzguMzg1ODM1IDIwMTVdIFtoMjpkZWJ1Z10g
W3BpZCA1NDM2OnRpZCA0MDI4XSBoMl9zdHJlYW0uYygxNjcpOiBbY2xpZW50IDIwMDE6OTgwOmE1
MTA6MTpkNTcxOmNhZWQ6NzJhMDo5ZTliOjUyNzQwXSBoMl9tcGx4KDEyNy0xKTogc3RhcnQgc3Ry
ZWFtLCB0YXNrIEdFVCAvICh3d3cuYXBhY2hlbG91bmdlLmNvbTo0NDQpDQpbRnJpIFNlcCAxOCAx
MToyNjozOC4zODU4MzUgMjAxNV0gW2gyOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDQwMjhdIGgyX3N0
cmVhbS5jKDE4MCk6IFtjbGllbnQgMjAwMTo5ODA6YTUxMDoxOmQ1NzE6Y2FlZDo3MmEwOjllOWI6
NTI3NDBdIGgyX3N0cmVhbSgxMjctMSk6IGNsb3NpbmcgaW5wdXQNCltGcmkgU2VwIDE4IDExOjI2
OjM4LjM4NTgzNSAyMDE1XSBbaDI6ZGVidWddIFtwaWQgNTQzNjp0aWQgNDAyOF0gaDJfc2Vzc2lv
bi5jKDQwMik6IFtjbGllbnQgMjAwMTo5ODA6YTUxMDoxOmQ1NzE6Y2FlZDo3MmEwOjllOWI6NTI3
NDBdIGgyX3N0cmVhbSgxMjctMSk6IGlucHV0IGNsb3NlZA0KW0ZyaSBTZXAgMTggMTE6MjY6Mzgu
Mzg1ODM1IDIwMTVdIFtoMjpkZWJ1Z10gW3BpZCA1NDM2OnRpZCAyNzQ0XSBoMl93b3JrZXJzLmMo
MTY2KTogaDJfd29ya2VyKDEyMyk6IHN0YXJ0IHRhc2soMTI3LTEpDQpbRnJpIFNlcCAxOCAxMToy
NjozOC4zODU4MzUgMjAxNV0gW2gyOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDI3NDRdIGgyX3Rhc2tf
aW5wdXQuYyg4NCk6IFtjbGllbnQgMjAwMTo5ODA6YTUxMDoxOmQ1NzE6Y2FlZDo3MmEwOjllOWI6
NTI3NDBdIGgyX3Rhc2tfaW5wdXQoMTI3LTEpOiByZXF1ZXN0IGlzOiANCltGcmkgU2VwIDE4IDEx
OjI2OjM4LjM4NTgzNSAyMDE1XSBbaDI6ZGVidWddIFtwaWQgNTQzNjp0aWQgMjc0NF0gaDJfaDIu
YygyMTUpOiBbY2xpZW50IDIwMDE6OTgwOmE1MTA6MTpkNTcxOmNhZWQ6NzJhMDo5ZTliOjUyNzQw
XSBhZGRpbmcgaDFfdG9faDJfcmVzcCBvdXRwdXQgZmlsdGVyDQpbRnJpIFNlcCAxOCAxMToyNjoz
OC4zODU4MzUgMjAxNV0gW3NzbDplcnJvcl0gW3BpZCA1NDM2OnRpZCAyNzQ0XSBBSDAyMDMyOiBI
b3N0bmFtZSB3d3cuYXBhY2hlbG91bmdlLmNvbSBwcm92aWRlZCB2aWEgU05JIGFuZCBob3N0bmFt
ZSB3d3cuYXBhY2hlbG91bmdlLmNvbSBwcm92aWRlZCB2aWEgSFRUUCBhcmUgZGlmZmVyZW50DQpb
RnJpIFNlcCAxOCAxMToyNjozOC4zODU4MzUgMjAxNV0gW2gyOmRlYnVnXSBbcGlkIDU0MzY6dGlk
IDI3NDRdIGgyX21wbHguYyg1NjEpOiBbY2xpZW50IDIwMDE6OTgwOmE1MTA6MTpkNTcxOmNhZWQ6
NzJhMDo5ZTliOjUyNzQwXSBoMl9tcGx4KDEyNy0xKTogb3BlbiByZXNwb25zZTogNDIxDQpbRnJp
IFNlcCAxOCAxMToyNjozOC4zODU4MzUgMjAxNV0gW2gyOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDQw
MjhdIGgyX3Nlc3Npb24uYygxMTEzKTogW2NsaWVudCAyMDAxOjk4MDphNTEwOjE6ZDU3MTpjYWVk
OjcyYTA6OWU5Yjo1Mjc0MF0gaDJfc3RyZWFtKDEyNy0xKTogc3VibWl0dGVkIHJlc3BvbnNlIDQy
MSwgcnY9MA0KW0ZyaSBTZXAgMTggMTE6MjY6MzguMzg1ODM1IDIwMTVdIFtoMjpkZWJ1Z10gW3Bp
ZCA1NDM2OnRpZCA0MDI4XSBoMl9zZXNzaW9uLmMoMjI4KTogW2NsaWVudCAyMDAxOjk4MDphNTEw
OjE6ZDU3MTpjYWVkOjcyYTA6OWU5Yjo1Mjc0MF0gaDJfc3RyZWFtKDEyNy0xKTogY2xvc2luZw0K
W0ZyaSBTZXAgMTggMTE6MjY6MzguMzg1ODM1IDIwMTVdIFtoMjpkZWJ1Z10gW3BpZCA1NDM2OnRp
ZCA0MDI4XSBoMl9zdHJlYW0uYyg3NSk6IFtjbGllbnQgMjAwMTo5ODA6YTUxMDoxOmQ1NzE6Y2Fl
ZDo3MmEwOjllOWI6NTI3NDBdIGgyX3N0cmVhbSgxMjctMSk6IGRlc3Ryb3kNCltGcmkgU2VwIDE4
IDExOjI2OjM4LjQzMTg0MCAyMDE1XSBbaDI6ZGVidWddIFtwaWQgNTQzNjp0aWQgNDAyOF0gaDJf
c3RyZWFtLmMoNTgpOiBbY2xpZW50IDIwMDE6OTgwOmE1MTA6MTpkNTcxOmNhZWQ6NzJhMDo5ZTli
OjUyNzQwXSBoMl9zdHJlYW0oMTI3LTMpOiBjcmVhdGVkDQpbRnJpIFNlcCAxOCAxMToyNjozOC40
MzE4NDAgMjAxNV0gW2gyOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDQwMjhdIGgyX3Nlc3Npb24uYyg2
OCk6IFtjbGllbnQgMjAwMTo5ODA6YTUxMDoxOmQ1NzE6Y2FlZDo3MmEwOjllOWI6NTI3NDBdIGgy
X3Nlc3Npb246IHN0cmVhbSgxMjctMyk6IG9wZW5lZA0KW0ZyaSBTZXAgMTggMTE6MjY6MzguNDMx
ODQwIDIwMTVdIFtoMjpkZWJ1Z10gW3BpZCA1NDM2OnRpZCA0MDI4XSBoMl93b3JrZXJzLmMoMzAz
KTogaDJfd29ya2VyczogcmVnaXN0ZXIgbXBseCgxMjcpDQpbRnJpIFNlcCAxOCAxMToyNjozOC40
MzE4NDAgMjAxNV0gW2gyOmRlYnVnXSBbcGlkIDU0MzY6dGlkIDQwMjhdIGgyX3N0cmVhbS5jKDE4
MCk6IFtjbGllbnQgMjAwMTo5ODA6YTUxMDoxOmQ1NzE6Y2FlZDo3MmEwOjllOWI6NTI3NDBdIGgy
X3N0cmVhbSgxMjctMyk6IGNsb3NpbmcgaW5wdXQNCltGcmkgU2VwIDE4IDExOjI2OjM4LjQzMTg0
MCAyMDE1XSBbaDI6ZGVidWddIFtwaWQgNTQzNjp0aWQgNDAyOF0gaDJfc3RyZWFtLmMoMTY3KTog
W2NsaWVudCAyMDAxOjk4MDphNTEwOjE6ZDU3MTpjYWVkOjcyYTA6OWU5Yjo1Mjc0MF0gaDJfbXBs
eCgxMjctMyk6IHN0YXJ0IHN0cmVhbSwgdGFzayBHRVQgL2Zhdmljb24uaWNvICh3d3cuYXBhY2hl
bG91bmdlLmNvbTo0NDQpDQpbRnJpIFNlcCAxOCAxMToyNjozOC40MzE4NDAgMjAxNV0gW2gyOmRl
YnVnXSBbcGlkIDU0MzY6dGlkIDQwMjhdIGgyX3N0cmVhbS5jKDE4MCk6IFtjbGllbnQgMjAwMTo5
ODA6YTUxMDoxOmQ1NzE6Y2FlZDo3MmEwOjllOWI6NTI3NDBdIGgyX3N0cmVhbSgxMjctMyk6IGNs
b3NpbmcgaW5wdXQNCltGcmkgU2VwIDE4IDExOjI2OjM4LjQzMTg0MCAyMDE1XSBbaDI6ZGVidWdd
IFtwaWQgNTQzNjp0aWQgNDAyOF0gaDJfc2Vzc2lvbi5jKDQwMik6IFtjbGllbnQgMjAwMTo5ODA6
YTUxMDoxOmQ1NzE6Y2FlZDo3MmEwOjllOWI6NTI3NDBdIGgyX3N0cmVhbSgxMjctMyk6IGlucHV0
IGNsb3NlZA0KW0ZyaSBTZXAgMTggMTE6MjY6MzguNDMyODM4IDIwMTVdIFtoMjpkZWJ1Z10gW3Bp
ZCA1NDM2OnRpZCA0NDBdIGgyX3dvcmtlcnMuYygxNjYpOiBoMl93b3JrZXIoNCk6IHN0YXJ0IHRh
c2soMTI3LTMpDQpbRnJpIFNlcCAxOCAxMToyNjozOC40MzI4MzggMjAxNV0gW2gyOmRlYnVnXSBb
cGlkIDU0MzY6dGlkIDQ0MF0gaDJfdGFza19pbnB1dC5jKDg0KTogW2NsaWVudCAyMDAxOjk4MDph
NTEwOjE6ZDU3MTpjYWVkOjcyYTA6OWU5Yjo1Mjc0MF0gaDJfdGFza19pbnB1dCgxMjctMyk6IHJl
cXVlc3QgaXM6IA0KW0ZyaSBTZXAgMTggMTE6MjY6MzguNDMyODM4IDIwMTVdIFtoMjpkZWJ1Z10g
W3BpZCA1NDM2OnRpZCA0NDBdIGgyX2gyLmMoMjE1KTogW2NsaWVudCAyMDAxOjk4MDphNTEwOjE6
ZDU3MTpjYWVkOjcyYTA6OWU5Yjo1Mjc0MF0gYWRkaW5nIGgxX3RvX2gyX3Jlc3Agb3V0cHV0IGZp
bHRlciwgcmVmZXJlcjogaHR0cHM6Ly93d3cuYXBhY2hlbG91bmdlLmNvbTo0NDQvDQpbRnJpIFNl
cCAxOCAxMToyNjozOC40MzI4MzggMjAxNV0gW3NzbDplcnJvcl0gW3BpZCA1NDM2OnRpZCA0NDBd
IEFIMDIwMzI6IEhvc3RuYW1lIHd3dy5hcGFjaGVsb3VuZ2UuY29tIHByb3ZpZGVkIHZpYSBTTkkg
YW5kIGhvc3RuYW1lIHd3dy5hcGFjaGVsb3VuZ2UuY29tIHByb3ZpZGVkIHZpYSBIVFRQIGFyZSBk
aWZmZXJlbnQNCltGcmkgU2VwIDE4IDExOjI2OjM4LjQzMjgzOCAyMDE1XSBbaDI6ZGVidWddIFtw
aWQgNTQzNjp0aWQgNDQwXSBoMl9tcGx4LmMoNTYxKTogW2NsaWVudCAyMDAxOjk4MDphNTEwOjE6
ZDU3MTpjYWVkOjcyYTA6OWU5Yjo1Mjc0MF0gaDJfbXBseCgxMjctMyk6IG9wZW4gcmVzcG9uc2U6
IDQyMQ0KW0ZyaSBTZXAgMTggMTE6MjY6MzguNDMyODM4IDIwMTVdIFtoMjpkZWJ1Z10gW3BpZCA1
NDM2OnRpZCA0MDI4XSBoMl9zZXNzaW9uLmMoMTExMyk6IFtjbGllbnQgMjAwMTo5ODA6YTUxMDox
OmQ1NzE6Y2FlZDo3MmEwOjllOWI6NTI3NDBdIGgyX3N0cmVhbSgxMjctMyk6IHN1Ym1pdHRlZCBy
ZXNwb25zZSA0MjEsIHJ2PTANCltGcmkgU2VwIDE4IDExOjI2OjM4LjQzMjgzOCAyMDE1XSBbaDI6
ZGVidWddIFtwaWQgNTQzNjp0aWQgNDAyOF0gaDJfc2Vzc2lvbi5jKDIyOCk6IFtjbGllbnQgMjAw
MTo5ODA6YTUxMDoxOmQ1NzE6Y2FlZDo3MmEwOjllOWI6NTI3NDBdIGgyX3N0cmVhbSgxMjctMyk6
IGNsb3NpbmcNCltGcmkgU2VwIDE4IDExOjI2OjM4LjQzMjgzOCAyMDE1XSBbaDI6ZGVidWddIFtw
aWQgNTQzNjp0aWQgNDAyOF0gaDJfc3RyZWFtLmMoNzUpOiBbY2xpZW50IDIwMDE6OTgwOmE1MTA6
MTpkNTcxOmNhZWQ6NzJhMDo5ZTliOjUyNzQwXSBoMl9zdHJlYW0oMTI3LTMpOiBkZXN0cm95DQo=

------=_SW_25296_1442568943_mixed=--



From dev-return-83815-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 18 09:36:57 2015
Return-Path: <dev-return-83815-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3F685173DB
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Sep 2015 09:36:57 +0000 (UTC)
Received: (qmail 30302 invoked by uid 500); 18 Sep 2015 09:36:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 30234 invoked by uid 500); 18 Sep 2015 09:36:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 30224 invoked by uid 99); 18 Sep 2015 09:36:22 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Sep 2015 09:36:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id EED22E07F5
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 09:36:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 4VZWdQ-lxwIh for <dev@httpd.apache.org>;
	Fri, 18 Sep 2015 09:36:11 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 6BC6920F1E
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 09:36:10 +0000 (UTC)
Received: from delight.fritz.box (unknown [84.150.92.166])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 9885715A04AC
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 11:36:02 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: 2.4.17-protocols-http2/ - SNI issue
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <55fbdaef.1e40.1068.6876@land10.nl>
Date: Fri, 18 Sep 2015 11:36:01 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <AA54FA4B-0FF6-4B86-8262-A5B9B37881D2@greenbytes.de>
References: <55fbdaef.1e40.1068.6876@land10.nl>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

I think I found it. Just writing a test case to confirm...

> Am 18.09.2015 um 11:35 schrieb Steffen <info@apachelounge.com>:
>=20
> Debug log attached.
>=20
>=20
> =20
> On Wednesday 16/09/2015 at 12:06, Pl=C3=BCm wrote:=20
>>=20
>>=20
>>> -----Original Message-----
>>> From: Stefan Eissing [mailto:stefan.eissing@greenbytes.de]
>>> Sent: Mittwoch, 16. September 2015 11:38
>>> To: dev@httpd.apache.org
>>> Subject: Re: 2.4.17-protocols-http2/ - SNI issue
>>>=20
>>> Good point. Limited online today. If someone wants to give this a =
shot,
>>> please.
>>>=20
>>>> Am 16.09.2015 um 11:36 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>>>=20
>>>> On Wed, Sep 16, 2015 at 11:24 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone =
Group
>>>> <ruediger.pluem@vodafone.com> wrote:
>>>>>=20
>>>>>> -----Original Message-----
>>>>>> From: Steffen
>>>>>> Sent: Mittwoch, 16. September 2015 11:14
>>>>>> To: dev@httpd.apache.org
>>>>>> Subject: 2.4.17-protocols-http2/ - SNI issue
>>>> []
>>>>>>=20
>>>>>> [ssl:error] [pid 3428:tid 3952] AH02032: Hostname =
http://www.apachelounge.com
>>>>>> provided via SNI and hostname http://www.apachelounge.com =
provided via HTTP
>>>>>> are different
>>>>>=20
>>>>> The above is very weird as both times we see =
http://www.apachelounge.com. Can
>>> you please check the logs with some kind of hex tool if there is =
really no
>>> difference between both strings? The logic to detect a difference in =
the
>>> code is just a usual strcasecmp. So I sense some hidden characters
>>> somewhere, which might give us a hint where things go really wrong.
>>=20
>> Ahh I did miss that he used Stefans branch and not the 2.4.x branch.
>>=20
>>>>=20
>>>> ISTM that the test should be:
>>>>              if (strcasecmp(host, servername)
>>>>                  || (sslconn->server
>>>>                      && !ssl_util_vhost_matches(host, =
sslconn->server)))
>>>>=20
>>>> instead of:
>>>>             if (strcasecmp(host, servername)
>>>>                  || !sslconn->server
>>>>                  || !ssl_util_vhost_matches(host, sslconn->server))
>>>>=20
>>>> Not sure sslconn->server isn't NULL here for the first request.
>>=20
>> I shouldn't be. Maybe setting the loglevel to Debug could help to see =
the other SNI stuff that was going on before and if it correctly =
identified the correct vhost via SNI.
>>=20
>> Regards
>>=20
>> R=C3=BCdiger
>=20
> <serror.log>

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83816-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 18 10:57:07 2015
Return-Path: <dev-return-83816-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3695F17674
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Sep 2015 10:57:07 +0000 (UTC)
Received: (qmail 75084 invoked by uid 500); 18 Sep 2015 10:57:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75016 invoked by uid 500); 18 Sep 2015 10:57:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75006 invoked by uid 99); 18 Sep 2015 10:57:06 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Sep 2015 10:57:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 49126E08C7
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 10:57:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id y5U4_heQvSZS for <dev@httpd.apache.org>;
	Fri, 18 Sep 2015 10:56:56 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id A99AE20510
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 10:56:55 +0000 (UTC)
Received: from [192.168.178.41] (unknown [84.150.92.166])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id B339315A04F4
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 12:56:53 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: 2.4.17-protocols-http2/ - SNI issue
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <AA54FA4B-0FF6-4B86-8262-A5B9B37881D2@greenbytes.de>
Date: Fri, 18 Sep 2015 12:56:52 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <423B86E7-2AB3-4E98-B22A-1F75BCF9F9C6@greenbytes.de>
References: <55fbdaef.1e40.1068.6876@land10.nl> <AA54FA4B-0FF6-4B86-8262-A5B9B37881D2@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

Ok, what is happening for Steffen is not a bug, but a missing feature. =
The question is how we move forward.

The certificate at apachelounge.com has a long list of subjectAltNames, =
probably common for a lot of sites. Chrome opens a connection to =
server1, established h2, keeps it open. You open a tab on server2, =
chrome sees the altName on the server1 cert and *reuses* that connection =
to send the request for server2.

httpd sees that the request is not in the same vhost as the one =
belonging to the SNI server1 and refuses to serve it with a 421. Which =
rfc7540 intended for this, telling the client to use a new connection.

Question to Steffen:
- what error does the chrome user see? Is it interrupting his browsing?

Questions to All:
1. logging an ERROR for this will spam the log more and more in the =
future. We can use a DEBUG level if we are *not* on a 'http/1.1' =
protocol. ERR for 'http/1.1'.
2. We can check if the r->hostname is in the altNames of the server cert =
for the connection. Question is: what to do then? The request processing =
will select the correct vhost based on r->hostname, but any SSL =
parameters will not be triggered probably? Do we want to accept that?
3. We can allow 2 only for non-http/1.1 connection protocols
4. We can allow 2 only for h2 connection protocols
5. We can add a config directive to allow 2 (urgs)

//Stefan

> Am 18.09.2015 um 11:36 schrieb Stefan Eissing =
<stefan.eissing@greenbytes.de>:
>=20
> I think I found it. Just writing a test case to confirm...
>=20
>> Am 18.09.2015 um 11:35 schrieb Steffen <info@apachelounge.com>:
>>=20
>> Debug log attached.
>>=20
>>=20
>>=20
>> On Wednesday 16/09/2015 at 12:06, Pl=C3=BCm wrote:=20
>>>=20
>>>=20
>>>> -----Original Message-----
>>>> From: Stefan Eissing [mailto:stefan.eissing@greenbytes.de]
>>>> Sent: Mittwoch, 16. September 2015 11:38
>>>> To: dev@httpd.apache.org
>>>> Subject: Re: 2.4.17-protocols-http2/ - SNI issue
>>>>=20
>>>> Good point. Limited online today. If someone wants to give this a =
shot,
>>>> please.
>>>>=20
>>>>> Am 16.09.2015 um 11:36 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>>>>=20
>>>>> On Wed, Sep 16, 2015 at 11:24 AM, Pl=C3=BCm, R=C3=BCdiger, =
Vodafone Group
>>>>> <ruediger.pluem@vodafone.com> wrote:
>>>>>>=20
>>>>>>> -----Original Message-----
>>>>>>> From: Steffen
>>>>>>> Sent: Mittwoch, 16. September 2015 11:14
>>>>>>> To: dev@httpd.apache.org
>>>>>>> Subject: 2.4.17-protocols-http2/ - SNI issue
>>>>> []
>>>>>>>=20
>>>>>>> [ssl:error] [pid 3428:tid 3952] AH02032: Hostname =
http://www.apachelounge.com
>>>>>>> provided via SNI and hostname http://www.apachelounge.com =
provided via HTTP
>>>>>>> are different
>>>>>>=20
>>>>>> The above is very weird as both times we see =
http://www.apachelounge.com. Can
>>>> you please check the logs with some kind of hex tool if there is =
really no
>>>> difference between both strings? The logic to detect a difference =
in the
>>>> code is just a usual strcasecmp. So I sense some hidden characters
>>>> somewhere, which might give us a hint where things go really wrong.
>>>=20
>>> Ahh I did miss that he used Stefans branch and not the 2.4.x branch.
>>>=20
>>>>>=20
>>>>> ISTM that the test should be:
>>>>>             if (strcasecmp(host, servername)
>>>>>                 || (sslconn->server
>>>>>                     && !ssl_util_vhost_matches(host, =
sslconn->server)))
>>>>>=20
>>>>> instead of:
>>>>>            if (strcasecmp(host, servername)
>>>>>                 || !sslconn->server
>>>>>                 || !ssl_util_vhost_matches(host, sslconn->server))
>>>>>=20
>>>>> Not sure sslconn->server isn't NULL here for the first request.
>>>=20
>>> I shouldn't be. Maybe setting the loglevel to Debug could help to =
see the other SNI stuff that was going on before and if it correctly =
identified the correct vhost via SNI.
>>>=20
>>> Regards
>>>=20
>>> R=C3=BCdiger
>>=20
>> <serror.log>
>=20
> <green/>bytes GmbH
> Hafenweg 16, 48155 M=C3=BCnster, Germany
> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>=20
>=20
>=20

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83817-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 18 11:19:40 2015
Return-Path: <dev-return-83817-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E67031777C
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Sep 2015 11:19:40 +0000 (UTC)
Received: (qmail 15749 invoked by uid 500); 18 Sep 2015 11:19:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15677 invoked by uid 500); 18 Sep 2015 11:19:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15667 invoked by uid 99); 18 Sep 2015 11:19:40 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Sep 2015 11:19:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id ED21CC0C0C
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 11:19:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, MIME_QP_LONG_LINE=0.001, SPF_HELO_PASS=-0.001,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id wft3pMgX_i1U for <dev@httpd.apache.org>;
	Fri, 18 Sep 2015 11:19:29 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 0F29742B36
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 11:19:28 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1442575221;
	bh=hKF2j2fVfGHMUhOoM7jTD5YOPe4BQxulhDIdOgW5vUk=;
	h=From:To:Subject:Date;
	b=S5lDtIuUbTxDExxqZqNn7q5+qKEX8BCWVc+D22AHARJdL9H0BT8YG5BLMZtprF/k1
	 UKYMgSngrgJxlCY6iOuqkyT2eOLS7RRzvi3mtJRdZu61+n5m62yldWVMlt4Ms7QF6N
	 LMjxNZ8zGuhWHGSQD/+eEOkUZc1qtCss1oVuFb+A=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=127.0.0.1;
From: Steffen <info@apachelounge.com>
To:  <dev@httpd.apache.org>
Subject: Re: 2.4.17-protocols-http2/ - SNI issue
Date: Fri, 18 Sep 2015 13:20:13 +0200
Message-ID: <55fbf36d.b94.1c54.5936@land10.nl>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="----=_SW_10107_1442575213_mpa="
X-Originating-IP: 127.0.0.1
X-Mailer: SurgeWeb - Ajax Webmail Client

This is a multi-part message in MIME format.

------=_SW_10107_1442575213_mpa=
Content-Type: text/plain; charset=utf-8; format=flowed


Indeed subjectAltnames are very common in use.

Windows 10 IE(Edge) browser same issue.

User sees in Chrome:
Misdirected Request. The client needs a new connection for this 
request as the requested host name does not match the Server Name 
Indication (SNI) in use for this connection.

And then times out.

Btw.
The config has no vhost (SSL only), what works fine http/1.1 with 
2.4.16-
..
..
...
DocumentRoot ....
ServerName ....
Listen 443
SSLStrictSNIVHostCheck off
SSLEngine on
SSLHonorCipherOrder On
SSLUseStapling on
SSLCipherSuite .......

SSLCompression off

SSLCertificateFile ......
SSLCertificateKeyFile ......
...
...
....


Steffen


On Friday 18/09/2015 at 12:58, Stefan Eissing  wrote:
> Ok, what is happening for Steffen is not a bug, but a missing feature. 
> The question is how we move forward.
>
> The certificate at apachelounge.com has a long list of 
> subjectAltNames, probably common for a lot of sites. Chrome opens a 
> connection to server1, established h2, keeps it open. You open a tab 
> on server2, chrome sees the altName on the server1 cert and *reuses* 
> that connection to send the request for server2.
>
> httpd sees that the request is not in the same vhost as the one 
> belonging to the SNI server1 and refuses to serve it with a 421. Which 
> rfc7540 intended for this, telling the client to use a new connection.
>
> Question to Steffen:
> - what error does the chrome user see? Is it interrupting his 
> browsing?
>
> Questions to All:
> 1. logging an ERROR for this will spam the log more and more in the 
> future. We can use a DEBUG level if we are *not* on a 'http/1.1' 
> protocol. ERR for 'http/1.1'.
> 2. We can check if the r->hostname is in the altNames of the server 
> cert for the connection. Question is: what to do then? The request 
> processing will select the correct vhost based on r->hostname, but any 
> SSL parameters will not be triggered probably? Do we want to accept 
> that?
> 3. We can allow 2 only for non-http/1.1 connection protocols
> 4. We can allow 2 only for h2 connection protocols
> 5. We can add a config directive to allow 2 (urgs)
>
> //Stefan
>
>>
>> Am 18.09.2015 um 11:36 schrieb Stefan Eissing 
>> <stefan.eissing@greenbytes.de>:
>>
>> I think I found it. Just writing a test case to confirm...
>>
>>>
>>> Am 18.09.2015 um 11:35 schrieb Steffen <info@apachelounge.com>:
>>>
>>> Debug log attached.
>>>
>>>
>>>
>>> On Wednesday 16/09/2015 at 12:06, Plüm wrote:
>>>>
>>>>
>>>>
>>>>>
>>>>> -----Original Message-----
>>>>> From: Stefan Eissing [mailto:stefan.eissing@greenbytes.de]
>>>>> Sent: Mittwoch, 16. September 2015 11:38
>>>>> To: dev@httpd.apache.org
>>>>> Subject: Re: 2.4.17-protocols-http2/ - SNI issue
>>>>>
>>>>> Good point. Limited online today. If someone wants to give this a 
>>>>> shot,
>>>>> please.
>>>>>
>>>>>>
>>>>>> Am 16.09.2015 um 11:36 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>>>>>
>>>>>> On Wed, Sep 16, 2015 at 11:24 AM, Plüm, Rüdiger, Vodafone Group
>>>>>> <ruediger.pluem@vodafone.com> wrote:
>>>>>>>
>>>>>>>
>>>>>>>>
>>>>>>>> -----Original Message-----
>>>>>>>> From: Steffen
>>>>>>>> Sent: Mittwoch, 16. September 2015 11:14
>>>>>>>> To: dev@httpd.apache.org
>>>>>>>> Subject: 2.4.17-protocols-http2/ - SNI issue
>>>>>> []
>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> [ssl:error] [pid 3428:tid 3952] AH02032: Hostname 
>>>>>>>> http://www.apachelounge.com
>>>>>>>> provided via SNI and hostname http://www.apachelounge.com provided via 
>>>>>>>> HTTP
>>>>>>>> are different
>>>>>>>
>>>>>>> The above is very weird as both times we see 
>>>>>>> http://www.apachelounge.com. Can
>>>>> you please check the logs with some kind of hex tool if there is 
>>>>> really no
>>>>> difference between both strings? The logic to detect a difference in 
>>>>> the
>>>>> code is just a usual strcasecmp. So I sense some hidden characters
>>>>> somewhere, which might give us a hint where things go really wrong.
>>>>
>>>> Ahh I did miss that he used Stefans branch and not the 2.4.x branch.
>>>>
>>>>>
>>>>>>
>>>>>>
>>>>>> ISTM that the test should be:
>>>>>>                          if (strcasecmp(host, servername)
>>>>>>                                  || (sslconn->server
>>>>>>                                          && 
>>>>>> !ssl_util_vhost_matches(host, sslconn->server)))
>>>>>>
>>>>>> instead of:
>>>>>>                        if (strcasecmp(host, servername)
>>>>>>                                  || !sslconn->server
>>>>>>                                  || !ssl_util_vhost_matches(host, 
>>>>>> sslconn->server))
>>>>>>
>>>>>> Not sure sslconn->server isn't NULL here for the first request.
>>>>
>>>> I shouldn't be. Maybe setting the loglevel to Debug could help to see 
>>>> the other SNI stuff that was going on before and if it correctly 
>>>> identified the correct vhost via SNI.
>>>>
>>>> Regards
>>>>
>>>> Rüdiger
>>>
>>> <serror.log>
>>
>> <green/>bytes GmbH
>> Hafenweg 16, 48155 Münster, Germany
>> Phone: +49 251 2807760. Amtsgericht Münster: HRB5782
>>
>>
>>
>
> <green/>bytes GmbH
> Hafenweg 16, 48155 Münster, Germany
> Phone: +49 251 2807760. Amtsgericht Münster: HRB5782
>
>
>


------=_SW_10107_1442575213_mpa=
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html>
<head>
<style>
 .sw_message P{margin:0px;padding:0px;}
 .sw_message {FONT-SIZE: 12pt;FONT-FAMILY:Tahoma,Arial,Helvetica,sans-serif;background:white;}
 .sw_message blockquote{margin-left:5px;padding-left:5px;border-left:2px solid #144fae;color: #144fae;}
 .sw_message blockquote blockquote{border-left:2px solid #006312;color: #006312;}
 .sw_message blockquote blockquote blockquote{border-left:2px solid #8e5656;color: #8e5656;}
 .sw_message blockquote blockquote blockquote blockquote{border-left:2px solid #888;color: #888;}
</style>
</head>
<body class=3d"sw_message">
<div>Indeed subjectAltnames are very common in use.</div><div><br></div><div=
>Windows 10 IE(Edge) browser same issue.</div><div><br></div><div>User sees =
in Chrome:</div><div>Misdirected Request. The client needs a new connection =
for this request as the requested host name does not match the Server Name I=
ndication (SNI) in use for this connection.</div><div><br></div><div>And the=
n times out.</div><div><br></div><div>Btw.</div><div>The config has no vhost=
 (SSL only), what works fine&nbsp;<span style=3d"font-size: 12pt;">http/1.1 =
with 2.4.16-</span></div><div>..</div><div>..</div><div>...</div><div>Docume=
ntRoot ....</div><div>ServerName ....</div><div>Listen 443</div><div>SSLStri=
ctSNIVHostCheck off</div><div>SSLEngine on&nbsp;</div><div>SSLHonorCipherOrd=
er On</div><div>SSLUseStapling on</div><div>SSLCipherSuite .......</div><div=
><div><span style=3d"font-size: 12pt;">SSLCompression off</span></div></div>=
<div><div>SSLCertificateFile ......</div><div>SSLCertificateKeyFile ......</=
div></div><div><span style=3d"font-size: 12pt;">...</span></div><div><span s=
tyle=3d"font-size: 12pt;">...</span></div><div><span style=3d"font-size: 12p=
t;">....</span></div><div><span style=3d"font-size: 12pt;"><br></span></div>=
<div>Steffen</div><div>&nbsp;</div><div id=3d"editor_signature"></div><div>O=
n Friday 18/09/2015 at 12:58, Stefan Eissing  wrote: </div><blockquote type=
=3d"cite">Ok, what is happening for Steffen is not a bug, but a missing feat=
ure. The question is how we move forward.<br><br>The certificate at apachelo=
unge.com has a long list of subjectAltNames, probably common for a lot of si=
tes. Chrome opens a connection to server1, established h2, keeps it open. Yo=
u open a tab on server2, chrome sees the altName on the server1 cert and *re=
uses* that connection to send the request for server2.<br><br>httpd sees tha=
t the request is not in the same vhost as the one belonging to the SNI serve=
r1 and refuses to serve it with a 421. Which rfc7540 intended for this, tell=
ing the client to use a new connection.<br><br>Question to Steffen:<br>- wha=
t error does the chrome user see? Is it interrupting his browsing?<br><br>Qu=
estions to All:<br>1. logging an ERROR for this will spam the log more and m=
ore in the future. We can use a DEBUG level if we are *not* on a 'http/1.1' =
protocol. ERR for 'http/1.1'.<br>2. We can check if the r-&gt;hostname is in=
 the altNames of the server cert for the connection. Question is: what to do=
 then? The request processing will select the correct vhost based on r-&gt;h=
ostname, but any SSL parameters will not be triggered probably? Do we want t=
o accept that?<br>3. We can allow 2 only for non-http/1.1 connection protoco=
ls<br>4. We can allow 2 only for h2 connection protocols<br>5. We can add a =
config directive to allow 2 (urgs)<br><br>//Stefan<br><br><blockquote type=
=3d"cite"> Am 18.09.2015 um 11:36 schrieb Stefan Eissing &lt;stefan.eissing@=
greenbytes.de&gt;:<br> <br> I think I found it. Just writing a test case to =
confirm...<br> <br><blockquote type=3d"cite"> Am 18.09.2015 um 11:35 schrieb=
 Steffen &lt;info@apachelounge.com&gt;:<br> <br> Debug log attached.<br> <br=
> <br> <br> On Wednesday 16/09/2015 at 12:06, Pl=c3=bcm wrote: <br><blockquo=
te type=3d"cite"> <br> <br><blockquote type=3d"cite"> -----Original Message-=
----<br> From: Stefan Eissing [mailto:stefan.eissing@greenbytes.de]<br> Sent=
: Mittwoch, 16. September 2015 11:38<br> To: dev@httpd.apache.org<br> Subjec=
t: Re: 2.4.17-protocols-http2/ - SNI issue<br> <br> Good point. Limited onli=
ne today. If someone wants to give this a shot,<br> please.<br> <br><blockqu=
ote type=3d"cite"> Am 16.09.2015 um 11:36 schrieb Yann Ylavic &lt;ylavic.dev=
@gmail.com&gt;:<br> <br> On Wed, Sep 16, 2015 at 11:24 AM, Pl=c3=bcm, R=c3=
=bcdiger, Vodafone Group<br> &lt;ruediger.pluem@vodafone.com&gt; wrote:<br><=
blockquote type=3d"cite"> <br><blockquote type=3d"cite"> -----Original Messa=
ge-----<br> From: Steffen<br> Sent: Mittwoch, 16. September 2015 11:14<br> T=
o: dev@httpd.apache.org<br> Subject: 2.4.17-protocols-http2/ - SNI issue<br>=
</blockquote></blockquote> []<br><blockquote type=3d"cite"><blockquote type=
=3d"cite"> <br> [ssl:error] [pid 3428:tid 3952] AH02032: Hostname <a target=
=3d"_blank" href=3d"http://www.apachelounge.com">http://www.apachelounge.com=
</a><br> provided via SNI and hostname <a target=3d"_blank" href=3d"http://w=
ww.apachelounge.com">http://www.apachelounge.com</a> provided via HTTP<br> a=
re different<br></blockquote> <br> The above is very weird as both times we =
see <a target=3d"_blank" href=3d"http://www.apachelounge.com">http://www.apa=
chelounge.com</a>. Can<br></blockquote></blockquote> you please check the lo=
gs with some kind of hex tool if there is really no<br> difference between b=
oth strings? The logic to detect a difference in the<br> code is just a usua=
l strcasecmp. So I sense some hidden characters<br> somewhere, which might g=
ive us a hint where things go really wrong.<br></blockquote> <br> Ahh I did =
miss that he used Stefans branch and not the 2.4.x branch.<br> <br><blockquo=
te type=3d"cite"><blockquote type=3d"cite"> <br> ISTM that the test should b=
e:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;             if (strcasecmp(host, servername)<br>&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;                 || (sslconn-&gt;server<br>&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;                     &amp;&amp; !ssl_util_vhost_matc=
hes(host, sslconn-&gt;server)))<br> <br> instead of:<br>&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            if (strcasec=
mp(host, servername)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                 || !sslco=
nn-&gt;server<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                 || !ssl_util_vho=
st_matches(host, sslconn-&gt;server))<br> <br> Not sure sslconn-&gt;server i=
sn't NULL here for the first request.<br></blockquote></blockquote> <br> I s=
houldn't be. Maybe setting the loglevel to Debug could help to see the other=
 SNI stuff that was going on before and if it correctly identified the corre=
ct vhost via SNI.<br> <br> Regards<br> <br> R=c3=bcdiger<br></blockquote> <b=
r> &lt;serror.log&gt;<br></blockquote> <br> &lt;green/&gt;bytes GmbH<br> Haf=
enweg 16, 48155 M=c3=bcnster, Germany<br> Phone: +49 251 2807760. Amtsgerich=
t M=c3=bcnster: HRB5782<br> <br> <br> <br></blockquote><br>&lt;green/&gt;byt=
es GmbH<br>Hafenweg 16, 48155 M=c3=bcnster, Germany<br>Phone: +49 251 280776=
0. Amtsgericht M=c3=bcnster: HRB5782<br><br><br><br></blockquote><br> 
</body></html>

------=_SW_10107_1442575213_mpa=--


From dev-return-83818-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 18 11:23:53 2015
Return-Path: <dev-return-83818-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DBC3A1779B
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Sep 2015 11:23:53 +0000 (UTC)
Received: (qmail 22559 invoked by uid 500); 18 Sep 2015 11:23:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 22473 invoked by uid 500); 18 Sep 2015 11:23:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 22463 invoked by uid 99); 18 Sep 2015 11:23:53 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Sep 2015 11:23:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D1752180976
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 11:23:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id aLNcH4ae9Out for <dev@httpd.apache.org>;
	Fri, 18 Sep 2015 11:23:42 +0000 (UTC)
Received: from mail-ig0-f176.google.com (mail-ig0-f176.google.com [209.85.213.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id DD859206E8
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 11:23:41 +0000 (UTC)
Received: by igcpb10 with SMTP id pb10so33330863igc.1
        for <dev@httpd.apache.org>; Fri, 18 Sep 2015 04:23:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=zE2juiIb/NF6OJi2VFbKXlXdyhF01Z4BfGlRStpiu2w=;
        b=c0VVBy4nKvppvixR9J7XYsf7pApCwchmTMrU4wxmpseRlV8GLX1P9aN/WeXlQmTwLN
         jnsdXa9WMO4Xs9OVClxzT7TF0nB7QGwEoqzfRFj2ygByd1PGu7A6gMxaGQI78qWvLUz7
         +ubIuNPw910hsfi+qA6+yEzv8YQM9Z9kxVqlmnE+ytlGZbL+siP3gy+Lf3NPbjjHOLTh
         WwqOBEXqf7i+RNeeWC22vhRml5iKfnF5Rn3/G+KoSJDVVxs5jH9Mb1svUEXhRwFchY57
         15t7vvURUU30IYLCIQXHrszsTv0bxhtbH+tahCfauGwTzwrBwDDhE3k0+1EIiiGsJZMR
         SOAA==
MIME-Version: 1.0
X-Received: by 10.50.78.98 with SMTP id a2mr33105047igx.87.1442575420949; Fri,
 18 Sep 2015 04:23:40 -0700 (PDT)
Received: by 10.64.129.226 with HTTP; Fri, 18 Sep 2015 04:23:40 -0700 (PDT)
In-Reply-To: <423B86E7-2AB3-4E98-B22A-1F75BCF9F9C6@greenbytes.de>
References: <55fbdaef.1e40.1068.6876@land10.nl>
	<AA54FA4B-0FF6-4B86-8262-A5B9B37881D2@greenbytes.de>
	<423B86E7-2AB3-4E98-B22A-1F75BCF9F9C6@greenbytes.de>
Date: Fri, 18 Sep 2015 13:23:40 +0200
Message-ID: <CAKQ1sVPO-7OWiLaEzwe4XzjXCMOGAjuM_ANJ2zedeyo6b_S1fQ@mail.gmail.com>
Subject: Re: 2.4.17-protocols-http2/ - SNI issue
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/mixed; boundary=089e0122edba8730d0052003c3e7

--089e0122edba8730d0052003c3e7
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Fri, Sep 18, 2015 at 12:56 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> Ok, what is happening for Steffen is not a bug, but a missing feature. Th=
e question is how we move forward.
>
> The certificate at apachelounge.com has a long list of subjectAltNames, p=
robably common for a lot of sites. Chrome opens a connection to server1, es=
tablished h2, keeps it open. You open a tab on server2, chrome sees the alt=
Name on the server1 cert and *reuses* that connection to send the request f=
or server2.
>
> httpd sees that the request is not in the same vhost as the one belonging=
 to the SNI server1 and refuses to serve it with a 421. Which rfc7540 inten=
ded for this, telling the client to use a new connection.

IMHO we should not base our check on SNI vs hostname (header Host) but
rather r->server vs sslconn->server (ie. handshakeserver), patch
attached.

What really matters is that the initial handshake was made with the
same SSL parameters.

Regards,
Yann.

--089e0122edba8730d0052003c3e7
Content-Type: text/x-diff; charset=US-ASCII; name="sni_check.patch"
Content-Disposition: attachment; filename="sni_check.patch"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_iepk53ap0

SW5kZXg6IG1vZHVsZXMvc3NsL3NzbF9lbmdpbmVfa2VybmVsLmMKPT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLS0gbW9k
dWxlcy9zc2wvc3NsX2VuZ2luZV9rZXJuZWwuYwkocmV2aXNpb24gMTcwMzY0OCkKKysrIG1vZHVs
ZXMvc3NsL3NzbF9lbmdpbmVfa2VybmVsLmMJKHdvcmtpbmcgY29weSkKQEAgLTE3MiwxOSArMTcy
LDE4IEBAIGludCBzc2xfaG9va19SZWFkUmVxKHJlcXVlc3RfcmVjICpyKQogICAgICAqIG9yaWdp
bmFsIHByb2JsZW0uCiAgICAgICovCiAgICAgaWYgKHItPnByb3h5cmVxICE9IFBST1hZUkVRX1BS
T1hZICYmIGFwX2lzX2luaXRpYWxfcmVxKHIpKSB7CisgICAgICAgIHNlcnZlcl9yZWMgKmhhbmRz
aGFrZXNlcnZlciA9IHNzbGNvbm4tPnNlcnZlcjsKKyAgICAgICAgU1NMU3J2Q29uZmlnUmVjICpo
c3NjID0gbXlTcnZDb25maWcoaGFuZHNoYWtlc2VydmVyKTsKKwogICAgICAgICBpZiAoKHNlcnZl
cm5hbWUgPSBTU0xfZ2V0X3NlcnZlcm5hbWUoc3NsLCBUTFNFWFRfTkFNRVRZUEVfaG9zdF9uYW1l
KSkpIHsKLSAgICAgICAgICAgIGNoYXIgKmhvc3QsICpzY29wZV9pZDsKLSAgICAgICAgICAgIGFw
cl9wb3J0X3QgcG9ydDsKLSAgICAgICAgICAgIGFwcl9zdGF0dXNfdCBydjsKLQogICAgICAgICAg
ICAgLyoKICAgICAgICAgICAgICAqIFRoZSBTTkkgZXh0ZW5zaW9uIHN1cHBsaWVkIGEgaG9zdG5h
bWUuIFNvIGRvbid0IGFjY2VwdCByZXF1ZXN0cwotICAgICAgICAgICAgICogd2l0aCBlaXRoZXIg
bm8gaG9zdG5hbWUgb3IgYSBkaWZmZXJlbnQgaG9zdG5hbWUgYXMgdGhpcyBjb3VsZAotICAgICAg
ICAgICAgICogY2F1c2UgdXMgdG8gZW5kIHVwIGluIGEgZGlmZmVyZW50IHZpcnR1YWwgaG9zdCBh
cyB0aGUgb25lIHRoYXQKLSAgICAgICAgICAgICAqIHdhcyB1c2VkIGZvciB0aGUgaGFuZHNoYWtl
IGNhdXNpbmcgZGlmZmVyZW50IFNTTCBwYXJhbWV0ZXJzIHRvCi0gICAgICAgICAgICAgKiBiZSBh
cHBsaWVkIGFzIFNTTFByb3RvY29sLCBTU0xDQUNlcnRpZmljYXRlRmlsZS9QYXRoIGFuZAotICAg
ICAgICAgICAgICogU1NMQ0FETlJlcXVlc3RGaWxlL1BhdGggY2Fubm90IGJlIHJlbmVnb3RpYXRl
ZCAoU1NMQ0EqIGR1ZQotICAgICAgICAgICAgICogdG8gY3VycmVudCBsaW1pdGF0aW9ucyBpbiBP
cGVuU1NMLCBzZWUKKyAgICAgICAgICAgICAqIHdpdGggZWl0aGVyIG5vIGhvc3RuYW1lIG9yIGEg
aG9zdG5hbWUgdGhhdCBzZWxlY3RlZCBhIGRpZmZlcmVudAorICAgICAgICAgICAgICogdmlydHVh
bCBob3N0IHRoYW4gdGhlIG9uZSB1c2VkIGZvciB0aGUgaGFuZHNoYWtlLCBjYXVzaW5nCisgICAg
ICAgICAgICAgKiBkaWZmZXJlbnQgU1NMIHBhcmFtZXRlcnMgdG8gYmUgYXBwbGllZCwgc3VjaCBh
cyBTU0xQcm90b2NvbCwKKyAgICAgICAgICAgICAqIFNTTENBQ2VydGlmaWNhdGVGaWxlL1BhdGgg
YW5kIFNTTENBRE5SZXF1ZXN0RmlsZS9QYXRoIHdoaWNoCisgICAgICAgICAgICAgKiBjYW5ub3Qg
YmUgcmVuZWdvdGlhdGVkIChTU0xDQSogZHVlIHRvIGN1cnJlbnQgbGltaXRhdGlvbnMgaW4KKyAg
ICAgICAgICAgICAqIE9wZW5TU0wsIHNlZToKICAgICAgICAgICAgICAqIGh0dHA6Ly9tYWlsLWFy
Y2hpdmVzLmFwYWNoZS5vcmcvbW9kX21ib3gvaHR0cGQtZGV2LzIwMDgwNi5tYm94LyUzQzQ4NTky
OTU1LjIwOTAzMDNAdmVsb3guY2glM0UKICAgICAgICAgICAgICAqIGFuZAogICAgICAgICAgICAg
ICogaHR0cDovL21haWwtYXJjaGl2ZXMuYXBhY2hlLm9yZy9tb2RfbWJveC9odHRwZC1kZXYvMjAx
MzEyLm1ib3gvJTNDQ0FLUTFzVk5wT3JkaUJtLVVQdzFoRWRTTjdZUVhSUmplYVQtTUNXYldfN21O
JTNEdUZpT3clNDBtYWlsLmdtYWlsLmNvbSUzRQpAQCAtMTk2LDI3ICsxOTUsMjEgQEAgaW50IHNz
bF9ob29rX1JlYWRSZXEocmVxdWVzdF9yZWMgKnIpCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIiBwcm92aWRlZCBpbiBIVFRQIHJlcXVlc3QiLCBzZXJ2ZXJuYW1lKTsKICAgICAgICAgICAg
ICAgICByZXR1cm4gSFRUUF9CQURfUkVRVUVTVDsKICAgICAgICAgICAgIH0KLSAgICAgICAgICAg
IHJ2ID0gYXByX3BhcnNlX2FkZHJfcG9ydCgmaG9zdCwgJnNjb3BlX2lkLCAmcG9ydCwgci0+aG9z
dG5hbWUsIHItPnBvb2wpOwotICAgICAgICAgICAgaWYgKHJ2ICE9IEFQUl9TVUNDRVNTIHx8IHNj
b3BlX2lkKSB7Ci0gICAgICAgICAgICAgICAgcmV0dXJuIEhUVFBfQkFEX1JFUVVFU1Q7Ci0gICAg
ICAgICAgICB9Ci0gICAgICAgICAgICBpZiAoc3RyY2FzZWNtcChob3N0LCBzZXJ2ZXJuYW1lKSAK
LSAgICAgICAgICAgICAgICB8fCAhc3NsY29ubi0+c2VydmVyIAotICAgICAgICAgICAgICAgIHx8
ICFzc2xfdXRpbF92aG9zdF9tYXRjaGVzKGhvc3QsIHNzbGNvbm4tPnNlcnZlcikpIHsKKyAgICAg
ICAgICAgIGlmIChyLT5zZXJ2ZXIgIT0gaGFuZHNoYWtlc2VydmVyKSB7CiAgICAgICAgICAgICAg
ICAgLyogCiAgICAgICAgICAgICAgICAgICogV2UgYXJlIHJlYWxseSBub3QgaW4gS2Fuc2FzIGFu
eW1vcmUuLi4KLSAgICAgICAgICAgICAgICAgKiBUaGUgcmVxdWVzdCBob3N0bmFtZSBkb2VzIG5v
dCBtYXRjaCB0aGUgU05JIGFuZCBkb2VzIG5vdAotICAgICAgICAgICAgICAgICAqIHNlbGVjdCB0
aGUgdmlydHVhbCBob3N0IHRoYXQgd2FzIHNlbGVjdGVkIGJ5IHRoZSBTTkkuCisgICAgICAgICAg
ICAgICAgICogVGhlIHJlcXVlc3QgZG9lcyBub3Qgc2VsZWN0IHRoZSB2aXJ0dWFsIGhvc3QgdGhh
dCB3YXMKKyAgICAgICAgICAgICAgICAgKiBzZWxlY3RlZCBieSB0aGUgU05JLgogICAgICAgICAg
ICAgICAgICAqLwogICAgICAgICAgICAgICAgIGFwX2xvZ19lcnJvcihBUExPR19NQVJLLCBBUExP
R19FUlIsIDAsIHItPnNlcnZlciwgQVBMT0dOTygwMjAzMikKICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIkhvc3RuYW1lICVzIHByb3ZpZGVkIHZpYSBTTkkgYW5kIGhvc3RuYW1lICVzIHBy
b3ZpZGVkIgotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiIHZpYSBIVFRQIGFyZSBkaWZm
ZXJlbnQiLCBzZXJ2ZXJuYW1lLCBob3N0KTsKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IiB2aWEgSFRUUCBzZWxlY3QgYSBkaWZmZXJlbnQgc2VydmVyIiwKKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgc2VydmVybmFtZSwgci0+aG9zdG5hbWUpOwogICAgICAgICAgICAgICAgIHJl
dHVybiBIVFRQX01JU0RJUkVDVEVEX1JFUVVFU1Q7CiAgICAgICAgICAgICB9CiAgICAgICAgIH0K
ICAgICAgICAgZWxzZSBpZiAoKChzYy0+c3RyaWN0X3NuaV92aG9zdF9jaGVjayA9PSBTU0xfRU5B
QkxFRF9UUlVFKQotICAgICAgICAgICAgICAgICB8fCAobXlTcnZDb25maWcoc3NsY29ubi0+c2Vy
dmVyKSktPnN0cmljdF9zbmlfdmhvc3RfY2hlY2sKLSAgICAgICAgICAgICAgICAgICAgPT0gU1NM
X0VOQUJMRURfVFJVRSkKKyAgICAgICAgICAgICAgICAgIHx8IGhzc2MtPnN0cmljdF9zbmlfdmhv
c3RfY2hlY2sgPT0gU1NMX0VOQUJMRURfVFJVRSkKICAgICAgICAgICAgICAgICAgJiYgci0+Y29u
bmVjdGlvbi0+dmhvc3RfbG9va3VwX2RhdGEpIHsKICAgICAgICAgICAgIC8qCiAgICAgICAgICAg
ICAgKiBXZSBhcmUgdXNpbmcgYSBuYW1lIGJhc2VkIGNvbmZpZ3VyYXRpb24gaGVyZSwgYnV0IG5v
IGhvc3RuYW1lIHdhcwo=
--089e0122edba8730d0052003c3e7--

From dev-return-83819-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 18 11:55:48 2015
Return-Path: <dev-return-83819-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9D891178B8
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Sep 2015 11:55:48 +0000 (UTC)
Received: (qmail 84830 invoked by uid 500); 18 Sep 2015 11:55:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84762 invoked by uid 500); 18 Sep 2015 11:55:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84752 invoked by uid 99); 18 Sep 2015 11:55:41 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Sep 2015 11:55:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 7AAE71A2413
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 11:55:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 4
X-Spam-Level: ****
X-Spam-Status: No, score=4 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, KAM_LAZY_DOMAIN_SECURITY=1,
	RCVD_IN_MSPIKE_H2=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id I180DlN-hezh for <dev@httpd.apache.org>;
	Fri, 18 Sep 2015 11:55:28 +0000 (UTC)
Received: from mail1.bemta14.messagelabs.com (mail1.bemta14.messagelabs.com [193.109.254.113])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id AE31820E34
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 11:55:27 +0000 (UTC)
Received: from [193.109.255.99] by server-9.bemta-14.messagelabs.com id 0A/C4-26043-9ABFBF55; Fri, 18 Sep 2015 11:55:21 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-14.tower-48.messagelabs.com!1442577320!31955127!1
X-Originating-IP: [195.232.244.134]
X-StarScan-Received:
X-StarScan-Version: 6.13.16; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 17683 invoked from network); 18 Sep 2015 11:55:20 -0000
Received: from mailout02.vodafone.com (HELO mailout02.vodafone.com) (195.232.244.134)
  by server-14.tower-48.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 18 Sep 2015 11:55:20 -0000
Received: from mailint01.vodafone.com (mailint01.vodafone.com [195.232.244.198])
	by mailout02.vodafone.com (Postfix) with ESMTP id 3nHYWW6xZdzbdMf
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 13:55:19 +0200 (CEST)
Received: from mailint01.vodafone.com (localhost [127.0.0.1])
	by mailint01.vodafone.com (Postfix) with ESMTP id 3nHYWW5m0WzxPwF
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 13:55:19 +0200 (CEST)
Received: from VOEXC03W.internal.vodafone.com (voexc03w.dc-ratingen.de [145.230.101.23])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint01.vodafone.com (Postfix) with ESMTPS id 3nHYWW5Q4lzxPst
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 13:55:19 +0200 (CEST)
Received: from VOEXC16W.internal.vodafone.com (145.230.101.18) by
 VOEXC03W.internal.vodafone.com (145.230.101.23) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Fri, 18 Sep 2015 13:55:18 +0200
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.132]) by
 voexc16w.internal.vodafone.com ([145.230.101.18]) with mapi id
 14.03.0224.002; Fri, 18 Sep 2015 13:54:23 +0200
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: AW: 2.4.17-protocols-http2/ - SNI issue
Thread-Topic: 2.4.17-protocols-http2/ - SNI issue
Thread-Index: AQHQ8gP8qGquSNDxHkCy76Joh8rFT55CLKhg
Date: Fri, 18 Sep 2015 11:54:22 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC6319CFB@VOEXM10W.internal.vodafone.com>
References: <55fbf36d.b94.1c54.5936@land10.nl>
In-Reply-To: <55fbf36d.b94.1c54.5936@land10.nl>
Accept-Language: en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: multipart/alternative;
	boundary="_000_AB1691BE05AE7F4992697F2A0835627AC6319CFBVOEXM10Winterna_"
MIME-Version: 1.0

--_000_AB1691BE05AE7F4992697F2A0835627AC6319CFBVOEXM10Winterna_
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

V2hhdCBhcmUgeW91ciBzZXR0aW5ncyBmb3INCg0KU2VydmVybmFtZQ0KDQpBbmQNCg0KU2VydmVy
QWxpYXMNCg0KPyBEbyB0aGV5IGhhdmUgYWxsIHRoZSBzdHVmZiB0aGF0IGlzIGluIHRoZSBTQU4/
DQoNClJlZ2FyZHMNCg0KUsO8ZGlnZXINCg0KVm9uOiBTdGVmZmVuIFttYWlsdG86aW5mb0BhcGFj
aGVsb3VuZ2UuY29tXQ0KR2VzZW5kZXQ6IEZyZWl0YWcsIDE4LiBTZXB0ZW1iZXIgMjAxNSAxMzoy
MA0KQW46IGRldkBodHRwZC5hcGFjaGUub3JnDQpCZXRyZWZmOiBSZTogMi40LjE3LXByb3RvY29s
cy1odHRwMi8gLSBTTkkgaXNzdWUNCg0KSW5kZWVkIHN1YmplY3RBbHRuYW1lcyBhcmUgdmVyeSBj
b21tb24gaW4gdXNlLg0KDQpXaW5kb3dzIDEwIElFKEVkZ2UpIGJyb3dzZXIgc2FtZSBpc3N1ZS4N
Cg0KVXNlciBzZWVzIGluIENocm9tZToNCk1pc2RpcmVjdGVkIFJlcXVlc3QuIFRoZSBjbGllbnQg
bmVlZHMgYSBuZXcgY29ubmVjdGlvbiBmb3IgdGhpcyByZXF1ZXN0IGFzIHRoZSByZXF1ZXN0ZWQg
aG9zdCBuYW1lIGRvZXMgbm90IG1hdGNoIHRoZSBTZXJ2ZXIgTmFtZSBJbmRpY2F0aW9uIChTTkkp
IGluIHVzZSBmb3IgdGhpcyBjb25uZWN0aW9uLg0KDQpBbmQgdGhlbiB0aW1lcyBvdXQuDQoNCkJ0
dy4NClRoZSBjb25maWcgaGFzIG5vIHZob3N0IChTU0wgb25seSksIHdoYXQgd29ya3MgZmluZSBo
dHRwLzEuMSB3aXRoIDIuNC4xNi0NCi4uDQouLg0KLi4uDQpEb2N1bWVudFJvb3QgLi4uLg0KU2Vy
dmVyTmFtZSAuLi4uDQpMaXN0ZW4gNDQzDQpTU0xTdHJpY3RTTklWSG9zdENoZWNrIG9mZg0KU1NM
RW5naW5lIG9uDQpTU0xIb25vckNpcGhlck9yZGVyIE9uDQpTU0xVc2VTdGFwbGluZyBvbg0KU1NM
Q2lwaGVyU3VpdGUgLi4uLi4uLg0KU1NMQ29tcHJlc3Npb24gb2ZmDQpTU0xDZXJ0aWZpY2F0ZUZp
bGUgLi4uLi4uDQpTU0xDZXJ0aWZpY2F0ZUtleUZpbGUgLi4uLi4uDQouLi4NCi4uLg0KLi4uLg0K
DQpTdGVmZmVuDQoNCk9uIEZyaWRheSAxOC8wOS8yMDE1IGF0IDEyOjU4LCBTdGVmYW4gRWlzc2lu
ZyB3cm90ZToNCk9rLCB3aGF0IGlzIGhhcHBlbmluZyBmb3IgU3RlZmZlbiBpcyBub3QgYSBidWcs
IGJ1dCBhIG1pc3NpbmcgZmVhdHVyZS4gVGhlIHF1ZXN0aW9uIGlzIGhvdyB3ZSBtb3ZlIGZvcndh
cmQuDQoNClRoZSBjZXJ0aWZpY2F0ZSBhdCBhcGFjaGVsb3VuZ2UuY29tIGhhcyBhIGxvbmcgbGlz
dCBvZiBzdWJqZWN0QWx0TmFtZXMsIHByb2JhYmx5IGNvbW1vbiBmb3IgYSBsb3Qgb2Ygc2l0ZXMu
IENocm9tZSBvcGVucyBhIGNvbm5lY3Rpb24gdG8gc2VydmVyMSwgZXN0YWJsaXNoZWQgaDIsIGtl
ZXBzIGl0IG9wZW4uIFlvdSBvcGVuIGEgdGFiIG9uIHNlcnZlcjIsIGNocm9tZSBzZWVzIHRoZSBh
bHROYW1lIG9uIHRoZSBzZXJ2ZXIxIGNlcnQgYW5kICpyZXVzZXMqIHRoYXQgY29ubmVjdGlvbiB0
byBzZW5kIHRoZSByZXF1ZXN0IGZvciBzZXJ2ZXIyLg0KDQpodHRwZCBzZWVzIHRoYXQgdGhlIHJl
cXVlc3QgaXMgbm90IGluIHRoZSBzYW1lIHZob3N0IGFzIHRoZSBvbmUgYmVsb25naW5nIHRvIHRo
ZSBTTkkgc2VydmVyMSBhbmQgcmVmdXNlcyB0byBzZXJ2ZSBpdCB3aXRoIGEgNDIxLiBXaGljaCBy
ZmM3NTQwIGludGVuZGVkIGZvciB0aGlzLCB0ZWxsaW5nIHRoZSBjbGllbnQgdG8gdXNlIGEgbmV3
IGNvbm5lY3Rpb24uDQoNClF1ZXN0aW9uIHRvIFN0ZWZmZW46DQotIHdoYXQgZXJyb3IgZG9lcyB0
aGUgY2hyb21lIHVzZXIgc2VlPyBJcyBpdCBpbnRlcnJ1cHRpbmcgaGlzIGJyb3dzaW5nPw0KDQpR
dWVzdGlvbnMgdG8gQWxsOg0KMS4gbG9nZ2luZyBhbiBFUlJPUiBmb3IgdGhpcyB3aWxsIHNwYW0g
dGhlIGxvZyBtb3JlIGFuZCBtb3JlIGluIHRoZSBmdXR1cmUuIFdlIGNhbiB1c2UgYSBERUJVRyBs
ZXZlbCBpZiB3ZSBhcmUgKm5vdCogb24gYSAnaHR0cC8xLjEnIHByb3RvY29sLiBFUlIgZm9yICdo
dHRwLzEuMScuDQoyLiBXZSBjYW4gY2hlY2sgaWYgdGhlIHItPmhvc3RuYW1lIGlzIGluIHRoZSBh
bHROYW1lcyBvZiB0aGUgc2VydmVyIGNlcnQgZm9yIHRoZSBjb25uZWN0aW9uLiBRdWVzdGlvbiBp
czogd2hhdCB0byBkbyB0aGVuPyBUaGUgcmVxdWVzdCBwcm9jZXNzaW5nIHdpbGwgc2VsZWN0IHRo
ZSBjb3JyZWN0IHZob3N0IGJhc2VkIG9uIHItPmhvc3RuYW1lLCBidXQgYW55IFNTTCBwYXJhbWV0
ZXJzIHdpbGwgbm90IGJlIHRyaWdnZXJlZCBwcm9iYWJseT8gRG8gd2Ugd2FudCB0byBhY2NlcHQg
dGhhdD8NCjMuIFdlIGNhbiBhbGxvdyAyIG9ubHkgZm9yIG5vbi1odHRwLzEuMSBjb25uZWN0aW9u
IHByb3RvY29scw0KNC4gV2UgY2FuIGFsbG93IDIgb25seSBmb3IgaDIgY29ubmVjdGlvbiBwcm90
b2NvbHMNCjUuIFdlIGNhbiBhZGQgYSBjb25maWcgZGlyZWN0aXZlIHRvIGFsbG93IDIgKHVyZ3Mp
DQoNCi8vU3RlZmFuDQoNCg0KQW0gMTguMDkuMjAxNSB1bSAxMTozNiBzY2hyaWViIFN0ZWZhbiBF
aXNzaW5nIDxzdGVmYW4uZWlzc2luZ0BncmVlbmJ5dGVzLmRlPG1haWx0bzpzdGVmYW4uZWlzc2lu
Z0BncmVlbmJ5dGVzLmRlPj46DQoNCkkgdGhpbmsgSSBmb3VuZCBpdC4gSnVzdCB3cml0aW5nIGEg
dGVzdCBjYXNlIHRvIGNvbmZpcm0uLi4NCg0KDQpBbSAxOC4wOS4yMDE1IHVtIDExOjM1IHNjaHJp
ZWIgU3RlZmZlbiA8aW5mb0BhcGFjaGVsb3VuZ2UuY29tPG1haWx0bzppbmZvQGFwYWNoZWxvdW5n
ZS5jb20+PjoNCg0KRGVidWcgbG9nIGF0dGFjaGVkLg0KDQoNCg0KT24gV2VkbmVzZGF5IDE2LzA5
LzIwMTUgYXQgMTI6MDYsIFBsw7xtIHdyb3RlOg0KDQoNCg0KDQotLS0tLU9yaWdpbmFsIE1lc3Nh
Z2UtLS0tLQ0KRnJvbTogU3RlZmFuIEVpc3NpbmcgW21haWx0bzpzdGVmYW4uZWlzc2luZ0BncmVl
bmJ5dGVzLmRlXQ0KU2VudDogTWl0dHdvY2gsIDE2LiBTZXB0ZW1iZXIgMjAxNSAxMTozOA0KVG86
IGRldkBodHRwZC5hcGFjaGUub3JnPG1haWx0bzpkZXZAaHR0cGQuYXBhY2hlLm9yZz4NClN1Ympl
Y3Q6IFJlOiAyLjQuMTctcHJvdG9jb2xzLWh0dHAyLyAtIFNOSSBpc3N1ZQ0KDQpHb29kIHBvaW50
LiBMaW1pdGVkIG9ubGluZSB0b2RheS4gSWYgc29tZW9uZSB3YW50cyB0byBnaXZlIHRoaXMgYSBz
aG90LA0KcGxlYXNlLg0KDQoNCkFtIDE2LjA5LjIwMTUgdW0gMTE6MzYgc2NocmllYiBZYW5uIFls
YXZpYyA8eWxhdmljLmRldkBnbWFpbC5jb208bWFpbHRvOnlsYXZpYy5kZXZAZ21haWwuY29tPj46
DQoNCk9uIFdlZCwgU2VwIDE2LCAyMDE1IGF0IDExOjI0IEFNLCBQbMO8bSwgUsO8ZGlnZXIsIFZv
ZGFmb25lIEdyb3VwDQo8cnVlZGlnZXIucGx1ZW1Adm9kYWZvbmUuY29tPG1haWx0bzpydWVkaWdl
ci5wbHVlbUB2b2RhZm9uZS5jb20+PiB3cm90ZToNCg0KDQoNCi0tLS0tT3JpZ2luYWwgTWVzc2Fn
ZS0tLS0tDQpGcm9tOiBTdGVmZmVuDQpTZW50OiBNaXR0d29jaCwgMTYuIFNlcHRlbWJlciAyMDE1
IDExOjE0DQpUbzogZGV2QGh0dHBkLmFwYWNoZS5vcmc8bWFpbHRvOmRldkBodHRwZC5hcGFjaGUu
b3JnPg0KU3ViamVjdDogMi40LjE3LXByb3RvY29scy1odHRwMi8gLSBTTkkgaXNzdWUNCltdDQoN
Cg0KW3NzbDplcnJvcl0gW3BpZCAzNDI4OnRpZCAzOTUyXSBBSDAyMDMyOiBIb3N0bmFtZSBodHRw
Oi8vd3d3LmFwYWNoZWxvdW5nZS5jb20NCnByb3ZpZGVkIHZpYSBTTkkgYW5kIGhvc3RuYW1lIGh0
dHA6Ly93d3cuYXBhY2hlbG91bmdlLmNvbSBwcm92aWRlZCB2aWEgSFRUUA0KYXJlIGRpZmZlcmVu
dA0KDQpUaGUgYWJvdmUgaXMgdmVyeSB3ZWlyZCBhcyBib3RoIHRpbWVzIHdlIHNlZSBodHRwOi8v
d3d3LmFwYWNoZWxvdW5nZS5jb20uIENhbg0KeW91IHBsZWFzZSBjaGVjayB0aGUgbG9ncyB3aXRo
IHNvbWUga2luZCBvZiBoZXggdG9vbCBpZiB0aGVyZSBpcyByZWFsbHkgbm8NCmRpZmZlcmVuY2Ug
YmV0d2VlbiBib3RoIHN0cmluZ3M/IFRoZSBsb2dpYyB0byBkZXRlY3QgYSBkaWZmZXJlbmNlIGlu
IHRoZQ0KY29kZSBpcyBqdXN0IGEgdXN1YWwgc3RyY2FzZWNtcC4gU28gSSBzZW5zZSBzb21lIGhp
ZGRlbiBjaGFyYWN0ZXJzDQpzb21ld2hlcmUsIHdoaWNoIG1pZ2h0IGdpdmUgdXMgYSBoaW50IHdo
ZXJlIHRoaW5ncyBnbyByZWFsbHkgd3JvbmcuDQoNCkFoaCBJIGRpZCBtaXNzIHRoYXQgaGUgdXNl
ZCBTdGVmYW5zIGJyYW5jaCBhbmQgbm90IHRoZSAyLjQueCBicmFuY2guDQoNCg0KDQpJU1RNIHRo
YXQgdGhlIHRlc3Qgc2hvdWxkIGJlOg0KICAgICAgICAgICAgICBpZiAoc3RyY2FzZWNtcChob3N0
LCBzZXJ2ZXJuYW1lKQ0KICAgICAgICAgICAgICAgICAgfHwgKHNzbGNvbm4tPnNlcnZlcg0KICAg
ICAgICAgICAgICAgICAgICAgICYmICFzc2xfdXRpbF92aG9zdF9tYXRjaGVzKGhvc3QsIHNzbGNv
bm4tPnNlcnZlcikpKQ0KDQppbnN0ZWFkIG9mOg0KICAgICAgICAgICAgIGlmIChzdHJjYXNlY21w
KGhvc3QsIHNlcnZlcm5hbWUpDQogICAgICAgICAgICAgICAgICB8fCAhc3NsY29ubi0+c2VydmVy
DQogICAgICAgICAgICAgICAgICB8fCAhc3NsX3V0aWxfdmhvc3RfbWF0Y2hlcyhob3N0LCBzc2xj
b25uLT5zZXJ2ZXIpKQ0KDQpOb3Qgc3VyZSBzc2xjb25uLT5zZXJ2ZXIgaXNuJ3QgTlVMTCBoZXJl
IGZvciB0aGUgZmlyc3QgcmVxdWVzdC4NCg0KSSBzaG91bGRuJ3QgYmUuIE1heWJlIHNldHRpbmcg
dGhlIGxvZ2xldmVsIHRvIERlYnVnIGNvdWxkIGhlbHAgdG8gc2VlIHRoZSBvdGhlciBTTkkgc3R1
ZmYgdGhhdCB3YXMgZ29pbmcgb24gYmVmb3JlIGFuZCBpZiBpdCBjb3JyZWN0bHkgaWRlbnRpZmll
ZCB0aGUgY29ycmVjdCB2aG9zdCB2aWEgU05JLg0KDQpSZWdhcmRzDQoNClLDvGRpZ2VyDQoNCjxz
ZXJyb3IubG9nPg0KDQo8Z3JlZW4vPmJ5dGVzIEdtYkgNCkhhZmVud2VnIDE2LCA0ODE1NSBNw7xu
c3RlciwgR2VybWFueQ0KUGhvbmU6ICs0OSAyNTEgMjgwNzc2MC4gQW10c2dlcmljaHQgTcO8bnN0
ZXI6IEhSQjU3ODINCg0KDQoNCjxncmVlbi8+Ynl0ZXMgR21iSA0KSGFmZW53ZWcgMTYsIDQ4MTU1
IE3DvG5zdGVyLCBHZXJtYW55DQpQaG9uZTogKzQ5IDI1MSAyODA3NzYwLiBBbXRzZ2VyaWNodCBN
w7xuc3RlcjogSFJCNTc4Mg0KDQoNCg0K

--_000_AB1691BE05AE7F4992697F2A0835627AC6319CFBVOEXM10Winterna_
Content-Type: text/html; charset="utf-8"
Content-Transfer-Encoding: base64

PGh0bWwgeG1sbnM6dj0idXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwiIHhtbG5zOm89InVy
bjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOm9mZmljZSIgeG1sbnM6dz0idXJuOnNjaGVt
YXMtbWljcm9zb2Z0LWNvbTpvZmZpY2U6d29yZCIgeG1sbnM6bT0iaHR0cDovL3NjaGVtYXMubWlj
cm9zb2Z0LmNvbS9vZmZpY2UvMjAwNC8xMi9vbW1sIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcv
VFIvUkVDLWh0bWw0MCI+DQo8aGVhZD4NCjxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIg
Y29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ij4NCjxtZXRhIG5hbWU9IkdlbmVyYXRv
ciIgY29udGVudD0iTWljcm9zb2Z0IFdvcmQgMTUgKGZpbHRlcmVkIG1lZGl1bSkiPg0KPHN0eWxl
PjwhLS0NCi8qIEZvbnQgRGVmaW5pdGlvbnMgKi8NCkBmb250LWZhY2UNCgl7Zm9udC1mYW1pbHk6
IkNhbWJyaWEgTWF0aCI7DQoJcGFub3NlLTE6MiA0IDUgMyA1IDQgNiAzIDIgNDt9DQpAZm9udC1m
YWNlDQoJe2ZvbnQtZmFtaWx5OkNhbGlicmk7DQoJcGFub3NlLTE6MiAxNSA1IDIgMiAyIDQgMyAy
IDQ7fQ0KQGZvbnQtZmFjZQ0KCXtmb250LWZhbWlseTpUYWhvbWE7DQoJcGFub3NlLTE6MiAxMSA2
IDQgMyA1IDQgNCAyIDQ7fQ0KLyogU3R5bGUgRGVmaW5pdGlvbnMgKi8NCnAuTXNvTm9ybWFsLCBs
aS5Nc29Ob3JtYWwsIGRpdi5Nc29Ob3JtYWwNCgl7bWFyZ2luOjBjbTsNCgltYXJnaW4tYm90dG9t
Oi4wMDAxcHQ7DQoJZm9udC1zaXplOjEyLjBwdDsNCglmb250LWZhbWlseToiVGltZXMgTmV3IFJv
bWFuIixzZXJpZjt9DQphOmxpbmssIHNwYW4uTXNvSHlwZXJsaW5rDQoJe21zby1zdHlsZS1wcmlv
cml0eTo5OTsNCgljb2xvcjpibHVlOw0KCXRleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7fQ0KYTp2
aXNpdGVkLCBzcGFuLk1zb0h5cGVybGlua0ZvbGxvd2VkDQoJe21zby1zdHlsZS1wcmlvcml0eTo5
OTsNCgljb2xvcjpwdXJwbGU7DQoJdGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTt9DQpwDQoJe21z
by1zdHlsZS1wcmlvcml0eTo5OTsNCgltc28tbWFyZ2luLXRvcC1hbHQ6YXV0bzsNCgltYXJnaW4t
cmlnaHQ6MGNtOw0KCW1zby1tYXJnaW4tYm90dG9tLWFsdDphdXRvOw0KCW1hcmdpbi1sZWZ0OjBj
bTsNCglmb250LXNpemU6MTIuMHB0Ow0KCWZvbnQtZmFtaWx5OiJUaW1lcyBOZXcgUm9tYW4iLHNl
cmlmO30NCnAuc3dtZXNzYWdlLCBsaS5zd21lc3NhZ2UsIGRpdi5zd21lc3NhZ2UNCgl7bXNvLXN0
eWxlLW5hbWU6c3dfbWVzc2FnZTsNCgltc28tbWFyZ2luLXRvcC1hbHQ6YXV0bzsNCgltYXJnaW4t
cmlnaHQ6MGNtOw0KCW1zby1tYXJnaW4tYm90dG9tLWFsdDphdXRvOw0KCW1hcmdpbi1sZWZ0OjBj
bTsNCgliYWNrZ3JvdW5kOndoaXRlOw0KCWZvbnQtc2l6ZToxMi4wcHQ7DQoJZm9udC1mYW1pbHk6
IlRhaG9tYSIsc2Fucy1zZXJpZjt9DQpzcGFuLkUtTWFpbEZvcm1hdHZvcmxhZ2UxOQ0KCXttc28t
c3R5bGUtdHlwZTpwZXJzb25hbC1yZXBseTsNCglmb250LWZhbWlseToiQ2FsaWJyaSIsc2Fucy1z
ZXJpZjsNCgljb2xvcjojMDBCMDUwOw0KCWZvbnQtd2VpZ2h0Om5vcm1hbDsNCglmb250LXN0eWxl
Om5vcm1hbDsNCgl0ZXh0LWRlY29yYXRpb246bm9uZSBub25lO30NCi5Nc29DaHBEZWZhdWx0DQoJ
e21zby1zdHlsZS10eXBlOmV4cG9ydC1vbmx5Ow0KCWZvbnQtc2l6ZToxMC4wcHQ7fQ0KQHBhZ2Ug
V29yZFNlY3Rpb24xDQoJe3NpemU6NjEyLjBwdCA3OTIuMHB0Ow0KCW1hcmdpbjo3MC44NXB0IDcw
Ljg1cHQgMi4wY20gNzAuODVwdDt9DQpkaXYuV29yZFNlY3Rpb24xDQoJe3BhZ2U6V29yZFNlY3Rp
b24xO30NCi0tPjwvc3R5bGU+PCEtLVtpZiBndGUgbXNvIDldPjx4bWw+DQo8bzpzaGFwZWRlZmF1
bHRzIHY6ZXh0PSJlZGl0IiBzcGlkbWF4PSIxMDI2IiAvPg0KPC94bWw+PCFbZW5kaWZdLS0+PCEt
LVtpZiBndGUgbXNvIDldPjx4bWw+DQo8bzpzaGFwZWxheW91dCB2OmV4dD0iZWRpdCI+DQo8bzpp
ZG1hcCB2OmV4dD0iZWRpdCIgZGF0YT0iMSIgLz4NCjwvbzpzaGFwZWxheW91dD48L3htbD48IVtl
bmRpZl0tLT4NCjwvaGVhZD4NCjxib2R5IGJnY29sb3I9IndoaXRlIiBsYW5nPSJERSIgbGluaz0i
Ymx1ZSIgdmxpbms9InB1cnBsZSI+DQo8ZGl2IGNsYXNzPSJXb3JkU2VjdGlvbjEiPg0KPHAgY2xh
c3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxMS4wcHQ7Zm9udC1mYW1pbHk6
JnF1b3Q7Q2FsaWJyaSZxdW90OyxzYW5zLXNlcmlmO2NvbG9yOiMwMEIwNTA7bXNvLWZhcmVhc3Qt
bGFuZ3VhZ2U6RU4tVVMiPldoYXQgYXJlIHlvdXIgc2V0dGluZ3MgZm9yPG86cD48L286cD48L3Nw
YW4+PC9wPg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxMS4w
cHQ7Zm9udC1mYW1pbHk6JnF1b3Q7Q2FsaWJyaSZxdW90OyxzYW5zLXNlcmlmO2NvbG9yOiMwMEIw
NTA7bXNvLWZhcmVhc3QtbGFuZ3VhZ2U6RU4tVVMiPjxvOnA+Jm5ic3A7PC9vOnA+PC9zcGFuPjwv
cD4NCjxwIGNsYXNzPSJNc29Ob3JtYWwiPjxzcGFuIHN0eWxlPSJmb250LXNpemU6MTEuMHB0O2Zv
bnQtZmFtaWx5OiZxdW90O0NhbGlicmkmcXVvdDssc2Fucy1zZXJpZjtjb2xvcjojMDBCMDUwO21z
by1mYXJlYXN0LWxhbmd1YWdlOkVOLVVTIj5TZXJ2ZXJuYW1lPG86cD48L286cD48L3NwYW4+PC9w
Pg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxMS4wcHQ7Zm9u
dC1mYW1pbHk6JnF1b3Q7Q2FsaWJyaSZxdW90OyxzYW5zLXNlcmlmO2NvbG9yOiMwMEIwNTA7bXNv
LWZhcmVhc3QtbGFuZ3VhZ2U6RU4tVVMiPjxvOnA+Jm5ic3A7PC9vOnA+PC9zcGFuPjwvcD4NCjxw
IGNsYXNzPSJNc29Ob3JtYWwiPjxzcGFuIHN0eWxlPSJmb250LXNpemU6MTEuMHB0O2ZvbnQtZmFt
aWx5OiZxdW90O0NhbGlicmkmcXVvdDssc2Fucy1zZXJpZjtjb2xvcjojMDBCMDUwO21zby1mYXJl
YXN0LWxhbmd1YWdlOkVOLVVTIj5BbmQ8bzpwPjwvbzpwPjwvc3Bhbj48L3A+DQo8cCBjbGFzcz0i
TXNvTm9ybWFsIj48c3BhbiBzdHlsZT0iZm9udC1zaXplOjExLjBwdDtmb250LWZhbWlseTomcXVv
dDtDYWxpYnJpJnF1b3Q7LHNhbnMtc2VyaWY7Y29sb3I6IzAwQjA1MDttc28tZmFyZWFzdC1sYW5n
dWFnZTpFTi1VUyI+PG86cD4mbmJzcDs8L286cD48L3NwYW4+PC9wPg0KPHAgY2xhc3M9Ik1zb05v
cm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxMS4wcHQ7Zm9udC1mYW1pbHk6JnF1b3Q7Q2Fs
aWJyaSZxdW90OyxzYW5zLXNlcmlmO2NvbG9yOiMwMEIwNTA7bXNvLWZhcmVhc3QtbGFuZ3VhZ2U6
RU4tVVMiPlNlcnZlckFsaWFzPG86cD48L286cD48L3NwYW4+PC9wPg0KPHAgY2xhc3M9Ik1zb05v
cm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxMS4wcHQ7Zm9udC1mYW1pbHk6JnF1b3Q7Q2Fs
aWJyaSZxdW90OyxzYW5zLXNlcmlmO2NvbG9yOiMwMEIwNTA7bXNvLWZhcmVhc3QtbGFuZ3VhZ2U6
RU4tVVMiPjxvOnA+Jm5ic3A7PC9vOnA+PC9zcGFuPjwvcD4NCjxwIGNsYXNzPSJNc29Ob3JtYWwi
PjxzcGFuIGxhbmc9IkVOLVVTIiBzdHlsZT0iZm9udC1zaXplOjExLjBwdDtmb250LWZhbWlseTom
cXVvdDtDYWxpYnJpJnF1b3Q7LHNhbnMtc2VyaWY7Y29sb3I6IzAwQjA1MDttc28tZmFyZWFzdC1s
YW5ndWFnZTpFTi1VUyI+PyBEbyB0aGV5IGhhdmUgYWxsIHRoZSBzdHVmZiB0aGF0IGlzIGluIHRo
ZSBTQU4/PG86cD48L286cD48L3NwYW4+PC9wPg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PHNwYW4g
bGFuZz0iRU4tVVMiIHN0eWxlPSJmb250LXNpemU6MTEuMHB0O2ZvbnQtZmFtaWx5OiZxdW90O0Nh
bGlicmkmcXVvdDssc2Fucy1zZXJpZjtjb2xvcjojMDBCMDUwO21zby1mYXJlYXN0LWxhbmd1YWdl
OkVOLVVTIj48bzpwPiZuYnNwOzwvbzpwPjwvc3Bhbj48L3A+DQo8cCBjbGFzcz0iTXNvTm9ybWFs
Ij48c3BhbiBsYW5nPSJFTi1VUyIgc3R5bGU9ImZvbnQtc2l6ZToxMS4wcHQ7Zm9udC1mYW1pbHk6
JnF1b3Q7Q2FsaWJyaSZxdW90OyxzYW5zLXNlcmlmO2NvbG9yOiMwMEIwNTA7bXNvLWZhcmVhc3Qt
bGFuZ3VhZ2U6RU4tVVMiPlJlZ2FyZHM8bzpwPjwvbzpwPjwvc3Bhbj48L3A+DQo8cCBjbGFzcz0i
TXNvTm9ybWFsIj48c3BhbiBsYW5nPSJFTi1VUyIgc3R5bGU9ImZvbnQtc2l6ZToxMS4wcHQ7Zm9u
dC1mYW1pbHk6JnF1b3Q7Q2FsaWJyaSZxdW90OyxzYW5zLXNlcmlmO2NvbG9yOiMwMEIwNTA7bXNv
LWZhcmVhc3QtbGFuZ3VhZ2U6RU4tVVMiPjxvOnA+Jm5ic3A7PC9vOnA+PC9zcGFuPjwvcD4NCjxw
IGNsYXNzPSJNc29Ob3JtYWwiPjxzcGFuIGxhbmc9IkVOLVVTIiBzdHlsZT0iZm9udC1zaXplOjEx
LjBwdDtmb250LWZhbWlseTomcXVvdDtDYWxpYnJpJnF1b3Q7LHNhbnMtc2VyaWY7Y29sb3I6IzAw
QjA1MDttc28tZmFyZWFzdC1sYW5ndWFnZTpFTi1VUyI+UsO8ZGlnZXI8bzpwPjwvbzpwPjwvc3Bh
bj48L3A+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj48c3BhbiBsYW5nPSJFTi1VUyIgc3R5bGU9ImZv
bnQtc2l6ZToxMS4wcHQ7Zm9udC1mYW1pbHk6JnF1b3Q7Q2FsaWJyaSZxdW90OyxzYW5zLXNlcmlm
O2NvbG9yOiMwMEIwNTA7bXNvLWZhcmVhc3QtbGFuZ3VhZ2U6RU4tVVMiPjxvOnA+Jm5ic3A7PC9v
OnA+PC9zcGFuPjwvcD4NCjxkaXYgc3R5bGU9ImJvcmRlcjpub25lO2JvcmRlci1sZWZ0OnNvbGlk
IGJsdWUgMS41cHQ7cGFkZGluZzowY20gMGNtIDBjbSA0LjBwdCI+DQo8ZGl2Pg0KPGRpdiBzdHls
ZT0iYm9yZGVyOm5vbmU7Ym9yZGVyLXRvcDpzb2xpZCAjRTFFMUUxIDEuMHB0O3BhZGRpbmc6My4w
cHQgMGNtIDBjbSAwY20iPg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PGI+PHNwYW4gc3R5bGU9ImZv
bnQtc2l6ZToxMS4wcHQ7Zm9udC1mYW1pbHk6JnF1b3Q7Q2FsaWJyaSZxdW90OyxzYW5zLXNlcmlm
Ij5Wb246PC9zcGFuPjwvYj48c3BhbiBzdHlsZT0iZm9udC1zaXplOjExLjBwdDtmb250LWZhbWls
eTomcXVvdDtDYWxpYnJpJnF1b3Q7LHNhbnMtc2VyaWYiPiBTdGVmZmVuIFttYWlsdG86aW5mb0Bh
cGFjaGVsb3VuZ2UuY29tXQ0KPGJyPg0KPGI+R2VzZW5kZXQ6PC9iPiBGcmVpdGFnLCAxOC4gU2Vw
dGVtYmVyIDIwMTUgMTM6MjA8YnI+DQo8Yj5Bbjo8L2I+IGRldkBodHRwZC5hcGFjaGUub3JnPGJy
Pg0KPGI+QmV0cmVmZjo8L2I+IFJlOiAyLjQuMTctcHJvdG9jb2xzLWh0dHAyLyAtIFNOSSBpc3N1
ZTxvOnA+PC9vOnA+PC9zcGFuPjwvcD4NCjwvZGl2Pg0KPC9kaXY+DQo8cCBjbGFzcz0iTXNvTm9y
bWFsIj48bzpwPiZuYnNwOzwvbzpwPjwvcD4NCjxkaXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj48
c3BhbiBzdHlsZT0iZm9udC1mYW1pbHk6JnF1b3Q7VGFob21hJnF1b3Q7LHNhbnMtc2VyaWYiPklu
ZGVlZCBzdWJqZWN0QWx0bmFtZXMgYXJlIHZlcnkgY29tbW9uIGluIHVzZS48bzpwPjwvbzpwPjwv
c3Bhbj48L3A+DQo8L2Rpdj4NCjxkaXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj48c3BhbiBzdHls
ZT0iZm9udC1mYW1pbHk6JnF1b3Q7VGFob21hJnF1b3Q7LHNhbnMtc2VyaWYiPjxvOnA+Jm5ic3A7
PC9vOnA+PC9zcGFuPjwvcD4NCjwvZGl2Pg0KPGRpdj4NCjxwIGNsYXNzPSJNc29Ob3JtYWwiPjxz
cGFuIHN0eWxlPSJmb250LWZhbWlseTomcXVvdDtUYWhvbWEmcXVvdDssc2Fucy1zZXJpZiI+V2lu
ZG93cyAxMCBJRShFZGdlKSBicm93c2VyIHNhbWUgaXNzdWUuPG86cD48L286cD48L3NwYW4+PC9w
Pg0KPC9kaXY+DQo8ZGl2Pg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQt
ZmFtaWx5OiZxdW90O1RhaG9tYSZxdW90OyxzYW5zLXNlcmlmIj48bzpwPiZuYnNwOzwvbzpwPjwv
c3Bhbj48L3A+DQo8L2Rpdj4NCjxkaXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj48c3BhbiBzdHls
ZT0iZm9udC1mYW1pbHk6JnF1b3Q7VGFob21hJnF1b3Q7LHNhbnMtc2VyaWYiPlVzZXIgc2VlcyBp
biBDaHJvbWU6PG86cD48L286cD48L3NwYW4+PC9wPg0KPC9kaXY+DQo8ZGl2Pg0KPHAgY2xhc3M9
Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtZmFtaWx5OiZxdW90O1RhaG9tYSZxdW90Oyxz
YW5zLXNlcmlmIj5NaXNkaXJlY3RlZCBSZXF1ZXN0LiBUaGUgY2xpZW50IG5lZWRzIGEgbmV3IGNv
bm5lY3Rpb24gZm9yIHRoaXMgcmVxdWVzdCBhcyB0aGUgcmVxdWVzdGVkIGhvc3QgbmFtZSBkb2Vz
IG5vdCBtYXRjaCB0aGUgU2VydmVyIE5hbWUgSW5kaWNhdGlvbiAoU05JKSBpbiB1c2UgZm9yIHRo
aXMgY29ubmVjdGlvbi48bzpwPjwvbzpwPjwvc3Bhbj48L3A+DQo8L2Rpdj4NCjxkaXY+DQo8cCBj
bGFzcz0iTXNvTm9ybWFsIj48c3BhbiBzdHlsZT0iZm9udC1mYW1pbHk6JnF1b3Q7VGFob21hJnF1
b3Q7LHNhbnMtc2VyaWYiPjxvOnA+Jm5ic3A7PC9vOnA+PC9zcGFuPjwvcD4NCjwvZGl2Pg0KPGRp
dj4NCjxwIGNsYXNzPSJNc29Ob3JtYWwiPjxzcGFuIHN0eWxlPSJmb250LWZhbWlseTomcXVvdDtU
YWhvbWEmcXVvdDssc2Fucy1zZXJpZiI+QW5kIHRoZW4gdGltZXMgb3V0LjxvOnA+PC9vOnA+PC9z
cGFuPjwvcD4NCjwvZGl2Pg0KPGRpdj4NCjxwIGNsYXNzPSJNc29Ob3JtYWwiPjxzcGFuIHN0eWxl
PSJmb250LWZhbWlseTomcXVvdDtUYWhvbWEmcXVvdDssc2Fucy1zZXJpZiI+PG86cD4mbmJzcDs8
L286cD48L3NwYW4+PC9wPg0KPC9kaXY+DQo8ZGl2Pg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PHNw
YW4gc3R5bGU9ImZvbnQtZmFtaWx5OiZxdW90O1RhaG9tYSZxdW90OyxzYW5zLXNlcmlmIj5CdHcu
PG86cD48L286cD48L3NwYW4+PC9wPg0KPC9kaXY+DQo8ZGl2Pg0KPHAgY2xhc3M9Ik1zb05vcm1h
bCI+PHNwYW4gc3R5bGU9ImZvbnQtZmFtaWx5OiZxdW90O1RhaG9tYSZxdW90OyxzYW5zLXNlcmlm
Ij5UaGUgY29uZmlnIGhhcyBubyB2aG9zdCAoU1NMIG9ubHkpLCB3aGF0IHdvcmtzIGZpbmUmbmJz
cDtodHRwLzEuMSB3aXRoIDIuNC4xNi08bzpwPjwvbzpwPjwvc3Bhbj48L3A+DQo8L2Rpdj4NCjxk
aXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj48c3BhbiBzdHlsZT0iZm9udC1mYW1pbHk6JnF1b3Q7
VGFob21hJnF1b3Q7LHNhbnMtc2VyaWYiPi4uPG86cD48L286cD48L3NwYW4+PC9wPg0KPC9kaXY+
DQo8ZGl2Pg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtZmFtaWx5OiZx
dW90O1RhaG9tYSZxdW90OyxzYW5zLXNlcmlmIj4uLjxvOnA+PC9vOnA+PC9zcGFuPjwvcD4NCjwv
ZGl2Pg0KPGRpdj4NCjxwIGNsYXNzPSJNc29Ob3JtYWwiPjxzcGFuIHN0eWxlPSJmb250LWZhbWls
eTomcXVvdDtUYWhvbWEmcXVvdDssc2Fucy1zZXJpZiI+Li4uPG86cD48L286cD48L3NwYW4+PC9w
Pg0KPC9kaXY+DQo8ZGl2Pg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQt
ZmFtaWx5OiZxdW90O1RhaG9tYSZxdW90OyxzYW5zLXNlcmlmIj5Eb2N1bWVudFJvb3QgLi4uLjxv
OnA+PC9vOnA+PC9zcGFuPjwvcD4NCjwvZGl2Pg0KPGRpdj4NCjxwIGNsYXNzPSJNc29Ob3JtYWwi
PjxzcGFuIHN0eWxlPSJmb250LWZhbWlseTomcXVvdDtUYWhvbWEmcXVvdDssc2Fucy1zZXJpZiI+
U2VydmVyTmFtZSAuLi4uPG86cD48L286cD48L3NwYW4+PC9wPg0KPC9kaXY+DQo8ZGl2Pg0KPHAg
Y2xhc3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtZmFtaWx5OiZxdW90O1RhaG9tYSZx
dW90OyxzYW5zLXNlcmlmIj5MaXN0ZW4gNDQzPG86cD48L286cD48L3NwYW4+PC9wPg0KPC9kaXY+
DQo8ZGl2Pg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtZmFtaWx5OiZx
dW90O1RhaG9tYSZxdW90OyxzYW5zLXNlcmlmIj5TU0xTdHJpY3RTTklWSG9zdENoZWNrIG9mZjxv
OnA+PC9vOnA+PC9zcGFuPjwvcD4NCjwvZGl2Pg0KPGRpdj4NCjxwIGNsYXNzPSJNc29Ob3JtYWwi
PjxzcGFuIHN0eWxlPSJmb250LWZhbWlseTomcXVvdDtUYWhvbWEmcXVvdDssc2Fucy1zZXJpZiI+
U1NMRW5naW5lIG9uJm5ic3A7PG86cD48L286cD48L3NwYW4+PC9wPg0KPC9kaXY+DQo8ZGl2Pg0K
PHAgY2xhc3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtZmFtaWx5OiZxdW90O1RhaG9t
YSZxdW90OyxzYW5zLXNlcmlmIj5TU0xIb25vckNpcGhlck9yZGVyIE9uPG86cD48L286cD48L3Nw
YW4+PC9wPg0KPC9kaXY+DQo8ZGl2Pg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9
ImZvbnQtZmFtaWx5OiZxdW90O1RhaG9tYSZxdW90OyxzYW5zLXNlcmlmIj5TU0xVc2VTdGFwbGlu
ZyBvbjxvOnA+PC9vOnA+PC9zcGFuPjwvcD4NCjwvZGl2Pg0KPGRpdj4NCjxwIGNsYXNzPSJNc29O
b3JtYWwiPjxzcGFuIHN0eWxlPSJmb250LWZhbWlseTomcXVvdDtUYWhvbWEmcXVvdDssc2Fucy1z
ZXJpZiI+U1NMQ2lwaGVyU3VpdGUgLi4uLi4uLjxvOnA+PC9vOnA+PC9zcGFuPjwvcD4NCjwvZGl2
Pg0KPGRpdj4NCjxkaXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj48c3BhbiBzdHlsZT0iZm9udC1m
YW1pbHk6JnF1b3Q7VGFob21hJnF1b3Q7LHNhbnMtc2VyaWYiPlNTTENvbXByZXNzaW9uIG9mZjxv
OnA+PC9vOnA+PC9zcGFuPjwvcD4NCjwvZGl2Pg0KPC9kaXY+DQo8ZGl2Pg0KPGRpdj4NCjxwIGNs
YXNzPSJNc29Ob3JtYWwiPjxzcGFuIHN0eWxlPSJmb250LWZhbWlseTomcXVvdDtUYWhvbWEmcXVv
dDssc2Fucy1zZXJpZiI+U1NMQ2VydGlmaWNhdGVGaWxlIC4uLi4uLjxvOnA+PC9vOnA+PC9zcGFu
PjwvcD4NCjwvZGl2Pg0KPGRpdj4NCjxwIGNsYXNzPSJNc29Ob3JtYWwiPjxzcGFuIHN0eWxlPSJm
b250LWZhbWlseTomcXVvdDtUYWhvbWEmcXVvdDssc2Fucy1zZXJpZiI+U1NMQ2VydGlmaWNhdGVL
ZXlGaWxlIC4uLi4uLjxvOnA+PC9vOnA+PC9zcGFuPjwvcD4NCjwvZGl2Pg0KPC9kaXY+DQo8ZGl2
Pg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtZmFtaWx5OiZxdW90O1Rh
aG9tYSZxdW90OyxzYW5zLXNlcmlmIj4uLi48bzpwPjwvbzpwPjwvc3Bhbj48L3A+DQo8L2Rpdj4N
CjxkaXY+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj48c3BhbiBzdHlsZT0iZm9udC1mYW1pbHk6JnF1
b3Q7VGFob21hJnF1b3Q7LHNhbnMtc2VyaWYiPi4uLjxvOnA+PC9vOnA+PC9zcGFuPjwvcD4NCjwv
ZGl2Pg0KPGRpdj4NCjxwIGNsYXNzPSJNc29Ob3JtYWwiPjxzcGFuIHN0eWxlPSJmb250LWZhbWls
eTomcXVvdDtUYWhvbWEmcXVvdDssc2Fucy1zZXJpZiI+Li4uLjxvOnA+PC9vOnA+PC9zcGFuPjwv
cD4NCjwvZGl2Pg0KPGRpdj4NCjxwIGNsYXNzPSJNc29Ob3JtYWwiPjxzcGFuIHN0eWxlPSJmb250
LWZhbWlseTomcXVvdDtUYWhvbWEmcXVvdDssc2Fucy1zZXJpZiI+PG86cD4mbmJzcDs8L286cD48
L3NwYW4+PC9wPg0KPC9kaXY+DQo8ZGl2Pg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5
bGU9ImZvbnQtZmFtaWx5OiZxdW90O1RhaG9tYSZxdW90OyxzYW5zLXNlcmlmIj5TdGVmZmVuPG86
cD48L286cD48L3NwYW4+PC9wPg0KPC9kaXY+DQo8ZGl2Pg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+
PHNwYW4gc3R5bGU9ImZvbnQtZmFtaWx5OiZxdW90O1RhaG9tYSZxdW90OyxzYW5zLXNlcmlmIj4m
bmJzcDs8bzpwPjwvbzpwPjwvc3Bhbj48L3A+DQo8L2Rpdj4NCjxkaXY+DQo8cCBjbGFzcz0iTXNv
Tm9ybWFsIj48c3BhbiBzdHlsZT0iZm9udC1mYW1pbHk6JnF1b3Q7VGFob21hJnF1b3Q7LHNhbnMt
c2VyaWYiPk9uIEZyaWRheSAxOC8wOS8yMDE1IGF0IDEyOjU4LCBTdGVmYW4gRWlzc2luZyB3cm90
ZToNCjxvOnA+PC9vOnA+PC9zcGFuPjwvcD4NCjwvZGl2Pg0KPGJsb2NrcXVvdGUgc3R5bGU9ImJv
cmRlcjpub25lO2JvcmRlci1sZWZ0OnNvbGlkICMxNDRGQUUgMS41cHQ7cGFkZGluZzowY20gMGNt
IDBjbSA0LjBwdDttYXJnaW4tbGVmdDozLjc1cHQ7bWFyZ2luLXRvcDo1LjBwdDttYXJnaW4tYm90
dG9tOjUuMHB0Ij4NCjxwIGNsYXNzPSJNc29Ob3JtYWwiPjxzcGFuIHN0eWxlPSJmb250LWZhbWls
eTomcXVvdDtUYWhvbWEmcXVvdDssc2Fucy1zZXJpZjtjb2xvcjojMTQ0RkFFIj5Paywgd2hhdCBp
cyBoYXBwZW5pbmcgZm9yIFN0ZWZmZW4gaXMgbm90IGEgYnVnLCBidXQgYSBtaXNzaW5nIGZlYXR1
cmUuIFRoZSBxdWVzdGlvbiBpcyBob3cgd2UgbW92ZSBmb3J3YXJkLjxicj4NCjxicj4NClRoZSBj
ZXJ0aWZpY2F0ZSBhdCBhcGFjaGVsb3VuZ2UuY29tIGhhcyBhIGxvbmcgbGlzdCBvZiBzdWJqZWN0
QWx0TmFtZXMsIHByb2JhYmx5IGNvbW1vbiBmb3IgYSBsb3Qgb2Ygc2l0ZXMuIENocm9tZSBvcGVu
cyBhIGNvbm5lY3Rpb24gdG8gc2VydmVyMSwgZXN0YWJsaXNoZWQgaDIsIGtlZXBzIGl0IG9wZW4u
IFlvdSBvcGVuIGEgdGFiIG9uIHNlcnZlcjIsIGNocm9tZSBzZWVzIHRoZSBhbHROYW1lIG9uIHRo
ZSBzZXJ2ZXIxIGNlcnQgYW5kICpyZXVzZXMqDQogdGhhdCBjb25uZWN0aW9uIHRvIHNlbmQgdGhl
IHJlcXVlc3QgZm9yIHNlcnZlcjIuPGJyPg0KPGJyPg0KaHR0cGQgc2VlcyB0aGF0IHRoZSByZXF1
ZXN0IGlzIG5vdCBpbiB0aGUgc2FtZSB2aG9zdCBhcyB0aGUgb25lIGJlbG9uZ2luZyB0byB0aGUg
U05JIHNlcnZlcjEgYW5kIHJlZnVzZXMgdG8gc2VydmUgaXQgd2l0aCBhIDQyMS4gV2hpY2ggcmZj
NzU0MCBpbnRlbmRlZCBmb3IgdGhpcywgdGVsbGluZyB0aGUgY2xpZW50IHRvIHVzZSBhIG5ldyBj
b25uZWN0aW9uLjxicj4NCjxicj4NClF1ZXN0aW9uIHRvIFN0ZWZmZW46PGJyPg0KLSB3aGF0IGVy
cm9yIGRvZXMgdGhlIGNocm9tZSB1c2VyIHNlZT8gSXMgaXQgaW50ZXJydXB0aW5nIGhpcyBicm93
c2luZz88YnI+DQo8YnI+DQpRdWVzdGlvbnMgdG8gQWxsOjxicj4NCjEuIGxvZ2dpbmcgYW4gRVJS
T1IgZm9yIHRoaXMgd2lsbCBzcGFtIHRoZSBsb2cgbW9yZSBhbmQgbW9yZSBpbiB0aGUgZnV0dXJl
LiBXZSBjYW4gdXNlIGEgREVCVUcgbGV2ZWwgaWYgd2UgYXJlICpub3QqIG9uIGEgJ2h0dHAvMS4x
JyBwcm90b2NvbC4gRVJSIGZvciAnaHR0cC8xLjEnLjxicj4NCjIuIFdlIGNhbiBjaGVjayBpZiB0
aGUgci0mZ3Q7aG9zdG5hbWUgaXMgaW4gdGhlIGFsdE5hbWVzIG9mIHRoZSBzZXJ2ZXIgY2VydCBm
b3IgdGhlIGNvbm5lY3Rpb24uIFF1ZXN0aW9uIGlzOiB3aGF0IHRvIGRvIHRoZW4/IFRoZSByZXF1
ZXN0IHByb2Nlc3Npbmcgd2lsbCBzZWxlY3QgdGhlIGNvcnJlY3Qgdmhvc3QgYmFzZWQgb24gci0m
Z3Q7aG9zdG5hbWUsIGJ1dCBhbnkgU1NMIHBhcmFtZXRlcnMgd2lsbCBub3QgYmUgdHJpZ2dlcmVk
IHByb2JhYmx5PyBEbyB3ZQ0KIHdhbnQgdG8gYWNjZXB0IHRoYXQ/PGJyPg0KMy4gV2UgY2FuIGFs
bG93IDIgb25seSBmb3Igbm9uLWh0dHAvMS4xIGNvbm5lY3Rpb24gcHJvdG9jb2xzPGJyPg0KNC4g
V2UgY2FuIGFsbG93IDIgb25seSBmb3IgaDIgY29ubmVjdGlvbiBwcm90b2NvbHM8YnI+DQo1LiBX
ZSBjYW4gYWRkIGEgY29uZmlnIGRpcmVjdGl2ZSB0byBhbGxvdyAyICh1cmdzKTxicj4NCjxicj4N
Ci8vU3RlZmFuPGJyPg0KPGJyPg0KPGJyPg0KPG86cD48L286cD48L3NwYW4+PC9wPg0KPGJsb2Nr
cXVvdGUgc3R5bGU9ImJvcmRlcjpub25lO2JvcmRlci1sZWZ0OnNvbGlkICMwMDYzMTIgMS41cHQ7
cGFkZGluZzowY20gMGNtIDBjbSA0LjBwdDttYXJnaW4tbGVmdDozLjc1cHQ7bWFyZ2luLXRvcDo1
LjBwdDttYXJnaW4tYm90dG9tOjUuMHB0Ij4NCjxwIGNsYXNzPSJNc29Ob3JtYWwiPjxzcGFuIGxh
bmc9IkVOLVVTIiBzdHlsZT0iZm9udC1mYW1pbHk6JnF1b3Q7VGFob21hJnF1b3Q7LHNhbnMtc2Vy
aWY7Y29sb3I6IzAwNjMxMiI+QW0gMTguMDkuMjAxNSB1bSAxMTozNiBzY2hyaWViIFN0ZWZhbiBF
aXNzaW5nICZsdDs8L3NwYW4+PHNwYW4gc3R5bGU9ImZvbnQtZmFtaWx5OiZxdW90O1RhaG9tYSZx
dW90OyxzYW5zLXNlcmlmO2NvbG9yOiMwMDYzMTIiPjxhIGhyZWY9Im1haWx0bzpzdGVmYW4uZWlz
c2luZ0BncmVlbmJ5dGVzLmRlIj48c3BhbiBsYW5nPSJFTi1VUyI+c3RlZmFuLmVpc3NpbmdAZ3Jl
ZW5ieXRlcy5kZTwvc3Bhbj48L2E+PC9zcGFuPjxzcGFuIGxhbmc9IkVOLVVTIiBzdHlsZT0iZm9u
dC1mYW1pbHk6JnF1b3Q7VGFob21hJnF1b3Q7LHNhbnMtc2VyaWY7Y29sb3I6IzAwNjMxMiI+Jmd0
Ozo8YnI+DQo8YnI+DQpJIHRoaW5rIEkgZm91bmQgaXQuIDwvc3Bhbj48c3BhbiBzdHlsZT0iZm9u
dC1mYW1pbHk6JnF1b3Q7VGFob21hJnF1b3Q7LHNhbnMtc2VyaWY7Y29sb3I6IzAwNjMxMiI+SnVz
dCB3cml0aW5nIGEgdGVzdCBjYXNlIHRvIGNvbmZpcm0uLi48YnI+DQo8YnI+DQo8YnI+DQo8bzpw
PjwvbzpwPjwvc3Bhbj48L3A+DQo8YmxvY2txdW90ZSBzdHlsZT0iYm9yZGVyOm5vbmU7Ym9yZGVy
LWxlZnQ6c29saWQgIzhFNTY1NiAxLjVwdDtwYWRkaW5nOjBjbSAwY20gMGNtIDQuMHB0O21hcmdp
bi1sZWZ0OjMuNzVwdDttYXJnaW4tdG9wOjUuMHB0O21hcmdpbi1ib3R0b206NS4wcHQiPg0KPHAg
Y2xhc3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtZmFtaWx5OiZxdW90O1RhaG9tYSZx
dW90OyxzYW5zLXNlcmlmO2NvbG9yOiM4RTU2NTYiPkFtIDE4LjA5LjIwMTUgdW0gMTE6MzUgc2No
cmllYiBTdGVmZmVuICZsdDs8YSBocmVmPSJtYWlsdG86aW5mb0BhcGFjaGVsb3VuZ2UuY29tIj5p
bmZvQGFwYWNoZWxvdW5nZS5jb208L2E+Jmd0Ozo8YnI+DQo8YnI+DQpEZWJ1ZyBsb2cgYXR0YWNo
ZWQuPGJyPg0KPGJyPg0KPGJyPg0KPGJyPg0KT24gV2VkbmVzZGF5IDE2LzA5LzIwMTUgYXQgMTI6
MDYsIFBsw7xtIHdyb3RlOiA8YnI+DQo8YnI+DQo8bzpwPjwvbzpwPjwvc3Bhbj48L3A+DQo8Ymxv
Y2txdW90ZSBzdHlsZT0iYm9yZGVyOm5vbmU7Ym9yZGVyLWxlZnQ6c29saWQgIzg4ODg4OCAxLjVw
dDtwYWRkaW5nOjBjbSAwY20gMGNtIDQuMHB0O21hcmdpbi1sZWZ0OjMuNzVwdDttYXJnaW4tdG9w
OjUuMHB0O21hcmdpbi1ib3R0b206NS4wcHQiPg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PHNwYW4g
c3R5bGU9ImZvbnQtZmFtaWx5OiZxdW90O1RhaG9tYSZxdW90OyxzYW5zLXNlcmlmO2NvbG9yOiM4
ODg4ODgiPjxicj4NCjxicj4NCjxicj4NCjxvOnA+PC9vOnA+PC9zcGFuPjwvcD4NCjxibG9ja3F1
b3RlIHN0eWxlPSJib3JkZXI6bm9uZTtib3JkZXItbGVmdDpzb2xpZCAjODg4ODg4IDEuNXB0O3Bh
ZGRpbmc6MGNtIDBjbSAwY20gNC4wcHQ7bWFyZ2luLWxlZnQ6My43NXB0O21hcmdpbi10b3A6NS4w
cHQ7bWFyZ2luLWJvdHRvbTo1LjBwdCI+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj48c3BhbiBsYW5n
PSJFTi1VUyIgc3R5bGU9ImZvbnQtZmFtaWx5OiZxdW90O1RhaG9tYSZxdW90OyxzYW5zLXNlcmlm
O2NvbG9yOiM4ODg4ODgiPi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tPGJyPg0KRnJvbTogU3Rl
ZmFuIEVpc3NpbmcgWzwvc3Bhbj48c3BhbiBzdHlsZT0iZm9udC1mYW1pbHk6JnF1b3Q7VGFob21h
JnF1b3Q7LHNhbnMtc2VyaWY7Y29sb3I6Izg4ODg4OCI+PGEgaHJlZj0ibWFpbHRvOnN0ZWZhbi5l
aXNzaW5nQGdyZWVuYnl0ZXMuZGUiPjxzcGFuIGxhbmc9IkVOLVVTIj5tYWlsdG86c3RlZmFuLmVp
c3NpbmdAZ3JlZW5ieXRlcy5kZTwvc3Bhbj48L2E+PC9zcGFuPjxzcGFuIGxhbmc9IkVOLVVTIiBz
dHlsZT0iZm9udC1mYW1pbHk6JnF1b3Q7VGFob21hJnF1b3Q7LHNhbnMtc2VyaWY7Y29sb3I6Izg4
ODg4OCI+XTxicj4NClNlbnQ6IE1pdHR3b2NoLCAxNi4gU2VwdGVtYmVyIDIwMTUgMTE6Mzg8YnI+
DQpUbzogPC9zcGFuPjxzcGFuIHN0eWxlPSJmb250LWZhbWlseTomcXVvdDtUYWhvbWEmcXVvdDss
c2Fucy1zZXJpZjtjb2xvcjojODg4ODg4Ij48YSBocmVmPSJtYWlsdG86ZGV2QGh0dHBkLmFwYWNo
ZS5vcmciPjxzcGFuIGxhbmc9IkVOLVVTIj5kZXZAaHR0cGQuYXBhY2hlLm9yZzwvc3Bhbj48L2E+
PC9zcGFuPjxzcGFuIGxhbmc9IkVOLVVTIiBzdHlsZT0iZm9udC1mYW1pbHk6JnF1b3Q7VGFob21h
JnF1b3Q7LHNhbnMtc2VyaWY7Y29sb3I6Izg4ODg4OCI+PGJyPg0KU3ViamVjdDogUmU6IDIuNC4x
Ny1wcm90b2NvbHMtaHR0cDIvIC0gU05JIGlzc3VlPGJyPg0KPGJyPg0KR29vZCBwb2ludC4gPC9z
cGFuPjxzcGFuIHN0eWxlPSJmb250LWZhbWlseTomcXVvdDtUYWhvbWEmcXVvdDssc2Fucy1zZXJp
Zjtjb2xvcjojODg4ODg4Ij5MaW1pdGVkIG9ubGluZSB0b2RheS4gSWYgc29tZW9uZSB3YW50cyB0
byBnaXZlIHRoaXMgYSBzaG90LDxicj4NCnBsZWFzZS48YnI+DQo8YnI+DQo8YnI+DQo8bzpwPjwv
bzpwPjwvc3Bhbj48L3A+DQo8YmxvY2txdW90ZSBzdHlsZT0iYm9yZGVyOm5vbmU7Ym9yZGVyLWxl
ZnQ6c29saWQgIzg4ODg4OCAxLjVwdDtwYWRkaW5nOjBjbSAwY20gMGNtIDQuMHB0O21hcmdpbi1s
ZWZ0OjMuNzVwdDttYXJnaW4tdG9wOjUuMHB0O21hcmdpbi1ib3R0b206NS4wcHQiPg0KPHAgY2xh
c3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtZmFtaWx5OiZxdW90O1RhaG9tYSZxdW90
OyxzYW5zLXNlcmlmO2NvbG9yOiM4ODg4ODgiPkFtIDE2LjA5LjIwMTUgdW0gMTE6MzYgc2Nocmll
YiBZYW5uIFlsYXZpYyAmbHQ7PGEgaHJlZj0ibWFpbHRvOnlsYXZpYy5kZXZAZ21haWwuY29tIj55
bGF2aWMuZGV2QGdtYWlsLmNvbTwvYT4mZ3Q7Ojxicj4NCjxicj4NCk9uIFdlZCwgU2VwIDE2LCAy
MDE1IGF0IDExOjI0IEFNLCBQbMO8bSwgUsO8ZGlnZXIsIFZvZGFmb25lIEdyb3VwPGJyPg0KJmx0
OzxhIGhyZWY9Im1haWx0bzpydWVkaWdlci5wbHVlbUB2b2RhZm9uZS5jb20iPnJ1ZWRpZ2VyLnBs
dWVtQHZvZGFmb25lLmNvbTwvYT4mZ3Q7IHdyb3RlOjxicj4NCjxicj4NCjxvOnA+PC9vOnA+PC9z
cGFuPjwvcD4NCjxibG9ja3F1b3RlIHN0eWxlPSJib3JkZXI6bm9uZTtib3JkZXItbGVmdDpzb2xp
ZCAjODg4ODg4IDEuNXB0O3BhZGRpbmc6MGNtIDBjbSAwY20gNC4wcHQ7bWFyZ2luLWxlZnQ6My43
NXB0O21hcmdpbi10b3A6NS4wcHQ7bWFyZ2luLWJvdHRvbTo1LjBwdCI+DQo8cCBjbGFzcz0iTXNv
Tm9ybWFsIj48c3BhbiBzdHlsZT0iZm9udC1mYW1pbHk6JnF1b3Q7VGFob21hJnF1b3Q7LHNhbnMt
c2VyaWY7Y29sb3I6Izg4ODg4OCI+PGJyPg0KPGJyPg0KPG86cD48L286cD48L3NwYW4+PC9wPg0K
PGJsb2NrcXVvdGUgc3R5bGU9ImJvcmRlcjpub25lO2JvcmRlci1sZWZ0OnNvbGlkICM4ODg4ODgg
MS41cHQ7cGFkZGluZzowY20gMGNtIDBjbSA0LjBwdDttYXJnaW4tbGVmdDozLjc1cHQ7bWFyZ2lu
LXRvcDo1LjBwdDttYXJnaW4tYm90dG9tOjUuMHB0Ij4NCjxwIGNsYXNzPSJNc29Ob3JtYWwiPjxz
cGFuIHN0eWxlPSJmb250LWZhbWlseTomcXVvdDtUYWhvbWEmcXVvdDssc2Fucy1zZXJpZjtjb2xv
cjojODg4ODg4Ij4tLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLTxicj4NCkZyb206IFN0ZWZmZW48
YnI+DQpTZW50OiBNaXR0d29jaCwgMTYuIDwvc3Bhbj48c3BhbiBsYW5nPSJFTi1VUyIgc3R5bGU9
ImZvbnQtZmFtaWx5OiZxdW90O1RhaG9tYSZxdW90OyxzYW5zLXNlcmlmO2NvbG9yOiM4ODg4ODgi
PlNlcHRlbWJlciAyMDE1IDExOjE0PGJyPg0KVG86IDwvc3Bhbj48c3BhbiBzdHlsZT0iZm9udC1m
YW1pbHk6JnF1b3Q7VGFob21hJnF1b3Q7LHNhbnMtc2VyaWY7Y29sb3I6Izg4ODg4OCI+PGEgaHJl
Zj0ibWFpbHRvOmRldkBodHRwZC5hcGFjaGUub3JnIj48c3BhbiBsYW5nPSJFTi1VUyI+ZGV2QGh0
dHBkLmFwYWNoZS5vcmc8L3NwYW4+PC9hPjwvc3Bhbj48c3BhbiBsYW5nPSJFTi1VUyIgc3R5bGU9
ImZvbnQtZmFtaWx5OiZxdW90O1RhaG9tYSZxdW90OyxzYW5zLXNlcmlmO2NvbG9yOiM4ODg4ODgi
Pjxicj4NClN1YmplY3Q6IDIuNC4xNy1wcm90b2NvbHMtaHR0cDIvIC0gU05JIGlzc3VlPG86cD48
L286cD48L3NwYW4+PC9wPg0KPC9ibG9ja3F1b3RlPg0KPC9ibG9ja3F1b3RlPg0KPHAgY2xhc3M9
Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtZmFtaWx5OiZxdW90O1RhaG9tYSZxdW90Oyxz
YW5zLXNlcmlmO2NvbG9yOiM4ODg4ODgiPltdPGJyPg0KPGJyPg0KPG86cD48L286cD48L3NwYW4+
PC9wPg0KPGJsb2NrcXVvdGUgc3R5bGU9ImJvcmRlcjpub25lO2JvcmRlci1sZWZ0OnNvbGlkICM4
ODg4ODggMS41cHQ7cGFkZGluZzowY20gMGNtIDBjbSA0LjBwdDttYXJnaW4tbGVmdDozLjc1cHQ7
bWFyZ2luLXRvcDo1LjBwdDttYXJnaW4tYm90dG9tOjUuMHB0Ij4NCjxibG9ja3F1b3RlIHN0eWxl
PSJib3JkZXI6bm9uZTtib3JkZXItbGVmdDpzb2xpZCAjODg4ODg4IDEuNXB0O3BhZGRpbmc6MGNt
IDBjbSAwY20gNC4wcHQ7bWFyZ2luLWxlZnQ6My43NXB0O21hcmdpbi10b3A6NS4wcHQ7bWFyZ2lu
LWJvdHRvbTo1LjBwdCI+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj48c3BhbiBzdHlsZT0iZm9udC1m
YW1pbHk6JnF1b3Q7VGFob21hJnF1b3Q7LHNhbnMtc2VyaWY7Y29sb3I6Izg4ODg4OCI+PGJyPg0K
W3NzbDplcnJvcl0gW3BpZCAzNDI4OnRpZCAzOTUyXSBBSDAyMDMyOiBIb3N0bmFtZSA8YSBocmVm
PSJodHRwOi8vd3d3LmFwYWNoZWxvdW5nZS5jb20iIHRhcmdldD0iX2JsYW5rIj4NCmh0dHA6Ly93
d3cuYXBhY2hlbG91bmdlLmNvbTwvYT48YnI+DQpwcm92aWRlZCB2aWEgU05JIGFuZCBob3N0bmFt
ZSA8YSBocmVmPSJodHRwOi8vd3d3LmFwYWNoZWxvdW5nZS5jb20iIHRhcmdldD0iX2JsYW5rIj4N
Cmh0dHA6Ly93d3cuYXBhY2hlbG91bmdlLmNvbTwvYT4gcHJvdmlkZWQgdmlhIEhUVFA8YnI+DQph
cmUgZGlmZmVyZW50PG86cD48L286cD48L3NwYW4+PC9wPg0KPC9ibG9ja3F1b3RlPg0KPHAgY2xh
c3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtZmFtaWx5OiZxdW90O1RhaG9tYSZxdW90
OyxzYW5zLXNlcmlmO2NvbG9yOiM4ODg4ODgiPjxicj4NClRoZSBhYm92ZSBpcyB2ZXJ5IHdlaXJk
IGFzIGJvdGggdGltZXMgd2Ugc2VlIDxhIGhyZWY9Imh0dHA6Ly93d3cuYXBhY2hlbG91bmdlLmNv
bSIgdGFyZ2V0PSJfYmxhbmsiPg0KaHR0cDovL3d3dy5hcGFjaGVsb3VuZ2UuY29tPC9hPi4gQ2Fu
PG86cD48L286cD48L3NwYW4+PC9wPg0KPC9ibG9ja3F1b3RlPg0KPC9ibG9ja3F1b3RlPg0KPHAg
Y2xhc3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtZmFtaWx5OiZxdW90O1RhaG9tYSZx
dW90OyxzYW5zLXNlcmlmO2NvbG9yOiM4ODg4ODgiPnlvdSBwbGVhc2UgY2hlY2sgdGhlIGxvZ3Mg
d2l0aCBzb21lIGtpbmQgb2YgaGV4IHRvb2wgaWYgdGhlcmUgaXMgcmVhbGx5IG5vPGJyPg0KZGlm
ZmVyZW5jZSBiZXR3ZWVuIGJvdGggc3RyaW5ncz8gVGhlIGxvZ2ljIHRvIGRldGVjdCBhIGRpZmZl
cmVuY2UgaW4gdGhlPGJyPg0KY29kZSBpcyBqdXN0IGEgdXN1YWwgc3RyY2FzZWNtcC4gU28gSSBz
ZW5zZSBzb21lIGhpZGRlbiBjaGFyYWN0ZXJzPGJyPg0Kc29tZXdoZXJlLCB3aGljaCBtaWdodCBn
aXZlIHVzIGEgaGludCB3aGVyZSB0aGluZ3MgZ28gcmVhbGx5IHdyb25nLjxvOnA+PC9vOnA+PC9z
cGFuPjwvcD4NCjwvYmxvY2txdW90ZT4NCjxwIGNsYXNzPSJNc29Ob3JtYWwiPjxzcGFuIHN0eWxl
PSJmb250LWZhbWlseTomcXVvdDtUYWhvbWEmcXVvdDssc2Fucy1zZXJpZjtjb2xvcjojODg4ODg4
Ij48YnI+DQpBaGggSSBkaWQgbWlzcyB0aGF0IGhlIHVzZWQgU3RlZmFucyBicmFuY2ggYW5kIG5v
dCB0aGUgMi40LnggYnJhbmNoLjxicj4NCjxicj4NCjxicj4NCjxvOnA+PC9vOnA+PC9zcGFuPjwv
cD4NCjxibG9ja3F1b3RlIHN0eWxlPSJib3JkZXI6bm9uZTtib3JkZXItbGVmdDpzb2xpZCAjODg4
ODg4IDEuNXB0O3BhZGRpbmc6MGNtIDBjbSAwY20gNC4wcHQ7bWFyZ2luLWxlZnQ6My43NXB0O21h
cmdpbi10b3A6NS4wcHQ7bWFyZ2luLWJvdHRvbTo1LjBwdCI+DQo8YmxvY2txdW90ZSBzdHlsZT0i
Ym9yZGVyOm5vbmU7Ym9yZGVyLWxlZnQ6c29saWQgIzg4ODg4OCAxLjVwdDtwYWRkaW5nOjBjbSAw
Y20gMGNtIDQuMHB0O21hcmdpbi1sZWZ0OjMuNzVwdDttYXJnaW4tdG9wOjUuMHB0O21hcmdpbi1i
b3R0b206NS4wcHQiPg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtZmFt
aWx5OiZxdW90O1RhaG9tYSZxdW90OyxzYW5zLXNlcmlmO2NvbG9yOiM4ODg4ODgiPjxicj4NCklT
VE0gdGhhdCB0aGUgdGVzdCBzaG91bGQgYmU6PGJyPg0KJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IGlm
IChzdHJjYXNlY21wKGhvc3QsIHNlcnZlcm5hbWUpPGJyPg0KJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IHx8IChzc2xjb25uLSZndDtzZXJ2ZXI8YnI+DQombmJz
cDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsm
bmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJz
cDsmbmJzcDsgJmFtcDsmYW1wOyAhc3NsX3V0aWxfdmhvc3RfbWF0Y2hlcyhob3N0LCBzc2xjb25u
LSZndDtzZXJ2ZXIpKSk8YnI+DQo8YnI+DQppbnN0ZWFkIG9mOjxicj4NCiZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNw
OyBpZiAoc3RyY2FzZWNtcChob3N0LCBzZXJ2ZXJuYW1lKTxicj4NCiZuYnNwOyZuYnNwOyZuYnNw
OyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZu
YnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyB8fCAhc3NsY29ubi0mZ3Q7c2VydmVyPGJyPg0K
Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5i
c3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IHx8ICFzc2xfdXRp
bF92aG9zdF9tYXRjaGVzKGhvc3QsIHNzbGNvbm4tJmd0O3NlcnZlcikpPGJyPg0KPGJyPg0KTm90
IHN1cmUgc3NsY29ubi0mZ3Q7c2VydmVyIGlzbid0IE5VTEwgaGVyZSBmb3IgdGhlIGZpcnN0IHJl
cXVlc3QuPG86cD48L286cD48L3NwYW4+PC9wPg0KPC9ibG9ja3F1b3RlPg0KPC9ibG9ja3F1b3Rl
Pg0KPHAgY2xhc3M9Ik1zb05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtZmFtaWx5OiZxdW90O1Rh
aG9tYSZxdW90OyxzYW5zLXNlcmlmO2NvbG9yOiM4ODg4ODgiPjxicj4NCkkgc2hvdWxkbid0IGJl
LiBNYXliZSBzZXR0aW5nIHRoZSBsb2dsZXZlbCB0byBEZWJ1ZyBjb3VsZCBoZWxwIHRvIHNlZSB0
aGUgb3RoZXIgU05JIHN0dWZmIHRoYXQgd2FzIGdvaW5nIG9uIGJlZm9yZSBhbmQgaWYgaXQgY29y
cmVjdGx5IGlkZW50aWZpZWQgdGhlIGNvcnJlY3Qgdmhvc3QgdmlhIFNOSS48YnI+DQo8YnI+DQpS
ZWdhcmRzPGJyPg0KPGJyPg0KUsO8ZGlnZXI8bzpwPjwvbzpwPjwvc3Bhbj48L3A+DQo8L2Jsb2Nr
cXVvdGU+DQo8cCBjbGFzcz0iTXNvTm9ybWFsIj48c3BhbiBzdHlsZT0iZm9udC1mYW1pbHk6JnF1
b3Q7VGFob21hJnF1b3Q7LHNhbnMtc2VyaWY7Y29sb3I6IzhFNTY1NiI+PGJyPg0KJmx0O3NlcnJv
ci5sb2cmZ3Q7PG86cD48L286cD48L3NwYW4+PC9wPg0KPC9ibG9ja3F1b3RlPg0KPHAgY2xhc3M9
Ik1zb05vcm1hbCIgc3R5bGU9Im1hcmdpbi1ib3R0b206MTIuMHB0Ij48c3BhbiBzdHlsZT0iZm9u
dC1mYW1pbHk6JnF1b3Q7VGFob21hJnF1b3Q7LHNhbnMtc2VyaWY7Y29sb3I6IzAwNjMxMiI+PGJy
Pg0KJmx0O2dyZWVuLyZndDtieXRlcyBHbWJIPGJyPg0KSGFmZW53ZWcgMTYsIDQ4MTU1IE3DvG5z
dGVyLCBHZXJtYW55PGJyPg0KUGhvbmU6ICYjNDM7NDkgMjUxIDI4MDc3NjAuIEFtdHNnZXJpY2h0
IE3DvG5zdGVyOiBIUkI1NzgyPGJyPg0KPGJyPg0KPGJyPg0KPG86cD48L286cD48L3NwYW4+PC9w
Pg0KPC9ibG9ja3F1b3RlPg0KPHAgY2xhc3M9Ik1zb05vcm1hbCIgc3R5bGU9Im1hcmdpbi1ib3R0
b206MTIuMHB0Ij48c3BhbiBzdHlsZT0iZm9udC1mYW1pbHk6JnF1b3Q7VGFob21hJnF1b3Q7LHNh
bnMtc2VyaWY7Y29sb3I6IzE0NEZBRSI+PGJyPg0KJmx0O2dyZWVuLyZndDtieXRlcyBHbWJIPGJy
Pg0KSGFmZW53ZWcgMTYsIDQ4MTU1IE3DvG5zdGVyLCBHZXJtYW55PGJyPg0KUGhvbmU6ICYjNDM7
NDkgMjUxIDI4MDc3NjAuIEFtdHNnZXJpY2h0IE3DvG5zdGVyOiBIUkI1NzgyPGJyPg0KPGJyPg0K
PGJyPg0KPG86cD48L286cD48L3NwYW4+PC9wPg0KPC9ibG9ja3F1b3RlPg0KPHAgY2xhc3M9Ik1z
b05vcm1hbCI+PHNwYW4gc3R5bGU9ImZvbnQtZmFtaWx5OiZxdW90O1RhaG9tYSZxdW90OyxzYW5z
LXNlcmlmIj48bzpwPiZuYnNwOzwvbzpwPjwvc3Bhbj48L3A+DQo8L2Rpdj4NCjwvZGl2Pg0KPC9i
b2R5Pg0KPC9odG1sPg0K

--_000_AB1691BE05AE7F4992697F2A0835627AC6319CFBVOEXM10Winterna_--

From dev-return-83820-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 18 11:57:59 2015
Return-Path: <dev-return-83820-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 29C3F178C1
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Sep 2015 11:57:59 +0000 (UTC)
Received: (qmail 88129 invoked by uid 500); 18 Sep 2015 11:57:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 88069 invoked by uid 500); 18 Sep 2015 11:57:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 88059 invoked by uid 99); 18 Sep 2015 11:57:55 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Sep 2015 11:57:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 38F57C084E
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 11:57:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.999
X-Spam-Level: *
X-Spam-Status: No, score=1.999 tagged_above=-999 required=6.31
	tests=[FREEMAIL_REPLY=1, KAM_LAZY_DOMAIN_SECURITY=1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_HELO_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 2udU_AaV5Ppf for <dev@httpd.apache.org>;
	Fri, 18 Sep 2015 11:57:42 +0000 (UTC)
Received: from mail1.bemta3.messagelabs.com (mail1.bemta3.messagelabs.com [195.245.230.170])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 877D4207EA
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 11:57:42 +0000 (UTC)
Received: from [85.158.138.179] by server-10.bemta-3.messagelabs.com id 20/C7-23203-F2CFBF55; Fri, 18 Sep 2015 11:57:35 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-10.tower-169.messagelabs.com!1442577454!10369603!1
X-Originating-IP: [195.232.244.134]
X-StarScan-Received:
X-StarScan-Version: 6.13.16; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 13364 invoked from network); 18 Sep 2015 11:57:35 -0000
Received: from mailout02.vodafone.com (HELO mailout02.vodafone.com) (195.232.244.134)
  by server-10.tower-169.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 18 Sep 2015 11:57:35 -0000
Received: from mailint02.vodafone.com (mailint02.vodafone.com [195.232.244.199])
	by mailout02.vodafone.com (Postfix) with ESMTP id 3nHYZ65ZqgzbdMX
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 13:57:34 +0200 (CEST)
Received: from mailint02.vodafone.com (localhost [127.0.0.1])
	by mailint02.vodafone.com (Postfix) with ESMTP id 3nHYZ64dL6zQkbD
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 13:57:34 +0200 (CEST)
Received: from VOEXC03W.internal.vodafone.com (voexc03w.dc-ratingen.de [145.230.101.23])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint02.vodafone.com (Postfix) with ESMTPS id 3nHYZ64HHXzQkYL
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 13:57:34 +0200 (CEST)
Received: from VOEXC30W.internal.vodafone.com (145.230.103.202) by
 VOEXC03W.internal.vodafone.com (145.230.101.23) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Fri, 18 Sep 2015 13:57:34 +0200
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.132]) by voexc30w
 ([145.230.103.202]) with mapi id 14.03.0224.002; Fri, 18 Sep 2015 13:57:33
 +0200
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: AW: 2.4.17-protocols-http2/ - SNI issue
Thread-Topic: 2.4.17-protocols-http2/ - SNI issue
Thread-Index: AQHQ8fVjqGquSNDxHkCy76Joh8rFT55B5WqAgAAWlwCAAAd9AIAAKplw
Date: Fri, 18 Sep 2015 11:57:33 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC6319D0F@VOEXM10W.internal.vodafone.com>
References: <55fbdaef.1e40.1068.6876@land10.nl>
	<AA54FA4B-0FF6-4B86-8262-A5B9B37881D2@greenbytes.de>
	<423B86E7-2AB3-4E98-B22A-1F75BCF9F9C6@greenbytes.de>
 <CAKQ1sVPO-7OWiLaEzwe4XzjXCMOGAjuM_ANJ2zedeyo6b_S1fQ@mail.gmail.com>
In-Reply-To: <CAKQ1sVPO-7OWiLaEzwe4XzjXCMOGAjuM_ANJ2zedeyo6b_S1fQ@mail.gmail.com>
Accept-Language: en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

TG9va3MgZ29vZCBmcm9tIGEgYnJpZWYgdmlldy4gKzENCg0KUmVnYXJkcw0KDQpSw7xkaWdlcg0K
DQo+IC0tLS0tVXJzcHLDvG5nbGljaGUgTmFjaHJpY2h0LS0tLS0NCj4gVm9uOiBZYW5uIFlsYXZp
YyBbbWFpbHRvOnlsYXZpYy5kZXZAZ21haWwuY29tXQ0KPiBHZXNlbmRldDogRnJlaXRhZywgMTgu
IFNlcHRlbWJlciAyMDE1IDEzOjI0DQo+IEFuOiBkZXZAaHR0cGQuYXBhY2hlLm9yZw0KPiBCZXRy
ZWZmOiBSZTogMi40LjE3LXByb3RvY29scy1odHRwMi8gLSBTTkkgaXNzdWUNCj4gDQo+IE9uIEZy
aSwgU2VwIDE4LCAyMDE1IGF0IDEyOjU2IFBNLCBTdGVmYW4gRWlzc2luZw0KPiA8c3RlZmFuLmVp
c3NpbmdAZ3JlZW5ieXRlcy5kZT4gd3JvdGU6DQo+ID4gT2ssIHdoYXQgaXMgaGFwcGVuaW5nIGZv
ciBTdGVmZmVuIGlzIG5vdCBhIGJ1ZywgYnV0IGEgbWlzc2luZyBmZWF0dXJlLg0KPiBUaGUgcXVl
c3Rpb24gaXMgaG93IHdlIG1vdmUgZm9yd2FyZC4NCj4gPg0KPiA+IFRoZSBjZXJ0aWZpY2F0ZSBh
dCBhcGFjaGVsb3VuZ2UuY29tIGhhcyBhIGxvbmcgbGlzdCBvZg0KPiBzdWJqZWN0QWx0TmFtZXMs
IHByb2JhYmx5IGNvbW1vbiBmb3IgYSBsb3Qgb2Ygc2l0ZXMuIENocm9tZSBvcGVucyBhDQo+IGNv
bm5lY3Rpb24gdG8gc2VydmVyMSwgZXN0YWJsaXNoZWQgaDIsIGtlZXBzIGl0IG9wZW4uIFlvdSBv
cGVuIGEgdGFiIG9uDQo+IHNlcnZlcjIsIGNocm9tZSBzZWVzIHRoZSBhbHROYW1lIG9uIHRoZSBz
ZXJ2ZXIxIGNlcnQgYW5kICpyZXVzZXMqIHRoYXQNCj4gY29ubmVjdGlvbiB0byBzZW5kIHRoZSBy
ZXF1ZXN0IGZvciBzZXJ2ZXIyLg0KPiA+DQo+ID4gaHR0cGQgc2VlcyB0aGF0IHRoZSByZXF1ZXN0
IGlzIG5vdCBpbiB0aGUgc2FtZSB2aG9zdCBhcyB0aGUgb25lDQo+IGJlbG9uZ2luZyB0byB0aGUg
U05JIHNlcnZlcjEgYW5kIHJlZnVzZXMgdG8gc2VydmUgaXQgd2l0aCBhIDQyMS4gV2hpY2gNCj4g
cmZjNzU0MCBpbnRlbmRlZCBmb3IgdGhpcywgdGVsbGluZyB0aGUgY2xpZW50IHRvIHVzZSBhIG5l
dyBjb25uZWN0aW9uLg0KPiANCj4gSU1ITyB3ZSBzaG91bGQgbm90IGJhc2Ugb3VyIGNoZWNrIG9u
IFNOSSB2cyBob3N0bmFtZSAoaGVhZGVyIEhvc3QpIGJ1dA0KPiByYXRoZXIgci0+c2VydmVyIHZz
IHNzbGNvbm4tPnNlcnZlciAoaWUuIGhhbmRzaGFrZXNlcnZlciksIHBhdGNoDQo+IGF0dGFjaGVk
Lg0KPiANCj4gV2hhdCByZWFsbHkgbWF0dGVycyBpcyB0aGF0IHRoZSBpbml0aWFsIGhhbmRzaGFr
ZSB3YXMgbWFkZSB3aXRoIHRoZQ0KPiBzYW1lIFNTTCBwYXJhbWV0ZXJzLg0KPiANCj4gUmVnYXJk
cywNCj4gWWFubi4NCg==

From dev-return-83821-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 18 12:22:18 2015
Return-Path: <dev-return-83821-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8FD7B179C1
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Sep 2015 12:22:18 +0000 (UTC)
Received: (qmail 55165 invoked by uid 500); 18 Sep 2015 12:22:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55100 invoked by uid 500); 18 Sep 2015 12:22:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 55090 invoked by uid 99); 18 Sep 2015 12:22:17 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Sep 2015 12:22:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5352C1A23BF
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 12:22:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id QamYAxcn8rae for <dev@httpd.apache.org>;
	Fri, 18 Sep 2015 12:22:06 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id DBB7B20F4A
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 12:22:05 +0000 (UTC)
Received: from [192.168.178.41] (unknown [84.150.92.166])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 9A4E615A04F4
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 14:22:03 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: 2.4.17-protocols-http2/ - SNI issue
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC6319D0F@VOEXM10W.internal.vodafone.com>
Date: Fri, 18 Sep 2015 14:22:02 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <375567D6-DCD5-42A7-8EB3-2943FF377739@greenbytes.de>
References: <55fbdaef.1e40.1068.6876@land10.nl> <AA54FA4B-0FF6-4B86-8262-A5B9B37881D2@greenbytes.de> <423B86E7-2AB3-4E98-B22A-1F75BCF9F9C6@greenbytes.de> <CAKQ1sVPO-7OWiLaEzwe4XzjXCMOGAjuM_ANJ2zedeyo6b_S1fQ@mail.gmail.com> <AB1691BE05AE7F4992697F2A0835627AC6319D0F@VOEXM10W.internal.vodafone.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

+1.

I would like it to go further, in case the relevant SSL config is the =
same for both hosts, but this looks definitely better than what we have =
now. Maybe I'd work on that next week a bit...

> Am 18.09.2015 um 13:57 schrieb Pl=C3=BCm, R=C3=BCdiger, Vodafone Group =
<ruediger.pluem@vodafone.com>:
>=20
> Looks good from a brief view. +1
>=20
> Regards
>=20
> R=C3=BCdiger
>=20
>> -----Urspr=C3=BCngliche Nachricht-----
>> Von: Yann Ylavic [mailto:ylavic.dev@gmail.com]
>> Gesendet: Freitag, 18. September 2015 13:24
>> An: dev@httpd.apache.org
>> Betreff: Re: 2.4.17-protocols-http2/ - SNI issue
>>=20
>> On Fri, Sep 18, 2015 at 12:56 PM, Stefan Eissing
>> <stefan.eissing@greenbytes.de> wrote:
>>> Ok, what is happening for Steffen is not a bug, but a missing =
feature.
>> The question is how we move forward.
>>>=20
>>> The certificate at apachelounge.com has a long list of
>> subjectAltNames, probably common for a lot of sites. Chrome opens a
>> connection to server1, established h2, keeps it open. You open a tab =
on
>> server2, chrome sees the altName on the server1 cert and *reuses* =
that
>> connection to send the request for server2.
>>>=20
>>> httpd sees that the request is not in the same vhost as the one
>> belonging to the SNI server1 and refuses to serve it with a 421. =
Which
>> rfc7540 intended for this, telling the client to use a new =
connection.
>>=20
>> IMHO we should not base our check on SNI vs hostname (header Host) =
but
>> rather r->server vs sslconn->server (ie. handshakeserver), patch
>> attached.
>>=20
>> What really matters is that the initial handshake was made with the
>> same SSL parameters.
>>=20
>> Regards,
>> Yann.

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83822-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 18 12:24:56 2015
Return-Path: <dev-return-83822-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1B7B6179D6
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Sep 2015 12:24:56 +0000 (UTC)
Received: (qmail 60819 invoked by uid 500); 18 Sep 2015 12:24:55 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 60742 invoked by uid 500); 18 Sep 2015 12:24:55 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 60732 invoked by uid 99); 18 Sep 2015 12:24:55 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Sep 2015 12:24:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 31803E0890
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 12:24:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001,
	WEIRD_PORT=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id fNB4xoB7ovTF for <dev@httpd.apache.org>;
	Fri, 18 Sep 2015 12:24:42 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id A258A2039F
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 12:24:41 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1442579134;
	bh=pWeviEecTCYiChkimiOtAAtQ+zXkXxcFECfIM/nxjyw=;
	h=From:To:References:In-Reply-To:Subject:Date;
	b=N7QwOA24Ffh6i58/0AXjjSqcjAog7PJ2xFQaXrrHq7tGNrQNB88AZeZbtEe1iZNqp
	 gCMO429bfpOZT0MV/NeDeezGxjPXPmFJtUZNYoKAY+k6mlv8rUUoZBxlO6KV7dTAZS
	 koAFlyQBX6nr87kfJ381b6lQ/QrALNjxEemvsjm4=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <D2AFE7AAD87742C4AD754C2984C53291@father>
From: "Steffen" <info@apachelounge.com>
To: <dev@httpd.apache.org>
References: <55fbf36d.b94.1c54.5936@land10.nl>
In-Reply-To: <55fbf36d.b94.1c54.5936@land10.nl>
Subject: Re: 2.4.17-protocols-http2/ - SNI issue
Date: Fri, 18 Sep 2015 14:25:25 +0200
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_0066_01D0F21D.DC3BE2F0"
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

This is a multi-part message in MIME format.

------=_NextPart_000_0066_01D0F21D.DC3BE2F0
Content-Type: text/plain;
	format=flowed;
	charset="utf-8";
	reply-type=original
Content-Transfer-Encoding: 8bit

When I remove mod_h2 from the config (so the config exactly the same as 
2.4.16) :

Then same error, see attached apache log serror-noh2.log

Also did  it with Curl, and same issue, see attached Curl-noh2.log

Curl says first    subjectAltName: www.apachelounge.com matched,
and then Apache responses with Misdirect Request same as in Chrome (no hots 
anme match).

Steffen

From: Steffen
Sent: Friday, September 18, 2015 1:20 PM
To: dev@httpd.apache.org
Subject: Re: 2.4.17-protocols-http2/ - SNI issue

Indeed subjectAltnames are very common in use.

Windows 10 IE(Edge) browser same issue.

User sees in Chrome:
Misdirected Request. The client needs a new connection for this request as 
the requested host name does not match the Server Name Indication (SNI) in 
use for this connection.

And then times out.

Btw.
The config has no vhost (SSL only), what works fine http/1.1 with 2.4.16-
..
..
...
DocumentRoot ....
ServerName ....
Listen 443
SSLStrictSNIVHostCheck off
SSLEngine on
SSLHonorCipherOrder On
SSLUseStapling on
SSLCipherSuite .......
SSLCompression off
SSLCertificateFile ......
SSLCertificateKeyFile ......
...
...
....


Steffen


On Friday 18/09/2015 at 12:58, Stefan Eissing wrote:
Ok, what is happening for Steffen is not a bug, but a missing feature. The 
question is how we move forward.

The certificate at apachelounge.com has a long list of subjectAltNames, 
probably common for a lot of sites. Chrome opens a connection to server1, 
established h2, keeps it open. You open a tab on server2, chrome sees the 
altName on the server1 cert and *reuses* that connection to send the request 
for server2.

httpd sees that the request is not in the same vhost as the one belonging to 
the SNI server1 and refuses to serve it with a 421. Which rfc7540 intended 
for this, telling the client to use a new connection.

Question to Steffen:
- what error does the chrome user see? Is it interrupting his browsing?

Questions to All:
1. logging an ERROR for this will spam the log more and more in the future. 
We can use a DEBUG level if we are *not* on a 'http/1.1' protocol. ERR for 
'http/1.1'.
2. We can check if the r->hostname is in the altNames of the server cert for 
the connection. Question is: what to do then? The request processing will 
select the correct vhost based on r->hostname, but any SSL parameters will 
not be triggered probably? Do we want to accept that?
3. We can allow 2 only for non-http/1.1 connection protocols
4. We can allow 2 only for h2 connection protocols
5. We can add a config directive to allow 2 (urgs)

//Stefan

Am 18.09.2015 um 11:36 schrieb Stefan Eissing 
<stefan.eissing@greenbytes.de>:

I think I found it. Just writing a test case to confirm...

Am 18.09.2015 um 11:35 schrieb Steffen <info@apachelounge.com>:

Debug log attached.



On Wednesday 16/09/2015 at 12:06, Plüm wrote:


-----Original Message-----
From: Stefan Eissing [mailto:stefan.eissing@greenbytes.de]
Sent: Mittwoch, 16. September 2015 11:38
To: dev@httpd.apache.org
Subject: Re: 2.4.17-protocols-http2/ - SNI issue

Good point. Limited online today. If someone wants to give this a shot,
please.

Am 16.09.2015 um 11:36 schrieb Yann Ylavic <ylavic.dev@gmail.com>:

On Wed, Sep 16, 2015 at 11:24 AM, Plüm, Rüdiger, Vodafone Group
<ruediger.pluem@vodafone.com> wrote:

-----Original Message-----
From: Steffen
Sent: Mittwoch, 16. September 2015 11:14
To: dev@httpd.apache.org
Subject: 2.4.17-protocols-http2/ - SNI issue
[]

[ssl:error] [pid 3428:tid 3952] AH02032: Hostname 
http://www.apachelounge.com
provided via SNI and hostname http://www.apachelounge.com provided via HTTP
are different

The above is very weird as both times we see http://www.apachelounge.com. 
Can
you please check the logs with some kind of hex tool if there is really no
difference between both strings? The logic to detect a difference in the
code is just a usual strcasecmp. So I sense some hidden characters
somewhere, which might give us a hint where things go really wrong.

Ahh I did miss that he used Stefans branch and not the 2.4.x branch.


ISTM that the test should be:
              if (strcasecmp(host, servername)
                  || (sslconn->server
                      && !ssl_util_vhost_matches(host, sslconn->server)))

instead of:
             if (strcasecmp(host, servername)
                  || !sslconn->server
                  || !ssl_util_vhost_matches(host, sslconn->server))

Not sure sslconn->server isn't NULL here for the first request.

I shouldn't be. Maybe setting the loglevel to Debug could help to see the 
other SNI stuff that was going on before and if it correctly identified the 
correct vhost via SNI.

Regards

Rüdiger

<serror.log>

<green/>bytes GmbH
Hafenweg 16, 48155 Münster, Germany
Phone: +49 251 2807760. Amtsgericht Münster: HRB5782




<green/>bytes GmbH
Hafenweg 16, 48155 Münster, Germany
Phone: +49 251 2807760. Amtsgericht Münster: HRB5782




------=_NextPart_000_0066_01D0F21D.DC3BE2F0
Content-Type: text/plain;
	format=flowed;
	name="Curl-noh2.txt";
	reply-type=original
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="Curl-noh2.txt"


>curl -v -6 --cacert D:\servers\apacheS\conf\curl-ca-bundle.crt
https://www.apachelounge.com:444/


*   Trying 2001:980:a510:1:d571:caed:72a0:9e9b...
* Connected to www.apachelounge.com =
(2001:980:a510:1:d571:caed:72a0:9e9b)
port 4
44 (#0)
* ALPN, offering http/1.1
* Cipher selection:
ALL:!EXPORT:!EXPORT40:!EXPORT56:!aNULL:!LOW:!RC4:@STRENGTH
* successfully set certificate verify locations:
*   CAfile: D:\servers\apacheS\conf\curl-ca-bundle.crt
  CApath: none
* TLSv1.2 (OUT), TLS header, Certificate Status (22):
* TLSv1.2 (OUT), TLS handshake, Client hello (1):
* TLSv1.2 (IN), TLS handshake, Server hello (2):
* TLSv1.2 (IN), TLS handshake, Certificate (11):
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
* TLSv1.2 (IN), TLS handshake, Server finished (14):
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
* TLSv1.2 (OUT), TLS change cipher, Client hello (1):
* TLSv1.2 (OUT), TLS handshake, Finished (20):
* TLSv1.2 (IN), TLS change cipher, Client hello (1):
* TLSv1.2 (IN), TLS handshake, Finished (20):
* SSL connection using TLSv1.2 / ECDHE-RSA-AES256-GCM-SHA384
* ALPN, server accepted to use http/1.1
* Server certificate:
*        subject: C=3DNL; ST=3DNorth Holland; L=3DHilversum; O=3DSteffen =
Land;
CN=3Dwww.ap
achelounge.com; emailAddress=3Dpostmaster@apachelounge.com
*        start date: 2015-05-03 18:31:49 GMT
*        expire date: 2017-05-04 10:21:00 GMT
*        subjectAltName: www.apachelounge.com matched
*        issuer: C=3DIL; O=3DStartCom Ltd.; OU=3DSecure Digital =
Certificate
Signing; C
N=3DStartCom Class 2 Primary Intermediate Server CA
*        SSL certificate verify ok.
> GET / HTTP/1.1
> Host: www.apachelounge.com:444
> User-Agent: curl/7.44.0
> Accept: */*
>
< HTTP/1.1 421 Misdirected Request
< Date: Fri, 18 Sep 2015 12:14:31 GMT
< Server: Apache
< Content-Length: 322
< Content-Type: text/html; charset=3Diso-8859-1
<
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>421 Misdirected Request</title>
</head><body>
<h1>Misdirected Request</h1>
<p>The client needs a new connection for this
request as the requested host name does not match
the Server Name Indication (SNI) in use for this
connection.</p>
</body></html>
* Connection #0 to host www.apachelounge.com left intact

F:\Temp\libcurl-vc14-x64-release-dll-ssl-dll-zlib-dll\bin>

------=_NextPart_000_0066_01D0F21D.DC3BE2F0
Content-Type: application/octet-stream;
	name="serror-noh2.log"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="serror-noh2.log"

[Fri Sep 18 14:06:15.198286 2015] [ssl:info] [pid 3848:tid 400] AH01887: =
Init: Initializing (virtual) servers for SSL
[Fri Sep 18 14:06:15.198286 2015] [ssl:info] [pid 3848:tid 400] AH01914: =
Configuring server www.land10web.com:443 for SSL protocol
[Fri Sep 18 14:06:15.198286 2015] [ssl:debug] [pid 3848:tid 400] =
ssl_engine_init.c(391): AH01893: Configuring TLS extension handling
[Fri Sep 18 14:06:15.198286 2015] [ssl:debug] [pid 3848:tid 400] =
ssl_util_stapling.c(828): AH01960: OCSP stapling initialized
[Fri Sep 18 14:06:15.213911 2015] [ssl:debug] [pid 3848:tid 400] =
ssl_util_ssl.c(404): AH02412: [www.land10web.com:443] Cert matches for =
name 'www.land10web.com' [subject: =
emailAddress=3Dpostmaster@apachelounge.com,CN=3Dwww.apachelounge.com,O=3D=
Steffen Land,L=3DHilversum,ST=3DNorth Holland,C=3DNL / issuer: =
CN=3DStartCom Class 2 Primary Intermediate Server CA,OU=3DSecure Digital =
Certificate Signing,O=3DStartCom Ltd.,C=3DIL / serial: 07382B7D2395FC / =
notbefore: May  3 18:31:49 2015 GMT / notafter: May  4 10:21:00 2017 =
GMT]
[Fri Sep 18 14:06:15.213911 2015] [ssl:info] [pid 3848:tid 400] AH02568: =
Certificate and private key www.land10web.com:443:0 configured from =
D:/servers/apacheS/conf/ssl.crt and D:/servers/apacheS/conf/ssl.key
[Fri Sep 18 14:06:15.213911 2015] [ssl:info] [pid 3848:tid 400] AH01876: =
mod_ssl/2.4.17-dev compiled against Server: Apache/2.4.17-dev, Library: =
OpenSSL/1.0.2d
[Fri Sep 18 14:06:15.276411 2015] [socache_shmcb:debug] [pid 3848:tid =
400] mod_socache_shmcb.c(394): AH00821: shmcb_init allocated 512000 =
bytes of shared memory
[Fri Sep 18 14:06:15.276411 2015] [socache_shmcb:debug] [pid 3848:tid =
400] mod_socache_shmcb.c(408): AH00822: for 511944 bytes (512000 =
including header), recommending 8 subcaches, 42 indexes each
[Fri Sep 18 14:06:15.276411 2015] [socache_shmcb:debug] [pid 3848:tid =
400] mod_socache_shmcb.c(445): AH00824: shmcb_init_memory choices follow
[Fri Sep 18 14:06:15.276411 2015] [socache_shmcb:debug] [pid 3848:tid =
400] mod_socache_shmcb.c(447): AH00825: subcache_num =3D 8
[Fri Sep 18 14:06:15.276411 2015] [socache_shmcb:debug] [pid 3848:tid =
400] mod_socache_shmcb.c(449): AH00826: subcache_size =3D 63992
[Fri Sep 18 14:06:15.276411 2015] [socache_shmcb:debug] [pid 3848:tid =
400] mod_socache_shmcb.c(451): AH00827: subcache_data_offset =3D 1024
[Fri Sep 18 14:06:15.276411 2015] [socache_shmcb:debug] [pid 3848:tid =
400] mod_socache_shmcb.c(453): AH00828: subcache_data_size =3D 62968
[Fri Sep 18 14:06:15.276411 2015] [socache_shmcb:debug] [pid 3848:tid =
400] mod_socache_shmcb.c(455): AH00829: index_num =3D 42
[Fri Sep 18 14:06:15.276411 2015] [socache_shmcb:info] [pid 3848:tid =
400] AH00830: Shared memory socache initialised
[Fri Sep 18 14:06:15.276411 2015] [socache_shmcb:debug] [pid 3848:tid =
400] mod_socache_shmcb.c(394): AH00821: shmcb_init allocated 512000 =
bytes of shared memory
[Fri Sep 18 14:06:15.276411 2015] [socache_shmcb:debug] [pid 3848:tid =
400] mod_socache_shmcb.c(408): AH00822: for 511944 bytes (512000 =
including header), recommending 32 subcaches, 88 indexes each
[Fri Sep 18 14:06:15.276411 2015] [socache_shmcb:debug] [pid 3848:tid =
400] mod_socache_shmcb.c(445): AH00824: shmcb_init_memory choices follow
[Fri Sep 18 14:06:15.276411 2015] [socache_shmcb:debug] [pid 3848:tid =
400] mod_socache_shmcb.c(447): AH00825: subcache_num =3D 32
[Fri Sep 18 14:06:15.276411 2015] [socache_shmcb:debug] [pid 3848:tid =
400] mod_socache_shmcb.c(449): AH00826: subcache_size =3D 15992
[Fri Sep 18 14:06:15.276411 2015] [socache_shmcb:debug] [pid 3848:tid =
400] mod_socache_shmcb.c(451): AH00827: subcache_data_offset =3D 2128
[Fri Sep 18 14:06:15.276411 2015] [socache_shmcb:debug] [pid 3848:tid =
400] mod_socache_shmcb.c(453): AH00828: subcache_data_size =3D 13864
[Fri Sep 18 14:06:15.276411 2015] [socache_shmcb:debug] [pid 3848:tid =
400] mod_socache_shmcb.c(455): AH00829: index_num =3D 88
[Fri Sep 18 14:06:15.276411 2015] [socache_shmcb:info] [pid 3848:tid =
400] AH00830: Shared memory socache initialised
[Fri Sep 18 14:06:15.276411 2015] [ssl:info] [pid 3848:tid 400] AH01887: =
Init: Initializing (virtual) servers for SSL
[Fri Sep 18 14:06:15.276411 2015] [ssl:info] [pid 3848:tid 400] AH01914: =
Configuring server www.land10web.com:443 for SSL protocol
[Fri Sep 18 14:06:15.276411 2015] [ssl:debug] [pid 3848:tid 400] =
ssl_engine_init.c(391): AH01893: Configuring TLS extension handling
[Fri Sep 18 14:06:15.276411 2015] [ssl:debug] [pid 3848:tid 400] =
ssl_util_stapling.c(828): AH01960: OCSP stapling initialized
[Fri Sep 18 14:06:15.276411 2015] [ssl:debug] [pid 3848:tid 400] =
ssl_util_ssl.c(404): AH02412: [www.land10web.com:443] Cert matches for =
name 'www.land10web.com' [subject: =
emailAddress=3Dpostmaster@apachelounge.com,CN=3Dwww.apachelounge.com,O=3D=
Steffen Land,L=3DHilversum,ST=3DNorth Holland,C=3DNL / issuer: =
CN=3DStartCom Class 2 Primary Intermediate Server CA,OU=3DSecure Digital =
Certificate Signing,O=3DStartCom Ltd.,C=3DIL / serial: 07382B7D2395FC / =
notbefore: May  3 18:31:49 2015 GMT / notafter: May  4 10:21:00 2017 =
GMT]
[Fri Sep 18 14:06:15.276411 2015] [ssl:info] [pid 3848:tid 400] AH02568: =
Certificate and private key www.land10web.com:443:0 configured from =
D:/servers/apacheS/conf/ssl.crt and D:/servers/apacheS/conf/ssl.key
[Fri Sep 18 14:06:15.276411 2015] [ssl:info] [pid 3848:tid 400] AH01876: =
mod_ssl/2.4.17-dev compiled against Server: Apache/2.4.17-dev, Library: =
OpenSSL/1.0.2d
[Fri Sep 18 14:06:15.276411 2015] [mpm_winnt:notice] [pid 3848:tid 400] =
AH00455: Apache/2.4.17-dev (Win64) OpenSSL/1.0.2d configured -- resuming =
normal operations
[Fri Sep 18 14:06:15.276411 2015] [mpm_winnt:notice] [pid 3848:tid 400] =
AH00456: Apache Lounge VC14 Server built: Sep 15 2015 15:07:53
[Fri Sep 18 14:06:15.276411 2015] [core:notice] [pid 3848:tid 400] =
AH00094: Command line: 'D:\\servers\\apacheS\\bin\\httpd.exe -d =
D:/servers/apacheS'
[Fri Sep 18 14:06:15.276411 2015] [mpm_winnt:notice] [pid 3848:tid 400] =
AH00418: Parent: Created child process 8640
[Fri Sep 18 14:06:15.276411 2015] [mpm_winnt:debug] [pid 3848:tid 400] =
mpm_winnt.c(422): AH00402: Parent: Sent the scoreboard to the child
[Fri Sep 18 14:06:15.510781 2015] [ssl:info] [pid 8640:tid 316] AH01887: =
Init: Initializing (virtual) servers for SSL
[Fri Sep 18 14:06:15.510781 2015] [ssl:info] [pid 8640:tid 316] AH01914: =
Configuring server www.land10web.com:443 for SSL protocol
[Fri Sep 18 14:06:15.510781 2015] [ssl:debug] [pid 8640:tid 316] =
ssl_engine_init.c(391): AH01893: Configuring TLS extension handling
[Fri Sep 18 14:06:15.510781 2015] [ssl:debug] [pid 8640:tid 316] =
ssl_util_stapling.c(828): AH01960: OCSP stapling initialized
[Fri Sep 18 14:06:15.510781 2015] [ssl:debug] [pid 8640:tid 316] =
ssl_util_ssl.c(404): AH02412: [www.land10web.com:443] Cert matches for =
name 'www.land10web.com' [subject: =
emailAddress=3Dpostmaster@apachelounge.com,CN=3Dwww.apachelounge.com,O=3D=
Steffen Land,L=3DHilversum,ST=3DNorth Holland,C=3DNL / issuer: =
CN=3DStartCom Class 2 Primary Intermediate Server CA,OU=3DSecure Digital =
Certificate Signing,O=3DStartCom Ltd.,C=3DIL / serial: 07382B7D2395FC / =
notbefore: May  3 18:31:49 2015 GMT / notafter: May  4 10:21:00 2017 =
GMT]
[Fri Sep 18 14:06:15.510781 2015] [ssl:info] [pid 8640:tid 316] AH02568: =
Certificate and private key www.land10web.com:443:0 configured from =
D:/servers/apacheS/conf/ssl.crt and D:/servers/apacheS/conf/ssl.key
[Fri Sep 18 14:06:15.510781 2015] [ssl:info] [pid 8640:tid 316] AH01876: =
mod_ssl/2.4.17-dev compiled against Server: Apache/2.4.17-dev, Library: =
OpenSSL/1.0.2d
[Fri Sep 18 14:06:15.580714 2015] [socache_shmcb:debug] [pid 8640:tid =
316] mod_socache_shmcb.c(394): AH00821: shmcb_init allocated 512000 =
bytes of shared memory
[Fri Sep 18 14:06:15.580714 2015] [socache_shmcb:debug] [pid 8640:tid =
316] mod_socache_shmcb.c(408): AH00822: for 511944 bytes (512000 =
including header), recommending 8 subcaches, 42 indexes each
[Fri Sep 18 14:06:15.580714 2015] [socache_shmcb:debug] [pid 8640:tid =
316] mod_socache_shmcb.c(445): AH00824: shmcb_init_memory choices follow
[Fri Sep 18 14:06:15.580714 2015] [socache_shmcb:debug] [pid 8640:tid =
316] mod_socache_shmcb.c(447): AH00825: subcache_num =3D 8
[Fri Sep 18 14:06:15.580714 2015] [socache_shmcb:debug] [pid 8640:tid =
316] mod_socache_shmcb.c(449): AH00826: subcache_size =3D 63992
[Fri Sep 18 14:06:15.580714 2015] [socache_shmcb:debug] [pid 8640:tid =
316] mod_socache_shmcb.c(451): AH00827: subcache_data_offset =3D 1024
[Fri Sep 18 14:06:15.580714 2015] [socache_shmcb:debug] [pid 8640:tid =
316] mod_socache_shmcb.c(453): AH00828: subcache_data_size =3D 62968
[Fri Sep 18 14:06:15.580714 2015] [socache_shmcb:debug] [pid 8640:tid =
316] mod_socache_shmcb.c(455): AH00829: index_num =3D 42
[Fri Sep 18 14:06:15.580714 2015] [socache_shmcb:info] [pid 8640:tid =
316] AH00830: Shared memory socache initialised
[Fri Sep 18 14:06:15.580714 2015] [socache_shmcb:debug] [pid 8640:tid =
316] mod_socache_shmcb.c(394): AH00821: shmcb_init allocated 512000 =
bytes of shared memory
[Fri Sep 18 14:06:15.580714 2015] [socache_shmcb:debug] [pid 8640:tid =
316] mod_socache_shmcb.c(408): AH00822: for 511944 bytes (512000 =
including header), recommending 32 subcaches, 88 indexes each
[Fri Sep 18 14:06:15.580714 2015] [socache_shmcb:debug] [pid 8640:tid =
316] mod_socache_shmcb.c(445): AH00824: shmcb_init_memory choices follow
[Fri Sep 18 14:06:15.580714 2015] [socache_shmcb:debug] [pid 8640:tid =
316] mod_socache_shmcb.c(447): AH00825: subcache_num =3D 32
[Fri Sep 18 14:06:15.580714 2015] [socache_shmcb:debug] [pid 8640:tid =
316] mod_socache_shmcb.c(449): AH00826: subcache_size =3D 15992
[Fri Sep 18 14:06:15.580714 2015] [socache_shmcb:debug] [pid 8640:tid =
316] mod_socache_shmcb.c(451): AH00827: subcache_data_offset =3D 2128
[Fri Sep 18 14:06:15.580714 2015] [socache_shmcb:debug] [pid 8640:tid =
316] mod_socache_shmcb.c(453): AH00828: subcache_data_size =3D 13864
[Fri Sep 18 14:06:15.580714 2015] [socache_shmcb:debug] [pid 8640:tid =
316] mod_socache_shmcb.c(455): AH00829: index_num =3D 88
[Fri Sep 18 14:06:15.580714 2015] [socache_shmcb:info] [pid 8640:tid =
316] AH00830: Shared memory socache initialised
[Fri Sep 18 14:06:15.580714 2015] [ssl:info] [pid 8640:tid 316] AH01887: =
Init: Initializing (virtual) servers for SSL
[Fri Sep 18 14:06:15.580714 2015] [ssl:info] [pid 8640:tid 316] AH01914: =
Configuring server www.land10web.com:443 for SSL protocol
[Fri Sep 18 14:06:15.580714 2015] [ssl:debug] [pid 8640:tid 316] =
ssl_engine_init.c(391): AH01893: Configuring TLS extension handling
[Fri Sep 18 14:06:15.580714 2015] [ssl:debug] [pid 8640:tid 316] =
ssl_util_stapling.c(828): AH01960: OCSP stapling initialized
[Fri Sep 18 14:06:15.580714 2015] [ssl:debug] [pid 8640:tid 316] =
ssl_util_ssl.c(404): AH02412: [www.land10web.com:443] Cert matches for =
name 'www.land10web.com' [subject: =
emailAddress=3Dpostmaster@apachelounge.com,CN=3Dwww.apachelounge.com,O=3D=
Steffen Land,L=3DHilversum,ST=3DNorth Holland,C=3DNL / issuer: =
CN=3DStartCom Class 2 Primary Intermediate Server CA,OU=3DSecure Digital =
Certificate Signing,O=3DStartCom Ltd.,C=3DIL / serial: 07382B7D2395FC / =
notbefore: May  3 18:31:49 2015 GMT / notafter: May  4 10:21:00 2017 =
GMT]
[Fri Sep 18 14:06:15.580714 2015] [ssl:info] [pid 8640:tid 316] AH02568: =
Certificate and private key www.land10web.com:443:0 configured from =
D:/servers/apacheS/conf/ssl.crt and D:/servers/apacheS/conf/ssl.key
[Fri Sep 18 14:06:15.580714 2015] [ssl:info] [pid 8640:tid 316] AH01876: =
mod_ssl/2.4.17-dev compiled against Server: Apache/2.4.17-dev, Library: =
OpenSSL/1.0.2d
[Fri Sep 18 14:06:15.580714 2015] [mpm_winnt:debug] [pid 8640:tid 316] =
mpm_winnt.c(1708): AH00453: Child process is running
[Fri Sep 18 14:06:15.580714 2015] [mpm_winnt:debug] [pid 8640:tid 316] =
mpm_winnt.c(343): AH00391: Child: Retrieved our scoreboard from the =
parent.
[Fri Sep 18 14:06:15.580714 2015] [mpm_winnt:debug] [pid 8640:tid 316] =
mpm_winnt.c(458): AH00403: Child: Waiting for data for listening socket =
0.0.0.0:444
[Fri Sep 18 14:06:15.580714 2015] [mpm_winnt:debug] [pid 3848:tid 400] =
mpm_winnt.c(505): AH00408: Parent: Duplicating socket 376 (0.0.0.0:444) =
and sending it to child process 8640
[Fri Sep 18 14:06:15.580714 2015] [mpm_winnt:debug] [pid 3848:tid 400] =
mpm_winnt.c(505): AH00408: Parent: Duplicating socket 384 ([::]:444) and =
sending it to child process 8640
[Fri Sep 18 14:06:15.580714 2015] [mpm_winnt:debug] [pid 3848:tid 400] =
mpm_winnt.c(524): AH00411: Parent: Sent 2 listeners to child 8640
[Fri Sep 18 14:06:15.580714 2015] [mpm_winnt:debug] [pid 8640:tid 316] =
mpm_winnt.c(458): AH00403: Child: Waiting for data for listening socket =
[::]:444
[Fri Sep 18 14:06:15.580714 2015] [mpm_winnt:debug] [pid 8640:tid 316] =
mpm_winnt.c(483): AH00407: Child: retrieved 2 listeners from parent
[Fri Sep 18 14:06:15.580714 2015] [proxy:debug] [pid 8640:tid 316] =
proxy_util.c(1782): AH00925: initializing worker http://127.0.0.1:88/ =
shared
[Fri Sep 18 14:06:15.580714 2015] [proxy:debug] [pid 8640:tid 316] =
proxy_util.c(1824): AH00927: initializing worker http://127.0.0.1:88/ =
local
[Fri Sep 18 14:06:15.580714 2015] [proxy:debug] [pid 8640:tid 316] =
proxy_util.c(1858): AH00930: initialized pool in child 8640 for =
(127.0.0.1) min=3D0 max=3D128 smax=3D128
[Fri Sep 18 14:06:15.580714 2015] [proxy:debug] [pid 8640:tid 316] =
proxy_util.c(1782): AH00925: initializing worker proxy:reverse shared
[Fri Sep 18 14:06:15.580714 2015] [proxy:debug] [pid 8640:tid 316] =
proxy_util.c(1824): AH00927: initializing worker proxy:reverse local
[Fri Sep 18 14:06:15.580714 2015] [proxy:debug] [pid 8640:tid 316] =
proxy_util.c(1858): AH00930: initialized pool in child 8640 for (*) =
min=3D0 max=3D128 smax=3D128
[Fri Sep 18 14:06:15.580714 2015] [mpm_winnt:debug] [pid 8640:tid 316] =
child.c(1021): AH00352: Child: Acquired the start mutex.
[Fri Sep 18 14:06:15.580714 2015] [mpm_winnt:notice] [pid 8640:tid 316] =
AH00354: Child: Starting 128 worker threads.
[Fri Sep 18 14:06:15.580714 2015] [mpm_winnt:debug] [pid 8640:tid 1472] =
child.c(399): AH00334: Child: Accept thread listening on 0.0.0.0:444 =
using AcceptFilter data
[Fri Sep 18 14:06:15.580714 2015] [mpm_winnt:debug] [pid 8640:tid 1476] =
child.c(399): AH00334: Child: Accept thread listening on [::]:444 using =
AcceptFilter data
[Fri Sep 18 14:06:35.731738 2015] [ssl:info] [pid 8640:tid 1452] [client =
2001:980:a510:1:d571:caed:72a0:9e9b:59265] AH01964: Connection to child =
127 established (server www.land10web.com:443)
[Fri Sep 18 14:06:35.731738 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_engine_kernel.c(1938): [client =
2001:980:a510:1:d571:caed:72a0:9e9b:59265] AH02044: No matching SSL =
virtual host for servername www.apachelounge.com found (using =
default/first virtual host)
[Fri Sep 18 14:06:35.731738 2015] [core:debug] [pid 8640:tid 1452] =
protocol.c(1837): [client 2001:980:a510:1:d571:caed:72a0:9e9b:59265] =
select protocol from , choices=3Dhttp/1.1,spdy/3.1,h2-14,h2 for server =
www.land10web.com
[Fri Sep 18 14:06:35.731738 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_engine_kernel.c(1938): [client =
2001:980:a510:1:d571:caed:72a0:9e9b:59265] AH02044: No matching SSL =
virtual host for servername www.apachelounge.com found (using =
default/first virtual host)
[Fri Sep 18 14:06:35.731738 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_stapling.c(722): AH01951: stapling_cb: OCSP Stapling callback =
called
[Fri Sep 18 14:06:35.731738 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_stapling.c(730): AH01952: stapling_cb: retrieved cached =
certificate data
[Fri Sep 18 14:06:35.731738 2015] [socache_shmcb:debug] [pid 8640:tid =
1452] mod_socache_shmcb.c(526): AH00835: socache_shmcb_retrieve (0x5a -> =
subcache 2)
[Fri Sep 18 14:06:35.731738 2015] [socache_shmcb:debug] [pid 8640:tid =
1452] mod_socache_shmcb.c(912): AH00851: shmcb_subcache_retrieve found =
no match
[Fri Sep 18 14:06:35.731738 2015] [socache_shmcb:debug] [pid 8640:tid =
1452] mod_socache_shmcb.c(537): AH00836: leaving socache_shmcb_retrieve =
successfully
[Fri Sep 18 14:06:35.731738 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_stapling.c(288): AH01930: stapling_get_cached_response: cache =
miss
[Fri Sep 18 14:06:35.731738 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_stapling.c(739): AH01954: stapling_cb: renewing cached response
[Fri Sep 18 14:06:35.731738 2015] [socache_shmcb:debug] [pid 8640:tid =
1452] mod_socache_shmcb.c(526): AH00835: socache_shmcb_retrieve (0x5a -> =
subcache 2)
[Fri Sep 18 14:06:35.731738 2015] [socache_shmcb:debug] [pid 8640:tid =
1452] mod_socache_shmcb.c(912): AH00851: shmcb_subcache_retrieve found =
no match
[Fri Sep 18 14:06:35.731738 2015] [socache_shmcb:debug] [pid 8640:tid =
1452] mod_socache_shmcb.c(537): AH00836: leaving socache_shmcb_retrieve =
successfully
[Fri Sep 18 14:06:35.731738 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_stapling.c(288): AH01930: stapling_get_cached_response: cache =
miss
[Fri Sep 18 14:06:35.731738 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_stapling.c(760): stapling_cb: still must refresh cached =
response after obtaining refresh mutex
[Fri Sep 18 14:06:35.731738 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_stapling.c(415): AH01938: stapling_renew_response: querying =
responder
[Fri Sep 18 14:06:35.752685 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_ocsp.c(78): [client 2001:980:a510:1:d571:caed:72a0:9e9b:59265] =
AH01973: connecting to OCSP responder 'ocsp.startssl.com'
[Fri Sep 18 14:06:35.757688 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_ocsp.c(103): [client 2001:980:a510:1:d571:caed:72a0:9e9b:59265] =
AH01975: sending request to OCSP responder
[Fri Sep 18 14:06:36.188386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_ocsp.c(213): [client 2001:980:a510:1:d571:caed:72a0:9e9b:59265] =
AH01981: OCSP response header: Server: Apache/2.2.3 (StartCom)
[Fri Sep 18 14:06:36.188386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_ocsp.c(213): [client 2001:980:a510:1:d571:caed:72a0:9e9b:59265] =
AH01981: OCSP response header: Content-Length: 1613
[Fri Sep 18 14:06:36.188386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_ocsp.c(213): [client 2001:980:a510:1:d571:caed:72a0:9e9b:59265] =
AH01981: OCSP response header: ETag: =
"70ed13298ad9dfe3d28d26f01c5cadfe295e9231"
[Fri Sep 18 14:06:36.188386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_ocsp.c(213): [client 2001:980:a510:1:d571:caed:72a0:9e9b:59265] =
AH01981: OCSP response header: Last-Modified: Fri, 18 Sep 2015 12:05:43 =
+0000
[Fri Sep 18 14:06:36.188386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_ocsp.c(213): [client 2001:980:a510:1:d571:caed:72a0:9e9b:59265] =
AH01981: OCSP response header: Content-Type: application/ocsp-response
[Fri Sep 18 14:06:36.188386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_ocsp.c(213): [client 2001:980:a510:1:d571:caed:72a0:9e9b:59265] =
AH01981: OCSP response header: Expires: Fri, 18 Sep 2015 12:05:43 GMT
[Fri Sep 18 14:06:36.188386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_ocsp.c(213): [client 2001:980:a510:1:d571:caed:72a0:9e9b:59265] =
AH01981: OCSP response header: Cache-Control: max-age=3D0, no-cache, =
no-store
[Fri Sep 18 14:06:36.188386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_ocsp.c(213): [client 2001:980:a510:1:d571:caed:72a0:9e9b:59265] =
AH01981: OCSP response header: Pragma: no-cache
[Fri Sep 18 14:06:36.188386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_ocsp.c(213): [client 2001:980:a510:1:d571:caed:72a0:9e9b:59265] =
AH01981: OCSP response header: Date: Fri, 18 Sep 2015 12:05:43 GMT
[Fri Sep 18 14:06:36.188386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_ocsp.c(213): [client 2001:980:a510:1:d571:caed:72a0:9e9b:59265] =
AH01981: OCSP response header: Connection: close
[Fri Sep 18 14:06:36.188386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_ocsp.c(261): [client 2001:980:a510:1:d571:caed:72a0:9e9b:59265] =
AH01987: OCSP response: got 1613 bytes, 1613 total
[Fri Sep 18 14:06:36.188386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_stapling.c(488): AH01942: stapling_renew_response: query =
response received
[Fri Sep 18 14:06:36.188386 2015] [socache_shmcb:debug] [pid 8640:tid =
1452] mod_socache_shmcb.c(489): AH00831: socache_shmcb_store (0x5a -> =
subcache 2)
[Fri Sep 18 14:06:36.188386 2015] [socache_shmcb:debug] [pid 8640:tid =
1452] mod_socache_shmcb.c(843): AH00847: insert happened at idx=3D0, =
data=3D(0:20)
[Fri Sep 18 14:06:36.188386 2015] [socache_shmcb:debug] [pid 8640:tid =
1452] mod_socache_shmcb.c(846): AH00848: finished insert, subcache: =
idx_pos/idx_used=3D0/1, data_pos/data_used=3D0/1634
[Fri Sep 18 14:06:36.188386 2015] [socache_shmcb:debug] [pid 8640:tid =
1452] mod_socache_shmcb.c(511): AH00834: leaving socache_shmcb_store =
successfully
[Fri Sep 18 14:06:36.188386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_stapling.c(767): stapling_cb: success renewing response
[Fri Sep 18 14:06:36.188386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_stapling.c(779): AH01956: stapling_cb: setting response
[Fri Sep 18 14:06:36.192410 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_engine_kernel.c(1856): [client =
2001:980:a510:1:d571:caed:72a0:9e9b:59265] AH02041: Protocol: TLSv1.2, =
Cipher: ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits)
[Fri Sep 18 14:06:36.193427 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_engine_io.c(1435): [client =
2001:980:a510:1:d571:caed:72a0:9e9b:59265] AH02836: ALPN selected =
protocol: 'http/1.1'
[Fri Sep 18 14:06:36.193427 2015] [ssl:error] [pid 8640:tid 1452] =
AH02032: Hostname www.apachelounge.com provided via SNI and hostname =
www.apachelounge.com provided via HTTP are different
[Fri Sep 18 14:06:36.193427 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_engine_io.c(1002): [client =
2001:980:a510:1:d571:caed:72a0:9e9b:59265] AH02001: Connection closed to =
child 127 with standard shutdown (server www.land10web.com:443)
[Fri Sep 18 14:06:36.236386 2015] [ssl:info] [pid 8640:tid 1452] [client =
2001:980:a510:1:d571:caed:72a0:9e9b:59267] AH01964: Connection to child =
127 established (server www.land10web.com:443)
[Fri Sep 18 14:06:36.236386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_engine_kernel.c(1938): [client =
2001:980:a510:1:d571:caed:72a0:9e9b:59267] AH02044: No matching SSL =
virtual host for servername www.apachelounge.com found (using =
default/first virtual host)
[Fri Sep 18 14:06:36.236386 2015] [core:debug] [pid 8640:tid 1452] =
protocol.c(1837): [client 2001:980:a510:1:d571:caed:72a0:9e9b:59267] =
select protocol from , choices=3Dhttp/1.1,spdy/3.1,h2-14,h2 for server =
www.land10web.com
[Fri Sep 18 14:06:36.236386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_engine_kernel.c(1938): [client =
2001:980:a510:1:d571:caed:72a0:9e9b:59267] AH02044: No matching SSL =
virtual host for servername www.apachelounge.com found (using =
default/first virtual host)
[Fri Sep 18 14:06:36.236386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_stapling.c(722): AH01951: stapling_cb: OCSP Stapling callback =
called
[Fri Sep 18 14:06:36.236386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_stapling.c(730): AH01952: stapling_cb: retrieved cached =
certificate data
[Fri Sep 18 14:06:36.236386 2015] [socache_shmcb:debug] [pid 8640:tid =
1452] mod_socache_shmcb.c(526): AH00835: socache_shmcb_retrieve (0x5a -> =
subcache 2)
[Fri Sep 18 14:06:36.236386 2015] [socache_shmcb:debug] [pid 8640:tid =
1452] mod_socache_shmcb.c(879): AH00849: match at idx=3D0, data=3D0
[Fri Sep 18 14:06:36.236386 2015] [socache_shmcb:debug] [pid 8640:tid =
1452] mod_socache_shmcb.c(537): AH00836: leaving socache_shmcb_retrieve =
successfully
[Fri Sep 18 14:06:36.236386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_stapling.c(313): AH01933: stapling_get_cached_response: cache =
hit
[Fri Sep 18 14:06:36.236386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_stapling.c(667): AH01953: stapling_cb: retrieved cached =
response
[Fri Sep 18 14:06:36.236386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_util_stapling.c(779): AH01956: stapling_cb: setting response
[Fri Sep 18 14:06:36.236386 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_engine_kernel.c(1856): [client =
2001:980:a510:1:d571:caed:72a0:9e9b:59267] AH02041: Protocol: TLSv1.2, =
Cipher: ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits)
[Fri Sep 18 14:06:36.237387 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_engine_io.c(1435): [client =
2001:980:a510:1:d571:caed:72a0:9e9b:59267] AH02836: ALPN selected =
protocol: 'http/1.1'
[Fri Sep 18 14:06:36.237387 2015] [ssl:error] [pid 8640:tid 1452] =
AH02032: Hostname www.apachelounge.com provided via SNI and hostname =
www.apachelounge.com provided via HTTP are different
[Fri Sep 18 14:06:36.237387 2015] [ssl:debug] [pid 8640:tid 1452] =
ssl_engine_io.c(1002): [client =
2001:980:a510:1:d571:caed:72a0:9e9b:59267] AH02001: Connection closed to =
child 127 with standard shutdown (server www.land10web.com:443)

------=_NextPart_000_0066_01D0F21D.DC3BE2F0--


From dev-return-83823-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 18 13:40:48 2015
Return-Path: <dev-return-83823-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 38B2817C8F
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Sep 2015 13:40:48 +0000 (UTC)
Received: (qmail 5324 invoked by uid 500); 18 Sep 2015 13:40:47 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 5248 invoked by uid 500); 18 Sep 2015 13:40:47 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 5238 invoked by uid 99); 18 Sep 2015 13:40:47 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Sep 2015 13:40:47 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 53D3FF3F8B
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 13:40:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.901
X-Spam-Level: **
X-Spam-Status: No, score=2.901 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, MIME_QP_LONG_LINE=0.001, SPF_HELO_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id i9tKBzxRqTrs for <dev@httpd.apache.org>;
	Fri, 18 Sep 2015 13:40:32 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 6AD6242BEC
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 13:40:31 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1442583683;
	bh=CtptKZkOp9BGDZXAujlaQCngbvSQ2P/i1zSB/yWrCm0=;
	h=From:To:Subject:Date;
	b=150oslCzpu6TpPJ6O4NVTvVH2iRV06A0OWcA12BJHPqMm8r01AeelcZLX2WabXP6X
	 z5hSdwYnOtfyX4fUH1BVuGA/LgCglujHyBJcWWL9rrjf4/PObYGm9BbJ1fXZqBebn0
	 jMpSr2Ko8UeaL3FS+FTrUfPRs0RArJs8K2zLFuMk=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=127.0.0.1;
From: Steffen <info@apachelounge.com>
To:  <dev@httpd.apache.org>
Subject: Re: AW: 2.4.17-protocols-http2/ - SNI issue
Date: Fri, 18 Sep 2015 15:41:21 +0200
Message-ID: <55fc1481.b94.1e98.4562@land10.nl>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="----=_SW_1490_1442583681_mpa="
X-Originating-IP: 127.0.0.1
X-Mailer: SurgeWeb - Ajax Webmail Client

This is a multi-part message in MIME format.

------=_SW_1490_1442583681_mpa=
Content-Type: text/plain; charset=utf-8; format=flowed


Servername www.land10web.com

No directive ServerAlias

Use it as SSL front-end and reverse-proxy to the different domains 
(vhosts) in a non SSL Apache..

Same config works all fine with 2.4.16-.


Regards,

Steffen


On Friday 18/09/2015 at 13:56, Plüm wrote:
>
>
> What are your settings for
>
> Servername
>
> And
>
> ServerAlias
>
> ? Do they have all the stuff that is in the SAN?
>
> Regards
>
> Rüdiger
>
>
>
>
> Von: Steffen [mailto:info@apachelounge.com]
> Gesendet: Freitag, 18. September 2015 13:20
> An: dev@httpd.apache.org
> Betreff: Re: 2.4.17-protocols-http2/ - SNI issue
>
>
> Indeed subjectAltnames are very common in use.
>
>
>
> Windows 10 IE(Edge) browser same issue.
>
>
>
> User sees in Chrome:
>
> Misdirected Request. The client needs a new connection for this 
> request as the requested host name does not match the Server Name 
> Indication (SNI) in use for this connection.
>
>
>
> And then times out.
>
>
>
> Btw.
>
> The config has no vhost (SSL only), what works fine http/1.1 with 
> 2.4.16-
>
> ..
>
> ..
>
> ...
>
> DocumentRoot ....
>
> ServerName ....
>
> Listen 443
>
> SSLStrictSNIVHostCheck off
>
> SSLEngine on
>
> SSLHonorCipherOrder On
>
> SSLUseStapling on
>
> SSLCipherSuite .......
>
>
> SSLCompression off
>
>
> SSLCertificateFile ......
>
> SSLCertificateKeyFile ......
>
> ...
>
> ...
>
> ....
>
>
>
> Steffen
>
>
>
> On Friday 18/09/2015 at 12:58, Stefan Eissing wrote:
>>
>> Ok, what is happening for Steffen is not a bug, but a missing feature. 
>> The question is how we move forward.
>>
>> The certificate at apachelounge.com has a long list of 
>> subjectAltNames, probably common for a lot of sites. Chrome opens a 
>> connection to server1, established h2, keeps it open. You open a tab 
>> on server2, chrome sees the altName on the server1 cert and *reuses*  
>> that connection to send the request for server2.
>>
>> httpd sees that the request is not in the same vhost as the one 
>> belonging to the SNI server1 and refuses to serve it with a 421. Which 
>> rfc7540 intended for this, telling the client to use a new connection.
>>
>> Question to Steffen:
>> - what error does the chrome user see? Is it interrupting his 
>> browsing?
>>
>> Questions to All:
>> 1. logging an ERROR for this will spam the log more and more in the 
>> future. We can use a DEBUG level if we are *not* on a 'http/1.1' 
>> protocol. ERR for 'http/1.1'.
>> 2. We can check if the r->hostname is in the altNames of the server 
>> cert for the connection. Question is: what to do then? The request 
>> processing will select the correct vhost based on r->hostname, but any 
>> SSL parameters will not be triggered probably? Do we  want to accept 
>> that?
>> 3. We can allow 2 only for non-http/1.1 connection protocols
>> 4. We can allow 2 only for h2 connection protocols
>> 5. We can add a config directive to allow 2 (urgs)
>>
>> //Stefan
>>
>>
>>
>>>
>>> Am 18.09.2015 um 11:36 schrieb Stefan Eissing 
>>> <stefan.eissing@greenbytes.de>:
>>>
>>> I think I found it. Just writing a test case to confirm...
>>>
>>>
>>>
>>>>
>>>> Am 18.09.2015 um 11:35 schrieb Steffen <info@apachelounge.com>:
>>>>
>>>> Debug log attached.
>>>>
>>>>
>>>>
>>>> On Wednesday 16/09/2015 at 12:06, Plüm wrote:
>>>>
>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>>
>>>>>> -----Original Message-----
>>>>>> From: Stefan Eissing [mailto:stefan.eissing@greenbytes.de]
>>>>>> Sent: Mittwoch, 16. September 2015 11:38
>>>>>> To: dev@httpd.apache.org
>>>>>> Subject: Re: 2.4.17-protocols-http2/ - SNI issue
>>>>>>
>>>>>> Good point. Limited online today. If someone wants to give this a 
>>>>>> shot,
>>>>>> please.
>>>>>>
>>>>>>
>>>>>>
>>>>>>>
>>>>>>> Am 16.09.2015 um 11:36 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>>>>>>
>>>>>>> On Wed, Sep 16, 2015 at 11:24 AM, Plüm, Rüdiger, Vodafone Group
>>>>>>> <ruediger.pluem@vodafone.com> wrote:
>>>>>>>
>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>>
>>>>>>>>> -----Original Message-----
>>>>>>>>> From: Steffen
>>>>>>>>> Sent: Mittwoch, 16. September 2015 11:14
>>>>>>>>> To: dev@httpd.apache.org
>>>>>>>>> Subject: 2.4.17-protocols-http2/ - SNI issue
>>>>>>> []
>>>>>>>
>>>>>>>
>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> [ssl:error] [pid 3428:tid 3952] AH02032: Hostname 
>>>>>>>>> http://www.apachelounge.com
>>>>>>>>> provided via SNI and hostname http://www.apachelounge.com provided via 
>>>>>>>>> HTTP
>>>>>>>>> are different
>>>>>>>>
>>>>>>>> The above is very weird as both times we see 
>>>>>>>> http://www.apachelounge.com. Can
>>>>>> you please check the logs with some kind of hex tool if there is 
>>>>>> really no
>>>>>> difference between both strings? The logic to detect a difference in 
>>>>>> the
>>>>>> code is just a usual strcasecmp. So I sense some hidden characters
>>>>>> somewhere, which might give us a hint where things go really wrong.
>>>>>
>>>>> Ahh I did miss that he used Stefans branch and not the 2.4.x branch.
>>>>>
>>>>>
>>>>>
>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> ISTM that the test should be:
>>>>>>>              if (strcasecmp(host, servername)
>>>>>>>                  || (sslconn->server
>>>>>>>                      && !ssl_util_vhost_matches(host, 
>>>>>>> sslconn->server)))
>>>>>>>
>>>>>>> instead of:
>>>>>>>             if (strcasecmp(host, servername)
>>>>>>>                  || !sslconn->server
>>>>>>>                  || !ssl_util_vhost_matches(host, sslconn->server))
>>>>>>>
>>>>>>> Not sure sslconn->server isn't NULL here for the first request.
>>>>>
>>>>> I shouldn't be. Maybe setting the loglevel to Debug could help to see 
>>>>> the other SNI stuff that was going on before and if it correctly 
>>>>> identified the correct vhost via SNI.
>>>>>
>>>>> Regards
>>>>>
>>>>> Rüdiger
>>>>
>>>> <serror.log>
>>>
>>> <green/>bytes GmbH
>>> Hafenweg 16, 48155 Münster, Germany
>>> Phone: +49 251 2807760. Amtsgericht Münster: HRB5782
>>>
>>>
>>>
>>
>> <green/>bytes GmbH
>> Hafenweg 16, 48155 Münster, Germany
>> Phone: +49 251 2807760. Amtsgericht Münster: HRB5782
>>
>>
>>
>


------=_SW_1490_1442583681_mpa=
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html>
<head>
<style>
 .sw_message P{margin:0px;padding:0px;}
 .sw_message {FONT-SIZE: 12pt;FONT-FAMILY:Tahoma,Arial,Helvetica,sans-serif;background:white;}
 .sw_message blockquote{margin-left:5px;padding-left:5px;border-left:2px solid #144fae;color: #144fae;}
 .sw_message blockquote blockquote{border-left:2px solid #006312;color: #006312;}
 .sw_message blockquote blockquote blockquote{border-left:2px solid #8e5656;color: #8e5656;}
 .sw_message blockquote blockquote blockquote blockquote{border-left:2px solid #888;color: #888;}
</style>
</head>
<body class=3d"sw_message">
<div>Servername www.land10web.com</div><div><br></div><div>No directive Serv=
erAlias &nbsp;</div><div><br></div><div>Use it as SSL front-end and reverse-=
proxy to the different domains (vhosts) in a non SSL Apache..</div><div><br>=
</div><div>Same config works all fine with 2.4.16-.</div><div><br></div><div=
><br></div><div>Regards,</div><div><br></div><div>Steffen</div><div>&nbsp;</=
div><div id=3d"editor_signature"></div><div>On Friday 18/09/2015 at 13:56, P=
l=c3=bcm wrote: </div><blockquote type=3d"cite"><style>}   =09{font-family:C=
alibri; =09panose-1:2 15 5 2 2 2 4 3 2 4;}   =09{font-family:Tahoma; =09pano=
se-1:2 11 6 4 3 5 4 4 2 4;} /* Style Definitions */ .sw_message p.MsoNormal,=
 .sw_message li.MsoNormal,  =09{margin:0cm; =09margin-bottom:.0001pt; =09fon=
t-size:12.0pt; =09font-family:"Times New Roman",serif;} .sw_message a:link, =
 =09{mso-style-priority:99; =09color:blue; =09text-decoration:underline;} .s=
w_message a:visited,  =09{mso-style-priority:99; =09color:purple; =09text-de=
coration:underline;}   =09{mso-style-priority:99; =09mso-margin-top-alt:auto=
; =09margin-right:0cm; =09mso-margin-bottom-alt:auto; =09margin-left:0cm; =
=09font-size:12.0pt; =09font-family:"Times New Roman",serif;} .sw_message p.=
swmessage, .sw_message li.swmessage,  =09{mso-style-name:sw_message; =09mso-=
margin-top-alt:auto; =09margin-right:0cm; =09mso-margin-bottom-alt:auto; =09=
margin-left:0cm; =09background:white; =09font-size:12.0pt; =09font-family:"T=
ahoma",sans-serif;}   =09{mso-style-type:personal-reply; =09font-family:"Cal=
ibri",sans-serif; =09color:#00B050; =09font-weight:normal; =09font-style:nor=
mal; =09text-decoration:none none;}   =09{mso-style-type:export-only; =09fon=
t-size:10.0pt;}   =09{size:612.0pt 792.0pt; =09margin:70.85pt 70.85pt 2.0cm =
70.85pt;}   =09{page:WordSection1;} --></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext=3d"edit" spidmax=3d"1026" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext=3d"edit">
<o:idmap v:ext=3d"edit" data=3d"1" />
</o:shapelayout></xml><![endif]--><div><div class=3d"WordSection1"><p class=
=3d"MsoNormal"><span style=3d"font-size:11.0pt;font-family:&quot;Calibri&quo=
t;,sans-serif;color:#00B050;mso-fareast-language:EN-US">What are your settin=
gs for<o:p></o:p></span></p><p class=3d"MsoNormal"><span style=3d"font-size:=
11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#00B050;mso-fareast-=
language:EN-US"><o:p>&nbsp;</o:p></span></p><p class=3d"MsoNormal"><span sty=
le=3d"font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#00B=
050;mso-fareast-language:EN-US">Servername<o:p></o:p></span></p><p class=3d"=
MsoNormal"><span style=3d"font-size:11.0pt;font-family:&quot;Calibri&quot;,s=
ans-serif;color:#00B050;mso-fareast-language:EN-US"><o:p>&nbsp;</o:p></span>=
</p><p class=3d"MsoNormal"><span style=3d"font-size:11.0pt;font-family:&quot=
;Calibri&quot;,sans-serif;color:#00B050;mso-fareast-language:EN-US">And<o:p>=
</o:p></span></p><p class=3d"MsoNormal"><span style=3d"font-size:11.0pt;font=
-family:&quot;Calibri&quot;,sans-serif;color:#00B050;mso-fareast-language:EN=
-US"><o:p>&nbsp;</o:p></span></p><p class=3d"MsoNormal"><span style=3d"font-=
size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#00B050;mso-far=
east-language:EN-US">ServerAlias<o:p></o:p></span></p><p class=3d"MsoNormal"=
><span style=3d"font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;=
color:#00B050;mso-fareast-language:EN-US"><o:p>&nbsp;</o:p></span></p><p cla=
ss=3d"MsoNormal"><span style=3d"font-size:11.0pt;font-family:&quot;Calibri&q=
uot;,sans-serif;color:#00B050;mso-fareast-language:EN-US">? Do they have all=
 the stuff that is in the SAN?<o:p></o:p></span></p><p class=3d"MsoNormal"><=
span style=3d"font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;co=
lor:#00B050;mso-fareast-language:EN-US"><o:p>&nbsp;</o:p></span></p><p class=
=3d"MsoNormal"><span style=3d"font-size:11.0pt;font-family:&quot;Calibri&quo=
t;,sans-serif;color:#00B050;mso-fareast-language:EN-US">Regards<o:p></o:p></=
span></p><p class=3d"MsoNormal"><span style=3d"font-size:11.0pt;font-family:=
&quot;Calibri&quot;,sans-serif;color:#00B050;mso-fareast-language:EN-US"><o:=
p>&nbsp;</o:p></span></p><p class=3d"MsoNormal"><span style=3d"font-size:11.=
0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#00B050;mso-fareast-lan=
guage:EN-US">R=c3=bcdiger<o:p></o:p></span></p><p class=3d"MsoNormal"><span =
style=3d"font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#=
00B050;mso-fareast-language:EN-US"><o:p>&nbsp;</o:p></span></p><div style=3d=
"border:none;border-left:solid blue 1.5pt;padding:0cm 0cm 0cm 4.0pt"><div><d=
iv style=3d"border:none;border-top:solid #E1E1E1 1.0pt;padding:3.0pt 0cm 0cm=
 0cm"><p class=3d"MsoNormal"><b><span style=3d"font-size:11.0pt;font-family:=
&quot;Calibri&quot;,sans-serif">Von:</span></b><span style=3d"font-size:11.0=
pt;font-family:&quot;Calibri&quot;,sans-serif"> Steffen [mailto:info@apachel=
ounge.com] <br><b>Gesendet:</b> Freitag, 18. September 2015 13:20<br><b>An:<=
/b> dev@httpd.apache.org<br><b>Betreff:</b> Re: 2.4.17-protocols-http2/ - SN=
I issue<o:p></o:p></span></p></div></div><p class=3d"MsoNormal"><o:p>&nbsp;<=
/o:p></p><div><p class=3d"MsoNormal"><span style=3d"font-family:&quot;Tahoma=
&quot;,sans-serif">Indeed subjectAltnames are very common in use.<o:p></o:p>=
</span></p></div><div><p class=3d"MsoNormal"><span style=3d"font-family:&quo=
t;Tahoma&quot;,sans-serif"><o:p>&nbsp;</o:p></span></p></div><div><p class=
=3d"MsoNormal"><span style=3d"font-family:&quot;Tahoma&quot;,sans-serif">Win=
dows 10 IE(Edge) browser same issue.<o:p></o:p></span></p></div><div><p clas=
s=3d"MsoNormal"><span style=3d"font-family:&quot;Tahoma&quot;,sans-serif"><o=
:p>&nbsp;</o:p></span></p></div><div><p class=3d"MsoNormal"><span style=3d"f=
ont-family:&quot;Tahoma&quot;,sans-serif">User sees in Chrome:<o:p></o:p></s=
pan></p></div><div><p class=3d"MsoNormal"><span style=3d"font-family:&quot;T=
ahoma&quot;,sans-serif">Misdirected Request. The client needs a new connecti=
on for this request as the requested host name does not match the Server Nam=
e Indication (SNI) in use for this connection.<o:p></o:p></span></p></div><d=
iv><p class=3d"MsoNormal"><span style=3d"font-family:&quot;Tahoma&quot;,sans=
-serif"><o:p>&nbsp;</o:p></span></p></div><div><p class=3d"MsoNormal"><span =
style=3d"font-family:&quot;Tahoma&quot;,sans-serif">And then times out.<o:p>=
</o:p></span></p></div><div><p class=3d"MsoNormal"><span style=3d"font-famil=
y:&quot;Tahoma&quot;,sans-serif"><o:p>&nbsp;</o:p></span></p></div><div><p c=
lass=3d"MsoNormal"><span style=3d"font-family:&quot;Tahoma&quot;,sans-serif"=
>Btw.<o:p></o:p></span></p></div><div><p class=3d"MsoNormal"><span style=3d"=
font-family:&quot;Tahoma&quot;,sans-serif">The config has no vhost (SSL only=
), what works fine&nbsp;http/1.1 with 2.4.16-<o:p></o:p></span></p></div><di=
v><p class=3d"MsoNormal"><span style=3d"font-family:&quot;Tahoma&quot;,sans-=
serif">..<o:p></o:p></span></p></div><div><p class=3d"MsoNormal"><span style=
=3d"font-family:&quot;Tahoma&quot;,sans-serif">..<o:p></o:p></span></p></div=
><div><p class=3d"MsoNormal"><span style=3d"font-family:&quot;Tahoma&quot;,s=
ans-serif">...<o:p></o:p></span></p></div><div><p class=3d"MsoNormal"><span =
style=3d"font-family:&quot;Tahoma&quot;,sans-serif">DocumentRoot ....<o:p></=
o:p></span></p></div><div><p class=3d"MsoNormal"><span style=3d"font-family:=
&quot;Tahoma&quot;,sans-serif">ServerName ....<o:p></o:p></span></p></div><d=
iv><p class=3d"MsoNormal"><span style=3d"font-family:&quot;Tahoma&quot;,sans=
-serif">Listen 443<o:p></o:p></span></p></div><div><p class=3d"MsoNormal"><s=
pan style=3d"font-family:&quot;Tahoma&quot;,sans-serif">SSLStrictSNIVHostChe=
ck off<o:p></o:p></span></p></div><div><p class=3d"MsoNormal"><span style=3d=
"font-family:&quot;Tahoma&quot;,sans-serif">SSLEngine on&nbsp;<o:p></o:p></s=
pan></p></div><div><p class=3d"MsoNormal"><span style=3d"font-family:&quot;T=
ahoma&quot;,sans-serif">SSLHonorCipherOrder On<o:p></o:p></span></p></div><d=
iv><p class=3d"MsoNormal"><span style=3d"font-family:&quot;Tahoma&quot;,sans=
-serif">SSLUseStapling on<o:p></o:p></span></p></div><div><p class=3d"MsoNor=
mal"><span style=3d"font-family:&quot;Tahoma&quot;,sans-serif">SSLCipherSuit=
e .......<o:p></o:p></span></p></div><div><div><p class=3d"MsoNormal"><span =
style=3d"font-family:&quot;Tahoma&quot;,sans-serif">SSLCompression off<o:p><=
/o:p></span></p></div></div><div><div><p class=3d"MsoNormal"><span style=3d"=
font-family:&quot;Tahoma&quot;,sans-serif">SSLCertificateFile ......<o:p></o=
:p></span></p></div><div><p class=3d"MsoNormal"><span style=3d"font-family:&=
quot;Tahoma&quot;,sans-serif">SSLCertificateKeyFile ......<o:p></o:p></span>=
</p></div></div><div><p class=3d"MsoNormal"><span style=3d"font-family:&quot=
;Tahoma&quot;,sans-serif">...<o:p></o:p></span></p></div><div><p class=3d"Ms=
oNormal"><span style=3d"font-family:&quot;Tahoma&quot;,sans-serif">...<o:p><=
/o:p></span></p></div><div><p class=3d"MsoNormal"><span style=3d"font-family=
:&quot;Tahoma&quot;,sans-serif">....<o:p></o:p></span></p></div><div><p clas=
s=3d"MsoNormal"><span style=3d"font-family:&quot;Tahoma&quot;,sans-serif"><o=
:p>&nbsp;</o:p></span></p></div><div><p class=3d"MsoNormal"><span style=3d"f=
ont-family:&quot;Tahoma&quot;,sans-serif">Steffen<o:p></o:p></span></p></div=
><div><p class=3d"MsoNormal"><span style=3d"font-family:&quot;Tahoma&quot;,s=
ans-serif">&nbsp;<o:p></o:p></span></p></div><div><p class=3d"MsoNormal"><sp=
an style=3d"font-family:&quot;Tahoma&quot;,sans-serif">On Friday 18/09/2015 =
at 12:58, Stefan Eissing wrote: <o:p></o:p></span></p></div><blockquote styl=
e=3d"border:none;border-left:solid #144FAE 1.5pt;padding:0cm 0cm 0cm 4.0pt;m=
argin-left:3.75pt;margin-top:5.0pt;margin-bottom:5.0pt"><p class=3d"MsoNorma=
l"><span style=3d"font-family:&quot;Tahoma&quot;,sans-serif;color:#144FAE">O=
k, what is happening for Steffen is not a bug, but a missing feature. The qu=
estion is how we move forward.<br><br>The certificate at apachelounge.com ha=
s a long list of subjectAltNames, probably common for a lot of sites. Chrome=
 opens a connection to server1, established h2, keeps it open. You open a ta=
b on server2, chrome sees the altName on the server1 cert and *reuses*  that=
 connection to send the request for server2.<br><br>httpd sees that the requ=
est is not in the same vhost as the one belonging to the SNI server1 and ref=
uses to serve it with a 421. Which rfc7540 intended for this, telling the cl=
ient to use a new connection.<br><br>Question to Steffen:<br>- what error do=
es the chrome user see? Is it interrupting his browsing?<br><br>Questions to=
 All:<br>1. logging an ERROR for this will spam the log more and more in the=
 future. We can use a DEBUG level if we are *not* on a 'http/1.1' protocol. =
ERR for 'http/1.1'.<br>2. We can check if the r-&gt;hostname is in the altNa=
mes of the server cert for the connection. Question is: what to do then? The=
 request processing will select the correct vhost based on r-&gt;hostname, b=
ut any SSL parameters will not be triggered probably? Do we  want to accept =
that?<br>3. We can allow 2 only for non-http/1.1 connection protocols<br>4. =
We can allow 2 only for h2 connection protocols<br>5. We can add a config di=
rective to allow 2 (urgs)<br><br>//Stefan<br><br><br><o:p></o:p></span></p><=
blockquote style=3d"border:none;border-left:solid #006312 1.5pt;padding:0cm =
0cm 0cm 4.0pt;margin-left:3.75pt;margin-top:5.0pt;margin-bottom:5.0pt"><p cl=
ass=3d"MsoNormal"><span style=3d"font-family:&quot;Tahoma&quot;,sans-serif;c=
olor:#006312">Am 18.09.2015 um 11:36 schrieb Stefan Eissing &lt;</span><span=
 style=3d"font-family:&quot;Tahoma&quot;,sans-serif;color:#006312"><a target=
=3d"_blank" href=3d"mailto:stefan.eissing@greenbytes.de"><span>stefan.eissin=
g@greenbytes.de</span></a></span><span style=3d"font-family:&quot;Tahoma&quo=
t;,sans-serif;color:#006312">&gt;:<br><br>I think I found it. </span><span s=
tyle=3d"font-family:&quot;Tahoma&quot;,sans-serif;color:#006312">Just writin=
g a test case to confirm...<br><br><br><o:p></o:p></span></p><blockquote sty=
le=3d"border:none;border-left:solid #8E5656 1.5pt;padding:0cm 0cm 0cm 4.0pt;=
margin-left:3.75pt;margin-top:5.0pt;margin-bottom:5.0pt"><p class=3d"MsoNorm=
al"><span style=3d"font-family:&quot;Tahoma&quot;,sans-serif;color:#8E5656">=
Am 18.09.2015 um 11:35 schrieb Steffen &lt;<a target=3d"_blank" href=3d"mail=
to:info@apachelounge.com">info@apachelounge.com</a>&gt;:<br><br>Debug log at=
tached.<br><br><br><br>On Wednesday 16/09/2015 at 12:06, Pl=c3=bcm wrote: <b=
r><br><o:p></o:p></span></p><blockquote style=3d"border:none;border-left:sol=
id #888888 1.5pt;padding:0cm 0cm 0cm 4.0pt;margin-left:3.75pt;margin-top:5.0=
pt;margin-bottom:5.0pt"><p class=3d"MsoNormal"><span style=3d"font-family:&q=
uot;Tahoma&quot;,sans-serif;color:#888888"><br><br><br><o:p></o:p></span></p=
><blockquote style=3d"border:none;border-left:solid #888888 1.5pt;padding:0c=
m 0cm 0cm 4.0pt;margin-left:3.75pt;margin-top:5.0pt;margin-bottom:5.0pt"><p =
class=3d"MsoNormal"><span style=3d"font-family:&quot;Tahoma&quot;,sans-serif=
;color:#888888">-----Original Message-----<br>From: Stefan Eissing [</span><=
span style=3d"font-family:&quot;Tahoma&quot;,sans-serif;color:#888888"><a ta=
rget=3d"_blank" href=3d"mailto:stefan.eissing@greenbytes.de"><span>mailto:st=
efan.eissing@greenbytes.de</span></a></span><span style=3d"font-family:&quot=
;Tahoma&quot;,sans-serif;color:#888888">]<br>Sent: Mittwoch, 16. September 2=
015 11:38<br>To: </span><span style=3d"font-family:&quot;Tahoma&quot;,sans-s=
erif;color:#888888"><a target=3d"_blank" href=3d"mailto:dev@httpd.apache.org=
"><span>dev@httpd.apache.org</span></a></span><span style=3d"font-family:&qu=
ot;Tahoma&quot;,sans-serif;color:#888888"><br>Subject: Re: 2.4.17-protocols-=
http2/ - SNI issue<br><br>Good point. </span><span style=3d"font-family:&quo=
t;Tahoma&quot;,sans-serif;color:#888888">Limited online today. If someone wa=
nts to give this a shot,<br>please.<br><br><br><o:p></o:p></span></p><blockq=
uote style=3d"border:none;border-left:solid #888888 1.5pt;padding:0cm 0cm 0c=
m 4.0pt;margin-left:3.75pt;margin-top:5.0pt;margin-bottom:5.0pt"><p class=3d=
"MsoNormal"><span style=3d"font-family:&quot;Tahoma&quot;,sans-serif;color:#=
888888">Am 16.09.2015 um 11:36 schrieb Yann Ylavic &lt;<a target=3d"_blank" =
href=3d"mailto:ylavic.dev@gmail.com">ylavic.dev@gmail.com</a>&gt;:<br><br>On=
 Wed, Sep 16, 2015 at 11:24 AM, Pl=c3=bcm, R=c3=bcdiger, Vodafone Group<br>&=
lt;<a target=3d"_blank" href=3d"mailto:ruediger.pluem@vodafone.com">ruediger=
.pluem@vodafone.com</a>&gt; wrote:<br><br><o:p></o:p></span></p><blockquote =
style=3d"border:none;border-left:solid #888888 1.5pt;padding:0cm 0cm 0cm 4.0=
pt;margin-left:3.75pt;margin-top:5.0pt;margin-bottom:5.0pt"><p class=3d"MsoN=
ormal"><span style=3d"font-family:&quot;Tahoma&quot;,sans-serif;color:#88888=
8"><br><br><o:p></o:p></span></p><blockquote style=3d"border:none;border-lef=
t:solid #888888 1.5pt;padding:0cm 0cm 0cm 4.0pt;margin-left:3.75pt;margin-to=
p:5.0pt;margin-bottom:5.0pt"><p class=3d"MsoNormal"><span style=3d"font-fami=
ly:&quot;Tahoma&quot;,sans-serif;color:#888888">-----Original Message-----<b=
r>From: Steffen<br>Sent: Mittwoch, 16. </span><span style=3d"font-family:&qu=
ot;Tahoma&quot;,sans-serif;color:#888888">September 2015 11:14<br>To: </span=
><span style=3d"font-family:&quot;Tahoma&quot;,sans-serif;color:#888888"><a =
target=3d"_blank" href=3d"mailto:dev@httpd.apache.org"><span>dev@httpd.apach=
e.org</span></a></span><span style=3d"font-family:&quot;Tahoma&quot;,sans-se=
rif;color:#888888"><br>Subject: 2.4.17-protocols-http2/ - SNI issue<o:p></o:=
p></span></p></blockquote></blockquote><p class=3d"MsoNormal"><span style=3d=
"font-family:&quot;Tahoma&quot;,sans-serif;color:#888888">[]<br><br><o:p></o=
:p></span></p><blockquote style=3d"border:none;border-left:solid #888888 1.5=
pt;padding:0cm 0cm 0cm 4.0pt;margin-left:3.75pt;margin-top:5.0pt;margin-bott=
om:5.0pt"><blockquote style=3d"border:none;border-left:solid #888888 1.5pt;p=
adding:0cm 0cm 0cm 4.0pt;margin-left:3.75pt;margin-top:5.0pt;margin-bottom:5=
.0pt"><p class=3d"MsoNormal"><span style=3d"font-family:&quot;Tahoma&quot;,s=
ans-serif;color:#888888"><br>[ssl:error] [pid 3428:tid 3952] AH02032: Hostna=
me <a href=3d"http://www.apachelounge.com" target=3d"_blank">http://www.apac=
helounge.com</a><br>provided via SNI and hostname <a href=3d"http://www.apac=
helounge.com" target=3d"_blank">http://www.apachelounge.com</a> provided via=
 HTTP<br>are different<o:p></o:p></span></p></blockquote><p class=3d"MsoNorm=
al"><span style=3d"font-family:&quot;Tahoma&quot;,sans-serif;color:#888888">=
<br>The above is very weird as both times we see <a href=3d"http://www.apach=
elounge.com" target=3d"_blank">http://www.apachelounge.com</a>. Can<o:p></o:=
p></span></p></blockquote></blockquote><p class=3d"MsoNormal"><span style=3d=
"font-family:&quot;Tahoma&quot;,sans-serif;color:#888888">you please check t=
he logs with some kind of hex tool if there is really no<br>difference betwe=
en both strings? The logic to detect a difference in the<br>code is just a u=
sual strcasecmp. So I sense some hidden characters<br>somewhere, which might=
 give us a hint where things go really wrong.<o:p></o:p></span></p></blockqu=
ote><p class=3d"MsoNormal"><span style=3d"font-family:&quot;Tahoma&quot;,san=
s-serif;color:#888888"><br>Ahh I did miss that he used Stefans branch and no=
t the 2.4.x branch.<br><br><br><o:p></o:p></span></p><blockquote style=3d"bo=
rder:none;border-left:solid #888888 1.5pt;padding:0cm 0cm 0cm 4.0pt;margin-l=
eft:3.75pt;margin-top:5.0pt;margin-bottom:5.0pt"><blockquote style=3d"border=
:none;border-left:solid #888888 1.5pt;padding:0cm 0cm 0cm 4.0pt;margin-left:=
3.75pt;margin-top:5.0pt;margin-bottom:5.0pt"><p class=3d"MsoNormal"><span st=
yle=3d"font-family:&quot;Tahoma&quot;,sans-serif;color:#888888"><br>ISTM tha=
t the test should be:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp; if (strcasecmp(host, servername)<br>&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp; || (sslconn-&gt;server<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp; &amp;&amp; !ssl_util_vhost_matches(host, sslconn-&gt;server)=
))<br><br>instead of:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp; if (strcasecmp(host, servername)<br>&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp; || !sslconn-&gt;server<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; || !ssl_util_v=
host_matches(host, sslconn-&gt;server))<br><br>Not sure sslconn-&gt;server i=
sn't NULL here for the first request.<o:p></o:p></span></p></blockquote></bl=
ockquote><p class=3d"MsoNormal"><span style=3d"font-family:&quot;Tahoma&quot=
;,sans-serif;color:#888888"><br>I shouldn't be. Maybe setting the loglevel t=
o Debug could help to see the other SNI stuff that was going on before and i=
f it correctly identified the correct vhost via SNI.<br><br>Regards<br><br>R=
=c3=bcdiger<o:p></o:p></span></p></blockquote><p class=3d"MsoNormal"><span s=
tyle=3d"font-family:&quot;Tahoma&quot;,sans-serif;color:#8E5656"><br>&lt;ser=
ror.log&gt;<o:p></o:p></span></p></blockquote><p class=3d"MsoNormal" style=
=3d"margin-bottom:12.0pt"><span style=3d"font-family:&quot;Tahoma&quot;,sans=
-serif;color:#006312"><br>&lt;green/&gt;bytes GmbH<br>Hafenweg 16, 48155 M=
=c3=bcnster, Germany<br>Phone: +49 251 2807760. Amtsgericht M=c3=bcnster: HR=
B5782<br><br><br><o:p></o:p></span></p></blockquote><p class=3d"MsoNormal" s=
tyle=3d"margin-bottom:12.0pt"><span style=3d"font-family:&quot;Tahoma&quot;,=
sans-serif;color:#144FAE"><br>&lt;green/&gt;bytes GmbH<br>Hafenweg 16, 48155=
 M=c3=bcnster, Germany<br>Phone: +49 251 2807760. Amtsgericht M=c3=bcnster: =
HRB5782<br><br><br><o:p></o:p></span></p></blockquote><p class=3d"MsoNormal"=
><span style=3d"font-family:&quot;Tahoma&quot;,sans-serif"><o:p>&nbsp;</o:p>=
</span></p></div></div></div></blockquote><br> 
</body></html>

------=_SW_1490_1442583681_mpa=--


From dev-return-83824-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 18 13:45:36 2015
Return-Path: <dev-return-83824-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EC70917CFB
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Sep 2015 13:45:36 +0000 (UTC)
Received: (qmail 19195 invoked by uid 500); 18 Sep 2015 13:45:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 19122 invoked by uid 500); 18 Sep 2015 13:45:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 19112 invoked by uid 99); 18 Sep 2015 13:45:23 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Sep 2015 13:45:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 551DBC0707
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 13:45:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.092
X-Spam-Level:
X-Spam-Status: No, score=-0.092 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, T_FROM_12LTRDOM=0.01]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id aswHuGlSrCkW for <dev@httpd.apache.org>;
	Fri, 18 Sep 2015 13:45:22 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 3F4BE42BE4
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 13:45:22 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1442583974;
	bh=O5TAlSWrKQ8lsKoROBpiectEC5oxuqmiT8sE3dObJkk=;
	h=From:To:Subject:Date;
	b=oh3o/8HusMpvTedlIjYNcPPOVkifxaGDt704lfR9A/7v38EGeygW2MHn8hexN9383
	 hZMZDKYiOZd6hBJ3yKsjItdYwROjkioNjIxaEeEbObURlowYrUfznC5EUDPuZQLP7N
	 HG6SfnIsFSUhUT7O4zXuxgUtEByaVHanxmZkrdV0=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=127.0.0.1;
From: Steffen <info@apachelounge.com>
To:  <dev@httpd.apache.org>
Subject: 2.4.17-protocols-http2/ still http/1.1 in logs and mod_status
Date: Fri, 18 Sep 2015 15:46:13 +0200
Message-ID: <55fc15a5.b94.2034.33eb@land10.nl>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
X-Originating-IP: 127.0.0.1
X-Mailer: SurgeWeb - Ajax Webmail Client


See subject.

Steffen



From dev-return-83825-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 18 13:51:06 2015
Return-Path: <dev-return-83825-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5A3A017D2C
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Sep 2015 13:51:06 +0000 (UTC)
Received: (qmail 31651 invoked by uid 500); 18 Sep 2015 13:51:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 31587 invoked by uid 500); 18 Sep 2015 13:51:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 31577 invoked by uid 99); 18 Sep 2015 13:51:05 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Sep 2015 13:51:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 0F15CF3FA7
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 13:51:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id yAWEoF_iCKNN for <dev@httpd.apache.org>;
	Fri, 18 Sep 2015 13:50:51 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id D24A720F4B
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 13:50:50 +0000 (UTC)
Received: from [192.168.178.41] (unknown [84.150.92.166])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 2593915A05CE
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 15:50:49 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: 2.4.17-protocols-http2/ - SNI issue
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <55fc1481.b94.1e98.4562@land10.nl>
Date: Fri, 18 Sep 2015 15:50:48 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <404A9408-BFD6-4458-9B3C-70B7874C159E@greenbytes.de>
References: <55fc1481.b94.1e98.4562@land10.nl>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

Please update 2.4.17-protocols-http and hopefully this will improve your =
situation with the patch by Yann.

//Stefan

> Am 18.09.2015 um 15:41 schrieb Steffen <info@apachelounge.com>:
>=20
> Servername www.land10web.com
>=20
> No directive ServerAlias =20
>=20
> Use it as SSL front-end and reverse-proxy to the different domains =
(vhosts) in a non SSL Apache..
>=20
> Same config works all fine with 2.4.16-.
>=20
>=20
> Regards,
>=20
> Steffen
> =20
> On Friday 18/09/2015 at 13:56, Pl=C3=BCm wrote:=20
>> What are your settings for
>> =20
>> Servername
>> =20
>> And
>> =20
>> ServerAlias
>> =20
>> ? Do they have all the stuff that is in the SAN?
>> =20
>> Regards
>> =20
>> R=C3=BCdiger
>> =20
>> Von: Steffen [mailto:info@apachelounge.com]=20
>> Gesendet: Freitag, 18. September 2015 13:20
>> An: dev@httpd.apache.org
>> Betreff: Re: 2.4.17-protocols-http2/ - SNI issue
>> =20
>> Indeed subjectAltnames are very common in use.
>> =20
>> Windows 10 IE(Edge) browser same issue.
>> =20
>> User sees in Chrome:
>> Misdirected Request. The client needs a new connection for this =
request as the requested host name does not match the Server Name =
Indication (SNI) in use for this connection.
>> =20
>> And then times out.
>> =20
>> Btw.
>> The config has no vhost (SSL only), what works fine http/1.1 with =
2.4.16-
>> ..
>> ..
>> ...
>> DocumentRoot ....
>> ServerName ....
>> Listen 443
>> SSLStrictSNIVHostCheck off
>> SSLEngine on=20
>> SSLHonorCipherOrder On
>> SSLUseStapling on
>> SSLCipherSuite .......
>> SSLCompression off
>> SSLCertificateFile ......
>> SSLCertificateKeyFile ......
>> ...
>> ...
>> ....
>> =20
>> Steffen
>> =20
>> On Friday 18/09/2015 at 12:58, Stefan Eissing wrote:=20
>> Ok, what is happening for Steffen is not a bug, but a missing =
feature. The question is how we move forward.
>>=20
>> The certificate at apachelounge.com has a long list of =
subjectAltNames, probably common for a lot of sites. Chrome opens a =
connection to server1, established h2, keeps it open. You open a tab on =
server2, chrome sees the altName on the server1 cert and *reuses* that =
connection to send the request for server2.
>>=20
>> httpd sees that the request is not in the same vhost as the one =
belonging to the SNI server1 and refuses to serve it with a 421. Which =
rfc7540 intended for this, telling the client to use a new connection.
>>=20
>> Question to Steffen:
>> - what error does the chrome user see? Is it interrupting his =
browsing?
>>=20
>> Questions to All:
>> 1. logging an ERROR for this will spam the log more and more in the =
future. We can use a DEBUG level if we are *not* on a 'http/1.1' =
protocol. ERR for 'http/1.1'.
>> 2. We can check if the r->hostname is in the altNames of the server =
cert for the connection. Question is: what to do then? The request =
processing will select the correct vhost based on r->hostname, but any =
SSL parameters will not be triggered probably? Do we want to accept =
that?
>> 3. We can allow 2 only for non-http/1.1 connection protocols
>> 4. We can allow 2 only for h2 connection protocols
>> 5. We can add a config directive to allow 2 (urgs)
>>=20
>> //Stefan
>>=20
>>=20
>> Am 18.09.2015 um 11:36 schrieb Stefan Eissing =
<stefan.eissing@greenbytes.de>:
>>=20
>> I think I found it. Just writing a test case to confirm...
>>=20
>>=20
>> Am 18.09.2015 um 11:35 schrieb Steffen <info@apachelounge.com>:
>>=20
>> Debug log attached.
>>=20
>>=20
>>=20
>> On Wednesday 16/09/2015 at 12:06, Pl=C3=BCm wrote:=20
>>=20
>>=20
>>=20
>>=20
>> -----Original Message-----
>> From: Stefan Eissing [mailto:stefan.eissing@greenbytes.de]
>> Sent: Mittwoch, 16. September 2015 11:38
>> To: dev@httpd.apache.org
>> Subject: Re: 2.4.17-protocols-http2/ - SNI issue
>>=20
>> Good point. Limited online today. If someone wants to give this a =
shot,
>> please.
>>=20
>>=20
>> Am 16.09.2015 um 11:36 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>=20
>> On Wed, Sep 16, 2015 at 11:24 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone =
Group
>> <ruediger.pluem@vodafone.com> wrote:
>>=20
>>=20
>>=20
>> -----Original Message-----
>> From: Steffen
>> Sent: Mittwoch, 16. September 2015 11:14
>> To: dev@httpd.apache.org
>> Subject: 2.4.17-protocols-http2/ - SNI issue
>> []
>>=20
>>=20
>> [ssl:error] [pid 3428:tid 3952] AH02032: Hostname =
http://www.apachelounge.com
>> provided via SNI and hostname http://www.apachelounge.com provided =
via HTTP
>> are different
>>=20
>> The above is very weird as both times we see =
http://www.apachelounge.com. Can
>> you please check the logs with some kind of hex tool if there is =
really no
>> difference between both strings? The logic to detect a difference in =
the
>> code is just a usual strcasecmp. So I sense some hidden characters
>> somewhere, which might give us a hint where things go really wrong.
>>=20
>> Ahh I did miss that he used Stefans branch and not the 2.4.x branch.
>>=20
>>=20
>>=20
>> ISTM that the test should be:
>>               if (strcasecmp(host, servername)
>>                   || (sslconn->server
>>                       && !ssl_util_vhost_matches(host, =
sslconn->server)))
>>=20
>> instead of:
>>              if (strcasecmp(host, servername)
>>                   || !sslconn->server
>>                   || !ssl_util_vhost_matches(host, sslconn->server))
>>=20
>> Not sure sslconn->server isn't NULL here for the first request.
>>=20
>> I shouldn't be. Maybe setting the loglevel to Debug could help to see =
the other SNI stuff that was going on before and if it correctly =
identified the correct vhost via SNI.
>>=20
>> Regards
>>=20
>> R=C3=BCdiger
>>=20
>> <serror.log>
>>=20
>> <green/>bytes GmbH
>> Hafenweg 16, 48155 M=C3=BCnster, Germany
>> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>>=20
>>=20
>>=20
>>=20
>> <green/>bytes GmbH
>> Hafenweg 16, 48155 M=C3=BCnster, Germany
>> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>>=20
>>=20
>>=20
>> =20
>=20
>=20

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83826-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 18 14:43:44 2015
Return-Path: <dev-return-83826-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B069417FEB
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Sep 2015 14:43:44 +0000 (UTC)
Received: (qmail 3502 invoked by uid 500); 18 Sep 2015 14:43:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3435 invoked by uid 500); 18 Sep 2015 14:43:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3424 invoked by uid 99); 18 Sep 2015 14:43:43 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Sep 2015 14:43:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 68E8DF3FD5
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 14:43:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.099
X-Spam-Level:
X-Spam-Status: No, score=-0.099 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id eJBFFaaGEVOG for <dev@httpd.apache.org>;
	Fri, 18 Sep 2015 14:43:31 +0000 (UTC)
Received: from mail-qk0-f173.google.com (mail-qk0-f173.google.com [209.85.220.173])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id A2F4B207D6
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 14:43:30 +0000 (UTC)
Received: by qkdw123 with SMTP id w123so20239355qkd.0
        for <dev@httpd.apache.org>; Fri, 18 Sep 2015 07:43:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=D2cJ1gWd5cAz54ji/BGHbnDGUTDXME+fGjAi8z6WgIM=;
        b=TcEZ2DwAbMGNtHOr3ZTRiwBqxoVxLQHIUcEjpuXeb4N+DDTGEwWV/t8rxEvy26SjM5
         8fUzXscCMBpgCWJj+3SJPr5WV6QGae39BXmt5h5+/fZJHjM1furK7etf8tQyCS6rIsWU
         IofHeG1OQBJ6gs7uxbJZOEXwq00uC8g/XQ44poRDIQOD0Srj1RWE7W7wpJK1V6DPX+z1
         CHZ/fUpUmO4Njvo01QkJRG7EqRrpiieasCMJElVOYQYXNpGYoQ2y+CBaj1eZa2Fq+vmj
         GZO4rj/qPMs94tfhzXm923lM283UZ3+I4DbDTxz/Tpd4FmIYt5F4g0+WI4Npck718VQw
         2wkg==
MIME-Version: 1.0
X-Received: by 10.55.204.10 with SMTP id r10mr6891462qki.55.1442587409775;
 Fri, 18 Sep 2015 07:43:29 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Fri, 18 Sep 2015 07:43:29 -0700 (PDT)
In-Reply-To: <55fc1481.b94.1e98.4562@land10.nl>
References: <55fc1481.b94.1e98.4562@land10.nl>
Date: Fri, 18 Sep 2015 16:43:29 +0200
Message-ID: <CAKQ1sVPvWY9oaPs40F3JerboqF_+jhi6UDx7XOHGMGY9WH9whw@mail.gmail.com>
Subject: Re: AW: 2.4.17-protocols-http2/ - SNI issue
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Yes, in 2.4.16 the SNI is compared against the Host header only, which
succeeds in your case because they are the same.

In 2.4.17-protocols-http2 before r1703826, the check was also done
against the ServerName/ServerAlias, and since apachelounge.com is
unknown in your configure, that failed.

r1703826 now only checks that the vhost did not change since the
handshake, so it should work for you now.

Regards,
Yann.

On Fri, Sep 18, 2015 at 3:41 PM, Steffen <info@apachelounge.com> wrote:
> Servername www.land10web.com
>
> No directive ServerAlias
>
> Use it as SSL front-end and reverse-proxy to the different domains (vhost=
s)
> in a non SSL Apache..
>
> Same config works all fine with 2.4.16-.
>
>
> Regards,
>
> Steffen
>
> On Friday 18/09/2015 at 13:56, Pl=C3=BCm wrote:
>
> What are your settings for
>
>
>
> Servername
>
>
>
> And
>
>
>
> ServerAlias
>
>
>
> ? Do they have all the stuff that is in the SAN?
>
>
>
> Regards
>
>
>
> R=C3=BCdiger
>
>
>
> Von: Steffen [mailto:info@apachelounge.com]
> Gesendet: Freitag, 18. September 2015 13:20
> An: dev@httpd.apache.org
> Betreff: Re: 2.4.17-protocols-http2/ - SNI issue
>
>
>
> Indeed subjectAltnames are very common in use.
>
>
>
> Windows 10 IE(Edge) browser same issue.
>
>
>
> User sees in Chrome:
>
> Misdirected Request. The client needs a new connection for this request a=
s
> the requested host name does not match the Server Name Indication (SNI) i=
n
> use for this connection.
>
>
>
> And then times out.
>
>
>
> Btw.
>
> The config has no vhost (SSL only), what works fine http/1.1 with 2.4.16-
>
> ..
>
> ..
>
> ...
>
> DocumentRoot ....
>
> ServerName ....
>
> Listen 443
>
> SSLStrictSNIVHostCheck off
>
> SSLEngine on
>
> SSLHonorCipherOrder On
>
> SSLUseStapling on
>
> SSLCipherSuite .......
>
> SSLCompression off
>
> SSLCertificateFile ......
>
> SSLCertificateKeyFile ......
>
> ...
>
> ...
>
> ....
>
>
>
> Steffen
>
>
>
> On Friday 18/09/2015 at 12:58, Stefan Eissing wrote:
>
> Ok, what is happening for Steffen is not a bug, but a missing feature. Th=
e
> question is how we move forward.
>
> The certificate at apachelounge.com has a long list of subjectAltNames,
> probably common for a lot of sites. Chrome opens a connection to server1,
> established h2, keeps it open. You open a tab on server2, chrome sees the
> altName on the server1 cert and *reuses* that connection to send the requ=
est
> for server2.
>
> httpd sees that the request is not in the same vhost as the one belonging=
 to
> the SNI server1 and refuses to serve it with a 421. Which rfc7540 intende=
d
> for this, telling the client to use a new connection.
>
> Question to Steffen:
> - what error does the chrome user see? Is it interrupting his browsing?
>
> Questions to All:
> 1. logging an ERROR for this will spam the log more and more in the futur=
e.
> We can use a DEBUG level if we are *not* on a 'http/1.1' protocol. ERR fo=
r
> 'http/1.1'.
> 2. We can check if the r->hostname is in the altNames of the server cert =
for
> the connection. Question is: what to do then? The request processing will
> select the correct vhost based on r->hostname, but any SSL parameters wil=
l
> not be triggered probably? Do we want to accept that?
> 3. We can allow 2 only for non-http/1.1 connection protocols
> 4. We can allow 2 only for h2 connection protocols
> 5. We can add a config directive to allow 2 (urgs)
>
> //Stefan
>
>
> Am 18.09.2015 um 11:36 schrieb Stefan Eissing
> <stefan.eissing@greenbytes.de>:
>
> I think I found it. Just writing a test case to confirm...
>
>
> Am 18.09.2015 um 11:35 schrieb Steffen <info@apachelounge.com>:
>
> Debug log attached.
>
>
>
> On Wednesday 16/09/2015 at 12:06, Pl=C3=BCm wrote:
>
>
>
>
> -----Original Message-----
> From: Stefan Eissing [mailto:stefan.eissing@greenbytes.de]
> Sent: Mittwoch, 16. September 2015 11:38
> To: dev@httpd.apache.org
> Subject: Re: 2.4.17-protocols-http2/ - SNI issue
>
> Good point. Limited online today. If someone wants to give this a shot,
> please.
>
>
> Am 16.09.2015 um 11:36 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>
> On Wed, Sep 16, 2015 at 11:24 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
> <ruediger.pluem@vodafone.com> wrote:
>
>
>
> -----Original Message-----
> From: Steffen
> Sent: Mittwoch, 16. September 2015 11:14
> To: dev@httpd.apache.org
> Subject: 2.4.17-protocols-http2/ - SNI issue
>
> []
>
>
> [ssl:error] [pid 3428:tid 3952] AH02032: Hostname
> http://www.apachelounge.com
> provided via SNI and hostname http://www.apachelounge.com provided via HT=
TP
> are different
>
>
> The above is very weird as both times we see http://www.apachelounge.com.
> Can
>
> you please check the logs with some kind of hex tool if there is really n=
o
> difference between both strings? The logic to detect a difference in the
> code is just a usual strcasecmp. So I sense some hidden characters
> somewhere, which might give us a hint where things go really wrong.
>
>
> Ahh I did miss that he used Stefans branch and not the 2.4.x branch.
>
>
>
> ISTM that the test should be:
>               if (strcasecmp(host, servername)
>                   || (sslconn->server
>                       && !ssl_util_vhost_matches(host, sslconn->server)))
>
> instead of:
>              if (strcasecmp(host, servername)
>                   || !sslconn->server
>                   || !ssl_util_vhost_matches(host, sslconn->server))
>
> Not sure sslconn->server isn't NULL here for the first request.
>
>
> I shouldn't be. Maybe setting the loglevel to Debug could help to see the
> other SNI stuff that was going on before and if it correctly identified t=
he
> correct vhost via SNI.
>
> Regards
>
> R=C3=BCdiger
>
>
> <serror.log>
>
>
> <green/>bytes GmbH
> Hafenweg 16, 48155 M=C3=BCnster, Germany
> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>
>
>
> <green/>bytes GmbH
> Hafenweg 16, 48155 M=C3=BCnster, Germany
> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>
>
>
>
>

From dev-return-83827-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 18 15:35:52 2015
Return-Path: <dev-return-83827-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1F12D182B1
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Sep 2015 15:35:52 +0000 (UTC)
Received: (qmail 52447 invoked by uid 500); 18 Sep 2015 15:35:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 52360 invoked by uid 500); 18 Sep 2015 15:35:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 52350 invoked by uid 99); 18 Sep 2015 15:35:51 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Sep 2015 15:35:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id D76621A22E2
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 15:35:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id bhL5Vm9CMOh3 for <dev@httpd.apache.org>;
	Fri, 18 Sep 2015 15:35:41 +0000 (UTC)
Received: from mail-qk0-f179.google.com (mail-qk0-f179.google.com [209.85.220.179])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 7957142B7B
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 15:35:41 +0000 (UTC)
Received: by qkfq186 with SMTP id q186so20897492qkf.1
        for <dev@httpd.apache.org>; Fri, 18 Sep 2015 08:35:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=VDMv7wdy4scapdn7ttpplWPF2G5CjyAPIPMz7qjINro=;
        b=mzwIfkeP5pkR7CJ+LSZWfuY/qK/zoM9YGvUyXuYClmjQOe1AkqICPmhsvCyDXpNrfb
         06Eai1ZpVpy7dq8dSSlpzjPiahCuYFLakIL1hG7z4dIAuSbmJq2Hrm6x8SByBirettKK
         DsYj01HMgtNs05tAB6SlhVWPevhPkiYa8Q6H0hHp6JjEyryuR3F8IuKKWinyLULRh/x/
         Wew+RF5w78B4Gy53grJUdv+GCn9xYRSPB2f0Zv2ZOdwm+cdctDZ1nTPf+zTIhRVwhg7f
         zWyd6hiVe7P5tRGZVGkMp0POIeri8dB9Nsxd0G3Z0zkSDbtffR0HBPQ/cgl69vwCNL9e
         duaw==
MIME-Version: 1.0
X-Received: by 10.55.22.143 with SMTP id 15mr7218881qkw.38.1442590541252; Fri,
 18 Sep 2015 08:35:41 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Fri, 18 Sep 2015 08:35:40 -0700 (PDT)
In-Reply-To: <375567D6-DCD5-42A7-8EB3-2943FF377739@greenbytes.de>
References: <55fbdaef.1e40.1068.6876@land10.nl>
	<AA54FA4B-0FF6-4B86-8262-A5B9B37881D2@greenbytes.de>
	<423B86E7-2AB3-4E98-B22A-1F75BCF9F9C6@greenbytes.de>
	<CAKQ1sVPO-7OWiLaEzwe4XzjXCMOGAjuM_ANJ2zedeyo6b_S1fQ@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC6319D0F@VOEXM10W.internal.vodafone.com>
	<375567D6-DCD5-42A7-8EB3-2943FF377739@greenbytes.de>
Date: Fri, 18 Sep 2015 17:35:40 +0200
Message-ID: <CAKQ1sVNwOBsr97VR9zayqf+R1AgqbfyoX7+HqD5G8wFnOsr+fw@mail.gmail.com>
Subject: Re: 2.4.17-protocols-http2/ - SNI issue
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

We could possibly move the SNI checks to ssl_hook_Access (where the
renegotiation logic is), and return 421 only if a renegotiation is
needed (including based on the parameters which cannot be
renegotiated, as per the comment around the SNI check if that list is
or can be exhaustive, those parameters must be "compatible" with the
new vhost).
Otherwise, it should be safe to let the request pass in, because we
checked that the existing SSLProtocol is compatible, that any existing
client authentication is compatible (same CAs and acceptable CAs), ...
It may not be an easy task, though.


On Fri, Sep 18, 2015 at 2:22 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> +1.
>
> I would like it to go further, in case the relevant SSL config is the sam=
e for both hosts, but this looks definitely better than what we have now. M=
aybe I'd work on that next week a bit...
>
>> Am 18.09.2015 um 13:57 schrieb Pl=C3=BCm, R=C3=BCdiger, Vodafone Group <=
ruediger.pluem@vodafone.com>:
>>
>> Looks good from a brief view. +1
>>
>> Regards
>>
>> R=C3=BCdiger
>>
>>> -----Urspr=C3=BCngliche Nachricht-----
>>> Von: Yann Ylavic [mailto:ylavic.dev@gmail.com]
>>> Gesendet: Freitag, 18. September 2015 13:24
>>> An: dev@httpd.apache.org
>>> Betreff: Re: 2.4.17-protocols-http2/ - SNI issue
>>>
>>> On Fri, Sep 18, 2015 at 12:56 PM, Stefan Eissing
>>> <stefan.eissing@greenbytes.de> wrote:
>>>> Ok, what is happening for Steffen is not a bug, but a missing feature.
>>> The question is how we move forward.
>>>>
>>>> The certificate at apachelounge.com has a long list of
>>> subjectAltNames, probably common for a lot of sites. Chrome opens a
>>> connection to server1, established h2, keeps it open. You open a tab on
>>> server2, chrome sees the altName on the server1 cert and *reuses* that
>>> connection to send the request for server2.
>>>>
>>>> httpd sees that the request is not in the same vhost as the one
>>> belonging to the SNI server1 and refuses to serve it with a 421. Which
>>> rfc7540 intended for this, telling the client to use a new connection.
>>>
>>> IMHO we should not base our check on SNI vs hostname (header Host) but
>>> rather r->server vs sslconn->server (ie. handshakeserver), patch
>>> attached.
>>>
>>> What really matters is that the initial handshake was made with the
>>> same SSL parameters.
>>>
>>> Regards,
>>> Yann.
>
> <green/>bytes GmbH
> Hafenweg 16, 48155 M=C3=BCnster, Germany
> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>
>
>

From dev-return-83828-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 18 15:38:11 2015
Return-Path: <dev-return-83828-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7CDC1182E0
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 18 Sep 2015 15:38:11 +0000 (UTC)
Received: (qmail 74998 invoked by uid 500); 18 Sep 2015 15:38:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 74926 invoked by uid 500); 18 Sep 2015 15:38:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 74916 invoked by uid 99); 18 Sep 2015 15:38:10 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 18 Sep 2015 15:38:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 6841C1809A5
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 15:38:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id SuLLHTHfyxKR for <dev@httpd.apache.org>;
	Fri, 18 Sep 2015 15:38:09 +0000 (UTC)
Received: from mail-qg0-f51.google.com (mail-qg0-f51.google.com [209.85.192.51])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 9D87E20510
	for <dev@httpd.apache.org>; Fri, 18 Sep 2015 15:38:09 +0000 (UTC)
Received: by qgx61 with SMTP id 61so41660369qgx.3
        for <dev@httpd.apache.org>; Fri, 18 Sep 2015 08:38:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=quPbMuhT+gMDX4cooAS/5O5lzpsVGduxRiuUSElyXp8=;
        b=HmnPhUO1ohs/W3V/nbLO37RYvQWeOdBAvW73oJaU4J5DD3Z0qrRhwdl7RH8VopfSWX
         C/QA7uu56dvWWsfcXcgE02P5BufiM4HLaHpjWf3SovmWMCr4ag6YRo858g+4rh5agvQ7
         ZbcqS+jeAV+g0MDqJmUk2Wxra10gHhgpNMMtXXaYUncAA7Xcrm4k1V20eXXC+tbUBOeR
         5D94fG9Bfh1Tq67ybuAYhXkeXmc5CiK2C8NyemKN+ZRM85FFgNRobkx7Q7iJfBHB5UxC
         E5Xl8trGxTl2t+eJVrBQj7Z7KPb5O5sOAdvauHdMsN40ZKKGta1o1Svk8guCwBqcCyeS
         Asng==
MIME-Version: 1.0
X-Received: by 10.140.147.8 with SMTP id 8mr7527093qht.83.1442590682936; Fri,
 18 Sep 2015 08:38:02 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Fri, 18 Sep 2015 08:38:02 -0700 (PDT)
Date: Fri, 18 Sep 2015 17:38:02 +0200
Message-ID: <CAKQ1sVPTpk1kHiFqLo1i+AnbYSP6_hFWEpVxwxfRMEgsYB2ePg@mail.gmail.com>
Subject: Re: svn commit: r1703871 - /httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 18, 2015 at 4:31 PM,  <ylavic@apache.org> wrote:
> Author: ylavic
> Date: Fri Sep 18 14:31:48 2015
> New Revision: 1703871
>
> URL: http://svn.apache.org/viewvc?rev=1703871&view=rev
> Log:
> mod_ssl: update the current handshake server once a full regenegotation
> succeeds, it is the new reference for further renegotiation or SNI check.
>
> Modified:
>     httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c
>
> Modified: httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c?rev=1703871&r1=1703870&r2=1703871&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c (original)
> +++ httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c Fri Sep 18 14:31:48 2015
> @@ -850,6 +850,11 @@ int ssl_hook_Access(request_rec *r)
>                  r->connection->keepalive = AP_CONN_CLOSE;
>                  return HTTP_FORBIDDEN;
>              }
> +
> +            /* Full renegotiation successfull, we now have handshaken with
> +             * this server's parameters.
> +             */
> +            sslconn->server = r->server;
>          }
>
>          /*
>
>

This one may be needed in 2.4.17-protocols-http2 too...

From dev-return-83829-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Sep 19 09:05:28 2015
Return-Path: <dev-return-83829-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 87F4018627
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 19 Sep 2015 09:05:28 +0000 (UTC)
Received: (qmail 62096 invoked by uid 500); 19 Sep 2015 09:05:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62015 invoked by uid 500); 19 Sep 2015 09:05:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62004 invoked by uid 99); 19 Sep 2015 09:05:27 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Sep 2015 09:05:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 3544DF43E1
	for <dev@httpd.apache.org>; Sat, 19 Sep 2015 09:05:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.11
X-Spam-Level:
X-Spam-Status: No, score=-0.11 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=velox.ch header.b=IJ160XY3;
	dkim=pass (2048-bit key) header.d=velox.ch header.b=MBTooL7g
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id O2YRmQpRMS-O for <dev@httpd.apache.org>;
	Sat, 19 Sep 2015 09:05:26 +0000 (UTC)
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 5068442B0A
	for <dev@httpd.apache.org>; Sat, 19 Sep 2015 09:05:26 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t8J95IeX017763
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Sat, 19 Sep 2015 11:05:19 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1442653519;
	bh=f915Vp5y/V2tIo2xaoovudP7xQjBtGrIVhQatmFUgtg=;
	h=From:Subject:To:References:Date:In-Reply-To;
	b=IJ160XY3bn6cDUTAyCNzkjhGeoUUop4O6cY254oF/8ZwIAifjwt1xSTa5IYhR0nZl
	 y3dVImAwn9HY4tlxtZ3sI5tqh8lOU0ecaVapB0CF4sXzZ8zIvIly1li4DuTwQb8tTC
	 AgcAs5Cttp5hTCSGsFeLaOxL3XuM0n2WhX2FZuC2AVv4SGdvngDfzAEEut4mmGHrft
	 kmolPXuijFoyrSsUnvwxVYLbuFw1jAPQL0sgsnJCGliP11KfK4ZJ3iQudtiDKNvZhj
	 OIMrQDdXOk9utMCpJEz6Vg5gRUSHbsQAeqP939Iy7j5XJ+SD97rvQpjLmd+6674x1I
	 w8oGdlLsIus2w==
From: Kaspar Brand <httpd-dev.2014@velox.ch>
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1442653517;
	bh=f915Vp5y/V2tIo2xaoovudP7xQjBtGrIVhQatmFUgtg=;
	h=From:Subject:To:References:Date:In-Reply-To;
	b=MBTooL7g3flh/lWoIMRO2MujQmvD+KFsHHM7zrxISScXp/dI7fH1aIcLeZyIPe8Lr
	 H7bIw12WMi31dtP0vfT1SvKLJbAx9i6kq167SQQOtchAaUGRC5LNEjoTkkxo7tR4RR
	 cN8nz+myQVN0+kJC3i7HUO+qJkx/QFD7LpQw2PyvD3Ewz0Reonc1mcYDVbz6qn6/ky
	 pZv1oMqDLtYjAtXGsaaxTpVOSKuX42Zrj8fBewB5K/2d4KTqii5IjYXcIOv+hLYoFO
	 zK8eXf4f0regsvv+SFi3vaIvXPftQUxE1nOq4hFvXuzGfH5qt1ruo7kYM08YnZ4CI8
	 ov9pn9fKOoRgw==
Subject: Re: Disable SSLv3 by default
To: dev@httpd.apache.org
References: <CAL1qwc_5ERd+3b9=uApjB0nqfvGZ4K+14zamtdsqDHyqm_UmwA@mail.gmail.com>
 <5441511D.1070201@velox.ch>
Message-ID: <55FD2553.7020703@velox.ch>
Date: Sat, 19 Sep 2015 11:05:23 +0200
MIME-Version: 1.0
In-Reply-To: <5441511D.1070201@velox.ch>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit

On 17.10.2014 19:25, Kaspar Brand wrote:
> On 17.10.2014 12:02, Takashi Sato wrote:
>> SSLv3 is now insecure (CVE-2014-3566, POODLE)
>> Let's disable SSLv3 by default, at least trunk.
>>
>> SSLProtocol default is "all".
>> <http://httpd.apache.org/docs/trunk/mod/mod_ssl.html#sslprotocol>
>> "all" means "a shortcut for ``+SSLv3 +TLSv1'' or - when using OpenSSL
>> 1.0.1 and later - ``+SSLv3 +TLSv1 +TLSv1.1 +TLSv1.2, respectively."
>>
>> Should we remove SSLv3 from "all" ?
> 
> From a semantic point of view, I wouldn't do that. As long as we still
> allow SSLv3 to be used, "all" should really mean "all protocols which
> can be enabled in mod_ssl".
> 
> I'm fine with changing the hardcoded default (in ssl_engine_config.c) to
> SSL_PROTOCOL_ALL & ~SSL_PROTOCOL_SSLV3, though.

For the record: this is part of r1703952 which I just committed to trunk
(and will propose for backporting to 2.4 shortly, unless there are
objections).

> The other option would be to drop SSLv3 support completely, like we
> currently do for SSLv2 in ssl_engine_init.c:ssl_init_ctx_protocol(). In
> this case, "all" would no longer include SSLv3, of course.

This is left as a next step, which I consider appropriate for trunk, at
least.

Kaspar

From dev-return-83830-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Sep 19 10:35:11 2015
Return-Path: <dev-return-83830-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3211218786
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 19 Sep 2015 10:35:11 +0000 (UTC)
Received: (qmail 66024 invoked by uid 500); 19 Sep 2015 10:35:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65935 invoked by uid 500); 19 Sep 2015 10:35:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65924 invoked by uid 99); 19 Sep 2015 10:35:10 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Sep 2015 10:35:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D8DA0180293
	for <dev@httpd.apache.org>; Sat, 19 Sep 2015 10:35:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.111
X-Spam-Level:
X-Spam-Status: No, score=0.111 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, STOX_REPLY_TYPE=0.212,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 9L32ZWFG9oRn for <dev@httpd.apache.org>;
	Sat, 19 Sep 2015 10:34:59 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 73460206E8
	for <dev@httpd.apache.org>; Sat, 19 Sep 2015 10:34:58 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1442658946;
	bh=g+5O/w2l8mNT6h2YEcMzqCkrsJx/M2hXGRnTt9grNB0=;
	h=From:To:References:In-Reply-To:Subject:Date;
	b=MLBR7ouZwPRQ0g/JVejqVKk2F9UvgppJbuKCVtgMs5TxhhWc/r9RdiOYp0M9viwzb
	 j30cXpze8WxMfYYfi667SFK+8bNDD4kOz+HlXXmH06bShfyku7M8a4LcHk7Ywnx6ln
	 ucW20Cj/uZlvNgMiYC4w//v1g+JWrd8JawkBwRmw=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <57D26D2F7CAE4D598801375557EB1719@father>
From: "Steffen" <info@apachelounge.com>
To: <dev@httpd.apache.org>
References: <55fc1481.b94.1e98.4562@land10.nl> <404A9408-BFD6-4458-9B3C-70B7874C159E@greenbytes.de>
In-Reply-To: <404A9408-BFD6-4458-9B3C-70B7874C159E@greenbytes.de>
Subject: Re: 2.4.17-protocols-http2/ - SNI issue
Date: Sat, 19 Sep 2015 12:35:23 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="utf-8";
	reply-type=original
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

Yep, build 2.4.17-protocols-http (Exported revision 1703949) with mod_h2 
(v0.9.7, nghttp2 1.3.2)

A quick initial test result:  no anymore Misdirected Request's, so it looks 
promising.

I already saw in the log AH01991: SSL input filter read failed, have to 
figure out when this happens (maybe not an issue)

Coming week I do further testing.

Steffen



-----Original Message----- 
From: Stefan Eissing
Sent: Friday, September 18, 2015 3:50 PM
To: dev@httpd.apache.org
Subject: Re: 2.4.17-protocols-http2/ - SNI issue

Please update 2.4.17-protocols-http and hopefully this will improve your 
situation with the patch by Yann.

//Stefan

> Am 18.09.2015 um 15:41 schrieb Steffen <info@apachelounge.com>:
>
> Servername www.land10web.com
>
> No directive ServerAlias
>
> Use it as SSL front-end and reverse-proxy to the different domains 
> (vhosts) in a non SSL Apache..
>
> Same config works all fine with 2.4.16-.
>
>
> Regards,
>
> Steffen
>
> On Friday 18/09/2015 at 13:56, Plüm wrote:
>> What are your settings for
>>
>> Servername
>>
>> And
>>
>> ServerAlias
>>
>> ? Do they have all the stuff that is in the SAN?
>>
>> Regards
>>
>> Rüdiger
>>
>> Von: Steffen [mailto:info@apachelounge.com]
>> Gesendet: Freitag, 18. September 2015 13:20
>> An: dev@httpd.apache.org
>> Betreff: Re: 2.4.17-protocols-http2/ - SNI issue
>>
>> Indeed subjectAltnames are very common in use.
>>
>> Windows 10 IE(Edge) browser same issue.
>>
>> User sees in Chrome:
>> Misdirected Request. The client needs a new connection for this request 
>> as the requested host name does not match the Server Name Indication 
>> (SNI) in use for this connection.
>>
>> And then times out.
>>
>> Btw.
>> The config has no vhost (SSL only), what works fine http/1.1 with 2.4.16-
>> ..
>> ..
>> ...
>> DocumentRoot ....
>> ServerName ....
>> Listen 443
>> SSLStrictSNIVHostCheck off
>> SSLEngine on
>> SSLHonorCipherOrder On
>> SSLUseStapling on
>> SSLCipherSuite .......
>> SSLCompression off
>> SSLCertificateFile ......
>> SSLCertificateKeyFile ......
>> ...
>> ...
>> ....
>>
>> Steffen
>>
>> On Friday 18/09/2015 at 12:58, Stefan Eissing wrote:
>> Ok, what is happening for Steffen is not a bug, but a missing feature. 
>> The question is how we move forward.
>>
>> The certificate at apachelounge.com has a long list of subjectAltNames, 
>> probably common for a lot of sites. Chrome opens a connection to server1, 
>> established h2, keeps it open. You open a tab on server2, chrome sees the 
>> altName on the server1 cert and *reuses* that connection to send the 
>> request for server2.
>>
>> httpd sees that the request is not in the same vhost as the one belonging 
>> to the SNI server1 and refuses to serve it with a 421. Which rfc7540 
>> intended for this, telling the client to use a new connection.
>>
>> Question to Steffen:
>> - what error does the chrome user see? Is it interrupting his browsing?
>>
>> Questions to All:
>> 1. logging an ERROR for this will spam the log more and more in the 
>> future. We can use a DEBUG level if we are *not* on a 'http/1.1' 
>> protocol. ERR for 'http/1.1'.
>> 2. We can check if the r->hostname is in the altNames of the server cert 
>> for the connection. Question is: what to do then? The request processing 
>> will select the correct vhost based on r->hostname, but any SSL 
>> parameters will not be triggered probably? Do we want to accept that?
>> 3. We can allow 2 only for non-http/1.1 connection protocols
>> 4. We can allow 2 only for h2 connection protocols
>> 5. We can add a config directive to allow 2 (urgs)
>>
>> //Stefan
>>
>>
>> Am 18.09.2015 um 11:36 schrieb Stefan Eissing 
>> <stefan.eissing@greenbytes.de>:
>>
>> I think I found it. Just writing a test case to confirm...
>>
>>
>> Am 18.09.2015 um 11:35 schrieb Steffen <info@apachelounge.com>:
>>
>> Debug log attached.
>>
>>
>>
>> On Wednesday 16/09/2015 at 12:06, Plüm wrote:
>>
>>
>>
>>
>> -----Original Message-----
>> From: Stefan Eissing [mailto:stefan.eissing@greenbytes.de]
>> Sent: Mittwoch, 16. September 2015 11:38
>> To: dev@httpd.apache.org
>> Subject: Re: 2.4.17-protocols-http2/ - SNI issue
>>
>> Good point. Limited online today. If someone wants to give this a shot,
>> please.
>>
>>
>> Am 16.09.2015 um 11:36 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>
>> On Wed, Sep 16, 2015 at 11:24 AM, Plüm, Rüdiger, Vodafone Group
>> <ruediger.pluem@vodafone.com> wrote:
>>
>>
>>
>> -----Original Message-----
>> From: Steffen
>> Sent: Mittwoch, 16. September 2015 11:14
>> To: dev@httpd.apache.org
>> Subject: 2.4.17-protocols-http2/ - SNI issue
>> []
>>
>>
>> [ssl:error] [pid 3428:tid 3952] AH02032: Hostname 
>> http://www.apachelounge.com
>> provided via SNI and hostname http://www.apachelounge.com provided via 
>> HTTP
>> are different
>>
>> The above is very weird as both times we see http://www.apachelounge.com. 
>> Can
>> you please check the logs with some kind of hex tool if there is really 
>> no
>> difference between both strings? The logic to detect a difference in the
>> code is just a usual strcasecmp. So I sense some hidden characters
>> somewhere, which might give us a hint where things go really wrong.
>>
>> Ahh I did miss that he used Stefans branch and not the 2.4.x branch.
>>
>>
>>
>> ISTM that the test should be:
>>               if (strcasecmp(host, servername)
>>                   || (sslconn->server
>>                       && !ssl_util_vhost_matches(host, sslconn->server)))
>>
>> instead of:
>>              if (strcasecmp(host, servername)
>>                   || !sslconn->server
>>                   || !ssl_util_vhost_matches(host, sslconn->server))
>>
>> Not sure sslconn->server isn't NULL here for the first request.
>>
>> I shouldn't be. Maybe setting the loglevel to Debug could help to see the 
>> other SNI stuff that was going on before and if it correctly identified 
>> the correct vhost via SNI.
>>
>> Regards
>>
>> Rüdiger
>>
>> <serror.log>
>>
>> <green/>bytes GmbH
>> Hafenweg 16, 48155 Münster, Germany
>> Phone: +49 251 2807760. Amtsgericht Münster: HRB5782
>>
>>
>>
>>
>> <green/>bytes GmbH
>> Hafenweg 16, 48155 Münster, Germany
>> Phone: +49 251 2807760. Amtsgericht Münster: HRB5782
>>
>>
>>
>>
>
>

<green/>bytes GmbH
Hafenweg 16, 48155 Münster, Germany
Phone: +49 251 2807760. Amtsgericht Münster: HRB5782




From dev-return-83831-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Sep 19 11:53:22 2015
Return-Path: <dev-return-83831-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CCEA018967
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 19 Sep 2015 11:53:22 +0000 (UTC)
Received: (qmail 67232 invoked by uid 500); 19 Sep 2015 11:53:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67159 invoked by uid 500); 19 Sep 2015 11:53:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67149 invoked by uid 99); 19 Sep 2015 11:53:22 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 19 Sep 2015 11:53:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id F1A65C01D9
	for <dev@httpd.apache.org>; Sat, 19 Sep 2015 11:53:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.007
X-Spam-Level:
X-Spam-Status: No, score=-0.007 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id QKmRp8wQYj1b for <dev@httpd.apache.org>;
	Sat, 19 Sep 2015 11:53:20 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 6843C2074F
	for <dev@httpd.apache.org>; Sat, 19 Sep 2015 11:53:20 +0000 (UTC)
Received: from [192.168.178.41] (unknown [93.211.123.87])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id DEA6415A0537
	for <dev@httpd.apache.org>; Sat, 19 Sep 2015 13:53:11 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1703871 - /httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVPTpk1kHiFqLo1i+AnbYSP6_hFWEpVxwxfRMEgsYB2ePg@mail.gmail.com>
Date: Sat, 19 Sep 2015 13:53:11 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <11F81FCD-B124-44AA-A206-4C45F9A6EB9E@greenbytes.de>
References: <CAKQ1sVPTpk1kHiFqLo1i+AnbYSP6_hFWEpVxwxfRMEgsYB2ePg@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

Thx! done.

> Am 18.09.2015 um 17:38 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Fri, Sep 18, 2015 at 4:31 PM,  <ylavic@apache.org> wrote:
>> Author: ylavic
>> Date: Fri Sep 18 14:31:48 2015
>> New Revision: 1703871
>>=20
>> URL: http://svn.apache.org/viewvc?rev=3D1703871&view=3Drev
>> Log:
>> mod_ssl: update the current handshake server once a full =
regenegotation
>> succeeds, it is the new reference for further renegotiation or SNI =
check.
>>=20
>> Modified:
>>    httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c
>>=20
>> Modified: httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c
>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ssl/ssl_engine_kern=
el.c?rev=3D1703871&r1=3D1703870&r2=3D1703871&view=3Ddiff
>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>> --- httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c (original)
>> +++ httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c Fri Sep 18 =
14:31:48 2015
>> @@ -850,6 +850,11 @@ int ssl_hook_Access(request_rec *r)
>>                 r->connection->keepalive =3D AP_CONN_CLOSE;
>>                 return HTTP_FORBIDDEN;
>>             }
>> +
>> +            /* Full renegotiation successfull, we now have =
handshaken with
>> +             * this server's parameters.
>> +             */
>> +            sslconn->server =3D r->server;
>>         }
>>=20
>>         /*
>>=20
>>=20
>=20
> This one may be needed in 2.4.17-protocols-http2 too...

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83832-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Sep 20 07:15:16 2015
Return-Path: <dev-return-83832-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6493117D13
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 20 Sep 2015 07:15:16 +0000 (UTC)
Received: (qmail 39491 invoked by uid 500); 20 Sep 2015 07:15:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 39423 invoked by uid 500); 20 Sep 2015 07:15:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 39414 invoked by uid 99); 20 Sep 2015 07:15:15 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Sep 2015 07:15:15 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id DF8161A009C
	for <dev@httpd.apache.org>; Sun, 20 Sep 2015 07:15:14 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id 6FC1B603C9; Sun, 20 Sep 2015 07:15:14 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2015/09/20]
Message-Id: <20150920071514.6FC1B603C9@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 20 Sep 2015 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 7483|Ass|Enh|2002-03-26|Add FileAction directive to assign a cgi interpret|
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|12680|New|Enh|2002-09-16|Digest authentication with integrity protection   |
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|18497|New|Min|2003-03-30|configure --help gives wrong default for sysconfdi|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21253|New|Nor|2003-07-01|Mime magic doesn't continue if type is specifed fo|
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22138|Inf|Cri|2003-08-05|Webdav is not preccessing special chars right.    |
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24437|Opn|Nor|2003-11-05|mod_auth_ldap doubly-escapes backslash (\) charact|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Enh|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42001|New|Cri|2007-03-30|LINUX : Could not set LDAP_OPT_X_TLS to LDAP_OPT_X|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Opn|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|httpd fails to start if log directory does not exi|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43532|Inf|Cri|2007-10-02|Error while compiling Apache 2.2.3 on HPUX        |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|Opn|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45926|Inf|Nor|2008-10-01|Unable to start apache 2.2.9                      |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46054|New|Nor|2008-10-21|Running httpd returns the error "bad user name nob|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Nor|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46724|Inf|Cri|2009-02-17|WinXP SP3 - Apache crashes on startup in libapr-1.|
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47241|New|Min|2009-05-22|Error in rewriting with character ':'             |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47289|New|Nor|2009-05-30|Can't build with dynamic libraries on Mac OS 10.4 |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|Inf|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48309|New|Maj|2009-11-30|libapreq2-2.12: "make test" fails at request.t and|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|New|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Blk|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51842|New|Enh|2011-09-18|Suggesting a new action for the Header directive: |
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Enh|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52756|Inf|Trv|2012-02-24|proxy_html_module LoadModule line not created in h|
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53121|New|Nor|2012-04-22|Confusing documentation, gzip and deflate         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name　(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|53999|Opn|Nor|2012-10-13|Deadlock between procmgr_send_spawn_cmd()/proctabl|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54364|New|Nor|2012-12-31|Add ref to mod_fcgid docs                         |
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|54998|Ver|Nor|2013-05-21|Apache 2.4 terminates all SSL connections using an|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55147|New|Nor|2013-06-26|"Header always" w/ cache different in 2.4         |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55449|New|Maj|2013-08-19|AH01185: worker slotmem_create failed --> slotmem |
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55808|New|Nor|2013-11-21|File integrity verification using MD5 and SHA1    |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|New|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55841|New|Nor|2013-12-04|Misleading news items on bugfix releases ("This ve|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55897|New|Nor|2013-12-17|[PATCH]patch with SO_REUSEPORT support            |
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|New|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56040|New|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56226|Ver|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56687|New|Nor|2014-07-01|ProxySourceAddress failed to bind socket to local |
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|Inf|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56898|New|Nor|2014-08-28|Headers in err_headers_out are not returned when a|
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57100|Ver|Nor|2014-10-16|"SSLProtocol ALL" is ignored for virtual hosts    |
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57109|New|Nor|2014-10-17|GPG verification examples are wrong               |
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57120|New|Nor|2014-10-21|Disable SSLv3 by default (POODLE)                 |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|Ver|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57374|Ver|Nor|2014-12-19|Event MPM: Wrong KeepAliveTimeout when system cloc|
|57375|New|Enh|2014-12-19|Support LibreSSL as an alternative toolkit for mod|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Nor|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57785|New|Nor|2015-04-01|REDIRECT_URL is not suitable for use in server-gen|
|57795|Opn|Maj|2015-04-07|mod_proxy_wstunnel sometimes does not connect and |
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|Inf|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
|57868|New|Nor|2015-04-28|SIGSEV when lacking correct DB access permissions |
|57876|New|Reg|2015-04-30|logresolve.exe on any Windows immediately crashes |
|57878|New|Nor|2015-04-30|Using UTF-8 for all languages, and avoiding html-e|
|57895|New|Min|2015-05-05|missing m4a mimeType in mime.types                |
|57911|New|Min|2015-05-09|Rewrite documentation unclear or wrong about what |
|57927|New|Maj|2015-05-13|Segmentation Fault at proxy_util.c:994            |
|57933|New|Min|2015-05-18|apr_port_t returns constant                       |
|57941|New|Nor|2015-05-21|config.status: line 331: syntax error near unexpec|
|57949|New|Enh|2015-05-25|new mod_ssl environment variable SSL_{CLIENT|SERVE|
|57950|New|Nor|2015-05-26|[patch] buildconf change hint in build to newer ap|
|57960|New|Nor|2015-05-27|PUT truncates response body; status_line appears t|
|57976|New|Cri|2015-05-30|Server threads stale when sending 500 status with |
|57978|New|Nor|2015-06-01|unix:/ works with any number of / slashes  except |
|57979|New|Nor|2015-06-01|can not turn change log level for mod_filter      |
|57996|New|Nor|2015-06-03|Symlinks erroneously not followed when target inod|
|57997|New|Nor|2015-06-03|Threads started during child_init don't block sign|
|57999|New|Nor|2015-06-04|ap_getparents() may remove start slash of uri     |
|58001|New|Enh|2015-06-04|Implement Forwarded header (RFC 7239) to mod_proxy|
|58007|New|Nor|2015-06-06|400 Bad Request with fully qualified domain name o|
|58020|New|Nor|2015-06-11|When user authenticates with certificate which has|
|58024|New|Nor|2015-06-11|(Graceful) Restart does not work after adding a Ba|
|58025|New|Enh|2015-06-11|mod_authz_dbd : new dbd-query and AuthzDBDQuery op|
|58026|New|Nor|2015-06-11|return 421 status code when SNI and Host: header d|
|58044|New|Cri|2015-06-16|Error sintax 'lua_dump'                           |
|58050|New|Nor|2015-06-17|ErrorDocument does not always work                |
|58073|New|Nor|2015-06-24|Extremely long time for graceful restart          |
|58089|New|Nor|2015-07-01|mod_authz_host uses proxy IP even when mod_remotei|
|58091|New|Nor|2015-07-02|mod_socache_memcache does not reuse memcache conne|
|58097|New|Enh|2015-07-03|[feat] Preserve original connecting IP            |
|58101|New|Nor|2015-07-05|DeflateCompressionLevel inside vhost resets logfor|
|58107|New|Blk|2015-07-06|Httpd crashes on startup every time, dump file att|
|58109|New|Nor|2015-07-06|Apache on windows cannot handle the hash symbol (#|
|58118|Inf|Min|2015-07-09|mod_proxy_fcgi logs 503 when user aborts connectio|
|58120|New|Nor|2015-07-10|ProxyPassInherit does not work as expect          |
|58121|New|Nor|2015-07-10|ProxyHTMLMeta seems to ignore all <meta http-equiv|
|58126|New|Nor|2015-07-11|[patch] acinclude.m4 fix "warning: underquoted def|
|58129|New|Nor|2015-07-12|man pages are not generated correctly             |
|58132|New|Nor|2015-07-12|non-standard, non-traditional man page layout make|
|58135|New|Nor|2015-07-14|mod_cache sends client "if-Modified-Since" to back|
|58141|New|Nor|2015-07-15|Apache Service doesn't start when rotatlogs.exe pa|
|58142|New|Nor|2015-07-15|authz_core ignores loglevel                       |
|58158|New|Nor|2015-07-21|Not honoring HTTP spec with regard to Accept-Encod|
|58168|New|Enh|2015-07-21|Would like full request evaluation support in Rewr|
|58171|New|Nor|2015-07-22|ap_session_save saves the wrong session after a de|
|58177|New|Enh|2015-07-24|Mod Proxy forward trailers in http chunked request|
|58180|New|Enh|2015-07-24|ErrorDocument original URL in subsequent <Location|
|58181|New|Enh|2015-07-25|mod_expire should allow "minus" keyword same like |
|58188|New|Nor|2015-07-28|http2 mod_lua: support build with lua 5.2+        |
|58197|New|Nor|2015-07-31|apr-util-1.5.4 build against openldap - "could not|
|58202|New|Enh|2015-07-31|apxs -q += HTTPD_MAJOR , HTTPD_MMN variables      |
|58213|New|Nor|2015-08-05|Can't use SUITEB128 etc. OpenSSL cipher strings wi|
|58225|New|Reg|2015-08-08|intermitant segfault 11 in session_identity_encode|
|58226|New|Nor|2015-08-08|XSS in Error Page                                 |
|58231|New|Nor|2015-08-11|RewriteCond can add "Host" to the Vary-Header     |
|58235|New|Enh|2015-08-12|Ability to allow from domain but with using forwar|
|58243|New|Nor|2015-08-14|rotatelogs goes infinite at startup               |
|58248|New|Nor|2015-08-17|Error 404 in use some characters of utf8 in url   |
|58257|New|Nor|2015-08-18|require ldap-group does not work if account-fullna|
|58278|New|Nor|2015-08-24|apache - mod_security Issue : apache no releasing |
|58280|New|Nor|2015-08-24|Backend connection not closed until timeout if cli|
|58288|New|Nor|2015-08-27|Semaphore amount increase until crash when enablin|
|58292|New|Nor|2015-08-27|FallbackResource breaks chunked encoding sometimes|
|58304|New|Nor|2015-08-30|Unexpected Warnings from Macro Use in 2.4         |
|58305|New|Nor|2015-08-30|mod_cgi documentation not clear about what is pass|
|58306|New|Nor|2015-08-30|documentation needs to make it clear which directi|
|58307|New|Nor|2015-08-31|Segmentation fault in child in "read(__nbytes, __b|
|58317|New|Min|2015-09-02|Error message AH01630 is missing file name on deny|
|58334|New|Min|2015-09-06|WebDAV HTTP access does not include meta tag for c|
|58335|New|Nor|2015-09-07|mod_authnz_ldap mismatch                          |
|58343|New|Nor|2015-09-08|The pdf files come up as a blank page.            |
|58349|New|Nor|2015-09-09|Support OPENSSL_NO_SSL3 builds                    |
|58354|New|Maj|2015-09-10|(20014)Internal error (specific information not av|
|58356|New|Blk|2015-09-10|Session jumping due to incorrect route            |
|58364|New|Reg|2015-09-11|Apache Server is restarted time to time (Release 2|
|58417|New|Min|2015-09-16|ApacheBench (ab) won't display Server Software of |
|58419|New|Nor|2015-09-16|ApacheBench (ab) doesn't work with keep-alives aga|
|58423|New|Reg|2015-09-17|Apache >= 2.4.8 PCRE_DUPNAMES causes build failure|
+-----+---+---+----------+--------------------------------------------------+
| Total 1547 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-83833-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Sep 20 08:59:52 2015
Return-Path: <dev-return-83833-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 35A0617E97
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 20 Sep 2015 08:59:52 +0000 (UTC)
Received: (qmail 6219 invoked by uid 500); 20 Sep 2015 08:59:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6160 invoked by uid 500); 20 Sep 2015 08:59:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6150 invoked by uid 99); 20 Sep 2015 08:59:51 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 20 Sep 2015 08:59:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 18D61180973
	for <dev@httpd.apache.org>; Sun, 20 Sep 2015 08:59:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.092
X-Spam-Level:
X-Spam-Status: No, score=-0.092 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, T_FROM_12LTRDOM=0.01]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id CO1sGiA-_4ys for <dev@httpd.apache.org>;
	Sun, 20 Sep 2015 08:59:50 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 3D9F92074F
	for <dev@httpd.apache.org>; Sun, 20 Sep 2015 08:59:48 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1442739631;
	bh=HxSlFBzyw/iADhGiJkgYETVQYAzqxTh++i86vJnARf8=;
	h=From:To:Subject:Date;
	b=EwpRDIdsHRjr2U4B5OYC+2WBR3REvL2CQ0KsrnsDURnjB9MtME4WpTZuymF6PTvM2
	 FhTox0DZmc6LOJrpeItNBAkexbUaCY3H1NewUXh0JVxCf91zVtvMq2cU3VUNFapARX
	 hXYag447CoXYgWOf7Lk1wLcSxu8tTd0vTWZoVHMk=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=127.0.0.1;
From: Steffen <info@apachelounge.com>
To:  <dev@httpd.apache.org>
Subject: 2.4.17-protocols-http2 :: Forcing termination of child process
Date: Sun, 20 Sep 2015 11:00:28 +0200
Message-ID: <55fe75ac.b94.1ec8.3c74@land10.nl>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
X-Originating-IP: 127.0.0.1
X-Mailer: SurgeWeb - Ajax Webmail Client


With mod_h2, noticed that shutting down takes quite long time ~30 sec,


[Sun Sep 20 10:20:12.724460 2015] [mpm_winnt:notice] [pid 5860:tid 
396] AH00422: Parent: Received shutdown signal -- Shutting down the 
server.
[Sun Sep 20 10:20:42.726181 2015] [mpm_winnt:notice] [pid 5860:tid 
396] AH00431: Parent: Forcing termination of child process 5988

without mod_h2 it takes ~2 sec:


[Sun Sep 20 10:31:07.421791 2015] [mpm_winnt:notice] [pid 8244:tid 
392] AH00422: Parent: Received shutdown signal -- Shutting down the 
server.
[Sun Sep 20 10:31:09.438615 2015] [mpm_winnt:notice] [pid 8796:tid 
308] AH00364: Child: All worker threads have exited.
[Sun Sep 20 10:31:09.454280 2015] [mpm_winnt:notice] [pid 8244:tid 
392] AH00430: Parent: Child process 8796 exited successfully.

Steffen



From dev-return-83834-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 21 04:22:25 2015
Return-Path: <dev-return-83834-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A29B717201
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Sep 2015 04:22:25 +0000 (UTC)
Received: (qmail 36404 invoked by uid 500); 21 Sep 2015 04:22:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 36184 invoked by uid 500); 21 Sep 2015 04:22:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 36172 invoked by uid 99); 21 Sep 2015 04:22:24 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Sep 2015 04:22:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 6192B180183
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 04:22:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id g9hHvANs993V for <dev@httpd.apache.org>;
	Mon, 21 Sep 2015 04:22:18 +0000 (UTC)
Received: from mail-pa0-f44.google.com (mail-pa0-f44.google.com [209.85.220.44])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 0358320F4B
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 04:22:18 +0000 (UTC)
Received: by pacfv12 with SMTP id fv12so106885653pac.2
        for <dev@httpd.apache.org>; Sun, 20 Sep 2015 21:22:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=from:subject:to:message-id:date:user-agent:mime-version
         :content-type:content-transfer-encoding;
        bh=7QFj8TTljmc4fbxvGhavUyHgLZeJMnmm6m9IIdNRjqQ=;
        b=F7QLBRlVUzGzRyk9Gip9SpoOrBYNT2tqCUBpOo/ESz7rASoeQHqasA3+5OLBkkIuEO
         nT5q/bg7qZOQMSMdCxoo4UZ/4DBzw/5ocE3B7xlRvp1lDO0EXl+aWnsWQxSFriCr8S/6
         lsbYEBGJwnX/ghSGBPE6hdCorTqO2ycD6jmWUi/SZl4s/ucrmlBAekM4C5g2I7LeuKy6
         3LOQniSV17rEZ7kOwqOz+1Qzo1F02BwAlRrvwcfBsZXwAKrH8o0mNoHfTcbOlvlmA5rL
         NC7ObB+rKYhugCV3O4bdusBHYGXOLyRIonBR+20mRPgzmX9bXR6f4Fh24wOv0WGfIDj7
         ITAA==
X-Received: by 10.68.65.104 with SMTP id w8mr22492059pbs.48.1442809330936;
        Sun, 20 Sep 2015 21:22:10 -0700 (PDT)
Received: from [192.168.1.2] (static-50-43-48-228.bvtn.or.frontiernet.net. [50.43.48.228])
        by smtp.gmail.com with ESMTPSA id bz1sm21677412pad.36.2015.09.20.21.22.09
        for <dev@httpd.apache.org>
        (version=TLSv1/SSLv3 cipher=OTHER);
        Sun, 20 Sep 2015 21:22:10 -0700 (PDT)
From: Jacob Champion <champion.p@gmail.com>
Subject: Thoughts on the new Protocols architecture
To: dev@httpd.apache.org
Message-ID: <55FF85F0.8040106@gmail.com>
Date: Sun, 20 Sep 2015 21:22:08 -0700
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Hi all,

At Stefan's suggestion, I took a look at the new Upgrade-related hooks 
with the Protocols directive, and I tried to get mod_websocket to use 
the same machinery as an experiment. I have some thoughts and questions 
based on that -- hopefully they're of interest and/or use to you.

== Immediate Concerns ==

1) WebSocket requires a handshake to be made with the 101 response, 
which means a module that implements the protocol_switch hook needs to 
be able to affect the response headers, as well as abort the upgrade 
with a 4xx/5xx if necessary. To do this I added a hook that I called 
pre_protocol_switch; you can take a look at the patch at

 
https://github.com/jchampio/httpd/commit/26fba7261b2d1d194c693cf7206633766af56afb

I also ported mod_websocket to use this new experimental hook along with 
the other Protocols-related hooks, so you can see what a module using it 
might look like:

 
https://github.com/jchampio/apache-websocket/blob/dev/protocol_switch/mod_websocket.c

I'm not sure I like my new hook, to be honest. I think I may have made 
it too general with the RUN_ALL hook implementation and I'm not 
convinced that more than one module needs to be able to affect an 
Upgrade handshake. I also don't like the brittle coupling the 
mod_websocket implementation has: when the module responds to 
pre_protocol_switch, it takes several actions (mutex locking, 
subprotocol negotiation, allocation) with the assumption that it will be 
the module handling the protocol_switch hook. If another module steals 
the switch, we'll be left with leaked mutexes and probably hung client 
plugins.

But I haven't come up with a better idea yet. A corresponding 
post_protocol_switch hook _might_ help with cleanup in the general case, 
but I don't think mod_websocket's implementation could make use of it. 
Perhaps a hook is not the right way to do what I'm trying to do.

2) WebSocket requires the Upgrade protocol to be handled 
case-insensitively (`Upgrade: websocket` and `Upgrade: WebSocket` are 
both valid), but the current protocol_propose implementation dance is 
case-sensitive. I hacked ap_array_str_index to use strcasecmp just to 
get it to work on my end, but it made me wonder: are Upgrade header 
values case-sensitive as a general rule? I wasn't able to find any 
statement in RFC 7230 on this, unlike the rule for Connection header 
values (they're case-insensitive).

== Medium-term (more WebSocket-specific) ==

1) WebSocket prefers that the server close the TCP connection before the 
client, and if I don't do an explicit close before returning from 
protocol_switch, Autobahn fails my test cases because the server is 
apparently waiting for the client to close first. But if I close the 
connection explicitly, mpm_event complains about a "network write 
failure in core output filter", so that doesn't seem good either. Is 
there a "proper" way to do this on my end, or is there more 
architectural work that would be needed to support server-led TCP closes?

2) Protocols is per-virtual-host, but I think typically people want to 
enable WebSocket for a particular URI, not an entire server. And it 
doesn't make much sense to me to set a "preference" for WebSocket vs. 
HTTP/2 in the Protocols directive -- they're doing entirely different 
things, and I don't think a client is likely to send them both in the 
same upgrade request anyway. Maybe WebSocket is just an oddball protocol 
from Upgrade's point of view?

== Long-term/Idle Thoughts ==

In no particular order:

- The access_log is only updated (with the 101 status) once the entire 
connection comes to an end, which seems undesirable.
- h2_session_process seems conceptually similar to mod_websocket's 
framing loop, which I think is a good thing. We seem to have settled on 
the same way to solve the "read and write simultaneously" problem.
- How does mod_h2 interact with MPMs? From a first reading it seemed 
like it would always split requests into separate threads. Are there any 
plans to have it use different strategies according to which MPM is 
installed? (In particular, I'm hoping that one WebSocket connection 
won't necessarily have to steal an entire thread from httpd, and that 
MotorZ might help us out here...)

--Jacob

From dev-return-83835-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 21 07:27:39 2015
Return-Path: <dev-return-83835-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4C223176A4
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Sep 2015 07:27:39 +0000 (UTC)
Received: (qmail 75606 invoked by uid 500); 21 Sep 2015 07:27:38 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75537 invoked by uid 500); 21 Sep 2015 07:27:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75527 invoked by uid 99); 21 Sep 2015 07:27:37 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Sep 2015 07:27:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E8079C022E
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 07:27:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.91
X-Spam-Level: **
X-Spam-Status: No, score=2.91 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, SPF_PASS=-0.001, T_FROM_12LTRDOM=0.01,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id of0f_-C3EuNz for <dev@httpd.apache.org>;
	Mon, 21 Sep 2015 07:27:30 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id E01D72315E
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 07:27:29 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1442820501;
	bh=vCeJ/amig+61115D3Tyc9LXBtqTvLw2M5x5R+pv01/s=;
	h=From:To:Subject:Date;
	b=QFmIEVnrdBlT3Otvth9TnyvgaD/74F/CSmJzp6U1UlqTokmdFcpAmIKlUiWbPVht7
	 JAjlnPnzwWWegW+xF/vQVl64RPobwnSNLw+Ar1AKIlpC85wQFOmsbtfaUHKjVnqxs3
	 NpaesMZJEDuXtRJ3K1J97JN2HZP9cJJ7vYIe83io=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <78A05444F0BA4FC9BA7311B96B0C4332@father>
From: "Steffen" <info@apachelounge.com>
To: "Apache Devel List" <dev@httpd.apache.org>
Subject: 2.4.17-protocols-http2 :: Restarting
Date: Mon, 21 Sep 2015 09:27:32 +0200
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_0022_01D0F44F.BE0E5B30"
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

This is a multi-part message in MIME format.

------=_NextPart_000_0022_01D0F44F.BE0E5B30
Content-Type: multipart/alternative;
	boundary="----=_NextPart_001_0023_01D0F44F.BE0E5B30"


------=_NextPart_001_0023_01D0F44F.BE0E5B30
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

Running live now for almost two days, see =
https://www.apachelounge.com/viewtopic.php?p=3D31674

Was running fine, expect the log is filled with mod_h2 warnings (see =
below)
Suddenly after a few hours, it was starting all over and over, 105 =
times.
And running fine for a few hours without restarting.=20

Looks like a (bad) client is causing it.

Now I disabled mod_h2, to see if that is fine.

[mpm_winnt:notice] [pid 1644:tid 16] AH00428: Parent: child process 2036 =
exited with status 3221225477 -- Restarting.

Windows says: Faulting module name: mod_h2.so, version: 2.4.17.

Log is filled (over 2000) with:

[h2:warn] [pid 2036:tid 4008] (OS 10060)A connection attempt failed =
because the connected party did not properly respond after a period of =
time, or established connection failed because connected host has failed =
to respond.  : [client 84.105.35.206:58278] AH02950: h2_session(124): =
error reading, terminating

Few other errors/warning:

[h2:warn] [pid 2036:tid 4020] (70015)Could not find specified socket in =
poll list.: [client 90.21.243.213:57391] AH02953: h2_mplx(126): stream =
for response 49

[h2:error] [pid 3300:tid 2832] (OS 10053)An established connection was =
aborted by the software in your host machine.  : [client =
202.183.129.112:47902] AH02925: h2_stream(116-35): failed send_data_cb

[h2:error] [pid 3300:tid 2856] (OS 10054)An existing connection was =
forcibly closed by the remote host.  : [client 177.41.118.92:52990] =
AH02925: h2_stream(123-29): failed send_data_cb

Logs (level notice) attached.

Steffen
------=_NextPart_001_0023_01D0F44F.BE0E5B30
Content-Type: text/html;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

<HTML><HEAD></HEAD>
<BODY dir=3Dltr>
<DIV dir=3Dltr>
<DIV style=3D"FONT-SIZE: 10pt; FONT-FAMILY: 'Arial'; COLOR: #000000">
<DIV>Running live now for almost two days, see <A=20
title=3Dhttps://www.apachelounge.com/viewtopic.php?p=3D31674=20
href=3D"https://www.apachelounge.com/viewtopic.php?p=3D31674">https://www=
.apachelounge.com/viewtopic.php?p=3D31674</A></DIV>
<DIV>&nbsp;</DIV>
<DIV>Was running fine, expect the log is filled with mod_h2 warnings =
(see=20
below)</DIV>
<DIV>Suddenly after a few hours, it was starting all over and over, 105=20
times.</DIV>
<DIV>And running fine for a few hours without restarting. </DIV>
<DIV>&nbsp;</DIV>
<DIV>Looks like a (bad) client is causing it.</DIV>
<DIV>&nbsp;</DIV>
<DIV>Now I disabled mod_h2, to see if that is fine.</DIV>
<DIV>&nbsp;</DIV>
<DIV>[mpm_winnt:notice] [pid 1644:tid 16] AH00428: Parent: child process =
2036=20
exited with status 3221225477 -- Restarting.</DIV>
<DIV>&nbsp;</DIV>
<DIV>Windows says: Faulting module name: mod_h2.so, version: =
2.4.17.</DIV>
<DIV>&nbsp;</DIV>
<DIV>Log is filled (over 2000) with:</DIV>
<DIV>&nbsp;</DIV>
<DIV>[h2:warn] [pid 2036:tid 4008] (OS 10060)A connection attempt failed =
because=20
the connected party did not properly respond after a period of time, or=20
established connection failed because connected host has failed to=20
respond.&nbsp; : [client 84.105.35.206:58278] AH02950: h2_session(124): =
error=20
reading, terminating</DIV>
<DIV>&nbsp;</DIV>
<DIV>Few other errors/warning:</DIV>
<DIV>&nbsp;</DIV>
<DIV>[h2:warn] [pid 2036:tid 4020] (70015)Could not find specified =
socket in=20
poll list.: [client 90.21.243.213:57391] AH02953: h2_mplx(126): stream =
for=20
response 49</DIV>
<DIV>&nbsp;</DIV>
<DIV>[h2:error] [pid 3300:tid 2832] (OS 10053)An established connection =
was=20
aborted by the software in your host machine.&nbsp; : [client=20
202.183.129.112:47902] AH02925: h2_stream(116-35): failed =
send_data_cb</DIV>
<DIV>&nbsp;</DIV>
<DIV>[h2:error] [pid 3300:tid 2856] (OS 10054)An existing connection was =

forcibly closed by the remote host.&nbsp; : [client 177.41.118.92:52990] =

AH02925: h2_stream(123-29): failed send_data_cb</DIV>
<DIV>&nbsp;</DIV>
<DIV>Logs (level notice) attached.</DIV>
<DIV>&nbsp;</DIV>
<DIV>Steffen</DIV></DIV></DIV></BODY></HTML>

------=_NextPart_001_0023_01D0F44F.BE0E5B30--

------=_NextPart_000_0022_01D0F44F.BE0E5B30
Content-Type: application/octet-stream;
	name="serror.rar"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="serror.rar"

UmFyIRoHAM+QcwAADQAAAAAAAADceXRgkC8AbEAAAHYtBAACHHt7oVw2NUcdMwoAIAAAAHNlcnJv
ci5sb2cA8FSTXBAZUM0NEREAFBW99Zt/DrzzLZts2O6PO2vfDPDNbMbbxt3wzMa2noU3VblVU1tT
NZd3/71kXJSUwUeOYmkpRiBRRiHnWiCcaqy7urkwOByA4cO46HAIF/jH6A/H6w7ccxKSiVIeQQh9
ELjuP9f4/n+HV/Hr/HqYrtl7Fw2ObVCDZyWP8S3/79X+v2M2f09X5fgP9v4/b7R/kbtH8R/sH8R3
yP+//L+PUtSoK/Z+/q9nv/D8Ov2fK+66vV8fj1/f+Px6vd6vt+7r2r9fyb1fn8Ovq+P2df6fxh/l
/G5X4/26vaPy/w9+1X4/l7/x6/y+75B+XX8Px2j+Ser3bSfl3Pyglcl373+7b77fv6/+3ePkm0Px
9Xr+77fhcd7fphbFBvlBP2e/bDuPV8P0/h/H3/pA1XV1bL2PZcX1/hapuqXGVTHv7e/R043xXw/v
/wUyb1bS/Yz+Vynw+Agj+9bF/s+QeC/5AF3Eeq8L8P52oC37+8X8j/h/1/6Yyrx2MbU+L3OVXl2g
VIrbB9QK0xi6r+LE+9dbSmdXrvrjulPjlSrlKrtolVrhGq3p09jO3aspV26vc7GzqH50Yvtzwttx
mD1+Sqr44AsRmCXNjXKudeoxuy4u5lzIXGW51srtsmAqRyr4K43Y+bVUSrsfXqv2KdVK4lvoJWfg
GVtfKqYlVr7p+x72X1UZVra9WGxU6odvtxPKKtGu3TMwIKLh4lbL2POK9GVarPFXfCp4Jq+zsaOo
t31NVVebHcVZsootFtIlKqMe9LjlHW7Lfe2CvoTrUoVGQmfa0UA+zOGANYSNG8e5RciKap2zt+02
CUmof7fV36XcPJey+vZGE/Xs7br7y6cmqRECDW7FNqbDu1yLOzRssqbKpLwRf7wYjVGNKoXQz5UO
qnG4mGsDu4TzRVhgYmkdbimctWKkQ721wO/wjsLbGGr0teIlW3u2JrRK42POiEsFBNQVd/dTkWbS
CmTWtlUZ1NlU6Oy91TkRTHNrQMDxaqU/QIFMtIKDeQVdbglr4KuhjaRWHV6+2VXcujcnq+rAnMHV
zr7oRgwgXwpkmLRKsS7tgjvKbLtG6vouQU2/+clbPUKsNs717Pd2NjGez3O9wO3Ol69kHiolIlGY
C2MhVNcmNZq+t4LuU6ONRen0nVti7SkSrkudsuvqCsmgyerzzwS/jPSHR7vjsgtrK5s6efnUp5VN
7eUdYMeKM/nR6usQjM+C4sREFJ4q2a61c7CcdXqHoKcoFK7cFea/YZv+iqGIFXDM5uGBnZur6OSN
/V+Pb3xBWXwpxXxc9SJRn3hULhWVymzWJ2OT8DAwqyWC3cZGCrRn7B++kFkehb2GaQa9WB2NrR/q
GPK7vi0JWKsFcIDXv1OnOTJawOx+ZpJ3p97tEBVwzOwsx299lrA7HC/pjHhjGAr92yN/qGzOgVAU
MZJzriVT1eYHDCLFQmv1sXr7xPZH3bAiNRNY5hhHpBbHrje/7GRVKKIYfiCnBRqXNPk7V6h4mGMe
OnNB3C3VqMHIa8yJLiLO1KU4L5PV5V5SwRgsP7jLZBzWxRCsG2CGVPkGPe1faMURbDCAEYIFiwp2
YUqhozOFYbt+P1gx42Phq+tyhpKvM4OupwqGQo3yFaMU26zsuNH7cHsfr5F+v9kshQVdoS1+8rjr
AwOtm4rAVSx1TyIQNUUwAKZMlBkHTXq+txLFmHwS1wgJQO3EkUKtvYFQDLaoRe5usm6ELRe4NJYG
AT7VCbnwKiWw6Q+oSrHavYLp2zJDFdB1FiFQuCk8pUWM5Kuco2kk4IMXmOv8Pw/1qLd91H7/woxy
/oIqfJ7gTjL6/7YFf/D3+74j1f7x4C9X9vf+f5bo9/f6vZ9nyDrxIfZ0JHbx8FxSqsk/5xqY+v+f
ERY+86Ej9uEkb5k6+G3Xt/l7b5PV/L2evfjMutR7I3Fyy1I4zRySY6p4KWJz5fYJzL6JuzOIero1
oKCJtyMstaXnW27zSpwsz/e6JURr13mdI7iesK9WKkwdi14CVsJL168oIlZUeakAKfKCnawWkgYZ
YQ9DTnnBvQCH+Ct5RE6UL98qFUAddnrBv9haSiVeH9j+gzj8GqRaZwS/h6sjKEVL1fbbIXBeY42J
oDiQj6jSr8zZQoXKHWdllfUVD+N+z+Hv/P7txHfdcsEHP8bzvt7yaD37/Z/x1/E0Nm8T7vu6gQr4
1ea5Py7INY+Nrhvjb9Jtfj7/x+7+vzW6e5DcufwiUZFATjwlxRDFW5CNtCqMArHZavpeIbrR8WIX
PfbFzjJ6FS9YFYFy31w4VEeVIa0ivIGkUCuMLFVyvTkuCEbJFh/AnC1Ti2MtYVxDMFuUGaK8FZk/
ZAMIajfpV9mqF5ULaCryrqW6TaT3mpe3OQrRnNwaUS6mtCh01hU24zwU5DgdjBghdLAUTPHYrjh+
+i/tFW9hbNNoaj2xRTAwKi5U09SC7eQxUW4QGJ2Cm2LYBbn4SbLV5V34FQP7ea8vTXBFKsdh/Ixm
rWLc/Y5Vrq51rzhV7jm4L3pb8m4eUtHqOJV/eCo7DWAL9JTolQrOUWowVBapNc+MtYNIRQZk52y+
ZPY5qmIWEptiP+gZjC491hfo+tsML/zzBWBTf3m3PyEo4jaQeDSPSkDnmXWxtJLOhQRagVyN8r2i
R6g2HvYFYeP1pRV3Wr0A/I1WQJW05bisOCf6iICbRWxrnWuNijavqCN8wX+ouRX54rI/dFQZcvWF
+eYxqBW4j+xa3O+hikSi9aKgyoMUiEPQYgFqsvPcqehYNSNPAScSrW3Eqy1Wa3RxgcULgODR3HX6
qdzds4YPOUal2dOPbaxOvxdMF79R4YBKB117axtxWLmJRfq+xLFmFiDYlooYL0ZCtkTy7sT6RUEj
hiAQo8H4nx7RyIdic7YMG3ZQm/0jT7std+oKmzCV+F3fr120q2bCvUeMOuAVhoZmLeRVM7/Kt7kI
sO8ymiVsoNd4Vcd8IXFx1hRczFnt5VC0/wZSQV2r0Si4F/kh60axkFWciCpCq1wO2/9jVTciUWHu
Ntzj1XJuWxh7beyoKCSIoX5sC+DhKIu0Pkd4u3SmyGr7KAWKK6/4LoMHVwiyzdDjjrf/j31/C+oW
REEqy5u4YektYFXvuFj5zxFGjESrnRUilXgMT9nyk589X0Wt+lTsDAx2GTdPj7F04iokXQMrsa/W
eGnft9yu37qyPaFBH6nsDVI64evvPqX2BVt8g0ScRa5gt8SxHwjrBAf2wJXowkJPIDhkL4m8cgRb
xWGipCtBKdX4J/Y7OENbSsNVDPFZCyOhKFzCtYUZvnS04zeiUZgw7PjGGuc8u5RmkG346prTyb3C
qTfOMuPbfu8VfDGBN8X6vVcQSzYOqXhgy/sU1x49gh7xVwoMmheeu1fZwlcPmy7Rbx4W8be2msOl
ZwrM8MJCXXP6wXdYwDjFNwP7WbP6sUIIiAos7lHxV4D1+1dZbYItbdkPdsl7hVMT9YIdOXsCg+er
5G7rf69nr9qwzDO3a/jbLn/OW48a3qlL9DkB7GGnkYRy1ohiNh3gHW5z1u1e1vfNlN6+dKoaPr1M
MnDpqbFuWVZytHnd24YqeygbRjZSS2M5ULhhIO2yDqxeUVGnWjHNy0VQdNCDtczaphGD1fYcS/fD
FTEQVlQqGku8Ipgi2BhzXMKDrWLW7GNT8MrUYc1tO/X0KONTucMFCrtLedQ1X6BATdLSBWLPD2VO
2NlOPHXXsxFXedgbIBFoyMOatRSspurGDCytgGCpQ1gdlNqyQKBJcE7qAou3Ih2QFYeKg20f/avv
Pt57pMmYKRDBIsY6MIKXvkqzkA0ZLyzlXDD8wJYzGNQzBIZBQwrcDGoYqDNXysvSqDzCPKBLIBbp
7Bh3FdNGbrOT87MYi9SIVhbtmCiWcFXJq+jUxHeXQWxCo08Cri2/Twy9S7CtI58C3r1GywzUoGP4
7LyTzlXNu9XKzbcRHWFzV5DDvsNGwMchgaOcFwlNCZjIKzM0tx9zTNJ3IF/XKyLj/5QwWzwzSPPd
FqIYKLq5RQw2m1gpmTsaE53rkETL1+rZI0C1k/aKc5sX9+Cfrs93uC8SCmuciFydA639Pt5ShrBj
smgTXvVODWPjFmik4muqOcKvM3GLgZ/egwumttwXhYyLId814o+E1IlGqLW0MNg0uhLWKBXG/t+F
85O02BLaghFXZsFSvCkrdKQ9fsswOqu+Bg60ZVyoZwq4qGr6oz766OsW5yMSUwV84Z+y7AzGlwQj
sWBWMMWKduFautmGL/EhKDGW1lvUaZ15+bKjbC1WKItmE3V8q47A5ucLcOjBKJ4QEkSVfXA2uU5k
nwbq868EpAs6ZgdguOxsWtciHYh+fWyoEnnJWsUBIGDzijt4BzfSS0RAOGXfwMytDMQq3kMK266N
QtFU4WGPTkxElXDDQWYVdk2axSwhafVRJr8EA62IyRJWTbE4fsOhB+r8abvNdikUW9NbOZyi4GBH
+VykHz1ha1QXzdGVbDpnlMNHtKNkhc5KuDgRgPfptU23kWXjWoMEXZINHbZNwkzfIX+3Z1+v1N2M
23ds9tx5sxaPHYMvYi3A70L3R3Iz1hW4vPYeh6mRaiUaQKwLymQuQevV1p+zx/oEle9oVT9glsUm
uAtUTHLhKnLe10dYXjeFrXwuGXe0ok9zGIh3jCw84UG8mv1eYIi/5sboWtWcKp7+pW5M5KyFzy11
KVFjdX3uSPE9RkKoHKzebRtXaJZA9TlA8eOr7eunlmLHBYgXIYiRTUiHY3zGJO8Wq9A4aFo8q95N
R1Y2JysHfkJDoufnk1G6UwwpS5A1XOaLA7hdw/Vx08zV6ODyPyHq+2TmvL6uK+6hmYULDqfRhigY
jdhw9dwrlSnwt+FBHCEP//hx/3Z9Xz/nWr7e/eAojD8rF1/z95/8ANeEFJBvZRXCRboOhuIW9yqZ
RJuZnoe480L/9ft+G6FvNmhX7rzvZ9vr+7+wBvv+Hjmhr4Fff4EdeEhvG4/uc1kX7uEgUJvyJNcF
9n07lJO9BSzaQQv8DuV0+IUd/BRzwehIXoKu8ZBMA4eyr92W3FizqY4sefweSHhJqKVhmCjoYFJy
udnIC0lzDtRsMttQ3b00Vh9HkE6951MmcY6vQvgguArLcE38x0DMGKUiHbwvhMLNyqg0ufwptSBP
Fdh4znnJN1fdsXFRdLi1DX0m4q4QFNtnwysBnXw0em3W9G2ZAriRiOtOjZ89nZWUzZ1YbLMZT1hj
Z0rczrAV4Y2cqXx2KQnnKuPOsgK99luHsaPsTeGfcDd67DvjAYe820bM25wwSauEbVF3aNt7Oj0B
MkuDbfDAdklSc6bVDPFYFambK4hesFcIvBFkwXHBmCQiLLREWh7q+rjyh+r32AGuNJHcUd4VFN9C
Hht1Yn1wSDKWcpmr6Lk2HeM66HCpIDEXUItqLRdRGJjkB+kxmr7n8hz/UFfXsnghzAPotkGeNoYR
xld5b6ArGjrHfN3PWWOWa49Dwx+TUSoP9zDhtrclCNvIHWwLvKqDevAq4fhgiVBwFQ4Ld24+LdYZ
kNncoEtzZMjZE+8IWK5zsGR8EGmZqtnV+RqR2/bFnzhRhmYJbSfNdfnCsFAmAC3dVHV7rWQeLcwQ
FBiZPsGGqyEi2gq5+oVTuHdl3PvT0egPgVU80yRYlUKo11Jl1qzhVx/Qyevsk7V72RWJYZMZTUvy
88VcN/wNbRzNXuWGYWOplulajNda+qk+vhueKyLwixCmE1fklcL34GVBo/0GZDc2IqAkbzdIq4FZ
b5p5ldunuosXxGlkCzLFJxkKOcKvcc4W7eFtFtXXKLFlArFBptZvYyLZcc9iTiKg3PFQe7m/WC7f
i1LLtyAY4YFkSQ8BVRRatPK28+MfQHXGO02tjy21/8zkq7uTxsVGgiXWGZC634KCI1hmDCmx7WQk
iUXDGV9RYKjXrDCtkWGdDLsOq6tPQGqyKIdkOozh4Bp8NZGCozqj2ot+DY965wRTBAOyvF+ry1T1
esKTu0qt3qD5ft+kfcwJO3t9nXsl8m7j29z8n6xeVuK6OdzSn5wtwxNoqk6IO9awVdGBhwOHVDKL
h0nUsGzM4VcGbH2Jows21hgWeshgdEcOoaxCWzx7lM2Iq51uIW2ug1uss46RH8docr+nEmOejSsz
xGqf3Q/V1esQwu8zwgpNtaRD5jVLDt+rOFXkeVtQZfi46ysjSI/zlfpmqmJtRTBOGgi9cNDbnWFQ
0Zb1f36tkVDO03rDKy9kpX/e72h04wWmPv9Y//QixSJUSAW4oYNBz5er0u63vvRa4o4W9dEz80NN
fV7ybwuQBivmsdBjk6FD4iMHtzxhCxcO5UdYoIqxjEkGL1UEUu/u9SSIghOrgaKw7il5UrKStGmI
oKN5jeQnaTCMuuigfTzh3AwAruTgFN/brC2VDsEZCz0EPpbJqWirckPSbWpQaas8u5BPKvJvzX9I
d+FwYoGrNJjg/gPJxLrmuBoxFhGTpV0Nra7DGuwRnXKyUPoQb9wv3/y/p4CXZbAJft9nX84mBn/3
F43Yqk7e7bWL/O+0Bzu/Z9n2iL4GO9r/h8MI8C+aRz9bivj9gB/1fH8/k7WXbds90Y9X7f29X/kz
H/8jnT1UAxcLtU9dmu99a/f+Pq8E+v9zBgDVH9vt6/+er+//3t3tV+zq/y/Hwx/j/H/H9y6ge8wN
b+77f5/neN7TCoJZ+YMe/zHp78vv9X3dRnCzvvb8EwSQr+er/H3/ndf3X/r+C3D938v+Qds9f5/b
9wK+OC916uwfcFqqVL9EAXp3j5ADUKsx1fw9/33yCUL93hltf1f3f99n+3+3wwAfw7x6sA7/El6/
lncfZ8fj+Ptq6/6+E/7drtp/3fP+D93z/jf3JZHV/RJZ/gJZByR/PJjjKMKEK3GvnFxZT84vDd2B
PqmvcIMOD1q/j85S4Vakur+nv/L/gelfj9h0Mfw4UqoWxCCxA+CRNFMRlvkhgQcSZY8cgJCK3gAm
TeCCKftNQhVzI+VpqrZh5xfxbKwRbNWIpKLCgIyADzyopbXWPPHiQi8YATLjCCKFB8WNtSmxcxte
YecRIWuLgFzbYUBGQADEln+TY8ceJCLxgBMuMIImArx1CFYCwtOSirH5yRNFfVHt2UL5j+MGXGy+
oVdW46JYqL6gSyx9FxF25KwPjXLJcx+ykHjjjwQADBKCo1vPHiQi8YATLjCCJZCTq8Z3dzdLJRRz
860mIyC/Rg5JVTwEZb4DAXI9xXPM0XjxIReMAJlxhBFNeyhCshMPrfZmalIasqhNDVRur+bZ8nis
WR7F8KlLiWpMfoVOTLCTjwQADEGu56VsvHiQi8YATLjCElQPQlXJdncZdk2zMfnI5gdqgvHZXY2S
+MGOulZZ6Fs69PbXp+Iq56A9DxrsD31yxl9GHt5AoVTjwW+Awehtl9jxyAkIreACZN4IIoMS9woV
NkVyZlNW4/O+dCrCsFlQSznUMgyfGDAkt/UVNO99eN5afRcRWNrsK65XTXNLYXxtFQt4BjufBJvP
J47jxIReMAJlxhBEvkyVCFZPuHjZmPzkhPlcMpCp0Nfu3jBjtrvqJgeMM2ktz6fiKuuwq4qInNck
pfT8RdA+gRrsDbLC19kob401LSEWM48EAAxey5c7HnjxIReMAJlxhBEtaqicZdGEI5FiIz84hje9
pwmicPBALxgzaPRt2QcA0hDdm43FZhU6T/oZjpTqVXwKJhrfLoaBOAT6NmaU4V8CiYa5lAV9IXcc
1ZRg3CyU5X5CcgO/QrMYRZKvsR1AdnpOoiss/AHuW7nu+W54Or4CbUHGY++vo8C820XyDrfJAWw2
PP1uXDsLQrsbvxDOxUcGskqeVIb0e6oAP4nxsaenp88/Uw+OhnJDM61CqI8djyoUeDEPw6qCXtOc
rc+j8BP5onxu7txmMhzIVyrlm5DG59kRbYRhrA8Zhh3y3Y49HQjhhBYEUzZ7euc7Vfx7tnu9vs9Y
fJTfJEPSrEJB0he6v0BctHJhZ6vJmTPDwIFsFeKpawgOzhWBk6VUNhM8x+r0woHEDJekFRfxshfQ
xqEmD2wbo302D1S63kLP8k2lplkZnCsDJjuo3gpdYKcg6NJjo4ZmzhY2RlRfI8ZDOFYmMl7B+RFe
skCl55OjHjZmezJmyKKgVzGOQGxftwuzPbbzKkHXJhlP3EPLcOahZDwebqOrBe65bZejTndMubSS
4/ZD43isPC+khAIpJfIjn/X+36hW/KrGD3R8p8GhsQKjF1dUN00j5JtPYvwvM/w/0/0/z6toJgF/
/fzBHOr+/Bk+j/pwjybDh+zqAO7v2e/Bjzfp/HNiHvAbrwYa27+X3r44OG0D+Mf+C8/7x63uI9fc
/07Sr7h4d239Ov11D8k/5HV+f5fb1fu343NwcqJVRc/r0zXP4cBpk6oUqwzKrfSxEVzlCkwY64qD
NGo6+4W+bpaQ0hzm+Wnhs5qPCpdo5VzxzhWe2eGLo8UUxZ9HY674ZzYPGqwFjGwKWpDymOBWcFJf
lN0oy1gnYGJ4oPf8NfS9qi2D6xQVgWzn7qSlavOyHliIHm3YnlXV3mUEQ7eabst8fvD1+1ekuG4O
QH+9GhZyjUQw9GSXDQu1VSuI9CdlU7SGPXbXbpX5sAtOnU6L19eoNhE652EYqblMKwLbPSZ2UaeX
gYJbOlj10wtV2G2pHcVGesVTng1Gz2Fp4B1793iCJRdHokbqc5tF2rKy9F07B/0kZ+NMchuqn37t
pOqVzO3E9XpYxtL8DA5qR+FREGKkhun7Aq8jZTc+6o7NoWmlTcuR7b6QzliB2KS4yREBN1aCWJIH
O1SLkfOxKYSRTAHFAzRfDKyizNGddwDN8N7vI1o5FVLNwVxagzNLiNtSKKtY1skOAwCAoKrc0zrt
PVefziAaPOB7WQ0SHp6vqC41kVHOtwfWobNlJ3A8/PFXEw8GWlHLX5kdH6Xnx5Hzn/oueGg0/SME
Nr1MNpgKTRsg06vZ641nsGpIjv7ev1GukilRcSr1MNT48FHUGS88Pw/1kBL6xsgznOYaatnM3/FA
HNTOHsg1w/a2v/m9GkP9f5Bu/tY00gcgKwe6Fe0LMino79zlNK/Dar1iGLrq+2lmKsst75NFppe2
DSD7m53LsGVo7Q2mbyfuGYjoeS2vrghOwc7isD1aoM9OGsVd1htTMGqZwsz0HLp1Q9mpWcBKvjOU
kVrui/U7ppD9FFpIa6Jxn1UHrb8qWpfZucKwes39GEwZhrCVmCrB9j2WC5sEl+9FlXAqCTZudOGr
1d2KysHPyhjq2HW3aSSmzOyrLED3EmXMvfrCi3Fcv7I+4ZvHu87PdLrls2Hpht4/ZiG3ivPrgLsT
Ltc+0jqipvfBg4bUGAnpvk5aEtGtxWBto3u7yrRyTruAQEDKzUaTEwdmnSvKYotUIuY/bClqa3WC
AtuWjRotsxY+Zvf0VAfD+plEndprFaNgr4VCUVtB6ZxfniCf5Wq74FXFoTIRdHKovo6OzvmcqJ7b
hIothqoE9wYauyHtV7NnWpw3HlesPFktjSqxi84W08r9IGfBlWVUXpFicCP6o7qMjcSKlSdRBLNl
YWo3xMObHWKMAaMNQ840wO1/PhOK0RF92wMqBViILXrCjN89WKbS1W1tLUGmGYXVqmvLozNILZw9
rE0XveFyZRQ/CdhCehwCsnpLrfIKDpmsTA/i5h+dfPBFMDHYp24h8GFn0fd745UBUKb/KgsQmLpY
NpwLUuJF5ETkpstY2FGjg2lxpLnGkZKNNLVzpg9cqPz9QZnrlL1hUK8V2b1J7HvO1CyyD2HsKLz1
NYUjzOdmBl+RQrav8CrvCV6qLMu0qNHqYsoD044a1q4YSspoqrvFAsX/uZg5lvIYItAMEiVsd+eG
vQr02gq51xFykbiJx1diCEdQXGzUQLq7zNPKpsa8yNeoH4lgtlgwTIu1elfW/1BkKdVuz5VmLNAS
ipWr0sJ2G7H7evVeeNhmNaKlhDR5fH75owg1//hhbVufP7PS+ENyWdsnW6bJ78RD0G3xrMdVq+5w
Ye/bC+mhs9cle3YNIVGz1SaPa3q9puyH27Otp1KaK4LRUkQ3ythp0slHWFT/eaxR8aTcm2DHkYMS
W9j9Xq6oO/sDajfBJBEaQrJPRLFGsCj8F3+2zy5WWjsOMB6/g7P/mnapwLgFNJFzjELBmw9QHTYq
9IVjk6D0b1bh4DsWIQ66So8LLtddcrn8GIh4Kaso7B82mq4dKeFcNNofNkDQTXotcSavBY5wDeYj
6KyVfJyGwxPnYbgH6bPNYA/5pDTfSZHEFA09YFzy3Lhq+jnw1K2BGnYd5Kgk/oIqvcNYVuB+8xc9
Y4fTMwWmw2U38zd/3aiIzDT2XioVoIDmVcRrCbqn6NVac4nz3ELY39vyMu3hFptx4Wg8Mq/BsdG2
j53yqUla6qvUaeFFqwTxqrOR/UrR/lFa/bA8PJg8pdlWIhZcPpeDUFrrEVcHwVcaUtow7nV9gz+7
T8l28hZPIbK571yj6q071O7j3e1uz2ezv57YWj0SqdmW4KiJYmNZnA4CXQqSVha0IMAkR87klSru
sM5F47Ln5+HU7OzZb4QqH9HvX/744NpvDMyzhUSEjmoPD1uh6ORjlsuAheYNoc0G2CsUS4Sf/X6V
y1b9IieCw97JDlSZx3La8Qx4M+W/Bpa18qJCF4YAX7/DCEjLf5TWcKFYh38u61VuYecQe6Fg8k4N
lD1JmigRkAeiXmECeuPEhF4wAmXGEES/tIUIVeJp6FuY/OIkauipQSXgdjEdoFie2EZvJ548SEXj
ACZcYQRMYtZQhWQT03QLKfnWkDVX6oo4dkT3lBkIp6Ufu3Zwl0b6V5g90hER9dfVr6IdbA/p+SB8
bLBOuvzrsHT882dc1ygDyTWJDjuW+AxMKvpnOTsX7lRIkpb/eACZOPI6vLrEkIS4UKnpd5aWc/Ot
IceUyin0GTZ4wYSjBPMAnwnMznUUhvp6Ia67BoD0enQiJcUxT0h2vo478vQm+DF5V7nPK+/cgJCK
3gAmTeCEpSWSVQhULHKM52Z5KrJaG9/jCg4i15QZCCrTzd9RmHn1unoht7I9j65Xg+8lPpVCOOXo
S/BiF0sJLseePEhF4wAmXGEJLtek4UIVlCDcl6QB+ckUJbqoruCoatm/GDN2gkdMMDP4VuAOzSlk
6JiG2fT0RKC3119JHr93HX3o9zzENlLJ7cqJ4SXJSVZQlrboCIr67AxddfUXP1sG3EbLBHp+YWte
gPQ7Z9llhloCYc1tlh0CdbKwz0DPVskPFnOCVob5EeOXWygDE9qoc720L5ASEVvABMm8EJGg7Zlk
ghW7F88l81U/OQXwht0LQqG4a1BIfPJMR8vNFPa+v+XyblscePEhF4wAmXGEEUuMKEKxlKa4lmHn
JDDQNondtHYvV8oMhNNsZTcYxmZfJCjQiGZN3RSTAwjggIm+wfdzxaXHHiQi8YATLjCEkwM5lkh5
w6PydCfJ+daTdrOdLTjv4wYyX1EwM+PL2lx0TEONdfXPp6Iiiuozu8i5LTHw/6yAAYvYfLnmssce
JCLxgBMuMISX5T8pUIVtUJZSY+PziIeqp0AuUrSjEZb4DBub7KseOQEhFbwATJvBCTpVU20oQrLb
/LqkRdJE0UZxF/Q9jfsBMRkAAxJv0U8ljjx4kIvGAEygICxqfD6jdw11sguca6Ksmj7fX82CWoJR
s6GiW/4wZuxLVtMuKaWPM2/96KiGquvv7Fr6fiJOuvxKvr0BMKKwNssFkg+UcknPj0FTMNtr6uno
hvmVfj0/MKnXOwZPUlW7a/cg2D0pW6D+WQAygZvkk3nhQX+PEhF4wAmXGEJGMUrKEJumHqWCypGJ
C4e90dBkWJGMTzOXme+Cz2O7w6x548SEXjACZcYQk61zpKoQr8oB7zJmfH5yRNDeKM+9rqFsVv0g
y42UrDhlSeQa2/6KiJ09ENVfP1sEdLehRss8Rek66XOXwWzAYkNug7nmnS48SEXjACZcYQRS6DM9
DirIffKtzLtLhXAbtjbJV2eqZAsV2dFRMcKIQ+tJU3KSjB5aDXFT2iJnveTzx4kIvGAEy4whIMHm
PbChCroNXk4UVH51pMt0LJFigGIyA8GBu9VMlY88eJCLxgBMuMISqUiCqEKyEmPK1chjzkiaKNxA
S7aNKlI+cGfUL23XaRzdumY9PREVQiHIbmdqWgGQQKgmAxK9iVr1x4kIvGAEy4whKV8jq8Mw9LHc
LCLso2QPOIYQsJJcWqobZonjBgZaadcd3y38Uy845lXx9FxDb07EKfYtZS3DSE0lKVLbq97AMMvL
XzumKckJCI4AATFwAhJatQ8WhCrw6Slk0JLbPkhGXaj4xrJGp1RvLWCv7gwPgTXzzNF48SEXjACZ
cYQkXDdXctQhWQ1iUZKkvH5yRNFD327crNo9ZpGIyAG3ABblsJ548SEXjACZcYQRK+Epmige78mS
ysnrrSbYfUplLc7k8YM+pNOl0uVxV/a+iHX75rdLejw+lD0Eizfy+XVj/AMMbdNKPPFCZx4kIvGA
Ey4whJwDxGFCFXrW1eTXpD84vDJoNCZCrb592tkvlBifl5t9G/C6X9tomyOnohrrlBw7wfScv8S5
XDM3AMPuIcrnk2Px4kIvGAEy4whKxDVZQhWXdQycAyD85ITH0aoTn3JS+MGbnkErDHvZyt5JejYi
dPRDVXz9bA+uvr6fmEL0B6GjXYJ1yyY4IFSVi3Qzl0hokNsgqHPK0u48SEXjACZcYQk2oPy4bB1l
bDYNyV/6fnWEzq8NLs6GplXxgxF2Dz/mMAhwnj53Zs8Z0TETp+Ia1lYJ11+JV/0UkHPUQ2119fT8
RG1zLgPiNok3DmkgN0ofAMq+WPPKw248SEXjACZcYQkuxOwdQhV4nJZNjBD85HSGhOZC95k+VZQE
Zb4DD4uhzxZdTkBIRW8AEybwQkTRTZFdCFZBf38my6h+cRC1mpZoUNEfPjBjD+snaZSlXbcvYEfo
qIa29PxEX2R7J119sdfGkrOfrBe+yv6A9HqJo+GH9BaRYxo47lvgMTEbnw54TouPEhF4wAmXGEJN
/ymcOckNI6c5ZOUMp+ckJ0R8ApxjEq/IzFcvNFHyHDhOLyeePEhF4wAmXGEJKooU+FCFXrY+vOfn
fOjdtCdUDFVHSJV4wZtCxOt5ZcbwNDNPyXMsTfomIU668rsW3p6Ib+zp6YBaymje4/pqeR0LEJ9G
SedMU26RZlY44LfAY8MVRYX4LPb8gJCK3gAmTeCEncuEmyhCsjnHZLDwfnES+oT2XUNOSvjBgeF2
TzAzK8VPbUN6eiG2uWQxGYgk7mgJs5c2ONnUNvlrWvWOPHiQi8YATLjCEm1jvCwOTGnouTvLTm5b
PaUsfTgDVUNNUflBgDSeYGdXiuozVbZG/2NJaUhmHHYgD4Jss2qJ548SEXjACZcYQRTmKoQq9Y+0
+lmZ3iuJIVgjTfsJy3D0J5eMGbtn9JMMHoV4s5byQRE8PoNSsdOHIK7m8GNqfo1/6WuPHiQi8YAT
LjCEowBzqEKhLZhZ2S+ENALnVdk5VDeU08YM2i+oNjLy+uKPRVBNVCIY+/qkG2FO5fD6UBgcCqhb
rXnjxIReMAJlxhCU2LtrCxDS2O/b+OShBF1aQIWnJjKG1f/8YM3b+KSWYGBYuUdIf9GRDbXX39i9
AREKwdPzCV6A9DRrsE65h81m2FQm9PxEe/sKwK4UQxULbkXun0GdVfQiLtmFX45JtGsvl22Kf2bH
hPnmr08gJCK3gAmTeCCJdODqEK/KpeXE6aslPzkir0jdJKiMu2Sx+MGbtSZSYYHbCvHHN063RMRF
a+iHWwPaVgjr6SPWwRXXKN2ZlyRdK447lvgMPjC9znhlDcgJCK3gAmTeCEnHJSyQQqPm1bk2MGPz
khCWbUN3VOhrDfeMGbvjMSmGATdXprX0/ESPZOuvtb2KoxDk+jwnpSbHzsr8X9lGSPK5jy2PYkHI
S8gN9k+Bfc56ud71jcgJCK3gAmTeCEnVGlDhyzR7vjhrEZKplPzkhFZD8p67Oh8cKvGDGCo5pxga
cH5nXXnQp1RrfRclJqTqmV5fKfUBjvcWN55W+OPEhF4wAmXGEJGYIQkkUIVC3w7KwKPDzrCYVOHx
Q6SLeZmIy3wGHj62zxseOQEhFbwATJvBCTayqVCFJDiGM5NAkPPpE0Mb8KYpSm0LWUfPCVhOu5zJ
a2oFh0uiIhq6diE15V+fZRmAgNxxZJvSG6XL0hPguPwRbzvekLkBIRW8AEybwQlVl9Lhr6/Iboxs
8nPVw/OtJGxqlBa1JVWTkgKZgcHooT2lWPPHiQi8YATLjCEiaLCM+FcXQfOGC1ZLljB+daSOEBzN
lDcxE8YMW5OzuLkzg6Dk/BWjSkdOxC4VuZx9BHmD5DH0jLWkRwW+Ax3uQrr1rxyAkIreACZN4ISU
AoFDoQqPk8bk7+Eh+cjmwXCVNZF9DWOl4wYxP1KbSu44TJmXmsMneioiT6eiG3sf2LKwlYIlYOnz
R/p/0eUUrmwm5JS2zjggPBi9ZQJna88eJCLxgBMuMIIrhuExCFQt/Z5OXT9tpY+CWjfoxU1s+za/
qTnVnd6kQXRcRH12CddfbXM90OI+PF79ShOQM+lgGLsgb3la8cgJCK3gAmTeCElb6QkqhCs++Zcs
0/OSKE5tQs8SlaLKwI+XmijgTWx8EnWPPHiQi8YATLjCEl2k1/DRlRwAJJPycPJT860kbOfinpWb
38CMt8+F2/dtlzzU1+PEhF4wAmXGEJGM/y9paEKnvuBW5x5xENgOQXLOhe394wZ9QdM/yvvmWm+h
ENwpSmpKjdOOCAHG0Llzy7ADkBJaXjACZcYQk686ZOoQrJ825OCPp+ckGBhtlAexKwdNnJAmi+DE
4B39ixlSxIlTRcYATLjCCKoUpA+B+ym5LmbUUqlHG5ZLO+ZJxh5QaI8OCTmKWjnlSKceJCLxgBMu
MIIuhNDuzHC0PlnPzkeaIfHU4eqhvI//KDBQsJyUVDh3yvZtubdFREVRiHeBcfOzn+yvc29XNrug
p5S20IiwHBxYilLaNAp1AGA8Tw/nisr8gJCK3gAmTeCElUuhif+FCo9rN2+lkqtM/OSKdS7W8Nbq
GLNPjBjJl6CUW5v5MatoxEf4MMaVCo++o3GuSXAAjjgt8BiQ3kG4WPHICQit4AJk3ghJZNUeE7ie
GzJeBlSeRbto/OIgcOH8Cp0NYF7xgz6hhKEFcyWpPp6IauxcdLejwof85rSKEw44IA+EgT5bhhdj
jx4kIvGAEy4wgi3soQqFNbPJ2BOD85IoTHD4PFrYpKmi8vYLcBgfyZRseeQEhFbwATJvBCTbY6Eq
EKyFT8ydsYg/ORJouH16tuxf5cY8u0ExGW4YYG4J3Py+xsLW3kxIQ/BACYeCEJLSzeyVCFR8lv2T
avc/OSJoopc4SklOCfAR2geDDYyY6RPPHiQi8YATLjCCK4LS/boVgGltFtua0gujRyxo7RbJGFfk
m1dO7DuOFhYeZ6dZx9GxEV09ENrylfJcIJOfX3LMm3cGBuKFqnzweL48SEXjACZcYQk7Eaj4UIVm
JyTcmxISNgj8cLPG/NxR48pULfqVZ4MAnm8Tl+nohv7I9k+xXYvp+YQvp+YSvp+YUulQKjfyEkVC
j0/ESiaSCzkuJSMv2IcrgqIYYgOCWrDnXW1XyYkSk5/jACZcYQk6ZQnsoQqLcqQyWbUfnJCc/HFR
Wu1Sfp8MYj5eaKPilDapdj1x4kIvGAEy4whJrcja5bs3MfPJ3SHT860kfKxYLOZqTRDtrC8GGDfv
7jY88eJCLxgBMuMISJoroSoQo94bHGS2rXEWH9Nx8BVuGlF+MFp1wmbr4x4TocrM3U1R9zybgHJL
b6cgtvkcEpgJ95djzx4kIvGAEy4whJvdXFlCFYCcfybw1H5yOYPDlwQjcS+iyMv0gxPdTpsVBxwO
i7Hl09ENvYrsjr70LWwLX0/ERvY/s0xPNlKNDJkfX0Q6zY0ZIIDbNqSbFFKjy6unAYH4/O2voXkx
Ik1GLeACZN4ISVDLJtmM3WupZWr7B+daSuqSl0dho/4wZYlOr9A7hqGDc0bIEQ1/RgH/J6fXX+n/
Qsa+frYJ119egIiLrsD+zp80c0rDPX1Atr6IdfqRx9tWpTMHEccvWp2VKeH1XxPPHiQi8YATLjCE
jAIpkHUIVa1krc5+cRLamR8NkpT1mIyAF4Q5x55bJnICS0vGAEy4whIssrcuWMQrca/KydfH5yRN
FH2adGUW3Dtm7+kGLvolYfKvHCjYlPp2IUexbenoh9PehZ2V7p6SKoq8t9tf6emDL6eozX6+nkV/
vxrr9H0I+c1JOyx2cduXq7HgxEKf5dj1x4kIvGAEy4wgipLZQhWcpwyXPT5+daS8c/4FHiC0+MGD
5glpxg9N60Fh3dExEVRiHcr4L2UNj7a+1vYyPY3QEkjp/0N0+aSe22wTrr8a7BRmFTc1K1tCnHHL
1G9AfEDLnnDr9yAktLxgBMuMISceDJwoQq3tI5Lyxp+ckVG8Pn6tJaVt6Dcq6zxuDF0UXt54sGNx
4kIvGAEy4whJ4Oe9kpIKBy7TIwBGPzkiaKPofw16TwG7TEdoA5dW8fJ2xexx48SEXjACZcYQlbDk
LJBw2bZZXAbtPzrSRtUKbV0PkPr4wZ9Qu1x35jeU1teWQOAdJ3llhZx3LfDvLmEq/Y8cgJCK3gAm
QwjwOj9SSj62slQhUcLYrKweSROGC1uhYc4aCr6eHg4/8YMT8sox/yoVp96Z3D/0bENVdfj2LrlH
Iybmk0JZxwQHgw583c67IvPJiS0teIA5koS8YQk7lTkrJLs4icdk8NqB+ckUJeHzuem2uX9IM+or
OK1S5TcOV6NiGt/T8RJ9kdLTCgtGoLakYveskgUiQ0RTD7/vrHnjxIReMAJlxhCSpZeFlhWPrWgc
LZbKUsiRlhUfOKXi5K4acakBROj7vYClrVY88eJCLxgBMuMISUlPtIUIVey7LJyyuPzkWaJhzt4P
UyCSv6DEZbuAYk+cIc7TReSEhEcAAJi4AQk0R7w+dwoVDuXy15OfpZ+ckTRR9JjRuNgsJMRkAPoW
a6cHE88eJCLxgBMuMIIkfOjFCFRkmRPJXkx+ckTRRuZsTfNJqhhiO0DwYfGU+ddL8/JiS0vGAEy4
whJoh+EsHcIVlANYTJoE2Wks3N1pikpexs5dQpYBiU1ulPniaLx4kIvGAEy4wgipPZwoVGgDhqsn
PH0/OR5opv9bQapxFARlv2dXsRVzwjl8gJCK3gAmTeCEqaK6VCFbYnk4wPz86wg2vSv6N9efzr5r
xgzd9XnLC2RizlMjSejIhxrmaPxFlQp1yuHz3UglHiXcuhmgMbUzVzyqmeQEhFbwATJvBCTtPH5W
YxCsjnHZFgpT85IPEhoyQkust/LWm+YXjah62c8TRePEhF4wAmXGEJLEjlw1UybRleN12a3NK0oQ
tO+p9HhF1y+rO5XxXfIZu+EnT0Q19kexfT8kD66/OuwL6fiJ0/JHX0/JIUVfZXYOBg2Aufr982Ol
PR4cRCMJ1+NlCi/p+IjeyddfnHsozzRXXFpWiM/Ll7DmAMDqgHmc627Z5ISJSpxjACZcYQkrbqap
UIVft7HJe/oPzkhU4eGOEvtbJfGDE/aBMsiS0BlCWISlWJWDw4jjlzAw5R3mXssF2ftceJCLxgBM
uMISbz5MVQhWQnsZO7CqfnJBgaAdzPJVpEGIy3wGIT531gs8mJLSt4AJk3ghKeJSVQhWcWMyXJZz
85ImixqHSIkeoiTEZAeDEtqWF+Gz3HHiQi8YATLjCEnW3HDhWBIHA1tlHKutkj5drYQsPvjTQf9C
8YMuNmnWRPzrlfmq0r0/EMYZjQYk/ZT1fLZgs4BgaHqJ88Wqa48SEXjACZcYQlV1aVGWaDnUclzq
B+cjmxxoQIHPA54eEoPGDBmeInmBpcF/ntWYcrc6MiIrp/0emVgf2Rrr7dfTzeeIhtm5K5F5Bxxy
yKwAw9Xg1zrqF95MSJKKxvABMm8EJO1HLOFCFQzKpZXxX4HnJCKwOAtS24NK3HFZw5eaKLe8MbJZ
PPHiQi8YATLjCEr5mZusxjgF0Nyt7XQ/OtJHRU3i2hwImPGDE/4SvCd1eDy9pGeioiKsr65lNFnl
x98ienxrr6rK/F5WDSskcdBZyVy6RewBxwW+Ax4I88ZRm8kJEpFYxgBMuMIScozWwoQqHbzMps7H
5xeOW3QbDhYkEc/S5foja/mEYJ5gZua25gToRDYNvzpJbYrEDEaADF9Ei/FZ7fkBIRW8AEybwQkZ
4+cPCx+IV+VBrG5Fk1j85Iqr8csyiFHh5JeMGfUHRnm+XFUi415Njo2Ija7A/sn2Rrr7en5haqMQ
yQSQWVocr/DXJGcuaBiJ+AYCUfgvnlFZ48SEXjACZcYQRPDuVUIUCy8lkuRSpNyqXQqkJwaTuMSI
Fx4bSjrKiRbHniaFx4kIvGAEy4whJt1I9lCFWSgzJyU6PzrSHSvpPrYG8OlB4wZ9QzYqGxMVaD0T
ENb+n4iT7I119tdgpTzZy8ty5u3n6/VxjbYG6+kj1sE+n/R6cSu4Y4Uklw1I44sAsQ+pTseeapNx
4kIvGAEy4whJ1CuylQhWC7jsqWafnJFUmmHHf7KHCPs8YM+o2HMbXLSpEqEQz7KwjLSTjggBoQ/X
WK54tZNx4kIvGAEy4whJ2hFXSoQrewyWT89Bj85HMDD63E3icRvSJ05opiMt8BicpxbzwvsuQEhF
bwATJvBCTNFfGHChUfLe36HKL1sw84iWGYtk55FARkB4MRH0FZnY88eJCLxgBMuMISXx6GSsxtDm
79aq8x+dYS67UdGiVJohzEZACX66EPBXq53mi8eJCLxgBMuMISdLvnDRyz+ofWXuAAPzrSRyFRe1
ocBr/4wYn/A1Ibgeq+U1MvdGRDfXX29i9AREnXX26AmFRKwdPySH9j2lYKUwucErczjOO/Lp0fgw
/vkXtseePEhF4wAmXGEJOsgObKEKyE5LKrcx+cQzjxiCGnxnh5uE+MGWpTvqnDvy3c9g8OxwvYrs
Lzm/72SZzijP8xF4cl10vbuQeSoISHnPJC6tMWFnZy1volVwp46u2p8kcPD9T098/m9OxCj2LX07
EOZSw7zFsegfQnDmDDjKGj9CRe/444Lc3Bh3dO514WiOTEhD8EAJh4IQkY1i7RsoQqOMA9k7q1h+
cQo6Dr8+hzfhQ4vdfjBgyi5+p09Q43/w6RPQfl8CD6OWE1bNnEMnDoN3lz+j5cF0Yv4/VkanDtYb
jVx0fuEaUXVV60jwHEcSjX2NI8T30+z+5ulhArIIIh8UZmyD54Z3aqllTEaO4mpYeNWe/DrmSBN5
ZS5907S1T2lp+9vitmUVfR3GtpE6xu7tP7jiJvd7ig8UNAPinq7lj3VyOVKu0fxP+wYJiyqYeJ7E
mSaqPEvZzpUNO84w+IwuVKv3daO687Yovw4n/o2PdxynNaXHDHXnCryDmnRlWi+zPo7jnH8OvZcO
g+NAdE5JdLpOvNzhV5nbPARSGZcq7RvKc0Eqs+uDc0yv9jhFELJc1xXjYnyrXzxva5N1idf+cq/b
TpcfPDLNcYEzmwjLM+HA0faX4v5oOzsKVirdU+fn/kFqIzKOvTU6u+tlXMyFurDDpvNKkuZZtH8Y
SY94rmxDh7etbs7uSH049QViWGqbQeum2Z2K0nUFx0Wixz1r9PuWcyzxUDgsz3MUfvqJpqq34z3U
XA5Rx8UXMO8LRarkyxH62Co/SdrE7H6LqXv78HKWiHewXM/tbcFss3Wars3cgnQ+SJ/nFqGq6wVg
3Otj7VezNYKDtdcGtmj47J8+OciSIlujlSGOqUP2nM1hRvpQFaJHFs7Pjp32xfaKzcwtHuo9Xuiy
9HKnPoUZGplxvd2tgiUajT2a2RSWXLr1hKv+fpdvwxp6XGnnlnysjbydjKWsFMg+vaqfcybFoz16
dLrIlZ1TIa/CVnKdHscR6aWID6Bo+HPzfChqcOgmKiLEcysBd7xiGNRrBAUU3cYKdXEOy+ul1deW
Z4rJQ0X4enrCob45WknvRKg/bDDPHCoSylXpo9rZ7xWKXX9iY0tcJYw7ZXWXYiOy3joEYHGdWHbb
KFbsm1GQFR/RtgEvQqvOGkUsYd1Fbuh1FFZOXSMAdnioH7Y6RYTXavYKe+gKcf3ARS+57biXbAwB
+sG4UFfYx1ng+xmUzj+w7d5yriX8KLcKIaD3awVaPPUGwquynfXqOaef39bmxfq8wQDm59wCgFaX
EHYxxo1UQwQOVosfr89XoFsO7SFhu5Sw7XMRqCWT0UwP8+LfLKeWVC2aQ6Wx50jK0OYcW/uKSgvK
lnisCYRNw4auurzsR9q7IdvCkOs9weFL/Yh9dyQk6Z2h/DgpGawWxGK2P8VXWl02/2cUEzwzXR1o
PIdtLWFV1xpYzKXY+GzhgzDsnEyVJa1ZSl/6OOzH2eRAVUEDHZjnpdl4/HPFWDkWB3fbtYotYUEg
2i51M3LC1bWollx3wP7It3DXR259HqC9hRamti1D/QdGTDqXaJSdnCsHz+fGlGXWzYTZp07FCmi2
wLVKH1oUSzdZVXD7I7YcqX+uYIMhGBxeTk1L4OOUf9Ai06R5use5QUYWL8a9tLsOjOzhWSQmEvkO
tBPrBVoPljGjfnEwUv9kmyQq2f3FXHNz/To5BOWeR7D0unKg291JS/cQVmQMxOo/Bw/plt/h2DP5
lfA7RBwWGTXMQm3qCrn3yXpjlQ7awYyViHI78w7A9YMENkpEOxLO8TI+Qt+er7z5jlwjBVsC3m4S
wr/WIVlrMCoOi3ufuLyrLWLZp2oMvehYAZgrA64HI4j/5j2awqugrZA5SBB8x6AtYZx/eSfYirkh
Kyj2nlxjztUVXMYN+n0ZehgumPjlUySFVcwVg+1TeC7duRjrBLD83ItGdT6+4S88VcUicFzXAs+k
ORk7DBANi/BgYE7ajefWWeKuOZ1+uHe23Po6zgeFoW3YKXsSWsFhbSQFc6YJefz48GwcXLV7REHN
rWE7IJ4q8KgzS55dqs7KzsQSxJjmdb2djRx2Oa93f/TqE7iEoSRK2OCrD4yqSe+c9YJYfm5zQ7lC
S5YNh2PUBmbNlq64Nvz5g2Zrts+u1ejSouM6lhj+h6zG5zZHV6l4HY9QOuAyeNRHlr3V5RS7Ar4/
/Bp66WWYG0fzyHm1YcttZlsDgOhUlWbOvUPqxu2pwlV5V0dJ6dQC5KpLtd9eoO+wcGhwf6mVcb5e
kLImtPmq23/CwIdK/p+OeKgUWr2vfZ2NIXG9sR9Vzc2MfYZDUPmLcD8rCq2yHSA/O1edew67aWHZ
YSdHZCxNWinYsGhxc+vy+epep0A0+viThy22Rzay1wptDjOysjtNfuOhl28O0ediGCV8Srj6gzAp
xHThTYxEc+Vg/v0Y5c9X1sYGCFn21IA7M+P6t93c7WyGHwe5W3QyZZn0gpcX9QlVgy44n3cHaS7X
lnioCh1HO2kbq+xeuHWoPBbCg7FsdJfHf+F//5yoao+ZDG1sG6zwHmC7ZCrVHNQ0hS5uEuclWNPq
jpTBgN8dYKXWLy8HqmWPCJukVfOyrR+fPYGoo9UyjTLAs8yl1dHju/E/L7DlO7yJNH2Jxq+q2Sw6
5tg7ahokuwbTxN2bnCryM60GL/W1+sEro62eHLmPNDWTPnjRtRErndw2m4Ly7F16QOuHys1rFLDn
gkRU5do2HYA2HZyjXq9K4t6Na+mgErDQvoiVg+wvKMTdJQ1fgvFaljFMBqXc6bp7FItF+cdvBBUb
3l8bjtTqW5bt3aNZiZCXUsEhm58q0aoBbkOnq+oGwOSlu5nfIIXOFK9jUs8VcMHxoy4f5dVm0fZZ
8/DszpblAs1qpIlgNsNcZjmgn/LMAY7TVVo/UticqdeoeNO447s/loVH1RUFTaF0zWDItCM0ZanI
lQVMq4Mvx6pjC3kVMwyz6FbGHT1/spc/ba3N/+TEPXsAQAcA

------=_NextPart_000_0022_01D0F44F.BE0E5B30
Content-Type: application/octet-stream;
	name="srequest.rar"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="srequest.rar"

UmFyIRoHAM+QcwAADQAAAAAAAADLY3SAkDEAutQAAKEcDQACfOVQu3BFNUcdMwwAIAAAAHNyZXF1
ZXN0LmxvZwDwXbwDE8TM0M0VwQEiG//tVvwd77d9P3vVn5uI9X6nWVOuTOEkyTOO1tSrbduR5I25
HwkyZ962vJW5I74Aq5yRRsm0iild372Thj5WAijwBBBHEp58KH8EoAFO2USQeIBCJB9ftNi96L25
5b/n4ubh8l/Y3OLg1hyI2Cn2BE2D62uH///3oDp/nf9HT90I2yMWyH7m6J+yT3+T/+1vD9/5+oWw
PW6/b7Gv4Pz6mv1Ox+Yhp1+11vw1/z7fUGHxH+O12PDrdP1b9/18vF6N/c2PR5fR9vLtCkMPpL9p
tcN/+uXW7fh8Pe6eIcX+A++yaxkpxI/41/fP8fhxf3v+fz3umbY6F/0HpzHXy7+357//Nbb38d23
xcuNToj3z7PLy8vo2en01gdgJYDdP4fA7HRfB/v/H/z/8UwVYw8fQfdRB+jSU4WH2clE03Y6zyF2
9xcfNwSl9AOkD6ZiVK4Bz0cfF/W/wb+59YM/H2s4O84Ynunyejf3b/Gv7E2CEPW+QQqJMhG9Jt7N
7ev7KUybmygd7Z3Mdu4HuiXmwcIlS/bvbRqPVpAvcf4WCvJ8AWo+sunREz+uSvd4vXya344ngpK/
81v1/L9Tl91x+rH5J0f/vW7V/c83Ev1uAVc4a3Z3+O/jB/rpr943Er8acWSw7UPhKrdOT0bWIEKK
v1h+lWJmLU2pJQOsIhSnY+sHMnPjvKrYQnF6lsEFUphfT1FGpSVUOoyOhJJrPa4uLye7y9SBSyeS
f3U4WfDqN53gJQ6WTU0bJJU/LtGSQ9EJPaTMuQNAUpi+3Kb/oUR6YJ07Mh5bebCNB1ZbHT0cd/3e
L/koBjiBIgv11T30ANRER+GQXf4cT/J5cnHc93kP1g9hrfl+et+0wSeMP8N/vW6no9GHn639vu7/
L0z4oNhOwrDfu4tPw+//3W8+/5r+Wq8wn/S/x8mM/h6fR4fB6353t69x7/x+QbUGV0+MIRjUFmIl
qLMQ6/2AkkMkssuR9Lqg7+97y8XF/9ZDvPzcfo5w+FBsAD9Gx7F+5wQX/t0+bk6fs5L+TPJB0+Rf
xjahQkKMxw9BhXuDI1DIh5chiymKSWyFknw+/Xt3N2V5Jf766BRiI6JPTUCet5ePE5f6ZUTDjeCy
hk+NA7L8pHhM8s9ATg4t2/tcnlyL9Le2r3S/nz+ja9nS4w/W3tcPFw9L373cgfvusW96UJcDHuGL
53YmJ2SwCtmKITFbKokrI8hGY0AtMEmKOWUppBUgS7/e8vFwgEPW73i1sv911oCfGTL1U+NagzWk
YmCzWsPeLbxU38YY+yj5UBfl83YI33iuQVskVKoCkYHAYQfcrIrjsa6+1IBea3z/q0CEqc7tpr3B
xcPJ9t7mmCjYxiDtynBP8+XIJrZR4fD+Nj0eer058cZkTKGN0okTTJGqJ95pguDQYMLJFsU94X93
syEmyPlZrUaL5BUuOTYwznv8xf1UK7I0pe5LsJNBK7MBBTKGXrOeX5w+2hbsq5xALmwTmHDetVPf
BNjb43FtjV+u6iS3g7wENMZAtkCZFveN3Hkv/U+zhrMG6g5dk94+82FRALw4kTklPBQ45L/H6vbB
VtdMMcFRoAfT7/f5eLj2PbeRtQBVzhi2KFzOCiOLnM9tImv3Jw+KGjVngRVEkaUDNjm81iXb1zQS
xW4pcbOxw+fKS31Jk2bxugNn3rc3v+4UoVs7xd733ECnbaiwFJLkcHHy+Tp8nNwcGNH2a+7eybey
fu7oCzx8nfrnUrxyS2BSkfNXOtUsZOoQpef9P861oq1cXPtpshdvHeo9pA0CRp2Kk8uZySzJDuHm
fZTSrBJeBxqEC3WkRmK9E0kQt0r1/M14QVscli14dSudC6IkyH9OsIqy56Hoy/ydNYjt3XHsAUdz
6/rXeuNdfwGx/e/6KNoKFMQgXGOBkhKxLQ714j8pIJXRYmDHcu+PIbDHqF8YyN+Tp5Q06d/jxtce
wHsKAqTnTc/t9qQn0y9RBq8cbyXopr0Muj0hokjqReBmj5GtEohpeCdZV+sUMyl0VJmsnbOBSCsL
HY1GgmM2rFS6kKBciJ86e96aihIKAFogMWfRxaCUKkmN4M3bbQsweTtg5YqL8+7Cy5JZq+EAkWAY
QtR7CiJ1ZrHsdIEh0gfoMg8GMTUUhfroJ0xdQamF8SSRjr+MUtn8Pz7nY1uLj+NNTW4OblvcPL0P
w8XL0Nw63x7GspLF/5/vW697m4OK9rFb0+vnYEkHKYTZkkgBWuFiBmmUUUtLRnKfs/7ayV2x2m5+
p3tUsIJeJxH07FSOVYuZf/6+WdC1E2j5rggXHzC+6BL2uuLK6xenmU0y9O+GEsAlSom+x0eOmLvZ
EwRP8/zq2QqZZTBeYobf76/So9yQur1YdcMWUz5mE8vT18Vx6lmWmrXcpz6aZ8zCnVoxfgN7hABs
sqCtDa+PslmkfyPvy7WJQqulycuMj3qTpeji953b3s5Jv7i493H5tXuTc6Xl3/J5fOH6wkYzjFJn
GZ3Z5oQ+TPcz4IqUhAKZT2cCQzyF2QIsgUiwJAwf1ve/J9wF1X3Dp2UHVt7Ptr7QdyA/eJG6K5z3
OHZxDDhUJ0bz4WJjkEBTrUALoXoZtqMsp6t3xnRIj/zqbVErvIKobgUjX6S0Fn/zW8X/Nb6BfmWU
qPRy6/e8M+SHB3QBWTj+eSIyKxHDVN/k2MMMaP+tj8QATrff4NZf+5F/A5nTCM9Y2kPmQ+ktBdmr
p+mAHRyommRITODsB/YQCO+/f4eb+tb+kn8b+Zlvi28mXLzZaMW/zcHTKWejIGQKpV8qPH0+zmu1
DwqARkh9gzSjsmBF2omI1CmcyDTTC7yF2mdFrXIiQFKORsJ41kUWZ7k7f3d8PTPHy8IXEfXy5AH9
V1f4AucD8X2054dZ/e/L8w9Y7nk3+ne3eDf4dgP6sVtxEC+vqT9fpj6/nft3ODd2gyBrpbvFvcd7
gv8m1vXvPyX7mXYeoDaVsyFl0BZJXdBshFAeCo9qKdUtnDS9PgbdNx64pIDYInQSWXHwY2kg3Hdh
yqkK4UJGM4sOs/NX9UqiGp9DjZMGZES0pIjLXhgYpKRNQmHXujHLtFYud6JCqa3iunvFHZv7vFx3
qpeMKtc9KvULjqFcaF3Yv/0sWbGlO3GvWKbsL03rdR3Qs6/l090HrjxNrt6Q0NpfQ+/fZ7rhaa6G
M0rqfs3qhWugUzZdVqDTE1evfMvw1EevrvcuL7bxqBQG+3weDr7U5yE7HHx7vS+/sfjtYZydL8fy
6vU8G1+/v/U6u1/+MZFMYerw95VLb5uT2evi4/MABTj8/DqfttYxpMvQSSjTtArFzd/Kp83HjH1w
sKPmPM0mX/3xHz0uv+e1u8kmWn7w7dGn9zhN38Mqdl9BR/9adAenyUegYHLFN38qhv7/JWuwp1la
U3fy3fLf4PRgiaj960solGl7+waoil7ARN6ooCHdN38qjxeX166+wfX3d/k8369dv2HCl7+XWcHs
5PT59f081/k5QAL53poZfl0Hy9APSz2FyavYZGZs1esGoh0IAzkdfc9HN4uV30H/zLMjV66QVFBR
/xErRGdkapEZf6tir1UJoldO8omEsmpR5+58kocBRjgKQdommCj5aSpKpqCDCBn89NR0hh5pAUp0
liOwlYsd+whWwROwVDUL9H0U7xU3X6sk6AkqsSVqdn+WT20k2d6NpJTi0hP59yZRoCn96wKGIwQq
J1MYcn08TkE90iRklQoLK43sVJTSoDh9WmcU9zXDZZsKTIx85xhx1MP/BscvHcWzyeRSDqKdkHpN
Pl2w2Lc/DH3EGApQVQWEAYOj28kjUYAyV/tcSOjscmqmwr1FP6VSESSUiGwnEQr5RLWIaYMgIfoa
IaIr6NulCS/pJfMcxk/Che1oXMfQnIteP1bOAWyOJF+8mOJzikP0GATIdqIgufnBv6OPi3guR/z7
WsZfk3+Tlv8dASAiGISWw2+lWSJgKDQkB9FViZETnMJs+8TYfRPU69OewHS5uXg8fJi+49zI9vX7
+7t+88OSCf2vB77v83BNCf/fcvBdy9/ycO12Q9j/knU+zqT+u/v/79n+cWeX/f7MvsP8jo3pzXpO
4jNW/avGTPrfpdU6JWRn3BnyqecJCuIWks05seQzF0pUOJ4/p0hZRYRJmTYRjYw4KBokuOEYpJU5
MkjGAbdbVuc+O+HQOSFIfyNYG0RJPcyV/RF2EeIU2CUybD3G9qQSklThUTmUnNpTWUbT3HwvI7Cl
s3SQNmUUqrkRhqkUPtVMn7twetePUAWrw95VOvHeUnV7oRKpaumt3Ns1cO88Wr1UxBuw/V00Nrgd
B61oGLV6qSlU6ofbZdXh+yqWrp3mW/0CzzT82rw9ZVOt6HUKPV7oLKpapH2RXjqa0gTGX9QooKd2
mkCYsqUTMG7uIEpR0sqiMKGEkk1crFU0DkLqw3KKKcRJpcj00nFwTV3QbVZHq6zQcDyymScu0UZF
Ue/M6n+sTRLYXn2Bg+s5oUCJYxdTF8ab8qf54mYzYLWluakiOVY3ZtCounqTSUI2ANigDdlM2G3A
UyFoo9/yFUNbM5lQf/O1PE7BUYWdKTDEgSQ88Tq7nXglxbWSpMO0VPsCrUV7deFxaBgMkazhTM0C
NhSzYGxYzVV+8xC9nz7/o2+K9x7ve4+g/Z0/p0NNvfH3eWqhwg9YYq0FUSfZnJkSqlW1So6fcxgs
kCU2XOYrFZ8cUTSdFVtIKVQPrbUe1c6LqKKAmYqdCDVfY+eLGOm7pzD2ZJVJA6J51YWGuIqLIASj
RBOu2ZNQwR4ma/7u+rgGZJJkwVVdZ2bQQVUROW53TnIAkITQBZV9CIchbi96xKkVBJphCSWjenFF
Rp6qirkREUBYjD+SSU44CutyNs3RJFRTWqmmVzgbK/FkFLVX7zOLsmW3tzrJrg1RTCxmtqLbiV1p
6+f6gxlzdk+gSCROuPd4g8AxFJANRfpPmwzdb+7w/EOO70Qeoqa/TTkNRqRVIkil5cQrLp0MqyUE
2CZUBURUSxj9BU+29e7felkzrO1DQ99gsBxM2J1BBMXXw549T4Saegfj0D0M0saEbIoAqpuNgMJg
Cx4mp7saJmj7q8jHycntgtkUIaiqJV9yjA2r2oUEpCma7Gb83H5/t5L21y9Lj3MPP56Xp2ulf5Pe
trk6WXTxvrv7fS3N3aL0vVf9zJjH7/f7P89Tr3vL4u72PX/P9q/Lu+bk7m33Op7/9/89+Tu9vxco
+r4vX0g+q7U/3D/JOp/kfZD/KURYe2+r19hZ2eX2/XWAWIHk8m11Oz3/56344pxfp/fY8Hq6/49z
r+j0eP+/46npv97++59368231KXY/WfbemaTKTBjy1j1haMUOmjN1IwY2EaqNN3H5IKJW3b0ERq/
iWjiK3WyNNHcRw1roESqipGbMFB4oUB8XU+5iAWQ5GlyPgG4TnLtEKSjnDx1GTCMjMiNts6u3iYD
qEER2NTeHkNJp7jXXipgSzp0/P9rHaKIj0KGa4taImA2E6kUVtJxSJ9rEgkQsHQywCRQKaltQlNA
KlddZTgkSarbz1RfAAOqklUCLvwEW9hGVgzw8huvxJNhOXwyHqW0B7ruBVLm/QhJQfSn6EfAuL5S
5UJnP0jL7p4j3Ju8MAaSBkXiYW+QJZREUdwnVe3caQfpfs90MN4672ljmLZG890SI8SZfCAYczYJ
xwCidilVR3m3DLTqavi3uO4pHhq+ewGl5MQW9QLh4kE1L0ZgEfVlVODoIVnf1w+JI82H8/pM2zOs
TQsXBbHulNws+HMKAZsLPc7kSSsVUuLGMtlOh2f1/GRGaZRzo0sOtOojfIykN7Pl5fDMUQzCid2k
ewiNXaIQjyKokGBGHMTzAJIfcgXpiA7QEFpwkLAd6H8Q0lHsoDJcqVFgkDuE3xUQbFIhi4TvuEiM
W4hyCHD1ypr6jMWAdIDnY9YLq3IocgZJQSkFJdfbb19OzvYQ39nbxi7mz0H0NTpQBMH7msA7vT60
sS/ROQDi8wFwC/x8N7z+UKP89cl9IWfH4ScLvo+J8fNe5Q/2zK/17hIJZqXOhpsYaB0cXcVSZNPr
Kh32fBmdUykjEDglOB+CRY8Qt2TZKHZRs7Zg/bcUBE43N3d3NkMG+m+M7UOyVhdwrF3w8vH0+5wg
QSMjwdDJ0nl9CfCvB2PRu71GpTTiQM2TVvzXogwnJWBWllacQBhISK2xWLMj8Aoxk7CGlcInPEss
zUx9FJYug4epqcyPogHTpgDkyqqYk30lJ6jiDDyFcIko0EYFbWKGA6V+YK1gWz7yQbvqHPcQWq/j
hz5MqdWA4adD01i/StQUTMGN8SWrYwn6KhXknywRCD5sR7VQ/jV4P5fmVK93ZOhVUrkQwfbqqOgN
xQ9MjeC+MqXaabKMB7MkkBYxULhIRgzgi6eGSo8jeLX9XHCDKHkzShm9w7tanQnD7Q/beU416OFW
URzlpwXFAUJsdE4o2Mx/BEOdPgIrNMmFMC23cnE+aA09kkY1PB0JFNZjhUc7IWcYY1MMuJ2Ub2yo
p0BjNUbfvONkuzf3Cnpw+D/Khczut5bwfe8YPkn9LsqvSUx8z2ftHI+0GEh29ZGVr7uDEpqJsUA0
M4PIeVkn/04oeHz8/DzigJX9xGEMIKwpmCWptfkTCgg02w2yhfCeyydlp40rS8dUywFXGYyqO4NK
FHLa+maCc5pYCrDGMhaJ9fhmoET1neomR4PuwVaYMx2tAmr/dUHVbEUznCih5+aQtoHTOlOwduJ4
0Iu/uXqvrY2vVvgWemvpZeU8imDE1kJIZr6XgDHFuEbNbHPrU10TxGPo30dUy0q80B5+rH1mh1+f
6Cf8UflDeDKmXmkwZIlLPbUM7DBewltUeVBFcIWBW/wzjT47+6BCV3OXaA6HV5a2HtOlOT9OH4D6
6X0FqP4lEMLvcmaxnv2F6uOdbIrT0M81R0bLbxV8jYoRavUcXsZ7vD9mr+Mb/yTsh+uuIilfTh/y
yE1hkju2dhG1DUcCuciKJsJnSpE2z+5LAFfT8VLO+06rvXORdR6FrYgLVQzS/uHq2aaVRYHCI55Q
rEwsPEBQZI2DggpWvj5nzXGGSXLrjHtFlL7pf3nNwcvIWWG/6e33O729zj6/W+/zSpAAHnj7Pc7H
7a+5+h/w74+Trdk2v6+H0/lu/r6fEnuJ8nS2/VwbXt12RsiCKGP/3d2Nvtd/Hjex18f88rvXJ++d
J3pIqjYlriXVsgR1B06DQQ6s0TRDzhAAZmT0oTSom/o0tvDxhjbclgGqxOEYhSl8+8iuAk87/xzp
aK+oE+ny8eLDzbYfqjgnMVjkw2aUTtiiHnarmBYSRRmohRw6qrnIuI5LQagQG2CYpIAtusxpB5KY
mhujISjYNicIskqolMpGj58/Q3LRPa4yjJ09OUh4G+qkvZOfaixkYohlpUlR6oDeHX97b/aH08G/
8tkBQ38WOH6C/aEajTId5s5Z9/DPr2Tq1/gR0e91/363lAItZf9dbvceMrixrYvfDfXjs//dbkv3
/j625PRu+zcX8UvNUOnex6c2WrV+FBXPPXKJctfXKZbfiaeqVbHLkonIagWgwYJ2nxUopHjT8MJZ
Fdz1Crw2DHtC7lzWtj5YcL4fIVeqKAUlcZGMwCf6yFbMSHSeJIFpPh7COvaa/xOyNkSfoGK5AWGl
Tgq59RzmI6LkBFX7T4hJZ0kLcilnXkNXIophNLKETQ8hVTU5FBNfUzNbx1RmpTYxz0WT9ypTE+5j
IwBhozqTZhvDu1CSgRPmbW99TBPr1sdsArBhsYMH3FxqiIUA1lmaRjH0nPJEm8m3i7hieGeW6hUE
W5dmLCDmzNtBLmjDx9FytyppbVRsATIcQQM86Um3wuD9yh6Q6fxzKj7WS6iv34fwj9ub+P0/W9y/
t5vglXDoQ+5wh/T+OD+vPf7Xn39vtfpvbnB+n87nr6JN0N8P2Pyb/kD4QhZNspRETuJxVe9oPfTt
+8BlLu8FOPcVeyY7g93cx1h8he8/w+u7+/uh/XCs29vEv7xwwaBcPsfeFmHu4HyeHPuL8g1/Ihhm
b2PwOgnIv5rFOGD5wmwsD3XNP9Dyakw8OJAew4ZfMI/e+qBCG6XLtC6WQbapAED177bpB6+2kmOj
FrvbeLjev7fve5t46DB+jqHfvn5wyCYjfcX8f/SD1jtOfV/SD0ltfH0h0uFf+mH32B6K0G2+fO1p
Ymkr1wkLJRpXKn73dJyQwwNh0RZVjZFcckPxkAIcSJm2TAgddTQwNOiq82OBddwMXOEA6+iW0LzB
Rbj5WgzbnY0pXp62f9IbBOWSBWqpRUu06D1ogK39xhlYYg2lwu7iyNBVkpCa9UcuOooXSMk/zQL4
tI/+N74XajdCmgs8zW9DD/dWsoS19FBhzMac0yHQ1wxq+ls4UKOh4UuS7P0p79SvGUbkFRMKRUke
3PREHZ2Q+woNz1m1Gs0Azszog7BrAGlMxsbHqcoKRsZqR0AzNUCRMyclv0oExDEFC+CXLaPXsCcr
FCGijEwFbGGL6UlsHUA2ekookeNRX6I+aFe73NB2Q6/jYlDlImIYLB/BTzzelmcTgyzaBJJX+8E0
kP3r+QoKY0dkItMs8hH9sAZwlKmAdr0haNt2giCR6w+eK0iv40oaC0UCsnVFC7g5PYcP3NAcDimQ
5bVVtana4en1Z7IXnMPAU3tjEJgzMTlkzmwa+u4FWfgYnVOVAf5MoHYvx6IrkdHzCEGIiGgRjz03
7ePiD7xybHKxuxtIe4uTgIr2djrV4xY7uyqidVAsiFkWStw/hsERa+gi7FCg7DOANPtq5v8udbZO
Va/lAzn2Fu+GhHgqulSmJpMZdD2fcdv2XEWnucnlFA3I2IF+0zBbmUiJ6Q9fOvYqwk5P9OsIVGgA
VQj6GLqVZtNvs4qC142hFJMwt60Yw7i19qa+5xTOTIjMeF+ZuKYTaq+5pbwjMljNd8LlWsUJreUV
HCmgGHjDtMSOnc7nhkQkjLS8kPaXi2P7vP+mk59Lz3ulzBnMm0nLpqLsy+/xNt93i5ZYfr93Z5eT
u9vb7/W6/h4pcD4gKH9vnppbt+TcP2MK943q7KOx6h9Q3iF2+Pr+Tyebe/D1zUv47Xie9Qy1TSVo
l5LMcMsqC0kEdt1Fqi7Yay7AgdJsuxRXRpo+mm30nn2YKfAWPZguMgnwW9UKIiUMLklkfLzhD9VK
Osx+HJAMpqmFJWEe4CVKyzliMuwFyebdXSJqy8V9HesM6KVO7EH1EqH2oaG1pOAH17NS7ZzxSrHf
Nok5KndYNwHJU0A2/tkJWFK8YyTvXN/cpXIEc2MFFOjXHKLE3SMzz1zgO1sxyM3u4g4ri0HV/TnL
OFewYBysZsWZVw1FJQCMlfVRj9G0UdHRn+Tc8eSEHm2G5QC8tJdLc/pcCYUMNKTSnVRL7iI7vt7C
DlIdeM8PD5jrpperQHSNg8GQvP3NgqWw3a+YYyksKjwnpkry3+SxsqnfSfI6zKsBKkr5pepYSRgM
5NRt/wmteOfZkr6DEMgbFs4mJqKDONmgJwjFCGm50ENnrbIKDXD2Z4ehW3PdSFfLobcMY4h5RkGS
2JJ588NXeAIBJ2N/huKjgj4O0QcIxSNhR14k9c/2OrpieuoBCBSJQtFIBK9hB4lWvrYsSn3xKahE
705ZBlQN891CiqoOwbQDGaJdOdIJDSbqtELqCQ+GplihAFKipZ+fnaUzhWalTAVh1v4pSGgc9RU9
VLr1laNKPTOmUmQD/myEci/58f8+bXD6BsY7AZSZIOWoUN6s4DntlfyjGxqTNupjsjFGt7GIfV7v
elWcuxgopGulIgHlUckC+XbwxcOIukY54NAUAfqOR0aqMysPlgeZUqKRjKRw0LtcOvpd4+tNfQfu
Nahbc0iscUSRA4Gl+Rr0gSM7YIkWMyQfgN9vNoXPYBNkZ+Jya5GqTT9bmMPdiTsLZXNI1G2OAbXR
kVJRPK86iXMVFBqVHwkO00NiOHM/3ggyc4ErxyaBmNFHQ5aom8ZsqK6+k4cVG8BantP91YVerq7k
FpD1rrG/5dXh7yr2rrcINrdA66x8GTV7oRKp6ut8m2kPWuNwd6vdBZVOssVy6vVP0qnq6yHlcjoP
W2JcSavdCJWsUvfy6zV1wK5bQ/a4zEiPSRwK69ZYDSIBamxG2YpEHSZiaRAes3LOgn1/YYtllGYK
qBa6fc/RLfZfg6lRI7HnsLMCcqCCzK77ySlu8WSkQV493Sm83pRXbJgoqaZbQKZzUm4htUeD5yHR
gfg5Xv8tv06wJ7V11zzcQWUYZXGiF4PVn5oJzSNzshmo4/zmMi2Lwdq9RZlaBolz/bbuQIPUF7z0
UZkfE8To9Q+fdXlwlE99RTwsg8+yCqg7jKZAPhJIgouDcQ8sZkj2M0eqqu1wlY6Ur04YISGonxKi
b2Ya9cZRQt6EwYVinvK30VJiVJkFTANFTRoaNWRBwTRHdB9yi74kCVlYUiiyoAY0kUWv7PIjZ3r2
7KBMiC+sF4SBB7BO57g23kmOK9uNQ8NKnWTqqKAHTjU1dRdZ0mCYiZaq/eTHBdXEYzw7DRkaWOlS
ekpsLACUUdZHUgueMxce2raOqHSHZQDAdfQQWy3qoLHLH2am3jSAwBmVNcTAZgsilp4sgq7FZxfa
xXF0gW8jXJUduVofgodDRa1BNwcF0qH9A9efZXT0KWYS0NG84MIkjCSfypQ5qrsGgd2SBa8gc+bj
CwFUekyKJyeyIRZLICr6QyyW8u3980gwlp/UZq+pTqZlSRVJonqNf5hCaU+v50glwzosiJ6nHGXJ
cFHALkIIlOF54Be2c7d7B3IYiQSSegZkkWvV1TChS8KqhZtHxFJh8SPiOKLbfrw4AD1qX26G1Vwm
JPkJQ9GbHB/VxqHL0Jc1vXve4ornKQfgakOgO8Wkhz58lr+CkV91QUpHecOhzxra4+zTQDRmUcUd
FfFILNGGov4frwYq3d473KC5SyM7YczY4YG+RgfBom493qxbiLoinxtfU4O3+TnEbYFoBvWAoVFm
2k5R2w+Ly+bwTMlOHVIpNXMta+DFd1fIesq+5EwKyz5QIsU7gF0ishi1pEBtgkGOyld7s+WjVs4D
I2rvRnYgQ99Uxc63uvjtCOFDgMU0gaPp9oWUSSEEqr3WABxEkm7+EX5csAXMUWywFRbiQTJp6nBc
DXAMAsQVGUajeIS3np+HztZ6tv6SCnlEC3SAKu5FQFRZQubJw8homyxuIgfPJLsY0NgyGwZx5NY3
Bhtf6dluffDve9pLz2Vl0cr2412zuWQcV0ctmSZ31FsMIcsHCL3ZuJHKu1FYAR3cXjQLbY41GBxz
i2OWZlSvKT19zoXXcTUJnjoVES5IHRCz7yq8iRqUE9u5BzHxIZU6Zn0ppmRU5xj1l7oRbCZnXJy5
rByAvbXSMOgmTyafYHx67hSDupv4Dcaqorh8cCltUpwL5CBEdbSBYMGIDPXpeooEpALj50VsybIP
09AoxC3dndk3Ce/K3CthywCChKD7HmaUCDy1bHkeyMNWyz3Ps88vaghDYOy6Qqu8NbvIiAsKsZGF
JNNPFHCHfw2llWXkFNQmMrRW2KdG8GVMCz6Fho5A7pT4Osm8FVgwVAWG7g7i2DlmKSyVPkH7ERW8
txODDv68k6D1FJT5c2awIJIuesTFx3TZ4bYGLqdDtRKDrN25zJovZh8zw5IZdZtKnViSAawIsMiU
hqiDJexvGnm6V9VMPo0vLYoFstz04KQDT7YabexA5qD+3ilQl7Z1lsRTxN3UsigOy7ZimoqHmESL
B8roxTlhsqvIuekI0bHrOkuny9XT0OcVdgMukYcHzoQaJqBSucy+AIYE5UHot2GpybxNRDZ4qJh1
Hee35XICch+fBDaiyIj0wDY2X0QPxl2N3I9rh7HXyQlbIbkXlzQ4ZptOu1NQQTVhlS12eiAXJIk/
PkcwZHYs2gy5Ok8BKmrqslAZo+w3Pwk9xahgmzJKp0jKoEUQCE6NuYAmIm5BvZ1Y2sa6IZWrpv2y
oneIOLACixlvVWA8yCw40JH0jPmhefhSVRaPgNQgguoa06DGqO8bM0xAVgLolBr4a6yAZ+XD3b2R
rz8s40PjsRL08OJA+I6e/ya/Lj747+ve19vm8gXDX33XygfrjD/97h3dcGsGL/ttfe38QgHsIv2f
Be9m3hCFyJ11ububi2mC1hc13YIO1JJmo+BkiDpiIPh92/6tjDTi8/JvcXHx38pRwn6Dcnp5t8PY
+cNwDPfOhen73e3fHt8W77J/ry/be+f1tdz8er+X7dLJLyYddG7+7tAV9BIPlwln4Yj+S9k32hXE
H3hOvVm6zQsS2HzAHMoJVMKXMNLucAV2Yaphpb18pN1HOWvijpWjZ7ut96qamtoX3m52aEmW4cth
ZIcux9/l81oWKaoaSlZSHdn9GK5or3Ok18n1RN199FZnuk1Xnq+fPbuo37Bl5qPrvvVP5hXoT2Gn
qV8C+Kk8328gWxe5h7uIJev9Ho3D3ttV7HLiuMPe3feMbqqLaFeErl8pTqkNSKqXNvXTS4g7yyLN
+BZqyJajtGLRBngWz1DnnsXo7ntjQXHE6SXtXyrpISwG5ViaZVZj4NIooU6Va9YEOjPLmqx0h1NG
DTuuKcWxNFBcoUtQxwo6aFkyvJPtnCCxEy8MGoT8YbsuXLLsxpLgsvkaBazN/UIsKCcq+ryz3FMM
omwooAvcwUlJkvQ8+aHoD1TMprzDCfOiF28EkJDrO9g/DWbsK9mlYtxxZThB8HmfRC/YXPGKjV6l
zz8HN1Ts1waR01jUFey2EX8xR1cc6PnOpaKy1V2QuebuKOyXguFw7tY7afuNRU7C0dajBAEiSTP5
zrK0yoCfIpTkS1Mo1AkG080E4CqPgC6KDX/BGw6YA2G+k9FHfiSIaNf8xlPii3yL62Sc13NETUQw
hP1ST9bjxzvX+Pe1+XFfr8mObDAex0duf1RS5wX212n2Fr6apFyEqotrqwHqSu6CCOdPPMVAtKWW
XKpqdABvmFMo4piJmlKpUeb7scXXQIaZVGogsuJb/RuplnmtUDYKM8Wz45GohIFFacouA4TtnKGW
xzeaJ6XQc1K04gGavuoMsGsROaExNQVyp6iunDvRleMUTTvYFAm32Esa6ZIaJoFQzejJwCSpbe7U
2RnwdYDmz6tOxRM2xkiVzRfCNo4kki42Y8ZRnq07uMzq8uziFgC6oGEhUsJkqVHl6m83ps4AwmAU
AId4lKY22VC+n6fEObN6BknHAOHdq92tAsvQlCn0cSRxGBou670ta3WgdUZXnQ1EkWL0TyJAACuJ
ed9Aw7ti8s2gKBNqvdlbBEO9lUKcOYRulDUHcYbu5JFgLOoRklbMjimw2ijFtnx3SuxntQuNXnlk
qBM0iUHiZHYzSCFQCE8BYbTYvqJ5DafMGEvOC0PUdOmMa9BonbQgiLoYLJEBawCnc14zSCwBp/mz
S93KQonAOQqWo4S2cbauo670FjDyt021NIRiZ9pB/T4SX0dqv25nu3+eixWoq819K0+GRq9WJu9s
QRNx4qsg0ILgMndAEyq+kUsyDCZKv4rT3j8nBSEPHK6gx9CacpCB+m49ywEv1FkTRMFMiB3ceHyL
q8AKkeRgCtLT4bYFX5x2vDWxDSZZxvVVdWzF9sYRdqw1X7XFLXI+BP2720w1pMFNW44iHjHIzFX3
bdFFisdUfU93e+u8AeSXHGzHMGddgbFD2IUAln6NjkB6BMVqJEg7IdNQ01i45YFYyhqSWsSWpVjX
BFoi6+odOJi8oMqmaktKOAoA2q6cD4qmlyeHijxkBIOeEiyT4ENoElCMGA/xgvkCIzRQcg1rd69j
eHih/Pp41kfMHAb4FHx8nJNCsX/ylcOeZ/s04QbHTaKSCEC7Q6SUcYUwNem46/o1TP3KFD41Jxla
ko6ssOpL/fx5TfrveuWHi8J/c93t7u5+3WVuVZz+WH6684B/Q1Jt3vLu7vDuXt7x8O/xez9v27n3
Xupvce8Ptk+7150ePjxuzq0qW+jAuZ58UYbVWtOn4nnTDTSMyKl101pSbF+Xov8eToKvKk1aT8zY
372SPkxYLx04NT2J+RdcD/YTbeVhMoklA4byvtg1iCDioI1F5YwI3BOnKz79mEbWGAp3YYIB2KGP
37Z3cMaQ7QM/bA9YYmD9vElTGXRszgEYxRrZwa45vDvOG5AUBdPsdi9WcL057Ya3Jgxrn2cTz1/J
UVnipp2XuGDDhCBRro48t7FLAHuLpAEDSvSuc7EnTDruIS9w/yAO0+lFMOmLqcctRHsMoC9PvQoT
1ASDs8MXOHNmFE2q14rg+JC7C1H0z7BmoUktHFbx/KI33L1xW+r3CDifCYD45jtL2wH7xKQbF2N/
dfn3MNK3M31+T5vucN/un/cn3+vilL9Or2uIvd7f7b3s6/f802r5N/yD2v1/v8/Br73Y3e5e/bwk
7/o8Zt7g/b86VubfcH2Jaq9oOayt47JiCQt9ewNTXq6QtkPsu2rdw1mdyr44aseaf5S6NaNcr1EZ
yZLlUFJSW22akWCZ3ftOrT7PsB2nr7o5bDxTBbmwsf1Sf9FD4Cexv191L4MVXbkOSNff1FtxogrA
CthGwKCLoRh3ZzTSECsebCNXhaID2pqMxAfLDBFGuE3BXOEsA1k+ckic+dYnc+gEty8RPt8SFyCb
BkmyHRqERyIx76tDLAQnMcdwS7i8V01KGMDyk+OuTGJwNJAK2YLTcjFiVIW4W9kXPAsEMrq5O9cV
jB1buYXWcJSylrKo0F4JKgDEng/bwMTnPje5km35M41pHV1ZhCUMblkX3fIvCbgQ8Blb0IyHnkQX
1xlvWlm2mBPFvDoUxbhnk+Wkndu/x3/74vVyebf9gG2Vsc15foIvTxcdPi2+Hojz3+HEkvf4Lf/v
3V7zX+W9r7vQfqw2wBxa8o8m/v65va3PWDLE2GzAZG4tLNw1W2qxgY1tQB5JTKpnu2Mw0jENVgSJ
23LC1RPX4skQrREE2U83qKBaIjGgQpp1s822rrVtuGEAgexjyXqov5JimTp6ig4DBhFl/RBvg4c5
XreEchKRyDmhyzJA2+laBv2TcouoDcikZN2yEGCxSS2Qqx+mj0bYWcadjION1YBU95FcjFFVmFI4
p1VC54g3H77QAskahNAENvCKNhy9sQVrPN0M2v3hOHBlTOdycr4xwErPkZMDqKO/QHZLQWEdeyHc
shKIRIOnT5/Qm8Xn9bgjGZQEo7NYiWPGi4tGzB5QxVJVThfADdoX2apYDBFGGaB8Kxzj4rhG52H+
GgBhsJouE/hCQm2cDW1t7ywGShsCsho6XXMjT1LPIdpYLYJlCiwUrUb8AWV4WoBRNIALlt5eAhvg
KADmAwjEQkeCpkGOYQrTUx0nEFbkcrwFutzzxNZ5JG3qRVjvvmKjJc9Rl9XU4drPAKOpLauZ2s+7
FHazDu+amrry1mYWYJQgeoTRMyn3i3rNXzZ9mAMjEYcnUnUbBuJoDJx6mIw7MWD2cOrZax1XNAb1
+hDGjPZI+k4ta1rWQ1fdeFePThlUlEumV35yUq77NTXEgix3Hu6fZ4GXUyEYoKJLFIHmi6fAaxZU
nM0CYCVnksOxaiEp7czkuNJc6POcKDgS1oU3YPF5JRSXDapWqBWc4VkNoDeSp5R6hcWvkamwpK7R
/595AIEwNm+MUlrOpnAaECxAgimEp2oSirhZYzozj85QqVyenf2h/BCqHrl9eM3e6/o/rilL9u76
PAWUPD5uv1vX4q0+UcWBHz0nV2uDs8AEYLu7n9b/N2/aenb4u94OPtffJxn/D1/DSwT4QoqpvTG9
9QYk0/dNkDl99bySl1ZVf56af+YDfVpqztb/X4k7f8oV6d31eTf83r5lfj0OXuC7P5E8kU6gvNTR
AN/CAuqLFzsx7lLp6YkydiUsVjbIB3mHvDm9zFswsAealRY5bbK0zsiOTUpsdBCMOMu4m6oddhEq
BaLVQOW90szFNxsZ4sb6bHhOJzFiH/D8/F+PaxA9rt6/YAuhh8H0d3p9gXun+Hc6/e1wCTW63Fw9
AeTm4wEAArOt9/X62usaPi72x1Z4ewXTAC9ggf/xaB7gKCv+u14u5/vW/D8MADbXXzX+A8a1VPu6
/+BSIzuIMslrOujHklnwEJ1xCDWFF7yKtAlnA9BEyvUAzyNgyrrwi/EIxAJYTTvwdL/JLfG+F2U7
H4Sl2JfN/FVx+zt/0WYv07h/64u72/3xR9byJrd9WWAM0fbHv+nyC7Zeyb89zc3ui9vrdf1m4/J+
+7+/49SDNkZ1QyhVV92X4F+rInPyy3YqfQYW2YuSbQh6iNJch+t1YaFHKna01OPNY7YuW6CNE9iv
VDnoBKyVnahHUNMQ6gq76vAuzaqK75vImyy9rVj4X0SbO0x9gpQ2AkmuUrkFAsxhawccZjeS9cWx
qdGvUsURZW+ZhWGmO8ANXK7oGsYPGuRrTwcc9ftgH/W8++u9fF2MYv+vuveq8HxoEdzxnkzENqEG
wHQaicbeuH6PQve3d7i4+Dp9zsg5+O/C9w3sUvHQb8VBiTgdLCULgKrRIfATDIeUoNdJoHEq9IpT
ZxSBFsamtIKRAkrrKaJ6CAXjgJ3zB0Fko6AYkIqpd1cC0QBm4RHQB1UpQZerO7E+fQrhlByEXk8A
qdMJYNjsO8NzDMnf2P59Fp6vJJb0CfZ0TryQJ7noZLD4VEibkUealHQFm/1qR8UXEeIoUhLiCsfJ
kWg6pQVOLStpPX1Hy19dKKnmZ6LnCl4hGzwYOHdqmeBkZgbD8ZkFd8NPlH01wP5JGpmkEgBvogN8
zFFg5qko+6S5BL3RAXgzJUjYzKU5jxfJGgqWMV1M+NFJgFkwAM9CLM6vCdmOBl9bf5w3DIHw/fLj
cg/pwcm/QyDn4vSCpodu9N59yPV+XY9n7yl4vu3P5L3e3tm9nX69bM5BYKzeuv93MVQ+1/XdF3JP
vOf7y/xv/d+nf8Mher36VML/6+uzMhQBHwZwqPE+2ka9XCRNw7/E3BjrvYOMia/E28XoXorGzCAq
haXQYghPHW4yIGqy893SiKddbFDmOI3gsQTzvMWKYT82OpiTDQQSJvmsXdAJVRfH626qqNY3ZkZa
DvF4WgpmosSCshuOSkrKPRcVweC80UCFua3Zla1bCqorqCxDHI2IJFzpQ2YoAuXMxsN8Fzgh7IrL
8TBoUY19QZuFcPUXZ/UhiaCJiAd2z5ZIBIUaoKhm9YRJOgDvpiARV7Q9gpEyzIWxcpg2cleXCKEh
jcIU5dbVyCIRlG/XoC0o6MhzUiRI9XhvSwGKv0vpJZ0U0HaWbsR194cTIoefIWfjFYEOvMub4jDy
MBHJq9RDl8IiVOYHLczBDMuKhFQAkgKSWEiYtSMWUeP6x1gSYHG7NJIYTB78CiZ2w1Y37edXuQ5u
iIDf/kC3drPmnWsZghgYaeNkeA8n8GVblqhpsO+sd+d0RmV3/1oeaYKcpBHpXWWNOmmA8pX+H4pp
dBSWP6CEGLnAPsOD/2ABIjUOAQ1smduzQqGobDPbRf0bGsCRWZIvipajlnNCcNyjuGzuv/uuAOTR
hnZisVkMDjlvJYgpzCE6gMQQWqbd3bQddeTUr6PKYLspbhRxwCSkKAG0scrG+lsVuYDhv5MkpDHK
6CSr1QOPFxEPzy+pE6nSQ7NjCYs7SLcRDhUrwd1ssC3wxJIw30DjjGm4UWofKE0BgvDkPR1TgjUK
R8PC85GCkeUjUcD1BQbpjjPLSXzoqLbbzUOsw6RiU2DEei6OMHKGbSnd3Jqa2+v28LALLK80ckPl
/RGlytRQVmcpLr4+2/opfcLw+r6Bj5CD6aNGpYS0dgHoB68VIvU0K65+RDX12Q8fccO+TluOk8hI
NFznI2x61I912f4h1qzZ7ZdwVAVXDFbxWGbuywxISW44OE5J+xwymovI++tFdJmLixtOvOSSpgKh
/B5GLpLi4NbERStqF9JLA7RJvW2wdWvqXIZgk2FSNgugG52ImHBcRhSCtjVrzxTbVAXvrAXaejsv
kYRiR6m4MFTtQyMNJ2oXQFwe3kZkI+1d/oZtTJ7CXJh1OHd4+Lf3dYuXLIfywp3+DJT4/zvcPj8F
/g4tbq82GW70/u8H5YrOtWKwkvwwjL3WIPPZfAJBkMqDpq+zlTPa1RAmn7oYX27PxP/VL97lRh0I
31LHqOCouZ1cSaKA3YCRax4iqL2go406fZ0vVjD00ScJc5qCy+AKigT6mwksyQ3EHmYsSy7GQtO1
OFlCGodN6CsffyuSskvhMjzktBsfQnNhnWFWUXdcsKuwPsuWUmLs8Hs+fv4FHJumBKaKu5uFaoq5
qIxMhEgRIYEcbtQmqNj7mF3iDwZd9Oyu2BcD9MKmcIsBLTJ7mHCaedQP0xy0jJU41FU1+k4NmcQc
ApxcwCENDIotqHrS6IhoBEQtkRaHrgsIpV+OiWARoTRMzrDj4yeX9mdSVoCxDFs4BUpqEkBQFgVA
mMm/FT7c84d6BuHigE8Wv6Y4IZBHEfw+jWVCkirDPDhotTKIU+lDR0+cAlNzTzTeHX6uIhERCIE8
+klg1vul7HZZlMWBL/LqOU+f4q+yFtKUNgwr0hw0c7CliJ4pEPtWajmwvMQhtKlSBQNTrpLj1O+s
HuSV/aVeRhs3mSJ68r+MXpUPXNOkhyCOFy/iwkyb4IfImt2Qb/1hBzltOmwdCScsuwzyGU6J4cI4
iNg7hrLDDq5/QlJcjXHzngLVH5zDtVIMzxXLwBJ5N1lwoHK9+Kw/mvvrctK/ScPC8ZPm+qVZXvod
0rEQKM1ilkg7xZiMua4pN3f6hv/HWM5KsDabOqEmuBq0B4fMHsgUsT333+ASg3l8ZpTasSXsZeoz
x4agmBXMUC5shDX1AWAqDKJYy18wyHz9XMKwzcSfsTNb0KWJ5Ic7HqXR8jdPoJTc1SWEopYpJF/5
Xopnh8JXRSZLJaueHZwYcDAnND2HKQqlirN6kNmF2oLVDBDVnRol67EjJlQE8DrZmuJImpUrDDl8
BKwP1w3pl7QVl09V2SpL81QH2DTR0A1sIYrfaIBIpWRbs7zd3si26L/uyIKmzZvGCZVovn2/ebwk
NRBwBnVIkgSEVk0hsSjVdVTh/u4qintJfzWBRQBZHcmIApbVkq3VzbjUgBUH8HbdhxrovCw4zXTN
aiqBR2dwIRwDipZZp+JUBKVxt6wFNQMSdyvKhUpi6S1c9jscVFmOWZbkL8gsCwm+9jUQrPqNUcIG
Ogmoh2dw4KAvIE6RIGRlVcIcmA+4ipB1JOwFMigTovr1UgR7kZ4trLXBnGgSodAdcKOifxtrycB7
wu6AsXbZvEfKqFp9RU9YFVAUJOYqzU0l64+dltvySPuWD2KD0h07aiuH3TSl37JQCA8BfMJlONjD
DB2l6e4+pk2NJpUM7tAYMYSCUUH4IOeVkXChdBDUZpNg7YJHbOxjjBQAEc0qQk1eXtQ5Lf717dy0
U56JhfGKFUTu2TJlQonv7pVtkVtdqUs0LHPHSrosrnwyYAfYttfWdRsM87agoHZrURQ7JMxyxhj6
OI8iscTLG+yiFURKKScctil+i6JiPzGlJhwbSuOinaPq9VHy0jS9g83bavNCSYzUMa9rTE1mEnee
Jpz/a5hjSZQKrjWdG1KfifVbzka+kTTKx6kNXtEkHSpLHrGm2V7sg2iWhGPFJVWZ5ZvQYHiiqWse
SK5V26y6EUkAzcjMRVBrUTosyE1ecgEkYm928XKbtmY5pQ1SMyDKZmB0SgHqOIhNcFSJn07E9aPL
gSzrS+YEwBlTBKBvFRtzT1dWUIZD1qTZPvbKd4Cj6rbATyk7gSWoUnQZb5tvZ290R6cY1JrGKylI
6N24y0+LznDqxQpgGejErMlG+K5wk7nu1l7iDBd10JXkrvVNFgOlmQHVirYqI47uvLFro1j9lTfl
WjlZRUEVmwWAh9oYKo9wIDT8lxRau8ZaWBSuHhKQk5Q/bEN9JOYrfVKNpEGhUPUpoGQqhUdCHHxL
jj8C5o681iI2MbkP3FAFtMCoYiPuDp3xDXksNYisg10fULPUpEIqw6mKJnAVj0xr4DWi4F/TpRcT
TVFSeiglT4TFG9JNKxSQKWdKY3tCPnjYflxHmpDM31WwLUPczaMSYK8igY9ZwLP0ePEn5/Z0qb14
qRzNlNUogriddYyMTBAN7pr/rpxlCK50SRmujNzu0lrk7ZmVAp4PSVymTPnvae81AFQRDI8GM9mO
19cYK6qgZmMIxA4696sb1FN0sirj6XjFnskK/OgJb6OkbELr8ekHdM+i8gMD3Q7NnoRSn8Yt1noY
jAsIHIJoTUBpqNQQ8Y6ZEB0mUImKfMqFFhi1Y9thyuQaEnmit6fRTbEdzqmIpNUVr+zC6fG9x8G0
Kiv0zStqhdbzfQv1F5Uej7/7k/eWHW/r+u/3e3+vf8fV+7cmYPR3e13PF2u1Irq83Z3v4yAbfjxo
7lKrnFujLmetS9ye/gXqvrRrj8ELJg2Ys16roW7NFDT0jQ4Z4JHgva6EIrjAQPw6sfhL6/jx+rw+
uXz9ex+3lL3e3e7Hc6/7ditOHjpwDmjxYdD7n3+D8d7d99F/Uni/Lh6u5r47cbnY63kpupXBxPm7
1NUQ6f8YVvJNvbRKKN1CvdXgWFlv3/cK22nd5Un49OYd0wB9apXdMWLAntRtpZ4TLVHfb6csQZ77
F/R/s39/k+wEbifZ6uLz83Bf6W3y8Pa2vzn+J6XFf2ublxbpiDf/tLByRoDKou8qc5RUSlMs4iSW
vPabNDglVAmC1JGDZbxbnFa+QJUju5GNryk0eArH9fqKYjR5K0szTSrFAsiEVATqloreM5IR08tq
JfiNTHVTjwgrR9J5m5z1rFZaysVH0pT0Joh18dHeguXaomTYzisU9U4tIls7sDwdYKGmR9rYtLlc
P45IcxxDd5R5p1Vt9xTEZAKCGrdIMCDgELHomIQ9Y3Zliq7Az3QWMmVNlNmL6DZqzcKqiQCbOfOI
cKQojRAd1IBIDHxwCgCxmYCii599JAY7fIzkYW5uEQdzaBbwTl4EJGYBsSqkhx3Dc+wMBhUEfKZf
v1KXqDuYp81NQ+iTn1ok8uewk7YRcBZ5KoscRKFCdDd2ehzJzqzqmFZUN4WWdpqYkhPFyfiANQjQ
Fk4tg4yQ7JYpBZbQG8nftlAxk22CavoooopR8QgT9fQLJa9QnmOewcfHmb9aNGET+vNfOWtQaSbk
wXHa+oLuwJ23IDdD13Tmlfw/bKUFjw2EAbRjumpF7/qAQmgckkGyxu0t3D/dlfAB11/DYurR5H0j
YwyVhAmyev2DGd3gWk4WPk2MI4NPHvKB/dKlAdnob1eQ0+VLMvXdJEleqXkIq+6IsUIrGhvSiwbO
OSVQZhxPU7OPMRciMshHACsPinkJm4Ryg4dpgKr9VkQDucYgUFU0yRngR4/lqnvgaya9nTBuwSX8
B/ijsu0sjxV1CBgfZyKgFC0oqJgHo0/kETnjD3IpLZfVXIAwbBrEPK+f6a0+UQOSi8o748nUa2W2
MH17ZUSefrKwCQjUUcA1LUSRRn6fmS5rUVUAZDuAbNeHIZnTdEeXEDe6kMeomQNPgjTaj5ZWF5aw
ADjkgnzV8xsISOeRAHXPCnfFKwvdC9GmBs5vV5HoyoYzZHOjU2UvzyJ4tdb139vWykVsFhS/pl56
uRfwHw7Htzky1gAfHcF4Esr8i7qH/9yIqyVORwCYxyElDG/AxYcpGNz3w4SdWVRkS4HQ+CSV94lu
dhdDVBU3DSpsAQwGWHIOxLKrpByz3p7hAKqde0FaDINNtoM52F0ysblly6fJMl9qiacPAlvsKroU
aqcDIaT/H/abBhWdOyTBc5wdV+h0ZbDFgU7SZocJl0SsAE3AV8O2HHSByQFwTK81moTHSoORRFyR
Z7YJhwGeAD0OoBOivdMLJbhsZGamleV0vleKUsBnf9tMKPhIFlkqWIXfwo06tbbIMdAIoAh+t84i
oNqtqDsBrAEBeJYxMhUR95ei7wfBYCtKwJJGN864s6faRkmAIdgxWoR6uvZcJbLwMGFr2kOBY/L5
q0BQvpG6uk04cx6jgGljhM2U2n02KM7Ji5oBss+IrDBW5kxPZaB1c54AaeFHZ2RIyxO5yPGSakPA
LnNNyixOr3q1MPYaU4YEqWYKkb0lEbRngyYPN5LRAqLRsTzK+O1oJn7d9plSe+dVFOztzO0tzr/w
kCmnMTMOULz6fwwqXob9e2/eEErNHNKim2VBtHKpkwJ9P8Ngg7ZNE6em9M7LKkCi5qP7xu60r1qq
kslc+SHQxoNAUTvWbxUE0k411nyqOzCw8Zh2qYE8Ji4x1J2KK8W/5ZK1qNWxmlBLXuB7TuGAVRa+
WQUAfTVpynp9Xz/UsvJuiLYDLNKrSgco2ju0+DKTw5k2EbMp5ZHpR3lr3SjgD6bIC469P2ldTb9m
A3h14kvIZWMoktVYhlgICKsd7EtEqggop4Ia5AKEw2oTFNqC9E+q9Og1fqR0UWZxsa5R2q9uBZCI
8UbEtu9AHIdYm0tI9mQsl+HppXuvmlapvaQVSfaW3kCRBfTq5185t6Isnnss3FMB2NMy/S6UYmSV
WtQLX523cRaw6/0Ei4euz6VnKXPnAUSmEsqklX30h3lt9EAL1SETKmNiFoj4QGETuGWcQCGBRHHG
AjOQ8UvX7xl1JTQFhE7JKpkoZx/ZfB4pcm2R1+oyF8mOCqJr+EidY4tzfOKdHJpz04VngUaRPoqi
i6lc2IU0zJTl49CME9AHqMITvbbDhci4ml4gCKBZO4NicSyPhdp7FKCeqIde4kRWEbEsxBFX1Mrv
DZIgVSSZklYmis0sGdC3Mxq403TUJCCs3bb6nM9oJkJTPT/envIpgccPHhFYhX1SiAxTDDbRSImU
mngI4Au+GGYEsRnyinuJ3XpgUZJBh7g78nv9mkjpwL6HK5jAxSSWPIcm3BMRUGaYa+QTwyspsuAy
OOyCm2YCuvG0SViAkROnVa4oRV1k30wZSNmuMBAhElrESCEGQhUts66sYABtEtq7aqpjMsL0zMY5
ahXU3J5dhTGV1h4TCgM3bcli/OA3Ehp7wcB6xTcrce8TV1T0N5MEmBxcpmZs/9Shx06m2uCTMNmM
GbnveCFyZorjGKJE7r5WO0YcrNpvYR1oftQMsGbJ1aqxCQJqbNJKL3WUHg59sRdVKAUUdmwcHL16
LgxCRX6uxdfXdq2pL4OKoWrQZPEw6eRNp81BO6IOADdrpFTwFROP5BUxN3tfipBKHwG3K02UOpgj
sqXALz1z5xZKgDyxAZ1EAL+hT+WkvSaI6oA280yC19FqxWzraPFCi1nKubIWUTmDqOFSaRsRdVXI
7LI55lEctAkYl4v2QUttC/7wPk1dmp2uXaTiLrByUSGlZHZr0Ggb/AxTGxKxJLYRe+0zQE0AdaMr
7epGX6vMUeaUVjHqorrn5Sbv3ijJAkBLNrwvEaMbpTyM1Fum+bv5eBeLSFUBc9KAB9qHuK9BGOun
1QRjH9Hh8x8dwZgyoWh3xVOdD2bTFakUs2XrpzX0QaoVRNaWfGNWtfOoUgs2H7F6inXqOgBmSol+
aqGM/OHc3IgurqEwHcIR6cFXmDIo4TNkWSmmJFacle3OkoIPhpkxuKOuvt5w+yZrha7IMeLyyjU8
cw0TULxkjmqI8AY6ePONUTjlrDq2pR8of11KYeJsbDg1c8ThBKuWW6ZwkNJN2rkiJgJ0kC034C9e
NFOecfSVM7p50oYTYykkY78Emjh98N+qUBbj8MRhueERtPUAt5tTqScb5UWk7o3pdQh2So8flC7R
SQ8qdXPAtdcOfTwOQGLBlKR3GtAKkvk7M4nfeWWpXgG6USKGCKxgqS1FXX21PjnYdgw9B3DzhOcI
6/CuoKJArPgmbPZFwaApG2di3Y+TQBQ5cuImiYtIzxzWILWpsNAeUyOASB3QvLs6Tn0IQfRhFRsH
X/ElOE9TzHexZ7z9zWeVqs1ehHFlas3PeQRqauQoCKRXziGGoqiWtNQOOu+VEBkRkzyUUE1JEO4W
rMZwkrycR8Ug3En74qJ9VHdz7pECL5/wPGaKsRckT4CrbjPx5whgC2FoVPzESl/oLT3ewV5og144
bTYArCOtSqPJcbtPLXm6QmG91DEjrK9Ta9oQFCIuIshJvmwXCYDCwHZf5vFPHkEONupCa+gTE6CS
WohSp4CJVfcckmkYygdEh4mTBmZ5EVgIRGtLBJvzecbhMs04Ch3FRl88VceGnQ7uYaoFC6yDP06O
4WskVkZzl5OyvCyfOcWKYCYskbZTX4+atzHMFgwFVpEg5YiAV5ENhUu8sKz8yxrbMciwQ4rbDoiX
GpbLXGE/FSeFIdVLK0i2RaKrkh5pmzQAZFQT5Xg0brBZzDX5lLdc6f3NIGDGuJhlhCgEpNChQpIg
dOFTuEiwjgLr587GGZKlWnzftDo0UxVKCmc9cKCCPJtQCPG4GsGwqoRkbBgxYcVV0Xp8arLJY8rz
u11/4GGt+Fu3FWoNlFYRgelScbWOcpv7rp1cDPTIya6/Nye6/G//X/dY3wdW//l3iydeWZam2E1D
DzL929eE85M2+SWXEylk6D5c56Lq5Bf013W0tbNQlfmz1JhPNMo+pL0Q1uN6vGFXiBkorHVq+Sy3
Wm43jFnk5aQ3PsTI1HA+qsqNVFAf8jH/5/v/P+d3e/8/1/7sU7GYFlvHS4YFTdx3ceJgg7r0CWKe
h8z5e6E5pb6kjzZMXOwaBxShm8XdNgHKloSqi8FbPhXcF6DpQC4sDz8QiaIXmHbE2EKwEoxwA6/q
J/9nianZDkwqACKv47QZ1HY2DONcJP5c4RlNAOow3t2VJETi0FKt1tCsDUiXQCWKCPSbnsEuDu2F
OEIkWPBf2jdYO36jDgGAsUzpwaSS4tRH7khJkwjkY4VDqimuJX1Uk/TFUCl5JL9DulVXtrq19xrG
zzkmn8DTVylIqcb4i6oSZh9UENN39YrkUV1SrLl2k4eZs7QSRxDQzUnIpr1kBnCewNK6rl3ir0wK
W90kPm+QbGYtwlKyhU0OzubGyXMKncCpiLtqUk7Wcb0CvilHT9pVRM6vnmiDX4UQhkmlmXPcD6UU
Qn7HZ29tUs7xaKoGoVSRLEe0dEU3rVchKDLskkynRQeudAtPVSLXdY8A4BFr9R2xvCeoybiXbGln
N/c/g5DUdXIodSKwFuI0D0SZmRdWeNLzd+JsdnYgd29EUipLpGKv8VDzJBiMzTS5ZiWvPFGMBjAH
OY6gZGKohLJH0ThhLGGLNXRILVRU4ZDtJCae5m+W0oOVnATgRk6A+VaigIjTuCDo8VBdI6lwz+zC
SzFRVRcQt6joqYk1EkjUXfj6BKuNXoA7Yfr+RdJJR1r4c9wVtbhLZLzgGWzEorPVFxZxNh6F0Soo
DDutn7jTqtZ242vkS1gsprihSJsE8Bsmjs4XoqU06jOV65TIGy/8kb0BtA4YTr6Q9h3eUyuCDEFX
01ohK/rEZsKYygsIFAqxtQigOrHWEMvGH8NiiuvxdbiyTrAnW/FUht+YAzh3/nh6v/P1wi7Yj/7i
UKK+n18eOBcGWQ7GtyIvWwu7Ec0Bgl6krKo/8XtV3ZGmPAJ7LUOIznNKlKE3FvAR9lg6fc964jGJ
hAT6i3Gx4sA4LNswJOxO18GFc1dn2C8xTSpYLqCdzb0EcAveeEhpLgX9hrS4TA3heiUMUuSi09hq
Su7PBUCk+MRMzHqJY9GbnO1CQg6/enqUIzWpuRLC+Xi3UlpuM2pfDP6jgMl7SdiVYSF7Q6bjY5gg
MaFZ4gEfNNfLM+qMto39u4uEyLtck9R90uPz8m1790vTteXEt9nLxfZ5uEP5ygF9m/ye2wp965eg
OHdye3vfujPe9u/hfhTe4PRf47/QoSrjoNyW+Lw9nXT0vJvX/Hx7u1ucfS8vnX9WxSbX7dLDfx4n
vesL/P5/lIF0dTv+r1/p6ez3+Lw9b8b/KX9yb/l5PJ1uzucns3+pxbqvL5Op/PfzlByxvGmiQQlz
IWw8FcPq+x81RnAgBWbBIfl2eibFJy5cYYu2AYC272ynblJW6G3S6MiyZCE2d7eSanDEUCcVjsO6
p+gVEq0/OVcVWNycUUAej5iYFDFuTMcXAK5gI4LMpqEcAmKCxEYg9UTsSIYKV7AcP/OHHu9y/ycg
f03g6sB/GQ3l5AJrP17liq+mO473L0vnD4/43/5LO4AB6vW+7ud3t73CbqbpZUqwcmj7aPAjr6/a
9nbF6/L1ebxdvy/2rm/rveJSOMnkn3LE624bi8vH9/VR+n7cPs8vm8XevYQeGjB60y6q7/5reG8H
XPlopk+X/d8bVcnk1GNhB6frLUpMEh+2R2XSM+pv8jL6kDp/68ve8H9RSdJeYVbXY6+J3qeDpenk
2up+fS3PVvh1NLuF2y7w0byklQPcTuIEW/tmFeCRDPkR0vQ0+oXYjQCZtpiXL0VRZPb3r4MV5ojh
150gmJdreoLNGjgZoQGQEhQVgrFG0/RDI8W6467rLpZnytn6doYxw5LilBwkCmIcmd4qLSml5Xnt
AgMHD8zE0RMgkTO6V4pikgDTWvRVFtuNBqVtbfUvRioDegPIEIkYmPEYsqZu81DpYClvdQpBs4ge
Px5PXGrBSUhklVCY5ywSlh89dA+lCoATuM7NFbj3r2osjkZlgpD6uqcir5J/tf4A86kMIFq6D1Tl
GU2BwQHliMyMJP2jyIwg8DeVfInBp24o5+SUrHV1AqVv0O0z0jdZl0sUMBuED7x28tS8y5CGLDMp
pFm9ZKxRsof5Sm9Qbb3tg0Tpq+ljigf3VfJlvGHTXlXUA2f3wTByG0YkuKe9BJX3epzNivYHHwp+
ueOJCMG2APBYJqaUwFVHVna541Pp74k8K5c1Xgv/WpC1Pw83x/99Hs5Qr/NfChcuoxyABi7pn1u9
P7YP9QiSYrSY7P/cg9cyAWwfxEX/P79Oq3jWOnmSAcyhiIYffrlRpTrvesDfr2kdSikmnpl7k5uy
r+2rLCg4TqL/7MqUkmkMwEVnvHa8HU2MPLUhoCmxhiZ80BHp/RX1dk5mtXqxOZoa479UCVswLmFg
EBw+EWE/F3SENrAVk7n8wSo1QDKxKps6bn4+n6aTe+sJi0nGLjwPN1kBACKr+NcOwu9DT8vu+5CH
dyy8mtXDkCC8HeO0rSamyw7UFMM9jl9bjY2g2UL+piJkFl2Nf+/8P3KnqxaClhSweBGBZkfNv93i
XRPxKpGWGwswyr7/Qq1dhKGoClJG+SRnE4RLDqy6KOAuWzMPhsPOxhxR2bGuOoUCuPsmwk7UJq4r
C0BXaYLdqDqNoKrCy67Bq/4O21W5D3KJVGwe0J5FuROmdR88h2UlruoPbk0BoE/K9OZhrm4H08Fs
UBXZXuAOxV017Qu0VYWrGiqr7rvAOFgCUeDlZcryCieYuuGWv5wjD3ODgdf6boG1v/QAZnTkcb6/
qqpT0y+39yQllZE2L9Eu74x9eKmqt3/Y+/mz1lJ9C4hlyG7/9b8u94F8mzALu2YM1wkzgkcFt5b/
5fZ8pcYzUIK9DT1JV4XZJ8Qh2YLkSVJFLjfD6TNswFSNOU3OUnbC5sZ/JQ1WIY0EX3LFAoZtls+H
285VobqgR529GYjiu9mXgx2EbBkaVZjvHFFcostAIa+oHCaQrLsqHnZHmluVNvNHFvz0yaAOkqBr
3+ksYR9sOiqUAtF/l4MOBWwQwdJqfy2urzd8uJ9Ryn1FM95VPnBxe+D9DcPlRtLsoepFG649V67t
djwKcJ5IoiLV42Fjxj8a8dLsxJS35S0kUaO/pIFF1ALaMWDzQ+BYCyCQ5nS/YhZVu7xaOUhJwPk7
uBdA1DtVYIWr5zDokyj65M6ow4Fd9BkpHBZOn3KfXXl8K5J9UEKe0/e2aAOMHAsllMKAIyXEcIUv
tXPCmC/ajI07O+xGBcTvA7E31KElXrE23h3deafZkjHOvttDUI0BgyqzCwulOZQrjdSEQHUlZi0U
1yHD/2n1d+5I+5kwBTBAEUKMa38iScQnRsyAEcAmazckrG32JiSaMmzevXlQgFyGe0SHpxeqgO2K
ShMQDlMeDdegvmug75xd9p9ekHjF8QQ9h5yFp/FzJd2eKtkkCuXY2DP1UWKJ8dDLtynmgRqEpT6h
5bK/X1iFaCQqDBjdVxrQ9E2COHBV0AFoI8zVpJIeyJp0ecocdyhNAco2Oxef0JtiVsXQ0C6kYAWz
8LGI0uJpJWYDVIKEHZGlP0AD17ik3l5aacE3utVhnIqyqa7gDx0tqOXiaqTEdLi6hg6c+gT1mcMs
sYzwYRdPtmlniwxgD60b0bSGHbQDnxdLef4oCvVCQFQ9895JRkFsMngIq8unMhRoixzhUSbQOBQT
fATtipiXQQQO4W4Cs4SwBE0B2FtCBc7K7vy9I5thmzM3z6JopB+ydhkmBzrvUhBPRn4R8uFDqi41
bLNW8h6Xl7iaTW3L9fALkbZD0qd8RwSBV6CTi6OoAFRRyZvVyJ4LRLar1ytt/Scfayy4Eegm3oes
7J8Z3DZpgtvTj8DafufJ/RIagxDpYQm5Uyunm05NTiDY1RXUOashzzT/GzP0mHyl94cmJ9oN2k47
N8E8NfQdekYeaqsn0DpwIHp9gbawibB2qxzB9pA64eKzSLKmk04XO/7xUWe7Mf67E7RReHc/gVVa
xUVXK0F8dbuAGVMDGHtX1eLF8M/OyKqEWtaRqI8PRUYcKz25znYG+fLDy86qpTSzdosfRN7h9XZa
nz6uS4/5uLX7vg+eohCy+hBDDxX4cza9RBl18IN7cEP6dRMFzi/SaAQE05/UsA5fq/RLFYcVVsyf
aTULzQHeR5hoYMyiw5HfFW6qnD95lJlYli0FQQc2xsoNaxpCLkcveP2+gjU+c4vBwE+bEUdsuDIF
q47RbnG/X+ayHiCOxfbJInpPZ0WnwCKvca8Ew2H/vZYnxyknmtUTAsJrkRo+Po8m0LSpK96gdgIt
WMh2oYQHnCPiouajcpPBuzyxlJ6BpF7scU2yjU4nyEtBm4ny3Pz7Vr2ZqgUvuVih+DyEZisECmJD
4s4T9f5bfLxTuucpFEEpsfE+23dcKg57h2RA5K+yeyIjCRvUCimxJmb1cdlCPR2LI9VASm5urZSb
o4sF+pp3WTKQimSxafGib44J1hWxigUyCkpSmD/7IbT/CuOHaVAb8cVqDkdmlKE7pvZJPo5pJQ97
eNKcyKqwi1OeWPBr3Jk4wF+S5mIfZlvreYzhKNEAWzvYQPvFGWyXjvcLpi49JidRIDiALCAM0SG2
G3ULirCPJNXzcSk355wvZ7KPzx24V5nOUMC034/UxEw3Y9J9xZL1K3rWwt/bgDF1X3S/Dd/SLcTJ
vhwHwlMRUfF5/FH1B/3d8jNAWZABUnI1+PqQpK6htROr3OIEGqj4GbGLUcceKmtezGBPs9CpYmTF
03FepojgT60mYBZJ6N7Y6AOiPVDOXwv0AVfsORsGKoF4X6JZe/er7jUp2dbTB4fvq8KyEGDKAqiS
aOc+L53gI4A1ISxwbsEQ7f0erWQaYE9EJorU8rlEx7lrJr1XifhUiWvqOneqXUodpXiGkeaW5+7E
KzPgJ/xXZpJBF8qv7FfTPC48oXwEvKsqrnENVWzqq+4QkPiYCmaGjvTCahzaEhjbcQwsKSMzuwKC
AyGNNI4FtTJcaMztVMLOqBrdJCFm6io5tKGAlX4nB3d3rAn9RwFb7Cj5E0yCjJzsjzf2alvdPmtP
C6APY82mfV0nif0wOQbtieU21YxfqnKlsXaTjJPxFV4C7YMoy82xyoineS8YLAAmgU0G8Mhrgzht
T0GUCdyWMMSJnLdQMDQLIQqJuNpOSPwWXDrqqg3CV28v9CbJ1bYEUC+C6nSbxA9xe3acRNDySLrd
ScLbcpHRQE/An2hWKcbCW6xXFJQqwkryt7J2GDJ/aakPgnswN2uXQrOF7lcDtd33qpvvt7luLxYh
fswW5Eyfr8AwY9OMqpGp8+ywZ1MZ6fm47iLT3PuN4AU5pLaYHzB5X6FJYJCzsklP6keYhP+fohPt
tQm2wg502bj/bSbGhQKagf41GESS0Lwu9wyPifTLldda9L51pPu4QyFbbwF3N/ySd3t+Df9fW/NM
qScA5o+3r/vwXtf0+T1bvY7m8ng3Op+/Fvd7dL/Xd7I8q5Hn7fvJ+fs7fVverkvp5vHig/TseP8O
rSzUtF/Cp/36TJLWD3lXx7RoFwfrSsauRRFSdI4VJCyhKOZ/wLnDRWMM23VXMbuCfharhl3AtuCq
3PdwUeqVT+7xqtJMM2VHmpFVdSBccXdJlhMs4hRbGeU9NwOH09Z6OnavlSlJvpTE+eChgVTyiF1m
2Uh2kbKilk99kNu7N/bAryDv7pdndv7lOHdSmHwrIMcm5Ciak4oICzaOx4b8skUngh3ZbOgUQuyY
DpmrnxSxQtuBKvkBixsWgB0QrUNCVffWIbBbXRRd5jRRrJquiGHLnkkYl+UJFKsHiTQz5eCAGAcQ
JGwFwB7MczBKZFSpIgsZxndB8qqRAYxeAW/KT1ieOE0yXDPgg3/omimcB0VjKiO7phAHrjQWfyay
yrYO1dVyQlYiGpLzLOu/YskBj7DoZmPkpCXd2E4Loiata5k25caL0dOlKEsC4Y7Z2X8EklNgq7qp
RuKOAxdRiBCUQwSowBp667QwWwG/X4IZ5ysz13MdbZ9UlqEVfdp0ikZn2/oo7bNdm2oWBc1SErK4
jNlcZXmqWe5IHJJQyM1kRYrjsHCtho9mUh6KvxzV8VgZC9/fBJbBAUVjvnWaifohrQRcruS3lLKd
MwCfTYwBMA1RPwd4KAebcreKXaL0uBA59tKSaWwkbHvuFnLCkQmVA1T3mqppEQnRlZJFdXJb1Vq5
emWzipf5gPRhXBdlxikY0demYPdBImj05cNcApeAMiAQARlMMf4pkiiRgkGys9CLv07TC2QHwB5y
DpHUJ7Vac+yOU8ZV5o0FgTUAS30opGNBDJimqKAlekxnW2s2VpToDLgboyl39oZ9g7qFYFOSSsyq
dp8bUTUV8dpzOo+HTXo6naF+BKbmndL+Bb3Y4RmEKl3M5wbGD73GAbL8Myd0aFQ/IgX7BKW9DGfe
M/VBW9Cr1HZ2GYPD0Vbxn7P1avRCWAsBr6MRymDWb0+j6Curq4A34EyHVR85MSL1RFXzCU0qtGd9
Xg0dJOvD8lp2aigUsi0Wj4EUS3/3md2tAfRajEyjqvC1uWyoIE5K7TNF2TifJJG4gJLl7d5ZGov6
kcfICmgCJpcSo284rk6nTrItWFwNUOoMfOPBOqS4oSwJojOYBMSrkcVgk/u7huSBwAsQT6TdNxuf
lCWAkRowjWsTHBnWiRm9sjvo3NkJD37ZxnoyMbt7b953TqRs7x95uHydL3a48bElqXrOFy5rnCZe
izh8OtoI/GpBjAkmNo3+4iJnTNzgDWK6osCYLpZn6x4q3mwEOB2fhxkjb0HyDsSZ6KNd5LCubN1J
Ynq8zgJiCKd74IXURPQw1v59IClhQIgJXFm7aUmqSCG9ZaGwrOk4hH3LZUZcp7kbIUbAT7NJuy+H
kDEV63Vq2xgYS4EBFLYOqs6PePIxluBySHu8wGrEhWgoYjiiy2LFHCkEcyDHtKOu6ouVZZLL5eWB
yGai6ivIpRjEUZwPJhmXUtLvHiqcOjwLbXJhZrs644dHPR2/I5MN6tzIAAVwGGE5OFbBnXkx14zW
J7Pgamsn3s+okopn3FfF9CJN/WTc7u+r95S8XY/DFD3e3t7/W6qZJkk4IzR9nf+7wdziv9dHY7vk
/X8dvIVweDm1/y9np/fg3qaZoks3nYePPeVW+OtrdbdFCBVCLspDJgSMRxA0w1NIVOlKkFj9fhre
WokcYQAJqAGvvWID43c1uxQeKNHYuF+s5wwYQ+1UMfpR0GEqJqTZVXNW5w6m5J56pGr7qB+j5TUq
SxLxSyHgI6/4MpIyoPn+7j+BpFXyMYVjJOjlGbUdNbikthuzJZhShhfRdMS8GTpwV0mgRVDWQEjE
yCyeKrBNOS/pOE5CaLcj8FkDNXXaYeBI4O+ScchT6UHlvlBJGp/EcgoCFgSBc1734UZVtRFwTI7n
CSBTDGRGJz2XT9w9K80RCq0bnBG3i8vUnAsN0Kk0WgjEerzesJSS1qEYx3RXuqtFZoTMUCmRTaES
Z2j0ERJU9syEYz2EZZUxJGGY3XiU/+jASV7mPoEC7X5snQlSe44YV+dFWZ101YD8dttDDvC10HTL
RVhLkHQLnC5Z5qlrlu9E2DaCcz+q5SNFqcyrh6COu/gIHkxQVhI10U8KvJ3kQkChvRUcp1LDoIaT
3k/WUEbbZRgeR619eHpAfPsbgmQ4fFUKecAXwKmExLPjZGteYN9MAc/X0FhbGoRwBaegbL4AwiLW
5YN79ItlA+ian8UnWRTUUdDuOzlpyYwi0svkKHtpsP6PpVYaVjJ/uX9k2yairDSsTsi9GgM362cx
RN4XulgF1ve4vOFoDyNHEjSsABEcpaVjJ3TkrfM5pEj4PHfA+b73HxbeMfpybCauRnjwHd/lDLrH
CPMqPkG2COZOtAv9Ftk9RNKeCfnWqbCH5eeJ9pp130eOwe2iu+lCXMFIW5FUaiBYrui7LGQiHuAY
K4PciJWdbcXaF+PX0ZoV3E1LO3ojySn6sd2T0G5BRE52SS1CKkTYBztVkXbu7eqgK6FxySNvw31S
EitxEcJtZyhhAMwpQaidYaAyRKPLqQIPPwWnwv65FNgxNqhKua2KJmzY1iGrwcy608rwea+iAJpv
Ej6fFHr+Uj8jaKN2coL23s+tm1VY18OnOv7FZyMbL/oVFHEA4sBA7WQWTRWoSQHhS9rap6pIts0X
8MqmGbN9ZRPGgLi/yidrpUR4jRibU6ICqqCOtZVtGLze5rdRSQLYOJJpNT0iFVbRZApeTdMbB5QZ
REH9obHDWBoeiGH95lLa7aFzFPDwGo6zlE90nQhWFE7hrUMZu0zENhizvOQ3+mb+yk/xLHoFH5Gw
wMaeWnGS0E8SAwtOw+e55i/GbO0pGEas2z9WS4iHR18MoivOH+8hLHCchKYWqEzqQwN0cBw7vRKE
XKn032AngH4fowqKBnyospg4h9xZ9vvxLXd/mpJJDGyNEpaVXtV33mGgXkvaMPHQ4sle7Nxg7pwl
r85hMhhHrkW0LY9BHXlEpCiOe1DyoeQiJAdc7WtC9fwXVd1zqQMy7om590DFHwPbqvSPAV9NzscZ
NYPOuQiVTk7vQdIyI3UOAgHzzIJE2CdAVfznIEK59Y0jUJbKheFudXp3C3xunETAt0YBKFa1qR86
apJjUTKRZEHeuHYVNpBHlES2YQGwSku/xQkpO/LFv/p5d371a88O7jteDuF7vb/PzXuqf95midVs
Tx43P59Pr+7x/dx9/95PH6/w73k5egeo85kfmEYmElQT9T4FrbESmcCJFDq0d5fzX/K6kOw6EBPH
fGR3a1Pqa/NeQYpKPnnaGiccxJ3SpgS6eoe5Zwx2JSKPTVQ4WcIyZZFCk7UKDXEzcG329OHdBdUD
8zs1hOnIk6nNVuTjRNJNveX1HAV0JKzxBuwLO0UqOM1KaEk2ZShr0Myba3VQRX/D6un8sipOhu3y
E4faXLiRL4XfsCwOBWeEA0eTT1uHVeHLBg90HC05SNRwvUApukP6xnf2j4b+z8nJ5/HkYAkC/Wf0
q34e5qhHyCpkbYollpE1jGlL8/v63WHSI3F+j2fx1MTN7kl/LeocdCB9Sv8et3utOji1fxAemut8
v69iUO5w73F3sc3lw4rvRo0vxa+ro9UXX7EPr+z6bdKHjOhhwKby3EctHfswqDS2o6ptBlDCAlUm
QHIReevudYPtYWJGV0rbI1CeBSPpA2C52VTZbzX+fRdxh8TKJqvZ/pVI/UEVyiEPIIrgHE2jPbkn
ynmO8scCcnCIIisYsGL8Pbdma60YEiNGg/GqmcobVXz3VJki+6lhn1ySTUjytUWlYTAfxMrsQx2F
/PTmi3YrmzD1HXkidA5SBrVRIE/BDHI/PDW75EgUKGwR2efcSOK5Veu5+hzrxg0ucVDbrvUMP1Ul
O/TrqUkyZw6iK+f2Wrp2K+e7sIEQDG7TYH6ujGKqVo6JQdOhgxXOYtDLAEtQYxKMguaFbJq7BJpy
jegJTgkSw6JoJTZV/E8pFHb27bbhcj+f1IY03RVjXaljDG0cQW3YwmIcu1jdIJriLtVXSE5qXUxu
yQkau7Y5hAKJKw7cfEO4mDapHxV1SUd4FLsLUl7QLwHdalAU4ihw4LCWvNH4Go/i8cxWf04d6ttA
JK/SwwORrhOoFKqNkEp6YwGh9AZ6CKvaY/BQ5mz5Fy/nphaUGn/E2KyCg88xOnZvKJkXQi/ve/DU
XZ3LyNxsHqLHXU0uq8yLnDqAuhxVTA28bDSKSH5C7uNP+Jni0uP9Fp/ivT3BxSh2qZq7RfKVBuft
8eSFlqr95WhBnrc9yK75oNDYX3PxzAEcl/HgHNYF9YF3SiJdcUZqav8hpRAQ7u7jwHzGzzhemc78
7UTSo3oCzllcNohRDajpeuXTBTlXhmSoRVTOBr4JuYXCASsrdBL4CdtXdBMaICg0YPpzDqCMkUeL
7O88FRX3037E6wLFZKpatXh9EDgQFkYeIdKkNbN4gecRBX/OUvmcjXsbpEwAZ/MtnJTdOKmnOEQh
2JwYuIp+QvYH4SiwTzL42oSDLHOdxvm2X5YwgAN3vx8OznhyuiKsDWUTOjvgeNZ1nDdvTCLTvPl1
QFhftQaRktRXiFZmQl+FtI0rnyQCFmzn3PLy4HrnM12lMIgk0TahwdZaKsFq6gCYUhs21x2SO7pY
NLq/R/DNsqIXsRFZCpQa44Q10/KkMaIPKqJw/anWMlAIYCroyZLcs0RdBALzXJCqOsya5tR/gY3o
P6k6Udu7IM0RwYegLei8MyqzMCNTo5Ntxur1kRnzkKNDZf9JwYrdJ4YD02ORiC0CnOOKiFooeR7y
N4iNJ7xE5QySQsBXdqLiEQ3uLyVWsexBLuxL+J+HsDX3ck5hFtSUe/WsqAgU5QnUhsEj8gFejpcN
m/RJE11mVw/3nUhoBSpE4/ko93j3jllh2+T0d/u9v9v29eOncrXDjpACfo4cdHf7/b28V5OT8Nzw
frycP6bvZ/bsd3v+z2snd6k6RNvy7fX6vh/Tw8Sd7g3+pim3/262N3s00zSt2pZ2CV+p6QIfWMFf
AN/5514GD2+vlC1uNZoDwlNSIrU9FrFrr47IrRq+rW4IrEVN9UTUOkd30Q7w/GWu3KO/Ouox6+6g
qIhicPwd0qYmc2NK0MrNjIJa2fHra9ondZFtqU8CXiNB40zSRz8LXz3T4IU3CD0cMzS73wB6u7nX
mzlZx+BBnTLOfev5/gQhcCeP9dfx8UsOr7PAFx4/je/Xr/p5MCVYJTevLveb+fD4PTijF+3D2/59
t6/7J+Ph/f9d7w/f8Lj11OMnB5jeTr/193g1/vInwfxy82HXUuAcQ7LRwNXOYt8NS8kiRkuKHw4c
dx1yDmCssQdaOoq2Duid3ppECfLqKKRmsAikLX93djUwLd+go6PkOrlLFNKkYqpgJPyD9xNQmrz5
royKJoeII1/HI2xzxBb/pb62HYBx5ESnDmo/jvD52l9L6eqk+GH4J+qoqN2in93sdGL6p1ilpAfw
j+A9ypjRl47i4EJVfcD9jYcdfZIIntMU89RoDmyRzSHlqF0plRdn4rWwk1Gqi+QJdKllEVAXyBU3
Lny/gSqGann2sUSY44H3sYUJ5YBx/dIEzE6DhF+BtibYTTVzFFcUktV/iDYZMKJ2DFxW3Bdn8wHh
7GzqVhWfJZLVYIa9KGEEyHJbarxisna1VTkaLLzrQqLFFAHJryEsFDMxNSeDDGJLUbxEQPFXMLkb
TMzsJYJJCAGo+JZuI2BmBgu4FtzwT5SaEhPXXnkNfxur4DidJPD9HstBAxYHyQegKdtFuhM0U0JO
zwx0WQlFon5HA7q9Lkr8wf2aTopuqj1E+B+e7wOxIHZDKUg9NA3/0mIWOYmixVwl+Gg3y6P9lCkv
4OQU/ldXIYJ4LafQFWBQLiYxwj6CIj7r12fssnJFKjNgxVo92XIbdThV54gSxLB2ZJERSOgMOSd5
NEHUSRsEcf3sPpH6Ef15VFZ5UEcNq0ElgSXl8vIoYBjdEY2wPlu/3evuQ9W+2RkG/PwOLlcaNNEx
0I9eIZpoczVzlo2rlGNzFbBzotdWnrquOXE1LZt+c6LJAYUBaObEN7WmZsTw8aVhOVt2Ckl5cKfy
krnMYmt0yz3g65Vrk1a2fwMSX1Ela5Dg/24fCCKNsJ0uoDg8H4YDgHCaTahPor4ftzojRs+Vg7oZ
waAPh1CP9HEB2YCYZdFOobpI8VHxGOs4SVqRKnp/HpFklZ0fEWlm+UBN2KIX41O4VwSW3c2bRalo
C7QB/bnWpt5Tg9UnvYukrldJ3nkqIBGb1xFiktWQXaWo70v8yuWRqEdkyLt1T3h8i1ASj4nuzIn9
GIL/+UH50KeDbBDoBdXs/YDPpeJaZNapZR9laGECxTXrk7Ep2wQ7YFYActimFMGhN3EeHl83TuH+
PN499eVaGealQ50fYALQGYMsSQaHn83dLUh5l1PxOWZkoIK7rOv5IptdE7ufqa/+IHZh9WBGY34n
w8EwgrelnfHAHI2EajRd1FdVoeCKVUjTdKdiUUG9wVNYGpVlQzvpntBKAzCfJpPi257UeADECzkD
4cGpbzH5zy2P+BgHS3BC4vI73dk2BUC5IDKsS7eH0ND59s2pm2+qvwUqhSYhk2oufu9BFX1jxcRp
7O8/yl+zo9Vx0ZcNb6sHEzSrytLQOXHXlnsfSo2E6tooQ0r0BwT9XmN6iiZmRxI7H+aGZqEUAc0y
BigGJLfcmn0IVh2cowDhgDiyIMkMY4QIx4+/Z9WiPMFlbA9DHadm9JGg1hMcXPQbhAHgJOddEYBX
goknMaMtlQg5evxcQUD+mFu8jAF/k8fU8GRPKGrYxHiLjS1ZKKeQDsp+JbVZcm9TwcOgb8ezKJ6B
Oqr2XiPEkONAKo3W8kAkWpQcpfUE5t6fxVaclE85IKB3bh9iaDfEaNcupfb8mg2M5BwOLMpDbecp
SuaqhwMgkzxFhp6ODQLySRkzirU68r5FYCxHB+Ko8lqIyAvlJQxRbLWzTRuoS47BqzSfzJyiaPLq
m8cbV9IJxoU8ZhmylLuyIen2rTC2T2o7yq52ouSSzVGK82kiOrL8We2mvNXh0x2Kn49DxNqByq9L
EpW6Ii7jFH90XI5qefXteRmWu3icLLB6oSn0+q07i9x+n46dILD3V4eMepx6vW1+jIu9XqP+mAw0
avVmugA8dSaWrzmYRoGvPYHpONeT3pz0wzLefdbEIOCzahxaEDMu4sqkY5PIlYoK82TczO9QnFFJ
cVwIPCAHG9i6OdqEefKSV1X8QqAF7888ewPSS+v5J3OYmI/emHxfh6Dd/u9vv9Xo39PwmwPr9efR
uAv/Hd5fD4/D2vZ5fxTuez+e/4+Mn8+T7ux2Dfx1O/0pYcCeP+fx/RXp9Hn7HB6fLu+BA0H/WzOY
Ktl42MQdSRtuoNQuWtW8PnKOzQ+GWaL0D90SarCDdZhSayuKNzp0acro3KICrKydjjKlRXwZt3Rj
mwOe51Eg2exh4kDik7Nw8iGgD8O4w8w6lLFFObQg7MuGvcQ21//BjE0rMuJ6G9XnGrxWWELB3D1I
ksIYBqw0L4vWG8tY+yDhmeuaq++ovzWyNRTx2WtdzAYYEy2BM2J4y4Rk3ICOurGxnYlimZ+FAVEQ
iBzv4u874hiNQhHp5E8haYyjLGGIBvCozUTYdJo3r/K5KpuJJ6Hi3ZYkjYUVe7IM9S0ze5q0yNZy
8e9+v3eQu9KXc5gUBzv/v4et0BgbvULj/Txcva5tvub5B8m56e1+u54PTLYp+baD4cbmOKpq4cjb
U/YArKybIy2/H93isVnyl43RdAMKlLaM2dxvhYgXL3wTybo8b6qICfWJhfCR3UdtYWwB0Jm3lJLr
f4DL7siZJr7n1Ag0Zqa/FRifietE1zeVCp5+vcbYMVQDrqfNuNk1UPOP9fU7UxlG7rrc9iAeLi5M
ONQ00qhCu9uevO8hsTlortca7SbzLWbwZk6R5DZdH8fPlgVtf/EjZArUtlVvHcpYBMqqy4JZau6Z
2oXw38kpa7XGml+H4lbpythJJ0d2TjbEIVUA4PQrJFoDOk4l5G6YIeKBQmMP4bBCmO88qm0MbO+6
RIt5CS7mqILPxLHJkNj8QQWPVTreNmblFQLRiNXJ8IM4a0WJNgjztdKbn7+r6JqnHeH0uv+Sqe1u
ecVnZ1Koh6LKITS1mpAsE/GpkUyQS7QiYZZgJYBsMGnFFaxgtOiQxOE4e5wKefGLG6j3g0v2eNkl
XN7CL5Rg1ZWNVjlYNopluuYJsHFCAQsrYeicTc2mA4v1BxtyV3n5oISA83l5h1tBPytFLuybhIb4
SGTsBsBKpqKGAwclksHkeZtGTes9TJfNnsROHMA55pyijt+WYXahGOvqJlkLJ8XCoFqyYhgPfOi5
S5KVsFcUi9rXOXWYb9fzV9kPRibNjNHod1CmgREgEN/tmUIhdwhVsDHzwgGkRknMi1uTmw7uWBKs
vxAF5SpYtuw7buwT6CM2uWJyxRDOGdEJoFJd/kXiuNPnzgSYsQUVSxu8m5ngdx2GLeWp+MztNNiV
Uw5udEPV2YMyyjhgOPXCTwv55S2V4oJj3kQs4QmkuI/tIb9BTE0lnLZmt4qNXz5cxQyVhn6FA4m4
DBzeu/5xGk0+Q4zVXGeqdiUgUEzFgVKsPG3UA43NGHqMgyetQOR7FGZpF53U+r1GvSbvd1erIZew
FaG2ZzyPpMr/jFb6nRGoL0opM6k29KtPu7jBu6peRtEZmbP8SaECcCspOwvc/FD+7zelHwCWkUWP
qHBKAonnMYlwV3wcoRHsfwsJ7hk5A9fkakgz6ARLUeKovJbgRAfJNwZj3FpLcyUyhyhcivdU2Nq1
jpiX/AnG7yhOALvbU/g5QCuLWxogGqgyNvBiitBtqtrW2wKC27cjg/5qWGYKUOgrwDThomHeSLtd
VpQbKF8BUgsIfNdZKddnnSrN13CkzU47SntqS7BIZWgW5B1WFbNQPIjP5uB+C0FQ8IhEP1jHyVtK
nRVG4O2U3PKhcvH5oU3PM9DFEKVo6PUpKJnmOVo9uuKZlgeI5JWgJvd9KZnmWVoTzgVWhgxHR1Fq
q/lJZMMR103/OkDBDpVhAIWadrhhRWSRKnDa3Ggc3WsN1QFjENCJfmDXtoXpHYVT0ehZx+LRu1VB
8dLmE9bz7/p/vKwGPg/9xftJwKn+K4fZl9iHw1ZA9/rX2UH60XsaBQUCAiYNuibmAOlrpxsDbb10
IPFG4y6rrsPTSbQELFncYDgvWVD8gijO5qhWP6g/FAV6TQyx1jiCvEigRCXUMZdQcHahIWHYOpou
4/MAXcmh+HwRg397GKeVoLjHLpmMRErQIihnwPRMrQQKRZsHGrr9jYnUzHlVbv/MZxYc+eq6LOAT
b29dMiivKiHaKZH9P3OH2CfP8DLJkb9fRKkhDlRXmStPQ8HsCqhfWa4t/m4clxW8JQklhyFYoOr+
rXDtyYfyw6VY8BUS31YiZwkr7OLkgSGurXlWZ2ZgFXQRQFgEwdZmMS0qPcIyAViMr6xTiGNko6Z7
whHttngCMsBbnfIwlh0aI6aWyuc8tfpqKxTc5/RUO4v576XGRXI1ySQbb1HANs0xIb7J4RVpV10a
owjQFOm+cTnTETNVFycEYqhHMsdruA6ebh8gykYeRaslQJ0jphtHgLoTIPz9Y/rHEopFR5ayesb4
ytbl/X/+kngaD0ZM4hA5EXEuSp4GrBKCeoXmb9i0qx0zyN+A/jp2UfFefKmKMaJO9BBAE8A432Sa
Lh9orqKnDD9BBAniMClMZpt6gAYIgSJtmulB7ubg6PNBREC/6S8mHMYppCx+gs7vTMCheodElGe1
uHE8gAiCQKnEZqElefX6vb1m7OJ7PGLU+Xi/Y1viLW2/Da3jF/jQzsynEv+JSKCEwiewsCXb7pnj
lTQI9R3FCbus5gUzlhjSY8fa8sdbUna2h8AeHm4AyRqrMV1ZEU4Awi4qpwi3gqPMmeyjeB0Gru7l
/ZTgD3G77noe+hFOKmjoH7UmO4w7okwOGgmdjkgzGh3/BEG/FH23o6uLsgKKr81piM7M+WKQQrhG
1hSf9LV2iTiEdpY3MSLcNU7PxM5FTJp6YTlWO0PTGRc6ygtMlW1oDn8dbmKFCcYoFbIARTaKCZDR
WQ3sd36dYTJjniE74NoehQmHpxB+xs8cjmXewyjlRN0bu2qgIil4ApKj2rKQRRfrkw921CeUUuT1
xdEhAY6/Ny64SYS5tBokklxLVscCz98/xnKX6Rrks5ribknDHAX4SOIZh1oSNUVg33ht4puJ2Qoi
K2QhsloMvAp47skW3j+3dm+XevtQ9eLT+EkNXY5bDkooQyfmYMiq5MAuDZRmMkCg8HCDGm58yCtz
6F6DKAOKJCyUWk6cmA48jb90SvBkgKjwDM7AkiKPVgndenAobVBmHRdJyEJcM5CgCRjQ8Vjycs1o
kigsCnpoVEIjTqBHFVqIVfkzjRSMGRuqHTenL6Wxh3IcmytSvHAYIspwnRjLS/PxID/oHNDAiB0F
QdsEbvoPqx53cv//RJGh3cICAd0WHbsr1nWZX51iqw4ZLwx0ETibCaa+mUVpplwFwJ9Hvvtr4FlS
hqcADdaNNeGWYszKATkTg33/efPr16/ewj/CFTYpVhNNa+PQxDok9AM7GBSVx7YIOAf5ZdTxkUt/
rZbBGfncOZXO3/vV6p/+vfWUtb1/R397r9Tu735c9B4rlwh3pGkm9sRWNbgp7YiuAxXkrzylRZkt
eJoivXjaYisRqOaFbnfJITnoCgo4RaYpilBsS3CtADByFXoVRaQ13cTXnpBq1bSX47wvzVBSJsU6
VQwBoFmahoU+cmgC93K1k+H0hfxjW6Lb0RVght+LgFF3iAEq4RSp14aALnmSwBKn/hjMFXxJj6k4
QSYAqWbbOQ1r86JtJovK+jVW7n0T3aj2DxzbwgV1lYuN8n89X9vysg//e6/m6HnpT8Z9v37gsuHk
sD/fU9Mw/p/wE/mMuzfx93i6nh4et933djb7Jgmprxzfyrubn6dTpbVXz2dafc2u91uQrt+jqn8f
T5nR2u/w9jniaQIP/XV2+Rnd2uHlJX/UHPnDve6RA0zzOo2S2XqHWodVribSjvgRP73pmdohsdyi
GmM7XjTEIJL/jRKgltyGlRnJoTRdxEOB0YF8lrjAbyEx06+3YMLS16B65DS5LHahQIL81tE08z7q
94+b7N3/msTZcCAoFCNeWarfMHGxqWv1kInDfWDmXWVZ4f9uF4iuiHsT7EUfXswn6ZdpISLdVWsM
qP+1IUCX8GddsfEbWCqLI5SmdrbCeYGYwaLWkdT0TzkxO04B4PaYppCsHtHMNwFjFp4ASaDMXQf5
ZyF0TItamDmo/0N85jhkjAqj+nWAhuZz89I09yJox0F8WPODZ+4CU350GfqmY1FRyUtE6VKNn7rN
096qWjkFMlSaj+ntQTP3QV4j/3e73e6nTHUTP0WuqP6d4Ln56OqLKj+rYp0Iz9HMtGwHIXP0cxz9
0E6W+GsxmNsgs9DgCxBFX/FMaYmS1FveQkETL+OlZjN1pnmkW3zG3mSuavWllVs9MaePKgklSBSi
KdoaoOsDCL3ttlTNWIfWi9FF6GIZEY6OjrZd5a5DDjDog55i62Xts0VoPltL93XhQ0avqnBMaVNF
aLw3NcTvlAr7cDDbQPX4jnu4IT2ef2Pu634YPgHRspCf9aOAStlJCRqdCJtlJCPz89EU95Z9P58/
dAzK+Qb3+ajP3AKnWZ+6x9WwIPPPNSWOaosmKJJQvUzaomwPjySaQ6x8mKJXdzW8sGRGJOWVWvR4
zcspU021RvLYrSVkykVmhhVNRPFJSNrwgfKyDCnE3CVit8grggIz0kIyrG6jGMh/DnlRumAb5hJh
Ul/oRRk0wtLVPnFv1unu7sO3NBHC18IfAy9Xt1jMfdVihELiU2WYpuMdbF4mmI4ke4DUSZmyZiQc
AfJsvN5TuLuMblVMvv6bDdufSyJITDbZYFYiZvRMrJykZl3Dvcjm1zkzAZDN3f73O26KC87w7i1k
6EP+o8DbjWIZjVAjBnbZDVdiy2nGTY9heud0eDf44fK5eSdPy66vUIc1rrrQ78gJi2XP+k2UHMOd
SbUxsCZWu+X4MclAoAeoXfid1bhBMESSkFUFgJHq2YmO5UHJpRu4RQnuThAN7k8L7s4aTdm4/hra
TJua2G8YuLZlHlpDtOHek9liBa9CS4LXLq9jCPww8jSiakR37vNGle3ZM7s+2FFvD+fbIK/vFpax
59QhajA3iXlXSrtno7qtHbFNiokHbxlQI4P+soXXSlsW2JZrMT787YJsgT5Nej+KR19PEuO5ayow
6gRsShJ8j7ID13IL4i0KzlPbxHOzrP0qSKEWGKsMUwvHQpmiZfx4StqvHdMG3droahJgWmymSlvF
K4m1p+k9TLj0e4HEHy/1J0jmu3SImeazMwhDLXrKuZbw+Zu3Zp4JTUT2MW9cqBS3EU4mmitu9kND
UxBFeg4ghlrap2oSCBHLfH5lXcEuUszwldK98sHshS/Txv/u9LT/zfz/12d31bX4cH+iQ5GlB5qV
62DiHOLBmFDVhM2RPRx2AthaDlA0JD4FHzjE0umbt9dIJHebpkKK9dk87sVIuzyOAQMhgHoM3WVs
CRWTxXUuWnEkKNn+L3q5YHleVX+dVMLt5sEWZvtdxA9VRomoeBgYqHVpCBS4CbO4WLiF8rJCxy+h
tZxJbjeCd2GYFwaKLxqxZvgfugnahJDZhTAjB6EBeyrow5i1a5QGwfNnoVN/7J9sv2+Ou9grreRZ
i2XSL9n3dniWLBT6qqOl5eyfy8z9e91fwNw97TP5vw86d3a3eSng6W9z3tBd9dRZnASx58JuONzV
KbcVKBKAJ21It1AYRNMmo6Q+xpRfOxpvBIKtQlsKKL4HbOTuZE+teBOB6GGqlp00HTseMKMYGIQQ
OVl1rLfx1Zt7awYeGn13UdMu+XTavXHSL4JXMXrfzlXJubPqRxGnyQBjlQtUytZgIKP2GFNxh64F
42vAxDXhvzXz86IbDDjD4eAApqdruRtcPuEQDaYsClOFdLqz4pIaBTLNZD/9plxDhoI8iYvXtLW/
CaW9jFKaloPQU2tmEgQtM6K2Hko6NFt3L0I3Jrn+Ma1nJXt7Xl8Qc4ASITRN/Stjx1WZOK0ucHvb
z+H1c7d83M7v4c7q8hvP3Nzg3eHh+rf+DHin/jHi5ZIze/ufX76T9W97eEGPGnjR5cdkOd1LzRhJ
ejaZ3MWpIoSsgvaSwLnmAjdyBGLsfTJAxiRRsk9mxezfoFbgNOyYxkRl0aXW8Yj1zpRixe/XDDK+
+DFjHOigqNbhiPfOemloBTz5qimhpJpPQjRET4hIplXgYMkNfsiMSMXVAHITWyT1XcRXEmOTlc8I
1daFD5lDZ8p06eSFuZppQXRAjgeIQlWrySUk+faNtVjsED9RSNQUt+iKofhnNFy5xE8i+wx77RXA
Yq5qjcARMyIjEi4i4gfEkrCBCqjtaEfhaQ4vmztH0O4UnwhRRawxPCsriwKxxAa/ign1l/Z8bAuI
ga1S3SI0yolJRdNd9MtIiqxfl00W8RZqpFW9urAmES3/ypwWEpyPFTPJrUrQ1xP85GonBDfogzoV
sNZWE5STdgLei1YuFrqqTw2AY9TlpoP6bQFui16mrJoTiswe+qaDk1ZldayC8WZiKptOY9jLGlXT
iHxej6vBv+36w/l4qUWyke+L3r/sOov8GWTywCvq3vB7PrL9Xn1P+Dw/rpY/vb/B/f018zSvzTc3
mzb5Db4SpaVKz/HyFoK3FBXC4I1mHSErjr4cuAaTjtZqZTx8dVquD4f8X/ImmEOY4x+b8/5wH+uH
+GE2q++eD9vL6f5+zp8HMN5LznZGwnaX5Z2R5NNOhC6W9HRMPHgrZr/3G27NLZpFIbWNBE2V4ttH
rnSfygKYG13O36WtvDGRch6kVoVHVq5Gl0JlE0Dj7UvZhp/K9TfOQSMQnYqM3LSs24yJ8+fnNtIp
FJu6s13t5xMy8Wp7MYYINJ5sqtT0t6ymCrSgJvFRCw1hCSKYogmHyhcYNr1z03XzYhLe7yEWHUeO
LlXvSkFOB3xcGox/WvUfSaNfsP0tbBt63jhD2jWOdzjcS0bw6jX6BJQSTOarsUWiLqELwHy0W1pn
SHlQI5h5fqt88X+U5SX/c/yvq9unL4V/M6vIEvLHmdDz/v9XT7Xc7IfgkJ+HcebOA8BAHHcbkRea
o1XD59bTllgMKfWCNyhYQOqucZeaiZqJoiY3dpNq0N3Uk4X6EGEc2eiD5TbK05Ls9ZLO7gcBr/Y7
S8HgNc9KAzdg2BFPFYC4mFfe3O/jXURYu/jqOyh/kHrP6UtxZYhiqmaoYHX2x/5nRgien0J6nb8a
zpqv5dDtfpTLt/oTn/b7YEvfpfrz6C99On2Ozz+1N1PZ2ut45/Ntcvk/P9XW81HY/n7/w7e9kVj9
Lvh+e4hAlV+/Wy73jh1c5b8GoW9txO2OcHHcbPE1fw1jaT5TmJItCklhMIn9NmLNJqJsZK6CfZvA
y9X7hdHJKxLWfhyWr9wCtn5oCeII0o4YWnBork+HnjoHEpUSW2pbQr8u8RuqfD1BkvWg3FkqN2PM
iU28AHGAUePwlQtrsi6VHJy6UH2DkUWCT4ojCwJN8HTEiOaq4tvNXolyDEbC0jzStuGHr3AxI7f9
JNv0/z5OrTPvfb1vd3OSbo8/eix3+R8xaDYvC4hHIkMlnt7XYtpbJBmhEFzYOD6aBf3qlzjBx5lK
YngGncro0dgPQEQ7GIFk4mrKIPkHL5zTm5qdRN16cKcXGhZLZayWZ+OlnubvD6/L6qv78e5yPfUH
TFCf0eGudFN/c+vJb18UUYdXp8Uhhf0qMeQc1BmARCLMybPpmPkp8jp3xGEGif1jCGQkhVSNxEw7
DE83uJXT77Hn+p+kTQZpnqefEDByC/UdQELruavAqpCNVcB/E1QNw1cGmnkHFf3YF5xHi9RgD5Ic
XcAQlIF0a5rC1mi4IIbsEUJz4V/lzZ1+2+gApxeeguv9M7GWqZ1i0RAxNnSLhnb5+TDbrRSdTDQB
siJ9k1QStjd9O0kr9DJ1RbGrV8g/R0a13DqO3ExRBYhZZWhlFSE2AAWBCISdhOiajJ+pYGFzlIJ0
5/jrrFmAmEVcuxhQF6QlWoTLcSNNqzqRwq3jEhKjzPwpRGdog/gw9uJycvvFUrBnDWTLAmRTy7oI
GK1CARYhD0IRkyhTODKqWmtJmA067Frt6msfMQgO15waM83bWAIgQVfr2vkCO+cYLV6I9kSG4hJ1
9gOC5AXZ6fTYYV2W+WBmrzVB6SmMXnbm6pXEhpvDzvDubfgu/XttqrIiOZjWkMgNZzR6av+BJhZC
PcHi8plSYp80cUhNPfVph1aggMiLIJd6F4rzwx91qO2DTD4m5wtHvthKS6omz5cU0HMXxtEcLTev
PIOI6ZKlgtop3in9xnkExsLglOTVdxoyRCpF60wicVm0v28h98mKLD6QWForhRyj/92wSCCSd8Jb
Ztk8EnapwvOb5v5y84VfWHgircNpm1E6dniqdYtcfGrSizKQ1C+HZpszHouNQBsRzhXpa/lMragD
W0LgSQGZaJaruPC54q360upZ9EG8pj3ydgzv3MilkIrlcBBiqe6MvkB/AliLIvqgQ5Id+bjzKN0E
rxM5tlZTPwparkUT52It1w9nJRHoRkqhqEt+Kwev1kiuLyN4NEk8QBlH91LEYlnNoimZyHs0VXCR
XcZgWE+HJjT4yMBNRlOUg5oO1C/C5HElFDfKxwpTEqW7fBaIITpfQ24uYE8CDrwg/CxETuw6D8F1
EjNEhHHs5Qy2ot0S9SGMVV7R5LOFDWAz9NpomjONIv0QmHTdVmCPKny5uKy1ARKH+wziAsxursig
auGSc1FPBtmtb9C5iRRCCRagp5rdHWkxVYL3crcLYBPA6NeN3Y8s/2jP4opFjVg8JJ+XgU+XMlVr
rVy86EgurSG5TEahQYuSp+X4WrrpV22oBoYibsFjXi9GCCby8sa9eP19GUcuw8FRDO4UUJp+8DnY
MQTzzyLOBBMMwewreZwOA6X1BXGKwBlNZrbJdvcrUJA9GY7vDAHG5c9klmqgU2cInwxQRPEkPmwi
Z0lokKrj5BHstVPfLC036qK0MTeYKhazu+WuezQBE4NE7ispxCT0uSVi1uiKtwYxEVkB7nushZfW
EZi5DYzprFgBsrFCItLUicE+XRezV49hiTmgKoMNhJYvpi33yeeB1gB1+JbehvpaDeK3lD7+pyUn
s/y7xNShMupii7mLwQ7pS1hSRInOeQbkOKwhw7Mt7Om3T5jTqPMdMrSLqL7I5JcmPmM2CSi9uaoQ
sH2B1DpXZ7fj6HP9vP/Lz97o+Ls9Xf8/R/f2fpyHfxz+r3t/0dHu+8zeovP8kc3bw+PWxgu+jIgT
WynGN6HXRFDQODsJRJPQaaa4Z3G4ptFJlp83Au1yuk/3lYTY00zN/NkEOL5Z95RT9F9FHg8Plp56
XmBH/p+P2/f0ep35X5ghrV+JWuHKRHCX6dGqIV2PPFDWXDz0NHljd1j2cGYw77s99TIyocPYItOK
YH6U81QzACldvaEE0C//SKj5beffw7e9vrFWbmq1VIIwWHQzjgp8C8gvQqz05pu5WOeg09W08bKk
CKpLy2RGi9uuXpzdLHNTblQyTq9ibTSBJTgM/kmsRlaKwVgjg62oYVTfaEqknrVovkXgH2lromO9
JF3ESKBNRRdMe3X2gxSbOqL/IfnVB+agBxNhvKEbOMGJtMK2U1dIhNpQ7grVrFWIEETknbHWzFGm
kRjQArC8RfakMFoHcsyCx7GHuBGuKq79O2gYY3mM/IM2vrj6Dklek3Rnrn3cHCbYT0nN7NskGpa6
xRiLDy7pWYN6BqHu06afpjay5fwD+KCj0hWvqNBM3K4Z+KiXx02AvEQ3LTEHVD81CBeb1CjMEkMT
bPHdkXmCMXB9/AXX7TpMshXEs7lWUzCKViK6q9N1ybAEuF0fIaJsEslMmkE9AhYIzDI9IGci+pNM
qRwiw2EKmhKclwk3PEkivKCdeW9wg8IzHwalJ1wDALDZiNXB6I9Rx+RbPUYasc6xcG13MHhkobAt
h7gXCKY1FfM0UwKHO+u2QSw7VIQxuMJZFoUcUSwNtTlJk8nYPARiKf2X+ieeIYlmeUFd87k0yyYZ
ruo9hS4Guoc3xdE4HJl7A26ZYdWnzXMyOSqMoTqbWiiCfkRbkCZiy0o8f5JtQEs4i8FGp3kSzuEq
WMU0iD0RQuChdOllrUbdDbiVB4B0ICFsVIaehZrtW8QtbLblu3oYiCUtF9LWZqc81J/SutbjwurN
33As/rM6JRSf61vidTyXiboAY65FYmO15zyKjp73gLG85AUFfXp7vLn5zLT+aLGixVN0lLnsGIIS
F/pot5tGGiig2TaxZIVsADEmdPCgH+nI8tu7J0GADlKvRe6uhzQeFN+o/+gYhj0tF8wIXSAMNzW8
FkYVXqoIwxOAKoPJD1hGOv4Y55tkuWsqNB/SAg8LzufhiU/ZyZ+f9cOMM1J/SvNn7nMpBIpP6QE9
J/D4HlbBhCGJ49TCILCck8kzeLG490d02+EVah8qMhIK0dQ89I2MddEh1l9k6IjGJGV98qVslIyl
FLR/XQRU+yAxIy/Uaa0bJuiM/SrFU7dlYc+jP0hYUgEFpP9SMN5nJvDJfsTcgc5skt6xe3E0Yhgu
y3LVGJtVWyQMZ+GFn50NTrp5tlIN7GZu0W1m26IjGJVdOQ9BM1DDxB8PM50WkNTzTn7op61DDD0S
lVR/SsoIrP3OVSu2UfDYzLMvJarPww6V1BD8UTqaVo678/DCpVln2T5yYxMdRjlJNn4YdKzTchM9
R/SsXp7ktjBhIhMXU9R/81gVcYdCg10Aa29ZV1ZMiI6aD4P0QqcmYlSVqBbwXg8aYVGahPhr44cu
MhQppmiah87ETlS91Wsus+Bp2wmp48ojj5dmVxJNqzyXT9bwGT6/z0eIIBJJ7fYt6O2Dt8Tno55C
Fi+hu/ZM5HJtaPM4v8GKnD5iKqhhqfs0vSCjyirCEQQDjhr9BLd5IcUvFddcRsPradn3O0tbFW1j
WWHPgw/ctxulxcwiW/WHOSCqi+mAm6sF+CBBWorjJxtFwu6XET//np+v4ohhMSsJ/1faAz1dgac/
AliEJ1qLzDrLB0XwlVfh3OSvHLYknNfBRDJQuJoYFrFdTmu9BHhrEmmWQC+jSlHE13rV9nUI7m3e
fVpmT4sagbd3CQgGhhAjPIjGAa/IdfaWskxTlzW91TlahkebFtdLrrAjplOvP+kTqbChEeqEwbqY
AmUzisbWVdpvI+1fOGrpX0YgTmeYS2qfDC6IwlR1ZjMBOBpnr52w3zxB5B9XBtebh8vK9u/S8j/H
8b9dIvi8v1+Tz/Uvo0/XY+P/VSgY0kfX9eqke24NEur9HfVucs3q8X116SHvseTrcHi3+7vdyfc6
Senz+r+n68Hn3+h+O7+Pp6XB4+zNvb0ce0f/e8Eluf/+94d120Y2pmm/sbdB+dtnMrneBKedueEO
HW5tUbjXim7JXCxuVxsq7W1SGuJY1yW/znUjeCbVB/c7HqqplD/cCXqQMsEJM2CR+qo3mfZX8rvS
HoWRtSRTUXaFYtqBGIC9IbCk2PX03he7gR5REwICgzBDpE0UWyoHbxZA70EK46Ik5ck0ByC5q7Ax
uEvq+UXYTGtW39jOi19a4h5BtUSTv9q3xLCha7JNCaidISkActwwKiVU73N3Q9NbW5xdP/ONHYD8
TsrIKpD+j1bXLtwr/99vnD+fGTe9fLx5vUs1l+GPn2vHzLGST1bu7eE2FzE7HqBZy71WDf6KrZoT
t8QOIoung/RLjG3NnzFdjWN8+HlsabAmGibtcDuiJWug01P2j+Qzvs9R8QI7CUSac80ULTzcFoIG
Rh8H89T4Z3lbLIoMLObsg6jTwrZwCebXxccbQswzFQYL7yGwSiBMyKGN5sMhUbvOSv06suDIEYCf
gmg0Z7kSHEzH7OLArsGZD5d8/VwoQH61rKGLvrjiCgqxlq5YqHZlUWXOSmO1CgOM4+SyEHq/lL5K
+RXkJ2q2jJ8ITnv7YQ1Hfrbrr7N3jSvsewQFfzPP5gpPlue3z8OJdej45etwr4+BO4cmkQSPoBzO
MjHz5lSLaxviZGEE7CH2+iPtqqj5zIozqcsPgeaN5GnA98l7sDuNA8Se97gjoyAYjV7dIjqI6t1X
t3no8+vi8UG7CXDrdyuo1h7ORkYYjZ0hofxKHIFGojKC1Nkl/H3By4MAS4dH9yZmYPIqjP4hqAhH
FCCm8jxHz1WTiO9X+QafA6Df7EHl/UkLfra86zNhJGjW0hp5Geb7PNEJrpdvZAB5GM/PviavmvOG
R6bSdqEghsoh+JLZefKlTFiipnPpS2/1X/2vIANcagzszyTfImLotPxL9PIYUt844TrIoMbC8opB
MNl5vL2nUJsRYvyP3eW6fq4KfGXHXM0Yrms0x8LkHyYTfI/xOsYgBEI5D8aeebJVQ5N3xILhyPSU
mLl1AdWvEYoiaWh0hp1dBZ8wKakbqD8CO6GyKvCoXV0QREUIyUrz6swcm55mwTKjlanLgu+MRSRk
Vxych+NAYcwxOR/gFBh2LRtLC4FfPE1PgV3GtREi3DCNXdmybOlfWN7C7MflRTYFrTQJIdZowEYI
a0BBxmmh0RQizxaxIiC60UVs8gmE9/t8rXUoc13NfxzCJdf7C/vUdUe8hggBG1yKStsz0bBhFmEh
Tz+T1eLlt4fNv7fFz5t31+rSRyWeba5m15vVv/8y3CHE+CwE2+hstsViTnnpCQtEtJcFnOmmqiZJ
KQhKV8KpbuRkYfyUrMavnJ2EQK0B8AZ77fBD4rhagwQdlk7lzSNbzqKr+XlaUqhWCLSPxcRzHTnW
J/4fifV6wYB1CzsOUTkKNcpsIUxy+CWgJBf1JTlWADKAavk5qZrTWOBH6e/tfA0k+DLWtZ+OEoOX
0tI1rCHjiJkVg7FMnw9eURQ85FWeMyX/4F7WrQJ8g7ZLLLm3CwDcwHJNXZqO2E2aPsEFrk8T5iGQ
ABfKD+nPLhhwyz1GJSqWxj65TFTppzw6fQJYk0KnHDPcAFXq5VpkWFvjmsD3cFsNGenJzuebUQNR
oHDky/TzE9O9YC3VD57Sj9O/o/84/7/m9m75glfS/8gz4wuWSHKBwnb0CphukFRHu3fMeXZIcQMe
cQX1207npMSa7RaLfbauzoNHSwsGsvg4Ztn5W6KBEA/kWmSUUtFP1zZ7s5X6imYhSOdhbol0sEnf
7XdPfvB+u54NyQLC1AElhlmxBB1N12feeQk26dYViMVaY8MkYGVueRDkclgTiPRWIwwV5Hj7eMM5
t3ZAL8NRtwqbeb9VVPEzL5YKQCoWZ+mJdrme9YSQM2k3GOIJzjjIxalVou19yPHIOkRrDYQP+aK4
93NJ7uBTCbX+t75ZaCJSx6BTtelikRZcrFERkyszzRTyi7WtgawkMfE67jbW95+DaCXLq/Ia2BYX
r9HvH1bXlXMR2976/bkt2vOCgM7/zb+Bu6YOfPmBUm/f/78H+b+lE9agNhzJ3GdiCOuavef+Hd/D
9fx5DetXlOrev3vxOrsUs7qiYaRAvuidhgZ/BUhGkWCBCWCv/jGCsu9kmbYv1ZwsWsJn9T7FYs/2
YqEppUNk5w5e8AjVnLBOYsIZ1zRUCBE757eDbvjXE0HeDq3tY6hO186p06ldU8BlL0bCpwsXOylD
qo6L9wAIiK2YQgM4ATEBS2KNYaf5GFTPL3aI/RcWjqgwyhG65xKdXh3MH9IFC/T6jlzPdWBi6EtZ
t5MExIDT1Kgka78e/g9eXUIlry7I1eEXFqJgTukRty2WH6FezFbHw/J4W9YbVGeYw75LgE92124i
RBMRXUB1Iub6vE9TxlhJexdv6SwywGNxj2xphvWx9/RdSRncnPt4CxLM9LwRslcnsggjhddIdDFx
a080UlOx6e4CYOIB646mteDkB8BVlVht6ZbPkp6b909ks9qkRVjA2TLVVO8lqmJhHq16sOrkRqC3
pltsJ3aIn33USK7nllzU9dmqK0W2qg2rykBUsIorPDbqXjLmavVb1KUoi9RAmtuoVrYgSLe3C78Q
LwwcNhZlN1UxIo4irIN0TWQS01B0yJO0MnEJVV75YfHZjid1RSBJRcpnIRmwZAkUe/3bxZbtBIqz
euCBmR4GIWNPuOuB/wl3BU8LmJ/V4lh2x9cVMUa9UnUptiLZqQteMqYZwWExVRagCruyVrvoTWEh
W8BUmp5FnnQAa6p3niVs9OGbHVncUyOIG/CQ1eyrENqyUy+eNHOccHdS015iUcQQqbevsoQhOTbZ
1hkJ6I4vakxJUDFCRuQVdfwoNtMRsHisYtx0yTufnH2Vm3NPlECOtI3D+zq7JLZ6Da5U+jw2j5xk
TPIwNekLhmJo+vQzkaqdcaCxM0cFRXDtDt3/wQYmnr6bMKkrujs2+Yh4AUWHR2H8WqSEKcBaMPul
+76wH8PYPYphb0fnUSXbxc3VI8bfYeyXUHBvvIzk9Jw34Eas8sTmKiGdzdwkRMtf0MmlD0xSxOJa
pLIZo0P71hG7vJocKRbdwq773IQ3rXaEBbDiBshNyQckmn6X/ow/HMSuv2BZgvqqRNFZB0dQaZnZ
6fazZ6DQMJyfOT4QL7b/s87w0btHO5xWoU5CwZ4SNqqS0rUgSwya8rZwaU+x7BVHiIcZsblQyL1q
MSgAKhtywnEIg+sTVtuwwyBeBkh7J+0Zcaubc2CdoEsakbJwqLZ/Z8ZL1fChp12lQNRvCFz1SWG7
I7+ss0vI/da7oywpQkq5FDOvTNfCEgnmZqo01yepWIPGPxMC0FZeMhmkjNYtKnjWxv/T1yqi2BZM
Rpoi5kE2Jrb1gZqeG5zAAICNJjXYDuv+QAMj9S4zFaiWEZd1OfVy7pyBnis1E6qxCWsMS0a8ZoKR
5CLDZ35dTDMBZRE/D0mdvbhMFYIxIV8/MQfGM/DIpDPHLoekAdhf5ZUaJq72AQW9K/CqhBGqzyqe
FFH/Sfcm2+duzBamTt7rZyEc8dWuH3DhGRZ7YAT0EmsRvBkZGTJ7JcSwPDCSYoXma3U7Q7o+XZUJ
XHRyKu1JCqsJyR7VCBRCgVhK2HcFZy0ls73JRH1+4fFktaY4aYbrFGIq5EdHyuIgjufB/1dB1qwm
w1i15TslmvHkJuLGAIjCR0TnSVbyFRatn2bPp1BXjCUTToYzL2lEc7/ylTcI2I8ZAzabbJF7miaC
pxxPiNYRHmqKHEwYgI8QVFQigk524qh7JiZvczVVgplqV79OiS5tWXMVbT1GgknLrp8WgTXwum1X
/FDYUOuCE/OP3hKDwxNctWPBn4UlPvZ8JRKrsEJz8Sx34LSHKDXu5/JR6x+d7cUz0njuGU4fuMnb
ehZYCa8R2q48J1ugO+y1HLuNFoxtW6biMgqauhBtYSlJVob0TdhC5jTzVUpnrD/DZe1yYDEvORsL
ZWq0An1YRHoF6DM5RoMYHFwVE9f8CBmgEzHNrx2j50PHVVT8sC5NR9qCkcKxRYFtg9yli/beneAj
t3b9IN/snhjtxzVYYYycRliPWYdUBSTihy3jWygFTXrcpEGjhE6mLpl54mqq9uqMr4diwXlnNudA
EYj4lQrK6f5Fj31ry/SCTLi5VIAUq2F3zPM5bGS/WQDzuM66ZbP6CaWYoghTXcKlY1S9knbCGLi5
UCGtByxF1Q+QSNdqqZUGUQehNcLCr6xJoVrvnhanci0Ye5HrLVr6d1O2TyePeqhDg8nhYJFVSwlP
6iZzQiMGQSEtuUTDM7Mh7eiSBPOqOwwxrF9RCs4sW7I4V+n+fLl5Px5cu4ZdigIzJqUWXnk3QRXL
b2Pf7bJWFaGpEUOgzuKGTEESmbFW+9I1im29W0e6fZU8PhYDP02nO6Mkg9bEyPW1HO3fom+3Ei59
XnFMBZOrYPB+xFcWvLPxZlPzGGRBB114CCXl6UlYZ2K6P+mfVB7O5HA5ssy+Li+ryc24EMOecVsw
2cy6qsQRM+xHR9l4J65sYAZolulE4isbU1hJhiyBMBZ6HFJ1Hdwj5nYmVCnZStSDJRJBNjD0ZOPu
IRFWtwviRa/Lku8gq7q6kw3J6xA7R1IFZNADlGvnjscOMihHYE9Gw+RT2vAJbLZQa4BCmEsDLlB7
a78QpFEUpEss7u6WtYUnQ043MLw6TXjgJExoebDb5Fvf/T09nzdfzrT4Dfn9vg75+v1PB0fD0d/h
iyJ4e67GSv4J8w8VdcOL3ZrrihVEVpthVnhuQ/9aiHNRJfV8FWBSlrJUYgg6s0wkmYDBRc95e7yw
buGniI0zHYsyUTbFDefZmSJl6koeF3+gaiTJfUoa+pQ/Xsv2TrEoaK29TR6KBMTOIcllFux2ZBI5
jCBauGBI8WMpLEeqoLs9mcezAK4MXOZGrw6JMPRBETsxkEmTo1sBMg/IBQYdakUhN2v/FLFjVhJh
8a1dCS5ISpO7pVrxSENP59b0oIh3PeJaj1KtHNIgAC802ONAw0q0iBbu6cNpgtZ7ixjSJ7/wl3Lb
c4hbjmxtvTop4F+K88R+cPFrLQ2duooipGgEhSvaIVFAZywxM1NOWLMuFYTGLsy1HvY/EOFkIehG
oFyWBORqOZBo8b00kZbHqXdzIGZuLNM2FDPH9UFdI8Z/oWXewthTzU0ka6jIDCIS5bf1mj0asNtr
HjGmny5siaa9JhQhv+IDmt2x0TqifnOqPMQ/Ed+vJ74Y6vtEe8o34IeqDA18HrJpZC8Inhhr7X4z
1SMsV4cZ197EQt3zNM1FHAY7dIdmM47+0FkP3QB3eb5+dX+K/xv8d18LbjsiuZz16d1fRbMSIUxc
wgEvL0sJHnRm2htNTs+srYTLh16eas8twZsOl5vS+u6ilFNQzoI+pnHmZOtvyqP4zg36Zj7ipP1T
Y88nSDY7hDGy6U9bhH1JrN4ezmoBbDyuYoFuU56aGwh8IzrZYm14nubvq7lEttEqhg/fskrdcCr5
IJEu351TeflYKEduvr0MeOHeSJ9fW8wxo/alEd+ukVJNQzLcRSxWx1Lc1y3bvifEPXWhCkOMnClr
wBMfzDfw/Ns/vVKFVnx7DtadQwWchkjl8fmUcFugA5/vXtWqwAGbwarK/gz87wUTbnOnV/a521QC
oALtbi1uj83O3TEaO5CiRFqs6TquPBaku4BlI0pTuCgPbBQpjrDFnI5ULzmiRhRNVXXJb12XiZop
Tq91WVssOpVdx7w8qhgEMaqLbWJvFRCvEtglEtJpNMxhnOoj6J0BZJ9Ey0sgCW3HfDZyp173gWPk
/nWaalCs6+kCrGCbsreRLzPOeQ5EGKXD4zsAQ+F6tG87PIdmPKwvEUBWCTUZMzI58pnNnrxMxkav
5ZhG3+tqnKFa4mX9ZsNJ1gpECDgxhkYnCbzZNPsc1heIdwjClhr9HutM1pmuw25Y4FQ0ISKo76qr
eRiEKw3d1DasFL1CE6/yfHq3BN3inH2Z5uI4vtjLgCBDjQTwmdiFkboWuaxnlw+UmoCCUUGx/TMF
w3H849taDBKxv+NuDtWrAWWCpgOSm6l1nXSloGLClyxFHxIzzoInmK1TW8pg7NEylUHkIsNfE+wa
JxAIB2pM75QruSVuMZrH97goDUSRlkJproNSy0KXUTQEHsxmwbiNoONDBOG1BDZQRW0owrL3wkYv
lKluysVzzRayxt3A9EQNA6JNtAhjUEhs8ZdU8/NQ0cjz3g3FNhrsncAyeY+Py+tPLr6OrVP8u30P
Ofr9Tb7Rej/dwSoeWsBPqqo+3veInr3Of4fV+fS/Tg9e/6fun7h+99lCv0KTextPsU759RK70NDM
kNRcydQ6gNk4ggZk5T2OnFRFW3st4ezoHu5ksBEmZKemHcqCiPfEVESS4gdMVx10O4r1BhM9UX6l
eM4QYa1Eq9ENcsyfYRpRABnu4CpAatjIw5kC3u9e938bCjPNiu8H+gptbkbOqwWCgETzldDBp1RW
z2pXpdvc1GN4HtZVewXsTSdlsHbT8KicExJaNElze61FSIr+FyGDE0ZqGq4tY+xaeen50ufTPp08
7/bOrzff7vz7G336Zd/b+zo+3hpWLAKqnl47H49Mnb7/T6/R/P0dzaLwfx2PuN5fL6e53/yrzipX
mPtdhPU5/W9P7dJHB2e16un3O7N1L5asPq7/AITGSvq1TLGvjuianM8z/+hMTH7XonCS82qRkx5o
mKZAR15i3KhKUnG7DTXI87Cv0umDOStIhCNEzr8SFlRW3qQkZ0BMdZCrT7o9CsDnhkTaTQqN+HV0
bB+YRuqQg+rHZh8w7vzYfM5qZ16t7b7drjT+/8V6t72vD571ej2NOPTqqXY3NqYQcen/+TtFf+pD
uO+PYjYSBo3h6EEU+VMQSJFJiwj3ULCqlgO3VFgjlIeMIaKxrodQ7mU8+vhQ2Iw6Hhq4Mmpebw4h
vuExMSVSElHSdcmXSY4gz8LCnGsN5Mf10AUgZueGpPBQnaBfPJP/08O4bnbe3QlqMgsfs9F1lJ/v
AT4jjB6PbqGclEUScXvISCMRFMwwx4EAw3BntUJvAb4kUawybjVnKWLIabA/gPa8oTNQkLJHnQQR
iuTTG/Zyq6GE6qLaIFC9fNnUIPYzQF6SIHeaBtpcyqeXRkUDixSIBP4bKagoLf8zzKJ0NfeXAZix
owU3JPF/DbCzU1vWdg4gUbrxKIDH1ZaOoK/+AqTKYoYF+GOObutkyxIiBLN9BYBXCFjpgWewMFYw
4Cvs2QLp2uevPItoa+soGRkrhYDNYIPqn1NO18GrepfOksW/Lyes0/o79PHW8KOr1+ptdL9Oh2sH
3OfCwVqp6XP7/79Sbtfd3ef+m71D9DveRCfz9HnN/G70+/8J3f6Hs/nc47dz9t0nm2+0b1dPyb3p
4fVz7x5eYeoJy/KrCQIVGK7y7eZ+eovk7lir1Y4bSTgE3htV1pK23wBrCAhMZ56NGMF+PiSVSnak
b7r9ZljyzKx6JGsKMeOdS4OOO7CQlZ6DyNU6yksO4CA2bKy6G7k8UFja0SN9FHpYnyhdBsuVZHnl
/Kgd2BTnzYpf3yYCRHYwKEowJphHIZkaa8+gkexoB2y3WShIp7rCpzSPAwleqcZFv3W+idn1GUih
ZHu61U645Gw4EyZoo9BJQisDlCEqjigKQSL+Ft9x7LFdH347lNOcQa+LlMVyuiuv3+WvrJHrxIkl
K2CYps81XXdEJXGE91hPVvbuA+ziTBRzMrRXR7zinPvZxtBQjYoaBLBYhH9a1TuiLlqwYqPHNBdj
D0MPD0QjIw6XoUrVlKXM/kezotW+T8QQK5P1vWsY5c/PmesA8aip5krURz5L97yTz8kTEAGyKqXP
H0zeIQiHfnLBJGjCaiJTa/Om+NUnXtpp3/JzEm7Xwni77/Kfeql+n6dDp+epasA6vrc4U7ve6yPR
2Oz+HB+Pb6Pg/X9+31ORbtn2t/2ueQTEzI5VnC3DYt8ZsDpGugevJCvtcM84oMIc3J9EpQWX3yOo
dzwAiZqE6BGVB2dDfk2qBNVgQxe2pKyxWJ0ah3ghUd1THEjHz0gPBBGs85e1p05xLIhn8ipmCG1T
0CHmDc0RAsnetU2uWdUABhVkairEOUoxWIAmdRy4ZT/0N9KpWT2ugher81+/8/2Ojf7vio3uj0+7
vbXl5/n3C9byfb58HaFWsCKqel4piE8vQVwK/nrdPveH8+1+/Pm7lHB5O71vzx1T/3BoprWp5Ln5
rSaDoK/lDBNtTYQdDd3ol2oZR1WdApasDDO1EGZOPmY6A8yCLjrwr8GTOv+ny0y4eX8PRJzjh67H
DbfQisTYwvxo4I+9/xd65ZpE8A4rClFkpOzqoVz8T7AZw/+HMH/2fc3d3nbqNva53g26PB7zCc6W
o+DHjnjBF6yqT1VgoBC0AKdTHsfS0R/AqjDV7pPrillMcMkklgLiDJYJc3djVNUMBVT6C23uvov3
eenPAStuvzLax5FjopPKD46UFnXd1IE5xRRHDnnle2uYAlOnXjOGfuaMIMLMwMv6XzcIecitU6Oa
S1QInTvRzNmVopYwOyaoVYRbzM2E8IEa2MIJhTqQSVstmk6lg4Doz4iyeK2ysBCxStvNFjWVfQDg
cjUJICpI8DcS07VMjN7z/X0vNpc9/f74z+YFTI3a+r08P1+DhXrKjO30O50pX1kFzhcV1sHceqM1
hC/pIJ2VL6MzMIYnygwZJYCRZBXFdVidxUQ7mrkwidNP1HQpvm7MnArCOu+a/mlbcOUGzMvIN0Xe
XbXYMpNaKfkuy43hAfI9j9RmVeEPlAficyrvAVR/7smedr6kKB2cH7G1lKzPzvq2PwtLQhJj5ld8
ui7WbeRhX19LwsfgSqfUn9c/ZTopPlAaj5dfPYEcFOE2Rc06bv1DBHO/72sWa6qyCez+7/4tATZy
UkD/5+3Dvh/PSwOSzt86odn852G5Nn4/LUl7Kj7djWMTG7G1M8jbEJfnd9wHJoiC9ob7x4Upcult
RvnLlxiOLLpcDdzjNBYpSL9fg0yUJUBwWbYJYITdzV6jDl9nFMZWSm2X6LMf6wCnaS0gIHRO65ui
Se8FeT+CRNNbM6oFsIWDE5R7N6N6CLC4bs5yXztDGFEiZ0kRz12MFtDhcsVx35A67znCXgA40TZA
prfxB5CeQ7kq/vvXoS+VX6LZffWQcSNIye+TzIyVANc8xBCB09PMkG9JMuiJjvmEgld5zAlU2REq
2IMnAehrbMnCBvhaRqSRa//MuK8IWRk81FGaiN3Pbc3fc4CbMBcyU8vrhxG/H9yZdEiilVE8zFLg
VU0uU5l4fQSqfTy/uoNKnYaZSC9xUQJ0HOrtvrYxKdRVU4ru627GcCY4CtEavCUHYEahJYo+Huim
e7j2q2EVkBB0+aSISckcTUex0KUxVdmKYNX3itPIjqoYkJbdnoeec6o9WoFP+LEn7WpbahSp/TPm
rRQ2BCPISB9Ty6qooLk2TD4C6dTww4mKGro0il5uurugT9u1OCjx3kmrqJdyPjBds2a8SxLr/I5O
fhfe73e73e6necbbeVc/OffdoNHUxYoEe1BK0zkdSmHf1HpgUsZe5bK4o+dN0ydagIZnx06sevPP
dIcvMDKyL0GxsZpZrlnfvLu446QRwtkJPbxzXg1srxV3ARek3ECa1SHacararYHIWLof/LWE+r8l
oN3f6Ho29/p+nz+Gmfa7oFNedz1fj9n75X4MF1v27EqKfJGC5m7XgsvbDM6r2CRrvB+RB/AJdyEN
hcpg3dV1O2L3Mqljg/6LcLSv1+kYaGe7SaparE81BaQPA0/uz65c8/P+B9cbtfidXUpv/mJaI+ED
3NWuAJ/C1YR8tshMvtj/D3R8B+sYJ5o1rl5RY9R59nBtbyxTcry6WxzqhzekTmoX4CqYI25iaRhS
J2e4IMI0XEJOlE+S5eoB1helWE9Xu2YV2614tIw3zLrTGnIAuRBKJgZlpDLoU3udkkbs3lrCCnF0
kMoS1FKckeRaMSPiMuDo8B7GApeHWBsKOAnFqFyuEtzbcXhDa9DyEyJtkYVmJjB1bLZfYL8uMPOA
2gsHD1gcSztTOrOvTxgwEtqc19zYGcBJmWh6QiHVjFhjZbeAPEhMQEpF4jm0HZOCarapOE5mt5jd
0l+AY5Zov7YzHGqS6PYYmmkJi11Hw/DGSEav3IKbcPjRztfL1y3fl6lwk5JwsFBO7NdyU+wLPLTq
Nq1irlQd9YPO19SIoj15JW/5sf2xmzq9ERCMTQaOXEg7+r2xEM3U/biSGigPR4foGSEFovfFmBl7
KN+fpzgeNbhKFfYIQmxaUYWGBWqDPbvuilc3sDCuit2QW/CiYlryfYbkjufB3ptCun501WWumiIW
rIrL+m5Y1XbZd5WEol7/hFhHdBMdsXXHrJWFgTyRjzDFT8eiJ9wWS8xeacR3ZE52DXxLnfTFd+rM
mU1C/DIFr1s4Sbxu1WR+ejnYQpw/c1bTluJ6MifsqUHVE07g2ncLmtJcipLN8eLJWszrM+PLHL2N
HBfvaQQjPR52oLCVdw9fjAAeo48sii1nyTKyzBBQEDPHulBBWwIkyg4Fy9p29rE4hWatirc16b4g
t4hlnDC4NkbU5a7nw2gSM5rGZgU9bO2voYnjnxEErm9TzdEu4Iw/fvxy8Zwfdy0hg0MMj/KyMTlo
R469VwYJ2lPJWuP0x+ZexW/uaZVKEN9Pv/i3UiwZL1LIS2AqBMNglv+K2NqF7FVrhV5CUQswo0mT
sx+5JNniGSIOxwBOyORebTTxh6CJIOzvbhonV+FzXQewJia/4HY5cuVDrHSJQwDj8pGSZyaF2Eom
nr+yfNXsV+CrcC39NOa7CWCVbrsyslkVYoRFQWWwbDIYeY8kOM4lpQq9lzMVTi2YWscxzbEW0sXg
Eqn3q5QKrELh8jRUa3o4M6ExSXFnFVCwCSBywCmAuEbGapS6joIHEckQLplMbJWS6J26kOINL60y
CMmkNYmcaNWw6hVpNjkFahIc8Z023Hl8g4oGJ6o4Es9yXVWIrK8sAQ8vKsEhQjk7Cflh3qdzKyVY
rCm14yXwri3m6sIxHnBa1195kiwi8CZHkUUcuHOon8Ify3ARmFJ8Hhql4ffNHvrbaifYtj9xzztz
XuyPxV17SmPs/HazU+Pc8YdSf01r09P2bniCyQvrE6O326VlYJVfXao8/X7HR/ajq+XqEN3O1ueD
S13f57ifH7Ou9KIl8PCL/hgMDW9C0NuImFgOPFq3FH0ACISaoXzsYFAVnzLJLbRIAC9IkSHyt2Lq
atTlii9ey5St+1hoU+SJe/OOnHv2bvM9vBv+byBIO/E4YYWFQC9CsEchxw+CORkCXterDq3oYGHV
ja68v6Iol78vYoMbS5VWB3PkCXtDXVxRPl6Xu6Cft5HGEnG0vjWQdNbV0O/rDfC+2BTnnb+ElBPE
8wciGZylDdRg81tC9jx22mh3RyLF09HvFwIdxBD/Ra0DeiJowuQqLdiL5wGknNwOUyN1cv4y7UQM
FLNOzAdYZsJdnngyymF8SKIB1RBntYmmK3xYuoix5ozbL1Y3kCNsmVv3plE9fM7s3SEl1QQlQja6
He7x4sjoZ8/TSTlyg0zXT6A1ePfW6oEUSYSrMXhT06kcqOI6nfkmH8AUIh7iYMjxLVLUOnxggjqQ
BtKs9CMl0GmDnquiHuMWJ2NEwyWKI//HrnGEMQZTvu6AWV66qZyxmaXP6RlrwDq7Xh6uEGysal8t
eqe3FUVBViFHoQ5KWZgxe5a5Lhqi2wnA6XTy5qaWZ8d5KpZJnUEFEneM9Ov1WheCAehBJsERBZas
yU70A6k8nB7Eg7ZTzf7XnmWJA09AwGIhqC50st5ansZRqVdeJvNnzYy9eU2teqK9OrFuclLTfoOe
7lVdYBHqM3NOogE0IrMtZFTlecoKVxZtpNnNyuX8VYwZSo6q1FNM5Q7o5CQojRAsGYDuiQcX2qz8
L/wLaxayUWWLWxs+Dgk3bkotYTEJKHUxtJzDcR1FNaKQ+8f4rPF7eEcyI4WBnUAnIu1gRCWorjlk
fIKQfIT2Ex1ivDiuCNf+SUlYXjDk11P6CxoKzopLUDpOPdYz4CkJolv8COILq9KkNWExs16VXysN
YU9tZ6NG7uocEcQUURWF9AGLJqf3UVKtllCQsFqZte0mkLFJnYEognYxNkyckMPj7egctBDIX1Hb
BND80i6gbxA/mnc1CTX+bBsg5/n48//eD/nz/mn983/Ox2u14u76y97w+nh+kAdTwCXFrt/2bq5j
6/UB0fHgL834//Nzd9XKb5eH/lr/LwbnTDYc8WXjw8T1F6TjtfpKwjgZXq2c8kRNkUqtnPJQ5exE
QBDSOpyS/WVeU5M+UY3JLmVO7s9RiBowcNnD3fN1xOKQA2F3NBgCAQI2nBNrEGJevzudyMKJFt2N
PfMKaNO7hliBSZkgxxUXz4JYXEFC//SxIS4A8GoToNsguz1ieFZcBQiSgi0RlPT062HFugKueekk
sIH9ahMc2b1vxPFRMa9acMpMPpWCnSX3DPGRhCrG2JL8HRCZLn1JwZTcwuU0WhVbahMWeTlxyYd+
SxDqerzO2cBGPnheFkdysinDtTTDOKi2J9n7a8hBhrg7ze+m55N6ZRpHCvDY+ykVI9n/dMhl18TU
FgEMb2ligsiMaatYTiPsY8qGLlIZ4+19zO5EqEcivGEu5NjC8MXRP1/G0W052wX1L7elOPkRVT+A
IFCRi6dnxtEZK5qRHYYmFYRPYrtEyyxjh+sCDK8WplmLw4DJ+7bgJhqlct728oSxCiIJ+0EvWlq4
EtlBu/5ou7515oPbp5/b3ef7/zP6eDo08fx+/Xpn+f37359nZVj9MdQb3DrleNUkrmcPJFbmF115
QCMRpkrNQxY23FPl1nOp6pWEtS1ZzbYmTHsW3kI8MxeOgiRpx+Bf372uJLIV3+jxOafa/rRQWUqe
118qBz0lcLA61UqsvObUDcBOTTbYvlev0wsM0RIZ3zt0UXSRaAlljSFPPd4/Aaw1QSO5K2Th9lOz
Q1gsOuZ8e93HoSzCLDkGzmi5p5jSfJpRRNQnant+IunQpOJXQ4u/cNUMhKWoapRk5m93pdQdqNnD
ZU0HkDZXTaJpBWFdhIIg1jBzClNWQkhyr8JZH/5TFHeIsjtk+En7T3e65NAJRJLYgbSbb+LPtOmX
7WUAzbhyq12UkhGoow/s55OfouoZWUQUlE+QRhLEESJkU/OCDa7AjqIHb4vA7k78Uql5EspnNYE4
lxunYylBk7mOFZQYISrDuAp7sxYG1c83YyBTkxPMAF3GO9jRHcCKtNJ/X08DAoMn2VjgQ1FYIoZ6
EHmYov6okZ2uIbZgZAdKSjxCtRPlJs1d6KsIhG2tSjV3cqUKlCRJbhMIxAO/1KYzRyZjcWzGvszD
1XAfqZ59npEmDC2TOkD7s5Wj6AcSTkBW6tsTnkVDbI15OxEOqk982+56dR7zidVuNWdcnrCUpcW4
wXy0OLV5kuqz1f9J9anWLTf9pbOZoOawnnw9YsgJAksBSWdhd4HqMS75iNLKOeVGTfNgqYCURTYi
HYprGgDlEfFss4nxLZUWsamgLnW0r2t9TaP6PGmMUhfnAh4dWVRhpAnc6kSusPyFipV6sjy3+Dlc
PlUT3RneeGEvgDS/fDuvV5FUVS2Ug5bCFlthPa8mL5HU31XCvl8Ka9IvPOnhArG6I4etTMVZ042S
FokkgCUSUPc6kZTMPTxVTv2r0dea3g0rTibQKQfdhaHmRNRrBgKddu8BBQ+Kqlx/YQiQRVOzw8zx
qJ6kiqqAtKeBCCvPoErNsdFqdJdGx1hEIqFHJ2MnMeRB5DJe7KJYnXmNlzPePffLa6nurTLyWA4Y
tGiNRwQa6PhmTLgsvLqQ4jEx2FbGWeK6cfN6cVFVSzVtxAKp6nZn7lwxJdnFrFqMys1AsSGMncW8
YMwT5n5Ic/DF92fn62qG8gulDP0A54gKzknNUR2DM2p5QMQ1ttoqqzaNN5EVH+fnRLXnOjBnaXSd
PRsm6KNn6BzU+a/NW9rbeHyoajFJKUvMRBIEcs6HAmw45oZsJ8mLNzXV2J2QMIZ7247KemBj18gh
phFJ6ERJGMihKmRCH5LlbEBv6jLbQSnTBgrYrNmiAUxs0CM6o8jXUw1Nd4aw7s2uZCjrt6xgi1pq
oE9id2EgBeIP54lnOlTYHVAN0SKrRsViSEWeI9jceTUYzm/0MByQXuqf2bHj4yc5idcYDk6xOHm2
Tw0SfBLHYqpGzhk6I5l1d8vJTuiomdbiWCHfVwE7Hi9JTKWyU0XshymASirpZELrCXIGR7d04AwO
AAOwz09Ugx0W2chnjmSSpnNJVjQO8MYhfHMjyKQasL2SAlUuWI1F+WtF9AR1VFy407o+NFJQaNuX
a9eaZsJ4exjkLqjGUmQZ5sE5mwUYa/Jsmq2kwUVNRmuaVGAF4h2QapFKek/neaFmlesbwjrfYZm1
0hiZ0xTDtAvWHVrx7YKuwveUZO2rtRvOx2rYdD8peDNXMOTeISDYW/UE14HQ2FvrwW/S8dWA8c9v
iZVtDzJ6QkQzehnMYgR9jwVWQHf9Hu7wGQwoxCvc0nLa0F+vtnehfa+9//Lk2QFkrGDLti35hNSD
IypbmuDahD1SCRj1NQmIaPKZlNxK0cFlfVoWwNRYcn147+xN3aecsJMLA3dEDeIJNcKrcUZQ6grg
sMlyEuDx81kJaCWLR5f0n/NYOCHwGrEzKNk1ExwllnTWFq0Ld3gIFXkAMpgrnZu0iN8O9IFovwlk
Z9YNr+Oi9Ar5xNphQPMS/L0jw/E3XCltPYGOtxgebK1nBd7GsqTSGXs/C291JS7iaQg28d0MU+1R
HM0RkS8BBV6AvKLYuZmjuon7S2CUPXWvCphM9wJgRvBRnKfCmCGZMwdVGCyjXXxQ1ud85gl54+iG
EccCdiNxxpVYXLUnLNzV4yE2kejoFKf8XgvyvGCtrn6XxDL3Z2YOf0GaibIWM6D4nw798P3U/Zz+
3TR4+xwp/nsezv+H7aZchnR9vX6ne6Xp5/awXmb3rAHkF3/r3Py8qO93/X5etyP73Dz+p3CdXo+f
7N75kivO96P24f08e32/Z0vL1Sdj+OS78/R1Cp83YJ4a9ClV4/y8fj/Xg6f87ZOCfkW4ep/NH9v8
/8RvoqCjQwdBEPitpxGQA4O/EMwgsZ+t8xC38igXfL/HzQnuI++d3+e48WHfu1Cby1MGIT/JNaf/
qjFXtgSiLxJssibqr0yLa2qJVrKpihJbz5Idi41xJo5ei8Y2iencAzFKVkKEqXykYSlRYlylP07y
ZfZwS5jmB2fe8Ma5dyn03CLC+8CiAIbfL5pdmTRI4RYaQ9iUHwLPglNE++spJWztvtDAktYjo/bT
to2l4kH0BRiV3XL3ke0cpTFbWBefF9duYOdGQbr+3rrt0Sw2CxbTAQiIrmgS18Xe2S+RXxU1mMKH
JofxQX5W8PbZHfZETY9f/8yiAqDtQqLrxc0I8v2hBFUGyPRVWSaIT2Xfr0ebk/UJUpXP4duiS2v1
6O8ANhn2N7mEvXSIu52yqOupi7WNoTJqzYJuYxNSrdg3ICqciamHYUkdIB0wF+IeeCTBbeRqdqL4
cXJiCXv57+SoxtmxUlpEEpjZyaAvGkiZtmxVFpE6wuVXcpuiGdGsIzRPEs2z+IbF4jKwj2jSRmMq
HxlHmu7twuQfWteiEdfTjkZCSfEfp+t0HLJ7ytBCgopJbietlVSDIBDIJdiegjD0looJf/MJw7+h
bvhcWe0QBT5U1LksFk077f+Z+Cbsq3f09pSJRJf07U4YUSKStnkcVXXd+ho0p31ilgLArcDj6Q9E
jI4J3N8QKxPn1tNCVavUvpWAujYEgJTUcOGOmbf17i9OARxmxOzCsAr1+YBG13A3rRUynBZwyahR
AG/z8F8wmeR1Dhl3PaQlg43nLl6hKhqAiwnOy08nanQyOjiYtgSp2fMOjvMjAnElRxGZiBRUENJq
4pLYF4ja+wwxPo4hv+1Hyl+R8usnXdE/iB6kQmopa8uYlZPwaeZks2GKW41O+WkTsTjZKKWVs73k
mTtyII54cgiqGYNfFNgX2H0GcJlnO0CKahMIUlnNbyPO6KGyM9fVVlEwVTuHGRWFrDQsJhe51276
u3AivlD3SwD8Kz/1DYRfzwVh12DRwOaGF1blsAdYZWWxnKx4M+MTwP/O7iiDwVhu2xV2kbWRmpxJ
RDWRQz0HCSFuOCACVIlLIpAnBs+iuKYjSD1IBH2IST7Q0iDTzYJhqght/GNfX9DlTmYZqwAXwdcU
Ff5vzZyw1f+i2ilAdQeeuPK0NhF4WB52WAxF+hiPXD5N05VZBfAOZ8vkks8645N2b/8rE+RWW4Yc
sY0fujt4VExBz2++iHiuepgdzDPQILCkybfmr6TrsINkKVcBEk4U7MG9xBt0Na6h7OtHHi0vzUuT
+BuW3c6xdo0OBY82Osymkdp0/lB/OQTnZWSS1VCUq2gla5OqzMc+y9L4QM+hDAqkU7Zfi8KIDUsK
ZZqhCIfj6yFlSienbboVUYcA4nQoCDBLBWHIW3a8Tu20eQZwaa726k9+WubI9ApU+cxKJL5sX6c2
FZcamqChmoEPdtiuvF+pRCFwoYVFHq7u6NHbuY7dfRd0M4v1KLVYSoCNXiBztrZaDZggOkGOtqml
xu+W3HV1fW36UuuajI+X0ZctFpEp2b5hU0idYnrA6zoxAMeUIQlHbn2udybJBkwr2ve21Mjc/vbm
1ttRWkJHPCIef7TcSU+Qf3IXpzLDjE6t8KJRsM/cifsgAraw4KpT6djKkR+6dS/KIeeJbUhaGeUt
E88uWcdI1zI4WWukIrPJcXdpEzC7cp/qSD9zvS7dNHj6fn9Pp8HqPTP8+v6/d+H3b/R8PSlVWof+
m8OCt/zDgdV4L/uQ0zf4bJYshf5020QkaFDy5qTDP32G0vCessbmv1JkgE6URoUeCF+/JPju0Ltb
kXhilLMa7CfG+482vBGJ4kc/oaT0BcaplQRUsZ2NCehOmiRKM6gG8pJrbtDU3E2IYnrCKRbO/HIi
myGkdG5hkQVd4pGIGchI/XBV2zqsgs82bLyItcVwFhxVTz0uFa7vSkPz0zbk1OqO+41jy8kWCFci
HhpSGZmuTWOwjlxZjssSdS8J+jt7I1A5YpAYoZwYUgw++bMy0nBKAOei0rQ4ncWAFG3JVTBBLOl4
fky99nwNGXVvch3UyE0iKC0wNAkwHU8grHdpnRPTJKQrhCCPkEZi+NKWyKssnHzNNEPEh658+m6X
J494D4yZCM/cBaQV6+M+I4y+7ufh6478bEcufuAdIPCfWSJz90BqQeG+MlrPn7gRS1zUn9LBnz41
bEgcB4P4z42fh+0g8L8c+YmfohDSDwHxw6theAVh9X9M91lmlwHaJWbzYxSDX5zDk3zUg73+7/Hf
/bh9fVpn+XY2/d3Ps9H2fflyyS3e7gaYPsCIoXlhge6NCznKkcGKuo/yIeufoIVJQ/agDj3bwOfu
BGPyds4y8H+fuAefo47rTwHv82bZ+HviT0HoP8i4C4KOKT5+4BUgr7OXOfnn4W6v2fpglkHgRhpy
+mz9wGjXIfoIHqVI8aNQh8yKyhfZXjpakwEQrULDYv7K6mXzvr6mzgbDYQHCaSGWICzEmif+/WIw
3IQ1Xnwh77FiLfM1glht4rkmCChuN6pKLG65POq1FCSW3ZTNipUhMdS9gRYYz0YehjTr7D1q2GFI
g+RBKNBGeDO1WLCyqjFUoC0Y+o7oZLixqIbzAnIHJkWvVp8qUn2BqvyJquBTKGRlBMTJGhvqg+LW
Ez9mg+odbXpFUDYr0CUhZzg4BO1ZZamjsH5CBAahVNREVAqLeVggrrbFf7R3jYK52twoYlWBnrxY
oW5PKB29WdAN8VMJrlu6/UWWLMqSzwE82hAGVcl3r0L8363PBQ/4bv+FZk7bjmZqKKAsC4v3uapP
hya8PqB9484SH54aU9tfJt8Ztf5FNMAQgaicJV/CVa/Lucp/MrgQeWWKmJVWYgs5HrnVupWDGRGf
MvLcJI3SxdzK5v/jsFBPUQqrU5OD/1ImaiIgZYwgjZsUme5Rla9POsS4juak2Pc1EhfWbfjIkUHa
5RWBWu+JT87Rp8HAGCc4xNi8Mwxpn/D/GdKzPFM5Gwnn+Kz4M1yRyvpmOiGWFEXxQcj+aJfT4poA
ffjuKfy2d8jR/r7+iv88/9YTggiloCcJ5r21pu6D+nNlQkAhqP6fymlovuM0WqGAQ8kZapuC34HC
PvTo7mAc5KvawPIap1pT8nycL/Ge0uXlYTWrICTqkUP54t8IW7PKsoJWN4RNL7KZi2c4+Y3Qwk47
1hfAysxnagCGMCyladqr9ceTUkxsFd6F3tR8yLVvhtJBLaCJHsi8VuP5vhXSdgzR0sNQs2xP24PY
C52CznOvt80f0rmGVZ5DX9a4ht+u2H67uMdwCYkIlyE7+572v/1bszDFvczpAaWS+K+BBdDg0otN
FOslPp3GtqjsHDgEqdOs/tLSGA5LNVEYflqKTHME9Gv3Ki7ihokT9k+7Lw2PnUa7Alw1R11vtGR5
F1vV0ZdAIj4FNtgo6iyWtG82AnPUsLSFLkq1sfWIYR+pPrbdfcq0f9iVfqyVlKwvwzYrQVjItzFk
Hc5AVhCJHYGmCdvZslwYaVgtlnYdElr3u8gTSDd+o7hgn8hZZ2Ipz7XW7siGlJ7d9chA+sIhDjkd
xklN6GoNP7aVXDtNho4oeVFA1jslpI97yrDAQa8mfd0KT/b+JM7VO94lGaCSpg1eC6+UcwHiDVIw
wihLbapblGW6jI1aoYqRuMzIcfSjtAhXF1whN31oJxHIgVnKwTZjMrZ6bhNXX2isb+HSh0LacDMj
7Pfl7eui0i4784deRb9G6xmiGInM6XDI/PRGF8LZcAqCEOqaRQq184a3OqVTNrMNQIHxdeVR+qtO
8WHuG/GlRqYl95tTFVvJm+NtvTgrgesSSC7PJROHciVhXTUQUqMrbv5MU+U7FXF/CV0/EaRSujIE
tHMj6hjle7bu4kPdbSvqsUZz4z9O7ABQWIUz/8k/sFShmz8IBvbX9whv99PaCE07n+9KW75g4+f7
4fPy8bvq/3RpIV9W16fr5hFtgyW7v153Njw8H1h+u/rvbRP14dr6v3+v28GP/QJpXIOQOcVtc9zY
ZjEBqHn27cfNLcTysfPcJF9vD8foMqb/a/frdfu+s9U+72FdTq9fqd/2fZ9hd6pu8H29t6hJWKnf
8g4biHvSwEMNBQVaqP9ETv8HH9FSA69PM2CKHQPJLW5a2fc+36rp3Yk+CjLLE4ZTYVuFsn7AWhGZ
k6iZdt7y9VsWZba6Mz7kK8Mu4x4I+9NM5dVavxDiuJo1SzaLWGZU54ShVrjr4VCDSi7wBZVijEsA
zd5MW+as/ZBEbTDHiM7QYm5LeW4tGs16KGMy0ruRzYkND5cyFunwzzNZwhDOXiJDiGKxDVtsGuw0
SIrNTnHro/2rGBoN9Zbc/MdhkoNuVdgoMrxZVPFDxFCklYW/pBkutR7ziDE9JQugtIdlMHdw3zkq
gakQYD6OjUIWbLj/wxlmBO7IsJztFLMuhHAOfeXA936GEGSqG9r4XXBIpyceDpqssWkB0bc33kcQ
wq6j+n44y7utFPA7XiWrbIdz2UVI0VIrZYkOewVSqS8y05Nge8VQaiVNHvfwdYssT/j1CcBLL13g
VEMwusW4ngE2vdtuYBIXnTVZdSdfrclrBRFpK7/MtCxRsRM2/GjDbZJRk8c92RcVDUIBI/Cmoycn
mDNZfsYO8jN3dL9T2nCrLwKQirJi5MqucpxDR6D7fP8O7u/TZa98t7VYHE38vz532chX3djtc/7O
l9gNLbHW6GB4Z2nTFWbxg6BfUVmpaAkag2KHCCNBWeloMpU95tIHqP6bKKWgLBUc/Pjeh20FnRn5
8apAz0tATpifP3TO1shGylaUM/Q+qn9uKubXGssaqx1XCpIjE2D7J4dLRfQrN4uc+tzS8kzRh/9O
lBDZ+gslICM8s19t1DzjwzeZSCtcNMcUC6NGRDOmhhO/E1zsTErAlf3k7B7663ycA75d8e/+/r9H
M6XsrJS06X29bt9fqd/s9zoT4LOdMVg19VVHS3zeibxdHn7RP47HQ9Hp3dr7d7e+3ybv6fxwcLrL
903+4JgT338Hz8kNxcFJyE8zufj0f9djs/6oD9c6Pa/VbhqblE5TFAhBvbuWl0lN/r403PcRPVuW
zTRztZH3FEEcBSkGgEbjQBc0vBOAMYC+tt/y86toMPNIzZ6h8GiV8BQh1Dmon4C6vfMrCkwAoRD7
Pjc1NY/5BY0FZZ0QwkfDRIwcSNiyTf108EQRwom5pTcK5fcuNPB2KCizLcunWZLELQ1oAHBKdkNq
+NaYkYN+/zAtCdWKBxTYFRA3SVNb+OPEvyevsOpQcPmDJC54porUYlUtw9Vr3pYnXdHDYJTlwqhI
a0fEtf7UqCZ/FJjUEp83lfiiQ7mLEdvyH2vTTz3ur7O5TLb6X2/26IsUR7jaIQR3IGYk2rLLzfMO
jqaiLoC/AvikNUlBmwTJ2Rh4z9zfVXN+sAmEe8D+ym45IkFgIdzlUtCDFXUf5EPXPpRAUocA8+fe
bfy13zn0vSd+HuakBCFS9pz8P2kFn0m9+ReBGfP2Omch8BcMVkUjiP6QWfPo9yyP0Hs+lZGyBwHz
59KY/L+AWdioGb9fUNffcHmVXRKD5nNWttLATjiZGRNvv2eZzKz6QOwI+4VUXkZajxBDma+Wdvjb
JMzAJGfnCIXoPUiLWn/Kk/ZoyurU9FgQqRl14mK2pfPQmUTZkYEWb6L749xBnt/9Cf3ecoIGrzp9
w/O8NE5tCKTtthqx/EZPlzYbY0DqrHYYfoAfv4lbs3q85MgART4JVf8xS/q6LqJZWIikid/bOLil
gIcwDL0ZVkJ56SlpQyOcRP2UKYRP1URRYJnd2xAQXZslQ5gKuPqraFgTCBwSsrBxhZAKZv8lm8Zr
AwUPPDBlbGpCB4IbRqcgfZ9GR2BpC0DBw6ebRNxWjljf1O/5Ip6VOu/PVpSM6CTIGyOe7WWT1LWR
GeWhsEdEgMs5TjxxGpEMGDVizQfE7SiaLps++k15Z1aJp+qQKdRWLaOqHLzgYNYSEOP9JmfRD7/e
qlcpmT79dxmDTr3lmSDKaxPEDJqGtX2y3oDkkH/2sp+nBGfo5lWNoQMrHBBrNXns1ZCyRjFgZCKc
qVhG5WGmAT2eRSRlr7JWVDZymeaO5NESIKdkQfE6QCx407UORBdbUt5JzxE12Ybu3eG2Gw2fPAdz
taI+CSkRgr1uijKJ2ry9U0ADvNoV+LSY16jDyWoQPctMjsVAdisA/Ryb0NnTzspJ+/3XM5WRbhiI
cbNNfvsBCd758cSrOJ0fi/9DMompJBsdq1XQqiRIlqASVZKcuaI+0ZT+Nq/Eq6UXDKXlEzNcaK1Y
TDQkzSgqoBJAWgSiPS9Jc8akU3Hz8XA/z8GHcv2Pg5UMUPbAzVy8sBALDUY0DJD1/IUAiEV8hr1o
dkM2SRYCx8XbD6o0T/k1eCSCGEckrH7hoRU0h2dbCevv9YZ4Yg4tROhW615KGzvHyktgmVGjU/MQ
7pbR3ArbhVVQqx6E28pZ4qKNNFgdg2QDsS6VMT6wiPFvGXMxvvy0b+RutYfQCDx3d2oohF+tD+y3
UftqLtYc44cZVrCQcMI9/Tt5YRKUSlRe9rYCersnTkU5X7UhRD4ANVDCBAJMVTNTuniE2G93cPlS
umpkDyt/QDN+mtCjmWZqNcQKn3Sp6yUJF11QMfQ5E0J+D67NX/ptRFCBx8q3qthVUJVLX7EFFRVv
wCygMWgnTwN8D+I/RY7jHKHq2rmKwTAhNYAH3RGGoKaKHtkw5SjL3PRgHdb2oTFiHH/HLfJy1/t0
WwUdzWoUCH7BMU13+wk/y/ZSWtLY5C4Y5tpeLSHdlC3DmlGUhD7JQhVW9kWalUU1z3q+9VEBzMps
ER8gN846tbzlklDVdWKY8+z1ThSife8HFZOoFR9oFFc0cQEgw0S0m6pYtHoyXKSh1hIibK1iNsO2
peC2g1pwHtfFhs2auXPgJ5fvqwHjVcmDYqIZ8qxeA2kUj9KiVbPfYA6gbKICgPAWInaoQ/wqvW8V
QK3Q9Ra7m0JImfTuDgBkvxZL3U74CRy/5U9v6Pp2IwI2FisdGGyD3RkEnejVm+xkbCX9vrkt33tZ
9Y3oGbqsIvuteLyazYglxNkOlCKpgJB6/YpcuSWcMvw6TXHmOVDIl+YM5TO2v1jhctdTPORtko1C
xz2roJG4VzifUDnp07i79ouMNBVuSWAi4oGmarwz/m+86gyL8uh2BJzU6/HsybAifF/2AWWXnS93
nkVFCfd9Ync+KCQzK8TPIvs5YaydX7/DOwTc+uaKmd547yLaxRJ3IirPzyhDXjVXGYe6v6REW350
HCombofeZwhgkz5ut06ECOwkvJMxjetNkf1ld2Qhyti+21e/8mr9SIJr7fWMuSgaOWRPNu5bNMKI
WOmO9HTVdm4OfE/ac0bB43XgDY9DYONeLPLnUmgiHyEztTxZ0Yzw6Kw8sWt/olx6rr03QbxB1PDV
hqNr1loF7uhiolmIWpyTJyVdvCrd1KCnIyG0yOW8xC7j/kLxxP667q+4htnLqg+NGkREm069kYBF
6cW2SiWvfOLFbCjTssn5mrCDD4N0mGdMiLditRqjuH4kEWU9tB9Xp2m5qUnaQGiCKjq11wSrXdR2
zFEFpVxah/tV0ooiZ3jB31miiR7hMO0MbePcl+4r1m9VPyZhAjdu8mAK2v05Y1HNPP/yvzbZOZyl
e9uNPMrW5FfPwfx7w9fq5XPN7021r8YAfTlY/fa/b0ej4JHdrPznV9PXK/eFA1jwJNsBmE6Wkjom
MJqcTFvzT10zxT2VZy2Q5IwMqo6m3JwIqk3Kbf7PEher5dyGsiz/k8O5qUTdsXqFgnlaHyuXww70
l5p0HTiaQHhVva3uzzqhoelE5eh1XZPk2CeVsFJOBZmoQHJjPH/CmJzq/UeWajdYi/Kf2oTzWsca
EvfZoawVKPYE8H+bX33ZwEBy8XfBXTWtEJ1LXx+hlx5+xupSoa+iREuQ8JDEuEs1LThM9rlI+Ply
GO5rKMJn+JlTKvvm/+YkuEOLSDvpbBdAvgTowDfNT4fD4WCzwYx4noQkJEcBW4H5izsCXr/78roF
FGcz1eeu//vc/j++HQb/ub/g4AxxKL/ytv18Hl98eXy//OD0/XIiTLB65njppOArr8uPlmbWHUcU
kIjXz49dZmZUEBPiO2JTLPyB27k80RTLijuajTgExajsN40MpaL2xTQUVGNtH8cm2PygS6AtbecD
kgS1EmQ+L7/aPi9kW9hdyuI1LjirYT+RXAHxbJG9tYPuI7zqvjHPxVUXP7Xj3NCqdLWN4xYhbDLF
K03QXmhP4ek/2R2GLDaPyuen1LNRvV++O7b8F9kidI1GFSg4j3CwnRjHxi09Hp4aafH2y8HX3vb5
/DTP7dr3d79Nvo+j20rgAL6qqOn1vy9n89D8vRwUdfyc/uz9HtUeP2J7fe6HB0fzpzzuYqg4aFVs
ZaOBeJipOvyxIbssU8QR+WSzQngQ91NsRTGNUoe+RdKN0g2PrlcFC7lGsT1uqpAuk7ePZ3FY2nup
CnT6q1tZNJ2oZDzBo5Guyglv1rz7lCs1WJh+0CS+Ze3fzvAmc+arWqm1q08dtyOKqA30jNx6evUU
Z1xIV3973A20XXzwzoC2JS7GnBI9PMGr5OyN5ES7oudABRGTU383wRNhI3aSRkIseArf5XY0Skkf
TmCV+f5fU2TYCV/MD7QRpmyRFA4xxjDYEMx6+Y1GqWq/A99ILEYni6RYmUUzmTTmdXcVFJE99nEq
Zh1Pb5nigrUT8HhGZlVh/mcVCgPh+/nvqS3uzuEj2/Z+//LEPXsAQAcA

------=_NextPart_000_0022_01D0F44F.BE0E5B30--


From dev-return-83836-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 21 08:40:06 2015
Return-Path: <dev-return-83836-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 88AD5178A6
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Sep 2015 08:40:06 +0000 (UTC)
Received: (qmail 22357 invoked by uid 500); 21 Sep 2015 08:40:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 22268 invoked by uid 500); 21 Sep 2015 08:40:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 22257 invoked by uid 99); 21 Sep 2015 08:40:03 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Sep 2015 08:40:03 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A8675F4CB6
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 08:40:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 1A4tjjTE2ie2 for <dev@httpd.apache.org>;
	Mon, 21 Sep 2015 08:39:55 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 17010204D2
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 08:39:54 +0000 (UTC)
Received: from delight.fritz.box (unknown [84.189.92.140])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 2FA9A15A0537
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 10:39:46 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: 2.4.17-protocols-http2 :: Forcing termination of child process
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <55fe75ac.b94.1ec8.3c74@land10.nl>
Date: Mon, 21 Sep 2015 10:39:45 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <F1ADE7C8-873E-42BB-A712-D4599B51A68E@greenbytes.de>
References: <55fe75ac.b94.1ec8.3c74@land10.nl>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

Thanks for the heads up. The shutdown behaviour is most likely =
influenced by how many connections are open at that time and http2 =
connection are kept open longer by clients. Probably we can improve the =
observed behaviour. There has not been much focus on that part of the =
protocol handling...

If you could open a ticket and include a server-status response just =
before and maybe during? Thanks!

//Stefan

> Am 20.09.2015 um 11:00 schrieb Steffen <info@apachelounge.com>:
>=20
>=20
> With mod_h2, noticed that shutting down takes quite long time ~30 sec,
>=20
>=20
> [Sun Sep 20 10:20:12.724460 2015] [mpm_winnt:notice] [pid 5860:tid =
396] AH00422: Parent: Received shutdown signal -- Shutting down the =
server.
> [Sun Sep 20 10:20:42.726181 2015] [mpm_winnt:notice] [pid 5860:tid =
396] AH00431: Parent: Forcing termination of child process 5988
>=20
> without mod_h2 it takes ~2 sec:
>=20
>=20
> [Sun Sep 20 10:31:07.421791 2015] [mpm_winnt:notice] [pid 8244:tid =
392] AH00422: Parent: Received shutdown signal -- Shutting down the =
server.
> [Sun Sep 20 10:31:09.438615 2015] [mpm_winnt:notice] [pid 8796:tid =
308] AH00364: Child: All worker threads have exited.
> [Sun Sep 20 10:31:09.454280 2015] [mpm_winnt:notice] [pid 8244:tid =
392] AH00430: Parent: Child process 8796 exited successfully.
>=20
> Steffen
>=20
>=20

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83837-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 21 08:54:02 2015
Return-Path: <dev-return-83837-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 65445178F4
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Sep 2015 08:54:02 +0000 (UTC)
Received: (qmail 51236 invoked by uid 500); 21 Sep 2015 08:53:57 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51149 invoked by uid 500); 21 Sep 2015 08:53:57 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51138 invoked by uid 99); 21 Sep 2015 08:53:57 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Sep 2015 08:53:57 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 7BBFF180293
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 08:53:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id bW0oDG2TNoDd for <dev@httpd.apache.org>;
	Mon, 21 Sep 2015 08:53:55 +0000 (UTC)
Received: from mail-qg0-f51.google.com (mail-qg0-f51.google.com [209.85.192.51])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id B8F6E20604
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 08:53:54 +0000 (UTC)
Received: by qgt47 with SMTP id 47so83447236qgt.2
        for <dev@httpd.apache.org>; Mon, 21 Sep 2015 01:53:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=9HEHMMP02UqguqdD3uK4v8ryTsKzb1pgt0XaolAFlUY=;
        b=gzEBVsyGDii1aWPEWenxh7L3K439+nU+nrjJ2XmXJu1trRGwue0tqXQIxvg9QUGwgj
         nB8DH4SJTTVXMv+7BuB6hHV58y1JAD/3F57T+G2ObQbT5NguruuF9QR3/Yc1mPjE062I
         Dh7XcuWGmkB+Oygc6WOXNU3EbQC6B5waBBwvWwhQIdPQBqmDaTAp71kuXGbQDbgDVFU5
         fHb+leRfvPfSI1sJshteqfq9DFzMQ8YSM/9MR5jGV95FQjUHMCCqOVGVg22yuSXh/2Yr
         dmYSQbXx6UVxaTghl/guKegUMK/k5+J6aSAR93qmXdRXL3H1JRvunR1+Kga0aEs+t6Mz
         iGUg==
MIME-Version: 1.0
X-Received: by 10.140.237.212 with SMTP id i203mr22115686qhc.97.1442825627822;
 Mon, 21 Sep 2015 01:53:47 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Mon, 21 Sep 2015 01:53:47 -0700 (PDT)
In-Reply-To: <20150630152622.2A09CAC08DF@hades.apache.org>
References: <20150630152622.2A09CAC08DF@hades.apache.org>
Date: Mon, 21 Sep 2015 10:53:47 +0200
Message-ID: <CAKQ1sVOSKvEjnFLahMF3+zLCruPRV82xdxi_3aTm=vpaj=tm0w@mail.gmail.com>
Subject: Re: svn commit: r1688474 [4/21] - in /httpd/httpd/trunk/modules/http2:
 ./ m4/ mod-h2.xcodeproj/ mod-h2.xcodeproj/project.xcworkspace/
 mod-h2.xcodeproj/project.xcworkspace/xcshareddata/ mod-h2.xcodeproj/xcuserdata/
 mod-h2.xcodeproj/xcuserdata/sei.xcuserdata...
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Hi Stefan,

>
> Added: httpd/httpd/trunk/modules/http2/mod_h2/h2_conn_io.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/http2/mod_h2/h2_conn_io.c?rev=1688474&view=auto
> ==============================================================================
> --- httpd/httpd/trunk/modules/http2/mod_h2/h2_conn_io.c (added)
> +++ httpd/httpd/trunk/modules/http2/mod_h2/h2_conn_io.c Tue Jun 30 15:26:16 2015
> @@ -0,0 +1,285 @@
[]
> +
> +apr_status_t h2_conn_io_write(h2_conn_io *io,
> +                              const char *buf, size_t length)
> +{
> +    apr_status_t status = APR_SUCCESS;
> +    io->unflushed = 1;
> +
> +    if (io->buffer_output) {
[...]
> +    }
> +    else {
> +        status = apr_brigade_write(io->output, flush_out, io, buf, length);
> +        if (status == APR_SUCCESS
> +            || APR_STATUS_IS_ECONNABORTED(status)
> +            || APR_STATUS_IS_EPIPE(status)) {
> +            /* These are all fine and no reason for concern. Everything else
> +             * is interesting. */
> +            status = APR_SUCCESS;

Why ECONNABORTED and EPIPE are not errors here?

> +        }
> +        else {
> +            ap_log_cerror(APLOG_MARK, APLOG_DEBUG, status, io->connection,
> +                          "h2_conn_io: write error");
> +        }
> +    }
> +
> +    return status;
> +}
[...]
> +
> +apr_status_t h2_conn_io_flush(h2_conn_io *io)
> +{
> +    if (io->unflushed) {
[...]
> +
> +        /* Send it out through installed filters (TLS) to the client */
> +        apr_status_t status = flush_out(io->output, io);
> +
> +        if (status == APR_SUCCESS
> +            || APR_STATUS_IS_ECONNABORTED(status)
> +            || APR_STATUS_IS_EPIPE(status)) {
> +            /* These are all fine and no reason for concern. Everything else
> +             * is interesting. */
> +            io->unflushed = 0;

Likewise?

> +        }
> +        else {
> +            ap_log_cerror(APLOG_MARK, APLOG_DEBUG, status, io->connection,
> +                          "h2_conn_io: flush error");
> +        }
> +
> +        return status;
> +    }
> +    return APR_SUCCESS;
> +}


It also seems that h2_session sometimes (ab)uses APR_TIMEUP as EAGAIN,
the former is generally a reason to stop processing though. Why not
use APR_EGAIN for those cases?


Regards,
Yann.

From dev-return-83838-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 21 09:05:44 2015
Return-Path: <dev-return-83838-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B957C17930
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Sep 2015 09:05:44 +0000 (UTC)
Received: (qmail 65650 invoked by uid 500); 21 Sep 2015 09:05:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65571 invoked by uid 500); 21 Sep 2015 09:05:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65561 invoked by uid 99); 21 Sep 2015 09:05:41 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Sep 2015 09:05:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C539A1A2861
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 09:05:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, SPF_HELO_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id vjahD-g3EanH for <dev@httpd.apache.org>;
	Mon, 21 Sep 2015 09:05:27 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id E7CD142B78
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 09:05:26 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1442826378;
	bh=1GpM3IPvfyoWV94PhNGPEtjwZxM5cPB7Sfuwn6zsnhc=;
	h=From:To:References:In-Reply-To:Subject:Date;
	b=hqUhfW6gueGiqL5RVPC1r0CAa+3v1cQBlM/m1nam5G550VNydmj89vNPHdw7KV4n5
	 pnFliWKCGlkV135tHsEol1bY5Z0rzq6gKUTFsJbhQBkdvI2ayyfosPK60u6R91YYRt
	 qfo8l6s2FQ+c/Ksn/gn3khUrIJ4ykAxG9INpkdIQ=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <25C53E281BEC4941A765E42721CA7907@father>
From: "Steffen" <info@apachelounge.com>
To: "Apache Devel List" <dev@httpd.apache.org>
References: <78A05444F0BA4FC9BA7311B96B0C4332@father>
In-Reply-To: <78A05444F0BA4FC9BA7311B96B0C4332@father>
Subject: Re: 2.4.17-protocols-http2 :: Restarting
Date: Mon, 21 Sep 2015 11:05:53 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0044_01D0F45D.7B59E850"
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

This is a multi-part message in MIME format.

------=_NextPart_000_0044_01D0F45D.7B59E850
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

About the huge number of warnings

[h2:warn] [pid 2036:tid 4008] (OS 10060)A connection attempt failed =
because the connected party did not properly respond after a period of =
time, or established connection failed because connected host has failed =
to respond.  : [client 84.105.35.206:58278] AH02950: h2_session(124): =
error reading, terminating

Same  with no mod_h2, only ssl:info, mod_h2 has warn.

[ssl:info] [pid 4880:tid 1404] (OS 10060)A connection attempt failed =
because the connected party did not properly respond after a period of =
time, or established connection failed because connected host has failed =
to respond.  : [client 211.23.119.218:43915] AH01991: SSL input filter =
read failed.

Long way back I discussed this on the list.

Steffen

From: Steffen=20
Sent: Monday, September 21, 2015 9:27 AM
To: Apache Devel List=20
Subject: 2.4.17-protocols-http2 :: Restarting

Running live now for almost two days, see =
https://www.apachelounge.com/viewtopic.php?p=3D31674

Was running fine, expect the log is filled with mod_h2 warnings (see =
below)
Suddenly after a few hours, it was starting all over and over, 105 =
times.
And running fine for a few hours without restarting.=20

Looks like a (bad) client is causing it.

Now I disabled mod_h2, to see if that is fine.

[mpm_winnt:notice] [pid 1644:tid 16] AH00428: Parent: child process 2036 =
exited with status 3221225477 -- Restarting.

Windows says: Faulting module name: mod_h2.so, version: 2.4.17.

Log is filled (over 2000) with:

[h2:warn] [pid 2036:tid 4008] (OS 10060)A connection attempt failed =
because the connected party did not properly respond after a period of =
time, or established connection failed because connected host has failed =
to respond.  : [client 84.105.35.206:58278] AH02950: h2_session(124): =
error reading, terminating

Few other errors/warning:

[h2:warn] [pid 2036:tid 4020] (70015)Could not find specified socket in =
poll list.: [client 90.21.243.213:57391] AH02953: h2_mplx(126): stream =
for response 49

[h2:error] [pid 3300:tid 2832] (OS 10053)An established connection was =
aborted by the software in your host machine.  : [client =
202.183.129.112:47902] AH02925: h2_stream(116-35): failed send_data_cb

[h2:error] [pid 3300:tid 2856] (OS 10054)An existing connection was =
forcibly closed by the remote host.  : [client 177.41.118.92:52990] =
AH02925: h2_stream(123-29): failed send_data_cb

Logs (level notice) attached.

Steffen
------=_NextPart_000_0044_01D0F45D.7B59E850
Content-Type: text/html;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

<HTML><HEAD></HEAD>
<BODY dir=3Dltr>
<DIV dir=3Dltr>
<DIV style=3D"FONT-SIZE: 10pt; FONT-FAMILY: 'Arial'; COLOR: #000000">
<DIV>About the huge number of warnings</DIV>
<DIV>&nbsp;</DIV>
<DIV>[h2:warn] [pid 2036:tid 4008] (OS 10060)A connection attempt failed =
because=20
the connected party did not properly respond after a period of time, or=20
established connection failed because connected host has failed to=20
respond.&nbsp; : [client 84.105.35.206:58278] AH02950: h2_session(124): =
error=20
reading, terminating</DIV>
<DIV>&nbsp;</DIV>
<DIV>Same&nbsp; with no mod_h2, only ssl:info, mod_h2 has warn.</DIV>
<DIV>&nbsp;</DIV>
<DIV>[ssl:info] [pid 4880:tid 1404] (OS 10060)A connection attempt =
failed=20
because the connected party did not properly respond after a period of =
time, or=20
established connection failed because connected host has failed to=20
respond.&nbsp; : [client 211.23.119.218:43915] AH01991: SSL input filter =
read=20
failed.</DIV>
<DIV>&nbsp;</DIV>
<DIV=20
style=3D'FONT-SIZE: small; TEXT-DECORATION: none; FONT-FAMILY: =
"Calibri"; FONT-WEIGHT: normal; COLOR: #000000; FONT-STYLE: normal; =
DISPLAY: inline'>
<DIV style=3D"FONT: 10pt tahoma">
<DIV><FONT face=3DArial>Long way back I discussed this on the =
list.</FONT></DIV>
<DIV><FONT face=3DArial></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial>Steffen</FONT></DIV>
<DIV><FONT face=3DArial></FONT>&nbsp;</DIV>
<DIV style=3D"BACKGROUND: #f5f5f5">
<DIV style=3D"font-color: black"><B>From:</B> <A =
title=3Dinfo@apachelounge.com=20
href=3D"mailto:info@apachelounge.com">Steffen</A> </DIV>
<DIV><B>Sent:</B> Monday, September 21, 2015 9:27 AM</DIV>
<DIV><B>To:</B> <A title=3Ddev@httpd.apache.org=20
href=3D"mailto:dev@httpd.apache.org">Apache Devel List</A> </DIV>
<DIV><B>Subject:</B> 2.4.17-protocols-http2 :: =
Restarting</DIV></DIV></DIV>
<DIV>&nbsp;</DIV></DIV>
<DIV=20
style=3D'FONT-SIZE: small; TEXT-DECORATION: none; FONT-FAMILY: =
"Calibri"; FONT-WEIGHT: normal; COLOR: #000000; FONT-STYLE: normal; =
DISPLAY: inline'>
<DIV dir=3Dltr>
<DIV style=3D"FONT-SIZE: 10pt; FONT-FAMILY: 'Arial'; COLOR: #000000">
<DIV>Running live now for almost two days, see <A=20
title=3Dhttps://www.apachelounge.com/viewtopic.php?p=3D31674=20
href=3D"https://www.apachelounge.com/viewtopic.php?p=3D31674">https://www=
.apachelounge.com/viewtopic.php?p=3D31674</A></DIV>
<DIV>&nbsp;</DIV>
<DIV>Was running fine, expect the log is filled with mod_h2 warnings =
(see=20
below)</DIV>
<DIV>Suddenly after a few hours, it was starting all over and over, 105=20
times.</DIV>
<DIV>And running fine for a few hours without restarting. </DIV>
<DIV>&nbsp;</DIV>
<DIV>Looks like a (bad) client is causing it.</DIV>
<DIV>&nbsp;</DIV>
<DIV>Now I disabled mod_h2, to see if that is fine.</DIV>
<DIV>&nbsp;</DIV>
<DIV>[mpm_winnt:notice] [pid 1644:tid 16] AH00428: Parent: child process =
2036=20
exited with status 3221225477 -- Restarting.</DIV>
<DIV>&nbsp;</DIV>
<DIV>Windows says: Faulting module name: mod_h2.so, version: =
2.4.17.</DIV>
<DIV>&nbsp;</DIV>
<DIV>Log is filled (over 2000) with:</DIV>
<DIV>&nbsp;</DIV>
<DIV>[h2:warn] [pid 2036:tid 4008] (OS 10060)A connection attempt failed =
because=20
the connected party did not properly respond after a period of time, or=20
established connection failed because connected host has failed to=20
respond.&nbsp; : [client 84.105.35.206:58278] AH02950: h2_session(124): =
error=20
reading, terminating</DIV>
<DIV>&nbsp;</DIV>
<DIV>Few other errors/warning:</DIV>
<DIV>&nbsp;</DIV>
<DIV>[h2:warn] [pid 2036:tid 4020] (70015)Could not find specified =
socket in=20
poll list.: [client 90.21.243.213:57391] AH02953: h2_mplx(126): stream =
for=20
response 49</DIV>
<DIV>&nbsp;</DIV>
<DIV>[h2:error] [pid 3300:tid 2832] (OS 10053)An established connection =
was=20
aborted by the software in your host machine.&nbsp; : [client=20
202.183.129.112:47902] AH02925: h2_stream(116-35): failed =
send_data_cb</DIV>
<DIV>&nbsp;</DIV>
<DIV>[h2:error] [pid 3300:tid 2856] (OS 10054)An existing connection was =

forcibly closed by the remote host.&nbsp; : [client 177.41.118.92:52990] =

AH02925: h2_stream(123-29): failed send_data_cb</DIV>
<DIV>&nbsp;</DIV>
<DIV>Logs (level notice) attached.</DIV>
<DIV>&nbsp;</DIV>
<DIV>Steffen</DIV></DIV></DIV></DIV></DIV></DIV></BODY></HTML>

------=_NextPart_000_0044_01D0F45D.7B59E850--


From dev-return-83839-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 21 09:11:39 2015
Return-Path: <dev-return-83839-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5D8D117951
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Sep 2015 09:11:39 +0000 (UTC)
Received: (qmail 85731 invoked by uid 500); 21 Sep 2015 09:11:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 85667 invoked by uid 500); 21 Sep 2015 09:11:38 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 85657 invoked by uid 99); 21 Sep 2015 09:11:38 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Sep 2015 09:11:38 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5D1341A286C
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 09:11:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.005
X-Spam-Level:
X-Spam-Status: No, score=-0.005 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 5_RUpT_6S4_a for <dev@httpd.apache.org>;
	Mon, 21 Sep 2015 09:11:23 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 7079643B03
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 09:11:23 +0000 (UTC)
Received: from delight.fritz.box (unknown [84.189.92.140])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 5947D15A030C
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 11:11:22 +0200 (CEST)
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: 2.4.17-protocols-http2 :: Restarting
From: Stefan Eissing <stefan.eissing@greenbytes.de>
X-Priority: 3
In-Reply-To: <25C53E281BEC4941A765E42721CA7907@father>
Date: Mon, 21 Sep 2015 11:11:21 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <69EDAAB8-21D9-420D-B88E-68D83B6FF041@greenbytes.de>
References: <78A05444F0BA4FC9BA7311B96B0C4332@father> <25C53E281BEC4941A765E42721CA7907@father>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

Yeah, I think when I initially wrote this code, I wanted to err on the =
side of catching my mistakes. Time to level down the common conditions =
that happen, e.g. when client just disconnect.

> Am 21.09.2015 um 11:05 schrieb Steffen <info@apachelounge.com>:
>=20
> About the huge number of warnings
> =20
> [h2:warn] [pid 2036:tid 4008] (OS 10060)A connection attempt failed =
because the connected party did not properly respond after a period of =
time, or established connection failed because connected host has failed =
to respond.  : [client 84.105.35.206:58278] AH02950: h2_session(124): =
error reading, terminating
> =20
> Same  with no mod_h2, only ssl:info, mod_h2 has warn.
> =20
> [ssl:info] [pid 4880:tid 1404] (OS 10060)A connection attempt failed =
because the connected party did not properly respond after a period of =
time, or established connection failed because connected host has failed =
to respond.  : [client 211.23.119.218:43915] AH01991: SSL input filter =
read failed.
> =20
> Long way back I discussed this on the list.
> =20
> Steffen
> =20
> From: Steffen
> Sent: Monday, September 21, 2015 9:27 AM
> To: Apache Devel List
> Subject: 2.4.17-protocols-http2 :: Restarting
> =20
> Running live now for almost two days, see =
https://www.apachelounge.com/viewtopic.php?p=3D31674
> =20
> Was running fine, expect the log is filled with mod_h2 warnings (see =
below)
> Suddenly after a few hours, it was starting all over and over, 105 =
times.
> And running fine for a few hours without restarting.
> =20
> Looks like a (bad) client is causing it.
> =20
> Now I disabled mod_h2, to see if that is fine.
> =20
> [mpm_winnt:notice] [pid 1644:tid 16] AH00428: Parent: child process =
2036 exited with status 3221225477 -- Restarting.
> =20
> Windows says: Faulting module name: mod_h2.so, version: 2.4.17.
> =20
> Log is filled (over 2000) with:
> =20
> [h2:warn] [pid 2036:tid 4008] (OS 10060)A connection attempt failed =
because the connected party did not properly respond after a period of =
time, or established connection failed because connected host has failed =
to respond.  : [client 84.105.35.206:58278] AH02950: h2_session(124): =
error reading, terminating
> =20
> Few other errors/warning:
> =20
> [h2:warn] [pid 2036:tid 4020] (70015)Could not find specified socket =
in poll list.: [client 90.21.243.213:57391] AH02953: h2_mplx(126): =
stream for response 49
> =20
> [h2:error] [pid 3300:tid 2832] (OS 10053)An established connection was =
aborted by the software in your host machine.  : [client =
202.183.129.112:47902] AH02925: h2_stream(116-35): failed send_data_cb
> =20
> [h2:error] [pid 3300:tid 2856] (OS 10054)An existing connection was =
forcibly closed by the remote host.  : [client 177.41.118.92:52990] =
AH02925: h2_stream(123-29): failed send_data_cb
> =20
> Logs (level notice) attached.
> =20
> Steffen

<green/>bytes GmbH
Hafenweg 16, 48155 M=FCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=FCnster: HRB5782




From dev-return-83840-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 21 09:19:46 2015
Return-Path: <dev-return-83840-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 703E417992
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Sep 2015 09:19:46 +0000 (UTC)
Received: (qmail 4058 invoked by uid 500); 21 Sep 2015 09:19:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3991 invoked by uid 500); 21 Sep 2015 09:19:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3981 invoked by uid 99); 21 Sep 2015 09:19:33 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Sep 2015 09:19:33 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id C7E21C0AB3
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 09:19:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.007
X-Spam-Level:
X-Spam-Status: No, score=-0.007 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id cCah_xP3sZ1X for <dev@httpd.apache.org>;
	Mon, 21 Sep 2015 09:19:31 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id D1478209B7
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 09:19:30 +0000 (UTC)
Received: from delight.fritz.box (unknown [84.189.92.140])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id C013E15A0309
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 11:19:24 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1688474 [4/21] - in /httpd/httpd/trunk/modules/http2: ./ m4/ mod-h2.xcodeproj/ mod-h2.xcodeproj/project.xcworkspace/ mod-h2.xcodeproj/project.xcworkspace/xcshareddata/ mod-h2.xcodeproj/xcuserdata/ mod-h2.xcodeproj/xcuserdata/sei.xcuserdata...
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVOSKvEjnFLahMF3+zLCruPRV82xdxi_3aTm=vpaj=tm0w@mail.gmail.com>
Date: Mon, 21 Sep 2015 11:19:24 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <B9AF7355-DA1A-47CC-8EF6-97994A195094@greenbytes.de>
References: <20150630152622.2A09CAC08DF@hades.apache.org> <CAKQ1sVOSKvEjnFLahMF3+zLCruPRV82xdxi_3aTm=vpaj=tm0w@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

Admittedly, my memory is hazy. I cannot really rationalize its =
existence. This looks wrong now. I will throw it out.

> Am 21.09.2015 um 10:53 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> Hi Stefan,
>=20
>>=20
>> Added: httpd/httpd/trunk/modules/http2/mod_h2/h2_conn_io.c
>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/http2/mod_h2/h2_con=
n_io.c?rev=3D1688474&view=3Dauto
>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>> --- httpd/httpd/trunk/modules/http2/mod_h2/h2_conn_io.c (added)
>> +++ httpd/httpd/trunk/modules/http2/mod_h2/h2_conn_io.c Tue Jun 30 =
15:26:16 2015
>> @@ -0,0 +1,285 @@
> []
>> +
>> +apr_status_t h2_conn_io_write(h2_conn_io *io,
>> +                              const char *buf, size_t length)
>> +{
>> +    apr_status_t status =3D APR_SUCCESS;
>> +    io->unflushed =3D 1;
>> +
>> +    if (io->buffer_output) {
> [...]
>> +    }
>> +    else {
>> +        status =3D apr_brigade_write(io->output, flush_out, io, buf, =
length);
>> +        if (status =3D=3D APR_SUCCESS
>> +            || APR_STATUS_IS_ECONNABORTED(status)
>> +            || APR_STATUS_IS_EPIPE(status)) {
>> +            /* These are all fine and no reason for concern. =
Everything else
>> +             * is interesting. */
>> +            status =3D APR_SUCCESS;
>=20
> Why ECONNABORTED and EPIPE are not errors here?
>=20
>> +        }
>> +        else {
>> +            ap_log_cerror(APLOG_MARK, APLOG_DEBUG, status, =
io->connection,
>> +                          "h2_conn_io: write error");
>> +        }
>> +    }
>> +
>> +    return status;
>> +}
> [...]
>> +
>> +apr_status_t h2_conn_io_flush(h2_conn_io *io)
>> +{
>> +    if (io->unflushed) {
> [...]
>> +
>> +        /* Send it out through installed filters (TLS) to the client =
*/
>> +        apr_status_t status =3D flush_out(io->output, io);
>> +
>> +        if (status =3D=3D APR_SUCCESS
>> +            || APR_STATUS_IS_ECONNABORTED(status)
>> +            || APR_STATUS_IS_EPIPE(status)) {
>> +            /* These are all fine and no reason for concern. =
Everything else
>> +             * is interesting. */
>> +            io->unflushed =3D 0;
>=20
> Likewise?
>=20
>> +        }
>> +        else {
>> +            ap_log_cerror(APLOG_MARK, APLOG_DEBUG, status, =
io->connection,
>> +                          "h2_conn_io: flush error");
>> +        }
>> +
>> +        return status;
>> +    }
>> +    return APR_SUCCESS;
>> +}
>=20
>=20
> It also seems that h2_session sometimes (ab)uses APR_TIMEUP as EAGAIN,
> the former is generally a reason to stop processing though. Why not
> use APR_EGAIN for those cases?
>=20
>=20
> Regards,
> Yann.

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83841-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 21 10:29:28 2015
Return-Path: <dev-return-83841-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BF33917B94
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Sep 2015 10:29:28 +0000 (UTC)
Received: (qmail 42554 invoked by uid 500); 21 Sep 2015 10:29:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 42482 invoked by uid 500); 21 Sep 2015 10:29:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 42472 invoked by uid 99); 21 Sep 2015 10:29:28 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Sep 2015 10:29:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id A4A49C0F96
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 10:29:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.655
X-Spam-Level: *
X-Spam-Status: No, score=1.655 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, STOX_REPLY_TYPE=0.212,
	TVD_FINGER_02=1.544, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id HgFdHBHc_x_1 for <dev@httpd.apache.org>;
	Mon, 21 Sep 2015 10:29:20 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 80B5F23047
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 10:29:19 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1442831410;
	bh=vyW82fM/yjjh3PQaI9NGEbZ/oasUkbSDQXwAlMWd4/4=;
	h=From:To:References:In-Reply-To:Subject:Date;
	b=NtiAlgVvxA2E4IhM+eb7wyZflnW5S+vYf4cmHqjqQjtjxrCyRQiflG0H+bv0KDZ6L
	 uwfhW32kPiYUCwOsNFFODDGANr5e2bfpU7csHyfSLZMeH7zD7H6EeLU8Q+H7eP7QwQ
	 UArMnQ0mgmWajd//KxR2QGdCp41HcMYx6UZlzUtQ=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <FCBC918D6ADA46618996692C120DD07A@father>
From: "Steffen" <info@apachelounge.com>
To: <dev@httpd.apache.org>
References: <78A05444F0BA4FC9BA7311B96B0C4332@father> <25C53E281BEC4941A765E42721CA7907@father> <69EDAAB8-21D9-420D-B88E-68D83B6FF041@greenbytes.de>
In-Reply-To: <69EDAAB8-21D9-420D-B88E-68D83B6FF041@greenbytes.de>
Subject: Re: 2.4.17-protocols-http2 :: Restarting
Date: Mon, 21 Sep 2015 12:29:52 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="Windows-1252";
	reply-type=original
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

Applied h2_conn_io.c  Revision 1704241 (removed wrong error supression in h2
connection writes)

https://www.apachelounge.com/ running now with it.

Steffen

-----Original Message----- 
From: Stefan Eissing
Sent: Monday, September 21, 2015 11:11 AM
To: dev@httpd.apache.org
Subject: Re: 2.4.17-protocols-http2 :: Restarting

Yeah, I think when I initially wrote this code, I wanted to err on the side
of catching my mistakes. Time to level down the common conditions that
happen, e.g. when client just disconnect.

> Am 21.09.2015 um 11:05 schrieb Steffen <info@apachelounge.com>:
>
> About the huge number of warnings
>
> [h2:warn] [pid 2036:tid 4008] (OS 10060)A connection attempt failed
> because the connected party did not properly respond after a period of
> time, or established connection failed because connected host has failed
> to respond.  : [client 84.105.35.206:58278] AH02950: h2_session(124):
> error reading, terminating
>
> Same  with no mod_h2, only ssl:info, mod_h2 has warn.
>
> [ssl:info] [pid 4880:tid 1404] (OS 10060)A connection attempt failed
> because the connected party did not properly respond after a period of
> time, or established connection failed because connected host has failed
> to respond.  : [client 211.23.119.218:43915] AH01991: SSL input filter
> read failed.
>
> Long way back I discussed this on the list.
>
> Steffen
>
> From: Steffen
> Sent: Monday, September 21, 2015 9:27 AM
> To: Apache Devel List
> Subject: 2.4.17-protocols-http2 :: Restarting
>
> Running live now for almost two days, see
> https://www.apachelounge.com/viewtopic.php?p=31674
>
> Was running fine, expect the log is filled with mod_h2 warnings (see
> below)
> Suddenly after a few hours, it was starting all over and over, 105 times.
> And running fine for a few hours without restarting.
>
> Looks like a (bad) client is causing it.
>
> Now I disabled mod_h2, to see if that is fine.
>
> [mpm_winnt:notice] [pid 1644:tid 16] AH00428: Parent: child process 2036
> exited with status 3221225477 -- Restarting.
>
> Windows says: Faulting module name: mod_h2.so, version: 2.4.17.
>
> Log is filled (over 2000) with:
>
> [h2:warn] [pid 2036:tid 4008] (OS 10060)A connection attempt failed
> because the connected party did not properly respond after a period of
> time, or established connection failed because connected host has failed
> to respond.  : [client 84.105.35.206:58278] AH02950: h2_session(124):
> error reading, terminating
>
> Few other errors/warning:
>
> [h2:warn] [pid 2036:tid 4020] (70015)Could not find specified socket in
> poll list.: [client 90.21.243.213:57391] AH02953: h2_mplx(126): stream for
> response 49
>
> [h2:error] [pid 3300:tid 2832] (OS 10053)An established connection was
> aborted by the software in your host machine.  : [client
> 202.183.129.112:47902] AH02925: h2_stream(116-35): failed send_data_cb
>
> [h2:error] [pid 3300:tid 2856] (OS 10054)An existing connection was
> forcibly closed by the remote host.  : [client 177.41.118.92:52990]
> AH02925: h2_stream(123-29): failed send_data_cb
>
> Logs (level notice) attached.
>
> Steffen

<green/>bytes GmbH
Hafenweg 16, 48155 Mnster, Germany
Phone: +49 251 2807760. Amtsgericht Mnster: HRB5782



From dev-return-83842-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 21 11:13:53 2015
Return-Path: <dev-return-83842-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0B1EE17C92
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Sep 2015 11:13:53 +0000 (UTC)
Received: (qmail 7716 invoked by uid 500); 21 Sep 2015 11:13:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 7637 invoked by uid 500); 21 Sep 2015 11:13:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 7626 invoked by uid 99); 21 Sep 2015 11:13:43 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Sep 2015 11:13:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id AAB4B1A288B
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 11:13:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Ej159JK5KWx0 for <dev@httpd.apache.org>;
	Mon, 21 Sep 2015 11:13:31 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id EABB824CA1
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 11:13:30 +0000 (UTC)
Received: from delight.fritz.box (unknown [84.189.92.140])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 0CF5515A030C
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 13:13:30 +0200 (CEST)
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: 2.4.17-protocols-http2 :: Restarting
From: Stefan Eissing <stefan.eissing@greenbytes.de>
X-Priority: 3
In-Reply-To: <FCBC918D6ADA46618996692C120DD07A@father>
Date: Mon, 21 Sep 2015 13:13:29 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <284FE439-DD34-42A5-96E2-DAE1BDCAF17E@greenbytes.de>
References: <78A05444F0BA4FC9BA7311B96B0C4332@father> <25C53E281BEC4941A765E42721CA7907@father> <69EDAAB8-21D9-420D-B88E-68D83B6FF041@greenbytes.de> <FCBC918D6ADA46618996692C120DD07A@father>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

I did a little bit more on the session close/abort handling. Checked =
into the 2.4.17-xxx branch.

//Stefan

> Am 21.09.2015 um 12:29 schrieb Steffen <info@apachelounge.com>:
>=20
> Applied h2_conn_io.c  Revision 1704241 (removed wrong error supression =
in h2
> connection writes)
>=20
> https://www.apachelounge.com/ running now with it.
>=20
> Steffen
>=20
> -----Original Message----- From: Stefan Eissing
> Sent: Monday, September 21, 2015 11:11 AM
> To: dev@httpd.apache.org
> Subject: Re: 2.4.17-protocols-http2 :: Restarting
>=20
> Yeah, I think when I initially wrote this code, I wanted to err on the =
side
> of catching my mistakes. Time to level down the common conditions that
> happen, e.g. when client just disconnect.
>=20
>> Am 21.09.2015 um 11:05 schrieb Steffen <info@apachelounge.com>:
>>=20
>> About the huge number of warnings
>>=20
>> [h2:warn] [pid 2036:tid 4008] (OS 10060)A connection attempt failed
>> because the connected party did not properly respond after a period =
of
>> time, or established connection failed because connected host has =
failed
>> to respond.  : [client 84.105.35.206:58278] AH02950: h2_session(124):
>> error reading, terminating
>>=20
>> Same  with no mod_h2, only ssl:info, mod_h2 has warn.
>>=20
>> [ssl:info] [pid 4880:tid 1404] (OS 10060)A connection attempt failed
>> because the connected party did not properly respond after a period =
of
>> time, or established connection failed because connected host has =
failed
>> to respond.  : [client 211.23.119.218:43915] AH01991: SSL input =
filter
>> read failed.
>>=20
>> Long way back I discussed this on the list.
>>=20
>> Steffen
>>=20
>> From: Steffen
>> Sent: Monday, September 21, 2015 9:27 AM
>> To: Apache Devel List
>> Subject: 2.4.17-protocols-http2 :: Restarting
>>=20
>> Running live now for almost two days, see
>> https://www.apachelounge.com/viewtopic.php?p=3D31674
>>=20
>> Was running fine, expect the log is filled with mod_h2 warnings (see
>> below)
>> Suddenly after a few hours, it was starting all over and over, 105 =
times.
>> And running fine for a few hours without restarting.
>>=20
>> Looks like a (bad) client is causing it.
>>=20
>> Now I disabled mod_h2, to see if that is fine.
>>=20
>> [mpm_winnt:notice] [pid 1644:tid 16] AH00428: Parent: child process =
2036
>> exited with status 3221225477 -- Restarting.
>>=20
>> Windows says: Faulting module name: mod_h2.so, version: 2.4.17.
>>=20
>> Log is filled (over 2000) with:
>>=20
>> [h2:warn] [pid 2036:tid 4008] (OS 10060)A connection attempt failed
>> because the connected party did not properly respond after a period =
of
>> time, or established connection failed because connected host has =
failed
>> to respond.  : [client 84.105.35.206:58278] AH02950: h2_session(124):
>> error reading, terminating
>>=20
>> Few other errors/warning:
>>=20
>> [h2:warn] [pid 2036:tid 4020] (70015)Could not find specified socket =
in
>> poll list.: [client 90.21.243.213:57391] AH02953: h2_mplx(126): =
stream for
>> response 49
>>=20
>> [h2:error] [pid 3300:tid 2832] (OS 10053)An established connection =
was
>> aborted by the software in your host machine.  : [client
>> 202.183.129.112:47902] AH02925: h2_stream(116-35): failed =
send_data_cb
>>=20
>> [h2:error] [pid 3300:tid 2856] (OS 10054)An existing connection was
>> forcibly closed by the remote host.  : [client 177.41.118.92:52990]
>> AH02925: h2_stream(123-29): failed send_data_cb
>>=20
>> Logs (level notice) attached.
>>=20
>> Steffen
>=20
> <green/>bytes GmbH
> Hafenweg 16, 48155 M=FCnster, Germany
> Phone: +49 251 2807760. Amtsgericht M=FCnster: HRB5782
>=20
>=20

<green/>bytes GmbH
Hafenweg 16, 48155 M=FCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=FCnster: HRB5782




From dev-return-83843-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 21 12:00:14 2015
Return-Path: <dev-return-83843-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0468617DD6
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Sep 2015 12:00:14 +0000 (UTC)
Received: (qmail 6185 invoked by uid 500); 21 Sep 2015 12:00:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6109 invoked by uid 500); 21 Sep 2015 12:00:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6099 invoked by uid 99); 21 Sep 2015 12:00:13 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Sep 2015 12:00:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 1B14AF4E8B
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 12:00:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 3lL-g8Vyyw38 for <dev@httpd.apache.org>;
	Mon, 21 Sep 2015 12:00:03 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 2453342B7B
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 12:00:03 +0000 (UTC)
Received: from delight.fritz.box (unknown [84.189.92.140])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 9552315A03CC
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 14:00:01 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: Thoughts on the new Protocols architecture
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <55FF85F0.8040106@gmail.com>
Date: Mon, 21 Sep 2015 14:00:00 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <10CAC6C5-F3C1-44CE-B18F-2892E0F9423B@greenbytes.de>
References: <55FF85F0.8040106@gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

Jacob, thanks a lot for reviewing/implementing it. Having another module =
use it helps seeing the current weaknesses. Detailed comments inline:

> Am 21.09.2015 um 06:22 schrieb Jacob Champion <champion.p@gmail.com>:
>=20
> =3D=3D Immediate Concerns =3D=3D
>=20
> 1) WebSocket requires a handshake to be made with the 101 response, =
which means a module that implements the protocol_switch hook needs to =
be able to affect the response headers, as well as abort the upgrade =
with a 4xx/5xx if necessary. To do this I added a hook that I called =
pre_protocol_switch; you can take a look at the patch at
>=20
> =
https://github.com/jchampio/httpd/commit/26fba7261b2d1d194c693cf7206633766=
af56afb
>=20
> I also ported mod_websocket to use this new experimental hook along =
with the other Protocols-related hooks, so you can see what a module =
using it might look like:
>=20
> =
https://github.com/jchampio/apache-websocket/blob/dev/protocol_switch/mod_=
websocket.c
>=20
> I'm not sure I like my new hook, to be honest. I think I may have made =
it too general with the RUN_ALL hook implementation and I'm not =
convinced that more than one module needs to be able to affect an =
Upgrade handshake. I also don't like the brittle coupling the =
mod_websocket implementation has: when the module responds to =
pre_protocol_switch, it takes several actions (mutex locking, =
subprotocol negotiation, allocation) with the assumption that it will be =
the module handling the protocol_switch hook. If another module steals =
the switch, we'll be left with leaked mutexes and probably hung client =
plugins.
>=20
> But I haven't come up with a better idea yet. A corresponding =
post_protocol_switch hook _might_ help with cleanup in the general case, =
but I don't think mod_websocket's implementation could make use of it. =
Perhaps a hook is not the right way to do what I'm trying to do.

I think a "protocol_ugprade" hook would work better. That way, a module =
like yours can replace the core upgrade handling itself, send your own =
101 response and call ap_switch_protocol() yourself. Would that work for =
you?

> 2) WebSocket requires the Upgrade protocol to be handled =
case-insensitively (`Upgrade: websocket` and `Upgrade: WebSocket` are =
both valid), but the current protocol_propose implementation dance is =
case-sensitive. I hacked ap_array_str_index to use strcasecmp just to =
get it to work on my end, but it made me wonder: are Upgrade header =
values case-sensitive as a general rule? I wasn't able to find any =
statement in RFC 7230 on this, unlike the rule for Connection header =
values (they're case-insensitive).

Yes, 7230 explicitly mentions header values that are to be treated =
case-insensitive and "Upgrade:" is not among them. However WebSocket =
spec does, hmm. Unfortunate.

7230 speaks and has registered "HTTP/x(.x)?" as token, but for ALPN it =
is "http/1.1" (and not case-insensitive), I tend to propose that we =
treat tokens in "Upgrade:" headers as case-insensitive. That would mean:

The core upgrade handler would lower case all protocol tokens in the =
Upgrade header before passing it to ap_select_protocol(). That makes =
selections normalized again. If someone wants to see the original value, =
it needs to look at the request headers itself.

> =3D=3D Medium-term (more WebSocket-specific) =3D=3D
>=20
> 1) WebSocket prefers that the server close the TCP connection before =
the client, and if I don't do an explicit close before returning from =
protocol_switch, Autobahn fails my test cases because the server is =
apparently waiting for the client to close first. But if I close the =
connection explicitly, mpm_event complains about a "network write =
failure in core output filter", so that doesn't seem good either. Is =
there a "proper" way to do this on my end, or is there more =
architectural work that would be needed to support server-led TCP =
closes?

Hmm, you should have to do nothing. The core upgrade handler marks the =
connection for closing which *should* be enough. Bug?

> 2) Protocols is per-virtual-host, but I think typically people want to =
enable WebSocket for a particular URI, not an entire server. And it =
doesn't make much sense to me to set a "preference" for WebSocket vs. =
HTTP/2 in the Protocols directive -- they're doing entirely different =
things, and I don't think a client is likely to send them both in the =
same upgrade request anyway. Maybe WebSocket is just an oddball protocol =
from Upgrade's point of view?

Yes and no. Different from http/2 as that is another framing layer that =
still has http/1.1 semantics. But also a client in HTTP/1.1 Upgrades. =
The mechanism we implement should work for both.

> =3D=3D Long-term/Idle Thoughts =3D=3D
>=20
> In no particular order:
>=20
> - The access_log is only updated (with the 101 status) once the entire =
connection comes to an end, which seems undesirable.

Ok, needs to be fixed.

> - h2_session_process seems conceptually similar to mod_websocket's =
framing loop, which I think is a good thing. We seem to have settled on =
the same way to solve the "read and write simultaneously" problem.
> - How does mod_h2 interact with MPMs? =46rom a first reading it seemed =
like it would always split requests into separate threads. Are there any =
plans to have it use different strategies according to which MPM is =
installed? (In particular, I'm hoping that one WebSocket connection =
won't necessarily have to steal an entire thread from httpd, and that =
MotorZ might help us out here...)

Not having a separate worker pool for mod_h2 is desirable. However for =
2.4.x branch, there are limits to what can be done. In trunk, =
integration should happen. Currently I know not enough about mpms to =
come up with a solid proposal.

//Stefan

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83844-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 21 12:06:19 2015
Return-Path: <dev-return-83844-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ADA2217E13
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Sep 2015 12:06:19 +0000 (UTC)
Received: (qmail 14700 invoked by uid 500); 21 Sep 2015 12:06:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14643 invoked by uid 500); 21 Sep 2015 12:06:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14633 invoked by uid 99); 21 Sep 2015 12:06:09 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Sep 2015 12:06:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 0F645C0AB3
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 12:06:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, MIME_QP_LONG_LINE=0.001, SPF_HELO_PASS=-0.001,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id ERkuxyc8xxRf for <dev@httpd.apache.org>;
	Mon, 21 Sep 2015 12:05:59 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id D412820382
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 12:05:58 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1442837209;
	bh=iVPaCkjQJHPQeWY5eKvdEykD6/EwfUmyXx8aST+5edA=;
	h=From:To:Subject:Date;
	b=aNY4b1bhfA1AqF2w7UaJnsX5lWGEKOd2Ln2WrH/K6y+nBLl8qCL9u8ZPs57iMM46i
	 S7ivXzqM0TcqDMVlFw0hRYHT5XXYQtaMNS1PIMMMpS543GFut2AKGokFqvehLae+kl
	 QY70MrX07ci2PuyzH2YYsRUM48bHARvxG3gO03vM=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=127.0.0.1;
From: Steffen <info@apachelounge.com>
To:  <dev@httpd.apache.org>
Subject: Re: 2.4.17-protocols-http2 :: Restarting
Date: Mon, 21 Sep 2015 14:06:47 +0200
Message-ID: <55fff2d7.554.1350.4233@land10.nl>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="----=_SW_1864_1442837207_mpa="
X-Originating-IP: 127.0.0.1
X-Mailer: SurgeWeb - Ajax Webmail Client

This is a multi-part message in MIME format.

------=_SW_1864_1442837207_mpa=
Content-Type: text/plain; charset=utf-8; format=flowed


Running now with it.

See in loglevel notice not the warnings anymore.

Thanks,

Steffen


On Monday 21/09/2015 at 13:14, Stefan Eissing  wrote:
> I did a little bit more on the session close/abort handling. Checked 
> into the 2.4.17-xxx branch.
>
> //Stefan
>
>>
>> Am 21.09.2015 um 12:29 schrieb Steffen <info@apachelounge.com>:
>>
>> Applied h2_conn_io.c  Revision 1704241 (removed wrong error supression 
>> in h2
>> connection writes)
>>
>> https://www.apachelounge.com/ running now with it.
>>
>> Steffen
>>
>> -----Original Message----- From: Stefan Eissing
>> Sent: Monday, September 21, 2015 11:11 AM
>> To: dev@httpd.apache.org
>> Subject: Re: 2.4.17-protocols-http2 :: Restarting
>>
>> Yeah, I think when I initially wrote this code, I wanted to err on the 
>> side
>> of catching my mistakes. Time to level down the common conditions that
>> happen, e.g. when client just disconnect.
>>
>>>
>>> Am 21.09.2015 um 11:05 schrieb Steffen <info@apachelounge.com>:
>>>
>>> About the huge number of warnings
>>>
>>> [h2:warn] [pid 2036:tid 4008] (OS 10060)A connection attempt failed
>>> because the connected party did not properly respond after a period of
>>> time, or established connection failed because connected host has 
>>> failed
>>> to respond.  : [client 84.105.35.206:58278] AH02950: h2_session(124):
>>> error reading, terminating
>>>
>>> Same  with no mod_h2, only ssl:info, mod_h2 has warn.
>>>
>>> [ssl:info] [pid 4880:tid 1404] (OS 10060)A connection attempt failed
>>> because the connected party did not properly respond after a period of
>>> time, or established connection failed because connected host has 
>>> failed
>>> to respond.  : [client 211.23.119.218:43915] AH01991: SSL input filter
>>> read failed.
>>>
>>> Long way back I discussed this on the list.
>>>
>>> Steffen
>>>
>>> From: Steffen
>>> Sent: Monday, September 21, 2015 9:27 AM
>>> To: Apache Devel List
>>> Subject: 2.4.17-protocols-http2 :: Restarting
>>>
>>> Running live now for almost two days, see
>>> https://www.apachelounge.com/viewtopic.php?p=31674
>>>
>>> Was running fine, expect the log is filled with mod_h2 warnings (see
>>> below)
>>> Suddenly after a few hours, it was starting all over and over, 105 
>>> times.
>>> And running fine for a few hours without restarting.
>>>
>>> Looks like a (bad) client is causing it.
>>>
>>> Now I disabled mod_h2, to see if that is fine.
>>>
>>> [mpm_winnt:notice] [pid 1644:tid 16] AH00428: Parent: child process 
>>> 2036
>>> exited with status 3221225477 -- Restarting.
>>>
>>> Windows says: Faulting module name: mod_h2.so, version: 2.4.17.
>>>
>>> Log is filled (over 2000) with:
>>>
>>> [h2:warn] [pid 2036:tid 4008] (OS 10060)A connection attempt failed
>>> because the connected party did not properly respond after a period of
>>> time, or established connection failed because connected host has 
>>> failed
>>> to respond.  : [client 84.105.35.206:58278] AH02950: h2_session(124):
>>> error reading, terminating
>>>
>>> Few other errors/warning:
>>>
>>> [h2:warn] [pid 2036:tid 4020] (70015)Could not find specified socket 
>>> in
>>> poll list.: [client 90.21.243.213:57391] AH02953: h2_mplx(126): stream 
>>> for
>>> response 49
>>>
>>> [h2:error] [pid 3300:tid 2832] (OS 10053)An established connection was
>>> aborted by the software in your host machine.  : [client
>>> 202.183.129.112:47902] AH02925: h2_stream(116-35): failed send_data_cb
>>>
>>> [h2:error] [pid 3300:tid 2856] (OS 10054)An existing connection was
>>> forcibly closed by the remote host.  : [client 177.41.118.92:52990]
>>> AH02925: h2_stream(123-29): failed send_data_cb
>>>
>>> Logs (level notice) attached.
>>>
>>> Steffen
>>
>> <green/>bytes GmbH
>> Hafenweg 16, 48155 Münster, Germany
>> Phone: +49 251 2807760. Amtsgericht Münster: HRB5782
>>
>>
>
> <green/>bytes GmbH
> Hafenweg 16, 48155 Münster, Germany
> Phone: +49 251 2807760. Amtsgericht Münster: HRB5782
>
>
>


------=_SW_1864_1442837207_mpa=
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html>
<head>
<style>
 .sw_message P{margin:0px;padding:0px;}
 .sw_message {FONT-SIZE: 12pt;FONT-FAMILY:Tahoma,Arial,Helvetica,sans-serif;background:white;}
 .sw_message blockquote{margin-left:5px;padding-left:5px;border-left:2px solid #144fae;color: #144fae;}
 .sw_message blockquote blockquote{border-left:2px solid #006312;color: #006312;}
 .sw_message blockquote blockquote blockquote{border-left:2px solid #8e5656;color: #8e5656;}
 .sw_message blockquote blockquote blockquote blockquote{border-left:2px solid #888;color: #888;}
</style>
</head>
<body class=3d"sw_message">
<div>Running now with it.</div><div><br></div><div>See in loglevel notice no=
t the warnings anymore.&nbsp;</div><div><br></div><div>Thanks,</div><div><br=
></div><div>Steffen</div><div>&nbsp;</div><div id=3d"editor_signature"></div=
><div>On Monday 21/09/2015 at 13:14, Stefan Eissing  wrote: </div><blockquot=
e type=3d"cite">I did a little bit more on the session close/abort handling.=
 Checked into the 2.4.17-xxx branch.<br><br>//Stefan<br><br><blockquote type=
=3d"cite"> Am 21.09.2015 um 12:29 schrieb Steffen &lt;info@apachelounge.com&=
gt;:<br> <br> Applied h2_conn_io.c  Revision 1704241 (removed wrong error su=
pression in h2<br> connection writes)<br> <br> <a target=3d"_blank" href=3d"=
https://www.apachelounge.com/">https://www.apachelounge.com/</a> running now=
 with it.<br> <br> Steffen<br> <br> -----Original Message----- From: Stefan =
Eissing<br> Sent: Monday, September 21, 2015 11:11 AM<br> To: dev@httpd.apac=
he.org<br> Subject: Re: 2.4.17-protocols-http2 :: Restarting<br> <br> Yeah, =
I think when I initially wrote this code, I wanted to err on the side<br> of=
 catching my mistakes. Time to level down the common conditions that<br> hap=
pen, e.g. when client just disconnect.<br> <br><blockquote type=3d"cite"> Am=
 21.09.2015 um 11:05 schrieb Steffen &lt;info@apachelounge.com&gt;:<br> <br>=
 About the huge number of warnings<br> <br> [h2:warn] [pid 2036:tid 4008] (O=
S 10060)A connection attempt failed<br> because the connected party did not =
properly respond after a period of<br> time, or established connection faile=
d because connected host has failed<br> to respond.  : [client 84.105.35.206=
:58278] AH02950: h2_session(124):<br> error reading, terminating<br> <br> Sa=
me  with no mod_h2, only ssl:info, mod_h2 has warn.<br> <br> [ssl:info] [pid=
 4880:tid 1404] (OS 10060)A connection attempt failed<br> because the connec=
ted party did not properly respond after a period of<br> time, or establishe=
d connection failed because connected host has failed<br> to respond.  : [cl=
ient 211.23.119.218:43915] AH01991: SSL input filter<br> read failed.<br> <b=
r> Long way back I discussed this on the list.<br> <br> Steffen<br> <br> Fro=
m: Steffen<br> Sent: Monday, September 21, 2015 9:27 AM<br> To: Apache Devel=
 List<br> Subject: 2.4.17-protocols-http2 :: Restarting<br> <br> Running liv=
e now for almost two days, see<br> <a target=3d"_blank" href=3d"https://www.=
apachelounge.com/viewtopic.php?p=3d31674">https://www.apachelounge.com/viewt=
opic.php?p=3d31674</a><br> <br> Was running fine, expect the log is filled w=
ith mod_h2 warnings (see<br> below)<br> Suddenly after a few hours, it was s=
tarting all over and over, 105 times.<br> And running fine for a few hours w=
ithout restarting.<br> <br> Looks like a (bad) client is causing it.<br> <br=
> Now I disabled mod_h2, to see if that is fine.<br> <br> [mpm_winnt:notice]=
 [pid 1644:tid 16] AH00428: Parent: child process 2036<br> exited with statu=
s 3221225477 -- Restarting.<br> <br> Windows says: Faulting module name: mod=
_h2.so, version: 2.4.17.<br> <br> Log is filled (over 2000) with:<br> <br> [=
h2:warn] [pid 2036:tid 4008] (OS 10060)A connection attempt failed<br> becau=
se the connected party did not properly respond after a period of<br> time, =
or established connection failed because connected host has failed<br> to re=
spond.  : [client 84.105.35.206:58278] AH02950: h2_session(124):<br> error r=
eading, terminating<br> <br> Few other errors/warning:<br> <br> [h2:warn] [p=
id 2036:tid 4020] (70015)Could not find specified socket in<br> poll list.: =
[client 90.21.243.213:57391] AH02953: h2_mplx(126): stream for<br> response =
49<br> <br> [h2:error] [pid 3300:tid 2832] (OS 10053)An established connecti=
on was<br> aborted by the software in your host machine.  : [client<br> 202.=
183.129.112:47902] AH02925: h2_stream(116-35): failed send_data_cb<br> <br> =
[h2:error] [pid 3300:tid 2856] (OS 10054)An existing connection was<br> forc=
ibly closed by the remote host.  : [client 177.41.118.92:52990]<br> AH02925:=
 h2_stream(123-29): failed send_data_cb<br> <br> Logs (level notice) attache=
d.<br> <br> Steffen<br></blockquote> <br> &lt;green/&gt;bytes GmbH<br> Hafen=
weg 16, 48155 M=c3=bcnster, Germany<br> Phone: +49 251 2807760. Amtsgericht =
M=c3=bcnster: HRB5782<br> <br> <br></blockquote><br>&lt;green/&gt;bytes GmbH=
<br>Hafenweg 16, 48155 M=c3=bcnster, Germany<br>Phone: +49 251 2807760. Amts=
gericht M=c3=bcnster: HRB5782<br><br><br><br></blockquote><br> 
</body></html>

------=_SW_1864_1442837207_mpa=--


From dev-return-83845-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 21 13:28:09 2015
Return-Path: <dev-return-83845-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CA7BF18239
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Sep 2015 13:28:09 +0000 (UTC)
Received: (qmail 20905 invoked by uid 500); 21 Sep 2015 13:28:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 20831 invoked by uid 500); 21 Sep 2015 13:28:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 20821 invoked by uid 99); 21 Sep 2015 13:28:05 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Sep 2015 13:28:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5FB9E1A288A
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 13:28:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, SPF_HELO_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id LbHokT7tucrE for <dev@httpd.apache.org>;
	Mon, 21 Sep 2015 13:27:50 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 72CF542B78
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 13:27:50 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1442842120;
	bh=9s8KPyHlWwtNbkv5SIdOUA42YChdq+IyaMDJw9w4lPU=;
	h=From:To:References:In-Reply-To:Subject:Date;
	b=Cey1VtekQYDvAJAmExBnKWmj/JSuKYM8xzM6Qy2gzFxLOLTzehrgXtrPXkloS9mUO
	 jhIjhGP8rcWj9H5LpTlhI8MfaShRKZ81Zat2XQRk2R7z1je6HtsRBHPdT16tKfJAqm
	 cRMUnSyMwXmvX7a7iOKdrH62MngxpZmRKz/0MrEo=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <92D87AAB9C0A45E4922BDE5516EE6415@father>
From: "Steffen" <info@apachelounge.com>
To: <dev@httpd.apache.org>
References: <55fff2d7.554.1350.4233@land10.nl>
In-Reply-To: <55fff2d7.554.1350.4233@land10.nl>
Subject: Re: 2.4.17-protocols-http2 :: Restarting
Date: Mon, 21 Sep 2015 15:28:25 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_008E_01D0F482.28B6F870"
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

This is a multi-part message in MIME format.

------=_NextPart_000_008E_01D0F482.28B6F870
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable

Set it to loglevel info.=20

All looks fine,  same as former with a lot of ssl warnings ;

[ssl:info] [pid 8324:tid 3868] (70014)End of file found: [client =
157.55.39.98:12963] AH01991: SSL input filter read failed

Noticed that it looks like double logging, mod_ssl and mod_h2:

[Mon Sep 21 15:07:45.856942 2015] [ssl:info] [pid 8324:tid 3868] (OS =
10060)A connection attempt failed because the connected party did not =
properly respond after a period of time, or established connection =
failed because connected host has failed to respond.  : [client =
62.214.95.122:49942] AH01991: SSL input filter read failed.

[Mon Sep 21 15:07:45.856942 2015] [h2:info] [pid 8324:tid 3868] (OS =
10060)A connection attempt failed because the connected party did not =
properly respond after a period of time, or established connection =
failed because connected host has failed to respond.  : [client =
62.214.95.122:49942] AH02950: h2_session(24): error reading, terminating

Steffen


From: Steffen=20
Sent: Monday, September 21, 2015 2:06 PM
To: dev@httpd.apache.org=20
Subject: Re: 2.4.17-protocols-http2 :: Restarting

Running now with it.

See in loglevel notice not the warnings anymore.=20

Thanks,

Steffen

On Monday 21/09/2015 at 13:14, Stefan Eissing wrote:=20
  I did a little bit more on the session close/abort handling. Checked =
into the 2.4.17-xxx branch.

  //Stefan


    Am 21.09.2015 um 12:29 schrieb Steffen <info@apachelounge.com>:

    Applied h2_conn_io.c Revision 1704241 (removed wrong error =
supression in h2
    connection writes)

    https://www.apachelounge.com/ running now with it.

    Steffen

    -----Original Message----- From: Stefan Eissing
    Sent: Monday, September 21, 2015 11:11 AM
    To: dev@httpd.apache.org
    Subject: Re: 2.4.17-protocols-http2 :: Restarting

    Yeah, I think when I initially wrote this code, I wanted to err on =
the side
    of catching my mistakes. Time to level down the common conditions =
that
    happen, e.g. when client just disconnect.


      Am 21.09.2015 um 11:05 schrieb Steffen <info@apachelounge.com>:

      About the huge number of warnings

      [h2:warn] [pid 2036:tid 4008] (OS 10060)A connection attempt =
failed
      because the connected party did not properly respond after a =
period of
      time, or established connection failed because connected host has =
failed
      to respond. : [client 84.105.35.206:58278] AH02950: =
h2_session(124):
      error reading, terminating

      Same with no mod_h2, only ssl:info, mod_h2 has warn.

      [ssl:info] [pid 4880:tid 1404] (OS 10060)A connection attempt =
failed
      because the connected party did not properly respond after a =
period of
      time, or established connection failed because connected host has =
failed
      to respond. : [client 211.23.119.218:43915] AH01991: SSL input =
filter
      read failed.

      Long way back I discussed this on the list.

      Steffen

      From: Steffen
      Sent: Monday, September 21, 2015 9:27 AM
      To: Apache Devel List
      Subject: 2.4.17-protocols-http2 :: Restarting

      Running live now for almost two days, see
      https://www.apachelounge.com/viewtopic.php?p=3D31674

      Was running fine, expect the log is filled with mod_h2 warnings =
(see
      below)
      Suddenly after a few hours, it was starting all over and over, 105 =
times.
      And running fine for a few hours without restarting.

      Looks like a (bad) client is causing it.

      Now I disabled mod_h2, to see if that is fine.

      [mpm_winnt:notice] [pid 1644:tid 16] AH00428: Parent: child =
process 2036
      exited with status 3221225477 -- Restarting.

      Windows says: Faulting module name: mod_h2.so, version: 2.4.17.

      Log is filled (over 2000) with:

      [h2:warn] [pid 2036:tid 4008] (OS 10060)A connection attempt =
failed
      because the connected party did not properly respond after a =
period of
      time, or established connection failed because connected host has =
failed
      to respond. : [client 84.105.35.206:58278] AH02950: =
h2_session(124):
      error reading, terminating

      Few other errors/warning:

      [h2:warn] [pid 2036:tid 4020] (70015)Could not find specified =
socket in
      poll list.: [client 90.21.243.213:57391] AH02953: h2_mplx(126): =
stream for
      response 49

      [h2:error] [pid 3300:tid 2832] (OS 10053)An established connection =
was
      aborted by the software in your host machine. : [client
      202.183.129.112:47902] AH02925: h2_stream(116-35): failed =
send_data_cb

      [h2:error] [pid 3300:tid 2856] (OS 10054)An existing connection =
was
      forcibly closed by the remote host. : [client 177.41.118.92:52990]
      AH02925: h2_stream(123-29): failed send_data_cb

      Logs (level notice) attached.

      Steffen


    <green/>bytes GmbH
    Hafenweg 16, 48155 M=C3=BCnster, Germany
    Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




  <green/>bytes GmbH
  Hafenweg 16, 48155 M=C3=BCnster, Germany
  Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782






------=_NextPart_000_008E_01D0F482.28B6F870
Content-Type: text/html;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable

<HTML><HEAD>
<STYLE>
 .sw_message P{margin:0px;padding:0px;}
 .sw_message {FONT-SIZE: =
12pt;FONT-FAMILY:Tahoma,Arial,Helvetica,sans-serif;background:white;}
 .sw_message blockquote{margin-left:5px;padding-left:5px;border-left:2px =
solid #144fae;color: #144fae;}
 .sw_message blockquote blockquote{border-left:2px solid #006312;color: =
#006312;}
 .sw_message blockquote blockquote blockquote{border-left:2px solid =
#8e5656;color: #8e5656;}
 .sw_message blockquote blockquote blockquote blockquote{border-left:2px =
solid #888;color: #888;}
</STYLE>
</HEAD>
<BODY class=3Dsw_message dir=3Dltr>
<DIV dir=3Dltr>
<DIV style=3D"FONT-SIZE: 10pt; FONT-FAMILY: 'Arial'; COLOR: #000000">
<DIV>Set it to loglevel info. </DIV>
<DIV>&nbsp;</DIV>
<DIV>All looks fine,&nbsp; same as former with a lot of ssl warnings =
;</DIV>
<DIV>&nbsp;</DIV>
<DIV>[ssl:info] [pid 8324:tid 3868] (70014)End of file found: [client=20
157.55.39.98:12963] AH01991: SSL input filter read failed</DIV>
<DIV>&nbsp;</DIV>
<DIV>Noticed that it looks like double logging, mod_ssl and =
mod_h2:</DIV>
<DIV>&nbsp;</DIV>
<DIV>[Mon Sep 21 15:07:45.856942 2015] [ssl:info] [pid 8324:tid 3868] =
(OS=20
10060)A connection attempt failed because the connected party did not =
properly=20
respond after a period of time, or established connection failed because =

connected host has failed to respond.&nbsp; : [client =
62.214.95.122:49942]=20
AH01991: SSL input filter read failed.</DIV>
<DIV>&nbsp;</DIV>
<DIV>[Mon Sep 21 15:07:45.856942 2015] [h2:info] [pid 8324:tid 3868] (OS =
10060)A=20
connection attempt failed because the connected party did not properly =
respond=20
after a period of time, or established connection failed because =
connected host=20
has failed to respond.&nbsp; : [client 62.214.95.122:49942] AH02950:=20
h2_session(24): error reading, terminating</DIV>
<DIV>&nbsp;</DIV>
<DIV>Steffen</DIV>
<DIV>&nbsp;</DIV>
<DIV>&nbsp;</DIV>
<DIV=20
style=3D'FONT-SIZE: small; TEXT-DECORATION: none; FONT-FAMILY: =
"Calibri"; FONT-WEIGHT: normal; COLOR: #000000; FONT-STYLE: normal; =
DISPLAY: inline'>
<DIV style=3D"FONT: 10pt tahoma">
<DIV style=3D"BACKGROUND: #f5f5f5">
<DIV style=3D"font-color: black"><B>From:</B> <A =
title=3Dinfo@apachelounge.com=20
href=3D"mailto:info@apachelounge.com">Steffen</A> </DIV>
<DIV><B>Sent:</B> Monday, September 21, 2015 2:06 PM</DIV>
<DIV><B>To:</B> <A title=3Ddev@httpd.apache.org=20
href=3D"mailto:dev@httpd.apache.org">dev@httpd.apache.org</A> </DIV>
<DIV><B>Subject:</B> Re: 2.4.17-protocols-http2 :: =
Restarting</DIV></DIV></DIV>
<DIV>&nbsp;</DIV></DIV>
<DIV=20
style=3D'FONT-SIZE: small; TEXT-DECORATION: none; FONT-FAMILY: =
"Calibri"; FONT-WEIGHT: normal; COLOR: #000000; FONT-STYLE: normal; =
DISPLAY: inline'>
<DIV>Running now with it.</DIV>
<DIV>&nbsp;</DIV>
<DIV>See in loglevel notice not the warnings anymore. </DIV>
<DIV>&nbsp;</DIV>
<DIV>Thanks,</DIV>
<DIV>&nbsp;</DIV>
<DIV>Steffen</DIV>
<DIV>&nbsp;</DIV>
<DIV id=3Deditor_signature></DIV>
<DIV>On Monday 21/09/2015 at 13:14, Stefan Eissing wrote: </DIV>
<BLOCKQUOTE type=3D"cite">I did a little bit more on the session =
close/abort=20
  handling. Checked into the 2.4.17-xxx branch.<BR><BR>//Stefan<BR><BR>
  <BLOCKQUOTE type=3D"cite">Am 21.09.2015 um 12:29 schrieb Steffen=20
    &lt;info@apachelounge.com&gt;:<BR><BR>Applied h2_conn_io.c Revision =
1704241=20
    (removed wrong error supression in h2<BR>connection =
writes)<BR><BR><A=20
    href=3D"https://www.apachelounge.com/"=20
    target=3D_blank>https://www.apachelounge.com/</A> running now with=20
    it.<BR><BR>Steffen<BR><BR>-----Original Message----- From: Stefan=20
    Eissing<BR>Sent: Monday, September 21, 2015 11:11 AM<BR>To:=20
    dev@httpd.apache.org<BR>Subject: Re: 2.4.17-protocols-http2 ::=20
    Restarting<BR><BR>Yeah, I think when I initially wrote this code, I =
wanted=20
    to err on the side<BR>of catching my mistakes. Time to level down =
the common=20
    conditions that<BR>happen, e.g. when client just disconnect.<BR><BR>
    <BLOCKQUOTE type=3D"cite">Am 21.09.2015 um 11:05 schrieb Steffen=20
      &lt;info@apachelounge.com&gt;:<BR><BR>About the huge number of=20
      warnings<BR><BR>[h2:warn] [pid 2036:tid 4008] (OS 10060)A =
connection=20
      attempt failed<BR>because the connected party did not properly =
respond=20
      after a period of<BR>time, or established connection failed =
because=20
      connected host has failed<BR>to respond. : [client =
84.105.35.206:58278]=20
      AH02950: h2_session(124):<BR>error reading, =
terminating<BR><BR>Same with=20
      no mod_h2, only ssl:info, mod_h2 has warn.<BR><BR>[ssl:info] [pid =
4880:tid=20
      1404] (OS 10060)A connection attempt failed<BR>because the =
connected party=20
      did not properly respond after a period of<BR>time, or established =

      connection failed because connected host has failed<BR>to respond. =
:=20
      [client 211.23.119.218:43915] AH01991: SSL input filter<BR>read=20
      failed.<BR><BR>Long way back I discussed this on the=20
      list.<BR><BR>Steffen<BR><BR>From: Steffen<BR>Sent: Monday, =
September 21,=20
      2015 9:27 AM<BR>To: Apache Devel List<BR>Subject: =
2.4.17-protocols-http2=20
      :: Restarting<BR><BR>Running live now for almost two days, =
see<BR><A=20
      href=3D"https://www.apachelounge.com/viewtopic.php?p=3D31674"=20
      =
target=3D_blank>https://www.apachelounge.com/viewtopic.php?p=3D31674</A><=
BR><BR>Was=20
      running fine, expect the log is filled with mod_h2 warnings=20
      (see<BR>below)<BR>Suddenly after a few hours, it was starting all =
over and=20
      over, 105 times.<BR>And running fine for a few hours without=20
      restarting.<BR><BR>Looks like a (bad) client is causing =
it.<BR><BR>Now I=20
      disabled mod_h2, to see if that is fine.<BR><BR>[mpm_winnt:notice] =
[pid=20
      1644:tid 16] AH00428: Parent: child process 2036<BR>exited with =
status=20
      3221225477 -- Restarting.<BR><BR>Windows says: Faulting module =
name:=20
      mod_h2.so, version: 2.4.17.<BR><BR>Log is filled (over 2000)=20
      with:<BR><BR>[h2:warn] [pid 2036:tid 4008] (OS 10060)A connection =
attempt=20
      failed<BR>because the connected party did not properly respond =
after a=20
      period of<BR>time, or established connection failed because =
connected host=20
      has failed<BR>to respond. : [client 84.105.35.206:58278] AH02950:=20
      h2_session(124):<BR>error reading, terminating<BR><BR>Few other=20
      errors/warning:<BR><BR>[h2:warn] [pid 2036:tid 4020] (70015)Could =
not find=20
      specified socket in<BR>poll list.: [client 90.21.243.213:57391] =
AH02953:=20
      h2_mplx(126): stream for<BR>response 49<BR><BR>[h2:error] [pid =
3300:tid=20
      2832] (OS 10053)An established connection was<BR>aborted by the =
software=20
      in your host machine. : [client<BR>202.183.129.112:47902] AH02925: =

      h2_stream(116-35): failed send_data_cb<BR><BR>[h2:error] [pid =
3300:tid=20
      2856] (OS 10054)An existing connection was<BR>forcibly closed by =
the=20
      remote host. : [client 177.41.118.92:52990]<BR>AH02925: =
h2_stream(123-29):=20
      failed send_data_cb<BR><BR>Logs (level notice)=20
    attached.<BR><BR>Steffen<BR></BLOCKQUOTE><BR>&lt;green/&gt;bytes=20
    GmbH<BR>Hafenweg 16, 48155 M=C3=BCnster, Germany<BR>Phone: +49 251 =
2807760.=20
    Amtsgericht M=C3=BCnster: =
HRB5782<BR><BR><BR></BLOCKQUOTE><BR>&lt;green/&gt;bytes=20
  GmbH<BR>Hafenweg 16, 48155 M=C3=BCnster, Germany<BR>Phone: +49 251 =
2807760.=20
  Amtsgericht M=C3=BCnster:=20
HRB5782<BR><BR><BR><BR></BLOCKQUOTE><BR></DIV></DIV></DIV></BODY></HTML>

------=_NextPart_000_008E_01D0F482.28B6F870--


From dev-return-83846-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 21 22:10:01 2015
Return-Path: <dev-return-83846-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1B63517F19
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 21 Sep 2015 22:10:01 +0000 (UTC)
Received: (qmail 83125 invoked by uid 500); 21 Sep 2015 22:10:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83035 invoked by uid 500); 21 Sep 2015 22:10:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 82997 invoked by uid 99); 21 Sep 2015 22:10:00 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 21 Sep 2015 22:10:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 2854D1809DB
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 22:10:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id PPJ_-Z0QCys3 for <dev@httpd.apache.org>;
	Mon, 21 Sep 2015 22:09:59 +0000 (UTC)
Received: from mail-pa0-f49.google.com (mail-pa0-f49.google.com [209.85.220.49])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 9264C2039F
	for <dev@httpd.apache.org>; Mon, 21 Sep 2015 22:09:58 +0000 (UTC)
Received: by padhy16 with SMTP id hy16so127886885pad.1
        for <dev@httpd.apache.org>; Mon, 21 Sep 2015 15:09:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=subject:to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-type:content-transfer-encoding;
        bh=tWrgMq7JUw3osKNg5KzWVFR05I4JZ7bOrYRRo5gKRBI=;
        b=A58SW7DVCIWQGh+qs/02Wf0OVUQu7Krdp0QQsQ/y0NroE/oGsrITyfI8sYEUJqv4aS
         wsS2B9yrnCViYW347DfXx4DnFRqnJW2JzQwQ/plN1iqFmkOhp23quMLwaIxA5UztKhB3
         IAQsi6leC6Eqhu1PGldeDKBzsNPS6k4K9QAs3QF5BCuW/pTEzEwoF9naI7YAHCa5m9ZO
         57HVEIZ3GJmKVOqpLej1w+SOq5cpyE7LvQmUo4RCtfMt4dM4wuub1jx2uk9RZVMOVQAn
         sRdje8tjPZlK6798k31OktusDek5jceZSvwtgjsdzOst2WuZJ2jT6cd3LJ+taR1a/TTe
         w35A==
X-Received: by 10.68.243.99 with SMTP id wx3mr16095593pbc.33.1442873397171;
        Mon, 21 Sep 2015 15:09:57 -0700 (PDT)
Received: from [192.168.1.2] (static-50-43-48-228.bvtn.or.frontiernet.net. [50.43.48.228])
        by smtp.gmail.com with ESMTPSA id df2sm26524202pad.19.2015.09.21.15.09.55
        for <dev@httpd.apache.org>
        (version=TLSv1/SSLv3 cipher=OTHER);
        Mon, 21 Sep 2015 15:09:56 -0700 (PDT)
Subject: Re: Thoughts on the new Protocols architecture
To: dev@httpd.apache.org
References: <55FF85F0.8040106@gmail.com>
 <10CAC6C5-F3C1-44CE-B18F-2892E0F9423B@greenbytes.de>
From: Jacob Champion <champion.p@gmail.com>
Message-ID: <56008033.4000004@gmail.com>
Date: Mon, 21 Sep 2015 15:09:55 -0700
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <10CAC6C5-F3C1-44CE-B18F-2892E0F9423B@greenbytes.de>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

Stefan,

On 09/21/2015 05:00 AM, Stefan Eissing wrote:
> I think a "protocol_ugprade" hook would work better. That way, a
> module like yours can replace the core upgrade handling itself, send
> your own 101 response and call ap_switch_protocol() yourself. Would
> that work for you?

Yes, a separate upgrade hook could probably work. I'm not sure if it 
makes sense to call ap_switch_protocol() from such a hook, though -- 
shouldn't I just perform the switch directly at that point? That way I 
could prevent any other modules from cutting in and ruining the handshake.

> 7230 speaks and has registered "HTTP/x(.x)?" as token, but for ALPN
> it is "http/1.1" (and not case-insensitive), I tend to propose that
> we treat tokens in "Upgrade:" headers as case-insensitive. That would
> mean:
>
> The core upgrade handler would lower case all protocol tokens in the
> Upgrade header before passing it to ap_select_protocol(). That makes
> selections normalized again. If someone wants to see the original
> value, it needs to look at the request headers itself.

That sounds good to me. Can anyone comment on the wisdom of making 
Upgrade case-insensitive as well? Should we try to get that formalized?

>> 1) WebSocket prefers that the server close the TCP connection
>> before the client [...] Is there a "proper" way to do this
>> on my end, or is there more architectural work that would be needed
>> to support server-led TCP closes?
>
> Hmm, you should have to do nothing. The core upgrade handler marks
> the connection for closing which *should* be enough. Bug?

Hm, okay. I'll try to root-cause when I get a chance.

>> 2) Protocols is per-virtual-host, but I think typically people want
>> to enable WebSocket for a particular URI, not an entire server [...]
>> Maybe WebSocket is just an oddball protocol from Upgrade's point of
>> view?
>
> Yes and no. Different from http/2 as that is another framing layer
> that still has http/1.1 semantics. But also a client in HTTP/1.1
> Upgrades. The mechanism we implement should work for both.

I was originally wondering if Protocols should be made per-Location, but 
after having slept on it, I think it's fine to enable WebSocket per-host 
and simply have the module refuse to propose a switch if the requested 
URI is not WebSocket-enabled.

> Not having a separate worker pool for mod_h2 is desirable. However
> for 2.4.x branch, there are limits to what can be done. In trunk,
> integration should happen. Currently I know not enough about mpms to
> come up with a solid proposal.

That's fair; I'd definitely like to see mod_h2 in a release sooner than 
later. :) I'll try to get acquainted with mpm_motorz, since I don't know 
much about it either (other than "it's magic"). Maybe it'll provide some 
ideas for mod_websocket at least.

--Jacob

From dev-return-83847-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 22 09:06:45 2015
Return-Path: <dev-return-83847-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C3C25176B3
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Sep 2015 09:06:45 +0000 (UTC)
Received: (qmail 81216 invoked by uid 500); 22 Sep 2015 09:06:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 81149 invoked by uid 500); 22 Sep 2015 09:06:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 81139 invoked by uid 99); 22 Sep 2015 09:06:39 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Sep 2015 09:06:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id B710A1A5387
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 09:06:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.91
X-Spam-Level: **
X-Spam-Status: No, score=2.91 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, SPF_HELO_PASS=-0.001, T_FROM_12LTRDOM=0.01,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 8vlc-rOkcuPI for <dev@httpd.apache.org>;
	Tue, 22 Sep 2015 09:06:25 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 041D923066
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 09:06:24 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1442912831;
	bh=ZVA32+fiNZh3xeeD/8JKdr7ZORug8nELVJEfwkq9z+g=;
	h=From:To:Subject:Date;
	b=meQ/uUJZwNc0xOppp+jiAkX/8j2jYEnUFSEBDOhxtPOYpE3tjvhnKywV4nZ7C50b0
	 1UgPDX2HYXNmQX2eQz5aW8qsxkYaySiQYX2QkcGQ3reio2gIGrxhVzhsiDenL0QHJK
	 bwVjZGjhDakoR9VTAXF9MkS4wgRO4PwtjUyAEWYs=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <9BCE2ED00F724C07931BFDC5AD913AE1@father>
From: "Steffen" <info@apachelounge.com>
To: "Apache Devel List" <dev@httpd.apache.org>
Subject: =?Windows-1252?Q?mod=5Fh2_=96_browsers_getting_confused?=
Date: Tue, 22 Sep 2015 11:04:36 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0029_01D0F526.780043B0"
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

This is a multi-part message in MIME format.

------=_NextPart_000_0029_01D0F526.780043B0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

Apachelounge made the binary available.

Issue reported: see =
https://www.apachelounge.com/viewtopic.php?p=3D31720#31720

The poster there is referring to =
https://http2.github.io/http2-spec/#rfc.section.9.1.1

Steffen

------=_NextPart_000_0029_01D0F526.780043B0
Content-Type: text/html;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

<HTML><HEAD></HEAD>
<BODY dir=3Dltr>
<DIV dir=3Dltr>
<DIV style=3D"FONT-SIZE: 10pt; FONT-FAMILY: 'Arial'; COLOR: #000000">
<DIV>Apachelounge made the binary available.</DIV>
<DIV>&nbsp;</DIV>
<DIV>Issue reported: see <A=20
title=3Dhttp://www.apachelounge.com/viewtopic.php?p=3D31720#31720=20
href=3D"https://www.apachelounge.com/viewtopic.php?p=3D31720#31720">https=
://www.apachelounge.com/viewtopic.php?p=3D31720#31720</A></DIV>
<DIV>&nbsp;</DIV>
<DIV>The poster there is referring to <A=20
title=3Dhttps://http2.github.io/http2-spec/#rfc.section.9.1.1=20
href=3D"https://http2.github.io/http2-spec/#rfc.section.9.1.1">https://ht=
tp2.github.io/http2-spec/#rfc.section.9.1.1</A></DIV>
<DIV>&nbsp;</DIV>
<DIV>Steffen</DIV>
<DIV>&nbsp;</DIV></DIV></DIV></BODY></HTML>

------=_NextPart_000_0029_01D0F526.780043B0--


From dev-return-83848-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 22 09:07:21 2015
Return-Path: <dev-return-83848-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6EA20176BE
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Sep 2015 09:07:21 +0000 (UTC)
Received: (qmail 85330 invoked by uid 500); 22 Sep 2015 09:07:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 85257 invoked by uid 500); 22 Sep 2015 09:07:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 85247 invoked by uid 99); 22 Sep 2015 09:07:17 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Sep 2015 09:07:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 88C12180997
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 09:07:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.525
X-Spam-Level: ***
X-Spam-Status: No, score=3.525 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, STOX_REPLY_TYPE=0.212,
	STOX_REPLY_TYPE_WITHOUT_QUOTES=1.86, TVD_FINGER_02=1.544,
	T_FROM_12LTRDOM=0.01, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id cNUajXlSsCV7 for <dev@httpd.apache.org>;
	Tue, 22 Sep 2015 09:07:08 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 9C6FE23042
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 09:07:07 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1442912873;
	bh=DNuFPHIm+ahSkwqU4KT60oX3q97cct8Gh+ynrt8gRQw=;
	h=From:To:Subject:Date;
	b=Q48jPmGSHrkjTj2IFuG5JiZ5+kJW5H1rvMD/H8vXqMcVPIxqyshZzt4JgqdopI8bP
	 R6CrsL60aTtRcCI7zH+IHnS9jKiZxG5Y9uMiGGuDBSM+hhn5JfJNvf1jWoSrbNUPBy
	 xZY59AOJIwNtpfClQC/+u8WMiHQa6gigABZp0D8M=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <4F777C45B001483AB9C4E53D113B3061@father>
From: "Steffen" <info@apachelounge.com>
To: "Apache Devel List" <dev@httpd.apache.org>
Subject: =?Windows-1252?Q?mod=5Fh2_=96_browsers_getting_confused?=
Date: Tue, 22 Sep 2015 11:07:42 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="Windows-1252";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

Apachelounge made the branches/2.4.17-protocols-http2 binary available.

Issue reported: see https://www.apachelounge.com/viewtopic.php?p=31720

The poster there is referring to 
https://http2.github.io/http2-spec/#rfc.section.9.1.1

Steffen


From dev-return-83849-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 22 11:24:19 2015
Return-Path: <dev-return-83849-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AD62617B6F
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Sep 2015 11:24:19 +0000 (UTC)
Received: (qmail 22426 invoked by uid 500); 22 Sep 2015 11:24:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 22363 invoked by uid 500); 22 Sep 2015 11:24:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 22353 invoked by uid 99); 22 Sep 2015 11:24:13 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Sep 2015 11:24:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 9348C1A53BA
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 11:24:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.007
X-Spam-Level:
X-Spam-Status: No, score=-0.007 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 1bf6Z38fD4TQ for <dev@httpd.apache.org>;
	Tue, 22 Sep 2015 11:24:11 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 9DFAD20646
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 11:24:10 +0000 (UTC)
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 0376115A0309
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 13:24:03 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
Subject: connection reuse and ssl renegotiation
Message-Id: <2317850E-9CA5-4484-8E8F-07057980CF22@greenbytes.de>
Date: Tue, 22 Sep 2015 13:24:03 +0200
To: dev@httpd.apache.org
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
X-Mailer: Apple Mail (2.2104)

Just an update on this topic:

We currently allow only connection reuse for the server/vhost that was =
selected by the SNI, thanks to the patch by Yann.

However, the problem is deeper than I originally thought: SSL =
renegotiation is forbidden in HTTP/2, exactly due to concurrency issues. =
There is a debate currently on the http-wg mailing list, what to do =
about it, especially for sites that use client certificates.

As Apache httpd, we can at the moment only advise server administrators =
to not enable HTTP/2 for servers/vhosts that make use of renegotiations. =
We should probably log an error when ap_get_protocol() !=3D "http/1.1", =
when renegotiation is attempted. Anyone know the best place to put that?

ssl_hook_Access() seems the renegotiation monster. Not sure if I want to =
stick my fingers in there. But this seems to be the place to check the =
protocol and make a log error (at least)? Or do we make a =
connection_param_renegotiate hook that can stop renegotiation and set =
the proper response on the request?

//Stefan

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83850-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 22 12:05:29 2015
Return-Path: <dev-return-83850-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8096917C80
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Sep 2015 12:05:29 +0000 (UTC)
Received: (qmail 88468 invoked by uid 500); 22 Sep 2015 12:05:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 88396 invoked by uid 500); 22 Sep 2015 12:05:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 88381 invoked by uid 99); 22 Sep 2015 12:05:29 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Sep 2015 12:05:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 9927FF5C30
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 12:05:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id EnUzns5v2TQO for <dev@httpd.apache.org>;
	Tue, 22 Sep 2015 12:05:23 +0000 (UTC)
Received: from mail-qk0-f182.google.com (mail-qk0-f182.google.com [209.85.220.182])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 59E4144188
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 12:05:23 +0000 (UTC)
Received: by qkfq186 with SMTP id q186so2559370qkf.1
        for <dev@httpd.apache.org>; Tue, 22 Sep 2015 05:05:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=cISVYw3aO1nn0I69USmlGzdisf3z8BItyTdNUgDmB8k=;
        b=Mt0Lb8JyGTwaHnqTsdkttjAKqpYlh7G/4lRmcCsk4ykRi7xg1v9gFrbTRvGPS0OZkI
         FOKwbNwFsdaXpdh6FJbSCRQQLcuZ6e+7OCo6D57OtqooXwaPx4aH2Djt/c0QbgP3b4v9
         PSQEhQRNWK2iwW6jggQ2b7GPWs2ZqV0y0sLAzCPvEvd1fc4w/HXs16mDxQQsB/Fq85m2
         J9xAoVK2YhHgk/02ERoQZ5+TU/o8L85yimEZ08CemE979GhcDAtdxS37f9TkhJU/0qay
         XzdhYGAhJlQXg5aXVGoAwIUSSp3LkcOEzmOPLWN6m4x+GerNJGN8UrEzdzQeXw3Ts7cp
         8KSA==
MIME-Version: 1.0
X-Received: by 10.55.201.141 with SMTP id m13mr28751230qkl.68.1442923523043;
 Tue, 22 Sep 2015 05:05:23 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Tue, 22 Sep 2015 05:05:22 -0700 (PDT)
Date: Tue, 22 Sep 2015 14:05:22 +0200
Message-ID: <CAKQ1sVO=HqVVm42Bk2KihaPkX5MVcxFDpK0s_p-AKsBAvL8WQg@mail.gmail.com>
Subject: svn move modules/http2 modules/h2 ?
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

I'm confused about the sources being in modules/http2 and the module
being mod_h2 (configured with --enable-h2, ...), it seems to be the
only one like this.

+1 for me...

From dev-return-83851-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 22 12:08:24 2015
Return-Path: <dev-return-83851-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CD7C017C8D
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Sep 2015 12:08:24 +0000 (UTC)
Received: (qmail 91526 invoked by uid 500); 22 Sep 2015 12:08:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91452 invoked by uid 500); 22 Sep 2015 12:08:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91442 invoked by uid 99); 22 Sep 2015 12:08:24 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Sep 2015 12:08:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id CA5F61A53E6
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 12:08:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.007
X-Spam-Level:
X-Spam-Status: No, score=-0.007 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id n-5Q19J4UtxF for <dev@httpd.apache.org>;
	Tue, 22 Sep 2015 12:08:22 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 735B443C66
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 12:08:22 +0000 (UTC)
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id E3CF715A0053
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 14:08:14 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn move modules/http2 modules/h2 ?
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVO=HqVVm42Bk2KihaPkX5MVcxFDpK0s_p-AKsBAvL8WQg@mail.gmail.com>
Date: Tue, 22 Sep 2015 14:08:14 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <6770C46A-8B9E-4B67-8457-662026158448@greenbytes.de>
References: <CAKQ1sVO=HqVVm42Bk2KihaPkX5MVcxFDpK0s_p-AKsBAvL8WQg@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

+0.5

h2 ftw! (but there is also a mod_mime in the http dir, so I do not =
really feel strongly about this)

> Am 22.09.2015 um 14:05 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> I'm confused about the sources being in modules/http2 and the module
> being mod_h2 (configured with --enable-h2, ...), it seems to be the
> only one like this.
>=20
> +1 for me...

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83852-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 22 12:30:04 2015
Return-Path: <dev-return-83852-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E639417D57
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Sep 2015 12:30:04 +0000 (UTC)
Received: (qmail 29323 invoked by uid 500); 22 Sep 2015 12:30:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29243 invoked by uid 500); 22 Sep 2015 12:30:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29229 invoked by uid 99); 22 Sep 2015 12:30:04 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Sep 2015 12:30:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id C5F65C08AC
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 12:30:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.656
X-Spam-Level: *
X-Spam-Status: No, score=1.656 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, STOX_REPLY_TYPE=0.212, TVD_FINGER_02=1.544,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id OIUKd0cXWXRi for <dev@httpd.apache.org>;
	Tue, 22 Sep 2015 12:29:50 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 431D320382
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 12:29:50 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1442925035;
	bh=48pzhQJK2LnZ8QsCsfpU58llitoGDEk/MJHBgFjzBEQ=;
	h=From:To:References:In-Reply-To:Subject:Date;
	b=sDkUgVl1oLLnaf+NbcjLHZw6hF+8yv0XE+fP2EpI57ISIKCOEVTopuK3Wblobtt8R
	 7j9Wf2J4eDjb/AJL9fKE1E5lc1PIDSGgmZab3RQeSIrcPInBPdpXX2kVZt7C6175FN
	 WtxnhOwxICF4fcBuEErFlME8wSwJcr8yLnB0dyyE=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <713E98FD446C45E4AFB32C4771F5ACE6@father>
From: "Steffen" <info@apachelounge.com>
To: "Apache Devel List" <dev@httpd.apache.org>
References: <78A05444F0BA4FC9BA7311B96B0C4332@father> <25C53E281BEC4941A765E42721CA7907@father>
In-Reply-To: <25C53E281BEC4941A765E42721CA7907@father>
Subject: Re: 2.4.17-protocols-http2 :: Restarting
Date: Tue, 22 Sep 2015 14:26:23 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="Windows-1252";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

Update, running a few days.

Once in a few hours I see crashes.

With no-ssl and no_mod_h2 crash in libapr-1.dll

With ssl and mod_h2 crash in mod_h2.so

With mod_h2  see till now a few in the log:
[h2:warn] [pid 8980:tid 2740] (70015)Could not find specified socket in poll 
list.: [client 93.55.181.18:51564] AH02953: h2_mplx(112): stream for 
response 57

For http back to 2.4.16
For https and mod-h2 I keep it running.for now.

Steffen


From: Steffen
Sent: Monday, September 21, 2015 11:05 AM
To: Apache Devel List
Subject: Re: 2.4.17-protocols-http2 :: Restarting

About the huge number of warnings

[h2:warn] [pid 2036:tid 4008] (OS 10060)A connection attempt failed because 
the connected party did not properly respond after a period of time, or 
established connection failed because connected host has failed to respond. 
: [client 84.105.35.206:58278] AH02950: h2_session(124): error reading, 
terminating

Same  with no mod_h2, only ssl:info, mod_h2 has warn.

[ssl:info] [pid 4880:tid 1404] (OS 10060)A connection attempt failed because 
the connected party did not properly respond after a period of time, or 
established connection failed because connected host has failed to respond. 
: [client 211.23.119.218:43915] AH01991: SSL input filter read failed.

Long way back I discussed this on the list.

Steffen

From: Steffen
Sent: Monday, September 21, 2015 9:27 AM
To: Apache Devel List
Subject: 2.4.17-protocols-http2 :: Restarting

Running live now for almost two days, see 
https://www.apachelounge.com/viewtopic.php?p=31674

Was running fine, expect the log is filled with mod_h2 warnings (see below)
Suddenly after a few hours, it was starting all over and over, 105 times.
And running fine for a few hours without restarting.

Looks like a (bad) client is causing it.

Now I disabled mod_h2, to see if that is fine.

[mpm_winnt:notice] [pid 1644:tid 16] AH00428: Parent: child process 2036 
exited with status 3221225477 -- Restarting.

Windows says: Faulting module name: mod_h2.so, version: 2.4.17.

Log is filled (over 2000) with:

[h2:warn] [pid 2036:tid 4008] (OS 10060)A connection attempt failed because 
the connected party did not properly respond after a period of time, or 
established connection failed because connected host has failed to respond. 
: [client 84.105.35.206:58278] AH02950: h2_session(124): error reading, 
terminating

Few other errors/warning:

[h2:warn] [pid 2036:tid 4020] (70015)Could not find specified socket in poll 
list.: [client 90.21.243.213:57391] AH02953: h2_mplx(126): stream for 
response 49

[h2:error] [pid 3300:tid 2832] (OS 10053)An established connection was 
aborted by the software in your host machine.  : [client 
202.183.129.112:47902] AH02925: h2_stream(116-35): failed send_data_cb

[h2:error] [pid 3300:tid 2856] (OS 10054)An existing connection was forcibly 
closed by the remote host.  : [client 177.41.118.92:52990] AH02925: 
h2_stream(123-29): failed send_data_cb

Logs (level notice) attached.

Steffen 


From dev-return-83853-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 22 13:25:11 2015
Return-Path: <dev-return-83853-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F130517F7B
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Sep 2015 13:25:11 +0000 (UTC)
Received: (qmail 88615 invoked by uid 500); 22 Sep 2015 13:25:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 88547 invoked by uid 500); 22 Sep 2015 13:25:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 88536 invoked by uid 99); 22 Sep 2015 13:25:10 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Sep 2015 13:25:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 159E2180187
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 13:25:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id pPZxpyHaUMCE for <dev@httpd.apache.org>;
	Tue, 22 Sep 2015 13:25:05 +0000 (UTC)
Received: from mail-qg0-f48.google.com (mail-qg0-f48.google.com [209.85.192.48])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 59EF342F38
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 13:25:05 +0000 (UTC)
Received: by qgx61 with SMTP id 61so115730984qgx.3
        for <dev@httpd.apache.org>; Tue, 22 Sep 2015 06:20:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=uI4Oh1Wvxs6/c10qKZ96QkHGVZxaword9NPOjJbOoFQ=;
        b=kFA5qZowBF3/zxHnNF/b6YSw7vyJ8lm1g3SKgP6oUuMSQKWqd5md6mSZuN/UmvwvBo
         fhKYLGc9RSZFNIuuSSiNXPzBYihx3MWioBPbEbZtj2QKrD2046xoJgF+TKz7hMZ+5i3n
         ESXhL0ucgFtL46UDyO9x5uMEbiPlwHE6dOpqaouozswRal3HPuVq0AKRbQpZr7RQqvy5
         N79j+ARKwVKgeMCwNfe+jVWEi0gzpAPpg+yWEQxSp7J5DkY73yZj/N55cU8FdOrUjqSS
         dOiYuiat5LEBjsX3od7G1MXL8QPHfCLi7tCNwnKKyZgXY9PnkW3eR+0tVrn5x+LgBj7e
         374Q==
MIME-Version: 1.0
X-Received: by 10.140.131.70 with SMTP id 67mr31986431qhd.70.1442928004890;
 Tue, 22 Sep 2015 06:20:04 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Tue, 22 Sep 2015 06:20:04 -0700 (PDT)
In-Reply-To: <2317850E-9CA5-4484-8E8F-07057980CF22@greenbytes.de>
References: <2317850E-9CA5-4484-8E8F-07057980CF22@greenbytes.de>
Date: Tue, 22 Sep 2015 15:20:04 +0200
Message-ID: <CAKQ1sVM=v9E5mtbNXegFVLhZpf-Qq+1V2sqDoqmM54TarT-Kcw@mail.gmail.com>
Subject: Re: connection reuse and ssl renegotiation
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Tue, Sep 22, 2015 at 1:24 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
>
> SSL renegotiation is forbidden in HTTP/2, exactly due to concurrency issu=
es.

Certainly a concurrency between each one's privacy and every one's
data in the same stream :)
Also, let servers trust the security of the client/proxy side...

> There is a debate currently on the http-wg mailing list, what to do about=
 it, especially for sites that use client certificates.

They should probably forbid client certificates too :p

(BTW, could you provide some links please?)

>
> As Apache httpd, we can at the moment only advise server administrators t=
o not enable HTTP/2 for servers/vhosts that make use of renegotiations.

How can the server know which request a client will issue next on the
same connection, same vhost? same path?
That would be a warning about using multiple vhosts with different SSL
parameters/certificates/... in httpd.conf.

> We should probably log an error when ap_get_protocol() !=3D "http/1.1", w=
hen renegotiation is attempted. Anyone know the best place to put that?

That's probably in ssl_hook_Access() when renegotiate &&
!renegotiate_quick =3D> before we SSL_do_handshake().

>
> ssl_hook_Access() seems the renegotiation monster. Not sure if I want to =
stick my fingers in there. But this seems to be the place to check the prot=
ocol and make a log error (at least)? Or do we make a connection_param_rene=
gotiate hook that can stop renegotiation and set the proper response on the=
 request?

I think we should add more checks here about the current-server's
parameters vs the handshake-server's ones.
Is the handshaken protocol compatible with the current server's ones
(SSL_METHOD)?
Do the current-server's certificate's SN/SAN(s) include the requested Host?
Are the current's and handshake's SSLVerify equal, with the same CA[DN]s?
...???

Otherwise (or if a renegotiation is required in HTTP/2), bail out with 421.
This should work whenever the parameters/certificates are
shared/compatible between vhosts, putting the bargain at the admin.

Regards,
Yann.

From dev-return-83854-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 22 17:04:03 2015
Return-Path: <dev-return-83854-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 088EC175AA
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Sep 2015 17:04:03 +0000 (UTC)
Received: (qmail 78779 invoked by uid 500); 22 Sep 2015 17:04:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 78710 invoked by uid 500); 22 Sep 2015 17:04:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 78700 invoked by uid 99); 22 Sep 2015 17:04:02 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Sep 2015 17:04:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id F122EC0C9B
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 17:04:01 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.98
X-Spam-Level:
X-Spam-Status: No, score=0.98 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id QmNFXsG513m8 for <dev@httpd.apache.org>;
	Tue, 22 Sep 2015 17:03:56 +0000 (UTC)
Received: from fed1rmfepo203.cox.net (fed1rmfepo203.cox.net [68.230.241.148])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 2A6A121044
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 17:03:55 +0000 (UTC)
Received: from fed1rmimpo110 ([68.230.241.159]) by fed1rmfepo203.cox.net
          (InterMail vM.8.01.05.15 201-2260-151-145-20131218) with ESMTP
          id <20150922170348.DIDB31460.fed1rmfepo203.cox.net@fed1rmimpo110>
          for <dev@httpd.apache.org>; Tue, 22 Sep 2015 13:03:48 -0400
Received: from [192.168.1.33] ([98.176.34.113])
	by fed1rmimpo110 with cox
	id LH3n1r00J2STVfm01H3oja; Tue, 22 Sep 2015 13:03:48 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020201.560189F4.0289,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=2.0 cv=B55nJpRM c=1 sm=1
 a=8xCO7h6kmYZdHn5tUOQhsw==:17 a=LrjODJgKAAAA:8 a=pGLkceISAAAA:8
 a=UKSa4KxkKn9R68oqutkA:9 a=QEXdDO2ut3YA:10 a=8xCO7h6kmYZdHn5tUOQhsw==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; auth=pass (PLAIN) smtp.auth=glewis63@cox.net
Message-ID: <56018975.8080005@gknw.net>
Date: Tue, 22 Sep 2015 10:01:41 -0700
From: Gregg Smith <gls@gknw.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.28) Gecko/20120306 Thunderbird/3.1.20
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: svn move modules/http2 modules/h2 ?
References: <CAKQ1sVO=HqVVm42Bk2KihaPkX5MVcxFDpK0s_p-AKsBAvL8WQg@mail.gmail.com> <6770C46A-8B9E-4B67-8457-662026158448@greenbytes.de>
In-Reply-To: <6770C46A-8B9E-4B67-8457-662026158448@greenbytes.de>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit

http2 is more descriptive for the module's purpose, even if the name is 
mod_h2. I like it where it is.
- 0

On 9/22/2015 5:08 AM, Stefan Eissing wrote:
> +0.5
>
> h2 ftw! (but there is also a mod_mime in the http dir, so I do not really feel strongly about this)
>
>> Am 22.09.2015 um 14:05 schrieb Yann Ylavic<ylavic.dev@gmail.com>:
>>
>> I'm confused about the sources being in modules/http2 and the module
>> being mod_h2 (configured with --enable-h2, ...), it seems to be the
>> only one like this.
>>
>> +1 for me...
> <green/>bytes GmbH
> Hafenweg 16, 48155 Münster, Germany
> Phone: +49 251 2807760. Amtsgericht Münster: HRB5782
>
>
>


From dev-return-83855-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 22 17:29:24 2015
Return-Path: <dev-return-83855-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F3DDF176E9
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Sep 2015 17:29:23 +0000 (UTC)
Received: (qmail 57800 invoked by uid 500); 22 Sep 2015 17:29:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 57732 invoked by uid 500); 22 Sep 2015 17:29:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 57722 invoked by uid 99); 22 Sep 2015 17:29:22 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Sep 2015 17:29:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 8234DC0C9B
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 17:29:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id tk11AI6f2tbW for <dev@httpd.apache.org>;
	Tue, 22 Sep 2015 17:29:14 +0000 (UTC)
Received: from resqmta-ch2-11v.sys.comcast.net (resqmta-ch2-11v.sys.comcast.net [69.252.207.43])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id C38EA42F8E
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 17:29:13 +0000 (UTC)
Received: from resomta-ch2-12v.sys.comcast.net ([69.252.207.108])
	by resqmta-ch2-11v.sys.comcast.net with comcast
	id LHUc1r00E2LrikM01HVD3x; Tue, 22 Sep 2015 17:29:13 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-12v.sys.comcast.net with comcast
	id LHUQ1r00A2U0RYt01HVDWP; Tue, 22 Sep 2015 17:29:13 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn move modules/http2 modules/h2 ?
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56018975.8080005@gknw.net>
Date: Tue, 22 Sep 2015 13:29:12 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <52A87AE5-0AF4-4582-84D8-5747DB34F9D2@jaguNET.com>
References: <CAKQ1sVO=HqVVm42Bk2KihaPkX5MVcxFDpK0s_p-AKsBAvL8WQg@mail.gmail.com> <6770C46A-8B9E-4B67-8457-662026158448@greenbytes.de> <56018975.8080005@gknw.net>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1442942953;
	bh=QdraR8rK4BkEjjYSs0GtGUR3+2nknlWtiTQFkhrx1Lo=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=q9Rf13ccUUYVvscbbc+9x+V84l2pQcnInifshKJeelzi2JDFx3kDlatScpj5OLOyH
	 1O0wy+7hRdCy2qTvfUIi9lAoBYgNlWJKjzF2vGMuHjQfWQTNuKTmfV83iMayukgA4Q
	 Z+hFtUXPuVLMdSCwqBU5B3urpgfSWYMbF0xc1SpoFlihYp9t5SoJ6kqehSvSTurxJ0
	 lRjFio3MstRsI8zYU4dY6/Ii//DhyzV8WrQAMZi+kt9xJppUtnZQke0JDC76a7WFFj
	 LO3zNwbwGLfCXa6kL8+v91xzGnPOzAmtaovwhkBwcACtEsJFbj15PnvtnRSFnBQWp5
	 hHejBCexPUsQQ==

+1

> On Sep 22, 2015, at 1:01 PM, Gregg Smith <gls@gknw.net> wrote:
>=20
> http2 is more descriptive for the module's purpose, even if the name =
is mod_h2. I like it where it is.
> - 0
>=20
> On 9/22/2015 5:08 AM, Stefan Eissing wrote:
>> +0.5
>>=20
>> h2 ftw! (but there is also a mod_mime in the http dir, so I do not =
really feel strongly about this)
>>=20
>>> Am 22.09.2015 um 14:05 schrieb Yann Ylavic<ylavic.dev@gmail.com>:
>>>=20
>>> I'm confused about the sources being in modules/http2 and the module
>>> being mod_h2 (configured with --enable-h2, ...), it seems to be the
>>> only one like this.
>>>=20
>>> +1 for me...
>> <green/>bytes GmbH
>> Hafenweg 16, 48155 M=C3=BCnster, Germany
>> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>>=20
>>=20
>>=20
>=20


From dev-return-83856-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 22 17:39:35 2015
Return-Path: <dev-return-83856-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A075A17771
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Sep 2015 17:39:35 +0000 (UTC)
Received: (qmail 87484 invoked by uid 500); 22 Sep 2015 17:39:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 87412 invoked by uid 500); 22 Sep 2015 17:39:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 87402 invoked by uid 99); 22 Sep 2015 17:39:35 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Sep 2015 17:39:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 93982F62E7
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 17:39:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.88
X-Spam-Level: **
X-Spam-Status: No, score=2.88 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 23cvE2uqVxoJ for <dev@httpd.apache.org>;
	Tue, 22 Sep 2015 17:39:33 +0000 (UTC)
Received: from mail-vk0-f53.google.com (mail-vk0-f53.google.com [209.85.213.53])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 0E9A120925
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 17:39:33 +0000 (UTC)
Received: by vkgd64 with SMTP id d64so11553636vkg.0
        for <dev@httpd.apache.org>; Tue, 22 Sep 2015 10:39:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=FmjOmCW0XPu8PZ9hDE3hAV3l2PitaQj7JOllPsbP74M=;
        b=G6rjl1mUQ2grSIqAGi5+XG8ozuGdGzrSqYGzkF9ycHjboPJDd8S/m3/tpfOpQoDuB1
         3wLearaIKT0FjP7msNIRXMl92VW5MVBYre716Lt7l7262ofpfBH8Sfk6G26gKufR5tvz
         sByV4xvk+CVIATlYkgfyNVOqi2MF56ULAPPl7WsPy/ce/P6J0Q72gqk8L1eS6Dd3l+yo
         /0Ae6BuIdLU4yAIyP/WyyUN9lcCP5a+d+DyDpULcqBgw/Q6SglOBHm6jjwxO80C9yEPq
         RNsyZ9tSI9CztLNdmu+A4uBCxw/eSFN0IpfLI1KHMA3z5bZ1scyfLsxqiUZxRDM4a8Yg
         gePA==
MIME-Version: 1.0
X-Received: by 10.31.137.83 with SMTP id l80mr18859720vkd.38.1442943566296;
 Tue, 22 Sep 2015 10:39:26 -0700 (PDT)
Received: by 10.31.130.3 with HTTP; Tue, 22 Sep 2015 10:39:26 -0700 (PDT)
In-Reply-To: <56018975.8080005@gknw.net>
References: <CAKQ1sVO=HqVVm42Bk2KihaPkX5MVcxFDpK0s_p-AKsBAvL8WQg@mail.gmail.com>
	<6770C46A-8B9E-4B67-8457-662026158448@greenbytes.de>
	<56018975.8080005@gknw.net>
Date: Tue, 22 Sep 2015 12:39:26 -0500
Message-ID: <CABD8fLX_PTecA1nooD6BS0O0tJptQOLNhN6_tD4d3AOe3wBE1A@mail.gmail.com>
Subject: Re: svn move modules/http2 modules/h2 ?
From: Greg Stein <gstein@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a11458eeeb343600520597a8d

--001a11458eeeb343600520597a8d
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Yeah... if anything, rename to mod_http2.

On Tue, Sep 22, 2015 at 12:01 PM, Gregg Smith <gls@gknw.net> wrote:

> http2 is more descriptive for the module's purpose, even if the name is
> mod_h2. I like it where it is.
> - 0
>
>
> On 9/22/2015 5:08 AM, Stefan Eissing wrote:
>
>> +0.5
>>
>> h2 ftw! (but there is also a mod_mime in the http dir, so I do not reall=
y
>> feel strongly about this)
>>
>> Am 22.09.2015 um 14:05 schrieb Yann Ylavic<ylavic.dev@gmail.com>:
>>>
>>> I'm confused about the sources being in modules/http2 and the module
>>> being mod_h2 (configured with --enable-h2, ...), it seems to be the
>>> only one like this.
>>>
>>> +1 for me...
>>>
>> <green/>bytes GmbH
>> Hafenweg 16, 48155 M=C3=BCnster, Germany
>> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>>
>>
>>
>>
>

--001a11458eeeb343600520597a8d
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Yeah... if anything, rename to mod_http2.</div><div class=
=3D"gmail_extra"><br><div class=3D"gmail_quote">On Tue, Sep 22, 2015 at 12:=
01 PM, Gregg Smith <span dir=3D"ltr">&lt;<a href=3D"mailto:gls@gknw.net" ta=
rget=3D"_blank">gls@gknw.net</a>&gt;</span> wrote:<br><blockquote class=3D"=
gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-=
left:1ex">http2 is more descriptive for the module&#39;s purpose, even if t=
he name is mod_h2. I like it where it is.<br>
- 0<div class=3D"HOEnZb"><div class=3D"h5"><br>
<br>
On 9/22/2015 5:08 AM, Stefan Eissing wrote:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
+0.5<br>
<br>
h2 ftw! (but there is also a mod_mime in the http dir, so I do not really f=
eel strongly about this)<br>
<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
Am 22.09.2015 um 14:05 schrieb Yann Ylavic&lt;<a href=3D"mailto:ylavic.dev@=
gmail.com" target=3D"_blank">ylavic.dev@gmail.com</a>&gt;:<br>
<br>
I&#39;m confused about the sources being in modules/http2 and the module<br=
>
being mod_h2 (configured with --enable-h2, ...), it seems to be the<br>
only one like this.<br>
<br>
+1 for me...<br>
</blockquote>
&lt;green/&gt;bytes GmbH<br>
Hafenweg 16, 48155 M=C3=BCnster, Germany<br>
Phone: <a href=3D"tel:%2B49%20251%202807760" value=3D"+492512807760" target=
=3D"_blank">+49 251 2807760</a>. Amtsgericht M=C3=BCnster: HRB5782<br>
<br>
<br>
<br>
</blockquote>
<br>
</div></div></blockquote></div><br></div>

--001a11458eeeb343600520597a8d--

From dev-return-83857-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 22 18:09:02 2015
Return-Path: <dev-return-83857-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8643E17930
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Sep 2015 18:09:02 +0000 (UTC)
Received: (qmail 513 invoked by uid 500); 22 Sep 2015 18:09:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 456 invoked by uid 500); 22 Sep 2015 18:09:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 446 invoked by uid 99); 22 Sep 2015 18:09:01 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Sep 2015 18:09:01 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id E887018098C
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 18:09:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.995
X-Spam-Level: **
X-Spam-Status: No, score=2.995 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, MIME_QP_LONG_LINE=0.001,
	RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id sT-Y7E9zaLxX for <dev@httpd.apache.org>;
	Tue, 22 Sep 2015 18:08:53 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 84F8A4417E
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 18:08:52 +0000 (UTC)
Received: from [192.168.178.55] (unknown [84.189.92.135])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id EC41315A0053
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 20:08:50 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: multipart/alternative;
	boundary=Apple-Mail-BE4F89F5-75E3-485E-8C61-43ECF22C3B0C
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (1.0)
Subject: Re: svn move modules/http2 modules/h2 ?
Message-Id: <5F47661C-276A-47B9-B4E1-98588D17E3F6@greenbytes.de>
Date: Tue, 22 Sep 2015 20:08:58 +0200
References: <CAKQ1sVO=HqVVm42Bk2KihaPkX5MVcxFDpK0s_p-AKsBAvL8WQg@mail.gmail.com> <6770C46A-8B9E-4B67-8457-662026158448@greenbytes.de> <56018975.8080005@gknw.net> <CABD8fLX_PTecA1nooD6BS0O0tJptQOLNhN6_tD4d3AOe3wBE1A@mail.gmail.com>
In-Reply-To: <CABD8fLX_PTecA1nooD6BS0O0tJptQOLNhN6_tD4d3AOe3wBE1A@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: iPhone Mail (13A344)


--Apple-Mail-BE4F89F5-75E3-485E-8C61-43ECF22C3B0C
Content-Type: text/plain;
	charset=utf-8
Content-Transfer-Encoding: quoted-printable

That quickly went the wrong way... ;-)

> Am 22.09.2015 um 19:39 schrieb Greg Stein <gstein@gmail.com>:
>=20
> Yeah... if anything, rename to mod_http2.
>=20
>> On Tue, Sep 22, 2015 at 12:01 PM, Gregg Smith <gls@gknw.net> wrote:
>> http2 is more descriptive for the module's purpose, even if the name is m=
od_h2. I like it where it is.
>> - 0
>>=20
>>=20
>>> On 9/22/2015 5:08 AM, Stefan Eissing wrote:
>>> +0.5
>>>=20
>>> h2 ftw! (but there is also a mod_mime in the http dir, so I do not reall=
y feel strongly about this)
>>>=20
>>>> Am 22.09.2015 um 14:05 schrieb Yann Ylavic<ylavic.dev@gmail.com>:
>>>>=20
>>>> I'm confused about the sources being in modules/http2 and the module
>>>> being mod_h2 (configured with --enable-h2, ...), it seems to be the
>>>> only one like this.
>>>>=20
>>>> +1 for me...
>>> <green/>bytes GmbH
>>> Hafenweg 16, 48155 M=C3=BCnster, Germany
>>> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>=20

--Apple-Mail-BE4F89F5-75E3-485E-8C61-43ECF22C3B0C
Content-Type: text/html;
	charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><head><meta http-equiv=3D"content-type" content=3D"text/html; charset=3D=
utf-8"></head><body dir=3D"auto"><div></div><div>That quickly went the wrong=
 way... ;-)</div><div><br>Am 22.09.2015 um 19:39 schrieb Greg Stein &lt;<a h=
ref=3D"mailto:gstein@gmail.com">gstein@gmail.com</a>&gt;:<br><br></div><bloc=
kquote type=3D"cite"><div><div dir=3D"ltr">Yeah... if anything, rename to mo=
d_http2.</div><div class=3D"gmail_extra"><br><div class=3D"gmail_quote">On T=
ue, Sep 22, 2015 at 12:01 PM, Gregg Smith <span dir=3D"ltr">&lt;<a href=3D"m=
ailto:gls@gknw.net" target=3D"_blank">gls@gknw.net</a>&gt;</span> wrote:<br>=
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px=
 #ccc solid;padding-left:1ex">http2 is more descriptive for the module's pur=
pose, even if the name is mod_h2. I like it where it is.<br>
- 0<div class=3D"HOEnZb"><div class=3D"h5"><br>
<br>
On 9/22/2015 5:08 AM, Stefan Eissing wrote:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px=
 #ccc solid;padding-left:1ex">
+0.5<br>
<br>
h2 ftw! (but there is also a mod_mime in the http dir, so I do not really fe=
el strongly about this)<br>
<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px=
 #ccc solid;padding-left:1ex">
Am 22.09.2015 um 14:05 schrieb Yann Ylavic&lt;<a href=3D"mailto:ylavic.dev@g=
mail.com" target=3D"_blank">ylavic.dev@gmail.com</a>&gt;:<br>
<br>
I'm confused about the sources being in modules/http2 and the module<br>
being mod_h2 (configured with --enable-h2, ...), it seems to be the<br>
only one like this.<br>
<br>
+1 for me...<br>
</blockquote>
&lt;green/&gt;bytes GmbH<br>
Hafenweg 16, 48155 M=C3=BCnster, Germany<br>
Phone: <a href=3D"tel:%2B49%20251%202807760" value=3D"+492512807760" target=3D=
"_blank">+49 251 2807760</a>. Amtsgericht M=C3=BCnster: HRB5782<br>
<br>
<br>
<br>
</blockquote>
<br>
</div></div></blockquote></div><br></div>
</div></blockquote></body></html>=

--Apple-Mail-BE4F89F5-75E3-485E-8C61-43ECF22C3B0C--

From dev-return-83858-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 22 18:13:34 2015
Return-Path: <dev-return-83858-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EF9AD1799F
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Sep 2015 18:13:33 +0000 (UTC)
Received: (qmail 14817 invoked by uid 500); 22 Sep 2015 18:13:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 14750 invoked by uid 500); 22 Sep 2015 18:13:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 14730 invoked by uid 99); 22 Sep 2015 18:13:11 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Sep 2015 18:13:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 934A9F614E;
	Tue, 22 Sep 2015 18:13:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id gtWyFDOb0K50; Tue, 22 Sep 2015 18:13:09 +0000 (UTC)
Received: from mail-ig0-f194.google.com (mail-ig0-f194.google.com [209.85.213.194])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id D189544166;
	Tue, 22 Sep 2015 18:13:08 +0000 (UTC)
Received: by igbbp9 with SMTP id bp9so2222490igb.0;
        Tue, 22 Sep 2015 11:13:08 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=no0OQfWCLff1ma2+MMHT/z5EIpMc+sP3D4Ct7+9pTh8=;
        b=kAtvUXwaPXDb/LXTlTcphKBy6lr0TVJFrwZOAX0lzxemDsCnmOucmqTKi/g74NQE0h
         pnvfDsff2bM1+6aLd+ysAV6T9Epj/7QzRGaFYxOU86fKvqI1NGXSFN1DAUgqs/d108MU
         su9ELbtFZIjaXSrI/1DfzQfLF1w786qc5wt3yWUJwv/RpjSdoz474PNpqumvQ8oBGskQ
         uOEXZWndE6CR53i/ShfhdBfHNij4pliT2bJUJNl8oqNzU/oRZ1Nti1Xn0i27NNC352uy
         Juk5ZZcDJBZorNqAYGEbPQOOyQKMNx3c5fVBNtUw33l9tsxBtHLaqfuVcpsKYOGgrzDg
         NjQA==
MIME-Version: 1.0
X-Received: by 10.50.78.41 with SMTP id y9mr17617679igw.72.1442945588256; Tue,
 22 Sep 2015 11:13:08 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Tue, 22 Sep 2015 11:13:08 -0700 (PDT)
In-Reply-To: <20150922181140.18E873A0818@svn01-us-west.apache.org>
References: <20150922181140.18E873A0818@svn01-us-west.apache.org>
Date: Tue, 22 Sep 2015 14:13:08 -0400
Message-ID: <CALK=YjPBPR=qJ+wFx+Hf1+yYF8YUkJ-bFjCLiuPoW+pP+xaiTA@mail.gmail.com>
Subject: Re: svn commit: r1704683 - /httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>, docs@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

I struggled with the phrasing here, any fine-tuning (or more) appreciated.

Does our default make sense considering the warning at the top of the
doc? Should we make people specify "RemoteIPTrustedProxy *" if they
don't want to restrict it?

On Tue, Sep 22, 2015 at 2:11 PM,  <covener@apache.org> wrote:
> Author: covener
> Date: Tue Sep 22 18:11:35 2015
> New Revision: 1704683
>
> URL: http://svn.apache.org/viewvc?rev=1704683&view=rev
> Log:
> add warnings and emphasize the defaults for trusted non-internal proxies)
>
>
> Modified:
>     httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml
>
> Modified: httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml?rev=1704683&r1=1704682&r2=1704683&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml (original)
> +++ httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml Tue Sep 22 18:11:35 2015
> @@ -113,9 +113,12 @@ via the request headers.
>      <var>header-field</var> header as the useragent IP address, or list
>      of intermediate useragent IP addresses, subject to further configuration
>      of the <directive module="mod_remoteip">RemoteIPInternalProxy</directive> and
> -    <directive module="mod_remoteip">RemoteIPTrustedProxy</directive> directives.  Unless these
> -    other directives are used, <module>mod_remoteip</module> will trust all
> -    hosts presenting a <directive module="mod_remoteip">RemoteIPHeader</directive> IP value.</p>
> +    <directive module="mod_remoteip">RemoteIPTrustedProxy</directive> directives.</p>
> +
> +    <note type="warning"> Unless these other directives are used, <module>mod_remoteip</module>
> +    will trust all hosts presenting a non internal address in the
> +    <directive module="mod_remoteip">RemoteIPHeader</directive> header value.
> +    </note>
>
>      <example><title>Internal (Load Balancer) Example</title>
>      <highlight language="config">
> @@ -213,20 +216,26 @@ RemoteIPProxiesHeader X-Forwarded-By
>
>  <directivesynopsis>
>  <name>RemoteIPTrustedProxy</name>
> -<description>Declare client intranet IP addresses trusted to present the RemoteIPHeader value</description>
> +<description>Restrict client IP addresses trusted to present the RemoteIPHeader value</description>
>  <syntax>RemoteIPTrustedProxy <var>proxy-ip</var>|<var>proxy-ip/subnet</var>|<var>hostname</var> ...</syntax>
>  <contextlist><context>server config</context><context>virtual host</context></contextlist>
>
>  <usage>
> -    <p>The <directive module="mod_remoteip">RemoteIPTrustedProxy</directive> directive adds one
> -    or more addresses (or address blocks) to trust as presenting a valid
> -    RemoteIPHeader value of the useragent IP.  Unlike the
> -    <directive module="mod_remoteip">RemoteIPInternalProxy</directive> directive, any intranet
> +    <p>The <directive module="mod_remoteip">RemoteIPTrustedProxy</directive>
> +    directive restricts which peer IP addresses (or address blocks) will be
> +    trusted to present  a valid RemoteIPHeader value of the useragent IP.</p>
> +
> +    <p> Unlike the <directive module="mod_remoteip">RemoteIPInternalProxy</directive> directive, any intranet
>      or private IP address reported by such proxies, including the 10/8, 172.16/12,
>      192.168/16, 169.254/16 and 127/8 blocks (or outside of the IPv6 public
>      2000::/3 block) are not trusted as the useragent IP, and are left in the
>      <directive module="mod_remoteip">RemoteIPHeader</directive> header's value.</p>
>
> +    <note type="warning">By default, <module>mod_remoteip</module> will trust
> +    all hosts presenting a non internal address in the
> +    <directive module="mod_remoteip">RemoteIPHeader</directive> header value.
> +    </note>
> +
>      <example><title>Trusted (Load Balancer) Example</title>
>          <highlight language="config">
>  RemoteIPHeader X-Forwarded-For
> @@ -239,7 +248,7 @@ RemoteIPTrustedProxy proxy.example.com
>
>  <directivesynopsis>
>  <name>RemoteIPTrustedProxyList</name>
> -<description>Declare client intranet IP addresses trusted to present the RemoteIPHeader value</description>
> +<description>Restrict client IP addresses trusted to present the RemoteIPHeader value</description>
>  <syntax>RemoteIPTrustedProxyList <var>filename</var></syntax>
>  <contextlist><context>server config</context><context>virtual host</context></contextlist>
>
>
>



-- 
Eric Covener
covener@gmail.com

From dev-return-83859-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 22 19:49:59 2015
Return-Path: <dev-return-83859-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A618F17EDD
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Sep 2015 19:49:59 +0000 (UTC)
Received: (qmail 10004 invoked by uid 500); 22 Sep 2015 19:49:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 9944 invoked by uid 500); 22 Sep 2015 19:49:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 9930 invoked by uid 99); 22 Sep 2015 19:49:59 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Sep 2015 19:49:59 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id A5FF3C143F
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 19:49:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id rdiGA9ov9SzM for <dev@httpd.apache.org>;
	Tue, 22 Sep 2015 19:49:52 +0000 (UTC)
Received: from resqmta-ch2-07v.sys.comcast.net (resqmta-ch2-07v.sys.comcast.net [69.252.207.39])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id E21E523064
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 19:49:51 +0000 (UTC)
Received: from resomta-ch2-05v.sys.comcast.net ([69.252.207.101])
	by resqmta-ch2-07v.sys.comcast.net with comcast
	id LKp71r0052Bo0NV01KpkjJ; Tue, 22 Sep 2015 19:49:44 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-05v.sys.comcast.net with comcast
	id LKpj1r00K2U0RYt01KpjuS; Tue, 22 Sep 2015 19:49:44 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: Time for 2.4.17 soonish?
Message-Id: <3BC6C2B2-26E6-4335-97AD-B3BDA6ADA1EA@jaguNET.com>
Date: Tue, 22 Sep 2015 15:49:43 -0400
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1442951384;
	bh=Bs7fPe2h2t2GfIdLnFJWH+//0w2O8+IK+pKWkC4fvfI=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=lMRV40+iPFxVpGZGmzP+2dvZRJIigyn4p/borFzqigwt2PeN3RQnMAk3Z6H2FYD9f
	 L0icDT4Gg8riTMSI2nBHatc6Q94IHfR5Ag6ptzaP3viA5k+cNkDOiHv33FOVE5vpI9
	 SPVWhP0ru4UfmEaIgXa7Isxh30gQnRV+9h9xGCLGWF3+tMwKAiTSDzeCN2uVy+uK3L
	 VAwA7yLJhLEpUqTYaq96bZ+1W5v2D5u+agkml1u5NDZ99sgWCAGQnc7H0Obhn3I0OQ
	 rcVQBdKojyDaj7I6JcqWSmcPojuvtH+Y+okgQiyDNN4Hryo1kTZWgo0eeaDzMsUF+9
	 Ui8xxY8eEXdYQ==

I'd like to propose that we think about a 2.4.17 release
within a coupla weeks and that we try to get http/2
support in for that release.


From dev-return-83860-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 22 19:52:59 2015
Return-Path: <dev-return-83860-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 829AD17EF6
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Sep 2015 19:52:59 +0000 (UTC)
Received: (qmail 13715 invoked by uid 500); 22 Sep 2015 19:52:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 13636 invoked by uid 500); 22 Sep 2015 19:52:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 13626 invoked by uid 99); 22 Sep 2015 19:52:58 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Sep 2015 19:52:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 922AA180997
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 19:52:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id aDYekloLHVQD for <dev@httpd.apache.org>;
	Tue, 22 Sep 2015 19:52:52 +0000 (UTC)
Received: from resqmta-ch2-08v.sys.comcast.net (resqmta-ch2-08v.sys.comcast.net [69.252.207.40])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id D088C23064
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 19:52:51 +0000 (UTC)
Received: from resomta-ch2-10v.sys.comcast.net ([69.252.207.106])
	by resqmta-ch2-08v.sys.comcast.net with comcast
	id LKrh1r0042JGN3p01Ksl2J; Tue, 22 Sep 2015 19:52:45 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-10v.sys.comcast.net with comcast
	id LKsk1r00F2U0RYt01Kskj4; Tue, 22 Sep 2015 19:52:45 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn move modules/http2 modules/h2 ?
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVO=HqVVm42Bk2KihaPkX5MVcxFDpK0s_p-AKsBAvL8WQg@mail.gmail.com>
Date: Tue, 22 Sep 2015 15:52:44 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <432EA03C-81B1-4D01-AB27-71DB5A15D8C8@jaguNET.com>
References: <CAKQ1sVO=HqVVm42Bk2KihaPkX5MVcxFDpK0s_p-AKsBAvL8WQg@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1442951565;
	bh=li6BlOkEej1SKCNYY4ihXzp+hQuiA3t3Q/JiGivBj6E=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=kVX//YP5ZW3GrP4O2AMQnNvwrkEZrCV5zGsUmKp/nha79Do1Fldrmwe54M/L+JEBM
	 r3pA58l1WLvFHqhb5awxiOe4QaY6CE9QW2Nm40d5CyXtOflUKd92FP3wTwaFf/08UV
	 KLC+fma50KgG83pwDLsQrkDZZSDa0GUu/3UhkFDcpF+PtibzjEoT+80ewLWr0InoPt
	 nkvH3x9gmWZ+FHukTi6OHlp46d+KIYC5lU5LS67VtyLzgRA8ec8POHtd08IqIKEvWe
	 n5SotnC4VJOJc5Tmyo/P0j8oBnyGb/LNtziGmLQURtZHjJ9CRaETUEO4SFaIeNh907
	 APUNHXGgNxDxQ==

IMO, we should keep it where it is (modules/http2 to complement
modules/http) but change the configure to --enable-http2 (but
also allow --enable-h2 as well)... After all, we enable http/1
via --enable-http 

From dev-return-83861-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 22 19:58:54 2015
Return-Path: <dev-return-83861-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E5FD817F5C
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Sep 2015 19:58:54 +0000 (UTC)
Received: (qmail 35814 invoked by uid 500); 22 Sep 2015 19:58:51 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35745 invoked by uid 500); 22 Sep 2015 19:58:51 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35735 invoked by uid 99); 22 Sep 2015 19:58:51 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Sep 2015 19:58:51 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 04CE61A578A
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 19:58:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id H4YeId7pLsKw for <dev@httpd.apache.org>;
	Tue, 22 Sep 2015 19:58:43 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 57338206F0
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 19:58:43 +0000 (UTC)
Received: from [192.168.178.55] (unknown [84.189.92.135])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 10D4915A0484
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 21:58:42 +0200 (CEST)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (1.0)
Subject: Re: Time for 2.4.17 soonish?
Message-Id: <49DACDA9-7C40-4EAB-8F9F-07A2E68DDE08@greenbytes.de>
Date: Tue, 22 Sep 2015 21:58:49 +0200
References: <3BC6C2B2-26E6-4335-97AD-B3BDA6ADA1EA@jaguNET.com>
In-Reply-To: <3BC6C2B2-26E6-4335-97AD-B3BDA6ADA1EA@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: iPhone Mail (13A344)

+1

> Am 22.09.2015 um 21:49 schrieb Jim Jagielski <jim@jaguNET.com>:
> 
> I'd like to propose that we think about a 2.4.17 release
> within a coupla weeks and that we try to get http/2
> support in for that release.
> 

From dev-return-83862-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 22 20:11:47 2015
Return-Path: <dev-return-83862-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 95F2518041
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Sep 2015 20:11:47 +0000 (UTC)
Received: (qmail 73343 invoked by uid 500); 22 Sep 2015 20:11:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 73268 invoked by uid 500); 22 Sep 2015 20:11:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 73258 invoked by uid 99); 22 Sep 2015 20:11:12 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Sep 2015 20:11:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 782C1F6465
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 20:11:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id GkinYUHCU6Qd for <dev@httpd.apache.org>;
	Tue, 22 Sep 2015 20:11:08 +0000 (UTC)
Received: from mail-qg0-f52.google.com (mail-qg0-f52.google.com [209.85.192.52])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 40D3F42F38
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 20:11:08 +0000 (UTC)
Received: by qgt47 with SMTP id 47so3469410qgt.2
        for <dev@httpd.apache.org>; Tue, 22 Sep 2015 13:11:08 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=R70c1onN6Y/v79KsksWe9DDNjnZrQ6cYN6yxSB3b+es=;
        b=tTUA0GSNXxyfQgEWt1uxmHh3iLBFfqzDkK1xgj1o6SFJH4OlhXIDRyBjtHV/qj3/vG
         nfhcpuN5Wuf7mKcYrIWyU5jd3fcdUUAsqwpNrjLporEY2Z4y8reJxvqsBFvTS74pLziR
         FMhUC1+W16jc8jJGiDMlXM0zxnkfm5aH0OKGd9gG5KfyN3JBJMhrhFu2XRoAdnvcLu9T
         yMUy69cCZH2don3JkdQ3a5MtSE+kFbyd/fLEA+rt+J/uK+b5a+GcC0EN8icD3iWcSpA+
         3fTE+Sjho8zqRov5DGMOjBgbwxCgHeOz3tLwPqqxyx6ExMpksxusviLDqe/YiPHol1Kq
         onuw==
MIME-Version: 1.0
X-Received: by 10.140.236.203 with SMTP id h194mr32102053qhc.73.1442952668010;
 Tue, 22 Sep 2015 13:11:08 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Tue, 22 Sep 2015 13:11:07 -0700 (PDT)
In-Reply-To: <432EA03C-81B1-4D01-AB27-71DB5A15D8C8@jaguNET.com>
References: <CAKQ1sVO=HqVVm42Bk2KihaPkX5MVcxFDpK0s_p-AKsBAvL8WQg@mail.gmail.com>
	<432EA03C-81B1-4D01-AB27-71DB5A15D8C8@jaguNET.com>
Date: Tue, 22 Sep 2015 22:11:07 +0200
Message-ID: <CAKQ1sVOYgn7kf50G9ec+hVfjTeZyHmovBEDxS4+30qtbHQtCSA@mail.gmail.com>
Subject: Re: svn move modules/http2 modules/h2 ?
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Tue, Sep 22, 2015 at 9:52 PM, Jim Jagielski <jim@jagunet.com> wrote:
> IMO, we should keep it where it is (modules/http2 to complement
> modules/http) but change the configure to --enable-http2 (but
> also allow --enable-h2 as well)... After all, we enable http/1
> via --enable-http

I'm fine with this too, +1

From dev-return-83863-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 22 20:23:18 2015
Return-Path: <dev-return-83863-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DDBD3180C0
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Sep 2015 20:23:17 +0000 (UTC)
Received: (qmail 4406 invoked by uid 500); 22 Sep 2015 20:23:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 4344 invoked by uid 500); 22 Sep 2015 20:23:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 4321 invoked by uid 99); 22 Sep 2015 20:23:17 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Sep 2015 20:23:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 9E6F5C0423
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 20:23:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id DVuA5VfzIzWR for <dev@httpd.apache.org>;
	Tue, 22 Sep 2015 20:23:11 +0000 (UTC)
Received: from mail-qk0-f173.google.com (mail-qk0-f173.google.com [209.85.220.173])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id CCBA321044
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 20:23:10 +0000 (UTC)
Received: by qkap81 with SMTP id p81so9332277qka.2
        for <dev@httpd.apache.org>; Tue, 22 Sep 2015 13:23:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=15dF1uuoKq2srRhdWbleuwcKdv8QGVGIlbIX1T95iT8=;
        b=ljFsFn3xLgMHPkDne4LGhLLNFxeRXWVm4iu+oHYYSsbBNQZ33UI9Y6fZG9zMfSw/rB
         vLHW1jHxrn7iEs+lVlOiJVo5fVjDb8FdBylAOmaje9e6J1ffUxF4FoERt3DL2rt21kEJ
         iFuPLidrIwAVXSypUUErxlGM2XdSL9+hcB73MghJFbGXkK+nAk7VCegimPF3keS6P0yS
         s+gqDbMsxPuUegnEEvXqgQKnUD9dYOr+MWyEGImdXjwIlwkZuHK4fOWFYkkmIqawwErx
         nsawYKeUih9WVRfkjZ7Pcs9QBajqH0RXliqaTzvR9aHiSsbwof9RcwIBN74iNvd5BChy
         BoQA==
MIME-Version: 1.0
X-Received: by 10.55.201.141 with SMTP id m13mr31747552qkl.68.1442953384058;
 Tue, 22 Sep 2015 13:23:04 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Tue, 22 Sep 2015 13:23:03 -0700 (PDT)
In-Reply-To: <3BC6C2B2-26E6-4335-97AD-B3BDA6ADA1EA@jaguNET.com>
References: <3BC6C2B2-26E6-4335-97AD-B3BDA6ADA1EA@jaguNET.com>
Date: Tue, 22 Sep 2015 22:23:03 +0200
Message-ID: <CAKQ1sVNa7sDV3+VYEu=OuoED3McUp4vQmDBFJa9-L-NA6RBMUw@mail.gmail.com>
Subject: Re: Time for 2.4.17 soonish?
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

+1, possibly with SO_REUSEPORT too.

On Tue, Sep 22, 2015 at 9:49 PM, Jim Jagielski <jim@jagunet.com> wrote:
> I'd like to propose that we think about a 2.4.17 release
> within a coupla weeks and that we try to get http/2
> support in for that release.
>

From dev-return-83864-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 22 20:28:53 2015
Return-Path: <dev-return-83864-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 97937180F2
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Sep 2015 20:28:53 +0000 (UTC)
Received: (qmail 17151 invoked by uid 500); 22 Sep 2015 20:28:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 17082 invoked by uid 500); 22 Sep 2015 20:28:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 17072 invoked by uid 99); 22 Sep 2015 20:28:53 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Sep 2015 20:28:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id AA0A91A58B8
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 20:28:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id mkKqOpSBM-Tl for <dev@httpd.apache.org>;
	Tue, 22 Sep 2015 20:28:45 +0000 (UTC)
Received: from mga09.intel.com (mga09.intel.com [134.134.136.24])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 0F82C20864
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 20:28:45 +0000 (UTC)
Received: from fmsmga003.fm.intel.com ([10.253.24.29])
  by orsmga102.jf.intel.com with ESMTP; 22 Sep 2015 13:28:40 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.17,574,1437462000"; 
   d="scan'208";a="566478048"
Received: from orsmsx102.amr.corp.intel.com ([10.22.225.129])
  by FMSMGA003.fm.intel.com with ESMTP; 22 Sep 2015 13:28:39 -0700
Received: from orsmsx113.amr.corp.intel.com ([169.254.7.236]) by
 ORSMSX102.amr.corp.intel.com ([169.254.1.67]) with mapi id 14.03.0248.002;
 Tue, 22 Sep 2015 13:28:38 -0700
From: "Lu, Yingqi" <yingqi.lu@intel.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: Time for 2.4.17 soonish?
Thread-Topic: Time for 2.4.17 soonish?
Thread-Index: AQHQ9W/fYdfAm66SO0eQrGGliH7fm55Jc2+A//+L4mA=
Date: Tue, 22 Sep 2015 20:28:37 +0000
Message-ID: <9ACD5B67AAC5594CB6268234CF29CF9AA39D34AF@ORSMSX113.amr.corp.intel.com>
References: <3BC6C2B2-26E6-4335-97AD-B3BDA6ADA1EA@jaguNET.com>
 <CAKQ1sVNa7sDV3+VYEu=OuoED3McUp4vQmDBFJa9-L-NA6RBMUw@mail.gmail.com>
In-Reply-To: <CAKQ1sVNa7sDV3+VYEu=OuoED3McUp4vQmDBFJa9-L-NA6RBMUw@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [10.22.254.140]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

WWFubiwNCg0KVGhhbmtzIHZlcnkgbXVjaCBmb3IgYnJpbmdpbmcgaXQgdXAuIFdlIHdvdWxkIGxv
dmUgdG8gc2VlIHRoYXQgU09fUkVVU0VQT1JUIHBhdGNoIGJlaW5nIG1lcmdlZCBpbnRvIHRoZSBy
ZWxlYXNlIHZlcnNpb24gb2YgdGhlIGh0dHBkLiBJdCBoYXMgYmVlbiBhIGxvbmcgdGltZSA6KQ0K
DQpUaGFua3MsDQpZaW5ncWkNCg0KLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IFlh
bm4gWWxhdmljIFttYWlsdG86eWxhdmljLmRldkBnbWFpbC5jb21dIA0KU2VudDogVHVlc2RheSwg
U2VwdGVtYmVyIDIyLCAyMDE1IDE6MjMgUE0NClRvOiBkZXZAaHR0cGQuYXBhY2hlLm9yZw0KU3Vi
amVjdDogUmU6IFRpbWUgZm9yIDIuNC4xNyBzb29uaXNoPw0KDQorMSwgcG9zc2libHkgd2l0aCBT
T19SRVVTRVBPUlQgdG9vLg0KDQpPbiBUdWUsIFNlcCAyMiwgMjAxNSBhdCA5OjQ5IFBNLCBKaW0g
SmFnaWVsc2tpIDxqaW1AamFndW5ldC5jb20+IHdyb3RlOg0KPiBJJ2QgbGlrZSB0byBwcm9wb3Nl
IHRoYXQgd2UgdGhpbmsgYWJvdXQgYSAyLjQuMTcgcmVsZWFzZSB3aXRoaW4gYSANCj4gY291cGxh
IHdlZWtzIGFuZCB0aGF0IHdlIHRyeSB0byBnZXQgaHR0cC8yIHN1cHBvcnQgaW4gZm9yIHRoYXQg
DQo+IHJlbGVhc2UuDQo+DQo=

From dev-return-83865-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 22 20:45:31 2015
Return-Path: <dev-return-83865-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DA7B4181AB
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Sep 2015 20:45:31 +0000 (UTC)
Received: (qmail 64020 invoked by uid 500); 22 Sep 2015 20:45:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 63944 invoked by uid 500); 22 Sep 2015 20:45:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 63934 invoked by uid 99); 22 Sep 2015 20:45:15 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Sep 2015 20:45:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B0CAE18098B
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 20:45:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.999
X-Spam-Level: **
X-Spam-Status: No, score=2.999 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id dnr_WpB-pK8d for <dev@httpd.apache.org>;
	Tue, 22 Sep 2015 20:45:09 +0000 (UTC)
Received: from mail-ig0-f175.google.com (mail-ig0-f175.google.com [209.85.213.175])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 4A5EC20382
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 20:45:08 +0000 (UTC)
Received: by igbni9 with SMTP id ni9so17142859igb.0
        for <dev@httpd.apache.org>; Tue, 22 Sep 2015 13:45:07 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=JEcZusoA/hX7kVQicSUlFscsAvbKJ4xIxAtTl9FC9BM=;
        b=BquW750izWWFxE6/Iheoqp8wN3B2gZKzq5QAhoNJsleBccPnDLwnlvS7RrRT1xqEIY
         RVKEtvq8orXLG7FHHWTKGJKtjEdyMNjzZZ/ilutpkNIDE6K29HOYUcdhKXEhHUvjx4Lb
         Hpn07LZIBRYtiwBa8vloVsaElypcHH7/xTe+MCBTn6aFnsgjPtE+q1FruNkcKg8wJlnx
         crXquMIkAFp9pwgv1ejuwgK8EryhK90uIFvr6xK/KkQvmppTXDIAMur420u5/wXv2BpG
         4t0RFPBZDsC7tC1YB5VHPfLr6ThluQRryidPIdFvnblbcT0YqTzJbAiuIVWehJZqeHJp
         WILg==
X-Gm-Message-State: ALoCoQkRN3JWNGH7e47TT6kzlVc0VBup5t9yzaBfbH6OPAEqdSK/L7lonZ6HBC1JAduCmmUd2VS6
MIME-Version: 1.0
X-Received: by 10.50.78.161 with SMTP id c1mr20080244igx.35.1442954707066;
 Tue, 22 Sep 2015 13:45:07 -0700 (PDT)
Received: by 10.107.12.199 with HTTP; Tue, 22 Sep 2015 13:45:07 -0700 (PDT)
In-Reply-To: <CAKQ1sVNa7sDV3+VYEu=OuoED3McUp4vQmDBFJa9-L-NA6RBMUw@mail.gmail.com>
References: <3BC6C2B2-26E6-4335-97AD-B3BDA6ADA1EA@jaguNET.com>
	<CAKQ1sVNa7sDV3+VYEu=OuoED3McUp4vQmDBFJa9-L-NA6RBMUw@mail.gmail.com>
Date: Tue, 22 Sep 2015 15:45:07 -0500
Message-ID: <CACsi25159Z+HC9vRxSNxj5F71TPwTWnU9ptLO6bOMGPaPxFu2Q@mail.gmail.com>
Subject: Re: Time for 2.4.17 soonish?
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e0111e07abe001905205c1268

--089e0111e07abe001905205c1268
Content-Type: text/plain; charset=UTF-8

+1 to picking this up now-ish and letting it run through the paces while we
are completing other things.

On Tue, Sep 22, 2015 at 3:23 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:

> +1, possibly with SO_REUSEPORT too.
>
> On Tue, Sep 22, 2015 at 9:49 PM, Jim Jagielski <jim@jagunet.com> wrote:
> > I'd like to propose that we think about a 2.4.17 release
> > within a coupla weeks and that we try to get http/2
> > support in for that release.
> >
>

--089e0111e07abe001905205c1268
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">+1 to picking this up now-ish and letting it run through t=
he paces while we are completing other things.</div><div class=3D"gmail_ext=
ra"><br><div class=3D"gmail_quote">On Tue, Sep 22, 2015 at 3:23 PM, Yann Yl=
avic <span dir=3D"ltr">&lt;<a href=3D"mailto:ylavic.dev@gmail.com" target=
=3D"_blank">ylavic.dev@gmail.com</a>&gt;</span> wrote:<br><blockquote class=
=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padd=
ing-left:1ex">+1, possibly with SO_REUSEPORT too.<br>
<div class=3D"HOEnZb"><div class=3D"h5"><br>
On Tue, Sep 22, 2015 at 9:49 PM, Jim Jagielski &lt;<a href=3D"mailto:jim@ja=
gunet.com">jim@jagunet.com</a>&gt; wrote:<br>
&gt; I&#39;d like to propose that we think about a 2.4.17 release<br>
&gt; within a coupla weeks and that we try to get http/2<br>
&gt; support in for that release.<br>
&gt;<br>
</div></div></blockquote></div><br></div>

--089e0111e07abe001905205c1268--

From dev-return-83866-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 22 20:59:37 2015
Return-Path: <dev-return-83866-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1DEDE18255
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Sep 2015 20:59:37 +0000 (UTC)
Received: (qmail 89520 invoked by uid 500); 22 Sep 2015 20:59:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89433 invoked by uid 500); 22 Sep 2015 20:59:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89423 invoked by uid 99); 22 Sep 2015 20:59:36 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Sep 2015 20:59:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 0FA1C18027C
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 20:59:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.001
X-Spam-Level: ***
X-Spam-Status: No, score=3.001 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id 0VSVqpJyOA7g for <dev@httpd.apache.org>;
	Tue, 22 Sep 2015 20:59:23 +0000 (UTC)
Received: from mail-io0-f175.google.com (mail-io0-f175.google.com [209.85.223.175])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 3FBA020604
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 20:59:22 +0000 (UTC)
Received: by iofh134 with SMTP id h134so26999678iof.0
        for <dev@httpd.apache.org>; Tue, 22 Sep 2015 13:59:15 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=/V3GvKC/BQ2qs/Z5+UzzkkIauaVZ8jsIrCrtQx6+94E=;
        b=ax9/gk1LSBmLJcwusF9EAN/e+TJ3+B6J4W1PJGbNiawHKmu7HPAbMKR9Jsn6KuNZJD
         O1n0gvksiXsHopu9SQln4V77ThOQx86R3kwIO+ogmAXezGaTQCaS1HCT403RpKZDcrx5
         yp/CjmAg0FeFgrCSx24oGK4xx5LwbKYzsLpWqoQjgdEWVmQa0SskT/o8P2oBCP6bu7+B
         etW0yAnZpDKO1/nb6gXhk6sEYOVnM/ZguVasDWIJQUOacA0njpi8eWg725iyopiPDMGS
         xmV7WOF1zxLrpVWcCXjjLOc9blyqVoPWwyitAcC99TqY+ii12qVA1D5CpvgRREV8M0Ao
         AHFQ==
X-Gm-Message-State: ALoCoQkjXUoPQk+L+7cqpA9mgQBy8Tf6tOtO5Oz5DyARe1L4GFppsn3u/pvRC2mK93hEcIoL9yam
MIME-Version: 1.0
X-Received: by 10.107.162.136 with SMTP id l130mr32993615ioe.86.1442955555022;
 Tue, 22 Sep 2015 13:59:15 -0700 (PDT)
Received: by 10.107.12.199 with HTTP; Tue, 22 Sep 2015 13:59:14 -0700 (PDT)
In-Reply-To: <9E69EE29-F412-49A3-98A9-CB8B0EBD61D1@jaguNET.com>
References: <20150916141850.82DDAAC022D@hades.apache.org>
	<CABD8fLXZHR6nkXa2Z_kuafeC7PCiymno+LeOZ1ux3CPZzKejWw@mail.gmail.com>
	<9E69EE29-F412-49A3-98A9-CB8B0EBD61D1@jaguNET.com>
Date: Tue, 22 Sep 2015 15:59:14 -0500
Message-ID: <CACsi250uKsnJ-bXDfCDX-k5V1h5crNoiPnn595HHRMivcbsiBg@mail.gmail.com>
Subject: Re: svn commit: r1703415 - in /httpd/test/framework/trunk/c-modules:
 authany/mod_authany.c test_session/mod_test_session.c
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1141b65a48eb4305205c4527

--001a1141b65a48eb4305205c4527
Content-Type: text/plain; charset=UTF-8

On Wed, Sep 16, 2015 at 10:08 AM, Jim Jagielski <jim@jagunet.com> wrote:

> All this is due to changes mode with the mainter-mode and
> which causes build stop error and stop for these kinds
> of warnings. These are simple 'squash warning' patches.


As Greg points out these are toxic and unacceptable, thanks to Yann for
reverting/truly correcting.

Bill

--001a1141b65a48eb4305205c4527
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On W=
ed, Sep 16, 2015 at 10:08 AM, Jim Jagielski <span dir=3D"ltr">&lt;<a href=
=3D"mailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt;</span=
> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;bo=
rder-left:1px #ccc solid;padding-left:1ex">All this is due to changes mode =
with the mainter-mode and<br>
which causes build stop error and stop for these kinds<br>
of warnings. These are simple &#39;squash warning&#39; patches.</blockquote=
><div><br></div><div>As Greg points out these are toxic and unacceptable, t=
hanks to Yann for reverting/truly correcting.</div><div><br></div><div>Bill=
=C2=A0</div></div></div></div>

--001a1141b65a48eb4305205c4527--

From dev-return-83867-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 22 21:03:30 2015
Return-Path: <dev-return-83867-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B0C3E18276
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 22 Sep 2015 21:03:30 +0000 (UTC)
Received: (qmail 94148 invoked by uid 500); 22 Sep 2015 21:03:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94066 invoked by uid 500); 22 Sep 2015 21:03:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94056 invoked by uid 99); 22 Sep 2015 21:03:30 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 22 Sep 2015 21:03:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id AC7FB1A58AA
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 21:03:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id SQ1MFZ7kMWHx for <dev@httpd.apache.org>;
	Tue, 22 Sep 2015 21:03:24 +0000 (UTC)
Received: from mail-ig0-f170.google.com (mail-ig0-f170.google.com [209.85.213.170])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 5291420511
	for <dev@httpd.apache.org>; Tue, 22 Sep 2015 21:03:23 +0000 (UTC)
Received: by igcpb10 with SMTP id pb10so107762644igc.1
        for <dev@httpd.apache.org>; Tue, 22 Sep 2015 14:03:22 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=yHf6g/kfbbR+E4DMDHFeDjrqYXjrG1JBYqIhHg81fe8=;
        b=LXWBDTRkZSSJxDMQaJtCjT8DazPlYxhFwab1+YfzO/VFpdOvUxGfvX84tmHALL3sYu
         mZ3mYBY/IRnEi0GBwTvpKxox/SWPNg83e6Jn6Gv7h2Nhepkt+NEcfjR6fyMcnX5A7EIy
         53WzVFY20RMFsCtmwWMWDJj1HL7bC6rJHMShMmHx2elDgSmFgXbOfnnkdjmLkJ07x53R
         00XZk+0Yjx7YVVRCrCVnQps/2CX2x2dvpwIKwJIfrI8IzptvKkZJELhuiA1OufqLwkkL
         gl49ypQHN7pdC7qY4LBxlwc80KIAateiQ0KdSOhvVXfJ1f+YrpxihRnjieuCOtU9OaK6
         33ew==
X-Gm-Message-State: ALoCoQnBjn+OqBhB/5G+4X+xq5CgOhN3yhRSJRW93zEQasZntV7kiSUCTWuCe8+dwhcoVC2OrEKf
MIME-Version: 1.0
X-Received: by 10.50.78.161 with SMTP id c1mr20161736igx.35.1442955802270;
 Tue, 22 Sep 2015 14:03:22 -0700 (PDT)
Received: by 10.107.12.199 with HTTP; Tue, 22 Sep 2015 14:03:22 -0700 (PDT)
In-Reply-To: <55FD2553.7020703@velox.ch>
References: <CAL1qwc_5ERd+3b9=uApjB0nqfvGZ4K+14zamtdsqDHyqm_UmwA@mail.gmail.com>
	<5441511D.1070201@velox.ch>
	<55FD2553.7020703@velox.ch>
Date: Tue, 22 Sep 2015 16:03:22 -0500
Message-ID: <CACsi252QSXQ-ghfOGDsEYao1WczJr14ggQ=HDJ0oaJj1F5M9hg@mail.gmail.com>
Subject: Re: Disable SSLv3 by default
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e0111e07a05897905205c54e0

--089e0111e07a05897905205c54e0
Content-Type: text/plain; charset=UTF-8

On Sat, Sep 19, 2015 at 4:05 AM, Kaspar Brand <httpd-dev.2014@velox.ch>
wrote:

> On 17.10.2014 19:25, Kaspar Brand wrote:
> > On 17.10.2014 12:02, Takashi Sato wrote:
> >> SSLv3 is now insecure (CVE-2014-3566, POODLE)
> >> Let's disable SSLv3 by default, at least trunk.
> >>
> >> SSLProtocol default is "all".
> >> <http://httpd.apache.org/docs/trunk/mod/mod_ssl.html#sslprotocol>
> >> "all" means "a shortcut for ``+SSLv3 +TLSv1'' or - when using OpenSSL
> >> 1.0.1 and later - ``+SSLv3 +TLSv1 +TLSv1.1 +TLSv1.2, respectively."
> >>
> >> Should we remove SSLv3 from "all" ?
> >
> > From a semantic point of view, I wouldn't do that. As long as we still
> > allow SSLv3 to be used, "all" should really mean "all protocols which
> > can be enabled in mod_ssl".
> >
> > I'm fine with changing the hardcoded default (in ssl_engine_config.c) to
> > SSL_PROTOCOL_ALL & ~SSL_PROTOCOL_SSLV3, though.
>
> For the record: this is part of r1703952 which I just committed to trunk
> (and will propose for backporting to 2.4 shortly, unless there are
> objections).
>
> > The other option would be to drop SSLv3 support completely, like we
> > currently do for SSLv2 in ssl_engine_init.c:ssl_init_ctx_protocol(). In
> > this case, "all" would no longer include SSLv3, of course.
>
> This is left as a next step, which I consider appropriate for trunk, at
> least.
>

Trunk, yes.  POLS says no, not 2.4, no matter how 'clean' that solution
seems.

You cannot break users migrating across a subversion bump.

You are welcome to scream at them in their error log that an ill-advised
protocol
has been requested, as long as it is non-fatal.

--089e0111e07a05897905205c54e0
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On S=
at, Sep 19, 2015 at 4:05 AM, Kaspar Brand <span dir=3D"ltr">&lt;<a href=3D"=
mailto:httpd-dev.2014@velox.ch" target=3D"_blank">httpd-dev.2014@velox.ch</=
a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0=
 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">On 17.10.2014 19:25,=
 Kaspar Brand wrote:<br>
&gt; On 17.10.2014 12:02, Takashi Sato wrote:<br>
&gt;&gt; SSLv3 is now insecure (CVE-2014-3566, POODLE)<br>
&gt;&gt; Let&#39;s disable SSLv3 by default, at least trunk.<br>
&gt;&gt;<br>
&gt;&gt; SSLProtocol default is &quot;all&quot;.<br>
&gt;&gt; &lt;<a href=3D"http://httpd.apache.org/docs/trunk/mod/mod_ssl.html=
#sslprotocol" rel=3D"noreferrer" target=3D"_blank">http://httpd.apache.org/=
docs/trunk/mod/mod_ssl.html#sslprotocol</a>&gt;<br>
&gt;&gt; &quot;all&quot; means &quot;a shortcut for ``+SSLv3 +TLSv1&#39;&#3=
9; or - when using OpenSSL<br>
&gt;&gt; 1.0.1 and later - ``+SSLv3 +TLSv1 +TLSv1.1 +TLSv1.2, respectively.=
&quot;<br>
&gt;&gt;<br>
&gt;&gt; Should we remove SSLv3 from &quot;all&quot; ?<br>
&gt;<br>
&gt; From a semantic point of view, I wouldn&#39;t do that. As long as we s=
till<br>
&gt; allow SSLv3 to be used, &quot;all&quot; should really mean &quot;all p=
rotocols which<br>
&gt; can be enabled in mod_ssl&quot;.<br>
&gt;<br>
&gt; I&#39;m fine with changing the hardcoded default (in ssl_engine_config=
.c) to<br>
&gt; SSL_PROTOCOL_ALL &amp; ~SSL_PROTOCOL_SSLV3, though.<br>
<br>
For the record: this is part of r1703952 which I just committed to trunk<br=
>
(and will propose for backporting to 2.4 shortly, unless there are<br>
objections).<br>
<br>
&gt; The other option would be to drop SSLv3 support completely, like we<br=
>
&gt; currently do for SSLv2 in ssl_engine_init.c:ssl_init_ctx_protocol(). I=
n<br>
&gt; this case, &quot;all&quot; would no longer include SSLv3, of course.<b=
r>
<br>
This is left as a next step, which I consider appropriate for trunk, at<br>
least.<br></blockquote><div><br></div><div>Trunk, yes.=C2=A0 POLS says no, =
not 2.4, no matter how &#39;clean&#39; that solution seems.</div><div><br><=
/div><div>You cannot break users migrating across a subversion bump. =C2=A0=
</div><div><br></div><div>You are welcome to scream at them in their error =
log that an ill-advised protocol=C2=A0</div><div>has been requested, as lon=
g as it is non-fatal.</div></div></div><div class=3D"gmail_extra"><br></div=
></div>

--089e0111e07a05897905205c54e0--

From dev-return-83868-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 23 00:02:49 2015
Return-Path: <dev-return-83868-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2B56E18ADE
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Sep 2015 00:02:49 +0000 (UTC)
Received: (qmail 43995 invoked by uid 500); 23 Sep 2015 00:02:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 43919 invoked by uid 500); 23 Sep 2015 00:02:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 43909 invoked by uid 99); 23 Sep 2015 00:02:27 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Sep 2015 00:02:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 74CB818098A
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 00:02:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.98
X-Spam-Level: **
X-Spam-Status: No, score=2.98 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id yQfDwZ6JRyil for <dev@httpd.apache.org>;
	Wed, 23 Sep 2015 00:02:20 +0000 (UTC)
Received: from mail-ig0-f178.google.com (mail-ig0-f178.google.com [209.85.213.178])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 302D520382
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 00:02:20 +0000 (UTC)
Received: by igbkq10 with SMTP id kq10so109995791igb.0
        for <dev@httpd.apache.org>; Tue, 22 Sep 2015 17:02:12 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=vPPpyqA9Qgb6RBHuVdI1/djl1/jnMw7cB50VvNat5y8=;
        b=goNN4mdKinkcf0z9QAm4+X/2xb3FRHXGWYVDsbOHP3FDiiw0z8PIpzvfiz3OvE+eJ6
         mqDtRIODTtJ41B01U/DHL44NunpZwsVo82tZcjkFezdeYeuN9vLuA57/MQ+7oPrFa66e
         BoZdBUcSw0VouA7kTsS5Hm4y5eiBNQYMAGz/tYZFo5tTnSq35BIGpUMBNtzDlIu65Ofh
         utQop93YD8NdYzi2fljrnklQTlFVYqUp+dN57vUrPYvVZOgs9fpfBsuhEmDmTH5NVu48
         3rzYLouodUxA1UobU9sEMXCBcS0i/MVCR/Qc5v3HxraXybenovZwhIvNbVkHoNCOT0W9
         EWIg==
X-Gm-Message-State: ALoCoQlHs7jwEoCFf9enqBXLdNQqh7RsgOYcx8C6PdyOVZV9kv804BYPh9fkD4Tiw2LGSskVzzMP
MIME-Version: 1.0
X-Received: by 10.50.78.161 with SMTP id c1mr20806587igx.35.1442966532702;
 Tue, 22 Sep 2015 17:02:12 -0700 (PDT)
Received: by 10.107.12.199 with HTTP; Tue, 22 Sep 2015 17:02:12 -0700 (PDT)
Received: by 10.107.12.199 with HTTP; Tue, 22 Sep 2015 17:02:12 -0700 (PDT)
In-Reply-To: <CABD8fLX_PTecA1nooD6BS0O0tJptQOLNhN6_tD4d3AOe3wBE1A@mail.gmail.com>
References: <CAKQ1sVO=HqVVm42Bk2KihaPkX5MVcxFDpK0s_p-AKsBAvL8WQg@mail.gmail.com>
	<6770C46A-8B9E-4B67-8457-662026158448@greenbytes.de>
	<56018975.8080005@gknw.net>
	<CABD8fLX_PTecA1nooD6BS0O0tJptQOLNhN6_tD4d3AOe3wBE1A@mail.gmail.com>
Date: Tue, 22 Sep 2015 19:02:12 -0500
Message-ID: <CACsi253QP14jgV5qfZNr+4c==zr-zzXO8jqRcEFEQK=UOHrPsA@mail.gmail.com>
Subject: Re: svn move modules/http2 modules/h2 ?
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e0111e07a9ae10205205ed342

--089e0111e07a9ae10205205ed342
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

+1 - mostly because --enable-http2 is easier to grok than --enable-h2, not
because I object to the old name :)
On Sep 22, 2015 12:39, "Greg Stein" <gstein@gmail.com> wrote:

> Yeah... if anything, rename to mod_http2.
>
> On Tue, Sep 22, 2015 at 12:01 PM, Gregg Smith <gls@gknw.net> wrote:
>
>> http2 is more descriptive for the module's purpose, even if the name is
>> mod_h2. I like it where it is.
>> - 0
>>
>>
>> On 9/22/2015 5:08 AM, Stefan Eissing wrote:
>>
>>> +0.5
>>>
>>> h2 ftw! (but there is also a mod_mime in the http dir, so I do not
>>> really feel strongly about this)
>>>
>>> Am 22.09.2015 um 14:05 schrieb Yann Ylavic<ylavic.dev@gmail.com>:
>>>>
>>>> I'm confused about the sources being in modules/http2 and the module
>>>> being mod_h2 (configured with --enable-h2, ...), it seems to be the
>>>> only one like this.
>>>>
>>>> +1 for me...
>>>>
>>> <green/>bytes GmbH
>>> Hafenweg 16, 48155 M=C3=BCnster, Germany
>>> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>>>
>>>
>>>
>>>
>>
>

--089e0111e07a9ae10205205ed342
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">+1 - mostly because --enable-http2 is easier to grok than --=
enable-h2, not because I object to the old name :)</p>
<div class=3D"gmail_quote">On Sep 22, 2015 12:39, &quot;Greg Stein&quot; &l=
t;<a href=3D"mailto:gstein@gmail.com">gstein@gmail.com</a>&gt; wrote:<br ty=
pe=3D"attribution"><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 =
.8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir=3D"ltr">Yeah... =
if anything, rename to mod_http2.</div><div class=3D"gmail_extra"><br><div =
class=3D"gmail_quote">On Tue, Sep 22, 2015 at 12:01 PM, Gregg Smith <span d=
ir=3D"ltr">&lt;<a href=3D"mailto:gls@gknw.net" target=3D"_blank">gls@gknw.n=
et</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"marg=
in:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">http2 is more de=
scriptive for the module&#39;s purpose, even if the name is mod_h2. I like =
it where it is.<br>
- 0<div><div><br>
<br>
On 9/22/2015 5:08 AM, Stefan Eissing wrote:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
+0.5<br>
<br>
h2 ftw! (but there is also a mod_mime in the http dir, so I do not really f=
eel strongly about this)<br>
<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
Am 22.09.2015 um 14:05 schrieb Yann Ylavic&lt;<a href=3D"mailto:ylavic.dev@=
gmail.com" target=3D"_blank">ylavic.dev@gmail.com</a>&gt;:<br>
<br>
I&#39;m confused about the sources being in modules/http2 and the module<br=
>
being mod_h2 (configured with --enable-h2, ...), it seems to be the<br>
only one like this.<br>
<br>
+1 for me...<br>
</blockquote>
&lt;green/&gt;bytes GmbH<br>
Hafenweg 16, 48155 M=C3=BCnster, Germany<br>
Phone: <a href=3D"tel:%2B49%20251%202807760" value=3D"+492512807760" target=
=3D"_blank">+49 251 2807760</a>. Amtsgericht M=C3=BCnster: HRB5782<br>
<br>
<br>
<br>
</blockquote>
<br>
</div></div></blockquote></div><br></div>
</blockquote></div>

--089e0111e07a9ae10205205ed342--

From dev-return-83869-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 23 01:20:54 2015
Return-Path: <dev-return-83869-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 33C1C18D44
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Sep 2015 01:20:54 +0000 (UTC)
Received: (qmail 2606 invoked by uid 500); 23 Sep 2015 01:20:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 2547 invoked by uid 500); 23 Sep 2015 01:20:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 2537 invoked by uid 99); 23 Sep 2015 01:20:53 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Sep 2015 01:20:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 158EDC0CC3
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 01:20:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.979
X-Spam-Level: **
X-Spam-Status: No, score=2.979 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id H6B1MYfi_Kzg for <dev@httpd.apache.org>;
	Wed, 23 Sep 2015 01:20:50 +0000 (UTC)
Received: from mail-ig0-f170.google.com (mail-ig0-f170.google.com [209.85.213.170])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 98F1520DB6
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 01:20:49 +0000 (UTC)
Received: by igcpb10 with SMTP id pb10so110762519igc.1
        for <dev@httpd.apache.org>; Tue, 22 Sep 2015 18:20:48 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=EISl2QVGOutQB91EQ6AMKA1MRQNtycsVa48cB4xqevQ=;
        b=XkoHjzOvA3BsORhT1kr9Vd6Bqcvh1PHNc0dpo+4ryb5tZvF6dpexlMrl4q7djOVXR7
         ogM9zt3JhTE0Yn2A3OGASicDQmNQ7kUQlrw+X04HNazm2F/389Dr/nLLgkm579lgaMQV
         stW0XuiXqBUKi17ScuwWPgCbpIFdQHkBA4NJ1znUFeNvDp7NOfcWEC5nXUnxJkOuhhci
         +4o12xv1tDH0ItKST77o7ADtX/wjEfTC41n6EGRWK65ORzf4/CMNmOlE7OnWTKzRfsz1
         hMZDsf6teIUGa3BMwByNnY6ThCEUDvE6iaVy4Uh6vuhIlHvwEyJb8bEM2DNa9ROvTQ3r
         Pqmw==
X-Gm-Message-State: ALoCoQlphzmdulsxxniRZdJTE6WAJXvY1SwqIGfdOhXhtJ3wFAPadHwu8UqVxqh9ax77otpcJMxk
MIME-Version: 1.0
X-Received: by 10.50.110.105 with SMTP id hz9mr10487847igb.77.1442971248487;
 Tue, 22 Sep 2015 18:20:48 -0700 (PDT)
Received: by 10.107.12.199 with HTTP; Tue, 22 Sep 2015 18:20:48 -0700 (PDT)
In-Reply-To: <CALK=YjPBPR=qJ+wFx+Hf1+yYF8YUkJ-bFjCLiuPoW+pP+xaiTA@mail.gmail.com>
References: <20150922181140.18E873A0818@svn01-us-west.apache.org>
	<CALK=YjPBPR=qJ+wFx+Hf1+yYF8YUkJ-bFjCLiuPoW+pP+xaiTA@mail.gmail.com>
Date: Tue, 22 Sep 2015 20:20:48 -0500
Message-ID: <CACsi250uxMUntOT5VesBs=KQ5=r2FSma9MA0STRVGr47PXXFAA@mail.gmail.com>
Subject: Re: svn commit: r1704683 - /httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=089e0115fbeab0135f05205fec4e

--089e0115fbeab0135f05205fec4e
Content-Type: text/plain; charset=UTF-8

I will try, I'm having trouble coming to terms with the idea because there
is no way
one would ever want private IP info from networks outside of their control
to be
used for access control.

If you require ip 127.0.0.1 for your monitoring app/mod_status for example,
this
suggestion completely destroys your ability to perform that.  Private IP
assignments
are just that, and their inclusion in this module were largely for bridged
private
environments where the administrator has control of both.

On Tue, Sep 22, 2015 at 1:13 PM, Eric Covener <covener@gmail.com> wrote:

> I struggled with the phrasing here, any fine-tuning (or more) appreciated.
>
> Does our default make sense considering the warning at the top of the
> doc? Should we make people specify "RemoteIPTrustedProxy *" if they
> don't want to restrict it?
>
> On Tue, Sep 22, 2015 at 2:11 PM,  <covener@apache.org> wrote:
> > Author: covener
> > Date: Tue Sep 22 18:11:35 2015
> > New Revision: 1704683
> >
> > URL: http://svn.apache.org/viewvc?rev=1704683&view=rev
> > Log:
> > add warnings and emphasize the defaults for trusted non-internal proxies)
> >
> >
> > Modified:
> >     httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml
> >
> > Modified: httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml
> > URL:
> http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml?rev=1704683&r1=1704682&r2=1704683&view=diff
> >
> ==============================================================================
> > --- httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml (original)
> > +++ httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml Tue Sep 22
> 18:11:35 2015
> > @@ -113,9 +113,12 @@ via the request headers.
> >      <var>header-field</var> header as the useragent IP address, or list
> >      of intermediate useragent IP addresses, subject to further
> configuration
> >      of the <directive
> module="mod_remoteip">RemoteIPInternalProxy</directive> and
> > -    <directive module="mod_remoteip">RemoteIPTrustedProxy</directive>
> directives.  Unless these
> > -    other directives are used, <module>mod_remoteip</module> will trust
> all
> > -    hosts presenting a <directive
> module="mod_remoteip">RemoteIPHeader</directive> IP value.</p>
> > +    <directive module="mod_remoteip">RemoteIPTrustedProxy</directive>
> directives.</p>
> > +
> > +    <note type="warning"> Unless these other directives are used,
> <module>mod_remoteip</module>
> > +    will trust all hosts presenting a non internal address in the
> > +    <directive module="mod_remoteip">RemoteIPHeader</directive> header
> value.
> > +    </note>
> >
> >      <example><title>Internal (Load Balancer) Example</title>
> >      <highlight language="config">
> > @@ -213,20 +216,26 @@ RemoteIPProxiesHeader X-Forwarded-By
> >
> >  <directivesynopsis>
> >  <name>RemoteIPTrustedProxy</name>
> > -<description>Declare client intranet IP addresses trusted to present
> the RemoteIPHeader value</description>
> > +<description>Restrict client IP addresses trusted to present the
> RemoteIPHeader value</description>
> >  <syntax>RemoteIPTrustedProxy
> <var>proxy-ip</var>|<var>proxy-ip/subnet</var>|<var>hostname</var>
> ...</syntax>
> >  <contextlist><context>server config</context><context>virtual
> host</context></contextlist>
> >
> >  <usage>
> > -    <p>The <directive
> module="mod_remoteip">RemoteIPTrustedProxy</directive> directive adds one
> > -    or more addresses (or address blocks) to trust as presenting a valid
> > -    RemoteIPHeader value of the useragent IP.  Unlike the
> > -    <directive module="mod_remoteip">RemoteIPInternalProxy</directive>
> directive, any intranet
> > +    <p>The <directive
> module="mod_remoteip">RemoteIPTrustedProxy</directive>
> > +    directive restricts which peer IP addresses (or address blocks)
> will be
> > +    trusted to present  a valid RemoteIPHeader value of the useragent
> IP.</p>
> > +
> > +    <p> Unlike the <directive
> module="mod_remoteip">RemoteIPInternalProxy</directive> directive, any
> intranet
> >      or private IP address reported by such proxies, including the 10/8,
> 172.16/12,
> >      192.168/16, 169.254/16 and 127/8 blocks (or outside of the IPv6
> public
> >      2000::/3 block) are not trusted as the useragent IP, and are left
> in the
> >      <directive module="mod_remoteip">RemoteIPHeader</directive>
> header's value.</p>
> >
> > +    <note type="warning">By default, <module>mod_remoteip</module> will
> trust
> > +    all hosts presenting a non internal address in the
> > +    <directive module="mod_remoteip">RemoteIPHeader</directive> header
> value.
> > +    </note>
> > +
> >      <example><title>Trusted (Load Balancer) Example</title>
> >          <highlight language="config">
> >  RemoteIPHeader X-Forwarded-For
> > @@ -239,7 +248,7 @@ RemoteIPTrustedProxy proxy.example.com
> >
> >  <directivesynopsis>
> >  <name>RemoteIPTrustedProxyList</name>
> > -<description>Declare client intranet IP addresses trusted to present
> the RemoteIPHeader value</description>
> > +<description>Restrict client IP addresses trusted to present the
> RemoteIPHeader value</description>
> >  <syntax>RemoteIPTrustedProxyList <var>filename</var></syntax>
> >  <contextlist><context>server config</context><context>virtual
> host</context></contextlist>
> >
> >
> >
>
>
>
> --
> Eric Covener
> covener@gmail.com
>

--089e0115fbeab0135f05205fec4e
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">I will try, I&#39;m having trouble coming to terms with th=
e idea because there is no way=C2=A0<div>one would ever want private IP inf=
o from networks outside of their control to be</div><div>used for access co=
ntrol.</div><div><br></div><div>If you require ip 127.0.0.1 for your monito=
ring app/mod_status for example, this</div><div>suggestion completely destr=
oys your ability to perform that.=C2=A0 Private IP assignments</div><div>ar=
e just that, and their inclusion in this module were largely for bridged pr=
ivate</div><div>environments where the administrator has control of both.</=
div></div><div class=3D"gmail_extra"><br><div class=3D"gmail_quote">On Tue,=
 Sep 22, 2015 at 1:13 PM, Eric Covener <span dir=3D"ltr">&lt;<a href=3D"mai=
lto:covener@gmail.com" target=3D"_blank">covener@gmail.com</a>&gt;</span> w=
rote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;borde=
r-left:1px #ccc solid;padding-left:1ex">I struggled with the phrasing here,=
 any fine-tuning (or more) appreciated.<br>
<br>
Does our default make sense considering the warning at the top of the<br>
doc? Should we make people specify &quot;RemoteIPTrustedProxy *&quot; if th=
ey<br>
don&#39;t want to restrict it?<br>
<div class=3D"HOEnZb"><div class=3D"h5"><br>
On Tue, Sep 22, 2015 at 2:11 PM,=C2=A0 &lt;<a href=3D"mailto:covener@apache=
.org">covener@apache.org</a>&gt; wrote:<br>
&gt; Author: covener<br>
&gt; Date: Tue Sep 22 18:11:35 2015<br>
&gt; New Revision: 1704683<br>
&gt;<br>
&gt; URL: <a href=3D"http://svn.apache.org/viewvc?rev=3D1704683&amp;view=3D=
rev" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc?rev=
=3D1704683&amp;view=3Drev</a><br>
&gt; Log:<br>
&gt; add warnings and emphasize the defaults for trusted non-internal proxi=
es)<br>
&gt;<br>
&gt;<br>
&gt; Modified:<br>
&gt;=C2=A0 =C2=A0 =C2=A0httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml<=
br>
&gt;<br>
&gt; Modified: httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml<br>
&gt; URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/ma=
nual/mod/mod_remoteip.xml?rev=3D1704683&amp;r1=3D1704682&amp;r2=3D1704683&a=
mp;view=3Ddiff" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/=
viewvc/httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml?rev=3D1704683&amp=
;r1=3D1704682&amp;r2=3D1704683&amp;view=3Ddiff</a><br>
&gt; =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D<br>
&gt; --- httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml (original)<br>
&gt; +++ httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml Tue Sep 22 18:1=
1:35 2015<br>
&gt; @@ -113,9 +113,12 @@ via the request headers.<br>
&gt;=C2=A0 =C2=A0 =C2=A0 &lt;var&gt;header-field&lt;/var&gt; header as the =
useragent IP address, or list<br>
&gt;=C2=A0 =C2=A0 =C2=A0 of intermediate useragent IP addresses, subject to=
 further configuration<br>
&gt;=C2=A0 =C2=A0 =C2=A0 of the &lt;directive module=3D&quot;mod_remoteip&q=
uot;&gt;RemoteIPInternalProxy&lt;/directive&gt; and<br>
&gt; -=C2=A0 =C2=A0 &lt;directive module=3D&quot;mod_remoteip&quot;&gt;Remo=
teIPTrustedProxy&lt;/directive&gt; directives.=C2=A0 Unless these<br>
&gt; -=C2=A0 =C2=A0 other directives are used, &lt;module&gt;mod_remoteip&l=
t;/module&gt; will trust all<br>
&gt; -=C2=A0 =C2=A0 hosts presenting a &lt;directive module=3D&quot;mod_rem=
oteip&quot;&gt;RemoteIPHeader&lt;/directive&gt; IP value.&lt;/p&gt;<br>
&gt; +=C2=A0 =C2=A0 &lt;directive module=3D&quot;mod_remoteip&quot;&gt;Remo=
teIPTrustedProxy&lt;/directive&gt; directives.&lt;/p&gt;<br>
&gt; +<br>
&gt; +=C2=A0 =C2=A0 &lt;note type=3D&quot;warning&quot;&gt; Unless these ot=
her directives are used, &lt;module&gt;mod_remoteip&lt;/module&gt;<br>
&gt; +=C2=A0 =C2=A0 will trust all hosts presenting a non internal address =
in the<br>
&gt; +=C2=A0 =C2=A0 &lt;directive module=3D&quot;mod_remoteip&quot;&gt;Remo=
teIPHeader&lt;/directive&gt; header value.<br>
&gt; +=C2=A0 =C2=A0 &lt;/note&gt;<br>
&gt;<br>
&gt;=C2=A0 =C2=A0 =C2=A0 &lt;example&gt;&lt;title&gt;Internal (Load Balance=
r) Example&lt;/title&gt;<br>
&gt;=C2=A0 =C2=A0 =C2=A0 &lt;highlight language=3D&quot;config&quot;&gt;<br=
>
&gt; @@ -213,20 +216,26 @@ RemoteIPProxiesHeader X-Forwarded-By<br>
&gt;<br>
&gt;=C2=A0 &lt;directivesynopsis&gt;<br>
&gt;=C2=A0 &lt;name&gt;RemoteIPTrustedProxy&lt;/name&gt;<br>
&gt; -&lt;description&gt;Declare client intranet IP addresses trusted to pr=
esent the RemoteIPHeader value&lt;/description&gt;<br>
&gt; +&lt;description&gt;Restrict client IP addresses trusted to present th=
e RemoteIPHeader value&lt;/description&gt;<br>
&gt;=C2=A0 &lt;syntax&gt;RemoteIPTrustedProxy &lt;var&gt;proxy-ip&lt;/var&g=
t;|&lt;var&gt;proxy-ip/subnet&lt;/var&gt;|&lt;var&gt;hostname&lt;/var&gt; .=
..&lt;/syntax&gt;<br>
&gt;=C2=A0 &lt;contextlist&gt;&lt;context&gt;server config&lt;/context&gt;&=
lt;context&gt;virtual host&lt;/context&gt;&lt;/contextlist&gt;<br>
&gt;<br>
&gt;=C2=A0 &lt;usage&gt;<br>
&gt; -=C2=A0 =C2=A0 &lt;p&gt;The &lt;directive module=3D&quot;mod_remoteip&=
quot;&gt;RemoteIPTrustedProxy&lt;/directive&gt; directive adds one<br>
&gt; -=C2=A0 =C2=A0 or more addresses (or address blocks) to trust as prese=
nting a valid<br>
&gt; -=C2=A0 =C2=A0 RemoteIPHeader value of the useragent IP.=C2=A0 Unlike =
the<br>
&gt; -=C2=A0 =C2=A0 &lt;directive module=3D&quot;mod_remoteip&quot;&gt;Remo=
teIPInternalProxy&lt;/directive&gt; directive, any intranet<br>
&gt; +=C2=A0 =C2=A0 &lt;p&gt;The &lt;directive module=3D&quot;mod_remoteip&=
quot;&gt;RemoteIPTrustedProxy&lt;/directive&gt;<br>
&gt; +=C2=A0 =C2=A0 directive restricts which peer IP addresses (or address=
 blocks) will be<br>
&gt; +=C2=A0 =C2=A0 trusted to present=C2=A0 a valid RemoteIPHeader value o=
f the useragent IP.&lt;/p&gt;<br>
&gt; +<br>
&gt; +=C2=A0 =C2=A0 &lt;p&gt; Unlike the &lt;directive module=3D&quot;mod_r=
emoteip&quot;&gt;RemoteIPInternalProxy&lt;/directive&gt; directive, any int=
ranet<br>
&gt;=C2=A0 =C2=A0 =C2=A0 or private IP address reported by such proxies, in=
cluding the 10/8, 172.16/12,<br>
&gt;=C2=A0 =C2=A0 =C2=A0 192.168/16, 169.254/16 and 127/8 blocks (or outsid=
e of the IPv6 public<br>
&gt;=C2=A0 =C2=A0 =C2=A0 2000::/3 block) are not trusted as the useragent I=
P, and are left in the<br>
&gt;=C2=A0 =C2=A0 =C2=A0 &lt;directive module=3D&quot;mod_remoteip&quot;&gt=
;RemoteIPHeader&lt;/directive&gt; header&#39;s value.&lt;/p&gt;<br>
&gt;<br>
&gt; +=C2=A0 =C2=A0 &lt;note type=3D&quot;warning&quot;&gt;By default, &lt;=
module&gt;mod_remoteip&lt;/module&gt; will trust<br>
&gt; +=C2=A0 =C2=A0 all hosts presenting a non internal address in the<br>
&gt; +=C2=A0 =C2=A0 &lt;directive module=3D&quot;mod_remoteip&quot;&gt;Remo=
teIPHeader&lt;/directive&gt; header value.<br>
&gt; +=C2=A0 =C2=A0 &lt;/note&gt;<br>
&gt; +<br>
&gt;=C2=A0 =C2=A0 =C2=A0 &lt;example&gt;&lt;title&gt;Trusted (Load Balancer=
) Example&lt;/title&gt;<br>
&gt;=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 &lt;highlight language=3D&quot;confi=
g&quot;&gt;<br>
&gt;=C2=A0 RemoteIPHeader X-Forwarded-For<br>
&gt; @@ -239,7 +248,7 @@ RemoteIPTrustedProxy <a href=3D"http://proxy.examp=
le.com" rel=3D"noreferrer" target=3D"_blank">proxy.example.com</a><br>
&gt;<br>
&gt;=C2=A0 &lt;directivesynopsis&gt;<br>
&gt;=C2=A0 &lt;name&gt;RemoteIPTrustedProxyList&lt;/name&gt;<br>
&gt; -&lt;description&gt;Declare client intranet IP addresses trusted to pr=
esent the RemoteIPHeader value&lt;/description&gt;<br>
&gt; +&lt;description&gt;Restrict client IP addresses trusted to present th=
e RemoteIPHeader value&lt;/description&gt;<br>
&gt;=C2=A0 &lt;syntax&gt;RemoteIPTrustedProxyList &lt;var&gt;filename&lt;/v=
ar&gt;&lt;/syntax&gt;<br>
&gt;=C2=A0 &lt;contextlist&gt;&lt;context&gt;server config&lt;/context&gt;&=
lt;context&gt;virtual host&lt;/context&gt;&lt;/contextlist&gt;<br>
&gt;<br>
&gt;<br>
&gt;<br>
<br>
<br>
<br>
</div></div><span class=3D"HOEnZb"><font color=3D"#888888">--<br>
Eric Covener<br>
<a href=3D"mailto:covener@gmail.com">covener@gmail.com</a><br>
</font></span></blockquote></div><br></div>

--089e0115fbeab0135f05205fec4e--

From dev-return-83870-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 23 01:48:46 2015
Return-Path: <dev-return-83870-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6EEA418E28
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Sep 2015 01:48:46 +0000 (UTC)
Received: (qmail 72939 invoked by uid 500); 23 Sep 2015 01:48:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 72877 invoked by uid 500); 23 Sep 2015 01:48:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 72866 invoked by uid 99); 23 Sep 2015 01:48:45 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Sep 2015 01:48:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 1F2EEF667A
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 01:48:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id FdwbkadY5tAG for <dev@httpd.apache.org>;
	Wed, 23 Sep 2015 01:48:40 +0000 (UTC)
Received: from mail-io0-f195.google.com (mail-io0-f195.google.com [209.85.223.195])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 11E3523066
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 01:48:40 +0000 (UTC)
Received: by iofh134 with SMTP id h134so3099012iof.0
        for <dev@httpd.apache.org>; Tue, 22 Sep 2015 18:48:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=5GeaHiAxPQeO5O5Xy0lmVfB9RVCSwLsQJJX3+R6xv3M=;
        b=dCA+NhK3mg7yFKwu5cMNtF0Dlaa3cWp99LFMqbjGT+XKH1Ec6hGJvNyV5TB33DLdJx
         +49WfQePRyX2vAhplfWeBMCw95jYX5iHNKR1LSjDJVNwW0Pe45WAc0WwXD1lrRfi90Hn
         bef9kVpUEh0H4JDhwduEvAaMPVu2xXe7ZwyWbnTFiojw0Q34eH5NLW77z4Q06zcBnp9B
         +qmPoUS8+7L4AaJ7q6d5YZEHE29ybyZi2TOgl/VkAs/z99wfvj3kBa8F+NyOPPTzQiw3
         Df17AVlm+xFuLTRpJazXm2Et9YEUxR+ydN9RpoHSRt71/VsO4ULzzf68aT6MX+9vDRlz
         0CBQ==
MIME-Version: 1.0
X-Received: by 10.107.160.143 with SMTP id j137mr36816393ioe.13.1442972919497;
 Tue, 22 Sep 2015 18:48:39 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Tue, 22 Sep 2015 18:48:39 -0700 (PDT)
In-Reply-To: <CACsi250uxMUntOT5VesBs=KQ5=r2FSma9MA0STRVGr47PXXFAA@mail.gmail.com>
References: <20150922181140.18E873A0818@svn01-us-west.apache.org>
	<CALK=YjPBPR=qJ+wFx+Hf1+yYF8YUkJ-bFjCLiuPoW+pP+xaiTA@mail.gmail.com>
	<CACsi250uxMUntOT5VesBs=KQ5=r2FSma9MA0STRVGr47PXXFAA@mail.gmail.com>
Date: Tue, 22 Sep 2015 21:48:39 -0400
Message-ID: <CALK=YjOHkErODYKEFG=O0Lngd04Csm_K5uxExSFUXtNFY6igbw@mail.gmail.com>
Subject: Re: svn commit: r1704683 - /httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

Maybe my followup is better phrased.  No issue with handling of internal IPs.

Currently, we act like RemoteIPTrustedProxy * by default (once they've
named the XFF header) and warn people they'd better restrict it.

On Tue, Sep 22, 2015 at 9:20 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
> I will try, I'm having trouble coming to terms with the idea because there
> is no way
> one would ever want private IP info from networks outside of their control
> to be
> used for access control.
>
> If you require ip 127.0.0.1 for your monitoring app/mod_status for example,
> this
> suggestion completely destroys your ability to perform that.  Private IP
> assignments
> are just that, and their inclusion in this module were largely for bridged
> private
> environments where the administrator has control of both.
>
> On Tue, Sep 22, 2015 at 1:13 PM, Eric Covener <covener@gmail.com> wrote:
>>
>> I struggled with the phrasing here, any fine-tuning (or more) appreciated.
>>
>> Does our default make sense considering the warning at the top of the
>> doc? Should we make people specify "RemoteIPTrustedProxy *" if they
>> don't want to restrict it?
>>
>> On Tue, Sep 22, 2015 at 2:11 PM,  <covener@apache.org> wrote:
>> > Author: covener
>> > Date: Tue Sep 22 18:11:35 2015
>> > New Revision: 1704683
>> >
>> > URL: http://svn.apache.org/viewvc?rev=1704683&view=rev
>> > Log:
>> > add warnings and emphasize the defaults for trusted non-internal
>> > proxies)
>> >
>> >
>> > Modified:
>> >     httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml
>> >
>> > Modified: httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml
>> > URL:
>> > http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml?rev=1704683&r1=1704682&r2=1704683&view=diff
>> >
>> > ==============================================================================
>> > --- httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml (original)
>> > +++ httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml Tue Sep 22
>> > 18:11:35 2015
>> > @@ -113,9 +113,12 @@ via the request headers.
>> >      <var>header-field</var> header as the useragent IP address, or list
>> >      of intermediate useragent IP addresses, subject to further
>> > configuration
>> >      of the <directive
>> > module="mod_remoteip">RemoteIPInternalProxy</directive> and
>> > -    <directive module="mod_remoteip">RemoteIPTrustedProxy</directive>
>> > directives.  Unless these
>> > -    other directives are used, <module>mod_remoteip</module> will trust
>> > all
>> > -    hosts presenting a <directive
>> > module="mod_remoteip">RemoteIPHeader</directive> IP value.</p>
>> > +    <directive module="mod_remoteip">RemoteIPTrustedProxy</directive>
>> > directives.</p>
>> > +
>> > +    <note type="warning"> Unless these other directives are used,
>> > <module>mod_remoteip</module>
>> > +    will trust all hosts presenting a non internal address in the
>> > +    <directive module="mod_remoteip">RemoteIPHeader</directive> header
>> > value.
>> > +    </note>
>> >
>> >      <example><title>Internal (Load Balancer) Example</title>
>> >      <highlight language="config">
>> > @@ -213,20 +216,26 @@ RemoteIPProxiesHeader X-Forwarded-By
>> >
>> >  <directivesynopsis>
>> >  <name>RemoteIPTrustedProxy</name>
>> > -<description>Declare client intranet IP addresses trusted to present
>> > the RemoteIPHeader value</description>
>> > +<description>Restrict client IP addresses trusted to present the
>> > RemoteIPHeader value</description>
>> >  <syntax>RemoteIPTrustedProxy
>> > <var>proxy-ip</var>|<var>proxy-ip/subnet</var>|<var>hostname</var>
>> > ...</syntax>
>> >  <contextlist><context>server config</context><context>virtual
>> > host</context></contextlist>
>> >
>> >  <usage>
>> > -    <p>The <directive
>> > module="mod_remoteip">RemoteIPTrustedProxy</directive> directive adds one
>> > -    or more addresses (or address blocks) to trust as presenting a
>> > valid
>> > -    RemoteIPHeader value of the useragent IP.  Unlike the
>> > -    <directive module="mod_remoteip">RemoteIPInternalProxy</directive>
>> > directive, any intranet
>> > +    <p>The <directive
>> > module="mod_remoteip">RemoteIPTrustedProxy</directive>
>> > +    directive restricts which peer IP addresses (or address blocks)
>> > will be
>> > +    trusted to present  a valid RemoteIPHeader value of the useragent
>> > IP.</p>
>> > +
>> > +    <p> Unlike the <directive
>> > module="mod_remoteip">RemoteIPInternalProxy</directive> directive, any
>> > intranet
>> >      or private IP address reported by such proxies, including the 10/8,
>> > 172.16/12,
>> >      192.168/16, 169.254/16 and 127/8 blocks (or outside of the IPv6
>> > public
>> >      2000::/3 block) are not trusted as the useragent IP, and are left
>> > in the
>> >      <directive module="mod_remoteip">RemoteIPHeader</directive>
>> > header's value.</p>
>> >
>> > +    <note type="warning">By default, <module>mod_remoteip</module> will
>> > trust
>> > +    all hosts presenting a non internal address in the
>> > +    <directive module="mod_remoteip">RemoteIPHeader</directive> header
>> > value.
>> > +    </note>
>> > +
>> >      <example><title>Trusted (Load Balancer) Example</title>
>> >          <highlight language="config">
>> >  RemoteIPHeader X-Forwarded-For
>> > @@ -239,7 +248,7 @@ RemoteIPTrustedProxy proxy.example.com
>> >
>> >  <directivesynopsis>
>> >  <name>RemoteIPTrustedProxyList</name>
>> > -<description>Declare client intranet IP addresses trusted to present
>> > the RemoteIPHeader value</description>
>> > +<description>Restrict client IP addresses trusted to present the
>> > RemoteIPHeader value</description>
>> >  <syntax>RemoteIPTrustedProxyList <var>filename</var></syntax>
>> >  <contextlist><context>server config</context><context>virtual
>> > host</context></contextlist>
>> >
>> >
>> >
>>
>>
>>
>> --
>> Eric Covener
>> covener@gmail.com
>
>



-- 
Eric Covener
covener@gmail.com

From dev-return-83871-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 23 03:09:35 2015
Return-Path: <dev-return-83871-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 17C7E171D1
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Sep 2015 03:09:35 +0000 (UTC)
Received: (qmail 21154 invoked by uid 500); 23 Sep 2015 03:09:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 21086 invoked by uid 500); 23 Sep 2015 03:09:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 21076 invoked by uid 99); 23 Sep 2015 03:09:31 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Sep 2015 03:09:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 095B8180997
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 03:09:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.998
X-Spam-Level: **
X-Spam-Status: No, score=2.998 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id B51X22buA6Lm for <dev@httpd.apache.org>;
	Wed, 23 Sep 2015 03:09:30 +0000 (UTC)
Received: from mail-io0-f171.google.com (mail-io0-f171.google.com [209.85.223.171])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id C931420F60
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 03:09:29 +0000 (UTC)
Received: by iofb144 with SMTP id b144so33164609iof.1
        for <dev@httpd.apache.org>; Tue, 22 Sep 2015 20:09:29 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=C8Dnos28RDmVWxp3SgrvkMbt20AXqI/sTLg55IEG1Jg=;
        b=Ro6dy16griwKUdgyGx8yzJpo14q4OvXFemhN6GTQMYigfte+kN65cGwFyrgzIpdRhV
         amHdLqw27hDn/a8wW6y+3icQ2CPMzTJ4Kis2Ecvce2pzVS49bReWgvG3QKHPhiM/fX4x
         WdxYPFbjL4/gtlOKqVj7OAT4h1HohhtPnSFxanZvfK+eLo6GT321+5d/hZafG9a2ctF5
         0b0IDc2+08fTCWuuuPvx3l0apOYEpZESdkeFn1xCHaKwFqvMxcxcMbL2i5ucmOZYYsLC
         GEhgvOy8jM2J71ZgGG9YuYWNzUrSCyzgLoBhx+Ipdoy/AR18jbjozqnkIA1kls+km3gc
         SIfw==
X-Gm-Message-State: ALoCoQlRWclGXApxU4cRJtAyoAT9REpiYmTPpLDFJ4IiywuTsgKB6SqUz4J3HEp9kTZtkL+GkbLz
MIME-Version: 1.0
X-Received: by 10.107.28.5 with SMTP id c5mr30028440ioc.150.1442977769051;
 Tue, 22 Sep 2015 20:09:29 -0700 (PDT)
Received: by 10.107.12.199 with HTTP; Tue, 22 Sep 2015 20:09:28 -0700 (PDT)
In-Reply-To: <CALK=YjOHkErODYKEFG=O0Lngd04Csm_K5uxExSFUXtNFY6igbw@mail.gmail.com>
References: <20150922181140.18E873A0818@svn01-us-west.apache.org>
	<CALK=YjPBPR=qJ+wFx+Hf1+yYF8YUkJ-bFjCLiuPoW+pP+xaiTA@mail.gmail.com>
	<CACsi250uxMUntOT5VesBs=KQ5=r2FSma9MA0STRVGr47PXXFAA@mail.gmail.com>
	<CALK=YjOHkErODYKEFG=O0Lngd04Csm_K5uxExSFUXtNFY6igbw@mail.gmail.com>
Date: Tue, 22 Sep 2015 22:09:28 -0500
Message-ID: <CACsi250knfKyt9zXKQAMeqLgS5g1=hH+HnVAcarufBgJAvOEqg@mail.gmail.com>
Subject: Re: svn commit: r1704683 - /httpd/httpd/trunk/docs/manual/mod/mod_remoteip.xml
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a113ff22657f51805206171de

--001a113ff22657f51805206171de
Content-Type: text/plain; charset=UTF-8

On Tue, Sep 22, 2015 at 8:48 PM, Eric Covener <covener@gmail.com> wrote:

> Maybe my followup is better phrased.  No issue with handling of internal
> IPs.
>
> Currently, we act like RemoteIPTrustedProxy * by default (once they've
> named the XFF header) and warn people they'd better restrict it.
>

I agree that was not the original design and we should address it with a fix
rather than a docs fix, IMHO.  'Trusted' is the exception, not the general
case.

--001a113ff22657f51805206171de
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On T=
ue, Sep 22, 2015 at 8:48 PM, Eric Covener <span dir=3D"ltr">&lt;<a href=3D"=
mailto:covener@gmail.com" target=3D"_blank">covener@gmail.com</a>&gt;</span=
> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;bo=
rder-left:1px #ccc solid;padding-left:1ex">Maybe my followup is better phra=
sed.=C2=A0 No issue with handling of internal IPs.<br>
<br>
Currently, we act like RemoteIPTrustedProxy * by default (once they&#39;ve<=
br>
named the XFF header) and warn people they&#39;d better restrict it.<br>
<div class=3D"HOEnZb"><div class=3D"h5"></div></div></blockquote></div><br>=
</div><div class=3D"gmail_extra">I agree that was not the original design a=
nd we should address it with a fix</div><div class=3D"gmail_extra">rather t=
han a docs fix, IMHO. =C2=A0&#39;Trusted&#39; is the exception, not the gen=
eral</div><div class=3D"gmail_extra">case.</div></div>

--001a113ff22657f51805206171de--

From dev-return-83872-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 23 09:04:27 2015
Return-Path: <dev-return-83872-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DD81F17D03
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Sep 2015 09:04:26 +0000 (UTC)
Received: (qmail 19151 invoked by uid 500); 23 Sep 2015 09:03:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 19064 invoked by uid 500); 23 Sep 2015 09:03:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 19054 invoked by uid 99); 23 Sep 2015 09:03:52 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Sep 2015 09:03:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 0AC2EF6DF1
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 09:03:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3.616
X-Spam-Level: ***
X-Spam-Status: No, score=3.616 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	FROM_12LTRDOM=0.1, SPF_PASS=-0.001, STOX_REPLY_TYPE=0.212,
	STOX_REPLY_TYPE_WITHOUT_QUOTES=1.86, TVD_FINGER_02=1.544,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id iF4SHnJZPw6g for <dev@httpd.apache.org>;
	Wed, 23 Sep 2015 09:03:44 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 87F8B43DF0
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 09:03:40 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1442999061;
	bh=0FE28P+tOObkbosNB7N15r95P8pEGcgu2Tl3zo72Rfs=;
	h=From:To:Subject:Date;
	b=KWjTZEjZ0RQrLZd3AhJ6Z7JIJubrg/I+zcig1wNVHJNP/Vp8IPnHOw0Gu/68Gk/F7
	 kxzgFyxSEK3oNK2XKw3+RL3JHCuqBF/zIgLhSD+KzEAS4VRV9kF+4biEW++NeucPF3
	 vB/ae6Lhtr4Zlj7f6JpDMCMr/7QfEa3aBXhXd5Do=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <585D3D91FA24459BAFBE060063A1874D@father>
From: "Steffen" <info@apachelounge.com>
To: "Apache Devel List" <dev@httpd.apache.org>
Subject: mod_h2 crash
Date: Wed, 23 Sep 2015 11:02:38 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="Windows-1252";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

In the other thread I wrote:

Once in a few hours I see crashes.

With no-ssl and no_mod_h2 crash in libapr-1.dll

With ssl and mod_h2 crash in mod_h2.so

I have some more info now:

Unhandled exception at 0x000000006DB8571F (mod_h2.so) in memory.hdmp: 
0xC0000005: Access violation reading location 0xFFFFFFFFFFFFFFFF.

Callstack:

mod_h2.so!h2_mplx_next_submit(h2_mplx * m, h2_stream_set * streams) Line 497 
C
mod_h2.so!h2_session_write(h2_session * session, __int64 timeout) Line 934 
C
mod_h2.so!h2_session_process(h2_session * session) Line 253    C
mod_h2.so!h2_conn_main(conn_rec * c) Line 184    C


io    0x000000415976f2a0 {id=-611884617 pool=0x4d92cbfa90828f1b {...} 
bbin=0x9ef87029f434850b {p=??? list=...} ...}    h2_io *
io->response    0x953c88f539fdf0ae {stream_id=??? status=??? 
content_length=??? ...}    h2_response *
m    0x00000041545346f8 {id=108 link={next=0x000000414effef60 {id=1365721728 
link={next=0x000000414effef60 {...} ...} ...} ...} ...}    h2_mplx *
m->ready_ios    0x0000004155b91550 {list=0x0000004155b91558 
{pool=0x0000004155b910e8 {...} elt_size=8 nelts=4 ...} }    h2_io_set *
response    0x953c88f539fdf0ae {stream_id=??? status=??? content_length=??? 
...}    h2_response *
stream    0x0000000000000000 <NULL>    h2_stream *
streams    0x00000041545343b0 {list=0x00000041545343b8 
{pool=0x0000004154534208 {...} elt_size=8 nelts=1 ...} }    h2_stream_set *

 


From dev-return-83873-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 23 10:08:22 2015
Return-Path: <dev-return-83873-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4569F17FDD
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Sep 2015 10:08:22 +0000 (UTC)
Received: (qmail 74603 invoked by uid 500); 23 Sep 2015 10:08:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 74530 invoked by uid 500); 23 Sep 2015 10:08:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 74520 invoked by uid 99); 23 Sep 2015 10:08:21 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Sep 2015 10:08:21 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 77895180A30
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 10:08:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id lnTKCqrGZnLb for <dev@httpd.apache.org>;
	Wed, 23 Sep 2015 10:08:12 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id D0EC626049
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 10:01:14 +0000 (UTC)
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 9E9CF15A0599
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 12:01:13 +0200 (CEST)
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: mod_h2 crash
From: Stefan Eissing <stefan.eissing@greenbytes.de>
X-Priority: 3
In-Reply-To: <585D3D91FA24459BAFBE060063A1874D@father>
Date: Wed, 23 Sep 2015 12:01:13 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <B2C78027-4E29-4D09-B309-F473EDCFF058@greenbytes.de>
References: <585D3D91FA24459BAFBE060063A1874D@father>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

I think I found a possible race that could cause this. Please install =
the latest version in 2.4.17-protocols-http2, when you find the time, =
and let me know if you see any change.

//Stefan

> Am 23.09.2015 um 11:02 schrieb Steffen <info@apachelounge.com>:
>=20
> In the other thread I wrote:
>=20
> Once in a few hours I see crashes.
>=20
> With no-ssl and no_mod_h2 crash in libapr-1.dll
>=20
> With ssl and mod_h2 crash in mod_h2.so
>=20
> I have some more info now:
>=20
> Unhandled exception at 0x000000006DB8571F (mod_h2.so) in memory.hdmp: =
0xC0000005: Access violation reading location 0xFFFFFFFFFFFFFFFF.
>=20
> Callstack:
>=20
> mod_h2.so!h2_mplx_next_submit(h2_mplx * m, h2_stream_set * streams) =
Line 497 C
> mod_h2.so!h2_session_write(h2_session * session, __int64 timeout) Line =
934 C
> mod_h2.so!h2_session_process(h2_session * session) Line 253    C
> mod_h2.so!h2_conn_main(conn_rec * c) Line 184    C
>=20
>=20
> io    0x000000415976f2a0 {id=3D-611884617 pool=3D0x4d92cbfa90828f1b =
{...} bbin=3D0x9ef87029f434850b {p=3D??? list=3D...} ...}    h2_io *
> io->response    0x953c88f539fdf0ae {stream_id=3D??? status=3D??? =
content_length=3D??? ...}    h2_response *
> m    0x00000041545346f8 {id=3D108 link=3D{next=3D0x000000414effef60 =
{id=3D1365721728 link=3D{next=3D0x000000414effef60 {...} ...} ...} ...} =
...}    h2_mplx *
> m->ready_ios    0x0000004155b91550 {list=3D0x0000004155b91558 =
{pool=3D0x0000004155b910e8 {...} elt_size=3D8 nelts=3D4 ...} }    =
h2_io_set *
> response    0x953c88f539fdf0ae {stream_id=3D??? status=3D??? =
content_length=3D??? ...}    h2_response *
> stream    0x0000000000000000 <NULL>    h2_stream *
> streams    0x00000041545343b0 {list=3D0x00000041545343b8 =
{pool=3D0x0000004154534208 {...} elt_size=3D8 nelts=3D1 ...} }    =
h2_stream_set *
>=20
>=20

<green/>bytes GmbH
Hafenweg 16, 48155 M=FCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=FCnster: HRB5782




From dev-return-83874-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 23 11:09:12 2015
Return-Path: <dev-return-83874-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CCB99181F8
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Sep 2015 11:09:12 +0000 (UTC)
Received: (qmail 98915 invoked by uid 500); 23 Sep 2015 11:09:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 98856 invoked by uid 500); 23 Sep 2015 11:09:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 98846 invoked by uid 99); 23 Sep 2015 11:09:12 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Sep 2015 11:09:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B060F180A34
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 11:09:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.092
X-Spam-Level:
X-Spam-Status: No, score=-0.092 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, T_FROM_12LTRDOM=0.01]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id AvwcwOQuWq5u for <dev@httpd.apache.org>;
	Wed, 23 Sep 2015 11:09:05 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id E83024447D
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 11:09:04 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1443006585;
	bh=eKvHL3irYa9L+c4OuCupowpcilivmPP5Asq6FOu8fak=;
	h=From:To:Subject:Date;
	b=vvwcsmm8Wan3r+Z/JtAWa7hwvyqA1TN6mrJTBxgvSE9XXLPvXuB7/V0lO1CsVv2qw
	 pItCxZxRk0/5U6XN3HUrOEM7MPBRQeLqneWNTImOqBoe1wWQAfYVVCsXEHDEwlOL9g
	 1Dep8uRHYe/CABIg4lRwqpCLz1qzzRdi7KDyEsIs=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=127.0.0.1;
From: Steffen <info@apachelounge.com>
To:  <dev@httpd.apache.org>
Subject: 2.4.17-dev crash libapr-1.dll
Date: Wed, 23 Sep 2015 13:09:43 +0200
Message-ID: <56028877.1b18.12c0.3873@land10.nl>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii; format=flowed
X-Originating-IP: 127.0.0.1
X-Mailer: SurgeWeb - Ajax Webmail Client


In an other thread I wrote:


Once in a few hours I see crashes.
With no-ssl and no_mod_h2 crash in libapr-1.dll

Once in a few hours I see crashes.

To restate Apache 2.4.16 is not crashing here. With 2.4.17-dev it is 
crashing (no-ssl, no mod_h2 , exact same config as 2.4.16) once in a 
few hours running it on AL.

I have more info:



Unhandled exception at 0x000000006DEEAE8D (libapr-1.dll) in 
memory.hdmp: 0xC0000005: Access violation writing location 
0x0000000000000008.

Call Stack Frame apr_palloc:

 >libapr-1.dll!apr_palloc(apr_pool_t * pool, unsigned __int64 in_size) 
Line 693

 libapr-1.dll!apr_pstrdup(apr_pool_t * a, const char * s) Line 78

+active    0x00000011ce3291e0 {next=0x00000011ce3251c0 
{next=0x0000000000000000 <NULL> ref=0x00000011ce3211a0 {...} ...} ...} 
apr_memnode_t *

+active->next    0x00000011ce3251c0 {next=0x0000000000000000 <NULL> 
ref=0x00000011ce3211a0 {0x0000000000000000 <NULL>} ...} apr_memnode_t 
*

+node    0x00000011ce3251c0 {next=0x0000000000000000 <NULL> 
ref=0x00000011ce3211a0 {0x0000000000000000 <NULL>} ...} apr_memnode_t 
*
        size    64    unsigned __int64

Next statement that  will be executed:
    node = active->next;
    if (size <= node_free_space(node)) {
==>     list_remove(node);


Call Stack Frame apr_pstrdup:

 libapr-1.dll!apr_palloc(apr_pool_t * pool, unsigned __int64 in_size) 
Line 693

 >libapr-1.dll!apr_pstrdup(apr_pool_t * a, const char * s) Line 78C

+s 0x000000006dfb6eb0 <Error reading characters of string.> const char 
*

Next statement to execute when this thread returns from current 
fuction:
    len = strlen(s) + 1;
==> res = apr_pmemdup(a, s, len);
    return res;



Steffen



From dev-return-83875-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 23 11:37:14 2015
Return-Path: <dev-return-83875-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BAABD182B6
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Sep 2015 11:37:14 +0000 (UTC)
Received: (qmail 46921 invoked by uid 500); 23 Sep 2015 11:37:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46838 invoked by uid 500); 23 Sep 2015 11:37:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46826 invoked by uid 99); 23 Sep 2015 11:37:14 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Sep 2015 11:37:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id B22F418042A
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 11:37:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id LNiSXNcspKIm for <dev@httpd.apache.org>;
	Wed, 23 Sep 2015 11:37:08 +0000 (UTC)
Received: from mail-qg0-f41.google.com (mail-qg0-f41.google.com [209.85.192.41])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 5FBF642B22
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 11:37:08 +0000 (UTC)
Received: by qgx61 with SMTP id 61so16410081qgx.3
        for <dev@httpd.apache.org>; Wed, 23 Sep 2015 04:37:08 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=AkwYzozJNqfQ4alTVE2r0u+tYbJnwaj/RuwSUk/0V4Y=;
        b=sLAarITTg41368YJ2LHGXiPix1A6oC8MCnDlFhU8TD2SKIeotEPJE/1lcIuKEMj3A3
         johibiVmqVWLwaG7THkNYXdv2CYwilVi4pEbb9f4P2Oro5SmW6t6pTOHSuuvymCSoiIW
         WHnne9DBJfyGNZYtAccHNZYDBZsbLOPRNY0z5INVRCX1xorBfUo7dVsOgZ+agMPIyQI/
         RfzU4tZo7ApqaL3yabaVpcpCC9Q0XanxDEg0W7AShb6w8FBOiBhJHFWKxE/NMuwhk6ZS
         iMOnhYcOEZaGcj/KD1R2ejBq+QSTQzk7px4HBBjb0bzO5f8GmuO+V6SwBqNfpldWC8gO
         nvDg==
MIME-Version: 1.0
X-Received: by 10.141.23.9 with SMTP id z9mr37583452qhd.24.1443008228033; Wed,
 23 Sep 2015 04:37:08 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Wed, 23 Sep 2015 04:37:07 -0700 (PDT)
In-Reply-To: <56028877.1b18.12c0.3873@land10.nl>
References: <56028877.1b18.12c0.3873@land10.nl>
Date: Wed, 23 Sep 2015 13:37:07 +0200
Message-ID: <CAKQ1sVNnnSvMgWd7H9t8RTm=a7BkVU_AnrFy8K2xFWOq0Lo85A@mail.gmail.com>
Subject: Re: 2.4.17-dev crash libapr-1.dll
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Can you determine where this apr_pstrdup() calls come from in httpd?

On Wed, Sep 23, 2015 at 1:09 PM, Steffen <info@apachelounge.com> wrote:
>
> In an other thread I wrote:
>
>
> Once in a few hours I see crashes.
> With no-ssl and no_mod_h2 crash in libapr-1.dll
>
> Once in a few hours I see crashes.
>
> To restate Apache 2.4.16 is not crashing here. With 2.4.17-dev it is
> crashing (no-ssl, no mod_h2 , exact same config as 2.4.16) once in a few
> hours running it on AL.
>
> I have more info:
>
>
>
> Unhandled exception at 0x000000006DEEAE8D (libapr-1.dll) in memory.hdmp:
> 0xC0000005: Access violation writing location 0x0000000000000008.
>
> Call Stack Frame apr_palloc:
>
>>libapr-1.dll!apr_palloc(apr_pool_t * pool, unsigned __int64 in_size) Line
>> 693
>
> libapr-1.dll!apr_pstrdup(apr_pool_t * a, const char * s) Line 78
>
> +active    0x00000011ce3291e0 {next=0x00000011ce3251c0
> {next=0x0000000000000000 <NULL> ref=0x00000011ce3211a0 {...} ...} ...}
> apr_memnode_t *
>
> +active->next    0x00000011ce3251c0 {next=0x0000000000000000 <NULL>
> ref=0x00000011ce3211a0 {0x0000000000000000 <NULL>} ...} apr_memnode_t *
>
> +node    0x00000011ce3251c0 {next=0x0000000000000000 <NULL>
> ref=0x00000011ce3211a0 {0x0000000000000000 <NULL>} ...} apr_memnode_t *
>        size    64    unsigned __int64
>
> Next statement that  will be executed:
>    node = active->next;
>    if (size <= node_free_space(node)) {
> ==>     list_remove(node);
>
>
> Call Stack Frame apr_pstrdup:
>
> libapr-1.dll!apr_palloc(apr_pool_t * pool, unsigned __int64 in_size) Line
> 693
>
>>libapr-1.dll!apr_pstrdup(apr_pool_t * a, const char * s) Line 78C
>
> +s 0x000000006dfb6eb0 <Error reading characters of string.> const char *
>
> Next statement to execute when this thread returns from current fuction:
>    len = strlen(s) + 1;
> ==> res = apr_pmemdup(a, s, len);
>    return res;
>
>
>
> Steffen
>
>

From dev-return-83876-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 23 11:40:24 2015
Return-Path: <dev-return-83876-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8841A182CD
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Sep 2015 11:40:24 +0000 (UTC)
Received: (qmail 52280 invoked by uid 500); 23 Sep 2015 11:40:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 52214 invoked by uid 500); 23 Sep 2015 11:40:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 52204 invoked by uid 99); 23 Sep 2015 11:40:23 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Sep 2015 11:40:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 681DA1A7B7E
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 11:40:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.007
X-Spam-Level:
X-Spam-Status: No, score=-0.007 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id U_dE31__ZbSH for <dev@httpd.apache.org>;
	Wed, 23 Sep 2015 11:40:08 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 7383520512
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 11:40:07 +0000 (UTC)
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 322D015A0599
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 13:40:01 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: connection reuse and ssl renegotiation
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVM=v9E5mtbNXegFVLhZpf-Qq+1V2sqDoqmM54TarT-Kcw@mail.gmail.com>
Date: Wed, 23 Sep 2015 13:40:00 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <E7670787-1022-4D54-ACF9-7B7C6B282E90@greenbytes.de>
References: <2317850E-9CA5-4484-8E8F-07057980CF22@greenbytes.de> <CAKQ1sVM=v9E5mtbNXegFVLhZpf-Qq+1V2sqDoqmM54TarT-Kcw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

Discussion started here: =
http://lists.w3.org/Archives/Public/ietf-http-wg/2015JulSep/0345.html
The whole thread is here: =
http://lists.w3.org/Archives/Public/ietf-http-wg/2015JulSep/thread.html

What it currently drifts to is that clients that trigger renegotiation =
on a h2 connection
should be pushed by to HTTP/1.1. There is a specific error code for =
this. That would be applicable
for *all* kinds of TLS renegotiations, from the first request onwards on =
h2.

The question then is how we best let other modules stop =
ssl_hook_Access() from performing=20
the renegotiation. It may then return HTTP_FORBIDDEN. Then denying hook =
could store context
information in r->notes so that the request is answered specific to the =
protocols need.

Another hook in core which ssl_hook_Access() then triggers?

//Stefan

> ssl_hook_Access()


> Am 22.09.2015 um 15:20 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Tue, Sep 22, 2015 at 1:24 PM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>>=20
>> SSL renegotiation is forbidden in HTTP/2, exactly due to concurrency =
issues.
>=20
> Certainly a concurrency between each one's privacy and every one's
> data in the same stream :)
> Also, let servers trust the security of the client/proxy side...
>=20
>> There is a debate currently on the http-wg mailing list, what to do =
about it, especially for sites that use client certificates.
>=20
> They should probably forbid client certificates too :p
>=20
> (BTW, could you provide some links please?)
>=20
>>=20
>> As Apache httpd, we can at the moment only advise server =
administrators to not enable HTTP/2 for servers/vhosts that make use of =
renegotiations.
>=20
> How can the server know which request a client will issue next on the
> same connection, same vhost? same path?
> That would be a warning about using multiple vhosts with different SSL
> parameters/certificates/... in httpd.conf.
>=20
>> We should probably log an error when ap_get_protocol() !=3D =
"http/1.1", when renegotiation is attempted. Anyone know the best place =
to put that?
>=20
> That's probably in ssl_hook_Access() when renegotiate &&
> !renegotiate_quick =3D> before we SSL_do_handshake().
>=20
>>=20
>> ssl_hook_Access() seems the renegotiation monster. Not sure if I want =
to stick my fingers in there. But this seems to be the place to check =
the protocol and make a log error (at least)? Or do we make a =
connection_param_renegotiate hook that can stop renegotiation and set =
the proper response on the request?
>=20
> I think we should add more checks here about the current-server's
> parameters vs the handshake-server's ones.
> Is the handshaken protocol compatible with the current server's ones
> (SSL_METHOD)?
> Do the current-server's certificate's SN/SAN(s) include the requested =
Host?
> Are the current's and handshake's SSLVerify equal, with the same =
CA[DN]s?
> ...???
>=20
> Otherwise (or if a renegotiation is required in HTTP/2), bail out with =
421.
> This should work whenever the parameters/certificates are
> shared/compatible between vhosts, putting the bargain at the admin.
>=20
> Regards,
> Yann.

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83877-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 23 12:09:39 2015
Return-Path: <dev-return-83877-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5EE12183D4
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Sep 2015 12:09:39 +0000 (UTC)
Received: (qmail 15504 invoked by uid 500); 23 Sep 2015 12:09:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15441 invoked by uid 500); 23 Sep 2015 12:09:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15431 invoked by uid 99); 23 Sep 2015 12:09:27 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Sep 2015 12:09:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 4F683180A34
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 12:09:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id nlPs6qHEwDOr for <dev@httpd.apache.org>;
	Wed, 23 Sep 2015 12:09:22 +0000 (UTC)
Received: from mail-io0-f174.google.com (mail-io0-f174.google.com [209.85.223.174])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id A22B82312D
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 12:09:21 +0000 (UTC)
Received: by ioii196 with SMTP id i196so41751114ioi.3
        for <dev@httpd.apache.org>; Wed, 23 Sep 2015 05:09:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=PtEDknMhefq2WeKZ2WFfgtflMQOb2ML8CE6aqDRhkMw=;
        b=CwpydtlOVZnMMtI+22XuSAIZxI1JDi/bH7HM7D2aq/kJrnu9vmFy4SmWGlh7nKcQHj
         3QLMOJZ4j+Frkl+lAGbid83XadkRxiA6CM0tAfr78FB1fpLJwQMTPcXqRvBN0xdT/4Us
         +ykBBcQ4EUmnqyOFRhPmXp8lCAmjvaJFKcorGW+2vAV+LcD7GsMyploRNiQ3/CTTfvgQ
         pMNtIjaDJBn8kwdr7qmk7s2t/eExzAhFmzEpkOfTm0sIHa7+JIwnW8PY7+Xw6ttOBHve
         xz/8iH418NnDIXqLjIQ3N61vOR46C+qAWivWS9nrxIaQorZrXERLkeN0sV40fN7tybmQ
         sHRw==
MIME-Version: 1.0
X-Received: by 10.107.14.4 with SMTP id 4mr41608731ioo.169.1443010161062; Wed,
 23 Sep 2015 05:09:21 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Wed, 23 Sep 2015 05:09:21 -0700 (PDT)
In-Reply-To: <E7670787-1022-4D54-ACF9-7B7C6B282E90@greenbytes.de>
References: <2317850E-9CA5-4484-8E8F-07057980CF22@greenbytes.de>
	<CAKQ1sVM=v9E5mtbNXegFVLhZpf-Qq+1V2sqDoqmM54TarT-Kcw@mail.gmail.com>
	<E7670787-1022-4D54-ACF9-7B7C6B282E90@greenbytes.de>
Date: Wed, 23 Sep 2015 08:09:21 -0400
Message-ID: <CALK=YjNsEmGoQ_9hx1ZdQoNXGRV-U5R8_zoayTGt+juuKCVN0g@mail.gmail.com>
Subject: Re: connection reuse and ssl renegotiation
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Wed, Sep 23, 2015 at 7:40 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> The question then is how we best let other modules stop ssl_hook_Access() from performing
> the renegotiation. It may then return HTTP_FORBIDDEN. Then denying hook could store context
> information in r->notes so that the request is answered specific to the protocols need.
>
> Another hook in core which ssl_hook_Access() then triggers?

optional function exported by mod_ssl to block renegotiation?

From dev-return-83878-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 23 12:12:47 2015
Return-Path: <dev-return-83878-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A86E018401
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Sep 2015 12:12:47 +0000 (UTC)
Received: (qmail 24921 invoked by uid 500); 23 Sep 2015 12:12:42 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 24832 invoked by uid 500); 23 Sep 2015 12:12:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 24820 invoked by uid 99); 23 Sep 2015 12:12:42 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Sep 2015 12:12:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C69B9F7080
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 12:12:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id VRE42UnUCoJB for <dev@httpd.apache.org>;
	Wed, 23 Sep 2015 12:12:35 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 2B3B724B3C
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 12:12:35 +0000 (UTC)
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 8767715A0535
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 14:12:34 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: connection reuse and ssl renegotiation
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CALK=YjNsEmGoQ_9hx1ZdQoNXGRV-U5R8_zoayTGt+juuKCVN0g@mail.gmail.com>
Date: Wed, 23 Sep 2015 14:12:34 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <06F42A3E-A33A-437C-AF77-1CC1E777CF11@greenbytes.de>
References: <2317850E-9CA5-4484-8E8F-07057980CF22@greenbytes.de> <CAKQ1sVM=v9E5mtbNXegFVLhZpf-Qq+1V2sqDoqmM54TarT-Kcw@mail.gmail.com> <E7670787-1022-4D54-ACF9-7B7C6B282E90@greenbytes.de> <CALK=YjNsEmGoQ_9hx1ZdQoNXGRV-U5R8_zoayTGt+juuKCVN0g@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)


> Am 23.09.2015 um 14:09 schrieb Eric Covener <covener@gmail.com>:
>=20
> On Wed, Sep 23, 2015 at 7:40 AM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>> The question then is how we best let other modules stop =
ssl_hook_Access() from performing
>> the renegotiation. It may then return HTTP_FORBIDDEN. Then denying =
hook could store context
>> information in r->notes so that the request is answered specific to =
the protocols need.
>>=20
>> Another hook in core which ssl_hook_Access() then triggers?
>=20
> optional function exported by mod_ssl to block renegotiation?

Needs to register a callback and needs to be able to handle more than =
one. Smells like a hook, at least internally. Nothing against an =
optional function for registration...

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83879-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 23 12:19:15 2015
Return-Path: <dev-return-83879-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 60D3A1843B
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Sep 2015 12:19:15 +0000 (UTC)
Received: (qmail 41476 invoked by uid 500); 23 Sep 2015 12:19:14 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 41416 invoked by uid 500); 23 Sep 2015 12:19:14 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 41406 invoked by uid 99); 23 Sep 2015 12:19:14 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Sep 2015 12:19:14 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 73B5EF709B
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 12:19:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 1070K5oUzar2 for <dev@httpd.apache.org>;
	Wed, 23 Sep 2015 12:19:06 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id B2D1721044
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 12:19:05 +0000 (UTC)
Received: from [192.168.1.42] (unknown [217.91.35.233])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 9047815A0535
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 14:18:57 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn move modules/http2 modules/h2 ?
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CACsi253QP14jgV5qfZNr+4c==zr-zzXO8jqRcEFEQK=UOHrPsA@mail.gmail.com>
Date: Wed, 23 Sep 2015 14:18:57 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <56E03423-3E50-433D-8701-3164334BDFF5@greenbytes.de>
References: <CAKQ1sVO=HqVVm42Bk2KihaPkX5MVcxFDpK0s_p-AKsBAvL8WQg@mail.gmail.com> <6770C46A-8B9E-4B67-8457-662026158448@greenbytes.de> <56018975.8080005@gknw.net> <CABD8fLX_PTecA1nooD6BS0O0tJptQOLNhN6_tD4d3AOe3wBE1A@mail.gmail.com> <CACsi253QP14jgV5qfZNr+4c==zr-zzXO8jqRcEFEQK=UOHrPsA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

Done in r1704826, merged into branches/2.4.17-protocols-http2.

> Am 23.09.2015 um 02:02 schrieb William A Rowe Jr =
<wrowe@rowe-clan.net>:
>=20
> +1 - mostly because --enable-http2 is easier to grok than --enable-h2, =
not because I object to the old name :)
>=20
> On Sep 22, 2015 12:39, "Greg Stein" <gstein@gmail.com> wrote:
> Yeah... if anything, rename to mod_http2.
>=20
> On Tue, Sep 22, 2015 at 12:01 PM, Gregg Smith <gls@gknw.net> wrote:
> http2 is more descriptive for the module's purpose, even if the name =
is mod_h2. I like it where it is.
> - 0
>=20
>=20
> On 9/22/2015 5:08 AM, Stefan Eissing wrote:
> +0.5
>=20
> h2 ftw! (but there is also a mod_mime in the http dir, so I do not =
really feel strongly about this)
>=20
> Am 22.09.2015 um 14:05 schrieb Yann Ylavic<ylavic.dev@gmail.com>:
>=20
> I'm confused about the sources being in modules/http2 and the module
> being mod_h2 (configured with --enable-h2, ...), it seems to be the
> only one like this.
>=20
> +1 for me...
> <green/>bytes GmbH
> Hafenweg 16, 48155 M=C3=BCnster, Germany
> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>=20
>=20
>=20
>=20
>=20

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83880-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 23 12:27:35 2015
Return-Path: <dev-return-83880-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AB6561846C
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Sep 2015 12:27:35 +0000 (UTC)
Received: (qmail 55810 invoked by uid 500); 23 Sep 2015 12:27:29 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55749 invoked by uid 500); 23 Sep 2015 12:27:29 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 55739 invoked by uid 99); 23 Sep 2015 12:27:28 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Sep 2015 12:27:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 6A2ED1A7BA0
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 12:27:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.111
X-Spam-Level:
X-Spam-Status: No, score=0.111 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, STOX_REPLY_TYPE=0.212,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id YIQFEi0ZnILB for <dev@httpd.apache.org>;
	Wed, 23 Sep 2015 12:27:21 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 7C33A44457
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 12:27:20 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1443011280;
	bh=D5wqylJPaqa3wkLaZHTLEDRli0zjEXoLE9YpeWMYTl0=;
	h=From:To:References:In-Reply-To:Subject:Date;
	b=Ylt5JWggXrXNHOu2+lxXBR88FPrt0y+vjjrYBCQlGQI/dCfYYzP3oUuWfkbalF9D5
	 Yq5g0/v7pkTfBfhnOGxy64QlHW6J946eVMAGlL06tK7GnrcegG1iQ7mw642lSLkYeY
	 i9WpbCp4cbjEtrC0X9E4qhn1kRp7UrhpTX2aqVwk=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <80C9EA33B228454E907CC6353D8DA399@father>
From: "Steffen" <info@apachelounge.com>
To: <dev@httpd.apache.org>
References: <56028877.1b18.12c0.3873@land10.nl> <CAKQ1sVNnnSvMgWd7H9t8RTm=a7BkVU_AnrFy8K2xFWOq0Lo85A@mail.gmail.com>
In-Reply-To: <CAKQ1sVNnnSvMgWd7H9t8RTm=a7BkVU_AnrFy8K2xFWOq0Lo85A@mail.gmail.com>
Subject: Re: 2.4.17-dev crash libapr-1.dll
Date: Wed, 23 Sep 2015 14:27:44 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="utf-8";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

>    mod_security2.so!00007ff9e6bb1d07()    Unknown

-----Original Message----- 
From: Yann Ylavic 
Sent: Wednesday, September 23, 2015 1:37 PM 
To: dev@httpd.apache.org 
Subject: ****** Re: 2.4.17-dev crash libapr-1.dll 

Can you determine where this apr_pstrdup() calls come from in httpd?

On Wed, Sep 23, 2015 at 1:09 PM, Steffen <info@apachelounge.com> wrote:
>
> In an other thread I wrote:
>
>
> Once in a few hours I see crashes.
> With no-ssl and no_mod_h2 crash in libapr-1.dll
>
> Once in a few hours I see crashes.
>
> To restate Apache 2.4.16 is not crashing here. With 2.4.17-dev it is
> crashing (no-ssl, no mod_h2 , exact same config as 2.4.16) once in a few
> hours running it on AL.
>
> I have more info:
>
>
>
> Unhandled exception at 0x000000006DEEAE8D (libapr-1.dll) in memory.hdmp:
> 0xC0000005: Access violation writing location 0x0000000000000008.
>
> Call Stack Frame apr_palloc:
>
>>libapr-1.dll!apr_palloc(apr_pool_t * pool, unsigned __int64 in_size) Line
>> 693
>
> libapr-1.dll!apr_pstrdup(apr_pool_t * a, const char * s) Line 78
>
> +active    0x00000011ce3291e0 {next=0x00000011ce3251c0
> {next=0x0000000000000000 <NULL> ref=0x00000011ce3211a0 {...} ...} ...}
> apr_memnode_t *
>
> +active->next    0x00000011ce3251c0 {next=0x0000000000000000 <NULL>
> ref=0x00000011ce3211a0 {0x0000000000000000 <NULL>} ...} apr_memnode_t *
>
> +node    0x00000011ce3251c0 {next=0x0000000000000000 <NULL>
> ref=0x00000011ce3211a0 {0x0000000000000000 <NULL>} ...} apr_memnode_t *
>        size    64    unsigned __int64
>
> Next statement that  will be executed:
>    node = active->next;
>    if (size <= node_free_space(node)) {
> ==>     list_remove(node);
>
>
> Call Stack Frame apr_pstrdup:
>
> libapr-1.dll!apr_palloc(apr_pool_t * pool, unsigned __int64 in_size) Line
> 693
>
>>libapr-1.dll!apr_pstrdup(apr_pool_t * a, const char * s) Line 78C
>
> +s 0x000000006dfb6eb0 <Error reading characters of string.> const char *
>
> Next statement to execute when this thread returns from current fuction:
>    len = strlen(s) + 1;
> ==> res = apr_pmemdup(a, s, len);
>    return res;
>
>
>
> Steffen
>
>

From dev-return-83881-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 23 12:33:40 2015
Return-Path: <dev-return-83881-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ADD0A184D3
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Sep 2015 12:33:40 +0000 (UTC)
Received: (qmail 80963 invoked by uid 500); 23 Sep 2015 12:33:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 80876 invoked by uid 500); 23 Sep 2015 12:33:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 80866 invoked by uid 99); 23 Sep 2015 12:33:40 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Sep 2015 12:33:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id B64B9F70B6
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 12:33:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.001
X-Spam-Level: *
X-Spam-Status: No, score=1.001 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id byJ2a2w0uEqq for <dev@httpd.apache.org>;
	Wed, 23 Sep 2015 12:33:25 +0000 (UTC)
Received: from mail1.bemta3.messagelabs.com (mail1.bemta3.messagelabs.com [195.245.230.166])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id B822D20925
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 12:33:24 +0000 (UTC)
Received: from [195.245.230.51] by server-6.bemta-3.messagelabs.com id B1/47-29649-E0C92065; Wed, 23 Sep 2015 12:33:18 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-16.tower-33.messagelabs.com!1443011597!29152414!1
X-Originating-IP: [195.232.244.135]
X-StarScan-Received:
X-StarScan-Version: 6.13.16; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 22954 invoked from network); 23 Sep 2015 12:33:18 -0000
Received: from mailout03.vodafone.com (HELO mailout03.vodafone.com) (195.232.244.135)
  by server-16.tower-33.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 23 Sep 2015 12:33:18 -0000
Received: from mailint02.vodafone.com (mailint02.vodafone.com [195.232.244.199])
	by mailout03.vodafone.com (Postfix) with ESMTP id 3nLf716mgJz17HNb
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 14:33:17 +0200 (CEST)
Received: from mailint02.vodafone.com (localhost [127.0.0.1])
	by mailint02.vodafone.com (Postfix) with ESMTP id 3nLf715t5rzQm4G
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 14:33:17 +0200 (CEST)
Received: from VOEXC06W.internal.vodafone.com (voexc06w.dc-ratingen.de [145.230.101.26])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint02.vodafone.com (Postfix) with ESMTPS id 3nLf715Xs8zQlm0
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 14:33:17 +0200 (CEST)
Received: from VOEXC08W.internal.vodafone.com (145.230.101.28) by
 VOEXC06W.internal.vodafone.com (145.230.101.26) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Wed, 23 Sep 2015 14:33:17 +0200
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.132]) by
 voexc08w.internal.vodafone.com ([145.230.101.28]) with mapi id
 14.03.0224.002; Wed, 23 Sep 2015 14:33:16 +0200
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: RE: 2.4.17-dev crash libapr-1.dll
Thread-Topic: 2.4.17-dev crash libapr-1.dll
Thread-Index: AQHQ9fBKGpKoyYvNpUmMK7JL+El0ZZ5J2vKAgAAOJACAACJ1sA==
Date: Wed, 23 Sep 2015 12:33:16 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC631EC26@VOEXM10W.internal.vodafone.com>
References: <56028877.1b18.12c0.3873@land10.nl>
 <CAKQ1sVNnnSvMgWd7H9t8RTm=a7BkVU_AnrFy8K2xFWOq0Lo85A@mail.gmail.com>
 <80C9EA33B228454E907CC6353D8DA399@father>
In-Reply-To: <80C9EA33B228454E907CC6353D8DA399@father>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

DQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogU3RlZmZlbiBbbWFpbHRv
OmluZm9AYXBhY2hlbG91bmdlLmNvbV0NCj4gU2VudDogTWl0dHdvY2gsIDIzLiBTZXB0ZW1iZXIg
MjAxNSAxNDoyOA0KPiBUbzogZGV2QGh0dHBkLmFwYWNoZS5vcmcNCj4gU3ViamVjdDogUmU6IDIu
NC4xNy1kZXYgY3Jhc2ggbGliYXByLTEuZGxsDQo+IA0KPiA+ICAgIG1vZF9zZWN1cml0eTIuc28h
MDAwMDdmZjllNmJiMWQwNygpICAgIFVua25vd24NCg0KV2UgY291bGQgbm93IGVhc2lseSBibGFt
ZSBtb2Rfc2VjdXJpdHkyIG9uIHRoaXMgYW5kIGNhc2UgY2xvc2VkIDotcC4NCkJ1dCBtYXliZSBt
b2Rfc2VjdXJpdHkyIGdldHMgd3JvbmcgZGF0YSBmcm9tIGh0dHBkIGR1ZSB0byBhIGNoYW5nZSB0
aGVyZQ0KdGhhdCBjYXVzZXMgdGhpcyBjcmFzaC4gU28gaXQgd291bGQgYmUgaGFuZHkgdG8ga25v
dyB3aGVyZSBpbiBtb2Rfc2VjdXJpdHkNCnRoaXMgY3Jhc2hlcyBhbmQgaWYgdGhpcyBpcyByZWxh
dGVkIHRvIGRhdGEgaXQganVzdCBmb3J3YXJkcyBmcm9tIGh0dHBkLg0KDQpSZWdhcmRzDQoNClLD
vGRpZ2VyDQoNCj4gDQo+IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQo+IEZyb206IFlhbm4g
WWxhdmljDQo+IFNlbnQ6IFdlZG5lc2RheSwgU2VwdGVtYmVyIDIzLCAyMDE1IDE6MzcgUE0NCj4g
VG86IGRldkBodHRwZC5hcGFjaGUub3JnDQo+IFN1YmplY3Q6ICoqKioqKiBSZTogMi40LjE3LWRl
diBjcmFzaCBsaWJhcHItMS5kbGwNCj4gDQo+IENhbiB5b3UgZGV0ZXJtaW5lIHdoZXJlIHRoaXMg
YXByX3BzdHJkdXAoKSBjYWxscyBjb21lIGZyb20gaW4gaHR0cGQ/DQo+IA0KPiBPbiBXZWQsIFNl
cCAyMywgMjAxNSBhdCAxOjA5IFBNLCBTdGVmZmVuIDxpbmZvQGFwYWNoZWxvdW5nZS5jb20+IHdy
b3RlOg0KPiA+DQo+ID4gSW4gYW4gb3RoZXIgdGhyZWFkIEkgd3JvdGU6DQo+ID4NCj4gPg0KPiA+
IE9uY2UgaW4gYSBmZXcgaG91cnMgSSBzZWUgY3Jhc2hlcy4NCj4gPiBXaXRoIG5vLXNzbCBhbmQg
bm9fbW9kX2gyIGNyYXNoIGluIGxpYmFwci0xLmRsbA0KPiA+DQo+ID4gT25jZSBpbiBhIGZldyBo
b3VycyBJIHNlZSBjcmFzaGVzLg0KPiA+DQo+ID4gVG8gcmVzdGF0ZSBBcGFjaGUgMi40LjE2IGlz
IG5vdCBjcmFzaGluZyBoZXJlLiBXaXRoIDIuNC4xNy1kZXYgaXQgaXMNCj4gPiBjcmFzaGluZyAo
bm8tc3NsLCBubyBtb2RfaDIgLCBleGFjdCBzYW1lIGNvbmZpZyBhcyAyLjQuMTYpIG9uY2UgaW4g
YSBmZXcNCj4gPiBob3VycyBydW5uaW5nIGl0IG9uIEFMLg0KPiA+DQo+ID4gSSBoYXZlIG1vcmUg
aW5mbzoNCj4gPg0KPiA+DQo+ID4NCj4gPiBVbmhhbmRsZWQgZXhjZXB0aW9uIGF0IDB4MDAwMDAw
MDA2REVFQUU4RCAobGliYXByLTEuZGxsKSBpbiBtZW1vcnkuaGRtcDoNCj4gPiAweEMwMDAwMDA1
OiBBY2Nlc3MgdmlvbGF0aW9uIHdyaXRpbmcgbG9jYXRpb24gMHgwMDAwMDAwMDAwMDAwMDA4Lg0K
PiA+DQo+ID4gQ2FsbCBTdGFjayBGcmFtZSBhcHJfcGFsbG9jOg0KPiA+DQo+ID4+bGliYXByLTEu
ZGxsIWFwcl9wYWxsb2MoYXByX3Bvb2xfdCAqIHBvb2wsIHVuc2lnbmVkIF9faW50NjQgaW5fc2l6
ZSkNCj4gTGluZQ0KPiA+PiA2OTMNCj4gPg0KPiA+IGxpYmFwci0xLmRsbCFhcHJfcHN0cmR1cChh
cHJfcG9vbF90ICogYSwgY29uc3QgY2hhciAqIHMpIExpbmUgNzgNCj4gPg0KPiA+ICthY3RpdmUg
ICAgMHgwMDAwMDAxMWNlMzI5MWUwIHtuZXh0PTB4MDAwMDAwMTFjZTMyNTFjMA0KPiA+IHtuZXh0
PTB4MDAwMDAwMDAwMDAwMDAwMCA8TlVMTD4gcmVmPTB4MDAwMDAwMTFjZTMyMTFhMCB7Li4ufSAu
Li59IC4uLn0NCj4gPiBhcHJfbWVtbm9kZV90ICoNCj4gPg0KPiA+ICthY3RpdmUtPm5leHQgICAg
MHgwMDAwMDAxMWNlMzI1MWMwIHtuZXh0PTB4MDAwMDAwMDAwMDAwMDAwMCA8TlVMTD4NCj4gPiBy
ZWY9MHgwMDAwMDAxMWNlMzIxMWEwIHsweDAwMDAwMDAwMDAwMDAwMDAgPE5VTEw+fSAuLi59IGFw
cl9tZW1ub2RlX3QgKg0KPiA+DQo+ID4gK25vZGUgICAgMHgwMDAwMDAxMWNlMzI1MWMwIHtuZXh0
PTB4MDAwMDAwMDAwMDAwMDAwMCA8TlVMTD4NCj4gPiByZWY9MHgwMDAwMDAxMWNlMzIxMWEwIHsw
eDAwMDAwMDAwMDAwMDAwMDAgPE5VTEw+fSAuLi59IGFwcl9tZW1ub2RlX3QgKg0KPiA+ICAgICAg
ICBzaXplICAgIDY0ICAgIHVuc2lnbmVkIF9faW50NjQNCj4gPg0KPiA+IE5leHQgc3RhdGVtZW50
IHRoYXQgIHdpbGwgYmUgZXhlY3V0ZWQ6DQo+ID4gICAgbm9kZSA9IGFjdGl2ZS0+bmV4dDsNCj4g
PiAgICBpZiAoc2l6ZSA8PSBub2RlX2ZyZWVfc3BhY2Uobm9kZSkpIHsNCj4gPiA9PT4gICAgIGxp
c3RfcmVtb3ZlKG5vZGUpOw0KPiA+DQo+ID4NCj4gPiBDYWxsIFN0YWNrIEZyYW1lIGFwcl9wc3Ry
ZHVwOg0KPiA+DQo+ID4gbGliYXByLTEuZGxsIWFwcl9wYWxsb2MoYXByX3Bvb2xfdCAqIHBvb2ws
IHVuc2lnbmVkIF9faW50NjQgaW5fc2l6ZSkNCj4gTGluZQ0KPiA+IDY5Mw0KPiA+DQo+ID4+bGli
YXByLTEuZGxsIWFwcl9wc3RyZHVwKGFwcl9wb29sX3QgKiBhLCBjb25zdCBjaGFyICogcykgTGlu
ZSA3OEMNCj4gPg0KPiA+ICtzIDB4MDAwMDAwMDA2ZGZiNmViMCA8RXJyb3IgcmVhZGluZyBjaGFy
YWN0ZXJzIG9mIHN0cmluZy4+IGNvbnN0IGNoYXIgKg0KPiA+DQo+ID4gTmV4dCBzdGF0ZW1lbnQg
dG8gZXhlY3V0ZSB3aGVuIHRoaXMgdGhyZWFkIHJldHVybnMgZnJvbSBjdXJyZW50IGZ1Y3Rpb246
DQo+ID4gICAgbGVuID0gc3RybGVuKHMpICsgMTsNCj4gPiA9PT4gcmVzID0gYXByX3BtZW1kdXAo
YSwgcywgbGVuKTsNCj4gPiAgICByZXR1cm4gcmVzOw0KPiA+DQo+ID4NCj4gPg0KPiA+IFN0ZWZm
ZW4NCj4gPg0KPiA+DQo=

From dev-return-83882-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 23 12:34:03 2015
Return-Path: <dev-return-83882-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 796DA184F1
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Sep 2015 12:34:03 +0000 (UTC)
Received: (qmail 82050 invoked by uid 500); 23 Sep 2015 12:33:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 81983 invoked by uid 500); 23 Sep 2015 12:33:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 81973 invoked by uid 99); 23 Sep 2015 12:33:56 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Sep 2015 12:33:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 38B54180A35
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 12:33:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id AwX79a7IoMOU for <dev@httpd.apache.org>;
	Wed, 23 Sep 2015 12:33:43 +0000 (UTC)
Received: from mail-qg0-f41.google.com (mail-qg0-f41.google.com [209.85.192.41])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 0B98123075
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 12:33:43 +0000 (UTC)
Received: by qgez77 with SMTP id z77so17709685qge.1
        for <dev@httpd.apache.org>; Wed, 23 Sep 2015 05:33:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=8lifoMx92+xARjT+rlZkl5p57amOLqpOfsZ9hiFq85g=;
        b=Pzl0mC5GXmn0l3keU1FC+hIi4jIkSCPog/f3bnQOl/vpN/u0ekkMTP3CQDnxu/JNXU
         CcyBCs2blxGJUCS70kovA7LtYEujPYTi5Ft1y9XRcg669qYqd3kySXWTRSyWdVlja9p9
         pOXshpJxyM7lz00fz0UXv/ct1m10O1C29dvLDqsuepaUQoSbjvYrVXDyNfK/qptau6Id
         q9KOGW0EWHkpl3cRZcwYLsUgVza0pbs3wzeoKHXdmchHVjU6RxXoj9OUjdsYYByOXKBI
         M/Kiu9+cEkIq42eG8aauM+zjp06pVcw73bANLflpDEhcpf6iocPH9YWJgNvnq2h5paZ7
         BpWw==
MIME-Version: 1.0
X-Received: by 10.140.237.212 with SMTP id i203mr37880872qhc.97.1443011622098;
 Wed, 23 Sep 2015 05:33:42 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Wed, 23 Sep 2015 05:33:41 -0700 (PDT)
In-Reply-To: <56E03423-3E50-433D-8701-3164334BDFF5@greenbytes.de>
References: <CAKQ1sVO=HqVVm42Bk2KihaPkX5MVcxFDpK0s_p-AKsBAvL8WQg@mail.gmail.com>
	<6770C46A-8B9E-4B67-8457-662026158448@greenbytes.de>
	<56018975.8080005@gknw.net>
	<CABD8fLX_PTecA1nooD6BS0O0tJptQOLNhN6_tD4d3AOe3wBE1A@mail.gmail.com>
	<CACsi253QP14jgV5qfZNr+4c==zr-zzXO8jqRcEFEQK=UOHrPsA@mail.gmail.com>
	<56E03423-3E50-433D-8701-3164334BDFF5@greenbytes.de>
Date: Wed, 23 Sep 2015 14:33:41 +0200
Message-ID: <CAKQ1sVOKMZ69F+18Y1P_hjw9-QYDYwLD6uGT3m--zgcT3SaLcg@mail.gmail.com>
Subject: Re: svn move modules/http2 modules/h2 ?
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Thanks Stefan.

The "issue" now is that we still have mod_h2.so only (and h2_module as
identifier, based on the module being declared in file mod_h2.c), I'm
not sure having both names helps finally...
Maybe one would expect using "LoadModule http2_module
modules/mod_http2.so" when using --enable-http2.


On Wed, Sep 23, 2015 at 2:18 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
> Done in r1704826, merged into branches/2.4.17-protocols-http2.
>
>> Am 23.09.2015 um 02:02 schrieb William A Rowe Jr <wrowe@rowe-clan.net>:
>>
>> +1 - mostly because --enable-http2 is easier to grok than --enable-h2, n=
ot because I object to the old name :)
>>
>> On Sep 22, 2015 12:39, "Greg Stein" <gstein@gmail.com> wrote:
>> Yeah... if anything, rename to mod_http2.
>>
>> On Tue, Sep 22, 2015 at 12:01 PM, Gregg Smith <gls@gknw.net> wrote:
>> http2 is more descriptive for the module's purpose, even if the name is =
mod_h2. I like it where it is.
>> - 0
>>
>>
>> On 9/22/2015 5:08 AM, Stefan Eissing wrote:
>> +0.5
>>
>> h2 ftw! (but there is also a mod_mime in the http dir, so I do not reall=
y feel strongly about this)
>>
>> Am 22.09.2015 um 14:05 schrieb Yann Ylavic<ylavic.dev@gmail.com>:
>>
>> I'm confused about the sources being in modules/http2 and the module
>> being mod_h2 (configured with --enable-h2, ...), it seems to be the
>> only one like this.
>>
>> +1 for me...
>> <green/>bytes GmbH
>> Hafenweg 16, 48155 M=C3=BCnster, Germany
>> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>>
>>
>>
>>
>>
>
> <green/>bytes GmbH
> Hafenweg 16, 48155 M=C3=BCnster, Germany
> Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782
>
>
>

From dev-return-83883-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 23 12:43:39 2015
Return-Path: <dev-return-83883-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CEA4F18543
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Sep 2015 12:43:39 +0000 (UTC)
Received: (qmail 97595 invoked by uid 500); 23 Sep 2015 12:43:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97515 invoked by uid 500); 23 Sep 2015 12:43:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97501 invoked by uid 99); 23 Sep 2015 12:43:39 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Sep 2015 12:43:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id E146D1A7BA6
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 12:43:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.111
X-Spam-Level:
X-Spam-Status: No, score=0.111 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, STOX_REPLY_TYPE=0.212,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 9ksp4JSN84zC for <dev@httpd.apache.org>;
	Wed, 23 Sep 2015 12:43:25 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 9BCD24418A
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 12:43:24 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1443012244;
	bh=GA6SmXbB44QpO8kIOgc/Z3jTe8+vLK9PtI+WfoJotlk=;
	h=From:To:References:In-Reply-To:Subject:Date;
	b=XepGxGMj3tK2Qmzu7aUhRZPCbYt0BGIIEsuBiuaOY7AMDT4TU7PPGN/3n0ygnH9Ni
	 kqTsfAfDzWaCLGNp3aY4/TfFqPi1lIWaAbQby7wsutMZd6fnSfkqP8svAdpGNb+PPd
	 lZZ3gvaKLtxGjeQJAGrBgSVfme6vtdGhgjoHL8kc=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <7E3A18C759FF4182B2AC41B02E3AFA60@father>
From: "Steffen" <info@apachelounge.com>
To: <dev@httpd.apache.org>
References: <56028877.1b18.12c0.3873@land10.nl> <CAKQ1sVNnnSvMgWd7H9t8RTm=a7BkVU_AnrFy8K2xFWOq0Lo85A@mail.gmail.com> <80C9EA33B228454E907CC6353D8DA399@father> <AB1691BE05AE7F4992697F2A0835627AC631EC26@VOEXM10W.internal.vodafone.com>
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC631EC26@VOEXM10W.internal.vodafone.com>
Subject: Re: 2.4.17-dev crash libapr-1.dll
Date: Wed, 23 Sep 2015 14:43:43 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="utf-8";
	reply-type=original
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

2.4.17 is a Degradation
Who knows what other third party modules given troubles, or even ASF 
modules.

I blame 2.4.17, breaks modules.

So advise first look in the httpd changes, what can cause this, and then 
contact mod_security.



Steffen

-----Original Message----- 
From: Plüm, Rüdiger, Vodafone Group
Sent: Wednesday, September 23, 2015 2:33 PM
To: dev@httpd.apache.org
Subject: RE: 2.4.17-dev crash libapr-1.dll



> -----Original Message-----
> From: Steffen [mailto:info@apachelounge.com]
> Sent: Mittwoch, 23. September 2015 14:28
> To: dev@httpd.apache.org
> Subject: Re: 2.4.17-dev crash libapr-1.dll
>
> >    mod_security2.so!00007ff9e6bb1d07()    Unknown

We could now easily blame mod_security2 on this and case closed :-p.
But maybe mod_security2 gets wrong data from httpd due to a change there
that causes this crash. So it would be handy to know where in mod_security
this crashes and if this is related to data it just forwards from httpd.

Regards

Rüdiger

>
> -----Original Message-----
> From: Yann Ylavic
> Sent: Wednesday, September 23, 2015 1:37 PM
> To: dev@httpd.apache.org
> Subject: ****** Re: 2.4.17-dev crash libapr-1.dll
>
> Can you determine where this apr_pstrdup() calls come from in httpd?
>
> On Wed, Sep 23, 2015 at 1:09 PM, Steffen <info@apachelounge.com> wrote:
> >
> > In an other thread I wrote:
> >
> >
> > Once in a few hours I see crashes.
> > With no-ssl and no_mod_h2 crash in libapr-1.dll
> >
> > Once in a few hours I see crashes.
> >
> > To restate Apache 2.4.16 is not crashing here. With 2.4.17-dev it is
> > crashing (no-ssl, no mod_h2 , exact same config as 2.4.16) once in a few
> > hours running it on AL.
> >
> > I have more info:
> >
> >
> >
> > Unhandled exception at 0x000000006DEEAE8D (libapr-1.dll) in memory.hdmp:
> > 0xC0000005: Access violation writing location 0x0000000000000008.
> >
> > Call Stack Frame apr_palloc:
> >
> >>libapr-1.dll!apr_palloc(apr_pool_t * pool, unsigned __int64 in_size)
> Line
> >> 693
> >
> > libapr-1.dll!apr_pstrdup(apr_pool_t * a, const char * s) Line 78
> >
> > +active    0x00000011ce3291e0 {next=0x00000011ce3251c0
> > {next=0x0000000000000000 <NULL> ref=0x00000011ce3211a0 {...} ...} ...}
> > apr_memnode_t *
> >
> > +active->next    0x00000011ce3251c0 {next=0x0000000000000000 <NULL>
> > ref=0x00000011ce3211a0 {0x0000000000000000 <NULL>} ...} apr_memnode_t *
> >
> > +node    0x00000011ce3251c0 {next=0x0000000000000000 <NULL>
> > ref=0x00000011ce3211a0 {0x0000000000000000 <NULL>} ...} apr_memnode_t *
> >        size    64    unsigned __int64
> >
> > Next statement that  will be executed:
> >    node = active->next;
> >    if (size <= node_free_space(node)) {
> > ==>     list_remove(node);
> >
> >
> > Call Stack Frame apr_pstrdup:
> >
> > libapr-1.dll!apr_palloc(apr_pool_t * pool, unsigned __int64 in_size)
> Line
> > 693
> >
> >>libapr-1.dll!apr_pstrdup(apr_pool_t * a, const char * s) Line 78C
> >
> > +s 0x000000006dfb6eb0 <Error reading characters of string.> const char *
> >
> > Next statement to execute when this thread returns from current fuction:
> >    len = strlen(s) + 1;
> > ==> res = apr_pmemdup(a, s, len);
> >    return res;
> >
> >
> >
> > Steffen
> >
> > 


From dev-return-83884-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 23 12:46:39 2015
Return-Path: <dev-return-83884-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B04DC18564
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Sep 2015 12:46:39 +0000 (UTC)
Received: (qmail 6366 invoked by uid 500); 23 Sep 2015 12:46:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6293 invoked by uid 500); 23 Sep 2015 12:46:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6283 invoked by uid 99); 23 Sep 2015 12:46:39 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Sep 2015 12:46:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C5D071A5B39
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 12:46:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id rOvm49F1fVp8 for <dev@httpd.apache.org>;
	Wed, 23 Sep 2015 12:46:30 +0000 (UTC)
Received: from mail-qg0-f52.google.com (mail-qg0-f52.google.com [209.85.192.52])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 9120A44457
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 12:46:30 +0000 (UTC)
Received: by qgt47 with SMTP id 47so17854375qgt.2
        for <dev@httpd.apache.org>; Wed, 23 Sep 2015 05:46:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=52y0s264ixdiozFwEXOqiCd9qmR877A/EQa6N6GBA7A=;
        b=JCnVyme70j9/0igm7jP1WQN2i80Z1FTCM+wQPnmCNpe7O/QUNqVblcyDRoRtpD2J2Y
         H9qqCo8x5IBhKbfbXVGlk+KGgocjtdqHwQavHmd8gFixPr4ZanF3jM6X7qTKjCU49Kq7
         i9o04ZzTlSaWyeOnf6iFXLN7PBChwnURd5WLoxjDbYRVbAzkCFtE46PDvNokWU0LH4iV
         NxHLurY+igg40Uvi6XnLcM/IojRvlevHOcYtj0gsIRcxVXkFCG6a9Vu3oC2et4RvnIUE
         nOatn62xlC5JjSOS9li7tdHRXCcmSy09UDsKb8Mm1AkGp77uZoMG+dfrM1lieTCx/6sf
         BV2Q==
MIME-Version: 1.0
X-Received: by 10.140.147.8 with SMTP id 8mr38236797qht.83.1443012390223; Wed,
 23 Sep 2015 05:46:30 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Wed, 23 Sep 2015 05:46:30 -0700 (PDT)
In-Reply-To: <7E3A18C759FF4182B2AC41B02E3AFA60@father>
References: <56028877.1b18.12c0.3873@land10.nl>
	<CAKQ1sVNnnSvMgWd7H9t8RTm=a7BkVU_AnrFy8K2xFWOq0Lo85A@mail.gmail.com>
	<80C9EA33B228454E907CC6353D8DA399@father>
	<AB1691BE05AE7F4992697F2A0835627AC631EC26@VOEXM10W.internal.vodafone.com>
	<7E3A18C759FF4182B2AC41B02E3AFA60@father>
Date: Wed, 23 Sep 2015 14:46:30 +0200
Message-ID: <CAKQ1sVNv97jqTOV+57Wg_uUfGEtEynW-6rP2T=jSPvDHS56NZA@mail.gmail.com>
Subject: Re: 2.4.17-dev crash libapr-1.dll
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Wed, Sep 23, 2015 at 2:43 PM, Steffen <info@apachelounge.com> wrote:
>
> I blame 2.4.17, breaks modules.
>
> So advise first look in the httpd changes, what can cause this, and then
> contact mod_security.

Well, having the "Call Stack Frame" of mod_security could help here...

From dev-return-83885-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 23 12:55:25 2015
Return-Path: <dev-return-83885-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7891318595
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Sep 2015 12:55:25 +0000 (UTC)
Received: (qmail 30486 invoked by uid 500); 23 Sep 2015 12:55:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 30429 invoked by uid 500); 23 Sep 2015 12:55:24 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 30419 invoked by uid 99); 23 Sep 2015 12:55:24 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Sep 2015 12:55:24 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 62120C137B
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 12:55:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Pso2rWJi9vl7 for <dev@httpd.apache.org>;
	Wed, 23 Sep 2015 12:55:19 +0000 (UTC)
Received: from mail-qk0-f169.google.com (mail-qk0-f169.google.com [209.85.220.169])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 3B6E320BFB
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 12:55:19 +0000 (UTC)
Received: by qkdw123 with SMTP id w123so16505032qkd.0
        for <dev@httpd.apache.org>; Wed, 23 Sep 2015 05:55:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=fVbnit38rThm5KqQOv8HW8ojtV4F/l9XUG9xX7Ys53c=;
        b=dUY/+L5GxCMrUHbbwV8bd/In2oRzoxGZaAb+0+sY4c/FRUmqze6gbtIwUK274HKaND
         8ITf7IfUk+9xszLlaNRZp7OHUilGbf+M0Mjaq/azunQZ90GYRnAQOcS4/A1fCX1NKLgB
         6zuBbYLfiiKSb2nUP90yttxGYxpjOc19LdESt/1+/VjToV61TM3EgomasnT124eTTrkp
         cl/aQU3TAdiUVXYuNq2dWTs3hxkExdtshWVwZRkqwdWAIA5y/qxWNyqGL+R4ALYpKSP4
         +ixIsjw5VGHkuRF5NSoCYu5MvDyCC73gNiTX/OHrKfFSiL84Ernc3LtTxfw9u0gjZYOk
         MrHQ==
MIME-Version: 1.0
X-Received: by 10.55.22.143 with SMTP id 15mr35771046qkw.38.1443012918094;
 Wed, 23 Sep 2015 05:55:18 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Wed, 23 Sep 2015 05:55:18 -0700 (PDT)
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC631EC26@VOEXM10W.internal.vodafone.com>
References: <56028877.1b18.12c0.3873@land10.nl>
	<CAKQ1sVNnnSvMgWd7H9t8RTm=a7BkVU_AnrFy8K2xFWOq0Lo85A@mail.gmail.com>
	<80C9EA33B228454E907CC6353D8DA399@father>
	<AB1691BE05AE7F4992697F2A0835627AC631EC26@VOEXM10W.internal.vodafone.com>
Date: Wed, 23 Sep 2015 14:55:18 +0200
Message-ID: <CAKQ1sVNxxRVv0aKrKfabbBin_tY-EcCc3WxZq7o28Jmju3XyaA@mail.gmail.com>
Subject: Re: 2.4.17-dev crash libapr-1.dll
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Wed, Sep 23, 2015 at 2:33 PM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
<ruediger.pluem@vodafone.com> wrote:
>
>> -----Original Message-----
>> From: Steffen [mailto:info@apachelounge.com]
>> Sent: Mittwoch, 23. September 2015 14:28
>> To: dev@httpd.apache.org
>> Subject: Re: 2.4.17-dev crash libapr-1.dll
>>
>> >    mod_security2.so!00007ff9e6bb1d07()    Unknown
>
> We could now easily blame mod_security2 on this and case closed :-p.
> But maybe mod_security2 gets wrong data from httpd due to a change there
> that causes this crash. So it would be handy to know where in mod_securit=
y
> this crashes and if this is related to data it just forwards from httpd.

Indeed.

>> >
>> > Unhandled exception at 0x000000006DEEAE8D (libapr-1.dll) in memory.hdm=
p:
>> > 0xC0000005: Access violation writing location 0x0000000000000008.
>> >
>> > Call Stack Frame apr_palloc:
>> >
>> >>libapr-1.dll!apr_palloc(apr_pool_t * pool, unsigned __int64 in_size)
>> Line
>> >> 693
>> >
>> > libapr-1.dll!apr_pstrdup(apr_pool_t * a, const char * s) Line 78
>> >
>> > +active    0x00000011ce3291e0 {next=3D0x00000011ce3251c0
>> > {next=3D0x0000000000000000 <NULL> ref=3D0x00000011ce3211a0 {...} ...} =
...}
>> > apr_memnode_t *
>> >
>> > +active->next    0x00000011ce3251c0 {next=3D0x0000000000000000 <NULL>
>> > ref=3D0x00000011ce3211a0 {0x0000000000000000 <NULL>} ...} apr_memnode_=
t *
>> >
>> > +node    0x00000011ce3251c0 {next=3D0x0000000000000000 <NULL>
>> > ref=3D0x00000011ce3211a0 {0x0000000000000000 <NULL>} ...} apr_memnode_=
t *
>> >        size    64    unsigned __int64
>> >
>> > Next statement that  will be executed:
>> >    node =3D active->next;
>> >    if (size <=3D node_free_space(node)) {
>> > =3D=3D>     list_remove(node);

I'm puzzled about how node->next (ie. pool->active->next->next) can be
NULL, this is supposed to be a ring (AFAICT)...
The other pointers don't seem to be corrupted.

From dev-return-83886-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 23 13:14:41 2015
Return-Path: <dev-return-83886-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 166EE18619
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Sep 2015 13:14:41 +0000 (UTC)
Received: (qmail 79153 invoked by uid 500); 23 Sep 2015 13:14:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 79088 invoked by uid 500); 23 Sep 2015 13:14:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 79078 invoked by uid 99); 23 Sep 2015 13:14:40 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Sep 2015 13:14:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 361E0F6E56
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 13:14:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.9
X-Spam-Level: **
X-Spam-Status: No, score=2.9 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, MIME_QP_LONG_LINE=0.001, SPF_HELO_PASS=-0.001,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id Sq8JLUlfB_uS for <dev@httpd.apache.org>;
	Wed, 23 Sep 2015 13:14:32 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id 4BA3A2306D
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 13:14:32 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1443014112;
	bh=P5VEzb27+01JjmY5RhnmBevAqSmLcU58ZQW0LPbqUw4=;
	h=From:To:Subject:Date;
	b=G0n+2QmmKT3dRuziGJTFR/oWu2G49QOymQuX2+7OBVhVD+ChSiT9rHr+QzgywJoHE
	 cZeGKP5JYfhf2nNl9sJTEK27WrLZTZS77MOwDy1LSC9ek3bAimZYprL22D6j1o0kGw
	 el7rSEJyEaSsm0TNWQOC/R28nFlpla+wtoMzBXRY=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=127.0.0.1;
From: Steffen <info@apachelounge.com>
To:  <dev@httpd.apache.org>
Subject: Re: 2.4.17-dev crash libapr-1.dll
Date: Wed, 23 Sep 2015 15:15:03 +0200
Message-ID: <5602a5d7.1b18.e08.509d@land10.nl>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="----=_SW_8804_1443014103_mpa="
X-Originating-IP: 127.0.0.1
X-Mailer: SurgeWeb - Ajax Webmail Client

This is a multi-part message in MIME format.

------=_SW_8804_1443014103_mpa=
Content-Type: text/plain; charset=us-ascii; format=flowed


Mod_security is not build with debug.

Have to build with it, and then wait for the crash.



On Wednesday 23/09/2015 at 14:47, Yann Ylavic  wrote:
> On Wed, Sep 23, 2015 at 2:43 PM, Steffen <info@apachelounge.com> 
> wrote:
>>
>>
>> I blame 2.4.17, breaks modules.
>>
>> So advise first look in the httpd changes, what can cause this, and 
>> then
>> contact mod_security.
>
> Well, having the "Call Stack Frame" of mod_security could help here...


------=_SW_8804_1443014103_mpa=
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html>
<head>
<style>
 .sw_message P{margin:0px;padding:0px;}
 .sw_message {FONT-SIZE: 12pt;FONT-FAMILY:Tahoma,Arial,Helvetica,sans-serif;background:white;}
 .sw_message blockquote{margin-left:5px;padding-left:5px;border-left:2px solid #144fae;color: #144fae;}
 .sw_message blockquote blockquote{border-left:2px solid #006312;color: #006312;}
 .sw_message blockquote blockquote blockquote{border-left:2px solid #8e5656;color: #8e5656;}
 .sw_message blockquote blockquote blockquote blockquote{border-left:2px solid #888;color: #888;}
</style>
</head>
<body class=3d"sw_message">
<div>Mod_security is not build with debug.</div><div><br></div><div>Have to =
build with it, and then wait for the crash.</div><div><br></div><div>&nbsp;<=
/div><div id=3d"editor_signature"></div><div>On Wednesday 23/09/2015 at 14:4=
7, Yann Ylavic  wrote: </div><blockquote type=3d"cite">On Wed, Sep 23, 2015 =
at 2:43 PM, Steffen &lt;info@apachelounge.com&gt; wrote:<br><blockquote type=
=3d"cite"><br> I blame 2.4.17, breaks modules.<br><br> So advise first look =
in the httpd changes, what can cause this, and then<br> contact mod_security=
.<br></blockquote><br>Well, having the "Call Stack Frame" of mod_security co=
uld help here...<br></blockquote><br> 
</body></html>

------=_SW_8804_1443014103_mpa=--


From dev-return-83887-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 23 13:28:05 2015
Return-Path: <dev-return-83887-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BF252186B4
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Sep 2015 13:28:05 +0000 (UTC)
Received: (qmail 17402 invoked by uid 500); 23 Sep 2015 13:27:07 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 17337 invoked by uid 500); 23 Sep 2015 13:27:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 17327 invoked by uid 99); 23 Sep 2015 13:27:07 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Sep 2015 13:27:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 844681A7BBD
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 13:27:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.655
X-Spam-Level: *
X-Spam-Status: No, score=1.655 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, STOX_REPLY_TYPE=0.212,
	TVD_FINGER_02=1.544, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id s6hz7zD6cUrN for <dev@httpd.apache.org>;
	Wed, 23 Sep 2015 13:26:56 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id DD6B220F4A
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 13:26:55 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1443014855;
	bh=Orpep3guSAokT2uFUxfnrYWjJa8bcFtp8R59VhQ+XO4=;
	h=From:To:References:In-Reply-To:Subject:Date;
	b=MTzmwMZex6SS5GxoiIbv7qin9thnNSX9FGiAmIEI2khTp1CpCNDHJnNytvajDfkTi
	 85oH5ws8W43W1jzzeFIL9KSfpEw2fsMC5+jY3gY06XEQm8G8U0H60aMqEyUIIkKawM
	 Jc64zn5nc6IYqMxFr+poKwwwSEIu2d/eCYo8rMYU=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <04B05722E5EE4FF19E47D7737EC5E96A@father>
From: "Steffen" <info@apachelounge.com>
To: <dev@httpd.apache.org>
References: <585D3D91FA24459BAFBE060063A1874D@father> <B2C78027-4E29-4D09-B309-F473EDCFF058@greenbytes.de>
In-Reply-To: <B2C78027-4E29-4D09-B309-F473EDCFF058@greenbytes.de>
Subject: Re: mod_h2 crash
Date: Wed, 23 Sep 2015 15:25:18 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="Windows-1252";
	reply-type=original
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

Running for two hours, looks promising.

Only see a few, (what is normal ?):
[h2:warn] [pid 1652:tid 2852] (70015)Could not find specified socket in poll
list.: [client 80.135.160.180:3313] AH02953: h2_mplx(108): stream for
response 47
[h2:error] [pid 7300:tid 3160] (OS 10054)An existing connection was forcibly
closed by the remote host.  : [client 27.7.220.245:50275] AH02925:
h2_stream(119-1): failed send_data_cb


-----Original Message----- 
From: Stefan Eissing
Sent: Wednesday, September 23, 2015 12:01 PM Newsgroups:
gmane.comp.apache.devel
To: dev@httpd.apache.org
Subject: Re: mod_h2 crash

I think I found a possible race that could cause this. Please install the
latest version in 2.4.17-protocols-http2, when you find the time, and let me
know if you see any change.

//Stefan

> Am 23.09.2015 um 11:02 schrieb Steffen <info@apachelounge.com>:
>
> In the other thread I wrote:
>
> Once in a few hours I see crashes.
>
> With no-ssl and no_mod_h2 crash in libapr-1.dll
>
> With ssl and mod_h2 crash in mod_h2.so
>
> I have some more info now:
>
> Unhandled exception at 0x000000006DB8571F (mod_h2.so) in memory.hdmp:
> 0xC0000005: Access violation reading location 0xFFFFFFFFFFFFFFFF.
>
> Callstack:
>
> mod_h2.so!h2_mplx_next_submit(h2_mplx * m, h2_stream_set * streams) Line
> 497 C
> mod_h2.so!h2_session_write(h2_session * session, __int64 timeout) Line 934
> C
> mod_h2.so!h2_session_process(h2_session * session) Line 253    C
> mod_h2.so!h2_conn_main(conn_rec * c) Line 184    C
>
>
> io    0x000000415976f2a0 {id=-611884617 pool=0x4d92cbfa90828f1b {...}
> bbin=0x9ef87029f434850b {p=??? list=...} ...}    h2_io *
> io->response    0x953c88f539fdf0ae {stream_id=??? status=???
> content_length=??? ...}    h2_response *
> m    0x00000041545346f8 {id=108 link={next=0x000000414effef60
> {id=1365721728 link={next=0x000000414effef60 {...} ...} ...} ...} ...}
> h2_mplx *
> m->ready_ios    0x0000004155b91550 {list=0x0000004155b91558
> {pool=0x0000004155b910e8 {...} elt_size=8 nelts=4 ...} }    h2_io_set *
> response    0x953c88f539fdf0ae {stream_id=??? status=???
> content_length=??? ...}    h2_response *
> stream    0x0000000000000000 <NULL>    h2_stream *
> streams    0x00000041545343b0 {list=0x00000041545343b8
> {pool=0x0000004154534208 {...} elt_size=8 nelts=1 ...} }    h2_stream_set
> *
>
>

<green/>bytes GmbH
Hafenweg 16, 48155 Mnster, Germany
Phone: +49 251 2807760. Amtsgericht Mnster: HRB5782



From dev-return-83888-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 23 17:15:24 2015
Return-Path: <dev-return-83888-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9F43418FFC
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 23 Sep 2015 17:15:23 +0000 (UTC)
Received: (qmail 88686 invoked by uid 500); 23 Sep 2015 17:15:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 88606 invoked by uid 500); 23 Sep 2015 17:15:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 88596 invoked by uid 99); 23 Sep 2015 17:15:20 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 23 Sep 2015 17:15:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 8EE7C184334
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 17:15:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.112
X-Spam-Level:
X-Spam-Status: No, score=0.112 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, STOX_REPLY_TYPE=0.212, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id dPXOUqV7S4CN for <dev@httpd.apache.org>;
	Wed, 23 Sep 2015 17:15:10 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id B5CEA42B22
	for <dev@httpd.apache.org>; Wed, 23 Sep 2015 17:15:09 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1443028548;
	bh=97qqouDoTbMpbVKns4DGWAiWXVZl7UadA9YgU++wJSw=;
	h=From:To:References:In-Reply-To:Subject:Date;
	b=A4ecY6EZyrWV3JZW8+z4FLUCEc+A57EqdNMOT3usq2fG0bZbVk9MA5tN9uXW8nt6/
	 7GesSuxT2T98gm/kDLVYiuPC//3gQ3sPK57pp1huHCUCF6HFwdMVoMBvb2inpNYSyb
	 V0bZEAjGus6QN990Aso94c7j9aL1922rtPEWfUAE=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
Message-ID: <04CE39E1DA3D4AFEBCAD4EFCB14C67A2@father>
From: "Steffen" <info@apachelounge.com>
To: <dev@httpd.apache.org>
References: <56028877.1b18.12c0.3873@land10.nl><CAKQ1sVNnnSvMgWd7H9t8RTm=a7BkVU_AnrFy8K2xFWOq0Lo85A@mail.gmail.com><80C9EA33B228454E907CC6353D8DA399@father><AB1691BE05AE7F4992697F2A0835627AC631EC26@VOEXM10W.internal.vodafone.com><7E3A18C759FF4182B2AC41B02E3AFA60@father> <CAKQ1sVNv97jqTOV+57Wg_uUfGEtEynW-6rP2T=jSPvDHS56NZA@mail.gmail.com>
In-Reply-To: <CAKQ1sVNv97jqTOV+57Wg_uUfGEtEynW-6rP2T=jSPvDHS56NZA@mail.gmail.com>
Subject: Re: 2.4.17-dev crash libapr-1.dll
Date: Wed, 23 Sep 2015 19:15:27 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="UTF-8";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 16.4.3528.331
X-MimeOLE: Produced By Microsoft MimeOLE V16.4.3528.331

mod_security Call Stack Frame hook_error_log:

libapr-1.dll!apr_palloc(apr_pool_t * pool, unsigned __int64 in_size) Line 
693
libapr-1.dll!apr_pstrdup(apr_pool_t * a, const char * s) Line 78
>mod_security2.so!hook_error_log(const ap_errorlog_info * info, const char * 
>errstr) Line 1135


apr_pstrdup    0x00007ff9fd326d98 {mod_security2.so!apr_pstrdup}    void *

em    0x000000cdc4771108 {file=0x0000000000000000 <NULL> line=0 level=0 ...} 
error_message_t *

em->file    0x0000000000000000 <NULL>    const char *

info    0x000000cdc27ed5e0 {s=0x000000cdbee72530 {process=0x000000cdbe402b80 
{pool=0x000000cdbe402a78 {...} ...} ...} ...}    const ap_errorlog_info *

info->file    0x000000006dfb6e00 <Error reading characters of string.> 
const char * const

msr    0x000000cdc426d330 {mp=0x000000cdc4775188 {...} 
modsecurity=0x000000cdbe48a028 {mp=0x000000cdbe404a88 {...} ...} ...} 
modsec_rec *

msr->mp    0x000000cdc4775188 {...}    apr_pool_t *


Next statement to execute when this thread returns from current function:

#if AP_SERVER_MAJORVERSION_NUMBER > 1 && AP_SERVER_MINORVERSION_NUMBER > 2
===> if (info->file != NULL) em->file = apr_pstrdup(msr->mp, info->file);
    em->line = info->line;
    em->level = info->level;
    em->status = info->status;

-----Original Message----- 
From: Yann Ylavic
Sent: Wednesday, September 23, 2015 2:46 PM
To: dev@httpd.apache.org
Subject: ****** Re: 2.4.17-dev crash libapr-1.dll

On Wed, Sep 23, 2015 at 2:43 PM, Steffen <info@apachelounge.com> wrote:
>
> I blame 2.4.17, breaks modules.
>
> So advise first look in the httpd changes, what can cause this, and then
> contact mod_security.

Well, having the "Call Stack Frame" of mod_security could help here... 


From dev-return-83889-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 24 13:54:02 2015
Return-Path: <dev-return-83889-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1BAF417287
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Sep 2015 13:54:02 +0000 (UTC)
Received: (qmail 18601 invoked by uid 500); 24 Sep 2015 13:54:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18539 invoked by uid 500); 24 Sep 2015 13:54:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18528 invoked by uid 99); 24 Sep 2015 13:54:00 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Sep 2015 13:54:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 4F9C6C0E9B
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 13:54:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.002
X-Spam-Level:
X-Spam-Status: No, score=-0.002 tagged_above=-999 required=6.31
	tests=[SPF_HELO_PASS=-0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id nLcNCBBlmGd5 for <dev@httpd.apache.org>;
	Thu, 24 Sep 2015 13:53:53 +0000 (UTC)
Received: from ni.com (skprod2.natinst.com [130.164.80.23])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 5BC572074F
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 13:53:53 +0000 (UTC)
Received: from us-aus-mgwout2.amer.corp.natinst.com (nb-chan1-1338.natinst.com [130.164.19.134])
	by us-aus-skprod2.natinst.com (8.15.0.59/8.15.0.59) with ESMTP id t8ODrjQQ010407
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 08:53:45 -0500
Received: from [10.2.33.35] ([130.164.14.198])
          by us-aus-mgwout2.amer.corp.natinst.com (Lotus Domino Release 8.5.3FP6 HF1218)
          with ESMTP id 2015092408534574-357104 ;
          Thu, 24 Sep 2015 08:53:45 -0500 
Subject: Re: [PATCH 57300] mod_session save optimization
Reply-To: dev@httpd.apache.org
References: <55D64DA2.8090309@ni.com>
To: Apache Dev <dev@httpd.apache.org>
From: Paul Spangler <paul.spangler@ni.com>
Message-ID: <56040069.5010309@ni.com>
Date: Thu, 24 Sep 2015 08:53:45 -0500
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <55D64DA2.8090309@ni.com>
X-MIMETrack: Itemize by SMTP Server on US-AUS-MGWOut2/AUS/H/NIC(Release 8.5.3FP6 HF1218|December
 12, 2014) at 09/24/2015 08:53:45 AM,
	Serialize by Router on US-AUS-MGWOut2/AUS/H/NIC(Release 8.5.3FP6 HF1218|December
 12, 2014) at 09/24/2015 08:53:45 AM,
	Serialize complete at 09/24/2015 08:53:45 AM
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=utf-8; format=flowed
X-Proofpoint-Virus-Version: vendor=fsecure engine=2.50.10432:,, definitions=2015-09-24_06:,,
 signatures=0

On 8/20/2015 4:58 PM, Paul Spangler wrote:
> Hello,
>
> The bug report contains a more detailed explanation of the patch, but
> there are some points I thought might lead to some discussion.
>
> First a quick summary of the issue: mod_session writes out the session
> every request even if there aren't any changes to the data. This makes
> some sense when the session has a max age and the expiry value needs to
> be refreshed. However, there isn't likely to be much benefit in
> repeatedly refreshing the expiry by a few milliseconds, possibly
> generating database traffic each time. This patch proposes a new
> directive to define an interval of time where the expiry doesn't need to
> be refreshed if there are no session data changes.
>
> 1. We had a hard time coming up with a name for the directive. The patch
> goes with SessionExpiryUpdateInterval, being the interval of time that
> may pass before updating the expiry value is required. I don't know if
> there are any existing directives with a similar function that we should
> mimic instead.
>
> 2. The patch includes a behavior change independent of the new directive
> when using sessions without a max age: if the data hasn't changed, don't
> write out the session. Most noticeably, this means new sessions that
> never get data are discarded without being saved.
>
> 3. I wasn't sure how best to add tests for a new directive since the
> test server won't start if the directive is missing. The patch that
> includes the test changes look for the 2.5 version to know the new
> directive is there, and will require a modification if/when the
> directive is back-ported to 2.4 to enable the new tests.
>
> https://bz.apache.org/bugzilla/show_bug.cgi?id=57300
>
> Thanks for your consideration.

Quick ping on this.
-- 
Paul Spangler
LabVIEW R&D
National Instruments

From dev-return-83890-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 24 15:01:10 2015
Return-Path: <dev-return-83890-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E75C917546
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Sep 2015 15:01:10 +0000 (UTC)
Received: (qmail 16603 invoked by uid 500); 24 Sep 2015 15:00:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16548 invoked by uid 500); 24 Sep 2015 15:00:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16538 invoked by uid 99); 24 Sep 2015 15:00:48 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Sep 2015 15:00:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 787A9F6E78
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 15:00:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id e25ZEXKPwb6G for <dev@httpd.apache.org>;
	Thu, 24 Sep 2015 15:00:47 +0000 (UTC)
Received: from mail-io0-f175.google.com (mail-io0-f175.google.com [209.85.223.175])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 5A38643A0E
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 15:00:47 +0000 (UTC)
Received: by iofb144 with SMTP id b144so79694912iof.1
        for <dev@httpd.apache.org>; Thu, 24 Sep 2015 08:00:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=R/Dc//P19QJfn6PdB1j0CXhP8BvC5uGAMnOWaypICrs=;
        b=DeEO4B8EW4foIIn88dYUNLCDnStWSOWFb35THv5r3T6dpFRM8ddC4D2hF471+xgCkp
         LdgYJBbnRQpriioJk4koGxfdwjYSIZ2hruizGB/VU2TxSE3a4fM0vw+6d99KSD8Edc9A
         3E4rllxlY7/LO4ERXJjy0KsQ1JU4ahc7FG36j8Lw+ZAjhsVxfwVHAuQtb1KcbxnEHqV2
         KDmBc9TLzs1mGHkz8R1jFEH2Ecty1U4NgMuG060lIqFu3PSb+S6SLwOaz34cHZAnnd6r
         kkyQyQA+GFFCbcpUM/cKuavEQaGXVnWtBPEi0EJD/ssOnzhipya1aFyw/e6w38IoOU9b
         IgUg==
MIME-Version: 1.0
X-Received: by 10.107.160.143 with SMTP id j137mr1048179ioe.13.1443106846905;
 Thu, 24 Sep 2015 08:00:46 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Thu, 24 Sep 2015 08:00:46 -0700 (PDT)
Date: Thu, 24 Sep 2015 11:00:46 -0400
Message-ID: <CALK=YjNBfLP+U6Ct5332RHQ9HkdfLENgoANF3ifoYwjkhT4O2g@mail.gmail.com>
Subject: logio problem with SSL
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

I am seeing that small responses over SSL get logged before they're
flushed, couldn't this flushing be done when we see the EOR bucket in
the SSL output filter (which will cause log_transaction to run)?


Breakpoint 2, ap_logio_add_bytes_out (c=0x7fc688005428, bytes=249) at
mod_logio.c:66
66          logio_config_t *cf = ap_get_module_config(c->conn_config,
&logio_module);
(gdb) where
#0  ap_logio_add_bytes_out (c=0x7fc688005428, bytes=249) at mod_logio.c:66
#1  0x0000000000456875 in writev_nonblocking (s=0x7fc688005210,
vec=0x7fc68cbe1590, nvec=1, bb=0x7fc678003198,
cumulative_bytes_written=0x7fc674003758, c=0x7fc688005428)
    at core_filters.c:848
#2  0x0000000000456393 in send_brigade_nonblocking (s=0x7fc688005210,
bb=0x7fc678003198, bytes_written=0x7fc674003758, c=0x7fc688005428) at
core_filters.c:738
#3  0x0000000000456495 in send_brigade_blocking (s=0x7fc688005210,
bb=0x7fc678003198, bytes_written=0x7fc674003758, c=0x7fc688005428) at
core_filters.c:767
#4  0x0000000000455a4c in ap_core_output_filter (f=0x7fc6740036b0,
new_bb=0x7fc678003198) at core_filters.c:556
#5  0x000000000043a78e in ap_pass_brigade (next=0x7fc6740036b0,
bb=0x7fc678003198) at util_filter.c:590
#6  0x00007fc6929c19c3 in bio_filter_out_pass (outctx=0x7fc678003178)
at ssl_engine_io.c:139
#7  0x00007fc6929c1ada in bio_filter_out_flush (bio=0x7fc6740014e0) at
ssl_engine_io.c:160
#8  0x00007fc6929c2438 in bio_filter_in_read (bio=0x7fc674004570,
in=0x7fc670009ea3 "", inlen=5) at ssl_engine_io.c:477
#9  0x00007fc6923f49db in BIO_read () from
/home/covener/SRC/openssl/built/lib/libcrypto.so.1.0.0
#10 0x00007fc692760bfc in ssl3_read_n () from
/home/covener/SRC/openssl/built/lib/libssl.so.1.0.0
#11 0x00007fc692762a0d in ssl3_read_bytes () from
/home/covener/SRC/openssl/built/lib/libssl.so.1.0.0
#12 0x00007fc69275f0db in ssl3_read () from
/home/covener/SRC/openssl/built/lib/libssl.so.1.0.0
#13 0x00007fc6929c2b43 in ssl_io_input_read (inctx=0x7fc674001588,
    buf=0x7fc6740015d0 "GET /index.shtml HTTP/1.1\r\nUser-Agent:
curl/7.35.0\r\nHost: localhost\r\nAccept: */*\r\n\r\n", '\356'
<repeats 115 times>, <incomplete sequence \356>...,
    len=0x7fc68cbe1b10) at ssl_engine_io.c:647
#14 0x00007fc6929c4c8f in ssl_io_filter_input (f=0x7fc6740035e0,
bb=0x7fc674004118, mode=AP_MODE_SPECULATIVE, block=APR_NONBLOCK_READ,
readbytes=1) at ssl_engine_io.c:1443
#15 0x000000000043a6c9 in ap_get_brigade (next=0x7fc6740035e0,
bb=0x7fc674004118, mode=AP_MODE_SPECULATIVE, block=APR_NONBLOCK_READ,
readbytes=1) at util_filter.c:553
#16 0x00000000004851f0 in check_pipeline (c=0x7fc688005428,
bb=0x7fc674004118) at http_request.c:237
#17 0x0000000000485307 in ap_process_request_after_handler
(r=0x7fc6780129f0) at http_request.c:282
#18 0x000000000048564e in ap_process_async_request (r=0x7fc6780129f0)
at http_request.c:363
#19 0x0000000000485679 in ap_process_request (r=0x7fc6780129f0) at
http_request.c:373
#20 0x000000000048190f in ap_process_http_sync_connection
(c=0x7fc688005428) at http_core.c:210
#21 0x0000000000481a1b in ap_process_http_connection
(c=0x7fc688005428) at http_core.c:251
#22 0x0000000000474977 in ap_run_process_connection (c=0x7fc688005428)
at connection.c:41
#23 0x0000000000474ea9 in ap_process_connection (c=0x7fc688005428,
csd=0x7fc688005210) at connection.c:206
#24 0x00007fc6916c9742 in process_socket (thd=0x18d09f8,
p=0x7fc688005188, sock=0x7fc688005210, my_child_num=0,
my_thread_num=2, bucket_alloc=0x7fc6780008e8) at worker.c:632
#25 0x00007fc6916ca534 in worker_thread (thd=0x18d09f8,
dummy=0x7fc688000b80) at worker.c:992
#26 0x00007fc6a1e8cfe3 in dummy_worker (opaque=0x18d09f8) at
threadproc/unix/thread.c:142
#27 0x00007fc6a1c47182 in start_thread (arg=0x7fc68cbe2700) at
pthread_create.c:312
#28 0x00007fc6a197447d in clone () at
../sysdeps/unix/sysv/linux/x86_64/clone.S:111
(gdb) cont
Continuing.

-- 
Eric Covener
covener@gmail.com

From dev-return-83891-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 24 15:06:42 2015
Return-Path: <dev-return-83891-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2FE1117571
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Sep 2015 15:06:42 +0000 (UTC)
Received: (qmail 38485 invoked by uid 500); 24 Sep 2015 15:06:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 38296 invoked by uid 500); 24 Sep 2015 15:06:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 38146 invoked by uid 99); 24 Sep 2015 15:06:40 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Sep 2015 15:06:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 0E7DCF84F5
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 15:06:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id aBRjhxlU8i0p for <dev@httpd.apache.org>;
	Thu, 24 Sep 2015 15:06:39 +0000 (UTC)
Received: from mail-ig0-f176.google.com (mail-ig0-f176.google.com [209.85.213.176])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 4A45742B22
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 15:06:39 +0000 (UTC)
Received: by igbkq10 with SMTP id kq10so123254699igb.0
        for <dev@httpd.apache.org>; Thu, 24 Sep 2015 08:06:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=hQOeYVVlnloXfhjC4Vv8H3X/5KKJJu0a2q/penpPgiI=;
        b=OGctzKylNnOKT/fiCzQcSj0IzHyOneh0HbWcUEKcQWXYaB6uL3bZP03fIGnH4RcUBC
         4QHB1b7Cfakw0Rh97yIca/rAFmhUz35DwqhPq9E7Y/+2RmL0l6gDOYe/Gu8577kFVENc
         mAKtb25uSGgerDFmeplHMilLhfRQhsOcKckJTENtlXHFnFDdax5xsC4DQuByRk4Syjyi
         Wq7maEoGCAPYgg2EcVSibLL2ALdb841jJreX5aqLW6l9pSlVAjz+1IkG8xRPxrGvidqB
         cd1i+xGYJBs68fOrHFt0S/3ONQcbVGpnDbXvPXE6bbanNQ1PRKPl+ptNC7rgYwI7m4lY
         Y/GQ==
MIME-Version: 1.0
X-Received: by 10.50.50.143 with SMTP id c15mr23750196igo.36.1443107193066;
 Thu, 24 Sep 2015 08:06:33 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Thu, 24 Sep 2015 08:06:33 -0700 (PDT)
In-Reply-To: <CALK=YjNBfLP+U6Ct5332RHQ9HkdfLENgoANF3ifoYwjkhT4O2g@mail.gmail.com>
References: <CALK=YjNBfLP+U6Ct5332RHQ9HkdfLENgoANF3ifoYwjkhT4O2g@mail.gmail.com>
Date: Thu, 24 Sep 2015 11:06:33 -0400
Message-ID: <CALK=YjMPKAZH3L3iR8x06c9iSVg9NyiOKPp3iSs7Cnk4Mzjw1A@mail.gmail.com>
Subject: Re: logio problem with SSL
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Sep 24, 2015 at 11:00 AM, Eric Covener <covener@gmail.com> wrote:
> I am seeing that small responses over SSL get logged before they're
> flushed, couldn't this flushing be done when we see the EOR bucket in
> the SSL output filter (which will cause log_transaction to run)?


Or maybe when the EOR is added, slip a flush bucket in front of it?

-- 
Eric Covener
covener@gmail.com

From dev-return-83892-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 24 15:14:21 2015
Return-Path: <dev-return-83892-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E97CD175C6
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Sep 2015 15:14:20 +0000 (UTC)
Received: (qmail 54820 invoked by uid 500); 24 Sep 2015 15:14:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54749 invoked by uid 500); 24 Sep 2015 15:14:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54735 invoked by uid 99); 24 Sep 2015 15:14:20 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Sep 2015 15:14:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 09517C0FAC
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 15:14:20 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id d9Rm0jn7Pw_A for <dev@httpd.apache.org>;
	Thu, 24 Sep 2015 15:14:19 +0000 (UTC)
Received: from mail-qg0-f52.google.com (mail-qg0-f52.google.com [209.85.192.52])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 5056B43A0E
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 15:14:19 +0000 (UTC)
Received: by qgx61 with SMTP id 61so46712871qgx.3
        for <dev@httpd.apache.org>; Thu, 24 Sep 2015 08:14:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=g6qryA8kdBGgNrK2TuqX/hY0OeJCaEeV/rN1y9QIBA4=;
        b=SvLSEn1aX5iec04mZBWt3ieEvUDq2h0dKQY7OUksQKVDcvcnbxgGGpTTacfXwYqD2X
         IVAW3FFGppJESLcGyho4zzQeFN7X/81ktlV2UqBgyaa8vAZBJ802DxnKXhPL+BU28J1M
         7O+DfeuEDZ2o5PS7gt/E+BIIXKRGWR2R8Q9e0KM8P1+mYB0R0WwBa62Qd5T01rhDNXIP
         uh+sVLA1lXSrUrgHQt+VwutzDZ51DG1YbpLX1VLq+qKX5vDkAP2/WgluYcjqJzkK/e72
         DCGMZ1zZ3NUPrQ2BJCLP2alKMaDP0aOYRGD/Y2WLxUv5NpmBN+LCKx68Sv4wmaeIbD50
         YVpg==
MIME-Version: 1.0
X-Received: by 10.140.91.112 with SMTP id y103mr348232qgd.68.1443107659018;
 Thu, 24 Sep 2015 08:14:19 -0700 (PDT)
Received: by 10.55.192.8 with HTTP; Thu, 24 Sep 2015 08:14:18 -0700 (PDT)
In-Reply-To: <CALK=YjMPKAZH3L3iR8x06c9iSVg9NyiOKPp3iSs7Cnk4Mzjw1A@mail.gmail.com>
References: <CALK=YjNBfLP+U6Ct5332RHQ9HkdfLENgoANF3ifoYwjkhT4O2g@mail.gmail.com>
	<CALK=YjMPKAZH3L3iR8x06c9iSVg9NyiOKPp3iSs7Cnk4Mzjw1A@mail.gmail.com>
Date: Thu, 24 Sep 2015 17:14:18 +0200
Message-ID: <CAKQ1sVN_4RCp+3W1ucpgNmRAyEiEffSQfxGbLCwc303b8oz9yw@mail.gmail.com>
Subject: Re: logio problem with SSL
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Thu, Sep 24, 2015 at 5:06 PM, Eric Covener <covener@gmail.com> wrote:
> On Thu, Sep 24, 2015 at 11:00 AM, Eric Covener <covener@gmail.com> wrote:
>> I am seeing that small responses over SSL get logged before they're
>> flushed, couldn't this flushing be done when we see the EOR bucket in
>> the SSL output filter (which will cause log_transaction to run)?
>
>
> Or maybe when the EOR is added, slip a flush bucket in front of it?

Wouldn't disable pipelining (and EOR purpose)?
It seems that the culprit is rather bio_filter_out_flush() called from
bio_filter_in_read()...

Regards,
Yann.

From dev-return-83893-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 24 15:33:12 2015
Return-Path: <dev-return-83893-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 39614176AB
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Sep 2015 15:33:12 +0000 (UTC)
Received: (qmail 6408 invoked by uid 500); 24 Sep 2015 15:33:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 6345 invoked by uid 500); 24 Sep 2015 15:33:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 6334 invoked by uid 99); 24 Sep 2015 15:33:02 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Sep 2015 15:33:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 3AF501A7EA1
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 15:33:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id PcIHbu_h_9MO for <dev@httpd.apache.org>;
	Thu, 24 Sep 2015 15:33:01 +0000 (UTC)
Received: from mail-io0-f172.google.com (mail-io0-f172.google.com [209.85.223.172])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id EE10F206E3
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 15:33:00 +0000 (UTC)
Received: by iofb144 with SMTP id b144so80873278iof.1
        for <dev@httpd.apache.org>; Thu, 24 Sep 2015 08:32:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=TbXn3dW/tFuu+Myv/QNO14Sl2q4bxBG8HDgjV1g7yvQ=;
        b=DTQiJ6CAHJ9odd9vGhbmH+9E3iteaO8I6Xp3HmrbdKx9YisD2e9acziDE86cONNIA5
         odFloTlbSGJK55HwMR12MhwG2Nw8xxwviFPIaT/cJqDszz5sTD5pflaXf1InKU+RppNF
         LxAWcv/Sc8QhdnrY+7SNDdLq9L9wlZePbe5TwYMIeDmpCp++fdFowdDTnPZebtiiV5aM
         T227ioWzKsS4KB6WWmq18E4oBLI/r95rYs/Lbr5tziOInZt3wpJzX8F0HcNrbbBn/Tbg
         IEh4ZuB5K29YnkGB1bzzgvulT1awv1RWvp62m1AVBUbkSjbXD6HEcLsoPy+5Kn3ogD9M
         qr5g==
MIME-Version: 1.0
X-Received: by 10.107.134.220 with SMTP id q89mr1287514ioi.90.1443108773766;
 Thu, 24 Sep 2015 08:32:53 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Thu, 24 Sep 2015 08:32:53 -0700 (PDT)
In-Reply-To: <CAKQ1sVN_4RCp+3W1ucpgNmRAyEiEffSQfxGbLCwc303b8oz9yw@mail.gmail.com>
References: <CALK=YjNBfLP+U6Ct5332RHQ9HkdfLENgoANF3ifoYwjkhT4O2g@mail.gmail.com>
	<CALK=YjMPKAZH3L3iR8x06c9iSVg9NyiOKPp3iSs7Cnk4Mzjw1A@mail.gmail.com>
	<CAKQ1sVN_4RCp+3W1ucpgNmRAyEiEffSQfxGbLCwc303b8oz9yw@mail.gmail.com>
Date: Thu, 24 Sep 2015 11:32:53 -0400
Message-ID: <CALK=YjMTGyjxN_Ag3avmYF2-mnm3ctRi16QyxpjB3q6YcF-waw@mail.gmail.com>
Subject: Re: logio problem with SSL
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Sep 24, 2015 at 11:14 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> Wouldn't disable pipelining (and EOR purpose)?

Didn't consider it / never understood it well. After doing the minimum
amt of homework --  maybe check_pipeline could somehow be called early
in the EOR cleanup so this kind of flush would occur before the
transaction is logged, rather than in
ap_process_request_after_handler?

From dev-return-83894-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 24 15:45:59 2015
Return-Path: <dev-return-83894-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C86A317810
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Sep 2015 15:45:59 +0000 (UTC)
Received: (qmail 61249 invoked by uid 500); 24 Sep 2015 15:45:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 61174 invoked by uid 500); 24 Sep 2015 15:45:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 61164 invoked by uid 99); 24 Sep 2015 15:45:59 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Sep 2015 15:45:59 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id CA481C0FAC
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 15:45:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id m5I57_zVPj-R for <dev@httpd.apache.org>;
	Thu, 24 Sep 2015 15:45:58 +0000 (UTC)
Received: from mail-qg0-f53.google.com (mail-qg0-f53.google.com [209.85.192.53])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id EAF3142B22
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 15:45:57 +0000 (UTC)
Received: by qgez77 with SMTP id z77so47778662qge.1
        for <dev@httpd.apache.org>; Thu, 24 Sep 2015 08:45:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=1CCy3s83/2Yq8ZA1+qeLf2L78vFXtkOufVL4RSLlfuA=;
        b=PgMHMyNZCsxVaFLH/fe3Q03SGJ7bsq1JBy9UexlCJZzl3KuUby6uRiOHOUjNrK+k7h
         WTmSjV7D2HUygjZAKqvnpgE9W2tDu/0AM5MIQXffy/XAOASHXDpvMAcgk7nadmcs4JIp
         njiGthayu3x6JiiLQPef5tbnIbI9bsoniHigsHVEKFo0gT8X1wiXBLObdmwa/+uyhRt/
         oDzIb2Dc07FWPJwTMO63aYacDN32bJRMrEseE9RG7LrLQqj82ulDYBHZbbyJ7802U0Tu
         J3McCQR3Dd5jetdEbHymoToOOZirieThYYut6rx3SlfvrCLeLzH+pMHLhs2QLCJkUhrM
         g5Rw==
MIME-Version: 1.0
X-Received: by 10.140.147.8 with SMTP id 8mr521137qht.83.1443109557584; Thu,
 24 Sep 2015 08:45:57 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Thu, 24 Sep 2015 08:45:57 -0700 (PDT)
In-Reply-To: <CALK=YjMTGyjxN_Ag3avmYF2-mnm3ctRi16QyxpjB3q6YcF-waw@mail.gmail.com>
References: <CALK=YjNBfLP+U6Ct5332RHQ9HkdfLENgoANF3ifoYwjkhT4O2g@mail.gmail.com>
	<CALK=YjMPKAZH3L3iR8x06c9iSVg9NyiOKPp3iSs7Cnk4Mzjw1A@mail.gmail.com>
	<CAKQ1sVN_4RCp+3W1ucpgNmRAyEiEffSQfxGbLCwc303b8oz9yw@mail.gmail.com>
	<CALK=YjMTGyjxN_Ag3avmYF2-mnm3ctRi16QyxpjB3q6YcF-waw@mail.gmail.com>
Date: Thu, 24 Sep 2015 17:45:57 +0200
Message-ID: <CAKQ1sVMA-0KjWUUohQnwfC0xLFi_4Vd_+ORySER=k4KpWzgPhQ@mail.gmail.com>
Subject: Re: logio problem with SSL
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Thu, Sep 24, 2015 at 5:32 PM, Eric Covener <covener@gmail.com> wrote:
> On Thu, Sep 24, 2015 at 11:14 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> Wouldn't disable pipelining (and EOR purpose)?
>
> Didn't consider it / never understood it well. After doing the minimum
> amt of homework --  maybe check_pipeline could somehow be called early
> in the EOR cleanup so this kind of flush would occur before the
> transaction is logged, rather than in
> ap_process_request_after_handler?

How about:
Index: modules/ssl/ssl_engine_io.c
===================================================================
--- modules/ssl/ssl_engine_io.c (revision 1704850)
+++ modules/ssl/ssl_engine_io.c (working copy)
@@ -474,7 +474,8 @@
      * output is buffered) so the performance impact of doing it
      * unconditionally should be minimal.
      */
-    if (bio_filter_out_flush(inctx->bio_out) < 0) {
+    if (block == APR_BLOCK_READ &&
+            bio_filter_out_flush(inctx->bio_out) < 0) {
         bio_filter_out_ctx_t *outctx = inctx->bio_out->ptr;
         inctx->rc = outctx->rc;
         return -1;
?

From dev-return-83895-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 24 15:51:39 2015
Return-Path: <dev-return-83895-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E610817887
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Sep 2015 15:51:39 +0000 (UTC)
Received: (qmail 76065 invoked by uid 500); 24 Sep 2015 15:51:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 76002 invoked by uid 500); 24 Sep 2015 15:51:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75992 invoked by uid 99); 24 Sep 2015 15:51:39 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Sep 2015 15:51:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id D3C0AC124A
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 15:51:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id QtvZIMR8DFub for <dev@httpd.apache.org>;
	Thu, 24 Sep 2015 15:51:38 +0000 (UTC)
Received: from mail-io0-f174.google.com (mail-io0-f174.google.com [209.85.223.174])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 07E6E4415F
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 15:51:38 +0000 (UTC)
Received: by iofh134 with SMTP id h134so81168595iof.0
        for <dev@httpd.apache.org>; Thu, 24 Sep 2015 08:51:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=nThGvF5IAnpJEYZ+zC88X1/bGauEk/zGLKximKt5Mic=;
        b=E2wgipwGGsDBgZE3Ab7vycTF8CM7FtasND4HlOm3pgkZi4D7GGJ99Fo1Aj4ZI10Tv8
         SEZRv/cMu/ypwANZLGsyrMY5Tjm3wW2L1PCtkRAO16/8k/3vLbyK99bY6HEiBZrOMfff
         DEicG4qEpb/U3hfkT0+1q9Fu0Lu1ZXyk4gv+r0C9i2yktRA/S5iiA0w8eezv+jPE1Mia
         G2ql984Dd63yfjYWIBse3WpZpdTyCThbI4u+a93syMCyLP9pDA6fZSn1uX+rmoc7vRr8
         iVA7DPx+ZepZdLzba/VoYiISxSSVGwmilSCzCa02ykWrOrydfEiK1Xic4nulls0oSE0m
         hFXQ==
MIME-Version: 1.0
X-Received: by 10.107.134.220 with SMTP id q89mr1395793ioi.90.1443109897563;
 Thu, 24 Sep 2015 08:51:37 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Thu, 24 Sep 2015 08:51:37 -0700 (PDT)
In-Reply-To: <CAKQ1sVMA-0KjWUUohQnwfC0xLFi_4Vd_+ORySER=k4KpWzgPhQ@mail.gmail.com>
References: <CALK=YjNBfLP+U6Ct5332RHQ9HkdfLENgoANF3ifoYwjkhT4O2g@mail.gmail.com>
	<CALK=YjMPKAZH3L3iR8x06c9iSVg9NyiOKPp3iSs7Cnk4Mzjw1A@mail.gmail.com>
	<CAKQ1sVN_4RCp+3W1ucpgNmRAyEiEffSQfxGbLCwc303b8oz9yw@mail.gmail.com>
	<CALK=YjMTGyjxN_Ag3avmYF2-mnm3ctRi16QyxpjB3q6YcF-waw@mail.gmail.com>
	<CAKQ1sVMA-0KjWUUohQnwfC0xLFi_4Vd_+ORySER=k4KpWzgPhQ@mail.gmail.com>
Date: Thu, 24 Sep 2015 11:51:37 -0400
Message-ID: <CALK=YjOySY5pkBCCEC96CKvsNufiBD5fqT-1Ba_6k4cLzKfiZA@mail.gmail.com>
Subject: Re: logio problem with SSL
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Sep 24, 2015 at 11:45 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Thu, Sep 24, 2015 at 5:32 PM, Eric Covener <covener@gmail.com> wrote:
>> On Thu, Sep 24, 2015 at 11:14 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>> Wouldn't disable pipelining (and EOR purpose)?
>>
>> Didn't consider it / never understood it well. After doing the minimum
>> amt of homework --  maybe check_pipeline could somehow be called early
>> in the EOR cleanup so this kind of flush would occur before the
>> transaction is logged, rather than in
>> ap_process_request_after_handler?
>
> How about:
> Index: modules/ssl/ssl_engine_io.c
> ===================================================================
> --- modules/ssl/ssl_engine_io.c (revision 1704850)
> +++ modules/ssl/ssl_engine_io.c (working copy)
> @@ -474,7 +474,8 @@
>       * output is buffered) so the performance impact of doing it
>       * unconditionally should be minimal.
>       */
> -    if (bio_filter_out_flush(inctx->bio_out) < 0) {
> +    if (block == APR_BLOCK_READ &&
> +            bio_filter_out_flush(inctx->bio_out) < 0) {
>          bio_filter_out_ctx_t *outctx = inctx->bio_out->ptr;
>          inctx->rc = outctx->rc;
>          return -1;
> ?

I guess I understand your previous comment better, but wouldn't this
mean further delaying the flush, which makes it even farther away from
when the transaction was logged?

From dev-return-83896-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 24 15:55:18 2015
Return-Path: <dev-return-83896-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A893317956
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Sep 2015 15:55:18 +0000 (UTC)
Received: (qmail 89711 invoked by uid 500); 24 Sep 2015 15:55:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89642 invoked by uid 500); 24 Sep 2015 15:55:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89632 invoked by uid 99); 24 Sep 2015 15:55:18 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Sep 2015 15:55:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 9EF6AF854E
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 15:55:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id IPY4_6N5kcHi for <dev@httpd.apache.org>;
	Thu, 24 Sep 2015 15:55:17 +0000 (UTC)
Received: from mail-qk0-f176.google.com (mail-qk0-f176.google.com [209.85.220.176])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id E2DB044157
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 15:55:16 +0000 (UTC)
Received: by qkap81 with SMTP id p81so31487266qka.2
        for <dev@httpd.apache.org>; Thu, 24 Sep 2015 08:55:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=tur3nV6MfUdjK3IMixrcDIvsV41JxEXnlWwqJs1uYrY=;
        b=YlmIIlC4E3w2UgdKcFvfgZqgk4UUrxf6oPZ2OB5IZ7gvDA6ZaF9KCJCEvTavHRMs83
         1D8Q0vtWWOp+XC7BoLo71vdRj4tBMHverUr1kmqCnWtOY0/nKbtvrwP1fSI559HtWCic
         oiy5tX8tb2EsqFF8/7o9cI5LnvWR8NhzL1zrvaSCQRMLl0FUqTAA4ACWwbaG7kfgUmlY
         3XjEZ8BLYVk9e8TUvGbI5lUaVB5u9hPll9ipfV4Nc46Or8u5Ymt1ml7XEKfwMs6ybwci
         yfzrmBjzRsUFrajo1JnlZ5UOUk7d0vK1faEd3iw++1RyBC4m/zkeBUjjZlz/PV4+icxR
         mpbg==
MIME-Version: 1.0
X-Received: by 10.55.195.80 with SMTP id a77mr687554qkj.2.1443110110421; Thu,
 24 Sep 2015 08:55:10 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Thu, 24 Sep 2015 08:55:10 -0700 (PDT)
In-Reply-To: <CALK=YjOySY5pkBCCEC96CKvsNufiBD5fqT-1Ba_6k4cLzKfiZA@mail.gmail.com>
References: <CALK=YjNBfLP+U6Ct5332RHQ9HkdfLENgoANF3ifoYwjkhT4O2g@mail.gmail.com>
	<CALK=YjMPKAZH3L3iR8x06c9iSVg9NyiOKPp3iSs7Cnk4Mzjw1A@mail.gmail.com>
	<CAKQ1sVN_4RCp+3W1ucpgNmRAyEiEffSQfxGbLCwc303b8oz9yw@mail.gmail.com>
	<CALK=YjMTGyjxN_Ag3avmYF2-mnm3ctRi16QyxpjB3q6YcF-waw@mail.gmail.com>
	<CAKQ1sVMA-0KjWUUohQnwfC0xLFi_4Vd_+ORySER=k4KpWzgPhQ@mail.gmail.com>
	<CALK=YjOySY5pkBCCEC96CKvsNufiBD5fqT-1Ba_6k4cLzKfiZA@mail.gmail.com>
Date: Thu, 24 Sep 2015 17:55:10 +0200
Message-ID: <CAKQ1sVNUfvP2s=7p=UWPNCm79DYTjMw7z2pBwB9jKYyG=pm+Fg@mail.gmail.com>
Subject: Re: logio problem with SSL
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Thu, Sep 24, 2015 at 5:51 PM, Eric Covener <covener@gmail.com> wrote:
> On Thu, Sep 24, 2015 at 11:45 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>> How about:
>> Index: modules/ssl/ssl_engine_io.c
>> ===================================================================
>> --- modules/ssl/ssl_engine_io.c (revision 1704850)
>> +++ modules/ssl/ssl_engine_io.c (working copy)
>> @@ -474,7 +474,8 @@
>>       * output is buffered) so the performance impact of doing it
>>       * unconditionally should be minimal.
>>       */
>> -    if (bio_filter_out_flush(inctx->bio_out) < 0) {
>> +    if (block == APR_BLOCK_READ &&
>> +            bio_filter_out_flush(inctx->bio_out) < 0) {
>>          bio_filter_out_ctx_t *outctx = inctx->bio_out->ptr;
>>          inctx->rc = outctx->rc;
>>          return -1;
>> ?
>
> I guess I understand your previous comment better, but wouldn't this
> mean further delaying the flush, which makes it even farther away from
> when the transaction was logged?

Yes, this is unrelated to the issue I guess (looks sensible, though).
What I think is destroying the EOR before the flush is the
first/leading remove_empty_buckets() in send_brigade_nonblocking().
Looking if we can get rid of it...

From dev-return-83897-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 24 15:57:08 2015
Return-Path: <dev-return-83897-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6AADD17964
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Sep 2015 15:57:08 +0000 (UTC)
Received: (qmail 93479 invoked by uid 500); 24 Sep 2015 15:57:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 93416 invoked by uid 500); 24 Sep 2015 15:57:07 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 93406 invoked by uid 99); 24 Sep 2015 15:57:07 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Sep 2015 15:57:07 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 7D96EC0E9B
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 15:57:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id zGAJ5iOy-6ui for <dev@httpd.apache.org>;
	Thu, 24 Sep 2015 15:57:07 +0000 (UTC)
Received: from mail-ig0-f176.google.com (mail-ig0-f176.google.com [209.85.213.176])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id C5EAF20864
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 15:57:06 +0000 (UTC)
Received: by igcpb10 with SMTP id pb10so18291151igc.1
        for <dev@httpd.apache.org>; Thu, 24 Sep 2015 08:57:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=jsqq33gBVgf9Fohxe/gtGVzX4ijFGVOxp8wtLIEI81E=;
        b=QcjkePCcKzM4brrC4sUhSYeguB9eADpU9nu4ECADko2nGY/EcbjNL0EPzIEcj6A1Mw
         zhjm3W+7PhHsniKw67E0wbkrUiainDlkJq09/8yCQ4Tox4KBSXu8o+tUd+NMdmK7pOpd
         NXsHzNJceLB31Be6f0hbLJWcA/4vGrRGmr2ejV4T36DJPmIY1fmPKcVdCEI7+TqYp/qa
         fTdr/Ud0mHNvYX1qRTONr3zEHP5FKmCQWPZQegTJmRVxRSeow5UCtJjuLu31VBJpeaws
         on3zRBtUBHrR7LDagrqODHXdbohqVY3okJrZysPDzN6kIbe+w9lgQtjQtEy486kz2VKp
         6QRA==
MIME-Version: 1.0
X-Received: by 10.50.114.1 with SMTP id jc1mr28726426igb.56.1443110220674;
 Thu, 24 Sep 2015 08:57:00 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Thu, 24 Sep 2015 08:57:00 -0700 (PDT)
In-Reply-To: <CAKQ1sVNUfvP2s=7p=UWPNCm79DYTjMw7z2pBwB9jKYyG=pm+Fg@mail.gmail.com>
References: <CALK=YjNBfLP+U6Ct5332RHQ9HkdfLENgoANF3ifoYwjkhT4O2g@mail.gmail.com>
	<CALK=YjMPKAZH3L3iR8x06c9iSVg9NyiOKPp3iSs7Cnk4Mzjw1A@mail.gmail.com>
	<CAKQ1sVN_4RCp+3W1ucpgNmRAyEiEffSQfxGbLCwc303b8oz9yw@mail.gmail.com>
	<CALK=YjMTGyjxN_Ag3avmYF2-mnm3ctRi16QyxpjB3q6YcF-waw@mail.gmail.com>
	<CAKQ1sVMA-0KjWUUohQnwfC0xLFi_4Vd_+ORySER=k4KpWzgPhQ@mail.gmail.com>
	<CALK=YjOySY5pkBCCEC96CKvsNufiBD5fqT-1Ba_6k4cLzKfiZA@mail.gmail.com>
	<CAKQ1sVNUfvP2s=7p=UWPNCm79DYTjMw7z2pBwB9jKYyG=pm+Fg@mail.gmail.com>
Date: Thu, 24 Sep 2015 11:57:00 -0400
Message-ID: <CALK=YjMaEvJgyQyPSOcdpP-hEwitR+O2JEs36gLd+YXipwsr7Q@mail.gmail.com>
Subject: Re: logio problem with SSL
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Sep 24, 2015 at 11:55 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> Yes, this is unrelated to the issue I guess (looks sensible, though).
> What I think is destroying the EOR before the flush is the
> first/leading remove_empty_buckets() in send_brigade_nonblocking().
> Looking if we can get rid of it...

I initially thought this as well, and it resembles something
potentially fishy I thought I saw in mod_h2, but I convinced myself
it's actually the EOR bucket being read/written in order (but our
response bytes are still buffered in openssl)

-- 
Eric Covener
covener@gmail.com

From dev-return-83898-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 24 16:57:27 2015
Return-Path: <dev-return-83898-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EAF8817CEC
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Sep 2015 16:57:27 +0000 (UTC)
Received: (qmail 25984 invoked by uid 500); 24 Sep 2015 16:57:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 25890 invoked by uid 500); 24 Sep 2015 16:57:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 25880 invoked by uid 99); 24 Sep 2015 16:57:22 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Sep 2015 16:57:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 19AB21A7E95
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 16:57:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id pkvivum8T7wO for <dev@httpd.apache.org>;
	Thu, 24 Sep 2015 16:57:20 +0000 (UTC)
Received: from mail-qk0-f182.google.com (mail-qk0-f182.google.com [209.85.220.182])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id ED38220604
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 16:57:19 +0000 (UTC)
Received: by qkap81 with SMTP id p81so32250936qka.2
        for <dev@httpd.apache.org>; Thu, 24 Sep 2015 09:57:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=8iKBNdaV9vZfpxRt64VT4//ZzX6JVF9Gy/1MuDbblGg=;
        b=ErqiNQnvCLo+sa8RnhxuQucU1/k3XyK2m6ELLhrfnI5ydZSnKjiLCfjdCKjM6kIVqU
         wf2OytvIofoZ8hIM/n1IUaidrZVLG7TPiFU8RYLYw/SvrpFmdvHptTXljBw2rBq8rsWF
         DobjgqbmXxqQUov7q/9ZcmizDJPcy80lETPWlb//Vrx+JpFd+L3u4zdofUwSvz8xK0+D
         n1JKLExcuIx4sbcY0E0rV2F2TJC6b4/IAWYADPxIDEwBBCqci3fCUOyjEJ5bDIOk4WrM
         EbmeO3iTdUhnd/LMU0m/KCrXyDIMKAGX43CD40j1+keHAyJlwJpvcZtLOApK940c7UY9
         iDBw==
MIME-Version: 1.0
X-Received: by 10.55.195.80 with SMTP id a77mr1070502qkj.2.1443113833289; Thu,
 24 Sep 2015 09:57:13 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Thu, 24 Sep 2015 09:57:13 -0700 (PDT)
In-Reply-To: <CALK=YjMaEvJgyQyPSOcdpP-hEwitR+O2JEs36gLd+YXipwsr7Q@mail.gmail.com>
References: <CALK=YjNBfLP+U6Ct5332RHQ9HkdfLENgoANF3ifoYwjkhT4O2g@mail.gmail.com>
	<CALK=YjMPKAZH3L3iR8x06c9iSVg9NyiOKPp3iSs7Cnk4Mzjw1A@mail.gmail.com>
	<CAKQ1sVN_4RCp+3W1ucpgNmRAyEiEffSQfxGbLCwc303b8oz9yw@mail.gmail.com>
	<CALK=YjMTGyjxN_Ag3avmYF2-mnm3ctRi16QyxpjB3q6YcF-waw@mail.gmail.com>
	<CAKQ1sVMA-0KjWUUohQnwfC0xLFi_4Vd_+ORySER=k4KpWzgPhQ@mail.gmail.com>
	<CALK=YjOySY5pkBCCEC96CKvsNufiBD5fqT-1Ba_6k4cLzKfiZA@mail.gmail.com>
	<CAKQ1sVNUfvP2s=7p=UWPNCm79DYTjMw7z2pBwB9jKYyG=pm+Fg@mail.gmail.com>
	<CALK=YjMaEvJgyQyPSOcdpP-hEwitR+O2JEs36gLd+YXipwsr7Q@mail.gmail.com>
Date: Thu, 24 Sep 2015 18:57:13 +0200
Message-ID: <CAKQ1sVPErPK_XeChmOTmvKPEdR4kd3QYxgQSL5UzF0HVEetkzw@mail.gmail.com>
Subject: Re: logio problem with SSL
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Thu, Sep 24, 2015 at 5:57 PM, Eric Covener <covener@gmail.com> wrote:
>
> I initially thought this as well, and it resembles something
> potentially fishy I thought I saw in mod_h2, but I convinced myself
> it's actually the EOR bucket being read/written in order (but our
> response bytes are still buffered in openssl)

The EOR is supposed to live until the response is flushed (all
buffered/previous buckets sent).
Until then, the request is still alive and waiting to be logged, yet
all its response bytes are accounted with ap_logio_add_bytes() *after*
the corresponding apr_socket_send*().

The problem is that mod_logio's cfg->r is not (anymore) reliable when
r is in the flush queue, since it may have been replaced by the next
request's post_read_request()...

From dev-return-83899-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 24 17:04:45 2015
Return-Path: <dev-return-83899-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 90DDA17D36
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Sep 2015 17:04:45 +0000 (UTC)
Received: (qmail 42809 invoked by uid 500); 24 Sep 2015 17:04:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 42733 invoked by uid 500); 24 Sep 2015 17:04:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 42723 invoked by uid 99); 24 Sep 2015 17:04:35 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Sep 2015 17:04:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 35AAB1A7E4C
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 17:04:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id NyU3SPtmH4ha for <dev@httpd.apache.org>;
	Thu, 24 Sep 2015 17:04:34 +0000 (UTC)
Received: from mail-qg0-f48.google.com (mail-qg0-f48.google.com [209.85.192.48])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 7ADAA4415F
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 17:04:34 +0000 (UTC)
Received: by qgt47 with SMTP id 47so49437692qgt.2
        for <dev@httpd.apache.org>; Thu, 24 Sep 2015 10:04:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=hw8EqYGbYA75nChoyibm3RIbL2xOPWUKSMvl6rcfIFM=;
        b=HwRJ8mmJ5Us9KAhfUIME7jQkTbPXsiJma+7rcAA/4tXJUgnv28iJdH14pvSkQ6NzTL
         Bk+cMWqlyN9kfWJReKCB5S/DUAurz49QDtjWlc6kyESxNPwXCzZfXSctF6NfLK8RVG18
         gq6cGNAmSEMlwmn40px9+L7pD1ilIzPd8AC3VzOpZ2JPHHDcWNkWz+/t7inmr2/EeHql
         mBi/UifkKgxQ3dviV5IMmiP8B53gWJdHTR5I4BrSMXshxGrbcFG/911xp4bl0hOt9O0o
         bbDw144mxqNuWGsKvfG8NE9gNBvNni8B3H//C1l0V2cI3jAW2nRkcXkG8IWZTKMyFkJp
         kUQQ==
MIME-Version: 1.0
X-Received: by 10.140.19.227 with SMTP id 90mr981917qgh.51.1443114268571; Thu,
 24 Sep 2015 10:04:28 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Thu, 24 Sep 2015 10:04:28 -0700 (PDT)
In-Reply-To: <CAKQ1sVPErPK_XeChmOTmvKPEdR4kd3QYxgQSL5UzF0HVEetkzw@mail.gmail.com>
References: <CALK=YjNBfLP+U6Ct5332RHQ9HkdfLENgoANF3ifoYwjkhT4O2g@mail.gmail.com>
	<CALK=YjMPKAZH3L3iR8x06c9iSVg9NyiOKPp3iSs7Cnk4Mzjw1A@mail.gmail.com>
	<CAKQ1sVN_4RCp+3W1ucpgNmRAyEiEffSQfxGbLCwc303b8oz9yw@mail.gmail.com>
	<CALK=YjMTGyjxN_Ag3avmYF2-mnm3ctRi16QyxpjB3q6YcF-waw@mail.gmail.com>
	<CAKQ1sVMA-0KjWUUohQnwfC0xLFi_4Vd_+ORySER=k4KpWzgPhQ@mail.gmail.com>
	<CALK=YjOySY5pkBCCEC96CKvsNufiBD5fqT-1Ba_6k4cLzKfiZA@mail.gmail.com>
	<CAKQ1sVNUfvP2s=7p=UWPNCm79DYTjMw7z2pBwB9jKYyG=pm+Fg@mail.gmail.com>
	<CALK=YjMaEvJgyQyPSOcdpP-hEwitR+O2JEs36gLd+YXipwsr7Q@mail.gmail.com>
	<CAKQ1sVPErPK_XeChmOTmvKPEdR4kd3QYxgQSL5UzF0HVEetkzw@mail.gmail.com>
Date: Thu, 24 Sep 2015 19:04:28 +0200
Message-ID: <CAKQ1sVNFi1fmrGoA1QkFmWF1AH4xFMnQCr9=aR-cer2QgM_9GA@mail.gmail.com>
Subject: Re: logio problem with SSL
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Thu, Sep 24, 2015 at 6:57 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
> The problem is that mod_logio's cfg->r is not (anymore) reliable when
> r is in the flush queue, since it may have been replaced by the next
> request's post_read_request()...

And likewise cf->r = NULL in the logio_transaction() of the
queued/destroyed request may kill the cfg->r set by the new request's
logio_post_read_request() in the meantime.

From dev-return-83900-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 24 17:50:23 2015
Return-Path: <dev-return-83900-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9EEB217F6F
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Sep 2015 17:50:23 +0000 (UTC)
Received: (qmail 99361 invoked by uid 500); 24 Sep 2015 17:50:22 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 99284 invoked by uid 500); 24 Sep 2015 17:50:22 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 99274 invoked by uid 99); 24 Sep 2015 17:50:22 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Sep 2015 17:50:22 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 4B4531A7EB6
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 17:50:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 0E13FiqXyzRz for <dev@httpd.apache.org>;
	Thu, 24 Sep 2015 17:50:21 +0000 (UTC)
Received: from mail-io0-f169.google.com (mail-io0-f169.google.com [209.85.223.169])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 5C2BB20D30
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 17:50:21 +0000 (UTC)
Received: by iofh134 with SMTP id h134so85036830iof.0
        for <dev@httpd.apache.org>; Thu, 24 Sep 2015 10:50:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=BTKdeNp/eH584gc3Xjqu8qzpWdOny8EQGnUGkVl8xRw=;
        b=zjzDtjsMxMx89cTHDCMUrBOgBTU5DhRn/mBBMwePNPZ5g2CQ1n5CyfqtKcCJghXpDo
         lIB69iTSaK3SNlsxOuHQgoFov87pat9FaXDTiWSVgcCer5b+Nkojv5nYsU1tmxOegoTX
         E8oyTNJ81HBQKnc7zWbWVCEPoSBe0EV/T6zyFlKGv2EYfpe0oLHzrM2FRNt6716gJdrP
         bejkekUQnEu34J2fb4TaN6mb7dhR0miSsTzTNO2UYG0ISE17Dt6LNxskMHpdapKo2uXI
         pA0iUYNoMtlJqwsE+2+SB/lV6Bwf0AqtAM5mj0lg/1iubdOxsPpmXGJHuIS/rQ53p381
         xePw==
MIME-Version: 1.0
X-Received: by 10.107.14.4 with SMTP id 4mr2136693ioo.169.1443117020395; Thu,
 24 Sep 2015 10:50:20 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Thu, 24 Sep 2015 10:50:20 -0700 (PDT)
In-Reply-To: <CAKQ1sVNFi1fmrGoA1QkFmWF1AH4xFMnQCr9=aR-cer2QgM_9GA@mail.gmail.com>
References: <CALK=YjNBfLP+U6Ct5332RHQ9HkdfLENgoANF3ifoYwjkhT4O2g@mail.gmail.com>
	<CALK=YjMPKAZH3L3iR8x06c9iSVg9NyiOKPp3iSs7Cnk4Mzjw1A@mail.gmail.com>
	<CAKQ1sVN_4RCp+3W1ucpgNmRAyEiEffSQfxGbLCwc303b8oz9yw@mail.gmail.com>
	<CALK=YjMTGyjxN_Ag3avmYF2-mnm3ctRi16QyxpjB3q6YcF-waw@mail.gmail.com>
	<CAKQ1sVMA-0KjWUUohQnwfC0xLFi_4Vd_+ORySER=k4KpWzgPhQ@mail.gmail.com>
	<CALK=YjOySY5pkBCCEC96CKvsNufiBD5fqT-1Ba_6k4cLzKfiZA@mail.gmail.com>
	<CAKQ1sVNUfvP2s=7p=UWPNCm79DYTjMw7z2pBwB9jKYyG=pm+Fg@mail.gmail.com>
	<CALK=YjMaEvJgyQyPSOcdpP-hEwitR+O2JEs36gLd+YXipwsr7Q@mail.gmail.com>
	<CAKQ1sVPErPK_XeChmOTmvKPEdR4kd3QYxgQSL5UzF0HVEetkzw@mail.gmail.com>
	<CAKQ1sVNFi1fmrGoA1QkFmWF1AH4xFMnQCr9=aR-cer2QgM_9GA@mail.gmail.com>
Date: Thu, 24 Sep 2015 13:50:20 -0400
Message-ID: <CALK=YjO9UzwFaY5tGGy=tv1TLHgzYgY2RO06hQtBfWd3ow9hKA@mail.gmail.com>
Subject: Re: logio problem with SSL
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Sep 24, 2015 at 1:04 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> And likewise cf->r = NULL in the logio_transaction() of the
> queued/destroyed request may kill the cfg->r set by the new request's
> logio_post_read_request() in the meantime.

I guess this is broken without an output filter (vs re-using the
add_bytes optional function)

From dev-return-83901-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 24 18:07:28 2015
Return-Path: <dev-return-83901-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B867E1807F
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Sep 2015 18:07:28 +0000 (UTC)
Received: (qmail 51816 invoked by uid 500); 24 Sep 2015 18:07:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51748 invoked by uid 500); 24 Sep 2015 18:07:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51736 invoked by uid 99); 24 Sep 2015 18:07:27 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Sep 2015 18:07:27 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 536E2C13D0
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 18:07:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id pAO-Z44D90HF for <dev@httpd.apache.org>;
	Thu, 24 Sep 2015 18:07:26 +0000 (UTC)
Received: from mail-io0-f182.google.com (mail-io0-f182.google.com [209.85.223.182])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 9302443A0E
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 18:07:26 +0000 (UTC)
Received: by iofh134 with SMTP id h134so85577772iof.0
        for <dev@httpd.apache.org>; Thu, 24 Sep 2015 11:07:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=8ws2zM+JrbrvAQ1b34oTF6megBLviQuaw2JK1cXr8t0=;
        b=y/uNMWboXeFpL5OQ+2RrW7+q+Mw+5gwQ6c3BSSrXOR5rHUxJ4+vxnAsgVyjWkrcJPA
         RRu0sTDl1p3KsTF/gsZz0NEPf6VFjn5ChUw1xYO4v7RnU5taGXKqimSddwrfRsJ1Y23s
         ObMVFCZ6Bg+AHRmzVKLBlbMDNhcJ+lNI9jynokTF6Y37ULTj2ZUma7foWo6TjkM1/gq4
         7Tj9vNXQw5jCqBjSNEtcYaOJiuH1GVNIqT5D2IUegaErifszBlMsEPTfnaHfn9LMTttI
         kXfRJn/yFvTxkuXmEeE1VCVlWLBvuiFu3PksA0vU8oYLzDm9VoGuFfRdlP5H2cDDkNtH
         OCoA==
MIME-Version: 1.0
X-Received: by 10.107.160.143 with SMTP id j137mr2172224ioe.13.1443118046255;
 Thu, 24 Sep 2015 11:07:26 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Thu, 24 Sep 2015 11:07:26 -0700 (PDT)
In-Reply-To: <CALK=YjO9UzwFaY5tGGy=tv1TLHgzYgY2RO06hQtBfWd3ow9hKA@mail.gmail.com>
References: <CALK=YjNBfLP+U6Ct5332RHQ9HkdfLENgoANF3ifoYwjkhT4O2g@mail.gmail.com>
	<CALK=YjMPKAZH3L3iR8x06c9iSVg9NyiOKPp3iSs7Cnk4Mzjw1A@mail.gmail.com>
	<CAKQ1sVN_4RCp+3W1ucpgNmRAyEiEffSQfxGbLCwc303b8oz9yw@mail.gmail.com>
	<CALK=YjMTGyjxN_Ag3avmYF2-mnm3ctRi16QyxpjB3q6YcF-waw@mail.gmail.com>
	<CAKQ1sVMA-0KjWUUohQnwfC0xLFi_4Vd_+ORySER=k4KpWzgPhQ@mail.gmail.com>
	<CALK=YjOySY5pkBCCEC96CKvsNufiBD5fqT-1Ba_6k4cLzKfiZA@mail.gmail.com>
	<CAKQ1sVNUfvP2s=7p=UWPNCm79DYTjMw7z2pBwB9jKYyG=pm+Fg@mail.gmail.com>
	<CALK=YjMaEvJgyQyPSOcdpP-hEwitR+O2JEs36gLd+YXipwsr7Q@mail.gmail.com>
	<CAKQ1sVPErPK_XeChmOTmvKPEdR4kd3QYxgQSL5UzF0HVEetkzw@mail.gmail.com>
	<CAKQ1sVNFi1fmrGoA1QkFmWF1AH4xFMnQCr9=aR-cer2QgM_9GA@mail.gmail.com>
	<CALK=YjO9UzwFaY5tGGy=tv1TLHgzYgY2RO06hQtBfWd3ow9hKA@mail.gmail.com>
Date: Thu, 24 Sep 2015 14:07:26 -0400
Message-ID: <CALK=YjM1VwAJC9SDEdwOjrvXx99KH5+BW8MeRE=KisY=uRLGHw@mail.gmail.com>
Subject: Re: logio problem with SSL
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

First pass at removing having that stuff live in conn_rec by a filter
that removes itself the first time it's called:

http://people.apache.org/~covener/patches/logio-filter.c

Does not affect the status quo ordering problem where we might log a
transaction, then see the first bytes of the response go out.

On Thu, Sep 24, 2015 at 1:50 PM, Eric Covener <covener@gmail.com> wrote:
> On Thu, Sep 24, 2015 at 1:04 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> And likewise cf->r = NULL in the logio_transaction() of the
>> queued/destroyed request may kill the cfg->r set by the new request's
>> logio_post_read_request() in the meantime.
>
> I guess this is broken without an output filter (vs re-using the
> add_bytes optional function)



-- 
Eric Covener
covener@gmail.com

From dev-return-83902-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 24 20:22:32 2015
Return-Path: <dev-return-83902-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C6FB9185D1
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Sep 2015 20:22:32 +0000 (UTC)
Received: (qmail 79739 invoked by uid 500); 24 Sep 2015 20:22:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 79666 invoked by uid 500); 24 Sep 2015 20:22:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 79655 invoked by uid 99); 24 Sep 2015 20:22:32 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Sep 2015 20:22:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id BA748181123
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 20:22:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id E5ctjigilGbH for <dev@httpd.apache.org>;
	Thu, 24 Sep 2015 20:22:31 +0000 (UTC)
Received: from mail-ig0-f174.google.com (mail-ig0-f174.google.com [209.85.213.174])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id E658A20489
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 20:22:30 +0000 (UTC)
Received: by igbkq10 with SMTP id kq10so24029377igb.0
        for <dev@httpd.apache.org>; Thu, 24 Sep 2015 13:22:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=8LCSMOXMtLsfmlRMcqHIHd+DojCs4gqJyD9+bnU1hnM=;
        b=BJrN6wMQqfmctavr48swCrFBD80FaU3bzjc4ZQvPBG4D1LEe4l55Mj72yLNvU+ezcb
         WRnOE0cSpTy3iFNlgBV/f6uhtSn/KM7CBcACBtJYl8Ggt1D9MVZRgjGE/i3yuIMdGkXQ
         r+Tuj9H0k8PyCDNFvrxD5CZ4hhi/hV3M3/8tRdkcb8gglA2F7xQEo/L/yb4mFDAP5yBD
         NfX93PKSru1GK3hFHCL3fvUv+FcZpejqRNMmBo7XHdRcNfJt5lcrWlwVVejU1AM6p3GD
         LzRvzWvcwLgH4NxzK6mwd890magEMOCDKAzvFAXwzntv0C0mIV9BUdAZY1uLJEUULAqM
         hfuA==
MIME-Version: 1.0
X-Received: by 10.50.78.41 with SMTP id y9mr2730982igw.72.1443126150373; Thu,
 24 Sep 2015 13:22:30 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Thu, 24 Sep 2015 13:22:30 -0700 (PDT)
In-Reply-To: <CALK=YjM1VwAJC9SDEdwOjrvXx99KH5+BW8MeRE=KisY=uRLGHw@mail.gmail.com>
References: <CALK=YjNBfLP+U6Ct5332RHQ9HkdfLENgoANF3ifoYwjkhT4O2g@mail.gmail.com>
	<CALK=YjMPKAZH3L3iR8x06c9iSVg9NyiOKPp3iSs7Cnk4Mzjw1A@mail.gmail.com>
	<CAKQ1sVN_4RCp+3W1ucpgNmRAyEiEffSQfxGbLCwc303b8oz9yw@mail.gmail.com>
	<CALK=YjMTGyjxN_Ag3avmYF2-mnm3ctRi16QyxpjB3q6YcF-waw@mail.gmail.com>
	<CAKQ1sVMA-0KjWUUohQnwfC0xLFi_4Vd_+ORySER=k4KpWzgPhQ@mail.gmail.com>
	<CALK=YjOySY5pkBCCEC96CKvsNufiBD5fqT-1Ba_6k4cLzKfiZA@mail.gmail.com>
	<CAKQ1sVNUfvP2s=7p=UWPNCm79DYTjMw7z2pBwB9jKYyG=pm+Fg@mail.gmail.com>
	<CALK=YjMaEvJgyQyPSOcdpP-hEwitR+O2JEs36gLd+YXipwsr7Q@mail.gmail.com>
	<CAKQ1sVPErPK_XeChmOTmvKPEdR4kd3QYxgQSL5UzF0HVEetkzw@mail.gmail.com>
	<CAKQ1sVNFi1fmrGoA1QkFmWF1AH4xFMnQCr9=aR-cer2QgM_9GA@mail.gmail.com>
	<CALK=YjO9UzwFaY5tGGy=tv1TLHgzYgY2RO06hQtBfWd3ow9hKA@mail.gmail.com>
	<CALK=YjM1VwAJC9SDEdwOjrvXx99KH5+BW8MeRE=KisY=uRLGHw@mail.gmail.com>
Date: Thu, 24 Sep 2015 16:22:30 -0400
Message-ID: <CALK=YjOyZZDATkV5rAVof0Ab6MCyVsnSQaLBRrGYQ0uDtOq2tQ@mail.gmail.com>
Subject: Re: logio problem with SSL
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Sep 24, 2015 at 2:07 PM, Eric Covener <covener@gmail.com> wrote:
> First pass at removing having that stuff live in conn_rec by a filter
> that removes itself the first time it's called:
>
> http://people.apache.org/~covener/patches/logio-filter.c
>
> Does not affect the status quo ordering problem where we might log a
> transaction, then see the first bytes of the response go out.
>
> On Thu, Sep 24, 2015 at 1:50 PM, Eric Covener <covener@gmail.com> wrote:
>> On Thu, Sep 24, 2015 at 1:04 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>> And likewise cf->r = NULL in the logio_transaction() of the
>>> queued/destroyed request may kill the cfg->r set by the new request's
>>> logio_post_read_request() in the meantime.
>>
>> I guess this is broken without an output filter (vs re-using the
>> add_bytes optional function)

tried to improve here: http://svn.apache.org/viewvc?rev=1705134&view=rev

From dev-return-83903-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 24 21:13:32 2015
Return-Path: <dev-return-83903-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 58615188A8
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Sep 2015 21:13:32 +0000 (UTC)
Received: (qmail 65674 invoked by uid 500); 24 Sep 2015 21:13:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 65604 invoked by uid 500); 24 Sep 2015 21:13:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 65594 invoked by uid 99); 24 Sep 2015 21:13:31 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Sep 2015 21:13:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 5A674C149B
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 21:13:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.679
X-Spam-Level:
X-Spam-Status: No, score=0.679 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 2KN_kyonloWN for <dev@httpd.apache.org>;
	Thu, 24 Sep 2015 21:13:30 +0000 (UTC)
Received: from mail-qk0-f179.google.com (mail-qk0-f179.google.com [209.85.220.179])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 7D93142BB4
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 21:13:30 +0000 (UTC)
Received: by qkdw123 with SMTP id w123so35179691qkd.0
        for <dev@httpd.apache.org>; Thu, 24 Sep 2015 14:13:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=73KwFAAQHS2YlbLriAyPaxRNklgKitzOGZtzUXyuA+Q=;
        b=VIK7cQl5NLqscgeF7sa4W5XFCEs/wqNmGysgwZX/fuBA6sSaB6uk8dfcVhQpXQqaR2
         HazscdhdatW80UPTnwPTJTgQWeZsdgTi5weUyY7hfhUfq3+TaXZAmyzCjDImqz+zfyq1
         8au/Lx9w9+WMpO4b9KPEo8cs2AlLPn2RXta8xW2Jh4xdnUD9TRpwv9In94cWmJbfJCJw
         PwOYxKQd9y4duRn5vTIibNBpqwUPg50s+/xZTfqn+YR8tvVxNB2gnHtfS2wUYrwFLvWT
         bLAh1WM8QPW2f2BZOZFes/wQSnmaCCQDRlB2J58ToUq8nCmOavFQ+G7herqIICOHbac1
         ogkQ==
MIME-Version: 1.0
X-Received: by 10.55.195.80 with SMTP id a77mr2395106qkj.2.1443129204329; Thu,
 24 Sep 2015 14:13:24 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Thu, 24 Sep 2015 14:13:24 -0700 (PDT)
In-Reply-To: <CALK=YjOyZZDATkV5rAVof0Ab6MCyVsnSQaLBRrGYQ0uDtOq2tQ@mail.gmail.com>
References: <CALK=YjNBfLP+U6Ct5332RHQ9HkdfLENgoANF3ifoYwjkhT4O2g@mail.gmail.com>
	<CALK=YjMPKAZH3L3iR8x06c9iSVg9NyiOKPp3iSs7Cnk4Mzjw1A@mail.gmail.com>
	<CAKQ1sVN_4RCp+3W1ucpgNmRAyEiEffSQfxGbLCwc303b8oz9yw@mail.gmail.com>
	<CALK=YjMTGyjxN_Ag3avmYF2-mnm3ctRi16QyxpjB3q6YcF-waw@mail.gmail.com>
	<CAKQ1sVMA-0KjWUUohQnwfC0xLFi_4Vd_+ORySER=k4KpWzgPhQ@mail.gmail.com>
	<CALK=YjOySY5pkBCCEC96CKvsNufiBD5fqT-1Ba_6k4cLzKfiZA@mail.gmail.com>
	<CAKQ1sVNUfvP2s=7p=UWPNCm79DYTjMw7z2pBwB9jKYyG=pm+Fg@mail.gmail.com>
	<CALK=YjMaEvJgyQyPSOcdpP-hEwitR+O2JEs36gLd+YXipwsr7Q@mail.gmail.com>
	<CAKQ1sVPErPK_XeChmOTmvKPEdR4kd3QYxgQSL5UzF0HVEetkzw@mail.gmail.com>
	<CAKQ1sVNFi1fmrGoA1QkFmWF1AH4xFMnQCr9=aR-cer2QgM_9GA@mail.gmail.com>
	<CALK=YjO9UzwFaY5tGGy=tv1TLHgzYgY2RO06hQtBfWd3ow9hKA@mail.gmail.com>
	<CALK=YjM1VwAJC9SDEdwOjrvXx99KH5+BW8MeRE=KisY=uRLGHw@mail.gmail.com>
	<CALK=YjOyZZDATkV5rAVof0Ab6MCyVsnSQaLBRrGYQ0uDtOq2tQ@mail.gmail.com>
Date: Thu, 24 Sep 2015 23:13:24 +0200
Message-ID: <CAKQ1sVOYWfQKy_7xeMQu5b4oF_K5gTFk-MVhyWfZFxwtJWNKow@mail.gmail.com>
Subject: Re: logio problem with SSL
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Thu, Sep 24, 2015 at 10:22 PM, Eric Covener <covener@gmail.com> wrote:
> On Thu, Sep 24, 2015 at 2:07 PM, Eric Covener <covener@gmail.com> wrote:
>> First pass at removing having that stuff live in conn_rec by a filter
>> that removes itself the first time it's called:
>>
>> http://people.apache.org/~covener/patches/logio-filter.c
>>
>> Does not affect the status quo ordering problem where we might log a
>> transaction, then see the first bytes of the response go out.
>>
>> On Thu, Sep 24, 2015 at 1:50 PM, Eric Covener <covener@gmail.com> wrote:
>>> On Thu, Sep 24, 2015 at 1:04 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>>> And likewise cf->r = NULL in the logio_transaction() of the
>>>> queued/destroyed request may kill the cfg->r set by the new request's
>>>> logio_post_read_request() in the meantime.
>>>
>>> I guess this is broken without an output filter (vs re-using the
>>> add_bytes optional function)
>
> tried to improve here: http://svn.apache.org/viewvc?rev=1705134&view=rev

Nice patch, I was thinking: too bad we need a mutex here :)

How you measure things, network traces vs some custom log timestamp?
What does the following say?

Index: server/core_filters.c
===================================================================
--- server/core_filters.c    (revision 1705125)
+++ server/core_filters.c    (working copy)
@@ -792,6 +792,19 @@ static apr_status_t send_brigade_blocking(apr_sock
     return rv;
 }

+static request_rec *get_r(apr_bucket_brigade *bb)
+{
+    apr_bucket *e;
+    for (e = APR_BRIGADE_FIRST(bb);
+         e != APR_BRIGADE_SENTINEL(bb);
+         e = APR_BUCKET_NEXT(e)) {
+        if (AP_BUCKET_IS_EOR(e)) {
+            return e->data;
+        }
+    }
+    return NULL;
+}
+
 static apr_status_t writev_nonblocking(apr_socket_t *s,
                                        struct iovec *vec, apr_size_t nvec,
                                        apr_bucket_brigade *bb,
@@ -819,6 +832,9 @@ static apr_status_t writev_nonblocking(apr_socket_
     while (bytes_written < bytes_to_write) {
         apr_size_t n = 0;
         rv = apr_socket_sendv(s, vec + offset, nvec - offset, &n);
+        ap_log_cerror(APLOG_MARK, APLOG_NOTICE, 0, c,
+                      "req:%pp: sent %" APR_SIZE_T_FMT " bytes",
+                      get_r(bb), n);
         if (n > 0) {
             bytes_written += n;
             for (i = offset; i < nvec; ) {
Index: server/eor_bucket.c
===================================================================
--- server/eor_bucket.c    (revision 1705125)
+++ server/eor_bucket.c    (working copy)
@@ -32,6 +32,8 @@ static apr_status_t eor_bucket_cleanup(void *data)
         b->data = NULL;
         /* Update child status and log the transaction */
         ap_update_child_status(r->connection->sbh, SERVER_BUSY_LOG, r);
+        ap_log_cerror(APLOG_MARK, APLOG_NOTICE, 0, r->connection,
+                      "req:%pp: log_transaction", r);
         ap_run_log_transaction(r);
         if (ap_extended_status) {
             ap_increment_counts(r->connection->sbh, r);
--

From dev-return-83904-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 24 22:22:20 2015
Return-Path: <dev-return-83904-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 93E4118BB9
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Sep 2015 22:22:20 +0000 (UTC)
Received: (qmail 66383 invoked by uid 500); 24 Sep 2015 22:22:20 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 66297 invoked by uid 500); 24 Sep 2015 22:22:20 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 66284 invoked by uid 99); 24 Sep 2015 22:22:20 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Sep 2015 22:22:20 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 97E141A078D
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 22:22:19 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.698
X-Spam-Level:
X-Spam-Status: No, score=0.698 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	KAM_ASCII_DIVIDERS=0.8, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id g3TUGpiCxS68 for <dev@httpd.apache.org>;
	Thu, 24 Sep 2015 22:22:18 +0000 (UTC)
Received: from mail-io0-f182.google.com (mail-io0-f182.google.com [209.85.223.182])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id E8CFD253FE
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 22:22:17 +0000 (UTC)
Received: by iofb144 with SMTP id b144so93067433iof.1
        for <dev@httpd.apache.org>; Thu, 24 Sep 2015 15:22:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=pmZjb/1KgmN0APHxUAOcbtVJdUE3Yw4XTJZR2qp/mgI=;
        b=wm5Jg6jVUgbW+EN6QU8/RevYgMP8EzsnJb4wJQ/IEN+SfkWtav5UvNU+AQqQ4YnRXa
         d+Zr+eEDBsWQDNhCJwRCbrdNhObShtDUgcOl0Rmo0BfyB08xUc0GNzS4Vsc5IpBBluvA
         mS3kErXhFQqGmW22cGcOFrqwhCbInAXZOrFpvKZegv/BSNZTxyBQIiO7UkpCerGzI+si
         vnrbnzi6TtBLgrTcViydDigN93YKqQXEY0ETlHYoQByRLmplFYde78xJrOX0pmkz4PVz
         KlWROktZETnLSh8aaPcERSxZMYQaEUkBZGilvfhsGgqoAjd4TZzmL0LHbflJC4Tr5jrl
         m6iA==
MIME-Version: 1.0
X-Received: by 10.107.134.220 with SMTP id q89mr3322967ioi.90.1443133336962;
 Thu, 24 Sep 2015 15:22:16 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Thu, 24 Sep 2015 15:22:16 -0700 (PDT)
In-Reply-To: <CAKQ1sVOYWfQKy_7xeMQu5b4oF_K5gTFk-MVhyWfZFxwtJWNKow@mail.gmail.com>
References: <CALK=YjNBfLP+U6Ct5332RHQ9HkdfLENgoANF3ifoYwjkhT4O2g@mail.gmail.com>
	<CALK=YjMPKAZH3L3iR8x06c9iSVg9NyiOKPp3iSs7Cnk4Mzjw1A@mail.gmail.com>
	<CAKQ1sVN_4RCp+3W1ucpgNmRAyEiEffSQfxGbLCwc303b8oz9yw@mail.gmail.com>
	<CALK=YjMTGyjxN_Ag3avmYF2-mnm3ctRi16QyxpjB3q6YcF-waw@mail.gmail.com>
	<CAKQ1sVMA-0KjWUUohQnwfC0xLFi_4Vd_+ORySER=k4KpWzgPhQ@mail.gmail.com>
	<CALK=YjOySY5pkBCCEC96CKvsNufiBD5fqT-1Ba_6k4cLzKfiZA@mail.gmail.com>
	<CAKQ1sVNUfvP2s=7p=UWPNCm79DYTjMw7z2pBwB9jKYyG=pm+Fg@mail.gmail.com>
	<CALK=YjMaEvJgyQyPSOcdpP-hEwitR+O2JEs36gLd+YXipwsr7Q@mail.gmail.com>
	<CAKQ1sVPErPK_XeChmOTmvKPEdR4kd3QYxgQSL5UzF0HVEetkzw@mail.gmail.com>
	<CAKQ1sVNFi1fmrGoA1QkFmWF1AH4xFMnQCr9=aR-cer2QgM_9GA@mail.gmail.com>
	<CALK=YjO9UzwFaY5tGGy=tv1TLHgzYgY2RO06hQtBfWd3ow9hKA@mail.gmail.com>
	<CALK=YjM1VwAJC9SDEdwOjrvXx99KH5+BW8MeRE=KisY=uRLGHw@mail.gmail.com>
	<CALK=YjOyZZDATkV5rAVof0Ab6MCyVsnSQaLBRrGYQ0uDtOq2tQ@mail.gmail.com>
	<CAKQ1sVOYWfQKy_7xeMQu5b4oF_K5gTFk-MVhyWfZFxwtJWNKow@mail.gmail.com>
Date: Thu, 24 Sep 2015 18:22:16 -0400
Message-ID: <CALK=YjPGOqHRfB1w+1iTMsxDwRzbnkrcLJppmLekmzWNTnDP8A@mail.gmail.com>
Subject: Re: logio problem with SSL
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Thu, Sep 24, 2015 at 5:13 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Thu, Sep 24, 2015 at 10:22 PM, Eric Covener <covener@gmail.com> wrote:
>> On Thu, Sep 24, 2015 at 2:07 PM, Eric Covener <covener@gmail.com> wrote:
>>> First pass at removing having that stuff live in conn_rec by a filter
>>> that removes itself the first time it's called:
>>>
>>> http://people.apache.org/~covener/patches/logio-filter.c
>>>
>>> Does not affect the status quo ordering problem where we might log a
>>> transaction, then see the first bytes of the response go out.
>>>
>>> On Thu, Sep 24, 2015 at 1:50 PM, Eric Covener <covener@gmail.com> wrote:
>>>> On Thu, Sep 24, 2015 at 1:04 PM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>>>> And likewise cf->r = NULL in the logio_transaction() of the
>>>>> queued/destroyed request may kill the cfg->r set by the new request's
>>>>> logio_post_read_request() in the meantime.
>>>>
>>>> I guess this is broken without an output filter (vs re-using the
>>>> add_bytes optional function)
>>
>> tried to improve here: http://svn.apache.org/viewvc?rev=1705134&view=rev
>
> Nice patch, I was thinking: too bad we need a mutex here :)
>
> How you measure things, network traces vs some custom log timestamp?
> What does the following say?
>
> Index: server/core_filters.c
> ===================================================================
> --- server/core_filters.c    (revision 1705125)
> +++ server/core_filters.c    (working copy)
> @@ -792,6 +792,19 @@ static apr_status_t send_brigade_blocking(apr_sock
>      return rv;
>  }
>
> +static request_rec *get_r(apr_bucket_brigade *bb)
> +{
> +    apr_bucket *e;
> +    for (e = APR_BRIGADE_FIRST(bb);
> +         e != APR_BRIGADE_SENTINEL(bb);
> +         e = APR_BUCKET_NEXT(e)) {
> +        if (AP_BUCKET_IS_EOR(e)) {
> +            return e->data;
> +        }
> +    }
> +    return NULL;
> +}
> +
>  static apr_status_t writev_nonblocking(apr_socket_t *s,
>                                         struct iovec *vec, apr_size_t nvec,
>                                         apr_bucket_brigade *bb,
> @@ -819,6 +832,9 @@ static apr_status_t writev_nonblocking(apr_socket_
>      while (bytes_written < bytes_to_write) {
>          apr_size_t n = 0;
>          rv = apr_socket_sendv(s, vec + offset, nvec - offset, &n);
> +        ap_log_cerror(APLOG_MARK, APLOG_NOTICE, 0, c,
> +                      "req:%pp: sent %" APR_SIZE_T_FMT " bytes",
> +                      get_r(bb), n);
>          if (n > 0) {
>              bytes_written += n;
>              for (i = offset; i < nvec; ) {
> Index: server/eor_bucket.c
> ===================================================================
> --- server/eor_bucket.c    (revision 1705125)
> +++ server/eor_bucket.c    (working copy)
> @@ -32,6 +32,8 @@ static apr_status_t eor_bucket_cleanup(void *data)
>          b->data = NULL;
>          /* Update child status and log the transaction */
>          ap_update_child_status(r->connection->sbh, SERVER_BUSY_LOG, r);
> +        ap_log_cerror(APLOG_MARK, APLOG_NOTICE, 0, r->connection,
> +                      "req:%pp: log_transaction", r);
>          ap_run_log_transaction(r);
>          if (ap_extended_status) {
>              ap_increment_counts(r->connection->sbh, r);
> --

two logs (http/https) sorted to top of autoindex here:
http://people.apache.org/~covener/

Narrow logio issue working good now, because our first filter
invocation is not delayed like the "addbytes" callback was.

From dev-return-83905-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Thu Sep 24 23:00:54 2015
Return-Path: <dev-return-83905-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 171D018D95
	for <apmail-httpd-dev-archive@www.apache.org>; Thu, 24 Sep 2015 23:00:54 +0000 (UTC)
Received: (qmail 60103 invoked by uid 500); 24 Sep 2015 23:00:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 60024 invoked by uid 500); 24 Sep 2015 23:00:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 60014 invoked by uid 99); 24 Sep 2015 23:00:52 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 24 Sep 2015 23:00:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 1FFA6C158F
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 23:00:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id ZCMTCVUB7dJt for <dev@httpd.apache.org>;
	Thu, 24 Sep 2015 23:00:51 +0000 (UTC)
Received: from mail-qk0-f170.google.com (mail-qk0-f170.google.com [209.85.220.170])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 6A21D439B1
	for <dev@httpd.apache.org>; Thu, 24 Sep 2015 23:00:51 +0000 (UTC)
Received: by qkap81 with SMTP id p81so36230266qka.2
        for <dev@httpd.apache.org>; Thu, 24 Sep 2015 16:00:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=uR80PO1sebbKWYYI8VSxS9kskyeFmg69eZ/XUR1LA1M=;
        b=dUNB2V4yYT0c6m/4U+5A+assUGJeVUd5s0PkQiIAWzPAlOOWkXhxRaTf13xMxlaBRF
         QCtLcX4MD/XIx7CcCUWr06ZALADfhnFyngq8/b1u1Eh/OzQMLWtDuqkYfxuk+hT1og3a
         wX02L74/yG4tyMaHI30wZFvDF7HHz7LPqLG27PvIXgH9n5dccD6E9CZ1yUxaB3n2zjyL
         PgpMrcTLmSeE/g2WdxKv/ht0zuFfxi5BPPPsbmfVrqeOqUiOHq4liCAZXFhmnOsSJp/Y
         7oaEZ0afejgtKWFbiEqHcdKXiKiWFK3+/obfDaMZ0H0/tbV38qr0hASya/of/3IeTCUW
         bC0Q==
MIME-Version: 1.0
X-Received: by 10.55.204.10 with SMTP id r10mr2705524qki.55.1443135651156;
 Thu, 24 Sep 2015 16:00:51 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Thu, 24 Sep 2015 16:00:51 -0700 (PDT)
In-Reply-To: <CALK=YjPGOqHRfB1w+1iTMsxDwRzbnkrcLJppmLekmzWNTnDP8A@mail.gmail.com>
References: <CALK=YjNBfLP+U6Ct5332RHQ9HkdfLENgoANF3ifoYwjkhT4O2g@mail.gmail.com>
	<CALK=YjMPKAZH3L3iR8x06c9iSVg9NyiOKPp3iSs7Cnk4Mzjw1A@mail.gmail.com>
	<CAKQ1sVN_4RCp+3W1ucpgNmRAyEiEffSQfxGbLCwc303b8oz9yw@mail.gmail.com>
	<CALK=YjMTGyjxN_Ag3avmYF2-mnm3ctRi16QyxpjB3q6YcF-waw@mail.gmail.com>
	<CAKQ1sVMA-0KjWUUohQnwfC0xLFi_4Vd_+ORySER=k4KpWzgPhQ@mail.gmail.com>
	<CALK=YjOySY5pkBCCEC96CKvsNufiBD5fqT-1Ba_6k4cLzKfiZA@mail.gmail.com>
	<CAKQ1sVNUfvP2s=7p=UWPNCm79DYTjMw7z2pBwB9jKYyG=pm+Fg@mail.gmail.com>
	<CALK=YjMaEvJgyQyPSOcdpP-hEwitR+O2JEs36gLd+YXipwsr7Q@mail.gmail.com>
	<CAKQ1sVPErPK_XeChmOTmvKPEdR4kd3QYxgQSL5UzF0HVEetkzw@mail.gmail.com>
	<CAKQ1sVNFi1fmrGoA1QkFmWF1AH4xFMnQCr9=aR-cer2QgM_9GA@mail.gmail.com>
	<CALK=YjO9UzwFaY5tGGy=tv1TLHgzYgY2RO06hQtBfWd3ow9hKA@mail.gmail.com>
	<CALK=YjM1VwAJC9SDEdwOjrvXx99KH5+BW8MeRE=KisY=uRLGHw@mail.gmail.com>
	<CALK=YjOyZZDATkV5rAVof0Ab6MCyVsnSQaLBRrGYQ0uDtOq2tQ@mail.gmail.com>
	<CAKQ1sVOYWfQKy_7xeMQu5b4oF_K5gTFk-MVhyWfZFxwtJWNKow@mail.gmail.com>
	<CALK=YjPGOqHRfB1w+1iTMsxDwRzbnkrcLJppmLekmzWNTnDP8A@mail.gmail.com>
Date: Fri, 25 Sep 2015 01:00:51 +0200
Message-ID: <CAKQ1sVP8Bm0ObDS3SSvchWecZY+vOOZvk-CLdO6KE-hy9s5o1A@mail.gmail.com>
Subject: Re: logio problem with SSL
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 25, 2015 at 12:22 AM, Eric Covener <covener@gmail.com> wrote:
>
> two logs (http/https) sorted to top of autoindex here:
> http://people.apache.org/~covener/
>
> Narrow logio issue working good now, because our first filter
> invocation is not delayed like the "addbytes" callback was.

Looks like mod_ssl should also forward EOR buckets.

Does this work:
Index: modules/ssl/ssl_engine_io.c
===================================================================
--- modules/ssl/ssl_engine_io.c    (revision 1705160)
+++ modules/ssl/ssl_engine_io.c    (working copy)
@@ -1707,12 +1707,12 @@ static apr_status_t ssl_io_filter_output(ap_filter
         /* If it is a flush or EOS, we need to pass this down.
          * These types do not require translation by OpenSSL.
          */
-        if (APR_BUCKET_IS_EOS(bucket)) {
+        if (APR_BUCKET_IS_EOS(bucket) || AP_BUCKET_IS_EOR(bucket)) {
             /*
-             * By definition, nothing can come after EOS.
+             * By definition, nothing can come after EOS/EOR.
              * which also means we can pass the rest of this brigade
              * without creating a new one since it only contains the
-             * EOS bucket.
+             * EOS/EOR bucket.
              */

             if ((status = ap_pass_brigade(f->next, bb)) != APR_SUCCESS) {
?

From dev-return-83906-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 07:50:06 2015
Return-Path: <dev-return-83906-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D83FB18388
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 07:50:06 +0000 (UTC)
Received: (qmail 62072 invoked by uid 500); 25 Sep 2015 07:50:06 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62009 invoked by uid 500); 25 Sep 2015 07:50:06 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 61999 invoked by uid 99); 25 Sep 2015 07:50:06 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 07:50:06 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id D3E08180A2C
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 07:50:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id hYQ0SJPLXtQZ for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 07:50:05 +0000 (UTC)
Received: from mail-qg0-f52.google.com (mail-qg0-f52.google.com [209.85.192.52])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 3596C439B2
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 07:50:05 +0000 (UTC)
Received: by qgez77 with SMTP id z77so63783696qge.1
        for <dev@httpd.apache.org>; Fri, 25 Sep 2015 00:50:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=zB+CVJ2C7oKoBgWOEuUiHJ80HK/rfaQkckutuzoUOOQ=;
        b=caZUrv7IJ7tp7o2YMfFO8HliT0GAvJnzb8bKUZemGfn6RpfEdlkpaaMh3rLB7PciNn
         f8cuujv2di4gtHAuHKUXJSkPcFE59HnhVYDuZpm1Nqw+vbhlibd8OGefljpT93xsi/4P
         WIMp8t99BqrYj1j9HhO0HxqUUByGSKQPKaTQf+Ll9wT16P7ucsIcOcW3dXRZSmAfXxS9
         2Nwbvk9yXG+sCyVphn7r051N1ivk6Gk0NZXLXJ7lkWthbxo0wI8qUX7GFDKOTB6xaNw1
         as9hNm16TGc2MGjfr6O/xmK43oI60M+JjGpIwokWaQ06X6YJseprVE6z0EURj2GSN4Ig
         9kQA==
MIME-Version: 1.0
X-Received: by 10.140.131.70 with SMTP id 67mr4886273qhd.70.1443167404881;
 Fri, 25 Sep 2015 00:50:04 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Fri, 25 Sep 2015 00:50:04 -0700 (PDT)
In-Reply-To: <CAKQ1sVP8Bm0ObDS3SSvchWecZY+vOOZvk-CLdO6KE-hy9s5o1A@mail.gmail.com>
References: <CALK=YjNBfLP+U6Ct5332RHQ9HkdfLENgoANF3ifoYwjkhT4O2g@mail.gmail.com>
	<CALK=YjMPKAZH3L3iR8x06c9iSVg9NyiOKPp3iSs7Cnk4Mzjw1A@mail.gmail.com>
	<CAKQ1sVN_4RCp+3W1ucpgNmRAyEiEffSQfxGbLCwc303b8oz9yw@mail.gmail.com>
	<CALK=YjMTGyjxN_Ag3avmYF2-mnm3ctRi16QyxpjB3q6YcF-waw@mail.gmail.com>
	<CAKQ1sVMA-0KjWUUohQnwfC0xLFi_4Vd_+ORySER=k4KpWzgPhQ@mail.gmail.com>
	<CALK=YjOySY5pkBCCEC96CKvsNufiBD5fqT-1Ba_6k4cLzKfiZA@mail.gmail.com>
	<CAKQ1sVNUfvP2s=7p=UWPNCm79DYTjMw7z2pBwB9jKYyG=pm+Fg@mail.gmail.com>
	<CALK=YjMaEvJgyQyPSOcdpP-hEwitR+O2JEs36gLd+YXipwsr7Q@mail.gmail.com>
	<CAKQ1sVPErPK_XeChmOTmvKPEdR4kd3QYxgQSL5UzF0HVEetkzw@mail.gmail.com>
	<CAKQ1sVNFi1fmrGoA1QkFmWF1AH4xFMnQCr9=aR-cer2QgM_9GA@mail.gmail.com>
	<CALK=YjO9UzwFaY5tGGy=tv1TLHgzYgY2RO06hQtBfWd3ow9hKA@mail.gmail.com>
	<CALK=YjM1VwAJC9SDEdwOjrvXx99KH5+BW8MeRE=KisY=uRLGHw@mail.gmail.com>
	<CALK=YjOyZZDATkV5rAVof0Ab6MCyVsnSQaLBRrGYQ0uDtOq2tQ@mail.gmail.com>
	<CAKQ1sVOYWfQKy_7xeMQu5b4oF_K5gTFk-MVhyWfZFxwtJWNKow@mail.gmail.com>
	<CALK=YjPGOqHRfB1w+1iTMsxDwRzbnkrcLJppmLekmzWNTnDP8A@mail.gmail.com>
	<CAKQ1sVP8Bm0ObDS3SSvchWecZY+vOOZvk-CLdO6KE-hy9s5o1A@mail.gmail.com>
Date: Fri, 25 Sep 2015 09:50:04 +0200
Message-ID: <CAKQ1sVMNHJ07J1ufmb10SXYR__xRLMgNDpq7wtuOA5sKwo-o9Q@mail.gmail.com>
Subject: Re: logio problem with SSL
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 25, 2015 at 1:00 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Fri, Sep 25, 2015 at 12:22 AM, Eric Covener <covener@gmail.com> wrote:
>>
>> two logs (http/https) sorted to top of autoindex here:
>> http://people.apache.org/~covener/
>
> Looks like mod_ssl should also forward EOR buckets.
>
> Does this work:
> Index: modules/ssl/ssl_engine_io.c
> ===================================================================
> --- modules/ssl/ssl_engine_io.c    (revision 1705160)
> +++ modules/ssl/ssl_engine_io.c    (working copy)
> @@ -1707,12 +1707,12 @@ static apr_status_t ssl_io_filter_output(ap_filter

I committed this one in r1705194, and also the one preventing the
FLUSH for non-blocking bio_filter_in_read() in r1705236.
You may not want to apply the latter, for your testing path to be
consistent with what you had so far...

From dev-return-83907-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 08:02:05 2015
Return-Path: <dev-return-83907-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BEC5D183E1
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 08:02:05 +0000 (UTC)
Received: (qmail 79785 invoked by uid 500); 25 Sep 2015 08:01:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 79730 invoked by uid 500); 25 Sep 2015 08:01:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 79719 invoked by uid 99); 25 Sep 2015 08:01:34 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 08:01:34 +0000
Received: from gauss.localdomain (v4-861345e7.pool.vitroconnect.de [134.19.69.231])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 898F31A0251
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 08:01:30 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id A692BDE
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 10:01:30 +0200 (CEST)
Subject: Re: svn commit: r1705236 -
 /httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
To: dev@httpd.apache.org
References: <20150925072706.5C2D83A0233@svn01-us-west.apache.org>
From: Ruediger Pluem <rpluem@apache.org>
X-Enigmail-Draft-Status: N1110
Message-ID: <5604FF5A.90101@apache.org>
Date: Fri, 25 Sep 2015 10:01:30 +0200
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:38.0) Gecko/20100101
 Firefox/38.0 SeaMonkey/2.35
MIME-Version: 1.0
In-Reply-To: <20150925072706.5C2D83A0233@svn01-us-west.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 09/25/2015 09:27 AM, ylavic@apache.org wrote:
> Author: ylavic
> Date: Fri Sep 25 07:27:04 2015
> New Revision: 1705236
> 
> URL: http://svn.apache.org/viewvc?rev=1705236&view=rev
> Log:
> mod_ssl: don't FLUSH first for non blocking reads.
> Such readers are prepared to received empty data anyway (and take appropriate
> action), while e.g. check_pipeline() is not expecting the pipe to be flushed
> under it.
> 
> Modified:
>     httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
> 
> Modified: httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ssl/ssl_engine_io.c?rev=1705236&r1=1705235&r2=1705236&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/ssl/ssl_engine_io.c (original)
> +++ httpd/httpd/trunk/modules/ssl/ssl_engine_io.c Fri Sep 25 07:27:04 2015
> @@ -472,9 +472,12 @@ static int bio_filter_in_read(BIO *bio,
>       * connection or for a proxy connection.  Calling _out_flush
>       * should be very cheap in cases where it is unnecessary (and no
>       * output is buffered) so the performance impact of doing it
> -     * unconditionally should be minimal.
> +     * unconditionally should be minimal, but in non blocking mode
> +     * where the caller may not expect the flush round trip (e.g.
> +     * check_pipeline()'s speculative and non-blocking read).
>       */
> -    if (bio_filter_out_flush(inctx->bio_out) < 0) {
> +    if (block != APR_NONBLOCK_READ &&
> +            bio_filter_out_flush(inctx->bio_out) < 0) {
>          bio_filter_out_ctx_t *outctx = inctx->bio_out->ptr;
>          inctx->rc = outctx->rc;
>          return -1;
> 
> 
> 

Can't we run in endless loops here, because no new input will arrive until the output buffer was flushed (e.g. due to
pending SSL layer data the client is waiting for before it sents new data)? Or do you expect the non blocking readers
to switch to blocking next time they read?

Regards

Rüdiger



From dev-return-83908-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 08:20:31 2015
Return-Path: <dev-return-83908-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 82AAF1845B
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 08:20:31 +0000 (UTC)
Received: (qmail 18457 invoked by uid 500); 25 Sep 2015 08:20:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18385 invoked by uid 500); 25 Sep 2015 08:20:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18375 invoked by uid 99); 25 Sep 2015 08:20:31 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 08:20:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id A32E21810F7
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 08:20:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id W6ly4pQ9pTV5 for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 08:20:30 +0000 (UTC)
Received: from mail-qg0-f48.google.com (mail-qg0-f48.google.com [209.85.192.48])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id D66122074F
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 08:20:29 +0000 (UTC)
Received: by qgx61 with SMTP id 61so63845444qgx.3
        for <dev@httpd.apache.org>; Fri, 25 Sep 2015 01:20:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=pYaMeWMtzJenYVLRNn8GtoVlnpqNyWBFZTSIqkIJQD4=;
        b=ifVAYUNaTh2doHuiQfdNz0TVKUTWSR+gB8ElrMZn3dtc/GhREhaBfcSMMCVX27zFrD
         eUBMPCi4aiTEope1f/NYLjDEA9LNU4hUgCh2LxlHIzthTMgDB627IECrBAgNsTWhTWhO
         MkC2YX7tlRbthJUeAMy0qulLhrEu9k4g013rCQW/pQwKDlyzY12ZW+vcgY3VafEUPvmu
         2ZTN1988GBiS7U8vR8XGpYVkZUPa1qcRfINuNCXQRbHQSsq24iQjavaQq9wJoyg1h2D0
         hHqjv3h1TujRUpaoIAOFR/aC66Q3JHkJytVk90qPhVtmTl663bG5Mbjnmi3FO8YRvO/q
         rRHw==
MIME-Version: 1.0
X-Received: by 10.140.19.227 with SMTP id 90mr4468486qgh.51.1443169229220;
 Fri, 25 Sep 2015 01:20:29 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Fri, 25 Sep 2015 01:20:29 -0700 (PDT)
In-Reply-To: <5604FF5A.90101@apache.org>
References: <20150925072706.5C2D83A0233@svn01-us-west.apache.org>
	<5604FF5A.90101@apache.org>
Date: Fri, 25 Sep 2015 10:20:29 +0200
Message-ID: <CAKQ1sVNCK2sWHY3R-4Q3rpyY5r9UH+BqfzPUaY7u7t6ax26MSg@mail.gmail.com>
Subject: Re: svn commit: r1705236 - /httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 25, 2015 at 10:01 AM, Ruediger Pluem <rpluem@apache.org> wrote:
>
> On 09/25/2015 09:27 AM, ylavic@apache.org wrote:
>>
>> URL: http://svn.apache.org/viewvc?rev=1705236&view=rev
>>
>
> Can't we run in endless loops here, because no new input will arrive until the output buffer was flushed (e.g. due to
> pending SSL layer data the client is waiting for before it sents new data)? Or do you expect the non blocking readers
> to switch to blocking next time they read?

The idea was that the reader either expects data and blocks, or is
just polling what's available now.
But hm, event/motorz may not follow that scheme, and poll() the socket
directly (w/o flushing) after some previous non-blocking read is
EAGAIN.
Flushing defeats pipelining, so maybe it's not achievable with SSL/TLS...

Any other way around?

Regards,
Yann.

From dev-return-83909-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 08:30:46 2015
Return-Path: <dev-return-83909-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6A8BA18489
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 08:30:46 +0000 (UTC)
Received: (qmail 29028 invoked by uid 500); 25 Sep 2015 08:30:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28941 invoked by uid 500); 25 Sep 2015 08:30:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28931 invoked by uid 99); 25 Sep 2015 08:30:45 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 08:30:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 774471A0969
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 08:30:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.102
X-Spam-Level:
X-Spam-Status: No, score=-0.102 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id zICP37B5c3zv for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 08:30:40 +0000 (UTC)
Received: from mail-qg0-f49.google.com (mail-qg0-f49.google.com [209.85.192.49])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id E1A9C439B3
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 08:30:39 +0000 (UTC)
Received: by qgx61 with SMTP id 61so63959565qgx.3
        for <dev@httpd.apache.org>; Fri, 25 Sep 2015 01:30:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=XD0tWW9cM5fs4TooLLJlxmx8HJElJYc6+TCZD2FImC4=;
        b=fDA5AcG6LIiUJ67/77USJJbV/6rxwMTIxSKZAHllstSBVkhmilmMT/Xyya2HyAuJAV
         UUwi6REeD9zsvQn76/wHaOdDSgEot54x67eOeVgTyj7OqknjV6OBq+3w9xCQDQTk0ojP
         JoVp8mwM9VBDyIcVWTOZDdmzwDjQ3079m150y5QCnDXeDz+NhRVdjNJ/kIRGc0Nu4GS6
         A3DgUtYLn4S+eNB9KQrPotThOylvt4WrXodxSJ7hxf/dTeVtjvOOvOKPkGv5INoAp690
         OXciFfk4hN14LIfJBaJwmtyu165BOJQFY3RGkuWn2Ox6E+mr82+Gaj71pOTjoOnUUB9I
         Ub7A==
MIME-Version: 1.0
X-Received: by 10.140.101.119 with SMTP id t110mr4745044qge.71.1443169839738;
 Fri, 25 Sep 2015 01:30:39 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Fri, 25 Sep 2015 01:30:39 -0700 (PDT)
In-Reply-To: <CAKQ1sVNCK2sWHY3R-4Q3rpyY5r9UH+BqfzPUaY7u7t6ax26MSg@mail.gmail.com>
References: <20150925072706.5C2D83A0233@svn01-us-west.apache.org>
	<5604FF5A.90101@apache.org>
	<CAKQ1sVNCK2sWHY3R-4Q3rpyY5r9UH+BqfzPUaY7u7t6ax26MSg@mail.gmail.com>
Date: Fri, 25 Sep 2015 10:30:39 +0200
Message-ID: <CAKQ1sVOH487zezt-JzZ_2R3sMoN5DendJ1843MCGC2hR=u-znQ@mail.gmail.com>
Subject: Re: svn commit: r1705236 - /httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 25, 2015 at 10:20 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>
> Any other way around?

Couldn't mod_ssl know by openssl when SSL "administrative" data are
out and then bucket-FLUSH?

From dev-return-83910-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 08:59:12 2015
Return-Path: <dev-return-83910-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 00431185C1
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 08:59:12 +0000 (UTC)
Received: (qmail 85460 invoked by uid 500); 25 Sep 2015 08:59:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 85382 invoked by uid 500); 25 Sep 2015 08:59:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 85372 invoked by uid 99); 25 Sep 2015 08:59:11 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 08:59:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E10D6C0E02
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 08:59:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id giNdIfosWN8D for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 08:58:57 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 3A9CF231DA
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 08:58:57 +0000 (UTC)
Received: from [192.168.178.41] (unknown [84.189.94.182])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 6B48E15A015B
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 10:58:49 +0200 (CEST)
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4
From: Stefan Eissing <stefan@eissing.org>
In-Reply-To: <20150925085438.B57753A0046@svn01-us-west.apache.org>
Date: Fri, 25 Sep 2015 10:58:51 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

Me not fully understand. Why at all and why only there? (curiousity)

> Am 25.09.2015 um 10:54 schrieb rpluem@apache.org:
>=20
> Author: rpluem
> Date: Fri Sep 25 08:54:38 2015
> New Revision: 1705257
>=20
> URL: http://svn.apache.org/viewvc?rev=3D1705257&view=3Drev
> Log:
> * Disable the http2 modules if nghttp2 is not present
>=20
> Modified:
>    httpd/httpd/trunk/modules/http2/config.m4
>=20
> Modified: httpd/httpd/trunk/modules/http2/config.m4
> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/http2/config.m4?rev=
=3D1705257&r1=3D1705256&r2=3D1705257&view=3Ddiff
> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
> --- httpd/httpd/trunk/modules/http2/config.m4 (original)
> +++ httpd/httpd/trunk/modules/http2/config.m4 Fri Sep 25 08:54:38 2015
> @@ -181,7 +181,7 @@ is usually linked shared and requires lo
>            APR_ADDTO(MOD_H2_LDADD, [-export-symbols-regex h2_module])
>         fi
>     else
> -        enable_h2=3Dno
> +        enable_http2=3Dno
>     fi
> ])
> APACHE_MODULE(h2, [HTTP/2 support (Deprecated. Use --enable-http2)], =
$h2_objs, , most, [
>=20
>=20


From dev-return-83911-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 09:23:13 2015
Return-Path: <dev-return-83911-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E300D1865F
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 09:23:11 +0000 (UTC)
Received: (qmail 51654 invoked by uid 500); 25 Sep 2015 09:23:11 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51589 invoked by uid 500); 25 Sep 2015 09:23:11 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51580 invoked by uid 99); 25 Sep 2015 09:23:11 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 09:23:11 +0000
Received: from gauss.localdomain (v4-861345e7.pool.vitroconnect.de [134.19.69.231])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id D342D1A003F
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 09:23:10 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 8430E227
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 11:23:11 +0200 (CEST)
Subject: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4
To: dev@httpd.apache.org
References: <20150925085438.B57753A0046@svn01-us-west.apache.org>
 <1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org>
From: Ruediger Pluem <rpluem@apache.org>
X-Enigmail-Draft-Status: N1110
Message-ID: <5605127F.7000403@apache.org>
Date: Fri, 25 Sep 2015 11:23:11 +0200
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:38.0) Gecko/20100101
 Firefox/38.0 SeaMonkey/2.35
MIME-Version: 1.0
In-Reply-To: <1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit



On 09/25/2015 10:58 AM, Stefan Eissing wrote:
> Me not fully understand. Why at all and why only there? (curiousity)

Because it tries to build mod_h2 even if nghttp2 is not present.

Because

APACHE_MODULE(http2,

and

APACHE_MODULE(h2,

effectively setup two distinct modules with the same object files (h2_objs)

and if you do not set enable_http2 / enable_h2 to no the objects will be build even if not explicitly asked for because
they belong to most and I configure with --enable-mods-shared=all.

This worked fine before we had this 2 name approach. It will be interesting to see what it does if nghttp2 is present
as it likely tries to build and enable mod_http2 and mod_h2. I guess building will work due to the fact that it just
compiles h2_objs twice, but I guess we will have two LoadModule directives in the resulting httpd.conf:
One for mod_http2 and one for mod_h2.

Regards

Rdiger

> 
>> Am 25.09.2015 um 10:54 schrieb rpluem@apache.org:
>>
>> Author: rpluem
>> Date: Fri Sep 25 08:54:38 2015
>> New Revision: 1705257
>>
>> URL: http://svn.apache.org/viewvc?rev=1705257&view=rev
>> Log:
>> * Disable the http2 modules if nghttp2 is not present
>>
>> Modified:
>>    httpd/httpd/trunk/modules/http2/config.m4
>>
>> Modified: httpd/httpd/trunk/modules/http2/config.m4
>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/http2/config.m4?rev=1705257&r1=1705256&r2=1705257&view=diff
>> ==============================================================================
>> --- httpd/httpd/trunk/modules/http2/config.m4 (original)
>> +++ httpd/httpd/trunk/modules/http2/config.m4 Fri Sep 25 08:54:38 2015
>> @@ -181,7 +181,7 @@ is usually linked shared and requires lo
>>            APR_ADDTO(MOD_H2_LDADD, [-export-symbols-regex h2_module])
>>         fi
>>     else
>> -        enable_h2=no
>> +        enable_http2=no
>>     fi
>> ])
>> APACHE_MODULE(h2, [HTTP/2 support (Deprecated. Use --enable-http2)], $h2_objs, , most, [
>>
>>
> 
> 

From dev-return-83912-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 09:31:52 2015
Return-Path: <dev-return-83912-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A5902186AC
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 09:31:52 +0000 (UTC)
Received: (qmail 64591 invoked by uid 500); 25 Sep 2015 09:31:52 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 64523 invoked by uid 500); 25 Sep 2015 09:31:52 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 64513 invoked by uid 99); 25 Sep 2015 09:31:52 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 09:31:52 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id A20E4C25DA
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 09:31:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0
X-Spam-Level:
X-Spam-Status: No, score=0 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id KbWTENGtdnYY for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 09:31:50 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id CC5BC202AB
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 09:31:49 +0000 (UTC)
Received: from [192.168.178.41] (unknown [84.189.94.182])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 5646F15A043B
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 11:31:43 +0200 (CEST)
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <5605127F.7000403@apache.org>
Date: Fri, 25 Sep 2015 11:31:42 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org> <1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org> <5605127F.7000403@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

Ah, understood. Thanks!

But would it then not make more sense to have both --enable-* do:

> APACHE_MODULE(h2,

since there is no modules named "http2"?

> Am 25.09.2015 um 11:23 schrieb Ruediger Pluem <rpluem@apache.org>:
>=20
>=20
>=20
> On 09/25/2015 10:58 AM, Stefan Eissing wrote:
>> Me not fully understand. Why at all and why only there? (curiousity)
>=20
> Because it tries to build mod_h2 even if nghttp2 is not present.
>=20
> Because
>=20
> APACHE_MODULE(http2,
>=20
> and
>=20
> APACHE_MODULE(h2,
>=20
> effectively setup two distinct modules with the same object files =
(h2_objs)
>=20
> and if you do not set enable_http2 / enable_h2 to no the objects will =
be build even if not explicitly asked for because
> they belong to most and I configure with --enable-mods-shared=3Dall.
>=20
> This worked fine before we had this 2 name approach. It will be =
interesting to see what it does if nghttp2 is present
> as it likely tries to build and enable mod_http2 and mod_h2. I guess =
building will work due to the fact that it just
> compiles h2_objs twice, but I guess we will have two LoadModule =
directives in the resulting httpd.conf:
> One for mod_http2 and one for mod_h2.
>=20
> Regards
>=20
> R=FCdiger
>=20
>>=20
>>> Am 25.09.2015 um 10:54 schrieb rpluem@apache.org:
>>>=20
>>> Author: rpluem
>>> Date: Fri Sep 25 08:54:38 2015
>>> New Revision: 1705257
>>>=20
>>> URL: http://svn.apache.org/viewvc?rev=3D1705257&view=3Drev
>>> Log:
>>> * Disable the http2 modules if nghttp2 is not present
>>>=20
>>> Modified:
>>>   httpd/httpd/trunk/modules/http2/config.m4
>>>=20
>>> Modified: httpd/httpd/trunk/modules/http2/config.m4
>>> URL: =
http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/http2/config.m4?rev=
=3D1705257&r1=3D1705256&r2=3D1705257&view=3Ddiff
>>> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
>>> --- httpd/httpd/trunk/modules/http2/config.m4 (original)
>>> +++ httpd/httpd/trunk/modules/http2/config.m4 Fri Sep 25 08:54:38 =
2015
>>> @@ -181,7 +181,7 @@ is usually linked shared and requires lo
>>>           APR_ADDTO(MOD_H2_LDADD, [-export-symbols-regex h2_module])
>>>        fi
>>>    else
>>> -        enable_h2=3Dno
>>> +        enable_http2=3Dno
>>>    fi
>>> ])
>>> APACHE_MODULE(h2, [HTTP/2 support (Deprecated. Use --enable-http2)], =
$h2_objs, , most, [
>>>=20
>>>=20
>>=20
>>=20

<green/>bytes GmbH
Hafenweg 16, 48155 M=FCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=FCnster: HRB5782




From dev-return-83913-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 09:41:09 2015
Return-Path: <dev-return-83913-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 07B84186FA
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 09:41:09 +0000 (UTC)
Received: (qmail 85421 invoked by uid 500); 25 Sep 2015 09:41:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 85356 invoked by uid 500); 25 Sep 2015 09:41:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 85345 invoked by uid 99); 25 Sep 2015 09:41:08 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 09:41:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id B986BC0E3D
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 09:41:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id EgfbpCtnyWeP for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 09:40:59 +0000 (UTC)
Received: from mail-qg0-f51.google.com (mail-qg0-f51.google.com [209.85.192.51])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 526EF20313
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 09:40:58 +0000 (UTC)
Received: by qgez77 with SMTP id z77so65106070qge.1
        for <dev@httpd.apache.org>; Fri, 25 Sep 2015 02:40:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=JUCUf+gjE+4j22uyUDR8NPIm+tuAW2qPC30pPnVNG5I=;
        b=Ttl7hSU5D4KSakCA7uOAwbQPpIhU3rX8dk/4VrXtvR0yfulOLmdJjM42wL+DJ9slXg
         qYAD62bwBgA8mYNeDwFJmgGMNSzZ8q9maqDFrkgMgLqyFtcLOsHxRmHp+Yc6TJo+g2pt
         iy8X97/8Hql4V9sktQ9L2NeFr1fE7jKK2vVjetBaICzXRpiZBqqh8WzrdRzgcsJddWLt
         hLkWxx9/dvwEsx0TDIlJVvT4LczQQwIHAAzkm1qm57AUE01aCLq72F2hvtefntS+HiEf
         dbv7q6kZXfEvx+6nh7cZpaTZdr9khc799wgzyxoasoY0pwlppznysq+98zWy6332oc77
         63Ug==
MIME-Version: 1.0
X-Received: by 10.140.236.203 with SMTP id h194mr4742655qhc.73.1443174057452;
 Fri, 25 Sep 2015 02:40:57 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Fri, 25 Sep 2015 02:40:57 -0700 (PDT)
In-Reply-To: <DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org>
	<1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org>
	<5605127F.7000403@apache.org>
	<DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de>
Date: Fri, 25 Sep 2015 11:40:57 +0200
Message-ID: <CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com>
Subject: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 25, 2015 at 11:31 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
>
>> APACHE_MODULE(h2,
>
> since there is no modules named "http2"?

--enable-http2=x sets enable_http2=x, so we force enable_http2=no if
--enable-http2 isn't used, like we force enable_h2=no wrt enable-h2.

Btw, whatever --enable-h[ttp]2 is used at configure time, we will
always need "LoadModule h2_module modules/mod_h2.so".
IMHO we'd better choose one name or the other...

From dev-return-83914-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 09:58:58 2015
Return-Path: <dev-return-83914-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8D64718788
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 09:58:58 +0000 (UTC)
Received: (qmail 16697 invoked by uid 500); 25 Sep 2015 09:58:58 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 16624 invoked by uid 500); 25 Sep 2015 09:58:58 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 16614 invoked by uid 99); 25 Sep 2015 09:58:58 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 09:58:58 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id AEC74C276B
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 09:58:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id fV_jvRyCl5ku for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 09:58:48 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 1C8D9439B3
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 09:58:48 +0000 (UTC)
Received: from [192.168.178.41] (unknown [84.189.94.182])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 9E6AC15A0046
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 11:58:41 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com>
Date: Fri, 25 Sep 2015 11:58:40 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org> <1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org> <5605127F.7000403@apache.org> <DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de> <CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)


> Am 25.09.2015 um 11:40 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Fri, Sep 25, 2015 at 11:31 AM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>>=20
>>> APACHE_MODULE(h2,
>>=20
>> since there is no modules named "http2"?
>=20
> --enable-http2=3Dx sets enable_http2=3Dx, so we force enable_http2=3Dno =
if
> --enable-http2 isn't used, like we force enable_h2=3Dno wrt enable-h2.
>=20
> Btw, whatever --enable-h[ttp]2 is used at configure time, we will
> always need "LoadModule h2_module modules/mod_h2.so".
> IMHO we'd better choose one name or the other...

I see. And rename the configuration options and documentation, while we =
are at it...

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83915-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 10:32:14 2015
Return-Path: <dev-return-83915-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 36A361881D
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 10:32:14 +0000 (UTC)
Received: (qmail 62177 invoked by uid 500); 25 Sep 2015 10:32:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 62105 invoked by uid 500); 25 Sep 2015 10:32:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 62095 invoked by uid 99); 25 Sep 2015 10:32:13 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 10:32:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 479911A0A10
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 10:32:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id tKIcoHjW_yDI for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 10:32:03 +0000 (UTC)
Received: from mail-qk0-f171.google.com (mail-qk0-f171.google.com [209.85.220.171])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id DBB1842B30
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 10:32:02 +0000 (UTC)
Received: by qkap81 with SMTP id p81so40351092qka.2
        for <dev@httpd.apache.org>; Fri, 25 Sep 2015 03:32:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=DxJTFzu1ume3eRwGBMn0857jdt9RjsyDLDs1Xbt2Dy8=;
        b=IePABzVWRkOVyjKTF1UnhvqvinIHY9zOF2GHnEL6JtbiprN7ykZvRmk1ivtn83J+dx
         1HcpnW9yOC62cVJ+RSJbTUEH4SiXy2ougK/V/CcsNkTHK5jK5OupLgPyDYMhYSMTbSm9
         y4U4yP6j2rlefkxdtYeXMf0NS/qUeVJE9CRP0xzv2wPNRtjOIvXNP6HIT8SQmMKh/FVb
         XEgF26F5X0NUTAeAZixdbQf7WBI7qIRTd5cxNK3+kK44ozVg3ndYAtcjXhcXaoVxZ3ev
         Puex50UR7pWpBMofu127pQStXPNqH8s4ASQU9azqIlJPbm00WGWEdY5cCI8rkigcqLKp
         +n6g==
MIME-Version: 1.0
X-Received: by 10.55.22.143 with SMTP id 15mr5074826qkw.38.1443177122550; Fri,
 25 Sep 2015 03:32:02 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Fri, 25 Sep 2015 03:32:02 -0700 (PDT)
In-Reply-To: <2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org>
	<1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org>
	<5605127F.7000403@apache.org>
	<DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de>
	<CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com>
	<2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de>
Date: Fri, 25 Sep 2015 12:32:02 +0200
Message-ID: <CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com>
Subject: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 25, 2015 at 11:58 AM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
>
>> Am 25.09.2015 um 11:40 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>
>> On Fri, Sep 25, 2015 at 11:31 AM, Stefan Eissing
>> <stefan.eissing@greenbytes.de> wrote:
>>>
>>>> APACHE_MODULE(h2,
>>>
>>> since there is no modules named "http2"?
>>
>> --enable-http2=x sets enable_http2=x, so we force enable_http2=no if
>> --enable-http2 isn't used, like we force enable_h2=no wrt enable-h2.
>>
>> Btw, whatever --enable-h[ttp]2 is used at configure time, we will
>> always need "LoadModule h2_module modules/mod_h2.so".
>> IMHO we'd better choose one name or the other...
>
> I see. And rename the configuration options and documentation, while we are at it...

Note that I'm *not* against the name being h2!

From dev-return-83916-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 10:41:56 2015
Return-Path: <dev-return-83916-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7994E18841
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 10:41:56 +0000 (UTC)
Received: (qmail 74267 invoked by uid 500); 25 Sep 2015 10:41:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 74180 invoked by uid 500); 25 Sep 2015 10:41:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 74170 invoked by uid 99); 25 Sep 2015 10:41:55 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 10:41:55 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 9510CC24E1
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 10:41:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id P2ST-SPmRnu8 for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 10:41:51 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 5EA7420468
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 10:41:51 +0000 (UTC)
Received: from [192.168.178.41] (unknown [84.189.94.182])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 7A6FD15A030F
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 12:41:49 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com>
Date: Fri, 25 Sep 2015 12:41:48 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org> <1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org> <5605127F.7000403@apache.org> <DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de> <CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com> <2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de> <CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)


> Am 25.09.2015 um 12:32 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>=20
> On Fri, Sep 25, 2015 at 11:58 AM, Stefan Eissing
> <stefan.eissing@greenbytes.de> wrote:
>>=20
>> I see. And rename the configuration options and documentation, while =
we are at it...
>=20
> Note that I'm *not* against the name being h2!

Yann, I know. And I do not want to say that "http2" is a wrong name. Or =
that I could not live with it. However, I increasingly feel that such =
notions as adding a "--enabled-http2" for making it look nicer, is not =
properly addressing the issue:

- Modules are configured with --enable-<modname>
- Modules are loaded with LoadModule <modname>_module =
modules/mod_<modname>.so"
- Modules documentation are found in docs/manual/mod/mod_<modname>.html
- Config directives are by default <modname, camelcase>*
- test cases, etc. ...

So, either someone has the time to do all this, or I propose we leave it =
as is and remove the "--enable-http2" again.

Cheers,

  Stefan

Again, if the PMC feels the need to do this and someone can do this in a =
timely manner, I will not stand against it.

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83917-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 10:47:28 2015
Return-Path: <dev-return-83917-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E01861887E
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 10:47:28 +0000 (UTC)
Received: (qmail 88934 invoked by uid 500); 25 Sep 2015 10:47:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 88874 invoked by uid 500); 25 Sep 2015 10:47:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 88864 invoked by uid 99); 25 Sep 2015 10:47:28 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 10:47:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id EE3CCC2860
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 10:47:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.779
X-Spam-Level:
X-Spam-Status: No, score=0.779 tagged_above=-999 required=6.31
	tests=[KAM_ASCII_DIVIDERS=0.8, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, RP_MATCHES_RCVD=0.001, SPF_HELO_PASS=-0.001,
	SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id FxYACwxyX8Hw for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 10:47:27 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id C31C3439CB
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 10:47:26 +0000 (UTC)
Received: from int-mx13.intmail.prod.int.phx2.redhat.com (int-mx13.intmail.prod.int.phx2.redhat.com [10.5.11.26])
	by mx1.redhat.com (Postfix) with ESMTPS id 0E5742F813E
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 10:47:26 +0000 (UTC)
Received: from iberis (ovpn-113-90.phx2.redhat.com [10.3.113.90])
	by int-mx13.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t8PAlOaw016082
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=NO)
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 06:47:25 -0400
Received: from jorton by iberis with local (Exim 4.85)
	(envelope-from <jorton@redhat.com>)
	id 1ZfQXE-0002tZ-9p
	for dev@httpd.apache.org; Fri, 25 Sep 2015 11:47:24 +0100
Date: Fri, 25 Sep 2015 11:47:24 +0100
From: Joe Orton <jorton@redhat.com>
To: dev@httpd.apache.org
Subject: Re: logio problem with SSL
Message-ID: <20150925104724.GA28295@redhat.com>
Mail-Followup-To: dev@httpd.apache.org
References: <CALK=YjMaEvJgyQyPSOcdpP-hEwitR+O2JEs36gLd+YXipwsr7Q@mail.gmail.com>
 <CAKQ1sVPErPK_XeChmOTmvKPEdR4kd3QYxgQSL5UzF0HVEetkzw@mail.gmail.com>
 <CAKQ1sVNFi1fmrGoA1QkFmWF1AH4xFMnQCr9=aR-cer2QgM_9GA@mail.gmail.com>
 <CALK=YjO9UzwFaY5tGGy=tv1TLHgzYgY2RO06hQtBfWd3ow9hKA@mail.gmail.com>
 <CALK=YjM1VwAJC9SDEdwOjrvXx99KH5+BW8MeRE=KisY=uRLGHw@mail.gmail.com>
 <CALK=YjOyZZDATkV5rAVof0Ab6MCyVsnSQaLBRrGYQ0uDtOq2tQ@mail.gmail.com>
 <CAKQ1sVOYWfQKy_7xeMQu5b4oF_K5gTFk-MVhyWfZFxwtJWNKow@mail.gmail.com>
 <CALK=YjPGOqHRfB1w+1iTMsxDwRzbnkrcLJppmLekmzWNTnDP8A@mail.gmail.com>
 <CAKQ1sVP8Bm0ObDS3SSvchWecZY+vOOZvk-CLdO6KE-hy9s5o1A@mail.gmail.com>
 <CAKQ1sVMNHJ07J1ufmb10SXYR__xRLMgNDpq7wtuOA5sKwo-o9Q@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Disposition: inline
In-Reply-To: <CAKQ1sVMNHJ07J1ufmb10SXYR__xRLMgNDpq7wtuOA5sKwo-o9Q@mail.gmail.com>
User-Agent: Mutt/1.5.23 (2014-03-12)
Organization: Registered in England and Wales under Company Registration No. 03798903
Directors: Michael Cunningham (US), Michael O'Neill (Ireland), Matt Parson (US), Charles Peters (US)
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.26

On Fri, Sep 25, 2015 at 09:50:04AM +0200, Yann Ylavic wrote:
> On Fri, Sep 25, 2015 at 1:00 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> > On Fri, Sep 25, 2015 at 12:22 AM, Eric Covener <covener@gmail.com> wrote:
> >>
> >> two logs (http/https) sorted to top of autoindex here:
> >> http://people.apache.org/~covener/
> >
> > Looks like mod_ssl should also forward EOR buckets.
> >
> > Does this work:
> > Index: modules/ssl/ssl_engine_io.c
> > ===================================================================
> > --- modules/ssl/ssl_engine_io.c    (revision 1705160)
> > +++ modules/ssl/ssl_engine_io.c    (working copy)
> > @@ -1707,12 +1707,12 @@ static apr_status_t ssl_io_filter_output(ap_filter
> 
> I committed this one in r1705194, and also the one preventing the
> FLUSH for non-blocking bio_filter_in_read() in r1705236.
> You may not want to apply the latter, for your testing path to be
> consistent with what you had so far...

The behaviour of that loop is quite bad, it will treat a single brigade 
like <EOS EOC> differently to two separate brigades <EOS> <EOC>, 
although that should never happen in practice... currently.

I'm not sure what the "correct" behaviour of connection-level filters 
should be with metadata buckets.  I could argue they should delete 
everything they don't understand.  mod_ssl should not care at all about 
EOS or EOR.

But dodging that issue... simplifying the loop like this, does that 
still work for the logio issue?

Index: modules/ssl/ssl_engine_io.c
===================================================================
--- modules/ssl/ssl_engine_io.c	(revision 1705264)
+++ modules/ssl/ssl_engine_io.c	(working copy)
@@ -1704,48 +1704,31 @@
         return ssl_io_filter_error(f, bb, status);
     }
 
-    while (!APR_BRIGADE_EMPTY(bb)) {
+    while (!APR_BRIGADE_EMPTY(bb) && status == APR_SUCCESS) {
         apr_bucket *bucket = APR_BRIGADE_FIRST(bb);
 
-        /* If it is a flush or EOS/EOR, we need to pass this down.
-         * These types do not require translation by OpenSSL.
-         */
-        if (APR_BUCKET_IS_EOS(bucket) || AP_BUCKET_IS_EOR(bucket)) {
-            /*
-             * By definition, nothing can come after EOS/EOR.
-             * which also means we can pass the rest of this brigade
-             * without creating a new one since it only contains the
-             * EOS/EOR bucket.
-             */
-
-            if ((status = ap_pass_brigade(f->next, bb)) != APR_SUCCESS) {
-                return status;
+        if (APR_BUCKET_IS_METADATA(bucket)) {
+            /* Pass through metadata buckets untouched.  EOC is
+             * special; terminate the SSL layer first. */
+            if (AP_BUCKET_IS_EOC(bucket)) {
+                ssl_filter_io_shutdown(filter_ctx, f->c, 0);
             }
-            break;
-        }
-        else if (APR_BUCKET_IS_FLUSH(bucket)) {
 
-            if (bio_filter_out_flush(filter_ctx->pbioWrite) < 0) {
-                status = outctx->rc;
-                break;
-            }
+            AP_DEBUG_ASSERT(APR_BRIGADE_EMPTY(outctx->bb));
 
-            /* bio_filter_out_flush() already passed down a flush bucket
-             * if there was any data to be flushed.
-             */
-            apr_bucket_delete(bucket);
+            /* Metadata buckets are passed one per brigade; it might
+             * be more efficient (but also more complex) to use
+             * outctx->bb as a true buffer and interleave these with
+             * data buckets. */
+            APR_BUCKET_REMOVE(bucket);
+            APR_BRIGADE_INSERT_HEAD(outctx->bb, bucket);
+            status = ap_pass_brigade(f->next, outctx->bb);
+            if (status == APR_SUCCESS && f->c->aborted)
+                status = APR_ECONNRESET;
+            apr_brigade_cleanup(outctx->bb);
         }
-        else if (AP_BUCKET_IS_EOC(bucket)) {
-            /* The EOC bucket indicates connection closure, so SSL
-             * shutdown must now be performed.  */
-            ssl_filter_io_shutdown(filter_ctx, f->c, 0);
-            if ((status = ap_pass_brigade(f->next, bb)) != APR_SUCCESS) {
-                return status;
-            }
-            break;
-        }
         else {
-            /* filter output */
+            /* Filter a data bucket. */
             const char *data;
             apr_size_t len;
 
@@ -1758,7 +1741,9 @@
                     break;
                 }
                 rblock = APR_BLOCK_READ;
-                continue; /* and try again with a blocking read. */
+                /* and try again with a blocking read. */                
+                status = APR_SUCCESS;
+                continue; 
             }
 
             rblock = APR_NONBLOCK_READ;
@@ -1769,11 +1754,8 @@
 
             status = ssl_filter_write(f, data, len);
             apr_bucket_delete(bucket);
+        }
 
-            if (status != APR_SUCCESS) {
-                break;
-            }
-        }
     }
 
     return status;

From dev-return-83918-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 11:07:43 2015
Return-Path: <dev-return-83918-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 82C60188F5
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 11:07:43 +0000 (UTC)
Received: (qmail 19261 invoked by uid 500); 25 Sep 2015 11:07:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 19199 invoked by uid 500); 25 Sep 2015 11:07:42 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 19189 invoked by uid 99); 25 Sep 2015 11:07:42 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 11:07:42 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5288E1A0A67
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 11:07:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id wVKYgkUx0Jwq for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 11:07:35 +0000 (UTC)
Received: from mail-qk0-f175.google.com (mail-qk0-f175.google.com [209.85.220.175])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id C5EED20313
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 11:07:34 +0000 (UTC)
Received: by qkdw123 with SMTP id w123so40447791qkd.0
        for <dev@httpd.apache.org>; Fri, 25 Sep 2015 04:07:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=rVquWLBPkxJc/s/39tyErhWYqJulHlHI+XARTfjKnlI=;
        b=ZTWZI/CKKvRQtyVcTINTSUg4iqydmyCpFYtNI+IPUjQrDyKQyYxw3uy0J/a/B7RlrG
         +zEeWCLql498kzcsEau3/MB67hD1gn3iA2H4QYxtUZcv7ZKUkkY8YaZMDZAvgngQb0nB
         WD27X1Age6MkmNUpINvC8YUeFrC5ad1B+xLUHHAkeb4XxkkTal99AUkFSppWyGCPtGrV
         4dPoq+UrsVUHZAmbjSr3mvMb+Ro2US/ymvRxqB72qBCILWastrCJcEpnPcN47ezyjY/f
         caWcQnyN8ssAP/oD9xLA6faufEKMOUr4vMmbGOCFReJyVG/Ebyq46qHVlSDXMMSrS+wC
         m1TA==
MIME-Version: 1.0
X-Received: by 10.55.22.143 with SMTP id 15mr5238589qkw.38.1443179253778; Fri,
 25 Sep 2015 04:07:33 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Fri, 25 Sep 2015 04:07:33 -0700 (PDT)
In-Reply-To: <9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org>
	<1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org>
	<5605127F.7000403@apache.org>
	<DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de>
	<CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com>
	<2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de>
	<CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com>
	<9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de>
Date: Fri, 25 Sep 2015 13:07:33 +0200
Message-ID: <CAKQ1sVN+f7xQ5HAV_HRuBbGMS4C+OHgqxNf-W22OC7Z8aVzFdQ@mail.gmail.com>
Subject: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 25, 2015 at 12:41 PM, Stefan Eissing
<stefan.eissing@greenbytes.de> wrote:
>
>> Am 25.09.2015 um 12:32 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>
>> On Fri, Sep 25, 2015 at 11:58 AM, Stefan Eissing
>> <stefan.eissing@greenbytes.de> wrote:
>>>
>>> I see. And rename the configuration options and documentation, while we are at it...
>>
>> Note that I'm *not* against the name being h2!
>
> Yann, I know. And I do not want to say that "http2" is a wrong name. Or that I could not live with it. However, I increasingly feel that such notions as adding a "--enabled-http2" for making it look nicer, is not properly addressing the issue:

I won't argue here, you are totally right.
I didn't mean to be punctilious about the name, but thought naively
(at the time) that "--enable-http2" magic would have pleased every
one...
That rather proves to complicate things :/

>
> - Modules are configured with --enable-<modname>
> - Modules are loaded with LoadModule <modname>_module modules/mod_<modname>.so"
> - Modules documentation are found in docs/manual/mod/mod_<modname>.html
> - Config directives are by default <modname, camelcase>*
> - test cases, etc. ...
>
> So, either someone has the time to do all this, or I propose we leave it as is and remove the "--enable-http2" again.

+1 for the latter (still), and sorry for the troubles.

From dev-return-83919-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 11:07:56 2015
Return-Path: <dev-return-83919-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D58F6188FA
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 11:07:56 +0000 (UTC)
Received: (qmail 20378 invoked by uid 500); 25 Sep 2015 11:07:56 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 20309 invoked by uid 500); 25 Sep 2015 11:07:56 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 20299 invoked by uid 99); 25 Sep 2015 11:07:56 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 11:07:56 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id E01BF1A0A67
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 11:07:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.999
X-Spam-Level:
X-Spam-Status: No, score=0.999 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, SPF_HELO_PASS=-0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id aAxKtyeubBzm for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 11:07:45 +0000 (UTC)
Received: from mail1.bemta5.messagelabs.com (mail1.bemta5.messagelabs.com [195.245.231.153])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 2A41520FD1
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 11:07:44 +0000 (UTC)
Received: from [85.158.136.83] by server-17.bemta-5.messagelabs.com id 45/60-02380-9FA25065; Fri, 25 Sep 2015 11:07:37 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-2.tower-36.messagelabs.com!1443179256!25377961!1
X-Originating-IP: [195.232.244.136]
X-StarScan-Received:
X-StarScan-Version: 6.13.16; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 673 invoked from network); 25 Sep 2015 11:07:37 -0000
Received: from mailout04.vodafone.com (HELO mailout04.vodafone.com) (195.232.244.136)
  by server-2.tower-36.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 25 Sep 2015 11:07:37 -0000
Received: from mailint02.vodafone.com (mailint02.vodafone.com [195.232.244.199])
	by mailout04.vodafone.com (Postfix) with ESMTP id 3nMr7D6JV3znTYZ
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 13:07:36 +0200 (CEST)
Received: from mailint02.vodafone.com (localhost [127.0.0.1])
	by mailint02.vodafone.com (Postfix) with ESMTP id 3nMr7D4x3lzQsm7
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 13:07:36 +0200 (CEST)
Received: from VOEXC06W.internal.vodafone.com (voexc06w.dc-ratingen.de [145.230.101.26])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint02.vodafone.com (Postfix) with ESMTPS id 3nMr7D4shZzQsm1
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 13:07:36 +0200 (CEST)
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.132]) by
 VOEXC06W.internal.vodafone.com ([192.168.89.204]) with mapi id
 14.03.0224.002; Fri, 25 Sep 2015 13:07:36 +0200
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: AW: logio problem with SSL
Thread-Topic: logio problem with SSL
Thread-Index: AQHQ9tnPBaJnfxKI8E+XA58H+bfyQ55LpfiAgAACKgCAAAUxgIAAA6eAgAABlYCAAAD+AIAAAIMAgAAQ04CAAAIHAIAADNAAgAAExwCAACW9AIAADjkAgAATPQCAAArIgIAAk90AgAAxjACAACSLQA==
Date: Fri, 25 Sep 2015 11:07:36 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC631F3D2@VOEXM10W.internal.vodafone.com>
References: <CALK=YjMaEvJgyQyPSOcdpP-hEwitR+O2JEs36gLd+YXipwsr7Q@mail.gmail.com>
 <CAKQ1sVPErPK_XeChmOTmvKPEdR4kd3QYxgQSL5UzF0HVEetkzw@mail.gmail.com>
 <CAKQ1sVNFi1fmrGoA1QkFmWF1AH4xFMnQCr9=aR-cer2QgM_9GA@mail.gmail.com>
 <CALK=YjO9UzwFaY5tGGy=tv1TLHgzYgY2RO06hQtBfWd3ow9hKA@mail.gmail.com>
 <CALK=YjM1VwAJC9SDEdwOjrvXx99KH5+BW8MeRE=KisY=uRLGHw@mail.gmail.com>
 <CALK=YjOyZZDATkV5rAVof0Ab6MCyVsnSQaLBRrGYQ0uDtOq2tQ@mail.gmail.com>
 <CAKQ1sVOYWfQKy_7xeMQu5b4oF_K5gTFk-MVhyWfZFxwtJWNKow@mail.gmail.com>
 <CALK=YjPGOqHRfB1w+1iTMsxDwRzbnkrcLJppmLekmzWNTnDP8A@mail.gmail.com>
 <CAKQ1sVP8Bm0ObDS3SSvchWecZY+vOOZvk-CLdO6KE-hy9s5o1A@mail.gmail.com>
 <CAKQ1sVMNHJ07J1ufmb10SXYR__xRLMgNDpq7wtuOA5sKwo-o9Q@mail.gmail.com>
 <20150925104724.GA28295@redhat.com>
In-Reply-To: <20150925104724.GA28295@redhat.com>
Accept-Language: en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

DQoNCj4gLS0tLS1VcnNwcsO8bmdsaWNoZSBOYWNocmljaHQtLS0tLQ0KPiBWb246IEpvZSBPcnRv
biBbbWFpbHRvOmpvcnRvbkByZWRoYXQuY29tXQ0KPiBHZXNlbmRldDogRnJlaXRhZywgMjUuIFNl
cHRlbWJlciAyMDE1IDEyOjQ3DQo+IEFuOiBkZXZAaHR0cGQuYXBhY2hlLm9yZw0KPiBCZXRyZWZm
OiBSZTogbG9naW8gcHJvYmxlbSB3aXRoIFNTTA0KPiANCj4gT24gRnJpLCBTZXAgMjUsIDIwMTUg
YXQgMDk6NTA6MDRBTSArMDIwMCwgWWFubiBZbGF2aWMgd3JvdGU6DQo+ID4gT24gRnJpLCBTZXAg
MjUsIDIwMTUgYXQgMTowMCBBTSwgWWFubiBZbGF2aWMgPHlsYXZpYy5kZXZAZ21haWwuY29tPg0K
PiB3cm90ZToNCj4gPiA+IE9uIEZyaSwgU2VwIDI1LCAyMDE1IGF0IDEyOjIyIEFNLCBFcmljIENv
dmVuZXIgPGNvdmVuZXJAZ21haWwuY29tPg0KPiB3cm90ZToNCj4gPiA+Pg0KPiA+ID4+IHR3byBs
b2dzIChodHRwL2h0dHBzKSBzb3J0ZWQgdG8gdG9wIG9mIGF1dG9pbmRleCBoZXJlOg0KPiA+ID4+
IGh0dHA6Ly9wZW9wbGUuYXBhY2hlLm9yZy9+Y292ZW5lci8NCj4gPiA+DQo+ID4gPiBMb29rcyBs
aWtlIG1vZF9zc2wgc2hvdWxkIGFsc28gZm9yd2FyZCBFT1IgYnVja2V0cy4NCj4gPiA+DQo+ID4g
PiBEb2VzIHRoaXMgd29yazoNCj4gPiA+IEluZGV4OiBtb2R1bGVzL3NzbC9zc2xfZW5naW5lX2lv
LmMNCj4gPiA+ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT0NCj4gPiA+IC0tLSBtb2R1bGVzL3NzbC9zc2xfZW5naW5lX2lv
LmMgICAgKHJldmlzaW9uIDE3MDUxNjApDQo+ID4gPiArKysgbW9kdWxlcy9zc2wvc3NsX2VuZ2lu
ZV9pby5jICAgICh3b3JraW5nIGNvcHkpDQo+ID4gPiBAQCAtMTcwNywxMiArMTcwNywxMiBAQCBz
dGF0aWMgYXByX3N0YXR1c190DQo+IHNzbF9pb19maWx0ZXJfb3V0cHV0KGFwX2ZpbHRlcg0KPiA+
DQo+ID4gSSBjb21taXR0ZWQgdGhpcyBvbmUgaW4gcjE3MDUxOTQsIGFuZCBhbHNvIHRoZSBvbmUg
cHJldmVudGluZyB0aGUNCj4gPiBGTFVTSCBmb3Igbm9uLWJsb2NraW5nIGJpb19maWx0ZXJfaW5f
cmVhZCgpIGluIHIxNzA1MjM2Lg0KPiA+IFlvdSBtYXkgbm90IHdhbnQgdG8gYXBwbHkgdGhlIGxh
dHRlciwgZm9yIHlvdXIgdGVzdGluZyBwYXRoIHRvIGJlDQo+ID4gY29uc2lzdGVudCB3aXRoIHdo
YXQgeW91IGhhZCBzbyBmYXIuLi4NCj4gDQo+IFRoZSBiZWhhdmlvdXIgb2YgdGhhdCBsb29wIGlz
IHF1aXRlIGJhZCwgaXQgd2lsbCB0cmVhdCBhIHNpbmdsZSBicmlnYWRlDQo+IGxpa2UgPEVPUyBF
T0M+IGRpZmZlcmVudGx5IHRvIHR3byBzZXBhcmF0ZSBicmlnYWRlcyA8RU9TPiA8RU9DPiwNCj4g
YWx0aG91Z2ggdGhhdCBzaG91bGQgbmV2ZXIgaGFwcGVuIGluIHByYWN0aWNlLi4uIGN1cnJlbnRs
eS4NCj4gDQo+IEknbSBub3Qgc3VyZSB3aGF0IHRoZSAiY29ycmVjdCIgYmVoYXZpb3VyIG9mIGNv
bm5lY3Rpb24tbGV2ZWwgZmlsdGVycw0KPiBzaG91bGQgYmUgd2l0aCBtZXRhZGF0YSBidWNrZXRz
LiAgSSBjb3VsZCBhcmd1ZSB0aGV5IHNob3VsZCBkZWxldGUNCj4gZXZlcnl0aGluZyB0aGV5IGRv
bid0IHVuZGVyc3RhbmQuICBtb2Rfc3NsIHNob3VsZCBub3QgY2FyZSBhdCBhbGwgYWJvdXQNCj4g
RU9TIG9yIEVPUi4NCj4gDQo+IEJ1dCBkb2RnaW5nIHRoYXQgaXNzdWUuLi4gc2ltcGxpZnlpbmcg
dGhlIGxvb3AgbGlrZSB0aGlzLCBkb2VzIHRoYXQNCj4gc3RpbGwgd29yayBmb3IgdGhlIGxvZ2lv
IGlzc3VlPw0KDQpIYXZlbid0IGxvb2tlZCBhdCB0aGUgbG9naW8gaXNzdWUsIGJ1dCB0aGlzIG1h
a2VzIHNlbnNlLiArMS4gVGhlIHByZXZpb3VzIGRpZmZlcmVudCBoYW5kbGluZw0Kb2YgdGhlIGJ1
Y2tldHMgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhleSBhcmUgc3BsaXQgYWNyb3NzIHR3byBicmln
YWRlcyBvciBqdXN0IGluIG9uZSBzZWVtcyB3cm9uZy4NCg0KUmVnYXJkcw0KDQpSw7xkaWdlcg0K
DQo=

From dev-return-83920-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 11:10:09 2015
Return-Path: <dev-return-83920-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 43B6418919
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 11:10:09 +0000 (UTC)
Received: (qmail 25931 invoked by uid 500); 25 Sep 2015 11:10:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 25868 invoked by uid 500); 25 Sep 2015 11:10:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 25857 invoked by uid 99); 25 Sep 2015 11:10:08 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 11:10:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 3E99CC282C
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 11:10:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 7Yb3nzocODRz for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 11:10:07 +0000 (UTC)
Received: from mail-qk0-f176.google.com (mail-qk0-f176.google.com [209.85.220.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 1BBA620F9F
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 11:10:07 +0000 (UTC)
Received: by qkap81 with SMTP id p81so40626903qka.2
        for <dev@httpd.apache.org>; Fri, 25 Sep 2015 04:10:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=33gXH3lOp7+ogF4bK84nx/NZUMyQlJl5nSvTtinDE54=;
        b=PY6WrBhFCMuwlOtjieE/Oicfsxbojm6bha2deb9Om0GVPDp4/l7iPGMtv5QvI0+oNG
         SnRDGpsvY5WYHgQ6H7U2v0FSEGtalMBpNqsGoSKYAMw7VVDMaKWn3Y8W/HFselDOpmSH
         jEMQ4NtAE798e92fUXpm3VzhoLI8uKpwMj9divl5oMVx4EU6AvMDGkMaLV1uO+Bo2C2Y
         Igo3kD6uR7O7vU4ZT+JDvYFpkkImTB8eXFoh7ZZmS9vjlp1g0ebHuiNCLkKbAp1+9fzB
         KyeOTks8KihT2+0y/uaswT3pFP2TDqDpKPqh5DyV7oA98AxWP9uwO+kyxTpx/mdHuSem
         0EWA==
MIME-Version: 1.0
X-Received: by 10.55.201.141 with SMTP id m13mr5185476qkl.68.1443179406277;
 Fri, 25 Sep 2015 04:10:06 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Fri, 25 Sep 2015 04:10:06 -0700 (PDT)
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC631F3D2@VOEXM10W.internal.vodafone.com>
References: <CALK=YjMaEvJgyQyPSOcdpP-hEwitR+O2JEs36gLd+YXipwsr7Q@mail.gmail.com>
	<CAKQ1sVPErPK_XeChmOTmvKPEdR4kd3QYxgQSL5UzF0HVEetkzw@mail.gmail.com>
	<CAKQ1sVNFi1fmrGoA1QkFmWF1AH4xFMnQCr9=aR-cer2QgM_9GA@mail.gmail.com>
	<CALK=YjO9UzwFaY5tGGy=tv1TLHgzYgY2RO06hQtBfWd3ow9hKA@mail.gmail.com>
	<CALK=YjM1VwAJC9SDEdwOjrvXx99KH5+BW8MeRE=KisY=uRLGHw@mail.gmail.com>
	<CALK=YjOyZZDATkV5rAVof0Ab6MCyVsnSQaLBRrGYQ0uDtOq2tQ@mail.gmail.com>
	<CAKQ1sVOYWfQKy_7xeMQu5b4oF_K5gTFk-MVhyWfZFxwtJWNKow@mail.gmail.com>
	<CALK=YjPGOqHRfB1w+1iTMsxDwRzbnkrcLJppmLekmzWNTnDP8A@mail.gmail.com>
	<CAKQ1sVP8Bm0ObDS3SSvchWecZY+vOOZvk-CLdO6KE-hy9s5o1A@mail.gmail.com>
	<CAKQ1sVMNHJ07J1ufmb10SXYR__xRLMgNDpq7wtuOA5sKwo-o9Q@mail.gmail.com>
	<20150925104724.GA28295@redhat.com>
	<AB1691BE05AE7F4992697F2A0835627AC631F3D2@VOEXM10W.internal.vodafone.com>
Date: Fri, 25 Sep 2015 13:10:06 +0200
Message-ID: <CAKQ1sVM8xwTJUfhc_SWUKwxf=chRvLZzO8dMnTbGHBhdHdQaRA@mail.gmail.com>
Subject: Re: logio problem with SSL
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Fri, Sep 25, 2015 at 1:07 PM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group
<ruediger.pluem@vodafone.com> wrote:
>
>> -----Urspr=C3=BCngliche Nachricht-----
>> Von: Joe Orton [mailto:jorton@redhat.com]
>> Gesendet: Freitag, 25. September 2015 12:47
>>
>> But dodging that issue... simplifying the loop like this, does that
>> still work for the logio issue?
>
> Haven't looked at the logio issue, but this makes sense. +1. The previous=
 different handling
> of the buckets depending on whether they are split across two brigades or=
 just in one seems wrong.

+1

From dev-return-83921-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 12:43:02 2015
Return-Path: <dev-return-83921-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CD75318B16
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 12:43:02 +0000 (UTC)
Received: (qmail 81575 invoked by uid 500); 25 Sep 2015 12:43:01 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 81495 invoked by uid 500); 25 Sep 2015 12:43:01 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 81485 invoked by uid 99); 25 Sep 2015 12:43:01 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 12:43:01 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 4E834C2510
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 12:43:01 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_NEUTRAL=0.652, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id idw3uRqf83_k for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 12:42:55 +0000 (UTC)
Received: from resqmta-ch2-03v.sys.comcast.net (resqmta-ch2-03v.sys.comcast.net [69.252.207.35])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 466F4206F0
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 12:42:54 +0000 (UTC)
Received: from resomta-ch2-08v.sys.comcast.net ([69.252.207.104])
	by resqmta-ch2-03v.sys.comcast.net with comcast
	id MQgu1r0072Fh1PH01QinB4; Fri, 25 Sep 2015 12:42:47 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-08v.sys.comcast.net with comcast
	id MQim1r00F2U0RYt01QimY9; Fri, 25 Sep 2015 12:42:47 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de>
Date: Fri, 25 Sep 2015 08:42:46 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <EA40A279-EB22-4B55-8B02-2D9E9EC5F929@jaguNET.com>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org> <1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org> <5605127F.7000403@apache.org> <DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de> <CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com> <2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de> <CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com> <9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1443184967;
	bh=bcSDZpkuXpD6uthGkkDqtOQjIMMW+u1yTDKXUCLdTUk=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=qQxtIfY8xG0M5e3+QCckncC+9n7FynYaTq8ME3016XbgWNCe+N3dLjK+ie8VCbXgN
	 3A+T7jSi0yx4F1Qe7DM4O6cxUkbgs4JJsEG1CiVIgRcmNdWv80/Hi/MkIagPZm4zgC
	 8mAUQmmxIWjZvj9x0A1Egz5fIX1Yv7iC7+1syhG5R2WYumUdAnKeuWApCKbvnhl8oS
	 Um0+Nwz+29wGuTEq01xWossgtlpxImnMp/YBsLa912uvd+he28gEKgiTJVfvVlUgYy
	 Ednpl8TKcxBFqpDpGGSRbOIjGKalT5C+KEAPICroX+gWZ3CEW0edcVJ0pWSWz/lgPY
	 MLGsiTM3jOkow==


> On Sep 25, 2015, at 6:41 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>=20
>=20
>> Am 25.09.2015 um 12:32 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>=20
>> On Fri, Sep 25, 2015 at 11:58 AM, Stefan Eissing
>> <stefan.eissing@greenbytes.de> wrote:
>>>=20
>>> I see. And rename the configuration options and documentation, while =
we are at it...
>>=20
>> Note that I'm *not* against the name being h2!
>=20
> Yann, I know. And I do not want to say that "http2" is a wrong name. =
Or that I could not live with it. However, I increasingly feel that such =
notions as adding a "--enabled-http2" for making it look nicer, is not =
properly addressing the issue:
>=20
> - Modules are configured with --enable-<modname>
> - Modules are loaded with LoadModule <modname>_module =
modules/mod_<modname>.so"
> - Modules documentation are found in =
docs/manual/mod/mod_<modname>.html
> - Config directives are by default <modname, camelcase>*
> - test cases, etc. ...
>=20

Well, as I said, http/1.x is itself implemented as a module,
and lives in modules/http and is enabled via --enable-http,
so, to be consistent, http2 should stay in modules/ and be enabled
via --enable-http2.=20=

From dev-return-83922-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 12:45:00 2015
Return-Path: <dev-return-83922-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B512C18B23
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 12:45:00 +0000 (UTC)
Received: (qmail 83826 invoked by uid 500); 25 Sep 2015 12:44:59 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83762 invoked by uid 500); 25 Sep 2015 12:44:59 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 83752 invoked by uid 99); 25 Sep 2015 12:44:59 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 12:44:59 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 60D4D180A2C
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 12:44:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id jJgnzA_vfcZt for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 12:44:50 +0000 (UTC)
Received: from resqmta-ch2-11v.sys.comcast.net (resqmta-ch2-11v.sys.comcast.net [69.252.207.43])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 63E4742BB4
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 12:44:50 +0000 (UTC)
Received: from resomta-ch2-12v.sys.comcast.net ([69.252.207.108])
	by resqmta-ch2-11v.sys.comcast.net with comcast
	id MQkc1r0032LrikM01Qkkx9; Fri, 25 Sep 2015 12:44:44 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-12v.sys.comcast.net with comcast
	id MQkj1r00T2U0RYt01Qkkl2; Fri, 25 Sep 2015 12:44:44 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: logio problem with SSL
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC631F3D2@VOEXM10W.internal.vodafone.com>
Date: Fri, 25 Sep 2015 08:44:43 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <60CE0089-5605-44E5-9C05-D6279F0805CC@jaguNET.com>
References: <CALK=YjMaEvJgyQyPSOcdpP-hEwitR+O2JEs36gLd+YXipwsr7Q@mail.gmail.com> <CAKQ1sVPErPK_XeChmOTmvKPEdR4kd3QYxgQSL5UzF0HVEetkzw@mail.gmail.com> <CAKQ1sVNFi1fmrGoA1QkFmWF1AH4xFMnQCr9=aR-cer2QgM_9GA@mail.gmail.com> <CALK=YjO9UzwFaY5tGGy=tv1TLHgzYgY2RO06hQtBfWd3ow9hKA@mail.gmail.com> <CALK=YjM1VwAJC9SDEdwOjrvXx99KH5+BW8MeRE=KisY=uRLGHw@mail.gmail.com> <CALK=YjOyZZDATkV5rAVof0Ab6MCyVsnSQaLBRrGYQ0uDtOq2tQ@mail.gmail.com> <CAKQ1sVOYWfQKy_7xeMQu5b4oF_K5gTFk-MVhyWfZFxwtJWNKow@mail.gmail.com> <CALK=YjPGOqHRfB1w+1iTMsxDwRzbnkrcLJppmLekmzWNTnDP8A@mail.gmail.com> <CAKQ1sVP8Bm0ObDS3SSvchWecZY+vOOZvk-CLdO6KE-hy9s5o1A@mail.gmail.com> <CAKQ1sVMNHJ07J1ufmb10SXYR__xRLMgNDpq7wtuOA5sKwo-o9Q@mail.gmail.com> <20150925104724.GA28295@redhat.com> <AB1691BE05AE7F4992697F2A0835627AC631F3D2@VOEXM10W.internal.vodafone.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1443185084;
	bh=aOoMG+xTiP7eA7JXwyiwTQ1hqKIjaPNgucxx46xASaA=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=rzSyZOMAbxgpxhq9RQZShsbYiZcAbSMEyA0bm661dsExl1+c/GyLg2XPCJmT0AiJE
	 snYF2Rx7N8PCvg5z0Kl6a8pyHFdzgH7GR/H02ojpevDZst9WzfIXJ4BZIiHACiwxkf
	 y/RKTiQg7OHyNAX9OVALr6JUOvdUqY6rdtpQ/q6HlVePbS7WoeqvPZV7EwJbEQPd/1
	 ms7CtMYbYqzlxsi8h2i9QoOrjPhE/ot/ZDzu+M5PSPl+lgNY2swgIaaxIj/P6EST5X
	 zLPPtZhoZ72JW2L26O7Nn3JmDy1D7cqjJKMqd7rxY/11L9BF1ESyB/e8A40WJAzh9M
	 grERmKjqGxPqg==

++1

> On Sep 25, 2015, at 7:07 AM, Pl=C3=BCm, R=C3=BCdiger, Vodafone Group =
<ruediger.pluem@vodafone.com> wrote:
>=20
>=20
>=20
>> -----Urspr=C3=BCngliche Nachricht-----
>> Von: Joe Orton [mailto:jorton@redhat.com]
>> Gesendet: Freitag, 25. September 2015 12:47
>> An: dev@httpd.apache.org
>> Betreff: Re: logio problem with SSL
>>=20
>> On Fri, Sep 25, 2015 at 09:50:04AM +0200, Yann Ylavic wrote:
>>> On Fri, Sep 25, 2015 at 1:00 AM, Yann Ylavic <ylavic.dev@gmail.com>
>> wrote:
>>>> On Fri, Sep 25, 2015 at 12:22 AM, Eric Covener <covener@gmail.com>
>> wrote:
>>>>>=20
>>>>> two logs (http/https) sorted to top of autoindex here:
>>>>> http://people.apache.org/~covener/
>>>>=20
>>>> Looks like mod_ssl should also forward EOR buckets.
>>>>=20
>>>> Does this work:
>>>> Index: modules/ssl/ssl_engine_io.c
>>>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>>>> --- modules/ssl/ssl_engine_io.c    (revision 1705160)
>>>> +++ modules/ssl/ssl_engine_io.c    (working copy)
>>>> @@ -1707,12 +1707,12 @@ static apr_status_t
>> ssl_io_filter_output(ap_filter
>>>=20
>>> I committed this one in r1705194, and also the one preventing the
>>> FLUSH for non-blocking bio_filter_in_read() in r1705236.
>>> You may not want to apply the latter, for your testing path to be
>>> consistent with what you had so far...
>>=20
>> The behaviour of that loop is quite bad, it will treat a single =
brigade
>> like <EOS EOC> differently to two separate brigades <EOS> <EOC>,
>> although that should never happen in practice... currently.
>>=20
>> I'm not sure what the "correct" behaviour of connection-level filters
>> should be with metadata buckets.  I could argue they should delete
>> everything they don't understand.  mod_ssl should not care at all =
about
>> EOS or EOR.
>>=20
>> But dodging that issue... simplifying the loop like this, does that
>> still work for the logio issue?
>=20
> Haven't looked at the logio issue, but this makes sense. +1. The =
previous different handling
> of the buckets depending on whether they are split across two brigades =
or just in one seems wrong.
>=20
> Regards
>=20
> R=C3=BCdiger
>=20


From dev-return-83923-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 12:59:19 2015
Return-Path: <dev-return-83923-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 25E0018B91
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 12:59:19 +0000 (UTC)
Received: (qmail 17446 invoked by uid 500); 25 Sep 2015 12:59:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 17376 invoked by uid 500); 25 Sep 2015 12:59:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 17366 invoked by uid 99); 25 Sep 2015 12:59:18 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 12:59:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 3C901C0BD7
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 12:59:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id vUn3Q0ANftEv for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 12:59:05 +0000 (UTC)
Received: from resqmta-ch2-07v.sys.comcast.net (resqmta-ch2-07v.sys.comcast.net [69.252.207.39])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 4C9CF20313
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 12:59:04 +0000 (UTC)
Received: from resomta-ch2-07v.sys.comcast.net ([69.252.207.103])
	by resqmta-ch2-07v.sys.comcast.net with comcast
	id MQyo1r0022EPM3101Qyxnv; Fri, 25 Sep 2015 12:58:57 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-07v.sys.comcast.net with comcast
	id MQyw1r00D2U0RYt01Qyw7a; Fri, 25 Sep 2015 12:58:57 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: Time for 2.4.17 soonish?
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <9ACD5B67AAC5594CB6268234CF29CF9AA39D34AF@ORSMSX113.amr.corp.intel.com>
Date: Fri, 25 Sep 2015 08:58:56 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <0842DF8D-BAA1-4CC9-8A76-782CB74F84AF@jaguNET.com>
References: <3BC6C2B2-26E6-4335-97AD-B3BDA6ADA1EA@jaguNET.com> <CAKQ1sVNa7sDV3+VYEu=OuoED3McUp4vQmDBFJa9-L-NA6RBMUw@mail.gmail.com> <9ACD5B67AAC5594CB6268234CF29CF9AA39D34AF@ORSMSX113.amr.corp.intel.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1443185937;
	bh=2L6kOLePUC1p4nkYNdU8IvLmgA0N5lguSsWPOEP/SyY=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=k4g0fXKTgrCXjPJxknrfj+rrUuvOobiPtfhRf6bIDt4eytr2/UDJpAYzBjrO3P8+5
	 bWZMpJRIz4VYi1KtMmoHQopZSW7nm9JTVK8rhj7JYId73wWa/RPEOMcxMjToKs0lgK
	 UWZbgMRBfbRZL0Et3FeyKVDECHy/v6j92ga/o6evxG08X8iNXNmRxxRbKCrpts7b4y
	 lUj2z1rKmwHs9VZqS+VMeO2Q3NMum6C1j5dA7IQYfCOR6qLGILhLI5xhchUS/SvXVS
	 O+JKuZDAMem4KEphwbHsr+YavDFOnnp8gnZ8KUP6pK50UgEeFwi2MaVq2pHcLmerhT
	 f/6k2x22Zbf3Q==

OK, so it seems like we have some interest in getting 2.4.17 out asap
w/ the 2 remaining focuses on http/2 and SO_REUSEPORT being part of
it.

Cool!!

> On Sep 22, 2015, at 4:28 PM, Lu, Yingqi <yingqi.lu@intel.com> wrote:
>=20
> Yann,
>=20
> Thanks very much for bringing it up. We would love to see that =
SO_REUSEPORT patch being merged into the release version of the httpd. =
It has been a long time :)
>=20
> Thanks,
> Yingqi
>=20
> -----Original Message-----
> From: Yann Ylavic [mailto:ylavic.dev@gmail.com]=20
> Sent: Tuesday, September 22, 2015 1:23 PM
> To: dev@httpd.apache.org
> Subject: Re: Time for 2.4.17 soonish?
>=20
> +1, possibly with SO_REUSEPORT too.
>=20
> On Tue, Sep 22, 2015 at 9:49 PM, Jim Jagielski <jim@jagunet.com> =
wrote:
>> I'd like to propose that we think about a 2.4.17 release within a=20
>> coupla weeks and that we try to get http/2 support in for that=20
>> release.
>>=20


From dev-return-83924-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 13:05:49 2015
Return-Path: <dev-return-83924-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6B2C418BBB
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 13:05:49 +0000 (UTC)
Received: (qmail 29272 invoked by uid 500); 25 Sep 2015 13:05:49 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 29211 invoked by uid 500); 25 Sep 2015 13:05:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 29201 invoked by uid 99); 25 Sep 2015 13:05:48 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 13:05:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 89D5E1A0A58
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 13:05:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 6k4Yvu1Y7Kxh for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 13:05:38 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 74B3842BB4
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 13:05:38 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1443186390;
	bh=zul1RF1CF1i05OA04PFjrmxw72qoTmtND9NlEljDmZ8=;
	h=From:Subject:Date:References:In-Reply-To:To;
	b=xjoT1z6TBawYVvNZeD4dDCh2+8EzmVxIiRGhKzBKJvN/U03YlftM1rx0VoJq0c24E
	 glTfMogmvu/mp347l8RUP2LLDhprRI/tPmozlaMiIVFb5S/53j5qfbq6CWF5nnaEqC
	 KBPdtnhWmSHPc1v4a1hC1otuzTS8AEnXdCXVcUDE=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=84.241.212.138;
From: Steffen <info@apachelounge.com>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: Time for 2.4.17 soonish?
Message-Id: <6BA46F95-4700-41CD-87A5-01DCEB4B1497@apachelounge.com>
Date: Fri, 25 Sep 2015 15:05:30 +0200
References: <3BC6C2B2-26E6-4335-97AD-B3BDA6ADA1EA@jaguNET.com> <CAKQ1sVNa7sDV3+VYEu=OuoED3McUp4vQmDBFJa9-L-NA6RBMUw@mail.gmail.com> <9ACD5B67AAC5594CB6268234CF29CF9AA39D34AF@ORSMSX113.amr.corp.intel.com> <0842DF8D-BAA1-4CC9-8A76-782CB74F84AF@jaguNET.com>
In-Reply-To: <0842DF8D-BAA1-4CC9-8A76-782CB74F84AF@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: iPhone Mail (13A404)

+
All fine running with mod_h2 on Windows.=20

Only shutdown/restart takes long and it is killing the treads and leaving mo=
d_fcgid procresses running.=20

> Op 25 sep. 2015 om 14:58 heeft Jim Jagielski <jim@jaguNET.com> het volgend=
e geschreven:
>=20
> OK, so it seems like we have some interest in getting 2.4.17 out asap
> w/ the 2 remaining focuses on http/2 and SO_REUSEPORT being part of
> it.
>=20
> Cool!!
>=20
>> On Sep 22, 2015, at 4:28 PM, Lu, Yingqi <yingqi.lu@intel.com> wrote:
>>=20
>> Yann,
>>=20
>> Thanks very much for bringing it up. We would love to see that SO_REUSEPO=
RT patch being merged into the release version of the httpd. It has been a l=
ong time :)
>>=20
>> Thanks,
>> Yingqi
>>=20
>> -----Original Message-----
>> From: Yann Ylavic [mailto:ylavic.dev@gmail.com]=20
>> Sent: Tuesday, September 22, 2015 1:23 PM
>> To: dev@httpd.apache.org
>> Subject: Re: Time for 2.4.17 soonish?
>>=20
>> +1, possibly with SO_REUSEPORT too.
>>=20
>>> On Tue, Sep 22, 2015 at 9:49 PM, Jim Jagielski <jim@jagunet.com> wrote:
>>> I'd like to propose that we think about a 2.4.17 release within a=20
>>> coupla weeks and that we try to get http/2 support in for that=20
>>> release.
>=20

From dev-return-83925-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 13:14:54 2015
Return-Path: <dev-return-83925-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 151B218BF8
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 13:14:54 +0000 (UTC)
Received: (qmail 44938 invoked by uid 500); 25 Sep 2015 13:14:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 44865 invoked by uid 500); 25 Sep 2015 13:14:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 44855 invoked by uid 99); 25 Sep 2015 13:14:48 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 13:14:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id EB3EDC0E3D
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 13:14:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id vWZmuAxalUpe for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 13:14:39 +0000 (UTC)
Received: from mail-qg0-f45.google.com (mail-qg0-f45.google.com [209.85.192.45])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 37A58439D1
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 13:14:39 +0000 (UTC)
Received: by qgt47 with SMTP id 47so68510260qgt.2
        for <dev@httpd.apache.org>; Fri, 25 Sep 2015 06:14:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=RemrrVzgnSMZJfGp2RKsPdMXmehTfuZTyaTvoynVsk4=;
        b=pgGb2CnyshaFCg/dLA7a+wvv8SA9iuC6k8vfcrFDFnrq1oTIATFtIj9Kh49HEINLg4
         jXlKqPXatF2X7yHt4N+Ng5v2OCjYhbZtUa7vTLOin/bootGxzy81xDG9SEu9aqK9Ysx8
         ZKOhLq0yrtdb7DG3xoF9q5KL3ypGeohpNHsSx+y8oaAVa9/nTDFRLzhiIf0PK+8crQe+
         9/HeP8HVQJnDYN8pGqeMQKWocUqS4/sg3KBYTSD+j3I+HlsYRbhIb5+JzmhWfeABiVZd
         Av+XCmUyzWh9PpFWMG+qHlBW837x/IU869v5iX4EVr2lGYTM5uZcvW0Iwq3zCC0UCJ9f
         8zlA==
MIME-Version: 1.0
X-Received: by 10.140.131.70 with SMTP id 67mr6518738qhd.70.1443186873041;
 Fri, 25 Sep 2015 06:14:33 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Fri, 25 Sep 2015 06:14:32 -0700 (PDT)
In-Reply-To: <EA40A279-EB22-4B55-8B02-2D9E9EC5F929@jaguNET.com>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org>
	<1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org>
	<5605127F.7000403@apache.org>
	<DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de>
	<CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com>
	<2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de>
	<CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com>
	<9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de>
	<EA40A279-EB22-4B55-8B02-2D9E9EC5F929@jaguNET.com>
Date: Fri, 25 Sep 2015 15:14:32 +0200
Message-ID: <CAKQ1sVMM7zzxV+c+8PjjKKSszus6PdTJtn9d9WRqqusfKWt39w@mail.gmail.com>
Subject: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 25, 2015 at 2:42 PM, Jim Jagielski <jim@jagunet.com> wrote:
>
>> On Sep 25, 2015, at 6:41 AM, Stefan Eissing <stefan.eissing@greenbytes.de> wrote:
>>
>>
>>> Am 25.09.2015 um 12:32 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>>
>>> On Fri, Sep 25, 2015 at 11:58 AM, Stefan Eissing
>>> <stefan.eissing@greenbytes.de> wrote:
>>>>
>>>> I see. And rename the configuration options and documentation, while we are at it...
>>>
>>> Note that I'm *not* against the name being h2!
>>
>> Yann, I know. And I do not want to say that "http2" is a wrong name. Or that I could not live with it. However, I increasingly feel that such notions as adding a "--enabled-http2" for making it look nicer, is not properly addressing the issue:
>>
>> - Modules are configured with --enable-<modname>
>> - Modules are loaded with LoadModule <modname>_module modules/mod_<modname>.so"
>> - Modules documentation are found in docs/manual/mod/mod_<modname>.html
>> - Config directives are by default <modname, camelcase>*
>> - test cases, etc. ...
>>
>
> Well, as I said, http/1.x is itself implemented as a module,
> and lives in modules/http and is enabled via --enable-http,
> so, to be consistent, http2 should stay in modules/ and be enabled
> via --enable-http2.

What should be the name of the module? http2_module/mod_http2 or as
currently h2_module/mod_h2?

From dev-return-83926-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 13:17:09 2015
Return-Path: <dev-return-83926-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B25F018C17
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 13:17:09 +0000 (UTC)
Received: (qmail 55699 invoked by uid 500); 25 Sep 2015 13:17:08 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 55630 invoked by uid 500); 25 Sep 2015 13:17:08 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 55620 invoked by uid 99); 25 Sep 2015 13:17:08 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 13:17:08 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 2956F180A2C
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 13:17:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id KvKtah1BfV6Z for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 13:17:07 +0000 (UTC)
Received: from mail-wi0-f174.google.com (mail-wi0-f174.google.com [209.85.212.174])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 4E22923086
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 13:17:07 +0000 (UTC)
Received: by wiclk2 with SMTP id lk2so19210728wic.1
        for <dev@httpd.apache.org>; Fri, 25 Sep 2015 06:17:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=VnMPSZ9YrgcVvkauF59VwBc3Mebzu6/L8krs8wqCAfM=;
        b=Y1KiwZC7NZeIuZDiXxwwT8UoEa/YTEWpsdztm/Uqlc6gZ1MOBpPDZ5PQ6EPDEiJt3F
         53j27KBbtRwPJxcm0ICfTQph6ygotUEGup/3Hsc+9RhHgyi3FV3ZegrPrNaVuV7R/V9I
         BFikZzh1PKeQUWy28WzogqWe8Ix8LbGpa+jGwjYW1YuGC8SYR9n4L3AFtgyY+oeYMkjM
         rek/TYG6tU4rLx04FPRut1HyKCcO9VezcOexi9AGwcQEx5IOeTXDvXvCIkIwz11nSMil
         N/x01/ARAAKMvJgjJ6M0BJ7Wk9dGW/7908Lyv8A35il03k3oJkDFlwRj19a9NBi4zsJS
         6Tzg==
MIME-Version: 1.0
X-Received: by 10.180.105.196 with SMTP id go4mr3295073wib.36.1443187026057;
 Fri, 25 Sep 2015 06:17:06 -0700 (PDT)
Received: by 10.28.95.70 with HTTP; Fri, 25 Sep 2015 06:17:05 -0700 (PDT)
In-Reply-To: <CAKQ1sVMM7zzxV+c+8PjjKKSszus6PdTJtn9d9WRqqusfKWt39w@mail.gmail.com>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org>
	<1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org>
	<5605127F.7000403@apache.org>
	<DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de>
	<CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com>
	<2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de>
	<CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com>
	<9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de>
	<EA40A279-EB22-4B55-8B02-2D9E9EC5F929@jaguNET.com>
	<CAKQ1sVMM7zzxV+c+8PjjKKSszus6PdTJtn9d9WRqqusfKWt39w@mail.gmail.com>
Date: Fri, 25 Sep 2015 09:17:05 -0400
Message-ID: <CALK=YjN19GW6Cht0CSPP6a1MQJc6Wx=Uw2kSqcR091Ty6UVH6A@mail.gmail.com>
Subject: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 25, 2015 at 9:14 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> What should be the name of the module? http2_module/mod_http2 or as
> currently h2_module/mod_h2?

I'm personally fine with status quo of h2.

From dev-return-83927-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 13:33:48 2015
Return-Path: <dev-return-83927-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DE83C18C90
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 13:33:48 +0000 (UTC)
Received: (qmail 89592 invoked by uid 500); 25 Sep 2015 13:33:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89516 invoked by uid 500); 25 Sep 2015 13:33:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89506 invoked by uid 99); 25 Sep 2015 13:33:48 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 13:33:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id BB911C298A
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 13:33:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id MPx3NEFbDyAO for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 13:33:38 +0000 (UTC)
Received: from resqmta-ch2-07v.sys.comcast.net (resqmta-ch2-07v.sys.comcast.net [69.252.207.39])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 26F9C439B4
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 13:33:38 +0000 (UTC)
Received: from resomta-ch2-07v.sys.comcast.net ([69.252.207.103])
	by resqmta-ch2-07v.sys.comcast.net with comcast
	id MRYv1r00D2EPM3101RZXsb; Fri, 25 Sep 2015 13:33:31 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-07v.sys.comcast.net with comcast
	id MRZW1r00N2U0RYt01RZW0e; Fri, 25 Sep 2015 13:33:31 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CAKQ1sVMM7zzxV+c+8PjjKKSszus6PdTJtn9d9WRqqusfKWt39w@mail.gmail.com>
Date: Fri, 25 Sep 2015 09:33:30 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <8B81489F-B385-48A2-9CD6-6EECD5931165@jaguNET.com>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org> <1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org> <5605127F.7000403@apache.org> <DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de> <CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com> <2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de> <CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com> <9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de> <EA40A279-EB22-4B55-8B02-2D9E9EC5F929@jaguNET.com> <CAKQ1sVMM7zzxV+c+8PjjKKSszus6PdTJtn9d9WRqqusfKWt39w@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1443188011;
	bh=9W5iCSnfyEEv2dzmW6bEA+S0VGfdC/LtXh/OpIT+ATw=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=wZcHAKFrFzRUMlL0YsUGY9Dm0bJoXjx3N8y9BXhG3xhyBrNgiVeuzFvef92sXlG7f
	 CGD+5AP4d/T/821Yk1PEQXYSsC698F8jJtdO2f1UAQo+mbebPXkKmSiNVw8aU2Co2j
	 +P9kpKRlQit2cFlrba5vM819r/beMrwVHP//uYXM5abQ40Rsnpk/iJbK/V0tDsgZg+
	 mmbQZY36ELnVncjtUUCxjfz14FY64L58RWTPDTDvUnMNHKiAk7JFBbRNQV0Zc8Bq7d
	 7mbpiEZfIQH2yZlH1aCY5DA0z26pTQHK8PMhfd2AtZ82s7YY/486RRJD0HEH3B46/B
	 Y3q+VjqMTNUeg==


> On Sep 25, 2015, at 9:14 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>=20
> On Fri, Sep 25, 2015 at 2:42 PM, Jim Jagielski <jim@jagunet.com> =
wrote:
>>=20
>>> On Sep 25, 2015, at 6:41 AM, Stefan Eissing =
<stefan.eissing@greenbytes.de> wrote:
>>>=20
>>>=20
>>>> Am 25.09.2015 um 12:32 schrieb Yann Ylavic <ylavic.dev@gmail.com>:
>>>>=20
>>>> On Fri, Sep 25, 2015 at 11:58 AM, Stefan Eissing
>>>> <stefan.eissing@greenbytes.de> wrote:
>>>>>=20
>>>>> I see. And rename the configuration options and documentation, =
while we are at it...
>>>>=20
>>>> Note that I'm *not* against the name being h2!
>>>=20
>>> Yann, I know. And I do not want to say that "http2" is a wrong name. =
Or that I could not live with it. However, I increasingly feel that such =
notions as adding a "--enabled-http2" for making it look nicer, is not =
properly addressing the issue:
>>>=20
>>> - Modules are configured with --enable-<modname>
>>> - Modules are loaded with LoadModule <modname>_module =
modules/mod_<modname>.so"
>>> - Modules documentation are found in =
docs/manual/mod/mod_<modname>.html
>>> - Config directives are by default <modname, camelcase>*
>>> - test cases, etc. ...
>>>=20
>>=20
>> Well, as I said, http/1.x is itself implemented as a module,
>> and lives in modules/http and is enabled via --enable-http,
>> so, to be consistent, http2 should stay in modules/ and be enabled
>> via --enable-http2.
>=20
> What should be the name of the module? http2_module/mod_http2 or as
> currently h2_module/mod_h2?

I'm fine with whatever really at this point :)

"Bikeshedding, thy name is httpd" :)=

From dev-return-83928-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 13:43:23 2015
Return-Path: <dev-return-83928-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CE78318CDA
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 13:43:23 +0000 (UTC)
Received: (qmail 11570 invoked by uid 500); 25 Sep 2015 13:43:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 11494 invoked by uid 500); 25 Sep 2015 13:43:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 11484 invoked by uid 99); 25 Sep 2015 13:43:23 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 13:43:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id E7703C299B
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 13:43:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id EYgyorueozZh for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 13:43:15 +0000 (UTC)
Received: from mail-qg0-f53.google.com (mail-qg0-f53.google.com [209.85.192.53])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 4CA30206F0
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 13:43:14 +0000 (UTC)
Received: by qgez77 with SMTP id z77so69575259qge.1
        for <dev@httpd.apache.org>; Fri, 25 Sep 2015 06:43:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=G2EiE1R/9P6ovV/bKLNuiocDULCWxX6i6+6fD6E3WJg=;
        b=RyNyzMOoqBMPskaqFZGNvhhqcbjtFlniPwCXHuEib52tucCAE3MD7XApiJ1igg6qxA
         67wykBYSYpMqX5H9d+MrYFi1fpS1fSvfaszkhNfqhhxSAwQkk1zzVawSAmWvMOdLvB8t
         g+4yT3uoZZAma+5lYa4BsMDzjGuvq60XuB0nynOeRt8rLvgMtWNu7o0GzAYVki5AlPZd
         qzn7Y0YxN/LZGmRYI7Z5DQ7ON6baIRp7U6P1xYrHqEMHpU/NG0dp4cNboylsoa8foHJV
         Bj3t4FyLVEBk3DTRhQH692PIvSq8r+Ex/QKHsfg8P2zBsOEIWjhWyzKOI2+QrTiCjDfI
         EFWQ==
MIME-Version: 1.0
X-Received: by 10.140.236.203 with SMTP id h194mr6012341qhc.73.1443188593441;
 Fri, 25 Sep 2015 06:43:13 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Fri, 25 Sep 2015 06:43:13 -0700 (PDT)
In-Reply-To: <6BA46F95-4700-41CD-87A5-01DCEB4B1497@apachelounge.com>
References: <3BC6C2B2-26E6-4335-97AD-B3BDA6ADA1EA@jaguNET.com>
	<CAKQ1sVNa7sDV3+VYEu=OuoED3McUp4vQmDBFJa9-L-NA6RBMUw@mail.gmail.com>
	<9ACD5B67AAC5594CB6268234CF29CF9AA39D34AF@ORSMSX113.amr.corp.intel.com>
	<0842DF8D-BAA1-4CC9-8A76-782CB74F84AF@jaguNET.com>
	<6BA46F95-4700-41CD-87A5-01DCEB4B1497@apachelounge.com>
Date: Fri, 25 Sep 2015 15:43:13 +0200
Message-ID: <CAKQ1sVP+pCBs79TV3vdoRNExaFdLt7gjDVrg2nmu1N_LRL1-gw@mail.gmail.com>
Subject: Re: Time for 2.4.17 soonish?
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 25, 2015 at 3:05 PM, Steffen <info@apachelounge.com> wrote:
> +
> All fine running with mod_h2 on Windows.

What about the (mod_h2 unrelated) crash with mod_security and
httpd-2.4.17, does it still occur?
I'm asking because the 2.4.17-http2 branch you tested also contains
other 2.4.16->2.4.17 changes .
However I don't see how any change between 2.4.16 and 2.4.17 could
have broken log_error_core() or any error_log hook...

From dev-return-83929-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 13:55:08 2015
Return-Path: <dev-return-83929-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B796118D42
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 13:55:08 +0000 (UTC)
Received: (qmail 33831 invoked by uid 500); 25 Sep 2015 13:55:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 33746 invoked by uid 500); 25 Sep 2015 13:55:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 33703 invoked by uid 99); 25 Sep 2015 13:55:04 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 13:55:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 21C28C29C2
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 13:55:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id ZwEraF3ez4J7 for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 13:55:03 +0000 (UTC)
Received: from mail-qk0-f178.google.com (mail-qk0-f178.google.com [209.85.220.178])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 76B3242B30
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 13:55:03 +0000 (UTC)
Received: by qkdw123 with SMTP id w123so42228637qkd.0
        for <dev@httpd.apache.org>; Fri, 25 Sep 2015 06:54:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=idK6i//QZYQzZVw0OCwuQLiAb8m8pDHt7zx+HdsqXLc=;
        b=Ve1CYS3P9Jx/awPljaXTAvSomBOWDj0jqJHFaADFTx/ChNQ2Jwe5jplKcBslUsTEzL
         1HUZHMxqoKmu2UjeBQTQ4krdGIOJvAHTtXFjXvMGk0on8+fInwBfiXgH6jvRASbgx3w+
         fR4sO2IlevnCkF8u4satqgk0hWY6RapsH55bCMS8KiGGHJGqBeQVVaO2lESahO2UiGzl
         UFjQd3tan5mheI0dsvxqXNgZ8oipHgFH6uhhXoiIuP6rzyWmCpLhGiC9THA6bhjeQ/8n
         cW2VVOsjuQuST+UlWE+OW/jOdYzvt63alCOMSKtjlxpOeQoWvtbT8V9rTzN83qXgvoNH
         bP6g==
MIME-Version: 1.0
X-Received: by 10.55.195.80 with SMTP id a77mr6388832qkj.2.1443189296856; Fri,
 25 Sep 2015 06:54:56 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Fri, 25 Sep 2015 06:54:56 -0700 (PDT)
In-Reply-To: <CAKQ1sVOH487zezt-JzZ_2R3sMoN5DendJ1843MCGC2hR=u-znQ@mail.gmail.com>
References: <20150925072706.5C2D83A0233@svn01-us-west.apache.org>
	<5604FF5A.90101@apache.org>
	<CAKQ1sVNCK2sWHY3R-4Q3rpyY5r9UH+BqfzPUaY7u7t6ax26MSg@mail.gmail.com>
	<CAKQ1sVOH487zezt-JzZ_2R3sMoN5DendJ1843MCGC2hR=u-znQ@mail.gmail.com>
Date: Fri, 25 Sep 2015 15:54:56 +0200
Message-ID: <CAKQ1sVOt9G6R7hgGbMNGyRXm5ZAwBzieggbjdrWaLj+-Xf-NQg@mail.gmail.com>
Subject: Re: svn commit: r1705236 - /httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 25, 2015 at 10:30 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Fri, Sep 25, 2015 at 10:20 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>>
>> Any other way around?
>
> Couldn't mod_ssl know by openssl when SSL "administrative" data are
> out and then bucket-FLUSH?

Actually, the discussion in PR 46952 (mentioned in the comment around
the flush) shows that OpenSSL should ask for the flush when necessary,
and that it should have been fixed uptream with:

 Changes between 0.9.8l and 0.9.8m [25 Feb 2010]

  *) The code that handled flushing of data in SSL/TLS originally used the
     BIO_CTRL_INFO ctrl to see if any data was pending first. This caused
     the problem outlined in PR#1949. The fix suggested there however can
     trigger problems with buggy BIO_CTRL_WPENDING (e.g. some versions
     of Apache). So instead simplify the code to flush unconditionally.
     This should be fine since flushing with no data to flush is a no op.
     [Steve Henson]

Couldn't we completely remove the flush from bio_filter_in_read() then?
Or make it conditional to OpenSSL < 0.9.8m (since we support 0.9.8a at least)?

From dev-return-83930-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 14:32:17 2015
Return-Path: <dev-return-83930-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7FCB718E66
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 14:32:17 +0000 (UTC)
Received: (qmail 59219 invoked by uid 500); 25 Sep 2015 14:32:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59144 invoked by uid 500); 25 Sep 2015 14:32:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59131 invoked by uid 99); 25 Sep 2015 14:32:12 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 14:32:12 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id A0A0E180232
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 14:32:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id v6TV1nh825BS for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 14:32:06 +0000 (UTC)
Received: from resqmta-ch2-01v.sys.comcast.net (resqmta-ch2-01v.sys.comcast.net [69.252.207.33])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id ECC1020468
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 14:32:05 +0000 (UTC)
Received: from resomta-ch2-10v.sys.comcast.net ([69.252.207.106])
	by resqmta-ch2-01v.sys.comcast.net with comcast
	id MSXe1r0042JGN3p01SXyAu; Fri, 25 Sep 2015 14:31:58 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-10v.sys.comcast.net with comcast
	id MSXy1r00B2U0RYt01SXyhq; Fri, 25 Sep 2015 14:31:58 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: mod_h2 CTR (Was: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4)
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <8B81489F-B385-48A2-9CD6-6EECD5931165@jaguNET.com>
Date: Fri, 25 Sep 2015 10:31:58 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <901CBEA7-2900-4730-BD98-3E63042CA184@jaguNET.com>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org> <1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org> <5605127F.7000403@apache.org> <DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de> <CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com> <2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de> <CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com> <9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de> <EA40A279-EB22-4B55-8B02-2D9E9EC5F929@jaguNET.com> <CAKQ1sVMM7zzxV+c+8PjjKKSszus6PdTJtn9d9WRqqusfKWt39w@mail.gmail.com> <8B81489F-B385-48A2-9CD6-6EECD5931165@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1443191518;
	bh=VWRiLH/ySJNMe7OGi2FGHBUqkxrN8/jpQiXnHuh3xNg=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=FoFitWXH1dU2FEaD2LJ+7UQUvk70xaBUoEE9OUASi+7XTlxusaosgMW5l5USlo+TM
	 3Qfhd/OUdvMu4qWrXipzJifW2MuZGgl0IeIYJ/WUYMjeoD5Trn1oi7ZaIGEAtg4YVh
	 0TEXzVgeqztyjVc2KWjzDEm7dRYNqaQ+rPH1H/YbkylGX3NcSMyHBumnT0KWmUpXPS
	 V2LbaXXzXIxjJqIu4wr1pKLJAXsrC7ynmywZYYKjFuaDsB3hS3ROdat3qb5hApJBhr
	 9HPkz9JE49FtpDPl/MlPDz9X3SdH2xG05v73mrR4S329X5rEUrlrDG3VTyoW0Vxaoj
	 oUMJB86nZ51pA==

I'd like to propose that we consider mod_h2 in 2.4.x as CTR and
in the same category as mod_lua... That is, somewhat "prod-experimental"
in that some features may still change, but stable enough to be
usable in production environs.


From dev-return-83931-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 15:06:50 2015
Return-Path: <dev-return-83931-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AE7FD18F5E
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 15:06:50 +0000 (UTC)
Received: (qmail 34489 invoked by uid 500); 25 Sep 2015 15:06:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 34431 invoked by uid 500); 25 Sep 2015 15:06:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 34419 invoked by uid 99); 25 Sep 2015 15:06:45 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 15:06:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id B788BC0C9B
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 15:06:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 702BfbLZ6cBn for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 15:06:39 +0000 (UTC)
Received: from mail-qg0-f46.google.com (mail-qg0-f46.google.com [209.85.192.46])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 63D5220313
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 15:06:38 +0000 (UTC)
Received: by qgt47 with SMTP id 47so71404994qgt.2
        for <dev@httpd.apache.org>; Fri, 25 Sep 2015 08:06:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=A2gLRsTgGmPWqkEozmRVUzimp13aYdvZeHWdt8AA0cE=;
        b=o+WbmYUAwjED7UaXrCelJfpawIw/F2rTBaX4VMaFFcCUolYo427OhhkJ62CL6QcBrC
         icJpau6Rm4nsDsw6DjHfCqouBZceXqKshCDIeoPus6Jb0dRhoW7hlgkE6MavvrVjC/O6
         rIuBGw/5mL5uKzAmMeazPYjtG/2g0qiQBoZF8z85hltTnnPcbxNvJVpGAxceHdg0PHJC
         l1MbJKEkl53U0FME6QF7sCPLfm/pa1gjBJ2fJbpdlNu5hAkNK/mLkMyid45yoI/ib5FH
         1dXqsME/E5orgu3tbHBzriZawu20uUbQngCujzMXFIMgwJTg7F5tJpZqWJQMAh5Gvngy
         i9NA==
MIME-Version: 1.0
X-Received: by 10.140.236.203 with SMTP id h194mr6559083qhc.73.1443193590814;
 Fri, 25 Sep 2015 08:06:30 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Fri, 25 Sep 2015 08:06:30 -0700 (PDT)
In-Reply-To: <901CBEA7-2900-4730-BD98-3E63042CA184@jaguNET.com>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org>
	<1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org>
	<5605127F.7000403@apache.org>
	<DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de>
	<CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com>
	<2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de>
	<CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com>
	<9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de>
	<EA40A279-EB22-4B55-8B02-2D9E9EC5F929@jaguNET.com>
	<CAKQ1sVMM7zzxV+c+8PjjKKSszus6PdTJtn9d9WRqqusfKWt39w@mail.gmail.com>
	<8B81489F-B385-48A2-9CD6-6EECD5931165@jaguNET.com>
	<901CBEA7-2900-4730-BD98-3E63042CA184@jaguNET.com>
Date: Fri, 25 Sep 2015 17:06:30 +0200
Message-ID: <CAKQ1sVNrmtwrxskGQjHKYDSXask34S14aiLY3Rgvh9YqbY8v7A@mail.gmail.com>
Subject: Re: mod_h2 CTR (Was: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 25, 2015 at 4:31 PM, Jim Jagielski <jim@jagunet.com> wrote:
> I'd like to propose that we consider mod_h2 in 2.4.x as CTR and
> in the same category as mod_lua... That is, somewhat "prod-experimental"
> in that some features may still change, but stable enough to be
> usable in production environs.

I like "prod-experimental" because I think it is production ready, and
still it lets us optimize the interface without giving developpers
(not users!) strong garanties.

Maybe the ALPN and protocol selection hooks could be marked as such
too, we could have the need to change a RUN_ONCE to a RUN_ALL for
those and shouldn't give too much garanties to other modules.

So if we can find a good wording to also express "prod-ready" (I guess
it already runs successfully in some prods), I'm +1.

From dev-return-83932-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 15:09:42 2015
Return-Path: <dev-return-83932-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 44AE718F85
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 15:09:42 +0000 (UTC)
Received: (qmail 44748 invoked by uid 500); 25 Sep 2015 15:09:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 44696 invoked by uid 500); 25 Sep 2015 15:09:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 44686 invoked by uid 99); 25 Sep 2015 15:09:41 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 15:09:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id D22141A08B9
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 15:09:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id HY0sQIofvQMj for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 15:09:26 +0000 (UTC)
Received: from mail-ig0-f176.google.com (mail-ig0-f176.google.com [209.85.213.176])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 79425202AB
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 15:09:25 +0000 (UTC)
Received: by igbni9 with SMTP id ni9so11364905igb.0
        for <dev@httpd.apache.org>; Fri, 25 Sep 2015 08:09:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=WK2Tr1s0/Bc+4qjPHJR1fCtieOytwq11+bmyz4UZc8Q=;
        b=hXGIrT1ojy0z34k7GVXv4y3CycAsLGhLFqV2/viE0iZushX+JC6bvGOs8hnae1QyfC
         hV9kaMP1H8M0dqw8hyj/IMvfJF/IbKTYjy3TE7umNSUaiN6Gc2zvd+OpDMigG3gFkNrf
         kKto3qowDv9DBYK9PJrMGlKFzijU0XufAvpXjf8Z9JcoyMHYKM+mHP97Ip/ApD+8b6tm
         sBaDW8gzoYfYBCIyHOApsgBodKOOTfKn41CBCpF3rTsxcBlZN5zkD9d9A9Qhh5OaboJc
         WF99qxJHQcBzNvp6oAHM2nK4Oz+7JnxtG8YwId4COBv/0uTyydxWxFo2TAQzg5+XvnBp
         SBhQ==
MIME-Version: 1.0
X-Received: by 10.50.20.8 with SMTP id j8mr3139110ige.36.1443193764544; Fri,
 25 Sep 2015 08:09:24 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Fri, 25 Sep 2015 08:09:24 -0700 (PDT)
In-Reply-To: <CAKQ1sVNrmtwrxskGQjHKYDSXask34S14aiLY3Rgvh9YqbY8v7A@mail.gmail.com>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org>
	<1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org>
	<5605127F.7000403@apache.org>
	<DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de>
	<CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com>
	<2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de>
	<CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com>
	<9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de>
	<EA40A279-EB22-4B55-8B02-2D9E9EC5F929@jaguNET.com>
	<CAKQ1sVMM7zzxV+c+8PjjKKSszus6PdTJtn9d9WRqqusfKWt39w@mail.gmail.com>
	<8B81489F-B385-48A2-9CD6-6EECD5931165@jaguNET.com>
	<901CBEA7-2900-4730-BD98-3E63042CA184@jaguNET.com>
	<CAKQ1sVNrmtwrxskGQjHKYDSXask34S14aiLY3Rgvh9YqbY8v7A@mail.gmail.com>
Date: Fri, 25 Sep 2015 11:09:24 -0400
Message-ID: <CALK=YjOecHxYkZXb9rzUdgd8DkP_MrTEh50eXqx-LCC_A9iiDw@mail.gmail.com>
Subject: Re: mod_h2 CTR (Was: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4)
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 25, 2015 at 11:06 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
> On Fri, Sep 25, 2015 at 4:31 PM, Jim Jagielski <jim@jagunet.com> wrote:
>> I'd like to propose that we consider mod_h2 in 2.4.x as CTR and
>> in the same category as mod_lua... That is, somewhat "prod-experimental"
>> in that some features may still change, but stable enough to be
>> usable in production environs.
>
> I like "prod-experimental" because I think it is production ready, and
> still it lets us optimize the interface without giving developpers
> (not users!) strong garanties.
>
> Maybe the ALPN and protocol selection hooks could be marked as such
> too, we could have the need to change a RUN_ONCE to a RUN_ALL for
> those and shouldn't give too much garanties to other modules.
>
> So if we can find a good wording to also express "prod-ready" (I guess
> it already runs successfully in some prods), I'm +1.


Not to be a wet blanket, but I don't think we have any real data for
the production part of that. We could say the interfaces,
configuration and defaults are experimental in the volatile sense.

From dev-return-83933-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 15:31:32 2015
Return-Path: <dev-return-83933-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D18A317274
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 15:31:32 +0000 (UTC)
Received: (qmail 94396 invoked by uid 500); 25 Sep 2015 15:31:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94325 invoked by uid 500); 25 Sep 2015 15:31:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94315 invoked by uid 99); 25 Sep 2015 15:31:32 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 15:31:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 96EB0C2B3C
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 15:31:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id ZYlHDfIEllxc for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 15:31:26 +0000 (UTC)
Received: from mail-qg0-f45.google.com (mail-qg0-f45.google.com [209.85.192.45])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id F305E42B30
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 15:31:25 +0000 (UTC)
Received: by qgez77 with SMTP id z77so72420497qge.1
        for <dev@httpd.apache.org>; Fri, 25 Sep 2015 08:31:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=VdbraVMRm3gPhw8TnPcM5eZz0QJA/BnFdGa+t5BPXdA=;
        b=W6nA4g6oZZrSDHr/EfDBsxzo//0ZwLxuA36Rd4m3ETQ5oovKtwevMsNbZ/2C+7mZfL
         i/mq1CMrIxjHLhsnsR8ITJWXzWHr4OFEA3Szc5VGHCRFArRj/aJgAD6JDX6kMytNuGm5
         jvF5ggXP1aZlKJtsV9GzYBY8GWLaCpoJNcxOIR2+U+YBkGQ/5AyRUJT2EFM9LlfXob60
         NZjQQAZKxRt26n+NwWYXRG6+fiBmr28xgkM/pvPb3S3MMS2OKaq+5pklkuiPXBBd7KoV
         sv6eBjsUA6vr5/v8bPPzjLcqUKlblOvgn9AS0nCoWclidMly7XQ92IBteZIaaxyLMDC5
         c8yw==
MIME-Version: 1.0
X-Received: by 10.140.95.73 with SMTP id h67mr7045305qge.14.1443195085815;
 Fri, 25 Sep 2015 08:31:25 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Fri, 25 Sep 2015 08:31:25 -0700 (PDT)
In-Reply-To: <CALK=YjOecHxYkZXb9rzUdgd8DkP_MrTEh50eXqx-LCC_A9iiDw@mail.gmail.com>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org>
	<1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org>
	<5605127F.7000403@apache.org>
	<DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de>
	<CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com>
	<2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de>
	<CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com>
	<9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de>
	<EA40A279-EB22-4B55-8B02-2D9E9EC5F929@jaguNET.com>
	<CAKQ1sVMM7zzxV+c+8PjjKKSszus6PdTJtn9d9WRqqusfKWt39w@mail.gmail.com>
	<8B81489F-B385-48A2-9CD6-6EECD5931165@jaguNET.com>
	<901CBEA7-2900-4730-BD98-3E63042CA184@jaguNET.com>
	<CAKQ1sVNrmtwrxskGQjHKYDSXask34S14aiLY3Rgvh9YqbY8v7A@mail.gmail.com>
	<CALK=YjOecHxYkZXb9rzUdgd8DkP_MrTEh50eXqx-LCC_A9iiDw@mail.gmail.com>
Date: Fri, 25 Sep 2015 17:31:25 +0200
Message-ID: <CAKQ1sVNr8tB8bcsZ8WV_Zzwnpk1dG8+kF5K86BR8zfPaG2-w-g@mail.gmail.com>
Subject: Re: mod_h2 CTR (Was: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4)
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 25, 2015 at 5:09 PM, Eric Covener <covener@gmail.com> wrote:
> On Fri, Sep 25, 2015 at 11:06 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> On Fri, Sep 25, 2015 at 4:31 PM, Jim Jagielski <jim@jagunet.com> wrote:
>>> I'd like to propose that we consider mod_h2 in 2.4.x as CTR and
>>> in the same category as mod_lua... That is, somewhat "prod-experimental"
>>> in that some features may still change, but stable enough to be
>>> usable in production environs.
>>
>> I like "prod-experimental" because I think it is production ready, and
>> still it lets us optimize the interface without giving developpers
>> (not users!) strong garanties.
>>
>> Maybe the ALPN and protocol selection hooks could be marked as such
>> too, we could have the need to change a RUN_ONCE to a RUN_ALL for
>> those and shouldn't give too much garanties to other modules.
>>
>> So if we can find a good wording to also express "prod-ready" (I guess
>> it already runs successfully in some prods), I'm +1.
>
>
> Not to be a wet blanket, but I don't think we have any real data for
> the production part of that. We could say the interfaces,
> configuration and defaults are experimental in the volatile sense.

Not mentioning it is not production ready is fine too :)
I wonder if "experimental" does not sound too much like this...

From dev-return-83934-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 15:35:19 2015
Return-Path: <dev-return-83934-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7F052172C9
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 15:35:19 +0000 (UTC)
Received: (qmail 11612 invoked by uid 500); 25 Sep 2015 15:35:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 11552 invoked by uid 500); 25 Sep 2015 15:35:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 11542 invoked by uid 99); 25 Sep 2015 15:35:18 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 15:35:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 6F9451A0AC6
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 15:35:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.001
X-Spam-Level:
X-Spam-Status: No, score=0.001 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id BLqDJ71OMx4j for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 15:35:10 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id ECE4723085
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 15:35:09 +0000 (UTC)
Received: from [192.168.178.41] (unknown [84.189.94.182])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 058BD15A043B
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 17:35:07 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: mod_h2 CTR (Was: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4)
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <CALK=YjOecHxYkZXb9rzUdgd8DkP_MrTEh50eXqx-LCC_A9iiDw@mail.gmail.com>
Date: Fri, 25 Sep 2015 17:35:07 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <47474127-1387-4851-8D24-D85DFB5B5FC0@greenbytes.de>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org> <1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org> <5605127F.7000403@apache.org> <DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de> <CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com> <2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de> <CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com> <9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de> <EA40A279-EB22-4B55-8B02-2D9E9EC5F929@jaguNET.com> <CAKQ1sVMM7zzxV+c+8PjjKKSszus6PdTJtn9d9WRqqusfKWt39w@mail.gmail.com> <8B81489F-B385-48A2-9CD6-6EECD5931165@jaguNET.com> <901CBEA7-2900-4730-BD98-3E63042CA184@jaguNET.com> <CAKQ1sVNrmtwrxskGQjHKYDSXask34S14aiLY3Rgvh9YqbY8v7A@mail.gmail.com> <CALK=YjOecHxYkZXb9rzUdgd8DkP_MrTEh50eXqx-LCC_A9iiDw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)


> Am 25.09.2015 um 17:09 schrieb Eric Covener <covener@gmail.com>:
>=20
> On Fri, Sep 25, 2015 at 11:06 AM, Yann Ylavic <ylavic.dev@gmail.com> =
wrote:
>> On Fri, Sep 25, 2015 at 4:31 PM, Jim Jagielski <jim@jagunet.com> =
wrote:
>>> I'd like to propose that we consider mod_h2 in 2.4.x as CTR and
>>> in the same category as mod_lua... That is, somewhat =
"prod-experimental"
>>> in that some features may still change, but stable enough to be
>>> usable in production environs.
>>=20
>> I like "prod-experimental" because I think it is production ready, =
and
>> still it lets us optimize the interface without giving developpers
>> (not users!) strong garanties.
>>=20
>> Maybe the ALPN and protocol selection hooks could be marked as such
>> too, we could have the need to change a RUN_ONCE to a RUN_ALL for
>> those and shouldn't give too much garanties to other modules.
>>=20
>> So if we can find a good wording to also express "prod-ready" (I =
guess
>> it already runs successfully in some prods), I'm +1.
>=20
>=20
> Not to be a wet blanket, but I don't think we have any real data for
> the production part of that. We could say the interfaces,
> configuration and defaults are experimental in the volatile sense.

I am unable to vote no this since the exact definition of the tag
names are not know to me. I have a an idea though, of course...

That being said: The new protocols hooks and the coupling to mod_ssl
could very well need fine tuning. We have feedback from the =
mod_websocket
maintainer that that module would need some additions. So marking these
parts as "experimental" sounds prudent.

As to the production readiness, waters are much more murky:
- several peeps have it running. thx to them, we found some bugs, which
  we otherwise would not have caught that easily.
- we will continue to find bugs. httpd lives in a huge ecosystem and
  mod_h2 has not seen all sorts of weather yet.
- oth when I look back to what I have seen in enterprises deployed
  as "production ready", it looks very solid.
- As Yann mentioned, httpd stays able to rock-solid serve HTTP
  traffic from clients with mod_h2 unloaded. We have not implemented
  any APIs from mod_h2 to other modules (for example the Server Push)
  feature that would get lost when unloaded.
- Any hot fixes to mod_h2 itself, can be delivered to adventuring
  people via the github repo. With a 2.4.18 httpd out there, peeps
  can build mod_h2 for themselves so much more easily, basically
  just needing the proper apxs. That can give us fast turnaround
  on tests in deployed settings which we merge back to trunk,=20
  aggregate and backport for the next 2.4.x

Cheers,

  Stefan

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83935-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 15:44:54 2015
Return-Path: <dev-return-83935-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4AC0417353
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 15:44:54 +0000 (UTC)
Received: (qmail 44926 invoked by uid 500); 25 Sep 2015 15:44:53 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 44866 invoked by uid 500); 25 Sep 2015 15:44:53 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 44856 invoked by uid 99); 25 Sep 2015 15:44:53 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 15:44:53 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 3B77FC2B5D
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 15:44:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_NEUTRAL=0.652, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id ak9Evwa1aT5Y for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 15:44:43 +0000 (UTC)
Received: from resqmta-ch2-07v.sys.comcast.net (resqmta-ch2-07v.sys.comcast.net [69.252.207.39])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id C5DB5207EE
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 15:44:42 +0000 (UTC)
Received: from resomta-ch2-05v.sys.comcast.net ([69.252.207.101])
	by resqmta-ch2-07v.sys.comcast.net with comcast
	id MTjw1r0042Bo0NV01TkbPc; Fri, 25 Sep 2015 15:44:35 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-05v.sys.comcast.net with comcast
	id MTka1r00W2U0RYt01TkbeJ; Fri, 25 Sep 2015 15:44:35 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: mod_h2 CTR (Was: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4)
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CALK=YjOecHxYkZXb9rzUdgd8DkP_MrTEh50eXqx-LCC_A9iiDw@mail.gmail.com>
Date: Fri, 25 Sep 2015 11:44:34 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <2F36276D-9041-4585-A49B-6E1E891B13D0@jaguNET.com>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org> <1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org> <5605127F.7000403@apache.org> <DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de> <CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com> <2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de> <CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com> <9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de> <EA40A279-EB22-4B55-8B02-2D9E9EC5F929@jaguNET.com> <CAKQ1sVMM7zzxV+c+8PjjKKSszus6PdTJtn9d9WRqqusfKWt39w@mail.gmail.com> <8B81489F-B385-48A2-9CD6-6EECD5931165@jaguNET.com> <901CBEA7-2900-4730-BD98-3E63042CA184@jaguNET.com> <CAKQ1sVNrmtwrxskGQjHKYDSXask34S14aiLY3Rgvh9YqbY8v7A@mail.gmail.com> <CALK=YjOecHxYkZXb9rzUdgd8DkP_MrTEh50eXqx-LCC_A9iiDw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1443195875;
	bh=jCbzmYyTPkbGkBp0F5y1+ebvc5V2nAuZnpUDsE7lPN4=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=d2e1u/tS+OoeJzcH+2TIh5k7TVUH4Wq3mdfiDfVOtznSALhN4Yw4YmZZ86Z4UqgtQ
	 Bx3raBbi4T8CWDtDLZ0Xbxa3lO9Hl+bJhPjTLZ5LQsaF64JSpQKLq/tvk8K76J4z2F
	 +B/QijcIXPPi2D5rGCVYGA87SYL3HRWVMh/AHDJvGnImsk9f3bSVj/WSxfepDpruJB
	 UEK2+68QKrkPexP1+ZHiNfh0/UlzSSLr98ThTZNgeJMKBsAXZFDvpGNjJk6/m0r3Vg
	 2i2AUOgCn2avluV1qb0bFKKrVlpqJtQ29h/TShT3Lu09FgTxCsCO/R/umQd/C96URl
	 Yu5ofh/x0lENg==


> On Sep 25, 2015, at 11:09 AM, Eric Covener <covener@gmail.com> wrote:
> 
> On Fri, Sep 25, 2015 at 11:06 AM, Yann Ylavic <ylavic.dev@gmail.com> wrote:
>> On Fri, Sep 25, 2015 at 4:31 PM, Jim Jagielski <jim@jagunet.com> wrote:
>>> I'd like to propose that we consider mod_h2 in 2.4.x as CTR and
>>> in the same category as mod_lua... That is, somewhat "prod-experimental"
>>> in that some features may still change, but stable enough to be
>>> usable in production environs.
>> 
>> I like "prod-experimental" because I think it is production ready, and
>> still it lets us optimize the interface without giving developpers
>> (not users!) strong garanties.
>> 
>> Maybe the ALPN and protocol selection hooks could be marked as such
>> too, we could have the need to change a RUN_ONCE to a RUN_ALL for
>> those and shouldn't give too much garanties to other modules.
>> 
>> So if we can find a good wording to also express "prod-ready" (I guess
>> it already runs successfully in some prods), I'm +1.
> 
> 
> Not to be a wet blanket, but I don't think we have any real data for
> the production part of that. We could say the interfaces,
> configuration and defaults are experimental in the volatile sense.


'prod-dev' ? :)


From dev-return-83936-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 15:46:31 2015
Return-Path: <dev-return-83936-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C96CB17384
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 15:46:31 +0000 (UTC)
Received: (qmail 50026 invoked by uid 500); 25 Sep 2015 15:46:31 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 49950 invoked by uid 500); 25 Sep 2015 15:46:31 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 49940 invoked by uid 99); 25 Sep 2015 15:46:31 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 15:46:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id DA7F91809DD
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 15:46:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0
X-Spam-Level:
X-Spam-Status: No, score=0 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id UTUsLh2Njg58 for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 15:46:16 +0000 (UTC)
Received: from resqmta-ch2-12v.sys.comcast.net (resqmta-ch2-12v.sys.comcast.net [69.252.207.44])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 2D80E439D4
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 15:46:16 +0000 (UTC)
Received: from resomta-ch2-09v.sys.comcast.net ([69.252.207.105])
	by resqmta-ch2-12v.sys.comcast.net with comcast
	id MTlV1r00C2GyhjZ01Tm9ck; Fri, 25 Sep 2015 15:46:09 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-09v.sys.comcast.net with comcast
	id MTm81r00Y2U0RYt01Tm9WT; Fri, 25 Sep 2015 15:46:09 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: mod_h2 CTR (Was: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4)
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <2F36276D-9041-4585-A49B-6E1E891B13D0@jaguNET.com>
Date: Fri, 25 Sep 2015 11:46:08 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <41A3541E-15A0-4A83-B9A2-7540112203AE@jaguNET.com>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org> <1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org> <5605127F.7000403@apache.org> <DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de> <CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com> <2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de> <CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com> <9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de> <EA40A279-EB22-4B55-8B02-2D9E9EC5F929@jaguNET.com> <CAKQ1sVMM7zzxV+c+8PjjKKSszus6PdTJtn9d9WRqqusfKWt39w@mail.gmail.com> <8B81489F-B385-48A2-9CD6-6EECD5931165@jaguNET.com> <901CBEA7-2900-4730-BD98-3E63042CA184@jaguNET.com> <CAKQ1sVNrmtwrxskGQjHKYDSXask34S14aiLY3Rgvh9YqbY8v7A@mail.gmail.com> <CALK=YjOecHxYkZXb9rzUdgd8DkP_MrTEh50eXqx-LCC_A9iiDw@mail.gmail.com> <2F36276D-9041-4585-A49B-6E1E891B13D0@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1443195969;
	bh=TzpbJVgcr+PVciRpSZ9PGmkmXXiLF4hgnp5NKJJambA=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=MVKyJiRA+HZnhSqvGkBlKyPZcdZMbVtTdfbXb9YbRBEKV6cefysWqMOEjcRttFdvy
	 zUGA7iT2cVoMEwlPUf2R4TUAK7V2vACwS7x12LJEQckeb2wf9LS7uCKLc2RchkV7kv
	 Dyr/0foLbk7CNV66FDRx1Sr5wuUtVqBfenkH3QcT0HOuV+taulbrXufLMstt/gtByw
	 Iqs1BRe8Gdak62JtusMDkA+aAUUqZcH8LLnlBnupa9XuxpzqTt1/CJn6vXH5ws1mvq
	 dzDdmZxQmuDPQ0a+S0lBcC8oql3dkrrb/9zbKUty6HO6CJX0U0pJEyf4Yb0G9Cmblt
	 UIHC6c2Fcf+QA==

In any case, let's not bike-shed on what we call it, or whatever...

Let's focus on deciding if we are cool with it being CTR once it's
folded into 2.4.x and "handling" it as we do mod_lua.

From dev-return-83937-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 15:52:44 2015
Return-Path: <dev-return-83937-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 001B7173F4
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 15:52:43 +0000 (UTC)
Received: (qmail 74993 invoked by uid 500); 25 Sep 2015 15:52:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 74922 invoked by uid 500); 25 Sep 2015 15:52:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 74912 invoked by uid 99); 25 Sep 2015 15:52:43 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 15:52:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id DA9A21809DD
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 15:52:42 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.998
X-Spam-Level:
X-Spam-Status: No, score=0.998 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id p8dJEFjLlQjB for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 15:52:31 +0000 (UTC)
Received: from mail1.bemta5.messagelabs.com (mail1.bemta5.messagelabs.com [195.245.231.148])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id CF272439B1
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 15:52:27 +0000 (UTC)
Received: from [85.158.136.83] by server-12.bemta-5.messagelabs.com id 2B/5C-19220-5BD65065; Fri, 25 Sep 2015 15:52:21 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-7.tower-36.messagelabs.com!1443196340!18627149!1
X-Originating-IP: [195.232.244.136]
X-StarScan-Received:
X-StarScan-Version: 6.13.16; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 22934 invoked from network); 25 Sep 2015 15:52:20 -0000
Received: from mailout04.vodafone.com (HELO mailout04.vodafone.com) (195.232.244.136)
  by server-7.tower-36.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 25 Sep 2015 15:52:20 -0000
Received: from mailint04.vodafone.com (mailint04.vodafone.com [195.232.244.201])
	by mailout04.vodafone.com (Postfix) with ESMTP id 3nMyRl39StznTZD
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 17:52:19 +0200 (CEST)
Received: from mailint04.vodafone.com (localhost [127.0.0.1])
	by mailint04.vodafone.com (Postfix) with ESMTP id 3nMyQq4p7Pzfgj5
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 17:51:31 +0200 (CEST)
Received: from VOEXC06W.internal.vodafone.com (voexc06w.dc-ratingen.de [145.230.101.26])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint04.vodafone.com (Postfix) with ESMTPS id 3nMyQq4SW6zfghr
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 17:51:31 +0200 (CEST)
Received: from VOEXC15W.internal.vodafone.com (145.230.101.17) by
 VOEXC06W.internal.vodafone.com (145.230.101.26) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Fri, 25 Sep 2015 17:51:31 +0200
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.132]) by
 voexc15w.internal.vodafone.com ([145.230.101.17]) with mapi id
 14.03.0224.002; Fri, 25 Sep 2015 17:51:30 +0200
From: =?iso-8859-1?Q?Pl=FCm=2C_R=FCdiger=2C_Vodafone_Group?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: AW: mod_h2 CTR (Was: Re: svn commit: r1705257 -
 /httpd/httpd/trunk/modules/http2/config.m4)
Thread-Topic: mod_h2 CTR (Was: Re: svn commit: r1705257 -
 /httpd/httpd/trunk/modules/http2/config.m4)
Thread-Index: AQHQ958ewW0bvonNp0Wk+T/WscM9Vp5NNr4AgAAA0ACAAAnTAIAAAHAAgAAi7iA=
Date: Fri, 25 Sep 2015 15:51:29 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC631F55A@VOEXM10W.internal.vodafone.com>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org>
 <1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org>
 <5605127F.7000403@apache.org>
 <DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de>
 <CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com>
 <2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de>
 <CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com>
 <9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de>
 <EA40A279-EB22-4B55-8B02-2D9E9EC5F929@jaguNET.com>
 <CAKQ1sVMM7zzxV+c+8PjjKKSszus6PdTJtn9d9WRqqusfKWt39w@mail.gmail.com>
 <8B81489F-B385-48A2-9CD6-6EECD5931165@jaguNET.com>
 <901CBEA7-2900-4730-BD98-3E63042CA184@jaguNET.com>
 <CAKQ1sVNrmtwrxskGQjHKYDSXask34S14aiLY3Rgvh9YqbY8v7A@mail.gmail.com>
 <CALK=YjOecHxYkZXb9rzUdgd8DkP_MrTEh50eXqx-LCC_A9iiDw@mail.gmail.com>
 <2F36276D-9041-4585-A49B-6E1E891B13D0@jaguNET.com>
 <41A3541E-15A0-4A83-B9A2-7540112203AE@jaguNET.com>
In-Reply-To: <41A3541E-15A0-4A83-B9A2-7540112203AE@jaguNET.com>
Accept-Language: en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0



> -----Urspr=FCngliche Nachricht-----
> Von: Jim Jagielski [mailto:jim@jaguNET.com]
> Gesendet: Freitag, 25. September 2015 17:46
> An: dev@httpd.apache.org
> Betreff: Re: mod_h2 CTR (Was: Re: svn commit: r1705257 -
> /httpd/httpd/trunk/modules/http2/config.m4)
>=20
> In any case, let's not bike-shed on what we call it, or whatever...
>=20
> Let's focus on deciding if we are cool with it being CTR once it's
> folded into 2.4.x and "handling" it as we do mod_lua.

+1 on CTR for mod_h2 in 2.4.x

Regards

R=FCdiger

From dev-return-83938-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 15:57:05 2015
Return-Path: <dev-return-83938-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5AF4C1742C
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 15:57:05 +0000 (UTC)
Received: (qmail 86126 invoked by uid 500); 25 Sep 2015 15:57:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86048 invoked by uid 500); 25 Sep 2015 15:57:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86037 invoked by uid 99); 25 Sep 2015 15:57:04 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 15:57:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 0AED31809DD
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 15:57:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.998
X-Spam-Level:
X-Spam-Status: No, score=0.998 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_HELO_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id MlRcXcmnF_WH for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 15:56:52 +0000 (UTC)
Received: from mail1.bemta5.messagelabs.com (mail1.bemta5.messagelabs.com [195.245.231.145])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 786EF24E15
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 15:56:51 +0000 (UTC)
Received: from [85.158.136.83] by server-9.bemta-5.messagelabs.com id CF/95-30270-DBE65065; Fri, 25 Sep 2015 15:56:45 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-15.tower-36.messagelabs.com!1443196605!25375635!1
X-Originating-IP: [195.232.244.136]
X-StarScan-Received:
X-StarScan-Version: 6.13.16; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 20274 invoked from network); 25 Sep 2015 15:56:45 -0000
Received: from mailout04.vodafone.com (HELO mailout04.vodafone.com) (195.232.244.136)
  by server-15.tower-36.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 25 Sep 2015 15:56:45 -0000
Received: from mailint04.vodafone.com (mailint04.vodafone.com [195.232.244.201])
	by mailout04.vodafone.com (Postfix) with ESMTP id 3nMyXs0ygrznTX2
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 17:56:45 +0200 (CEST)
Received: from mailint04.vodafone.com (localhost [127.0.0.1])
	by mailint04.vodafone.com (Postfix) with ESMTP id 3nMyXs05pQzfdZt
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 17:56:45 +0200 (CEST)
Received: from VOEXC06W.internal.vodafone.com (voexc06w.dc-ratingen.de [145.230.101.26])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint04.vodafone.com (Postfix) with ESMTPS id 3nMyXr6v0Jzfb84
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 17:56:44 +0200 (CEST)
Received: from VOEXC08W.internal.vodafone.com (145.230.101.28) by
 VOEXC06W.internal.vodafone.com (145.230.101.26) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Fri, 25 Sep 2015 17:56:44 +0200
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.132]) by
 voexc08w.internal.vodafone.com ([145.230.101.28]) with mapi id
 14.03.0224.002; Fri, 25 Sep 2015 17:56:43 +0200
From: =?iso-8859-1?Q?Pl=FCm=2C_R=FCdiger=2C_Vodafone_Group?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: AW: mod_h2 CTR (Was: Re: svn commit: r1705257 -
 /httpd/httpd/trunk/modules/http2/config.m4)
Thread-Topic: mod_h2 CTR (Was: Re: svn commit: r1705257 -
 /httpd/httpd/trunk/modules/http2/config.m4)
Thread-Index: AQHQ958ewW0bvonNp0Wk+T/WscM9Vp5NNr4AgAAA0ACAAAnTAIAAAHAAgAAi7iCAAAE8wA==
Date: Fri, 25 Sep 2015 15:56:42 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC631F571@VOEXM10W.internal.vodafone.com>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org>
 <1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org>
 <5605127F.7000403@apache.org>
 <DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de>
 <CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com>
 <2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de>
 <CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com>
 <9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de>
 <EA40A279-EB22-4B55-8B02-2D9E9EC5F929@jaguNET.com>
 <CAKQ1sVMM7zzxV+c+8PjjKKSszus6PdTJtn9d9WRqqusfKWt39w@mail.gmail.com>
 <8B81489F-B385-48A2-9CD6-6EECD5931165@jaguNET.com>
 <901CBEA7-2900-4730-BD98-3E63042CA184@jaguNET.com>
 <CAKQ1sVNrmtwrxskGQjHKYDSXask34S14aiLY3Rgvh9YqbY8v7A@mail.gmail.com>
 <CALK=YjOecHxYkZXb9rzUdgd8DkP_MrTEh50eXqx-LCC_A9iiDw@mail.gmail.com>
 <2F36276D-9041-4585-A49B-6E1E891B13D0@jaguNET.com>
 <41A3541E-15A0-4A83-B9A2-7540112203AE@jaguNET.com>
 <AB1691BE05AE7F4992697F2A0835627AC631F55A@VOEXM10W.internal.vodafone.com>
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC631F55A@VOEXM10W.internal.vodafone.com>
Accept-Language: en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0



> -----Urspr=FCngliche Nachricht-----
> Von: Pl=FCm, R=FCdiger, Vodafone Group
> Gesendet: Freitag, 25. September 2015 17:51
> An: dev@httpd.apache.org
> Betreff: AW: mod_h2 CTR (Was: Re: svn commit: r1705257 -
> /httpd/httpd/trunk/modules/http2/config.m4)
>=20
>=20
>=20
> > -----Urspr=FCngliche Nachricht-----
> > Von: Jim Jagielski [mailto:jim@jaguNET.com]
> > Gesendet: Freitag, 25. September 2015 17:46
> > An: dev@httpd.apache.org
> > Betreff: Re: mod_h2 CTR (Was: Re: svn commit: r1705257 -
> > /httpd/httpd/trunk/modules/http2/config.m4)
> >
> > In any case, let's not bike-shed on what we call it, or whatever...
> >
> > Let's focus on deciding if we are cool with it being CTR once it's
> > folded into 2.4.x and "handling" it as we do mod_lua.
>=20
> +1 on CTR for mod_h2 in 2.4.x
>=20

Just to clarify: CTR only on the code in modules/http2. All changes / adjus=
tments that might be needed to mod_ssl should stay RTC.

Regards

R=FCdiger

From dev-return-83939-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 16:51:32 2015
Return-Path: <dev-return-83939-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E975A17713
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 16:51:32 +0000 (UTC)
Received: (qmail 73984 invoked by uid 500); 25 Sep 2015 16:51:32 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 73913 invoked by uid 500); 25 Sep 2015 16:51:32 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 73903 invoked by uid 99); 25 Sep 2015 16:51:32 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 16:51:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id DE21B180A28
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 16:51:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.007
X-Spam-Level:
X-Spam-Status: No, score=-0.007 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id KpTriXtHTV5i for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 16:51:30 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 82716206F0
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 16:51:29 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t8PGpSk6011507
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 18:51:28 +0200 (CEST)
Subject: Re: mod_h2 CTR (Was: Re: svn commit: r1705257 -
 /httpd/httpd/trunk/modules/http2/config.m4)
To: dev@httpd.apache.org
References: <20150925085438.B57753A0046@svn01-us-west.apache.org>
 <DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de>
 <CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com>
 <2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de>
 <CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com>
 <9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de>
 <EA40A279-EB22-4B55-8B02-2D9E9EC5F929@jaguNET.com>
 <CAKQ1sVMM7zzxV+c+8PjjKKSszus6PdTJtn9d9WRqqusfKWt39w@mail.gmail.com>
 <8B81489F-B385-48A2-9CD6-6EECD5931165@jaguNET.com>
 <901CBEA7-2900-4730-BD98-3E63042CA184@jaguNET.com>
 <CAKQ1sVNrmtwrxskGQjHKYDSXask34S14aiLY3Rgvh9YqbY8v7A@mail.gmail.com>
 <CALK=YjOecHxYkZXb9rzUdgd8DkP_MrTEh50eXqx-LCC_A9iiDw@mail.gmail.com>
 <2F36276D-9041-4585-A49B-6E1E891B13D0@jaguNET.com>
 <41A3541E-15A0-4A83-B9A2-7540112203AE@jaguNET.com>
 <AB1691BE05AE7F4992697F2A0835627AC631F55A@VOEXM10W.internal.vodafone.com>
 <AB1691BE05AE7F4992697F2A0835627AC631F571@VOEXM10W.internal.vodafone.com>
From: Rainer Jung <rainer.jung@kippdata.de>
Message-ID: <56057B8D.90209@kippdata.de>
Date: Fri, 25 Sep 2015 18:51:25 +0200
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC631F571@VOEXM10W.internal.vodafone.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit

Am 25.09.2015 um 17:56 schrieb Plüm, Rüdiger, Vodafone Group:
>> -----Ursprüngliche Nachricht-----
>> Von: Plüm, Rüdiger, Vodafone Group
>> Gesendet: Freitag, 25. September 2015 17:51
>> An: dev@httpd.apache.org
>> Betreff: AW: mod_h2 CTR (Was: Re: svn commit: r1705257 -
>> /httpd/httpd/trunk/modules/http2/config.m4)
>>
>>
>>
>>> -----Ursprüngliche Nachricht-----
>>> Von: Jim Jagielski [mailto:jim@jaguNET.com]
>>> Gesendet: Freitag, 25. September 2015 17:46
>>> An: dev@httpd.apache.org
>>> Betreff: Re: mod_h2 CTR (Was: Re: svn commit: r1705257 -
>>> /httpd/httpd/trunk/modules/http2/config.m4)
>>>
>>> In any case, let's not bike-shed on what we call it, or whatever...
>>>
>>> Let's focus on deciding if we are cool with it being CTR once it's
>>> folded into 2.4.x and "handling" it as we do mod_lua.
>>
>> +1 on CTR for mod_h2 in 2.4.x
>>
>
> Just to clarify: CTR only on the code in modules/http2. All changes / adjustments that might be needed to mod_ssl should stay RTC.

+1 as detailed by Rüdiger.

Rainer

From dev-return-83940-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 17:05:11 2015
Return-Path: <dev-return-83940-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 602AC17815
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 17:05:11 +0000 (UTC)
Received: (qmail 35660 invoked by uid 500); 25 Sep 2015 17:05:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35584 invoked by uid 500); 25 Sep 2015 17:05:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35574 invoked by uid 99); 25 Sep 2015 17:05:10 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 17:05:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5F3D51A0ADE
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 17:05:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id z-Fit3D_IeZr for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 17:05:03 +0000 (UTC)
Received: from resqmta-ch2-03v.sys.comcast.net (resqmta-ch2-03v.sys.comcast.net [69.252.207.35])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 0693321231
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 17:05:02 +0000 (UTC)
Received: from resomta-ch2-10v.sys.comcast.net ([69.252.207.106])
	by resqmta-ch2-03v.sys.comcast.net with comcast
	id MV4f1r00A2JGN3p01V51Np; Fri, 25 Sep 2015 17:05:01 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-10v.sys.comcast.net with comcast
	id MV511r0032U0RYt01V51MF; Fri, 25 Sep 2015 17:05:01 +0000
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: mod_h2 CTR (Was: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4)
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC631F571@VOEXM10W.internal.vodafone.com>
Date: Fri, 25 Sep 2015 13:05:00 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <8276B22E-7B29-498A-B45D-D088245FA60B@jaguNET.com>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org> <1A12E743-ADB2-402F-A12F-E74B44E05444@eissing.org> <5605127F.7000403@apache.org> <DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de> <CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com> <2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de> <CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com> <9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de> <EA40A279-EB22-4B55-8B02-2D9E9EC5F929@jaguNET.com> <CAKQ1sVMM7zzxV+c+8PjjKKSszus6PdTJtn9d9WRqqusfKWt39w@mail.gmail.com> <8B81489F-B385-48A2-9CD6-6EECD5931165@jaguNET.com> <901CBEA7-2900-4730-BD98-3E63042CA184@jaguNET.com> <CAKQ1sVNrmtwrxskGQjHKYDSXask34S14aiLY3Rgvh9YqbY8v7A@mail.gmail.com> <CALK=YjOecHxYkZXb9rzUdgd8DkP_MrTEh50eXqx-LCC_A9iiDw@mail.gmail.com> <2F36276D-9041-4585-A49B-6E1E891B13D0@jaguNET.com> <41A3541E-15A0-4A83-B9A2-7540112203AE@jaguNET.com> <AB1691BE05AE7F4992697F2A0835627AC631F55A@VOEXM10W.internal.vodafone.com> <AB1691BE05AE7F499
 2697F2A0835627AC631F571@VOEXM10W.internal.vodafone.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1443200701;
	bh=XsVQtpz3lQwln4ZFgRRQQC4qHvFrv7q3+RqYaoswmNs=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=cqxFbd+ZlR8uDFKbUkccg+CPgUN8+gjbgt8bzHA12t1U1uc5MoxW7w9B1pI1PYNla
	 FlpcsrECj5YeGsCeb5d8n09FnpjFq4KbD+fVGAb1/TlQe1QJmT2ALdCnVM0bv+hWik
	 EJkdtrEroi71/r/9jEJkHRvttqn2JaCruQjIrE41QpiXtEDM0ljxxn2+6rfWR7Aohh
	 jQkJ5GL8sEn0kTZq1DEBbbs0DKDaBMy2FZmiFZ7OONvhFt9Bn+3eMWaOOU31weiPev
	 X31SZFNMQZMuPYqCiDtLdW3Io8rvkbptzRJD7iByC6QH5BEHtlrtOe7xRmT0jKeZ/R
	 VOcRud5yL9VVQ==

>=20
> Just to clarify: CTR only on the code in modules/http2. All changes / =
adjustments that might be needed to mod_ssl should stay RTC.
>=20

Yes.


From dev-return-83941-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 18:42:10 2015
Return-Path: <dev-return-83941-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9CB0117D49
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 18:42:10 +0000 (UTC)
Received: (qmail 59243 invoked by uid 500); 25 Sep 2015 18:42:09 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59178 invoked by uid 500); 25 Sep 2015 18:42:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59167 invoked by uid 99); 25 Sep 2015 18:42:09 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 18:42:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 2A6F91A0A73
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 18:42:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.1
X-Spam-Level:
X-Spam-Status: No, score=-0.1 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (1024-bit key) header.d=apachelounge.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 6LN3JsTnqU3H for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 18:41:49 +0000 (UTC)
Received: from land10web.com (land10web.com [80.101.236.247])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 8D4DE20D30
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 18:41:48 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=apachelounge.com;
	s=default; t=1443206559;
	bh=a4Z3KXFwqt8gLpRha//Jgw6T2d3cjePlpMPyYWnc+WA=;
	h=From:Subject:Date:References:In-Reply-To:To;
	b=gXjV248eDYXOaj1GWepGxWwvDcZYgbP5WAme65r/RckCNXs3har0enkfqbtGgqGrA
	 xTWtAJgIjInqctTffLAO8ABbI0lvSa17Cq1ycakw6AICHALKumkbK8KTp1gLKnD7Xw
	 Jy2XuD6df3OfT2d/hD/vduiTu844ZsSxgmDeCzlQ=
X-Default-Received-SPF: pass (skip=forwardok (res=PASS)) x-ip-name=80.101.236.247;
From: Steffen <info@apachelounge.com>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
Subject: Re: Time for 2.4.17 soonish?
Message-Id: <654E6D65-8670-4E97-8A3B-8586119BC326@apachelounge.com>
Date: Fri, 25 Sep 2015 20:41:53 +0200
References: <3BC6C2B2-26E6-4335-97AD-B3BDA6ADA1EA@jaguNET.com> <CAKQ1sVNa7sDV3+VYEu=OuoED3McUp4vQmDBFJa9-L-NA6RBMUw@mail.gmail.com> <9ACD5B67AAC5594CB6268234CF29CF9AA39D34AF@ORSMSX113.amr.corp.intel.com> <0842DF8D-BAA1-4CC9-8A76-782CB74F84AF@jaguNET.com> <6BA46F95-4700-41CD-87A5-01DCEB4B1497@apachelounge.com> <CAKQ1sVP+pCBs79TV3vdoRNExaFdLt7gjDVrg2nmu1N_LRL1-gw@mail.gmail.com>
In-Reply-To: <CAKQ1sVP+pCBs79TV3vdoRNExaFdLt7gjDVrg2nmu1N_LRL1-gw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: iPhone Mail (13A404)

I have to reverse my statement.=20

Also happens with 2.4.16. Send the info to the authors.=20

That I discovered not earlier, is that before was running IIS in front of Ap=
ache and the module never crashed. With 2.4.17-dev all is now Apache only.=20=


Steffen

> Op 25 sep. 2015 om 15:43 heeft Yann Ylavic <ylavic.dev@gmail.com> het volg=
ende geschreven:
>=20
>> On Fri, Sep 25, 2015 at 3:05 PM, Steffen <info@apachelounge.com> wrote:
>> +
>> All fine running with mod_h2 on Windows.
>=20
> What about the (mod_h2 unrelated) crash with mod_security and
> httpd-2.4.17, does it still occur?
> I'm asking because the 2.4.17-http2 branch you tested also contains
> other 2.4.16->2.4.17 changes .
> However I don't see how any change between 2.4.16 and 2.4.17 could
> have broken log_error_core() or any error_log hook...

From dev-return-83942-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 19:33:29 2015
Return-Path: <dev-return-83942-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7108117F6D
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 19:33:29 +0000 (UTC)
Received: (qmail 99409 invoked by uid 500); 25 Sep 2015 19:33:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 99346 invoked by uid 500); 25 Sep 2015 19:33:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 99336 invoked by uid 99); 25 Sep 2015 19:33:28 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 19:33:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 01EE91A0B5F
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 19:33:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id dEnhsCo5B1_A for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 19:33:21 +0000 (UTC)
Received: from fed1rmfepo102.cox.net (fed1rmfepo102.cox.net [68.230.241.144])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 89699206F0
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 19:33:20 +0000 (UTC)
Received: from fed1rmimpo306 ([68.230.241.174]) by fed1rmfepo102.cox.net
          (InterMail vM.8.01.05.15 201-2260-151-145-20131218) with ESMTP
          id <20150925193313.HDKN19282.fed1rmfepo102.cox.net@fed1rmimpo306>
          for <dev@httpd.apache.org>; Fri, 25 Sep 2015 15:33:13 -0400
Received: from [192.168.1.33] ([98.176.34.113])
	by fed1rmimpo306 with cox
	id MXZC1r00E2STVfm01XZCMQ; Fri, 25 Sep 2015 15:33:13 -0400
X-CT-Class: Clean
X-CT-Score: 0.00
X-CT-RefID: str=0001.0A020206.5605A179.0073,ss=1,re=0.000,fgs=0
X-CT-Spam: 0
X-Authority-Analysis: v=2.0 cv=LKq4tuq9 c=1 sm=1
 a=8xCO7h6kmYZdHn5tUOQhsw==:17 a=LrjODJgKAAAA:8 a=mV9VRH-2AAAA:8
 a=79qPt0gEAAAA:8 a=EfZb5aKZMF0MeLzGH3MA:9 a=QEXdDO2ut3YA:10
 a=8xCO7h6kmYZdHn5tUOQhsw==:117
X-CM-Score: 0.00
Authentication-Results: cox.net; auth=pass (PLAIN) smtp.auth=glewis63@cox.net
Message-ID: <5605A0FA.8090809@gknw.net>
Date: Fri, 25 Sep 2015 12:31:06 -0700
From: Gregg Smith <gls@gknw.net>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.2.28) Gecko/20120306 Thunderbird/3.1.20
MIME-Version: 1.0
To: dev@httpd.apache.org
Subject: Re: AW: mod_h2 CTR (Was: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4)
References: <20150925085438.B57753A0046@svn01-us-west.apache.org> <DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de> <CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com> <2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de> <CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com> <9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de> <EA40A279-EB22-4B55-8B02-2D9E9EC5F929@jaguNET.com> <CAKQ1sVMM7zzxV+c+8PjjKKSszus6PdTJtn9d9WRqqusfKWt39w@mail.gmail.com> <8B81489F-B385-48A2-9CD6-6EECD5931165@jaguNET.com> <901CBEA7-2900-4730-BD98-3E63042CA184@jaguNET.com> <CAKQ1sVNrmtwrxskGQjHKYDSXask34S14aiLY3Rgvh9YqbY8v7A@mail.gmail.com> <CALK=YjOecHxYkZXb9rzUdgd8DkP_MrTEh50eXqx-LCC_A9iiDw@mail.gmail.com> <2F36276D-9041-4585-A49B-6E1E891B13D0@jaguNET.com> <41A3541E-15A0-4A83-B9A2-7540112203AE@jaguNET.com> <AB1691BE05AE7F4992697F2A0835627AC631F55A@VOEXM10W.internal.vodafone.com> <AB1691BE05AE7F4992697F2A0835627AC631F571@VOEXM10W.internal.vodafone.com>
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC631F571@VOEXM10W.internal.vodafone.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit

On 9/25/2015 8:56 AM, Plüm, Rüdiger, Vodafone Group wrote:
>
>> -----Ursprüngliche Nachricht-----
>> Von: Plüm, Rüdiger, Vodafone Group
>> Gesendet: Freitag, 25. September 2015 17:51
>> An: dev@httpd.apache.org
>> Betreff: AW: mod_h2 CTR (Was: Re: svn commit: r1705257 -
>> /httpd/httpd/trunk/modules/http2/config.m4)
>>
>>
>>
>>> -----Ursprüngliche Nachricht-----
>>> Von: Jim Jagielski [mailto:jim@jaguNET.com]
>>> Gesendet: Freitag, 25. September 2015 17:46
>>> An: dev@httpd.apache.org
>>> Betreff: Re: mod_h2 CTR (Was: Re: svn commit: r1705257 -
>>> /httpd/httpd/trunk/modules/http2/config.m4)
>>>
>>> In any case, let's not bike-shed on what we call it, or whatever...
>>>
>>> Let's focus on deciding if we are cool with it being CTR once it's
>>> folded into 2.4.x and "handling" it as we do mod_lua.
>> +1 on CTR for mod_h2 in 2.4.x
>>
> Just to clarify: CTR only on the code in modules/http2. All changes / adjustments that might be needed to mod_ssl should stay RTC.
+1 as detailed by Rüdiger.
+1 to experimental and same note as mod_lua in docs.






From dev-return-83943-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 19:53:37 2015
Return-Path: <dev-return-83943-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E280C180B9
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 19:53:37 +0000 (UTC)
Received: (qmail 54268 invoked by uid 500); 25 Sep 2015 19:53:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 54204 invoked by uid 500); 25 Sep 2015 19:53:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 54194 invoked by uid 99); 25 Sep 2015 19:53:36 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 19:53:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 6A369180A12
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 19:53:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.899
X-Spam-Level: **
X-Spam-Status: No, score=2.899 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	HTML_MESSAGE=3, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id R4CZjLUBwzjV for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 19:53:35 +0000 (UTC)
Received: from mail-vk0-f48.google.com (mail-vk0-f48.google.com [209.85.213.48])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 2A9CC20313
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 19:53:35 +0000 (UTC)
Received: by vkgd64 with SMTP id d64so62627125vkg.0
        for <dev@httpd.apache.org>; Fri, 25 Sep 2015 12:53:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=q7AFmm9XzrD7zP3VWdeYLPBFe60IaDw+HWU8Xtrx+xs=;
        b=0OjzSxIDu/VJAIG+jX4X+fCNbW+l8een8oAeZ++4OYzKlhUDZ0cfebuB9uPwO0QmCI
         oB5CaP6ewXRP3SntWZP8wkcyg1BzkuvM/NTRsGpyoNaVGmal+NARHFGVgapBZFXpW2OF
         3qrDKi0ekevraH/qO7s8+mpqGM4GMx/U3Zngg4IGX/MhGJ4U07xQE5A7ADdlw5EO042c
         X+OxQOfk8PEvKRhzNOeS1jDDLZw+8HoGiOUwzyKJH/WgZ7MH6dhwQ+P+c6oyJWV3cvCS
         pLaGR49NQxkg/JIk7Dj79TaCP/juI7iEv47+ClTapCH6zJWMMRutf6xPArU1okZdVUn+
         mCoA==
MIME-Version: 1.0
X-Received: by 10.31.152.7 with SMTP id a7mr4601549vke.116.1443210814063; Fri,
 25 Sep 2015 12:53:34 -0700 (PDT)
Received: by 10.31.130.3 with HTTP; Fri, 25 Sep 2015 12:53:33 -0700 (PDT)
In-Reply-To: <56057B8D.90209@kippdata.de>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org>
	<DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de>
	<CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com>
	<2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de>
	<CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com>
	<9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de>
	<EA40A279-EB22-4B55-8B02-2D9E9EC5F929@jaguNET.com>
	<CAKQ1sVMM7zzxV+c+8PjjKKSszus6PdTJtn9d9WRqqusfKWt39w@mail.gmail.com>
	<8B81489F-B385-48A2-9CD6-6EECD5931165@jaguNET.com>
	<901CBEA7-2900-4730-BD98-3E63042CA184@jaguNET.com>
	<CAKQ1sVNrmtwrxskGQjHKYDSXask34S14aiLY3Rgvh9YqbY8v7A@mail.gmail.com>
	<CALK=YjOecHxYkZXb9rzUdgd8DkP_MrTEh50eXqx-LCC_A9iiDw@mail.gmail.com>
	<2F36276D-9041-4585-A49B-6E1E891B13D0@jaguNET.com>
	<41A3541E-15A0-4A83-B9A2-7540112203AE@jaguNET.com>
	<AB1691BE05AE7F4992697F2A0835627AC631F55A@VOEXM10W.internal.vodafone.com>
	<AB1691BE05AE7F4992697F2A0835627AC631F571@VOEXM10W.internal.vodafone.com>
	<56057B8D.90209@kippdata.de>
Date: Fri, 25 Sep 2015 14:53:33 -0500
Message-ID: <CABD8fLVDEQbMzb4T7rnb_aT9AdtBcVy26UJxuzg4+=_avojs4g@mail.gmail.com>
Subject: Re: mod_h2 CTR (Was: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4)
From: Greg Stein <gstein@gmail.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a1141dba0e88a2e052097b314

--001a1141dba0e88a2e052097b314
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Fri, Sep 25, 2015 at 11:51 AM, Rainer Jung <rainer.jung@kippdata.de>
wrote:

> Am 25.09.2015 um 17:56 schrieb Pl=C3=BCm, R=C3=BCdiger, Vodafone Group:
>
>> ...
>>> +1 on CTR for mod_h2 in 2.4.x
>>>
>>>
>> Just to clarify: CTR only on the code in modules/http2. All changes /
>> adjustments that might be needed to mod_ssl should stay RTC.
>>
>
> +1 as detailed by R=C3=BCdiger.
>

+1

IMO, call it experimental, and detail what that means in the release notes
or an FAQ on the site.

Cheers,
-g

--001a1141dba0e88a2e052097b314
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><br><div class=3D"gmail_extra"><br><div class=3D"gmail_quo=
te">On Fri, Sep 25, 2015 at 11:51 AM, Rainer Jung <span dir=3D"ltr">&lt;<a =
href=3D"mailto:rainer.jung@kippdata.de" target=3D"_blank">rainer.jung@kippd=
ata.de</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"=
margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><span class=
=3D"">Am 25.09.2015 um 17:56 schrieb Pl=C3=BCm, R=C3=BCdiger, Vodafone Grou=
p:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex"><blockquote class=3D"gmail_quote" style=3D"m=
argin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">...<br>
+1 on CTR for mod_h2 in 2.4.x<br>
<br>
</blockquote>
<br>
Just to clarify: CTR only on the code in modules/http2. All changes / adjus=
tments that might be needed to mod_ssl should stay RTC.<br>
</blockquote>
<br></span>
+1 as detailed by R=C3=BCdiger.<br></blockquote><div><br></div><div>+1</div=
><div><br></div><div>IMO, call it experimental, and detail what that means =
in the release notes or an FAQ on the site.</div><div><br></div><div>Cheers=
,</div><div>-g=C2=A0</div></div><br></div></div>

--001a1141dba0e88a2e052097b314--

From dev-return-83944-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Fri Sep 25 19:54:06 2015
Return-Path: <dev-return-83944-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 42F6B180C0
	for <apmail-httpd-dev-archive@www.apache.org>; Fri, 25 Sep 2015 19:54:06 +0000 (UTC)
Received: (qmail 56259 invoked by uid 500); 25 Sep 2015 19:54:05 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 56175 invoked by uid 500); 25 Sep 2015 19:54:05 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 56165 invoked by uid 99); 25 Sep 2015 19:54:05 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 25 Sep 2015 19:54:05 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5C0461A0AA4
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 19:54:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.121
X-Spam-Level:
X-Spam-Status: No, score=-0.121 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id HWetIgJ2I4jf for <dev@httpd.apache.org>;
	Fri, 25 Sep 2015 19:54:05 +0000 (UTC)
Received: from mail-ig0-f173.google.com (mail-ig0-f173.google.com [209.85.213.173])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id AD12C2074F
	for <dev@httpd.apache.org>; Fri, 25 Sep 2015 19:54:04 +0000 (UTC)
Received: by igxx6 with SMTP id x6so16638228igx.1
        for <dev@httpd.apache.org>; Fri, 25 Sep 2015 12:53:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=lkZ7LV1+GigUZ9EzWkCu1hDR7sp2WSsxS+iNaMymUg8=;
        b=muKwI3gNVNkWCVzXdBjd3pQKznwVRKdetF7mvXxs2aLP2moZZoTnKGgJp+3DeyzKRO
         GA+xclukuKLUypan2a9CuIAe5Bis4paxVeKHqjFr5jFjSWgX9j7aXGed8PAlZuCH3yhj
         Q5DDmHHkexOBpppdA6WbMSu6WWqI65qhbXok1QRvxgfOPISemIZD7k0/NkRU4dquMfVT
         nAQaliapliObEvDSD7Z990BVvKnHFdquhZ2F+VHePjFl8G5WPfORhxC3tHsv1bv0N5Uh
         FA+kfm0Wbl77n+9YPPwWn0Oa+Wq6WH5CdmexRWW0uMprq5aONf5MwBzBfoBCosXgHpNE
         8LsA==
MIME-Version: 1.0
X-Received: by 10.50.13.33 with SMTP id e1mr4455127igc.72.1443210838340; Fri,
 25 Sep 2015 12:53:58 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Fri, 25 Sep 2015 12:53:58 -0700 (PDT)
In-Reply-To: <CABD8fLVDEQbMzb4T7rnb_aT9AdtBcVy26UJxuzg4+=_avojs4g@mail.gmail.com>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org>
	<DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de>
	<CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com>
	<2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de>
	<CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com>
	<9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de>
	<EA40A279-EB22-4B55-8B02-2D9E9EC5F929@jaguNET.com>
	<CAKQ1sVMM7zzxV+c+8PjjKKSszus6PdTJtn9d9WRqqusfKWt39w@mail.gmail.com>
	<8B81489F-B385-48A2-9CD6-6EECD5931165@jaguNET.com>
	<901CBEA7-2900-4730-BD98-3E63042CA184@jaguNET.com>
	<CAKQ1sVNrmtwrxskGQjHKYDSXask34S14aiLY3Rgvh9YqbY8v7A@mail.gmail.com>
	<CALK=YjOecHxYkZXb9rzUdgd8DkP_MrTEh50eXqx-LCC_A9iiDw@mail.gmail.com>
	<2F36276D-9041-4585-A49B-6E1E891B13D0@jaguNET.com>
	<41A3541E-15A0-4A83-B9A2-7540112203AE@jaguNET.com>
	<AB1691BE05AE7F4992697F2A0835627AC631F55A@VOEXM10W.internal.vodafone.com>
	<AB1691BE05AE7F4992697F2A0835627AC631F571@VOEXM10W.internal.vodafone.com>
	<56057B8D.90209@kippdata.de>
	<CABD8fLVDEQbMzb4T7rnb_aT9AdtBcVy26UJxuzg4+=_avojs4g@mail.gmail.com>
Date: Fri, 25 Sep 2015 15:53:58 -0400
Message-ID: <CALK=YjNd=eG6=UZrjnFn-xTSy1HpJEsY2V4K_dNq2MtasPwXEQ@mail.gmail.com>
Subject: Re: mod_h2 CTR (Was: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4)
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Fri, Sep 25, 2015 at 3:53 PM, Greg Stein <gstein@gmail.com> wrote:
> IMO, call it experimental, and detail what that means in the release notes
> or an FAQ on the site.


+1

-- 
Eric Covener
covener@gmail.com

From dev-return-83945-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Sep 26 14:01:50 2015
Return-Path: <dev-return-83945-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E19D518374
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 26 Sep 2015 14:01:48 +0000 (UTC)
Received: (qmail 52036 invoked by uid 500); 26 Sep 2015 14:01:48 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 51971 invoked by uid 500); 26 Sep 2015 14:01:48 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 51961 invoked by uid 99); 26 Sep 2015 14:01:48 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Sep 2015 14:01:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id C99281A1183
	for <dev@httpd.apache.org>; Sat, 26 Sep 2015 14:01:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0
X-Spam-Level:
X-Spam-Status: No, score=0 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Di9UrZlR3uGR for <dev@httpd.apache.org>;
	Sat, 26 Sep 2015 14:01:40 +0000 (UTC)
Received: from resqmta-ch2-12v.sys.comcast.net (resqmta-ch2-12v.sys.comcast.net [69.252.207.44])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id BC90E21231
	for <dev@httpd.apache.org>; Sat, 26 Sep 2015 14:01:39 +0000 (UTC)
Received: from resomta-ch2-20v.sys.comcast.net ([69.252.207.116])
	by resqmta-ch2-12v.sys.comcast.net with comcast
	id Mq1S1r0022XD5SV01q1Y1X; Sat, 26 Sep 2015 14:01:32 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-20v.sys.comcast.net with comcast
	id Mq1X1r00N2U0RYt01q1YaG; Sat, 26 Sep 2015 14:01:32 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: mod_h2 CTR (Was: Re: svn commit: r1705257 - /httpd/httpd/trunk/modules/http2/config.m4)
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CALK=YjNd=eG6=UZrjnFn-xTSy1HpJEsY2V4K_dNq2MtasPwXEQ@mail.gmail.com>
Date: Sat, 26 Sep 2015 10:01:31 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <9BEC49AF-6E8E-4362-A5C4-AA181D383E30@jaguNET.com>
References: <20150925085438.B57753A0046@svn01-us-west.apache.org> <DB5CD9E6-FA01-4338-AA38-DDECE2E76F80@greenbytes.de> <CAKQ1sVN7Q3azparFZdfs21CYQQHUHmoYDTA1CnDQdSq4bX8URQ@mail.gmail.com> <2059414A-A030-45D6-A4AA-02D900D93A14@greenbytes.de> <CAKQ1sVOO5Ti3YiUNf3T7ii608=JrOuWJw_cyRSz7i+dXtsr6yA@mail.gmail.com> <9F88CFF7-22AC-459D-827F-B08EAF714912@greenbytes.de> <EA40A279-EB22-4B55-8B02-2D9E9EC5F929@jaguNET.com> <CAKQ1sVMM7zzxV+c+8PjjKKSszus6PdTJtn9d9WRqqusfKWt39w@mail.gmail.com> <8B81489F-B385-48A2-9CD6-6EECD5931165@jaguNET.com> <901CBEA7-2900-4730-BD98-3E63042CA184@jaguNET.com> <CAKQ1sVNrmtwrxskGQjHKYDSXask34S14aiLY3Rgvh9YqbY8v7A@mail.gmail.com> <CALK=YjOecHxYkZXb9rzUdgd8DkP_MrTEh50eXqx-LCC_A9iiDw@mail.gmail.com> <2F36276D-9041-4585-A49B-6E1E891B13D0@jaguNET.com> <41A3541E-15A0-4A83-B9A2-7540112203AE@jaguNET.com> <AB1691BE05AE7F4992697F2A0835627AC631F55A@VOEXM10W.internal.vodafone.com> <AB1691BE05AE7F4992697F2A0835627AC631F571@VOEXM10W.internal.vodafone.com> <56057B8D.90209@kippdata.
 de> <CABD8fLVDEQbMzb4T7rnb_aT9AdtBcVy26UJxuzg4+=_avojs4g@mail.gmail.com> <CALK=YjNd=eG6=UZrjnFn-xTSy1HpJEsY2V4K_dNq2MtasPwXEQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1443276092;
	bh=vPkxj7s7pL3mi+ZSbs7swlIsnRxPjztQ84qTQuLwHlw=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=ZNKF0RkD0Y15ghaG+jnJ1GbB5R9l3tgvshuk0sY+Lu7TJWtbb3PfuPHL/APL7pyqb
	 OqK4pNQ5Nyqpj/L63m4xWmlEtt9Y6XlhPuCwWeRBxrmJK5jon5YeIdAEXO5cV//O4x
	 ZnfafRbE66Z+cWfpBLobVMvH/ZgCKZ113N923EGYveolQHpKzYpxRLUVxbT4ZqIFge
	 ChhkScg6Xe5V0YSDJQI26W7do1pxjEHykNT2DkyNy+MKV3wOYQ+H9nXM3QR2GHpBeC
	 MixZGo9CKpUH0plhopQSWGgf24WTdbdjNa9S35r4Jsgzf3pVhXJmj/nyvw1UzJcloo
	 wLV2BpScZSuuw==

I don't think this needs a formal vote, but I'll give it the
weekend, for people to chime in...


From dev-return-83946-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sat Sep 26 17:11:11 2015
Return-Path: <dev-return-83946-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DD9AC18717
	for <apmail-httpd-dev-archive@www.apache.org>; Sat, 26 Sep 2015 17:11:10 +0000 (UTC)
Received: (qmail 75356 invoked by uid 500); 26 Sep 2015 17:11:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 75280 invoked by uid 500); 26 Sep 2015 17:11:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 75270 invoked by uid 99); 26 Sep 2015 17:11:10 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 26 Sep 2015 17:11:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 080C81809BA
	for <dev@httpd.apache.org>; Sat, 26 Sep 2015 17:11:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id CZZXvq0_Pn7J for <dev@httpd.apache.org>;
	Sat, 26 Sep 2015 17:11:03 +0000 (UTC)
Received: from resqmta-ch2-03v.sys.comcast.net (resqmta-ch2-03v.sys.comcast.net [69.252.207.35])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 48CA8202AF
	for <dev@httpd.apache.org>; Sat, 26 Sep 2015 17:11:03 +0000 (UTC)
Received: from resomta-ch2-01v.sys.comcast.net ([69.252.207.97])
	by resqmta-ch2-03v.sys.comcast.net with comcast
	id MtAi1r00226dK1R01tAwJ9; Sat, 26 Sep 2015 17:10:56 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-01v.sys.comcast.net with comcast
	id MtAm1r0022U0RYt01tAw0X; Sat, 26 Sep 2015 17:10:56 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: Lua coroutines
Message-Id: <CF168CEE-5526-4949-9D52-F29F5EF8EBE2@jaguNET.com>
Date: Sat, 26 Sep 2015 13:10:55 -0400
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1443287456;
	bh=0MIji4hLlgtCgh5uZxopeB1XaYxszQJ4Ucf6z9vxaXI=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=ST+16JJfYKwX/AfHrXCX4GwWZdFO8mzX3EWoriEbgGoDtxDNBKsXdGawVdMqABmwQ
	 GiWK/Fy3q6SZo8cfCeC+2BuFOPn6qWdt0bbttljT+M1weEfstFXJGGovzbsvbdKAS/
	 2LkMWG8rea2gwpMFpWkhSGD2M1Fl5absiJ9AnfT13I1RO9tshjICosm/5mDPfQM/QK
	 oz4s+6OXeIEwtLEA88e7dnDFMJEyF3t5Xg0cRONyb3+8rE9QKd9xKIazkxCsmOzBc8
	 Scwk7sxoAmFTKvhhiiPGCa6KiZHLBVFzhQBxDPLBvCHC8ghR3i9IJS+rdEkvEolWTv
	 Djf2ugH5jyUyA==

I've been keen on libmill, which provides a golang-like
goroutine library. It seems that such functionality would
be cool for httpd

Then I started thinking: Lua also has a great coroutine impl
and it is also MIT licensed and might be easier to fold
into httpd. Anyone ever look at that? Having something like
ap_routine() would be awful cool. We already have some Lua
expertise here and being able to use native coroutines in httpd
itself would be very neat, esp for 2.6/3.0

From dev-return-83947-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Sep 27 06:20:31 2015
Return-Path: <dev-return-83947-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E815817764
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 27 Sep 2015 06:20:30 +0000 (UTC)
Received: (qmail 1031 invoked by uid 500); 27 Sep 2015 06:20:19 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 955 invoked by uid 500); 27 Sep 2015 06:20:19 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 945 invoked by uid 99); 27 Sep 2015 06:20:19 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Sep 2015 06:20:19 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id CB7EA1809D6
	for <dev@httpd.apache.org>; Sun, 27 Sep 2015 06:20:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_MSPIKE_H2=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id UCZwOF5JsEpQ for <dev@httpd.apache.org>;
	Sun, 27 Sep 2015 06:20:10 +0000 (UTC)
Received: from smtp.smtpout.orange.fr (smtp02.smtpout.orange.fr [80.12.242.124])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 26E0C20468
	for <dev@httpd.apache.org>; Sun, 27 Sep 2015 06:20:09 +0000 (UTC)
Received: from [127.0.0.1] ([92.140.227.136])
	by mwinf5d03 with ME
	id N6L01r00F2xCUKg036L01G; Sun, 27 Sep 2015 08:20:02 +0200
X-ME-Helo: [127.0.0.1]
X-ME-Date: Sun, 27 Sep 2015 08:20:02 +0200
X-ME-IP: 92.140.227.136
Subject: Re: svn commit: r1705492 - in /httpd/httpd/branches/2.4.x: ./
 docs/manual/mod/ include/ server/ server/mpm/event/ server/mpm/netware/
 server/mpm/prefork/ server/mpm/winnt/ server/mpm/worker/
To: dev@httpd.apache.org
References: <20150926222014.ECAF83A0198@svn01-us-west.apache.org>
From: Marion & Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Message-ID: <56078A90.2050608@wanadoo.fr>
Date: Sun, 27 Sep 2015 08:20:00 +0200
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <20150926222014.ECAF83A0198@svn01-us-west.apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 150926-1, 26/09/2015), Outbound message
X-Antivirus-Status: Clean

Hi,

should r1629916 also be included?
The changelog says that it is a follow up to r1629909, which is included 
in the patch below.

CJ

Le 27/09/2015 00:20, minfrin@apache.org a écrit :
> Author: minfrin
> Date: Sat Sep 26 22:20:14 2015
> New Revision: 1705492
>
> URL: http://svn.apache.org/viewvc?rev=1705492&view=rev
> Log:
> MPMs: Support SO_REUSEPORT to create multiple duplicated listener
> records for scalability.
>
> Submitted by: Yingqi Lu <yingqi.lu@intel.com>, Jeff Trawick,
>                Jim Jagielski, Yann Ylavic
>
> Reviewed by: ylavic, jim, minfrin
>
> Modified:
>      httpd/httpd/branches/2.4.x/CHANGES
>      httpd/httpd/branches/2.4.x/STATUS
>      httpd/httpd/branches/2.4.x/docs/manual/mod/mpm_common.xml
>      httpd/httpd/branches/2.4.x/include/ap_listen.h
>      httpd/httpd/branches/2.4.x/include/ap_mmn.h
>      httpd/httpd/branches/2.4.x/include/http_log.h
>      httpd/httpd/branches/2.4.x/include/scoreboard.h
>      httpd/httpd/branches/2.4.x/server/listen.c
>      httpd/httpd/branches/2.4.x/server/log.c
>      httpd/httpd/branches/2.4.x/server/mpm/event/event.c
>      httpd/httpd/branches/2.4.x/server/mpm/netware/mpm_netware.c
>      httpd/httpd/branches/2.4.x/server/mpm/prefork/prefork.c
>      httpd/httpd/branches/2.4.x/server/mpm/winnt/mpm_winnt.c
>      httpd/httpd/branches/2.4.x/server/mpm/worker/worker.c
>


From dev-return-83948-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Sep 27 07:15:15 2015
Return-Path: <dev-return-83948-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A768217813
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 27 Sep 2015 07:15:15 +0000 (UTC)
Received: (qmail 30386 invoked by uid 500); 27 Sep 2015 07:15:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 30311 invoked by uid 500); 27 Sep 2015 07:15:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 30302 invoked by uid 99); 27 Sep 2015 07:15:14 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Sep 2015 07:15:14 +0000
Received: from asf-bz1-us-mid.priv.apache.org (nat1-us-mid.apache.org [23.253.172.122])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPS id 863B01A0338
	for <dev@httpd.apache.org>; Sun, 27 Sep 2015 07:15:14 +0000 (UTC)
Received: by asf-bz1-us-mid.priv.apache.org (ASF Mail Server at asf-bz1-us-mid.priv.apache.org, from userid 0)
	id 01E3660311; Sun, 27 Sep 2015 07:15:14 +0000 (UTC)
From: bugzilla@apache.org
To: dev@httpd.apache.org
Subject: Bug report for Apache httpd-2 [2015/09/27]
Message-Id: <20150927071514.01E3660311@asf-bz1-us-mid.priv.apache.org>
Date: Sun, 27 Sep 2015 07:15:05 +0000 (UTC)

+---------------------------------------------------------------------------+
| Bugzilla Bug ID                                                           |
|     +---------------------------------------------------------------------+
|     | Status: UNC=Unconfirmed NEW=New         ASS=Assigned                |
|     |         OPN=Reopened    VER=Verified    (Skipped Closed/Resolved)   |
|     |   +-----------------------------------------------------------------+
|     |   | Severity: BLK=Blocker CRI=Critical  REG=Regression  MAJ=Major   |
|     |   |           MIN=Minor   NOR=Normal    ENH=Enhancement TRV=Trivial |
|     |   |   +-------------------------------------------------------------+
|     |   |   | Date Posted                                                 |
|     |   |   |          +--------------------------------------------------+
|     |   |   |          | Description                                      |
|     |   |   |          |                                                  |
| 7483|Ass|Enh|2002-03-26|Add FileAction directive to assign a cgi interpret|
| 8713|Inf|Min|2002-05-01|No Errorlog on PROPFIND/Depth:Infinity            |
| 8867|Opn|Cri|2002-05-07|exports.c generation fails when using a symlink to|
|10747|New|Maj|2002-07-12|ftp SIZE command and 'smart' ftp servers results i|
|11294|New|Enh|2002-07-30|desired vhost_alias option                        |
|11580|Opn|Enh|2002-08-09|generate Content-Location headers                 |
|12033|Opn|Nor|2002-08-26|Graceful restart immediately result in [warn] long|
|12680|New|Enh|2002-09-16|Digest authentication with integrity protection   |
|13599|Inf|Nor|2002-10-14|autoindex formating broken for multibyte sequences|
|13661|Ass|Enh|2002-10-15|Apache cannot not handle dynamic IP reallocation  |
|14104|Opn|Enh|2002-10-30|not documented: must restart server to load new CR|
|14496|New|Enh|2002-11-13|Cannot upgrade any version on Windows. Must uninst|
|14922|Inf|Enh|2002-11-28|<target> is currently hardcoded to 'apache2'      |
|15719|Inf|Nor|2002-12-30|WebDAV MOVE to destination URI which is content-ne|
|16761|Inf|Nor|2003-02-04|CustomLog with pipe spawns process during config  |
|16802|New|Enh|2003-02-05|Additional AllowOverride directive "Restrict"     |
|16811|Ass|Maj|2003-02-05|mod_autoindex always return webpages in UTF-8.    |
|17107|New|Min|2003-02-16|Windows should not install printenv               |
|17114|New|Enh|2003-02-17|Please add strip and install-strip targets to Make|
|17244|Ass|Nor|2003-02-20|./configure --help gives false information regardi|
|17497|Opn|Nor|2003-02-27|mod_mime_magic generates incorrect response header|
|18325|New|Enh|2003-03-25|PAM support for suEXEC                            |
|18334|Inf|Cri|2003-03-25|Server crashes when authenticating users against L|
|18497|New|Min|2003-03-30|configure --help gives wrong default for sysconfdi|
|19043|New|Min|2003-04-15|Interesting interaction between cern_meta module a|
|19670|New|Enh|2003-05-05|content type header supplied upon PUT is thrown aw|
|20036|Ass|Nor|2003-05-19|Trailing Dots stripped from PATH_INFO environment |
|21253|New|Nor|2003-07-01|Mime magic doesn't continue if type is specifed fo|
|21260|New|Nor|2003-07-02|CacheMaxExpire directive not enforced !           |
|21533|Ass|Cri|2003-07-11|Multiple levels of htacces files can cause mod_aut|
|22138|Inf|Cri|2003-08-05|Webdav is not preccessing special chars right.    |
|22237|New|Enh|2003-08-08|option to disable ServerSignature on index pages  |
|22484|Opn|Maj|2003-08-16|semaphore problem takes httpd down                |
|22686|Opn|Nor|2003-08-25|ab: apr_poll: The timeout specified has expired (7|
|22898|Opn|Nor|2003-09-02|nph scripts with two HTTP header                  |
|23167|Inf|Cri|2003-09-14|--enable-layout never goes to apr apr-util        |
|23181|New|Nor|2003-09-15|Status 304 (Not modified) and chunking leads to an|
|23238|New|Cri|2003-09-18|non-async-signal-safe operations from signal handl|
|23330|New|Enh|2003-09-22|Enhance ApacheMonitor to view and control Tomcat s|
|23911|Opn|Cri|2003-10-18|CGI processes left defunct/zombie under 2.0.54    |
|24031|New|Enh|2003-10-23|Passphrase protected private key in SSLProxyMachin|
|24095|Opn|Cri|2003-10-24|ERROR "Parent: child process exited with status 32|
|24437|Opn|Nor|2003-11-05|mod_auth_ldap doubly-escapes backslash (\) charact|
|24890|Opn|Nor|2003-11-21|Apache config parser should not be local aware ( g|
|25014|New|Enh|2003-11-26|A flexible interface for mod_log_config           |
|25201|New|Enh|2003-12-04|Provide Cache Purge operation                     |
|25240|Inf|Enh|2003-12-05|SSL Library Error: 336105671 logged as information|
|25435|New|Enh|2003-12-11|sethandler and directoryindex not playing nice    |
|25469|Opn|Enh|2003-12-12|create AuthRoot for defining paths to auth files  |
|25484|Ass|Nor|2003-12-12|Non-service Apache cannot be stopped in WinXP     |
|25543|Inf|Nor|2003-12-15|mod_proxy_ajp overwrites existing response headers|
|25667|New|Nor|2003-12-19|Memory leak in function ssl_scache_dbm_retrieve().|
|25863|New|Enh|2004-01-02|new per-host initialization hooks                 |
|26005|New|Nor|2004-01-08|SERVER_NAME incorrect when using IPv6 address in U|
|26142|New|Maj|2004-01-14|EnableSendFile Off for Windows XP Home            |
|26153|Opn|Cri|2004-01-15|Apache cygwin directory traversal vulnerability   |
|26368|New|Min|2004-01-23|File extensions in AddDescription treated as part |
|26446|New|Nor|2004-01-26|flush buckets followed by eos bucket emit multiple|
|26478|New|Enh|2004-01-28|mod_dav does not expose a method for setting the D|
|26835|New|Enh|2004-02-10|[PATCH] Mod_status Readability & Browser Side Tabl|
|27257|Ass|Enh|2004-02-26|rotatelogs with getopt and setuid                 |
|27578|New|Enh|2004-03-10|made getlastmodified a writable property          |
|27715|Ass|Enh|2004-03-16|Client sending misformed Range "bytes = 0-100" ins|
|27791|Inf|Nor|2004-03-18|mod_cache doesn't re-cache expired content        |
|27835|New|Enh|2004-03-22|When proxying FTP, all errors turns into 404      |
|27869|New|Enh|2004-03-23|stopping and starting httpd again immediately caus|
|28854|Inf|Nor|2004-05-09|Build fails with missing library call on Solaris i|
|28903|New|Enh|2004-05-11|Hooks to add environment variables to CGI and othe|
|29090|Ass|Enh|2004-05-19|MultiviewsMatch NegotiatedOnly extensions not resp|
|29165|New|Nor|2004-05-24|Parent directory icon not correct                 |
|29446|New|Enh|2004-06-08|want directive for setting content negotiation qua|
|29449|New|Enh|2004-06-09|Limit length of specified fields in LogFormat     |
|29450|New|Enh|2004-06-09|Improved logging for mod_access                   |
|29510|Ass|Enh|2004-06-10|ab does not support multiple cookies              |
|29644|Ver|Nor|2004-06-17|mod_proxy keeps downloading even after the client |
|29755|Opn|Nor|2004-06-23|mod_usertrack should use err_headers_out          |
|29822|New|Enh|2004-06-26|implement FTP 'PUT' support in proxy_ftp.c        |
|29941|Ass|Enh|2004-07-06|log files are not tested for availability on confi|
|30259|Ass|Enh|2004-07-22|When proxy connects to backend, a DNS lookup is do|
|30505|Ass|Enh|2004-08-05|Apache uses 'Error', and not lower level event typ|
|30730|Inf|Nor|2004-08-18|[PatchAvailable] mod_actions and Server-Status    |
|30865|Inf|Maj|2004-08-26|mod_disk_cache leaves many temporary files slowing|
|31302|Opn|Cri|2004-09-19|suexec doesn't execute commands if they're not in |
|31311|New|Enh|2004-09-20|Remote user not logged in reverse proxy scenario  |
|31352|Ass|Enh|2004-09-21|RFE, Bind to LDAP server with browser supplier use|
|31418|Opn|Nor|2004-09-25|SSLUserName is not usable by other modules        |
|31484|New|Maj|2004-09-30|Custom environment variables not passed to content|
|31490|New|Nor|2004-09-30|mod_proxy_ftp renders filenames with spaces badly |
|31565|New|Enh|2004-10-06|Won't start correctly if parent closed stdin, stdo|
|31679|New|Enh|2004-10-12|If the argument of a CGI has two or more consecuti|
|31709|Inf|Nor|2004-10-13|Raises an error on SSL name based virtualhosts (wi|
|31712|New|Enh|2004-10-14|config_file is NULL at ap_walk_config etc         |
|31952|New|Enh|2004-10-29|mod_proxy and RealPlayer: audio content streaming |
|32051|Opn|Nor|2004-11-04|mod_example is not thread safe                    |
|32328|Opn|Enh|2004-11-19|Make mod_rewrite escaping optional / expose intern|
|32346|New|Enh|2004-11-22|mod_include/include virtual checks content-type is|
|32524|New|Enh|2004-12-03|ab: add an option to specify a source address     |
|32703|Inf|Enh|2004-12-14|Cannot determine that Apache is frozen if /var fil|
|32750|Ass|Maj|2004-12-17|mod_proxy + Win32DisableAcceptEx = memory leak    |
|32877|New|Enh|2004-12-29|wrong utf-8 encoding/escaping in a href for umlaut|
|33084|New|Enh|2005-01-13|Optional certificate validity period check on SSLV|
|33089|New|Nor|2005-01-13|mod_include: Options +Includes (or IncludesNoExec)|
|33207|New|Nor|2005-01-23|Results of my suexec.c code audit                 |
|33215|New|Nor|2005-01-24|Cygwin build/install.sh fix (OSTYPE => ext=.exe)  |
|33512|Inf|Maj|2005-02-11|mod_mem_cache and possibly mod_deflate            |
|33627|New|Nor|2005-02-18|Bite-sized changes making progress towards compila|
|33685|New|Maj|2005-02-22|Unable to install in the path containing non engli|
|34270|Inf|Nor|2005-04-01|Large POSTs over SSL from Internet Explorer do not|
|34375|New|Enh|2005-04-08|enhancements for mod_include                      |
|34377|New|Enh|2005-04-08|Allow the overriding of 401 Unauthorized returns f|
|34405|New|Enh|2005-04-11|adds DOCUMENT_NAME_WITHOUT_SUFFIX to mod_include  |
|34508|New|Nor|2005-04-19|Randomly slow graceful restart, not accepting new |
|34519|New|Enh|2005-04-19|Directory index should emit valid XHTML           |
|35049|New|Nor|2005-05-24|let AddDefaultCharset apply to text/css and applic|
|35077|New|Nor|2005-05-26|mod_dav passes incorrect paths with LocationMatch |
|35083|Inf|Enh|2005-05-26|Certificate validation problems trapping          |
|35098|Ver|Maj|2005-05-27|Install fails using --prefix                      |
|35154|New|Nor|2005-06-01|Support for NID_serialNumber, etc. in SSLUserName |
|35245|New|Nor|2005-06-06|cache ignores max-age cache-directive in requests |
|35250|New|Enh|2005-06-07|[PatchAvailable] add logging to mod_proxy_connect |
|35280|New|Nor|2005-06-09|FTP proxy breaks RFC 2428 when trying to fall back|
|35556|Inf|Nor|2005-06-30|CRL files not re-read by HUP                      |
|35652|Opn|Min|2005-07-07|Improve error message: "pcfg_openfile: unable to c|
|35702|New|Nor|2005-07-12|Using with https URL, ab freezes or gets SIGSEGV o|
|35781|New|Nor|2005-07-18|ap_sub_req_method_uri() bypasses Limit security co|
|35981|Inf|Maj|2005-08-02|mod_dav overrides dav_fs response on PUT failure  |
|36286|New|Enh|2005-08-20|configtest doesn't check SSL certificates         |
|36492|New|Nor|2005-09-04|split-logfile script dies when splitting log of ma|
|36495|Inf|Nor|2005-09-05|mod_proxy_ajp: ajp_check_msg_header() got bad sign|
|36564|New|Enh|2005-09-08|make mod_ldap really universal                    |
|36636|New|Maj|2005-09-13|database write lock taken for PROPFIND operations |
|36676|New|Nor|2005-09-15|time() bug in httpd/os/win32/util_win32.c:wait_for|
|36710|Opn|Blk|2005-09-19|CGI output not captured                           |
|36724|New|Nor|2005-09-20|Don't install Apache Monitor by default           |
|37110|New|Nor|2005-10-17|Build fails when source tree is read-only         |
|37196|Inf|Min|2005-10-21|Wrong "Parent directory" link                     |
|37201|New|Enh|2005-10-21|Add <IfInterface IP> syntax to apache configuratio|
|37290|Opn|Min|2005-10-28|DirectoryIndex don't work in scriptaliased directo|
|37307|New|Enh|2005-10-31|Can't suppress error messages                     |
|37355|New|Enh|2005-11-04|Allow to specify Proxy-Authorization in ProxyRemot|
|37360|New|Maj|2005-11-04|Install fails on Windows XP x64 when program files|
|37402|New|Nor|2005-11-08|mod_proxy has stopped allowing POST sub-requests  |
|37514|Inf|Nor|2005-11-15|mod_proxy buffers chunked data.                   |
|37564|New|Enh|2005-11-19|Suggestion: mod_suexec SuexecUserGroup directive i|
|37587|Inf|Min|2005-11-22|mod_status Total Traffic value goes up then down? |
|37823|Inf|Nor|2005-12-07|The openssl library linked is different between ht|
|37920|New|Maj|2005-12-15|mod_proxy does not flush data on POST requests fro|
|38116|New|Enh|2006-01-04|Chroot-Patch for SuExec                           |
|38164|New|Nor|2006-01-06|wrong status code for failed COPY/MOVE            |
|38182|New|Nor|2006-01-08|COPY ignores authority in Destination header      |
|38218|New|Enh|2006-01-10|Multiline Comments for *.conf files               |
|38240|Inf|Nor|2006-01-12|apache restart segfault with mutliple Include dire|
|38325|Opn|Nor|2006-01-20|impossible to determine AUTH_TYPE of interpreted r|
|38355|Unc|Enh|2006-01-23|DSO support for mod_rewrite                       |
|38369|New|Enh|2006-01-24|mod_proxy keeps alive connections that should be b|
|38408|New|Nor|2006-01-27|SSI environment vars not set in spawned processes |
|38419|New|Nor|2006-01-27|Problems with large WebDAV properties             |
|38478|New|Maj|2006-02-01|A client starting a SSL renegotiation can crash th|
|38515|New|Enh|2006-02-05|Dynamic LDAP Group Support                        |
|38550|New|Enh|2006-02-07|Setting headers based on proxied data             |
|38571|New|Enh|2006-02-08|CustomLog directive checked by apachectl configtes|
|38756|Inf|Nor|2006-02-22|errors with running make                          |
|38786|New|Nor|2006-02-26|"IndexOption VersionSort" has problems with traili|
|38827|New|Reg|2006-03-02|mod_disk_cache trying to rename locked tempfile on|
|38864|Inf|Enh|2006-03-06|ProxyPassReverse fails in <Location>              |
|38903|New|Maj|2006-03-09|r->allowed does not affect Allow response header  |
|38923|New|Min|2006-03-10|mod_speling incorrectly escapes linked URLs       |
|38928|New|Min|2006-03-11|propose removing "VARIANTS" feature               |
|38995|New|Nor|2006-03-16|httpd tries to communicate with the CGI daemon eve|
|39111|New|Nor|2006-03-27|Potential bug brought by mmapfile (mod_file_cache)|
|39128|Inf|Maj|2006-03-28|Apache 2.2 will not compile mod_ssl library's corr|
|39185|Inf|Nor|2006-04-03|Approximately in 1-2 weeks of work the server hang|
|39216|New|Maj|2006-04-05|mod_disk_cache trying to rename locked file, decre|
|39238|New|Nor|2006-04-07|mod_auth_dbm requires mod_auth or "no groups file?|
|39275|Opn|Nor|2006-04-11|slow child_init causes MaxClients warning         |
|39287|New|Nor|2006-04-12|Incorrect If-Modified-Since validation (due to syn|
|39299|New|Nor|2006-04-13|Internal Server Error (500) on COPY               |
|39329|Inf|Nor|2006-04-17|mod_dbd reconnection and prepared statements      |
|39370|New|Nor|2006-04-20|SSL session will be removed if the client is sendi|
|39380|Inf|Nor|2006-04-21|mod_disk_cache eats memory, has no LFS support, et|
|39418|New|Nor|2006-04-26|CacheMaxExpire directive not enforced             |
|39448|New|Min|2006-04-29|old-style <directory proxy:*> doesn't give any war|
|39498|New|Nor|2006-05-06|accept_filter in apr assumes if found in sys/socke|
|39517|New|Nor|2006-05-08|Corrupt chunked transfer-encoding with Content Neg|
|39658|Opn|Nor|2006-05-25|mod_proxy_ajp SSL Key Size Bug                    |
|39673|New|Nor|2006-05-29|mod_proxy opens connections that disturb NTLM     |
|39692|New|Nor|2006-05-31|mod_proxy_balancer doesn't retry a failed request |
|39723|Inf|Enh|2006-06-05|Forward proxy does not work in tranparent mode    |
|39727|Ass|Nor|2006-06-05|Incorrect ETag on gzip:ed content                 |
|39730|New|Nor|2006-06-06|LanguagePriority and DefaultLanguage are Case Sens|
|39737|New|Nor|2006-06-06|LogFormat "%{tid}P" reports wrong thread id on Win|
|39748|New|Enh|2006-06-07|Header and POST support for mod_include           |
|39753|New|Nor|2006-06-07|incorrect source for LOCALE Decimal Symbol in Win2|
|39785|Inf|Nor|2006-06-12|Status code 408 (Request Timeout) is not logged   |
|39807|Opn|Enh|2006-06-13|large files / filesystem corruption can cause apac|
|39902|New|Nor|2006-06-27|HeaderName directive breaks mod_filter somehow    |
|39904|New|Nor|2006-06-27|graceful restart error and cpu load               |
|39913|Ass|Blk|2006-06-27|detection of static OpenSSL libraries requiring li|
|39916|New|Nor|2006-06-28|Core Filters & non-blocking Sendfile              |
|39923|New|Nor|2006-06-28|AddDescription doesn't work in server config with |
|39928|New|Nor|2006-06-28|port no detected when file name not in URL        |
|39935|New|Nor|2006-06-29|AddDescription does not do literal comparisons on |
|39973|Ass|Enh|2006-07-06|apache software folder should be movable          |
|40035|New|Cri|2006-07-13|Windows Server 2003 "("R2")" 64-Bit Edition no cgi|
|40060|New|Nor|2006-07-17|AuthGroupFile should accept /etc/group syntax     |
|40075|New|Enh|2006-07-19|unable to use ldap groups that contain DNs and use|
|40102|Opn|Nor|2006-07-24|SCRIPT_NAME set incorrectly with mod_rewrite      |
|40146|New|Nor|2006-07-31|mod_ssl info in server_info is blank              |
|40174|New|Min|2006-08-03|Unable to get IndexOptionis ScanHTMLTitles to work|
|40180|Inf|Maj|2006-08-03|Mod_dav and remove folder doesn't work with Micros|
|40190|New|Nor|2006-08-05|translate file                                    |
|40196|New|Nor|2006-08-06|EILSEQ handling, NoImplicitAdd should work, and so|
|40217|Opn|Nor|2006-08-08|mod_dav PROPFIND ignores access restrictions on it|
|40266|Inf|Blk|2006-08-16|berkeley db support in httpd is screwed           |
|40312|New|Nor|2006-08-24|ssl_engine_init.c, ssl_init_ctx_verify contains a |
|40373|New|Nor|2006-08-31|mod_dir adds trailing slash after internal redirec|
|40408|New|Blk|2006-09-04|Apache 2.2.3 is not starting                      |
|40416|New|Maj|2006-09-05|mod_proxy_ftp cannot connect under http load in fo|
|40441|New|Enh|2006-09-08|intelligently handling dynamic subdomains         |
|40453|New|Nor|2006-09-09|lexicographic compare in RewriteCond isn't lexicog|
|40463|New|Nor|2006-09-11|piped logging causes some weird kill()ing         |
|40513|Opn|Maj|2006-09-14|Seeding PRNG with 0 bytes of entropy              |
|40514|New|Nor|2006-09-14|would like GracefulShutdownTimeout to work for gra|
|40540|Inf|Nor|2006-09-19|Bad interaction between MultiViews and SetOutputFi|
|40541|New|Nor|2006-09-19|Action rewrites URI used by Location?             |
|40571|New|Nor|2006-09-21|mod_proxy_ajp don't works with mod_usertrack      |
|40586|New|Enh|2006-09-22|Add option to supress default '-' output          |
|40746|New|Enh|2006-10-12|Feature request: ProxyAllow directive             |
|40749|New|Min|2006-10-12|magic file with string and "%n" causes Apache chil|
|40781|New|Nor|2006-10-17|PATH_TRANSLATED: 'redirect:/~jablko/gallery2/main.|
|40808|New|Enh|2006-10-23|ProxyRemote with optional proxy authentication    |
|40859|New|Enh|2006-11-01|[PATCH] Support -F force option to 'ab' support to|
|40917|New|Nor|2006-11-07|configure does not detect OpenSSL shared lib on HP|
|40953|New|Min|2006-11-12|Should not send any data in 1xx/204/304 reply from|
|40984|Inf|Enh|2006-11-16|AddIcon, AddIconByType for OpenDocument format    |
|40987|Opn|Enh|2006-11-16|ProxyVia Block doesn't remove Via: header for reve|
|41000|New|Nor|2006-11-19|mod_authn_dbd have an error, in function 'authn_db|
|41025|New|Nor|2006-11-23|ROBOTS META-Tag directive needed in mod_autoindex |
|41088|New|Nor|2006-11-30|installation backcolor is wrong (white)           |
|41111|New|Enh|2006-12-05|New option for filters: run only if there are spar|
|41114|New|Blk|2006-12-06|ACL HTTP method is rejected by mod_proxy_ajp      |
|41130|New|Nor|2006-12-07|mod_mime and mod_negotiation type-map both clobber|
|41143|Opn|Nor|2006-12-10|Incorrect ap_getline assumption in mod_proxy_http |
|41195|New|Nor|2006-12-17|properly set the parent pid on shutdown           |
|41196|New|Nor|2006-12-17|worker mpm usage of apr's memory pools is not thre|
|41200|Inf|Maj|2006-12-18|SSI include, prevent client from receiving full ou|
|41240|Inf|Enh|2006-12-25|BRF files support                                 |
|41262|Inf|Nor|2006-12-29|Embedded pcre causes runtime segfault             |
|41362|Inf|Maj|2007-01-14|mod_disk_cache and mod_include conflict generating|
|41375|Inf|Min|2007-01-15|Using same SSL Certificate with different ServerNa|
|41391|New|Min|2007-01-17|too long period setting makes max-age overflow    |
|41412|New|Enh|2007-01-19|RewriteRule Skip should take negative arguments   |
|41435|New|Nor|2007-01-22|Authentication fails with 500 Server Error        |
|41450|Inf|Cri|2007-01-24|Empty page (200 OK) while max-age is empty        |
|41485|New|Nor|2007-01-28|LDAP client certificates not usable in 2.2.x/trunk|
|41529|New|Enh|2007-02-02|Accept BOM in .htaccess                           |
|41556|New|Enh|2007-02-07|Feature Request: format string for masking ip addr|
|41621|New|Maj|2007-02-15|Apache 2.2.4 backend problem with Apache 2.0.59 Re|
|41646|New|Nor|2007-02-16|wrong headers are sent for HEAD requests when Prox|
|41676|Opn|Enh|2007-02-22|Refactor mod_proxy_ftp                            |
|41685|New|Enh|2007-02-22|Implement optional HTTP Authentication in a standa|
|41712|Inf|Nor|2007-02-26|threads locked at logging state                   |
|41729|New|Maj|2007-02-28|error message: ap_get_scoreboard_lb(130) failed in|
|41744|Inf|Maj|2007-03-01|SSI resolves includes but removes original HTML   |
|41763|Opn|Nor|2007-03-05|mod_disk_cache ignores CacheDirLevels and CacheDir|
|41764|New|Nor|2007-03-05|error state and conf                              |
|41771|Inf|Nor|2007-03-06|Erro with mod_proxy_ajp or mod_prox_balancer      |
|41867|New|Nor|2007-03-16|<DirectoryMatch> Matches Files                    |
|41925|New|Nor|2007-03-21|trivial patch to add automatic crypting to 'dbmman|
|41929|New|Nor|2007-03-22|ISAPI ssl variables                               |
|41953|New|Nor|2007-03-26|pidfile remains when 2nd pass of post-config retur|
|41962|New|Min|2007-03-27|Need mod_auth_ldap to authenticate with Active Dir|
|42001|New|Cri|2007-03-30|LINUX : Could not set LDAP_OPT_X_TLS to LDAP_OPT_X|
|42027|Inf|Nor|2007-04-02|FileETag directive appears to be ignored          |
|42054|New|Nor|2007-04-04|service name and parameter issues                 |
|42079|New|Nor|2007-04-10|SSLRequire: Additional access in sub-directoies   |
|42082|New|Nor|2007-04-10|filter_init is called multiple times after an INCL|
|42182|Inf|Nor|2007-04-22|Mime types for cached proxied content             |
|42216|New|Enh|2007-04-24|RFE -- external overload procedure                |
|42262|Inf|Nor|2007-04-26|mod_dav /  worker fails to allocate memory and seg|
|42287|Inf|Nor|2007-04-28|chunked encoded response to POST request to cgi sc|
|42368|Inf|Nor|2007-05-09|httpd is crashing if conf/extra/httpd-manual.conf |
|42373|Inf|Maj|2007-05-09|REPORT request fails over mod_proxy               |
|42404|New|Enh|2007-05-13|Filename/info for disk-cached proxied remote URLs |
|42425|Inf|Nor|2007-05-15|Additional freshness checks in mod_cache.c cause m|
|42471|Inf|Nor|2007-05-21|clients with IE7 take 3megs per page load. httpd.e|
|42492|Inf|Nor|2007-05-22|mod_proxy_ajp with SSL front end: data corruption |
|42499|Inf|Nor|2007-05-23|Backslash produces a 404 error instead of going to|
|42548|New|Nor|2007-05-30|INCLUDE negotiating language aborts with APR_POOL_|
|42561|New|Enh|2007-05-31|[PATCH] AuthLDAPRemoteUserAttribute only applies i|
|42633|New|Min|2007-06-11|mod_info gives wrong information about actual conf|
|42665|New|Nor|2007-06-14|spurious attempt to open ".../file.html/.htaccess"|
|42666|New|Nor|2007-06-14|code & docs corrections for FollowSymLinks and Sym|
|42667|New|Nor|2007-06-14|mod_proxy_balancer not reporting when workers are |
|42668|Inf|Nor|2007-06-14|balancer_manager shows Ok status for the workers t|
|42687|New|Nor|2007-06-18|Fully delegate certificate & key semantics to the |
|42688|New|Enh|2007-06-18|engine managed keys: per process openssl context  |
|42690|New|Nor|2007-06-18|realm is not set for each configured directory whe|
|42695|Opn|Cri|2007-06-18|mod_proxy balancer problem                        |
|42699|New|Enh|2007-06-20|share mod_logio data with other modules           |
|42711|New|Enh|2007-06-20|format string for whole log entries not just id   |
|42732|Opn|Maj|2007-06-25|Authentication against database issue.            |
|42763|New|Nor|2007-06-28|graceful-stop/restart loops go loop too far       |
|42923|Inf|Maj|2007-07-17|vhost certificate NOT overriding cert from the _de|
|42972|Inf|Nor|2007-07-25|Certificate list in mod_ssl module context are not|
|42977|New|Nor|2007-07-25|DAV locking is busted when apr-util is built with |
|42987|New|Nor|2007-07-27|Weak Etags in Apache are useless and violate RFC 2|
|43012|New|Nor|2007-08-02|AIX instdso.sh libphp5.so                         |
|43027|New|Enh|2007-08-03|Header in default language                        |
|43033|New|Nor|2007-08-04|apxs does not correctly detect module name (w/o -n|
|43177|New|Nor|2007-08-21|child pid xxxxx exit signal Segmentation fault    |
|43218|New|Nor|2007-08-27|Wrong cert used for vhost if ServerName is same   |
|43220|Opn|Cri|2007-08-27|mod_proxy truncating ajp output                   |
|43249|Inf|Maj|2007-08-30|ldap_simple_bind_s failed when using SUN LDAP Libs|
|43275|New|Enh|2007-08-31|Remove avoidable network transactions in mod_proxy|
|43289|New|Nor|2007-09-02|XBitHack full g+x returns zero sized response on I|
|43308|New|Nor|2007-09-04|Persistent backend connections not supported for R|
|43352|New|Nor|2007-09-11|Apache2: out of memory during heavy webdav files c|
|43441|New|Nor|2007-09-20|Incorrect HTTP status for pre-commit-blocked autov|
|43471|New|Min|2007-09-25|no need to create a global pool on open_scoreboard|
|43481|New|Cri|2007-09-26|AuthLDAPURL must contain a final path of branch?(l|
|43494|New|Nor|2007-09-26|mod_cgid does not kill never ending scripts       |
|43502|New|Enh|2007-09-28|httpd fails to start if log directory does not exi|
|43513|New|Nor|2007-09-29|Persistent backend connections for ProxyPassMatch |
|43532|Inf|Cri|2007-10-02|Error while compiling Apache 2.2.3 on HPUX        |
|43533|Opn|Nor|2007-10-02|Frequent crashes in mod_include's bndm()          |
|43561|New|Nor|2007-10-05|apxs -q anomaly                                   |
|43577|Inf|Blk|2007-10-09|mod_authnz_ldap not working under WLDAP32 (novell/|
|43607|New|Nor|2007-10-11|mod_proxy sends data on closed connections without|
|43649|Opn|Trv|2007-10-18|mod_autoindex is generating invalid XHTML markup  |
|43652|New|Enh|2007-10-18|Suggest small change for big fix with SuExec & Vir|
|43666|New|Nor|2007-10-20|CGI works, but client denied error messages in err|
|43679|New|Enh|2007-10-23|Contributed tests for checking that subrequests ta|
|43723|Inf|Cri|2007-10-29|Apache 2.2.6 segfault when using mod_dbd          |
|43724|New|Cri|2007-10-29|Apache 2.2.6 segfault on url wich not in cache    |
|43755|New|Enh|2007-10-31|Add a SSLOptions to don't fill SSL_CLIENT_VERIFY  |
|43762|New|Enh|2007-10-31|Misleading tips in an error message about internal|
|43777|New|Nor|2007-11-01|Wrong encoding of <href> element in response      |
|43778|New|Nor|2007-11-01|Wrong responses if httpd has not access to some el|
|43785|New|Enh|2007-11-02|Tracking the per-hit impact of mod_include        |
|43792|New|Enh|2007-11-04|Feature proposal - bind phase                     |
|43818|New|Nor|2007-11-08|PROPFIND on -w- collections returns 207 MULTI-STAT|
|43838|New|Enh|2007-11-11|If-Modified-Since request and htcacheclean conflic|
|43895|New|Nor|2007-11-18|mod_mbox improvements                             |
|43897|Inf|Cri|2007-11-18|Huge memory consumption httpd 2.2.6, mod_proxy - m|
|43931|New|Enh|2007-11-21|OpenSSL autoconfig support for mod_ssl            |
|43943|New|Nor|2007-11-22|SHMCB crash due to misalignment and GCC 4 optimiza|
|43958|Inf|Maj|2007-11-26|mod_proxy_balancer not balancing correct in combin|
|43997|Opn|Min|2007-11-29|Only issue "Init: SSL server IP/Port conflict" if |
|44025|Inf|Nor|2007-12-05|Apache 2.2.6 fails to configure on OpenBSD 4.1    |
|44027|Ass|Enh|2007-12-05|Internationalized Domain Name (IDN) support       |
|44031|Opn|Maj|2007-12-06|RemoveHandler inside subdir location              |
|44034|Ass|Enh|2007-12-06|mpm_winnt doesn't call monitor hook               |
|44105|New|Nor|2007-12-19|Core dumps when using Proxy Keepalive             |
|44155|New|Enh|2007-12-31|smarter retry for LDAP_UNAVAILABLE, LDAP_BUSY, etc|
|44181|Opn|Enh|2008-01-07|add UnAlias                                       |
|44188|Inf|Cri|2008-01-08|Empty response for certain requests (mod_proxy as |
|44218|New|Min|2008-01-13|mod_autoindex shows the default icon for files wit|
|44221|Opn|Cri|2008-01-14|CheckCaseOnly On does not stop Multiple Choices ba|
|44250|New|Nor|2008-01-16|OSX 10.5: __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_|
|44279|New|Enh|2008-01-22|Add "iterate" flag to apply rule in a loop while p|
|44302|New|Nor|2008-01-27|AuthLDAPURL does not accept ldapi:// urls         |
|44305|New|Nor|2008-01-28|Inconsistent configuration for suexec path        |
|44316|New|Nor|2008-01-28|httpd 2.0 does not follow ScriptAliases when invok|
|44322|New|Enh|2008-01-29|mod_proxy ProxyPassReverseCookieDomain with no dom|
|44351|New|Nor|2008-02-04|File descriptor leak when using prg RewriteMap    |
|44363|Inf|Maj|2008-02-05|Slow file transfers                               |
|44384|Ass|Nor|2008-02-09|mod_ssl on MacOS X 10.5.1 does not work because of|
|44453|New|Nor|2008-02-19|list_hooks.pl doesn't parse declarations that span|
|44476|New|Maj|2008-02-23|Apache service fails to start due to missing depen|
|44503|Inf|Blk|2008-02-27|Errors during SSL handshake                       |
|44518|New|Enh|2008-03-02|Don't set expires header on HTTP redirect.        |
|44578|New|Enh|2008-03-11|mod_authn_dbd option to let database validate pass|
|44601|New|Trv|2008-03-13|Add a lowercase value to Vary header for consisten|
|44602|New|Enh|2008-03-13|Options for modfying Content-Location (relative OR|
|44622|Inf|Nor|2008-03-17|POST fails to SSL vhost with proxy to HTTP backend|
|44631|New|Nor|2008-03-18|with-included-apr fails to work when using a separ|
|44638|New|Nor|2008-03-19|sed error in httpd.spec.in                        |
|44656|New|Nor|2008-03-22|Tries to retrive error document 404 instead of 406|
|44657|New|Enh|2008-03-22|prefer-type, -encoding, and -charset cookie? (as p|
|44670|New|Min|2008-03-25|Apache httpd 2.2.8 : Cannot ./configure when curre|
|44696|Inf|Nor|2008-03-27|mod_cache sometimes serves old content despite hav|
|44730|New|Nor|2008-04-01|duplicate query string in remote server url when u|
|44752|New|Nor|2008-04-03|Suexec does not correctly check that scripts are i|
|44757|New|Enh|2008-04-04|adding stderr buckets to mod_cgi                  |
|44758|New|Enh|2008-04-04|LimitRequestBody undocumented behaviour with proxi|
|44779|New|Enh|2008-04-08|Using commas and semicolons for content negotiatio|
|44855|New|Nor|2008-04-22|irregular balancing with sticky-session after re-e|
|44865|Ass|Nor|2008-04-23|mod_dav's lock database becomes consistently corru|
|44870|Inf|Nor|2008-04-24|process spinning on 100% cpu                      |
|44923|Inf|Min|2008-05-02|consequences of multiple LDAPTrustedGlobalCert    |
|44924|New|Enh|2008-05-02|allow 'CACERTDIR' in mod_ldap                     |
|44940|New|Maj|2008-05-06|Httpd randomly breaks when verifying client certif|
|44981|New|Enh|2008-05-12|Digital Certificates (CN Based) for Authorization |
|45022|New|Nor|2008-05-16|Processing of escaped glob patterns in "Include" d|
|45023|Opn|Reg|2008-05-16|DEFLATE preventing 304 NOT MODIFIED response      |
|45049|Opn|Nor|2008-05-20|mod_mem_cache caches partial content when client c|
|45054|New|Nor|2008-05-21|SSLVerifyClient optional_no_ca is broken          |
|45058|New|Nor|2008-05-21|Mod_SSL does not set AUTH_TYPE with client certifi|
|45078|New|Nor|2008-05-27|mod_proxy stalls when uploading files             |
|45103|Ass|Min|2008-05-30|apachectl should do config test before reload/rest|
|45111|New|Enh|2008-06-01|make mod_usertrack use mod_unique_id if available |
|45116|New|Nor|2008-06-02|fail to check return value of apr_file_dup2() in /|
|45148|New|Enh|2008-06-06|The actual host of the request will be more helpfu|
|45184|New|Enh|2008-06-11|Regular Expression in directive ServerAlias       |
|45187|New|Maj|2008-06-11|Long File name requests gives FORBIDDEN response  |
|45225|New|Nor|2008-06-17|XBitHack breaks DirectoryIndex + MultiViews conten|
|45253|New|Nor|2008-06-23|Unable to build httpd 2.2.9 on Solaris/SPARC      |
|45257|New|Enh|2008-06-23|add (en)force option for UseCanonicalName         |
|45259|New|Enh|2008-06-23|Add /home/[a-z]/* scheme to UserDir conf          |
|45275|New|Maj|2008-06-25|Locked files during expired page renew in disk cac|
|45281|New|Enh|2008-06-25|SITE CHMOD/SEARCH                                 |
|45287|Inf|Min|2008-06-26|build failure because of difference between BSD an|
|45297|New|Min|2008-06-27|mod_dir does not manage correctly the user (r->use|
|45302|New|Enh|2008-06-28|ServerRoot directive                              |
|45355|New|Nor|2008-07-07|ab text and html output jumbo unification         |
|45356|New|Nor|2008-07-07|ab: optionally reduce resource usage (qsort and me|
|45371|New|Nor|2008-07-10|MSI installer requires uninstall of previous versi|
|45374|New|Blk|2008-07-10|Shared memory error on starting httpd with mod_lda|
|45379|Inf|Nor|2008-07-11|[Bug] svn merge, apache and trailing slashes      |
|45385|Inf|Nor|2008-07-11|unable to compile/make 2.2.9 with --enable-ldap   |
|45393|New|Nor|2008-07-14|Apache returns 500 Error when no LDAP credentials |
|45402|New|Nor|2008-07-15|mod_autoindex incorrectly fails to list files     |
|45405|New|Enh|2008-07-16|Allow binding port to be set for individual worker|
|45449|New|Nor|2008-07-21|[PATCH] Add support to WebDav to MOVE/COPY to remo|
|45456|New|Enh|2008-07-22|mod_dbd don't allow more then one database pool   |
|45487|New|Trv|2008-07-27|broken log messages on startup in win32 version   |
|45497|New|Nor|2008-07-29|Scoreboard slot leaked using MaxRequestsPerChild a|
|45512|Ass|Maj|2008-07-31|Bad Performance of mod_proxy with SSL on Solaris 1|
|45524|New|Enh|2008-08-01|Specifying multiple vhost aliases                 |
|45525|New|Enh|2008-08-01|Switch mod_autoindex to Tango icons               |
|45579|New|Nor|2008-08-06|unknown URI scheme in request-URI ignored         |
|45674|New|Enh|2008-08-22|Allow to change error code returned by "Require ld|
|45726|New|Enh|2008-09-02|Build in a maintenance functionallity             |
|45736|New|Nor|2008-09-03|mod_dav needs a directory for its locks and one sh|
|45754|New|Enh|2008-09-06|autoconf macros                                   |
|45763|New|Nor|2008-09-08|No openssl.cnf defined by default causes OpenSSL c|
|45773|New|Nor|2008-09-09|pcre build generates sources to srcdir rather than|
|45788|New|Nor|2008-09-11|mod_log_forensic output shouldn't be buffered when|
|45801|Opn|Nor|2008-09-13|SSLRequireSSL with strictrequire and satisfy any d|
|45838|New|Nor|2008-09-18|mod_authz_owner & directories                     |
|45868|New|Nor|2008-09-23|mod_mem_cache update of headers in cache object is|
|45900|New|Nor|2008-09-26|"make install" fails from read-only filesystem    |
|45905|New|Enh|2008-09-26|ErrorDocument and default URL                     |
|45922|New|Enh|2008-09-30|Expand the conditions under which "SSLVerifyClient|
|45923|New|Nor|2008-09-30|htpasswd tries to open(file, O_RDONLY | O_APPEND) |
|45926|Inf|Nor|2008-10-01|Unable to start apache 2.2.9                      |
|45986|New|Nor|2008-10-10|[info]...Invalid argument: core_output_filter: wri|
|46024|Opn|Nor|2008-10-16|--enable-static is not available in apache's confi|
|46037|Inf|Nor|2008-10-18|Configuration of trusted OCSP responder certificat|
|46040|New|Enh|2008-10-20|Check for existing version of Apache while install|
|46054|New|Nor|2008-10-21|Running httpd returns the error "bad user name nob|
|46070|New|Nor|2008-10-22|MSI installer does not validate custom installatio|
|46071|New|Enh|2008-10-22|Allowing space in between comma and last option in|
|46074|New|Enh|2008-10-23|Need of friendly and easy to use configuration gra|
|46139|New|Nor|2008-11-02|Apache Restart option is not working              |
|46140|New|Enh|2008-11-03|Change error state in balancer manager            |
|46188|Inf|Nor|2008-11-11|Core dumps in apache 2.0.59                       |
|46195|Opn|Nor|2008-11-12|ProxyPass fails with literal IPv6 address         |
|46215|New|Nor|2008-11-14|Race condition in bybusyness algorithm            |
|46231|New|Maj|2008-11-18|Connection Pooling with ajp depends on syntax ?   |
|46241|New|Enh|2008-11-19|mod_expires - ExpiresByPattern or ExpiresIf       |
|46267|New|Nor|2008-11-22|No shared modules build if use --with-apr and --wi|
|46270|New|Enh|2008-11-23|Add FIPS 140-2 mode for mod_ssl for FIPS 1.2 modul|
|46282|New|Nor|2008-11-24|apache2.2 reverse proxy causing full memory and sw|
|46316|New|Maj|2008-12-01|Proxied SSI ProxyTimeout render failure           |
|46317|Inf|Nor|2008-12-01|mod_authnz_ldap.c(373)  seg fault                 |
|46412|New|Nor|2008-12-17|make_child return value not checked               |
|46417|New|Cri|2008-12-19|[notice] Parent: child process exited with status |
|46428|Opn|Nor|2008-12-21|Spaces in URI doesn't encode in proxy-requests    |
|46442|New|Nor|2008-12-29|Semicolon in allow/deny all rules cause reverse lo|
|46449|New|Maj|2008-12-30|Output out of order from SSI include virtual      |
|46454|New|Min|2008-12-30|escaping wildcards in AddIcon filename matching   |
|46475|New|Nor|2009-01-04|build warnings.                                   |
|46499|New|Maj|2009-01-09|httpd accept() return EAGAIN error                |
|46521|New|Nor|2009-01-13|mod_dav doesn't show symlinks                     |
|46529|Ass|Nor|2009-01-14|Child httpd processes crash with Segmentation faul|
|46534|New|Nor|2009-01-14|mod_proxy_ajp scheme and port do not follow UseCan|
|46578|New|Nor|2009-01-21|Flawed header                                     |
|46582|Ver|Min|2009-01-22|RewriteMap internal functions are not well documen|
|46604|New|Nor|2009-01-26|Error thrown when trying to rpmbuild -tb httpd sou|
|46629|New|Maj|2009-01-29|Apache hanging on system calls for php and perl   |
|46634|Ass|Nor|2009-01-30|Requests sometimes take too long, wrong time taken|
|46644|New|Enh|2009-01-31|Clean way to pass custom environment variables to |
|46646|Ass|Nor|2009-02-01|check group membership is sometimes case sensitive|
|46650|Opn|Nor|2009-02-02|CustomLog enviroment condition SCRIPT_FILENAME    |
|46656|New|Enh|2009-02-03|ProxyErrorOverride inside location                |
|46669|New|Enh|2009-02-06|rotatelogs doesn't autocreate directories         |
|46671|Opn|Cri|2009-02-07|Apache periodicaly crashes .                      |
|46678|New|Nor|2009-02-09|Fixed Content-Length using mod_ext_filter with mod|
|46682|New|Nor|2009-02-09|mod_proxy EAI_AGAIN DNS failure                   |
|46685|Opn|Nor|2009-02-09|401 sent without WWW-Authenticate header when requ|
|46709|Opn|Reg|2009-02-12|Expect: 100-continue to an HTTP/1.0 server change |
|46724|Inf|Cri|2009-02-17|WinXP SP3 - Apache crashes on startup in libapr-1.|
|46743|New|Nor|2009-02-19|Inconsistent behavior of "RewriteOptions inherit" |
|46745|New|Maj|2009-02-20|ab.c error :  undefined reference to `BIO_set_call|
|46751|New|Nor|2009-02-21|Can passenv variables who's name contain '(' or ')|
|46762|New|Nor|2009-02-24|Error, SSL/TLS libraries were missing or unusable |
|46765|Opn|Nor|2009-02-25|doubled HTTP header leads to error (Redmine)      |
|46785|Inf|Nor|2009-03-02|Child process increases to 100% (CPU)             |
|46788|New|Nor|2009-03-02|Set resource limits to avoid denial of service att|
|46810|New|Nor|2009-03-05|apxs / apu-1-config outputting erroneous include p|
|46824|New|Nor|2009-03-09|RemoveOutputFilter will not work for Filters added|
|46845|Inf|Cri|2009-03-12|Apache crashes in Windows when using subversion(pr|
|46847|New|Nor|2009-03-13|WebDAV methods with encoding other than "identity"|
|46873|New|Nor|2009-03-18|feature request: connection count on balancer-mana|
|46884|New|Min|2009-03-20|Call to apu_dso_load Fails In apr_ldap_stub.c On O|
|46946|Inf|Nor|2009-03-31|mod_mbox shows email addresses in plain text      |
|46963|New|Nor|2009-04-03|KeepAliveTimout prevents child process from exitin|
|46969|New|Nor|2009-04-05|CustomLog format %m always GET on errors with loca|
|46970|New|Nor|2009-04-05|CustomLog %X does not record aborted connections w|
|47011|New|Reg|2009-04-09|mod_proxy/mod_proxy_balancer hot-standby BalancerM|
|47055|New|Blk|2009-04-20|SSLVerifyClient + Directory doesn't use cache sess|
|47063|New|Nor|2009-04-21|mod_proxy doesn't call post_request handler when t|
|47134|New|Nor|2009-05-01|Last resolve handling when sending client certific|
|47138|New|Nor|2009-05-01|Reverse Proxy & Balancer generate error fault when|
|47152|New|Maj|2009-05-04|Apache is only serving the first character in the |
|47159|New|Nor|2009-05-06|2.2.x logresolve doesn't support ipv6             |
|47167|New|Nor|2009-05-07|Authenticated sessions being switched by reverse p|
|47170|New|Enh|2009-05-08|rotatelogs ring buffer option                     |
|47180|New|Nor|2009-05-11|DBM ssl_scache setting can cause extreme performan|
|47220|Opn|Enh|2009-05-19|Access to environment variables                   |
|47241|New|Min|2009-05-22|Error in rewriting with character ':'             |
|47256|New|Enh|2009-05-23|Enable SSL on a per-port basis                    |
|47289|New|Nor|2009-05-30|Can't build with dynamic libraries on Mac OS 10.4 |
|47295|New|Nor|2009-06-01|AuthDBDUserPWQueryFmt/AuthDBDUserRealmQueryFmt in |
|47329|New|Nor|2009-06-07|SSLCADNRequest* & SSLCACertificate* silently do no|
|47340|New|Nor|2009-06-09|uldap_cache_comparedn() called without a lock     |
|47344|New|Enh|2009-06-10|[FEATURE REQUEST] RedirectCanonicalName           |
|47345|New|Enh|2009-06-10|rotatelogs timeout patch                          |
|47346|New|Maj|2009-06-10|mod_cache doesn't re-cache expired content when La|
|47387|Inf|Nor|2009-06-18|SSL_CLIENT_I_DN and SSL_CLIENT_S_DN use Email inst|
|47392|Opn|Nor|2009-06-18|<FilesMatch> is using the wrong directory         |
|47435|New|Nor|2009-06-26|mod_authz_host does reading of /etc/hosts on each |
|47438|Inf|Enh|2009-06-27|how to create a non-html "listing generated by the|
|47447|New|Enh|2009-06-29|Add possibility to use client IP as a value in Req|
|47484|New|Nor|2009-07-06|Spurious RewriteLock warning when using external m|
|47485|New|Enh|2009-07-06|HTML5 Websocket implementation                    |
|47514|New|Enh|2009-07-12|Personal data and restrictions based on subject di|
|47528|New|Maj|2009-07-14|Worker process won't restart more than once using |
|47542|New|Nor|2009-07-16|Piped logging processes killed before other proces|
|47562|Inf|Nor|2009-07-23|Apache/2.2.3 (Win32) mod_perl/2.0.3-rc1           |
|47578|New|Nor|2009-07-24|compile ERROR with ssl                            |
|47580|Opn|Nor|2009-07-25|mod_cache sends 200 response instead of 304       |
|47586|New|Nor|2009-07-27|httpd -k start doesn't start service when rotatelo|
|47591|New|Min|2009-07-27|show current HTTP_HOST in mod_status scoreboard   |
|47601|New|Enh|2009-07-29|Support X-Forwarded-For in forward proxy requests |
|47625|New|Nor|2009-08-02|2.2.12 win32 msi installer missing                |
|47634|New|Maj|2009-08-04|mod_ldap connection pool session keepalive not imp|
|47643|New|Enh|2009-08-04|added meta tags to xhtml output for ease of search|
|47650|Opn|Trv|2009-08-05|httxt2dbm calculates value size incorrectly       |
|47657|New|Nor|2009-08-06|Make WebDAV MOVE atomic when replacing files on sa|
|47659|New|Nor|2009-08-07|makefile.win needs check for DBM_LIST, dies on bui|
|47664|New|Nor|2009-08-07|ap_proxy_canonenc: does not recode all high-byte c|
|47665|Inf|Blk|2009-08-09|Apache service well launched but blank Screen     |
|47691|New|Enh|2009-08-12|libtool invocations should use --tag              |
|47693|Opn|Nor|2009-08-13|GET request has race condition w.r.t. replacement |
|47706|Inf|Nor|2009-08-19|(20014)Internal error: proxy: error reading status|
|47716|New|Min|2009-08-20|LimitRequestFieldSize and friends not merged well |
|47719|Opn|Enh|2009-08-20|Broken symbolic link (symlink) causes wrong ErrorD|
|47723|New|Nor|2009-08-22|suEXEC and low RLimitMem gives "crit: invalid uid"|
|47743|Inf|Nor|2009-08-26|mod_so segfaults at server startup in ap_find_load|
|47753|New|Nor|2009-08-27|output and error channels not explicitly passed fo|
|47778|Opn|Enh|2009-09-03|wrong exit value on graceful restart              |
|47780|New|Nor|2009-09-03|Critical errors should be marked by time and level|
|47807|Inf|Nor|2009-09-09|Proxy dialog error with Apache 2.2.13             |
|47808|New|Maj|2009-09-09|Child process core dumps when enabling CRL        |
|47814|Inf|Maj|2009-09-10|openssl_pkcs7_sign error                          |
|47838|New|Enh|2009-09-14|Ability to Dynamically Inject Current Time Into a |
|47874|New|Nor|2009-09-18|mod_fcgid crashes if added during restart         |
|47895|New|Maj|2009-09-24|Incorrect 413 error handling                      |
|47908|New|Min|2009-09-27|'invalid result code' in error_log                |
|47981|New|Nor|2009-10-12|allow language specific html-versions (index.html.|
|47982|New|Nor|2009-10-12|correctly interprete non-standard HTTP_ACCEPT_LANG|
|47988|New|Nor|2009-10-12|Segmentation fault                                |
|47989|New|Nor|2009-10-13|Junk string appended to compressed dynamic content|
|47994|New|Enh|2009-10-14|ScriptInterpreterSource apparently broken in Windo|
|48020|New|Nor|2009-10-17|KCP+ Opera support for mod_auth_digest            |
|48037|Inf|Nor|2009-10-21|mod_proxy_http does not handle asynchronous keepal|
|48045|New|Nor|2009-10-23|Apache 2 initgroups alert, Max OS X, abnormal exit|
|48057|New|Nor|2009-10-26|mod_fcgid creates 1 more process then allowed     |
|48094|New|Nor|2009-11-01|Avoid a race condition in close_worker_sockets()  |
|48107|New|Maj|2009-11-02|Mutual Authentication: Order in ca-bundle influenc|
|48115|New|Enh|2009-11-03|Duration to receive the request, generate response|
|48130|New|Maj|2009-11-04|DAV operations on large filesets consume all the O|
|48154|New|Nor|2009-11-06|Requests through mod_isapi are not parsed by HTTP_|
|48164|New|Enh|2009-11-09|add new parameters to rotatelogs                  |
|48219|New|Nor|2009-11-17|Retrying the worker for seems to omit POST variabl|
|48228|New|Nor|2009-11-18|Renegocation requires multiple client authenticati|
|48246|New|Enh|2009-11-19|Check permissions on file/directory specified for |
|48254|New|Trv|2009-11-20|Bogus "DocumentRoot does not exist" warning when s|
|48283|New|Nor|2009-11-25|Proxy errors since httpd 2.2.12 with Tomcat 6.0.20|
|48291|New|Maj|2009-11-26|mod_substitute loops                              |
|48295|Opn|Nor|2009-11-27|ProxyPassReverseCookiePath: Not changing path corr|
|48301|New|Enh|2009-11-30|Feature request: improved connection status report|
|48309|New|Maj|2009-11-30|libapreq2-2.12: "make test" fails at request.t and|
|48312|Opn|Nor|2009-11-30|ProxyPassReverseCookiePath: Not changing path corr|
|48316|Inf|Nor|2009-12-01|ap_run_insert_filter doesn't work in cache_url_han|
|48354|New|Enh|2009-12-08|void ap_custom_response is not supporting the bina|
|48360|New|Enh|2009-12-09|provide sample configuration file for inclusion in|
|48361|New|Enh|2009-12-09|Add global server option for specifying desired DS|
|48364|Opn|Nor|2009-12-10|PHP-generated pages are not cached in spite of per|
|48369|New|Enh|2009-12-10|add option to automatically restart if a script is|
|48431|New|Nor|2009-12-22|Error logging doesn't work when configured to use |
|48440|Inf|Cri|2009-12-23|Segmentation Fault                                |
|48449|Inf|Nor|2009-12-28|make distclean removes core.c and core_filters.c  |
|48465|Opn|Enh|2009-12-30|Support TCP to connect to backends                |
|48499|New|Nor|2010-01-06|mod_rewrite can't redirect to files with ? in them|
|48500|New|Nor|2010-01-06|mod_mbox mishandles right-click to open msg in new|
|48508|New|Nor|2010-01-07|BalancerMember doesn't accept nocanon directive   |
|48549|New|Enh|2010-01-14|Add Cache-Control s-maxage support                |
|48576|New|Nor|2010-01-19|MOVE or COPY in WebDAV fails with 404 when file ex|
|48585|New|Enh|2010-01-20|mod_cache no longer caches expired content        |
|48602|New|Enh|2010-01-23|use asynch ldap_compare so LDAPTimeout applies    |
|48623|New|Maj|2010-01-26|AuthLDAPURL syntax is not RFC-compliant, prevents |
|48639|New|Enh|2010-01-29|Add htcacheclean as a core monitored process      |
|48652|New|Maj|2010-02-01|"AuthType form" fails if a password contains  '&' |
|48659|New|Maj|2010-02-02|Problem with accents in filename and byte serving |
|48687|New|Nor|2010-02-05|mod_rewrite ignores trailing dot in request URI on|
|48705|New|Enh|2010-02-08|flag to allow newlines in the error log as opposed|
|48712|New|Enh|2010-02-09|Add UID and GID to status page                    |
|48719|New|Nor|2010-02-09|[BUG] mod_proxy_ajp return wrong error message whe|
|48721|New|Nor|2010-02-10|[Patch] Add ProxyAllow to mod_proxy               |
|48731|New|Maj|2010-02-11|Prefork not creating processes after 10 servers ar|
|48732|New|Nor|2010-02-12|[BUG] environment variable SCRIPT_NAME output erro|
|48769|New|Nor|2010-02-18|[PATCH] Processes in the busy list should not be k|
|48777|New|Maj|2010-02-19|proxy balancer not detecting correctly when host (|
|48780|New|Enh|2010-02-19|Enable mod_authnz_ldap to accept valid client cert|
|48792|New|Enh|2010-02-22|httpd util apachectl returns wrong status informat|
|48805|New|Nor|2010-02-23|Corrupted response for HTTPS + KEEPALIVE=ON       |
|48808|New|Enh|2010-02-24|mod_authz_owner support for POSIX access control l|
|48819|Inf|Nor|2010-02-25|After users login on the web page, the page does n|
|48842|Inf|Nor|2010-03-02|mod_log_config logs the full size of the file inst|
|48880|Opn|Nor|2010-03-09|error on make                                     |
|48888|New|Nor|2010-03-10|DOCTYPE definitions nearly 11 years out-of-date   |
|48920|New|Enh|2010-03-15|Breadcrumbs on mod_autoindex path                 |
|48921|Inf|Nor|2010-03-16|mod_mem_cache crash, version 2.2.15.0             |
|48937|New|Enh|2010-03-18|Feature proposal - support sasl_bind              |
|48949|Inf|Cri|2010-03-20|fcgid processes never get killed after graceful re|
|48958|New|Nor|2010-03-22|mod_ldap, ldap credential cache & graceful restart|
|48987|New|Trv|2010-03-25|typo in polish translation of HTTP_UNAUTHORIZED.ht|
|49037|New|Enh|2010-04-02|SSLVerifyClient require_no_ca                     |
|49043|New|Maj|2010-04-04|Using ssi include directive overwrites QUERY_STRIN|
|49058|New|Nor|2010-04-06|Prefork MPM tries to accept on closed listener soc|
|49067|New|Nor|2010-04-08|FTPOptions ShowUnAuthorizedFiles does not work    |
|49068|New|Nor|2010-04-08|UTF-8 URL Encode error                            |
|49087|New|Maj|2010-04-11|MSI installation reports "interrupted installation|
|49114|New|Maj|2010-04-13|NTFS junction directories missing from directory l|
|49123|New|Nor|2010-04-14|mod_proxy_ajp does not send the client's SSL chain|
|49131|New|Nor|2010-04-15|Very long URLs cause 404 or 403 errors with SetAct|
|49133|New|Maj|2010-04-16|Windows service recovery options do not work for A|
|49157|New|Nor|2010-04-20|Issues with xml interface for balancer manager    |
|49187|New|Nor|2010-04-26|Crash mod_mem_cache and mod_svn                   |
|49199|New|Enh|2010-04-27|Implement LDAP scope-aware caching in mod_ldap    |
|49220|New|Nor|2010-04-29|feature request for being able to disable FcgidWra|
|49239|New|Blk|2010-05-01|Apache mod_ssl gives coredump with openssl 0.9.8  |
|49277|New|Nor|2010-05-12|Expose a variable to identify SSL Session renegoti|
|49283|New|Nor|2010-05-12|Language of dates on SSI                          |
|49285|New|Enh|2010-05-13|Relative (local to current directory) URLs do not |
|49348|New|Enh|2010-05-27|[mod_log_config] Output log file name format capab|
|49385|New|Maj|2010-06-03|mod_disk_cache server side included files are inte|
|49387|Inf|Cri|2010-06-03|Unable to modify default charset setting to UTF-8 |
|49391|New|Nor|2010-06-05|mod_disk_cache needs to register a cleanup to kill|
|49396|New|Enh|2010-06-06|PATH_INFO normalization, especially relating to vo|
|49427|New|Nor|2010-06-11|mod_cgid and mod_cgi do not return proper value wh|
|49433|New|Enh|2010-06-13|improving info in server status                   |
|49439|New|Nor|2010-06-14|Bug in mod_userdir which prevents suexec from runn|
|49504|New|Nor|2010-06-25|Solaris 10/x64 worker graceful restart problem    |
|49532|New|Nor|2010-06-30|mod_cache: Set-Cookie headers are appended to cach|
|49553|New|Min|2010-07-05|Set QoS bits via APR2 API instead                 |
|49568|New|Maj|2010-07-07|Apache mod_authnz_ldap built with the MS LDAPSDK d|
|49632|Inf|Nor|2010-07-21|mod_authnz_ldap denies users when search is perfor|
|49633|New|Enh|2010-07-21|Handle AD primary groups in mod_authnz_ldap       |
|49642|New|Nor|2010-07-23|mod_rewrite mistakes encoded question mark as path|
|49643|New|Nor|2010-07-23|WebDav plus mod Negotiation causes directory creat|
|49676|New|Nor|2010-07-30|directory with german umlauts are indented by one |
|49680|New|Maj|2010-07-30|Perl script are not running on Win32, Apache 2.2.1|
|49684|New|Enh|2010-08-01|enhancement for ipv6 implementation               |
|49699|New|Nor|2010-08-03|Inconsistent Keep-alive from proxy to the origin s|
|49715|New|Maj|2010-08-06|ProxyPassMatch Url Encoder Problem                |
|49717|New|Enh|2010-08-06|PATCH: Enable SSL Timeout                         |
|49737|Inf|Nor|2010-08-10|order allow,deny does not work on IPv6            |
|49743|New|Maj|2010-08-12|SSI 'echo encoding="(url/none)"' bug              |
|49746|Opn|Enh|2010-08-12|mod_rewrite urlencode option                      |
|49766|New|Maj|2010-08-17|POST request on CGI script generating empty body c|
|49771|New|Nor|2010-08-17|After graceful restart using mod_proxy_ajp, couldn|
|49772|New|Nor|2010-08-18|mod_deflate kicks itself out on Content-Range resp|
|49798|Opn|Nor|2010-08-22|[mod_log_config] Piped Log scripts process cause w|
|49807|New|Enh|2010-08-23|hard to force Content-Type header for non static f|
|49810|New|Nor|2010-08-23|Mod_autoindex output of header/body/footer scrambl|
|49815|New|Enh|2010-08-24|Enable caching for HTTP Range requests / 206 respo|
|49829|New|Trv|2010-08-26|CGI index command line arguments excessively escap|
|49832|New|Enh|2010-08-26|void ap_custom_response is not supporting the bina|
|49859|Opn|Nor|2010-09-01|url with additional filepath generates bad environ|
|49921|New|Nor|2010-09-13|Trailers in chunked http requests are not handled |
|49926|New|Enh|2010-09-14|New option for mod_log_forensics or mod_log_config|
|49980|New|Nor|2010-09-22|can't use a FIFO for SSL key file; mod_ssl checks |
|49981|New|Enh|2010-09-22|Requesting SSLCertificateKeyFile Dialog functional|
|49990|New|Nor|2010-09-23|Feature request: implement ExpiresActive reset    |
|49996|New|Nor|2010-09-24|Proxied ErrorDocument returns 200 OK response code|
|49997|New|Nor|2010-09-24|wrowe promised me...                              |
|50004|New|Nor|2010-09-26|per-dir rewrite without DocumentRoot or RewriteBas|
|50011|New|Cri|2010-09-27|error running apache, and installing apache as a s|
|50024|New|Min|2010-09-29|Mod_cache/mod_mem_cache and mod_security combinati|
|50038|New|Enh|2010-10-01|What Directives apply to a file/directory? Resulta|
|50041|New|Min|2010-10-04|(9)Bad file descriptor: apr_socket_accept: (client|
|50051|New|Nor|2010-10-07|Log PID in first entry logged for each request    |
|50061|New|Nor|2010-10-08|Semicolon character '%3B' seems to be decoded to '|
|50082|New|Nor|2010-10-12|apachectl status returns incorrect exit code      |
|50112|New|Nor|2010-10-18|buildconf broken in two places                    |
|50116|New|Nor|2010-10-19|Apache fragments packets unnecessarily            |
|50151|New|Nor|2010-10-25|Software caused connection abort and apache proces|
|50155|Inf|Nor|2010-10-25|httpd -s attempts to read SSL certificates        |
|50172|Inf|Nor|2010-10-28|Digest allows access bypassing secuity            |
|50227|New|Enh|2010-11-07|Option to fail SSL handshake for diverted SNI conn|
|50237|Inf|Nor|2010-11-08|webdav LOCK access with multiple threads to same f|
|50261|New|Nor|2010-11-12|graceful restart with multiple listeners using pre|
|50262|New|Nor|2010-11-12|mod_rewrite log ip address vs hostname            |
|50274|New|Nor|2010-11-15|always pass CONTENT_LENGTH to the application     |
|50278|New|Nor|2010-11-16|-DFOREGROUND and ap_unixd_killpg()/ap_os_killpg() |
|50290|Inf|Nor|2010-11-18|vanilla apache 2.2.17 installation crashes (lib-ap|
|50296|New|Nor|2010-11-18|LDAPVerifyServerCert and possibly LDAPTrustedMode |
|50317|New|Nor|2010-11-22|Possible error in mod_cache's "Avoiding the Thunde|
|50336|New|Min|2010-11-25|PUT failures do not emit Allow:                   |
|50344|New|Nor|2010-11-26|ProxyPass does not handle different protocols when|
|50357|New|Enh|2010-11-28|improve matching mechanisms for mime type and enco|
|50372|New|Enh|2010-11-29|any reason for allowing ModMimeUsePathInfo only in|
|50390|New|Nor|2010-11-30|WARNING: Unrecognized options : --disable-ipv6    |
|50402|New|Nor|2010-12-02|SetEnv proxy-sendchunks is ignored for small amoun|
|50412|New|Nor|2010-12-04|if IndexOptions +XHTML, the correct MIME type shou|
|50423|Inf|Nor|2010-12-06|Apache is terminated with signal 11, Segmentation |
|50427|New|Nor|2010-12-07|Windows>=Vista+mod_auth_digest+command line=proble|
|50432|New|Enh|2010-12-08|add PCRE-mode for file based matches              |
|50436|New|Enh|2010-12-08|VirtualHost could behave like people expect it to |
|50444|New|Enh|2010-12-09|Pre-close logging handles in cgid agent           |
|50456|Inf|Nor|2010-12-10|Invalid Error 413 crash Apache                    |
|50464|New|Blk|2010-12-13|undefined reference to `BIO_set_callback' `BIO_set|
|50466|Inf|Maj|2010-12-13|httpd process doesn't recycle                     |
|50473|New|Maj|2010-12-14|zlib.dll Problem                                  |
|50521|New|Nor|2010-12-25|Comment at top of sample main config file is wrong|
|50525|New|Nor|2010-12-28|Header directive won't edit Location header from P|
|50530|New|Enh|2010-12-29|Provide rate limiting for failed authentication at|
|50532|New|Enh|2010-12-30|Mail protection                                   |
|50551|New|Nor|2011-01-06|Some proxied connections ignore ttl setting       |
|50562|Opn|Cri|2011-01-09|wrong PATH_INFO CGI environment with non-ASCII UTF|
|50584|New|Enh|2011-01-14|Add error message when RequestReadTimeout triggere|
|50592|New|Maj|2011-01-15|httpd dumps core on an IPv6 only system           |
|50602|New|Nor|2011-01-17|non thread safe functions used in apache httpd pro|
|50619|New|Min|2011-01-19|After changing resolv.conf signaling httpd doesn't|
|50628|New|Blk|2011-01-21|Core dump happens with Apache 2.2.15 using openssl|
|50630|New|Nor|2011-01-21|Apache return 500 error with authentication by LDA|
|50644|New|Enh|2011-01-24|Add support for maximum number of requests per Kee|
|50654|New|Nor|2011-01-25|FileETag ContentMD5 & Filename, optimisation to Co|
|50693|New|Nor|2011-01-31|AllowOverride Options=(not Foo) should permit no-o|
|50704|Inf|Nor|2011-02-01|mod_cache doesn't cache MultiViews                |
|50712|New|Maj|2011-02-02|Restart button only stops the server ...and do not|
|50727|New|Nor|2011-02-07|ISAPI EXTENSION_CONTROL_BLOCK Missing PostData wit|
|50765|New|Enh|2011-02-11|Runtime Backend Pinning via balancer-manager      |
|50770|New|Nor|2011-02-14|a rotatelogs issue, if time changed               |
|50773|Inf|Nor|2011-02-14|Dav lock database corruption                      |
|50774|New|Enh|2011-02-14|Have a way to invalidate cache without other reque|
|50777|New|Nor|2011-02-14|Back port buildconf specifies AC_PREREQ(2.13) fix |
|50796|New|Enh|2011-02-16|record time between keepalives in access log      |
|50807|New|Maj|2011-02-18|mod_proxy fails to send FIN response when a FIN is|
|50814|New|Nor|2011-02-21|SSI exec not working on Windows (Apache 2.x)      |
|50848|New|Enh|2011-03-01|Content Negotiation type map file precedence could|
|50869|New|Enh|2011-03-04|Need directive to control use and timeout of sessi|
|50873|New|Nor|2011-03-04|httpd does not start properly when built from sour|
|50878|New|Nor|2011-03-05|redundant operation when calling apr_stat         |
|50891|New|Nor|2011-03-08|Apache rewrites WWW-Authenticate headers from CGI |
|50902|Inf|Maj|2011-03-09|on major load on the server, poll() hangs         |
|50916|New|Nor|2011-03-11|RewriteMap program: mod_rewrite sends request but |
|50926|New|Nor|2011-03-14|unexpected <Directory> file-matching behavior     |
|50942|New|Maj|2011-03-17|Apache 2.2.16 forward proxy is 5x times slower tha|
|50945|Opn|Nor|2011-03-18|AJP: Missing support for ErrorOverride            |
|50948|Opn|Nor|2011-03-19|Connection not closed when CGI dies waiting for PO|
|50954|New|Nor|2011-03-21|ProxyRemote doesnt use CONNECT method with https s|
|50959|New|Enh|2011-03-23|Add cache-manifest to the mime type list          |
|50976|New|Nor|2011-03-26|Apache losts client's ip (%a or %h) sometimes.    |
|50999|Opn|Nor|2011-03-30|it seems the configure wrong detect my apr-util ve|
|51001|New|Nor|2011-03-31|patch for hook ap_lua_run_lua_open                |
|51005|New|Enh|2011-04-01|Allow to use username in LDAP filter              |
|51006|New|Blk|2011-04-01|Apache consume all memory and swap when setup as r|
|51019|New|Enh|2011-04-04|[PATCH] Implementation of Asynchronous processing |
|51020|Opn|Nor|2011-04-04|[PATCH] Apache/mod_fcgid.so does not start in comp|
|51022|New|Nor|2011-04-05|Segmentation fault on PUT request                 |
|51030|New|Enh|2011-04-06|Way to terminate CGI immediatly after closing conn|
|51078|Inf|Nor|2011-04-18|[PATCH] mod_fcgid spawned CGI Processes gets orpha|
|51079|New|Enh|2011-04-18|[PATCH] mod_fcgid spawned CGI Process cannot imper|
|51080|New|Nor|2011-04-18|[PATCH] mod_isapi does not support Except:100-Cont|
|51103|Opn|Nor|2011-04-21|mod_reqtimeout does not drop connection and return|
|51107|New|Min|2011-04-22|SetOutputFilter and SetInputFilter should allow "n|
|51118|New|Nor|2011-04-26|LDAP cache is cleared after graceful/restart and o|
|51127|New|Nor|2011-04-27|Make ProxyPassReverseCookiePath work as expected  |
|51168|New|Nor|2011-05-08|mod_status Total Traffic won't take account of int|
|51170|New|Nor|2011-05-09|I/O errors when using keep-alive + mod_ssl        |
|51174|New|Min|2011-05-09|SSLRequire predicates using OIDs unknown to openss|
|51186|New|Blk|2011-05-11|NEw Openssl 1.0.1 with new FIPS                   |
|51190|New|Min|2011-05-12|::/0 does not work with allow from and deny from  |
|51194|New|Nor|2011-05-13|FcgidWrapper does not support paths containing a s|
|51201|Inf|Nor|2011-05-15|Strange behavior REQUEST_METHOD & GET in mod_rewri|
|51223|New|Nor|2011-05-18|304 HTTP Not Modified strips out CORS headers     |
|51224|New|Nor|2011-05-18|mod_dav_fs should respect FileETag                |
|51239|New|Nor|2011-05-21|ap_get_client_block may block continuously sometim|
|51257|New|Nor|2011-05-24|Build failed when cross-compiling: ./gen_test_char|
|51258|New|Enh|2011-05-24|new features for mod_substitute                   |
|51296|New|Enh|2011-05-31|Dynamic engine support using SSLCryptoDevice suppo|
|51297|New|Nor|2011-05-31|Improve error handling during "UNLOCK"            |
|51303|New|Nor|2011-05-31|TraceEnable 500 error                             |
|51312|New|Nor|2011-06-01|mod_filter should support adding to the Vary heade|
|51322|New|Enh|2011-06-04|Prepend and append string to LDAP search parameter|
|51359|Inf|Enh|2011-06-11|Added shebang check for //! so that .js scripts wo|
|51365|New|Nor|2011-06-13|Mod_proxy mangles query string with mod_security  |
|51402|New|Nor|2011-06-21|"ForceLanguagePriority Fallback" not working as im|
|51406|New|Maj|2011-06-21|When listing files in subdirectories, the path is |
|51409|New|Nor|2011-06-21|Sorting options accepted by ls, but ignored       |
|51471|New|Nor|2011-07-04|<DirectoryMatch>ed IndexIgnore doesn't            |
|51479|New|Enh|2011-07-05|[PATCH] AB feature to optionally read in a reusabl|
|51491|New|Nor|2011-07-08|mod_dir breaks POSTs to URLs not ending in /      |
|51495|New|Nor|2011-07-11|mod_substitute cpu and memory limit               |
|51517|New|Maj|2011-07-16|mod_proxy_fcgi is not RFC 3875 compliant (SCRIPT_F|
|51522|Ver|Trv|2011-07-18|Wrong French translation in mpm.html ("Certains Mo|
|51542|New|Nor|2011-07-22|Apache HTTP Server vs PVS-Studio                  |
|51543|New|Nor|2011-07-22|Space in username not properly escaped in log file|
|51552|Inf|Cri|2011-07-25|Apache is not starting (2.2.15)                   |
|51573|New|Enh|2011-07-28|Easy way to erase log files                       |
|51576|Inf|Nor|2011-07-28|mod_rewrite rule stopped working                  |
|51600|New|Enh|2011-08-02|Loading the same certificate in multiple virtual h|
|51603|Inf|Maj|2011-08-02|Apache accepts completely bogus HTTP requests (pos|
|51607|Inf|Nor|2011-08-03|DBDPrepareSQL ( ap_dbd_prepare ) does not work cor|
|51629|New|Nor|2011-08-05|DocumentRoot check incorrect when running under ch|
|51674|New|Blk|2011-08-18|AJP Module Bad Request                            |
|51679|New|Min|2011-08-18|Code signature key expired                        |
|51689|New|Trv|2011-08-19|Cross compiling causes multiple Listen directives |
|51695|New|Trv|2011-08-20|Code clean up (ap_rputs merge)                    |
|51707|New|Nor|2011-08-22|ProxyPassReverse issues within <Location> (differe|
|51709|New|Nor|2011-08-23|ServerName/ServerAlias don't work if Host: header |
|51711|New|Nor|2011-08-23|mod_auth_digest have broken shared mem (nonce) cod|
|51718|New|Enh|2011-08-24|Feature Request: Add shorthand to redirect any Ser|
|51725|New|Nor|2011-08-26|Multiple Range: request accepted as "Range: n-m"  |
|51732|New|Nor|2011-08-29|Inconsistencies in log messages' verbosity levels |
|51747|New|Blk|2011-08-31|mod_fcgid loads entire request into memory while p|
|51757|Inf|Enh|2011-09-02|Add support for SASL auth in LDAP                 |
|51778|Inf|Cri|2011-09-07|while buliding(make) a unix source "httpd-2.2.20.t|
|51797|Inf|Maj|2011-09-10|Crash HTTPD(Windows)                              |
|51814|New|Enh|2011-09-14|mod_proxy in Apache HTTP 2.2 FIN_WAIT2 in server s|
|51842|New|Enh|2011-09-18|Suggesting a new action for the Header directive: |
|51858|Inf|Nor|2011-09-21|weird error for mod_rewrite with more then 3 param|
|51864|New|Nor|2011-09-22|mod_cache returns entire entity from origin server|
|51904|New|Nor|2011-09-28|output to stderr from cgi script causes script to |
|51951|New|Nor|2011-10-04|mod_mbox hang on some e-mails on press@a.o - was I|
|51964|Ver|Nor|2011-10-05|Documentation of RewriteRule flag skip unclear    |
|51965|New|Nor|2011-10-05|--with-z=DIR not being honored                    |
|51982|Opn|Nor|2011-10-06|ProxyPassReverse / balancer://cluster/ adds slash |
|51987|Inf|Nor|2011-10-07|RewriteRule doesn't work correctly with apache 2.3|
|51994|New|Enh|2011-10-07|Mod_authn_socache should have some way to flush th|
|52004|Ver|Trv|2011-10-10|Typo "indexe" in French translation of mpm.html   |
|52007|New|Nor|2011-10-10|Content-Length: 0 not set on proxy response       |
|52038|New|Nor|2011-10-16|NameWidth works incorrectly together with Charset=|
|52039|Inf|Nor|2011-10-16|Browser mode does not always work                 |
|52043|New|Nor|2011-10-17|Directories ".", "..", and "/" do not work correct|
|52081|New|Nor|2011-10-24|segfault if mbox files have unexpected names      |
|52090|New|Maj|2011-10-26|Apache thread hangs with error 500 when sending a |
|52120|Opn|Nor|2011-11-01|mod_cache edge case: uncacheable 304 sends cached |
|52123|New|Maj|2011-11-02|DoS: High memory usage in propfind                |
|52132|New|Nor|2011-11-03|[PATCH] process activity score calculated incorrec|
|52139|New|Nor|2011-11-05|Never Syntax Error on non-existent DocumentRoot   |
|52171|Ver|Nor|2011-11-13|confusing documentation of request phases         |
|52174|New|Enh|2011-11-13|Allow hard lower-limits on the number of fcgi serv|
|52178|New|Nor|2011-11-14|IPv6 IPs as ServerName not allowed                |
|52181|Ver|Nor|2011-11-14|mod_rewrite Technical Details Ruleset Processing d|
|52195|Inf|Nor|2011-11-16|Japanese texts are garbled on mailing list archive|
|52196|Inf|Nor|2011-11-16|winnt mpm, others mpm also have this bug. pool sha|
|52207|Inf|Maj|2011-11-18|Upgrade apache version from 2.0.59 to 2.2.12 or ab|
|52222|New|Nor|2011-11-21|IndexIgnore ignores parent directories in argument|
|52247|New|Nor|2011-11-26|mod_mbox gives up on unexpected message format    |
|52248|New|Nor|2011-11-26|Bugzilla version drop-down list does not offer "un|
|52252|New|Nor|2011-11-27|luajit support broken for (at least) luajit 2.0   |
|52253|Inf|Nor|2011-11-28|Timeout doesn't work. mod_proxy_balancer strongly |
|52264|New|Enh|2011-11-30|Update and complete balancer-manager XML output   |
|52269|Inf|Nor|2011-12-01|[mod_proxy] Apache reverse proxy status code trans|
|52275|New|Nor|2011-12-02|memory leak in proxy_ajp_handler                  |
|52298|Inf|Nor|2011-12-07|Can't enter website with client certificate on an |
|52301|New|Enh|2011-12-07|Error message "RSA server certificate ... CN ... d|
|52302|New|Enh|2011-12-07|Better documentation of how server name is determi|
|52304|New|Nor|2011-12-08|<Limit> Does Not Apply When URI Is Folder         |
|52313|New|Enh|2011-12-09|htdbm enhancement: options for colon-in-username, |
|52322|Inf|Enh|2011-12-13|Providing BBC developed httpd modules for inclusio|
|52342|New|Nor|2011-12-15|ap_internal_redirect dropping filters means incons|
|52370|New|Nor|2011-12-19|apreq_decode/url_decode length miscalculation     |
|52377|New|Enh|2011-12-20|Add Directives to assert user, group, and permissi|
|52383|New|Trv|2011-12-24|Instllation log typo                              |
|52391|New|Cri|2011-12-27|100% CPU usage while using Forward Proxy          |
|52395|New|Nor|2011-12-29|reload results in different end environment to res|
|52403|New|Nor|2011-12-31|FallbackResource doesn't work for non-existent PHP|
|52408|New|Nor|2012-01-01|Directoryindex matching automatically redirects   |
|52415|New|Nor|2012-01-03|LockFile placed inappropriately                   |
|52417|New|Nor|2012-01-03|HEADERS information in the file                   |
|52435|New|Nor|2012-01-06|Apache shutdown automatically                     |
|52439|New|Enh|2012-01-09|It should be possible to treat errors in .htaccess|
|52453|New|Enh|2012-01-11|Ability to configure --logfiledir                 |
|52465|New|Nor|2012-01-13|mod_dir is allowed to redirect proxy requests     |
|52481|New|Nor|2012-01-18|Rotatelog.exe crashes Apache after setting 256MB r|
|52485|New|Nor|2012-01-19|CPU load 100%                                     |
|52494|New|Enh|2012-01-22|allow the Action directive to point in the filesys|
|52495|New|Enh|2012-01-22|CACertificate, CADNCertificate, CARevocation, Cert|
|52501|New|Cri|2012-01-23|child pid 10824 exit signal Segmentation fault (11|
|52505|New|Nor|2012-01-23|Include with directory wildcards gives errors for |
|52509|New|Nor|2012-01-23|Resources protected by .htaccess file may not be a|
|52510|New|Cri|2012-01-23|Segmentation Fault 11                             |
|52520|New|Nor|2012-01-24|ProxyRemote & NoProxy directive can not take IPv6 |
|52532|New|Trv|2012-01-26|VirtualHost added TWICE to name-virtual-host list |
|52539|New|Nor|2012-01-26|Apache mod_dav 400 Bad Request for non-existent co|
|52546|New|Nor|2012-01-27|overwrite SERVER_PROTOCOL environment             |
|52573|New|Nor|2012-02-01|mod_speling case correction fails when URI has dou|
|52578|Opn|Enh|2012-02-02|Wrong "bytes sent" logged when connection is close|
|52594|New|Nor|2012-02-03|rpmbuild -ba errors out with "File not found by gl|
|52595|New|Nor|2012-02-03|requests with gzip+chunked encoded body don't prox|
|52605|Inf|Min|2012-02-05|Please allow request lines longer than 8k         |
|52612|New|Nor|2012-02-06|Default Service Account                           |
|52616|Opn|Enh|2012-02-07|SSLUserName uses SSL_CLIENT_S_DN insted of SSL_CLI|
|52617|New|Maj|2012-02-07|Visit the rewrite page from ServerAlias domain vho|
|52623|New|Nor|2012-02-08|does not build with pcre-8.30                     |
|52644|New|Nor|2012-02-12|document how SSL FakeBasicAuth works with strange |
|52668|New|Trv|2012-02-14|More future safe patch for old MSIE ssl-unclean-sh|
|52670|New|Trv|2012-02-15|please clarify the effect of SSLStrictSNIVHostChec|
|52683|New|Enh|2012-02-16|add a symlink option that rechecks the access perm|
|52700|Inf|Blk|2012-02-17|Not rendering html content instead displaying clie|
|52703|Inf|Maj|2012-02-18|SSL+SNI+client-auth "lost" after some time        |
|52710|New|Nor|2012-02-19|mod_fcgid should set PATH_INFO when configured in |
|52756|Inf|Trv|2012-02-24|proxy_html_module LoadModule line not created in h|
|52759|New|Cri|2012-02-24|Apache httpd child process consuming high CPU Util|
|52790|New|Nor|2012-02-28|ldap caching not sufficient                       |
|52795|Opn|Nor|2012-02-29|mod_fcgid fails to spawn process in C:\Program Fil|
|52806|New|Nor|2012-03-01|configure: --with-included-apr is not supported in|
|52807|New|Nor|2012-03-01|some random strings are accepted by "configure" as|
|52816|New|Nor|2012-03-03|Potential segfault in socache_shmcb_create        |
|52817|New|Nor|2012-03-03|Long directory path sucks (but it's really a valid|
|52822|New|Nor|2012-03-04|Quiet installation not fully quiet                |
|52824|Inf|Nor|2012-03-04|Conflicts between AllowOverride and AllowOverrideL|
|52828|New|Maj|2012-03-05|Child process is not replaced in Windows, after a |
|52832|New|Nor|2012-03-05|numerical configuration entry can be mistakenly in|
|52841|Opn|Nor|2012-03-06|[proxy_balancer:emerg] [pid 25593] AH01177: Failed|
|52851|New|Nor|2012-03-07|Core TimeOut directive doesn't work               |
|52860|New|Enh|2012-03-08|Support Transfer-Encoding: gzip                   |
|52865|New|Nor|2012-03-09|Crash by segmentation fault in mod_authn_core in A|
|52870|New|Cri|2012-03-09|100% CPU usage while using Forward Proxy          |
|52874|New|Enh|2012-03-09|Support Use TrustedFirst checking when verifying c|
|52884|New|Nor|2012-03-12|"localhost" leads to start failure                |
|52890|Inf|Nor|2012-03-12|--with-included-apr doesn't work when srclib/apr a|
|52891|New|Nor|2012-03-12|2.2 doesn't perform as well as 1.3                |
|52894|Inf|Nor|2012-03-13|Apache aborts abnormally when ChrootDir is set    |
|52927|Inf|Nor|2012-03-16|[Bug in httpd 2.2.4] [error] (70014)End of file fo|
|52933|New|Nor|2012-03-17|Child survives '-k stop', consuming lots of CPU   |
|52950|New|Nor|2012-03-20|Error when set AuthType to None with valid-user   |
|52963|New|Nor|2012-03-21|Typo in AuthLDAPURL RFC 2255 error message        |
|52975|New|Nor|2012-03-23|Receiving files is suboptimal                     |
|52976|New|Min|2012-03-23|Gratuitous string-duplication in module-configurat|
|52978|New|Enh|2012-03-23|Binding to an interface instead of an address     |
|52995|New|Nor|2012-03-28|httpd -V does not print the default Mutex         |
|53002|New|Nor|2012-03-29|<Location> and auth_form (trailing slash problem?)|
|53015|New|Nor|2012-03-31|missing apr_socket_close                          |
|53016|New|Nor|2012-03-31|missing apr_brigade_destroy                       |
|53023|New|Nor|2012-04-02|mod_rewrite RewriteCond parser error and documenta|
|53037|New|Enh|2012-04-05|clarify mod_ssl documentation on the UID/GID conte|
|53059|New|Nor|2012-04-10|Make httpd easier relocatable by using a variable |
|53098|New|Nor|2012-04-18|mod_proxy_ajp: patch to set worker secret passed t|
|53099|New|Enh|2012-04-18|feature request for mod_remoteip                  |
|53108|New|Enh|2012-04-19|clarification on url-path vs full filesystem path |
|53111|New|Nor|2012-04-20|1% of CMS sites expose database passwords         |
|53121|New|Nor|2012-04-22|Confusing documentation, gzip and deflate         |
|53149|New|Enh|2012-04-25|mod_ldap should/could use mod_socache             |
|53152|Opn|Nor|2012-04-26|RewriteRule documentation: Error about per-directo|
|53156|New|Enh|2012-04-27|CRL validation fails if CRL is missing            |
|53160|New|Cri|2012-04-29|Reverse Proxy mod_deflate doesn't zip back content|
|53183|New|Min|2012-05-03|mod_apreq2 entry point is apreq_module and not apr|
|53193|New|Nor|2012-05-04|SLVerifyClient optional_no_ca + SSLSessionCache = |
|53218|New|Blk|2012-05-11|ProxyPass worker name　(http://localhost:3128/...|
|53233|New|Maj|2012-05-15|Internal error: proxy: error reading status line f|
|53239|New|Maj|2012-05-16|Httpd has problems delivering data on rate-limited|
|53253|New|Maj|2012-05-17|TCP_NOPUSH used with sendfile(2), cause transfers |
|53284|New|Nor|2012-05-24|crash                                             |
|53290|New|Maj|2012-05-24|memory usage                                      |
|53292|New|Min|2012-05-25|add support for HTTP status code 308              |
|53305|New|Nor|2012-05-28|404 errors when adding query string in a balancer |
|53313|New|Nor|2012-05-28|SSI #echo VAR fails (#include OK) if URI/URL has f|
|53319|New|Nor|2012-05-29|Multiple DirectoryIndex statements in the same con|
|53332|New|Nor|2012-05-30|Requests with chunked encoding have no body availa|
|53350|New|Nor|2012-06-01|mod_cache caching 403 responses Apahce 2.2.22     |
|53351|New|Nor|2012-06-02|make fails if layout begins on first line of confi|
|53388|Opn|Nor|2012-06-08|mod_proxy_balanser generates 503 when proxying to |
|53402|New|Trv|2012-06-12|Incorrect error message for mod_ldap params       |
|53461|Inf|Cri|2012-06-23|Compilation problems                              |
|53462|New|Nor|2012-06-25|mod_rewrite does not remove trailing slash when as|
|53479|New|Nor|2012-06-27|mod_rewrite [B] flag should percent-encode the spa|
|53483|New|Enh|2012-06-29|dangerous PCRE patterns in *Match directives      |
|53539|New|Maj|2012-07-12|content type and character set are changing when t|
|53554|New|Nor|2012-07-16|Wrong case for hexadecimal percent encoding [patch|
|53555|New|Maj|2012-07-17|Scoreboard full error with event/ssl              |
|53579|New|Cri|2012-07-20|httpd looping writing on a pipe and unresponsive (|
|53581|New|Blk|2012-07-21|FollowSymlinks doesn't work with DirectoryMatch an|
|53594|New|Enh|2012-07-24|ipad as webserver                                 |
|53595|New|Nor|2012-07-24|Media type qs parameters for MultiViews sent in Co|
|53612|Inf|Nor|2012-07-27|Reverse Proxy causing 500 error SSL proxy 1.0.1c O|
|53618|New|Nor|2012-07-29|proxy_worker_shared fields not maintained in threa|
|53634|New|Nor|2012-08-01|mod_cache returning HTTP 200 for nonexistent resou|
|53638|New|Nor|2012-08-02|Problem with shortcuts to bugzilla in http://httpd|
|53640|Inf|Maj|2012-08-02|make: Fatal error: Command failed for target `htpa|
|53643|New|Cri|2012-08-02|apache segfaults with mod_authn_dbd when dbd_min i|
|53646|New|Nor|2012-08-02|Invalid uniformly distributed balancing of request|
|53651|New|Nor|2012-08-03|Worker failure doesn't have same behaviour as work|
|53667|New|Enh|2012-08-07|Add an equivalent option to "JkOptions ForwardLoca|
|53669|New|Nor|2012-08-07|IndexOptions Incremental IndexOptions documentatio|
|53686|New|Enh|2012-08-09|Status "501 Not Implemented" sent very late       |
|53690|New|Nor|2012-08-09|Calls to semctl() trigger "uninitialized memory" w|
|53692|New|Nor|2012-08-10|mod_auth_form loses request body before login page|
|53693|Opn|Nor|2012-08-10|mod_fcgid performance suffers under increase in re|
|53704|New|Enh|2012-08-13|True online configuration is needed - via LDAP?   |
|53705|New|Nor|2012-08-13|Align server-status balancer display to balancer-m|
|53706|New|Enh|2012-08-13|Include a status display for mod_ldap when present|
|53722|New|Nor|2012-08-15|when -D NO_DETACH is used, no PID file should be c|
|53736|New|Nor|2012-08-17|/balancer-manager doesn't save runtime adjusted se|
|53757|New|Enh|2012-08-21|RewriteMap of type txt should allow specifying col|
|53767|New|Nor|2012-08-23|htcacheclean deletes stale "vary" header files eve|
|53772|New|Nor|2012-08-24|REDIRECT_URL not accessible in mod_proxy          |
|53787|New|Reg|2012-08-28|In forward proxy, doesn't cache disk anymore      |
|53823|New|Nor|2012-09-03|[patch] pure IPv6 only host fix (server/config.c) |
|53835|New|Cri|2012-09-06|mod_proxy_ajp truncate output when using deflate i|
|53870|New|Maj|2012-09-13|Deadlock in CRYPTO_add_lock with Apache 2.2.22 wor|
|53886|New|Nor|2012-09-18|can't start apache control in Redhat Linux 3 X64  |
|53899|New|Nor|2012-09-19|SSL_OP_ALL disables the mitigation code for CVE-20|
|53915|New|Nor|2012-09-21|Colon lost when :port is used in CacheKeyBaseURL  |
|53919|Inf|Enh|2012-09-21|DEFAULT_LOG_FORMAT is not RFC6302 compliant       |
|53923|New|Min|2012-09-23|Overriding CustomLog directive seems impossible   |
|53932|New|Nor|2012-09-25|PROPFIND doesn't support If, If-Match ETag predica|
|53947|New|Enh|2012-09-29|Feature Request, RewriteRule - ProxyPreserveHost f|
|53961|New|Nor|2012-10-04|Null sessions to the default vhost                |
|53970|New|Nor|2012-10-05|Network control directives affects internal subreq|
|53981|New|Nor|2012-10-08|move def of log_request_state from mod_log_config.|
|53988|New|Enh|2012-10-10|Missing FCGIWrapper script should not be a critica|
|53999|Opn|Nor|2012-10-13|Deadlock between procmgr_send_spawn_cmd()/proctabl|
|54030|New|Enh|2012-10-19|Support subjectAltName when (reverse-)proxying    |
|54033|New|Enh|2012-10-21|Parent languages are not ordered according to Acce|
|54072|New|Reg|2012-10-30|Syntax error front-end virtual-path too long      |
|54102|New|Enh|2012-11-05|new feature: automatic route detection            |
|54118|New|Nor|2012-11-08|Handle leak on parent httpd process when rotatelog|
|54126|New|Maj|2012-11-09|Mod_rewrite failing because of url in query string|
|54134|New|Enh|2012-11-11|new feature: ability to use multiple routes in sti|
|54136|New|Min|2012-11-11|balancer-handler shows xml not, when only xml para|
|54158|New|Nor|2012-11-16|Suggestion regarding 2.0 to 2.2 Upgrade Documentat|
|54183|Inf|Nor|2012-11-21|PROPFIND doesn't report getcontenttype property   |
|54215|New|Maj|2012-11-27|configure fails for httpd 2.2.3 with openssl 1.0.1|
|54221|Opn|Nor|2012-11-28|no ErrorLog prefix on CGI errors                  |
|54222|New|Min|2012-11-28|ServerTokens checking is not complete             |
|54223|New|Nor|2012-11-29|AH00554 error when runtime configuration Includes |
|54252|New|Nor|2012-12-05|acinclude.m4 requires -lz when linking with ssl st|
|54253|New|Nor|2012-12-05|mod_proxy_ftp doesn't handle/log partial or cancel|
|54255|New|Nor|2012-12-06|mod_deflate adjusts the headers "too late", should|
|54269|New|Maj|2012-12-09|mod_proxy_html documentation misses several things|
|54276|New|Nor|2012-12-10|rotatelogs not getting killed on graceful restart |
|54280|New|Nor|2012-12-11|mod_auth_form inline login not working with traili|
|54281|New|Nor|2012-12-11|Stick use Partial parameters from query string    |
|54289|New|Nor|2012-12-13|"ap_get_brigade" api is failing in "AP_MODE_SPECUL|
|54306|New|Enh|2012-12-15|add regexp versions of ProxyPassReverse, ProxyPass|
|54309|New|Trv|2012-12-15|clarification on the <Location> directive when use|
|54310|Opn|Nor|2012-12-15|mod_proxy_html drops meta elements with http-equiv|
|54319|New|Reg|2012-12-17|ProxyPass has no effect in <Location> if rewrite o|
|54339|New|Nor|2012-12-21|piped log entries > PIPE_BUF can be interleaved   |
|54342|New|Nor|2012-12-22|AuthnCacheSOCache can't pass args to socache provi|
|54343|New|Maj|2012-12-22|Add sanity checks for malloc() in mpm_winnt.c and |
|54358|New|Nor|2012-12-29|Status 500 when using ldap on Solaris because apr_|
|54363|New|Nor|2012-12-31|make time conversion caching functions thread-safe|
|54364|New|Nor|2012-12-31|Add ref to mod_fcgid docs                         |
|54365|New|Nor|2013-01-02|Connection closed by server during file transfer  |
|54366|New|Nor|2013-01-02|$sysconfdir/extra/httpd-dav.conf is not built base|
|54367|Opn|Maj|2013-01-02|Location header in response to PUT is not %-escape|
|54385|New|Enh|2013-01-08|SSL configuration independent from virtual hosts, |
|54401|New|Nor|2013-01-10|Suggest to make ProxyPassReverseCookieDomain accep|
|54415|New|Enh|2013-01-14|Please tell the root cause of mutex and scoreboard|
|54431|Inf|Blk|2013-01-16|Unable to start the Apache 2.4.3 windows service. |
|54498|New|Nor|2013-01-28|apache crash on any cgi request with certain http |
|54502|New|Nor|2013-01-29|Apache deadlock on epoll_ctl error (1000 process l|
|54512|Inf|Cri|2013-01-31|Apache hung                                       |
|54517|New|Nor|2013-02-01|proxy balancer: timeout or partial failure of back|
|54518|New|Nor|2013-02-01|mod_rewrite not adding Vary header                |
|54519|New|Nor|2013-02-02|httpd already running                             |
|54526|New|Nor|2013-02-05|mod_proxy_http ignores request abortion           |
|54543|New|Enh|2013-02-10|Compile regex only when need                      |
|54546|New|Nor|2013-02-11|httpd crashes on first HUP after change Listen dir|
|54549|New|Nor|2013-02-11|mod_mime AddEncoding and mod_negotiation fix_encod|
|54556|New|Enh|2013-02-13|New flag to add default rule in rule chain        |
|54560|New|Nor|2013-02-13|Potential segfault on return from ap_server_root_r|
|54563|New|Maj|2013-02-15|mod_webdav ignores quota                          |
|54578|New|Nor|2013-02-18|Bad docs or unchecked code for "LimitRequestFields|
|54605|New|Enh|2013-02-24|mod_negotiation should cache the info it generates|
|54608|New|Enh|2013-02-25|Support an option to allow page caching when using|
|54622|New|Nor|2013-02-28|shared memory cleanup                             |
|54626|New|Nor|2013-03-01|mod_authnz_ldap through util_ldap.c does not suppo|
|54633|New|Nor|2013-03-04|Invalid % encoding not rejected                   |
|54637|New|Nor|2013-03-05|Digest: secret not used                           |
|54640|New|Nor|2013-03-05|Slow transaction on a balance member is holding su|
|54649|New|Nor|2013-03-06|Incorrect PIDFILE prevent httpd restart           |
|54653|New|Min|2013-03-08|Suggestion to add https example for forward proxy |
|54656|New|Maj|2013-03-09|SNI and SSLProxyCheckPeerCN based on "connection" |
|54657|New|Nor|2013-03-09|DNS lookup failure for load balancer member does n|
|54683|New|Min|2013-03-13|Ignor directive ErrorDocument with null byte      |
|54699|Opn|Enh|2013-03-15|[feature request] cli webaccess tester            |
|54701|New|Cri|2013-03-15|Apache 2.4.3 Migration Issue Not loading the pages|
|54704|New|Nor|2013-03-15|Web Services stalling on it's own                 |
|54719|New|Nor|2013-03-18|httpd should check for and eventually create pid f|
|54752|New|Nor|2013-03-25|mod_ssl should not use uninitialized memory as ran|
|54782|New|Nor|2013-04-02|Memory Corruption errors - mpm_worker mod_perl    |
|54785|New|Nor|2013-04-02|Random crash when httpd server is stopped         |
|54793|New|Nor|2013-04-03|Socket timeout handler can delete uploaded files P|
|54794|New|Reg|2013-04-03|mod_wsgi|fcgid and subversion >= 1.7 issues       |
|54795|New|Nor|2013-04-03|'apxs -g -n' should be self-referring             |
|54796|Inf|Enh|2013-04-03|CustomLog should be able to use syslog as ErrorLog|
|54804|New|Nor|2013-04-05|mod_fcgid sends a Continue 100 response automatica|
|54813|New|Nor|2013-04-08|documnt the Require args used by authz_dbm includi|
|54816|Inf|Nor|2013-04-08|AH00566: request failed: invalid characters in URI|
|54817|New|Nor|2013-04-09|if prefix and sysconfdir are the same then http.co|
|54820|Inf|Cri|2013-04-09|REwriterule stops working                         |
|54824|New|Nor|2013-04-10|Spec file is missing libuuid-devel requirement    |
|54830|New|Enh|2013-04-11|Make SSLPProxyMachineCertificateFile configurable |
|54848|New|Nor|2013-04-15|Client field too short for IPv6 addresses         |
|54856|Inf|Enh|2013-04-17|NSCreateObjectFileImageFromFile                   |
|54858|New|Nor|2013-04-17|ld duplicate                                      |
|54861|New|Blk|2013-04-18|The number of connections with mysql is more      |
|54869|Inf|Nor|2013-04-19|Non-breaking space characters cause httpd to choke|
|54875|New|Nor|2013-04-23|Conditional request predicated on another URL's ET|
|54878|New|Nor|2013-04-23|Multiple Listen directives prevent server to start|
|54905|Inf|Cri|2013-04-29|Apache2 loops in child Segfaults                  |
|54910|New|Enh|2013-04-30|Format %{Foobar}o cannot be used to log Date and S|
|54911|New|Enh|2013-04-30|Allow logging of fields set by a backend server in|
|54914|New|Nor|2013-04-30|mod_dir DirectoryIndex breaks WebDAV PROPFIND / DE|
|54915|New|Nor|2013-04-30|GET on a WebDAV-enabled collection, with Directory|
|54918|New|Enh|2013-05-02|Implement RFC 6797 HTTP Strict Transport Security |
|54919|Inf|Nor|2013-05-02|*** glibc detected *** /usr/sbin/httpd: double fre|
|54930|New|Nor|2013-05-06|Allow empty message in ErrorDocument directive    |
|54934|Inf|Cri|2013-05-07|Apache is crashing intermittently with a message "|
|54936|New|Nor|2013-05-08|Some potential bugs reported by static analysis to|
|54949|New|Nor|2013-05-10|[PATCH] mod_cache: fix uninitialized tmppath varia|
|54952|Inf|Cri|2013-05-10|[Fri May 10 17:39:01 2013] [error] proxy: CLUSTER:|
|54953|New|Nor|2013-05-11|<VirtualHost 0.0.0.0:80> matches IPv6             |
|54958|New|Nor|2013-05-13|mod_deflate + mod_mime with SSI gives mixed compre|
|54962|New|Maj|2013-05-14|Apache will set incorrect Content-Length header an|
|54965|New|Enh|2013-05-14|Allow ProxyPassMatch in Directory context         |
|54976|New|Nor|2013-05-15|ProxyPass parameter "acquire" and "ttl" ignored in|
|54986|New|Maj|2013-05-16|httpd hanging on large form submit in ap_run_handl|
|54989|New|Nor|2013-05-17|Apache Segfaults on OS X at random - how can I dia|
|54993|New|Nor|2013-05-20|Critical error: File descriptor in bad state: apr_|
|54998|Ver|Nor|2013-05-21|Apache 2.4 terminates all SSL connections using an|
|55000|New|Nor|2013-05-21|Memory usage per process doubles when Apache is co|
|55021|New|Enh|2013-05-28|Support arbitrary sql to authentication username/p|
|55022|Inf|Cri|2013-05-28|child pid 3123 exit signal Bus error (10) - Apache|
|55034|Inf|Maj|2013-05-31|Apache 2.4.4 won't open more that 32k VH file hand|
|55039|New|Enh|2013-05-31|"RequestHeader edit" can't access environment vari|
|55045|New|Nor|2013-06-01|calls to gets() in test_find.c and test_parser.c  |
|55068|New|Enh|2013-06-06|root permissions when writing to per vhosts errorl|
|55069|New|Min|2013-06-06|notice message in error_log even when LogLevel err|
|55070|Opn|Enh|2013-06-06|mod_fcgid stderr always goes to main error log    |
|55072|New|Nor|2013-06-07|ErrorLog doesn't work well when apache shutdown   |
|55093|New|Nor|2013-06-12|[PATCH] mod_fcgid 2.3.7 truncates large posts on R|
|55096|New|Nor|2013-06-12|Make not running on httpd configure Solaris       |
|55098|New|Nor|2013-06-13|does not listen to IP4 when both IP4 address and I|
|55106|New|Enh|2013-06-17|ProxyErrorOverride considers response codes >= 400|
|55117|New|Nor|2013-06-18|GracefullTimeout for worker threads               |
|55148|Inf|Nor|2013-06-26|Error during SSL Handshake with remote server     |
|55152|New|Nor|2013-06-28|graceful restart adjusts to new balancer members, |
|55156|New|Nor|2013-06-28|mod_cache not respecting s-maxage cache-control he|
|55178|New|Nor|2013-07-01|[PATCH] mod_authnz_ldap SASL authentication suppor|
|55192|New|Trv|2013-07-03|htaccess error messages missing request context   |
|55193|New|Min|2013-07-03|ErrorLogFormat is ignored by some modules         |
|55226|New|Enh|2013-07-09|Request for "domain cluster" feature for mod_proxy|
|55234|New|Maj|2013-07-10|Working of attribute "protocol" attribute "protoco|
|55276|Inf|Enh|2013-07-17|Add REST API for load balancer for dynamic registr|
|55278|New|Nor|2013-07-18|mod_session's cookie may be empty, is repeated twi|
|55284|New|Nor|2013-07-20|repeatable segv                                   |
|55286|New|Nor|2013-07-21|Floating point exception (8) in mod_auth_digest   |
|55293|New|Nor|2013-07-22|Incorrect default MIME type for .woff fonts       |
|55306|New|Nor|2013-07-25|Error when copying svn repository, which contains |
|55323|New|Nor|2013-07-29|Double unescaped uri in sub request handler       |
|55327|New|Nor|2013-07-30|Segmentation fault when stopping Apache 2.4.6 norm|
|55340|New|Maj|2013-08-01|Listen for valid, unconfigured IP address passes c|
|55344|New|Nor|2013-08-02|missing ap_hook_monitor on windows                |
|55346|New|Nor|2013-08-02|When on filled quota filesystem, mod_fcgid init in|
|55348|New|Nor|2013-08-02|%h is not changed in logging, only %a             |
|55351|New|Enh|2013-08-04|allow ProxyPassReverseCookieDomain to automaticall|
|55362|New|Nor|2013-08-05|Apache httpd sends "400 Bad Request" to client due|
|55379|New|Min|2013-08-07|htdigest -c doesn't behave as described anymore   |
|55394|New|Nor|2013-08-09|apache 2.4 randomy crashes with signal 6          |
|55401|New|Enh|2013-08-11|document that force-proxy-request-1.0 implies prox|
|55415|New|Maj|2013-08-14|Proxy loop caused by ProxyErrorOverride and ErrorD|
|55431|New|Nor|2013-08-16|mod_negotation does not force the mime type listed|
|55433|New|Nor|2013-08-16|mod_proxy ignores final status code for aborted re|
|55443|Inf|Maj|2013-08-17|never gives 300 multiple choices                  |
|55445|New|Maj|2013-08-18|mod_socache_memcache ignores expiry, creating eter|
|55447|New|Enh|2013-08-18|make type-maps usable again, by making them access|
|55448|New|Nor|2013-08-19|segfault in set_max_workers at event.c:3194 on SIG|
|55449|New|Maj|2013-08-19|AH01185: worker slotmem_create failed --> slotmem |
|55452|New|Maj|2013-08-19|Redirect                                          |
|55458|New|Enh|2013-08-20|allow to configure what mod_ssl responds when one |
|55460|New|Enh|2013-08-21|allow service names to be used in the Listen direc|
|55467|New|Nor|2013-08-21|Support for OpenSSL custom TLS extensions and supp|
|55523|New|Trv|2013-09-04|auth_groupfile error log on access even though suc|
|55535|Inf|Nor|2013-09-08|incorrect check state parametr                    |
|55540|New|Cri|2013-09-09|mod_proxy gzip chunked issue (sample site provided|
|55549|New|Min|2013-09-11|AuthLDAPSubGroupAttribute doesn't do anything     |
|55550|New|Nor|2013-09-11|AuthLDAPSubGroupClass checking is very inefficient|
|55556|New|Nor|2013-09-13|apachebench (ab) doesn't use so_reuseaddr         |
|55557|New|Nor|2013-09-14|Some cppcheck reports                             |
|55573|New|Enh|2013-09-19|FileETag needs MTimeSeconds, MTime with granularit|
|55581|New|Enh|2013-09-22|Support concurrent connections to same FastCGI pro|
|55590|Inf|Maj|2013-09-24|second commit is failing if space is in file name |
|55596|New|Enh|2013-09-25|Add date format used by Expires header            |
|55607|New|Enh|2013-09-28|Re-set HOME environment variable to directory from|
|55615|New|Nor|2013-09-30|Connections are starved and not balanced when conc|
|55619|New|Nor|2013-10-02|Apache httpd reported 500 internal error when uplo|
|55627|New|Min|2013-10-04|Remove unnecessary APLOGNO() for trace logging per|
|55636|Inf|Cri|2013-10-07|long lost child came home - Apache is not respondi|
|55646|Inf|Nor|2013-10-10|non-2xx responses are not considered errors       |
|55654|New|Nor|2013-10-15|Extract variables from configuration without start|
|55670|New|Min|2013-10-18|Startup may fail silently at post_config          |
|55673|New|Nor|2013-10-18|httpd fails to start with SSLProxyMachineCertifica|
|55680|New|Enh|2013-10-20|online manual directory option doesn't exist      |
|55698|New|Maj|2013-10-24|Apache 2.2 + mod_fcgid 2.3.7 (CentOS 6.4) graceful|
|55700|New|Enh|2013-10-24|add something like RewriteOptions InheritDown     |
|55707|New|Nor|2013-10-25|SSLProtocol directive seem to be ignored over diff|
|55708|New|Nor|2013-10-25|Access violation in msvcrt.dll when calling getenv|
|55711|New|Min|2013-10-28|--enable-foo doesn't enable foo                   |
|55712|New|Nor|2013-10-28|Relative <!--#include virtual="../file.shtml"--> g|
|55720|New|Enh|2013-10-29|separate LDAP Bind timeout from LDAPTimeout       |
|55738|New|Nor|2013-11-03|PVS-Studio: few issues                            |
|55763|New|Nor|2013-11-09|raise roots soft RLIMIT_NPROC on linux for high ma|
|55774|New|Nor|2013-11-13|ab: optionally accept tls client certificate      |
|55781|New|Nor|2013-11-15|ajp_read_header: ajp_ilink_receive failed; 120006)|
|55786|New|Maj|2013-11-16|SSLVerifyClient and OptRenegotiate result in a 403|
|55787|New|Maj|2013-11-16|Chroot fails with "Cannot chroot when not started |
|55790|New|Maj|2013-11-17|mod_fcgid lockfile hardcoded to be in /tmp        |
|55793|New|Enh|2013-11-18|DTrace/SystemTap support                          |
|55808|New|Nor|2013-11-21|File integrity verification using MD5 and SHA1    |
|55819|Inf|Nor|2013-11-27|Closing connection behaviour                      |
|55828|New|Cri|2013-11-28|Httpd not start if use ProxyPass balancer://      |
|55834|New|Maj|2013-12-02|Apache does not honor the openssl library path giv|
|55838|New|Nor|2013-12-03|PHP files are being executed instead of downloaded|
|55841|New|Nor|2013-12-04|Misleading news items on bugfix releases ("This ve|
|55856|New|Nor|2013-12-08|YYEMPTY (-2) used as index into yytname (const arr|
|55866|New|Nor|2013-12-11|When ProxyPreserveHost is on, SSL expects the wron|
|55878|New|Nor|2013-12-12|mod_fcgid kills spawned processes too early       |
|55881|New|Nor|2013-12-13|segmentation fault at proxy_util.c:1546           |
|55883|New|Enh|2013-12-14|string callers of ap_expr should be able to transf|
|55887|New|Maj|2013-12-16|In Windows apache, when user access to /con, apach|
|55897|New|Nor|2013-12-17|[PATCH]patch with SO_REUSEPORT support            |
|55898|New|Enh|2013-12-17|[RFE] listen on unix socket?                      |
|55914|New|Reg|2013-12-20|child exit segmentation fault after apache gracefu|
|55919|New|Nor|2013-12-22|EPREFIX and dynamic modules                       |
|55942|New|Nor|2014-01-01|400 - Bad Request on POST (Windows Server 2012 Hyp|
|55952|New|Nor|2014-01-05|ab: SSL keep-alive fails with apr_pollset_poll: Th|
|55962|New|Enh|2014-01-06|mod_remoteip should not allow an external proxy to|
|55963|New|Nor|2014-01-07|Add application/ld+json to mime.types             |
|55981|Opn|Nor|2014-01-09|mod_mbox hang on some e-mails on user@openoffice.a|
|55985|Opn|Nor|2014-01-10|apache does not reopen logs when multiple graceful|
|55989|Opn|Enh|2014-01-11|write to error log upon RewriteRule [F]orbidden   |
|55991|New|Nor|2014-01-12|mod_charset_lite doesn't bail out on non-identity |
|56009|Inf|Cri|2014-01-14|Memory leak in httpd 2.4.3 over time with persista|
|56014|New|Nor|2014-01-15|MOd rewrite CO Cookie method the lifetime flag not|
|56028|New|Enh|2014-01-17|Add http/1.0, http/1.1 NPN advertisement to enable|
|56034|New|Nor|2014-01-20|CPU consumption due to circular linked list in ap_|
|56040|New|Enh|2014-01-21|should be able to remove Max-Age cookie parameter |
|56041|New|Enh|2014-01-21|should be able to disable session expiry increment|
|56052|New|Nor|2014-01-22|ap_session_load called multiple times for expired |
|56055|New|Nor|2014-01-23|Route is not extracted properly when a session coo|
|56064|New|Enh|2014-01-25|Optimize PNGs                                     |
|56067|New|Nor|2014-01-27|FallbackResource doesn't work if directory exists |
|56081|New|Maj|2014-01-28|Apache 2.2.26 SIGSEGVs when POST'ing data         |
|56091|Inf|Nor|2014-01-30|SSL handshake error when httpd compiled on Oracle |
|56098|New|Nor|2014-02-01|duplicate cookie                                  |
|56101|New|Cri|2014-02-03|Apache 2.4.6 ceases processing requests (scoreboar|
|56102|New|Nor|2014-02-03|SSL_CLIENT_S_DN_x509_0 is undefined in the environ|
|56109|New|Nor|2014-02-05|Cannot increase the read limit                    |
|56113|New|Nor|2014-02-06|dist commit messages missing from mail-archives di|
|56131|New|Nor|2014-02-12|ProxyPassReverse / zealously replaces Location hea|
|56135|New|Nor|2014-02-13|Add DC to list of x509 components                 |
|56152|New|Nor|2014-02-18|ProxyBlock does not accept network addresses      |
|56176|New|Nor|2014-02-21|mod_substitute truncates the response body if the |
|56188|New|Nor|2014-02-25|mod_proxy_fcgi does not send FCGI_ABORT_REQUEST on|
|56209|New|Nor|2014-03-03|Uninitialised variables in os/win32/ap_regkey.c   |
|56226|Ver|Nor|2014-03-06|per VirtualHost KeepAliveTimeout is not recognized|
|56229|New|Enh|2014-03-06|ocsp ProxyHost and ProxyPort support              |
|56230|New|Nor|2014-03-07|mod_access_compat can log a bogus client denied me|
|56235|New|Nor|2014-03-07|quotes should be optional around expr             |
|56247|New|Cri|2014-03-12|semaphore creation for proxypass                  |
|56250|New|Nor|2014-03-12|sbindir in config.layout for Apache has bin instea|
|56251|New|Nor|2014-03-12|Increase maximum length of FcgidInitialEnv string |
|56252|New|Enh|2014-03-12|make install as privileged user creates files not |
|56262|New|Nor|2014-03-14|ab does not work with extremely long cookies      |
|56264|New|Trv|2014-03-14|Confusing error with .htaccess rewrite to proxy wh|
|56270|New|Enh|2014-03-15|--with-ssl=/foo w/o pkgconfig needs help on AIX 64|
|56288|New|Enh|2014-03-19|rewrite URLs in style attributes                  |
|56289|New|Nor|2014-03-19|Buffer overflow in mod_proxy_html's string replace|
|56308|New|Nor|2014-03-24|1 second delay in handle request kills performance|
|56312|New|Nor|2014-03-25|Can't configure different balancing workers that c|
|56314|New|Nor|2014-03-25|exiting from MPM-worker child caused assert in apr|
|56326|New|Nor|2014-03-27|cache_quick_handler does not serve responses with |
|56331|New|Nor|2014-03-29|windows 'access denied' during revalidaton of reso|
|56333|New|Enh|2014-03-31|API to resume a SUSPENDED connection              |
|56362|New|Maj|2014-04-08|ldaps only works with port 636. Non-standard port |
|56379|New|Nor|2014-04-09|Number of columns in the results returned from pgs|
|56395|New|Enh|2014-04-11|Allow SERVER_ADDR environment variable to be optio|
|56404|New|Nor|2014-04-12|endless loop  when connect to a website(https)  wh|
|56413|New|Blk|2014-04-15|can not restart httpd on centos 5.10 64bit        |
|56422|New|Nor|2014-04-17|authnz_ldap with other forms of authn can fail req|
|56457|New|Nor|2014-04-25|mod_proxy_html.c: 2 * cut'n'paste errors          |
|56473|New|Nor|2014-04-30|ETags don't change when headers do                |
|56475|New|Enh|2014-04-30|Allow TLS record size to be configured            |
|56483|New|Enh|2014-05-02|add disableKeepAlivePercentage similar to tomcat h|
|56493|New|Min|2014-05-06|mod_expires should not set expires in future for s|
|56495|New|Nor|2014-05-06|Application behind mod_proxy does not get SessionH|
|56500|Opn|Enh|2014-05-07|vhosts priority order with wildcard               |
|56504|New|Nor|2014-05-08|cannot build static support binaries              |
|56508|New|Nor|2014-05-09|Requiring SNI - SSLStrictSNIVHostCheck semantics  |
|56517|New|Enh|2014-05-12|Virtualhosts cannot inherit parent CustomLog      |
|56528|New|Enh|2014-05-15|"bad flags delimiter" - improve helpfulness       |
|56541|New|Nor|2014-05-18|Proxy 502's on large file post requests           |
|56559|New|Nor|2014-05-25|multiple unix sockets in one virtualhost fails    |
|56569|New|Nor|2014-05-27|Null CRC in gzip footer with mod_cgid and ErrorDoc|
|56587|New|Nor|2014-06-03|Many VirtualHost's with SSLEngine On              |
|56590|New|Enh|2014-06-04|(REST-) API for configuring balancer manager remot|
|56594|Inf|Nor|2014-06-05|mod_authn_dbd, mod_dbd and mod_ssl                |
|56598|New|Nor|2014-06-06|Content-Length header should be always interpreted|
|56621|New|Nor|2014-06-13|Rotatelogs.exe first start                        |
|56622|New|Nor|2014-06-13|mod_reqtimeout incorrectly applies timeouts to CON|
|56626|New|Nor|2014-06-15|Add info about rotatelogs to log rotation document|
|56633|New|Nor|2014-06-16|mod_auth_basic breaks mod_autoindex               |
|56645|New|Maj|2014-06-19|socket callback with timeout callback causes infin|
|56664|New|Nor|2014-06-24|Proxy retry timeout does not cope with system time|
|56687|New|Nor|2014-07-01|ProxySourceAddress failed to bind socket to local |
|56697|New|Maj|2014-07-04|status page still shown while blocked             |
|56718|New|Nor|2014-07-14|Cleanup request Host headers when absolute URI are|
|56719|New|Nor|2014-07-14|parallel requests get served with delays          |
|56738|New|Enh|2014-07-17|Ability to extract route from cookie with regexp  |
|56740|New|Nor|2014-07-18|suspended_count not maintained properly with wstun|
|56750|New|Enh|2014-07-20|SuexecUserGroup replacement                       |
|56751|New|Maj|2014-07-20|Fails to properly mitigate Slow Post DoS attack   |
|56753|New|Nor|2014-07-21|mod_lua.so: symbol luaL_openlib: referenced symbol|
|56778|New|Nor|2014-07-28|while running make command i got this error       |
|56794|New|Nor|2014-07-31|Added AuthDBDFullAuthQuery option                 |
|56795|Inf|Nor|2014-07-31|Apache 2.4.10 Program received signal SIGPIPE, Bro|
|56818|Inf|Nor|2014-08-05|SetEnvIf may set invalid string length on empty st|
|56843|New|Enh|2014-08-12|Support different OCSP stapling max ages          |
|56868|New|Nor|2014-08-18|relative LuaRoot broken                           |
|56879|New|Nor|2014-08-22|Information disclosure                            |
|56889|New|Nor|2014-08-26|Close state never dies                            |
|56918|Opn|Blk|2014-09-06|error: 'ap_copy_scoreboard_worker' undeclared here|
|56926|New|Nor|2014-09-08|Filename causes AH02599 slotmem issue             |
|56933|New|Min|2014-09-09|not sure it's an appache bug : some browser want t|
|56942|New|Reg|2014-09-10|Unable to implement TRANSFER-CHUNKED:ENCODING with|
|56943|New|Nor|2014-09-10|mod_proxy_connect - AH02447: err/hup on backconn  |
|56977|New|Maj|2014-09-12|segfaults when using mod_mem_cache + mod_disk_cach|
|56986|New|Blk|2014-09-17|chunked Transfer-Encoding forbidden: /test/test.dl|
|57014|New|Cri|2014-09-24|Incorrect test for CC_FOR_BUILD prevents build (on|
|57023|New|Nor|2014-09-26|Socache shmcb don't cache file bigger than 11k    |
|57028|New|Enh|2014-09-27|mod_spdy - support Apache 2.4                     |
|57044|New|Nor|2014-09-29|[PatchAvailable] Use base64url in mod_unique_id ('|
|57045|New|Nor|2014-09-30|dumpio output strings are missing                 |
|57046|New|Enh|2014-09-30|Add additional parameter to enable check URL befor|
|57056|New|Maj|2014-10-03|Rewrite port is taken into hostname               |
|57067|New|Nor|2014-10-08|A proxy worker both standalone and balancer member|
|57069|New|Nor|2014-10-08|apache ssl timeout during chunked request in rever|
|57073|New|Cri|2014-10-09|Intermittent Connection Issues using default httpd|
|57085|New|Enh|2014-10-14|Implement Proxy Protocol in httpd                 |
|57087|New|Nor|2014-10-14|mod_proxy_fcgi doesn't send cgi CONTENT_LENGTH var|
|57100|Ver|Nor|2014-10-16|"SSLProtocol ALL" is ignored for virtual hosts    |
|57101|New|Enh|2014-10-16|[PATCH] Better error reporting when child spawn fa|
|57109|New|Nor|2014-10-17|GPG verification examples are wrong               |
|57119|Opn|Enh|2014-10-20|Suppress address reuse / DNS cache in mod_proxy   |
|57120|New|Nor|2014-10-21|Disable SSLv3 by default (POODLE)                 |
|57121|New|Nor|2014-10-21|ocsp stapling should not pass temporary server out|
|57131|New|Nor|2014-10-22|OCSP Stapling scalability concern                 |
|57159|New|Min|2014-10-28|mod_ssl OCSP Stapling directives don't support per|
|57160|New|Nor|2014-10-29|httxt2dbm doesn't generate files on NAS           |
|57174|New|Nor|2014-10-31|Update windows visual studio build                |
|57210|New|Nor|2014-11-14|LuaHookMapToStorage not firing in per-directory co|
|57211|New|Enh|2014-11-14|Config-time options                               |
|57212|Opn|Nor|2014-11-14|Headers returned by scripts are limited to 8190 by|
|57218|New|Nor|2014-11-15|[Feature Request] Apache Bench (AB) to output a cs|
|57219|New|Nor|2014-11-15|ApacheBench quits unexpectedly with high concurren|
|57220|New|Nor|2014-11-15|[Feature Request] Add option to ApacheBench to giv|
|57228|New|Nor|2014-11-17|glibc detected *** httpd: double free or corruptio|
|57229|New|Maj|2014-11-17|mod_sed dies on long lines                        |
|57286|New|Nor|2014-11-29|Symbolic links are not honoured                   |
|57298|New|Min|2014-12-02|RewriteBase inside FilesMatch behaves oddly       |
|57299|New|Enh|2014-12-02|mod_session_dbd should not make a database call pe|
|57300|New|Enh|2014-12-02|mod_session_dbd should not save the session at eac|
|57301|New|Enh|2014-12-02|Add SessionMaxAgeAbsolute Directive               |
|57304|Inf|Nor|2014-12-03|MySQL DBD Authentication Incompatible with SSL    |
|57311|New|Nor|2014-12-04|BalancerMember enclosed by <If> gives syntax error|
|57313|New|Nor|2014-12-05|The DefaultType directive has been removed        |
|57327|New|Nor|2014-12-08|mod_ssl seg fault on exit                         |
|57334|Ver|Maj|2014-12-09|Segmentation fault in SSL_renegotiate at ssl_lib.c|
|57337|New|Nor|2014-12-10|Content negotiation fails with conditional Redirec|
|57339|New|Enh|2014-12-10|ErrorLogFormat doesn't allow logging in Internet d|
|57360|New|Nor|2014-12-17|Fail gracefully on certificate/key mismatch       |
|57372|New|Nor|2014-12-19|httpd will lookup every home directory while start|
|57374|Ver|Nor|2014-12-19|Event MPM: Wrong KeepAliveTimeout when system cloc|
|57375|New|Enh|2014-12-19|Support LibreSSL as an alternative toolkit for mod|
|57379|New|Nor|2014-12-20|[patch] Makefile.in  with mpm-shared, cgi and cgid|
|57383|New|Cri|2014-12-21|Error retrieving Report: An Existing connection wa|
|57386|New|Blk|2014-12-22|html5 lost some comments                          |
|57398|New|Maj|2014-12-26|AH01075: Error dispatching request to : (passing b|
|57399|New|Nor|2014-12-28|Many unnecessary CPU wakeups per second           |
|57406|New|Nor|2014-12-31|cgi-bin script is not executing                   |
|57412|New|Maj|2015-01-04|rewrite rules causes duplicate requests           |
|57416|New|Nor|2015-01-06|htcacheclean thinks the cache is smaller than it a|
|57424|Opn|Nor|2015-01-07|mod_rewrite not using ap_context_document_root    |
|57436|New|Enh|2015-01-12|Option to strip extra data after websocket request|
|57439|New|Enh|2015-01-13|Allow to change body timeout per location         |
|57448|New|Nor|2015-01-16|SSI <!--#set --> cannot capture backreferences fro|
|57453|New|Maj|2015-01-17|403 error when virtualhost configured with non-exi|
|57471|New|Nor|2015-01-20|Apache 2.4.10 Compilation fails when compiling aga|
|57477|New|Nor|2015-01-21|mod_auth_digest AH00052: child pid $pid exit signa|
|57483|New|Nor|2015-01-22|Omit "Keep-Alive" header on 1.1 connections       |
|57492|New|Nor|2015-01-24|incomplete chunked-transfered request body is not |
|57506|New|Nor|2015-01-27|<If> directive doesn't work within a <Location> se|
|57510|New|Enh|2015-01-28|Engine keyform support for private keys           |
|57511|New|Maj|2015-01-28|Opening plain TCP Socket on SSL port causes denial|
|57515|New|Nor|2015-01-30|Define/Undefine don't work reasonably outside of g|
|57519|New|Nor|2015-02-01|change SSLv2 to SSLv3 or remove SSLv2 support allt|
|57526|Opn|Maj|2015-02-03|Apache 2.2.29_openssl-1.0.1k_x86_64 Error creating|
|57529|Opn|Nor|2015-02-03|htcacheclean doesn't show the cached URL with '-a'|
|57585|New|Nor|2015-02-13|httpd fails to start if there is an IncludeOptiona|
|57590|New|Nor|2015-02-18|loading mod_proxy_http makes rewriteRule's [proxy]|
|57591|New|Nor|2015-02-18|DirectoryIndex directive cannot be overwritten    |
|57616|New|Maj|2015-02-23|AB - DNS roundrobin support                       |
|57624|New|Enh|2015-02-23|Provide support for http/2.0                      |
|57631|New|Nor|2015-02-24|Useless test in acinclude.m4                      |
|57632|New|Nor|2015-02-24|mod_systemd passes invalid default to APACHE_MODUL|
|57635|New|Nor|2015-02-25|meta-refresh is not rewritten by mod_proxy_html   |
|57636|New|Nor|2015-02-25|URLs without protocol are not rewriten by mod_prox|
|57641|New|Maj|2015-02-27|mod_substitute: Invalid merge order               |
|57646|New|Enh|2015-02-27|SSLEngine inside If directive                     |
|57660|New|Trv|2015-03-04|AB - free memory allocated by xmalloc and xcalloc |
|57680|New|Nor|2015-03-09|SSLSessionCacheTimeout has no effect              |
|57685|New|Nor|2015-03-10|Requests are denied while the mod_cgid daemon star|
|57691|New|Nor|2015-03-12|mod_proxy/proxy_util confuses UDS scheme with HTTP|
|57695|New|Nor|2015-03-12|[core:warn] [pid 1120] (101)Network is unreachable|
|57710|New|Nor|2015-03-15|Wildcard matching for logging headers             |
|57725|New|Enh|2015-03-18|ApacheBench: include http status code in gnuplot o|
|57742|New|Nor|2015-03-23|"reliable piped logging" doesn't work for ErrorLog|
|57745|New|Nor|2015-03-23|httpd exits 1 with no stderr when proxy_balancer_m|
|57746|New|Nor|2015-03-23|Apache hangs on startup using MPM event           |
|57751|Inf|Maj|2015-03-24|Problems with proxy reverse to websockets         |
|57756|New|Enh|2015-03-25|Config options for handling of pipelined request  |
|57757|New|Cri|2015-03-25|extern apr_xlate_t *ap_locale_to_ascii variable gi|
|57771|New|Nor|2015-03-27|cleanup_script uses incorrect connection ID       |
|57774|Inf|Nor|2015-03-28|httpd.conf <IfModule proxy_html_module> content er|
|57777|New|Nor|2015-03-30|Security concerns with documentation of AddHandler|
|57781|New|Nor|2015-03-31|disable reconnection after connection error       |
|57784|New|Enh|2015-03-31|[RFE] Multiple ErrorLog directives                |
|57795|Opn|Maj|2015-04-07|mod_proxy_wstunnel sometimes does not connect and |
|57800|New|Nor|2015-04-09|High CPU usage in ap_core_output_filter           |
|57807|New|Enh|2015-04-13|Build-configurable environment variable length    |
|57810|New|Nor|2015-04-13|Should apache ignore difference in trailing dot be|
|57813|New|Nor|2015-04-14|Rewrite 'pre-compressed content' recipe using 2.4 |
|57814|New|Nor|2015-04-14|Teach mod_deflate how to serve pre-comressed conte|
|57819|New|Nor|2015-04-15|Need a conventions document                       |
|57832|New|Enh|2015-04-19|Reduction of response splitting attacks consequenc|
|57853|Inf|Nor|2015-04-24|mod_proxy_http sends request with header 'Expect: |
|57868|New|Nor|2015-04-28|SIGSEV when lacking correct DB access permissions |
|57876|New|Reg|2015-04-30|logresolve.exe on any Windows immediately crashes |
|57878|New|Nor|2015-04-30|Using UTF-8 for all languages, and avoiding html-e|
|57895|New|Min|2015-05-05|missing m4a mimeType in mime.types                |
|57911|New|Min|2015-05-09|Rewrite documentation unclear or wrong about what |
|57927|New|Maj|2015-05-13|Segmentation Fault at proxy_util.c:994            |
|57933|New|Min|2015-05-18|apr_port_t returns constant                       |
|57941|New|Nor|2015-05-21|config.status: line 331: syntax error near unexpec|
|57949|New|Enh|2015-05-25|new mod_ssl environment variable SSL_{CLIENT|SERVE|
|57950|New|Nor|2015-05-26|[patch] buildconf change hint in build to newer ap|
|57960|New|Nor|2015-05-27|PUT truncates response body; status_line appears t|
|57976|New|Cri|2015-05-30|Server threads stale when sending 500 status with |
|57978|New|Nor|2015-06-01|unix:/ works with any number of / slashes  except |
|57979|New|Nor|2015-06-01|can not turn change log level for mod_filter      |
|57996|New|Nor|2015-06-03|Symlinks erroneously not followed when target inod|
|57997|New|Nor|2015-06-03|Threads started during child_init don't block sign|
|57999|New|Nor|2015-06-04|ap_getparents() may remove start slash of uri     |
|58001|New|Enh|2015-06-04|Implement Forwarded header (RFC 7239) to mod_proxy|
|58007|New|Nor|2015-06-06|400 Bad Request with fully qualified domain name o|
|58020|New|Nor|2015-06-11|When user authenticates with certificate which has|
|58025|New|Enh|2015-06-11|mod_authz_dbd : new dbd-query and AuthzDBDQuery op|
|58026|New|Nor|2015-06-11|return 421 status code when SNI and Host: header d|
|58044|New|Cri|2015-06-16|Error sintax 'lua_dump'                           |
|58050|New|Nor|2015-06-17|ErrorDocument does not always work                |
|58073|New|Nor|2015-06-24|Extremely long time for graceful restart          |
|58089|New|Nor|2015-07-01|mod_authz_host uses proxy IP even when mod_remotei|
|58091|New|Nor|2015-07-02|mod_socache_memcache does not reuse memcache conne|
|58097|New|Enh|2015-07-03|[feat] Preserve original connecting IP            |
|58101|New|Nor|2015-07-05|DeflateCompressionLevel inside vhost resets logfor|
|58107|New|Blk|2015-07-06|Httpd crashes on startup every time, dump file att|
|58109|New|Nor|2015-07-06|Apache on windows cannot handle the hash symbol (#|
|58118|Inf|Min|2015-07-09|mod_proxy_fcgi logs 503 when user aborts connectio|
|58120|New|Nor|2015-07-10|ProxyPassInherit does not work as expect          |
|58121|New|Nor|2015-07-10|ProxyHTMLMeta seems to ignore all <meta http-equiv|
|58126|New|Nor|2015-07-11|[patch] acinclude.m4 fix "warning: underquoted def|
|58129|New|Nor|2015-07-12|man pages are not generated correctly             |
|58132|New|Nor|2015-07-12|non-standard, non-traditional man page layout make|
|58135|New|Nor|2015-07-14|mod_cache sends client "if-Modified-Since" to back|
|58141|New|Nor|2015-07-15|Apache Service doesn't start when rotatlogs.exe pa|
|58142|New|Nor|2015-07-15|authz_core ignores loglevel                       |
|58158|New|Nor|2015-07-21|Not honoring HTTP spec with regard to Accept-Encod|
|58168|New|Enh|2015-07-21|Would like full request evaluation support in Rewr|
|58171|New|Nor|2015-07-22|ap_session_save saves the wrong session after a de|
|58177|New|Enh|2015-07-24|Mod Proxy forward trailers in http chunked request|
|58180|New|Enh|2015-07-24|ErrorDocument original URL in subsequent <Location|
|58181|New|Enh|2015-07-25|mod_expire should allow "minus" keyword same like |
|58188|New|Nor|2015-07-28|http2 mod_lua: support build with lua 5.2+        |
|58197|New|Nor|2015-07-31|apr-util-1.5.4 build against openldap - "could not|
|58202|New|Enh|2015-07-31|apxs -q += HTTPD_MAJOR , HTTPD_MMN variables      |
|58213|New|Nor|2015-08-05|Can't use SUITEB128 etc. OpenSSL cipher strings wi|
|58225|New|Reg|2015-08-08|intermitant segfault 11 in session_identity_encode|
|58226|New|Nor|2015-08-08|XSS in Error Page                                 |
|58231|New|Nor|2015-08-11|RewriteCond can add "Host" to the Vary-Header     |
|58235|New|Enh|2015-08-12|Ability to allow from domain but with using forwar|
|58243|New|Nor|2015-08-14|rotatelogs goes infinite at startup               |
|58248|New|Nor|2015-08-17|Error 404 in use some characters of utf8 in url   |
|58257|New|Nor|2015-08-18|require ldap-group does not work if account-fullna|
|58278|New|Nor|2015-08-24|apache - mod_security Issue : apache no releasing |
|58280|New|Nor|2015-08-24|Backend connection not closed until timeout if cli|
|58288|New|Blk|2015-08-27|Semaphore amount increase until crash when enablin|
|58292|New|Nor|2015-08-27|FallbackResource breaks chunked encoding sometimes|
|58304|New|Nor|2015-08-30|Unexpected Warnings from Macro Use in 2.4         |
|58305|New|Nor|2015-08-30|mod_cgi documentation not clear about what is pass|
|58306|New|Nor|2015-08-30|documentation needs to make it clear which directi|
|58307|New|Nor|2015-08-31|Segmentation fault in child in "read(__nbytes, __b|
|58317|New|Min|2015-09-02|Error message AH01630 is missing file name on deny|
|58334|New|Min|2015-09-06|WebDAV HTTP access does not include meta tag for c|
|58335|New|Nor|2015-09-07|mod_authnz_ldap mismatch                          |
|58343|New|Nor|2015-09-08|The pdf files come up as a blank page.            |
|58349|New|Nor|2015-09-09|Support OPENSSL_NO_SSL3 builds                    |
|58354|New|Maj|2015-09-10|(20014)Internal error (specific information not av|
|58356|New|Blk|2015-09-10|Session jumping due to incorrect route            |
|58364|New|Reg|2015-09-11|Apache Server is restarted time to time (Release 2|
|58417|New|Min|2015-09-16|ApacheBench (ab) won't display Server Software of |
|58419|New|Nor|2015-09-16|ApacheBench (ab) doesn't work with keep-alives aga|
|58423|New|Reg|2015-09-17|Apache >= 2.4.8 PCRE_DUPNAMES causes build failure|
|58437|New|Nor|2015-09-21|mod_h2: h2c doesn't work using upgrade from http 1|
|58454|New|Nor|2015-09-24|Invalid FB (first byte) logging when using SSL/TLS|
+-----+---+---+----------+--------------------------------------------------+
| Total 1546 bugs                                                           |
+---------------------------------------------------------------------------+

From dev-return-83949-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Sep 27 07:28:24 2015
Return-Path: <dev-return-83949-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 59CBE17884
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 27 Sep 2015 07:28:24 +0000 (UTC)
Received: (qmail 47848 invoked by uid 500); 27 Sep 2015 07:28:24 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 47778 invoked by uid 500); 27 Sep 2015 07:28:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 47769 invoked by uid 99); 27 Sep 2015 07:28:23 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Sep 2015 07:28:23 +0000
Received: from [192.168.50.79] (unknown [213.253.214.218])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 572CB1A0338
	for <dev@httpd.apache.org>; Sun, 27 Sep 2015 07:28:23 +0000 (UTC)
Subject: Re: Lua coroutines
To: dev@httpd.apache.org
References: <CF168CEE-5526-4949-9D52-F29F5EF8EBE2@jaguNET.com>
From: Daniel Gruno <humbedooh@apache.org>
Message-ID: <56079A90.1060506@apache.org>
Date: Sun, 27 Sep 2015 09:28:16 +0200
User-Agent: Mozilla/5.0 (Windows NT 6.3; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <CF168CEE-5526-4949-9D52-F29F5EF8EBE2@jaguNET.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 7bit

Not to mention that should we opt for the Lua coroutines, this would 
also indirectly mean it would be possible to dynamically alter the HTTP 
process using custom scripts, which could be very interesting :) sort of 
like mod_lua on steroids ;). Other ways this could be used would be unit 
testing, where you could inject things into every crevice of httpd 
dynamically without having to recompile when you change the test.

With regards,
Daniel.

On 2015-09-26 19:10, Jim Jagielski wrote:
> I've been keen on libmill, which provides a golang-like
> goroutine library. It seems that such functionality would
> be cool for httpd
>
> Then I started thinking: Lua also has a great coroutine impl
> and it is also MIT licensed and might be easier to fold
> into httpd. Anyone ever look at that? Having something like
> ap_routine() would be awful cool. We already have some Lua
> expertise here and being able to use native coroutines in httpd
> itself would be very neat, esp for 2.6/3.0


From dev-return-83950-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Sep 27 14:53:22 2015
Return-Path: <dev-return-83950-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9D65F17F01
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 27 Sep 2015 14:53:22 +0000 (UTC)
Received: (qmail 35162 invoked by uid 500); 27 Sep 2015 14:53:17 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 35088 invoked by uid 500); 27 Sep 2015 14:53:17 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 35075 invoked by uid 99); 27 Sep 2015 14:53:17 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Sep 2015 14:53:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 99F25C0596
	for <dev@httpd.apache.org>; Sun, 27 Sep 2015 14:53:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id soxPIWzSLnWZ for <dev@httpd.apache.org>;
	Sun, 27 Sep 2015 14:53:10 +0000 (UTC)
Received: from resqmta-ch2-06v.sys.comcast.net (resqmta-ch2-06v.sys.comcast.net [69.252.207.38])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id C849E42B5D
	for <dev@httpd.apache.org>; Sun, 27 Sep 2015 14:53:09 +0000 (UTC)
Received: from resomta-ch2-05v.sys.comcast.net ([69.252.207.101])
	by resqmta-ch2-06v.sys.comcast.net with comcast
	id NEt11r0032Bo0NV01Et3w8; Sun, 27 Sep 2015 14:53:03 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-05v.sys.comcast.net with comcast
	id NEt21r0092U0RYt01Et28g; Sun, 27 Sep 2015 14:53:03 +0000
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: Lua coroutines
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <56079A90.1060506@apache.org>
Date: Sun, 27 Sep 2015 10:53:02 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <C0872731-CB74-421F-B421-1C684171312F@jaguNET.com>
References: <CF168CEE-5526-4949-9D52-F29F5EF8EBE2@jaguNET.com> <56079A90.1060506@apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1443365583;
	bh=g/+D+fTtHAuz9SpLf4ltDoySrHcDBB0icC9fyEdEk9w=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=Ozyah9p2kjCMjWhb7jucHVGiv0/lhUBv7C8TuOq0NgI2z4zbvhFxwA8AyULRPIWAN
	 7EUQzV7bv99ZdbWwr7myUvAx7IimfQQqNJPLUPfey6Xkk3HN6/ZcumQ4V+Zp6eLYzF
	 LlyymbNMkJoKcJ6Ekuu8UjYPvB91ebPv1J3+xQKz3YNpgXO7sQVm259gI5En2MqjBm
	 +DdjF+U3DQSP5UBhVzp4MpdraJTOs7ZvmTedrV53BtCUcvQev5cnE3/ToA3rqwBq5l
	 lYotEehJmEL8JvmBDPFYVhDNiIbhhXe7C9NKburVM06JBa28YyfzuDgPVkflj8axn/
	 4+/GpmMfnQOyA==

The more I think of it, leveraging Lua into the core of httpd would
be a super win. If httpd knew that Lua was embedded, even if mod_lua
itself wasn't enabled, think of the cool stuff we could do.

Also, fwiw, libmill went 1.0 GA today. My main focus has been on
making it not gcc dependent and to work on a larger group of
systems, and not so much on the actual functionality itself,
mostly to make it more possible as a httpd dependent lib :)

> On Sep 27, 2015, at 3:28 AM, Daniel Gruno <humbedooh@apache.org> =
wrote:
>=20
> Not to mention that should we opt for the Lua coroutines, this would =
also indirectly mean it would be possible to dynamically alter the HTTP =
process using custom scripts, which could be very interesting :) sort of =
like mod_lua on steroids ;). Other ways this could be used would be unit =
testing, where you could inject things into every crevice of httpd =
dynamically without having to recompile when you change the test.
>=20
> With regards,
> Daniel.
>=20
> On 2015-09-26 19:10, Jim Jagielski wrote:
>> I've been keen on libmill, which provides a golang-like
>> goroutine library. It seems that such functionality would
>> be cool for httpd
>>=20
>> Then I started thinking: Lua also has a great coroutine impl
>> and it is also MIT licensed and might be easier to fold
>> into httpd. Anyone ever look at that? Having something like
>> ap_routine() would be awful cool. We already have some Lua
>> expertise here and being able to use native coroutines in httpd
>> itself would be very neat, esp for 2.6/3.0
>=20


From dev-return-83951-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Sun Sep 27 18:41:31 2015
Return-Path: <dev-return-83951-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D6DC01825F
	for <apmail-httpd-dev-archive@www.apache.org>; Sun, 27 Sep 2015 18:41:31 +0000 (UTC)
Received: (qmail 19838 invoked by uid 500); 27 Sep 2015 18:41:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 19773 invoked by uid 500); 27 Sep 2015 18:41:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 19763 invoked by uid 99); 27 Sep 2015 18:41:28 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 27 Sep 2015 18:41:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id EE4DEC0959
	for <dev@httpd.apache.org>; Sun, 27 Sep 2015 18:41:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.007
X-Spam-Level:
X-Spam-Status: No, score=-0.007 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id GCxzBfWIWEh9 for <dev@httpd.apache.org>;
	Sun, 27 Sep 2015 18:41:26 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id EF61D42BB4
	for <dev@httpd.apache.org>; Sun, 27 Sep 2015 18:41:25 +0000 (UTC)
Received: from [192.168.220.248] (unknown [192.168.220.248])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 27B6E830EF
	for <dev@httpd.apache.org>; Sun, 27 Sep 2015 19:41:25 +0100 (BST)
From: Graham Leggett <minfrin@sharp.fm>
Content-Type: multipart/mixed; boundary="Apple-Mail=_6A4BE87B-F14F-4446-8C54-1371910991FA"
Message-Id: <38C56976-E693-4EEE-88BA-85DE3328FED3@sharp.fm>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: [Patch] Async write completion for the full connection filter stack
Date: Sun, 27 Sep 2015 20:41:24 +0200
References: <A57B894B-50DA-4252-8FFF-C3DEF8473A61@sharp.fm> <D4B68B53-592F-4EEC-B39F-EFC9887F60D5@jaguNET.com> <715A3AE8-8015-4537-943F-A34E0E2A76F7@sharp.fm> <D7EA895A-9C37-4387-AE89-C1B7DF9B0706@jaguNET.com> <540DFB30.6050700@apache.org> <2F3B060C-E383-407F-A24C-7F026AD3CA81@sharp.fm> <AB1691BE05AE7F4992697F2A0835627AC5D859AB@VOEXM10W.internal.vodafone.com> <AA9FAD6C-8E83-4F5F-8F18-BC3BECF8B0A1@sharp.fm> <CAKQ1sVPFJk9-Y=JwDLvJcYT7ZCQ=xbuBRS9fu8Me_T-3f2fVXg@mail.gmail.com> <C6246136-6B10-4F7B-8261-6723ABD26817@sharp.fm> <CAKQ1sVMw0-=LsqPEkWYs1QP8daMYv=eaxhRT8gsnrppooVzuMg@mail.gmail.com> <7A74676C-AA9D-40E1-A434-9280C297217D@sharp.fm> <54128B11.9080803@apache.org> <496E8EFA-7A10-4D91-8C7E-434A9A3B09C5@sharp.fm> <541499A9.5050408@apache.org> <4D9E72F8-4918-49AD-8DC4-E3594C9ED43D@sharp.fm> <04776F50-0A53-4C1D-AA1C-9F57B60BC0AC@sharp.fm>
To: dev@httpd.apache.org
In-Reply-To: <04776F50-0A53-4C1D-AA1C-9F57B60BC0AC@sharp.fm>
X-Mailer: Apple Mail (2.2104)


--Apple-Mail=_6A4BE87B-F14F-4446-8C54-1371910991FA
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=windows-1252

Hi all,

I think I have cracked the async problem for both request and connection =
output filters with this patch.

It provides three new functions:

- ap_filter_reinstate_brigade() - Used at the start of a filter, =
brigades that were set aside earlier are reinstated for sending.

- ap_filter_should_yield() - Returns true if downstream filters have set =
aside data. A filter would typically respond by setting aside the data =
it is working with and returning in the expectation of being called =
again.

- ap_filter_setaside_brigade() - Used at the end of a filter, any =
brigades that were not processed can be set aside to continue the job =
when called later.

The magic happens in the MPM itself. The first time =
ap_filter_setaside_brigade() is called the filter is added to a =
hashtable and a cleanup is registered to have the filter removed when =
the request and/or connection is cleared. The MPM iterates through this =
hashtable, and sends empty brigades to any filter with setaside data.

Key to this technique is that existing filters remain unaffected - in =
the absence of any changes to a filter the whole brigade will be =
processed and sent downstream, and existing behaviour is maintained. =
Same with FLUSH buckets - as expected, flush behaviour remains =
unchanged.

If however the filters in the chain are able to setaside buckets, they =
can defer themselves to the write completion phase which in turn can =
take full advantage of the event MPM. These filters will be expected to =
handle an empty brigade to =93kick=94 them back into life and continue =
the writing of their setaside data. As soon as their setaside brigade =
becomes empty the kicks then stop. All filters with setaside data get =
kicked exactly once, so none of the filters should get starved. Filters =
that are removed from the stack get their setaside emptied, and so =
become ineligible for kicks. When the pool cleanup gets triggered, the =
filter is permanently removed from the connection and disappears.

Over and above the network filter the first filter to be modified is =
mod_ssl, and this will allow files served over SSL to take advantage of =
write completion. Another filter that will benefit from using the above =
calls is mod_deflate.

I have an additional goal of adding an ap_filter_suspend() method that =
will allow us to suspend a filter for a given period of time or until =
some callback is triggered, but that will be a separate patch.

Regards,
Graham
--

--Apple-Mail=_6A4BE87B-F14F-4446-8C54-1371910991FA
Content-Disposition: attachment;
	filename=httpd-async-fullstack-ssl6.patch
Content-Type: application/octet-stream;
	name="httpd-async-fullstack-ssl6.patch"
Content-Transfer-Encoding: 7bit

Index: include/httpd.h
===================================================================
--- include/httpd.h	(revision 1705548)
+++ include/httpd.h	(working copy)
@@ -55,6 +55,7 @@
 #include "apr_buckets.h"
 #include "apr_poll.h"
 #include "apr_thread_proc.h"
+#include "apr_hash.h"
 
 #include "os.h"
 
@@ -1191,6 +1192,12 @@
 
     /** Array of requests being handled under this connection. */
     apr_array_header_t *requests;
+
+    /** Empty bucket brigade */
+    apr_bucket_brigade *empty;
+
+    /** Hashtable of filters with setaside buckets for write completion */
+    apr_hash_t *filters;
 };
 
 struct conn_slave_rec {
Index: include/util_filter.h
===================================================================
--- include/util_filter.h	(revision 1705548)
+++ include/util_filter.h	(working copy)
@@ -278,6 +278,13 @@
      *  to the request_rec, except that it is used for connection filters.
      */
     conn_rec *c;
+
+    /** Buffered data associated with the current filter. */
+    apr_bucket_brigade *bb;
+
+    /** Dedicated pool to use for deferred writes. */
+    apr_pool_t *deferred_pool;
+
 };
 
 /**
@@ -519,8 +526,11 @@
  */
 
 /**
- * prepare a bucket brigade to be setaside.  If a different brigade was
+ * Prepare a bucket brigade to be setaside.  If a different brigade was
  * set-aside earlier, then the two brigades are concatenated together.
+ *
+ * If *save_to is NULL, the brigade will be created, and a cleanup registered
+ * to clear the brigade address when the pool is destroyed.
  * @param f The current filter
  * @param save_to The brigade that was previously set-aside.  Regardless, the
  *             new bucket brigade is returned in this location.
@@ -533,6 +543,56 @@
                                          apr_bucket_brigade **b, apr_pool_t *p);
 
 /**
+ * Prepare a bucket brigade to be setaside, creating a dedicated pool within
+ * the filter to handle the lifetime of the setaside brigade. If a non-empty
+ * amount of data was set aside, the counter indicating whether data exists
+ * in the output chain is incremented.
+ * @param f The current filter
+ * @param bb The bucket brigade to set aside.  This brigade is always empty
+ *          on return
+ */
+AP_DECLARE(apr_status_t) ap_filter_setaside_brigade(ap_filter_t *f,
+                                                    apr_bucket_brigade *bb);
+
+/**
+ * Reinstate a brigade setaside earlier, and calculate the amount of data we
+ * should write based on the presence of flush buckets, size limits on in
+ * memory buckets, and the number of outstanding requests in the pipeline. If
+ * data was previously set aside, the counter indicating whether data exists
+ * in the output chain is decremented.
+ *
+ * If the brigade passed in is empty, we reinstate the brigade and return
+ * immediately on the assumption that any buckets needing to be flushed were
+ * flushed before being passed to ap_filter_setaside_brigade().
+ *
+ * @param f The current filter
+ * @param bb The bucket brigade to restore to.
+ * @param flush_upto Work out the bucket we need to flush up to, based on the
+ *                   presence of a flush bucket, size limits on in-memory
+ *                   buckets, size limits on the number of requests outstanding
+ *                   in the pipeline.
+ * @return If positive, there are at least THRESHOLD_MIN_WRITE bytes to write
+ *         past the bucket marked by flush_upto, or if negative, the original
+ *         brigade to write was empty. If zero, there is less than
+ *         THRESHOLD_MIN_WRITE bytes to write, and the caller might choose to
+ *         wait for more data to arrive before writing.
+ */
+AP_DECLARE(int) ap_filter_reinstate_brigade(ap_filter_t *f,
+                                            apr_bucket_brigade *bb,
+                                            apr_bucket **flush_upto);
+
+/**
+ * This function calculates whether there are any as yet unsent
+ * buffered brigades in downstream filters, and returns non zero
+ * if so.
+ *
+ * A filter can use this to determine whether the passing of data
+ * downstream might block, and so defer the passing of brigades
+ * downstream.
+ */
+AP_DECLARE(int) ap_filter_should_yield(ap_filter_t *f);
+
+/**
  * Flush function for apr_brigade_* calls.  This calls ap_pass_brigade
  * to flush the brigade if the brigade buffer overflows.
  * @param bb The brigade to flush
Index: modules/ssl/ssl_engine_io.c
===================================================================
--- modules/ssl/ssl_engine_io.c	(revision 1705548)
+++ modules/ssl/ssl_engine_io.c	(working copy)
@@ -1679,20 +1679,24 @@
     bio_filter_in_ctx_t *inctx;
     bio_filter_out_ctx_t *outctx;
     apr_read_type_e rblock = APR_NONBLOCK_READ;
+    apr_bucket *flush_upto = NULL;
 
     if (f->c->aborted) {
         apr_brigade_cleanup(bb);
         return APR_ECONNABORTED;
     }
 
+    inctx = (bio_filter_in_ctx_t *)filter_ctx->pbioRead->ptr;
+    outctx = (bio_filter_out_ctx_t *)filter_ctx->pbioWrite->ptr;
+
+    /* Reinstate any buffered content */
+    ap_filter_reinstate_brigade(f, bb, &flush_upto);
+
     if (!filter_ctx->pssl) {
         /* ssl_filter_io_shutdown was called */
         return ap_pass_brigade(f->next, bb);
     }
 
-    inctx = (bio_filter_in_ctx_t *)filter_ctx->pbioRead->ptr;
-    outctx = (bio_filter_out_ctx_t *)filter_ctx->pbioWrite->ptr;
-
     /* When we are the writer, we must initialize the inctx
      * mode so that we block for any required ssl input, because
      * output filtering is always nonblocking.
@@ -1707,6 +1711,16 @@
     while (!APR_BRIGADE_EMPTY(bb)) {
         apr_bucket *bucket = APR_BRIGADE_FIRST(bb);
 
+        /* if the core has set aside data, back off and try later */
+        if (!flush_upto) {
+            if (ap_filter_should_yield(f)) {
+                break;
+            }
+        }
+        else if (flush_upto == bucket) {
+            flush_upto = NULL;
+        }
+
         /* If it is a flush or EOS/EOR, we need to pass this down.
          * These types do not require translation by OpenSSL.
          */
@@ -1774,8 +1788,13 @@
                 break;
             }
         }
+
     }
 
+    if (APR_STATUS_IS_EOF(status) || (status == APR_SUCCESS)) {
+        return ap_filter_setaside_brigade(f, bb);
+    }
+
     return status;
 }
 
Index: server/core.c
===================================================================
--- server/core.c	(revision 1705548)
+++ server/core.c	(working copy)
@@ -5007,6 +5007,8 @@
 
     c->id = id;
     c->bucket_alloc = alloc;
+    c->empty = apr_brigade_create(c->pool, c->bucket_alloc);
+    c->filters = apr_hash_make(c->pool);
 
     c->clogging_input_filters = 0;
 
Index: server/core_filters.c
===================================================================
--- server/core_filters.c	(revision 1705548)
+++ server/core_filters.c	(working copy)
@@ -78,9 +78,7 @@
 #define APLOG_MODULE_INDEX AP_CORE_MODULE_INDEX
 
 struct core_output_filter_ctx {
-    apr_bucket_brigade *buffered_bb;
     apr_bucket_brigade *tmp_flush_bb;
-    apr_pool_t *deferred_write_pool;
     apr_size_t bytes_written;
 };
 
@@ -328,11 +326,6 @@
     return APR_SUCCESS;
 }
 
-static void setaside_remaining_output(ap_filter_t *f,
-                                      core_output_filter_ctx_t *ctx,
-                                      apr_bucket_brigade *bb,
-                                      conn_rec *c);
-
 static apr_status_t send_brigade_nonblocking(apr_socket_t *s,
                                              apr_bucket_brigade *bb,
                                              apr_size_t *bytes_written,
@@ -358,33 +351,24 @@
                                          conn_rec *c);
 #endif
 
-/* XXX: Should these be configurable parameters? */
-#define THRESHOLD_MIN_WRITE 4096
-#define THRESHOLD_MAX_BUFFER 65536
-#define MAX_REQUESTS_IN_PIPELINE 5
-
 /* Optional function coming from mod_logio, used for logging of output
  * traffic
  */
 extern APR_OPTIONAL_FN_TYPE(ap_logio_add_bytes_out) *ap__logio_add_bytes_out;
 
-apr_status_t ap_core_output_filter(ap_filter_t *f, apr_bucket_brigade *new_bb)
+apr_status_t ap_core_output_filter(ap_filter_t *f, apr_bucket_brigade *bb)
 {
     conn_rec *c = f->c;
     core_net_rec *net = f->ctx;
     core_output_filter_ctx_t *ctx = net->out_ctx;
-    apr_bucket_brigade *bb = NULL;
-    apr_bucket *bucket, *next, *flush_upto = NULL;
-    apr_size_t bytes_in_brigade, non_file_bytes_in_brigade;
-    int eor_buckets_in_brigade, morphing_bucket_in_brigade;
+    apr_bucket *flush_upto = NULL;
+    int should_write;
     apr_status_t rv;
     int loglevel = ap_get_conn_module_loglevel(c, APLOG_MODULE_INDEX);
 
     /* Fail quickly if the connection has already been aborted. */
     if (c->aborted) {
-        if (new_bb != NULL) {
-            apr_brigade_cleanup(new_bb);
-        }
+        apr_brigade_cleanup(bb);
         return APR_ECONNABORTED;
     }
 
@@ -397,33 +381,14 @@
          * allocated from bb->pool which might be wrong.
          */
         ctx->tmp_flush_bb = apr_brigade_create(c->pool, c->bucket_alloc);
-        /* same for buffered_bb and ap_save_brigade */
-        ctx->buffered_bb = apr_brigade_create(c->pool, c->bucket_alloc);
     }
 
-    if (new_bb != NULL)
-        bb = new_bb;
-
-    if ((ctx->buffered_bb != NULL) &&
-        !APR_BRIGADE_EMPTY(ctx->buffered_bb)) {
-        if (new_bb != NULL) {
-            APR_BRIGADE_PREPEND(bb, ctx->buffered_bb);
-        }
-        else {
-            bb = ctx->buffered_bb;
-        }
-        c->data_in_output_filters = 0;
-    }
-    else if (new_bb == NULL) {
-        return APR_SUCCESS;
-    }
-
     /* Scan through the brigade and decide whether to attempt a write,
      * and how much to write, based on the following rules:
      *
-     *  1) The new_bb is null: Do a nonblocking write of as much as
+     *  1) The bb is empty: Do a nonblocking write of as much as
      *     possible: do a nonblocking write of as much data as possible,
-     *     then save the rest in ctx->buffered_bb.  (If new_bb == NULL,
+     *     then save the rest in ctx->buffered_bb.  (If bb is empty,
      *     it probably means that the MPM is doing asynchronous write
      *     completion and has just determined that this connection
      *     is writable.)
@@ -465,87 +430,12 @@
      *     then save the rest in ctx->buffered_bb.
      */
 
-    if (new_bb == NULL) {
-        rv = send_brigade_nonblocking(net->client_socket, bb,
-                                      &(ctx->bytes_written), c);
-        if (rv != APR_SUCCESS && !APR_STATUS_IS_EAGAIN(rv)) {
-            /* The client has aborted the connection */
-            ap_log_cerror(APLOG_MARK, APLOG_TRACE1, rv, c,
-                          "core_output_filter: writing data to the network");
-            apr_brigade_cleanup(bb);
-            c->aborted = 1;
-            return rv;
-        }
-        setaside_remaining_output(f, ctx, bb, c);
+    should_write = ap_filter_reinstate_brigade(f, bb, &flush_upto);
+
+    if (APR_BRIGADE_EMPTY(bb)) {
         return APR_SUCCESS;
     }
 
-    bytes_in_brigade = 0;
-    non_file_bytes_in_brigade = 0;
-    eor_buckets_in_brigade = 0;
-    morphing_bucket_in_brigade = 0;
-
-    for (bucket = APR_BRIGADE_FIRST(bb); bucket != APR_BRIGADE_SENTINEL(bb);
-         bucket = next) {
-        next = APR_BUCKET_NEXT(bucket);
-
-        if (!APR_BUCKET_IS_METADATA(bucket)) {
-            if (bucket->length == (apr_size_t)-1) {
-                /*
-                 * A setaside of morphing buckets would read everything into
-                 * memory. Instead, we will flush everything up to and
-                 * including this bucket.
-                 */
-                morphing_bucket_in_brigade = 1;
-            }
-            else {
-                bytes_in_brigade += bucket->length;
-                if (!APR_BUCKET_IS_FILE(bucket))
-                    non_file_bytes_in_brigade += bucket->length;
-            }
-        }
-        else if (AP_BUCKET_IS_EOR(bucket)) {
-            eor_buckets_in_brigade++;
-        }
-
-        if (APR_BUCKET_IS_FLUSH(bucket)
-            || non_file_bytes_in_brigade >= THRESHOLD_MAX_BUFFER
-            || morphing_bucket_in_brigade
-            || eor_buckets_in_brigade > MAX_REQUESTS_IN_PIPELINE) {
-            /* this segment of the brigade MUST be sent before returning. */
-
-            if (loglevel >= APLOG_TRACE6) {
-                char *reason = APR_BUCKET_IS_FLUSH(bucket) ?
-                               "FLUSH bucket" :
-                               (non_file_bytes_in_brigade >= THRESHOLD_MAX_BUFFER) ?
-                               "THRESHOLD_MAX_BUFFER" :
-                               morphing_bucket_in_brigade ? "morphing bucket" :
-                               "MAX_REQUESTS_IN_PIPELINE";
-                ap_log_cerror(APLOG_MARK, APLOG_TRACE6, 0, c,
-                              "will flush because of %s", reason);
-                ap_log_cerror(APLOG_MARK, APLOG_TRACE8, 0, c,
-                              "seen in brigade%s: bytes: %" APR_SIZE_T_FMT
-                              ", non-file bytes: %" APR_SIZE_T_FMT ", eor "
-                              "buckets: %d, morphing buckets: %d",
-                              flush_upto == NULL ? " so far"
-                                                 : " since last flush point",
-                              bytes_in_brigade,
-                              non_file_bytes_in_brigade,
-                              eor_buckets_in_brigade,
-                              morphing_bucket_in_brigade);
-            }
-            /*
-             * Defer the actual blocking write to avoid doing many writes.
-             */
-            flush_upto = next;
-
-            bytes_in_brigade = 0;
-            non_file_bytes_in_brigade = 0;
-            eor_buckets_in_brigade = 0;
-            morphing_bucket_in_brigade = 0;
-        }
-    }
-
     if (flush_upto != NULL) {
         ctx->tmp_flush_bb = apr_brigade_split_ex(bb, flush_upto,
                                                  ctx->tmp_flush_bb);
@@ -571,16 +461,7 @@
         APR_BRIGADE_CONCAT(bb, ctx->tmp_flush_bb);
     }
 
-    if (loglevel >= APLOG_TRACE8) {
-        ap_log_cerror(APLOG_MARK, APLOG_TRACE8, 0, c,
-                      "brigade contains: bytes: %" APR_SIZE_T_FMT
-                      ", non-file bytes: %" APR_SIZE_T_FMT
-                      ", eor buckets: %d, morphing buckets: %d",
-                      bytes_in_brigade, non_file_bytes_in_brigade,
-                      eor_buckets_in_brigade, morphing_bucket_in_brigade);
-    }
-
-    if (bytes_in_brigade >= THRESHOLD_MIN_WRITE) {
+    if (should_write) {
         rv = send_brigade_nonblocking(net->client_socket, bb,
                                       &(ctx->bytes_written), c);
         if ((rv != APR_SUCCESS) && (!APR_STATUS_IS_EAGAIN(rv))) {
@@ -599,43 +480,12 @@
         }
     }
 
-    setaside_remaining_output(f, ctx, bb, c);
+    remove_empty_buckets(bb);
+    ap_filter_setaside_brigade(f, bb);
+
     return APR_SUCCESS;
 }
 
-/*
- * This function assumes that either ctx->buffered_bb == NULL, or
- * ctx->buffered_bb is empty, or ctx->buffered_bb == bb
- */
-static void setaside_remaining_output(ap_filter_t *f,
-                                      core_output_filter_ctx_t *ctx,
-                                      apr_bucket_brigade *bb,
-                                      conn_rec *c)
-{
-    if (bb == NULL) {
-        return;
-    }
-    remove_empty_buckets(bb);
-    if (!APR_BRIGADE_EMPTY(bb)) {
-        c->data_in_output_filters = 1;
-        if (bb != ctx->buffered_bb) {
-            if (!ctx->deferred_write_pool) {
-                apr_pool_create(&ctx->deferred_write_pool, c->pool);
-                apr_pool_tag(ctx->deferred_write_pool, "deferred_write");
-            }
-            ap_save_brigade(f, &(ctx->buffered_bb), &bb,
-                            ctx->deferred_write_pool);
-        }
-    }
-    else if (ctx->deferred_write_pool) {
-        /*
-         * There are no more requests in the pipeline. We can just clear the
-         * pool.
-         */
-        apr_pool_clear(ctx->deferred_write_pool);
-    }
-}
-
 #ifndef APR_MAX_IOVEC_SIZE
 #define MAX_IOVEC_TO_WRITE 16
 #else
Index: server/mpm/event/event.c
===================================================================
--- server/mpm/event/event.c	(revision 1705548)
+++ server/mpm/event/event.c	(working copy)
@@ -1147,16 +1147,29 @@
     }
 
     if (cs->pub.state == CONN_STATE_WRITE_COMPLETION) {
-        ap_filter_t *output_filter = c->output_filters;
-        apr_status_t rv;
+        apr_hash_index_t *rindex;
+        apr_status_t rv = APR_SUCCESS;
         ap_update_child_status_from_conn(sbh, SERVER_BUSY_WRITE, c);
-        while (output_filter->next != NULL) {
-            output_filter = output_filter->next;
+
+        rindex = apr_hash_first(NULL, c->filters);
+        while (rindex) {
+            ap_filter_t *f = apr_hash_this_val(rindex);
+
+            if (f->bb && !APR_BRIGADE_EMPTY(f->bb)) {
+                rv = ap_pass_brigade(f, c->empty);
+                apr_brigade_cleanup(c->empty);
+                if (APR_SUCCESS != rv) {
+                    ap_log_cerror(
+                            APLOG_MARK, APLOG_DEBUG, rv, c, APLOGNO(00470)
+                            "write failure in '%s' output filter", f->frec->name);
+                    break;
+                }
+            }
+
+            rindex = apr_hash_next(rindex);
         }
-        rv = output_filter->frec->filter_func.out_func(output_filter, NULL);
+
         if (rv != APR_SUCCESS) {
-            ap_log_cerror(APLOG_MARK, APLOG_DEBUG, rv, c, APLOGNO(00470)
-                          "network write failure in core output filter");
             cs->pub.state = CONN_STATE_LINGER;
         }
         else if (c->data_in_output_filters) {
Index: server/mpm/motorz/motorz.c
===================================================================
--- server/mpm/motorz/motorz.c	(revision 1705548)
+++ server/mpm/motorz/motorz.c	(working copy)
@@ -364,18 +364,29 @@
         }
 
         if (scon->cs.state == CONN_STATE_WRITE_COMPLETION) {
-            ap_filter_t *output_filter = c->output_filters;
+            apr_hash_index_t *rindex;
             ap_update_child_status_from_conn(scon->sbh, SERVER_BUSY_WRITE, c);
-            while (output_filter->next != NULL) {
-                output_filter = output_filter->next;
+
+            rv = APR_SUCCESS;
+            rindex = apr_hash_first(NULL, c->filters);
+            while (rindex) {
+                ap_filter_t *f = apr_hash_this_val(rindex);
+
+                if (f->bb && !APR_BRIGADE_EMPTY(f->bb)) {
+                    rv = ap_pass_brigade(f, c->empty);
+                    apr_brigade_cleanup(c->empty);
+                    if (APR_SUCCESS != rv) {
+                        ap_log_cerror(
+                                APLOG_MARK, APLOG_DEBUG, rv, c, APLOGNO(02848)
+                                "write failure in '%s' output filter", f->frec->name);
+                        break;
+                    }
+                }
+
+                rindex = apr_hash_next(rindex);
             }
 
-            rv = output_filter->frec->filter_func.out_func(output_filter,
-                                                           NULL);
-
             if (rv != APR_SUCCESS) {
-                ap_log_error(APLOG_MARK, APLOG_WARNING, rv, ap_server_conf, APLOGNO(02848)
-                             "network write failure in core output filter");
                 scon->cs.state = CONN_STATE_LINGER;
             }
             else if (c->data_in_output_filters) {
Index: server/mpm/simple/simple_io.c
===================================================================
--- server/mpm/simple/simple_io.c	(revision 1705548)
+++ server/mpm/simple/simple_io.c	(working copy)
@@ -92,14 +92,27 @@
         }
 
         if (scon->cs.state == CONN_STATE_WRITE_COMPLETION) {
-            ap_filter_t *output_filter = c->output_filters;
-            while (output_filter->next != NULL) {
-                output_filter = output_filter->next;
+            apr_hash_index_t *rindex;
+
+            rv = APR_SUCCESS;
+            rindex = apr_hash_first(NULL, c->filters);
+            while (rindex) {
+                ap_filter_t *f = apr_hash_this_val(rindex);
+
+                if (f->bb && !APR_BRIGADE_EMPTY(f->bb)) {
+                    rv = ap_pass_brigade(f, c->empty);
+                    apr_brigade_cleanup(c->empty);
+                    if (APR_SUCCESS != rv) {
+                        ap_log_cerror(
+                                APLOG_MARK, APLOG_DEBUG, rv, c, APLOGNO(02848)
+                                "write failure in '%s' output filter", f->frec->name);
+                        break;
+                    }
+                }
+
+                rindex = apr_hash_next(rindex);
             }
 
-            rv = output_filter->frec->filter_func.out_func(output_filter,
-                                                           NULL);
-
             if (rv != APR_SUCCESS) {
                 ap_log_error(APLOG_MARK, APLOG_WARNING, rv, ap_server_conf, APLOGNO(00249)
                              "network write failure in core output filter");
Index: server/util_filter.c
===================================================================
--- server/util_filter.c	(revision 1705548)
+++ server/util_filter.c	(working copy)
@@ -24,6 +24,7 @@
 #include "http_config.h"
 #include "http_core.h"
 #include "http_log.h"
+#include "http_request.h"
 #include "util_filter.h"
 
 /* NOTE: Apache's current design doesn't allow a pool to be passed thru,
@@ -32,6 +33,11 @@
 #define FILTER_POOL     apr_hook_global_pool
 #include "ap_hooks.h"   /* for apr_hook_global_pool */
 
+/* XXX: Should these be configurable parameters? */
+#define THRESHOLD_MIN_WRITE 4096
+#define THRESHOLD_MAX_BUFFER 65536
+#define MAX_REQUESTS_IN_PIPELINE 5
+
 /*
 ** This macro returns true/false if a given filter should be inserted BEFORE
 ** another filter. This will happen when one of: 1) there isn't another
@@ -319,6 +325,8 @@
     f->r = frec->ftype < AP_FTYPE_CONNECTION ? r : NULL;
     f->c = c;
     f->next = NULL;
+    f->bb = NULL;
+    f->deferred_pool = NULL;
 
     if (INSERT_BEFORE(f, *outf)) {
         f->next = *outf;
@@ -474,6 +482,17 @@
 
 AP_DECLARE(void) ap_remove_output_filter(ap_filter_t *f)
 {
+
+    if ((f->bb) && !APR_BRIGADE_EMPTY(f->bb)) {
+        apr_brigade_cleanup(f->bb);
+        f->c->data_in_output_filters--;
+    }
+
+    if (f->deferred_pool) {
+        apr_pool_destroy(f->deferred_pool);
+        f->deferred_pool = NULL;
+    }
+
     remove_any_filter(f, f->r ? &f->r->output_filters : NULL,
                       f->r ? &f->r->proto_output_filters : NULL,
                       &f->c->output_filters);
@@ -566,6 +585,7 @@
 {
     if (next) {
         apr_bucket *e;
+
         if ((e = APR_BRIGADE_LAST(bb)) && APR_BUCKET_IS_EOS(e) && next->r) {
             /* This is only safe because HTTP_HEADER filter is always in
              * the filter stack.   This ensures that there is ALWAYS a
@@ -635,7 +655,8 @@
     apr_status_t rv, srv = APR_SUCCESS;
 
     /* If have never stored any data in the filter, then we had better
-     * create an empty bucket brigade so that we can concat.
+     * create an empty bucket brigade so that we can concat. Register
+     * a cleanup to zero out the pointer if the pool is cleared.
      */
     if (!(*saveto)) {
         *saveto = apr_brigade_create(p, f->c->bucket_alloc);
@@ -673,6 +694,190 @@
     return srv;
 }
 
+static apr_status_t filters_cleanup(void *data)
+{
+    ap_filter_t **key = data;
+
+    apr_hash_set((*key)->c->filters, key, sizeof(ap_filter_t *), NULL);
+
+    return APR_SUCCESS;
+}
+
+AP_DECLARE(apr_status_t) ap_filter_setaside_brigade(ap_filter_t *f,
+        apr_bucket_brigade *bb)
+{
+    if (!APR_BRIGADE_EMPTY(bb)) {
+        if (!f->bb) {
+            ap_filter_t **key = apr_palloc(f->r ? f->r->pool : f->c->pool,
+                    sizeof(ap_filter_t *));
+            *key = f;
+            apr_hash_set(f->c->filters, key, sizeof(ap_filter_t *), f);
+            apr_pool_cleanup_register(f->r ? f->r->pool : f->c->pool, key,
+                    filters_cleanup, apr_pool_cleanup_null);
+            f->bb = apr_brigade_create(f->r ? f->r->pool : f->c->pool,
+                    f->c->bucket_alloc);
+        }
+        if (APR_BRIGADE_EMPTY((f->bb))) {
+            f->c->data_in_output_filters++;
+        }
+        if (bb != f->bb) {
+            if (!(f->r) && !(f->deferred_pool)) {
+                apr_pool_create(&f->deferred_pool, f->c->pool);
+                apr_pool_tag(f->deferred_pool, "deferred_pool");
+            }
+            return ap_save_brigade(f, &f->bb, &bb,
+                    f->r ? f->r->pool : f->deferred_pool);
+        }
+    }
+    else if (f->deferred_pool) {
+        /*
+         * There are no more requests in the pipeline. We can just clear the
+         * pool.
+         */
+        apr_pool_clear(f->deferred_pool);
+    }
+    return APR_SUCCESS;
+}
+
+AP_DECLARE(int) ap_filter_reinstate_brigade(ap_filter_t *f,
+                                            apr_bucket_brigade *bb,
+                                            apr_bucket **flush_upto)
+{
+    apr_bucket *bucket, *next;
+    apr_size_t bytes_in_brigade, non_file_bytes_in_brigade;
+    int eor_buckets_in_brigade, morphing_bucket_in_brigade;
+    int loglevel = ap_get_conn_module_loglevel(f->c, APLOG_MODULE_INDEX);
+    int empty = APR_BRIGADE_EMPTY(bb);
+
+    if (f->bb && !APR_BRIGADE_EMPTY(f->bb)) {
+        APR_BRIGADE_PREPEND(bb, f->bb);
+        f->c->data_in_output_filters--;
+    }
+
+    /*
+     * Determine if and up to which bucket we need to do a blocking write:
+     *
+     *  a) The brigade contains a flush bucket: Do a blocking write
+     *     of everything up that point.
+     *
+     *  b) The request is in CONN_STATE_HANDLER state, and the brigade
+     *     contains at least THRESHOLD_MAX_BUFFER bytes in non-file
+     *     buckets: Do blocking writes until the amount of data in the
+     *     buffer is less than THRESHOLD_MAX_BUFFER.  (The point of this
+     *     rule is to provide flow control, in case a handler is
+     *     streaming out lots of data faster than the data can be
+     *     sent to the client.)
+     *
+     *  c) The request is in CONN_STATE_HANDLER state, and the brigade
+     *     contains at least MAX_REQUESTS_IN_PIPELINE EOR buckets:
+     *     Do blocking writes until less than MAX_REQUESTS_IN_PIPELINE EOR
+     *     buckets are left. (The point of this rule is to prevent too many
+     *     FDs being kept open by pipelined requests, possibly allowing a
+     *     DoS).
+     *
+     *  d) The brigade contains a morphing bucket: If there was no other
+     *     reason to do a blocking write yet, try reading the bucket. If its
+     *     contents fit into memory before THRESHOLD_MAX_BUFFER is reached,
+     *     everything is fine. Otherwise we need to do a blocking write the
+     *     up to and including the morphing bucket, because ap_save_brigade()
+     *     would read the whole bucket into memory later on.
+     */
+
+    *flush_upto = NULL;
+
+    if (empty) {
+        return -1;
+    }
+
+    bytes_in_brigade = 0;
+    non_file_bytes_in_brigade = 0;
+    eor_buckets_in_brigade = 0;
+    morphing_bucket_in_brigade = 0;
+
+    for (bucket = APR_BRIGADE_FIRST(bb); bucket != APR_BRIGADE_SENTINEL(bb);
+         bucket = next) {
+        next = APR_BUCKET_NEXT(bucket);
+
+        if (!APR_BUCKET_IS_METADATA(bucket)) {
+            if (bucket->length == (apr_size_t)-1) {
+                /*
+                 * A setaside of morphing buckets would read everything into
+                 * memory. Instead, we will flush everything up to and
+                 * including this bucket.
+                 */
+                morphing_bucket_in_brigade = 1;
+            }
+            else {
+                bytes_in_brigade += bucket->length;
+                if (!APR_BUCKET_IS_FILE(bucket))
+                    non_file_bytes_in_brigade += bucket->length;
+            }
+        }
+        else if (AP_BUCKET_IS_EOR(bucket)) {
+            eor_buckets_in_brigade++;
+        }
+
+        if (APR_BUCKET_IS_FLUSH(bucket)
+            || non_file_bytes_in_brigade >= THRESHOLD_MAX_BUFFER
+            || morphing_bucket_in_brigade
+            || eor_buckets_in_brigade > MAX_REQUESTS_IN_PIPELINE) {
+            /* this segment of the brigade MUST be sent before returning. */
+
+            if (loglevel >= APLOG_TRACE6) {
+                char *reason = APR_BUCKET_IS_FLUSH(bucket) ?
+                               "FLUSH bucket" :
+                               (non_file_bytes_in_brigade >= THRESHOLD_MAX_BUFFER) ?
+                               "THRESHOLD_MAX_BUFFER" :
+                               morphing_bucket_in_brigade ? "morphing bucket" :
+                               "MAX_REQUESTS_IN_PIPELINE";
+                ap_log_cerror(APLOG_MARK, APLOG_TRACE6, 0, f->c,
+                              "will flush because of %s", reason);
+                ap_log_cerror(APLOG_MARK, APLOG_TRACE8, 0, f->c,
+                              "seen in brigade%s: bytes: %" APR_SIZE_T_FMT
+                              ", non-file bytes: %" APR_SIZE_T_FMT ", eor "
+                              "buckets: %d, morphing buckets: %d",
+                              flush_upto == NULL ? " so far"
+                                                 : " since last flush point",
+                              bytes_in_brigade,
+                              non_file_bytes_in_brigade,
+                              eor_buckets_in_brigade,
+                              morphing_bucket_in_brigade);
+            }
+            /*
+             * Defer the actual blocking write to avoid doing many writes.
+             */
+            *flush_upto = next;
+
+            bytes_in_brigade = 0;
+            non_file_bytes_in_brigade = 0;
+            eor_buckets_in_brigade = 0;
+            morphing_bucket_in_brigade = 0;
+        }
+    }
+
+    if (loglevel >= APLOG_TRACE8) {
+        ap_log_cerror(APLOG_MARK, APLOG_TRACE8, 0, f->c,
+                      "brigade contains: bytes: %" APR_SIZE_T_FMT
+                      ", non-file bytes: %" APR_SIZE_T_FMT
+                      ", eor buckets: %d, morphing buckets: %d",
+                      bytes_in_brigade, non_file_bytes_in_brigade,
+                      eor_buckets_in_brigade, morphing_bucket_in_brigade);
+    }
+
+    return (bytes_in_brigade >= THRESHOLD_MIN_WRITE);
+}
+
+AP_DECLARE(int) ap_filter_should_yield(ap_filter_t *f)
+{
+    while (f) {
+        if ((f->bb) && !APR_BRIGADE_EMPTY(f->bb)) {
+            return 1;
+        }
+        f = f->next;
+    }
+    return 0;
+}
+
 AP_DECLARE_NONSTD(apr_status_t) ap_filter_flush(apr_bucket_brigade *bb,
                                                 void *ctx)
 {

--Apple-Mail=_6A4BE87B-F14F-4446-8C54-1371910991FA--

From dev-return-83952-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 08:45:04 2015
Return-Path: <dev-return-83952-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1D1EB18FFC
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 08:45:04 +0000 (UTC)
Received: (qmail 5210 invoked by uid 500); 28 Sep 2015 08:45:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 5136 invoked by uid 500); 28 Sep 2015 08:45:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 5124 invoked by uid 99); 28 Sep 2015 08:45:00 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 08:45:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id F1F481809CD
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 08:44:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id VsmdpDcrZWZa for <dev@httpd.apache.org>;
	Mon, 28 Sep 2015 08:44:59 +0000 (UTC)
Received: from mail-qg0-f54.google.com (mail-qg0-f54.google.com [209.85.192.54])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 4979642B5D
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 08:44:59 +0000 (UTC)
Received: by qgx61 with SMTP id 61so114696171qgx.3
        for <dev@httpd.apache.org>; Mon, 28 Sep 2015 01:44:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=jBirf52LJhVf0ZHUHw43KZAN1VU4yrbmloHa0YfZSXM=;
        b=WE6saVfAplJF++0ep5RFATUnlMZwWkdJTt337DAaNcnpM6br5UQn/sWMQM5d3m+iTY
         mKdhFiuZRKPW7Mo+AUoa8Js7WNPO3SeniWlemek+THEi26RzDGDPGac9ppKtZp3BmsbB
         NOjk1Rt9tx4I0DQFGa1rtTY/luUVy34iZqCW9TOEqQLmR+FI/Vtp8tKNgEb5hcFibwUF
         ZAWlzSSDLtfDGShZvhUHr1BKMXADPUdEpsKCERry0cv/JZutrRUvqX5Sjc8/aBo+FIwi
         osXdidgnkfLjhgo8KKFStioxEWPWaB10sxyYSFCBkn9Cq/b5g2FF3E8ACGO1B7cyxzBx
         EWNg==
MIME-Version: 1.0
X-Received: by 10.140.236.203 with SMTP id h194mr20725919qhc.73.1443429898924;
 Mon, 28 Sep 2015 01:44:58 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Mon, 28 Sep 2015 01:44:58 -0700 (PDT)
In-Reply-To: <56078A90.2050608@wanadoo.fr>
References: <20150926222014.ECAF83A0198@svn01-us-west.apache.org>
	<56078A90.2050608@wanadoo.fr>
Date: Mon, 28 Sep 2015 10:44:58 +0200
Message-ID: <CAKQ1sVPV96v0dMgGwQFtx4qF556KQZkP+KEVk63sHSP2-2CNrA@mail.gmail.com>
Subject: Re: svn commit: r1705492 - in /httpd/httpd/branches/2.4.x: ./
 docs/manual/mod/ include/ server/ server/mpm/event/ server/mpm/netware/
 server/mpm/prefork/ server/mpm/winnt/ server/mpm/worker/
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Sun, Sep 27, 2015 at 8:20 AM, Marion & Christophe JAILLET
<christophe.jaillet@wanadoo.fr> wrote:
>
> should r1629916 also be included?
> The changelog says that it is a follow up to r1629909, which is included in
> the patch below.

My bad, I forgot to include it in the backport proposal/patch (this is
harmless though).
Follow up proposed in r1705614.

From dev-return-83953-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 09:18:56 2015
Return-Path: <dev-return-83953-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2D53A173EA
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 09:18:56 +0000 (UTC)
Received: (qmail 3977 invoked by uid 500); 28 Sep 2015 09:18:21 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 3900 invoked by uid 500); 28 Sep 2015 09:18:21 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 3889 invoked by uid 99); 28 Sep 2015 09:18:21 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 09:18:21 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 00A89C683D
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 09:18:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1.001
X-Spam-Level: *
X-Spam-Status: No, score=1.001 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id W_QpsgwqJdmp for <dev@httpd.apache.org>;
	Mon, 28 Sep 2015 09:18:14 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 122F9206F0
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 09:18:14 +0000 (UTC)
Received: from delight.greenbytes.de (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 410B015A00A5
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 11:18:07 +0200 (CEST)
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1705571 - /httpd/httpd/branches/2.4.x/STATUS
From: Stefan Eissing <stefan@eissing.org>
In-Reply-To: <20150927203611.00EA83A02FE@svn01-us-west.apache.org>
Date: Mon, 28 Sep 2015 11:18:06 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <FF622647-6EEF-4AAA-8B35-5A08725557EC@eissing.org>
References: <20150927203611.00EA83A02FE@svn01-us-west.apache.org>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

Adding comment=20
	"Added ap_parse_token_list_strict() to httpd.h"
and applied patch to http/branches/2.4.17-protocols-http2

//Stefan

> Am 27.09.2015 um 22:36 schrieb jim@apache.org:
>=20
> Author: jim
> Date: Sun Sep 27 20:36:10 2015
> New Revision: 1705571
>=20
> URL: http://svn.apache.org/viewvc?rev=3D1705571&view=3Drev
> Log:
> OK
>=20
>=20
> Modified:
>    httpd/httpd/branches/2.4.x/STATUS
>=20
> Modified: httpd/httpd/branches/2.4.x/STATUS
> URL: =
http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/STATUS?rev=3D17055=
71&r1=3D1705570&r2=3D1705571&view=3Ddiff
> =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D
> --- httpd/httpd/branches/2.4.x/STATUS (original)
> +++ httpd/httpd/branches/2.4.x/STATUS Sun Sep 27 20:36:10 2015
> @@ -204,6 +204,7 @@ PATCHES PROPOSED TO BACKPORT FROM TRUNK:
>      2.4.x patch: =
https://raw.githubusercontent.com/icing/mod_h2/master/sandbox/httpd/patche=
s/core-protocols-v4.patch
>      +1: icing, jim
>      minfrin: +1 with proposed MMN bump at =
https://people.apache.org/~minfrin/core-protocols-mmn.patch
> +       +1: jim
>=20
>   *) mod_h2: add HTTP/2 support to httpd, depends on core/mod_ssl =
changes above
>      2.4.x branch for this and core/mod_ssl: =
https://svn.apache.org/repos/asf/httpd/httpd/branches/2.4.17-protocols-htt=
p2
>=20
>=20


From dev-return-83954-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 10:18:19 2015
Return-Path: <dev-return-83954-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3257617638
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 10:18:19 +0000 (UTC)
Received: (qmail 23365 invoked by uid 500); 28 Sep 2015 10:18:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 23283 invoked by uid 500); 28 Sep 2015 10:18:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 23273 invoked by uid 99); 28 Sep 2015 10:18:18 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 10:18:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E0F85C08AC
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 10:18:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id Eq9SmS06bPfT for <dev@httpd.apache.org>;
	Mon, 28 Sep 2015 10:18:13 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 55351206F0
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 10:18:13 +0000 (UTC)
Received: from [10.105.13.187] (unknown [5.56.169.82])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id E172C830DD
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 11:18:06 +0100 (BST)
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: [Patch] Async write completion for the full connection filter stack
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <38C56976-E693-4EEE-88BA-85DE3328FED3@sharp.fm>
Date: Mon, 28 Sep 2015 12:18:06 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <F45B55F1-2A26-4F1E-A79A-4E1CC6DB8BDC@sharp.fm>
References: <A57B894B-50DA-4252-8FFF-C3DEF8473A61@sharp.fm> <D4B68B53-592F-4EEC-B39F-EFC9887F60D5@jaguNET.com> <715A3AE8-8015-4537-943F-A34E0E2A76F7@sharp.fm> <D7EA895A-9C37-4387-AE89-C1B7DF9B0706@jaguNET.com> <540DFB30.6050700@apache.org> <2F3B060C-E383-407F-A24C-7F026AD3CA81@sharp.fm> <AB1691BE05AE7F4992697F2A0835627AC5D859AB@VOEXM10W.internal.vodafone.com> <AA9FAD6C-8E83-4F5F-8F18-BC3BECF8B0A1@sharp.fm> <CAKQ1sVPFJk9-Y=JwDLvJcYT7ZCQ=xbuBRS9fu8Me_T-3f2fVXg@mail.gmail.com> <C6246136-6B10-4F7B-8261-6723ABD26817@sharp.fm> <CAKQ1sVMw0-=LsqPEkWYs1QP8daMYv=eaxhRT8gsnrppooVzuMg@mail.gmail.com> <7A74676C-AA9D-40E1-A434-9280C297217D@sharp.fm> <54128B11.9080803@apache.org> <496E8EFA-7A10-4D91-8C7E-434A9A3B09C5@sharp.fm> <541499A9.5050408@apache.org> <4D9E72F8-4918-49AD-8DC4-E3594C9ED43D@sharp.fm> <04776F50-0A53-4C1D-AA1C-9F57B60BC0AC@sharp.fm> <38C56976-E693-4EEE-88BA-85DE3328FED3@sharp.fm>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 27 Sep 2015, at 8:41 PM, Graham Leggett <minfrin@sharp.fm> wrote:

> I think I have cracked the async problem for both request and =
connection output filters with this patch.

Well, cracked the async problem for all file buckets and non-morphing =
buckets, morphing buckets will currently still be flushed.

The solution to that seems to be to try keep a morphing bucket from =
reaching the connection filters. A morphing bucket can safely be set =
aside in a request filter without any problems with pools. If a filter =
existed at the end of the request filters that detected morphing buckets =
and read them before sending them downstream, that filter could safely =
set aside the rest of the morphing bucket without being forced to read =
the whole thing in (and thus block). If the filter received a flush the =
whole thing gets sent and we block, but that=92s what flush means so =
that=92s fine.

Patch to follow.

Regards,
Graham
=97


From dev-return-83955-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 12:12:15 2015
Return-Path: <dev-return-83955-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D7A761793D
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 12:12:15 +0000 (UTC)
Received: (qmail 34253 invoked by uid 500); 28 Sep 2015 12:11:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 34179 invoked by uid 500); 28 Sep 2015 12:11:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 34169 invoked by uid 99); 28 Sep 2015 12:11:41 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 12:11:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id AC6931A1F73
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 12:11:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id HeBbwr9rilBp for <dev@httpd.apache.org>;
	Mon, 28 Sep 2015 12:11:31 +0000 (UTC)
Received: from resqmta-ch2-05v.sys.comcast.net (resqmta-ch2-05v.sys.comcast.net [69.252.207.37])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 558BB42B51
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 12:11:31 +0000 (UTC)
Received: from resomta-ch2-12v.sys.comcast.net ([69.252.207.108])
	by resqmta-ch2-05v.sys.comcast.net with comcast
	id Nc9r1r0022LrikM01cBR6c; Mon, 28 Sep 2015 12:11:25 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-12v.sys.comcast.net with comcast
	id NcBQ1r00K2U0RYt01cBRzP; Mon, 28 Sep 2015 12:11:25 +0000
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: [Patch] Async write completion for the full connection filter stack
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <38C56976-E693-4EEE-88BA-85DE3328FED3@sharp.fm>
Date: Mon, 28 Sep 2015 08:11:24 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <7051D658-B96C-47BA-B21F-6511665DDAD8@jaguNET.com>
References: <A57B894B-50DA-4252-8FFF-C3DEF8473A61@sharp.fm> <D4B68B53-592F-4EEC-B39F-EFC9887F60D5@jaguNET.com> <715A3AE8-8015-4537-943F-A34E0E2A76F7@sharp.fm> <D7EA895A-9C37-4387-AE89-C1B7DF9B0706@jaguNET.com> <540DFB30.6050700@apache.org> <2F3B060C-E383-407F-A24C-7F026AD3CA81@sharp.fm> <AB1691BE05AE7F4992697F2A0835627AC5D859AB@VOEXM10W.internal.vodafone.com> <AA9FAD6C-8E83-4F5F-8F18-BC3BECF8B0A1@sharp.fm> <CAKQ1sVPFJk9-Y=JwDLvJcYT7ZCQ=xbuBRS9fu8Me_T-3f2fVXg@mail.gmail.com> <C6246136-6B10-4F7B-8261-6723ABD26817@sharp.fm> <CAKQ1sVMw0-=LsqPEkWYs1QP8daMYv=eaxhRT8gsnrppooVzuMg@mail.gmail.com> <7A74676C-AA9D-40E1-A434-9280C297217D@sharp.fm> <54128B11.9080803@apache.org> <496E8EFA-7A10-4D91-8C7E-434A9A3B09C5@sharp.fm> <541499A9.5050408@apache.org> <4D9E72F8-4918-49AD-8DC4-E3594C9ED43D@sharp.fm> <04776F50-0A53-4C1D-AA1C-9F57B60BC0AC@sharp.fm> <38C56976-E693-4EEE-88BA-85DE3328FED3@sharp.fm>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1443442285;
	bh=BkU2SNcsQ+PMBbFIyCDZYd+Fw0A56P/kBatgYs0ITIY=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=FbuaRfLlc+8LD3W027gCv6N6dwPuIJHDsb5NgD6vTc3u8aIjn7zqnwbGh0/faG7vf
	 ld6KhteDtvbOJGjhLwTbvHh5s9Ql+u9Ubczbv9WKVWZeS5ncCkUljzMSf4jrSC1+BB
	 dCAD/ck7DbzmWLwUFaae8q6nOkPLJI3eP1PYlOM2WEPUfPDEllt1bzc2/S5jDFK33w
	 cGljCAnTeob22zl7Ag4qefutmQhYDaPA9VkIdN4stwxtwqnmrv2cR/IJ97l0S6VUkK
	 6I8o5hi63SeW5kazaGkGkPNFq4MHxeLXJ1ak9QrdWF16HDNBay4wc8eJdD3uFEkd7G
	 X1iRmsFmFA/LQ==

This is super cool magic mojo.

> On Sep 27, 2015, at 2:41 PM, Graham Leggett <minfrin@sharp.fm> wrote:
>=20
> Hi all,
>=20
> I think I have cracked the async problem for both request and =
connection output filters with this patch.
>=20
> It provides three new functions:
>=20
> - ap_filter_reinstate_brigade() - Used at the start of a filter, =
brigades that were set aside earlier are reinstated for sending.
>=20
> - ap_filter_should_yield() - Returns true if downstream filters have =
set aside data. A filter would typically respond by setting aside the =
data it is working with and returning in the expectation of being called =
again.
>=20
> - ap_filter_setaside_brigade() - Used at the end of a filter, any =
brigades that were not processed can be set aside to continue the job =
when called later.
>=20
> The magic happens in the MPM itself. The first time =
ap_filter_setaside_brigade() is called the filter is added to a =
hashtable and a cleanup is registered to have the filter removed when =
the request and/or connection is cleared. The MPM iterates through this =
hashtable, and sends empty brigades to any filter with setaside data.
>=20
> Key to this technique is that existing filters remain unaffected - in =
the absence of any changes to a filter the whole brigade will be =
processed and sent downstream, and existing behaviour is maintained. =
Same with FLUSH buckets - as expected, flush behaviour remains =
unchanged.
>=20
> If however the filters in the chain are able to setaside buckets, they =
can defer themselves to the write completion phase which in turn can =
take full advantage of the event MPM. These filters will be expected to =
handle an empty brigade to =93kick=94 them back into life and continue =
the writing of their setaside data. As soon as their setaside brigade =
becomes empty the kicks then stop. All filters with setaside data get =
kicked exactly once, so none of the filters should get starved. Filters =
that are removed from the stack get their setaside emptied, and so =
become ineligible for kicks. When the pool cleanup gets triggered, the =
filter is permanently removed from the connection and disappears.
>=20
> Over and above the network filter the first filter to be modified is =
mod_ssl, and this will allow files served over SSL to take advantage of =
write completion. Another filter that will benefit from using the above =
calls is mod_deflate.
>=20
> I have an additional goal of adding an ap_filter_suspend() method that =
will allow us to suspend a filter for a given period of time or until =
some callback is triggered, but that will be a separate patch.
>=20
> Regards,
> Graham
> --
> <httpd-async-fullstack-ssl6.patch>


From dev-return-83956-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 12:46:40 2015
Return-Path: <dev-return-83956-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C6FBC17A64
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 12:46:40 +0000 (UTC)
Received: (qmail 83322 invoked by uid 500); 28 Sep 2015 12:46:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 83248 invoked by uid 500); 28 Sep 2015 12:46:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 83235 invoked by uid 99); 28 Sep 2015 12:46:34 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 12:46:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id AB6831A1FE0;
	Mon, 28 Sep 2015 12:46:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.802
X-Spam-Level:
X-Spam-Status: No, score=-0.802 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_DNSWL_LOW=-0.7, RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id u5aeJ7-SO6JJ; Mon, 28 Sep 2015 12:46:33 +0000 (UTC)
Received: from mail-io0-f177.google.com (mail-io0-f177.google.com [209.85.223.177])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id D21EE2304E;
	Mon, 28 Sep 2015 12:46:32 +0000 (UTC)
Received: by iofh134 with SMTP id h134so173102372iof.0;
        Mon, 28 Sep 2015 05:46:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        bh=/dYYU9Tg2MhkOTcPRXZGicaYCSM3yIJMVjPbsEQYpu8=;
        b=X45nk7kEr3yjg6IYLqThP+kaUmceCHAvC5u6znGOG5G8JWP840vQ/FgeP2dCwPRAeW
         2o5r0wpdw+x7MqOuINFPtXdXTjN1IdS+0HwYhZX0fB+DjFTaMJky9P1JIgVPE9Ijt19b
         R1wM4DSFnpcHs1RPBhQsWStrEvTu4y33DjEkE07KGjFfDpzgqcRZbbqMDsPMN5WUDq5G
         +nfRV/r1zzXtDbhNrqIufnojDQuaswuYGwQ91B6531gseb6YZ1lzK5fcJl9QwSw2G9rm
         bar+NGJS0u63d4aXP5QY8NyqXLgIwU+XbJRcGbZbWwdpfeqUqFylenclzKphUmgqLTky
         XOYw==
MIME-Version: 1.0
X-Received: by 10.107.160.143 with SMTP id j137mr19633342ioe.13.1443444392319;
 Mon, 28 Sep 2015 05:46:32 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Mon, 28 Sep 2015 05:46:32 -0700 (PDT)
In-Reply-To: <20150928085047.10C403A0198@svn01-us-west.apache.org>
References: <20150928085047.10C403A0198@svn01-us-west.apache.org>
Date: Mon, 28 Sep 2015 08:46:32 -0400
Message-ID: <CALK=YjP9yGYczbc-yq4oVYb3PbMoavtw2K+zgmVD27KZPEnB+A@mail.gmail.com>
Subject: Re: svn commit: r1705618 - /httpd/httpd/branches/2.4.x/STATUS
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Cc: cvs@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Mon, Sep 28, 2015 at 4:50 AM,  <ylavic@apache.org> wrote:
> Author: ylavic
> Date: Mon Sep 28 08:50:46 2015
> New Revision: 1705618
>
> URL: http://svn.apache.org/viewvc?rev=1705618&view=rev
> Log:
> Compatibility issue?
>
> Modified:
>     httpd/httpd/branches/2.4.x/STATUS
>
> Modified: httpd/httpd/branches/2.4.x/STATUS
> URL: http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/STATUS?rev=1705618&r1=1705617&r2=1705618&view=diff
> ==============================================================================
> --- httpd/httpd/branches/2.4.x/STATUS (original)
> +++ httpd/httpd/branches/2.4.x/STATUS Mon Sep 28 08:50:46 2015
> @@ -281,6 +281,9 @@ PATCHES PROPOSED TO BACKPORT FROM TRUNK:
>       trunk patch: https://svn.apache.org/r1703952
>       2.4.x patch: https://people.apache.org/~kbrand/mod_ssl-2.4.x-disable-sslv3.diff
>       +1: kbrand
> +     ylavic: Should we really change the (implicit) default in 2.4.x at
> +             this stage (and potentially break existing configuratios w/o
> +             SSLProtocol which used to work with SSLv3 only capable clients)?
>
>    *) mod_alias: Introduce expression parser support for Alias, ScriptAlias
>       and Redirect. Limit Redirect expressions to directory (Location) context


I think the right thing to do here is to break them.

From dev-return-83957-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 12:53:42 2015
Return-Path: <dev-return-83957-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2E37817AB5
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 12:53:42 +0000 (UTC)
Received: (qmail 97510 invoked by uid 500); 28 Sep 2015 12:53:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 97433 invoked by uid 500); 28 Sep 2015 12:53:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 97420 invoked by uid 99); 28 Sep 2015 12:53:41 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 12:53:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 500511A1FE0;
	Mon, 28 Sep 2015 12:53:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0
X-Spam-Level:
X-Spam-Status: No, score=0 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=0.001, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id yyG-2tAinVVx; Mon, 28 Sep 2015 12:53:40 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id AE21B20515;
	Mon, 28 Sep 2015 12:53:39 +0000 (UTC)
Received: from [10.105.13.187] (unknown [5.56.169.82])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id BD7FD830F4;
	Mon, 28 Sep 2015 13:53:38 +0100 (BST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: svn commit: r1705618 - /httpd/httpd/branches/2.4.x/STATUS
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <CALK=YjP9yGYczbc-yq4oVYb3PbMoavtw2K+zgmVD27KZPEnB+A@mail.gmail.com>
Date: Mon, 28 Sep 2015 14:53:37 +0200
Cc: cvs@httpd.apache.org
Content-Transfer-Encoding: quoted-printable
Message-Id: <DA6DBD10-C843-4448-9A00-80ADE6DCCE9F@sharp.fm>
References: <20150928085047.10C403A0198@svn01-us-west.apache.org> <CALK=YjP9yGYczbc-yq4oVYb3PbMoavtw2K+zgmVD27KZPEnB+A@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 28 Sep 2015, at 2:46 PM, Eric Covener <covener@gmail.com> wrote:

>> +     ylavic: Should we really change the (implicit) default in 2.4.x =
at
>> +             this stage (and potentially break existing =
configuratios w/o
>> +             SSLProtocol which used to work with SSLv3 only capable =
clients)?
>=20
> I think the right thing to do here is to break them.

There are two ways to look at this:

- The existence of SSLv3 is a security hole, and for the security hole =
to be fixed, it must be removed from httpd.

- The existence of SSLv3 is a security hole, but the fix may DoS people. =
Emit loud warnings on startup that SSLv3 should be removed from the =
config (and possibly that SSLv3 will be removed completely in future =
patch release Y).

Regards,
Graham
=E2=80=94


From dev-return-83959-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 13:29:31 2015
Return-Path: <dev-return-83959-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E41B417CAA
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 13:29:31 +0000 (UTC)
Received: (qmail 94373 invoked by uid 500); 28 Sep 2015 13:29:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94318 invoked by uid 500); 28 Sep 2015 13:29:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94307 invoked by uid 99); 28 Sep 2015 13:29:28 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 13:29:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 11BC0C6A11
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 13:29:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 2mdGJCtwX4H9 for <dev@httpd.apache.org>;
	Mon, 28 Sep 2015 13:29:20 +0000 (UTC)
Received: from mail.greenbytes.de (mail.greenbytes.de [217.91.35.233])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 0DE9242B51
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 13:29:19 +0000 (UTC)
Received: from delight.greenbytes.de (unknown [5.10.171.186])
	(using TLSv1 with cipher ECDHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	by mail.greenbytes.de (Postfix) with ESMTPSA id 2964015A03B9
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 15:29:12 +0200 (CEST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: http/2 in 2.4.x
From: Stefan Eissing <stefan.eissing@greenbytes.de>
In-Reply-To: <42BF6623-7B53-47DF-8D4E-489742FEB041@jaguNET.com>
Date: Mon, 28 Sep 2015 15:29:11 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <02430781-467A-4C98-8FB2-A04E1B5847CE@greenbytes.de>
References: <42BF6623-7B53-47DF-8D4E-489742FEB041@jaguNET.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

Jim,

woot! Thx for backporting!

> Am 28.09.2015 um 15:27 schrieb Jim Jagielski <jim@jaguNET.com>:
>=20
> I have folded the mod_h2-http/2 stuff into 2.4.x... Right now
> we are in that middle state where we were trying to figure out
> whether it's mod_h2 or http2, and hence _h2_module or _http2_module.
>=20
> Currently, both trunk and 2.4.x are broken when building w/ h2
> since it tries to include *both* _h2_module AND _http2_module.
>=20
> Recall that h2 is CTR on 2.4.x

<green/>bytes GmbH
Hafenweg 16, 48155 M=C3=BCnster, Germany
Phone: +49 251 2807760. Amtsgericht M=C3=BCnster: HRB5782




From dev-return-83958-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 13:35:12 2015
Return-Path: <dev-return-83958-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1686B17CE6
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 13:35:12 +0000 (UTC)
Received: (qmail 91954 invoked by uid 500); 28 Sep 2015 13:28:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 91872 invoked by uid 500); 28 Sep 2015 13:28:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 91861 invoked by uid 99); 28 Sep 2015 13:28:10 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 13:28:10 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 21234C69E4
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 13:28:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id WlFltV9M5-qr for <dev@httpd.apache.org>;
	Mon, 28 Sep 2015 13:28:03 +0000 (UTC)
Received: from resqmta-ch2-06v.sys.comcast.net (resqmta-ch2-06v.sys.comcast.net [69.252.207.38])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 5C76A20592
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 13:28:03 +0000 (UTC)
Received: from resomta-ch2-08v.sys.comcast.net ([69.252.207.104])
	by resqmta-ch2-06v.sys.comcast.net with comcast
	id NdTG1r0072Fh1PH01dTw21; Mon, 28 Sep 2015 13:27:56 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-08v.sys.comcast.net with comcast
	id NdTv1r00S2U0RYt01dTw5y; Mon, 28 Sep 2015 13:27:56 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Subject: http/2 in 2.4.x
Message-Id: <42BF6623-7B53-47DF-8D4E-489742FEB041@jaguNET.com>
Date: Mon, 28 Sep 2015 09:27:55 -0400
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1443446876;
	bh=p1WGvVpK/OcNTSjQ4PryKqwAmzmfkM9eF4lAtQJz1Q8=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=iUj6QmlXvR7hqVkv2XXY6ih/Vn+jtrcC6oQX2I/H5EWZZQl17VbkuuHx8h7d46BML
	 XQxo58EKyEGNtMzYEbEOM4WvNj53LswI4xtCogd1mkQ2JALY0z86J+CvTJQ0dPQeo0
	 +hvHprFgaHM2HY1Q3gTV/iLxerqlk3LR7o7cCRYnb+qLzA5KIITrN5y2aVNovj0fhc
	 TfipGLybd5NSvX7e+Z5KIozx+ZNS0ZLN539R+Vp5ATxlVv1vI8wB8PdgPY8/LqBhdP
	 sBrw0RqnlXh87Gx3VLui+QAoLdh/DTuGGqrWqwirEcHPa/vhsiF8iLfGsWkQ9I9oR3
	 1/zLOCdUuy/4Q==

I have folded the mod_h2-http/2 stuff into 2.4.x... Right now
we are in that middle state where we were trying to figure out
whether it's mod_h2 or http2, and hence _h2_module or _http2_module.

Currently, both trunk and 2.4.x are broken when building w/ h2
since it tries to include *both* _h2_module AND _http2_module.

Recall that h2 is CTR on 2.4.x

From dev-return-83961-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 13:44:05 2015
Return-Path: <dev-return-83961-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 844F017D3C
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 13:44:05 +0000 (UTC)
Received: (qmail 24933 invoked by uid 500); 28 Sep 2015 13:44:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 24865 invoked by uid 500); 28 Sep 2015 13:44:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 24855 invoked by uid 99); 28 Sep 2015 13:44:02 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 13:44:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id E6D7DC69FA
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 13:44:01 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id DKl1ex89TrG5 for <dev@httpd.apache.org>;
	Mon, 28 Sep 2015 13:43:54 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTP id 747A1204DF
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 13:43:53 +0000 (UTC)
Received: from [10.105.13.187] (unknown [5.56.169.82])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 1813D830BF
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 14:43:52 +0100 (BST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: http/2 in 2.4.x
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <20150928133805.GS13083@toftum.dk>
Date: Mon, 28 Sep 2015 15:43:51 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <253ADCC4-FD8B-4B27-8C3C-A64D910C228D@sharp.fm>
References: <42BF6623-7B53-47DF-8D4E-489742FEB041@jaguNET.com> <20150928133805.GS13083@toftum.dk>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 28 Sep 2015, at 3:38 PM, Mads Toftum <mads@toftum.dk> wrote:

> I wish you'd go with mod_http2 both to make it obvious what the module
> does (avoid confusion with H2 database) and because that's how other
> protocol modules like mod_http and mod_ftp are named.

+1.

Regards,
Graham
=E2=80=94


From dev-return-83960-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 13:45:03 2015
Return-Path: <dev-return-83960-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A6D0417D49
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 13:45:03 +0000 (UTC)
Received: (qmail 17265 invoked by uid 500); 28 Sep 2015 13:38:13 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 17201 invoked by uid 500); 28 Sep 2015 13:38:13 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 17185 invoked by uid 99); 28 Sep 2015 13:38:13 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 13:38:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 729E1C081E
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 13:38:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 1
X-Spam-Level: *
X-Spam-Status: No, score=1 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id VQWisjUp9LFy for <dev@httpd.apache.org>;
	Mon, 28 Sep 2015 13:38:12 +0000 (UTC)
Received: from cr.toftum.org (cr.toftum.org [78.46.97.38])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 5585D42BEB
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 13:38:12 +0000 (UTC)
Received: by cr.toftum.org (Postfix, from userid 1000)
	id 3028E27E8092; Mon, 28 Sep 2015 15:38:05 +0200 (CEST)
Date: Mon, 28 Sep 2015 15:38:05 +0200
From: Mads Toftum <mads@toftum.dk>
To: dev@httpd.apache.org
Subject: Re: http/2 in 2.4.x
Message-ID: <20150928133805.GS13083@toftum.dk>
Mail-Followup-To: dev@httpd.apache.org
References: <42BF6623-7B53-47DF-8D4E-489742FEB041@jaguNET.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <42BF6623-7B53-47DF-8D4E-489742FEB041@jaguNET.com>
X-Mailer: mutt

On Mon, Sep 28, 2015 at 09:27:55AM -0400, Jim Jagielski wrote:
> I have folded the mod_h2-http/2 stuff into 2.4.x... Right now
> we are in that middle state where we were trying to figure out
> whether it's mod_h2 or http2, and hence _h2_module or _http2_module.
> 
> Currently, both trunk and 2.4.x are broken when building w/ h2
> since it tries to include *both* _h2_module AND _http2_module.
> 
I wish you'd go with mod_http2 both to make it obvious what the module
does (avoid confusion with H2 database) and because that's how other
protocol modules like mod_http and mod_ftp are named.

vh

Mads Toftum
-- 
http://flickr.com/photos/q42/

From dev-return-83962-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 13:45:35 2015
Return-Path: <dev-return-83962-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DB3B817D4C
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 13:45:35 +0000 (UTC)
Received: (qmail 27108 invoked by uid 500); 28 Sep 2015 13:45:35 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 27042 invoked by uid 500); 28 Sep 2015 13:45:35 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 27032 invoked by uid 99); 28 Sep 2015 13:45:35 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 13:45:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id D071DC081E
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 13:45:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.999
X-Spam-Level:
X-Spam-Status: No, score=0.999 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_MSPIKE_H2=-0.001,
	SPF_HELO_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 15biaZ78CdAI for <dev@httpd.apache.org>;
	Mon, 28 Sep 2015 13:45:22 +0000 (UTC)
Received: from mail1.bemta14.messagelabs.com (mail1.bemta14.messagelabs.com [193.109.254.113])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id E95A2204C9
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 13:45:21 +0000 (UTC)
Received: from [193.109.255.99] by server-9.bemta-14.messagelabs.com id 7F/64-26043-A6449065; Mon, 28 Sep 2015 13:45:14 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-5.tower-48.messagelabs.com!1443447913!31816769!1
X-Originating-IP: [195.232.244.136]
X-StarScan-Received:
X-StarScan-Version: 6.13.16; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 13402 invoked from network); 28 Sep 2015 13:45:14 -0000
Received: from mailout04.vodafone.com (HELO mailout04.vodafone.com) (195.232.244.136)
  by server-5.tower-48.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 28 Sep 2015 13:45:14 -0000
Received: from mailint04.vodafone.com (mailint04.vodafone.com [195.232.244.201])
	by mailout04.vodafone.com (Postfix) with ESMTP id 3nPlTj575XznTYZ
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 15:45:13 +0200 (CEST)
Received: from mailint04.vodafone.com (localhost [127.0.0.1])
	by mailint04.vodafone.com (Postfix) with ESMTP id 3nPlTj4CddzfZs7
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 15:45:13 +0200 (CEST)
Received: from VOEXC02W.internal.vodafone.com (voexc02w.dc-ratingen.de [145.230.101.22])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint04.vodafone.com (Postfix) with ESMTPS id 3nPlTj44wMzfZ6P
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 15:45:13 +0200 (CEST)
Received: from VOEXC27W.internal.vodafone.com (145.230.103.199) by
 VOEXC02W.internal.vodafone.com (145.230.101.22) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Mon, 28 Sep 2015 15:45:13 +0200
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.132]) by voexc27w
 ([145.230.103.199]) with mapi id 14.03.0224.002; Mon, 28 Sep 2015 15:45:11
 +0200
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: AW: http/2 in 2.4.x
Thread-Topic: http/2 in 2.4.x
Thread-Index: AQHQ+fGGXfG3QzbZW0ShPfToBryZRp5R0GSAgAABnICAACHdMA==
Date: Mon, 28 Sep 2015 13:45:12 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC6324AD9@VOEXM10W.internal.vodafone.com>
References: <42BF6623-7B53-47DF-8D4E-489742FEB041@jaguNET.com>
 <20150928133805.GS13083@toftum.dk>
 <253ADCC4-FD8B-4B27-8C3C-A64D910C228D@sharp.fm>
In-Reply-To: <253ADCC4-FD8B-4B27-8C3C-A64D910C228D@sharp.fm>
Accept-Language: en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

KzEgDQoNClJlZ2FyZHMNCg0KUsO8ZGlnZXINCg0KPiAtLS0tLVVyc3Byw7xuZ2xpY2hlIE5hY2hy
aWNodC0tLS0tDQo+IFZvbjogR3JhaGFtIExlZ2dldHQgW21haWx0bzptaW5mcmluQHNoYXJwLmZt
XQ0KPiBHZXNlbmRldDogTW9udGFnLCAyOC4gU2VwdGVtYmVyIDIwMTUgMTU6NDQNCj4gQW46IGRl
dkBodHRwZC5hcGFjaGUub3JnDQo+IEJldHJlZmY6IFJlOiBodHRwLzIgaW4gMi40LngNCj4gDQo+
IE9uIDI4IFNlcCAyMDE1LCBhdCAzOjM4IFBNLCBNYWRzIFRvZnR1bSA8bWFkc0B0b2Z0dW0uZGs+
IHdyb3RlOg0KPiANCj4gPiBJIHdpc2ggeW91J2QgZ28gd2l0aCBtb2RfaHR0cDIgYm90aCB0byBt
YWtlIGl0IG9idmlvdXMgd2hhdCB0aGUgbW9kdWxlDQo+ID4gZG9lcyAoYXZvaWQgY29uZnVzaW9u
IHdpdGggSDIgZGF0YWJhc2UpIGFuZCBiZWNhdXNlIHRoYXQncyBob3cgb3RoZXINCj4gPiBwcm90
b2NvbCBtb2R1bGVzIGxpa2UgbW9kX2h0dHAgYW5kIG1vZF9mdHAgYXJlIG5hbWVkLg0KPiANCj4g
KzEuDQo+IA0KPiBSZWdhcmRzLA0KPiBHcmFoYW0NCj4g4oCUDQoNCg==

From dev-return-83963-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 13:47:12 2015
Return-Path: <dev-return-83963-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 75BB017D5D
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 13:47:12 +0000 (UTC)
Received: (qmail 32152 invoked by uid 500); 28 Sep 2015 13:47:12 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32086 invoked by uid 500); 28 Sep 2015 13:47:12 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32076 invoked by uid 99); 28 Sep 2015 13:47:11 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 13:47:11 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 89A18C081E
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 13:47:11 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.653
X-Spam-Level:
X-Spam-Status: No, score=0.653 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id E1uEIb55Ow6P for <dev@httpd.apache.org>;
	Mon, 28 Sep 2015 13:46:57 +0000 (UTC)
Received: from resqmta-ch2-11v.sys.comcast.net (resqmta-ch2-11v.sys.comcast.net [69.252.207.43])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 0990C42BEB
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 13:46:56 +0000 (UTC)
Received: from resomta-ch2-09v.sys.comcast.net ([69.252.207.105])
	by resqmta-ch2-11v.sys.comcast.net with comcast
	id Ndmi1r0012GyhjZ01dmq4H; Mon, 28 Sep 2015 13:46:50 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-09v.sys.comcast.net with comcast
	id Ndmp1r00G2U0RYt01dmpsY; Mon, 28 Sep 2015 13:46:50 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: http/2 in 2.4.x
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <253ADCC4-FD8B-4B27-8C3C-A64D910C228D@sharp.fm>
Date: Mon, 28 Sep 2015 09:46:49 -0400
Content-Transfer-Encoding: quoted-printable
Message-Id: <FD5EB902-9783-43EA-9E5E-B434B0587E8C@jaguNET.com>
References: <42BF6623-7B53-47DF-8D4E-489742FEB041@jaguNET.com> <20150928133805.GS13083@toftum.dk> <253ADCC4-FD8B-4B27-8C3C-A64D910C228D@sharp.fm>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1443448010;
	bh=OpWqApYFAhZy0n7pu186/aP7PxuVc2cBtusZv05Iedk=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=XXMVPnQnh6aAkDscEGk7cU7SBpXyLcVkAmNVN9TRXL10i4m0jzRqJyGGotOcbCoj2
	 TUq/KBQfpDthzlxfDhQaP8PySQYWyI0PrhaOZq2WmNoZLTygB4PuweuS+2dYGAs5CX
	 XGBpX1Ye7x2d3fgnITfYhKUcv9Rb0wnKnZ5CScxqwTCpnS/n58H770ZTKa7YXclCyx
	 X2sSRjb2yNE3Dz4dL76/IBVqEvsjFgKM1SdEOijj/ffbzGfEojjWaViYvqPmNW3S6A
	 aFtbH0uX8jYTdnhicP1qN/SKp0/OFwYJRSCA6w2QVxdxYyBK5o1nxMAXEycjBXWXKM
	 e00jis+P+s7pQ==

Unless someone beats me to it, I'll work on that later on today.
> On Sep 28, 2015, at 9:43 AM, Graham Leggett <minfrin@sharp.fm> wrote:
>=20
> On 28 Sep 2015, at 3:38 PM, Mads Toftum <mads@toftum.dk> wrote:
>=20
>> I wish you'd go with mod_http2 both to make it obvious what the =
module
>> does (avoid confusion with H2 database) and because that's how other
>> protocol modules like mod_http and mod_ftp are named.
>=20
> +1.
>=20
> Regards,
> Graham
> =E2=80=94
>=20


From dev-return-83964-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 14:04:05 2015
Return-Path: <dev-return-83964-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B112117E10
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 14:04:05 +0000 (UTC)
Received: (qmail 68532 invoked by uid 500); 28 Sep 2015 14:04:02 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 68450 invoked by uid 500); 28 Sep 2015 14:04:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 68439 invoked by uid 99); 28 Sep 2015 14:04:02 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 14:04:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 08E4FC08AC
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 14:04:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 0h7qKNtwnGhJ for <dev@httpd.apache.org>;
	Mon, 28 Sep 2015 14:03:56 +0000 (UTC)
Received: from mail-ig0-f193.google.com (mail-ig0-f193.google.com [209.85.213.193])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 1E9BE20645
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 14:03:56 +0000 (UTC)
Received: by igbbp9 with SMTP id bp9so7900149igb.0
        for <dev@httpd.apache.org>; Mon, 28 Sep 2015 07:03:55 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=5eoaHVjImeMpyvdd5b333xns8paC2yPetL8900x/3kY=;
        b=stONIGcAOJTVpnhWNcTPshH86dJxIDrrukE2BNwkEifYHJhdAcID5P/ZTbu4yhW0Tt
         BIXVJUzy9a/4Shw44lPQe9itsEKbB+pF8ySaB4PlPHtgjozClTufnc4sYSBl9oSY3neF
         GgDqjjN6SXuOsnsZ6cO8Ykm62jMtXUdfdbAk7cu70MH6X6bKaWCSp0JHhjZRZzu9blyN
         MkFFVqywFLzf7MXr2KikxiHqZ2hHwag/edutoGU39Dmdlt1CaPCbdLaNX3VQNXlAjXh1
         0U/JAllDYAwNpl923D3wOuaGyeJvUM5Dsz6wOEimdRc7m2xRUbgxzTW6OtCzz9FCXb0F
         uqeg==
MIME-Version: 1.0
X-Received: by 10.50.73.166 with SMTP id m6mr14486089igv.36.1443449035033;
 Mon, 28 Sep 2015 07:03:55 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Mon, 28 Sep 2015 07:03:54 -0700 (PDT)
In-Reply-To: <20150928140327.DC5833A04B9@svn01-us-west.apache.org>
References: <20150928140327.DC5833A04B9@svn01-us-west.apache.org>
Date: Mon, 28 Sep 2015 10:03:54 -0400
Message-ID: <CALK=YjOyc-2dD-2Gy_MXb3EsGpEGVa3wtvnxWDtAnwuqwLETzg@mail.gmail.com>
Subject: Re: svn commit: r1705695 - /httpd/httpd/trunk/docs/manual/mod/mod_h2.xml
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

please revise as desired, just wanted to get something started

On Mon, Sep 28, 2015 at 10:03 AM,  <covener@apache.org> wrote:
> Author: covener
> Date: Mon Sep 28 14:03:27 2015
> New Revision: 1705695
>
> URL: http://svn.apache.org/viewvc?rev=1705695&view=rev
> Log:
> add an experimental warning to h2 docs
>
>
>
> Modified:
>     httpd/httpd/trunk/docs/manual/mod/mod_h2.xml
>
> Modified: httpd/httpd/trunk/docs/manual/mod/mod_h2.xml
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/mod_h2.xml?rev=1705695&r1=1705694&r2=1705695&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/docs/manual/mod/mod_h2.xml (original)
> +++ httpd/httpd/trunk/docs/manual/mod/mod_h2.xml Mon Sep 28 14:03:27 2015
> @@ -35,6 +35,12 @@
>          <p>This module relies on <a href="http://nghttp2.org/">libnghttp2</a>
>              to provide the core http/2 engine.</p>
>
> +        <note type="warning"><title>Warning</title>
> +          <p>This module is experimental. Its behaviors, directives, and
> +          defaults are subject to more frequent and change from release to
> +          release relative to other standard modules. Users are encouraged to
> +          consult the "CHANGES" file for potential updates.</p>
> +        </note>
>      </summary>
>
>      <directivesynopsis>
>
>



-- 
Eric Covener
covener@gmail.com

From dev-return-83965-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 16:34:04 2015
Return-Path: <dev-return-83965-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0793B1840D
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 16:34:04 +0000 (UTC)
Received: (qmail 89751 invoked by uid 500); 28 Sep 2015 16:34:03 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89671 invoked by uid 500); 28 Sep 2015 16:34:03 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 89661 invoked by uid 99); 28 Sep 2015 16:34:02 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 16:34:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 824211A1F63
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 16:34:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.3
X-Spam-Level: **
X-Spam-Status: No, score=2.3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_DNSWL_LOW=-0.7, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 9foZ0g8H7Y0F for <dev@httpd.apache.org>;
	Mon, 28 Sep 2015 16:33:55 +0000 (UTC)
Received: from mail-io0-f177.google.com (mail-io0-f177.google.com [209.85.223.177])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 1CED1204DF
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 16:33:55 +0000 (UTC)
Received: by ioii196 with SMTP id i196so181954412ioi.3
        for <dev@httpd.apache.org>; Mon, 28 Sep 2015 09:33:54 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:cc:content-type;
        bh=njgPmubGCwyZCtMWtxL0QTqR//uogjSx3ARHS2Nqgus=;
        b=XX1QpflXDNCbppU6krCbGPzPfoMxCQQ1LqUgXT5ocX57YG0dxKTqBH5MlXmWkvoAZV
         d5/tTYlkXMJgunnK37tvyeN3MuCSyeBIfcrdHgq2i+XqHvlzyMYRpBTsyQUbouvO2X9A
         Zc+TociTca07iEWsDsuWO1NngwBmU9srohHwXR3i+RLlAfCFa4uWP9bJB4+K4wiYUQC+
         5+Ni3MVBASwYKj4ZGK5N1tVUNDvg4bgD27orGU+sJXK12PGZ9vAyGJnwQEa4nSn9Jp1Z
         yO70JPYLWs8v7aUw1lmHIOCD9AJsGU7MO8zVKLFy0zUdbutWp9KffpuBSATMfNHoaYQN
         nsXg==
X-Gm-Message-State: ALoCoQkMVgTI7X0zvD7zpg3TK7/0iGKedOsL3z+QJhJMmareRKoUgyoRTSVe3bYXCJttLr0IFTHa
MIME-Version: 1.0
X-Received: by 10.107.166.79 with SMTP id p76mr20108709ioe.163.1443458033997;
 Mon, 28 Sep 2015 09:33:53 -0700 (PDT)
Received: by 10.107.12.199 with HTTP; Mon, 28 Sep 2015 09:33:53 -0700 (PDT)
In-Reply-To: <DA6DBD10-C843-4448-9A00-80ADE6DCCE9F@sharp.fm>
References: <20150928085047.10C403A0198@svn01-us-west.apache.org>
	<CALK=YjP9yGYczbc-yq4oVYb3PbMoavtw2K+zgmVD27KZPEnB+A@mail.gmail.com>
	<DA6DBD10-C843-4448-9A00-80ADE6DCCE9F@sharp.fm>
Date: Mon, 28 Sep 2015 11:33:53 -0500
Message-ID: <CACsi253wtAdnSvHBv9Z+LyoQVckNP_DTJMgiK4L-U=6FrFtTFw@mail.gmail.com>
Subject: Re: svn commit: r1705618 - /httpd/httpd/branches/2.4.x/STATUS
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Cc: cvs@httpd.apache.org
Content-Type: multipart/alternative; boundary=001a1141f37e5d74b70520d14348

--001a1141f37e5d74b70520d14348
Content-Type: text/plain; charset=UTF-8

On Mon, Sep 28, 2015 at 7:53 AM, Graham Leggett <minfrin@sharp.fm> wrote:

> On 28 Sep 2015, at 2:46 PM, Eric Covener <covener@gmail.com> wrote:
>
> >> +     ylavic: Should we really change the (implicit) default in 2.4.x at
> >> +             this stage (and potentially break existing configuratios
> w/o
> >> +             SSLProtocol which used to work with SSLv3 only capable
> clients)?
> >
> > I think the right thing to do here is to break them.
>
> There are two ways to look at this:
>
> - The existence of SSLv3 is a security hole, and for the security hole to
> be fixed, it must be removed from httpd.
>
> - The existence of SSLv3 is a security hole, but the fix may DoS people.
> Emit loud warnings on startup that SSLv3 should be removed from the config
> (and possibly that SSLv3 will be removed completely in future patch release
> Y).
>

By which we mean TTLv1.0/SSLv3 because there is so little technical
difference between them.

Strongly -1 to "fixing" SSLv3 unless we apply the identical change to
TLSv1.0.

I am so strongly torn in both directions that I'm unable to offer a single
opinion.  My only thought is that if updating to 2.4.18 "breaks things" -
that tarnishes our reputation, leaving an unwise protocol enabled "by
default" - also tarnishes our reputation.  The only thing that bends my
opinion slightly is that - if we discourage users to move to 2.4.18 by
making it harder to keep their entire systems operational - we grow another
stagnant pool of "httpd 1.3"-style users out there in perpetuity.

--001a1141f37e5d74b70520d14348
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Sep 28, 2015 at 7:53 AM, Graham Leggett <span dir=3D"ltr">&lt;<a href=
=3D"mailto:minfrin@sharp.fm" target=3D"_blank">minfrin@sharp.fm</a>&gt;</sp=
an> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;=
border-left:1px #ccc solid;padding-left:1ex"><span class=3D"">On 28 Sep 201=
5, at 2:46 PM, Eric Covener &lt;<a href=3D"mailto:covener@gmail.com">covene=
r@gmail.com</a>&gt; wrote:<br>
<br>
&gt;&gt; +=C2=A0 =C2=A0 =C2=A0ylavic: Should we really change the (implicit=
) default in 2.4.x at<br>
&gt;&gt; +=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0this stage (and p=
otentially break existing configuratios w/o<br>
&gt;&gt; +=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0SSLProtocol which=
 used to work with SSLv3 only capable clients)?<br>
&gt;<br>
</span><span class=3D"">&gt; I think the right thing to do here is to break=
 them.<br>
<br>
</span>There are two ways to look at this:<br>
<br>
- The existence of SSLv3 is a security hole, and for the security hole to b=
e fixed, it must be removed from httpd.<br>
<br>
- The existence of SSLv3 is a security hole, but the fix may DoS people. Em=
it loud warnings on startup that SSLv3 should be removed from the config (a=
nd possibly that SSLv3 will be removed completely in future patch release Y=
).<br></blockquote><div><br></div><div>By which we mean TTLv1.0/SSLv3 becau=
se there is so little technical difference between them.</div><div><br></di=
v><div>Strongly -1 to &quot;fixing&quot; SSLv3 unless we apply the identica=
l change to TLSv1.0.</div><div><br></div><div>I am so strongly torn in both=
 directions that I&#39;m unable to offer a single opinion.=C2=A0 My only th=
ought is that if updating to 2.4.18 &quot;breaks things&quot; - that tarnis=
hes our reputation, leaving an unwise protocol enabled &quot;by default&quo=
t; - also tarnishes our reputation.=C2=A0 The only thing that bends my opin=
ion slightly is that - if we discourage users to move to 2.4.18 by making i=
t harder to keep their entire systems operational - we grow another stagnan=
t pool of &quot;httpd 1.3&quot;-style users out there in perpetuity.</div><=
div><br></div><div><br></div></div></div><div class=3D"gmail_extra"><br></d=
iv></div>

--001a1141f37e5d74b70520d14348--

From dev-return-83966-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 16:35:54 2015
Return-Path: <dev-return-83966-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9C99D18418
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 16:35:54 +0000 (UTC)
Received: (qmail 95895 invoked by uid 500); 28 Sep 2015 16:35:46 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 95823 invoked by uid 500); 28 Sep 2015 16:35:46 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 95813 invoked by uid 99); 28 Sep 2015 16:35:46 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 16:35:46 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id A0EF9C081E
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 16:35:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id TYfks82d0K92 for <dev@httpd.apache.org>;
	Mon, 28 Sep 2015 16:35:35 +0000 (UTC)
Received: from mail-io0-f177.google.com (mail-io0-f177.google.com [209.85.223.177])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 66D6142B5D
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 16:35:35 +0000 (UTC)
Received: by ioiz6 with SMTP id z6so180828207ioi.2
        for <dev@httpd.apache.org>; Mon, 28 Sep 2015 09:35:35 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=cxxlLGhiA7CVXXgwk/03msFCrSdHDG9pJK9X5UwS7+I=;
        b=ZC7I0uIeH1ProqqY5oF/6wBIIADiCzIHI+L8wOmpUKwOVG8DOY7LRsRrRw1Ma3uzgU
         mDqRzo38MiXKJmuw3W2OtG2lOTRR1xTEcE6KRMebkU/0teFHSeij+g0qONLHh46PPqqr
         7NeVpWrPR8J/er7fimq35urngEHC7FKQJ6vITRUZxa2uJsBBzBuKIgdUHQubR3ICWUzx
         c+Yck0V0qx6iqhIg3Eu2AfVCnposR5dl/UHVbUEa6ha+J/Wzqk1CMo/vZk4Ow7q53ZXk
         VN9DSUVkbKUazAmGhLARwGNX4Ifv74Pe9LQKFZ+lBoTjfZZmlFjVRkkU0UllcwlYdGnK
         UubQ==
X-Gm-Message-State: ALoCoQncSMkmikVVoHTT4lHi7wehARizWAwtgU6V4qqsClaKEI3RMpKhPs9/3sgQ1B2c6/8Xhg1e
MIME-Version: 1.0
X-Received: by 10.107.166.79 with SMTP id p76mr20119159ioe.163.1443458134872;
 Mon, 28 Sep 2015 09:35:34 -0700 (PDT)
Received: by 10.107.12.199 with HTTP; Mon, 28 Sep 2015 09:35:34 -0700 (PDT)
In-Reply-To: <FD5EB902-9783-43EA-9E5E-B434B0587E8C@jaguNET.com>
References: <42BF6623-7B53-47DF-8D4E-489742FEB041@jaguNET.com>
	<20150928133805.GS13083@toftum.dk>
	<253ADCC4-FD8B-4B27-8C3C-A64D910C228D@sharp.fm>
	<FD5EB902-9783-43EA-9E5E-B434B0587E8C@jaguNET.com>
Date: Mon, 28 Sep 2015 11:35:34 -0500
Message-ID: <CACsi253MVK9Os54yk4=HWLrzZqaYP5rdhtzF6VcyOfKnC=8pEQ@mail.gmail.com>
Subject: Re: http/2 in 2.4.x
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1141f37e6098140520d14967

--001a1141f37e6098140520d14967
Content-Type: text/plain; charset=UTF-8

On Mon, Sep 28, 2015 at 8:46 AM, Jim Jagielski <jim@jagunet.com> wrote:

Unless someone beats me to it, I'll work on that later on today.
>


> > On Sep 28, 2015, at 9:43 AM, Graham Leggett <minfrin@sharp.fm> wrote:
> >
> > On 28 Sep 2015, at 3:38 PM, Mads Toftum <mads@toftum.dk> wrote:
> >
> >> I wish you'd go with mod_http2 both to make it obvious what the module
> >> does (avoid confusion with H2 database) and because that's how other
> >> protocol modules like mod_http and mod_ftp are named.
> >
> > +1.
>

+0.9, I found the mod_h2 module name really charming, but this is more
descriptive.

--001a1141f37e6098140520d14967
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Sep 28, 2015 at 8:46 AM, Jim Jagielski <span dir=3D"ltr">&lt;<a href=3D=
"mailto:jim@jagunet.com" target=3D"_blank">jim@jagunet.com</a>&gt;</span> w=
rote:</div><div class=3D"gmail_quote"><br><blockquote class=3D"gmail_quote"=
 style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Un=
less someone beats me to it, I&#39;ll work on that later on today.<br></blo=
ckquote><div>=C2=A0</div><blockquote class=3D"gmail_quote" style=3D"margin:=
0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">
<div class=3D"HOEnZb"><div class=3D"h5">&gt; On Sep 28, 2015, at 9:43 AM, G=
raham Leggett &lt;<a href=3D"mailto:minfrin@sharp.fm">minfrin@sharp.fm</a>&=
gt; wrote:<br>
&gt;<br>
&gt; On 28 Sep 2015, at 3:38 PM, Mads Toftum &lt;<a href=3D"mailto:mads@tof=
tum.dk">mads@toftum.dk</a>&gt; wrote:<br>
&gt;<br>
&gt;&gt; I wish you&#39;d go with mod_http2 both to make it obvious what th=
e module<br>
&gt;&gt; does (avoid confusion with H2 database) and because that&#39;s how=
 other<br>
&gt;&gt; protocol modules like mod_http and mod_ftp are named.<br>
&gt;<br>
&gt; +1.<br></div></div></blockquote><div><br></div><div>+0.9, I found the =
mod_h2 module name really charming, but this is more descriptive.</div></di=
v></div></div>

--001a1141f37e6098140520d14967--

From dev-return-83967-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 16:59:55 2015
Return-Path: <dev-return-83967-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CEE4A1852D
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 16:59:55 +0000 (UTC)
Received: (qmail 73670 invoked by uid 500); 28 Sep 2015 16:59:39 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 73604 invoked by uid 500); 28 Sep 2015 16:59:39 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 73593 invoked by uid 99); 28 Sep 2015 16:59:39 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 16:59:39 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 292D5C08AC
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 16:59:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id yVA_K7HU6TCO for <dev@httpd.apache.org>;
	Mon, 28 Sep 2015 16:59:33 +0000 (UTC)
Received: from mail-io0-f172.google.com (mail-io0-f172.google.com [209.85.223.172])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 5D97A20592
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 16:59:33 +0000 (UTC)
Received: by iofb144 with SMTP id b144so182872539iof.1
        for <dev@httpd.apache.org>; Mon, 28 Sep 2015 09:59:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=h/tyU2W5SGQ1xxROdq11tgsH7Uxa7uBbIskH9FnE6ew=;
        b=bSbRIU/MQrpBpPRq+rTGQ8nJZpde5CjC5k4IOO/YpG6SZ7oyWjv1EjXVbeNR4rjsBT
         WEkvsHRzf6xo0BXq7hReFLntnp+KkTdAKR1EMxdNrHYYJLp6huSBxUqrcwvhSTuK/83h
         7kfwPCSH9aTS20GmqouDlgC8FhspHDZE1Gzwrz3lJGMLt2HCPzoWSBonPm6BccxOY4aT
         OS2IrJxYv9LDc3V0V2qV/1gCSnioZ6Gi+lDuk/UFXM6eP9IZugOS9fE0MvWCqP0kFUcJ
         GCpfMPvh2U+xV5R6Lp2NzLS/LBEWVmXiMlEL69zeuZczmbrw5Elf6Cj4bunuxaAIEFqp
         +iSQ==
MIME-Version: 1.0
X-Received: by 10.107.134.220 with SMTP id q89mr20927972ioi.90.1443459572777;
 Mon, 28 Sep 2015 09:59:32 -0700 (PDT)
Received: by 10.64.25.3 with HTTP; Mon, 28 Sep 2015 09:59:32 -0700 (PDT)
In-Reply-To: <CACsi253wtAdnSvHBv9Z+LyoQVckNP_DTJMgiK4L-U=6FrFtTFw@mail.gmail.com>
References: <20150928085047.10C403A0198@svn01-us-west.apache.org>
	<CALK=YjP9yGYczbc-yq4oVYb3PbMoavtw2K+zgmVD27KZPEnB+A@mail.gmail.com>
	<DA6DBD10-C843-4448-9A00-80ADE6DCCE9F@sharp.fm>
	<CACsi253wtAdnSvHBv9Z+LyoQVckNP_DTJMgiK4L-U=6FrFtTFw@mail.gmail.com>
Date: Mon, 28 Sep 2015 12:59:32 -0400
Message-ID: <CALK=YjM_QoBAcsWjT_-by==_eTve2daQbzqQX6mafv71f=e1Qg@mail.gmail.com>
Subject: Re: svn commit: r1705618 - /httpd/httpd/branches/2.4.x/STATUS
From: Eric Covener <covener@gmail.com>
To: Apache HTTP Server Development List <dev@httpd.apache.org>
Content-Type: text/plain; charset=UTF-8

On Mon, Sep 28, 2015 at 12:33 PM, William A Rowe Jr <wrowe@rowe-clan.net> wrote:
> By which we mean TTLv1.0/SSLv3 because there is so little technical
> difference between them.

AORN {
I think there is enough difference to disable one by default and not
the other.  The final straw for SSLv3 was POODLE. But POODLE on TLS
1.0 was fixable/fixed. The qualsys TLS best practice doc
differentiates them, and the scanner dings you seriously for SSLv3 and
not at all for TLS1.0.   From my own support work, anecdotally,
commercial scan tools seem to treat things the same as qualsys.
}

-- 
Eric Covener
covener@gmail.com

From dev-return-83968-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 18:08:42 2015
Return-Path: <dev-return-83968-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4B0D6187A6
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 18:08:42 +0000 (UTC)
Received: (qmail 46142 invoked by uid 500); 28 Sep 2015 18:08:41 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 46063 invoked by uid 500); 28 Sep 2015 18:08:41 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 46053 invoked by uid 99); 28 Sep 2015 18:08:41 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 18:08:41 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id E761AC08AC
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 18:08:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2
X-Spam-Level: **
X-Spam-Status: No, score=2 tagged_above=-999 required=6.31
	tests=[FREEMAIL_REPLY=1, KAM_LAZY_DOMAIN_SECURITY=1,
	SPF_HELO_PASS=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id vHnjM_kn3Z5H for <dev@httpd.apache.org>;
	Mon, 28 Sep 2015 18:08:30 +0000 (UTC)
Received: from mail1.bemta14.messagelabs.com (mail1.bemta14.messagelabs.com [193.109.254.105])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 7079520314
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 18:08:29 +0000 (UTC)
Received: from [193.109.254.3] by server-1.bemta-14.messagelabs.com id 19/CE-28791-71289065; Mon, 28 Sep 2015 18:08:23 +0000
X-Env-Sender: ruediger.pluem@vodafone.com
X-Msg-Ref: server-3.tower-184.messagelabs.com!1443463702!12795921!1
X-Originating-IP: [195.232.244.134]
X-StarScan-Received:
X-StarScan-Version: 6.13.16; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 17732 invoked from network); 28 Sep 2015 18:08:22 -0000
Received: from mailout02.vodafone.com (HELO mailout02.vodafone.com) (195.232.244.134)
  by server-3.tower-184.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 28 Sep 2015 18:08:22 -0000
Received: from mailint04.vodafone.com (mailint04.vodafone.com [195.232.244.201])
	by mailout02.vodafone.com (Postfix) with ESMTP id 3nPsKL1svJzbdMY
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 20:08:22 +0200 (CEST)
Received: from mailint04.vodafone.com (localhost [127.0.0.1])
	by mailint04.vodafone.com (Postfix) with ESMTP id 3nPsKL0rcZzfZg4
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 20:08:22 +0200 (CEST)
Received: from VOEXC01W.internal.vodafone.com (voexc01w.dc-ratingen.de [145.230.101.21])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mailint04.vodafone.com (Postfix) with ESMTPS id 3nPsKL0VCxzfZ3Z
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 20:08:22 +0200 (CEST)
Received: from VOEXC07W.internal.vodafone.com (145.230.101.27) by
 VOEXC01W.internal.vodafone.com (145.230.101.21) with Microsoft SMTP Server
 (TLS) id 14.3.224.2; Mon, 28 Sep 2015 20:08:21 +0200
Received: from VOEXM10W.internal.vodafone.com ([169.254.2.132]) by
 VOEXC07W.internal.vodafone.com ([145.230.101.27]) with mapi id
 14.03.0224.002; Mon, 28 Sep 2015 20:08:21 +0200
From: =?utf-8?B?UGzDvG0sIFLDvGRpZ2VyLCBWb2RhZm9uZSBHcm91cA==?=
	<ruediger.pluem@vodafone.com>
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
Subject: AW: svn commit: r1705618 - /httpd/httpd/branches/2.4.x/STATUS
Thread-Topic: svn commit: r1705618 - /httpd/httpd/branches/2.4.x/STATUS
Thread-Index: AQHQ+eu4H/e9rU8ZF061qykwskp/yp5RxAOAgAA9i4CAAAcqAIAANG3w
Date: Mon, 28 Sep 2015 18:08:20 +0000
Message-ID: <AB1691BE05AE7F4992697F2A0835627AC6324C33@VOEXM10W.internal.vodafone.com>
References: <20150928085047.10C403A0198@svn01-us-west.apache.org>
	<CALK=YjP9yGYczbc-yq4oVYb3PbMoavtw2K+zgmVD27KZPEnB+A@mail.gmail.com>
	<DA6DBD10-C843-4448-9A00-80ADE6DCCE9F@sharp.fm>
	<CACsi253wtAdnSvHBv9Z+LyoQVckNP_DTJMgiK4L-U=6FrFtTFw@mail.gmail.com>
 <CALK=YjM_QoBAcsWjT_-by==_eTve2daQbzqQX6mafv71f=e1Qg@mail.gmail.com>
In-Reply-To: <CALK=YjM_QoBAcsWjT_-by==_eTve2daQbzqQX6mafv71f=e1Qg@mail.gmail.com>
Accept-Language: en-US
Content-Language: de-DE
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

DQoNCj4gLS0tLS1VcnNwcsO8bmdsaWNoZSBOYWNocmljaHQtLS0tLQ0KPiBWb246IEVyaWMgQ292
ZW5lciBbbWFpbHRvOmNvdmVuZXJAZ21haWwuY29tXQ0KPiBHZXNlbmRldDogTW9udGFnLCAyOC4g
U2VwdGVtYmVyIDIwMTUgMTk6MDANCj4gQW46IEFwYWNoZSBIVFRQIFNlcnZlciBEZXZlbG9wbWVu
dCBMaXN0IDxkZXZAaHR0cGQuYXBhY2hlLm9yZz4NCj4gQmV0cmVmZjogUmU6IHN2biBjb21taXQ6
IHIxNzA1NjE4IC0gL2h0dHBkL2h0dHBkL2JyYW5jaGVzLzIuNC54L1NUQVRVUw0KPiANCj4gT24g
TW9uLCBTZXAgMjgsIDIwMTUgYXQgMTI6MzMgUE0sIFdpbGxpYW0gQSBSb3dlIEpyIDx3cm93ZUBy
b3dlLQ0KPiBjbGFuLm5ldD4gd3JvdGU6DQo+ID4gQnkgd2hpY2ggd2UgbWVhbiBUVEx2MS4wL1NT
THYzIGJlY2F1c2UgdGhlcmUgaXMgc28gbGl0dGxlIHRlY2huaWNhbA0KPiA+IGRpZmZlcmVuY2Ug
YmV0d2VlbiB0aGVtLg0KPiANCj4gQU9STiB7DQo+IEkgdGhpbmsgdGhlcmUgaXMgZW5vdWdoIGRp
ZmZlcmVuY2UgdG8gZGlzYWJsZSBvbmUgYnkgZGVmYXVsdCBhbmQgbm90DQo+IHRoZSBvdGhlci4g
IFRoZSBmaW5hbCBzdHJhdyBmb3IgU1NMdjMgd2FzIFBPT0RMRS4gQnV0IFBPT0RMRSBvbiBUTFMN
Cj4gMS4wIHdhcyBmaXhhYmxlL2ZpeGVkLiBUaGUgcXVhbHN5cyBUTFMgYmVzdCBwcmFjdGljZSBk
b2MNCj4gZGlmZmVyZW50aWF0ZXMgdGhlbSwgYW5kIHRoZSBzY2FubmVyIGRpbmdzIHlvdSBzZXJp
b3VzbHkgZm9yIFNTTHYzIGFuZA0KPiBub3QgYXQgYWxsIGZvciBUTFMxLjAuICAgRnJvbSBteSBv
d24gc3VwcG9ydCB3b3JrLCBhbmVjZG90YWxseSwNCj4gY29tbWVyY2lhbCBzY2FuIHRvb2xzIHNl
ZW0gdG8gdHJlYXQgdGhpbmdzIHRoZSBzYW1lIGFzIHF1YWxzeXMuDQo+IH0NCj4gDQoNCisxLiBT
U0x2MyBhbmQgVExTIDEuMCBhcmUgY2xvc2UsIGJ1dCB0aGVyZSBhcmUgc29tZSBkaWZmZXJlbmNl
cyBhbmQgdGhlIGFiaWxpdHkgdG8gcHJldmVudCBQT09ETEUgaXMgKGFuIGltcG9ydGFudCkgb25l
IG9mIHRoZW0uDQoNClJlZ2FyZHMNCg0KUsO8ZGlnZXINCg==

From dev-return-83969-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 19:05:15 2015
Return-Path: <dev-return-83969-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A0FC518ACC
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 19:05:15 +0000 (UTC)
Received: (qmail 78791 invoked by uid 500); 28 Sep 2015 19:05:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 78719 invoked by uid 500); 28 Sep 2015 19:05:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 78707 invoked by uid 99); 28 Sep 2015 19:05:15 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 19:05:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id BA1E3C081E
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 19:05:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id jl1Vj6F7Uimy for <dev@httpd.apache.org>;
	Mon, 28 Sep 2015 19:05:08 +0000 (UTC)
Received: from resqmta-ch2-06v.sys.comcast.net (resqmta-ch2-06v.sys.comcast.net [69.252.207.38])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id F046120F1E
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 19:05:07 +0000 (UTC)
Received: from resomta-ch2-01v.sys.comcast.net ([69.252.207.97])
	by resqmta-ch2-06v.sys.comcast.net with comcast
	id Nj4V1r00426dK1R01j57mZ; Mon, 28 Sep 2015 19:05:07 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-01v.sys.comcast.net with comcast
	id Nj561r00L2U0RYt01j56R5; Mon, 28 Sep 2015 19:05:07 +0000
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: http/2 in 2.4.x
From: Jim Jagielski <jim@jaguNET.com>
In-Reply-To: <CACsi253MVK9Os54yk4=HWLrzZqaYP5rdhtzF6VcyOfKnC=8pEQ@mail.gmail.com>
Date: Mon, 28 Sep 2015 15:05:06 -0400
Content-Transfer-Encoding: 7bit
Message-Id: <79F282D3-3DDA-43F4-ADF6-730C150164C8@jaguNET.com>
References: <42BF6623-7B53-47DF-8D4E-489742FEB041@jaguNET.com> <20150928133805.GS13083@toftum.dk> <253ADCC4-FD8B-4B27-8C3C-A64D910C228D@sharp.fm> <FD5EB902-9783-43EA-9E5E-B434B0587E8C@jaguNET.com> <CACsi253MVK9Os54yk4=HWLrzZqaYP5rdhtzF6VcyOfKnC=8pEQ@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1443467107;
	bh=QsFlxSygbn+aMfD1Clw5SeET0oQA0B2NkF+Y8K9eJ8k=;
	h=Received:Received:Content-Type:Mime-Version:Subject:From:Date:
	 Message-Id:To;
	b=Pko+9+1/7YEdryB2wDfoA2ET/FZ0+taaUMvJVIgmUK/xJhMrMpxWpbGYHdykqEOYR
	 1/UEc9mC6YToGRN2b2n8HcYZZZuT2mVDMQpkXTdnBKQ9nytM9TQIdnMC2M8OM9EeMN
	 jE/7oDYYeUZdB8q+31wDWjxOJmT678qtWOHtgr85gUGKbyAvCsnv8ibpjVyYMhsN1P
	 smnpRE1+bawDAwawPJT9fdlGVwW2BW6Tz9IOX/cuPBkmW7QWAKoy+VB/Lt6+z04BGg
	 HZxbORKvDPDh0nRoNlJ39sAG6pIQmsCxqtSai1f/JQph11m7/Gk1VayX5BEzePRUBM
	 WUiYQdPBcrFgw==

All done locally... waiting for SVN to come back up.

From dev-return-83970-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 19:54:28 2015
Return-Path: <dev-return-83970-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6979E18DEB
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 19:54:28 +0000 (UTC)
Received: (qmail 18124 invoked by uid 500); 28 Sep 2015 19:54:27 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18057 invoked by uid 500); 28 Sep 2015 19:54:27 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18047 invoked by uid 99); 28 Sep 2015 19:54:27 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 19:54:27 +0000
Received: from gauss.localdomain (v4-861345e7.pool.vitroconnect.de [134.19.69.231])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id D5D261A025E
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 19:54:26 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 33D0B57A
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 21:54:24 +0200 (CEST)
Subject: Re: svn commit: r1705492 - in /httpd/httpd/branches/2.4.x: ./
 docs/manual/mod/ include/ server/ server/mpm/event/ server/mpm/netware/
 server/mpm/prefork/ server/mpm/winnt/ server/mpm/worker/
To: dev@httpd.apache.org
References: <20150926222014.ECAF83A0198@svn01-us-west.apache.org>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <56099AF0.7030602@apache.org>
Date: Mon, 28 Sep 2015 21:54:24 +0200
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:41.0) Gecko/20100101
 Firefox/41.0 SeaMonkey/2.38
MIME-Version: 1.0
In-Reply-To: <20150926222014.ECAF83A0198@svn01-us-west.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 09/27/2015 12:20 AM, minfrin@apache.org wrote:
> Author: minfrin
> Date: Sat Sep 26 22:20:14 2015
> New Revision: 1705492
> 
> URL: http://svn.apache.org/viewvc?rev=1705492&view=rev
> Log:
> MPMs: Support SO_REUSEPORT to create multiple duplicated listener
> records for scalability.
> 
> Submitted by: Yingqi Lu <yingqi.lu@intel.com>, Jeff Trawick,
>               Jim Jagielski, Yann Ylavic
> 
> Reviewed by: ylavic, jim, minfrin
> 
> Modified:
>     httpd/httpd/branches/2.4.x/CHANGES
>     httpd/httpd/branches/2.4.x/STATUS
>     httpd/httpd/branches/2.4.x/docs/manual/mod/mpm_common.xml
>     httpd/httpd/branches/2.4.x/include/ap_listen.h
>     httpd/httpd/branches/2.4.x/include/ap_mmn.h
>     httpd/httpd/branches/2.4.x/include/http_log.h
>     httpd/httpd/branches/2.4.x/include/scoreboard.h
>     httpd/httpd/branches/2.4.x/server/listen.c
>     httpd/httpd/branches/2.4.x/server/log.c
>     httpd/httpd/branches/2.4.x/server/mpm/event/event.c
>     httpd/httpd/branches/2.4.x/server/mpm/netware/mpm_netware.c
>     httpd/httpd/branches/2.4.x/server/mpm/prefork/prefork.c
>     httpd/httpd/branches/2.4.x/server/mpm/winnt/mpm_winnt.c
>     httpd/httpd/branches/2.4.x/server/mpm/worker/worker.c
> 

> Modified: httpd/httpd/branches/2.4.x/include/ap_mmn.h
> URL: http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/include/ap_mmn.h?rev=1705492&r1=1705491&r2=1705492&view=diff
> ==============================================================================
> --- httpd/httpd/branches/2.4.x/include/ap_mmn.h (original)
> +++ httpd/httpd/branches/2.4.x/include/ap_mmn.h Sat Sep 26 22:20:14 2015
> @@ -445,6 +445,11 @@
>   * 20120211.46 (2.4.13-dev) Add ap_map_http_request_error()
>   * 20120211.47 (2.4.13-dev) Add ap_some_authn_required, ap_force_authn hook.
>   *                          Deprecate broken ap_some_auth_required.
> + * 20120211.48 (2.4.13-dev) Added ap_log_mpm_common().
> + * 20120211.49 (2.4.13-dev) Add listener bucket in scoreboard.h's process_score.
> + * 20120211.50 (2.4.13-dev) Add ap_set_listencbratio(), ap_close_listeners_ex(),
> + *                          ap_duplicate_listeners(), ap_num_listen_buckets and
> + *                          ap_have_so_reuseport to ap_listen.h.
>   */


Shouldn't this be 2.4.17-dev instead of 1.4.13-dev?

Regards

Rüdiger

From dev-return-83971-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 20:04:44 2015
Return-Path: <dev-return-83971-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A39A118E6A
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 20:04:44 +0000 (UTC)
Received: (qmail 48408 invoked by uid 500); 28 Sep 2015 20:04:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 48342 invoked by uid 500); 28 Sep 2015 20:04:09 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 48332 invoked by uid 99); 28 Sep 2015 20:04:09 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 20:04:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 5F92A1A203F
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 20:04:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.12
X-Spam-Level:
X-Spam-Status: No, score=-0.12 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H3=-0.01, RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001,
	URIBL_BLOCKED=0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id Tn9g2vCn3blr for <dev@httpd.apache.org>;
	Mon, 28 Sep 2015 20:04:04 +0000 (UTC)
Received: from mail-qk0-f179.google.com (mail-qk0-f179.google.com [209.85.220.179])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 4D7DC20314
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 20:04:03 +0000 (UTC)
Received: by qkcf65 with SMTP id f65so72862804qkc.3
        for <dev@httpd.apache.org>; Mon, 28 Sep 2015 13:04:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=lXmMghu+LH4aOfT+beokX9Ypy6dY3+eZJkI3jUNH/zs=;
        b=IDyZpjpl+FWfN8o25lo6aMErlw2x3gRUx2EDbbtYzn4ND/QVVqJ7GaHkOFvtuyiRSh
         pKPSNEICPwdGeAF2TlHibAktuViDFgn6L5P7q+zbvsevjYxk3HXoeVG/Q+iiisPqVzQ3
         5krA8sUbP/hPJim31R3yt5I0NFxWVOJCqtD9JUHRonuP70YJABmFR5te09NZ1ZKBcShs
         h9ptnmekFrOkfaWb2HtIWxu/fXCHjI3N+I0OcQyVO8zwjonBbPQ0YTXF1gxWVreZgIjw
         YBjE+gwk7x7fRVjG82lK879Vu8bg3etS21cZn6T0N4D7aGWbSrJBO+ah2bU9iqFMNeTY
         SwtA==
MIME-Version: 1.0
X-Received: by 10.55.56.129 with SMTP id f123mr23720702qka.79.1443470642409;
 Mon, 28 Sep 2015 13:04:02 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Mon, 28 Sep 2015 13:04:02 -0700 (PDT)
In-Reply-To: <56099AF0.7030602@apache.org>
References: <20150926222014.ECAF83A0198@svn01-us-west.apache.org>
	<56099AF0.7030602@apache.org>
Date: Mon, 28 Sep 2015 22:04:02 +0200
Message-ID: <CAKQ1sVOdVkO_r6r3PQk4O-8W_U+1wvXHx6g1x=u+FCRHDQr5tQ@mail.gmail.com>
Subject: Re: svn commit: r1705492 - in /httpd/httpd/branches/2.4.x: ./
 docs/manual/mod/ include/ server/ server/mpm/event/ server/mpm/netware/
 server/mpm/prefork/ server/mpm/winnt/ server/mpm/worker/
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Mon, Sep 28, 2015 at 9:54 PM, Ruediger Pluem <rpluem@apache.org> wrote:
>
>
> On 09/27/2015 12:20 AM, minfrin@apache.org wrote:
>> Author: minfrin
>> Date: Sat Sep 26 22:20:14 2015
>> New Revision: 1705492
>>
>> URL: http://svn.apache.org/viewvc?rev=1705492&view=rev
>> Log:
>> MPMs: Support SO_REUSEPORT to create multiple duplicated listener
>> records for scalability.
>>
>> Submitted by: Yingqi Lu <yingqi.lu@intel.com>, Jeff Trawick,
>>               Jim Jagielski, Yann Ylavic
>>
>> Reviewed by: ylavic, jim, minfrin
>>
>> Modified:
>>     httpd/httpd/branches/2.4.x/CHANGES
>>     httpd/httpd/branches/2.4.x/STATUS
>>     httpd/httpd/branches/2.4.x/docs/manual/mod/mpm_common.xml
>>     httpd/httpd/branches/2.4.x/include/ap_listen.h
>>     httpd/httpd/branches/2.4.x/include/ap_mmn.h
>>     httpd/httpd/branches/2.4.x/include/http_log.h
>>     httpd/httpd/branches/2.4.x/include/scoreboard.h
>>     httpd/httpd/branches/2.4.x/server/listen.c
>>     httpd/httpd/branches/2.4.x/server/log.c
>>     httpd/httpd/branches/2.4.x/server/mpm/event/event.c
>>     httpd/httpd/branches/2.4.x/server/mpm/netware/mpm_netware.c
>>     httpd/httpd/branches/2.4.x/server/mpm/prefork/prefork.c
>>     httpd/httpd/branches/2.4.x/server/mpm/winnt/mpm_winnt.c
>>     httpd/httpd/branches/2.4.x/server/mpm/worker/worker.c
>>
>
>> Modified: httpd/httpd/branches/2.4.x/include/ap_mmn.h
>> URL: http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/include/ap_mmn.h?rev=1705492&r1=1705491&r2=1705492&view=diff
>> ==============================================================================
>> --- httpd/httpd/branches/2.4.x/include/ap_mmn.h (original)
>> +++ httpd/httpd/branches/2.4.x/include/ap_mmn.h Sat Sep 26 22:20:14 2015
>> @@ -445,6 +445,11 @@
>>   * 20120211.46 (2.4.13-dev) Add ap_map_http_request_error()
>>   * 20120211.47 (2.4.13-dev) Add ap_some_authn_required, ap_force_authn hook.
>>   *                          Deprecate broken ap_some_auth_required.
>> + * 20120211.48 (2.4.13-dev) Added ap_log_mpm_common().
>> + * 20120211.49 (2.4.13-dev) Add listener bucket in scoreboard.h's process_score.
>> + * 20120211.50 (2.4.13-dev) Add ap_set_listencbratio(), ap_close_listeners_ex(),
>> + *                          ap_duplicate_listeners(), ap_num_listen_buckets and
>> + *                          ap_have_so_reuseport to ap_listen.h.
>>   */
>
>
> Shouldn't this be 2.4.17-dev instead of 1.4.13-dev?

Right, fixed in r1705759.

Thanks,
Yann.

From dev-return-83972-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 20:30:28 2015
Return-Path: <dev-return-83972-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B2BA818FA0
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 20:30:28 +0000 (UTC)
Received: (qmail 13869 invoked by uid 500); 28 Sep 2015 20:30:18 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 13793 invoked by uid 500); 28 Sep 2015 20:30:18 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 13783 invoked by uid 99); 28 Sep 2015 20:30:18 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 20:30:18 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 6FE6EC081E
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 20:30:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.999
X-Spam-Level:
X-Spam-Status: No, score=0.999 tagged_above=-999 required=6.31
	tests=[KAM_LAZY_DOMAIN_SECURITY=1, RCVD_IN_MSPIKE_H2=-0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id MdLf8OTRnRPV for <dev@httpd.apache.org>;
	Mon, 28 Sep 2015 20:30:17 +0000 (UTC)
Received: from smtp.smtpout.orange.fr (smtp08.smtpout.orange.fr [80.12.242.130])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 21CCF439B1
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 20:30:17 +0000 (UTC)
Received: from [127.0.0.1] ([92.140.227.136])
	by mwinf5d43 with ME
	id NkW91r0032xCUKg03kW9pz; Mon, 28 Sep 2015 22:30:09 +0200
X-ME-Helo: [127.0.0.1]
X-ME-Date: Mon, 28 Sep 2015 22:30:09 +0200
X-ME-IP: 92.140.227.136
Subject: Re: svn commit: r1705492 - in /httpd/httpd/branches/2.4.x: ./
 docs/manual/mod/ include/ server/ server/mpm/event/ server/mpm/netware/
 server/mpm/prefork/ server/mpm/winnt/ server/mpm/worker/
To: dev@httpd.apache.org
References: <20150926222014.ECAF83A0198@svn01-us-west.apache.org>
 <56099AF0.7030602@apache.org>
From: Marion & Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Message-ID: <5609A351.9030202@wanadoo.fr>
Date: Mon, 28 Sep 2015 22:30:09 +0200
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <56099AF0.7030602@apache.org>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Antivirus: avast! (VPS 150928-0, 28/09/2015), Outbound message
X-Antivirus-Status: Clean



Le 28/09/2015 21:54, Ruediger Pluem a écrit :
> Modified: httpd/httpd/branches/2.4.x/include/ap_mmn.h
> URL: http://svn.apache.org/viewvc/httpd/httpd/branches/2.4.x/include/ap_mmn.h?rev=1705492&r1=1705491&r2=1705492&view=diff
> ==============================================================================
> --- httpd/httpd/branches/2.4.x/include/ap_mmn.h (original)
> +++ httpd/httpd/branches/2.4.x/include/ap_mmn.h Sat Sep 26 22:20:14 2015
> @@ -445,6 +445,11 @@
>    * 20120211.46 (2.4.13-dev) Add ap_map_http_request_error()
>    * 20120211.47 (2.4.13-dev) Add ap_some_authn_required, ap_force_authn hook.
>    *                          Deprecate broken ap_some_auth_required.
> + * 20120211.48 (2.4.13-dev) Added ap_log_mpm_common().
> + * 20120211.49 (2.4.13-dev) Add listener bucket in scoreboard.h's process_score.
> + * 20120211.50 (2.4.13-dev) Add ap_set_listencbratio(), ap_close_listeners_ex(),
> + *                          ap_duplicate_listeners(), ap_num_listen_buckets and
> + *                          ap_have_so_reuseport to ap_listen.h.
>    */
> Shouldn't this be 2.4.17-dev instead of 1.4.13-dev?
>
> Regards
>
> Rüdiger

+1

I also spotted it yesterday while looking at potential backport proposal 
for 2.4.x
BTW, 20120211.47 should be 2.4.14-dev

CJ

From dev-return-83973-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 20:34:10 2015
Return-Path: <dev-return-83973-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 80C3218FD4
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 20:34:10 +0000 (UTC)
Received: (qmail 24969 invoked by uid 500); 28 Sep 2015 20:34:10 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 24890 invoked by uid 500); 28 Sep 2015 20:34:10 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 24879 invoked by uid 99); 28 Sep 2015 20:34:10 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 20:34:09 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 95219C081E
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 20:34:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 0.652
X-Spam-Level:
X-Spam-Status: No, score=0.652 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, SPF_NEUTRAL=0.652]
	autolearn=disabled
Authentication-Results: spamd4-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=comcast.net
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id m-XDYQVOmtAE for <dev@httpd.apache.org>;
	Mon, 28 Sep 2015 20:34:08 +0000 (UTC)
Received: from resqmta-ch2-05v.sys.comcast.net (resqmta-ch2-05v.sys.comcast.net [69.252.207.37])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 6880542BEB
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 20:34:08 +0000 (UTC)
Received: from resomta-ch2-10v.sys.comcast.net ([69.252.207.106])
	by resqmta-ch2-05v.sys.comcast.net with comcast
	id NkY41r00B2JGN3p01ka8hs; Mon, 28 Sep 2015 20:34:08 +0000
Received: from [192.168.199.10] ([69.251.84.114])
	by resomta-ch2-10v.sys.comcast.net with comcast
	id Nka71r00K2U0RYt01ka7is; Mon, 28 Sep 2015 20:34:08 +0000
From: Jim Jagielski <jim@jaguNET.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: Errors on trunk
Message-Id: <096BB1D0-F441-4D3D-8A13-5059D9157660@jaguNET.com>
Date: Mon, 28 Sep 2015 16:34:07 -0400
To: httpd <dev@httpd.apache.org>
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
X-Mailer: Apple Mail (2.2104)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20140121; t=1443472448;
	bh=N7Kpp1W7KK6J2pTSfjUKQ242i17oO5kBJoXmfgplK9Q=;
	h=Received:Received:From:Content-Type:Subject:Message-Id:Date:To:
	 Mime-Version;
	b=lKbKWoTAIyISrfWkQyYoPvq84cw8JZOpNiJiaSecrGsTnwPc4/re9rsp6olLzfokr
	 SKNPU5n5BVISl/4a9MYfENfbzdjXnfDVTUEQPhNF/rr4w6iOdDKsEaUT7Aid2TW799
	 Q2tgKeuekPcZgjNb7mY4V6RQjVMnl+MmRrBgTrniA2hTQDrfSxrVWBo8k9u+uWgUvp
	 OE9pS9OBViFozbcrUbfROxD8HEat+0Pm+CGDNuSxCYc48BwrlGLK2HVxPnkrHPva1y
	 9JR9liEiWBDUT6b/NJiiT3VJ/IygShRN7t/X4Jg4jyk602xtKucxJ0C8mC9nXPRdql
	 n7+pWMla8QmFw==

mod_proxy_balancer.c:1260:30: error: address of array =
'balancer->s->sticky' will always evaluate to 'true'
      [-Werror,-Wpointer-bool-conversion]
            if (balancer->s->sticky) {
            ~~  ~~~~~~~~~~~~~^~~~~~
mod_proxy_balancer.c:1277:30: error: address of array =
'balancer->s->sticky' will always evaluate to 'true'
      [-Werror,-Wpointer-bool-conversion]
            if (balancer->s->sticky) {
            ~~  ~~~~~~~~~~~~~^~~~~~
mod_proxy_balancer.c:1514:30: error: address of array =
'balancer->s->vhost' will always evaluate to 'true'
      [-Werror,-Wpointer-bool-conversion]
            if (balancer->s->vhost && *(balancer->s->vhost)) {
                ~~~~~~~~~~~~~^~~~~ ~~
3 errors generated.=

From dev-return-83974-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 20:59:36 2015
Return-Path: <dev-return-83974-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7C8D9172F3
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 20:59:36 +0000 (UTC)
Received: (qmail 5996 invoked by uid 500); 28 Sep 2015 20:59:34 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 5920 invoked by uid 500); 28 Sep 2015 20:59:34 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 5910 invoked by uid 99); 28 Sep 2015 20:59:34 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 20:59:34 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 592EDC0041
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 20:59:34 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id 6AlBV9z3-imv for <dev@httpd.apache.org>;
	Mon, 28 Sep 2015 20:59:19 +0000 (UTC)
Received: from mail-qg0-f45.google.com (mail-qg0-f45.google.com [209.85.192.45])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 2519820595
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 20:59:19 +0000 (UTC)
Received: by qgev79 with SMTP id v79so132054172qge.0
        for <dev@httpd.apache.org>; Mon, 28 Sep 2015 13:59:11 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=0wpEae2zmQouaoNau8FHBXTm6mN55H1thmLlAcnKSn8=;
        b=D+Mhg0h2xzkTW19CqbA6QotH8SpFdFSZo0XxLqe6IS8zRalrBdNckPGXa8lw4Lruqb
         y0qqPnEg+Ri3kE6IQkgzJ2d/8ptH3CTiMl1ygxSgxEPRfFfOGVa6DQU18zJaEmz/mWca
         wUVuXbzmQZRar4CcvstMQBZpoVe5djMDDpHA7tnC4IiOgOHjI1nKjma5fn5IARI5uHWa
         /Ie8pbVtbZA3QHmWHTfunJO8xrDf2HsXzxYLB+R6yw1OJw/qBC0TH70r03T2jp4UfLlC
         2AFW5tzOde9+3YEvBq0Hgcc7bIyG4u+qu0AcmUBWBkXC/998LdqhGwb59AEBI1nxLori
         4rUQ==
X-Gm-Message-State: ALoCoQkpRVaCtECgHl03amhFFvgCpbeCsW92HwxNs88D0KDNmUUDFrTVk25PPTgP78TDdQ1Wq1+P
MIME-Version: 1.0
X-Received: by 10.140.133.196 with SMTP id 187mr27469884qhf.2.1443473949005;
 Mon, 28 Sep 2015 13:59:09 -0700 (PDT)
Received: by 10.55.49.84 with HTTP; Mon, 28 Sep 2015 13:59:08 -0700 (PDT)
Received: by 10.55.49.84 with HTTP; Mon, 28 Sep 2015 13:59:08 -0700 (PDT)
In-Reply-To: <AB1691BE05AE7F4992697F2A0835627AC6324C33@VOEXM10W.internal.vodafone.com>
References: <20150928085047.10C403A0198@svn01-us-west.apache.org>
	<CALK=YjP9yGYczbc-yq4oVYb3PbMoavtw2K+zgmVD27KZPEnB+A@mail.gmail.com>
	<DA6DBD10-C843-4448-9A00-80ADE6DCCE9F@sharp.fm>
	<CACsi253wtAdnSvHBv9Z+LyoQVckNP_DTJMgiK4L-U=6FrFtTFw@mail.gmail.com>
	<CALK=YjM_QoBAcsWjT_-by==_eTve2daQbzqQX6mafv71f=e1Qg@mail.gmail.com>
	<AB1691BE05AE7F4992697F2A0835627AC6324C33@VOEXM10W.internal.vodafone.com>
Date: Mon, 28 Sep 2015 15:59:08 -0500
Message-ID: <CACsi252oJGzOtoVz+7d6jKcw5i9Q-TQBn+iBHNTofqKqEVK=4A@mail.gmail.com>
Subject: Re: AW: svn commit: r1705618 - /httpd/httpd/branches/2.4.x/STATUS
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1136f984f951320520d4f73b

--001a1136f984f951320520d4f73b
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Sep 28, 2015 1:08 PM, "Pl=C3=BCm, R=C3=BCdiger, Vodafone Group" <
ruediger.pluem@vodafone.com> wrote:
>
>
>
> > -----Urspr=C3=BCngliche Nachricht-----
> > Von: Eric Covener [mailto:covener@gmail.com]
> > Gesendet: Montag, 28. September 2015 19:00
> > An: Apache HTTP Server Development List <dev@httpd.apache.org>
> > Betreff: Re: svn commit: r1705618 - /httpd/httpd/branches/2.4.x/STATUS
> >
> > On Mon, Sep 28, 2015 at 12:33 PM, William A Rowe Jr <wrowe@rowe-
> > clan.net> wrote:
> > > By which we mean TTLv1.0/SSLv3 because there is so little technical
> > > difference between them.
> >
> > AORN {
> > I think there is enough difference to disable one by default and not
> > the other.  The final straw for SSLv3 was POODLE. But POODLE on TLS
> > 1.0 was fixable/fixed. The qualsys TLS best practice doc
> > differentiates them, and the scanner dings you seriously for SSLv3 and
> > not at all for TLS1.0.   From my own support work, anecdotally,
> > commercial scan tools seem to treat things the same as qualsys.
> > }
> >
>
> +1. SSLv3 and TLS 1.0 are close, but there are some differences and the
ability to prevent POODLE is (an important) one of them.

Agreed that the padding issue was the most critical.

If folks really want to support TLS 1.0 and not SSLv3 as a default, I'm not
going to stand in the way, but am still -0.5 on the inconsistency.

--001a1136f984f951320520d4f73b
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr"><br>
On Sep 28, 2015 1:08 PM, &quot;Pl=C3=BCm, R=C3=BCdiger, Vodafone Group&quot=
; &lt;<a href=3D"mailto:ruediger.pluem@vodafone.com">ruediger.pluem@vodafon=
e.com</a>&gt; wrote:<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt; &gt; -----Urspr=C3=BCngliche Nachricht-----<br>
&gt; &gt; Von: Eric Covener [mailto:<a href=3D"mailto:covener@gmail.com">co=
vener@gmail.com</a>]<br>
&gt; &gt; Gesendet: Montag, 28. September 2015 19:00<br>
&gt; &gt; An: Apache HTTP Server Development List &lt;<a href=3D"mailto:dev=
@httpd.apache.org">dev@httpd.apache.org</a>&gt;<br>
&gt; &gt; Betreff: Re: svn commit: r1705618 - /httpd/httpd/branches/2.4.x/S=
TATUS<br>
&gt; &gt;<br>
&gt; &gt; On Mon, Sep 28, 2015 at 12:33 PM, William A Rowe Jr &lt;wrowe@row=
e-<br>
&gt; &gt; <a href=3D"http://clan.net">clan.net</a>&gt; wrote:<br>
&gt; &gt; &gt; By which we mean TTLv1.0/SSLv3 because there is so little te=
chnical<br>
&gt; &gt; &gt; difference between them.<br>
&gt; &gt;<br>
&gt; &gt; AORN {<br>
&gt; &gt; I think there is enough difference to disable one by default and =
not<br>
&gt; &gt; the other.=C2=A0 The final straw for SSLv3 was POODLE. But POODLE=
 on TLS<br>
&gt; &gt; 1.0 was fixable/fixed. The qualsys TLS best practice doc<br>
&gt; &gt; differentiates them, and the scanner dings you seriously for SSLv=
3 and<br>
&gt; &gt; not at all for TLS1.0.=C2=A0 =C2=A0From my own support work, anec=
dotally,<br>
&gt; &gt; commercial scan tools seem to treat things the same as qualsys.<b=
r>
&gt; &gt; }<br>
&gt; &gt;<br>
&gt;<br>
&gt; +1. SSLv3 and TLS 1.0 are close, but there are some differences and th=
e ability to prevent POODLE is (an important) one of them.</p>
<p dir=3D"ltr">Agreed that the padding issue was the most critical.</p>
<p dir=3D"ltr">If folks really want to support TLS 1.0 and not SSLv3 as a d=
efault, I&#39;m not going to stand in the way, but am still -0.5 on the inc=
onsistency.</p>

--001a1136f984f951320520d4f73b--

From dev-return-83975-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Mon Sep 28 23:56:55 2015
Return-Path: <dev-return-83975-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 18A5017A2D
	for <apmail-httpd-dev-archive@www.apache.org>; Mon, 28 Sep 2015 23:56:55 +0000 (UTC)
Received: (qmail 67843 invoked by uid 500); 28 Sep 2015 23:56:54 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 67776 invoked by uid 500); 28 Sep 2015 23:56:54 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 67764 invoked by uid 99); 28 Sep 2015 23:56:54 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 28 Sep 2015 23:56:54 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id C40E1C6BF9
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 23:56:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.011
X-Spam-Level:
X-Spam-Status: No, score=-0.011 tagged_above=-999 required=6.31
	tests=[RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001,
	T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id N2jDusvRezBC for <dev@httpd.apache.org>;
	Mon, 28 Sep 2015 23:56:44 +0000 (UTC)
Received: from userp1040.oracle.com (userp1040.oracle.com [156.151.31.81])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id D9D1D206F0
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 23:56:43 +0000 (UTC)
Received: from userv0022.oracle.com (userv0022.oracle.com [156.151.31.74])
	by userp1040.oracle.com (Sentrion-MTA-4.3.2/Sentrion-MTA-4.3.2) with ESMTP id t8SNuZSE024160
	(version=TLSv1 cipher=DHE-RSA-AES256-SHA bits=256 verify=OK)
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 23:56:36 GMT
Received: from aserv0121.oracle.com (aserv0121.oracle.com [141.146.126.235])
	by userv0022.oracle.com (8.13.8/8.13.8) with ESMTP id t8SNuZv7011102
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL)
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 23:56:35 GMT
Received: from abhmp0011.oracle.com (abhmp0011.oracle.com [141.146.116.17])
	by aserv0121.oracle.com (8.13.8/8.13.8) with ESMTP id t8SNuTGN031917
	for <dev@httpd.apache.org>; Mon, 28 Sep 2015 23:56:34 GMT
Received: from [10.159.129.92] (/10.159.129.92)
	by default (Oracle Beehive Gateway v4.0)
	with ESMTP ; Mon, 28 Sep 2015 16:56:29 -0700
Subject: Re: svn commit: r1705695 -
 /httpd/httpd/trunk/docs/manual/mod/mod_h2.xml
To: dev@httpd.apache.org
References: <20150928140327.DC5833A04B9@svn01-us-west.apache.org>
 <CALK=YjOyc-2dD-2Gy_MXb3EsGpEGVa3wtvnxWDtAnwuqwLETzg@mail.gmail.com>
From: Mike Rumph <mike.rumph@oracle.com>
Organization: Oracle Corporation
Message-ID: <5609D3A6.4070806@oracle.com>
Date: Mon, 28 Sep 2015 16:56:22 -0700
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <CALK=YjOyc-2dD-2Gy_MXb3EsGpEGVa3wtvnxWDtAnwuqwLETzg@mail.gmail.com>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Source-IP: userv0022.oracle.com [156.151.31.74]

See below:

On 9/28/2015 7:03 AM, Eric Covener wrote:
> Modified: httpd/httpd/trunk/docs/manual/mod/mod_h2.xml
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/mod_h2.xml?rev=1705695&r1=1705694&r2=1705695&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/docs/manual/mod/mod_h2.xml (original)
> +++ httpd/httpd/trunk/docs/manual/mod/mod_h2.xml Mon Sep 28 14:03:27 2015
> @@ -35,6 +35,12 @@
>           <p>This module relies on <a href="http://nghttp2.org/">libnghttp2</a>
>               to provide the core http/2 engine.</p>
>
> +        <note type="warning"><title>Warning</title>
> +          <p>This module is experimental. Its behaviors, directives, and
> +          defaults are subject to more frequent and change from release to
more frequent what?
> +          release relative to other standard modules. Users are encouraged to
> +          consult the "CHANGES" file for potential updates.</p>
> +        </note>
>       </summary>
>


From dev-return-83976-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 29 05:17:27 2015
Return-Path: <dev-return-83976-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4E4B81823B
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 29 Sep 2015 05:17:27 +0000 (UTC)
Received: (qmail 33193 invoked by uid 500); 29 Sep 2015 05:17:26 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 33049 invoked by uid 500); 29 Sep 2015 05:17:26 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 33039 invoked by uid 99); 29 Sep 2015 05:17:26 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Sep 2015 05:17:26 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id 1ADDCC6DD7
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 05:17:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 4
X-Spam-Level: ****
X-Spam-Status: No, score=4 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, KAM_LAZY_DOMAIN_SECURITY=1,
	RCVD_IN_MSPIKE_H2=-0.001, URIBL_BLOCKED=0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id wTBNw3OK2D5t for <dev@httpd.apache.org>;
	Tue, 29 Sep 2015 05:17:16 +0000 (UTC)
Received: from smtp.smtpout.orange.fr (smtp06.smtpout.orange.fr [80.12.242.128])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id 62141439B3
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 05:17:16 +0000 (UTC)
Received: from [127.0.0.1] ([92.140.227.136])
	by mwinf5d41 with ME
	id NtH81r00P2xCUKg03tH8Xa; Tue, 29 Sep 2015 07:17:09 +0200
X-ME-Helo: [127.0.0.1]
X-ME-Date: Tue, 29 Sep 2015 07:17:09 +0200
X-ME-IP: 92.140.227.136
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Subject: Re: svn commit: r1599625 -
 /httpd/httpd/trunk/server/mpm/event/event.c
To: dev@httpd.apache.org
References: <20140603154925.B0707238896F@eris.apache.org>
Message-ID: <560A1ED3.9050208@wanadoo.fr>
Date: Tue, 29 Sep 2015 07:17:07 +0200
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <20140603154925.B0707238896F@eris.apache.org>
Content-Type: multipart/alternative;
 boundary="------------010204090206070306000402"
X-Antivirus: avast! (VPS 150928-1, 28/09/2015), Outbound message
X-Antivirus-Status: Clean

This is a multi-part message in MIME format.
--------------010204090206070306000402
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 8bit

Hi,

now that SO_REUSEPORT has landed on 2.4.x, it is easier to try to synch 
2.4.x and trunk a bit more.

I looked at r1599625 + r1599641, which set the TZ environment variable, 
if unset, in order to have a small performance boost.


First, I've not been able to reproduce the 2% performance boost 
described in the patch.
My system is Ubuntu 15.04 and $TZ is apparently empty.


Second, I don't think that this patch should be backported as-is because 
it may change the timestamp in the log file.


However, I was wondering if we could call tzset() and use tzname[0] or 
tzname[1] instead of the hard coded "UTC+0". According to [1], tzset() 
first looks at TZ, but, if not set, then at the /localtime/ file.
This way, we could define TZ if it can be a performance boost in some 
cases and avoid the change of behavior on existing systems.


However,
   - I don't know if this is portable
   - I'm unsure about how daylight saving time will be handled


Any thought ?

Best regards,
CJ



[1]: http://linux.die.net/man/3/tzset

Le 03/06/2014 17:49, jim@apache.org a écrit :
> Author: jim
> Date: Tue Jun  3 15:49:25 2014
> New Revision: 1599625
>
> URL:http://svn.apache.org/r1599625
> Log:
> fold in performance hack from eventopt
>
> Modified:
>      httpd/httpd/trunk/server/mpm/event/event.c
>
> Modified: httpd/httpd/trunk/server/mpm/event/event.c
> URL:http://svn.apache.org/viewvc/httpd/httpd/trunk/server/mpm/event/event.c?rev=1599625&r1=1599624&r2=1599625&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/server/mpm/event/event.c (original)
> +++ httpd/httpd/trunk/server/mpm/event/event.c Tue Jun  3 15:49:25 2014
> @@ -57,6 +57,8 @@
>   #include "apr_atomic.h"
>   #define APR_WANT_STRFUNC
>   #include "apr_want.h"
> +#include "apr_env.h"
> +
>   #include "apr_version.h"
>   
>   #include <stdlib.h>
> @@ -2418,6 +2420,25 @@ static void join_start_thread(apr_thread
>       }
>   }
>   
> +static void force_set_tz(apr_pool_t *p) {
> +    /* If the TZ variable is unset, many operationg systems,
> +     * such as Linux, will at runtime read from /etc/localtime
> +     * and call fstat on it.
> +     *
> +     * By forcing the time zone to UTC if it is unset, we gain
> +     * about 2% in raw requests/second (since we format log files
> +     * in the local time, if present)
> +     *
> +     * For more info, see:
> +     *<http://www.gnu.org/s/hello/manual/libc/TZ-Variable.html>
> +     */
> +    char *v = NULL;
> +
> +    if (apr_env_get(&v, "TZ", p) != APR_SUCCESS) {
> +        apr_env_set("TZ", "UTC+0", p);
> +    }
> +}
> +
>   static void child_main(int child_num_arg)
>   {
>       apr_thread_t **threads;
> @@ -3566,6 +3587,7 @@ static void event_hooks(apr_pool_t * p)
>        */
>       static const char *const aszSucc[] = { "core.c", NULL };
>       one_process = 0;
> +    force_set_tz(p);
>   
>       ap_hook_open_logs(event_open_logs, NULL, aszSucc, APR_HOOK_REALLY_FIRST);
>       /* we need to set the MPM state before other pre-config hooks use MPM query
>
>
>


--------------010204090206070306000402
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: 8bit

<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  </head>
  <body bgcolor="#FFFFFF" text="#000000">
    <div class="moz-cite-prefix">Hi,<br>
      <br>
      now that SO_REUSEPORT has landed on 2.4.x, it is easier to try to
      synch 2.4.x and trunk a bit more.<br>
      <br>
      I looked at r1599625 + r1599641, which set the TZ environment
      variable, if unset, in order to have a small performance boost.<br>
      <br>
      <br>
      First, I've not been able to reproduce the 2% performance boost
      described in the patch.<br>
      My system is Ubuntu 15.04 and $TZ is apparently empty.<br>
      <br>
      <br>
      Second, I don't think that this patch should be backported as-is
      because it may change the timestamp in the log file.<br>
      <br>
      <br>
      However, I was wondering if we could call tzset() and use
      tzname[0] or tzname[1] instead of the hard coded "UTC+0".
      According to [1], tzset() first looks at TZ, but, if not set, then
      at the <i>localtime</i> file.<br>
      This way, we could define TZ if it can be a performance boost in
      some cases and avoid the change of behavior on existing systems.<br>
      <br>
      <br>
      However,<br>
        - I don't know if this is portable<br>
        - I'm unsure about how daylight saving time will be handled<br>
      <br>
      <br>
      Any thought ?<br>
      <br>
      Best regards,<br>
      CJ<br>
      <br>
      <br>
      <br>
      [1]: <a class="moz-txt-link-freetext" href="http://linux.die.net/man/3/tzset">http://linux.die.net/man/3/tzset</a><br>
      <br>
      Le 03/06/2014 17:49, <a class="moz-txt-link-abbreviated"
        href="mailto:jim@apache.org">jim@apache.org</a> a écrit :<br>
    </div>
    <blockquote cite="mid:20140603154925.B0707238896F@eris.apache.org"
      type="cite">
      <pre wrap="">Author: jim
Date: Tue Jun  3 15:49:25 2014
New Revision: 1599625

URL: <a class="moz-txt-link-freetext" href="http://svn.apache.org/r1599625">http://svn.apache.org/r1599625</a>
Log:
fold in performance hack from eventopt

Modified:
    httpd/httpd/trunk/server/mpm/event/event.c

Modified: httpd/httpd/trunk/server/mpm/event/event.c
URL: <a class="moz-txt-link-freetext" href="http://svn.apache.org/viewvc/httpd/httpd/trunk/server/mpm/event/event.c?rev=1599625&amp;r1=1599624&amp;r2=1599625&amp;view=diff">http://svn.apache.org/viewvc/httpd/httpd/trunk/server/mpm/event/event.c?rev=1599625&amp;r1=1599624&amp;r2=1599625&amp;view=diff</a>
==============================================================================
--- httpd/httpd/trunk/server/mpm/event/event.c (original)
+++ httpd/httpd/trunk/server/mpm/event/event.c Tue Jun  3 15:49:25 2014
@@ -57,6 +57,8 @@
 #include "apr_atomic.h"
 #define APR_WANT_STRFUNC
 #include "apr_want.h"
+#include "apr_env.h"
+
 #include "apr_version.h"
 
 #include &lt;stdlib.h&gt;
@@ -2418,6 +2420,25 @@ static void join_start_thread(apr_thread
     }
 }
 
+static void force_set_tz(apr_pool_t *p) {
+    /* If the TZ variable is unset, many operationg systems,
+     * such as Linux, will at runtime read from /etc/localtime
+     * and call fstat on it.
+     *
+     * By forcing the time zone to UTC if it is unset, we gain
+     * about 2% in raw requests/second (since we format log files
+     * in the local time, if present)
+     *
+     * For more info, see:
+     *   <a class="moz-txt-link-rfc2396E" href="http://www.gnu.org/s/hello/manual/libc/TZ-Variable.html">&lt;http://www.gnu.org/s/hello/manual/libc/TZ-Variable.html&gt;</a>
+     */
+    char *v = NULL;
+
+    if (apr_env_get(&amp;v, "TZ", p) != APR_SUCCESS) {
+        apr_env_set("TZ", "UTC+0", p);
+    }
+}
+
 static void child_main(int child_num_arg)
 {
     apr_thread_t **threads;
@@ -3566,6 +3587,7 @@ static void event_hooks(apr_pool_t * p)
      */
     static const char *const aszSucc[] = { "core.c", NULL };
     one_process = 0;
+    force_set_tz(p);
 
     ap_hook_open_logs(event_open_logs, NULL, aszSucc, APR_HOOK_REALLY_FIRST);
     /* we need to set the MPM state before other pre-config hooks use MPM query



</pre>
    </blockquote>
    <br>
  </body>
</html>

--------------010204090206070306000402--

From dev-return-83977-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 29 08:15:46 2015
Return-Path: <dev-return-83977-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 32C2718B9A
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 29 Sep 2015 08:15:46 +0000 (UTC)
Received: (qmail 15134 invoked by uid 500); 29 Sep 2015 08:15:45 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 15058 invoked by uid 500); 29 Sep 2015 08:15:45 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 15049 invoked by uid 99); 29 Sep 2015 08:15:45 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Sep 2015 08:15:45 +0000
Received: from gauss.localdomain (v4-861345e7.pool.vitroconnect.de [134.19.69.231])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 360F71A0040
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 08:15:45 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 7C0E02F1
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 10:15:43 +0200 (CEST)
Subject: Re: svn commit: r1692486 [1/2] - in /httpd/httpd/trunk:
 docs/log-message-tags/ include/ modules/http2/ modules/ssl/ server/
To: dev@httpd.apache.org
References: <20150724120946.26BD4AC0623@hades.apache.org>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <560A48AF.7000506@apache.org>
Date: Tue, 29 Sep 2015 10:15:43 +0200
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:41.0) Gecko/20100101
 Firefox/41.0 SeaMonkey/2.38
MIME-Version: 1.0
In-Reply-To: <20150724120946.26BD4AC0623@hades.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 07/24/2015 02:09 PM, icing@apache.org wrote:
> Author: icing
> Date: Fri Jul 24 12:09:44 2015
> New Revision: 1692486
> 
> URL: http://svn.apache.org/r1692486
> Log:
> new Protocols directive and core API changes to enable protocol switching on HTTP Upgrade or ALPN, implemented in mod_ssl and mod_h2
> 
> Added:
>     httpd/httpd/trunk/modules/http2/h2_switch.c
>       - copied, changed from r1692482, httpd/httpd/trunk/modules/http2/h2_alpn.c
>     httpd/httpd/trunk/modules/http2/h2_switch.h
>       - copied, changed from r1692482, httpd/httpd/trunk/modules/http2/h2_alpn.h
> Removed:
>     httpd/httpd/trunk/modules/http2/h2_alpn.c
>     httpd/httpd/trunk/modules/http2/h2_alpn.h
>     httpd/httpd/trunk/modules/http2/h2_upgrade.c
>     httpd/httpd/trunk/modules/http2/h2_upgrade.h
> Modified:
>     httpd/httpd/trunk/docs/log-message-tags/next-number
>     httpd/httpd/trunk/include/http_core.h
>     httpd/httpd/trunk/include/http_protocol.h
>     httpd/httpd/trunk/modules/http2/config.m4
>     httpd/httpd/trunk/modules/http2/h2_conn.c
>     httpd/httpd/trunk/modules/http2/h2_ctx.c
>     httpd/httpd/trunk/modules/http2/h2_ctx.h
>     httpd/httpd/trunk/modules/http2/h2_from_h1.c
>     httpd/httpd/trunk/modules/http2/h2_h2.c
>     httpd/httpd/trunk/modules/http2/h2_h2.h
>     httpd/httpd/trunk/modules/http2/h2_mplx.c
>     httpd/httpd/trunk/modules/http2/h2_request.c
>     httpd/httpd/trunk/modules/http2/h2_response.c
>     httpd/httpd/trunk/modules/http2/h2_session.c
>     httpd/httpd/trunk/modules/http2/h2_task.c
>     httpd/httpd/trunk/modules/http2/h2_task_input.c
>     httpd/httpd/trunk/modules/http2/h2_to_h1.c
>     httpd/httpd/trunk/modules/http2/h2_util.c
>     httpd/httpd/trunk/modules/http2/h2_util.h
>     httpd/httpd/trunk/modules/http2/h2_version.h
>     httpd/httpd/trunk/modules/http2/h2_worker.c
>     httpd/httpd/trunk/modules/http2/h2_workers.c
>     httpd/httpd/trunk/modules/http2/mod_h2.c
>     httpd/httpd/trunk/modules/http2/mod_h2.h
>     httpd/httpd/trunk/modules/ssl/mod_ssl.c
>     httpd/httpd/trunk/modules/ssl/mod_ssl.h
>     httpd/httpd/trunk/modules/ssl/ssl_engine_config.c
>     httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
>     httpd/httpd/trunk/modules/ssl/ssl_engine_kernel.c
>     httpd/httpd/trunk/modules/ssl/ssl_private.h
>     httpd/httpd/trunk/server/core.c
>     httpd/httpd/trunk/server/protocol.c
> 

> Modified: httpd/httpd/trunk/include/http_protocol.h
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/include/http_protocol.h?rev=1692486&r1=1692485&r2=1692486&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/include/http_protocol.h (original)
> +++ httpd/httpd/trunk/include/http_protocol.h Fri Jul 24 12:09:44 2015
> @@ -700,6 +700,109 @@ AP_DECLARE_HOOK(const char *,http_scheme
>   */
>  AP_DECLARE_HOOK(apr_port_t,default_port,(const request_rec *r))
>  
> +
> +#define AP_PROTOCOL_HTTP1		"http/1.1"
> +
> +/**
> + * Negotiate a possible protocol switch on the connection. The negotiation
> + * may start without any request sent, in which case the request is NULL. Or
> + * it may be triggered by the request received, e.g. through the "Upgrade"
> + * header.
> + * 
> + * The identifiers for protocols are taken from the TLS extension type ALPN:
> + * https://www.iana.org/assignments/tls-extensiontype-values/tls-extensiontype-values.xml
> + *
> + * If no protocols are added to the proposals, the server will always fallback
> + * to "http/1.1" which is the default protocol for connections that Apache
> + * handles. If the protocol selected from the proposals is the protocol
> + * already in place, no "protocol_switch" will be invoked.
> + *
> + * All hooks are run, unless one returns an error. Proposals may contain
> + * duplicates. The order in which proposals are added is usually ignored.
> + * 
> + * @param c The current connection
> + * @param r The current request or NULL
> + * @param s The server/virtual host selected
> + * @param offers a list of protocol identifiers offered by the client
> + * @param proposals the list of protocol identifiers proposed by the hooks
> + * @return OK or DECLINED
> + */
> +AP_DECLARE_HOOK(int,protocol_propose,(conn_rec *c, request_rec *r,
> +                                      server_rec *s,
> +                                      const apr_array_header_t *offers,
> +                                      apr_array_header_t *proposals))
> +
> +/**
> + * Perform a protocol switch on the connection. The exact requirements for
> + * that depend on the protocol in place and the one switched to. The first 
> + * protocol module to handle the switch is the last module run.
> + * 
> + * For a connection level switch (r == NULL), the handler must on return
> + * leave the conn_rec in a state suitable for processing the switched
> + * protocol, e.g. correct filters in place.
> + *
> + * For a request triggered switch (r != NULL), the protocol switch is done
> + * before the response is sent out. When switching from "http/1.1" via Upgrade
> + * header, the 101 intermediate response will have been sent. The
> + * hook needs then to process the connection until it can be closed. Which
> + * the server will enforce on hook return.
> + * Any error the hook might encounter must already be sent by the hook itself
> + * to the client in whatever form the new protocol requires.
> + *
> + * @param c The current connection
> + * @param r The current request or NULL
> + * @param s The server/virtual host selected
> + * @param choices a list of protocol identifiers, normally the clients whishes
> + * @param proposals the list of protocol identifiers proposed by the hooks
> + * @return OK or DECLINED

I guess we have a copy and paste error here for the parameter documentation of the hook below.

> + */
> +AP_DECLARE_HOOK(int,protocol_switch,(conn_rec *c, request_rec *r,
> +                                     server_rec *s,
> +                                     const char *protocol))
> +

Regards

Rüdiger

From dev-return-83978-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 29 08:21:11 2015
Return-Path: <dev-return-83978-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0F6CE18BCB
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 29 Sep 2015 08:21:11 +0000 (UTC)
Received: (qmail 28936 invoked by uid 500); 29 Sep 2015 08:21:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 28864 invoked by uid 500); 29 Sep 2015 08:21:04 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 28853 invoked by uid 99); 29 Sep 2015 08:21:04 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Sep 2015 08:21:04 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id E62751A20B7
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 08:21:03 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.001
X-Spam-Level:
X-Spam-Status: No, score=-0.001 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=0.001, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id lx-r3WVtZJ_E for <dev@httpd.apache.org>;
	Tue, 29 Sep 2015 08:21:02 +0000 (UTC)
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id B76F942BEB
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 08:21:01 +0000 (UTC)
To: Mailing-List httpd-dev <dev@httpd.apache.org>
From: Reindl Harald <h.reindl@thelounge.net>
Subject: SSLUseStapling: ssl handshake fails until httpd restart
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
X-Enigmail-Draft-Status: N1110
Organization: the lounge interactive design
Message-ID: <560A49E5.2090500@thelounge.net>
Date: Tue, 29 Sep 2015 10:20:53 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="aaXkcLs7xggOgkn10NwEmLrn0httIXbBr"

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--aaXkcLs7xggOgkn10NwEmLrn0httIXbBr
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable

is that by intention?

firefox refused to open our adminpanel with the error below until i=20
restarted httpd - i suggest the server should retry SSLUseStapling when=20
a new client connects and it has failed for whatever reason

SSLUseStapling On

An error occurred during a connection to *******:8443. The OCSP server=20
suggests trying again later. (Error code: sec_error_ocsp_try_server_later=
)




--aaXkcLs7xggOgkn10NwEmLrn0httIXbBr
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlYKSeUACgkQhmBjz394AnnTVQCdFaKCnvsVi1eRXKAT0/Qr0mDF
hasAn3P8PR2drIsJq5HzIRa6xrSKrHTA
=Bna2
-----END PGP SIGNATURE-----

--aaXkcLs7xggOgkn10NwEmLrn0httIXbBr--

From dev-return-83979-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 29 08:38:43 2015
Return-Path: <dev-return-83979-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 19B7A18C53
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 29 Sep 2015 08:38:43 +0000 (UTC)
Received: (qmail 59316 invoked by uid 500); 29 Sep 2015 08:38:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 59234 invoked by uid 500); 29 Sep 2015 08:38:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 59224 invoked by uid 99); 29 Sep 2015 08:38:30 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Sep 2015 08:38:29 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 9A5F1C082C
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 08:38:29 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.008
X-Spam-Level:
X-Spam-Status: No, score=-0.008 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id wsPadJGB5Lsr for <dev@httpd.apache.org>;
	Tue, 29 Sep 2015 08:38:28 +0000 (UTC)
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 2CEC920645
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 08:38:27 +0000 (UTC)
Received: from int-mx09.intmail.prod.int.phx2.redhat.com (int-mx09.intmail.prod.int.phx2.redhat.com [10.5.11.22])
	by mx1.redhat.com (Postfix) with ESMTPS id 4C0468EA3A
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 08:38:26 +0000 (UTC)
Received: from iberis (vpn-62-37.rdu2.redhat.com [10.10.62.37])
	by int-mx09.intmail.prod.int.phx2.redhat.com (8.14.4/8.14.4) with ESMTP id t8T8cPMw015556
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=NO)
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 04:38:26 -0400
Received: from jorton by iberis with local (Exim 4.85)
	(envelope-from <jorton@redhat.com>)
	id 1ZgqQa-0003BV-Md
	for dev@httpd.apache.org; Tue, 29 Sep 2015 09:38:24 +0100
Date: Tue, 29 Sep 2015 09:38:24 +0100
From: Joe Orton <jorton@redhat.com>
To: dev@httpd.apache.org
Subject: Re: svn commit: r1705236 -
 /httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
Message-ID: <20150929083824.GA6882@redhat.com>
Mail-Followup-To: dev@httpd.apache.org
References: <20150925072706.5C2D83A0233@svn01-us-west.apache.org>
 <5604FF5A.90101@apache.org>
 <CAKQ1sVNCK2sWHY3R-4Q3rpyY5r9UH+BqfzPUaY7u7t6ax26MSg@mail.gmail.com>
 <CAKQ1sVOH487zezt-JzZ_2R3sMoN5DendJ1843MCGC2hR=u-znQ@mail.gmail.com>
 <CAKQ1sVOt9G6R7hgGbMNGyRXm5ZAwBzieggbjdrWaLj+-Xf-NQg@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Disposition: inline
In-Reply-To: <CAKQ1sVOt9G6R7hgGbMNGyRXm5ZAwBzieggbjdrWaLj+-Xf-NQg@mail.gmail.com>
User-Agent: Mutt/1.5.23 (2014-03-12)
Organization: Registered in England and Wales under Company Registration No. 03798903
Directors: Michael Cunningham (US), Michael O'Neill (Ireland), Matt Parson (US), Charles Peters (US)
X-Scanned-By: MIMEDefang 2.68 on 10.5.11.22

On Fri, Sep 25, 2015 at 03:54:56PM +0200, Yann Ylavic wrote:
> Couldn't we completely remove the flush from bio_filter_in_read() then?
> Or make it conditional to OpenSSL < 0.9.8m (since we support 0.9.8a at least)?

That looks correct to me, +1.

Regards, Joe

From dev-return-83980-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 29 09:40:43 2015
Return-Path: <dev-return-83980-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A1D3918E63
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 29 Sep 2015 09:40:43 +0000 (UTC)
Received: (qmail 94990 invoked by uid 500); 29 Sep 2015 09:40:37 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 94925 invoked by uid 500); 29 Sep 2015 09:40:37 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 94915 invoked by uid 99); 29 Sep 2015 09:40:37 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Sep 2015 09:40:37 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 71DE91A33D4
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 09:40:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 2.979
X-Spam-Level: **
X-Spam-Status: No, score=2.979 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, RCVD_IN_MSPIKE_H3=-0.01,
	RCVD_IN_MSPIKE_WL=-0.01, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id 9YfKRU51auUA for <dev@httpd.apache.org>;
	Tue, 29 Sep 2015 09:40:35 +0000 (UTC)
Received: from mail-ig0-f169.google.com (mail-ig0-f169.google.com [209.85.213.169])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 30896204DF
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 09:40:35 +0000 (UTC)
Received: by igcpb10 with SMTP id pb10so75744980igc.1
        for <dev@httpd.apache.org>; Tue, 29 Sep 2015 02:40:34 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:date:message-id:subject:from:to
         :content-type;
        bh=siK8zRrEWVLOJzrvQpZGEkp2J5r7jPqnNUzjm9mlhuo=;
        b=CIF09N6SnQWjpWjsTt06ggon9pJf9DJnJgBnMsg+HkNqj6sgaqR2H1sKaTWAHtOG8m
         fHAKAmuyIRoCfgpLhOlyIV2gl0vuubMd3w+CjsfER/PEhcSolT0wd0IiBUEdQpRBBbDI
         N7D+cmk5XqUkvaAYSjFA4Hrf3cfWDK/hJXjyzbbdYnTuoKkgn8vRs8hesVJm0WNHcvL7
         Q3z3iGmyI4qojtBa5IbSLXk8g+BxibwTlzNQMpmQiVbUGiB/pppmuSsJXs64VHnDRNAk
         1bM5f9IUm+lsSS+oOfoDgXdiaRU7scynK1UeU43519EVWItKlmCuJfNfTvkJvuiFkOYx
         rJ7w==
X-Gm-Message-State: ALoCoQn+FGR8UX5N4IzKbRU9HpX13i4ppN6h887BWxyxKKtuxtjMhb76T6uwRCqAi5VPzkiFwloX
MIME-Version: 1.0
X-Received: by 10.50.80.14 with SMTP id n14mr7507721igx.30.1443519633579; Tue,
 29 Sep 2015 02:40:33 -0700 (PDT)
Received: by 10.36.101.194 with HTTP; Tue, 29 Sep 2015 02:40:33 -0700 (PDT)
Date: Tue, 29 Sep 2015 11:40:33 +0200
Message-ID: <CAECPfcz7ebUFwuJsM_P3EGYr5EJV1XxcU8YWdfq95daR8qaAuw@mail.gmail.com>
Subject: Trailer and Hop-By-Hop contradition
From: Daniil Iaitskov <diaitskov@egnyte.com>
To: dev@httpd.apache.org
Content-Type: multipart/alternative; boundary=089e0149c0c6fc8a1a0520df9a37

--089e0149c0c6fc8a1a0520df9a37
Content-Type: text/plain; charset=UTF-8

Hi List,

I am patching HTTP proxy module to pass trailing headers from a client to
an origin server.

I want it to be compatible with RFCs, and I was stumbled with 2 statements
from
them.

1. Trailer header is hop-by-hop so it cannot be transferred to outgoing
connection
    (RFC2616 13.5.1 - it's obsolete by RFC7230, RFC7231, RFC7232,
    RFC7233, RFC7234, RFC7235, but they don't mention the ban list anymore).
2. Names of trailing headers must be declared in the Trailer header
    (RFC7230 4.4).

It's quite absurd, because first proxy drops Trailer and second one drops
trailing headers because they are not declared in the Trailer.

What did I miss here?
Is it possible to use trailers with proxies and obey RFCs?


-- 


Daneel Yaitskov

--089e0149c0c6fc8a1a0520df9a37
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Hi List,<div><br></div><div>I am patching HTTP proxy modul=
e to pass trailing headers from a client to an origin server.</div><div><br=
></div><div>I want it to be compatible with RFCs, and I was stumbled with 2=
 statements from=C2=A0</div><div>them.</div><div><br></div><div>1. Trailer =
header is hop-by-hop so it cannot be transferred to outgoing connection=C2=
=A0</div><div>=C2=A0 =C2=A0 (RFC2616 13.5.1 - it&#39;s obsolete by RFC7230,=
 RFC7231, RFC7232,=C2=A0</div><div>=C2=A0 =C2=A0 RFC7233, RFC7234, RFC7235,=
 but they don&#39;t mention the ban list anymore).</div><div>2. Names of tr=
ailing headers must be declared in the Trailer header=C2=A0</div><div>=C2=
=A0 =C2=A0 (RFC7230 4.4).</div><div><br></div><div>It&#39;s quite absurd, b=
ecause first proxy drops Trailer and second one drops trailing headers beca=
use they are not declared in the Trailer.</div><div><br></div><div>What did=
 I miss here?</div><div>Is it possible to use trailers with proxies and obe=
y RFCs?</div><div>=C2=A0=C2=A0</div><div><div><br></div>-- <br><div class=
=3D"gmail_signature"><div dir=3D"ltr"><div dir=3D"ltr"><br><div><br></div><=
div>Daneel Yaitskov</div><div><br></div><div><br></div></div></div></div>
</div></div>

--089e0149c0c6fc8a1a0520df9a37--

From dev-return-83981-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 29 10:56:01 2015
Return-Path: <dev-return-83981-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 05BFF172FA
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 29 Sep 2015 10:56:01 +0000 (UTC)
Received: (qmail 11697 invoked by uid 500); 29 Sep 2015 10:56:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 11615 invoked by uid 500); 29 Sep 2015 10:56:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 11605 invoked by uid 99); 29 Sep 2015 10:56:00 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Sep 2015 10:56:00 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 282201A33D3
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 10:56:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	SPF_PASS=-0.001] autolearn=disabled
Authentication-Results: spamd2-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id ICp_06BqUNEF for <dev@httpd.apache.org>;
	Tue, 29 Sep 2015 10:55:45 +0000 (UTC)
Received: from mail-qg0-f50.google.com (mail-qg0-f50.google.com [209.85.192.50])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id D596C20864
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 10:55:44 +0000 (UTC)
Received: by qgx61 with SMTP id 61so2038159qgx.3
        for <dev@httpd.apache.org>; Tue, 29 Sep 2015 03:55:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=WSNXv28UCUhnI6R5zwirGfLwo03nOL5BomVFbKg8+fk=;
        b=0SU7fUDhTXr22nyN8iG9dubq1D14hwJUNe3p3Y7RKPTRarB+HDL6W3Y1oJISwQ9zn1
         Zk+4txm1Mrkmo+iD6i4rfuzb0JMBgOPRsTALOQzJBFiF1k9Kzd2PNRyzR9LgHguHsF1T
         jk+0r5cwD1PjFnq8nw1fJlDq4HEkC3Zh7ujO70dGfRxdjaQ7AvwvX05dE4WW77smirKn
         LW/Dg4gliPylpjfJicztHcVuuh2lsDZr4LOzDnk4DhetP7pIMuVFPqLgIoZPUItv09VE
         L+DszyZtLCMMS19ZLk+ZQWDlu3EpoxOHmJTXFDJBMYRVGch9p10oDp9y7Tqp2Ja6K73V
         DVQQ==
MIME-Version: 1.0
X-Received: by 10.140.107.54 with SMTP id g51mr23415531qgf.38.1443524144132;
 Tue, 29 Sep 2015 03:55:44 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Tue, 29 Sep 2015 03:55:44 -0700 (PDT)
In-Reply-To: <20150929083824.GA6882@redhat.com>
References: <20150925072706.5C2D83A0233@svn01-us-west.apache.org>
	<5604FF5A.90101@apache.org>
	<CAKQ1sVNCK2sWHY3R-4Q3rpyY5r9UH+BqfzPUaY7u7t6ax26MSg@mail.gmail.com>
	<CAKQ1sVOH487zezt-JzZ_2R3sMoN5DendJ1843MCGC2hR=u-znQ@mail.gmail.com>
	<CAKQ1sVOt9G6R7hgGbMNGyRXm5ZAwBzieggbjdrWaLj+-Xf-NQg@mail.gmail.com>
	<20150929083824.GA6882@redhat.com>
Date: Tue, 29 Sep 2015 12:55:44 +0200
Message-ID: <CAKQ1sVOCG58QM1-SD5dfCQaredj_7276-BXabxjqWSVScoqLxw@mail.gmail.com>
Subject: Re: svn commit: r1705236 - /httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

On Tue, Sep 29, 2015 at 10:38 AM, Joe Orton <jorton@redhat.com> wrote:
> On Fri, Sep 25, 2015 at 03:54:56PM +0200, Yann Ylavic wrote:
>> Couldn't we completely remove the flush from bio_filter_in_read() then?
>> Or make it conditional to OpenSSL < 0.9.8m (since we support 0.9.8a at least)?
>
> That looks correct to me, +1.

Thanks, committed in r1705823, along with your patch (metadata
passthru) in r1705828, and finally to make a backport proposal in
r1705836.

Regards,
Yann.

From dev-return-83982-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 29 11:00:33 2015
Return-Path: <dev-return-83982-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 793E01731D
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 29 Sep 2015 11:00:33 +0000 (UTC)
Received: (qmail 18475 invoked by uid 500); 29 Sep 2015 11:00:33 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 18401 invoked by uid 500); 29 Sep 2015 11:00:33 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 18391 invoked by uid 99); 29 Sep 2015 11:00:32 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Sep 2015 11:00:32 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 8F897C082C
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 11:00:32 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.006
X-Spam-Level:
X-Spam-Status: No, score=-0.006 tagged_above=-999 required=6.31
	tests=[HEADER_FROM_DIFFERENT_DOMAINS=0.001, RP_MATCHES_RCVD=-0.006,
	SPF_HELO_PASS=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id nG7CAtAHf56b for <dev@httpd.apache.org>;
	Tue, 29 Sep 2015 11:00:23 +0000 (UTC)
Received: from plane.gmane.org (plane.gmane.org [80.91.229.3])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 9824620F4A
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 11:00:22 +0000 (UTC)
Received: from list by plane.gmane.org with local (Exim 4.69)
	(envelope-from <apache-dev@m.gmane.org>)
	id 1Zgsdw-000615-0M
	for dev@httpd.apache.org; Tue, 29 Sep 2015 13:00:20 +0200
Received: from aorleans-552-1-92-136.w92-140.abo.wanadoo.fr ([92.140.227.136])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Tue, 29 Sep 2015 13:00:19 +0200
Received: from christophe.jaillet by aorleans-552-1-92-136.w92-140.abo.wanadoo.fr with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <dev@httpd.apache.org>; Tue, 29 Sep 2015 13:00:19 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: dev@httpd.apache.org
From: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Subject: h2 vs http2 discrepancies between 2.4.x and trunk
Date: Tue, 29 Sep 2015 13:00:10 +0200
Lines: 21
Message-ID: <mudqvs$qt7$1@ger.gmane.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Complaints-To: usenet@ger.gmane.org
X-Gmane-NNTP-Posting-Host: aorleans-552-1-92-136.w92-140.abo.wanadoo.fr
X-Mozilla-News-Host: news://news.gmane.org:119
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
X-Antivirus: avast! (VPS 150929-0, 29/09/2015), Outbound message
X-Antivirus-Status: Clean

Hi,

I think that r1705257 should also be backported to 2.4.x

There are also some differences related to h2/http2 in:
    Apache-apr2.dsw
    Apache.dsw
But for these ones, 2.4.x seems to be more up to date.


There is also some references to httpd-h2.conf, httpd-h2.conf.in which 
may be better named httpd-http2.conf httpd-http2.conf.in now.
Maybe mod_h2.h could also be turned in mod_http2.h for consistency.

Content of httpd-h2.conf.in should also be tweaked. Maybe also 
httpd.conf.in.


Just my 2 cents,
CJ



From dev-return-83983-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 29 11:19:21 2015
Return-Path: <dev-return-83983-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B913C173E7
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 29 Sep 2015 11:19:21 +0000 (UTC)
Received: (qmail 74260 invoked by uid 500); 29 Sep 2015 11:19:15 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 74187 invoked by uid 500); 29 Sep 2015 11:19:15 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 74173 invoked by uid 99); 29 Sep 2015 11:19:15 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Sep 2015 11:19:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id AE2C618099D
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 11:19:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-eu-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id L66dGlJP5jQK for <dev@httpd.apache.org>;
	Tue, 29 Sep 2015 11:19:07 +0000 (UTC)
Received: from mail-qg0-f45.google.com (mail-qg0-f45.google.com [209.85.192.45])
	by mx1-eu-west.apache.org (ASF Mail Server at mx1-eu-west.apache.org) with ESMTPS id 1B5132315E
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 11:19:07 +0000 (UTC)
Received: by qgez77 with SMTP id z77so2525887qge.1
        for <dev@httpd.apache.org>; Tue, 29 Sep 2015 04:19:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=ZLsPN6NMI6O+mqsJb2OQH+yYkmtvryAAyypsgQnZl0w=;
        b=PYmSALC7UNXvypo6yg5dszocun6xyaNcodbymz6orE6AH8ER3ziPQRdIhgBk5qWFDQ
         hzn35kdIsxc8QR8+XkOAZq8SS+aHskqAZaFXJIL6raI9pwL5tAhqycPQHdvpoiTLs88D
         cD55i32QZHnUepNYaNQTKNJ466Ld2H+/FtToAkm1SXU9e1wMQs+Aw7gd81grwhLsuoI/
         m6GMdEp7MVZwE0g85rVqbmd6Mxwl0Xvw8X8/cF7XsPMqZBCoEBLNwZcbr4/uJo9pFXoi
         TNVKe5oQroPu3E2xAebuqsNyBQN/TUklQdBJdBQ/YwfIs4pISSFTqILXCo0ycL71gCAM
         A+/A==
MIME-Version: 1.0
X-Received: by 10.141.23.9 with SMTP id z9mr30337487qhd.24.1443525546129; Tue,
 29 Sep 2015 04:19:06 -0700 (PDT)
Received: by 10.55.72.20 with HTTP; Tue, 29 Sep 2015 04:19:06 -0700 (PDT)
In-Reply-To: <mudqvs$qt7$1@ger.gmane.org>
References: <mudqvs$qt7$1@ger.gmane.org>
Date: Tue, 29 Sep 2015 13:19:06 +0200
Message-ID: <CAKQ1sVPYi3kRZyujVmwwCCDO6L8T5LO=xSrnewX0Xs3HMGTD=g@mail.gmail.com>
Subject: Re: h2 vs http2 discrepancies between 2.4.x and trunk
From: Yann Ylavic <ylavic.dev@gmail.com>
To: dev@httpd.apache.org
Content-Type: text/plain; charset=UTF-8

Hi Christophe,

On Tue, Sep 29, 2015 at 1:00 PM, Christophe JAILLET
<christophe.jaillet@wanadoo.fr> wrote:
>
> I think that r1705257 should also be backported to 2.4.x

Done in r1705839.

>
> There are also some differences related to h2/http2 in:
>    Apache-apr2.dsw
>    Apache.dsw
> But for these ones, 2.4.x seems to be more up to date.

Done in r1705838.

>
>
> There is also some references to httpd-h2.conf, httpd-h2.conf.in which may
> be better named httpd-http2.conf httpd-http2.conf.in now.
> Maybe mod_h2.h could also be turned in mod_http2.h for consistency.
>
> Content of httpd-h2.conf.in should also be tweaked. Maybe also
> httpd.conf.in.

Agreed, but not done (not sure to have all the bits here) :p

Thanks,
Yann.

From dev-return-83984-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 29 12:00:26 2015
Return-Path: <dev-return-83984-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AF895175F8
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 29 Sep 2015 12:00:26 +0000 (UTC)
Received: (qmail 77821 invoked by uid 500); 29 Sep 2015 12:00:23 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 77741 invoked by uid 500); 29 Sep 2015 12:00:23 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 77731 invoked by uid 99); 29 Sep 2015 12:00:23 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Sep 2015 12:00:23 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id BA007C70DD
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 12:00:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.01
X-Spam-Level:
X-Spam-Status: No, score=-0.01 tagged_above=-999 required=6.31
	tests=[SPF_PASS=-0.001, T_RP_MATCHES_RCVD=-0.01, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 2_4EmQlgTixr for <dev@httpd.apache.org>;
	Tue, 29 Sep 2015 12:00:16 +0000 (UTC)
Received: from monica.sharp.fm (monica.sharp.fm [80.168.143.5])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTP id A040720FFE
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 12:00:16 +0000 (UTC)
Received: from [10.105.13.199] (unknown [5.56.169.82])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(Client did not present a certificate)
	(Authenticated sender: minfrin@sharp.fm)
	by monica.sharp.fm (Postfix) with ESMTPSA id 01A67830E9
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 13:00:08 +0100 (BST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 8.2 \(2104\))
Subject: Re: Trailer and Hop-By-Hop contradition
From: Graham Leggett <minfrin@sharp.fm>
In-Reply-To: <CAECPfcz7ebUFwuJsM_P3EGYr5EJV1XxcU8YWdfq95daR8qaAuw@mail.gmail.com>
Date: Tue, 29 Sep 2015 14:00:07 +0200
Content-Transfer-Encoding: quoted-printable
Message-Id: <C3DD8AEF-AE91-4D15-ACBC-3B594609851F@sharp.fm>
References: <CAECPfcz7ebUFwuJsM_P3EGYr5EJV1XxcU8YWdfq95daR8qaAuw@mail.gmail.com>
To: dev@httpd.apache.org
X-Mailer: Apple Mail (2.2104)

On 29 Sep 2015, at 11:40 AM, Daniil Iaitskov <diaitskov@egnyte.com> =
wrote:

> I am patching HTTP proxy module to pass trailing headers from a client =
to an origin server.
>=20
> I want it to be compatible with RFCs, and I was stumbled with 2 =
statements from=20
> them.
>=20
> 1. Trailer header is hop-by-hop so it cannot be transferred to =
outgoing connection=20
>     (RFC2616 13.5.1 - it's obsolete by RFC7230, RFC7231, RFC7232,=20
>     RFC7233, RFC7234, RFC7235, but they don't mention the ban list =
anymore).

You may not transfer a hop-by-hop header end to end, but you can =
certainly generate a new hop-by-hop header on the next connection that =
happens to have the same name and value as the hop-by-hop header on the =
earlier connection. The key thing is that the Trailer header and the =
trailers are addressing the next link in the chain only.

In other words, a trailer can be passed from A to B, then passed from B =
to C, but if trailers aren=E2=80=99t supported from C to D that=E2=80=99s =
fine too.

Regards,
Graham
=E2=80=94


From dev-return-83985-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 29 14:39:35 2015
Return-Path: <dev-return-83985-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1C88817D18
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 29 Sep 2015 14:39:35 +0000 (UTC)
Received: (qmail 70336 invoked by uid 500); 29 Sep 2015 14:39:28 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 70267 invoked by uid 500); 29 Sep 2015 14:39:28 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 70257 invoked by uid 99); 29 Sep 2015 14:39:28 -0000
Received: from Unknown (HELO spamd2-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Sep 2015 14:39:28 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd2-us-west.apache.org (ASF Mail Server at spamd2-us-west.apache.org) with ESMTP id 0C43D1A340B
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 14:39:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd2-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.001
X-Spam-Level:
X-Spam-Status: No, score=-0.001 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=0.001, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd2-us-west.apache.org [10.40.0.9]) (amavisd-new, port 10024)
	with ESMTP id E05pI-J_TIgS for <dev@httpd.apache.org>;
	Tue, 29 Sep 2015 14:39:26 +0000 (UTC)
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 34B8C20595
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 14:39:26 +0000 (UTC)
Subject: Re: SSLUseStapling: ssl handshake fails until httpd restart
To: dev@httpd.apache.org
References: <560A49E5.2090500@thelounge.net>
From: Reindl Harald <h.reindl@thelounge.net>
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
X-Enigmail-Draft-Status: N1110
Organization: the lounge interactive design
Message-ID: <560AA29B.1090509@thelounge.net>
Date: Tue, 29 Sep 2015 16:39:23 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <560A49E5.2090500@thelounge.net>
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="JIFwTWADwFn1SOjWEnpAb0AlqH27gja24"

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--JIFwTWADwFn1SOjWEnpAb0AlqH27gja24
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable



Am 29.09.2015 um 10:20 schrieb Reindl Harald:
> is that by intention?
>
> firefox refused to open our adminpanel with the error below until i
> restarted httpd - i suggest the server should retry SSLUseStapling when=

> a new client connects and it has failed for whatever reason
>
> SSLUseStapling On
>
> An error occurred during a connection to *******:8443. The OCSP server
> suggests trying again later. (Error code: sec_error_ocsp_try_server_lat=
er)

as long httpd behaves that way i suggest to re-consider if it's a good=20
idea to use "SSLUseStapling On" as future default - i just disabled it=20
everywhere because *any* of our https-sites using the same GoDaddy=20
wildcard certificate where broken repeatly today with the same error=20
message and after a "apachectl graceful" started to work again


--JIFwTWADwFn1SOjWEnpAb0AlqH27gja24
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlYKopsACgkQhmBjz394AnnqpgCfdPIo09+o/uUJ34Izu7FS/sEf
HKAAn0xSP7y7OJ8OiU97sPAVFbHZZwLy
=2X9b
-----END PGP SIGNATURE-----

--JIFwTWADwFn1SOjWEnpAb0AlqH27gja24--

From dev-return-83986-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 29 15:41:56 2015
Return-Path: <dev-return-83986-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2B90E17F20
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 29 Sep 2015 15:41:56 +0000 (UTC)
Received: (qmail 91586 invoked by uid 500); 29 Sep 2015 15:41:04 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 89405 invoked by uid 500); 29 Sep 2015 15:41:02 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 87491 invoked by uid 99); 29 Sep 2015 15:32:15 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Sep 2015 15:32:15 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 01261180293
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 15:32:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.101
X-Spam-Level:
X-Spam-Status: No, score=-0.101 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	RCVD_IN_MSPIKE_H2=-0.001] autolearn=disabled
Authentication-Results: spamd3-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=gmail.com
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id Qyukby-UxRTN for <dev@httpd.apache.org>;
	Tue, 29 Sep 2015 15:32:04 +0000 (UTC)
Received: from mail-qg0-f44.google.com (mail-qg0-f44.google.com [209.85.192.44])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 8308E20595
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 15:32:04 +0000 (UTC)
Received: by qgez77 with SMTP id z77so9297422qge.1
        for <dev@httpd.apache.org>; Tue, 29 Sep 2015 08:31:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=subject:to:references:from:message-id:date:user-agent:mime-version
         :in-reply-to:content-type:content-transfer-encoding;
        bh=aaRJjWKrr0of8RScvtG22CUXk4OzSB63986+5TJRL1k=;
        b=ROPUOH5Aa5fcQHZHgW6y9siVA3ttnwHyjCItrQiEtYQZKZv4WhNIEF1Ey1xQqNk1Hy
         PoTHUNQMKXKYSshyr50sfE2wJuoL9GHU24nZFAOCY7w28Tls3OnajaTgmK54ApDZeG9s
         1NxhaiBJroUzM4PteCjGgwtEj6Evg2kz929ISP+QeEHVPMR5DvRtmIZ4I9NK6ZrFONnR
         OFEFosjuK10WMeDNrs7rA8F3EOasv4c0NQvK+zCkDyRAmHHafL4AxGrBOFTSlqRz4ySK
         U7AKh+01X163lavYn92ccHepvD/F3AndHoCIgXgSsaITKzY6WGojS8CpMTWM7LmR5S8X
         iQrQ==
X-Received: by 10.140.42.77 with SMTP id b71mr30643432qga.78.1443540718108;
        Tue, 29 Sep 2015 08:31:58 -0700 (PDT)
Received: from ?IPv6:2606:a000:4ba6:3d00:8ad:7787:eaf7:d226? ([2606:a000:4ba6:3d00:8ad:7787:eaf7:d226])
        by smtp.googlemail.com with ESMTPSA id k16sm6004933qkh.12.2015.09.29.08.31.57
        for <dev@httpd.apache.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Tue, 29 Sep 2015 08:31:57 -0700 (PDT)
Subject: Re: SSLUseStapling: ssl handshake fails until httpd restart
To: dev@httpd.apache.org
References: <560A49E5.2090500@thelounge.net>
From: Jeff Trawick <trawick@gmail.com>
Message-ID: <560AAEEC.2080500@gmail.com>
Date: Tue, 29 Sep 2015 11:31:56 -0400
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <560A49E5.2090500@thelounge.net>
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

On 09/29/2015 04:20 AM, Reindl Harald wrote:
> is that by intention?

The default timeout before retrying an error seems to be 10 minutes (see 
http://httpd.apache.org/docs/2.4/mod/mod_ssl.html#sslstaplingerrorcachetimeout), 
which is pretty excessive.

As far as you recall about the time period before you gave up, was that 
within 10 minutes?

>
> firefox refused to open our adminpanel with the error below until i 
> restarted httpd - i suggest the server should retry SSLUseStapling 
> when a new client connects and it has failed for whatever reason
>
> SSLUseStapling On
>
> An error occurred during a connection to *******:8443. The OCSP server 
> suggests trying again later. (Error code: 
> sec_error_ocsp_try_server_later)
>
>
>


From dev-return-83987-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Tue Sep 29 16:24:31 2015
Return-Path: <dev-return-83987-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1E0E718214
	for <apmail-httpd-dev-archive@www.apache.org>; Tue, 29 Sep 2015 16:24:31 +0000 (UTC)
Received: (qmail 32196 invoked by uid 500); 29 Sep 2015 16:24:30 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 32108 invoked by uid 500); 29 Sep 2015 16:24:30 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 32098 invoked by uid 99); 29 Sep 2015 16:24:30 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 29 Sep 2015 16:24:30 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id 413CAC08AC
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 16:24:30 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.008
X-Spam-Level:
X-Spam-Status: No, score=-0.008 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001]
	autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id gnEehj2KPvb8 for <dev@httpd.apache.org>;
	Tue, 29 Sep 2015 16:24:28 +0000 (UTC)
Received: from mail.thelounge.net (mail.thelounge.net [91.118.73.15])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTPS id E6094439C0
	for <dev@httpd.apache.org>; Tue, 29 Sep 2015 16:24:27 +0000 (UTC)
Subject: Re: SSLUseStapling: ssl handshake fails until httpd restart
To: dev@httpd.apache.org
References: <560A49E5.2090500@thelounge.net> <560AAEEC.2080500@gmail.com>
From: Reindl Harald <h.reindl@thelounge.net>
Openpgp: id=13540402D67A7F71C6E974EA866063CF7F780279;
 url=https://arrakis.thelounge.net/gpg/h.reindl_thelounge.net.pub.txt
X-Enigmail-Draft-Status: N1110
Organization: the lounge interactive design
Message-ID: <560ABB39.2030805@thelounge.net>
Date: Tue, 29 Sep 2015 18:24:25 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
In-Reply-To: <560AAEEC.2080500@gmail.com>
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="Io6cpN8B5HhwQ4v0vbwE6CdV00utGRaau"

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--Io6cpN8B5HhwQ4v0vbwE6CdV00utGRaau
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: quoted-printable



Am 29.09.2015 um 17:31 schrieb Jeff Trawick:
> On 09/29/2015 04:20 AM, Reindl Harald wrote:
>> is that by intention?
>
> The default timeout before retrying an error seems to be 10 minutes (se=
e
> http://httpd.apache.org/docs/2.4/mod/mod_ssl.html#sslstaplingerrorcache=
timeout),
> which is pretty excessive.
>
> As far as you recall about the time period before you gave up, was that=

> within 10 minutes?

i just restarted the servers and disabled stapling since all our=20
servcies where unreachable (before i write the second mail 5 different=20
hosts with several sites where affected)

in fact the error caching does more harm than benefits - IHMO a better=20
"could not reach OCSP server or received a error from it" caching would=20
be just temporary disable stapling for 10 minutes instead lead in=20
connections fail even from clients which have disabled OCSP completly

>> firefox refused to open our adminpanel with the error below until i
>> restarted httpd - i suggest the server should retry SSLUseStapling
>> when a new client connects and it has failed for whatever reason
>>
>> SSLUseStapling On
>>
>> An error occurred during a connection to *******:8443. The OCSP server=

>> suggests trying again later. (Error code:
>> sec_error_ocsp_try_server_later)


--Io6cpN8B5HhwQ4v0vbwE6CdV00utGRaau
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iEYEARECAAYFAlYKuzkACgkQhmBjz394AnkCDQCgkl21tKRolHaPIkghOMRRdF18
AJUAn152JxGpzduCtKMlHH3lToVLgATH
=+nI+
-----END PGP SIGNATURE-----

--Io6cpN8B5HhwQ4v0vbwE6CdV00utGRaau--

From dev-return-83988-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 30 06:42:46 2015
Return-Path: <dev-return-83988-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0057918EB8
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 30 Sep 2015 06:42:46 +0000 (UTC)
Received: (qmail 86657 invoked by uid 500); 30 Sep 2015 06:42:40 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 86569 invoked by uid 500); 30 Sep 2015 06:42:40 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 86558 invoked by uid 99); 30 Sep 2015 06:42:40 -0000
Received: from Unknown (HELO spamd1-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Sep 2015 06:42:40 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd1-us-west.apache.org (ASF Mail Server at spamd1-us-west.apache.org) with ESMTP id EF4F5C7569
	for <dev@httpd.apache.org>; Wed, 30 Sep 2015 06:42:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd1-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.11
X-Spam-Level:
X-Spam-Status: No, score=-0.11 tagged_above=-999 required=6.31
	tests=[DKIM_SIGNED=0.1, DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1,
	T_RP_MATCHES_RCVD=-0.01] autolearn=disabled
Authentication-Results: spamd1-us-west.apache.org (amavisd-new);
	dkim=pass (2048-bit key) header.d=velox.ch header.b=cxC9VA01;
	dkim=pass (2048-bit key) header.d=velox.ch header.b=uyJGvbw1
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd1-us-west.apache.org [10.40.0.7]) (amavisd-new, port 10024)
	with ESMTP id 5mS8kZ5NLIz1 for <dev@httpd.apache.org>;
	Wed, 30 Sep 2015 06:42:36 +0000 (UTC)
Received: from fornix.velox.ch (fornix.velox.ch [85.25.46.13])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id 7C3C323064
	for <dev@httpd.apache.org>; Wed, 30 Sep 2015 06:42:35 +0000 (UTC)
Received: from cortex.velox.ch (77-57-164-164.dclient.hispeed.ch [77.57.164.164])
	(authenticated bits=0)
	by fornix.velox.ch (8.14.9/8.14.9/2.2) with ESMTP id t8U6gQTm025948
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK)
	for <dev@httpd.apache.org>; Wed, 30 Sep 2015 08:42:26 +0200
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=fornix-727e; t=1443595346;
	bh=U+Bs1aT63hXhia650eIJSBY/JTT6Dbdd0UP4s4duV/g=;
	h=Subject:To:References:From:Date:In-Reply-To;
	b=cxC9VA013Na8hjsIoGpldiu17bLsBO3iG7DyKbWarDT00Xb/SRJtOlfn8924BUy2Y
	 4hZkbv+I2XUtBpfEWPfBi4INliIdgrDHHSaL9kGRUfCfmfjngog4+k4tGqMoDCzG67
	 13SVIzh9DAIBfW3WG1WqE1lUuyBzt9MdwrJ9JEfST+qQdfht3ZHhv6Ct4H6owcyODi
	 37QrLVXmTyvP+TmEhGY8QEOzma0nG+K5B2NKai0Jk/G3xdxGD24xXKmWdvx7191QQ7
	 LYROJyABBCMpAIbbeH78ZOJ8Oosi74ZClLA8skM4sts3TVW7zJtrnhsojO4DDiJex2
	 D5FarQBfbbnhg==
Subject: Re: SSLUseStapling: ssl handshake fails until httpd restart
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=velox.ch;
	s=cortex-8a58; t=1443595345;
	bh=U+Bs1aT63hXhia650eIJSBY/JTT6Dbdd0UP4s4duV/g=;
	h=Subject:To:References:From:Date:In-Reply-To;
	b=uyJGvbw1msUfYbDFM2Mp4g4UpCkdlu9bI4cEpJ1cXFwZnvecvJYo4YFm60bftHUJl
	 J/+Y6px4QooFzFTsHezYLUi9HsNr4SGqkU0kEBzuIrkdPyOC5yeTPXIXuCEktEpgSg
	 AmQ4Y8KoaSfZezG1Xv8m4cckMG/a3ddlaWURNnIwSTcqL8A2Q8Lc+GoLlrg9mFXWeG
	 HuMXy+cJu6TOJ7T4sHo3U1XPPw98BZRTm7ZnYoQ99OBjfvw+rKSDLP5KqJEWnZzMYr
	 TPVcUe0ar9IuENgbuUFixY8LihLnHXgycGRKSLop9uC8Ceze99KLDfGXT+K/K/91MK
	 Z69egXK5nEc+A==
To: dev@httpd.apache.org
References: <560A49E5.2090500@thelounge.net> <560AAEEC.2080500@gmail.com>
 <560ABB39.2030805@thelounge.net>
From: Kaspar Brand <httpd-dev.2014@velox.ch>
Message-ID: <560B8452.5070800@velox.ch>
Date: Wed, 30 Sep 2015 08:42:26 +0200
MIME-Version: 1.0
In-Reply-To: <560ABB39.2030805@thelounge.net>
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit

On 29.09.2015 18:24, Reindl Harald wrote:
> i just restarted the servers and disabled stapling since all our 
> servcies where unreachable (before i write the second mail 5 different 
> hosts with several sites where affected)
> 
> in fact the error caching does more harm than benefits - IHMO a better 
> "could not reach OCSP server or received a error from it" caching would 
> be just temporary disable stapling for 10 minutes instead lead in 
> connections fail even from clients which have disabled OCSP completly
> 
>>> firefox refused to open our adminpanel with the error below until i
>>> restarted httpd

The default for SSLStaplingReturnResponderErrors is relatively odd.
Not sure why it has always defaulted to "on" (r829619), but setting it
to off should save you further troubles with Firefox clients.

Kaspar

From dev-return-83989-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 30 11:02:40 2015
Return-Path: <dev-return-83989-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6BDFD179AD
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 30 Sep 2015 11:02:40 +0000 (UTC)
Received: (qmail 84512 invoked by uid 500); 30 Sep 2015 11:02:36 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84443 invoked by uid 500); 30 Sep 2015 11:02:36 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84433 invoked by uid 99); 30 Sep 2015 11:02:36 -0000
Received: from Unknown (HELO spamd4-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Sep 2015 11:02:36 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd4-us-west.apache.org (ASF Mail Server at spamd4-us-west.apache.org) with ESMTP id A3486C08AC
	for <dev@httpd.apache.org>; Wed, 30 Sep 2015 11:02:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd4-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: 3
X-Spam-Level: ***
X-Spam-Status: No, score=3 tagged_above=-999 required=6.31
	tests=[HTML_MESSAGE=3, SPF_PASS=-0.001, URIBL_BLOCKED=0.001]
	autolearn=disabled
Received: from mx1-us-west.apache.org ([10.40.0.8])
	by localhost (spamd4-us-west.apache.org [10.40.0.11]) (amavisd-new, port 10024)
	with ESMTP id MU1o0BE3PWXI for <dev@httpd.apache.org>;
	Wed, 30 Sep 2015 11:02:26 +0000 (UTC)
Received: from mail-io0-f181.google.com (mail-io0-f181.google.com [209.85.223.181])
	by mx1-us-west.apache.org (ASF Mail Server at mx1-us-west.apache.org) with ESMTPS id AD5E920864
	for <dev@httpd.apache.org>; Wed, 30 Sep 2015 11:02:26 +0000 (UTC)
Received: by iofh134 with SMTP id h134so43013073iof.0
        for <dev@httpd.apache.org>; Wed, 30 Sep 2015 04:02:20 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20130820;
        h=x-gm-message-state:mime-version:in-reply-to:references:date
         :message-id:subject:from:to:content-type;
        bh=bNgXzhXl6xWHU3wjsiMFN5Gyd8m4hCxY9GpqUtN+R4g=;
        b=JsXxSxnadTb/h3xEwP3jKHSFos2dI9+kjL64yQ5QZjDs8ZpRtMJpKIyf2ucNfyOrIK
         jN932h3iVBl/FxGPe//qEk6PejpihmRkdO+UYKT1AeYUH5Akhm12FOCLLI33jeBUKUuM
         BRbeA0vZscrff9n3t/5M4x0ZgnG99s4ejQvxgTv8C75MMcprdV001xOokQRkVEVkR1xv
         XpG0di6eeBrXCG+Wrfb+jOp7dHc5bj1qQzPdPgh/2TpUBpI/Du0yOOG9RTS6uTG9BqJg
         78WaebggJAu9jgu1sonYOALlehtBH6vV1asTw2KRupbNJfqjdK4tjI4OLRclzd33jCzt
         UQWg==
X-Gm-Message-State: ALoCoQlzRPjXQ+z6+ASgM3f3IOEdFgmsos+pG/aLbDD8XFrQBuEnEETF5wNx3krk1balLaw1eDFX
MIME-Version: 1.0
X-Received: by 10.107.166.79 with SMTP id p76mr3517060ioe.163.1443610940011;
 Wed, 30 Sep 2015 04:02:20 -0700 (PDT)
Received: by 10.107.12.199 with HTTP; Wed, 30 Sep 2015 04:02:19 -0700 (PDT)
In-Reply-To: <5609D3A6.4070806@oracle.com>
References: <20150928140327.DC5833A04B9@svn01-us-west.apache.org>
	<CALK=YjOyc-2dD-2Gy_MXb3EsGpEGVa3wtvnxWDtAnwuqwLETzg@mail.gmail.com>
	<5609D3A6.4070806@oracle.com>
Date: Wed, 30 Sep 2015 06:02:19 -0500
Message-ID: <CACsi253gtmTkT2=+9eEgOeNRYfGa4fmL75kx7tD=U8z30Gj7_w@mail.gmail.com>
Subject: Re: svn commit: r1705695 - /httpd/httpd/trunk/docs/manual/mod/mod_h2.xml
From: William A Rowe Jr <wrowe@rowe-clan.net>
To: httpd <dev@httpd.apache.org>
Content-Type: multipart/alternative; boundary=001a1141f37e4610dc0520f4dd27

--001a1141f37e4610dc0520f4dd27
Content-Type: text/plain; charset=UTF-8

On Mon, Sep 28, 2015 at 6:56 PM, Mike Rumph <mike.rumph@oracle.com> wrote:

> See below:
>
> On 9/28/2015 7:03 AM, Eric Covener wrote:
>
>> Modified: httpd/httpd/trunk/docs/manual/mod/mod_h2.xml
>> URL:
>> http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/mod/mod_h2.xml?rev=1705695&r1=1705694&r2=1705695&view=diff
>>
>> ==============================================================================
>> --- httpd/httpd/trunk/docs/manual/mod/mod_h2.xml (original)
>> +++ httpd/httpd/trunk/docs/manual/mod/mod_h2.xml Mon Sep 28 14:03:27 2015
>> @@ -35,6 +35,12 @@
>>           <p>This module relies on <a href="http://nghttp2.org/
>> ">libnghttp2</a>
>>               to provide the core http/2 engine.</p>
>>
>> +        <note type="warning"><title>Warning</title>
>> +          <p>This module is experimental. Its behaviors, directives, and
>> +          defaults are subject to more frequent and change from release
>> to
>>
> more frequent what?
>
> +          release relative to other standard modules. Users are
>> encouraged to
>> +          consult the "CHANGES" file for potential updates.</p>
>>
>>
Is it better to simply state ... behaviors, directives, and programatic
API's are
subject to change with any 2.4.x sub-version release ...

?

--001a1141f37e4610dc0520f4dd27
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div class=3D"gmail_extra"><div class=3D"gmail_quote">On M=
on, Sep 28, 2015 at 6:56 PM, Mike Rumph <span dir=3D"ltr">&lt;<a href=3D"ma=
ilto:mike.rumph@oracle.com" target=3D"_blank">mike.rumph@oracle.com</a>&gt;=
</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .=
8ex;border-left:1px #ccc solid;padding-left:1ex">See below:<span class=3D""=
><br>
<br>
On 9/28/2015 7:03 AM, Eric Covener wrote:<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
Modified: httpd/httpd/trunk/docs/manual/mod/mod_h2.xml<br>
URL: <a href=3D"http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/manual/=
mod/mod_h2.xml?rev=3D1705695&amp;r1=3D1705694&amp;r2=3D1705695&amp;view=3Dd=
iff" rel=3D"noreferrer" target=3D"_blank">http://svn.apache.org/viewvc/http=
d/httpd/trunk/docs/manual/mod/mod_h2.xml?rev=3D1705695&amp;r1=3D1705694&amp=
;r2=3D1705695&amp;view=3Ddiff</a><br>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D<br>
--- httpd/httpd/trunk/docs/manual/mod/mod_h2.xml (original)<br>
+++ httpd/httpd/trunk/docs/manual/mod/mod_h2.xml Mon Sep 28 14:03:27 2015<b=
r>
@@ -35,6 +35,12 @@<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 &lt;p&gt;This module relies on &lt;a hre=
f=3D&quot;<a href=3D"http://nghttp2.org/" rel=3D"noreferrer" target=3D"_bla=
nk">http://nghttp2.org/</a>&quot;&gt;libnghttp2&lt;/a&gt;<br>
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 to provide the core http/2=
 engine.&lt;/p&gt;<br>
<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 &lt;note type=3D&quot;warning&quot;&gt;&lt;tit=
le&gt;Warning&lt;/title&gt;<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 &lt;p&gt;This module is experimental. I=
ts behaviors, directives, and<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 defaults are subject to more frequent a=
nd change from release to<br>
</blockquote></span>
more frequent what?<div class=3D"HOEnZb"><div class=3D"h5"><br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 release relative to other standard modu=
les. Users are encouraged to<br>
+=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 consult the &quot;CHANGES&quot; file fo=
r potential updates.&lt;/p&gt;<br><br></blockquote></div></div></blockquote=
><div><br></div><div>Is it better to simply state ... behaviors, directives=
, and programatic API&#39;s are</div><div>subject to change with any 2.4.x =
sub-version release ...</div><div><br></div></div>?</div></div>

--001a1141f37e4610dc0520f4dd27--

From dev-return-83990-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 30 18:31:01 2015
Return-Path: <dev-return-83990-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4A5F618152
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 30 Sep 2015 18:31:01 +0000 (UTC)
Received: (qmail 84902 invoked by uid 500); 30 Sep 2015 18:31:00 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 84844 invoked by uid 500); 30 Sep 2015 18:31:00 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 84835 invoked by uid 99); 30 Sep 2015 18:31:00 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Sep 2015 18:31:00 +0000
Received: from gauss.localdomain (v4-861345e7.pool.vitroconnect.de [134.19.69.231])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 468071A022D
	for <dev@httpd.apache.org>; Wed, 30 Sep 2015 18:31:00 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 0488F2F1
	for <dev@httpd.apache.org>; Wed, 30 Sep 2015 20:31:00 +0200 (CEST)
Subject: Re: svn commit: r1705823 -
 /httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
To: dev@httpd.apache.org
References: <20150929094257.1DAB53A01DC@svn01-us-west.apache.org>
From: Ruediger Pluem <rpluem@apache.org>
Message-ID: <560C2A63.1000800@apache.org>
Date: Wed, 30 Sep 2015 20:30:59 +0200
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:41.0) Gecko/20100101
 Firefox/41.0 SeaMonkey/2.38
MIME-Version: 1.0
In-Reply-To: <20150929094257.1DAB53A01DC@svn01-us-west.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit



On 09/29/2015 11:42 AM, ylavic@apache.org wrote:
> Author: ylavic
> Date: Tue Sep 29 09:42:56 2015
> New Revision: 1705823
> 
> URL: http://svn.apache.org/viewvc?rev=1705823&view=rev
> Log:
> mod_ssl: don't FLUSH output (blocking) on read.
> This defeats deferred write (and pipelining), eg. check_pipeline() is not
> expecting the pipe to be flushed under it.
> So let OpenSSL >= 0.9.8m issue the flush when necessary (earlier versions
> are known to not handle all the cases, so we keep flushing with those).
> 
> Modified:
>     httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
> 
> Modified: httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ssl/ssl_engine_io.c?rev=1705823&r1=1705822&r2=1705823&view=diff
> ==============================================================================
> --- httpd/httpd/trunk/modules/ssl/ssl_engine_io.c (original)
> +++ httpd/httpd/trunk/modules/ssl/ssl_engine_io.c Tue Sep 29 09:42:56 2015
> @@ -466,9 +466,10 @@ static int bio_filter_in_read(BIO *bio,
>      }
>  
>      /* In theory, OpenSSL should flush as necessary, but it is known
> -     * not to do so correctly in some cases; see PR 46952.
> -     *
> -     * Historically, this flush call was performed only for an SSLv2
> +     * not to do so correctly in some cases (< 0.9.8m); see PR 46952.
> +     */
> +#if OPENSSL_VERSION_NUMBER < 0x0009080df
> +    /* Historically, this flush call was performed only for an SSLv2
>       * connection or for a proxy connection.  Calling _out_flush
>       * should be very cheap in cases where it is unnecessary (and no
>       * output is buffered) so the performance impact of doing it
> 
> 
> 


This and the follow up r1705826 do cause t/ssl/proxy.t to hang and ultimately fail with timeouts.
I am running on Centos 6 with Openssl 1.0.1.
Currently no idea why. Just a heads up.

Regards

Rüdiger

From dev-return-83991-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 30 20:02:53 2015
Return-Path: <dev-return-83991-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2BD9118643
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 30 Sep 2015 20:02:53 +0000 (UTC)
Received: (qmail 80922 invoked by uid 500); 30 Sep 2015 20:02:25 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 80854 invoked by uid 500); 30 Sep 2015 20:02:25 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 80845 invoked by uid 99); 30 Sep 2015 20:02:25 -0000
Received: from mail-relay.apache.org (HELO mail-relay.apache.org) (140.211.11.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Sep 2015 20:02:25 +0000
Received: from gauss.localdomain (v4-861345e7.pool.vitroconnect.de [134.19.69.231])
	by mail-relay.apache.org (ASF Mail Server at mail-relay.apache.org) with ESMTPSA id 28D761A022D
	for <dev@httpd.apache.org>; Wed, 30 Sep 2015 20:02:25 +0000 (UTC)
Received: from [IPv6:::1] (localhost [IPv6:::1])
	by gauss.localdomain (Postfix) with ESMTP id 4115A2F1
	for <dev@httpd.apache.org>; Wed, 30 Sep 2015 22:02:25 +0200 (CEST)
Subject: Re: svn commit: r1705823 -
 /httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
To: dev@httpd.apache.org
References: <20150929094257.1DAB53A01DC@svn01-us-west.apache.org>
 <560C2A63.1000800@apache.org>
From: Ruediger Pluem <rpluem@apache.org>
X-Enigmail-Draft-Status: N1110
Message-ID: <560C3FD1.7000002@apache.org>
Date: Wed, 30 Sep 2015 22:02:25 +0200
User-Agent: Mozilla/5.0 (X11; Linux i686 on x86_64; rv:41.0) Gecko/20100101
 Firefox/41.0 SeaMonkey/2.38
MIME-Version: 1.0
In-Reply-To: <560C2A63.1000800@apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

On 09/30/2015 08:30 PM, Ruediger Pluem wrote:
> 
> 
> On 09/29/2015 11:42 AM, ylavic@apache.org wrote:
>> Author: ylavic
>> Date: Tue Sep 29 09:42:56 2015
>> New Revision: 1705823
>>
>> URL: http://svn.apache.org/viewvc?rev=1705823&view=rev
>> Log:
>> mod_ssl: don't FLUSH output (blocking) on read.
>> This defeats deferred write (and pipelining), eg. check_pipeline() is not
>> expecting the pipe to be flushed under it.
>> So let OpenSSL >= 0.9.8m issue the flush when necessary (earlier versions
>> are known to not handle all the cases, so we keep flushing with those).
>>
>> Modified:
>>     httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
>>
>> Modified: httpd/httpd/trunk/modules/ssl/ssl_engine_io.c
>> URL: http://svn.apache.org/viewvc/httpd/httpd/trunk/modules/ssl/ssl_engine_io.c?rev=1705823&r1=1705822&r2=1705823&view=diff
>> ==============================================================================
>> --- httpd/httpd/trunk/modules/ssl/ssl_engine_io.c (original)
>> +++ httpd/httpd/trunk/modules/ssl/ssl_engine_io.c Tue Sep 29 09:42:56 2015
>> @@ -466,9 +466,10 @@ static int bio_filter_in_read(BIO *bio,
>>      }
>>  
>>      /* In theory, OpenSSL should flush as necessary, but it is known
>> -     * not to do so correctly in some cases; see PR 46952.
>> -     *
>> -     * Historically, this flush call was performed only for an SSLv2
>> +     * not to do so correctly in some cases (< 0.9.8m); see PR 46952.
>> +     */
>> +#if OPENSSL_VERSION_NUMBER < 0x0009080df
>> +    /* Historically, this flush call was performed only for an SSLv2
>>       * connection or for a proxy connection.  Calling _out_flush
>>       * should be very cheap in cases where it is unnecessary (and no
>>       * output is buffered) so the performance impact of doing it
>>
>>
>>
> 
> 
> This and the follow up r1705826 do cause t/ssl/proxy.t to hang and ultimately fail with timeouts.
> I am running on Centos 6 with Openssl 1.0.1.
> Currently no idea why. Just a heads up.
> 
> Regards
> 
> Rüdiger
> 


It is hanging here:

0x00007f1a810f0113 in __poll (fds=<value optimized out>, nfds=<value optimized out>, timeout=<value optimized out>) at
../sysdeps/unix/sysv/linux/poll.c:87
#1  0x00007f1a81c6cdf7 in apr_wait_for_io_or_timeout (f=<value optimized out>, s=<value optimized out>, for_read=1) at
support/unix/waitio.c:51
#2  0x00007f1a81c66c3a in apr_socket_recv (sock=0x7f1a5400abb0, buf=0x7f1a5402a0e8 "", len=0x7f1a6e7814b0) at
network_io/unix/sendrecv.c:87
#3  0x00007f1a81c3f9e5 in socket_bucket_read (a=0x7f1a5400cbb8, str=0x7f1a6e7814b8, len=0x7f1a6e7814b0, block=<value
optimized out>) at buckets/apr_buckets_socket.c:36
#4  0x000000000044f30e in ap_core_input_filter (f=0x7f1a54013500, b=0x7f1a54013480, mode=<value optimized out>,
block=APR_BLOCK_READ, readbytes=7) at core_filters.c:235
#5  0x00007f1a79741f19 in logio_in_filter (f=<value optimized out>, bb=0x7f1a54013480, mode=<value optimized out>,
block=<value optimized out>, readbytes=<value optimized out>) at mod_logio.c:165
#6  0x00007f1a75e48339 in bio_filter_in_read (bio=0x7f1a540143f0, in=0x7f1a54019ce0 "", inlen=7) at ssl_engine_io.c:494
#7  0x00007f1a758bf309 in BIO_read (b=0x7f1a540143f0, out=0x7f1a54019ce0, outl=7) at bio_lib.c:212
#8  0x00007f1a75bf7873 in ssl23_read_bytes (s=0x7f1a54010a30, n=7) at s23_pkt.c:105
#9  0x00007f1a75bf67be in ssl23_get_server_hello (s=0x7f1a54010a30) at s23_clnt.c:595
#10 ssl23_connect (s=0x7f1a54010a30) at s23_clnt.c:226
#11 0x00007f1a75e48b41 in ssl_io_filter_handshake (filter_ctx=0x7f1a5400f288) at ssl_engine_io.c:1162
#12 0x00007f1a75e49a6b in ssl_io_filter_output (f=0x7f1a5400f2e0, bb=0x7f1a54008bf8) at ssl_engine_io.c:1702
#13 0x00007f1a75e474c5 in ssl_io_filter_coalesce (f=0x7f1a5400f2b8, bb=0x7f1a54008bf8) at ssl_engine_io.c:1670
#14 0x00007f1a77ece767 in ap_proxy_pass_brigade (bucket_alloc=<value optimized out>, r=0x7f1a54004980, p_conn=0x1ac1210,
origin=0x7f1a5400ada0, bb=0x7f1a54008bf8, flush=<value optimized out>)
    at proxy_util.c:3640
#15 0x00007f1a778a99ee in stream_reqbody_cl (r=0x7f1a54004980, worker=<value optimized out>, conf=0x1a3fd50,
url=0x7f1a54006806 "https://localhost:8532/", proxyname=0x0, proxyport=35832) at mod_proxy_http.c:521
#16 ap_proxy_http_request (r=0x7f1a54004980, worker=<value optimized out>, conf=0x1a3fd50, url=0x7f1a54006806
"https://localhost:8532/", proxyname=0x0, proxyport=35832) at mod_proxy_http.c:1007
#17 proxy_http_handler (r=0x7f1a54004980, worker=<value optimized out>, conf=0x1a3fd50, url=0x7f1a54006806
"https://localhost:8532/", proxyname=0x0, proxyport=35832) at mod_proxy_http.c:2180
#18 0x00007f1a77ec1002 in proxy_run_scheme_handler (r=0x7f1a54004980, worker=0x1a3ff58, conf=0x1a3fd50,
url=0x7f1a54006806 "https://localhost:8532/", proxyhost=0x0, proxyport=0) at mod_proxy.c:2938
#19 0x00007f1a77ec6793 in proxy_handler (r=0x7f1a54004980) at mod_proxy.c:1170
#20 0x0000000000459f10 in ap_run_handler (r=0x7f1a54004980) at config.c:170
#21 0x000000000045e0de in ap_invoke_handler (r=0x7f1a54004980) at config.c:433
#22 0x00000000004722aa in ap_process_async_request (r=0x7f1a54004980) at http_request.c:338
#23 0x000000000046e710 in ap_process_http_async_connection (c=0x7f1a68029578) at http_core.c:154
#24 ap_process_http_connection (c=0x7f1a68029578) at http_core.c:248
#25 0x0000000000464f80 in ap_run_process_connection (c=0x7f1a68029578) at connection.c:41
#26 0x00007f1a73a30910 in process_socket (thd=0x18da030, dummy=<value optimized out>) at event.c:1137
#27 worker_thread (thd=0x18da030, dummy=<value optimized out>) at event.c:2229
#28 0x00007f1a81c6e298 in dummy_worker (opaque=0x18da030) at threadproc/unix/thread.c:145
#29 0x00007f1a815d4a51 in start_thread (arg=0x7f1a6e782700) at pthread_create.c:301
#30 0x00007f1a810f993d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:115


And there is a HEAP bucket in the buffered_bb of the core output filter. I would guess that it is the Client Hello:

dump of brigade 0x7f1a54013db8
   | type     (address)    | length | data addr  | contents               | rc
--------------------------------------------------------------------------------
 0 | HEAP     (0x7f1a5400ca78) | 273    | 0x7f1a5400cb18 | [~~~~~~~~~~~V~2~NO...] | 1

Content is:

x/70x 0x7f1a5400cb18
0x7f1a5400cb18: 0x00000001      0x00000000      0x540280d8      0x00007f1a
0x7f1a5400cb28: 0x00000111      0x00000000      0x0042b5a0      0x00000000
0x7f1a5400cb38: 0x00000000      0x00000000      0x00000000      0x00000000
0x7f1a5400cb48: 0x00000000      0x00000000      0x00000000      0x00000000
0x7f1a5400cb58: 0x00000000      0x00000000      0x00000000      0x00000000
0x7f1a5400cb68: 0x00000000      0x00000000      0x00000000      0x00000000
0x7f1a5400cb78: 0x00000000      0x00000000      0x00000000      0x00000000
0x7f1a5400cb88: 0x00000000      0x00000000      0x00000000      0x00000000
0x7f1a5400cb98: 0x000000a0      0x00000000      0x5400ca38      0x00007f1a
0x7f1a5400cba8: 0x5400ca10      0x00007f1a      0x00000000      0x00000000
0x7f1a5400cbb8: 0x54013e10      0x00007f1a      0x54013e10      0x00007f1a
0x7f1a5400cbc8: 0x81e7eec0      0x00007f1a      0xffffffff      0xffffffff
0x7f1a5400cbd8: 0xffffffff      0xffffffff      0x5400abb0      0x00007f1a
0x7f1a5400cbe8: 0x0042b5a0      0x00000000      0x5400ca38      0x00007f1a
0x7f1a5400cbf8: 0x00016411      0x00000000      0x00000000      0x00000000
0x7f1a5400cc08: 0x00000000      0x00000000      0x00000000      0x00000000
0x7f1a5400cc18: 0x00000000      0x00000000      0x00000000      0x00000000
0x7f1a5400cc28: 0x00000000      0x00000000



Looks like as neither ssl23_client_hello nor ssl23_write_bytes cause BIO_flush to be called.


Regards

Rüdiger

From dev-return-83992-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org  Wed Sep 30 21:26:44 2015
Return-Path: <dev-return-83992-apmail-httpd-dev-archive=httpd.apache.org@httpd.apache.org>
X-Original-To: apmail-httpd-dev-archive@www.apache.org
Delivered-To: apmail-httpd-dev-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 85CC418943
	for <apmail-httpd-dev-archive@www.apache.org>; Wed, 30 Sep 2015 21:26:44 +0000 (UTC)
Received: (qmail 90171 invoked by uid 500); 30 Sep 2015 21:26:43 -0000
Delivered-To: apmail-httpd-dev-archive@httpd.apache.org
Received: (qmail 90076 invoked by uid 500); 30 Sep 2015 21:26:43 -0000
Mailing-List: contact dev-help@httpd.apache.org; run by ezmlm
Precedence: bulk
Reply-To: dev@httpd.apache.org
list-help: <mailto:dev-help@httpd.apache.org>
list-unsubscribe: <mailto:dev-unsubscribe@httpd.apache.org>
List-Post: <mailto:dev@httpd.apache.org>
List-Id: <dev.httpd.apache.org>
Delivered-To: mailing list dev@httpd.apache.org
Received: (qmail 90066 invoked by uid 99); 30 Sep 2015 21:26:43 -0000
Received: from Unknown (HELO spamd3-us-west.apache.org) (209.188.14.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 30 Sep 2015 21:26:43 +0000
Received: from localhost (localhost [127.0.0.1])
	by spamd3-us-west.apache.org (ASF Mail Server at spamd3-us-west.apache.org) with ESMTP id 53E48180986
	for <dev@httpd.apache.org>; Wed, 30 Sep 2015 21:26:43 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at spamd3-us-west.apache.org
X-Spam-Flag: NO
X-Spam-Score: -0.007
X-Spam-Level:
X-Spam-Status: No, score=-0.007 tagged_above=-999 required=6.31
	tests=[RP_MATCHES_RCVD=-0.006, SPF_PASS=-0.001] autolearn=disabled
Received: from mx1-us-east.apache.org ([10.40.0.8])
	by localhost (spamd3-us-west.apache.org [10.40.0.10]) (amavisd-new, port 10024)
	with ESMTP id dH2yqz9_u5Dy for <dev@httpd.apache.org>;
	Wed, 30 Sep 2015 21:26:41 +0000 (UTC)
Received: from mailserver.kippdata.de (capsella.kippdata.de [195.227.30.149])
	by mx1-us-east.apache.org (ASF Mail Server at mx1-us-east.apache.org) with ESMTP id 8BE1B439BB
	for <dev@httpd.apache.org>; Wed, 30 Sep 2015 21:26:41 +0000 (UTC)
Received: from [10.0.110.6] ([192.168.2.104])
	by mailserver.kippdata.de (8.13.5/8.13.5) with ESMTP id t8ULQYwS005011
	for <dev@httpd.apache.org>; Wed, 30 Sep 2015 23:26:34 +0200 (CEST)
To: "dev@httpd.apache.org" <dev@httpd.apache.org>
From: Rainer Jung <rainer.jung@kippdata.de>
Subject: Supporting "SSL:" in the expression parser via mod_ssl
Message-ID: <560C5386.1030700@kippdata.de>
Date: Wed, 30 Sep 2015 23:26:30 +0200
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101
 Thunderbird/38.2.0
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8; format=flowed
Content-Transfer-Encoding: 7bit

I noticed that currently the expression parser in 2.4/trunk does not 
support the SSL:VARIABLE lookups that mod_rewrite supports.

The expression parser uses ":" as an alternative function call syntax, 
so HTTP:VARIABLE is the same as HTTP(VARIABLE) which in turn executes 
http(VARIABLE). The same is true for ENV:VARIABLE which maps to 
env(VARIABLE) etc.

We already do support the syntax SSL_VARIABLE to look up SSL variables, 
because mod_ssl registers in the expression parser for variables whose 
name starts with "SSL_". But mod_ssl does not register for a function 
named SSL (or ssl), so the SSL: notation does not work.

Is that just an omission, or was that intentional? If not intentional, I 
would apply the following (yet untested) simple patch to trunk mod_ssl 
and propose for backport. It registers the SSL (and ssl) function in the 
expression parser:

Index: modules/ssl/ssl_engine_vars.c
===================================================================
--- modules/ssl/ssl_engine_vars.c       (revision 1706155)
+++ modules/ssl/ssl_engine_vars.c       (working copy)
@@ -149,6 +149,15 @@
      return sslconn ? ssl_var_lookup_ssl(ctx->p, ctx->c, ctx->r, var) : 
NULL;
  }

+static const char *expr_func_fn(ap_expr_eval_ctx_t *ctx, const void *data,
+                                const char *arg)
+{
+    char *var = (char *)arg;
+    SSLConnRec *sslconn = myConnConfig(ctx->c);
+
+    return (var && sslconn) ? ssl_var_lookup_ssl(ctx->p, ctx->c, 
ctx->r, var) : NULL;
+}
+
  static int ssl_expr_lookup(ap_expr_lookup_parms *parms)
  {
      switch (parms->type) {
@@ -163,6 +172,15 @@
              return OK;
          }
          break;
+    case AP_EXPR_FUNC_STRING:
+        /* Function SSL() is implemented by us.
+         */
+        if (strcEQ(parms->name, "SSL")) {
+            *parms->func = expr_func_fn;
+            *parms->data = NULL;
+            return OK;
+        }
+        break;
      case AP_EXPR_FUNC_LIST:
          if (strcEQ(parms->name, "PeerExtList")) {
              *parms->func = expr_peer_ext_list_fn;


Regards,

Rainer

